[{"tags": ["ios", "objective-c", "xcode", "uinavigationcontroller"], "comments": [{"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541629329, "post_id": 53198693, "comment_id": 93286104, "body": "did you implement the method inside the vc or the navigation subclass ??"}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541629480, "post_id": 53198693, "comment_id": 93286148, "body": "I implemented it in my Navigator-class which is the class I set as &#39;class&#39; in Xcode in my <code>UINavigationController</code>"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541629533, "post_id": 53198693, "comment_id": 93286171, "body": "in <b>awakeFromNib</b> set <b>self.delegate = self</b> ???"}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541629863, "post_id": 53198693, "comment_id": 93286294, "body": "@Sh_Khan where do I get awakeFromNib?"}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 1, "creation_date": 1541631237, "post_id": 53198693, "comment_id": 93286785, "body": "@Sh_Khan please add your answer again. this solved my issue. Thank you very much."}], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": -1, "last_activity_date": 1541630029, "creation_date": 1541630029, "answer_id": 53198917, "question_id": 53198693, "link": "https://stackoverflow.com/questions/53198693/uinavigationcontroller-navigationcontrollerwillshowviewcontrolleranimated-ne/53198917#53198917", "title": "UINavigationController: navigationController:willShowViewController:animated: never called", "body": "<p>You can try</p>\n\n<pre><code>-(void)awakeFromNib {\n  [super awakeFromNib];\n  self.delegate = self;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@interface Navigatior:UINavigationcontroller&lt;UINavigationControllerDelegate&gt;\n</code></pre>\n"}], "owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 53198917, "answer_count": 1, "score": 0, "last_activity_date": 1541632404, "creation_date": 1541628936, "last_edit_date": 1541632404, "question_id": 53198693, "link": "https://stackoverflow.com/questions/53198693/uinavigationcontroller-navigationcontrollerwillshowviewcontrolleranimated-ne", "title": "UINavigationController: navigationController:willShowViewController:animated: never called", "body": "<p>I am using a <code>UINavigationController</code> in my storyBoard which is set to be my initialViewController. I set in Xcode <code>Navigator</code> as my class and created a class named Navigator.</p>\n\n<p>There I implement <code>UINavigationControllerDelegate</code> but the method <a href=\"https://developer.apple.com/documentation/uikit/uinavigationcontrollerdelegate/1621878-navigationcontroller?language=objc\" rel=\"nofollow noreferrer\"><code>navigationController:willShowViewController:animated:</code></a> is never called. </p>\n\n<p>Do I need to do something else? Do I need to call <code>setDelegate</code>? because this didn't work for me.</p>\n\n<p>Any advice?</p>\n"}, {"tags": ["ios", "objective-c", "uimenucontroller"], "answers": [{"tags": [], "owner": {"reputation": 1175, "user_id": 3517600, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/PEbMv.jpg?s=128&g=1", "display_name": "MichaelGofron", "link": "https://stackoverflow.com/users/3517600/michaelgofron"}, "is_accepted": false, "score": 0, "last_activity_date": 1541629872, "creation_date": 1541629872, "answer_id": 53198879, "question_id": 53198670, "link": "https://stackoverflow.com/questions/53198670/uimenucontroller-is-not-showing/53198879#53198879", "title": "UIMenuController is not showing", "body": "<p>Figured out the problem. \nIt turns out I needed to also include the field: <code>-(BOOL)canPerformAction</code> in <code>self.viewController</code></p>\n"}, {"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": false, "score": 0, "last_activity_date": 1541632314, "creation_date": 1541632314, "answer_id": 53199303, "question_id": 53198670, "link": "https://stackoverflow.com/questions/53198670/uimenucontroller-is-not-showing/53199303#53199303", "title": "UIMenuController is not showing", "body": "<p>I want  to add an issue that the targetFrame should be:</p>\n\n<p><code>const CGRect targetFrame = commentCell.bounds;</code></p>\n"}], "owner": {"reputation": 1175, "user_id": 3517600, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/PEbMv.jpg?s=128&g=1", "display_name": "MichaelGofron", "link": "https://stackoverflow.com/users/3517600/michaelgofron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541632314, "creation_date": 1541628827, "question_id": 53198670, "link": "https://stackoverflow.com/questions/53198670/uimenucontroller-is-not-showing", "title": "UIMenuController is not showing", "body": "<p>I'm trying to get UIMenuController to display a menu. </p>\n\n<p>Here is the code I have so far: </p>\n\n<pre><code>commentCell.userInteractionEnabled = YES;\n[commentCell becomeFirstResponder];\nUIMenuController *menu = [UIMenuController sharedMenuController];\nif (menu.menuVisible) {\n    return;\n}\nmenu.menuItems = @[[[UIMenuItem alloc] initWithTitle:@\"copy\" action:@selector(log)], [[UIMenuItem alloc] initWithTitle:@\"report\" action:@selector(log)]];\nconst CGRect targetFrame = commentCell.frame;\nconst CGRect convertedFrame = [commentCell convertRect:targetFrame toView:self.viewController.view];\n[menu setTargetRect:convertedFrame inView:self.viewController.view];\n[menu update];\n[menu setMenuVisible:YES animated:YES];\n</code></pre>\n\n<p>Unfortunately, it seems that my menu is not displaying. I tried to follow the guidelines outlined in: <a href=\"https://stackoverflow.com/questions/3112925/uimenucontroller-not-showing-up\">UIMenuController not showing up</a> but I've already tried all the suggestions including making my view implement <code>canBecomeFirstResponder</code> and setting <code>userInteractionEnabled</code> to <code>YES</code>. Any ideas what might be the issue or how I can debug further?  </p>\n"}, {"tags": ["objective-c", "xcode", "cocoa", "document-based"], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 2, "creation_date": 1541616044, "post_id": 53195104, "comment_id": 93280102, "body": "SO is no code writing service. What is the problem with accessing a property?"}, {"owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "edited": false, "score": 0, "creation_date": 1541618547, "post_id": 53195104, "comment_id": 93281218, "body": "I believe, I asked question with obvious answer... I can access <code>document</code> property, but I don&#39;t know how to access it&#39;s properties. I am trying to access it as usual <code>[self.document getProperty]</code> or <code>self.document.property</code> but it does not work, I am really confused with this document based app and apple documentation confuses me even more.."}, {"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 1, "creation_date": 1541622899, "post_id": 53195104, "comment_id": 93283285, "body": "You&#39;ll need a cast to use dot syntax, like <code>((Document *)self.document).property</code>. You used a similar cast (to <code>ViewController *</code>) in the code you posted. Try logging <code>self.document</code>. Is it the correct class?"}, {"owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "edited": false, "score": 0, "creation_date": 1541754412, "post_id": 53195104, "comment_id": 93332217, "body": "It is correct class, casting worked like a charm! Thank you!"}], "tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 4, "last_activity_date": 1541613454, "creation_date": 1541613454, "answer_id": 53195104, "question_id": 53194930, "link": "https://stackoverflow.com/questions/53194930/accessing-nsdocument-from-nswindowcontroller-subclass/53195104#53195104", "title": "Accessing NSDocument from NSWindowController subclass?", "body": "<p><code>NSWindowController</code> has a <code>document</code> property. If everything is hooked up properly, that property will point at the <code>NSDocument</code> object that owns the <code>NSWindowController</code>.</p>\n"}], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 53195104, "answer_count": 1, "score": 0, "last_activity_date": 1553947350, "creation_date": 1541612691, "last_edit_date": 1553947350, "question_id": 53194930, "link": "https://stackoverflow.com/questions/53194930/accessing-nsdocument-from-nswindowcontroller-subclass", "title": "Accessing NSDocument from NSWindowController subclass?", "body": "<p>I am creating simple document based app. So far I have implemented NSDocument subclass, which is <code>Document</code> and NSWindowController subclass, which is <code>ToolbarWindowController</code>. ToolbarWindowController controlls the toolbar, which has sliders to modify user's opened image. </p>\n\n<p>Where I am having issue right now is applying filters (modifying image) on opened image: I can't figure out how to use opened image as source in <code>ToolbarWindowController</code>.</p>\n\n<p>F.e. when I open image in <code>Document</code> I can set it as <code>ViewController</code> imageView, in <code>makeWindowControllers</code>:</p>\n\n<pre><code>- (BOOL)readFromData:(NSData *)data ofType:(NSString *)typeName error:(NSError **)outError {\n    image = [[NSImage alloc] initWithData:data];\n    return YES;\n}\n- (void)makeWindowControllers {\n    NSStoryboard* const storyboard = [NSStoryboard storyboardWithName:@\"Main\" bundle:nil];\n    NSWindowController* const windowController = [storyboard instantiateControllerWithIdentifier:@\"Document Window Controller\"];\n    [[((ViewController *)[windowController contentViewController]) imageView] setImage:image];\n\n    [self addWindowController: windowController];\n}\n</code></pre>\n\n<p>Can I somehow access my <code>ToolbarWindowController</code> properties/variables and create a <code>NSImage</code> property there to modify there opened image? Or can I access <code>Document</code> properties to achieve the same thing? Does it even work that way?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541623394, "post_id": 53196115, "comment_id": 93283504, "body": "Thanks. I glanced through this one and changed the code accordingly but that didn&#39;t work."}], "tags": [], "owner": {"reputation": 2702, "user_id": 3237899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B6HjX.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3237899/harsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1541617466, "creation_date": 1541617466, "answer_id": 53196115, "question_id": 53194001, "link": "https://stackoverflow.com/questions/53194001/how-to-load-pdf-using-pdfkit-for-ipad/53196115#53196115", "title": "How to load pdf using PDFKit for iPad", "body": "<p>I found a very good article which explains in details how to use the <code>PDFView</code>. <a href=\"https://medium.com/mindorks/rendering-pdf-documents-using-pdfkit-9ac4944a6dfb\" rel=\"nofollow noreferrer\">Tutorial</a>.</p>\n\n<p>Some code in Swift. I know you asked it in Objective-C but since you are into iOS, you should be able to understand the context. </p>\n\n<pre><code>    if let path = Bundle.main.path(forResource: \"MFI_2018_01\", ofType: \"pdf\") {\n        let url = URL(fileURLWithPath: path)\n        if let pdfDocument = PDFDocument(url: url) {\n            pdfView.displayMode = .singlePageContinuous\n            pdfView.autoScales = true\n            // pdfView.displayDirection = .horizontal\n            pdfView.document = pdfDocument\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541687186, "post_id": 53206491, "comment_id": 93307403, "body": "Hi Ivion,  Thanks for your reply. I am new to Objective-C. I use WLanguage(Windev Mobile) to build iOS apps which generated Objective-C code. The language I use doesn&#39;t have support for PDF so trying to run Objective-C code from WLanguage code. I could see the PDF is correct when I debug but somewhere it is not adding it to view."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "reply_to_user": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541687439, "post_id": 53206491, "comment_id": 93307588, "body": "If you are using PDF functions you have to add &#39;PDFKit.framework&#39; In Xcode you can add with linked Frameworks. I don&#39;t know how to add it using WLanguage."}, {"owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541688027, "post_id": 53206491, "comment_id": 93307951, "body": "Correct. I added that in Xcode. Didn&#39;t compile/build when it wasn&#39;t there. Probably something related to ViewController which I don&#39;t see in WLanguage."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "reply_to_user": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541689982, "post_id": 53206491, "comment_id": 93309147, "body": "Could You set at breakpoint in Xcode in the beginning of your code and check if tempview is perhaps nil."}, {"owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541690203, "post_id": 53206491, "comment_id": 93309275, "body": "This is the error I get. -[CFenPrincipaleViewController addSubview:]: unrecognized selector sent to instance 0x7fb4884f5900 . currentView if i open in debugger show me my View. tmpView when i try to open in debugger says could not load data quick look data for tmpView"}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "reply_to_user": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541690396, "post_id": 53206491, "comment_id": 93309383, "body": "Try to change it to  [[tmpView view] addSubview:pdfView]; I think you currentView is of type UIViewcontroller not UIView."}, {"owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "edited": false, "score": 0, "creation_date": 1541690801, "post_id": 53206491, "comment_id": 93309646, "body": "Hi Ivion, Thanks that did work, Just need to fix few things. Like the pdf displays only partially as I am using a rectangle. My pdf has like 30-40 pages."}], "tags": [], "owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "is_accepted": true, "score": 1, "last_activity_date": 1541676689, "last_edit_date": 1541676689, "creation_date": 1541675196, "answer_id": 53206491, "question_id": 53194001, "link": "https://stackoverflow.com/questions/53194001/how-to-load-pdf-using-pdfkit-for-ipad/53206491#53206491", "title": "How to load pdf using PDFKit for iPad", "body": "<p>High Aan,</p>\n\n<p>tested it on myself with the following Code:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n\n    UIView *tmpView = [self view];\n\n    NSData *data = [NSData dataWithContentsOfFile: @\"local File on disk.pdf\"];\n\n    PDFDocument *pdfDocument = [[PDFDocument alloc] initWithData:data];\n\n    PDFView *pdfView = [[PDFView alloc] initWithFrame: CGRectMake(0, 0, 1000, 1000)];\n    pdfView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleTopMargin|UIViewAutoresizingFlexibleBottomMargin;\n    pdfView.autoScales = NO ;\n    pdfView.displayDirection = kPDFDisplayDirectionHorizontal;\n    pdfView.displayMode = kPDFDisplaySinglePageContinuous;\n    pdfView.displaysRTL = YES ;\n    [pdfView setDisplaysPageBreaks:YES];\n    [pdfView setDisplayBox:kPDFDisplayBoxTrimBox];\n    pdfView.document = pdfDocument;\n\n    [tmpView addSubview:pdfView];\n\n}\n</code></pre>\n\n<p>and it display the PDF without Problems.</p>\n\n<p>The only thing I found is </p>\n\n<pre><code>UIView tmpView = (UIView)currentView;\n</code></pre>\n\n<p>you allocated tmpview statically, it should be.</p>\n\n<pre><code>UIView *tmpView = (UIView *)currentView;\n</code></pre>\n\n<p>Otherwise test if your data is valid Pdf.</p>\n"}], "owner": {"reputation": 21, "user_id": 6091026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a73d20ed3e886985380e3e7bb8a319?s=128&d=identicon&r=PG&f=1", "display_name": "AAN", "link": "https://stackoverflow.com/users/6091026/aan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "accepted_answer_id": 53206491, "answer_count": 2, "score": 0, "last_activity_date": 1541676689, "creation_date": 1541608995, "last_edit_date": 1541610229, "question_id": 53194001, "link": "https://stackoverflow.com/questions/53194001/how-to-load-pdf-using-pdfkit-for-ipad", "title": "How to load pdf using PDFKit for iPad", "body": "<p>I have this piece of code.</p>\n\n<pre><code>LoadPdf(void* currentView,NSData* content,NSString* urlName) {\n    UIView tmpView = (UIView)currentView;\n\n    NSData *data = content;\n\n    PDFDocument *pdfDocument = [[PDFDocument alloc] initWithData:data];\n\n    PDFView *pdfView = [[PDFView alloc] initWithFrame: CGRectMake(0, 0, 1000, 1000)];\n    pdfView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleTopMargin|UIViewAutoresizingFlexibleBottomMargin;\n    pdfView.autoScales = NO ;\n    pdfView.displayDirection = kPDFDisplayDirectionHorizontal;\n    pdfView.displayMode = kPDFDisplaySinglePageContinuous;\n    pdfView.displaysRTL = YES ;\n    [pdfView setDisplaysPageBreaks:YES];\n    [pdfView setDisplayBox:kPDFDisplayBoxTrimBox];\n    pdfView.document = pdfDocument;\n\n    [tmpView addSubview:pdfView];\n}\n</code></pre>\n\n<p>But it is not loading the PDF in the view. Also if I CGRectMake the entire PDF is not displayed in the debugger. How can I initialize PDFView and load it?</p>\n"}, {"tags": ["ios", "objective-c", "swizzling", "method-swizzling"], "comments": [{"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541591577, "post_id": 53188675, "comment_id": 93266790, "body": "You commented out the method call and the method is not called anymore - what else did you expect exactly?"}, {"owner": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541593711, "post_id": 53188675, "comment_id": 93267869, "body": "@mag_zbc I commented the super call, what does the swizzled method that replaces the current one have to do with the super?"}], "answers": [{"comments": [{"owner": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "edited": false, "score": 0, "creation_date": 1541593915, "post_id": 53189296, "comment_id": 93267973, "body": "I think I got it... I was in VC1 which inherited UIViewController, but I only replaced the viewDidAppear in all UIViewController, but in VC1 it overrides the method making my swizzling unfunctional, unless I call super, correct?"}, {"owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "reply_to_user": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "edited": false, "score": 0, "creation_date": 1541594023, "post_id": 53189296, "comment_id": 93268015, "body": "Yes the method you swizzled is in <code>UIViewController</code> (parent) ;)"}, {"owner": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "edited": false, "score": 0, "creation_date": 1541594419, "post_id": 53189296, "comment_id": 93268199, "body": "Many thanks... it makes sense now :) but is there any way to be sure that in subclasses my swizzle method will get call even if the super is not called? :)"}, {"owner": {"reputation": 8116, "user_id": 909655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d8d9d24942b0fe339ecedeb2c4c5e7?s=128&d=identicon&r=PG", "display_name": "Mats", "link": "https://stackoverflow.com/users/909655/mats"}, "reply_to_user": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "edited": false, "score": 1, "creation_date": 1541601663, "post_id": 53189296, "comment_id": 93272060, "body": "@Catalin It might be possible to swizzle all classes that are subclasses of UIViewController in the output of <code>objc_getClassList</code>. But there are a few edge cases for doing it that way."}, {"owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "reply_to_user": {"reputation": 8116, "user_id": 909655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d8d9d24942b0fe339ecedeb2c4c5e7?s=128&d=identicon&r=PG", "display_name": "Mats", "link": "https://stackoverflow.com/users/909655/mats"}, "edited": false, "score": 0, "creation_date": 1541601774, "post_id": 53189296, "comment_id": 93272125, "body": "Thank @Mats I almost forgot that \ud83e\udd26\ud83c\udffb\u200d\u2642\ufe0f"}], "tags": [], "owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "is_accepted": true, "score": 3, "last_activity_date": 1541592939, "creation_date": 1541592939, "answer_id": 53189296, "question_id": 53188675, "link": "https://stackoverflow.com/questions/53188675/ios-swizzle-better-understanding/53189296#53189296", "title": "ios swizzle better understanding", "body": "<p>Method swizzling is used for overriding original methods with the custom one at runtime. So you can exchange almost any method, (including the private apple implemented ones) with the custom one you wrote.</p>\n\n<p>So imagine there is class named <code>Parent</code> with a method named <code>A</code> and you exchange it with <code>B</code> somewhere before it been called like inside <code>load</code> method. From now on every sub class off 'Parent' will use <code>B</code> except the original 'A' method. But what if you override <code>A</code> in a child class? As Inheritance definition, objects will call their <strong>own methods</strong> and if they haven't implement it, they use their <strong>suprclass's method</strong>. So what if you want the <code>parent implementation</code>? Thats where <code>super</code> comes in.</p>\n\n<p><strong>Conclusion</strong></p>\n\n<ul>\n<li>If you override a method, the super class (or the custom exchanged method in superclass) method will not getting called</li>\n<li>If you want the parent implementation, you have to use <strong>super</strong> keyword to access it</li>\n</ul>\n\n<p>And in this questions case:</p>\n\n<ul>\n<li>Overriding a method in sub class without <strong>calling super</strong> means you just override swizzled method and it will not getting called.</li>\n</ul>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 1621, "user_id": 576152, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ae97d511516347f6249717dc96c9a3d?s=128&d=identicon&r=PG", "display_name": "Catalin", "link": "https://stackoverflow.com/users/576152/catalin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 2, "accepted_answer_id": 53189296, "answer_count": 1, "score": 3, "last_activity_date": 1541593588, "creation_date": 1541590452, "last_edit_date": 1541593588, "question_id": 53188675, "link": "https://stackoverflow.com/questions/53188675/ios-swizzle-better-understanding", "title": "ios swizzle better understanding", "body": "<p>I have a UIViewController with this code:</p>\n\n<pre><code>- (void)viewDidAppear:(BOOL)animated\n{\n    [super viewDidAppear:animated];\n    NSLog(@\"CLASIC\");\n}\n</code></pre>\n\n<p>And then I have a framework with a UIViewController category that does swizzling in this manner:</p>\n\n<pre><code>+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n\n        SEL viewWillAppearSelector = @selector(viewDidAppear:);\n        SEL viewWillAppearLoggerSelector = @selector(logged_viewDidAppear:);\n        Method originalMethod = class_getInstanceMethod(self, viewWillAppearSelector);\n        Method extendedMethod = class_getInstanceMethod(self, viewWillAppearLoggerSelector);\n        method_exchangeImplementations(originalMethod, extendedMethod);\n\n    });\n}\n\n- (void)logged_viewDidAppear:(BOOL)animated\n{\n    [self logged_viewDidAppear:animated];\n\n    NSLog(@\"SWIZZLED\");\n}\n</code></pre>\n\n<p>The output is SWIZZLED and then CLASIC.</p>\n\n<p>Now my question is: if in my viewcontroller I comment the [super viewDidAppear:animated]; then the swizzled method does not get called anymore; why is that? I understood most of the aspects but it seems this one somehow slipped.</p>\n\n<pre><code>- (void)viewDidAppear:(BOOL)animated\n{\n    // we comment this and this will trigger the swizzled method not being called anymore\n    //[super viewDidAppear:animated];\n    NSLog(@\"CLASIC\");\n}\n\n// ========================\n\n+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n\n        SEL viewWillAppearSelector = @selector(viewDidAppear:);\n        SEL viewWillAppearLoggerSelector = @selector(logged_viewDidAppear:);\n        Method originalMethod = class_getInstanceMethod(self, viewWillAppearSelector);\n        Method extendedMethod = class_getInstanceMethod(self, viewWillAppearLoggerSelector);\n        method_exchangeImplementations(originalMethod, extendedMethod);\n\n    });\n}\n\n- (void)logged_viewDidAppear:(BOOL)animated\n{\n    [self logged_viewDidAppear:animated];\n\n    NSLog(@\"SWIZZLED\");\n}\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "qt", "accessibility"], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 2, "last_activity_date": 1541589684, "creation_date": 1541589684, "answer_id": 53188495, "question_id": 53186576, "link": "https://stackoverflow.com/questions/53186576/how-to-detect-if-the-active-window-has-changed-on-mac-os-x/53188495#53188495", "title": "How to detect if the active window has changed on Mac OS X", "body": "<p>An application sends <code>kAXApplicationActivatedNotification</code> when the application is activated and becomes the front most application. Observe the application's <code>kAXFocusedWindowChangedNotification</code> to observe focused window changes of the application.</p>\n"}], "owner": {"reputation": 379, "user_id": 7771270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9768b57b64496acdbb5438b76c1cad8e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Petrosyan", "link": "https://stackoverflow.com/users/7771270/alex-petrosyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 53188495, "answer_count": 1, "score": 0, "last_activity_date": 1541589684, "creation_date": 1541582653, "question_id": 53186576, "link": "https://stackoverflow.com/questions/53186576/how-to-detect-if-the-active-window-has-changed-on-mac-os-x", "title": "How to detect if the active window has changed on Mac OS X", "body": "<p>I'm trying to create a program that tracks the focused window of an application. I've come across a few partial answers, but I don't think it's working. </p>\n\n<p>This is an Objective C++ part of a Qt application, so it might have to do with the RunLoop, but I'm not certain. </p>\n\n<pre><code>void focusObserverCallback( AXObserverRef observer, AXUIElementRef element,\n                             CFStringRef notificationName, void * contextData )\n{\n    // Never executes.\n    qInfo(\"Focus changed.\");\n}\n\nQString updateActiveWindow (void)\n{\n    NSRunningApplication* app = [[NSWorkspace sharedWorkspace]\n                                  frontmostApplication];\n    pid_t pid = [app processIdentifier];\n    AXUIElementRef appElem = AXUIElementCreateApplication(pid);\n    if (!appElem) {\n      qInfo() &lt;&lt; \"!appElem\";\n      return nullptr;\n    }\n\n    // Get the accessibility element corresponding to the frontmost window\n    // of the frontmost application.\n    CFStringRef appName=nullptr;\n    AXUIElementRef window = nullptr;\n    if (AXUIElementCopyAttributeValue (appElem, kAXTitleAttribute, ((CFTypeRef*)&amp;appName)) !=kAXErrorSuccess){\n        if(appElem)\n         CFRelease(appElem);\n    }\n    focusedAppName=toQString(appName);\n    if (AXUIElementCopyAttributeValue (appElem, kAXFocusedWindowAttribute, (CFTypeRef*)&amp;window) != kAXErrorSuccess) {\n      if(appElem)\n        CFRelease(appElem);\n    }\n\n    AXObserverRef observer = nullptr;\n    if(AXObserverCreate(pid, focusObserverCallback, &amp;observer) !=kAXErrorSuccess){\n        qInfo(\"Failed to register observer\");\n    }\n\n    AXObserverAddNotification(observer, window, kAXApplicationActivatedNotification, nullptr);\n\n    CFRunLoopAddSource([[NSRunLoop currentRunLoop] getCFRunLoop],\n            AXObserverGetRunLoopSource(observer),\n            kCFRunLoopDefaultMode );\n\n    // Finally, get the title of the frontmost window.\n    CFStringRef title = nullptr;\n    if(AXUIElementCopyAttributeValue(window, kAXTitleAttribute, (CFTypeRef*)&amp;title)!=kAXErrorSuccess){\n        qInfo(\"Problem Copying title\");\n    }\n    focusedAppTitle= toQString(title);\n    return toQString(title);\n}\n</code></pre>\n\n<p>What this code does, is it runs once to grab the name and the title of the frontmost application's frontmost window. That part works like a charm. </p>\n\n<p>Problem is, it doesn't register the callback, and it doesn't fire when the window loses focus. I'm completely new to Objective C, so there might be other issues (e.g. Garbage Collection). If you can suggest some changes to those, I'd be doubly obliged. </p>\n"}, {"tags": ["ios", "objective-c", "microphone"], "comments": [{"owner": {"reputation": 1, "user_id": 7981034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c691dfc4421f535e1c040ccca13658?s=128&d=identicon&r=PG&f=1", "display_name": "Sue.F", "link": "https://stackoverflow.com/users/7981034/sue-f"}, "edited": false, "score": 0, "creation_date": 1541579277, "post_id": 53185748, "comment_id": 93260992, "body": "how can i solve this error"}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541682540, "post_id": 53185748, "comment_id": 93304725, "body": "startRecordingWithMicrophoneEnabled:  is deprecated use startCaptureWithHandler:completionHandler: you can see at  <a href=\"https://developer.apple.com/documentation/replaykit/rpscreenrecorder/2867291-startcapturewithhandler?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/replaykit/rpscreenrecorder&zwnj;&#8203;/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 7981034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c691dfc4421f535e1c040ccca13658?s=128&d=identicon&r=PG&f=1", "display_name": "Sue.F", "link": "https://stackoverflow.com/users/7981034/sue-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541582819, "creation_date": 1541579207, "last_edit_date": 1541582819, "question_id": 53185748, "link": "https://stackoverflow.com/questions/53185748/replaykit-returns-rprecordingerrorcontentresize", "title": "rePlaykit returns RPRecordingErrorContentResize", "body": "<p>I am developing for the <code>iphone 7</code>, under the operating system <code>ios12.0</code> I call this method,it returns the following Error:</p>\n\n<pre><code>Error Domain=com.apple.ReplayKit.RPRecordingErrorDomain Code=-5807\n\n- (void)startRecordingWithMicrophoneEnabled:(BOOL)microphoneEnabled handler:(nullable void(^)(NSError * _Nullable error))handler API_DEPRECATED(\"Use microphoneEnabaled property\", ios(9.0, 10.0));\n</code></pre>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541581813, "post_id": 53185424, "comment_id": 93262112, "body": "That seems correct. Now the questions is where is called <code>getData</code>? Do you use Storyboard &amp; Segue? How is presented <code>passdataVC</code>? Do you do a present? a Push?"}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541581859, "post_id": 53185542, "comment_id": 93262133, "body": "Yes you can. You are assuming that the <code>GetDataVC</code> is in a Storyboard. But you can do all by code."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541583045, "post_id": 53185542, "comment_id": 93262755, "body": "As stated in Apple document, <code>init</code> isn&#39;t a designated initializer for <code>UIViewController</code>. Actually, you can use <code>initWithNibName:bundle:</code> but not <code>init</code>."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541583244, "post_id": 53185542, "comment_id": 93262861, "body": "I don&#39;t see an issue with that. <code>initWithNibName:bundle:</code> is usefull when using a Xib (with IBOutlets, etc.), but you should be able to do all programmatically."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541584207, "post_id": 53185542, "comment_id": 93263334, "body": "Ok, you&#39;re right. Now, we have to wait for more detail from OP."}], "tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": false, "score": -1, "last_activity_date": 1541577999, "creation_date": 1541577999, "answer_id": 53185542, "question_id": 53185424, "link": "https://stackoverflow.com/questions/53185424/how-to-retrieve-passed-data-from-another-view-controller-objective-c/53185542#53185542", "title": "How to retrieve passed data from another view controller? - Objective-C", "body": "<p>You can't instantiate a <code>UIViewController</code> that way.</p>\n\n<p>Use the following approach, in which <code>@\"GetDataVC\"</code> is the identifier of the view controller you are going to instantiate:</p>\n\n<pre><code>GetDataVC *passdataVC = (GetDataVC*)[self.storyboard instantiateViewControllerWithIdentifier:@\"GetDataVC\"];\npassdataVC.theData = theData;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20, "user_id": 6298247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7494eb3f26e74d4fdbb4af28dd5622e?s=128&d=identicon&r=PG&f=1", "display_name": "Chenjtc", "link": "https://stackoverflow.com/users/6298247/chenjtc"}, "is_accepted": false, "score": -1, "last_activity_date": 1541578710, "creation_date": 1541578710, "answer_id": 53185668, "question_id": 53185424, "link": "https://stackoverflow.com/questions/53185424/how-to-retrieve-passed-data-from-another-view-controller-objective-c/53185668#53185668", "title": "How to retrieve passed data from another view controller? - Objective-C", "body": "<p>Where you execute the function getData?\nIf you execute getData at viewDidLoad or init or somewhere before you set the data.\nYou can execute the function through a button.\nI think that will deal the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "is_accepted": false, "score": -1, "last_activity_date": 1541578829, "creation_date": 1541578829, "answer_id": 53185687, "question_id": 53185424, "link": "https://stackoverflow.com/questions/53185424/how-to-retrieve-passed-data-from-another-view-controller-objective-c/53185687#53185687", "title": "How to retrieve passed data from another view controller? - Objective-C", "body": "<p>Just implement the setter of <code>theData</code> property.</p>\n\n<p>Paste the code below to your <code>GetDataVC.m</code>.</p>\n\n<pre><code>- (void)setTheData:(NSString *)theData {\n    _theData = theData;\n    NSLog(@\"theData has set: %@\", _theData);\n}\n</code></pre>\n\n<p>refrence: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html\" rel=\"nofollow noreferrer\">Apple Document</a></p>\n"}, {"tags": [], "owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "is_accepted": true, "score": 0, "last_activity_date": 1541743764, "last_edit_date": 1541743764, "creation_date": 1541672875, "answer_id": 53205834, "question_id": 53185424, "link": "https://stackoverflow.com/questions/53185424/how-to-retrieve-passed-data-from-another-view-controller-objective-c/53205834#53205834", "title": "How to retrieve passed data from another view controller? - Objective-C", "body": "<p>I think the application doesn't running to the function <code>- (void) getData</code>, you should call this function at <code>- (void)viewDidLoad</code> or <code>- (void)viewWillAppear</code> or something else like below:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    [self getData];\n}\n-(void)getData {\n    NSLog(@\"%@\", _theData);\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10487217, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fdTVgjYxl5E/AAAAAAAAAAI/AAAAAAAAAEs/dz1Q9tJ4rPU/photo.jpg?sz=128", "display_name": "ironwoman", "link": "https://stackoverflow.com/users/10487217/ironwoman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 53205834, "answer_count": 4, "score": -2, "last_activity_date": 1541743764, "creation_date": 1541577405, "last_edit_date": 1541583188, "question_id": 53185424, "link": "https://stackoverflow.com/questions/53185424/how-to-retrieve-passed-data-from-another-view-controller-objective-c", "title": "How to retrieve passed data from another view controller? - Objective-C", "body": "<p><strong>SendDataVc.m - Sending data from.</strong></p>\n\n<p><strong>GetDataVC.m - Retrieving the data sent from SendDataVc.m</strong></p>\n\n<p><strong>SendDataVC.m:</strong></p>\n\n<pre><code>NSString *theData = @\"Sending data\";\n\nGetDataVC *passdataVC = [[GetDataVC alloc] init];\n\npassdataVC.theData = theData;\n</code></pre>\n\n<p><strong>GetDataVC.h:</strong> </p>\n\n<pre><code>@property (strong, nonatomic) NSString *theData;\n</code></pre>\n\n<p><strong>GetDataVC.m:</strong></p>\n\n<pre><code>-(void) getData\n{\n    NSLog( @\"%@\", _theData);\n}\n</code></pre>\n\n<p>I tried doing this way but I got null instead.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1541574300, "post_id": 53184643, "comment_id": 93259114, "body": "It&#39;s unclear what exact result you want but start by looking at the reference documentation for <code>NSString</code> and also review <a href=\"https://stackoverflow.com/search?q=%5Bobjective-c%5D+nsstring+bytes\">these search results</a>."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1541616329, "post_id": 53184643, "comment_id": 93280218, "body": "You do not want it? Why?"}], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "is_accepted": false, "score": 0, "last_activity_date": 1541579090, "creation_date": 1541579090, "answer_id": 53185728, "question_id": 53184643, "link": "https://stackoverflow.com/questions/53184643/how-can-i-convert-an-ios-objective-c-nsstring-value-to-a-byte-value/53185728#53185728", "title": "How can I convert an iOS (objective-c) NSString value to a byte value?", "body": "<p>You can call <code>-[NSString UTF8String]</code> to change NSString into <code>const char*</code>.</p>\n\n<p>Example: <code>const char *bytes = [Value UTF8String];</code></p>\n\n<p>Reference: <a href=\"https://developer.apple.com/documentation/foundation/nsstring?language=objc\" rel=\"nofollow noreferrer\">Apple Document</a></p>\n"}, {"tags": [], "owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "is_accepted": false, "score": 0, "last_activity_date": 1541579946, "creation_date": 1541579946, "answer_id": 53185916, "question_id": 53184643, "link": "https://stackoverflow.com/questions/53184643/how-can-i-convert-an-ios-objective-c-nsstring-value-to-a-byte-value/53185916#53185916", "title": "How can I convert an iOS (objective-c) NSString value to a byte value?", "body": "<p>It is not clear in what encoding you expect your results to be.\nJava's <code>getBytes()</code> returns String bytes using default encoding which is platform dependant, so instead use <code>getBytes(charsetname)</code> providing charset explicitly. You should communicate to use a specific encoding to avoid interoperability issues.</p>\n\n<p>On iOS side, you can use <code>-[NSStrings dataUsingEncoding:]</code></p>\n\n<p>e.g.</p>\n\n<pre><code>NSData *bytes = [@\"Hello\" dataUsingEncoding:NSUTF8StringEncoding];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "is_accepted": false, "score": 0, "last_activity_date": 1541744218, "last_edit_date": 1541744218, "creation_date": 1541673772, "answer_id": 53206060, "question_id": 53184643, "link": "https://stackoverflow.com/questions/53184643/how-can-i-convert-an-ios-objective-c-nsstring-value-to-a-byte-value/53206060#53206060", "title": "How can I convert an iOS (objective-c) NSString value to a byte value?", "body": "<p>First, use <code>UTF8String</code> translate to <code>unsigned long</code>, then use <code>0xff &amp;</code> translate to Byte, as below:</p>\n\n<pre><code>NSString *str =@\"xxx\";\nunsigned long red = strtoul([str UTF8String], 0, 16);\nByte bt = (Byte)(0xff &amp; red);\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10550896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23c30b6a0003b469a0bf26daf0d17ffd?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/10550896/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1541744218, "creation_date": 1541572793, "last_edit_date": 1541578827, "question_id": 53184643, "link": "https://stackoverflow.com/questions/53184643/how-can-i-convert-an-ios-objective-c-nsstring-value-to-a-byte-value", "title": "How can I convert an iOS (objective-c) NSString value to a byte value?", "body": "<p>How can I convert an iOS (objective-c) NSString value to a byte value?</p>\n\n<p>JAVA uses <code>.getBytes()</code>, but I do not know how to do it on iOS.</p>\n\n<pre><code>uint8_t *dbytes = (uint8_t *)[Value bytes];\n</code></pre>\n\n<p>I expected to be something like this\u2026 but I do not want it.</p>\n"}, {"tags": ["objective-c", "macos", "memory-leaks", "nsmenu"], "comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1541559124, "post_id": 53182641, "comment_id": 93255986, "body": "Is there an override of <code>sendEvent(_:)</code>? Or was that just by way of explaining why you&#39;re subclassing <code>NSApplication</code>? What are the backtraces of those three allocation events?"}, {"owner": {"reputation": 31, "user_id": 10616114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c785b17fd05eeb3c525be41b8b40989?s=128&d=identicon&r=PG&f=1", "display_name": "lupdidup", "link": "https://stackoverflow.com/users/10616114/lupdidup"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1541591633, "post_id": 53182641, "comment_id": 93266811, "body": "That was just to explain why I am subclassing it. The backtrace isn&#39;t helpful, pointing to <code>[NSApplication run]</code>. All other calls are system library e.g., <code>-[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:]</code>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541593875, "post_id": 53182641, "comment_id": 93267945, "body": "I tried your code and I don&#39;t see any leaks (macOS 10.13.6)."}, {"owner": {"reputation": 31, "user_id": 10616114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c785b17fd05eeb3c525be41b8b40989?s=128&d=identicon&r=PG&f=1", "display_name": "lupdidup", "link": "https://stackoverflow.com/users/10616114/lupdidup"}, "edited": false, "score": 0, "creation_date": 1541599955, "post_id": 53182641, "comment_id": 93271067, "body": "Same OS version here. Very strange. I&#39;ve deleted all caches and the DerivedData folder, restarted my mac and did everything else the same. Without modifications to the code the leaks disappeared. I will monitor that in the following days. I guess this leaking appears either after using the mac for a long time without reboot (uptime) or if xcode is open for a very long time (mine was running for a few weeks in the background)"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10616114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c785b17fd05eeb3c525be41b8b40989?s=128&d=identicon&r=PG&f=1", "display_name": "lupdidup", "link": "https://stackoverflow.com/users/10616114/lupdidup"}, "is_accepted": true, "score": 0, "last_activity_date": 1543713647, "creation_date": 1543713647, "answer_id": 53576509, "question_id": 53182641, "link": "https://stackoverflow.com/questions/53182641/nsstatusbar-menu-bar-icon-nsmenu-leaking-cfdata/53576509#53576509", "title": "NSStatusBar menu bar icon NSMenu leaking CFData", "body": "<p>So ... after quite a long run it happend again.</p>\n\n<h2>Short answer:</h2>\n\n<p>restart your Mac.</p>\n\n<h2>Long answer:</h2>\n\n<p>As you can see my latest comment is nearly a month ago. Since then I restarted my mac twice and always checked Xcode Profiler before. For those two reboots the Profiler didn't show any leaks. I am not sure when the last reboot took place, roughly two weeks ago. Today I noticed that Profiler is showing the same leaks again.</p>\n\n<p>What did <strong>not</strong> work:</p>\n\n<ul>\n<li>Cleaning the caches and DerivedData folder.</li>\n<li>Quit Xcode and restart it.</li>\n<li>Doing both and any other possible combination of these.</li>\n</ul>\n\n<p>Seems to be a bug with macOS itself. I would create a bugreport but honestly, I wouldn't even know what to write. Reproducability is just by chance :-/<br>\nAlso, it does not depend on a particular project. Used this sample project as reference and kept it without any changes in the last month.</p>\n"}], "owner": {"reputation": 31, "user_id": 10616114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c785b17fd05eeb3c525be41b8b40989?s=128&d=identicon&r=PG&f=1", "display_name": "lupdidup", "link": "https://stackoverflow.com/users/10616114/lupdidup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 53576509, "answer_count": 1, "score": 0, "last_activity_date": 1543713647, "creation_date": 1541555566, "question_id": 53182641, "link": "https://stackoverflow.com/questions/53182641/nsstatusbar-menu-bar-icon-nsmenu-leaking-cfdata", "title": "NSStatusBar menu bar icon NSMenu leaking CFData", "body": "<p>I have a weird data leak and hope someone can explain what is going wrong here. The minimal working example project is as follows:</p>\n\n<ol>\n<li>Create a new Objective-C macOS project (Cocoa-App).</li>\n<li>Delete everything except <code>Info.plist</code> and <code>main.m</code></li>\n<li>In <code>Info.plist</code> do:\n\n<ul>\n<li>Delete the entry <code>Main nib file base name</code>.</li>\n<li>Change <code>Principal class</code> to \"AppHook\".</li>\n<li>Add <code>LSUIElement</code> and set it to <code>YES</code>.</li>\n</ul></li>\n</ol>\n\n<p>Next, change <code>main.m</code> to:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n#import \"AppHook.h\"\n\nint main(int argc, const char * argv[]) {\n    [[AppHook sharedApplication] run];\n    return 0;\n}\n</code></pre>\n\n<p>And add these two new files: <code>AppHook.h</code></p>\n\n<pre><code>#import &lt;Cocoa/Coco a.h&gt;\n\n@interface AppHook : NSApplication &lt;NSApplicationDelegate, NSMenuDelegate&gt;\n@property (strong) NSStatusItem *barItem;\n@end\n</code></pre>\n\n<p>and <code>AppHook.m</code>:</p>\n\n<pre><code>#import \"AppHook.h\"\n\n@implementation AppHook\n- (instancetype)init {\n    self = [super init];\n    self.delegate = self;\n    return self;\n}\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    self.barItem = [NSStatusBar.systemStatusBar statusItemWithLength:NSVariableStatusItemLength];\n    self.barItem.highlightMode = YES;\n    self.barItem.title = @\"yep\";\n    self.barItem.menu = [[NSMenu alloc] initWithTitle:@\"M\"];\n    self.barItem.menu.delegate = self;\n    self.barItem.menu.autoenablesItems = NO;\n}\n- (NSInteger)numberOfItemsInMenu:(NSMenu*)menu {\n    return 1;\n}\n- (BOOL)menu:(NSMenu*)menu updateItem:(NSMenuItem*)item atIndex:(NSInteger)index shouldCancel:(BOOL)shouldCancel {\n    item.title = [NSString stringWithFormat:@\"%@\", [NSDate date]];\n    return YES;\n}\n@end\n</code></pre>\n\n<p>When running this application with Instruments and the Leaks template, I get following CFData leak:</p>\n\n<pre><code>0   Malloc      +1  1   00:03.319.300   AppKit  _DPSNextEvent\n1   CFRetain    +1  2   00:03.319.303   AppKit  CopyCarbonUIElementAttributeValue\n2   CFRelease   -1  1   00:03.319.310   AppKit  _DPSNextEvent\n</code></pre>\n\n<p>This happens every time the status menu is opened and closed. So hitting the menu icon repeatedly will create a bunch of leaks.</p>\n\n<p>Nothing fancy here, just a subclass of <code>NSApplication</code> (I need to override <code>sendEvent(_:)</code>).</p>\n"}, {"tags": ["c", "objective-c", "strtol"], "answers": [{"comments": [{"owner": {"reputation": 12440, "user_id": 688266, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7987473923dcc33913003686350b33f6?s=128&d=identicon&r=PG", "display_name": "Kamilski81", "link": "https://stackoverflow.com/users/688266/kamilski81"}, "edited": false, "score": 0, "creation_date": 1541601651, "post_id": 53182281, "comment_id": 93272054, "body": "haha. Sorry. Comment deleted. My 0 had a line through it, but I see that&#39;s only in code snippets."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1541670794, "post_id": 53182281, "comment_id": 93298598, "body": "<code>strtol()</code> is being used to parse a hexadecimal number here, the third argument being <code>16</code> overrides the text starting with the character <code>0</code> meaning octal. So the flag is any single hex digit."}], "tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": true, "score": 1, "last_activity_date": 1541679482, "last_edit_date": 1541679482, "creation_date": 1541552160, "answer_id": 53182281, "question_id": 53182074, "link": "https://stackoverflow.com/questions/53182074/objective-c-why-is-strtol-method-used-in-this-code-i-inherited/53182281#53182281", "title": "Objective-c: Why is strtol method used in this code I inherited?", "body": "<p>To 1:</p>\n\n<p>The 0 at the end is a '\\0' (both value of zero) at the end, which means \"string ends here\". You have to put it at the end to end the string.</p>\n\n<p>The '0' (letter 0) at the begin signals a octal value (not hexadecimal, that would be \"0x\") for <code>strtol()</code>. But as correctly mentioned by CRD (see comments), it is overriden here by the third arg passed to <code>strtol()</code>. So up to here you have a two-letter string with 0 the first character and the hexadecimal representation of the flags as the second character.</p>\n\n<p>The reason for this is probably, that flags contains a digit from '0' to 'f'\u2081\u2086/'F'\u2081\u2086 (0 to 15\u2081\u2080).</p>\n\n<p>To 2:</p>\n\n<p>Since the values that can outcome from the conversion are in the range [0\u202615] the long value will have one of this values. You can store it in a single byte and do not need a whole long. However, <code>strtol()</code> always returns a long.</p>\n\n<p>To 3:</p>\n\n<p>Yes, it is a conversion from a string containing a number into a number. I.e. the <em>string</em> \"06\" will be converted to the number 6.</p>\n"}, {"comments": [{"owner": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1541680023, "post_id": 53206308, "comment_id": 93303424, "body": "I can&#39;t find <code>digittoint</code> in my copy of ISO/IEC 9899:2011. Is it really a C standard library function? Seems to be some BSD extension."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 7421, "user_id": 6782754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99008d0e4c4c15ab03d77938ad9e345b?s=128&d=identicon&r=PG", "display_name": "Gerhardh", "link": "https://stackoverflow.com/users/6782754/gerhardh"}, "edited": false, "score": 0, "creation_date": 1541702439, "post_id": 53206308, "comment_id": 93315929, "body": "@Gerhardh - it is a C library function on Macs since at least <a href=\"http://www.manpagez.com/man/3/isnumber/osx-10.6.php\" rel=\"nofollow noreferrer\">2004</a> - and according to the note at the end of that reference it wasn&#39;t in the C Standard at that time, I haven&#39;t checked more recent Standards. If you wish to stick with code that avoids non-Standardised functions there are many ways to do the conversion, see <a href=\"https://stackoverflow.com/questions/28268753/convert-single-character-hex-number-to-integer-in-c\">Convert single Character (hex number) to Integer in C</a> for both simple and clever methods."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1541674970, "last_edit_date": 1541674970, "creation_date": 1541674630, "answer_id": 53206308, "question_id": 53182074, "link": "https://stackoverflow.com/questions/53182074/objective-c-why-is-strtol-method-used-in-this-code-i-inherited/53206308#53206308", "title": "Objective-c: Why is strtol method used in this code I inherited?", "body": "<p>Amin Negm-Awad has explained what the code does (with a minor confusion over octal), but as to answering your question:</p>\n\n<blockquote>\n  <p>Why is strtol method used in this code I inherited?</p>\n</blockquote>\n\n<p>we can only guess.</p>\n\n<p>It appears that the second character in the string is a hexadecimal digit being used for (up to) 4 flag bits, the method is testing whether the least significant of these is set. A simpler way to do this might be:</p>\n\n<pre><code>- (NSString *)starFromFlags:(NSString *)flags\n{\n   unichar flag = [flags characterAtIndex:1];\n\n   if (flag &gt; 127 || !isxdigit(flag))  // check flag is in ASCII range and hex digit\n      return @\"INVALID\";\n   else\n      return digittoint(flag) &amp; 0x1 ? @\"YES\" : @\"NO\"; // check if flag is odd hex\n}\n</code></pre>\n\n<p><code>isxdigit()</code> and <code>digittoint()</code> are C library functions (just like <code>strtol()</code>), use <code>man isxdigit</code> in the Terminal for the documentation (unless you are using an older version of Xcode which has the documentation for these, Apple unhelpfully removed the docs in the latest versions). The first checks if a character is a hexadecimal digit, the second returns the integer equivalent. The <code>&gt; 127</code> check is minimal protection against non-\"ASCII\" characters in your string.</p>\n\n<blockquote>\n  <p><em>Note: An <code>NSString</code> (presents itself as) as sequence of UTF-16 code units so <code>characterAtIndex:</code> returns a <code>unichar</code> (a 16-bit type) hence the type of <code>flag</code>. However this code doesn't handle <strong>any</strong> unicode string correctly. If your strings are \"ASCII\" it will work.</em></p>\n</blockquote>\n\n<p>The above function actually does more error checking than the original, if you are happy to reduce the error checking you can just use:</p>\n\n<pre><code>- (NSString *)starFromFlags:(NSString *)flags\n{\n   return digittoint([flags characterAtIndex:1]) &amp; 0x1 ? @\"YES\" : @\"NO\";\n}\n</code></pre>\n\n<p>This will return <code>@\"YES\"</code> if and only if the flag is a hex digit and its LSB is set, if it isn't a hex digit or the LSB isn't set it returns <code>@\"NO\"</code>. This works because <code>digittoint()</code> returns <code>0</code> if its argument isn't a hex digit.</p>\n\n<p>So why did the original programmer use <code>strtol()</code>? Maybe they didn't know about <code>digittoint()</code>.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 12440, "user_id": 688266, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7987473923dcc33913003686350b33f6?s=128&d=identicon&r=PG", "display_name": "Kamilski81", "link": "https://stackoverflow.com/users/688266/kamilski81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 53182281, "answer_count": 2, "score": 0, "last_activity_date": 1541679482, "creation_date": 1541550599, "last_edit_date": 1541551527, "question_id": 53182074, "link": "https://stackoverflow.com/questions/53182074/objective-c-why-is-strtol-method-used-in-this-code-i-inherited", "title": "Objective-c: Why is strtol method used in this code I inherited?", "body": "<p>I recently inherited some Objective-C code and am really confused as to what it's actually doing?  </p>\n\n<p>1) I don't understand why the <code>char byte_chars[3]</code> is being populated by a '0' first and then a 0 at the end?  </p>\n\n<p>2) I don't understand why they used <code>unsigned char</code> for the wholeByte, but the put a long into it?  </p>\n\n<p>3) Part of me is a little confused as to what the strtol method does here, it takes 3 byte_chars bytes (which are hexadecimal), and then converts them to a long?</p>\n\n<pre><code>- (NSString *)starFromFlags:(NSString *)flags {\n    unsigned char wholeByte; \n    char byte_chars[3];\n    NSString *star = @\"NO\";\n\n    byte_chars[0] = '0'; \n    byte_chars[1] = [flags characterAtIndex:1]; \n    byte_chars[2] = 0; \n    wholeByte = strtol(byte_chars, NULL, 16); \n\n    if (wholeByte &amp; 0x01) star = @\"YES\";\n\n    return star;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "overlay", "uiimagepickercontroller"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4733648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XiKf2WHQu8o/AAAAAAAAAAI/AAAAAAAAAPo/r6CT82rH6KA/photo.jpg?sz=128", "display_name": "Grigory S Shushakov", "link": "https://stackoverflow.com/users/4733648/grigory-s-shushakov"}, "is_accepted": false, "score": 1, "last_activity_date": 1541594836, "last_edit_date": 1541594836, "creation_date": 1541545947, "answer_id": 53181481, "question_id": 53180657, "link": "https://stackoverflow.com/questions/53180657/draw-overlay-on-camera-ios/53181481#53181481", "title": "Draw overlay on camera iOS", "body": "<p>Use <code>AVCaptureDevice</code>, <code>AVCaptureSession</code>, <code>AVCaptureVideoPreviewLayer</code> and <code>AVCapturePhotoOutput</code>.</p>\n\n<p>Set <code>AVCaptureDeviceInput</code> as input of capture session, and photo output as output of capture session. Initialize <code>AVCaptureVideoPreviewLayer</code> with <code>AVCaptureSession</code> and add to your <code>view.layer</code> thought <code>addSublayer</code>. You can use <code>UIViewController</code> from storyboard or programmatically instantiated controller, add picture of overlay or cornered <code>view.layer.borderWidth</code> or <code>UIBezierPath</code>. Set up controller as <code>AVCapturePhotoCaptureDelegate</code>, add delegate methods. Use <code>capturePhoto(with:delegate:)</code> method. Enjoy.</p>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541594836, "creation_date": 1541541440, "last_edit_date": 1541558137, "question_id": 53180657, "link": "https://stackoverflow.com/questions/53180657/draw-overlay-on-camera-ios", "title": "Draw overlay on camera iOS", "body": "<p>Users need to be able to take photo of their ID. I need to add a blue frame to camera view as a guide. Guide should have same aspect ratio on all device sizes and fit a label with instructions. Can I accomplish this using UIImagePicker? </p>\n\n<p>Here is some incomplete code. Thanks for any help. </p>\n\n<pre><code>UIImageView *overlayImage = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@\"\"]];\nCGRect overlayRect = CGRectMake(0, 0, self.view.frame.size.height - 16, self.view.frame.size.width - 16);\n[overlayImage setFrame:overlayRect];\n[self.imagePicker setCameraOverlayView:overlayImage];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview", "nsmanagedobjectcontext"], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": false, "score": 0, "last_activity_date": 1541538385, "last_edit_date": 1541538385, "creation_date": 1541537930, "answer_id": 53179900, "question_id": 53179522, "link": "https://stackoverflow.com/questions/53179522/tableviewcell-not-displaying-custom-cell-info/53179900#53179900", "title": "TableViewCell not displaying custom cell info", "body": "<p>In your code, \n<code>UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];\n</code>\nThis shows there is a lot of hassles as it is not prepared by yourself. The returned cell may be not as same as the designed one. </p>\n\n<p>An easy quick fix to this is to use a customized UITableViewCell. Then register as the CellIdentifier in tableViewController.  So you can customize in your nib/xib file especially if time is limited. </p>\n"}, {"tags": [], "owner": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "is_accepted": false, "score": 0, "last_activity_date": 1541541442, "last_edit_date": 1541541442, "creation_date": 1541541119, "answer_id": 53180598, "question_id": 53179522, "link": "https://stackoverflow.com/questions/53179522/tableviewcell-not-displaying-custom-cell-info/53180598#53180598", "title": "TableViewCell not displaying custom cell info", "body": "<p>I noticed that your <code>viewDidAppear</code> method does not call:</p>\n\n<pre><code>[super viewDidAppear:animated];\n</code></pre>\n\n<p>This may or may not be the underlying problem, but it will lead to undefined behaviour. Make that the first line in <code>viewDidAppear</code>.</p>\n\n<p>Another tip would be to get the misbehaving table view on the screen, and then use the 'debug view hierarchy' feature in Xcode. It's like a breakpoint, but for views. You'll be able to see exactly what is on the screen and in what ordering.</p>\n"}], "owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541552729, "creation_date": 1541536129, "last_edit_date": 1541552729, "question_id": 53179522, "link": "https://stackoverflow.com/questions/53179522/tableviewcell-not-displaying-custom-cell-info", "title": "TableViewCell not displaying custom cell info", "body": "<p>I have a tableview that gets its information from devices in persistent data store which is updated when something happens.  This update works fine.</p>\n\n<p>Anyway I get the data and load it into my TableDataVainView.plist and have the tableView reload the data.  Trouble is the cell lines are there but no data.</p>\n\n<p>I have checked that the data exists and it is being populated in the cell.textLabel and cell.detailTextLabel but again it doesn't appear.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>- (NSManagedObjectContext *)managedObjectContext\n{\n    NSManagedObjectContext *context = nil;\n    id delegate = [[UIApplication sharedApplication] delegate];\n    if ([delegate performSelector:@selector(managedObjectContext)]) {\n        context = [delegate managedObjectContext];\n    }\n    return context;\n}\n\n- (void)viewDidAppear:(BOOL)animated\n{ // Fetch the devices from persistent data store\n    NSManagedObjectContext *managedObjectContext = [self managedObjectContext];\n    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] initWithEntityName:@\"Cell\"];\n    self.tableDataMainView = [[managedObjectContext executeFetchRequest:fetchRequest error:nil] mutableCopy];\n\n    NSEntityDescription *entity = [NSEntityDescription entityForName:@\"Cell\"\n                                              inManagedObjectContext:self.managedObjectContext];\n    [fetchRequest setEntity:entity];\n\n    NSError *error;\n    NSArray *items = [self.managedObjectContext\n                      executeFetchRequest:fetchRequest error:&amp;error];\n    NSManagedObjectContext *context = [self managedObjectContext];\n\n    for (context in items) {\n        NSLog(@\"Title: %@,\", [context name]);\n    }\n    cellNamesArray = [items valueForKey:@\"image\"];\n    NSLog(@\"cellNameArray;%@\",cellNamesArray);\n\n    [self.tableView reloadData];\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\nself.tableView.tableHeaderView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 20)];\n\nself.tableView.contentInset = UIEdgeInsetsMake(0, -10, 0, 0);\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    NSString *slasha = [documentsDirectory stringByAppendingPathComponent:@\"/Names\"];\n    NSArray * directoryContents = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:slasha error:nil];\n\n    NSString *slashb = [documentsDirectory stringByAppendingPathComponent:@\"/Images\"];\n    NSArray * directoryContentsImages = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:slashb error:nil];\n\n    int pictureCount;\n\n    for (pictureCount = 0; pictureCount &lt; (int)[directoryContentsImages count]; pictureCount++)\n    {\n\n        NSLog(@\"File %d: %@\", (pictureCount + 1), [directoryContentsImages objectAtIndex:pictureCount]);\n    }\n\n    NSLog(@\"count:%d,\",count);\n    NSLog(@\"picturecount:%d,\",pictureCount);\nfor (count = 0; count &lt; (int)[directoryContents count]; count++)\n    {\n\n        NSLog(@\"File %d: %@\", (count + 1), [directoryContents objectAtIndex:count]);\n    }\n\n    NSLog(@\"count:%d,\",count);\n    Names = [NSArray arrayWithArray:directoryContents];\n\n    NSLog(@\"namesArray;%@\",Names);\n    if (count == 0) {\n\n    }\n    else if (count == 1) {\n        nameOne = [Names objectAtIndex:0];\n        NSLog(@\"nameOne;%@\",nameOne);\n        NSArray *coorArray = [nameOne componentsSeparatedByString:@\",\"];\n        NSString *firstString = [coorArray objectAtIndex:0];\n        NSString *secondString = [coorArray objectAtIndex:1];\n        NSLog(@\"firstString;%@\",firstString);\n        NSLog(@\"secondString;%@\",secondString);\n    }\n    else if (count == 2) {\n        nameOne = [Names objectAtIndex:0];\n        NSString *nameTwo =[Names objectAtIndex:1];\n        NSArray *coorArray = [nameOne componentsSeparatedByString:@\",\"];\n        NSString *firstString = [coorArray objectAtIndex:0];\n        NSString *secondString = [coorArray objectAtIndex:1];\n        NSLog(@\"firstString;%@\",firstString);\n        NSLog(@\"secondString;%@\",secondString);\n        NSArray *coorArray2 = [nameTwo componentsSeparatedByString:@\",\"];\n        NSString *firstString2 = [coorArray2 objectAtIndex:0];\n        NSString *secondString2 = [coorArray2 objectAtIndex:1];\n        NSLog(@\"firstString2;%@\",firstString2);\n        NSLog(@\"secondString2;%@\",secondString2);\n    }\n\n    else if (count == 3) {\n        nameOne = [Names objectAtIndex:0];\n        NSString *nameTwo =[Names objectAtIndex:1];\n         NSString *nameThree =[Names objectAtIndex:1];\n        NSArray *coorArray = [nameOne componentsSeparatedByString:@\",\"];\n        NSString *firstString = [coorArray objectAtIndex:0];\n        NSString *secondString = [coorArray objectAtIndex:1];\n        NSLog(@\"firstString;%@\",firstString);\n        NSLog(@\"secondString;%@\",secondString);\n        NSArray *coorArray2 = [nameTwo componentsSeparatedByString:@\",\"];\n        NSString *firstString2 = [coorArray2 objectAtIndex:0];\n        NSString *secondString2 = [coorArray2 objectAtIndex:1];\n        NSLog(@\"firstString2;%@\",firstString2);\n        NSLog(@\"secondString2;%@\",secondString2);\n        NSArray *coorArray3 = [nameThree componentsSeparatedByString:@\",\"];\n        NSString *firstString3 = [coorArray3 objectAtIndex:0];\n        NSString *secondString3 = [coorArray3 objectAtIndex:1];\n        NSLog(@\"firstString3;%@\",firstString3);\n        NSLog(@\"secondString3;%@\",secondString3);\n    }}\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    NSLog(@\"number of sections called\");\n    return 1;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n   NSLog(@\"got row count\");\n\n    return self.tableDataMainView.count;\n}\n-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {\n    NSLog(@\"index path\");\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n   NSLog(@\"Cell\");\n\n    static NSString *CellIdentifier = @\"Cell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];\n\n    // Configure the cell...\n    device = [self.tableDataMainView objectAtIndex:indexPath.row];\n    [cell.textLabel setText:[device valueForKey:@\"name\"]];\n    NSLog(@\"celltextlabel%@\",cell.textLabel.text);\n    NSLog(@\"deviceName???%@\",device);\n    cell.detailTextLabel.frame = CGRectMake(16, 35, 200, 65);\n    [cell.detailTextLabel setText:[device valueForKey:@\"winloss\"]];\n    NSLog(@\"celldetailtextlabel%@\",cell.detailTextLabel.text);\n    NSLog(@\"devicewinloss???%@\",device);\n\n   [cell setBackgroundColor:[UIColor clearColor]];\n    UIView *myBackView = [[UIView alloc] init];\n    myBackView.backgroundColor = [UIColor clearColor];\n    cell.selectedBackgroundView = myBackView;\n    NSArray *paths1 = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,\n                                                          NSUserDomainMask, YES);\n    NSString *documentsDirectory1 = [paths1 objectAtIndex:0];\n    NSString *slash3 = [documentsDirectory1 stringByAppendingPathComponent:@\"/Images\"];\n\n\n    NSString *fullPath1 = [slash3 stringByAppendingPathComponent:[device valueForKey:@\"image\"]];\n\n    //Now load the image at fullPath and install it into our image view's image property.\n    if (![[NSFileManager defaultManager] fileExistsAtPath:fullPath1]){\n\n    }\n    else {\n\n        cell.imageView.image = [UIImage imageWithContentsOfFile: fullPath1];\n        NSLog(@\"fullPath1:%@\",fullPath1);\n    }\n\n    cell.imageView.layer.cornerRadius = 40;\n    cell.imageView.clipsToBounds = YES;\n\n    [cell.textLabel setTextColor:[UIColor whiteColor]];\n    [cell.detailTextLabel setTextColor:[UIColor whiteColor]];\n\n    return cell;\n }\n</code></pre>\n\n<p>Like I said this used to work fine but then it stopped working.<br>\nI do hard code some background views but not the tableView which is set in the IB.  But since I can see the cell division lines I'm thinking that the table view is on top.  I have tied the datasource and delegate to the tableView.  Just not sure why it isn't displaying the cell info.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<pre><code>So as I came to suspect I have two backgrounds that are put in place by code ie.\n[self.view insertSubview:backgroundImage atIndex:0];\n\n    backgroundImage.image = [UIImage imageNamed:@\"tilebackground long.png\"];\n\nself.backgroundImage2.image = [UIImage imageNamed:@\"just stars long.png\"];\n    backgroundImage2.hidden = NO;\n    [self.view insertSubview:backgroundImage2 atIndex:1];\n</code></pre>\n\n<p>since my tableView is created in the IB it resides atIndex:0</p>\n\n<p>By changing my code to put backgroundImage atIndex:-2 and \nbackgroundImage2 atIndes:-1\nMy tableView now is displayed, but it has a black background so I can't see my two backgroundImages.</p>\n\n<p>In the IB I have made the tableview background clear and in code as well as the cell's background but still there is a black background.</p>\n\n<p>Since this is still the problem of the tableView I thought I would amend this to see how to make the tableView background clear.  If I need to I can ask another question and mark this one done.</p>\n"}, {"tags": ["ios", "objective-c", "gps", "interpolation", "core-location"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1541533574, "post_id": 53178617, "comment_id": 93247907, "body": "If you want accleration data, wouldn&#39;t you be better off with Core Motion?"}], "answers": [{"comments": [{"owner": {"reputation": 2500, "user_id": 483753, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/KAwKF.jpg?s=128&g=1", "display_name": "dormitkon", "link": "https://stackoverflow.com/users/483753/dormitkon"}, "edited": false, "score": 0, "creation_date": 1541609373, "post_id": 53179909, "comment_id": 93276871, "body": "Thx, I will take a look at reference."}], "tags": [], "owner": {"reputation": 7533, "user_id": 4980651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c671a68b8d44d12486c7cc327b2ddc6?s=128&d=identicon&r=PG", "display_name": "Siyu", "link": "https://stackoverflow.com/users/4980651/siyu"}, "is_accepted": false, "score": 1, "last_activity_date": 1541537969, "creation_date": 1541537969, "answer_id": 53179909, "question_id": 53178617, "link": "https://stackoverflow.com/questions/53178617/corelocation-update-10hz-using-interpolation/53179909#53179909", "title": "CoreLocation update 10Hz - using interpolation", "body": "<p>You can store all speed data, and then use a correlation method to make a continual speed-time function <code>f(t)</code>, which you can then solve <code>f(t)=200</code> for t.</p>\n\n<p>As the comment suggested, you can combine speed data and acceleration data with a Kalman filter to generate a better <code>f(t)</code>. Refer to <a href=\"https://dsp.stackexchange.com/questions/8860/kalman-filter-for-position-and-velocity-introducing-speed-estimates\">here</a> </p>\n"}], "owner": {"reputation": 2500, "user_id": 483753, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/KAwKF.jpg?s=128&g=1", "display_name": "dormitkon", "link": "https://stackoverflow.com/users/483753/dormitkon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541537969, "creation_date": 1541532069, "question_id": 53178617, "link": "https://stackoverflow.com/questions/53178617/corelocation-update-10hz-using-interpolation", "title": "CoreLocation update 10Hz - using interpolation", "body": "<p>I was thinking about interpolating speed of location from Core Location.\nIf person is driving (accelerating) and I want to measure how fast accelerated from 100kmh to 200kmh, location update of 1Hz is not precise for me because I can get 199.9kmh update and next one to be 204kmh.\nIf I save all updates to database and iterate them later, it's doable to create interpolated location updated between them.\nIs there any way to interpolate locations while they are updating? Some ideas?</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "is_accepted": false, "score": 1, "last_activity_date": 1541545904, "last_edit_date": 1541545904, "creation_date": 1541542274, "answer_id": 53180844, "question_id": 53178391, "link": "https://stackoverflow.com/questions/53178391/remote-notifications-not-working-as-expected/53180844#53180844", "title": "Remote notifications not working as expected", "body": "<p>I think you need to call <code>showPush</code> from a slightly different app delegate call back:</p>\n\n<pre><code>- (void)application:(UIApplication *)application \ndidReceiveRemoteNotification:(NSDictionary *)userInfo \nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult result))completionHandler;\n</code></pre>\n\n<p>The docs for this call back note:</p>\n\n<blockquote>\n  <p>Unlike the application(_:didReceiveRemoteNotification:) method, which\n  is called only when your app is running in the foreground, the system\n  calls this method when your app is running in the foreground or\n  background.</p>\n</blockquote>\n\n<p>See: <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application?language=objc</a></p>\n"}, {"tags": [], "owner": {"reputation": 20556, "user_id": 1059025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d7aee8fa1fce32d3c31d5f6dda8f98?s=128&d=identicon&r=PG", "display_name": "quellish", "link": "https://stackoverflow.com/users/1059025/quellish"}, "is_accepted": false, "score": 0, "last_activity_date": 1542437801, "creation_date": 1542437801, "answer_id": 53348984, "question_id": 53178391, "link": "https://stackoverflow.com/questions/53178391/remote-notifications-not-working-as-expected/53348984#53348984", "title": "Remote notifications not working as expected", "body": "<p>Notifications can either be user-facing (alert, badge, or sound) or silent (content-available). They can not be both. </p>\n\n<p>When a notification contains both user-facing elements <strong>and</strong> the content-available flag indicating a silent push APNS and the device are put into an undefined state.</p>\n"}], "owner": {"reputation": 1662, "user_id": 4049536, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/142656d4059eec97cd03a095753179be?s=128&d=identicon&r=PG&f=1", "display_name": "martin", "link": "https://stackoverflow.com/users/4049536/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1542437801, "creation_date": 1541531139, "question_id": 53178391, "link": "https://stackoverflow.com/questions/53178391/remote-notifications-not-working-as-expected", "title": "Remote notifications not working as expected", "body": "<p>I'm trying to get my remote notifications to work properly, but I've encountered some problems.</p>\n\n<p>I'm sending notifications from my server with the <code>content-available</code> flag set to <code>1</code>, such that my <code>didReceiveRemoteNotification</code> is being triggered, and I display the notification to the user by triggering the following method inside <code>didReceiveRemoteNotification</code>:</p>\n\n<pre><code>- (void) showPush:(NSString *)message\n{\n\n  UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];\n\n  UNMutableNotificationContent *content = [UNMutableNotificationContent new];\n  content.body = message;\n  content.sound = [UNNotificationSound defaultSound];\n\n  NSString *identifier = @\"UYLLocalNotification\";\n  UNNotificationRequest *request = [UNNotificationRequest requestWithIdentifier:identifier\n                                                                        content:content trigger:nil];\n\n  [center addNotificationRequest:request withCompletionHandler:^(NSError * _Nullable error) {\n    if (error != nil) {\n      NSLog(@\"Something went wrong: %@\",error);\n    }\n  }];\n}\n</code></pre>\n\n<p>Notifications being sent while the app is in the suspended state are not displayed at all, but are displayed after the app has been opened and then closed again, like this:</p>\n\n<pre><code>-&gt; App is suspended: notification is sent\n-&gt; App is opened and in  the foreground: I can see that the notification has been processed\n-&gt; App is closed and in the background: notification is being displayed with a banner\n</code></pre>\n\n<p>Any suggestions to why this does not work as intended would be appreciated.</p>\n"}, {"tags": ["objective-c", "httprequest", "afnetworking", "apple-watch", "watch"], "comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 1, "creation_date": 1541547420, "post_id": 53176620, "comment_id": 93253552, "body": "I think series 1 watches always pass any URL request to the iphone. So there is no way to make it faster. You can try turning off the iphone and try to run the url request on the watch alone. it wont work."}, {"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "reply_to_user": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1541592194, "post_id": 53176620, "comment_id": 93267109, "body": "I guess you&#39;re right. Do you think HTTP requests with apple watch series 4 is much faster than series 1? I assume it is because watch series 4 has way better specs, but not sure the improvement will be much."}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541590837, "creation_date": 1541523801, "last_edit_date": 1541590837, "question_id": 53176620, "link": "https://stackoverflow.com/questions/53176620/apple-watch-is-there-a-faster-way-to-make-http-requests", "title": "Apple Watch: Is there a faster way to make HTTP requests?", "body": "<p>When I make two <code>HTTP</code> requests with my apple watch series 1 device, it takes between 3 to 6 seconds to finish both requests. I can imagine it is much faster with newer models, but I am still looking to improve speed. I am using <code>AFNetwork</code> library to complete these requests when the apple watch <code>ViewController</code> activates. I am making requests that are like these one after another. </p>\n\n<pre><code>AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n[manager GET:@\"http://example.com/resources.json\" parameters:nil progress:nil success:^(NSURLSessionTask *task, id responseObject) {\n\n} failure:^(NSURLSessionTask *operation, NSError *error) {\n\n}];\n</code></pre>\n\n<p>I need information from the first API request before I can make the second API request.</p>\n\n<p>Any tips or suggestions to improve request speeds are appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1541523204, "post_id": 53176431, "comment_id": 93242799, "body": "Swizzle and add the method to <code>NSMutableData</code>.. and do what its name suggests lol. Create <code>NSMutableData</code> from a string of hex-bytes."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 4, "creation_date": 1541523249, "post_id": 53176431, "comment_id": 93242832, "body": "You can&#39;t handle that exception in either language. The bug needs to be fixed. Since that is clearly a method added in a category, find the missing dependency that provides that category method."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1541523327, "post_id": 53176431, "comment_id": 93242872, "body": "How did you install that 3rd party lib? <a href=\"https://stackoverflow.com/questions/37220064/nsmutabledata-error\">stackoverflow.com/questions/37220064/nsmutabledata-error</a> ?"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541525432, "post_id": 53176431, "comment_id": 93243999, "body": "As in the post linked from @Larme, you&#39;ve very likely failed to include <code>-objc</code> in your link steps, probably of a static library. See <a href=\"https://stackoverflow.com/questions/2567498/objective-c-categories-in-static-library\" title=\"objective c categories in static library\">stackoverflow.com/questions/2567498/&hellip;</a> for how to add these.  (And totally agreed w/ rmaddy. You cannot handle this exception. You have to resolve the issue.)"}], "owner": {"reputation": 1, "user_id": 10292087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b798ffa0161a180e5b05b20bc63b7892?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Klingen", "link": "https://stackoverflow.com/users/10292087/mike-klingen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541525038, "creation_date": 1541523118, "last_edit_date": 1541525038, "question_id": 53176431, "link": "https://stackoverflow.com/questions/53176431/handling-exceptions-in-swift-caused-by-3rd-party-library-written-objective-c", "title": "Handling exceptions in Swift caused by 3rd party library written objective c", "body": "<p>I am running into an exception thrown by a 3rd party library written in objective c and it is causing my Swift app to terminate.</p>\n\n<p>Here is what the debug info shows in Xcode:</p>\n\n<blockquote>\n  <p>2018-11-06 09:48:04.336769-0700 BACtrackSwift[331:12792]\n  +[NSMutableData dataFromHexString:]: unrecognized selector sent to class 0x1effb6e28<br>\n  2018-11-06 09:48:18.279085-0700 BACtrackSwift[331:12792] *** Terminating app due to uncaught exception\n  'NSInvalidArgumentException', reason: '+[NSMutableData\n  dataFromHexString:]: unrecognized selector sent to class 0x1effb6e28'</p>\n</blockquote>\n\n<p>I don't have access to third party library obj c source and wondering what I can do on the Swift side to prevent or quiet this?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "frameworks", "clang"], "comments": [{"owner": {"reputation": 4163, "user_id": 321542, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SCvik.jpg?s=128&g=1", "display_name": "Eugene Dudnyk", "link": "https://stackoverflow.com/users/321542/eugene-dudnyk"}, "edited": false, "score": 0, "creation_date": 1547617659, "post_id": 53173819, "comment_id": 95248115, "body": "For public framework assembly you can create different target, post-process assembled framework by copying different module map into your module, which will not expose modules that are private."}, {"owner": {"reputation": 4163, "user_id": 321542, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SCvik.jpg?s=128&g=1", "display_name": "Eugene Dudnyk", "link": "https://stackoverflow.com/users/321542/eugene-dudnyk"}, "edited": false, "score": 0, "creation_date": 1547617957, "post_id": 53173819, "comment_id": 95248208, "body": "Also, you can try to add a private module map <code>module.private.modulemap</code> as described here: <a href=\"https://stackoverflow.com/questions/34265339/private-module-map-for-a-framework\" title=\"private module map for a framework\">stackoverflow.com/questions/34265339/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 0, "last_activity_date": 1548925603, "creation_date": 1548925603, "answer_id": 54456916, "question_id": 53173819, "link": "https://stackoverflow.com/questions/53173819/swift-and-objective-c-framework-exposes-its-internals/54456916#54456916", "title": "Swift and Objective-c framework exposes its internals", "body": "<p>The module file is intended for Objective-C, and Objective-C doesn't have the concept of <code>internal</code>. It only knows public (what's declared in the header files), and private (what's declared only in the implementation files).</p>\n\n<p>Thus, anything that end's up in a module file will be publicly available.</p>\n"}], "owner": {"reputation": 405, "user_id": 1431713, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d6d4ef68503cb559586925f1ffbdf816?s=128&d=identicon&r=PG", "display_name": "Glauco", "link": "https://stackoverflow.com/users/1431713/glauco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 538, "favorite_count": 1, "answer_count": 1, "score": 18, "last_activity_date": 1548925603, "creation_date": 1541514119, "question_id": 53173819, "link": "https://stackoverflow.com/questions/53173819/swift-and-objective-c-framework-exposes-its-internals", "title": "Swift and Objective-c framework exposes its internals", "body": "<p>I\u2019m trying to integrate Swift into an existing objective-c framework that has public, private and project files. In order for swift to access the project files, I added a modulemap that defines a new module (e.g <em>MyFramework_Internal</em>) by including all the project headers as explained here: <a href=\"http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/\" rel=\"noreferrer\">http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/</a></p>\n\n<p>That setup is sort of working but one thing I was surprised to see is that now a client can access the internal classes by importing MyFramework_Internal (<em>@import MyFramework_Internal</em>). Is there a way to hide the module since it's only needed by the framework itself?\nThe modulemap looks like this now:</p>\n\n<pre><code>module MyFramework_Internal {  \n   header \"Folder1/Baz.h\"  \n   header \"Folder1/Folder2/Bar.h\"  \n   export *\n} \n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 1, "creation_date": 1541514690, "post_id": 53173799, "comment_id": 93237691, "body": "As you said, retrieving the image is asynchronous, don&#39;t put it in the viewForHeader, I would suggest you store a reference to the image downloaded, and then reload the table after you get it."}, {"owner": {"reputation": 19817, "user_id": 1784011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5QrkA.png?s=128&g=1", "display_name": "Woodstock", "link": "https://stackoverflow.com/users/1784011/woodstock"}, "edited": false, "score": 0, "creation_date": 1541516336, "post_id": 53173799, "comment_id": 93238675, "body": "Use this.. <a href=\"https://github.com/SDWebImage/SDWebImage\" rel=\"nofollow noreferrer\">github.com/SDWebImage/SDWebImage</a> life will be easier"}], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": false, "score": 0, "last_activity_date": 1541514682, "creation_date": 1541514682, "answer_id": 53173984, "question_id": 53173799, "link": "https://stackoverflow.com/questions/53173799/load-image-for-uiimageview-in-header-section-view-from-network/53173984#53173984", "title": "Load image for UIImageView in header section view from network", "body": "<p>Reload the UIImageView after adding the image.</p>\n\n<pre><code> dispatch_async(dispatch_get_main_queue(), ^{\n        userImageView.image = [UIImage imageWithData: data];\n        [userImageView setNeedsDisplay];\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541517255, "last_edit_date": 1541517255, "creation_date": 1541514967, "answer_id": 53174060, "question_id": 53173799, "link": "https://stackoverflow.com/questions/53173799/load-image-for-uiimageview-in-header-section-view-from-network/53174060#53174060", "title": "Load image for UIImageView in header section view from network", "body": "<p>First use <a href=\"https://github.com/SDWebImage/SDWebImage\" rel=\"nofollow noreferrer\">SDWebImage</a> to download it once  as your current code will download it every header appearance </p>\n\n<p>Second create an array of models (imagesUrls) for all header then loop for urls </p>\n\n<pre><code>UIImageView*img = [UIImageView new];\n\nfor (int section = 0; section &lt; [myArray count]; section++)\n{\n    MyModel *model = [myArray objectAtIndex:section];\n\n    [img sd_setImageWithURL:[NSURL URLWithString:model.url] completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) {\n\n          [tableView reloadSections:[[NSIndexSet alloc] initWithIndex:section] withRowAnimation:NO];\n     }];\n}\n</code></pre>\n"}], "owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541517255, "creation_date": 1541514078, "question_id": 53173799, "link": "https://stackoverflow.com/questions/53173799/load-image-for-uiimageview-in-header-section-view-from-network", "title": "Load image for UIImageView in header section view from network", "body": "<p>I use <code>UITableView</code> and want to display <code>UIImageView</code> with loaded image from network in section header. So my method </p>\n\n<p><code>- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section</code> returns next <code>UIView</code>:</p>\n\n<pre><code>    UIView * header = [UIView new];\n    header.frame = CGRectMake(0, 0, self.view.frame.size.width, 200);\n    header.backgroundColor = UIColor.clearColor;\n    UserDataModel * userData = [CoreDataService sharedInstance].userData;\n    UIImageView * userImageView = [UIImageView new];\n    userImageView.frame = CGRectMake(20, 20, self.view.frame.size.width * 0.3, self.view.frame.size.width * 0.3);\n    dispatch_async(dispatch_get_global_queue(0,0), ^{\n        NSData * data = [[NSData alloc] initWithContentsOfURL: [NSURL URLWithString: userData.photoPath]];\n        if (data == nil) {\n\n            return;\n        }\n        dispatch_async(dispatch_get_main_queue(), ^{\n            userImageView.image = [UIImage imageWithData: data];\n        });\n    });\n    [header addSubview:userImageView];\n    return header;\n</code></pre>\n\n<p>And it works only after scrolling table view, I can't figure out what I did wrong. Please explain me why it is wrong and how to do it correctly.\nThanks.</p>\n"}, {"tags": ["objective-c", "ios12", "uidocumentpickerviewcontroller", "uidocumentmenuviewcontroller"], "owner": {"reputation": 287, "user_id": 2838163, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yizzq.png?s=128&g=1", "display_name": "Lipatov Eugen", "link": "https://stackoverflow.com/users/2838163/lipatov-eugen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1604650999, "creation_date": 1541512574, "question_id": 53173359, "link": "https://stackoverflow.com/questions/53173359/uidocumentmenuviewcontroller-have-wrong-frame-listview", "title": "UIDocumentMenuViewController have wrong frame listView", "body": "<p>Good day to all. I support the old version of the application written on Objective C . I want to implement a functional - File Browser(File Provider). But using UIDocumentMenuViewController or UIDocumentPickerViewController i have problem with display my files. Help me how you implement the file provider in your applications on  Objective C.Problem - Content is cropped at the bottom of the screen . Thx\n<a href=\"https://i.stack.imgur.com/EMddv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMddv.jpg\" alt=\"Content is cropped at the bottom of the screen\"></a></p>\n"}, {"tags": ["objective-c", "cocoa", "core-data"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9905607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1fbdd48ff00b07ae45bdaef0b44367?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/9905607/naveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1547953968, "creation_date": 1547953968, "answer_id": 54273278, "question_id": 53172018, "link": "https://stackoverflow.com/questions/53172018/cocoa-unarchivedobjectofclass-does-not-call-initwithcoder/54273278#54273278", "title": "cocoa - unarchivedObjectOfClass does not call initWithCoder", "body": "<p>I Fixed it, here is the solution:</p>\n\n<p>My object is 'Address' (note: it is not NSArray)</p>\n\n<p><strong>Address.h</strong> </p>\n\n<pre><code>@interface Address : NSObject &lt;NSSecureCoding&gt;\n\n@property (nonatomic, strong) NSString *street;\n\n@property (nonatomic, strong) NSString *city;\n\n@end\n</code></pre>\n\n<p><strong>Address.m</strong></p>\n\n<pre><code>@implementation Address\n- (id) initWithCoder:(NSCoder *)aDecoder\n{\n\n    self = [self init];\n    if (self == nil) \n   {\n        return nil;\n    }\n\n    self.street = [aDecoder decodeObjectOfClass:[Address class] forKey:@\"street\"];\n\n    self.city = [aDecoder decodeObjectOfClass:[Address class]\n                                         forKey:@\"city\"];\n    return self;\n}\n\n- (void)encodeWithCoder:(NSCoder *)encoder \n{\n\n    [encoder encodeObject:self.street forKey:@\"street\"];\n\n    [encoder encodeObject:self.city forKey:@\"city\"];\n\n}\n\n+ (BOOL)supportsSecureCoding \n{\n\n    return YES;\n\n}\n</code></pre>\n\n<p><strong>Archive.h</strong></p>\n\n<pre><code>@property (nonatomic, strong) Address *address;\n</code></pre>\n\n<p><strong>Archive.m</strong></p>\n\n<pre><code>UserDBO *userDBO = [[UserDBO alloc] init];\n</code></pre>\n\n<p><em>// Archive</em></p>\n\n<pre><code>NSError *error = nil;\n\nNSData *data = [NSKeyedArchiver archivedDataWithRootObject:self.address requiringSecureCoding:YES error:&amp;error];\n\n    if(error) \n    {\n\n        NSLog(@\"archivedDataWithRootObject: %@\", error);\n\n    }\n\nuserDBO.address = data; \n</code></pre>\n\n<p><em>// UnArchive</em></p>\n\n<pre><code>Address *address = [NSKeyedUnarchiver unarchivedObjectOfClass:[Address class] fromData:userDBO.address error:&amp;error];\n\n        if(error) \n       {\n\n            NSLog(@\"unarchivedObjectOfClass: %@\", error);\n\n        }\n</code></pre>\n\n<p><strong>UserDBO.h</strong></p>\n\n<pre><code>@property (nonatomic, strong) NSData *address;\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 865, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547953968, "creation_date": 1541507642, "question_id": 53172018, "link": "https://stackoverflow.com/questions/53172018/cocoa-unarchivedobjectofclass-does-not-call-initwithcoder", "title": "cocoa - unarchivedObjectOfClass does not call initWithCoder", "body": "<p>I am developing a macOS app using objective-C.</p>\n\n<p>I tried to save a NSArray object in Core Data. I write</p>\n\n<pre><code>- (id)reverseTransformedValue:(id)value\n{\n  return [NSKeyedUnarchiver unarchivedObjectOfClass:[NSArray class] fromData:value error:nil];\n}\n</code></pre>\n\n<p>in the class that inherits NSValueTransformer.</p>\n\n<p>And one of elements in my NSArray object is not of primary kind(which has properties called courseName and courseInfos), so I conform  in this element's class. In this class ,I write:</p>\n\n<pre><code>- (id)initWithCoder:(NSCoder *)aDecoder\n{\n    self = [[self class] new];\n    if (self = [super init])\n    {\n         self.courseName = [aDecoder decodeObjectForKey:@\"courseName\"];\n         self.courseInfos = [aDecoder decodeObjectForKey:@\"courseInfos\"];\n    }\n    return self;\n}\n</code></pre>\n\n<p>When my apps runs, the reverseTransformedValue: method is called, and all elements but that special nonprimary element in my NSArray object are decoded. I put a breakpoint in the initWithCoder: method in that special element's class, and it never runs. I use some tools and find that element is successfully stored in my core data, so its encoding process has no problem.</p>\n"}, {"tags": ["ios", "objective-c", "ios11"], "comments": [{"owner": {"reputation": 5371, "user_id": 7019311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2981ebd25241785e1495e511caa61a?s=128&d=identicon&r=PG&f=1", "display_name": "hidefromkgb", "link": "https://stackoverflow.com/users/7019311/hidefromkgb"}, "edited": false, "score": 0, "creation_date": 1542419568, "post_id": 53171510, "comment_id": 93573706, "body": "Same thing here but on macOS 10.11\u2026"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4136579, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-JvsmJTdSQ_Y/AAAAAAAAAAI/AAAAAAAAAAA/oCm3fZ22BXQ/photo.jpg?sz=128", "display_name": "Amit Singh", "link": "https://stackoverflow.com/users/4136579/amit-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1542556974, "creation_date": 1542556974, "answer_id": 53362836, "question_id": 53171510, "link": "https://stackoverflow.com/questions/53171510/incorrect-width-returned-sizewithattributes-for-different-locales/53362836#53362836", "title": "Incorrect width returned sizeWithAttributes for different locales", "body": "<p>This happens when all characters are Chinese /Japanese.\nA possible workaround is to use an extra space in string and the length returned is correct now</p>\n"}], "owner": {"reputation": 21, "user_id": 4136579, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-JvsmJTdSQ_Y/AAAAAAAAAAI/AAAAAAAAAAA/oCm3fZ22BXQ/photo.jpg?sz=128", "display_name": "Amit Singh", "link": "https://stackoverflow.com/users/4136579/amit-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542556974, "creation_date": 1541505727, "question_id": 53171510, "link": "https://stackoverflow.com/questions/53171510/incorrect-width-returned-sizewithattributes-for-different-locales", "title": "Incorrect width returned sizeWithAttributes for different locales", "body": "<p>I have a UIButton whose size is computed based on a NSString <code>self.currentTitle</code>.\n<code>self.titleLabel</code> is the UIButton Label.The API usage is below:</p>\n\n<pre><code>CGFloat textSizeWidth = [self.currentTitle sizeWithAttributes:@{NSFontAttributeName : self.titleLabel.font}].width;\n</code></pre>\n\n<p>This text width returned is further used to set the UIButton's width as it is the quiet variant.It works fine for english locale but when i try for japanese characters the width returned seems to be incorrect as the button label is truncated.\nself.titleLabel is a NSString so i am assuming it should work for japanese as well.Any inputs on handing this will be useful.</p>\n"}, {"tags": ["ios", "objective-c", "constraints"], "comments": [{"owner": {"reputation": 10067, "user_id": 7734643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q8g6Y.jpg?s=128&g=1", "display_name": "Rakesha Shastri", "link": "https://stackoverflow.com/users/7734643/rakesha-shastri"}, "edited": false, "score": 0, "creation_date": 1541494143, "post_id": 53168407, "comment_id": 93226766, "body": "What error does it throw?"}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "reply_to_user": {"reputation": 10067, "user_id": 7734643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q8g6Y.jpg?s=128&g=1", "display_name": "Rakesha Shastri", "link": "https://stackoverflow.com/users/7734643/rakesha-shastri"}, "edited": false, "score": 0, "creation_date": 1541495013, "post_id": 53168407, "comment_id": 93227106, "body": "It is a wall of text, but here is a short example:  [LayoutConstraints] The view hierarchy is not prepared for the constraint: &lt;NSLayoutConstraint:0x2820a48c0 UILabel:0x104f1dec0&#39;NGC 1499: The California ...&#39;.left == UIViewAPOD:0x104f13430.left + 20   (inactive)&gt; \tWhen added to a view, the constraint&#39;s items must be descendants of that view (or the view itself). This will crash if the constraint needs to be resolved before the view hierarchy is assembled. Break on -[UIView(UIConstraintBasedLayout) _viewHierarchyUnpreparedForConstraint:] to debug."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541495329, "post_id": 53168407, "comment_id": 93227235, "body": "You need add subview before adding constraints."}], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1541495643, "post_id": 53168747, "comment_id": 93227382, "body": "Label was added as a subview, I just forgot to paste it here. :) Also, adding the height to the label or the superview works both (I tried just now). I assume the ignoring of the autoresizing masks was the real error. Thank you, it works now! However, it still gives me loads of warnings: &quot;[LayoutConstraints] The view hierarchy is not prepared for the constraint: &lt;NSLayoutConstraint:0x280f13840 UILabel:0x1055121a0&#39;NGC 1499: The California ...&#39;.right == UIViewAPOD:0x10541b7a0.right - 20   (inactive)&gt;&quot;"}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1541499875, "post_id": 53168747, "comment_id": 93229642, "body": "Hi, it did make it work. But I updated my reply above &#39;coz it still gives me loads of warnings:  [LayoutConstraints] The view hierarchy is not prepared for the constraint: &lt;NSLayoutConstraint:0x280f134d0 UILabel:0x1055121a0&#39;NGC 1499: The California ...&#39;.left == UIViewAPOD:0x10541b7a0.left + 20   (inactive)&gt; \tWhen added to a view, the constraint&#39;s items must be descendants of that view (or the view itself). This will crash if the constraint needs to be resolved before the view hierarchy is assembled. Break on -[UIView(UIConstraintBasedLayout) _viewHierarchyUnpreparedForConstraint:] to debug."}, {"owner": {"reputation": 1167, "user_id": 2092507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FGwSK.jpg?s=128&g=1", "display_name": "Yevgeniy Leychenko", "link": "https://stackoverflow.com/users/2092507/yevgeniy-leychenko"}, "reply_to_user": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1541501439, "post_id": 53168747, "comment_id": 93230508, "body": "Then the problem might be somewhere else in your custom view. How do you add it to superview? What constraints do you use? Did you set translating autoresizing masks into constraints to NO? Because, I am adding the label to controller&#39;s root view and it gives me no warnings."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1541532119, "post_id": 53168747, "comment_id": 93247265, "body": "This is unbelievable. Now, I get no warnings, but the label is not showing up at all. I get a glimpse of it when I rotate the device at the bottom, but that is all. I have updated the original question with the current code."}, {"owner": {"reputation": 1167, "user_id": 2092507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FGwSK.jpg?s=128&g=1", "display_name": "Yevgeniy Leychenko", "link": "https://stackoverflow.com/users/2092507/yevgeniy-leychenko"}, "reply_to_user": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1541574222, "post_id": 53168747, "comment_id": 93259084, "body": "I&#39;ve updated my answer to show how I add the custom view to view controller. Please, compare. I don&#39;t have any warnings and I can see the view and its label before and after rotation."}], "tags": [], "owner": {"reputation": 1167, "user_id": 2092507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FGwSK.jpg?s=128&g=1", "display_name": "Yevgeniy Leychenko", "link": "https://stackoverflow.com/users/2092507/yevgeniy-leychenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1541574156, "last_edit_date": 1541574156, "creation_date": 1541495294, "answer_id": 53168747, "question_id": 53168407, "link": "https://stackoverflow.com/questions/53168407/adding-contraints-programmatically/53168747#53168747", "title": "Adding Contraints Programmatically", "body": "<p>First of all, you never added you titleLabel as subview.</p>\n\n<p>Second, you need to ignore autoresizing masks to avoid conflicts in constraints.</p>\n\n<p>Third, you are adding height constraint to view, whereas it belongs to label.</p>\n\n<p>Here is the code that works:</p>\n\n<pre><code>UILabel *titleLabel = [[UILabel alloc] init];\n[titleLabel setTranslatesAutoresizingMaskIntoConstraints: NO];\ntitleLabel.backgroundColor  = [UIColor blackColor];\ntitleLabel.textColor        = [UIColor whiteColor];\ntitleLabel.text             = @\"Some Text\";\n[self.view addSubview: titleLabel];\n\nNSLayoutConstraint *contsTitleLeft = [NSLayoutConstraint\n                                      constraintWithItem: titleLabel\n                                      attribute: NSLayoutAttributeLeft\n                                      relatedBy: NSLayoutRelationEqual\n                                      toItem: self\n                                      attribute: NSLayoutAttributeLeft\n                                      multiplier: 1.0\n                                      constant: marginGeneral];\n\nNSLayoutConstraint *contsTitleRight = [NSLayoutConstraint\n                                       constraintWithItem: titleLabel\n                                       attribute: NSLayoutAttributeRight\n                                       relatedBy: NSLayoutRelationEqual\n                                       toItem: self\n                                       attribute: NSLayoutAttributeRight\n                                       multiplier: 1.0\n                                       constant: marginGeneral * -1.0f];\n\nNSLayoutConstraint *contsTitleBottom = [NSLayoutConstraint\n                                        constraintWithItem: titleLabel\n                                        attribute: NSLayoutAttributeBottom\n                                        relatedBy: NSLayoutRelationEqual\n                                        toItem: self\n                                        attribute: NSLayoutAttributeBottom\n                                        multiplier: 1.0\n                                        constant: marginGeneral * -1.0f];\n\nNSLayoutConstraint *contsTitleHeight = [NSLayoutConstraint\n                                        constraintWithItem: titleLabel\n                                        attribute: NSLayoutAttributeHeight\n                                        relatedBy: NSLayoutRelationEqual\n                                        toItem: nil\n                                        attribute: NSLayoutAttributeNotAnAttribute\n                                        multiplier: 1.0\n                                        constant: 40.0f];\n\n[self addConstraints:@[contsTitleLeft, contsTitleRight, contsTitleBottom]];\n[titleLabel addConstraint: contsTitleHeight];\n</code></pre>\n\n<p>UPD:\nAdding custom view to view controller in <code>viewDidLoad</code>:</p>\n\n<pre><code>CustomView *customView = [[CustomView alloc] initWithFrame: CGRectMake(0, 0, 200, 200)];\n[customView setTranslatesAutoresizingMaskIntoConstraints: NO];\n[customView setBackgroundColor: [UIColor greenColor]];\n[self.view addSubview: customView];\n\nNSLayoutConstraint *widthConstraint = [NSLayoutConstraint constraintWithItem: customView\n                                                                       attribute: NSLayoutAttributeWidth\n                                                                       relatedBy: NSLayoutRelationEqual\n                                                                          toItem: nil\n                                                                       attribute: NSLayoutAttributeNotAnAttribute\n                                                                      multiplier:1\n                                                                        constant:200];\nNSLayoutConstraint *heightConstraint = [NSLayoutConstraint constraintWithItem: customView\n                                                                       attribute: NSLayoutAttributeHeight\n                                                                       relatedBy: NSLayoutRelationEqual\n                                                                          toItem: nil\n                                                                       attribute: NSLayoutAttributeNotAnAttribute\n                                                                      multiplier:1\n                                                                        constant:200];\n\n[customView addConstraints: @[widthConstraint, heightConstraint]];\n\nNSLayoutConstraint *centerHorizontallyConstraint = [NSLayoutConstraint constraintWithItem: customView\n                                                                                    attribute: NSLayoutAttributeCenterX\n                                                                                    relatedBy: NSLayoutRelationEqual\n                                                                                       toItem: self.view\n                                                                                    attribute: NSLayoutAttributeCenterX\n                                                                                   multiplier: 1\n                                                                                     constant: 0];\n\nNSLayoutConstraint *centerVerticallyConstraint = [NSLayoutConstraint constraintWithItem: customView\n                                                                                    attribute: NSLayoutAttributeCenterY\n                                                                                    relatedBy: NSLayoutRelationEqual\n                                                                                       toItem: self.view\n                                                                                    attribute: NSLayoutAttributeCenterY\n                                                                                   multiplier: 1\n                                                                                     constant: 0];\n\n[self.view addConstraints: @[centerHorizontallyConstraint, centerVerticallyConstraint]];\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 53168747, "answer_count": 1, "score": 0, "last_activity_date": 1541574156, "creation_date": 1541493765, "last_edit_date": 1541532515, "question_id": 53168407, "link": "https://stackoverflow.com/questions/53168407/adding-contraints-programmatically", "title": "Adding Contraints Programmatically", "body": "<p>I am trying to achieve the following layout programmatically:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y3AFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y3AFw.png\" alt=\"enter image description here\"></a></p>\n\n<p>It is a subclassed UIView, on which I would like to place a UILabel with fix height (40 pixels), dynamic width (width is calculated based on the length of the text, so I guess this could be considered fix, not dynamic because I only calculate it one time), and exactly 40 pixels from the left and bottom.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>- (UIView *) initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self)\n    {\n\n    marginGeneral       = 40.0f;\n\n    UILabel *titleLabel = [[UILabel alloc] init];\n    [titleLabel setTranslatesAutoresizingMaskIntoConstraints: NO];\n    titleLabel.backgroundColor  = [UIColor blackColor];\n    titleLabel.textColor        = [UIColor whiteColor];\n    titleLabel.text             = @\"Some Text\";\n    [self addSubview:titleLabel];\n\n    NSLayoutConstraint *contsTitleLeft = [NSLayoutConstraint\n                                          constraintWithItem: titleLabel\n                                          attribute: NSLayoutAttributeLeft\n                                          relatedBy: NSLayoutRelationEqual\n                                          toItem: self\n                                          attribute: NSLayoutAttributeLeft\n                                          multiplier: 1.0\n                                          constant: marginGeneral];\n\n    NSLayoutConstraint *contsTitleRight = [NSLayoutConstraint\n                                           constraintWithItem: titleLabel\n                                           attribute: NSLayoutAttributeRight\n                                           relatedBy: NSLayoutRelationEqual\n                                           toItem: self\n                                           attribute: NSLayoutAttributeRight\n                                           multiplier: 1.0\n                                           constant: marginGeneral * -1.0f];\n\n    NSLayoutConstraint *contsTitleBottom = [NSLayoutConstraint\n                                            constraintWithItem: titleLabel\n                                            attribute: NSLayoutAttributeBottom\n                                            relatedBy: NSLayoutRelationEqual\n                                            toItem: self\n                                            attribute: NSLayoutAttributeBottom\n                                            multiplier: 1.0\n                                            constant: marginGeneral * -1.0f];\n\n    NSLayoutConstraint *contsTitleHeight = [NSLayoutConstraint\n                                            constraintWithItem: titleLabel\n                                            attribute: NSLayoutAttributeHeight\n                                            relatedBy: NSLayoutRelationEqual\n                                            toItem: nil\n                                            attribute: NSLayoutAttributeNotAnAttribute\n                                            multiplier: 1.0\n                                            constant: 40.0f];\n\n    [self addConstraints:@[contsTitleLeft, contsTitleRight, contsTitleBottom]];\n    [titleLabel addConstraint:contsTitleHeight];\n\n    }\n\nreturn self;\n}\n\n@end\n</code></pre>\n\n<p>This of course gives back all kinds of constraint-related warnings and the label does not show up.</p>\n\n<p>Could you nice people help me understand where did I go wrong and how to correct it? Thank you very much!</p>\n\n<p>P.s.: I do not use interface builder, so that is not an option. :)</p>\n"}, {"tags": ["objective-c", "runtime"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1541527329, "post_id": 53168035, "comment_id": 93244926, "body": "See here:  <a href=\"http://www.sealiesoftware.com/blog/archive/2011/06/17/objc_explain_objc_msgSend_vtable.html\" rel=\"nofollow noreferrer\">sealiesoftware.com/blog/archive/2011/06/17/&hellip;</a>"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1541553126, "post_id": 53168035, "comment_id": 93254854, "body": "A vtable is faster, because it is indexed (with hard-coded indexes.) This is only for the most commonly used methods. &#39;cache&#39; simply caches (ok, you thought so) used methods so you do not need to look up the class tree the next time, the selector is sent."}, {"owner": {"reputation": 380, "user_id": 8076137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1cJv5.jpg?s=128&g=1", "display_name": "dowZhang", "link": "https://stackoverflow.com/users/8076137/dowzhang"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1541553926, "post_id": 53168035, "comment_id": 93255035, "body": "Whether cache more useful for subclass which invoke superclass methods. But  it is useless for subclass own methods. So if it waste for memory. @AminNegm-Awad"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1541593428, "post_id": 53168035, "comment_id": 93267680, "body": "No, since it is more likely that a selector is sent that already has been sent. Therefore looking up the cache is faster."}, {"owner": {"reputation": 380, "user_id": 8076137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1cJv5.jpg?s=128&g=1", "display_name": "dowZhang", "link": "https://stackoverflow.com/users/8076137/dowzhang"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1541594689, "post_id": 53168035, "comment_id": 93268305, "body": "I can&#39;t understand.Can you introduce more detailedly, or recommend an associated article. Thanks a lot. @AminNegm-Awad"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1541595981, "post_id": 53168035, "comment_id": 93268932, "body": "Since programs tend to do the same thing over and over again, it is likely that an object that received a selector <code>doSomething</code> will receive <code>doSomething</code>again. Esp. it is more likely to receive <code>doSomething</code> again than receiving <code>doAnotherThing</code>. &quot;Wasting memory&quot; is no issue on modern computers. Please, keep in mind that there are only two caches per class. (One for the instance object, one for the class object). This isn&#39;t wasting memory, but peanuts even if you have thousands of classes."}], "owner": {"reputation": 380, "user_id": 8076137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1cJv5.jpg?s=128&g=1", "display_name": "dowZhang", "link": "https://stackoverflow.com/users/8076137/dowzhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541514117, "creation_date": 1541491932, "last_edit_date": 1541514117, "question_id": 53168035, "link": "https://stackoverflow.com/questions/53168035/why-vtable-doesnt-use-hash-table", "title": "why vtable doesn&#39;t use hash Table", "body": "<p>In objective-c <code>struct _class_t</code> has two fields <code>void *cache</code> and <code>void *vtable</code>. <code>Cashe</code> uses hash table, but <code>vtable</code> uses pointer offset to find method. So why <code>vtable</code> doesn't use hash table.</p>\n"}, {"tags": ["objective-c", "crash", "nsdictionary", "downcast"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541512213, "post_id": 53166649, "comment_id": 93236247, "body": "Can you tell more about the crash? Are you sure <code>dictionary</code> is always a <code>NSArray</code> or <code>NSDictionary</code> and never some other class or <code>nil</code>? Is <code>value</code> allowed to be <code>nil</code>? Can <code>dictionary</code> be an empty array? ARC?"}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1541544594, "post_id": 53166649, "comment_id": 93252661, "body": "Yes its always <code>NSArray</code> or <code>NSDictionary</code>. <code>dictionary</code> is the results of an api call so I suppose theres a chance it can be nil or empty. The only place I can see a crash occurring is where cool_jb noted- when trying to access object from array that can be nil, or empty via subscript. Right?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541636612, "post_id": 53166649, "comment_id": 93288229, "body": "I don&#39;t know without a backtrace and more code."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1541544718, "post_id": 53174466, "comment_id": 93252721, "body": "Thanks for your input. I think this is probably where the crash is happening. I will use <code>array.first</code> to be safer."}, {"owner": {"reputation": 173, "user_id": 6246981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec60a6843ef44b73b0f1476d2acda0?s=128&d=identicon&r=PG&f=1", "display_name": "cool_jb", "link": "https://stackoverflow.com/users/6246981/cool-jb"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1541570870, "post_id": 53174466, "comment_id": 93258181, "body": "@AnonProgrammer You are welcome :) Also let us know if this have worked for you after going through your analytics data"}], "tags": [], "owner": {"reputation": 173, "user_id": 6246981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec60a6843ef44b73b0f1476d2acda0?s=128&d=identicon&r=PG&f=1", "display_name": "cool_jb", "link": "https://stackoverflow.com/users/6246981/cool-jb"}, "is_accepted": false, "score": 1, "last_activity_date": 1541516404, "creation_date": 1541516404, "answer_id": 53174466, "question_id": 53166649, "link": "https://stackoverflow.com/questions/53166649/crash-when-assigning-value/53174466#53174466", "title": "Crash when assigning value", "body": "<p>One possibility could be that when you are trying to fetch the 0th index from array, and it may not exist, since there can be no elements in the array. Before extracting you can check this as</p>\n\n<pre><code>if ([array count] &gt; 0) {\n value = array[0]\n}\n</code></pre>\n\n<p>or you can directly use array.first, which is a safe method and won't crash even if the array is empty</p>\n"}], "owner": {"reputation": 23, "user_id": 8455829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/744f86deef75a0b1579e3eaec54e5561?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/8455829/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541516404, "creation_date": 1541485092, "question_id": 53166649, "link": "https://stackoverflow.com/questions/53166649/crash-when-assigning-value", "title": "Crash when assigning value", "body": "<p>Analytics show 5 users have had 20 crashes when the following method runs. Backend made a change that now returns an array containing a single dictionary. I quickly added this code to cover both cases. What about this code could be causing crashing very inconsistently, since I or none of the testers have been able to reproduce? </p>\n\n<pre><code>+ (instancetype)createOrUpdateObjectWithDictionary:(NSDictionary *)dictionary inManagedObjectContext:(NSManagedObjectContext *)managedObjectContext {\n    NSDictionary *value;\n    if ([dictionary isKindOfClass:[NSArray class]]) {\n        id array = dictionary;\n        value = array[0];\n    } else if ([dictionary isKindOfClass:[NSDictionary class]]) {\n        value = dictionary;\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode10", "ccavenue", "salesforce-ios-sdk"], "comments": [{"owner": {"reputation": 1019, "user_id": 2549272, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/Ej05P.jpg?s=128&g=1", "display_name": "ikbal", "link": "https://stackoverflow.com/users/2549272/ikbal"}, "edited": false, "score": 0, "creation_date": 1541478065, "post_id": 53165639, "comment_id": 93221465, "body": "add BillingViewController on your target or remove BillingViewController then add to your project."}, {"owner": {"reputation": 283, "user_id": 6128857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2056bcbcf88032215e4eba67d1a717d9?s=128&d=identicon&r=PG&f=1", "display_name": "Smart guy", "link": "https://stackoverflow.com/users/6128857/smart-guy"}, "reply_to_user": {"reputation": 1019, "user_id": 2549272, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/Ej05P.jpg?s=128&g=1", "display_name": "ikbal", "link": "https://stackoverflow.com/users/2549272/ikbal"}, "edited": false, "score": 0, "creation_date": 1541491895, "post_id": 53165639, "comment_id": 93225783, "body": "@ikbal it did not worked :("}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541496125, "post_id": 53165639, "comment_id": 93227589, "body": "I think this library just doesn&#39;t support simulator or have separate binary for it."}, {"owner": {"reputation": 283, "user_id": 6128857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2056bcbcf88032215e4eba67d1a717d9?s=128&d=identicon&r=PG&f=1", "display_name": "Smart guy", "link": "https://stackoverflow.com/users/6128857/smart-guy"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541686156, "post_id": 53165639, "comment_id": 93306745, "body": "Yes @Cy-4AH already tried that both but no use. That library is having simulator support it provided a sample app that is working in both simulator and device.   I will try to explain the situation in other way. I have created a salesforce ios Xcode project by using forceios tool. in that project when I use this library It worked fine didnot throw any errors. later when I include dependencies to that project and did &quot;podinstall&quot; then I&#39;m screwed up, I guess there might be an issue in the podfile i dont know how to resolve it"}], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 6128857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2056bcbcf88032215e4eba67d1a717d9?s=128&d=identicon&r=PG&f=1", "display_name": "Smart guy", "link": "https://stackoverflow.com/users/6128857/smart-guy"}, "is_accepted": false, "score": 1, "last_activity_date": 1542692583, "creation_date": 1542692583, "answer_id": 53386899, "question_id": 53165639, "link": "https://stackoverflow.com/questions/53165639/framework-imported-properly-but-still-getting-objc-class-compiler-error/53386899#53386899", "title": "Framework imported properly but still getting _OBJC_CLASS_ compiler error", "body": "<p>remove <strong>-ObjC</strong> flag from projectSettings- Other Linker Flags.\nIf you have pods installed to your project then <strong>$(inherited)</strong> flag will be automatically added in the projectSettings- Other Linker Flags. So you need to remove -ObjC from two other files.</p>\n\n<pre><code>1.Pods-YourProjectName.debug.xcconfig\n2.Pods-YourProjectName.release.xcconfig\n</code></pre>\n\n<p>delete -ObjC from OTHER_LDFLAGS then everything will set right</p>\n"}], "owner": {"reputation": 283, "user_id": 6128857, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2056bcbcf88032215e4eba67d1a717d9?s=128&d=identicon&r=PG&f=1", "display_name": "Smart guy", "link": "https://stackoverflow.com/users/6128857/smart-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542692583, "creation_date": 1541477622, "last_edit_date": 1541484902, "question_id": 53165639, "link": "https://stackoverflow.com/questions/53165639/framework-imported-properly-but-still-getting-objc-class-compiler-error", "title": "Framework imported properly but still getting _OBJC_CLASS_ compiler error", "body": "<p>I have imported CCAvenue Framework correctly and trying call the InitialViewController class from CCAvenue framework to launch the paymentgateway service but I am getting the _OBJC_CLASS_ error.  <a href=\"https://i.stack.imgur.com/81VrA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/81VrA.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried in many ways by adding the CCAvenue framework in embedded binaries and Linked Frameworks in project build settings, modifying in build phases but of no use. </p>\n\n<p>Scenario 1:</p>\n\n<pre><code>#import \"BillingViewController.m\"\n@implementation BillingViewController{\n    InitialViewController *initial;\n}\n</code></pre>\n\n<p>Compiler is not throwing any error.</p>\n\n<pre><code>Scenario 2:\n\n    #import \"BillingViewController.m\"\n    @implementation BillingViewController{\n     InitialViewController *initial;\n    }\n- (void)loadPaymentGateWayFunction {\n\n    initial = [[InitialViewController alloc]initWithOrderId:@\"\" merchantId:@\"\" accessCode:@\"\" custId:@\"\" amount:@\"\" currency:@\"\" rsaKeyUrl:@\"\" redirectUrl:@\"\" cancelUrl:@\"\" showAddress:@\"\" billingName:@\"\" billingAddress:@\"\" billingCity:@\"\" billingState:@\"\" billingCountry:@\"\" billingTel:@\"\" billingEmail:@\"\" deliveryName:@\"\" deliveryAddress:@\"\" deliveryCity:@\"\" deliveryState:@\"\" deliveryCountry:@\"\" deliveryTel:@\"\" promoCode:@\"\" merchant_param1:@\"\" merchant_param2:@\"\" merchant_param3:@\"\" merchant_param4:@\"\" merchant_param5:@\"\" useCCPromo:@\"\"];\n\n}\n</code></pre>\n\n<p>Here when I'm trying to call the API the compiler issue is raising.\nWhat might be the reason, how to resolve it? can anybody please explain the reason.</p>\n"}, {"tags": ["objective-c", "uiview", "uibezierpath", "cashapelayer"], "comments": [{"owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541477359, "post_id": 53165237, "comment_id": 93221340, "body": "Why do you want to use clipping? Wouldn&#39;t it be easier to just draw the 5 lines required instead?"}, {"owner": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "reply_to_user": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541483074, "post_id": 53165237, "comment_id": 93222548, "body": "i tried but  unable to find in ui.Could you please help in that."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "edited": false, "score": 0, "creation_date": 1541484290, "post_id": 53166323, "comment_id": 93222898, "body": "could please help in that ?"}, {"owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "reply_to_user": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "edited": false, "score": 0, "creation_date": 1541484407, "post_id": 53166323, "comment_id": 93222932, "body": "did you make changes in the code, according to answer?"}, {"owner": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "edited": false, "score": 0, "creation_date": 1541484649, "post_id": 53166323, "comment_id": 93223010, "body": "yes, inplace of _vwArrow , i used _pendingView. And pendingView has a background color."}, {"owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "reply_to_user": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "edited": false, "score": 0, "creation_date": 1541485099, "post_id": 53166323, "comment_id": 93223171, "body": "in image it looks color have alpha value below 1. Please check it"}, {"owner": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "edited": false, "score": 0, "creation_date": 1541485477, "post_id": 53166323, "comment_id": 93223335, "body": "yes, background color of cell have 0.25 alpha. Thanks alot buddy."}], "tags": [], "owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "is_accepted": true, "score": 0, "last_activity_date": 1541483252, "last_edit_date": 1541483252, "creation_date": 1541482926, "answer_id": 53166323, "question_id": 53165237, "link": "https://stackoverflow.com/questions/53165237/how-to-clip-a-triangular-view-from-a-rectangular-view-in-objective-c/53166323#53166323", "title": "How to clip a triangular view from a rectangular view in objective C?", "body": "<p>In your code you are using <code>_pendingView</code> i.e. your <code>UIView</code>, origin for drawing path but layer will placed inside the <code>_pendingView</code>, so because of this you are not getting proper output.</p>\n\n<p>For more clarification you can go through the below code      </p>\n\n<pre><code>UIBezierPath *path = [[UIBezierPath alloc] init];\n//    [[UIColor blackColor] setStroke];\n//    [[UIColor redColor] setFill];\n[path moveToPoint:CGPointMake(0, 0)];\n[path addLineToPoint:CGPointMake(15, _vwArrow.frame.size.height/2)];\n[path addLineToPoint:CGPointMake(0, _vwArrow.frame.size.height)];\n[path closePath];\n\n//    [path fill ];\n//    [path stroke];\nCAShapeLayer *shapeLayer = [CAShapeLayer new];\nshapeLayer.frame = _vwArrow.bounds;\nshapeLayer.path = path.CGPath;\nshapeLayer.fillColor = self.view.backgroundColor.CGColor;\n//    shapeLayer.strokeColor = [UIColor blackColor].CGColor;\n\n//    _vwArrow.layer.masksToBounds = TRUE;\n[_vwArrow.layer addSublayer:shapeLayer];\n[self.view setNeedsDisplay];\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9928430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39585c0c596157061fcaa3658594b404?s=128&d=identicon&r=PG&f=1", "display_name": "Shree Ram", "link": "https://stackoverflow.com/users/9928430/shree-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53166323, "answer_count": 1, "score": 0, "last_activity_date": 1541484243, "creation_date": 1541473694, "last_edit_date": 1541484243, "question_id": 53165237, "link": "https://stackoverflow.com/questions/53165237/how-to-clip-a-triangular-view-from-a-rectangular-view-in-objective-c", "title": "How to clip a triangular view from a rectangular view in objective C?", "body": "<p>I want view like below image:-\n<a href=\"https://i.stack.imgur.com/C8nt6.png\" rel=\"nofollow noreferrer\">desired view</a>\nI am using UIBezierPath and CAShapeLayer to archives this below code:-</p>\n\n<pre><code>     UIBezierPath *path = [[UIBezierPath alloc] init];\n//    [[UIColor blackColor] setStroke];\n//    [[UIColor redColor] setFill];\n    [path moveToPoint:CGPointMake(_pendingView.frame.origin.x, _pendingView.frame.origin.y)];\n    [path addLineToPoint:CGPointMake(_pendingView.frame.origin.x+15, _pendingView.frame.origin.y+15)];\n    [path addLineToPoint:CGPointMake(_pendingView.frame.origin.x, _pendingView.frame.origin.y+30)];\n    [path closePath];\n\n//    [path fill ]; \n//    [path stroke];\n    CAShapeLayer *shapeLayer = [CAShapeLayer new];\n    shapeLayer.frame = _pendingView.bounds;\n    shapeLayer.path = path.CGPath;\n    shapeLayer.fillColor = [UIColor redColor].CGColor;\n    shapeLayer.strokeColor = [UIColor blackColor].CGColor;\n\n    self.pendingView.layer.mask = shapeLayer;\n   // [self.pendingView.layer addSublayer:shapeLayer];\n</code></pre>\n\n<p>but i am unable to achieve. View appear without Clipping and background colour of view.</p>\n\n<p><strong>P.S :- pendingview is a view.</strong></p>\n\n<p><strong>AS PER @inderJit suggestion</strong>, i rectify my code but i am getting this <a href=\"https://i.stack.imgur.com/7FaLj.png\" rel=\"nofollow noreferrer\">output image</a> not desired one which above attached. View background colour causing problem. how can i achieve that??</p>\n"}, {"tags": ["ios", "objective-c", "calayer"], "owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1541491097, "creation_date": 1541473047, "last_edit_date": 1541491097, "question_id": 53165173, "link": "https://stackoverflow.com/questions/53165173/why-calayer-catransaction-commit-not-react-instantly-in-scrollviewdidscroll", "title": "Why CALayer, [CATransaction commit], not react instantly in scrollViewDidScroll:", "body": "<p>Inserted a <code>CALayer</code>, and then <code>[CATransaction commit]</code> in <code>scrollViewDidScroll:</code></p>\n\n<p>why it not reacts instantly  in <code>scrollViewDidScroll:</code>?</p>\n\n<p>to quick drag issues, there is a a flash blank.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xd8B8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xd8B8.gif\" alt=\"q\"></a></p>\n\n<p>slow handling is OK</p>\n\n<p><a href=\"https://i.stack.imgur.com/ryiSb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ryiSb.gif\" alt=\"img normal\"></a></p>\n\n<p>Here is the code:</p>\n\n<pre><code>- (void)viewDidLoad {\n    self.backLayer = [[CALayer alloc] init];\n    self.backLayer.frame = CGRectMake(0, 0, KScreenWidth, 0);\n    [self.view.layer addSublayer: self.backLayer];\n    self.backLayer.backgroundColor = navigationBarBuleColor.CGColor;\n    self.backLayer.actions = @{@\"position\":[NSNull null]};\n}\n\n- (void)scrollViewDidScroll:(UIScrollView *)scrollView{\n    CGFloat y = scrollView.contentOffset.y;\n    if (y&gt;0) {\n        self.backLayer.opacity = 0;\n    }\n    else{\n\n        [CATransaction begin];\n        [CATransaction setValue:(id)kCFBooleanTrue forKey:kCATransactionDisableActions];\n        CGRect frame = self.backLayer.frame;\n        frame.size.height = (fabs(y));\n        self.backLayer.frame = frame;\n        self.backLayer.opacity = 1;\n        [CATransaction commit];\n    }\n}\n</code></pre>\n\n<p>I have checked <a href=\"https://stackoverflow.com/questions/34380649/update-calayer-sublayers-immediately\">Update CALayer sublayers immediately</a>.</p>\n\n<p>And I use UIView, it is OK.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>- (void)viewDidLoad {\n    self.assistView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, KScreenWidth, 0)];\n    self.assistView.backgroundColor = navigationBarBuleColor;\n    [self.view addSubview:self.assistView];\n}\n\n- (void)scrollViewDidScroll:(UIScrollView *)scrollView{\n    CGFloat y = scrollView.contentOffset.y;\n    if (y&gt;0) {\n        self.assistView.alpha = 0;\n    } else{\n        CGRect frame = self.assistView.frame;\n        frame.size.height = (fabs(y));\n        self.assistView.frame = frame;\n        self.assistView.alpha = 1;\n        [self.view setNeedsLayout];\n    }\n}\n</code></pre>\n\n<p>what it the method of CALayer , equal to <code>setNeedsLayout</code>?</p>\n\n<p>More info: I try to solve the problem with layer <a href=\"https://stackoverflow.com/questions/53114423/how-to-set-uitableview-empty-spaces-backgroundcolor-different\">How to set UITableView empty space&#39;s backgroundColor different?</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "clang", "module-map"], "comments": [{"owner": {"reputation": 3124, "user_id": 3413418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/quYXr.png?s=128&g=1", "display_name": "Razib Mollick", "link": "https://stackoverflow.com/users/3413418/razib-mollick"}, "edited": false, "score": 0, "creation_date": 1541465538, "post_id": 53163988, "comment_id": 93219150, "body": "try like #import &quot;../../Foo.h&quot; if you import from bar.h."}, {"owner": {"reputation": 405, "user_id": 1431713, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d6d4ef68503cb559586925f1ffbdf816?s=128&d=identicon&r=PG", "display_name": "Glauco", "link": "https://stackoverflow.com/users/1431713/glauco"}, "reply_to_user": {"reputation": 3124, "user_id": 3413418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/quYXr.png?s=128&g=1", "display_name": "Razib Mollick", "link": "https://stackoverflow.com/users/3413418/razib-mollick"}, "edited": false, "score": 0, "creation_date": 1541467196, "post_id": 53163988, "comment_id": 93219467, "body": "I&#39;m importing from baz.h and  &quot;../Foo.h&quot; works! What I don&#39;t understand is why do I need to do that? Is it because Foo.h is marked as public? For example, if Foo.h is private, importing like #import &quot;Foo.h&quot; works as well. I&#39;ve been reading <a href=\"https://clang.llvm.org/docs/Modules.html\" rel=\"nofollow noreferrer\">clang.llvm.org/docs/Modules.html</a> but I can&#39;t find an obvious reason. Thanks!"}], "owner": {"reputation": 405, "user_id": 1431713, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d6d4ef68503cb559586925f1ffbdf816?s=128&d=identicon&r=PG", "display_name": "Glauco", "link": "https://stackoverflow.com/users/1431713/glauco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1725, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541462199, "creation_date": 1541462199, "question_id": 53163988, "link": "https://stackoverflow.com/questions/53163988/failing-to-integrate-a-swift-and-objective-c-framework", "title": "Failing to integrate a Swift and Objective-C framework", "body": "<p>I'm trying to add swift support to an existing Objective-C based framework and I'm running into compilation errors when integrating the framework into the app (the framework alone builds fine).</p>\n\n<p>My goal is to be able to access from swift, Objective-C project headers and to achieve this I've been using a modulemap file to list all the project files as indicated for example here: <a href=\"http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/\" rel=\"nofollow noreferrer\">http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/</a></p>\n\n<p>My directory structure is as follow:</p>\n\n<pre><code>MyFramework  \n Folder1  \n      baz.h  \n      baz.m  \n      Folder2  \n           bar.h  \n           bar.m  \n foo.h  \n foo.m  \n SwiftClass.swift  \n MyFramework.h  \n module.modulemap\n</code></pre>\n\n<p>The module.modulemap file looks like this:</p>\n\n<pre><code>module MyFramework_Internal {  \nheader \"Folder1/Baz.h\"  \nheader \"Folder1/Folder2/Bar.h\"  \nexport *\n} \n</code></pre>\n\n<p><em>foo</em> is public, <em>bar</em> and <em>baz</em> have project membership instead. If <em>bar.h</em> includes <em>foo</em> (e.g. <em>#import \"Foo.h\"</em>), building the app fails with the following error:</p>\n\n<pre><code>&lt;module-includes&gt;:2:9: note: in file included from &lt;module-includes&gt;:2:\n#import \"Folder1/Folder2/Bar.h\"  \n         ^\n.../Folder1/Folder2/Bar.h:10:9: error: 'Baz.h' file not found  \n#import \"Baz.h\"  \n         ^  \n&lt;unknown&gt;:0: error: could not build Objective-C module 'MyFramework_Internal'\n</code></pre>\n\n<p>Any idea of what I'm doing wrong? Because I'm not sure why importing that public header is causing this sort of error.</p>\n"}, {"tags": ["ios", "objective-c", "vpn", "nevpnmanager"], "comments": [{"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541473981, "post_id": 53163717, "comment_id": 93220740, "body": "Those are Objective-C names that you&#39;re looking for: <a href=\"https://developer.apple.com/documentation/networkextension/nevpnconnection/nevpnstatus?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/networkextension/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 1386725, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bd3f398fc4638276f219acc06ca65134?s=128&d=identicon&r=PG", "display_name": "munibsiddiqui", "link": "https://stackoverflow.com/users/1386725/munibsiddiqui"}, "is_accepted": false, "score": 0, "last_activity_date": 1542605467, "last_edit_date": 1542605467, "creation_date": 1542604311, "answer_id": 53368660, "question_id": 53163717, "link": "https://stackoverflow.com/questions/53163717/check-vpn-connection-in-objective-c/53368660#53368660", "title": "Check VPN connection in Objective-C", "body": "<p>Add observer in your ViewDidLoad to get the VPN Status. </p>\n\n<pre><code>self.vpnManager.loadFromPreferences { (error) in\n          if error != nil {\n            print(error.debugDescription)\n          }\n         else{\n            print(\"No error from loading VPN viewDidLoad\")\n         }\n     }\n\n notificationObserver = NSNotificationCenter.defaultCenter().addObserverForName(NEVPNStatusDidChangeNotification, object: nil , queue: nil) {\n   notification in\n\n   print(\"received NEVPNStatusDidChangeNotification\")\n\n   let nevpnconn = notification.object as! NEVPNConnection\n   let status = nevpnconn.status\n   self.checkNEStatus(status)\n}\n</code></pre>\n"}], "owner": {"reputation": 3015, "user_id": 755094, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d50e32f04ab40db234466f8879f215b7?s=128&d=identicon&r=PG", "display_name": "ios developer", "link": "https://stackoverflow.com/users/755094/ios-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 872, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542605467, "creation_date": 1541459961, "last_edit_date": 1541473915, "question_id": 53163717, "link": "https://stackoverflow.com/questions/53163717/check-vpn-connection-in-objective-c", "title": "Check VPN connection in Objective-C", "body": "<p>I wanted to check VPN connection is there or not.\nI found code in Swift but I can not use NEVPNStatus in Objective-C: </p>\n\n<pre><code>func checkNEStatus( status:NEVPNStatus ) {\n    switch status {\n    case NEVPNStatus.Invalid:\n      print(\"NEVPNConnection: Invalid\")\n    case NEVPNStatus.Disconnected:\n      print(\"NEVPNConnection: Disconnected\")\n    case NEVPNStatus.Connecting:\n      print(\"NEVPNConnection: Connecting\")\n    case NEVPNStatus.Connected:\n      print(\"NEVPNConnection: Connected\")\n    case NEVPNStatus.Reasserting:\n      print(\"NEVPNConnection: Reasserting\")\n    case NEVPNStatus.Disconnecting:\n      print(\"NEVPNConnection: Disconnecting\")\n  }\n}\n</code></pre>\n\n<p>I am using below code for Objective-C: but it doesn't work in some of Chinese network device. They are sending \"TUN\" if the network is still not using vpn.</p>\n\n<pre><code>- (BOOL)isVPNConnected\n{\n    NSDictionary *dict = CFBridgingRelease(CFNetworkCopySystemProxySettings());\n    NSArray *keys = [dict[@\"__SCOPED__\"]allKeys];\n    NSLog(@\"keys==&gt;%@\",keys);\n    for (NSString *key in keys) {\n        if ([key rangeOfString:@\"tap\"].location != NSNotFound ||\n            [key rangeOfString:@\"tun\"].location != NSNotFound ||\n            [key rangeOfString:@\"ipsec\"].location != NSNotFound ||\n            [key rangeOfString:@\"ppp\"].location != NSNotFound){\n            return YES;\n        }\n    }\n    return NO;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "methods", "parse-platform", "properties"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1541458883, "post_id": 53163492, "comment_id": 93217483, "body": "You must be calling <code>getParticipantsArray</code> before the property has been set (possibly from somewhere else or you are creating another instance of the view controller somewhere).  Set a breakpoint in <code>getParticipantsArray</code> to identify the caller."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1541459041, "post_id": 53163492, "comment_id": 93217523, "body": "That is very logical :) but it still crashes because of the same exception I am afraid"}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 1, "creation_date": 1541459192, "post_id": 53163492, "comment_id": 93217567, "body": "I can&#39;t parse the posted code.  Did you leave out some?  Maybe where the PFQuery find is run?  I think what&#39;s happening is that you&#39;re setting the objectId property in the (async) completion block of a query, but testing it before that query completes.  Can you double check the code?  It couldn&#39;t compile as is"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1541459314, "post_id": 53163492, "comment_id": 93217606, "body": "Ok, after your edit it makes more sense; You are setting <code>self.objectID</code> asynchronously."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541459438, "post_id": 53163492, "comment_id": 93217643, "body": "Yeah I pasted the full viewdidload !"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541459566, "post_id": 53163492, "comment_id": 93217676, "body": "I remember something about a dispatch_sync. I am not sure if its about something related to that"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1541459856, "post_id": 53163492, "comment_id": 93217792, "body": "You need to move the call to <code>[self getParticipantsarray];</code> to be inside the completion block where you set <code>self.ObjectID</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541461167, "post_id": 53163492, "comment_id": 93218191, "body": "In fact now I don&#39;t get the exception error, so seems to work fine"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541461960, "post_id": 53163492, "comment_id": 93218388, "body": "But I edited my question because now ObjectID in equalTo:self.ObjectID is null. I believe its again because this query is being performed asynchronously."}], "owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541540356, "creation_date": 1541458623, "last_edit_date": 1541540356, "question_id": 53163492, "link": "https://stackoverflow.com/questions/53163492/how-can-i-make-a-property-to-be-available-non-null-inside-a-method", "title": "How can I make a property to be available (non-Null) inside a method?", "body": "<p>I have this property defined</p>\n\n<pre><code>@property (nonatomic, strong) NSString *ObjectID;\n</code></pre>\n\n<p>And this is my ViewDidLoad:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    PFQuery *getObjectIDforRow = [PFQuery queryWithClassName:@\"Event\"];\n    [getObjectIDforRow selectKeys:@[@\"objectId\"]]; // We decide which fields to get\n    [getObjectIDforRow whereKey:@\"Organizator\" notEqualTo:PFUser.currentUser.username];\n    [getObjectIDforRow whereKey:@\"EventLocation\" equalTo:Pointfrommap];\n\n    // This method is to get the ObjectID for the selected row\n    [getObjectIDforRow findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {\n        if (!error) {\n            // We save the Object ID found in a NSString\n            self.ObjectID = [NSString stringWithFormat:@\"%@\", [objects valueForKey:@\"objectId\"]];\n\n            NSLog(@\"Object ID %@\", self.ObjectID);\n\n            [self getParticipantsarray]; // Here the exception won't come, but self.ObjectID is still null\n\n\n        } else {\n            // Log details of the failure\n            NSLog(@\"Error: %@ %@\", error, [error userInfo]);\n        }\n    }];\n\n\n}\n</code></pre>\n\n<p>And this is the getParticipantsarray:</p>\n\n<pre><code>-(void)getParticipantsarray{\n\n    NSLog(@\"Object ID is %@\", self.ObjectID); // ID = Gj95aETEWq\n\n     PFQuery *getArrayParticipants = [PFQuery queryWithClassName:@\"Event\"];\n    [getArrayParticipants selectKeys:@[@\"Participants\"]]; // We decide which fields to get\n\n    [getArrayParticipants whereKey:@\"ObjectId\" equalTo:self.ObjectID]; // Here ObjectID is Null \n        } else {\n            // Log details of the failure\n            NSLog(@\"Error: %@ %@\", error, [error userInfo]);\n        }\n    }];\n}\n</code></pre>\n\n<p><strong>My problem:</strong></p>\n\n<p>For some reason I don't know, <code>ObjectID</code> hold a null value inside the <code>getArrayParticipants</code> <code>PFQuery</code> I created, whereas in the <code>viewDidLoad</code>, and event inside the method, holds the correct value. </p>\n\n<p><strong>My guess:</strong></p>\n\n<p>I think it has something to do with synchronous/async threads, as it was pointed before</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 1, "creation_date": 1541453360, "post_id": 53162473, "comment_id": 93215353, "body": "&quot;(sometimes server return it as a string, sometimes as a boolean value)&quot; wat"}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541453521, "post_id": 53162473, "comment_id": 93215413, "body": "@Alexander sometimes value come as a string like &quot;0&quot;, sometimes as false"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 1, "creation_date": 1541453723, "post_id": 53162473, "comment_id": 93215497, "body": "<code>&quot;false&quot;</code> or <code>false</code>?"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 1, "creation_date": 1541454134, "post_id": 53162473, "comment_id": 93215661, "body": "How do you get and declare your <code>data</code> from the server? Please show your current Swift code accessing <code>data.isActive</code> with all relevant declarations and definitions."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541454139, "post_id": 53162473, "comment_id": 93215664, "body": "@Alexander JSON example { &quot;isActive&quot;: false} or {&quot;isActive&quot;:&quot;0&quot;}. Since the assigning happened from NSDictionary, it may stay wrapped inside any class. My question is not about input data, it&#39;s about how to resolve this particular case that worked in objc but now not working with swift."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541454185, "post_id": 53162473, "comment_id": 93215687, "body": "@OOPer there is no need for that, please read my comment above"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 4, "creation_date": 1541454222, "post_id": 53162473, "comment_id": 93215704, "body": "YOU think no need, readers do."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541454569, "post_id": 53162473, "comment_id": 93215852, "body": "@OOPer I&#39;m telling you all variables classes and values, there is no need to wrote how they are assigned since it&#39;s not relevant if you already know the output."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 3, "creation_date": 1541454648, "post_id": 53162473, "comment_id": 93215885, "body": "YOU think so, think in a way readers do."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541454861, "post_id": 53162473, "comment_id": 93215971, "body": "@OOPer readers are given enough information, you could reverse engineer it back to assigning. The question is not about that at all."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541455057, "post_id": 53162473, "comment_id": 93216051, "body": "OK, you think it&#39;s enough. Then the vadian&#39;s answer is enough or the linked answer is enough. If you really had shown enough info for readers, you would not get such an answer or marked as duplicate or downvoted."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541455147, "post_id": 53162473, "comment_id": 93216093, "body": "@Sh_Khan please create a variable in Objc of class NSString, assign to it bool via cast and then pass this to swift and try to check for class. You would have a crash. My question is not about swift-swift class compare, it&#39;s about objc-swift compare. The questions that you link does not work in my case."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541455476, "post_id": 53162473, "comment_id": 93216253, "body": "@OOPer I agree with enough, I showed enough info for a problem description, You don&#39;t need to know how Universe was created in order to make a pie. Both of linked question and vadian answer would not work, you could check that by example I described above."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541456483, "post_id": 53162473, "comment_id": 93216636, "body": "I&#39;m not telling you to show Universe, but just saying all the gradients and equipments to make the pie. You&#39;re just complaining some recipe based on other equipment would not work. When you have enough info shown, you will get a right answer."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541458223, "post_id": 53162473, "comment_id": 93217297, "body": "@OOPer thank you for your time and effort, please see the attached project on GitHub, It illustrates the problem :)"}], "answers": [{"comments": [{"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541454948, "post_id": 53162582, "comment_id": 93216007, "body": "thanks, but it still fails with [__NSCFBoolean _fastCStringContents:] since in class comparing swift assume that NSString would be NSString :)"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "reply_to_user": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541455039, "post_id": 53162582, "comment_id": 93216042, "body": "Avoid <code>NS</code> classes for example don&#39;t use <code>NSDictionary</code> and <code>NSArray</code>. Use native Swift types. And don&#39;t try to translate ObjC literally to Swift."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541455320, "post_id": 53162582, "comment_id": 93216180, "body": "@vadin thanks, but the question is exactly about objc-swift. Please create a variable in Objc of class NSString, assign to it bool via cast and then pass this to swift and try to check for class. You would have a crash. I just dont want to fall back to objc wrapped in order to fix that, but looks like that the only way"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541455380, "post_id": 53162582, "comment_id": 93216203, "body": "&quot;assign to it bool via cast&quot; ...don&#39;t do this."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541455439, "post_id": 53162582, "comment_id": 93216229, "body": "You wrote <i>...I rewrote the Objc part</i>. Once again, don&#39;t <i>translate Objc code literally</i> and don&#39;t use <code>NSString, NSDictionary</code> etc in Swift."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541455613, "post_id": 53162582, "comment_id": 93216313, "body": "@Alexander imagine you have an SDK that does that and you can&#39;t change it or live without it. That why I wrote, &quot;Please assume that this part of the code could not be changed.&quot; :)"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541455800, "post_id": 53162582, "comment_id": 93216389, "body": "@Taier The author of that library knew they couldn&#39;t assign <code>NSString</code> to where <code>bool</code> is expected. They did anyway. Unfortunately, you have to deal with the consequences. Either clean up their mess, or write up some nasty hack in Swift to handle the weird type."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541455805, "post_id": 53162582, "comment_id": 93216393, "body": "@vaian thanks, I understand that, the thing is its not possible to rewrite it in any way in swift since any call to such wrapped variable resolves in crash. And since NSString come from class that is bridge-headered.. there are not much that I could do from swift :)"}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541455987, "post_id": 53162582, "comment_id": 93216460, "body": "@Alexander the second part is exatcly my questions. Its not possible since any call to such wrapped variable resolvs in crash. The only way that I see is to fall back for a objc wrapper that would incapsulate boolValue comparison and return true/false back.."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541456258, "post_id": 53162582, "comment_id": 93216559, "body": "@Taier What exactly is the type of the <code>isActive</code> property on class of <code>data</code>? Is it <code>bool</code>?"}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541456330, "post_id": 53162582, "comment_id": 93216582, "body": "@Alexander NSString as its written in the first sentence of the question :)"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541456394, "post_id": 53162582, "comment_id": 93216606, "body": "I tested to return <code>@&quot;false&quot;.boolValue;</code> from an ObjC class via bridging header. I get a Swift <code>Bool</code> <code>false</code> and even with <code>@&quot;hello&quot;.boolValue;</code> I get Swift <code>Bool</code> <code>true</code>. I suspect the error is somewhere else."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541456660, "post_id": 53162582, "comment_id": 93216705, "body": "@Taier That doesn&#39;t match what you said in an earlier comment: &quot;NSString, assign to it bool via cast and then pass this to swift and try to check for class.&quot; That implies that it was an <code>NSString</code> being assigned to a variable of type <code>bool</code>. So which is it?"}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541457968, "post_id": 53162582, "comment_id": 93217192, "body": "@vadian thanks for your time, I created a test project on GitHub in order to illustrate the problem. Although I used NSNumber, it would work the same for CFBoolean."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1541457980, "post_id": 53162582, "comment_id": 93217202, "body": "@Alexander thanks for your time, I created a test project on GitHub in order to illustrate the problem. Although I used NSNumber, it would work the same for CFBoolean."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541458842, "post_id": 53162582, "comment_id": 93217471, "body": "Your code contains a fatal mistake. The value of the ObjC dictionary is <code>NSNumber</code> but the return type is <code>NSString</code>. This cannot work. Change the ObjC return type to <code>id</code> which is <code>Any</code> in Swift."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "edited": false, "score": 0, "creation_date": 1541459479, "post_id": 53162582, "comment_id": 93217653, "body": "@vadian thank you for looking, yes, that the thing) in Objc it was possible to overcome because of a messaging structure. I was looking for a way to overcome that in swift without touching objc implementation."}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 0, "last_activity_date": 1541456864, "last_edit_date": 1541456864, "creation_date": 1541453752, "answer_id": 53162582, "question_id": 53162473, "link": "https://stackoverflow.com/questions/53162473/access-cfboolean-that-is-wrapped-inside-nsstring-in-swift-4/53162582#53162582", "title": "Access CFBoolean that is wrapped inside NSString in Swift 4", "body": "<p>Objective-C is very <em>typeinsensitive</em>, from the BOOL perspective <code>0</code>, <code>\"0\"</code>, <code>\"NO\", ``false</code>, <code>\"false\"</code> and even <code>nil</code> is <code>false</code>, everything else is treated as <code>true</code>. That's why <code>NSString</code> has a <code>boolValue</code> property. It just returns <code>value != 0</code>.</p>\n\n<p>Swift is a strong typed language. You have to check the type:</p>\n\n<pre><code>let value : StringOrBool\n\nlet result : Bool\nswitch value {\n  case let boolValue as Bool: result = boolValue\n  case let stringValue as String: result = stringValue == \"1\" || stringValue == \"true\"\n  default: result = false\n}      \n</code></pre>\n"}], "owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 53162582, "answer_count": 1, "score": -6, "last_activity_date": 1541457919, "creation_date": 1541453153, "last_edit_date": 1541457919, "question_id": 53162473, "link": "https://stackoverflow.com/questions/53162473/access-cfboolean-that-is-wrapped-inside-nsstring-in-swift-4", "title": "Access CFBoolean that is wrapped inside NSString in Swift 4", "body": "<p>I have a value that is coming from the server, it's saving to <code>NSString</code> variable (sometimes server return it as a string, sometimes as a boolean value).</p>\n\n<p><strong>Please assume that this part of the code could not be changed.</strong></p>\n\n<p>The problem came when I rewrote the Objc part to the swift 4</p>\n\n<p>The code that I have in Objc:</p>\n\n<pre><code>[data.isActive boolValue]\n</code></pre>\n\n<p>In swift 4 it fails since there are no <code>.boolValue</code> notation in String, you only could convert String to bool using <code>Bool()</code> syntax. And since the value is not a real string, calling <code>Bool()</code> would resolve in crashes because of <code>CFBoolean unrecognized selector</code> since it was force wrapped from String.   </p>\n\n<p>Is there any way to overcome that without falling back for Objc code that would wrap those transformations? </p>\n\n<p>Please check this <a href=\"https://github.com/taier/cast-wrapper-error\" rel=\"nofollow noreferrer\">test project on GitHub</a></p>\n\n<p>It even fails on assigning those type of value to any swift object. </p>\n"}, {"tags": ["objective-c", "swift", "macos", "applescript"], "comments": [{"owner": {"reputation": 1157, "user_id": 3505188, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zm9V5.jpg?s=128&g=1", "display_name": "Patrick Wynne", "link": "https://stackoverflow.com/users/3505188/patrick-wynne"}, "edited": false, "score": 3, "creation_date": 1541456884, "post_id": 53161553, "comment_id": 93216792, "body": "You&#39;d be better off figuring out which application is keeping Secure Input active and dealing with that than disabling it system-wide. See this thread for a tip on how to find out which app is the culprit: <a href=\"https://forum.keyboardmaestro.com/t/disable-secure-input/2410/4\" rel=\"nofollow noreferrer\">forum.keyboardmaestro.com/t/disable-secure-input/2410/4</a>"}, {"owner": {"reputation": 1157, "user_id": 3505188, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zm9V5.jpg?s=128&g=1", "display_name": "Patrick Wynne", "link": "https://stackoverflow.com/users/3505188/patrick-wynne"}, "edited": false, "score": 2, "creation_date": 1541456938, "post_id": 53161553, "comment_id": 93216818, "body": "To be honest, I&#39;m not even sure you <i>can</i> disable it system-wide. It&#39;s usually enabled or disabled depending on if you are typing in a password field or not."}, {"owner": {"reputation": 4176, "user_id": 3776782, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kDosW.png?s=128&g=1", "display_name": "turingtested", "link": "https://stackoverflow.com/users/3776782/turingtested"}, "edited": false, "score": 0, "creation_date": 1549361238, "post_id": 53161553, "comment_id": 95865327, "body": "What happens if you go System Preferences / Security &amp; Privacy / Privacy. Choose &quot;Full Disk Access&quot; in the left panel, unlock, and in the window to the right add and enable the apps &quot;Terminal&quot; and &quot;Script Editor&quot;? If it doesn&#39;t change anything, you can just change back, or try other applications. My idea is that those utility apps often highly depend on access to everything and uses AppleScript and Bash commands in the background. So maybe BetterTouchTools starts behave like it should if you do this, I mean."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 4176, "user_id": 3776782, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kDosW.png?s=128&g=1", "display_name": "turingtested", "link": "https://stackoverflow.com/users/3776782/turingtested"}, "edited": false, "score": 0, "creation_date": 1549378872, "post_id": 53161553, "comment_id": 95875865, "body": "@turingtested Script Editor, Terminal and other apps must be added to the pref pane to run a script or command which needs access. How is Full Disk Access related to Secure Input?"}, {"owner": {"reputation": 4176, "user_id": 3776782, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kDosW.png?s=128&g=1", "display_name": "turingtested", "link": "https://stackoverflow.com/users/3776782/turingtested"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1549379670, "post_id": 53161553, "comment_id": 95876358, "body": "@Willeke Nothing, I guess... but please read the rest of the comment. The app may depend on having full disk access to behave as intended. It&#39;s something I would try anyway before trying to fix the secure input-issue."}], "owner": {"reputation": 7527, "user_id": 5454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/538ac6ed16cac706778b7787b02080bd?s=128&d=identicon&r=PG", "display_name": "soapergem", "link": "https://stackoverflow.com/users/5454/soapergem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2570, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1549365903, "creation_date": 1541448905, "last_edit_date": 1592644375, "question_id": 53161553, "link": "https://stackoverflow.com/questions/53161553/how-can-i-programmatically-disable-secure-input", "title": "How can I programmatically disable Secure Input?", "body": "<p>I use a third-party key-mapping tool on my work Mac called <a href=\"https://folivora.ai/\" rel=\"noreferrer\">BetterTouchTool</a>. Recently, due to what I believe is corporate interference, it's effectively been disabled due to a macOS feature called &quot;Secure Input&quot; being made active. BetterTouchTool actually has detection for this, and here's what their description of the feature says:</p>\n<blockquote>\n<p>Secure input is a macOS security feature which can be enabled &amp; disabled by any app. Usually this is used while password fields are active in order to prevent other apps from logging sensitive data. If secure input is enabled, BetterTouchTool can not track the keyboard events using the new implementation.</p>\n<p>Unfortunately there are some apps that don't disable secure keyboard input and keep it always on. If you have this option enabled, BetterTouchTool will automatically switch to the old keyboard shortcut implementation if secure input is active. However the advanced features (see above) won't work in that case.</p>\n</blockquote>\n<p>Long story short... it doesn't appear the fallback option they mention is working correctly, so I'm trying to find ways to disable this &quot;Secure Input&quot; option. I've also noticed that another third-party app I use, <a href=\"https://bahoom.com/hyperswitch\" rel=\"noreferrer\">Hyper Switch</a>, has stopped working as well for (I assume) the same reason. If their description is correct, and any app can indeed enable or disable the feature, I should be able to write my own app and programatically disable Secure Input. So I've downloaded Xcode but I don't really know where to begin.</p>\n<p>Is there some way, either through Objective-C/Swift, or through Applescripts, or through any other programmatic access, to disable Secure Input globally? Is there some macOS API call to do it? Even if it's something that I have to run each time I log into the machine, that would be fine... as long as it works!</p>\n<p>How can I programmatically disable this feature from an app?</p>\n"}, {"tags": ["ios", "objective-c", "nspredicate"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1541451532, "post_id": 53161349, "comment_id": 93214586, "body": "Not sure I understand the objective: Who should &#39;Doe Jane&#39; match?  Who should &#39;Doe Jane John&#39; match?"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1541522234, "post_id": 53161349, "comment_id": 93242232, "body": "Doe Jane would match Jane Doe.  Doe Jane John would yield multiple possibilities that require disambiguation, ie more information.  I have another method that does that so here I&#39;m just looking for exact matches."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1541523216, "post_id": 53161349, "comment_id": 93242810, "body": "A very common approach is to augment the data with a field that makes the query easy.  In this case, for example, a field like <code>matchableNames</code> that contains the names that might match (first and last).  Set this on insert and update of the record.  With this, you can use the IN operator in the predicate (see <a href=\"https://stackoverflow.com/questions/30237717/how-to-get-all-items-with-nspredicate-contains-in-array\" title=\"how to get all items with nspredicate contains in array\">stackoverflow.com/questions/30237717/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1541522398, "post_id": 53161704, "comment_id": 93242342, "body": "The compound approach is what I ended up with. I use different predicates depending on number of words.  It&#39;s still clunky.  Voting your answer correct as you get the idea and there isn&#39;t as far as I can tell a better alternative .  Just wish there was a more efficient/ elegant way to do it."}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "reply_to_user": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1541534826, "post_id": 53161704, "comment_id": 93248507, "body": "Sounds good.  Yah, not as elegant as one would like for sure.  Thx."}], "tags": [], "owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "is_accepted": true, "score": 1, "last_activity_date": 1541449583, "creation_date": 1541449583, "answer_id": 53161704, "question_id": 53161349, "link": "https://stackoverflow.com/questions/53161349/core-data-find-single-match-on-two-attributes/53161704#53161704", "title": "Core Data Find Single Match on Two Attributes", "body": "<p>You can use <code>NSCompoundPredicate</code> and put a bunch of <code>NSPredicates</code> with the various ordering possibilities like the one you made in your example, but that will obviously be limited to the number of words you want to write predicate combinations for.</p>\n\n<p>(probably obviously, but you are creating a series of predicates like: ( (stringA and string B) or (stringB and stringA), or (stringA and stringC) or (stringC and stringA) or (stringB and stringC) or (stringC and stringB) ).</p>\n\n<p>You can create these predicates relatively cleanly by writing a predicate with variables and then using <code>predicateWithSubstitutionVariables:</code> repeatedly with different dictionary of variable -> word mappings to get the various arrangements.</p>\n\n<p>The trick is, at some point you are trying to do free form full text searching across structured data without a full text index.  Here's a <a href=\"https://halmueller.wordpress.com/2013/03/31/options-for-full-text-search-in-core-data/\" rel=\"nofollow noreferrer\">decent blog post</a> (though old) on the challenges of doing that.</p>\n\n<p>An alternative is to design your user interface to get the user to you the data in an easier form to deal with.  For example, give the user a form for their query with the valid fields to fill in.  Or at least direct them with prompt text for your open entry single text field with something like \"Enter the person's first and last name\" or whatever makes sense.</p>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 53161704, "answer_count": 1, "score": 0, "last_activity_date": 1541449583, "creation_date": 1541447962, "last_edit_date": 1541449048, "question_id": 53161349, "link": "https://stackoverflow.com/questions/53161349/core-data-find-single-match-on-two-attributes", "title": "Core Data Find Single Match on Two Attributes", "body": "<p>This use case should be reasonably common but I can't seem to figure it out or find any ways to solve it on the web.  I would like to search an employee database using natural language, ie an unstructured word string.</p>\n\n<p>Let's say you have a core data entity with three attributes as follows:</p>\n\n<pre><code>firstname string\nlastname string\nEmployee_id string\n</code></pre>\n\n<p>And you have the following managed objects</p>\n\n<pre><code>Jane | Smith | 1\nJane | Smiley | 2\nJane | Doe | 3\nJohn | Doe | 4\nRichard | Doe | 5\n</code></pre>\n\n<p>How would you get the employee-id for the string 'Jane Doe' or 'Doe Jane' or 'Doe Jane accounting'?</p>\n\n<p>If you knew for sure that there were just two words and the order was firstname, second name then you could do.</p>\n\n<pre><code>NSArray *words = [string componentsSeparatedByString:@\" \"];   \nNSPredicate *pred = [NSPredicate predicateWithFormat:@\"firstname beginswith[cd] %@ AND lastname beginswith[cd]\", words[0],words[1]];\n</code></pre>\n\n<p>But in this case, I don't know the order or number of words.</p>\n\n<p>Thanks in advance for any suggestions.</p>\n"}, {"tags": ["objective-c", "macos", "appstore-sandbox"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 1, "last_activity_date": 1541440339, "creation_date": 1541440339, "answer_id": 53159636, "question_id": 53158816, "link": "https://stackoverflow.com/questions/53158816/how-do-i-get-user-s-ip-address-while-staying-approved-for-sandbox-mode-in-macos/53159636#53159636", "title": "How do I get user\u2019s IP address while staying approved for Sandbox mode in MacOS?", "body": "<p>No idea offhand if there is a sandbox friendly API, but you could load a dynamic web page from your server which returns the IP address of the requester, or parse the output from one of the many sites that offer the service - search \"what's my IP\". HTH</p>\n"}], "owner": {"reputation": 52, "user_id": 3198971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26Lgd.jpg?s=128&g=1", "display_name": "Zach Gibson", "link": "https://stackoverflow.com/users/3198971/zach-gibson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "closed_date": 1541498304, "accepted_answer_id": 53159636, "answer_count": 1, "score": 0, "last_activity_date": 1541440339, "creation_date": 1541436876, "question_id": 53158816, "link": "https://stackoverflow.com/questions/53158816/how-do-i-get-user-s-ip-address-while-staying-approved-for-sandbox-mode-in-macos", "closed_reason": "Needs details or clarity", "title": "How do I get user\u2019s IP address while staying approved for Sandbox mode in MacOS?", "body": "<p>I\u2019m building an app that requires IP knowledge and I thought you had to turn sandbox off but I noticed an app called <a href=\"https://ipman.io/\" rel=\"nofollow noreferrer\">ipman</a> does this and is in the MacOS App Store.</p>\n"}, {"tags": ["ios", "objective-c", "nsarray", "plist", "nsmutabledictionary"], "answers": [{"tags": [], "owner": {"reputation": 6243, "user_id": 124737, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/uAEQ7.jpg?s=128&g=1", "display_name": "Ron Srebro", "link": "https://stackoverflow.com/users/124737/ron-srebro"}, "is_accepted": true, "score": 0, "last_activity_date": 1541438128, "creation_date": 1541438128, "answer_id": 53159111, "question_id": 53157950, "link": "https://stackoverflow.com/questions/53157950/deleting-the-first-item-in-plist-saved-on-device/53159111#53159111", "title": "Deleting the first item in plist saved on device", "body": "<p>When you are removing the first item from the dictionary you're only removing from the in-memory copy of the file, you're not actually changing the file itself. </p>\n\n<p>Once you're done removing everything you want to remove, you need to save the dictionary back to disk. </p>\n\n<p>You can use:</p>\n\n<pre><code>[self.myLocationArrayInPList removeObjectAtIndex:0]\n[self.myLocationArrayInPList writeToURL:URLtoFile error:&amp;error]\n</code></pre>\n\n<p>See doc here: <a href=\"https://developer.apple.com/documentation/foundation/nsdictionary/2879139-writetourl?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/nsdictionary/2879139-writetourl?language=objc</a></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10451926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rufLI.jpg?s=128&g=1", "display_name": "Amy Shin", "link": "https://stackoverflow.com/users/10451926/amy-shin"}, "is_accepted": false, "score": 0, "last_activity_date": 1541438400, "creation_date": 1541438400, "answer_id": 53159180, "question_id": 53157950, "link": "https://stackoverflow.com/questions/53157950/deleting-the-first-item-in-plist-saved-on-device/53159180#53159180", "title": "Deleting the first item in plist saved on device", "body": "<p>I added</p>\n\n<pre><code>            self.myLocationArrayInPlist = [savedProfile objectForKey:@\"LocationArray\"];\n            [self-&gt;_myLocationArrayInPlist removeObject:frame];\n            [savedProfile writeToFile:fullPath atomically:YES];\n</code></pre>\n\n<p>and this worked as well!</p>\n"}], "owner": {"reputation": 13, "user_id": 10451926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rufLI.jpg?s=128&g=1", "display_name": "Amy Shin", "link": "https://stackoverflow.com/users/10451926/amy-shin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 53159111, "answer_count": 2, "score": 0, "last_activity_date": 1541438400, "creation_date": 1541433778, "question_id": 53157950, "link": "https://stackoverflow.com/questions/53157950/deleting-the-first-item-in-plist-saved-on-device", "title": "Deleting the first item in plist saved on device", "body": "<p>Sorry this is a bit long but I have been struggling with this for a week now... I have created a location tracking iOS application by modifying this <a href=\"https://github.com/voyage11/GettingLocationWhenSuspended\" rel=\"nofollow noreferrer\">code</a>. The LocationManager files adds a new location to my \"LocationArray.plist\", which is saved on the device that can be accessed with File Sharing.</p>\n\n<p>The plist looks like this: <a href=\"https://i.stack.imgur.com/Y1wu8.png\" rel=\"nofollow noreferrer\">LocationArray.plist</a></p>\n\n<p>I made a method that uses a web request and if the <code>requestReply</code> returns \"OK\", I want to erase the first item on the plist (Item 0) in LocationArray. Because it is a saved profile, if I call <code>[self.myLocationArrayInPList removeObjectAtIndex:0]</code>, it registers that it has been deleted, but it is not actually removed from <code>savedProfile</code> in LocationArray.plist.</p>\n\n<pre><code>- (void)removeLocationFromPList {\n     NSString *plistName = [NSString stringWithFormat:@\"LocationArray.plist\"];\n     NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n     NSString *docDir = [paths objectAtIndex:0];\n     NSString *fullPath = [NSString stringWithFormat:@\"%@/%@\", docDir, plistName];\n\n     NSMutableDictionary *savedProfile = [[NSMutableDictionary alloc] initWithContentsOfFile:fullPath];\n     for (NSDictionary *frame in _myLocationArrayInPlist) {\n         NSString *uniqueIdentifier = [[[UIDevice currentDevice] identifierForVendor] UUIDString];\n         NSNumber *two = [frame objectForKey:@\"Latitude\"];\n         NSNumber *three = [frame objectForKey:@\"Longitude\"];\n         NSDate *four = [frame objectForKey:@\"Time\"];\n         NSArray *keys = [_myLocationDictInPlist allKeys];\n         NSString *latitude = [two stringValue];\n         NSString *longitude = [three stringValue];\n         NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];\n         [dateFormatter setDateFormat:@\"yyyy-MM-dd hh:mm:ss\"];\n         NSString *time = [dateFormatter stringFromDate:four];\n\n         NSURLComponents *components = [NSURLComponents componentsWithString:@\"http://api.earlyconnect.com/Product/GPSLog.ashx\"];\n         NSURLQueryItem *identifier = [NSURLQueryItem queryItemWithName:@\"id\" value:uniqueIdentifier];\n         NSURLQueryItem *lat = [NSURLQueryItem queryItemWithName:@\"lat\" value:latitude];\n         NSURLQueryItem *lng = [NSURLQueryItem queryItemWithName:@\"lng\" value:longitude];\n         NSURLQueryItem *tim = [NSURLQueryItem queryItemWithName:@\"t\" value:time];\n         components.queryItems = @[ identifier, lat, lng, tim ];\n         NSURL *url = components.URL; // URL with parameters filled in\n         NSString *urlString = [url absoluteString];\n\n         NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:urlString]];\n\n         NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\n         [[session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n             NSString *requestReply = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];\n             NSData * responseData = [requestReply dataUsingEncoding:NSUTF8StringEncoding];\n             NSDictionary *jsonDict = [NSJSONSerialization JSONObjectWithData:responseData options:kNilOptions error:&amp;error];\n             if([requestReply isEqual:@\"OK\"])\n             {\n                // ERASE FIRST ITEM IN PLIST HERE\n             }\n         }] resume];\n     }\n }\n</code></pre>\n\n<p>To my understanding, I have to erase both myLocationArrayInPlist and myLocatiionDictInPlist inside the savedProfile... but I am not sure. Please help!</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541433403, "post_id": 53157672, "comment_id": 93206168, "body": "You can change the &quot;AppleLanguages&quot; userdefualts and set whatever language you want, but app needs a restart to work."}, {"owner": {"reputation": 45, "user_id": 6859041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493e6870f3580c0aa224b5b173b69472?s=128&d=identicon&r=PG&f=1", "display_name": "Gaya3", "link": "https://stackoverflow.com/users/6859041/gaya3"}, "reply_to_user": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541434393, "post_id": 53157672, "comment_id": 93206799, "body": "but I want it without app restart.."}, {"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541434458, "post_id": 53157672, "comment_id": 93206849, "body": "Unfortunately that is the only way if you are depending on Apple localization."}, {"owner": {"reputation": 3895, "user_id": 1505074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8cfb7972cb291056f13e031e0b148?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1505074/christian"}, "edited": false, "score": 0, "creation_date": 1541434601, "post_id": 53157672, "comment_id": 93206924, "body": "if you want to use it without app-restart you have to build the localization yourself. You can still use .strings-Files but need to use a function to pull the right translation for the current setting instead of just the translation for a key."}], "answers": [{"tags": [], "owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "is_accepted": true, "score": 1, "last_activity_date": 1541440180, "creation_date": 1541440180, "answer_id": 53159597, "question_id": 53157672, "link": "https://stackoverflow.com/questions/53157672/change-app-language-using-button-programmatically/53159597#53159597", "title": "Change app language using button programmatically", "body": "<p>Use <code>localization</code> to change the language of the application without restart.</p>\n\n<ol>\n<li>Go to project -> select your project in the document outline -> Add the new language.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/uC3lB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uC3lB.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Add <code>Localized.strings</code> files to your project.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/IGj2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IGj2p.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>Add the strings which are used for localization in <code>Localizable.strings(XXX)</code></li>\n</ol>\n\n<p>For English <code>\"hello\" = \"Hello World\";</code></p>\n\n<p>For Hindi <code>\"hello\" = \"\u0928\u092e\u0938\u094d\u0924\u0947 \u0926\u0941\u0928\u093f\u092f\u093e\";</code></p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>import UIKit\n\nextension String {\n\n    var localized: String {\n        let lang = currentLanguage()\n        let path = Bundle.main.path(forResource: lang, ofType: \"lproj\")\n        let bundle = Bundle(path: path!)\n        return NSLocalizedString(self, tableName: nil, bundle: bundle!, value: \"\", comment: \"\")\n    }\n\n    //Remove here and add these in utilities class\n    func saveLanguage(_ lang: String) {\n\n        UserDefaults.standard.set(lang, forKey: \"Locale\")\n        UserDefaults.standard.synchronize()\n    }\n\n    func currentLanguage() -&gt; String {\n\n        return UserDefaults.standard.string(forKey: \"Locale\") ?? \"\"\n    }\n}\n\nenum Language: String {\n    case english = \"English\"\n    case hindi = \"\u0939\u093f\u0902\u0926\u0940\"\n}\n\nclass ViewController: UIViewController {\n\n    var language = Language.english\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        //Initial Setup\n        String().saveLanguage(\"en\")\n        languageLabel.text = \"hello\".localized\n        languageButton.setTitle(language.rawValue, for: .normal)\n    }\n\n    func updateLanguage() {\n\n        if language == .english {\n            String().saveLanguage(\"hi\")\n            language = .hindi\n        } else {\n            String().saveLanguage(\"en\")\n            language = .english\n        }\n\n        languageLabel.text = \"hello\".localized\n        languageButton.setTitle(language.rawValue, for: .normal)\n    }\n\n    @IBOutlet weak var languageLabel: UILabel!\n    @IBOutlet weak var languageButton: UIButton!\n\n    @IBAction func changeLanguageButtonTapped(_ sender: UIButton) {\n\n        updateLanguage()\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/koIrz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koIrz.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 45, "user_id": 6859041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493e6870f3580c0aa224b5b173b69472?s=128&d=identicon&r=PG&f=1", "display_name": "Gaya3", "link": "https://stackoverflow.com/users/6859041/gaya3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 53159597, "answer_count": 1, "score": 0, "last_activity_date": 1541440180, "creation_date": 1541432902, "question_id": 53157672, "link": "https://stackoverflow.com/questions/53157672/change-app-language-using-button-programmatically", "title": "Change app language using button programmatically", "body": "<p>I'm developing an iOS app with five languages.I have done all the coding and now I'm trying to switch between languages using the button.But can't change the language..I found the problem but cant find the solution.</p>\n\n<pre><code>    [NSBundle setLanguage:code];\n</code></pre>\n\n<p>Problem this line not calling..\nAny help please? thanks..</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "build", "xcode9"], "comments": [{"owner": {"reputation": 884, "user_id": 7541374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd9cd55e47852725f6b6fd36fb9bc34?s=128&d=identicon&r=PG&f=1", "display_name": "Sasha Tsukanov", "link": "https://stackoverflow.com/users/7541374/sasha-tsukanov"}, "edited": false, "score": 0, "creation_date": 1541430081, "post_id": 53156795, "comment_id": 93204226, "body": "What app are you building? Can reduce your code to a little sample that still has your problem, and then share the code with us in your question?"}, {"owner": {"reputation": 1, "user_id": 10608424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3AcFUeOx66Q/AAAAAAAAAAI/AAAAAAAAAe0/mPvEJeOXHeU/photo.jpg?sz=128", "display_name": "NOLOKI PC", "link": "https://stackoverflow.com/users/10608424/noloki-pc"}, "reply_to_user": {"reputation": 884, "user_id": 7541374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd9cd55e47852725f6b6fd36fb9bc34?s=128&d=identicon&r=PG&f=1", "display_name": "Sasha Tsukanov", "link": "https://stackoverflow.com/users/7541374/sasha-tsukanov"}, "edited": false, "score": 0, "creation_date": 1541437686, "post_id": 53156795, "comment_id": 93208531, "body": "Do I need to share a project or what?"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541474972, "post_id": 53156795, "comment_id": 93220923, "body": "@NOLOKIPC yes, you need to share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: either a piece of code, or a Podfile/Cartfile/Gemfile, or a project, but something that can let others reproduce the same error message."}, {"owner": {"reputation": 1, "user_id": 10608424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3AcFUeOx66Q/AAAAAAAAAAI/AAAAAAAAAe0/mPvEJeOXHeU/photo.jpg?sz=128", "display_name": "NOLOKI PC", "link": "https://stackoverflow.com/users/10608424/noloki-pc"}, "reply_to_user": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541612877, "post_id": 53156795, "comment_id": 93278670, "body": "@C\u0153ur GitHub link do a project - <a href=\"https://github.com/Horunu/stuffy\" rel=\"nofollow noreferrer\">github.com/Horunu/stuffy</a>"}, {"owner": {"reputation": 1, "user_id": 10608424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3AcFUeOx66Q/AAAAAAAAAAI/AAAAAAAAAe0/mPvEJeOXHeU/photo.jpg?sz=128", "display_name": "NOLOKI PC", "link": "https://stackoverflow.com/users/10608424/noloki-pc"}, "reply_to_user": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541697446, "post_id": 53156795, "comment_id": 93313565, "body": "@C\u0153ur thank you, but how do i fix it (tried finding solution for 14 hours)"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541729345, "post_id": 53156795, "comment_id": 93325147, "body": "You seem to have the same code as <a href=\"https://github.com/cheesecakeufo/saigon\" rel=\"nofollow noreferrer\">github.com/cheesecakeufo/saigon</a>. One of the errors at build time is: .../stuffy/Undecimus/QiLin.h:242:27: Unknown type name &#39;_STRUCT_ARM_THREAD_STATE64&#39;"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1541731945, "post_id": 53156795, "comment_id": 93325695, "body": "Regarding the specific error related to <code>_mptcp_go</code>, it&#39;s because you didn&#39;t include  <code>multi_path_sploit.h</code> and <code>multi_path_sploit.c</code> in your project target. So, right click, add files, and add the two missing files: <a href=\"https://i.stack.imgur.com/IjiSK.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/IjiSK.png</a>"}], "owner": {"reputation": 1, "user_id": 10608424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3AcFUeOx66Q/AAAAAAAAAAI/AAAAAAAAAe0/mPvEJeOXHeU/photo.jpg?sz=128", "display_name": "NOLOKI PC", "link": "https://stackoverflow.com/users/10608424/noloki-pc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541727802, "creation_date": 1541429610, "last_edit_date": 1541727802, "question_id": 53156795, "link": "https://stackoverflow.com/questions/53156795/error-compiling-xcode-9-project-undefined-symbols-for-architecture-arm64-mpt", "title": "Error compiling Xcode 9 project: Undefined symbols for architecture arm64: &quot;_mptcp_go&quot;", "body": "<p>I have a problem when trying to build Xcode 9 app. It shows two errors:</p>\n\n<pre><code>1: \"_mptcp_go\", referenced from:\n      ___36-[ViewController tappedOnJailbreak:]_block_invoke in ViewController.old: symbol(s) not found for architecture arm64\n2: clang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>How do I fix it? (by the way, tried running workspace and .xcodeproj, but none of them worked)</p>\n\n<p>Here is full code of errors:</p>\n\n<pre><code>Ld /Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Products/Debug-iphoneos/Undecimus.app/Undecimus normal arm64\n    cd \"/Users/mac/Desktop/SNIRL JB/Undecimus-master\"\n    export IPHONEOS_DEPLOYMENT_TARGET=11.0\n    export PATH=\"/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch arm64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS11.0.sdk -L/Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Products/Debug-iphoneos -L/Users/mac/Desktop/SNIRL\\ JB/Undecimus-master/Undecimus -F/Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Products/Debug-iphoneos -F/Users/mac/Desktop/SNIRL\\ JB/Undecimus-master/Undecimus -filelist /Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Intermediates.noindex/Undecimus.build/Debug-iphoneos/Undecimus.build/Objects-normal/arm64/Undecimus.LinkFileList -Xlinker -rpath -Xlinker @executable_path/Frameworks -miphoneos-version-min=11.0 -dead_strip -Xlinker -object_path_lto -Xlinker /Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Intermediates.noindex/Undecimus.build/Debug-iphoneos/Undecimus.build/Objects-normal/arm64/Undecimus_lto.o -Xlinker -export_dynamic -Xlinker -no_deduplicate -fobjc-arc -fobjc-link-runtime -framework IOKit -lMobileGestalt -ljb /Users/mac/Desktop/SNIRL\\ JB/Undecimus-master/Undecimus/qilin.o -framework SpringBoardServices -lPods-Undecimus -Xlinker -dependency_info -Xlinker /Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Intermediates.noindex/Undecimus.build/Debug-iphoneos/Undecimus.build/Objects-normal/arm64/Undecimus_dependency_info.dat -o /Users/mac/Library/Developer/Xcode/DerivedData/Undecimus-alrztlqurpvdagfnhitjmaasoboy/Build/Products/Debug-iphoneos/Undecimus.app/Undecimus\n\nUndefined symbols for architecture arm64:\n  \"_mptcp_go\", referenced from:\n      ___36-[ViewController tappedOnJailbreak:]_block_invoke in ViewController.o\nld: symbol(s) not found for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>GitHub link to a project - <a href=\"https://github.com/Horunu/stuffy\" rel=\"nofollow noreferrer\">https://github.com/Horunu/stuffy</a></p>\n"}, {"tags": ["objective-c", "uitableview"], "comments": [{"owner": {"reputation": 2135, "user_id": 836850, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/eFVb6.png?s=128&g=1", "display_name": "joan", "link": "https://stackoverflow.com/users/836850/joan"}, "edited": false, "score": 0, "creation_date": 1541423119, "post_id": 53154997, "comment_id": 93200213, "body": "See <a href=\"https://stackoverflow.com/questions/15231726/uitableview-headerviewforsection-always-returns-nil\" title=\"uitableview headerviewforsection always returns nil\">stackoverflow.com/questions/15231726/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10363002"}, "reply_to_user": {"reputation": 2135, "user_id": 836850, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/eFVb6.png?s=128&g=1", "display_name": "joan", "link": "https://stackoverflow.com/users/836850/joan"}, "edited": false, "score": 0, "creation_date": 1541423249, "post_id": 53154997, "comment_id": 93200277, "body": "@joan thank you for reply but it return nil. we have already gone through that link."}, {"owner": {"reputation": 938, "user_id": 4042512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9800e3b62a5933f858de385ad678076d?s=128&d=identicon&r=PG&f=1", "display_name": "shivi_shub", "link": "https://stackoverflow.com/users/4042512/shivi-shub"}, "edited": false, "score": 0, "creation_date": 1541423320, "post_id": 53154997, "comment_id": 93200322, "body": "can you please post the code of viewForHeaderInSection delegate?"}], "owner": {"user_type": "does_not_exist", "display_name": "user10363002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541432051, "creation_date": 1541422974, "last_edit_date": 1541432051, "question_id": 53154997, "link": "https://stackoverflow.com/questions/53154997/get-custom-header-view-of-cell-on-click-in-tableview", "title": "Get custom Header view of cell on click in tableview", "body": "<p>In table view we have multiple section. On click of button how to get the header section title from selected tableview cell</p>\n\n<p>we have tried with this code </p>\n\n<pre><code>UITableViewHeaderFooterView* header = [self.tableView headerViewForSection:indexPath.section];\n</code></pre>\n\n<p>but it return nil.</p>\n"}, {"tags": ["java", "objective-c", "macos"], "comments": [{"owner": {"reputation": 118, "user_id": 13457123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gjb5IlAMp29ZSFaKjf22jdGPmeJqfvZBdvtExzAS4M=k-s128", "display_name": "Syazvinski", "link": "https://stackoverflow.com/users/13457123/syazvinski"}, "edited": false, "score": 0, "creation_date": 1619132030, "post_id": 53153578, "comment_id": 118819869, "body": "Ever figured this out?"}], "owner": {"reputation": 95, "user_id": 9344333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4ece8d3b561f09714337563a730c77?s=128&d=identicon&r=PG&f=1", "display_name": "primarykey123", "link": "https://stackoverflow.com/users/9344333/primarykey123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 544, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541417565, "creation_date": 1541417565, "question_id": 53153578, "link": "https://stackoverflow.com/questions/53153578/mac-os-push-notifications-with-java", "title": "Mac OS Push Notifications with Java", "body": "<p>I want to have push notifications in Mac OS style in my JavaFX project, which turned out to be actually really difficult.</p>\n\n<p>I was following the approach described in the accepted answer on:\n<a href=\"https://stackoverflow.com/questions/11720652/using-10-8-notification-center-in-java\">Using 10.8 Notification Center in Java</a></p>\n\n<p>I cloned the linked <a href=\"https://github.com/petesh/OSxNotificationCenter\" rel=\"nofollow noreferrer\">github repo</a>. From the Xcode project I exported the <em>.dylib</em> file and moved it to <em>/usr/local/lib</em>.\nI took over the java interface to my project.</p>\n\n<pre><code>interface NsUserNotificationsBridge extends Library {\n    NsUserNotificationsBridge instance = (NsUserNotificationsBridge)\n            Native.loadLibrary(\"/usr/local/lib/NsUserNotificationsBridge.dylib\", NsUserNotificationsBridge.class);\n\n    public int sendNotification(String title, String subtitle, String text, int timeoffset);\n}\n</code></pre>\n\n<p>Using <code>INsUserNotificationsBridge.instance.sendNotification(params...)</code> I am now able to send push notifications!</p>\n\n<p><a href=\"https://i.stack.imgur.com/kcAYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcAYe.png\" alt=\"MacOS Notification when running my project with IntelliJ\"></a></p>\n\n<p>This even works when running straight from the IDE (IntelliJ). In contradiction to the author's note that </p>\n\n<blockquote>\n  <p>If your java application is not in an app bundle then notifications\n  will not be delivered.</p>\n</blockquote>\n\n<p>That wonders me already. I build a single JAR artifact. Running the jar: everything is fine, the push notification is showing. Bundling it into an app: All fine, but no push notification! Also no error. So the very opposite of what the author wrote happened!</p>\n\n<p>(See my <a href=\"https://pastebin.com/XcQf02ri\" rel=\"nofollow noreferrer\">Info.plist</a>)</p>\n\n<p>What did I do wrong? Why is it not showing when starting as .app? Is there maybe meanwhile an even better way to do MacOS push notifications with java? I already know about the way of executing an applescript but I don't like its behavior.</p>\n\n<p>I'm on Java 9 btw.</p>\n"}, {"tags": ["ios", "objective-c", "audio"], "comments": [{"owner": {"reputation": 2326, "user_id": 638263, "user_type": "registered", "profile_image": "https://graph.facebook.com/1344117481/picture?type=large", "display_name": "jaPawel", "link": "https://stackoverflow.com/users/638263/japawel"}, "edited": false, "score": 0, "creation_date": 1544234638, "post_id": 53152638, "comment_id": 94215616, "body": "What you mean by &quot;not work properly&quot;? Are you testing it on real device or on the Simulator?"}], "answers": [{"tags": [], "owner": {"reputation": 2326, "user_id": 638263, "user_type": "registered", "profile_image": "https://graph.facebook.com/1344117481/picture?type=large", "display_name": "jaPawel", "link": "https://stackoverflow.com/users/638263/japawel"}, "is_accepted": false, "score": 5, "last_activity_date": 1544234672, "creation_date": 1544234672, "answer_id": 53678892, "question_id": 53152638, "link": "https://stackoverflow.com/questions/53152638/warning-avf-context-unavailable-for-mravoutputcontext-sharedaudiopresentation/53678892#53678892", "title": "WARNING: AVF context unavailable for +[MRAVOutputContext sharedAudioPresentationContext]_block_invoke", "body": "<p><code>MPVolumeView</code> can only be tested on the real device - on Simulator there will be \"empty\" view and mentioned warnings.</p>\n"}], "owner": {"reputation": 41, "user_id": 10279072, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-avhLlXXZwA0/AAAAAAAAAAI/AAAAAAAAABE/1sB75tQjQlk/photo.jpg?sz=128", "display_name": "JAY GEDIYA", "link": "https://stackoverflow.com/users/10279072/jay-gediya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3270, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1544234672, "creation_date": 1541414043, "question_id": 53152638, "link": "https://stackoverflow.com/questions/53152638/warning-avf-context-unavailable-for-mravoutputcontext-sharedaudiopresentation", "title": "WARNING: AVF context unavailable for +[MRAVOutputContext sharedAudioPresentationContext]_block_invoke", "body": "<p>I try to add volume adjust in my app with this code but not work properly warning given this.</p>\n\n<pre><code>@property (nonatomic, strong) MPVolumeView *volumeView;\n\n_volumeView = [ [MPVolumeView alloc] init];\n[_volumeView setShowsVolumeSlider:YES];\n[_volumeView setShowsRouteButton:YES];\n[_volumeView sizeToFit];\n[self.view addSubview:_volumeView];\n</code></pre>\n\n<p>but this warning given </p>\n\n<pre><code>2018-11-05 15:55:14.898262+0530 BestBubby[7379:198945] [MediaRemote] [AVOutputContext] WARNING: AVF context unavailable for +[MRAVOutputContext sharedAudioPresentationContext]_block_invoke\n\n2018-11-05 15:55:14.898488+0530 BestBubby[7379:198945] [MediaRemote] [AVOutputContext] WARNING: AVF context unavailable for +[MRAVOutputContext createOutputContextWithUniqueIdentifier:]\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "xcode10"], "answers": [{"comments": [{"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1541494858, "post_id": 53162100, "comment_id": 93227060, "body": "No this is a <b>Release</b> provisioning. I suspect the issue comes from the provisionning: My client sent it to me and I don&#39;t have access its the apple developer account. Actually it works when archiving from XCode, but not in xcodebuild command line."}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "reply_to_user": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1541535212, "post_id": 53162100, "comment_id": 93248693, "body": "You can open the archived app package and look at the provisioning profile there to see which one it used.  (it&#39;s renamed but you can figure it out).  The provisioning profile quicklook generator is very helpful for this stuff.   If Apple isn&#39;t providing one yet (sigh), there&#39;s this one which works well:  <a href=\"https://github.com/chockenberry/Provisioning\" rel=\"nofollow noreferrer\">github.com/chockenberry/Provisioning</a>"}], "tags": [], "owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "is_accepted": false, "score": 0, "last_activity_date": 1541451408, "creation_date": 1541451408, "answer_id": 53162100, "question_id": 53152332, "link": "https://stackoverflow.com/questions/53152332/wrong-team-provisionning-profile-when-using-xcodebuild-command/53162100#53162100", "title": "Wrong team/provisionning profile when using xcodebuild command", "body": "<p>Provisioning profiles are in <code>~/Library/MobileDevice/Provisioning Profiles/</code></p>\n\n<p>You could add <code>-allowProvisioningUpdates</code> to allow <code>xcodebuild</code> to \"solve\" the problem itself, but... \u00af_(\u30c4)_/\u00af for how safe/good the result will be.  You've specified \"manual\" so I assume you don't want to do this.</p>\n\n<p>I suspect you are trying to archive the project but only have a development profile installed.  Build a Release build of the project from within Xcode and that should get it to download a release (distribution) provisioning profile for you which you can then use from the command line.</p>\n"}, {"comments": [{"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "reply_to_user": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1542704601, "post_id": 53207465, "comment_id": 93654298, "body": "the <code>sudo -u myuser</code> part allow me to run the following command under <code>myuser</code> instead of <code>jenkins</code>"}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1542731269, "post_id": 53207465, "comment_id": 93669965, "body": "Ah. Thanks.  Little weird to have the jenkins user able to execute commands as root but reading online it seems people do this pretty commonly.  Not sure why people wouldn&#39;t use <code>su</code> instead.  Glad you figured it out."}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "reply_to_user": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1542790340, "post_id": 53207465, "comment_id": 93691396, "body": "To be fare, I recklessly installed jenkins on my OSX, I think if I did it correctly I wouldn&#39;t have had to add <code>sudo</code> everywhere. If you are interested in a correct installation of <code>jenkins</code> user on OSX, here a link which explains how to achieve it <a href=\"https://medium.com/@ved.pandey/setting-up-jenkins-on-mac-osx-50d8fe16df9f\" rel=\"nofollow noreferrer\">medium.com/@ved.pandey/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "is_accepted": true, "score": 2, "last_activity_date": 1541678964, "creation_date": 1541678964, "answer_id": 53207465, "question_id": 53152332, "link": "https://stackoverflow.com/questions/53152332/wrong-team-provisionning-profile-when-using-xcodebuild-command/53207465#53207465", "title": "Wrong team/provisionning profile when using xcodebuild command", "body": "<p>I finally found the problem, it came from the <code>sudo</code> before <code>xcodebuild</code>. </p>\n\n<p>The <code>sudo</code> command will run the following action under the <code>root</code> user by default, which doesn't have any provisioning profile installed, as I always registered them under my user profile. </p>\n\n<p>here is what I did : </p>\n\n<pre><code>sudo -u myuser xcodebuild -scheme MyScheme -archivePath builds/XXX.xcarchive archive DEVELOPMENT_TEAM=YYY CODE_SIGN_IDENTITY='iPhone Distribution' CODE_SIGN_STYLE='Manual' PROVISIONING_PROFILE_SPECIFIER=ZZZ\n</code></pre>\n\n<p>and the error disappeared. \nHope this can help someone.</p>\n"}], "owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 53207465, "answer_count": 2, "score": 0, "last_activity_date": 1541678964, "creation_date": 1541413005, "question_id": 53152332, "link": "https://stackoverflow.com/questions/53152332/wrong-team-provisionning-profile-when-using-xcodebuild-command", "title": "Wrong team/provisionning profile when using xcodebuild command", "body": "<p>I'm trying to build a continuous integration's script on my xcode project, but I'm stuck trying to <strong>archive my xcode project</strong> using <code>xcodebuild</code> command. When trying : </p>\n\n<pre><code>sudo xcodebuild -scheme MyScheme -archivePath builds/XXX.xcarchive archive DEVELOPMENT_TEAM=YYY CODE_SIGN_IDENTITY='iPhone Distribution' CODE_SIGN_STYLE='Manual' PROVISIONING_PROFILE_SPECIFIER=ZZZ\n</code></pre>\n\n<ul>\n<li><p><em>XXX is my project name</em></p></li>\n<li><p><em>YYY is my development team <strong>identifier</strong>, like ABC123DEF, it's a string</em></p></li>\n<li><p><em>ZZZ is my provisionning profile <strong>name</strong>, not a code but a string, like \"My Provisionning Profile\"</em></p></li>\n</ul>\n\n<p>I always get this error : </p>\n\n<pre><code>error: No profile for team 'YYY' matching 'ZZZ' found: Xcode couldn't find any provisioning profiles matching 'YYY/ZZZ'. Install the profile (by dragging and dropping it onto Xcode's dock item) or select a different one in the General tab of the target editor. \n</code></pre>\n\n<p>However, when opening manually the XCode project and trying to archive, it works perfectly. </p>\n\n<p>What am I missing? How can I get the full list of <strong>team/provisionning_profile</strong> installed on my Mac? </p>\n\n<p>What I have tried so far : </p>\n\n<ol>\n<li><p>I tried to remove the part where I specify the development team and provisionning profile, leaving only the scheme identifier. Same result considering the scheme is defined with the same informations. </p></li>\n<li><p>I tried to go in my <code>mobileprovision</code> folder to check if the provisionning profile exists (it exists)</p></li>\n<li><p>I tried to display the xcode archive command lines in the editor (On the Report navigator tab). Actually it never shows the <code>xcodebuild</code> command directly but a bunch of subcommands. However I could find out that my XXX team identifier and YYY provisionning profile that I am using are using in this script </p></li>\n</ol>\n\n<p>Does anyone know how I can solve this issue? </p>\n"}, {"tags": ["objective-c", "nslocalizedstring"], "comments": [{"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 1, "creation_date": 1541410841, "post_id": 53151559, "comment_id": 93193779, "body": "What happens if you use: <code>_operationTitle = NSLocalizedString(title);</code>?"}, {"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "reply_to_user": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541410990, "post_id": 53151559, "comment_id": 93193870, "body": "@RyanB as far as I know you cannot do so. You can only use string literals (e.g <code>@&quot;...&quot;</code>) with <code>NSlocalizedString</code>"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541411382, "post_id": 53151559, "comment_id": 93194079, "body": "Are you sure? I used to call the macro that way &amp; it works without any problem."}, {"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "reply_to_user": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541412440, "post_id": 53151559, "comment_id": 93194645, "body": "@RyanB It should somehow be translated at compile time. <code>[[MyOperation alloc] initWithTitle:aTitleString]</code> and <code>aTitleString</code> may be resolved dynamically during runtime (e.g as an input from user)."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541432493, "post_id": 53151559, "comment_id": 93205657, "body": "If the user should pass a localized title to <code>initWithTitle:</code> then the method should be called <code>initWithLocalizedTitle:</code>. Otherwise I would expect <code>MyOperation</code> to localize the title."}], "answers": [{"comments": [{"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "edited": false, "score": 0, "creation_date": 1541414819, "post_id": 53152728, "comment_id": 93196040, "body": "What if the title should be resolved at runtime (e.g. user input)?"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "edited": false, "score": 0, "creation_date": 1541415532, "post_id": 53152728, "comment_id": 93196410, "body": "Same result: 2018-11-05 19:55:37.712851 TestArray[1493:356908] My sample localized string 2018-11-05 19:55:37.713110 TestArray[1493:356908] My second sample localized string.  Check your title string, I guess it contains unexpected character which make the macro failed, hence your string get returned as-is."}, {"owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "edited": false, "score": 0, "creation_date": 1541415981, "post_id": 53152728, "comment_id": 93196660, "body": "Did you input &quot;MyString&quot;? And what if you input &quot;Hello world&quot; instead? I mean how do you know what to write in <code>Localizable.strings</code> if you don&#39;t know what the input will be?"}], "tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1541416980, "last_edit_date": 1592644375, "creation_date": 1541414359, "answer_id": 53152728, "question_id": 53151559, "link": "https://stackoverflow.com/questions/53151559/passing-nslocalizedstring-as-a-parameter/53152728#53152728", "title": "Passing NSLocalizedString as a parameter", "body": "<p>Passing variable to <code>NSLocalizedString</code> macro shouldn't be any problem, here is what I did for testing purpose:</p>\n<p>Localizable.strings</p>\n<pre><code>&quot;MyString&quot;=&quot;My sample localized string&quot;;\n</code></pre>\n<p>And my TestClass</p>\n<pre><code>@interface TestClass : NSObject\n@property (readonly) NSString *localizedTitle;\n\n-(instancetype)initWithTitle:(NSString *)title;\n@end\n\n@implementation TestClass {\n    NSString *_title;\n}\n\n-(instancetype)initWithTitle:(NSString *)title {\n    self = [super init];\n    if (self) {\n        _title = NSLocalizedString(title, nil);\n    }\n    return self;\n}\n\n-(NSString *)localizedTitle {\n    return _title;\n}\n@end\n</code></pre>\n<p>Init my test class, then access its property</p>\n<pre><code>TestClass *myClass = [[TestClass alloc] initWithTitle:@&quot;MyString&quot;];\nNSLog(@&quot;%@&quot;, myClass.localizedTitle);\n</code></pre>\n<p>This is what I have in console:</p>\n<pre><code>2018-11-05 19:16:36.268393 TestApp[1471:352553] My sample localized string\n</code></pre>\n<p><strong>Update</strong></p>\n<p>The macro:</p>\n<pre><code>#define NSLocalizedString(key, comment) \\\n        [NSBundle.mainBundle localizedStringForKey:(key) value:@&quot;&quot; table:nil]\n</code></pre>\n<p>Is the shortcut to <code>localizedStringForKey:value:table:</code> function &amp; according to the document:</p>\n<blockquote>\n<p><strong>Return Value</strong></p>\n<p>A localized version of the string designated by key in\ntable tableName. This method returns the following when key is nil or\nnot found in table:</p>\n<p>If key is nil and value is nil, returns an empty string.</p>\n<p>If key is nil and value is non-nil, returns value.</p>\n<p>If key is not found and value is nil or an empty string, returns key.</p>\n<p>If key is not found and value is non-nil and not empty, return value.</p>\n</blockquote>\n<p>If you pass a non-existence key to the macro, you will receive the key itself. That's the designated behavior.</p>\n<p>By the way, in common sense, you can't ask for a localized string if it isn't defined, right?</p>\n"}], "owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541416980, "creation_date": 1541410056, "last_edit_date": 1541415164, "question_id": 53151559, "link": "https://stackoverflow.com/questions/53151559/passing-nslocalizedstring-as-a-parameter", "title": "Passing NSLocalizedString as a parameter", "body": "<p>I have a class <code>MyOperation</code> that has a property <code>localizedTitle</code> that should return a localized title but the title is being set from outside:</p>\n\n<pre><code>@interface MyOperation\n\n- (instancetype)initWithTitle:(NSString*)title;\n\n@property (readOnly) NSString *localizedTitle;\n\n@end\n\n@interface PTImageOperationSession() {\n  NSString* _operationTitle;\n}\n\n@implementation MyOperation\n\n- (instancetype)initWithTitle:(NSString*)title\n\n{\n  [self retainSelf];\n  self = [super init];\n  if (self)\n  {\n    _operationTitle = title;\n  }\n  return self;\n}\n\n- (NSString *)localizedTitle {\n  return _operationTitle;\n}\n@end\n\n\n- (void)foo {\n  MyOperation *operation = [[MyOperation alloc] initWithTitle:NSLocalizedString(@\"MyLocalizedTitle\", nil)]; // Good.\n\n  NSSting *titleString = [self titleString]; // Can be different strings at runtime.\n  MyOperation *operation1 = [[MyOperation alloc] initWithTitle: titleString]; // Bad because the title is not localized.\n}\n</code></pre>\n\n<p>Question: Is it possible to insure that the class will always be initialised with localised title?  My responsibility as a class owner is to return a localized title, but it is being set from outside so I have no control on it. Would you tag it as a \"design issue\"?</p>\n"}, {"tags": ["objective-c", "api", "objective-c-blocks"], "comments": [{"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541408067, "post_id": 53150995, "comment_id": 93192432, "body": "You cannot use a function with async request that way. Because there is a good chance that your async request is still waiting for the response before the <code>return jsonArray;</code> is called. The best approach is implement your function with <code>delegate</code> or callback block which will be called when response data is ready."}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541408668, "post_id": 53150995, "comment_id": 93192746, "body": "@RyanB I have updated my question with second approach where I am not using async request. But the second approach I am achieving the results but its blocking the main thread."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541409267, "post_id": 53150995, "comment_id": 93193016, "body": "Your second attempt surely work but it blocks the main thread, hence isn&#39;t a good approach to do too."}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541409385, "post_id": 53150995, "comment_id": 93193061, "body": "@RyanB then I am out of ideas what would be best approach and stlll works"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541413410, "post_id": 53150995, "comment_id": 93195196, "body": "If you have started using <code>async</code> functions then you should use it everywhere. <code>get_data</code> should also be asynchronous."}], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": true, "score": 0, "last_activity_date": 1541409544, "creation_date": 1541409544, "answer_id": 53151424, "question_id": 53150995, "link": "https://stackoverflow.com/questions/53150995/asynchronously-api-calls-and-returning-data-outside-the-block/53151424#53151424", "title": "Asynchronously Api calls and returning data outside the block", "body": "<p>I would suggest using the same approach of <code>getJsonResponse</code> for your <code>get_data</code> function:</p>\n\n<pre><code>- (void)get_data:(NSDictionary *)credentials finish:(void(^)(NSArray *data))finish{\n\n    NSString *urlStr =[ NSString stringWithFormat:@\"http://test.com %@\",credentials];\n   __block NSArray *jsonArray= [[NSArray alloc]init];\n    [self getJsonResponse:urlStr success:^(NSArray *responseArray) {\n        jsonArray = responseArray;\n        if (finish) {\n            finish(jsonArray);\n        }\n    } failure:^(NSError *error) {\n        // error handling here ...\n    }];\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 53151424, "answer_count": 1, "score": 0, "last_activity_date": 1541409544, "creation_date": 1541407680, "last_edit_date": 1541408614, "question_id": 53150995, "link": "https://stackoverflow.com/questions/53150995/asynchronously-api-calls-and-returning-data-outside-the-block", "title": "Asynchronously Api calls and returning data outside the block", "body": "<p>I don't understand why I am getting null array outside the block code, even though I am using __block keyword on my array.</p>\n\n<p>I am successfully getting data from a backend api with following code </p>\n\n<pre><code>`-(void)getJsonResponse:(NSString *)urlStr success:(void (^)(NSArray *responseDict))success failure:(void(^)(NSError* error))failure\n{\n    NSURLSession *session = [NSURLSession sharedSession];\n    NSURL *url = [NSURL URLWithString:urlStr];\n\n    // Asynchronously API is hit here\n    NSURLSessionDataTask *dataTask = [session dataTaskWithURL:url\n                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n                                              //  NSLog(@\"%@\",data);\n                                                if (error)\n                                                    failure(error);\n                                                else {\n                                                    NSArray *json  = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil];\n                                                   // NSLog(@\"%@\",json);\n                                                    success(json);\n                                                }\n                                            }];\n    [dataTask resume];    // Executed First\n}`\n</code></pre>\n\n<p>Then in my function for returning the data I am using following</p>\n\n<pre><code> `- (NSArray *)get_data:(NSDictionary *)credentials{\n\n    NSString *urlStr =[ NSString stringWithFormat:@\"http://test.com %@\",credentials];\n   __block NSArray *jsonArray= [[NSArray alloc]init];\n    [self getJsonResponse:urlStr success:^(NSArray *responseArray) {\n        jsonArray = responseArray;\n        NSLog(@\"%@\",responseArray);\n    } failure:^(NSError *error) {\n        // error handling here ...\n    }];\n     NSLog(@\"%@\",jsonArray);\n    return jsonArray;\n}\n`\n</code></pre>\n\n<p>The issue here is although I am successfully getting data within getJsonResponse block, but when I am trying to return the response data array as function return I am getting null for jsonArray. I thought assigning __block infront of jsonArray should retain the data assign within the block code ?</p>\n\n<p>The second approach is not to use Async way like following </p>\n\n<pre><code>`- (NSData *)sendSynchronousRequest:(NSURLRequest *)request returningResponse:(NSURLResponse **)response error:(NSError **)error\n{\n\n    NSError __block *err = NULL;\n    NSData __block *data;\n    BOOL __block reqProcessed = false;\n    NSURLResponse __block *resp;\n\n    [[[NSURLSession sharedSession] dataTaskWithRequest:request completionHandler:^(NSData * _Nullable _data, NSURLResponse * _Nullable _response, NSError * _Nullable _error) {\n        resp = _response;\n        err = _error;\n        data = _data;\n        reqProcessed = true;\n    }] resume];\n\n    while (!reqProcessed) {\n        [NSThread sleepForTimeInterval:0];\n    }\n\n    *response = resp;\n    *error = err;\n    return data;\n}`\n</code></pre>\n\n<p>That way its blocking the main thread whilst waiting for data.</p>\n"}, {"tags": ["objective-c", "variables", "uiviewcontroller", "static", "global-variables"], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1541400512, "creation_date": 1541400512, "answer_id": 53149577, "question_id": 53149274, "link": "https://stackoverflow.com/questions/53149274/how-to-store-variable-that-is-changed-in-all-viewcontrollers/53149577#53149577", "title": "How to Store Variable that is Changed In all ViewControllers", "body": "<p>There are many ways to do this:</p>\n\n<ol>\n<li>Define your variable in <code>AppDelegate</code></li>\n<li>Use <code>NSUserDefault</code> to store/retrieve your variable</li>\n<li>Use singleton class</li>\n<li>Use static variable</li>\n</ol>\n\n<p>The simplest way of course, is define it as static variable in your global <code>.h</code> file.</p>\n\n<p>Global variables are not thread-safe. So, best practice is avoid using them as much as possible.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541463012, "post_id": 53149820, "comment_id": 93218631, "body": "So if I had a NSMutableArray, I should just pass that around the ViewControllers instead."}, {"owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "reply_to_user": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541469154, "post_id": 53149820, "comment_id": 93219841, "body": "I wouldn&#39;t recommend passing around raw mutable arrays, make an object to encapsulate the array and any related state."}], "tags": [], "owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "is_accepted": true, "score": 0, "last_activity_date": 1541401928, "creation_date": 1541401928, "answer_id": 53149820, "question_id": 53149274, "link": "https://stackoverflow.com/questions/53149274/how-to-store-variable-that-is-changed-in-all-viewcontrollers/53149820#53149820", "title": "How to Store Variable that is Changed In all ViewControllers", "body": "<p>You don't need a global variable to share state between view controllers, and it is actually very bad practice to hide the dependency in this way.</p>\n\n<p>Make it explicit via dependency injection and pass this object from one VC to the next as you navigate.</p>\n\n<pre><code>SecondViewController *viewController = [[SecondViewController alloc] init];\nviewController.user = self.user; // Pass the user along...\n[self presentViewController:viewController animated:YES completion:nil];\n</code></pre>\n\n<p>You can do similar with segues, pass your object along inside the <code>prepareForSegue</code> method.</p>\n"}], "owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53149820, "answer_count": 2, "score": -1, "last_activity_date": 1541401928, "creation_date": 1541398787, "question_id": 53149274, "link": "https://stackoverflow.com/questions/53149274/how-to-store-variable-that-is-changed-in-all-viewcontrollers", "title": "How to Store Variable that is Changed In all ViewControllers", "body": "<p>I would like to try to make a variable that can be changed and accessed in all the view controllers. How should I go about doing this? I was thinking of using a static variable, or creating a global variable in one of the view controllers and passing it around, but I'm not sure if it is good practice or would be processor intensive, respectively.</p>\n"}, {"tags": ["ios", "objective-c", "core-data", "freeze", "magicalrecord"], "comments": [{"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541399498, "post_id": 53148760, "comment_id": 93189196, "body": "Try enabling <code>com.apple.CoreData.ConcurrencyDebug</code> and see if that helps you figure out if there is a multi-threading violation occurring.  <a href=\"https://oleb.net/blog/2014/06/core-data-concurrency-debugging/\" rel=\"nofollow noreferrer\">oleb.net/blog/2014/06/core-data-concurrency-debugging</a>  can help you with how to do that."}, {"owner": {"reputation": 1226, "user_id": 5129935, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ISMnF.jpg?s=128&g=1", "display_name": "Awesome.Apple", "link": "https://stackoverflow.com/users/5129935/awesome-apple"}, "reply_to_user": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541412831, "post_id": 53148760, "comment_id": 93194889, "body": "I tired using the link you provided and added Arguments passed on launch. And run the app , it crashes. And yes the log says CoreData: annotation: Core Data multi-threading assertions enabled. But don&#39;t know what else to do?"}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541439277, "post_id": 53148760, "comment_id": 93209245, "body": "There should be some console logging describing the violation and you can get stack traces to figure out where you are and what you&#39;re doing wrong."}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541439367, "post_id": 53148760, "comment_id": 93209277, "body": "You&#39;re going to need to read <a href=\"https://developer.apple.com/documentation/coredata/using_core_data_in_the_background\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/coredata/&hellip;</a> carefully to understand the restrictions on using Core Data in a multithreaded scenario and figure out where you are violating those restrictions (since that seems to be what is going on)."}, {"owner": {"reputation": 1226, "user_id": 5129935, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ISMnF.jpg?s=128&g=1", "display_name": "Awesome.Apple", "link": "https://stackoverflow.com/users/5129935/awesome-apple"}, "reply_to_user": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541484959, "post_id": 53148760, "comment_id": 93223123, "body": "<i>some console logging</i> So you mean in release mode?  Because in debug mode app will crash on start?"}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541487421, "post_id": 53148760, "comment_id": 93223981, "body": "With that flag turned on it should drop into the debugger at <b>Multithreading_Violation_AllThatIsLeftToUsIsHonor</b> (see the blog post I linked to) and the call you&#39;re making that violates the multithreading rules should be in the call chain."}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541487649, "post_id": 53148760, "comment_id": 93224065, "body": "If you do some searching on that flag name you&#39;ll find some useful tips:  <a href=\"https://pawanpoudel.svbtle.com/fixing-core-data-concurrency-violations\" rel=\"nofollow noreferrer\">pawanpoudel.svbtle.com/fixing-core-data-concurrency-violatio&zwnj;&#8203;ns</a>  The blog post it has a bad link to is here:  <a href=\"https://www.cocoanetics.com/2012/07/multi-context-coredata/\" rel=\"nofollow noreferrer\">cocoanetics.com/2012/07/multi-context-coredata</a>   Some of this could be old though."}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541487738, "post_id": 53148760, "comment_id": 93224095, "body": "Note this other freeze post with a solution found (wrong data type): <a href=\"https://stackoverflow.com/questions/5236860/app-freeze-on-coredata-save?rq=1\" title=\"app freeze on coredata save\">stackoverflow.com/questions/5236860/&hellip;</a>"}, {"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541487881, "post_id": 53148760, "comment_id": 93224144, "body": "This one also has some very good information and a link to a blog post:  <a href=\"https://stackoverflow.com/questions/16666725/ios-coredata-with-3-moc-solution-app-freezes-on-saving-process?rq=1\" title=\"ios coredata with 3 moc solution app freezes on saving process\">stackoverflow.com/questions/16666725/&hellip;</a>"}, {"owner": {"reputation": 1226, "user_id": 5129935, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ISMnF.jpg?s=128&g=1", "display_name": "Awesome.Apple", "link": "https://stackoverflow.com/users/5129935/awesome-apple"}, "reply_to_user": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541490430, "post_id": 53148760, "comment_id": 93225115, "body": "Thanks for helping. I am having a look at these."}], "owner": {"reputation": 1226, "user_id": 5129935, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ISMnF.jpg?s=128&g=1", "display_name": "Awesome.Apple", "link": "https://stackoverflow.com/users/5129935/awesome-apple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541418185, "creation_date": 1541395437, "last_edit_date": 1541418185, "question_id": 53148760, "link": "https://stackoverflow.com/questions/53148760/how-to-fix-app-using-coredata-freeze-issue-on-ios12", "title": "How to fix app (using coredata) freeze issue on iOS12", "body": "<p>I have been working in an app. Its using core data and magical record library. And it was working fine in iOS 11. </p>\n\n<p>But in iOS 12 the app is randomly getting freeze and its not only freeze but a deadlock. In order to use the app again the only way is to kill and run again. </p>\n\n<p>whenever I am debugging and it freeze I pause the thread to check which method is currently executing. Every time its related to coredata. Sometimes it stuck on executeFetchRequest method. Sometimes while saving data in local db.</p>\n\n<p>I think there are some other developers as well who are facing the same issue For reference :- <a href=\"https://github.com/magicalpanda/MagicalRecord/issues/1331\" rel=\"nofollow noreferrer\">https://github.com/magicalpanda/MagicalRecord/issues/1331</a></p>\n\n<p>I have tried some solutions for it like :-</p>\n\n<p>\u2022 Instead of using default context using privateQueueContext and setting its parent the default context.\n\u2022 Tried performBlockAndWait as suggested in some threads. \nBut I am not able to fix it. Reason for asking this question here is only to have the vision clear which way to proceed.</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["ios", "objective-c", "constructor", "interface", "header"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541393721, "post_id": 53147381, "comment_id": 93187655, "body": "Oh. That makes sense. So if I wanted to init my class with the custom initWithTitle:withDescription: would I do [self initWithTitle:withDescription]?"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541394192, "post_id": 53147381, "comment_id": 93187766, "body": "No, that is not correct if <code>initWithTitle:withDescription:</code> is your class constructor. <code>self</code> is <code>nil</code> before the constructor is invoke, so making a call such as <code>[self initWithTitle:withDescription:]</code> will give you compiling error. The correct approach is to call constructor of the <code>super</code> class."}, {"owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541394312, "post_id": 53147381, "comment_id": 93187792, "body": "Oh ok. I think I understand now. Thank you for your replies!"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541405119, "post_id": 53147381, "comment_id": 93191144, "body": "You&#39;re welcome. However, please don&#39;t forget to add check mark to the answer if it helps resolve your problem. This will help people who&#39;s facing the same situation in the future."}], "tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": true, "score": 0, "last_activity_date": 1541383297, "creation_date": 1541383297, "answer_id": 53147381, "question_id": 53146980, "link": "https://stackoverflow.com/questions/53146980/no-visible-interface-for-custom-constructor/53147381#53147381", "title": "No visible @interface for custom constructor", "body": "<p>The line:</p>\n\n<pre><code>self = [super initWithTitle: title withDescription: desc];\n</code></pre>\n\n<p>initialize an object by calling its super constructor. However, if super class doesn't contain such a constructor which you are going to call, error message will be shown.</p>\n\n<p>Replace your call with <code>[super init]</code>, then <code>Command</code> + <code>Click</code> on <code>init</code> to open <code>NSObject.h</code>, you will see only <code>init</code> is supported.</p>\n"}], "owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53147381, "answer_count": 1, "score": 0, "last_activity_date": 1541383297, "creation_date": 1541379094, "question_id": 53146980, "link": "https://stackoverflow.com/questions/53146980/no-visible-interface-for-custom-constructor", "title": "No visible @interface for custom constructor", "body": "<p>I was trying to write a custom initializer that looks something like this:</p>\n\n<pre><code> - (id) initWithTitle:(NSString *) title withDescription:(NSString *) desc {\n    self = [super initWithTitle: title withDescription: desc];\n    if (self) {\n        self.title = title;\n        description = desc;\n        duration = 0.0;\n        priority = 0;\n    }\n    return self;\n}\n</code></pre>\n\n<p>But for some reason if I use [super initWithTitle: title withDescription: desc], it tells me that there is no visible @interface for 'NSObject' declares my selector, despite me defining the constructor in the .h file already.</p>\n\n<p>I could just use [super init], but I just wanted to know what I did wrong for the future.</p>\n"}, {"tags": ["objective-c", "xcode", "web-scraping", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541387687, "post_id": 53147283, "comment_id": 93186617, "body": "I&#39;ve tried what I think you&#39;ve said, but I&#39;ve gotten an error. I&#39;ll edit my original post to show code and error. It also doesn&#39;t work, and I don&#39;t know if I did anything wrong."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541391869, "post_id": 53147283, "comment_id": 93187295, "body": "First, <code>matchesInString</code> returns an <code>NSArray</code> of matching elements instead of <code>UInteger</code>. Next, I wrote the pattern using javascript syntax hence it requires modification to work in ObjC. The correct pattern should be something like this: <code>@&quot;\\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\&#47;a\\\\&gt;&quot;</code>"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541394863, "post_id": 53147283, "comment_id": 93187930, "body": "Thanks for your reply. I&#39;ve updated my post, and I still have an issue. I&#39;m sorry if I&#39;m missing something obvious."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541395926, "post_id": 53147283, "comment_id": 93188175, "body": "From the log, you are coming closer to the final result. Next you need to extract <code>&lt;a&gt;</code> element string using <code>matches</code> array. See my update for example code."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541439494, "post_id": 53147283, "comment_id": 93209332, "body": "Thanks Ryan! I&#39;ve marked your Answer as correct, but I have one question. Say if I wanted to find the links on a website that requires a password, how would I do that? I used google for a very known example. I already have a successful Javascript Injection that logs into the website, but I feel like that&#39;s not working for pulling &lt;a href. Is there anything I&#39;d have to do otherwise? Like a <code>POST</code> or something? I apologize for not using the main website to begin with."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541468718, "post_id": 53147283, "comment_id": 93219762, "body": "What did you mean by <code>find the links on a website that requires a password</code>?"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541470319, "post_id": 53147283, "comment_id": 93220050, "body": "Sorry that I wasn&#39;t making sense. I mean that say if I have a university website that requires a password to get into. I want to access a page&#39;s source that requires a password. For example, like a list of classes or a calendar. A page source that requires a password to access that webpage is what I&#39;m trying to get at."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541470718, "post_id": 53147283, "comment_id": 93220113, "body": "Ok, so if I understood correctly then you want to find the link that lead to a login page or something like that in a list of links?"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541471796, "post_id": 53147283, "comment_id": 93220338, "body": "No, I want to go to a page that has a list of classes and on each of the class names, there IS a link to more information of that class. The page that shows classes requires login, and I want to be able to log in, then get that page&#39;s <code>&lt;a href</code> and determine which one to travel to."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541472497, "post_id": 53147283, "comment_id": 93220477, "body": "Ah! I get it. Then that could be a long story. The idea is: You load the link of classes into a <code>UIWebView</code>, inject javascript code to the page using <code>evaluateJavaScript:completionHandler:</code> function. Your javascipt code will then find the login form, fill them with appropriate credential and invoke form submit. If you do that carefully &amp; correctly, you&#39;ll have a great chance to be landing on the classes page."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541473330, "post_id": 53147283, "comment_id": 93220614, "body": "That&#39;s the way of doing all your required stuffs with <code>UIWebView</code>. If you don&#39;t want to use <code>UIWebView</code> then you must use <code>NSURLRequest</code> or network framework such as <code>AFNetworking</code> instead of fetching webpage with <code>stringWithContentsOfURL</code>. Why? You need a mechanical to keep your login session which <code>stringWithContentsOfURL</code> cannot do."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541473628, "post_id": 53147283, "comment_id": 93220671, "body": "Thanks! DO you mind elaborating on that? I&#39;m sure I could figure it out, but if you could that&#39;d be nice! Also, thanks so much for your continued help"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541475509, "post_id": 53147283, "comment_id": 93221035, "body": "Unfortunately, 600 characters limit in comment is not enough for elaborating on the stuffs you want to do. In what approach do you want more detail?"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541480717, "post_id": 53147283, "comment_id": 93221976, "body": "I&#39;m confused mostly on how to get the page source while staying logged in. I could care less about the <code>UIWebView</code>. My current code is already in my question, and I just want to know how to change it. I&#39;ve googled <code>AFNetworking</code> and the answers weren&#39;t really helpful."}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541485494, "post_id": 53147283, "comment_id": 93223342, "body": "Ok, so you will want to stick with <code>NSURLRequest</code> or <code>AFNetworking</code> framework. If you already know how to use them, its fine. Otherwise, search around SO for the usage tutor. Then no matter what you are using, you must first send a <code>POST</code> request with credential to login. The response will return back to you a session cookies. You then set the cookies to http header of any request you want to send from that time onward. That&#39;s all. Again, looking around SO to know how to set cookies for http request."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541560058, "post_id": 53147283, "comment_id": 93256154, "body": "I&#39;ve successfully done a <code>POST</code> request, but I have 2 issues/questions. When I get the page source, it gives the source for a page loading, please wait. I&#39;ve added a button to get the source again, which is successful, but was wondering any other more ideal ways of doing that. My final question is about setting the cookies for the request. I&#39;ve browsed SO, and didn&#39;t really find anything helpful. I&#39;m currently just re-posting every time I want to get source which I know isn&#39;t ideal. How would I do that? Or could you link me a post or video?"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1541563923, "post_id": 53147283, "comment_id": 93256853, "body": "The number of requests depend on the way server react to your login. If it&#39;s a redirect response then you need to modify your code to follow redirection (search for it on SO). If the redirection is manually trigger by javascript or whatever, then another request is required. I suggest using HTTP client tool such as <code>postman</code>, send your request with it to learn the way server react to your request first. Lastly, it may not making any sense to suggest how to set request cookies, unless I know what framework are you using."}], "tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": true, "score": 0, "last_activity_date": 1541396036, "last_edit_date": 1541396036, "creation_date": 1541382167, "answer_id": 53147283, "question_id": 53146784, "link": "https://stackoverflow.com/questions/53146784/searching-html-string-for-links-objective-c/53147283#53147283", "title": "Searching HTML string for links (Objective-C)", "body": "<p>I would suggest using <code>NSRegularExpression</code> instead:</p>\n\n<p>By using appropriate pattern, for example:</p>\n\n<pre><code>\\&lt;a href=\\\"(.*)\\\".*&lt;\\/a\\&gt;\n</code></pre>\n\n<p>with following function:</p>\n\n<pre><code> matchesInString:options:range:\n</code></pre>\n\n<p>You will get a list of <code>A</code> elements in your HTML string.</p>\n\n<p>More details, read here in official Apple document:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nsregularexpression?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/nsregularexpression?language=objc</a></p>\n\n<p>** <strong>Update</strong> **</p>\n\n<p>Sample code that extract all <code>&lt;a&gt;</code> elements from html text:</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:@\"https://www.google.com\"];\nNSString *html = [NSString stringWithContentsOfURL:url encoding:NSUTF8StringEncoding error:nil];\nNSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@\"\\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt;\"\n                                                                       options:NSRegularExpressionCaseInsensitive\n                                                                         error:nil];\nNSArray *matches = [regex matchesInString:html options:0 range:NSMakeRange(0, html.length)];\nfor (NSTextCheckingResult *match in matches) {\n    NSRange matchRange = [match range];\n    NSString *matchedString = [html substringWithRange:matchRange];\n    NSLog(@\"%@\", matchedString);\n}\n</code></pre>\n\n<p>Here is the log from above code:</p>\n\n<pre><code>2018-11-05 14:30:01.252702 TestArray[1322:320814] &lt;a class=gb1 href=\"https://www.google.co.jp/imghp?hl=ja&amp;tab=wi\"&gt;&amp;#30011;&amp;#20687;&lt;/a&gt;\n2018-11-05 14:30:01.252911 TestArray[1322:320814] &lt;a class=gb1 href=\"https://maps.google.co.jp/maps?hl=ja&amp;tab=wl\"&gt;&amp;#12510;&amp;#12483;&amp;#12503;&lt;/a&gt;\n2018-11-05 14:30:01.253120 TestArray[1322:320814] &lt;a class=gb1 href=\"https://play.google.com/?hl=ja&amp;tab=w8\"&gt;Play&lt;/a&gt;\n2018-11-05 14:30:01.253346 TestArray[1322:320814] &lt;a class=gb1 href=\"https://www.youtube.com/?gl=JP&amp;tab=w1\"&gt;YouTube&lt;/a&gt;\n2018-11-05 14:30:01.253512 TestArray[1322:320814] &lt;a class=gb1 href=\"https://news.google.co.jp/nwshp?hl=ja&amp;tab=wn\"&gt;&amp;#12491;&amp;#12517;&amp;#12540;&amp;#12473;&lt;/a&gt;\n2018-11-05 14:30:01.253638 TestArray[1322:320814] &lt;a class=gb1 href=\"https://mail.google.com/mail/?tab=wm\"&gt;Gmail&lt;/a&gt;\n2018-11-05 14:30:01.253750 TestArray[1322:320814] &lt;a class=gb1 href=\"https://drive.google.com/?tab=wo\"&gt;&amp;#12489;&amp;#12521;&amp;#12452;&amp;#12502;&lt;/a&gt;\n2018-11-05 14:30:01.253934 TestArray[1322:320814] &lt;a class=gb1 style=\"text-decoration:none\" href=\"https://www.google.co.jp/intl/ja/options/\"&gt;&lt;u&gt;&amp;#12418;&amp;#12387;&amp;#12392;&amp;#35211;&amp;#12427;&lt;/u&gt; &amp;raquo;&lt;/a&gt;\n2018-11-05 14:30:01.254049 TestArray[1322:320814] &lt;a href=\"http://www.google.co.jp/history/optout?hl=ja\" class=gb4&gt;&amp;#12454;&amp;#12455;&amp;#12502;&amp;#23653;&amp;#27508;&lt;/a&gt;\n2018-11-05 14:30:01.254164 TestArray[1322:320814] &lt;a  href=\"/preferences?hl=ja\" class=gb4&gt;&amp;#35373;&amp;#23450;&lt;/a&gt;\n2018-11-05 14:30:01.254274 TestArray[1322:320814] &lt;a target=_top id=gb_70 href=\"https://accounts.google.com/ServiceLogin?hl=ja&amp;passive=true&amp;continue=https://www.google.com/\" class=gb4&gt;&amp;#12525;&amp;#12464;&amp;#12452;&amp;#12531;&lt;/a&gt;\n2018-11-05 14:30:01.254434 TestArray[1322:320814] &lt;a href=\"/advanced_search?hl=ja&amp;amp;authuser=0\"&gt;&amp;#26908;&amp;#32034;&amp;#12458;&amp;#12503;&amp;#12471;&amp;#12519;&amp;#12531;&lt;/a&gt;\n2018-11-05 14:30:01.254739 TestArray[1322:320814] &lt;a href=\"/language_tools?hl=ja&amp;amp;authuser=0\"&gt;&amp;#35328;&amp;#35486;&amp;#12484;&amp;#12540;&amp;#12523;&lt;/a&gt;\n2018-11-05 14:30:01.254900 TestArray[1322:320814] &lt;a href=\"https://www.google.com/setprefs?sig=0_hs-qGLtJFycvdIdXbi2jQdSOY4s%3D&amp;amp;hl=en&amp;amp;source=homepage&amp;amp;sa=X&amp;amp;ved=0ahUKEwi_tb7pwrzeAhULwLwKHZ9aDiAQ2ZgBCAU\"&gt;English&lt;/a&gt;\n2018-11-05 14:30:01.255072 TestArray[1322:320814] &lt;a href=\"/intl/ja/ads/\"&gt;&amp;#24195;&amp;#21578;&amp;#25522;&amp;#36617;&lt;/a&gt;\n2018-11-05 14:30:01.255182 TestArray[1322:320814] &lt;a href=\"http://www.google.co.jp/intl/ja/services/\"&gt;&amp;#12499;&amp;#12472;&amp;#12493;&amp;#12473; &amp;#12477;&amp;#12522;&amp;#12517;&amp;#12540;&amp;#12471;&amp;#12519;&amp;#12531;&lt;/a&gt;\n2018-11-05 14:30:01.255453 TestArray[1322:320814] &lt;a href=\"https://plus.google.com/115899767381375908215\" rel=\"publisher\"&gt;+Google&lt;/a&gt;\n2018-11-05 14:30:01.255609 TestArray[1322:320814] &lt;a href=\"/intl/ja/about.html\"&gt;Google &amp;#12395;&amp;#12388;&amp;#12356;&amp;#12390;&lt;/a&gt;\n2018-11-05 14:30:01.255722 TestArray[1322:320814] &lt;a href=\"https://www.google.com/setprefdomain?prefdom=JP&amp;amp;prev=https://www.google.co.jp/&amp;amp;sig=K_erqW_iZ2bjJu2TsKii5UfNnAGcg%3D\"&gt;Google.co.jp&lt;/a&gt;\n2018-11-05 14:30:01.255832 TestArray[1322:320814] &lt;a href=\"/intl/ja/policies/privacy/\"&gt;&amp;#12503;&amp;#12521;&amp;#12452;&amp;#12496;&amp;#12471;&amp;#12540;&lt;/a&gt;\n2018-11-05 14:30:01.256001 TestArray[1322:320814] &lt;a href=\"/intl/ja/policies/terms/\"&gt;&amp;#35215;&amp;#32004;&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 53147283, "answer_count": 1, "score": 1, "last_activity_date": 1541396036, "creation_date": 1541376920, "last_edit_date": 1541394828, "question_id": 53146784, "link": "https://stackoverflow.com/questions/53146784/searching-html-string-for-links-objective-c", "title": "Searching HTML string for links (Objective-C)", "body": "<p>This might be a bit confusing as I am a bit <em>new</em> to Objective-C. I have the app already getting the source code:</p>\n\n<pre><code>NSURL *URL = [NSURL URLWithString:@\"google.com\"];\nNSString *webData= [NSString stringWithContentsOfURL:URL encoding:NSASCIIStringEncoding error:nil];\n</code></pre>\n\n<p>That gets the source code correctly, I've logged it and checked. I want to find only the links inside that string, so anything with the keyword:</p>\n\n<pre><code>&lt;a href\n</code></pre>\n\n<p>I've tried searching the string, like so:</p>\n\n<pre><code> if ([webData containsString:@\"&lt;a href=\"]) {\n    NSLog(@\"string contains!\");\n} else {\n    NSLog(@\"string does not contain\");\n}\n</code></pre>\n\n<p>It always returns negative, and I don't understand why. I want to get only the lines of code that contain the links and set those lines to a new string. The string will contain all the links on the source, but I don't know how to do that. I hope I've given enough information, and if you have any questions about my issue please ask. Thanks.</p>\n\n<p><strong>EDIT 1</strong>\nI've tried the answer given, and this is my following code</p>\n\n<pre><code>NSURL *URL = [NSURL URLWithString:@\"google.com\"];\nNSString *webData= [NSString stringWithContentsOfURL:URL encoding:NSASCIIStringEncoding error:nil];\nNSError *error = NULL;\nNSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@\"\\&lt;a href=\\\"(.*)\\\".*&lt;\\/a\\&gt;\"\n                                                                       options:NSRegularExpressionCaseInsensitive\n                                                                         error:&amp;error];\nNSUInteger numberOfMatches = [regex matchesInString:webData\n                                                    options:0\n                                                      range:NSMakeRange(0, [webData length])];\n</code></pre>\n\n<p>It first doesn't work, and I get the following errors/warnings: <a href=\"https://i.stack.imgur.com/llLMS.png\" rel=\"nofollow noreferrer\">warnings</a></p>\n\n<p><strong>EDIT 2</strong>\nI've tried fixing the code, and my current is</p>\n\n<pre><code>NSURL *URL = [NSURL URLWithString:@\"google.com\"];\nNSString *webData= [NSString stringWithContentsOfURL:URL encoding:NSASCIIStringEncoding error:nil];\nNSError *error = NULL;\nNSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@\"\\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt;\"\n                                                                       options:NSRegularExpressionCaseInsensitive\n                                                                         error:&amp;error];\nNSArray *matches = [regex matchesInString:webData\n                          options:0\n                          range:NSMakeRange(0, [webData length])];\nNSLog(@\"%@\", matches);\n</code></pre>\n\n<p>This is the log that's being outputted:</p>\n\n<pre><code>2018-11-05 00:12:51.144009-0500 InjectionTest[42684:6739102] (\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2c00&gt;{25654, 124}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2cc0&gt;{38864, 316}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2340&gt;{39939, 105}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2100&gt;{40051, 103}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2000&gt;{40203, 125}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2140&gt;{41190, 91}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b0f00&gt;{41297, 67}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\",\n\"&lt;NSSimpleRegularExpressionCheckingResult: 0x6000037b2d80&gt;{41479, 124}{&lt;NSRegularExpression: 0x600002ca0210&gt; \\\\&lt;a.+?\\\\&gt;.+?\\\\&lt;\\\\/a\\\\&gt; 0x1}\"\n</code></pre>\n\n<p>)</p>\n\n<p>I'm pretty sure that's not what I'm supposed to be getting. </p>\n"}, {"tags": ["objective-c", "parse-platform", "pfobject"], "answers": [{"tags": [], "owner": {"reputation": 1083, "user_id": 1689950, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14eee2104bc2aa6d5a8ced014c6a06e6?s=128&d=identicon&r=PG&f=1", "display_name": "LulzCow", "link": "https://stackoverflow.com/users/1689950/lulzcow"}, "is_accepted": false, "score": 1, "last_activity_date": 1541535459, "creation_date": 1541535459, "answer_id": 53179370, "question_id": 53146286, "link": "https://stackoverflow.com/questions/53146286/two-separate-users-saving-same-pfobject/53179370#53179370", "title": "Two separate users saving same PFObject", "body": "<p>According to the <a href=\"https://parseplatform.org/Parse-SDK-JS/api/2.1.0/Parse.Object.html#addUnique\" rel=\"nofollow noreferrer\">Parse API docs</a>, <code>addUniqueObject</code> is an atomic operation, so similarly to <code>increment</code>, it should still work in a race condition (i.e. if either of the objects being saved hasn't been fetched). </p>\n\n<p>You shouldn't have to fetch both objects for it to save properly. If it's not working, it might be because you're overriding it somewhere else (like in cloud code), but the <code>addUniqueObject</code> call should allow both objects to save </p>\n"}], "owner": {"reputation": 935, "user_id": 3983419, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/ewYUS.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3983419/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541535459, "creation_date": 1541371763, "question_id": 53146286, "link": "https://stackoverflow.com/questions/53146286/two-separate-users-saving-same-pfobject", "title": "Two separate users saving same PFObject", "body": "<p>If two separate users have the same PFObject locally and <code>user1</code> saves the object first then <code>user2</code> calls to save it next(like below), will the array only contain <code>user2</code> objectId or both objectIds?</p>\n\n<pre><code>    [object addUniqueObject:[[PFUser currentUser]objectId] forKey:@\"invite\"];\n    [object saveInBackground];\n</code></pre>\n\n<p>And if it only contains <code>user2</code>id is the only way to make sure the object saves properly is to fetch it right before I save it?</p>\n"}, {"tags": ["ios", "objective-c", "mkmapview", "segue", "mkannotation"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541369354, "post_id": 53145934, "comment_id": 93183218, "body": "I get <code>Sending &#39;CLLocationCoordinate2D&#39; (aka &#39;struct CLLocationCoordinate2D&#39;) to parameter of incompatible type &#39;id _Nullable&#39;</code> in <code>didSelectAnnotationView</code> for some reason :/"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1541370756, "post_id": 53145934, "comment_id": 93183596, "body": "see edit .................. here i suppose <b>Pointfrommap</b> is of type <b>CLLocation</b>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541370994, "post_id": 53145934, "comment_id": 93183662, "body": "oh right ! Well Pointfrommap is of type PFGeoPoint I am afraid. But I will try to work it out in the same way"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 1, "creation_date": 1541372165, "post_id": 53145934, "comment_id": 93183923, "body": "You got it. Thanks :)"}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1541371883, "last_edit_date": 1541371883, "creation_date": 1541368882, "answer_id": 53145934, "question_id": 53145854, "link": "https://stackoverflow.com/questions/53145854/how-can-i-perform-a-segue-based-on-a-mkannotation-pin/53145934#53145934", "title": "How can I perform a segue based on a MKAnnotation pin?", "body": "<p>You can try</p>\n\n<pre><code>- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view{\n\n     AnnotationMap *allEventsAround = (AnnotationMap*)view.annotation;\n     PFGeoPoint *loc  = [PFGeoPoint geoPointWithLatitude:allEventsAround.coordinate.latitude longitude:allEventsAround.coordinate.longitude];\n    [self performSegueWithIdentifier:@\"toEventDetails\" sender:loc];   // Use your appropriate segue identifier\n}\n</code></pre>\n\n<p>Then inside <code>prepareForSegue</code> </p>\n\n<pre><code>controller.Pointfrommap =  (PFGeoPoint*) sender;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 53145934, "answer_count": 1, "score": 0, "last_activity_date": 1541371883, "creation_date": 1541368292, "question_id": 53145854, "link": "https://stackoverflow.com/questions/53145854/how-can-i-perform-a-segue-based-on-a-mkannotation-pin", "title": "How can I perform a segue based on a MKAnnotation pin?", "body": "<p>I have a Map with 2 events which both of them have pins pretty close to each other. </p>\n\n<p>This code will retrieve the location of both pins:</p>\n\n<pre><code>// This query is used to get the location of all events in the parse cloud database\nPFQuery *locationQuery = [PFQuery queryWithClassName:@\"Event\"];\n[locationQuery whereKeyExists:@\"EventLocation\"];\n[locationQuery whereKey:@\"Organizator\" notEqualTo:PFUser.currentUser.username];\n[locationQuery findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {\n    if (!error) {\n        // All the locations are stored in the objects NSArray\n\n        for (PFObject *gp in objects) {\n\n            // We store all the found locations in a PFGeoPoint object and then we have to transform this PFGeoPoints in real latitude/longitude coordinates via the CLLocationCoordinate2DMake method\n            self.location = [gp objectForKey:@\"EventLocation\"];\n            CLLocationCoordinate2D coordinate = CLLocationCoordinate2DMake(self.location.latitude, self.location.longitude);\n\n            // Subclass of MKAnnotation\n            AnnotationMap *AllEventsAround = [[AnnotationMap alloc]init];\n\n            AllEventsAround.coordinate = coordinate; // We assign the coordinates got in CLLocationCoordinate2DMake to the coordinates of the AnnotationMap class\n            AllEventsAround.title = [gp valueForKey:@\"SportName\"];\n            AllEventsAround.subtitle = [NSString stringWithFormat:@\"%@\",[gp valueForKey:@\"DateAndTime\"]];\n\n            // method call to point the annotations on the map\n            [self.EventsmapMapView addAnnotation:AllEventsAround];\n        }\n    } else {\n        // Log details of the failure\n        NSLog(@\"Error: %@ %@\", error, [error userInfo]);\n    }\n}];\n</code></pre>\n\n<p>The retrieval works fine. An example can be : </p>\n\n<p>=> PFGeoPoint: 0x2805XXXX, latitude: 50.XXXXX, longitude: 19.XXXXX</p>\n\n<p>=> PFGeoPoint: 0x280XXXXX, latitude: 50.061XXXX, longitude: 19.93XXXX</p>\n\n<p>When I click on a pin, it performs a segue according to this code:</p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n\n    if ([[segue identifier] isEqualToString:@\"toEventDetails\"]){\n\n    EventDetailsTableViewController *controller = (EventDetailsTableViewController *)segue.destinationViewController;\n    controller.Pointfrommap = self.location;\n  }\n} \n</code></pre>\n\n<p><strong>My problem:</strong></p>\n\n<p><code>self.location</code> comes from the result of the above query (PFQuery), therefore it will save the last value obtained from the query, but not the value that comes from a pin tapped</p>\n\n<p><strong>My guess:</strong></p>\n\n<p>I am aware that I can use this Delegate method:</p>\n\n<pre><code>- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view{\n\n    //In case a pin is selected, we perform a segue to the event's detail view. On the segue, the actual event coordinates are stored in tappedCoord and send to the details view controller\n\n    [self performSegueWithIdentifier:@\"toEventDetails\" sender:self];   // Use your appropriate segue identifier\n}\n</code></pre>\n\n<p>Maybe there's something I can add here in order to pass the correct location. </p>\n"}, {"tags": ["ios", "objective-c", "share-extension"], "comments": [{"owner": {"reputation": 529, "user_id": 6569059, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-rzvUsWMbgbs/AAAAAAAAAAI/AAAAAAAAADI/Qa1gllR4b9k/photo.jpg?sz=128", "display_name": "Muz", "link": "https://stackoverflow.com/users/6569059/muz"}, "edited": false, "score": 0, "creation_date": 1591531245, "post_id": 53144039, "comment_id": 110085377, "body": "Could you share the code to read txt or csv file in  Share Extension?"}], "answers": [{"tags": [], "owner": {"reputation": 1092, "user_id": 3073939, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/001d71737776cb0edda530088e6d16c0?s=128&d=identicon&r=PG&f=1", "display_name": "Pan Mluv\u010d&#237;", "link": "https://stackoverflow.com/users/3073939/pan-mluv%c4%8d%c3%ad"}, "is_accepted": true, "score": 1, "last_activity_date": 1541411029, "creation_date": 1541411029, "answer_id": 53151820, "question_id": 53144039, "link": "https://stackoverflow.com/questions/53144039/ios-share-extension-does-not-allow-me-to-share-txt-or-csv-file-to-my-app/53151820#53151820", "title": "ios: Share Extension does not allow me to share .txt or .csv file to my app", "body": "<p>I found by accident that in order to work with these text files, you have to add to plist of your extension <code>NSExtensionActivationSupportsText</code> than your app will popup in list of available apps to share into</p>\n\n<p><a href=\"https://i.stack.imgur.com/Dt5Xr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dt5Xr.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1092, "user_id": 3073939, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/001d71737776cb0edda530088e6d16c0?s=128&d=identicon&r=PG&f=1", "display_name": "Pan Mluv\u010d&#237;", "link": "https://stackoverflow.com/users/3073939/pan-mluv%c4%8d%c3%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 53151820, "answer_count": 1, "score": 1, "last_activity_date": 1541411029, "creation_date": 1541356181, "last_edit_date": 1541356631, "question_id": 53144039, "link": "https://stackoverflow.com/questions/53144039/ios-share-extension-does-not-allow-me-to-share-txt-or-csv-file-to-my-app", "title": "ios: Share Extension does not allow me to share .txt or .csv file to my app", "body": "<p>I have a share extension in my app. It does share photos from photos app and .pdf files from files app. But it does not work on .txt or .csv files. What do I have to do to allow it?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "autolayout"], "answers": [{"comments": [{"owner": {"reputation": 7863, "user_id": 9086770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JW6eS.jpg?s=128&g=1", "display_name": "bxod", "link": "https://stackoverflow.com/users/9086770/bxod"}, "edited": false, "score": 1, "creation_date": 1541781522, "post_id": 53225810, "comment_id": 93346394, "body": "I appreciate the answer and the effort but the project in the Github link is not a working solution. It doesn&#39;t address the problem posed in the question, the adaptation of the presented view to frame changes. In your Github project, toggling the double-height status bar breaks the UI. That is the problem I want to fix."}, {"owner": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "reply_to_user": {"reputation": 7863, "user_id": 9086770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JW6eS.jpg?s=128&g=1", "display_name": "bxod", "link": "https://stackoverflow.com/users/9086770/bxod"}, "edited": false, "score": 0, "creation_date": 1541783104, "post_id": 53225810, "comment_id": 93347269, "body": "@narddog, got it. Sorry, I don&#39;t even know how did I skip that point. So I played a bit more. We can listen status bar frame changes using <code>NotificationCenter.default.addObserver(self, selector: #selector(SELECTOR), name: UIApplication.willChangeStatusBarFrameNotification, object: nil)</code> and updating <code>ViewController</code>s frame respectively. There will once again be problem with the <b>scale</b> in my solution. I will continue playing with it and will share the results."}], "tags": [], "owner": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "is_accepted": false, "score": 6, "last_activity_date": 1541797154, "last_edit_date": 1592644375, "creation_date": 1541766867, "answer_id": 53225810, "question_id": 53143856, "link": "https://stackoverflow.com/questions/53143856/when-implementing-custom-view-controller-presentations-where-to-apply-presented/53225810#53225810", "title": "When implementing custom view controller presentations, where to apply presented view&#39;s constraints?", "body": "<p>My answer is: <strong>You should not use constraints in case of custom modal presentations</strong></p>\n<p>Therefore I know your pain, so I will try to help you to save time and effort by providing some hints which I suddenly revealed.</p>\n<hr />\n<h3>Example case:</h3>\n<p>Card UI animation like follows:</p>\n<p><a href=\"https://i.stack.imgur.com/zVVCb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVVCb.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>Terms for further use:</strong></p>\n<ul>\n<li><em>Parent</em> - <code>UIViewController</code> with &quot;Detail&quot; bar button item</li>\n<li><em>Child</em> - <code>UIViewController</code> with &quot;Another&quot;</li>\n</ul>\n<p>Troubles you mentioned began, when my animation involved size change along with the movement. It causes different kinds of effects including:</p>\n<ul>\n<li>Parent's under-status-bar area appeared and disappeared</li>\n<li>Parent's subviews were animated poorly - jumps, duplication and other glitches.</li>\n</ul>\n<p>After few days of debugging and searching I came up with the following solution (sorry for some magic numbers ;)):</p>\n<pre><code>UIView.animate(withDuration: transitionDuration(using: transitionContext),\n                       delay: 0,\n                       usingSpringWithDamping: 1,\n                       initialSpringVelocity: 0.4,\n                       options: .curveEaseIn, animations: {\n            toVC.view.transform = CGAffineTransform(translationX: 0, y: self.finalFrame.minY)\n            toVC.view.frame = self.finalFrame\n            toVC.view.layer.cornerRadius = self.cornerRadius\n            \n            fromVC.view.layer.cornerRadius = self.cornerRadius\n            var transform = CATransform3DIdentity\n            transform = CATransform3DScale(transform, scale, scale, 1.0)\n            transform = CATransform3DTranslate(transform, 0, wdiff, 0)\n            fromVC.view.layer.transform = transform\n            fromVC.view.alpha = 0.6\n        }) { _ in\n            transitionContext.completeTransition(!transitionContext.transitionWasCancelled)\n        }\n</code></pre>\n<p>Main point here is, that <strong>You have to use <code>CGAffineTransform3D</code> to avoid animation problems and problems with subviews animation (<em>2D Transforms</em> are not working for unknown reasons).</strong></p>\n<p>This approach fixes, I hope, all your problems without using constraints.</p>\n<p>Feel free to ask questions.</p>\n<h3>UPD: According to In-Call status bar</h3>\n<p>After hours of all possible experiments and examining similar projects like <a href=\"https://github.com/peteog/CardUIExample/tree/master/CardUIExample\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/osteslag/custom-container-transitions\" rel=\"nofollow noreferrer\">this</a> and stackoverflow questions like <a href=\"https://stackoverflow.com/questions/17118536/best-practice-to-handle-the-extended-height-status-bar-with-a-wantsfullscreenlay\">this</a>, <a href=\"https://stackoverflow.com/questions/25882609/how-to-do-layout-to-handle-in-call-double-height-status-bar-for-custom-present\">this</a> (it's actually fun, OPs answer is there) and similar I am totally confused. Seems like my solution handles Double status bar on UIKit level (it adjusts properly), but the same movement is ignoring previous transformations. The reason is unknown.</p>\n<hr />\n<h3>Code samples:</h3>\n<p>You can see the working solution here on <a href=\"https://github.com/fewlinesofcode/InteractiveTransition\" rel=\"nofollow noreferrer\">Github</a></p>\n<p><strong>P.S.</strong> I'm not sure if it's ok to post a GitHub link in the answer. I'd appreciate for an advice how to post 100-300 lines code In the answer.</p>\n"}, {"comments": [{"owner": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "edited": false, "score": 0, "creation_date": 1542201179, "post_id": 53300499, "comment_id": 93482572, "body": "Are you using <code>scale</code> transform along with <code>translation</code>? In my case it also breaks the UI."}, {"owner": {"reputation": 1695, "user_id": 2370723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1q2Y.png?s=128&g=1", "display_name": "Vin Gazoil", "link": "https://stackoverflow.com/users/2370723/vin-gazoil"}, "reply_to_user": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "edited": false, "score": 0, "creation_date": 1542201619, "post_id": 53300499, "comment_id": 93482870, "body": "I do use a scale transform during the presentationTransition but I&#39;m not using any translation. For notched devices, I&#39;m directly setting the vertical origin of the frame (for the view to be below the top safe area inset)."}, {"owner": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "edited": false, "score": 0, "creation_date": 1542201697, "post_id": 53300499, "comment_id": 93482927, "body": "will try to set frame directly, without translation. Thanks."}], "tags": [], "owner": {"reputation": 1695, "user_id": 2370723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1q2Y.png?s=128&g=1", "display_name": "Vin Gazoil", "link": "https://stackoverflow.com/users/2370723/vin-gazoil"}, "is_accepted": false, "score": 0, "last_activity_date": 1542200712, "last_edit_date": 1542200712, "creation_date": 1542199294, "answer_id": 53300499, "question_id": 53143856, "link": "https://stackoverflow.com/questions/53143856/when-implementing-custom-view-controller-presentations-where-to-apply-presented/53300499#53300499", "title": "When implementing custom view controller presentations, where to apply presented view&#39;s constraints?", "body": "<p>I've been struggling with double-height statusBar in my current project and I was able to solve almost every issue (the last remaining one is a very strange transformation issue when the presentingViewController is embedded inside a UITabBarController).</p>\n\n<p>When the height of the status bar changes, a notification is posted.<br>\nYour <code>UIPresentationController</code> subclass should <strong>subscribe to that particular notification</strong> and adjust the frame of the <code>containerView</code> and its subviews:</p>\n\n<blockquote>\n  <p>UIApplication.willChangeStatusBarFrameNotification</p>\n</blockquote>\n\n<p>Here is an example of code I'm using:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>final class MyCustomPresentationController: UIPresentationController {\n\n    // MARK: - StatusBar\n\n    private func subscribeToStatusBarNotifications() {\n        let notificationName = UIApplication.willChangeStatusBarFrameNotification\n        NotificationCenter.default.addObserver(self, selector: #selector(statusBarWillChangeFrame(notification:)), name: notificationName, object: nil)\n    }\n\n    @objc private func statusBarWillChangeFrame(notification: Notification?) {\n        if let newFrame = notification?.userInfo?[UIApplication.statusBarFrameUserInfoKey] as? CGRect {\n            statusBarWillChangeFrame(to: newFrame)\n        } else {\n            statusBarWillChangeFrame(to: .zero)\n        }\n    }\n\n    func statusBarWillChangeFrame(to newFrame: CGRect) {\n        layoutContainerView(animated: true)\n    }\n\n    // MARK: - Object Lifecycle\n\n    deinit {\n        // Unsubscribe from all notifications\n        NotificationCenter.default.removeObserver(self)\n    }\n\n    // MARK: - Layout\n\n    /// Called when the status-bar is about to change its frame.\n    /// Relayout the containerView and its subviews\n    private func layoutContainerView(animated: Bool) {\n        guard let containerView = self.containerView else { return }\n\n        // Retrieve informations about status-bar\n        let statusBarHeight = UIApplication.shared.statusBarFrame.height\n        let normalStatusBarHeight = Constants.Number.statusBarNormalHeight // 20\n        let isStatusBarNormal = statusBarHeight ==~ normalStatusBarHeight\n\n        if animated {\n            containerView.frame = \u2026\n            updatePresentedViewFrame(animated: true)\n        } else {\n            // Update containerView frame\n            containerView.frame = \u2026\n            updatePresentedViewFrame(animated: false)\n        }\n    }\n\n    func updatePresentedViewFrame(animated: Bool) {\n        self.presentedView?.frame = \u2026\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mrwlB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrwlB.gif\" alt=\"result image\"></a></p>\n"}], "owner": {"reputation": 7863, "user_id": 9086770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JW6eS.jpg?s=128&g=1", "display_name": "bxod", "link": "https://stackoverflow.com/users/9086770/bxod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 7, "answer_count": 2, "score": 16, "last_activity_date": 1577835644, "creation_date": 1541354977, "last_edit_date": 1577835644, "question_id": 53143856, "link": "https://stackoverflow.com/questions/53143856/when-implementing-custom-view-controller-presentations-where-to-apply-presented", "title": "When implementing custom view controller presentations, where to apply presented view&#39;s constraints?", "body": "<p>When presenting a view controller using a custom animation, none of Apple's documentation or example code mentions or includes constraints, beyond the following:</p>\n\n<pre><code>// Always add the \"to\" view to the container.\n// And it doesn't hurt to set its start frame.\n[containerView addSubview:toView];\ntoView.frame = toViewStartFrame;\n</code></pre>\n\n<p>The problem is that the double-height status bar is not recognized by custom-presented view controllers (view controllers that use non-custom presentations don't have this problem). The presented view controller is owned by the transition's container view, which is a temporary view provided by UIKit that we have next to no dominion over. If we anchor the presented view to that transient container, it only works on certain OS versions; not to mention, Apple has never suggested doing this.</p>\n\n<p><strong>UPDATE 1:</strong> There is no way to consistently handle a double-height status bar with custom modal presentations. I think Apple botched it here and I suspect they will eventually phase it out.</p>\n\n<p><strong>UPDATE 2:</strong> The double-height status bar has been phased out and no longer exists on non-edge-to-edge devices.</p>\n"}, {"tags": ["objective-c", "arrays", "json", "merge"], "comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1541337352, "post_id": 53139462, "comment_id": 93174133, "body": "You <b>need</b> to help people help you. What problems have you found with your code? What have you tried to solve them? What is the type <code>Results</code>? Etc. Edit your question to provide this information (don&#39;t try to add it in comments) and someone will undoubtedly help you along."}, {"owner": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1541404110, "post_id": 53139462, "comment_id": 93190753, "body": "@CRD my code outcome is the resultArray consisting all the  34 objects of the json. But resultArray have to be the number of objects according to unique date"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1541406921, "post_id": 53139462, "comment_id": 93191909, "body": "You have been on SO for 5yrs, an iOS developer for 6yrs, you know how debugging and SO work. What have <b>you</b> tried to debug your issue? What did you find? Explain why you are stuck by <b>editing the question</b>, and someone will undoubtedly be more than happy to help you out."}], "owner": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543582082, "creation_date": 1541324566, "last_edit_date": 1541336418, "question_id": 53139462, "link": "https://stackoverflow.com/questions/53139462/merge-duplicate-values-with-in-a-single-array-while-json-parsing-in-ios", "title": "Merge Duplicate values with in a single array while json parsing in iOS", "body": "<p>I want to parse json and keep it in the local array so that I can display the data as like excell in my app. The json is redundant. I have uploaded an image for your kind consideration.\nHere is my json </p>\n\n<pre><code>    [\n  {\n    \"date\": \"2018-10-21\",\n    \"Status\": \"Confirmed\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Confirmed\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Delivered\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Rejected\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-22\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-23\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-23\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"3\"\n  },\n  {\n    \"date\": \"2018-10-24\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-25\",\n    \"Status\": \"Delivered\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-25\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-26\",\n    \"Status\": \"Delivered\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-27\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"3\"\n  },\n  {\n    \"date\": \"2018-10-27\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-27\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-28\",\n    \"Status\": \"Confirmed\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-28\",\n    \"Status\": \"Delivered\",\n    \"Orders\": \"3\"\n  },\n  {\n    \"date\": \"2018-10-29\",\n    \"Status\": \"Delivered\",\n    \"Orders\": \"5\"\n  },\n  {\n    \"date\": \"2018-10-29\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-29\",\n    \"Status\": \"Rejected\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-29\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-31\",\n    \"Status\": \"Confirmed\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-31\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-10-31\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-10-31\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-01\",\n    \"Status\": \"Confirmed\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-01\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-01\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"2\"\n  },\n  {\n    \"date\": \"2018-11-01\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-02\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-03\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"4\"\n  },\n  {\n    \"date\": \"2018-11-03\",\n    \"Status\": \"Cancelled\",\n    \"Orders\": \"1\"\n  },\n  {\n    \"date\": \"2018-11-04\",\n    \"Status\": \"Processing\",\n    \"Orders\": \"1\"\n  }\n]\n</code></pre>\n\n<p>After parsing it I want to keep the data of same date together. For example for a particular date like 2018-10-20 I would like to keep all the information in an entity class so that I can populate the information in the table. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GEON1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEON1.png\" alt=\"enter image description here\"></a></p>\n\n<p>My parsing code is provided below</p>\n\n<pre><code>    -(void)parseLocalJson\n{\n    resultsArray=[[NSMutableArray alloc]init];\n    NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"Results\" ofType:@\"json\"];\n    NSString *myJSON = [[NSString alloc] initWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:NULL];\n    NSArray *jsonArr = [NSJSONSerialization JSONObjectWithData:[myJSON dataUsingEncoding:NSUTF8StringEncoding] options:kNilOptions error:nil];\n\n    for(int r =0;r&lt;[jsonArr count];)\n    {\n        id val=[jsonArr objectAtIndex:r];\n        Results* prevResult;\n        //Results* aResult;\n        Results* aResult=[[Results alloc]init];\n        aResult.date=[val valueForKey:@\"date\"];\n\n\n         if(![aResult.date isEqualToString:prevResult.date])\n        {\n             //Results* aResult=[[Results alloc]init];\n            NSString* status=[val valueForKey:@\"Status\"];\n            NSString* orders=[val valueForKey:@\"Orders\"];\n            if([status isEqualToString:@\"Confirmed\"])\n            {\n                aResult.orderStatus_Confirmed=orders;\n            }\n            else if([status isEqualToString:@\"Delivered\"])\n            {\n                aResult.orderStatus_Delivered=orders;\n            }\n            else if([status isEqualToString:@\"Cancelled\"])\n            {\n                aResult.orderStatus_Cancelled=orders;\n\n            }\n            else if([status isEqualToString:@\"Rejected\"])\n            {\n                aResult.orderStatus_Rejected=orders;\n            }\n            else if([status isEqualToString:@\"Pending\"])\n            {\n                aResult.orderStatus_Pending=orders;\n            }\n            [resultsArray addObject:aResult];\n            r++;\n        }\n        else\n        {\n            r--;\n            NSString* status=[val valueForKey:@\"Status\"];\n            NSString* orders=[val valueForKey:@\"Orders\"];\n            if([status isEqualToString:@\"Confirmed\"])\n            {\n                prevResult.orderStatus_Confirmed=orders;\n            }\n            else if([status isEqualToString:@\"Delivered\"])\n            {\n                prevResult.orderStatus_Delivered=orders;\n            }\n            else if([status isEqualToString:@\"Cancelled\"])\n            {\n                prevResult.orderStatus_Cancelled=orders;\n\n            }\n            else if([status isEqualToString:@\"Rejected\"])\n            {\n                prevResult.orderStatus_Rejected=orders;\n            }\n            else if([status isEqualToString:@\"Pending\"])\n            {\n                prevResult.orderStatus_Pending=orders;\n            }\n\n            //[resultsArray addObject:prevResult];\n\n        }\n        prevResult=aResult;\n\n\n\n\n    }\n\n\n\n\n\n    // Parse the string into JSON\n    //NSDictionary *json = [myJSON JSONValue];\n}\n</code></pre>\n\n<p>I want to keep data in my array according to the image provided.  Please help me out. Thanks in advance. </p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 15052, "user_id": 2907715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/daX8Z.png?s=128&g=1", "display_name": "ielyamani", "link": "https://stackoverflow.com/users/2907715/ielyamani"}, "is_accepted": true, "score": 5, "last_activity_date": 1541294028, "creation_date": 1541294028, "answer_id": 53136944, "question_id": 53136371, "link": "https://stackoverflow.com/questions/53136371/differentiating-a-swift-value-type-from-an-object-i-e-reference-type-at-runtime/53136944#53136944", "title": "Differentiating a Swift value type from an object i.e. reference type at runtime?", "body": "<p>Here is a way to check if a variable is an instance of a class:</p>\n\n<pre><code>object_isClass(type(of: yourVariable))\n</code></pre>\n\n<p>It uses <a href=\"https://developer.apple.com/documentation/swift/2885064-type\" rel=\"noreferrer\">type(of:)</a>, which returns the dynamic type of the variable.</p>\n\n<p>Here are some tests:</p>\n\n<pre><code>let a = 1\n\nlet b = (\"a\", 2.3)\n\nenum MyEnum { case one; case two }\nlet c = MyEnum.one\n\nstruct MyStruct { let property: Int }\nlet d = MyStruct(property: 0)\n\nclass MyClass {}\nlet e = MyClass()\n\nobject_isClass(type(of: a))  //false\nobject_isClass(type(of: b))  //false\nobject_isClass(type(of: c))  //false\nobject_isClass(type(of: d))  //false\nobject_isClass(type(of: e))  //true\n</code></pre>\n"}], "owner": {"reputation": 3139, "user_id": 414415, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/011dec7e31b0e0bf9de0c40a8cb2f162?s=128&d=identicon&r=PG", "display_name": "Ilias Karim", "link": "https://stackoverflow.com/users/414415/ilias-karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 53136944, "answer_count": 1, "score": 1, "last_activity_date": 1541294028, "creation_date": 1541287091, "question_id": 53136371, "link": "https://stackoverflow.com/questions/53136371/differentiating-a-swift-value-type-from-an-object-i-e-reference-type-at-runtime", "title": "Differentiating a Swift value type from an object i.e. reference type at runtime?", "body": "<p>Is there some way to tell apart value types (e.g. tuples, enums and structs including primitives) from object also known as reference types in Swift at runtime either using Swift or the Objective-C runtime?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "is_accepted": true, "score": 1, "last_activity_date": 1541356850, "creation_date": 1541356850, "answer_id": 53144135, "question_id": 53135748, "link": "https://stackoverflow.com/questions/53135748/ios-custom-keyboard-extension-autolayout/53144135#53144135", "title": "iOS Custom Keyboard Extension Autolayout", "body": "<p>Autolayout should set <code>translatesAutoresizingMaskIntoConstraints</code> to <code>NO</code> before adding Constraint. The code below can make a <code>UICollectionView</code> autolayout with equal edges.</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];\n    UICollectionView *collectionView = [[UICollectionView alloc] initWithFrame:CGRectZero collectionViewLayout:layout];\n    collectionView.translatesAutoresizingMaskIntoConstraints = NO;\n    collectionView.backgroundColor = [UIColor redColor];\n    [self.view addSubview:collectionView];\n\n    //Adding layout constraint\n    [self.view addConstraint:[NSLayoutConstraint constraintWithItem:collectionView attribute:NSLayoutAttributeCenterX relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeCenterX multiplier:1.0 constant:0.0]];\n    [self.view addConstraint:[NSLayoutConstraint constraintWithItem:collectionView attribute:NSLayoutAttributeCenterY relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeCenterY multiplier:1.0 constant:0.0]];\n    [self.view addConstraint:[NSLayoutConstraint constraintWithItem:collectionView attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeWidth multiplier:1.0 constant:0.0]];\n    [self.view addConstraint:[NSLayoutConstraint constraintWithItem:collectionView attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeHeight multiplier:1.0 constant:0.0]];\n}\n</code></pre>\n\n<p>In addition, I recommend you to use <a href=\"https://github.com/SnapKit/Masonry\" rel=\"nofollow noreferrer\">Masonry</a> to build autolayout. In your case, you just need to run the code below to make constraints.</p>\n\n<pre><code>[collectionView mas_makeConstraints:^(MASConstraintMaker *make) {\n    make.edges.equalTo(self.view);\n}];\n</code></pre>\n\n<p>By the way, autolayout will use more memory then calculating frame yourself. As iOS Keyboard extension has a very harsh memory usage limit (around 40mb depends on your device). If your keyboard would use many memory on process other things, I suggest you don't use autolayout.</p>\n"}], "owner": {"reputation": 456, "user_id": 8527410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/776439fd71b7bbc71cd7efff82da72f9?s=128&d=identicon&r=PG&f=1", "display_name": "user8527410", "link": "https://stackoverflow.com/users/8527410/user8527410"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 53144135, "answer_count": 1, "score": 1, "last_activity_date": 1541356850, "creation_date": 1541281163, "last_edit_date": 1541322135, "question_id": 53135748, "link": "https://stackoverflow.com/questions/53135748/ios-custom-keyboard-extension-autolayout", "title": "iOS Custom Keyboard Extension Autolayout", "body": "<p>I'm developing a custom keyboard and i want to use only a UICollectionView as content. The CollectionView should fill (center x and y, width and height available space) of the keyboardview.</p>\n\n<p>My problem is that if i rotate the device the collection view won't be resized. </p>\n\n<p>I tried layout constraints, resizing the view on viewWillTransitionToSize but it does not work. Can anyone give me a hint or show me a way to get this done?</p>\n"}, {"tags": ["objective-c", "datepicker", "uitextfield", "nsdate"], "comments": [{"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 2, "creation_date": 1541276210, "post_id": 53135039, "comment_id": 93163475, "body": "Which format did expect? NSLog always use the description method of the class. Description is always formatted Sat Nov 10 00:35:06 2018"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541276538, "post_id": 53135039, "comment_id": 93163545, "body": "I expected to have dd-MM-yyyy HH:mm:ss."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 1, "creation_date": 1541276827, "post_id": 53135039, "comment_id": 93163608, "body": "Then you have to use NSLog(@&quot;%@&quot;, [dateFormatter stringFromDate:date]);"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541277325, "post_id": 53135039, "comment_id": 93163714, "body": "but does that return a NSString or a NSDate Object?"}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541277763, "post_id": 53135039, "comment_id": 93163837, "body": "Then you have a NSString again. date is of type NSDate. That should be accepted by your Parse Cloud."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541278063, "post_id": 53135039, "comment_id": 93163914, "body": "Well thats the thing. I need to have a NSDate because I am storing dates."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541278317, "post_id": 53135039, "comment_id": 93163988, "body": "You created it here: NSDate *date = [dateFormatter dateFromString:dateString]; Or did you need in other part of the code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541278595, "post_id": 53135039, "comment_id": 93164051, "body": "Yes. But &quot;date&quot;, which is &quot;Sat Nov 10 00:35:06 2018&quot; should be formatted using &quot;dd-MM-yyyy HH:mm:ss&quot; declared a few lines above. Thats the problem, a formatting problem."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1541278776, "post_id": 53135039, "comment_id": 93164096, "body": "I think it is a misunderstanding NSDate has just a value not a format. The value is correct."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1541290269, "post_id": 53135039, "comment_id": 93166425, "body": "Your code is fine. There is nothing to change. The line <code>NSDate *date = [dateFormatter dateFromString:dateString];</code> gives you what you want. <code>NSDate</code> has no format. Ignore the format shown when you log the date, it&#39;s irrelevant."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541279447, "post_id": 53135543, "comment_id": 93164259, "body": "Hi caleb! But I don&#39;t need to convert date to string, but the opposite!. I already have a NSString (datetimeTextField.text) formatted correctly (07-11-2018 22:00:42). My problem is to convert that NSString into a NSDate :)"}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 0, "creation_date": 1541279729, "post_id": 53135543, "comment_id": 93164329, "body": "Ah, I see. I thought you were unhappy with the format in which it&#39;s being logged. What time zone are you in?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541279827, "post_id": 53135543, "comment_id": 93164352, "body": "I am in GMT+1 :)"}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 0, "creation_date": 1541280083, "post_id": 53135543, "comment_id": 93164426, "body": "It&#39;s hard to see how input of <code>07-11-2018 22:00:42</code> results in a date of <code>Sat Nov 10 00:35:06 2018</code>. The 1-hour time zone difference from UTC explains part of the 2 hr 35 min difference, and daylight savings might explain another hour, but hard to see where the 35 minutes comes from."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "edited": false, "score": 0, "creation_date": 1541280329, "post_id": 53135543, "comment_id": 93164490, "body": "Oh sorry the values are the same. Just they are different examples. I just want to convert a NSString to NSDate. Thats all."}], "tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": false, "score": 1, "last_activity_date": 1541279230, "creation_date": 1541279230, "answer_id": 53135543, "question_id": 53135039, "link": "https://stackoverflow.com/questions/53135039/why-is-my-nsdate-not-being-formatted-correctly/53135543#53135543", "title": "Why is my NSDate not being formatted correctly?", "body": "<blockquote>\n  <p>Well thats the thing. I need to have a NSDate because I am storing dates.</p>\n</blockquote>\n\n<p>You seem to misunderstand the difference between <code>NSDate</code> and what you get back from <code>NSDateFormatter</code>. <code>NSDate</code> is just a class that stores a date in no particular <em>format</em> -- it stores the information inside the object. If you want to display the date in a particular format, you need to create a <em>string</em> from the date, and you use <code>NSDateFormatter</code> to do convert your date into a string that expresses the date in the format you need.</p>\n\n<p>If you print the date to the console using <code>NSLog()</code>, like:</p>\n\n<pre><code>NSLog(\"My date is %@\", myDate);\n</code></pre>\n\n<p>then <code>NSLog</code> will just use the date's <code>description</code> method, which gives you a sort of default expression of the date. If you want to log the date in some specific format, you'll need to set up a date formatter with that format and then use it:</p>\n\n<pre><code>NSLog(\"My formatted date is %@\", [myFormatter stringFromDate:myDate]);\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "is_accepted": true, "score": 0, "last_activity_date": 1541292769, "creation_date": 1541292769, "answer_id": 53136848, "question_id": 53135039, "link": "https://stackoverflow.com/questions/53135039/why-is-my-nsdate-not-being-formatted-correctly/53136848#53136848", "title": "Why is my NSDate not being formatted correctly?", "body": "<p>In the end it turned out that my code was fine. Only thing is that I did not notice that the Date was declared as String in Parse instead of as Date. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53136848, "answer_count": 2, "score": 0, "last_activity_date": 1541292769, "creation_date": 1541275403, "last_edit_date": 1541287417, "question_id": 53135039, "link": "https://stackoverflow.com/questions/53135039/why-is-my-nsdate-not-being-formatted-correctly", "title": "Why is my NSDate not being formatted correctly?", "body": "<p>I have a <code>NSDate</code> which is not being correctly formatted. </p>\n\n<p>I have declared a <code>UITextField</code> in the .h : </p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet UITextField *datetimeTextField;\n</code></pre>\n\n<p>Then I have a 3rd party UIPicker that picks a Date and inserts it in the mentioned TextField:</p>\n\n<pre><code>// Method to avoid diplaying the keyboard. \n    -(BOOL)textFieldShouldBeginEditing:(UITextField *)textField{\n        ActionSheetDatePicker *datePicker = [[ActionSheetDatePicker alloc]initWithTitle:@\"Select Date and Time\" datePickerMode:UIDatePickerModeDateAndTime selectedDate:[NSDate date] doneBlock:^(ActionSheetDatePicker *picker, id selectedDate, id origin) {\n\n        // As you can see here it's taking the correct (non-formatted) date\n        NSLog(@\"Selected %@\", selectedDate); // VALUE = Sat Nov 10 10:00:41 2018\n\n        //create a date formatter\n        NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n\n        //set its format as the required output format\n       [formatter setDateFormat:@\"dd-MM-yyyy HH:mm:ss\"];\n\n        //get the output date as string\n        NSString *selectedDateString = [formatter stringFromDate:selectedDate];\n\n        self.datetimeTextField.text = selectedDateString;\n\n        // And here I get the value I want to store in Parse stored in datetimeTextField.text\n\n        NSLog(@\"Selected After reformat %@\", self.datetimeTextField.text); // VALUE = 10-11-2018 00:35:06\n\n    } cancelBlock:^(ActionSheetDatePicker *picker) {\n\n    } origin:self.view];\n    datePicker.minuteInterval = 5;\n    [datePicker showActionSheetPicker];\n\n return NO;\n }\n</code></pre>\n\n<p>My problem starts when I have to call an IBAction to store this NSDate in my Parse Cloud (I have a Date column that would only accept <code>NSDate</code>.</p>\n\n<pre><code>- (IBAction)createeventAction:(id)sender{\n\n   // Here I \"catch\" the value previously stored from the Picker. \n   NSString *dateString =  datetimeTextField.text; //// 07-11-2018 22:00:42 (correct format)\n\n   // Here I convert the NSString into NSDate with the same formatting\n   NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n   [dateFormatter setDateFormat:@\"dd-MM-yyyy HH:mm:ss\"];\n   NSDate *date = [dateFormatter dateFromString:dateString];\n\n   // But for some reason, date prints incorrectly. \n   NSLog(@\"DATE in here ====&gt;&gt;&gt; %@\", date); // Sat Nov 10 10:00:41 2018\n\n }\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>I would like to convert a NSString (datetimeTextField.text) to a NSDate without losing the format. </p>\n\n<p><strong>EDIT 1:</strong> </p>\n\n<p>I had consulted the accepted answer from this question <a href=\"https://stackoverflow.com/questions/3917250/converting-nsstring-to-nsdate-and-back-again\">How to convert NSStrings to NSDate</a> but for some reason, it does not work for me. </p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>To make it more clear:</p>\n\n<p>Code to convert NSDate to NSString. </p>\n\n<pre><code>// We have a date (not formatted) =&gt; Sat Nov 10 10:00:41 2018 \n//create a date formatter\nNSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n[formatter setDateFormat:@\"dd-MM-yyyy HH:mm:ss\"];\nNSString *selectedDateString = [formatter stringFromDate:selectedDate];\nself.datetimeTextField.text = selectedDateString;\n// Date formatted =&gt; 10-11-2018 00:35:06\n</code></pre>\n\n<p>Code to convert NSString back to NSDate:</p>\n\n<pre><code>NSString *dateString =  datetimeTextField.text; // 10-11-2018 10:00:41 (correct format)\nNSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"dd-MM-yyyy HH:mm:ss\"];\nNSDate *date = [dateFormatter dateFromString:dateString];\nNSLog(@\"DATE in here ====&gt;&gt;&gt; %@\", date); // Sat Nov 10 10:00:41 2018 (not formatted. WHY?)\n</code></pre>\n"}, {"tags": ["objective-c", "arrays", "swift", "memory-management", "casting"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 4, "creation_date": 1541273558, "post_id": 53134646, "comment_id": 93162841, "body": "That <i>cannot</i> work, memory rebinding is possible only between layout <i>compatible</i> types."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 1, "creation_date": 1541277077, "post_id": 53134646, "comment_id": 93163661, "body": "The answer to <a href=\"https://stackoverflow.com/questions/43381897/how-to-cast-element-from-unsafemutablepointeruint8-in-swift-to-uint8-in-c?s=11|54.8139\" title=\"how to cast element from unsafemutablepointeruint8 in swift to uint8 in c\">stackoverflow.com/questions/43381897/&hellip;</a> may help"}], "owner": {"reputation": 41, "user_id": 6646450, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210436572170446/picture?type=large", "display_name": "Divya Godayal", "link": "https://stackoverflow.com/users/6646450/divya-godayal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1541272760, "creation_date": 1541272441, "last_edit_date": 1541272760, "question_id": 53134646, "link": "https://stackoverflow.com/questions/53134646/bridging-between-incompatible-types-in-swift-using-memory-rebind", "title": "Bridging between incompatible types in Swift using memory rebind", "body": "<p>I have been trying to solve a problem in my app. I get an NSArray from an Objective-C API and need to read it as an array of double values in the Swift app. \nSo the bridging needed is between NSArray in Objective-C and a Double Array in Swift.\n<br/> </p>\n\n<p><code>NSArray ----&gt; Double array</code></p>\n\n<p>I don't want to typecast the array using <code>as [Double]</code> since this array is huge and thus the process of typecasting is time consuming. \n<br/> \nThe array needs to be consumed using Accelerate framework functions, so just need to rebind the memory to <code>Double</code>. \n<br/> \nI have tried rebinding the memory to Double but the application behaves unexpectedly. I am not sure if this is because bridging can only happen between compatible types.</p>\n\n<p>What is the right way to bridge two incompatible types in an optimized way? \nIs it even possible or O(N) is the only way?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "avplayer", "avplayeritem"], "comments": [{"owner": {"reputation": 673, "user_id": 974052, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/e6k64.jpg?s=128&g=1", "display_name": "evan.stoddard", "link": "https://stackoverflow.com/users/974052/evan-stoddard"}, "edited": false, "score": 0, "creation_date": 1541282307, "post_id": 53134290, "comment_id": 93164886, "body": "Can you please share some code and show how you implemented this?  It sounds to me like you&#39;re doing network stuff on the main thread which blocks UI processes."}, {"owner": {"reputation": 11, "user_id": 9803911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644673793cf227046ec1ac3dfb62f3fc?s=128&d=identicon&r=PG&f=1", "display_name": "Asif", "link": "https://stackoverflow.com/users/9803911/asif"}, "reply_to_user": {"reputation": 673, "user_id": 974052, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/e6k64.jpg?s=128&g=1", "display_name": "evan.stoddard", "link": "https://stackoverflow.com/users/974052/evan-stoddard"}, "edited": false, "score": 0, "creation_date": 1541398910, "post_id": 53134290, "comment_id": 93189014, "body": "yes i have updated the question"}, {"owner": {"reputation": 673, "user_id": 974052, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/e6k64.jpg?s=128&g=1", "display_name": "evan.stoddard", "link": "https://stackoverflow.com/users/974052/evan-stoddard"}, "edited": false, "score": 0, "creation_date": 1541522524, "post_id": 53134290, "comment_id": 93242421, "body": "Can you show me where you&#39;re initializing your player and loading the URL used for playback?"}], "answers": [{"tags": [], "owner": {"reputation": 767, "user_id": 5144603, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/XnKtY.jpg?s=128&g=1", "display_name": "raphael", "link": "https://stackoverflow.com/users/5144603/raphael"}, "is_accepted": false, "score": 3, "last_activity_date": 1545236872, "creation_date": 1545236872, "answer_id": 53855376, "question_id": 53134290, "link": "https://stackoverflow.com/questions/53134290/app-hangs-when-network-connection-is-bad-and-avplayer-is-playing/53855376#53855376", "title": "App hangs when network connection is bad and AVPlayer is playing", "body": "<p>There is a lot to do, to manage bad network connection and resume playback when using AVPlayer.</p>\n\n<p>But it's not about a thread management. </p>\n\n<p>When an <code>AVPlayerItem</code> failed: <code>AVPlayerItem.Status</code> == <code>.failed</code>, you must init a new <code>AVPlayerItem</code> object and inject to AVPlayer. you can use <code>replaceCurrentItem(with:)</code> AVPlayer method.</p>\n\n<p>Also, to detect any playback failed situation, you can observe this notifications:</p>\n\n<ul>\n<li><code>AVPlayerItemPlaybackStalled</code></li>\n<li><code>AVPlayerItemDidPlayToEndTime</code> (trigged also when buffer is empty <strong>AND</strong> network out)</li>\n<li><code>AVPlayerItemFailedToPlayToEndTime</code> </li>\n</ul>\n\n<p>You can check <code>[ModernAVPlayer][1]</code> library, specially PlayingState.swift file to understand the process.</p>\n"}], "owner": {"reputation": 11, "user_id": 9803911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644673793cf227046ec1ac3dfb62f3fc?s=128&d=identicon&r=PG&f=1", "display_name": "Asif", "link": "https://stackoverflow.com/users/9803911/asif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1545236872, "creation_date": 1541269726, "last_edit_date": 1541391394, "question_id": 53134290, "link": "https://stackoverflow.com/questions/53134290/app-hangs-when-network-connection-is-bad-and-avplayer-is-playing", "title": "App hangs when network connection is bad and AVPlayer is playing", "body": "<p>I am devoloping a radio application for iOS. when the network connection is good, app is working fine.</p>\n\n<p>My scenario is little different. I throttled the mobile data speed in iphone(Settings -> Developer -> Network Link Conditioner) and chose poor network option from the list. At this time, player is trying to stream the audio content and if i try to present or dismiss a view controller then either app slows or hangs. I tried to present the view controller from main queue but that didn't work. </p>\n\n<pre><code>   let requestedKey = [\"playable\",\"duration\"]\n            asset.loadValuesAsynchronously(forKeys: requestedKey) {\n                DispatchQueue.main.async{\n                    var error: NSError?\n                    let keyStatus = asset.statusOfValue(forKey: \"playable\", error: &amp;error)\n                    if keyStatus == AVKeyValueStatus.failed || !asset.isPlayable {\n                        completionHandler(false, nil)\n                        return\n                    }\n                    completionHandler(true, asset)\n                }\n            }\n\nif player == nil {\n            player = AVPlayer()\n\n        }\n        playerItem = AVPlayerItem(asset: asset)\n</code></pre>\n\n<p>This is how i set the player. Please help me to resolve this serious performance issue when the connection is poor or edge.  </p>\n"}, {"tags": ["ios", "objective-c", "uinavigationcontroller"], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 10603887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eed71426c93a1e453e6fa8b624b32ac1?s=128&d=identicon&r=PG&f=1", "display_name": "SerKo", "link": "https://stackoverflow.com/users/10603887/serko"}, "is_accepted": false, "score": 0, "last_activity_date": 1541365383, "creation_date": 1541365383, "answer_id": 53145442, "question_id": 53129617, "link": "https://stackoverflow.com/questions/53129617/how-to-add-and-remove-searchbar-from-navigationitem/53145442#53145442", "title": "How to add and remove searchBar from navigationItem", "body": "<p>You should set <code>navigationItem .titleView</code> to <code>nil</code> first and <code>setFrame:</code> in main thread.</p>\n\n<pre><code>- (IBAction)addBar:(id)sender {\n    self.navigationItem.titleView = nil;\n    [searchController.searchBar removeFromSuperview];\n    [self.navigationController setNavigationBarHidden:NO animated:YES];\n    self.navigationItem.titleView = searchController.searchBar;\n    self.navigationItem.hidesBackButton = YES;\n}\n\n- (IBAction)removeBar:(id)sender {\n    self.navigationItem.titleView = nil;\n    [searchController.searchBar removeFromSuperview];\n    [self.view addSubview:searchController.searchBar];\n    [self.navigationController setNavigationBarHidden:YES animated:YES];\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [self-&gt;searchController.searchBar setFrame:CGRectMake(0, 200, 320, self-&gt;searchController.searchBar.frame.size.height)];\n    });\n}\n</code></pre>\n\n<p>By the way, I think it is better that put the search bar in a wrapper <code>UIView</code> when adding to the <code>navigationItem.titleView</code>.</p>\n"}], "owner": {"reputation": 718, "user_id": 2204555, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fF5rf.jpg?s=128&g=1", "display_name": "Shayno", "link": "https://stackoverflow.com/users/2204555/shayno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541365383, "creation_date": 1541233262, "question_id": 53129617, "link": "https://stackoverflow.com/questions/53129617/how-to-add-and-remove-searchbar-from-navigationitem", "title": "How to add and remove searchBar from navigationItem", "body": "<p>I am having trouble adding and removing a UISearchControllers searchBar to a UINavigationBar.</p>\n\n<p>Here is what I am doing:</p>\n\n<p><strong>Add the searchBar to the view</strong></p>\n\n<pre><code>searchController = [[UISearchController alloc]initWithSearchResultsController:nil];\n\nsearchController.searchResultsUpdater = self;\nsearchController.searchBar.delegate = self;\n\nsearchController.dimsBackgroundDuringPresentation = NO;\nsearchController.hidesNavigationBarDuringPresentation = NO;\nsearchController.searchBar.searchBarStyle = UISearchBarStyleProminent;\nsearchController.searchBar.barTintColor = [UIColor blackColor];\nsearchController.searchBar.tintColor = [UIColor darkGrayColor];\n\n[searchController.searchBar setFrame:CGRectMake(0, 200, 320, searchController.searchBar.frame.size.height)];\n[self.view addSubview:searchController.searchBar];\n</code></pre>\n\n<p><strong>On button click add the searchBar to the navigationItem</strong>\nThis works as expected</p>\n\n<pre><code>[self.navigationController setNavigationBarHidden:false];\nself.navigationItem.titleView = searchController.searchBar;\nself.navigationItem.hidesBackButton = true;\n</code></pre>\n\n<p><strong>And here is where I am getting the strange behaviour:</strong></p>\n\n<p><strong>On another button click remove the searchBar from the nav bar and add it back to the view</strong></p>\n\n<pre><code>[searchController.searchBar removeFromSuperview];\n[self.navigationController setNavigationBarHidden:YES animated:true];\n[self.view addSubview:searchController.searchBar];\n\n[searchController.searchBar setFrame:CGRectMake(0, 200, 320, searchController.searchBar.frame.size.height)];\n</code></pre>\n\n<p>The searchBar is removed from the Nav Bar as expected, but it is not returned to the main view. ( well i can't see it anywhere)</p>\n\n<p>I log the value of the search bar I can see that it has the frame that I have given it.</p>\n\n<p>Any help here would be greatly appreciated,</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "pdf", "pdfkit"], "answers": [{"comments": [{"owner": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "edited": false, "score": 0, "creation_date": 1541387362, "post_id": 53130841, "comment_id": 93186565, "body": "Hi @ivion, both solution is still not displaying the images"}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "reply_to_user": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "edited": false, "score": 0, "creation_date": 1541410454, "post_id": 53130841, "comment_id": 93193570, "body": "One possibility: [uiWebview loadData: d MIMEType:@&quot;application/pdf&quot; textEncodingName:@&quot;utf-8&quot; baseURL:nil]; or is &#39;data&#39;  just aTypo in the query?"}, {"owner": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "edited": false, "score": 0, "creation_date": 1541559241, "post_id": 53130841, "comment_id": 93256010, "body": "Hi Ivion, check that is not that issue"}], "tags": [], "owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "is_accepted": false, "score": 0, "last_activity_date": 1541251100, "last_edit_date": 1541251100, "creation_date": 1541244164, "answer_id": 53130841, "question_id": 53128491, "link": "https://stackoverflow.com/questions/53128491/pdf-images-not-displaying-in-uiwebview/53130841#53130841", "title": "PDF Images not displaying in UIWebView", "body": "<p>b64 is of type NSString</p>\n\n<p>initWithBase64EncodedData:b64 options:nil needs as first Parameter NSData.</p>\n\n<p>Try:</p>\n\n<pre><code>NSString *b64 = @\"JVBERi0xLjMNCiW9vrwNCjEgMCBvYmoNCjw8DQoJL0Jhc2VGb25....\"; \nNSData *d =[[NSData alloc] initWithBase64EncodedString:b64 options:nil];\n[uiWebview loadData:data MIMEType:@\"application/pdf\" textEncodingName:@\"utf-8\" baseURL:nil];\n</code></pre>\n\n<p>Or try:</p>\n\n<pre><code>[[PDFDocument alloc] initWithData: d];\n</code></pre>\n\n<p>to get a Pdf from your base64 string.</p>\n"}], "owner": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541559218, "creation_date": 1541220443, "last_edit_date": 1541559218, "question_id": 53128491, "link": "https://stackoverflow.com/questions/53128491/pdf-images-not-displaying-in-uiwebview", "title": "PDF Images not displaying in UIWebView", "body": "<p>Im facing an issue of PDF images not displaying in UIWebView</p>\n\n<p>The way of the logic is, \n 1. UIWebView receives a base64 string\n 2. Convert the string to NSData\n 3. Load the NSData to the UIWebView</p>\n\n<p>Here is the part of the code</p>\n\n<pre><code>NSString *b64 = @\"JVBERi0xLjMNCiW9vrwNCjEgMCBvYmoNCjw8DQoJL0Jhc2VGb25....\"; \nNSData *d =[[NSData alloc] initWithBase64EncodedString:b64 options:nil];\n[uiWebview loadData:d MIMEType:@\"application/pdf\" textEncodingName:@\"utf-8\" baseURL:nil];\n</code></pre>\n\n<p>There is a workaround that i manage to show the images in UIWebView, the workaround is</p>\n\n<ol>\n<li>Copy the base64 string to an online converter to convert it to a pdf file</li>\n<li>Export there pdf file again using Mac Application Preview using 'Export as PDF'</li>\n<li>Convert the file again to base64 string and display at the UIWebView</li>\n</ol>\n\n<p>But this workaround is not feasible, as i do not have the Preview application in the app</p>\n\n<p>I also notice that, before i 'Export as PDF' in Preview application the pdf is editable such as the images can be drag or deleted.</p>\n\n<p>So my question would be,</p>\n\n<ol>\n<li><p>Did I implement UIWebView code wrongly?</p></li>\n<li><p>Is the any library for 'Export as PDF' for iOS application? I did explore around on PDFKit, but it does seem to have any export function</p></li>\n</ol>\n"}, {"tags": ["ios", "objective-c", "orientation", "landscape"], "answers": [{"tags": [], "owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "is_accepted": true, "score": 0, "last_activity_date": 1541745458, "last_edit_date": 1541745458, "creation_date": 1541223533, "answer_id": 53128725, "question_id": 53128210, "link": "https://stackoverflow.com/questions/53128210/ios-first-page-in-the-uiscrollview-enable-landscape-orientation-and-the-second/53128725#53128725", "title": "iOS, first page in the UIScrollView enable landscape orientation and the second page disable the landscape orientation", "body": "<p>The problem has been solved. Just see the code as below. </p>\n\n<p>AppDelegate.h file:</p>\n\n<pre><code>@property (nonatomaic, assign, getter=isNeedRotation) BOOL needRotation;\n</code></pre>\n\n<p>AppDelegate.m file:</p>\n\n<pre><code>-(NSUInteger)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window\n{\n    if (self.isNeedRotation) {\n        return UIInterfaceOrientationMaskPortrait;\n    }\n    return UIInterfaceOrientationMaskAllButUpsideDown;\n}\n</code></pre>\n\n<p>yourUIViewController.m file:</p>\n\n<pre><code>- (void)scrollViewDidScroll:(UIScrollView *)scrollView {\n    if (scrollView == self.mainScrollView) {\n        AppDelegate *appDelegate = (AppDelegate *)ITUIApplicationDelegate;\n        if (scrollView.contentOffset.x &lt; screen_width) {\n            appDelegate.needRotation = YES;\n        } else {\n            appDelegate.needRotation = NO;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53128725, "answer_count": 1, "score": 0, "last_activity_date": 1541745458, "creation_date": 1541216506, "last_edit_date": 1541245899, "question_id": 53128210, "link": "https://stackoverflow.com/questions/53128210/ios-first-page-in-the-uiscrollview-enable-landscape-orientation-and-the-second", "title": "iOS, first page in the UIScrollView enable landscape orientation and the second page disable the landscape orientation", "body": "<p>There are one UIScrollView and it has two pages, the first page in the UIScrollView I want to enable landscape orientation and the second page in the UIScrollView I want to disable the landscape orientation,now I am use this code as below,but it work not perfected,the second page will horizontal screen and then portrait screen:</p>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated {\n    [ITNotificationCenter addObserver:self selector:@selector(handleDeviceOrientationDidChange) name:UIDeviceOrientationDidChangeNotification object:nil];\n}\n- (void)handleDeviceOrientationDidChange{\n    if(isFirstPage){\n        //landscape code\n    } else {\n        NSNumber *value = [NSNumber numberWithInt:UIInterfaceOrientationPortrait];\n        [[UIDevice currentDevice] setValue:value forKey:@\"orientation\"];\n    }\n}\n</code></pre>\n\n<p>How can I achieve this? Every answer will be appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "keychain"], "answers": [{"comments": [{"owner": {"reputation": 910, "user_id": 2844136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e59009df39fc812aa5a201bb0395782d?s=128&d=identicon&r=PG&f=1", "display_name": "Wernzy", "link": "https://stackoverflow.com/users/2844136/wernzy"}, "edited": false, "score": 0, "creation_date": 1541438847, "post_id": 53132743, "comment_id": 93209046, "body": "Unfortunately, since the app is already in the wild I can&#39;t change the Obj-C code or the original encryption key, users already have their databases encrypted. But you&#39;ve given me some insight into getting the Swift working. Thanks! I&#39;ll post an update if I get it working."}, {"owner": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "reply_to_user": {"reputation": 910, "user_id": 2844136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e59009df39fc812aa5a201bb0395782d?s=128&d=identicon&r=PG&f=1", "display_name": "Wernzy", "link": "https://stackoverflow.com/users/2844136/wernzy"}, "edited": false, "score": 1, "creation_date": 1541463167, "post_id": 53132743, "comment_id": 93218663, "body": "@Wernzy oh, in that case I guess you will just add a \\0 to the end of your Swift identifier string."}], "tags": [], "owner": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "is_accepted": false, "score": 5, "last_activity_date": 1541259299, "last_edit_date": 1541259299, "creation_date": 1541258859, "answer_id": 53132743, "question_id": 53127272, "link": "https://stackoverflow.com/questions/53127272/value-stored-to-keychain-in-objective-c-cant-be-retrieved-in-swift/53132743#53132743", "title": "Value stored to Keychain in Objective-C can&#39;t be retrieved in Swift?", "body": "<p>The Objective-C <code>keychainIdentifier</code> is being created as a C-string, which are always null terminated. The null terminator is encoded along with the characters which causes the trailing '00' that you noticed is appended to the result. Swift strings are not null terminated.</p>\n\n<p>To achieve parity, omit the last character when creating the Objective-C identifier:</p>\n\n<pre><code>static const uint8_t kKeychainIdentifier[] = \"io.Realm.EncryptionExampleKey\";\nNSData *tag = [[NSData alloc] initWithBytesNoCopy:(void *)kKeychainIdentifier\n                                           length:sizeof(kKeychainIdentifier) - 1 // &lt;- Truncate last char\n                                     freeWhenDone:NO];\n</code></pre>\n\n<p>Alternatively, use an NSString to represent your identifier in Objective-C:</p>\n\n<pre><code>NSString *keychainIdentifier = @\"io.Realm.EncryptionExampleKey\";\nNSData *tag = [keychainIdentifier dataUsingEncoding:NSUTF8StringEncoding];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 910, "user_id": 2844136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e59009df39fc812aa5a201bb0395782d?s=128&d=identicon&r=PG&f=1", "display_name": "Wernzy", "link": "https://stackoverflow.com/users/2844136/wernzy"}, "is_accepted": true, "score": 0, "last_activity_date": 1541466569, "creation_date": 1541466569, "answer_id": 53164473, "question_id": 53127272, "link": "https://stackoverflow.com/questions/53127272/value-stored-to-keychain-in-objective-c-cant-be-retrieved-in-swift/53164473#53164473", "title": "Value stored to Keychain in Objective-C can&#39;t be retrieved in Swift?", "body": "<p>Creating an answer based off ncke's answer/comment:</p>\n\n<p>The key was appending a null terminator to the end of my Swift keychainIdentifierData like so</p>\n\n<pre><code>keychainIdentifierData.append(0)\n</code></pre>\n"}], "owner": {"reputation": 910, "user_id": 2844136, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e59009df39fc812aa5a201bb0395782d?s=128&d=identicon&r=PG&f=1", "display_name": "Wernzy", "link": "https://stackoverflow.com/users/2844136/wernzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "accepted_answer_id": 53164473, "answer_count": 2, "score": 4, "last_activity_date": 1541466569, "creation_date": 1541204348, "last_edit_date": 1541466402, "question_id": 53127272, "link": "https://stackoverflow.com/questions/53127272/value-stored-to-keychain-in-objective-c-cant-be-retrieved-in-swift", "title": "Value stored to Keychain in Objective-C can&#39;t be retrieved in Swift?", "body": "<p>I'm having the weirdest problem with the Keychain. I've got an existing app which is using an encrypted Realm database, and the encryption key is being saved to the Keychain, as per Realm's code example <a href=\"https://github.com/realm/realm-cocoa/blob/master/examples/ios/objc/Encryption/LabelViewController.m\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>- (NSData *)getKey {\n    // Identifier for our keychain entry - should be unique for your application\n    static const uint8_t kKeychainIdentifier[] = \"io.Realm.EncryptionExampleKey\";\n    NSData *tag = [[NSData alloc] initWithBytesNoCopy:(void *)kKeychainIdentifier\n                                               length:sizeof(kKeychainIdentifier)\n                                         freeWhenDone:NO];\n\n    // First check in the keychain for an existing key\n    NSDictionary *query = @{(__bridge id)kSecClass: (__bridge id)kSecClassKey,\n                            (__bridge id)kSecAttrApplicationTag: tag,\n                            (__bridge id)kSecAttrKeySizeInBits: @512,\n                            (__bridge id)kSecReturnData: @YES};\n\n    CFTypeRef dataRef = NULL;\n    OSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)query, &amp;dataRef);\n    if (status == errSecSuccess) {\n        return (__bridge NSData *)dataRef;\n    }\n\n    // No pre-existing key from this application, so generate a new one\n    uint8_t buffer[64];\n    status = SecRandomCopyBytes(kSecRandomDefault, 64, buffer);\n    NSAssert(status == 0, @\"Failed to generate random bytes for key\");\n    NSData *keyData = [[NSData alloc] initWithBytes:buffer length:sizeof(buffer)];\n\n    // Store the key in the keychain\n    query = @{(__bridge id)kSecClass: (__bridge id)kSecClassKey,\n              (__bridge id)kSecAttrApplicationTag: tag,\n              (__bridge id)kSecAttrKeySizeInBits: @512,\n              (__bridge id)kSecValueData: keyData};\n\n    status = SecItemAdd((__bridge CFDictionaryRef)query, NULL);\n    NSAssert(status == errSecSuccess, @\"Failed to insert new key in the keychain\");\n\n    return keyData;\n}\n</code></pre>\n\n<p>I'm working on converting this app to Swift, and I'm trying to retrieve the encryption key stored in the Keychain using Realm's swift code example <a href=\"https://github.com/realm/realm-cocoa/blob/master/examples/ios/swift/Encryption/ViewController.swift\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>func getKey() -&gt; NSData {\n    // Identifier for our keychain entry - should be unique for your application\n    let keychainIdentifier = \"io.Realm.EncryptionExampleKey\"\n    let keychainIdentifierData = keychainIdentifier.data(using: String.Encoding.utf8, allowLossyConversion: false)!\n\n    // First check in the keychain for an existing key\n    var query: [NSString: AnyObject] = [\n        kSecClass: kSecClassKey,\n        kSecAttrApplicationTag: keychainIdentifierData as AnyObject,\n        kSecAttrKeySizeInBits: 512 as AnyObject,\n        kSecReturnData: true as AnyObject\n    ]\n\n    // To avoid Swift optimization bug, should use withUnsafeMutablePointer() function to retrieve the keychain item\n    // See also: http://stackoverflow.com/questions/24145838/querying-ios-keychain-using-swift/27721328#27721328\n    var dataTypeRef: AnyObject?\n    var status = withUnsafeMutablePointer(to: &amp;dataTypeRef) { SecItemCopyMatching(query as CFDictionary, UnsafeMutablePointer($0)) }\n    if status == errSecSuccess {\n        return dataTypeRef as! NSData\n    }\n\n    // No pre-existing key from this application, so generate a new one\n    let keyData = NSMutableData(length: 64)!\n    let result = SecRandomCopyBytes(kSecRandomDefault, 64, keyData.mutableBytes.bindMemory(to: UInt8.self, capacity: 64))\n    assert(result == 0, \"Failed to get random bytes\")\n\n    // Store the key in the keychain\n    query = [\n        kSecClass: kSecClassKey,\n        kSecAttrApplicationTag: keychainIdentifierData as AnyObject,\n        kSecAttrKeySizeInBits: 512 as AnyObject,\n        kSecValueData: keyData\n    ]\n\n    status = SecItemAdd(query as CFDictionary, nil)\n    assert(status == errSecSuccess, \"Failed to insert the new key in the keychain\")\n\n    return keyData\n}\n</code></pre>\n\n<p>Now the problem is that the Swift code can't return the value stored in the Keychain by the Objective-C code. I've tried modifying the Swift code to use NSData instead of Data when creating the keychainIdentifierData, but I just can't get it to work.</p>\n\n<p>In my actual project, the SecItemCopyMatching call returns a successful status, but the dataTypeRef is always nil, which crashes at the force cast to Data. In a small test project I created for this, the key is not found, which seems to indicate that the problem lies in converting the keychainIdentifier into the keychainIdentifierData, but I can't find any information now how to do this consistently between languages.</p>\n\n<p>A clue I've discovered is in printing out the tag/keychainIdentifierData to the console, in Obj-c it is\n<code>&lt;696f2e52 65616c6d 2e456e63 72797074 696f6e45 78616d70 6c654b65 7900&gt;</code><br>\nwhere in Swift it's<br>\n<code>&lt;696f2e52 65616c6d 2e456e63 72797074 696f6e45 78616d70 6c654b65 79&gt;</code></p>\n\n<p>Which indicates that the keys don't match between languages, but then I don't understand why SecItemCopyMatching returns success.</p>\n\n<p>Does anybody have any insight on how to retrieve my encryption key? Thanks in advance :) </p>\n"}, {"tags": ["ios", "objective-c", "badge", "rightbarbuttonitem"], "comments": [{"owner": {"reputation": 698, "user_id": 5240277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TeFkL.jpg?s=128&g=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/5240277/mateusz"}, "edited": false, "score": 1, "creation_date": 1541233251, "post_id": 53127094, "comment_id": 93153148, "body": "You can use <code>self.navigationItem.rightBarButtonItems</code> to get buttons array and then choose proper one."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "reply_to_user": {"reputation": 698, "user_id": 5240277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TeFkL.jpg?s=128&g=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/5240277/mateusz"}, "edited": false, "score": 0, "creation_date": 1541443442, "post_id": 53127094, "comment_id": 93211019, "body": "This worked.  Thx!"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541202500, "creation_date": 1541202500, "question_id": 53127094, "link": "https://stackoverflow.com/questions/53127094/set-badge-on-second-to-right-most-uibarbuttonitem-in-objective-c", "title": "Set Badge on Second to Right Most UIBarButtonItem in Objective-C", "body": "<p>When there are notifications, I set a badge on a Notifications Button that is one of three potential Right bar button items.</p>\n\n<p>When there are no notifications, the notifications button should and does not show at all.  When there are notifications, I want the button to show in the middle of the two other buttons with the badge.  It worked when I only had two potential buttons.  However, I have now added a third button which is supposed to be the leftmost  of two or three right buttons and the badge is appearing not where I want it on the middle (notifications button) but on the right-most button.</p>\n\n<p>I am using a category that handles inserting the badge known as </p>\n\n<pre><code>UIBarButtonItem+Badge\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>-(void) updateNotificationsButton {\n    NSMutableArray *buttonsToShow;\n    NSInteger badgeInt =[[NSUserDefaults standardUserDefaults] integerForKey:@\"badgeInt\"];\n     if (badgeInt&gt;=1) {\n        buttonsToShow = [NSMutableArray arrayWithObjects:myBarButton,notificationButton,searchButton, nil];\n    } else {\n         buttonsToShow = [NSMutableArray arrayWithObjects:myBarButton, searchButton,nil];    }\n   [self.navigationItem setRightBarButtonItems:buttonsToShow animated:YES];\n   NSString *onebadgestring= [NSString stringWithFormat: @\"%li\",badgeInt];\n    NSString *badgestring = [@(badgeInt) stringValue];\n\n    self.navigationItem.rightBarButtonItem.badgeValue = badgestring;\n\n}\n</code></pre>\n\n<p>Can anyone suggest how to specify that the badge should be inserted on the middle button, not the rightmost.</p>\n"}, {"tags": ["ios", "css", "objective-c", "uiwebview"], "comments": [{"owner": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "edited": false, "score": 0, "creation_date": 1541197671, "post_id": 53126465, "comment_id": 93147768, "body": "Maybe you find answer <a href=\"https://stackoverflow.com/a/6191517/3623608\">here</a>. Idk if its directly connected to your question."}, {"owner": {"reputation": 21, "user_id": 1474782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29271ac862ee969f2d4ed313b21c3bde?s=128&d=identicon&r=PG", "display_name": "Shilpa", "link": "https://stackoverflow.com/users/1474782/shilpa"}, "reply_to_user": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "edited": false, "score": 0, "creation_date": 1541198182, "post_id": 53126465, "comment_id": 93147911, "body": "@Tommy I will check and update it, if it works"}, {"owner": {"reputation": 21, "user_id": 1474782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29271ac862ee969f2d4ed313b21c3bde?s=128&d=identicon&r=PG", "display_name": "Shilpa", "link": "https://stackoverflow.com/users/1474782/shilpa"}, "reply_to_user": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "edited": false, "score": 0, "creation_date": 1541333699, "post_id": 53126465, "comment_id": 93173263, "body": "Tommy I checked it and it didn&#39;t work. My problem is with print coming in 3 pages. I need to remove padding and margin that is coming extra in iOS webview. So if their is any @media Target that I can apply those css for only iOS webview.  I am also trying if I can load webview using chrome so that my issue may be fixed? Can we load chrome useagent for webview?"}], "owner": {"reputation": 21, "user_id": 1474782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29271ac862ee969f2d4ed313b21c3bde?s=128&d=identicon&r=PG", "display_name": "Shilpa", "link": "https://stackoverflow.com/users/1474782/shilpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541197182, "creation_date": 1541197182, "question_id": 53126465, "link": "https://stackoverflow.com/questions/53126465/ios-webview-css-hacks", "title": "iOS webview CSS hacks", "body": "<p>I am loading a webview in iOS app, which will print a screen. When loading in webview it is printing in 2 pages and when we are running in browser it is working perfectly fine by printing in one page.</p>\n\n<p>Is there some css @media that can effect only iOS webview html?</p>\n"}, {"tags": ["objective-c", "macos", "metal", "metalkit"], "comments": [{"owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "edited": false, "score": 3, "creation_date": 1541190069, "post_id": 53125024, "comment_id": 93145440, "body": "This is commonly called <i>picking</i> or <i>hit-testing</i>. It&#39;s <a href=\"https://www.opengl.org/archives/resources/faq/technical/selection.htm\" rel=\"nofollow noreferrer\">been</a> <a href=\"http://antongerdelan.net/opengl/raycasting.html\" rel=\"nofollow noreferrer\">written</a> <a href=\"http://schabby.de/picking-opengl-ray-tracing/\" rel=\"nofollow noreferrer\">about</a> <a href=\"https://www.mkonrad.net/2014/08/07/simple-opengl-object-picking-in-3d.html\" rel=\"nofollow noreferrer\">extensively</a>, though not often in Metal. The gist of it is that you compute the <i>inverse</i> transformation from screen coordinates into world space (producing a ray), then perform intersection tests between the ray and the bounding volumes of the objects in the world."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "reply_to_user": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "edited": false, "score": 1, "creation_date": 1541190870, "post_id": 53125024, "comment_id": 93145712, "body": "Knowing the right search term helps a lot, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1541663101, "post_id": 53196334, "comment_id": 93294819, "body": "Exceptional! Thank you for the follow-up and the continued MBE contributions. The matrix math will take some time to understand, but a working example (on macOS no less) is a huge benefit to the community."}], "tags": [], "owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "is_accepted": true, "score": 4, "last_activity_date": 1541618361, "creation_date": 1541618361, "answer_id": 53196334, "question_id": 53125024, "link": "https://stackoverflow.com/questions/53125024/how-do-you-detect-where-a-mouse-down-event-occurred-in-an-mtkview/53196334#53196334", "title": "How do you detect where a mouse down event occurred in an MTKView?", "body": "<p>Prompted in part by this question, I wrote <a href=\"http://metalbyexample.com/picking-hit-testing/\" rel=\"nofollow noreferrer\">an article</a> on this subject that you may find useful. The sample code is in Swift, but the concepts transfer quite readily. </p>\n\n<p>Here's a sketch of an Objective-C algorithm for transforming from screen-space coordinates to world-space coordinates on macOS:</p>\n\n<pre><code>// Get viewport dimensions\nCGFloat width = view.bounds.size.width;\nCGFloat height = view.bounds.size.height;\n\n// Convert from AppKit view coordinates to Metal viewport coordinates\nCGPoint location = [view convertPoint:event.locationInWindow toView:nil];\nlocation.y = height - location.y;\n\n// Compute clip-to-view and view-to-world matrices\nsimd_float4x4 inverseProjectionMatrix = simd_inverse(projectionMatrix);\nsimd_float4x4 inverseViewMatrix = simd_inverse(viewMatrix);\n\n// Convert from screen coordinates to clip-space coordinates\nfloat clipX = (2 * location.x) / width - 1;\nfloat clipY = 1 - (2 * location.y) / height;\nsimd_float4 clipCoords = (simd_float4){ clipX, clipY, 0, 1 };\n\n// Determine direction of picking ray in view space\nsimd_float4 eyeRayDir = simd_mul(inverseProjectionMatrix, clipCoords);\neyeRayDir.z = -1;\neyeRayDir.w = 0;\n\n// Determine direction of picking ray in world space\nsimd_float4 worldRayDir = simd_mul(inverseViewMatrix, eyeRayDir);\nworldRayDir = simd_normalize(worldRayDir);\n\n// Determine origin of picking ray in world space\nsimd_float4 eyeRayOrigin = (simd_float4){ 0, 0, 0, 1};\nsimd_float4 worldRayOrigin = simd_mul(inverseViewMatrix, eyeRayOrigin);\n\n...do intersection testing against object bounds...\n</code></pre>\n"}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 1, "accepted_answer_id": 53196334, "answer_count": 1, "score": 4, "last_activity_date": 1541663205, "creation_date": 1541188254, "question_id": 53125024, "link": "https://stackoverflow.com/questions/53125024/how-do-you-detect-where-a-mouse-down-event-occurred-in-an-mtkview", "title": "How do you detect where a mouse down event occurred in an MTKView?", "body": "<p>This might be more of a generic graphics programming question, but for now this is within the context of using Apple's Metal framework on macOS. </p>\n\n<p>In <code>NSView mouseDown</code>, it's trivial to get the local coordinates of where the mouse down event took place by simply calling: </p>\n\n<p><code>NSPoint localPoint = [self convertPoint:event.locationInWindow fromView:nil];</code></p>\n\n<p>Given that local point, what are the steps required to determine where the mouse down occurred within the context of a rendered scene? </p>\n\n<p>For now, I'm simply rendering a 2D plane in an <code>MTKView</code>. The 2D plane can be scaled, translated and rotated on the z-axis. I can somewhat brute-force the solution because the scene is so simple, but I'm wondering what the more correct approach is.</p>\n\n<p>It feels as if I would have to duplicate some of the vertex shader logic in my Objective-C code to ensure that all the transforms are correctly applied. But I'm not quite sure how that world work when rotation is applied. </p>\n\n<p>Very few of the Metal tutorials or references talk much about mouse input and how the coordinate systems interact. Any insight would be appreciated.</p>\n\n<p>In this example, if the user clicked on the orange plane, how do you determine normalized coordinates within that specific object? (In this example, it might be something like [0.8, 0.9])</p>\n\n<p><a href=\"https://i.stack.imgur.com/mdVE8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdVE8.jpg\" alt=\"MTKView Diagram\"></a> </p>\n"}, {"tags": ["objective-c", "macos", "macos-mojave"], "owner": {"reputation": 972, "user_id": 2215652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb864c1c7ab014294994aa5159d96b36?s=128&d=identicon&r=PG", "display_name": "VitorMM", "link": "https://stackoverflow.com/users/2215652/vitormm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541172714, "creation_date": 1541172714, "question_id": 53121529, "link": "https://stackoverflow.com/questions/53121529/checking-if-prefer-external-gpu-is-enabled-in-objective-c", "title": "Checking if &quot;Prefer External GPU&quot; is enabled in Objective-C", "body": "<p>I'm making an application that should behave differently if <strong><em>\"Prefer External GPU\"</em></strong> is enabled or not. </p>\n\n<blockquote>\n  <p>Explaining that quickly: in Mojave, now you can enable an option\n  called <strong><em>\"Prefer External GPU\"</em></strong> for any application in its <strong><em>\"Get\n  info\"</em></strong> window.</p>\n</blockquote>\n\n<p>Although, I still couldn't find any method to retrieve that information. </p>\n\n<ul>\n<li><code>NSBundle</code> didn't change since El Capitan, so it does not include any eGPU related info.</li>\n<li><code>MTLDevice</code> didn't received any <code>isEnabled</code> function or similar, and none of its new Mojave methods seems to be helpful either.</li>\n<li><code>MTLCopyAllDevices</code> <em>returns an array of references to all Metal devices in the system</em>, according to the <a href=\"https://developer.apple.com/documentation/metal/1433367-mtlcopyalldevices?language=objc\" rel=\"nofollow noreferrer\">official documentation</a>, so that includes the eGPUs, even the mentioned option is selected.</li>\n<li><code>MTLCopyAllDevicesWithObserver</code> has the same problem, since in the <a href=\"https://developer.apple.com/documentation/metal/choosing_gpus_on_mac/device_selection_and_fallback_for_graphics_rendering#3010883\" rel=\"nofollow noreferrer\">sample in the documentation</a>, it returns <em>all Metal devices available to the system</em>, so that basically ignores the mentioned option again.</li>\n<li>The terminal command <code>mdls</code> doesn't seems to show any info related to eGPUs either (although I can be wrong, since I don't have any eGPU to check its output for an app if I enable the said option). Still, if it does exists, it's still undocumented:</li>\n</ul>\n\n<blockquote>\n  <p><strong>Common Metadata Attribute Keys</strong>\n  <a href=\"https://developer.apple.com/documentation/coreservices/file_metadata/mditem/common_metadata_attribute_keys?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/coreservices/file_metadata/mditem/common_metadata_attribute_keys?language=objc</a></p>\n  \n  <p><strong>File System Metadata Attribute Keys</strong>\n  <a href=\"https://developer.apple.com/documentation/coreservices/file_metadata/mditem/file_system_metadata_attribute_keys?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/coreservices/file_metadata/mditem/file_system_metadata_attribute_keys?language=objc</a></p>\n</blockquote>\n\n<p>Does anyone knows how to check that in Objective-C or using a terminal command? (I would prefer the first option, but in case there no other way I can run a terminal command within the app).</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 1283, "user_id": 3798837, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TpMGR.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3798837/jack"}, "edited": false, "score": 0, "creation_date": 1541169373, "post_id": 53120388, "comment_id": 93135537, "body": "Welcome to Stack Overflow! As your question is currently worded, it results in being a &quot;primarily opinion based&quot; question. You should reword your question to be about a specific problem. For example, remove &quot;what is the correct way&quot; and similar language, and use &quot;why do I not receive notifications 100% of case..&quot; or similar language. Make sure to have your question be about a specific problem you&#39;re having. Otherwise, excellent job formatting and explaining your problem!"}, {"owner": {"reputation": 306, "user_id": 10595945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e31ad72a083ada1c2d616fbf02b0fb1?s=128&d=identicon&r=PG&f=1", "display_name": "miadz", "link": "https://stackoverflow.com/users/10595945/miadz"}, "reply_to_user": {"reputation": 1283, "user_id": 3798837, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TpMGR.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3798837/jack"}, "edited": false, "score": 0, "creation_date": 1541170686, "post_id": 53120388, "comment_id": 93136386, "body": "@Jack Thanks for the good hint. I did my best to re-phrase the question, but I cannot avoid the howto-part about the efficient way to watch for changes since it&#39;s the essence of this question. I cannot believe I should re-scan the whole hierarchy on each small change."}], "owner": {"reputation": 306, "user_id": 10595945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e31ad72a083ada1c2d616fbf02b0fb1?s=128&d=identicon&r=PG&f=1", "display_name": "miadz", "link": "https://stackoverflow.com/users/10595945/miadz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541179759, "creation_date": 1541168702, "last_edit_date": 1541179759, "question_id": 53120388, "link": "https://stackoverflow.com/questions/53120388/apple-photos-observing-mlmediagroup-changes-using-medialibrary-on-macos", "title": "Apple Photos: observing MLMediaGroup changes using MediaLibrary on macOS", "body": "<p>I need to display Album structure of Apple Photos in my application on macOS. The only way to do it that I could find is MediaLibrary framework. I can traverse the tree structure using MLMediaGroup class without problems. But watching changes in it makes me puzzled. I would expect that I need to subscribe to KVO-notificatios for each individual media group and watch the changes in attributes. </p>\n\n<p>But in reality when I create a new album/folder in Photos I get a notification that the rootMediaGroup has changed, and the addresses of this group as well as all child groups also change. This seems strange because now I have to rebuild the whole album-hierarchy. This is like watching directory changes and getting opaque notifications like \"something in the filesystem has changed\" without further details each time a user modifies a directory somewhere deep inside $HOME.</p>\n\n<p>I'm using objective-c (in fact I need to integrate it with c++), although swift examples may also give me a hint. Below I provide a minimal example to illustrate the question.</p>\n\n<p>PhotosObserver.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;MediaLibrary/MediaLibrary.h&gt;\n\n@interface PhotosObserver: NSObject\n{\n    @private\n    MLMediaLibrary *ml;\n    MLMediaSource *src;\n    MLMediaGroup *root;\n}\n\n@property(nonatomic, retain, nullable, readonly) MLMediaLibrary *ml;\n@property(nonatomic, retain, nullable, readonly) MLMediaSource *src;\n@property(nonatomic, retain, nullable, readonly) MLMediaGroup *root;\n\n@end\n</code></pre>\n\n<p>PhotosObserver.m</p>\n\n<pre><code>#include \"PhotosObserver.h\"\n\nstatic void* CTX_MEDIASOURCE         = &amp;CTX_MEDIASOURCE;\nstatic void* CTX_MEDIAGROUP          = &amp;CTX_MEDIAGROUP;\n\nstatic NSString* KPATH_SOURCES = @\"mediaSources\";\nstatic NSString* KPATH_GROUPS  = @\"rootMediaGroup\";\n\n@implementation PhotosObserver\n\n@synthesize ml;\n@synthesize src;\n@synthesize root;\n\n-(id)init {\n    if(self = [super init]) {\n        self-&gt;ml = [[MLMediaLibrary alloc] init];\n        [self-&gt;ml addObserver: self forKeyPath:KPATH_SOURCES options:NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld context:CTX_MEDIASOURCE];\n        [self-&gt;ml mediaSources];\n    }\n    return self;\n}\n\n-(void)dealloc {\n    @try {\n        [self.ml removeObserver:self forKeyPath:KPATH_SOURCES context:CTX_MEDIASOURCE];\n        [self.src removeObserver:self forKeyPath:KPATH_GROUPS context:CTX_MEDIAGROUP];\n    }\n    @catch(NSException *) {}\n}\n\n-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSKeyValueChangeKey,id&gt; *)change context:(void *)context\n{\n    if(CTX_MEDIASOURCE == context)\n    {\n        NSLog(@\"Loaded mediaSources\");\n        self-&gt;src = [self-&gt;ml.mediaSources objectForKey:/*@\"com.apple.Photos\"*/MLMediaSourcePhotosIdentifier];\n        assert(self-&gt;src);\n        [self.src addObserver: self forKeyPath:KPATH_GROUPS options:NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld context:CTX_MEDIAGROUP];\n        [self.src rootMediaGroup];\n    }\n    else if(CTX_MEDIAGROUP == context)\n    {\n        MLMediaGroup *old = self-&gt;root;\n        if(!old)\n            NSLog(@\"Loaded rootMediaGroup\");\n        self-&gt;root = self.src.rootMediaGroup;\n        if(old &amp;&amp; old != self.root)\n        {\n            NSLog(@\"Oops, root group has changed: %@ -&gt; %@\", old, self.root);\n        }\n    }\n}\n\n\n@end\n</code></pre>\n\n<p>When I run the program and create a folder/album, or rename an album in Photos, I get a notification that the root group is changed. For some reason I don't get notifications in 100% of cases but anyway quite often.</p>\n\n<p>Q: Why does rootMediaGroup get changed at all, since the user cannot change it in Photos UI?</p>\n\n<p>Q: How to watch for the changes without the need to rescan the whole MLMediaGroup hierarchy after each small user modification?</p>\n"}, {"tags": ["ios", "objective-c", "ios11"], "comments": [{"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541168449, "post_id": 53120297, "comment_id": 93134996, "body": "Did you register a cell class or nib in your <code>tableView</code> for this <code>reuseIdentifier</code>?"}, {"owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541169505, "post_id": 53120297, "comment_id": 93135610, "body": "We are using collection view, but we did <code>registerClass:forCellWithReuseIdentifier:</code> before this."}, {"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 1, "creation_date": 1541170091, "post_id": 53120297, "comment_id": 93135988, "body": "Are you sure this is the exact line of code it crashes on? Post entire content of <code>cellForItemAt</code> function"}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1541171206, "post_id": 53120297, "comment_id": 93136645, "body": "Please show the ... numberOfRowsInSection: code and the part of cellForRow... where the model (array) is accessed. This crash is due to accessing an empty array."}, {"owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541173549, "post_id": 53120297, "comment_id": 93137981, "body": "@mag_zbc and @danh Thanks for the help. It is indeed because of registering. <code>collectionView.register(UINib(nibName: &quot;MyCell&quot;, bundle: .main), forCellWithReuseIdentifier: &quot;MyCell&quot;)</code> works. But for some reason, setting bundle to <code>nil</code> does not even though the documentation says &quot;If you specify nil, this method looks for the nib file in the main bundle.&quot; in the documentation :sad_face:"}], "answers": [{"comments": [{"owner": {"reputation": 1357, "user_id": 3940665, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8WfvC.png?s=128&g=1", "display_name": "PatrickDotStar", "link": "https://stackoverflow.com/users/3940665/patrickdotstar"}, "edited": false, "score": 1, "creation_date": 1575977440, "post_id": 53141224, "comment_id": 104739992, "body": "This issue only happens on iOS 11. We have a similar situation but iOS 12 and 13 are not affected."}], "tags": [], "owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "is_accepted": true, "score": 4, "last_activity_date": 1541337341, "creation_date": 1541337341, "answer_id": 53141224, "question_id": 53120297, "link": "https://stackoverflow.com/questions/53120297/terminating-app-due-to-uncaught-exception-nsrangeexception-when-calling-dequeu/53141224#53141224", "title": "Terminating app due to uncaught exception &#39;NSRangeException&#39; when calling dequeueReusableCellWithReuseIdentifier:forIndexPath:", "body": "<p>Not sure if it is a bug in iOS 11 or not, but the crash is cost by the following code of trying to dequeue a cell for sizing purposes in <code>collectionView:collectionViewLayout:sizeForItemAt:</code> and works fine on iOS 12 and above:</p>\n\n<pre><code>func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAt indexPath: IndexPath) -&gt; CGSize {\n    let cell = self.collectionView(collectionView, cellForItemAt: indexPath)\n    let size = cell.systemLayoutSizeFitting(...)\n    return CGSize(width: collectionView.frame.width, height: size.height)\n}\n</code></pre>\n\n<p>And we are loading the nib with bundle parameter being <code>nil</code> as the following.</p>\n\n<pre><code>let nib = UINib(nibName: \"MyCell\", bundle: nil)\ncollectionView.register(nib, forCellWithReuseIdentifier: \"MyCell\")\n</code></pre>\n\n<p>That for some reason gives us the obscure exception: </p>\n\n<pre><code>2018-11-02 10:15:01.744674-0400 Flights[385:17563] *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayM objectAtIndexedSubscript:]: index 0 beyond bounds for empty array'\n*** First throw call stack:\n(0x18555ed8c 0x1847185ec 0x1854f7750 0x1854e48ac 0x18f266b04 0x18f266084 0x18f265fd8 0x18f265eb8 0x18f2859dc 0x18f286c00 0x18f286a2c 0x100b1c304 0x100ea8b6c 0x100eaa24c 0x100eaa30c 0x100eaa680 0x185566580 0x185445748 0x18544a56c 0x10573e0c8 0x1855642d4 0x18544a41c 0x18f266f60 0x18f266084 0x18f265fd8 0x18f265eb8 0x18f265500 0x18f264730 0x18f133770 0x1896d525c 0x1896d93ec 0x189645aa0 0x18966d5d0 0x18966e450 0x185506910 0x185504238 0x185504884 0x185424da8 0x187407020 0x18f40578c 0x100b8c760 0x184eb5fc0)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>However, changing the bundle parameter being <code>.main</code> (thanks to the comments) like the following give us a more appropriate crash log and call stack. </p>\n\n<pre><code>let nib = UINib(nibName: \"MyCell\", bundle: .main)\n</code></pre>\n\n<p>That leads us to the actual solution to the problem: do not call <code>collectionView(collectionView, cellForItemAt: indexPath)</code> during layout.</p>\n"}], "owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 1, "accepted_answer_id": 53141224, "answer_count": 1, "score": 4, "last_activity_date": 1541337531, "creation_date": 1541168347, "last_edit_date": 1541337531, "question_id": 53120297, "link": "https://stackoverflow.com/questions/53120297/terminating-app-due-to-uncaught-exception-nsrangeexception-when-calling-dequeu", "title": "Terminating app due to uncaught exception &#39;NSRangeException&#39; when calling dequeueReusableCellWithReuseIdentifier:forIndexPath:", "body": "<p>We've run into a crash and all we can see is these from the crashlog: </p>\n\n<pre><code>2018-11-02 10:15:01.744674-0400 Flights[385:17563] *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayM objectAtIndexedSubscript:]: index 0 beyond bounds for empty array'\n*** First throw call stack:\n(0x18555ed8c 0x1847185ec 0x1854f7750 0x1854e48ac 0x18f266b04 0x18f266084 0x18f265fd8 0x18f265eb8 0x18f2859dc 0x18f286c00 0x18f286a2c 0x100b1c304 0x100ea8b6c 0x100eaa24c 0x100eaa30c 0x100eaa680 0x185566580 0x185445748 0x18544a56c 0x10573e0c8 0x1855642d4 0x18544a41c 0x18f266f60 0x18f266084 0x18f265fd8 0x18f265eb8 0x18f265500 0x18f264730 0x18f133770 0x1896d525c 0x1896d93ec 0x189645aa0 0x18966d5d0 0x18966e450 0x185506910 0x185504238 0x185504884 0x185424da8 0x187407020 0x18f40578c 0x100b8c760 0x184eb5fc0)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>We've enabled the all exceptions breakpoints and it points us to this line of code: </p>\n\n<pre><code>UICollectionViewCell* cell = [collectionView dequeueReusableCellWithReuseIdentifier:reuseIdentifier forIndexPath:path];\n</code></pre>\n\n<p>One thing that is very weird is that we can only reproduce this in iOS 11.3 devices. But all our other test devices work fine. </p>\n\n<p>We are pretty much stuck. Anybody runs into this before and knows any workaround? </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 2, "creation_date": 1541166639, "post_id": 53119751, "comment_id": 93134031, "body": "Any particular reason for using C-strings in Objective-C? Also, did you try to make your function <code>public</code>? Default access level is <code>internal</code>, setting just the class as <code>public</code> is not enough"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1541166939, "post_id": 53119751, "comment_id": 93134180, "body": "Select &quot;TestPlugin2-Swift.h&quot; in the Xcode editor and choose \u201cNavigate -&gt; Jump To Definition,\u201d then you&#39;ll see how the Swift method names are actually mapped to Objective-C."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541169594, "post_id": 53119751, "comment_id": 93135664, "body": "C++ doesn&#39;t support Swift. I assume Objective-C++ the same."}, {"owner": {"reputation": 1, "user_id": 7591511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e77054c61808d15be720fa33b82036?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Goosen", "link": "https://stackoverflow.com/users/7591511/cameron-goosen"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1541400459, "post_id": 53119751, "comment_id": 93189498, "body": "@mag_zbc I&#39;m a Unity3D programmer and from all the tutorials I have seen this is how a plugin is created, that is why I&#39;m doing this the way I am, I just haven&#39;t found any tutorials that pass parameters through, so I&#39;m not to sure how to do it. Thanks for the help i&#39;ll try that :)"}], "owner": {"reputation": 1, "user_id": 7591511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e77054c61808d15be720fa33b82036?s=128&d=identicon&r=PG&f=1", "display_name": "Cameron Goosen", "link": "https://stackoverflow.com/users/7591511/cameron-goosen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541173673, "creation_date": 1541166359, "last_edit_date": 1541173673, "question_id": 53119751, "link": "https://stackoverflow.com/questions/53119751/passing-objective-c-parameters-to-swift", "title": "Passing Objective-C parameters to Swift", "body": "<p>.Swift file</p>\n\n<pre><code>import Foundation\nimport UIKit\nimport Contacts\n\n@objc public class TestPlugin2: UIViewController\n{\n    @objc static let shared = TestPlugin2()\n    @objc func ReturnSuccess() -&gt; String\n    {\n        return \"Success!!\";\n    }\n\n    @objc func CreateContact(fname: String, lname: String, pnumber: String, email : String)\n    {\n        if #available(iOS 9.0, *)\n        {\n            let contact = CNMutableContact()\n\n            contact.givenName = fname\n            contact.familyName = lname\n            contact.phoneNumbers = [CNLabeledValue(label:CNLabelPhoneNumberiPhone, value:CNPhoneNumber(stringValue:pnumber))]\n\n            if(email != \"\")\n            {\n                contact.emailAddresses = [CNLabeledValue(label:CNLabelWork, value:email as NSString)]\n            }\n\n            let store = CNContactStore()\n            let saveRequest = CNSaveRequest()\n            saveRequest.add(contact, toContainerWithIdentifier: nil)\n            try! store.execute(saveRequest)\n        }\n        else\n        {\n            // Fallback on earlier versions\n        }\n    }\n}\n</code></pre>\n\n<p>.mm file</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#include \"TestPlugin2-Swift.h\"\n\n#pragma mark - C interface\n\nextern \"C\"\n{\n    char* _returnSuccess()\n    {\n        NSString* returnString = [[TestPlugin2 shared]ReturnSuccess];\n\n        char* cStringCopy(const char* string);\n\n        return cStringCopy([returnString UTF8String]);\n    }\n\n    void _createContact(const char* fname, const char* lname, const char* pnumber, const char* email)\n    {\n        //ERROR IS ON THE LINE BELOW\n        [[TestPlugin2 shared]CreateContact:[NSString stringWithUTF8String: fname], [NSString stringWithUTF8String: lname], [NSString stringWithUTF8String: pnumber], [NSString stringWithUTF8String: email]];\n    }\n}\n\nchar* cStringCopy(const char* string)\n{\n    if(string == NULL)\n    {\n        return NULL;\n    }\n    char* res = (char*)malloc(strlen(string)+1);\n    strcpy(res, string);\n    return res;\n}\n</code></pre>\n\n<p>I'm getting the error \"No visible @ interface for 'TestPlugin2' declares the selector 'CreateContact'\"</p>\n\n<p>I'm new to Xcode and iOS development, I have been unable to find a solution and I've tried several ways of converting the const char* variables from Objective C to Strings that Swift func will accept, any help will be appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "sdwebimage"], "comments": [{"owner": {"reputation": 1608, "user_id": 309046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84bc7800aaf70d4f0a2418041190e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/309046/satish"}, "edited": false, "score": 0, "creation_date": 1541146088, "post_id": 53114786, "comment_id": 93124000, "body": "Share your code."}, {"owner": {"reputation": 2344, "user_id": 6061098, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NKLyk.jpg?s=128&g=1", "display_name": "Bohdan Savych", "link": "https://stackoverflow.com/users/6061098/bohdan-savych"}, "edited": false, "score": 0, "creation_date": 1541146112, "post_id": 53114786, "comment_id": 93124009, "body": "Can you attach some of your code?"}, {"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "reply_to_user": {"reputation": 1608, "user_id": 309046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84bc7800aaf70d4f0a2418041190e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/309046/satish"}, "edited": false, "score": 0, "creation_date": 1541146368, "post_id": 53114786, "comment_id": 93124123, "body": "@satish I added"}, {"owner": {"reputation": 2545, "user_id": 6682071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5b592d72d32cfd1194c278b1583bbf?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Srivastava", "link": "https://stackoverflow.com/users/6682071/aditya-srivastava"}, "edited": false, "score": 0, "creation_date": 1541146562, "post_id": 53114786, "comment_id": 93124186, "body": "check your pod version of SDWebImage"}, {"owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 1, "creation_date": 1541146598, "post_id": 53114786, "comment_id": 93124200, "body": "Are you sure <code>[cell.contentView viewWithTag:1]</code> really is an <code>UIImageView</code>?"}, {"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541146639, "post_id": 53114786, "comment_id": 93124223, "body": "I dint use pod I copied the source file and it is the latest version"}, {"owner": {"reputation": 1608, "user_id": 309046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84bc7800aaf70d4f0a2418041190e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/309046/satish"}, "edited": false, "score": 0, "creation_date": 1541146703, "post_id": 53114786, "comment_id": 93124249, "body": "<code>img</code> is not an image for sure, check if <code>[cell.contentView viewWithTag:1]</code> really an <code>UIImageView</code>"}, {"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "reply_to_user": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 0, "creation_date": 1541146718, "post_id": 53114786, "comment_id": 93124258, "body": "@gereon I don&#39;t know I am new in objective-c"}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1541147322, "post_id": 53114786, "comment_id": 93124495, "body": "can you show the code of your custom cell?"}, {"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541149801, "post_id": 53114786, "comment_id": 93125519, "body": "the cell is created by storyboard , it is like the cell contains a content view and the content view have UIimage and UILabel"}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1541151775, "post_id": 53114786, "comment_id": 93126519, "body": "post the code from cell which contains label and image view."}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1541151806, "post_id": 53114786, "comment_id": 93126539, "body": "also add screenshot of cell view hierarchy from story board."}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1541151820, "post_id": 53114786, "comment_id": 93126549, "body": "it will help people to understand the cause."}, {"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541152283, "post_id": 53114786, "comment_id": 93126790, "body": "I added the screenshot of the cell"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541150442, "post_id": 53115076, "comment_id": 93125834, "body": "In the custom cell I need to set tag?"}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "reply_to_user": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541150986, "post_id": 53115076, "comment_id": 93126090, "body": "Yes, in cell you need to set like <code>cell.yourImageView.tag = 1;</code>"}], "tags": [], "owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1541147500, "creation_date": 1541147500, "answer_id": 53115076, "question_id": 53114786, "link": "https://stackoverflow.com/questions/53114786/sdwebimage-unrecognised-selector/53115076#53115076", "title": "SDWebImage Unrecognised Selector", "body": "<p>You can check the type of the view that you get to avoid crash.</p>\n\n<pre><code>UIImageView *img = (UIImageView *)[cell.contentView viewWithTag:1];\nif ([img isKindOfClass:[UIImageView class]]) { //it will true if img is kind of UIImageView\n\n    [img sd_setImageWithURL:[NSURL URLWithString:[NSString stringWithFormat:@\"%@thumb_%@\",kImageUrl,[dict objectForKey:@\"student_photo\"]]]\n           placeholderImage:[UIImage imageNamed:@\"not_found.png\"]];\n} else {\n   NSLog(@\"It is not an image view.\")\n}\n</code></pre>\n\n<p><strong>You need to set 'tag = 1' to your image view in `cell otherwise your image will never fill with an image.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 3007, "user_id": 3420996, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/blsAA.png?s=128&g=1", "display_name": "Natarajan", "link": "https://stackoverflow.com/users/3420996/natarajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541149660, "creation_date": 1541149660, "answer_id": 53115561, "question_id": 53114786, "link": "https://stackoverflow.com/questions/53114786/sdwebimage-unrecognised-selector/53115561#53115561", "title": "SDWebImage Unrecognised Selector", "body": "<p>Based on your crash log and code below</p>\n\n<pre><code>UIImageView *img = (UIImageView *)[cell.contentView viewWithTag:1];\n</code></pre>\n\n<p>The variable <code>img</code> might be nil or some other view. Double check your imageView's tag.</p>\n\n<p>If everything is correct, check your cell xib(there should not be any error or warning in IBOutlet connection), if you've created a custom cell using xib.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "edited": false, "score": 0, "creation_date": 1541151584, "post_id": 53116019, "comment_id": 93126408, "body": "I have set to -Objc only"}], "tags": [], "owner": {"reputation": 19, "user_id": 5394473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1200e90f3b0f517619c71b27ba2f3fd?s=128&d=identicon&r=PG&f=1", "display_name": "kanhaiya choudhary", "link": "https://stackoverflow.com/users/5394473/kanhaiya-choudhary"}, "is_accepted": false, "score": -1, "last_activity_date": 1541151502, "creation_date": 1541151502, "answer_id": 53116019, "question_id": 53114786, "link": "https://stackoverflow.com/questions/53114786/sdwebimage-unrecognised-selector/53116019#53116019", "title": "SDWebImage Unrecognised Selector", "body": "<p>Please try to set <strong><em>\"other linker flag\"</em></strong> to <strong><em>\"-ObjC\"</em></strong> instead of <strong><em>\"_Objc\"</em></strong> </p>\n\n<p>It worked for me.</p>\n"}], "owner": {"reputation": 3, "user_id": 9774788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533ba743c9423d9607b3972aa01ffbee?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/9774788/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1541152945, "creation_date": 1541145985, "last_edit_date": 1541152945, "question_id": 53114786, "link": "https://stackoverflow.com/questions/53114786/sdwebimage-unrecognised-selector", "title": "SDWebImage Unrecognised Selector", "body": "<p>I am getting the following crash while displaying the image in cell.\nUIImageView sd_setImageWithURL:placeholderImage:completed:]: unrecognized selector sent to instance 0x7fbce1521e70\" \nI followed all the instruction provided but still not able to get anything, I set the other linker flag<code>to</code>-Objc` but still getting the same error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZKtJc.png\" rel=\"nofollow noreferrer\">reference image of cell</a>\nMy Code:</p>\n\n<pre><code> UIImageView *img = (UIImageView *)[cell.contentView viewWithTag:1];\n    NSLog(@\"%@\",[NSString stringWithFormat:@\"%@thumb_%@\",kImageUrl,[dict objectForKey:@\"student_photo\"]]);\n\n\n    [img sd_setImageWithURL:[NSURL URLWithString:[NSString stringWithFormat:@\"%@thumb_%@\",kImageUrl,[dict objectForKey:@\"student_photo\"]]]\n                      placeholderImage:[UIImage imageNamed:@\"not_found.png\"]];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 1, "creation_date": 1541145082, "post_id": 53114423, "comment_id": 93123627, "body": "Probably the simplest solution is to keep the white background but to also observe <code>contentSize</code> and change height of the table view accordingly."}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541146423, "post_id": 53114423, "comment_id": 93124140, "body": "u have take two section or two different cell. without know about no of section and no of row cell no no one understand yur exact problem . see if u have take two section than heightForHeaderInSection and heightForFooterInSection return 0."}, {"owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541146706, "post_id": 53114423, "comment_id": 93124250, "body": "@Krishna kushwaha, just one section, and one kind of cell"}], "answers": [{"comments": [{"owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "edited": false, "score": 0, "creation_date": 1541145427, "post_id": 53114541, "comment_id": 93123763, "body": "Not worked. The header view is associated object, used to pull refresh."}, {"owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "edited": false, "score": 0, "creation_date": 1541170301, "post_id": 53114541, "comment_id": 93136160, "body": "That fits the first image situation."}, {"owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "reply_to_user": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "edited": false, "score": 0, "creation_date": 1541175286, "post_id": 53114541, "comment_id": 93138935, "body": "Answer is edited. plz check. New things commented by &#39;new line&#39; &amp; update"}, {"owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "edited": false, "score": 0, "creation_date": 1541256049, "post_id": 53114541, "comment_id": 93158165, "body": "Sorry. Firstly you need to what mj_header is. <a href=\"https://github.com/CoderMJLee/MJRefresh\" rel=\"nofollow noreferrer\">github.com/CoderMJLee/MJRefresh</a>. I insert a layer and observe the tableView offset to solve it"}], "tags": [], "owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "is_accepted": true, "score": 0, "last_activity_date": 1541175120, "last_edit_date": 1541175120, "creation_date": 1541144736, "answer_id": 53114541, "question_id": 53114423, "link": "https://stackoverflow.com/questions/53114423/how-to-set-uitableview-empty-spaces-backgroundcolor-different/53114541#53114541", "title": "How to set UITableView empty space&#39;s backgroundColor different?", "body": "<p>Try to set the background color of <code>_salesRankTableView</code> to <code>white</code>.</p>\n\n<pre><code>_salesRankTableView.backgroundColor = [UIColor clearColor]; // Newline\n_salesRankTableView.mj_header.backgroundColor = [UIColor whiteColor];\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Replace <code>tableView</code> delegate methods below:</p>\n\n<pre><code>func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat {\n\n    return 0\n}\n\nfunc tableView(_ tableView: UITableView, viewForFooterInSection section: Int) -&gt; UIView? {\n\n    return UIView(frame: CGRect.zero)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8713838"}, "edited": false, "score": 0, "creation_date": 1541152380, "post_id": 53115436, "comment_id": 93126835, "body": "Thank you Fansad. This is the perfect Solution"}, {"owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "edited": false, "score": 0, "creation_date": 1541152943, "post_id": 53115436, "comment_id": 93127147, "body": "Not fit for my situation. That goes the upper situation. In fact , I use <a href=\"https://github.com/CoderMJLee/MJRefresh\" rel=\"nofollow noreferrer\">github.com/CoderMJLee/MJRefresh</a>. I think the answer is to do some change to the repo. And Sulthan&#39;s suggestion fits more."}], "tags": [], "owner": {"reputation": 429, "user_id": 9117845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2480b37d8d1e198f5055fc949775cdaf?s=128&d=identicon&r=PG&f=1", "display_name": "Fansad PP", "link": "https://stackoverflow.com/users/9117845/fansad-pp"}, "is_accepted": false, "score": 0, "last_activity_date": 1541149111, "creation_date": 1541149111, "answer_id": 53115436, "question_id": 53114423, "link": "https://stackoverflow.com/questions/53114423/how-to-set-uitableview-empty-spaces-backgroundcolor-different/53115436#53115436", "title": "How to set UITableView empty space&#39;s backgroundColor different?", "body": "<p>You can make it by typing a single line of code in viewDidLoad()</p>\n\n<pre><code> self.tableView.tableFooterView = UIView()\n</code></pre>\n\n<p>here the free spaced cells will be removed and if you wish to change the tableview color to some other you can make it by changing the background color of the tableView.If you want the color of superview background as the free space you should change the tableview background color to 'clear'.</p>\n\n<pre><code> self.tableView.backgroundColor = UIColor.clear\n</code></pre>\n\n<p>Hope it will help.</p>\n"}], "owner": {"reputation": 1488, "user_id": 9820754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43863d8d809bc1e09e5d506d9e4b5935?s=128&d=identicon&r=PG&f=1", "display_name": "black_pearl", "link": "https://stackoverflow.com/users/9820754/black-pearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 53114541, "answer_count": 2, "score": 3, "last_activity_date": 1541175120, "creation_date": 1541144214, "last_edit_date": 1541146666, "question_id": 53114423, "link": "https://stackoverflow.com/questions/53114423/how-to-set-uitableview-empty-spaces-backgroundcolor-different", "title": "How to set UITableView empty space&#39;s backgroundColor different?", "body": "<p>Here is a tableView with 5 cells and one section. there is a blue gap when pulling the tableView to refresh.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iXPVZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iXPVZ.png\" alt=\"one\"></a></p>\n\n<p>here is the code:</p>\n\n<pre><code>- (UITableView *)salesRankTableView{\n    if(!_salesRankTableView){\n        _salesRankTableView = [[UITableView alloc] initWithFrame: CGRectMake(8, 183, KScreenWidth - 16, KScreenHeight-183-64) style: UITableViewStyleGrouped];\n\n        [_salesRankTableView registerNib: [UINib nibWithNibName: NSStringFromClass(SalesRankTableViewCell.class) bundle:nil] forCellReuseIdentifier: kSalesRankTableViewCell];\n        _salesRankTableView.layer.contents = (__bridge id _Nullable)([UIImage imageNamed: @\"blue\"].CGImage);\n\n        MJRefreshNormalHeader *header = [MJRefreshNormalHeader headerWithRefreshingTarget: self refreshingAction: @selector(rankRefresh)];\n        header.layer.contents = (__bridge id _Nullable)([UIImage imageNamed: @\"white\"].CGImage);\n        _salesRankTableView.mj_header = header;\n    }\n\n    return _salesRankTableView;\n\n}\n\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{\n    return 1;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{\n    return 5;\n}\n\n\n- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{\n    return 56;\n}\n\n\n- (UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section{\n    return [UIView new];\n}\n\n\n- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{\n    return [UIView new];\n}\n\n- (CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section{\n    return CGFLOAT_MIN;\n}\n\n- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{\n    return CGFLOAT_MIN;\n}\n</code></pre>\n\n<p>In order to get rid of the blue gap in the front of the tableView. I changed the tableView's backgroundColor. And met an other question.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NcGit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcGit.png\" alt=\"2\"></a></p>\n\n<p>The empty space's backgroundColor of the tableView matters.\nHow to set it different?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>- (UITableView *)salesRankTableView{\n    if(!_salesRankTableView){\n        _salesRankTableView = [[UITableView alloc] initWithFrame: CGRectMake(8, 183, KScreenWidth - 16, KScreenHeight-183-64) style: UITableViewStyleGrouped];\n\n        [_salesRankTableView registerNib: [UINib nibWithNibName: NSStringFromClass(SalesRankTableViewCell.class) bundle:nil] forCellReuseIdentifier: kSalesRankTableViewCell];\n        _salesRankTableView.layer.contents = (__bridge id _Nullable)([UIImage imageNamed: @\"white\"].CGImage);\n\n        MJRefreshNormalHeader *header = [MJRefreshNormalHeader headerWithRefreshingTarget: self refreshingAction: @selector(rankRefresh)];\n        header.layer.contents = (__bridge id _Nullable)([UIImage imageNamed: @\"white\"].CGImage);\n        _salesRankTableView.mj_header = header;\n    }\n\n    return _salesRankTableView;\n\n}\n</code></pre>\n\n<p>I used to insert a white view behind the tableView with the prior code.</p>\n\n<p>It is a little wield , How to do it better?</p>\n"}, {"tags": ["ios", "objective-c", "core-animation"], "comments": [{"owner": {"reputation": 8468, "user_id": 89170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/NKtSe.jpg?s=128&g=1", "display_name": "CIFilter", "link": "https://stackoverflow.com/users/89170/cifilter"}, "edited": false, "score": 0, "creation_date": 1541454776, "post_id": 53113749, "comment_id": 93215935, "body": "It&#39;s a little hard to diagnose iOS 9 these days. I verified that it does work as intended on iOS 12, which matches what you said. Can you try to commit <b>only</b> a <code>foregroundColor</code> animation to your text layer with the other animations (and no animation group)? Does that work as expected?"}, {"owner": {"reputation": 27, "user_id": 5808520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aMpHp.jpg?s=128&g=1", "display_name": "leosun", "link": "https://stackoverflow.com/users/5808520/leosun"}, "reply_to_user": {"reputation": 8468, "user_id": 89170, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/NKtSe.jpg?s=128&g=1", "display_name": "CIFilter", "link": "https://stackoverflow.com/users/89170/cifilter"}, "edited": false, "score": 0, "creation_date": 1541489956, "post_id": 53113749, "comment_id": 93224934, "body": "iOS9  only animation <code>foregroundColor </code>  does not work as expected"}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 10612088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f1bcb28387555b4d3a0e1543e3dfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Mingle", "link": "https://stackoverflow.com/users/10612088/mingle"}, "edited": false, "score": 0, "creation_date": 1541494147, "post_id": 53168376, "comment_id": 93226769, "body": "also can use[CATransaction begin];     [CATransaction setAnimationDuration:1.0]; //    [CATransaction setDisableActions:YES];     self.textLayer.foregroundColor = [UIColor redColor].CGColor;     self.textLayer.fontSize = 50;     [CATransaction commit];"}], "tags": [], "owner": {"reputation": 26, "user_id": 10612088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f1bcb28387555b4d3a0e1543e3dfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Mingle", "link": "https://stackoverflow.com/users/10612088/mingle"}, "is_accepted": true, "score": 1, "last_activity_date": 1541493624, "creation_date": 1541493624, "answer_id": 53168376, "question_id": 53113749, "link": "https://stackoverflow.com/questions/53113749/catextlayer-foregroundcolor-animation-dont-work-on-ios9-but-work-on-ios10-or-hi/53168376#53168376", "title": "CATextLayer foregroundColor animation don&#39;t work on iOS9 but work on iOS10 or high", "body": "<p>You can add a CALayer, and set CALayer mask is a CATextLayer, you an change CALayer backgroundColor with animation.</p>\n"}], "owner": {"reputation": 27, "user_id": 5808520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aMpHp.jpg?s=128&g=1", "display_name": "leosun", "link": "https://stackoverflow.com/users/5808520/leosun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 53168376, "answer_count": 1, "score": 0, "last_activity_date": 1541493624, "creation_date": 1541140747, "last_edit_date": 1541141405, "question_id": 53113749, "link": "https://stackoverflow.com/questions/53113749/catextlayer-foregroundcolor-animation-dont-work-on-ios9-but-work-on-ios10-or-hi", "title": "CATextLayer foregroundColor animation don&#39;t work on iOS9 but work on iOS10 or high", "body": "<p>CATextLayer <code>foregroundColor</code> animation don't work on <code>iOS9</code> but work normal on <code>iOS10</code>  or high version! I don't know  what's wrong with my code!</p>\n\n<p><strong>Code as follow:</strong></p>\n\n<pre><code>- (void)addAnimationOnLayer:(CATextLayer*)layer{\nCABasicAnimation *colorAn = [CABasicAnimation animationWithKeyPath:@\"foregroundColor\"];\n\ncolorAn.fromValue = (id)NeColor333333.CGColor;\ncolorAn.toValue = (id)NeColor999999.CGColor;\n\n\nCABasicAnimation *sizeAn = [CABasicAnimation animationWithKeyPath:@\"fontSize\"];\nsizeAn.fromValue = @16.0;\nsizeAn.toValue = @12.0;\n\n\nCAKeyframeAnimation *keyAn = [CAKeyframeAnimation animationWithKeyPath:@\"position\"];\nkeyAn.values = @[[NSValue valueWithCGPoint:layer.position],[NSValue valueWithCGPoint:CGPointMake(layer.position.x, layer.position.y - 16)]];\nkeyAn.keyTimes =@[@0.0,@1.0];\n\nCAAnimationGroup *group = [CAAnimationGroup animation];\ngroup.animations = @[colorAn, keyAn, sizeAn];\ngroup.duration = 0.4;\ngroup.repeatCount = 1;\ngroup.fillMode = kCAFillModeForwards;\ngroup.removedOnCompletion = NO;\n\n[layer addAnimation:group forKey:nil];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-storage"], "comments": [{"owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1541167541, "post_id": 53112383, "comment_id": 93134474, "body": "See <a href=\"https://github.com/firebase/firebase-ios-sdk/issues/1888#issuecomment-431544373\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-ios-sdk/issues/&hellip;</a>"}, {"owner": {"reputation": 205, "user_id": 3737098, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/HKc9P.jpg?s=128&g=1", "display_name": "ilyon", "link": "https://stackoverflow.com/users/3737098/ilyon"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1541475712, "post_id": 53112383, "comment_id": 93221071, "body": "Thanks, I was calling the api on main thread, but the error still happen and only bellow iOS 9 devices, other devices is good. @PaulBeusterien"}, {"owner": {"reputation": 205, "user_id": 3737098, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/HKc9P.jpg?s=128&g=1", "display_name": "ilyon", "link": "https://stackoverflow.com/users/3737098/ilyon"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1541476870, "post_id": 53112383, "comment_id": 93221248, "body": "I replace dataWithMaxSize:completion: to writeToFile:completion:, this problem is solved."}], "owner": {"reputation": 205, "user_id": 3737098, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/HKc9P.jpg?s=128&g=1", "display_name": "ilyon", "link": "https://stackoverflow.com/users/3737098/ilyon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 610, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541469507, "creation_date": 1541129940, "last_edit_date": 1541469507, "question_id": 53112383, "link": "https://stackoverflow.com/questions/53112383/firebase-download-error-error-domain-firstorageerrordomain-code-13000", "title": "Firebase download error Error Domain=FIRStorageErrorDomain Code=-13000", "body": "<p>I am trying to download an data from Firebase, I get fail only on iOS 8 devices, other devices run good, I'm getting this error:</p>\n\n<blockquote>\n  <p>Firebase download error Error Domain=FIRStorageErrorDomain Code=-13000 \"An unknown error occurred, please check the server response.\" UserInfo=0x1471bf10 {ResponseErrorDomain=NSURLErrorDomain, NSErrorFailingURLKey=<a href=\"https://firebasestorage.googleapis.com/v0/b/api-project-xxxxxxxxxxx.appspot.com/o/xxxxxxxxxxxxxxxxx%2Fdata.xx?alt=media\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/api-project-xxxxxxxxxxx.appspot.com/o/xxxxxxxxxxxxxxxxx%2Fdata.xx?alt=media</a>, object=xxxxxxxxxxxxxxxxx/data.xx, NSErrorFailingURLStringKey=<a href=\"https://firebasestorage.googleapis.com/v0/b/api-project-xxxxxxxxxxxx.appspot.com/o/xxxxxxxxxxxxxxxxxx%2Fdata.xx?alt=media\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/api-project-xxxxxxxxxxxx.appspot.com/o/xxxxxxxxxxxxxxxxxx%2Fdata.xx?alt=media</a>, ResponseErrorCode=-1100, bucket=api-project-xxxxxxxxxxxxx.appspot.com, NSLocalizedDescription=An unknown error occurred, please check the server response.}</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>    FIRStorageReference *islandRef = [[self class] firebaseStorageReference];\n    NSURL *localURL = [NSURL fileURLWithPath:DocumentPath(kFIREBASE_STORAGE_NAME)];\n    __weak typeof(PCMergeHandler*) weakSelf = self;\n    self.storageTask = [islandRef writeToFile:localURL completion:^(NSURL *URL, NSError *error){\n\n    }];\n</code></pre>\n\n<p>Any help provided would be deeply appreciated.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1541119227, "post_id": 53110550, "comment_id": 93117595, "body": "Where does originalCIImage come from?"}, {"owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1541256730, "post_id": 53110550, "comment_id": 93158327, "body": "I overload <code>windowDidLoad</code> in my WindowToolbarController and there I take image from ImageView which is in ViewController. Just like this: <code>originalCIImage = [self fromNSImageToCIImage:((ViewController*)[NSApplication sharedApplication].keyWindow.contentViewController).imageVie&zwnj;&#8203;w.image];</code>. Function fromNSIimgToCImg works like this NSImage &gt; CGImage &gt; CIImage."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "edited": false, "score": 0, "creation_date": 1541623340, "post_id": 53111565, "comment_id": 93283480, "body": "I have checked the link, it shows how to add 2 filters, as you said - taking 1st filter output and feeding it to 2nd filter. I do the same thing, after adding a filter I assign it&#39;s output to global CIImage variable to save it and then I use it afterwards as input to other filters. The image just goes completely white/grey/black. <b>BUT</b> if I add &quot;SepiaTone&quot; filter on top, using exactly the same code it works just fine as described. I am so frustrated, I have no idea why exact the same code doesn&#39;t work on &quot;ColorControls&quot; filters."}], "tags": [], "owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "is_accepted": false, "score": 2, "last_activity_date": 1541122215, "creation_date": 1541122215, "answer_id": 53111565, "question_id": 53110550, "link": "https://stackoverflow.com/questions/53110550/applying-multiple-cifilters-on-image/53111565#53111565", "title": "Applying multiple CIFilters on image", "body": "<p>Your code is applying one filter to the original image if you click the first button, and applying a different filter to the original image if you click the other button.</p>\n\n<p>If you want to apply 2 filters, you need to write code that takes the original image, feeds it into the input of the first filter, sets the other parameters, then gets the output into another CIImage.</p>\n\n<p>Then you need to feed the output of the first filter in as the input of the second filter, set those parameters, etc. </p>\n\n<p>Lather, rinse, repeat for as many filters as you want.</p>\n\n<p>See this link for working example code in Swift: <a href=\"https://www.objc.io/issues/21-camera-and-photos/core-image-intro/\" rel=\"nofollow noreferrer\">https://www.objc.io/issues/21-camera-and-photos/core-image-intro/</a></p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "is_accepted": true, "score": 1, "last_activity_date": 1543177650, "creation_date": 1543177650, "answer_id": 53471614, "question_id": 53110550, "link": "https://stackoverflow.com/questions/53110550/applying-multiple-cifilters-on-image/53471614#53471614", "title": "Applying multiple CIFilters on image", "body": "<p>So I came in with a solution for this each time slider is used I applied <strong>all the filters in each slider</strong>. (Let's say I have brightness and contrast slider).</p>\n\n<p>F.e.: 1) when contrast slider is used I apply brightness and contrast filter on image and save the contrast slider value.</p>\n\n<p>2) when brightness slider is used I apply contrast (with saved value) filter and then brightness filter and save brightness slider value.</p>\n\n<p>3) etc.</p>\n\n<p>Hope someone will get this useful!</p>\n"}], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 53471614, "answer_count": 2, "score": 1, "last_activity_date": 1543177650, "creation_date": 1541113210, "last_edit_date": 1541174085, "question_id": 53110550, "link": "https://stackoverflow.com/questions/53110550/applying-multiple-cifilters-on-image", "title": "Applying multiple CIFilters on image", "body": "<p>I have a problem with adding multiple CIFilters on image, f.e. when I add brightness filter and then try to add contrast image goes to original (losses brightness filter) and then adds contrast filter.</p>\n\n<pre><code>- (IBAction)brightnessSlider:(NSSlider*)sender {\n    ViewController *controller = (ViewController*)[NSApplication sharedApplication].keyWindow.contentViewController;\n    CIFilter *brightness = [CIFilter filterWithName:@\"CIColorControls\" keysAndValues: kCIInputImageKey, originalCIImage, @\"inputBrightness\", [NSNumber numberWithFloat:[sender floatValue]], nil];\n    controller.imageView.image = [self fromCIImageToNSImage:[brightness outputImage]];\n}\n\n- (IBAction)contrastSlider:(id)sender {\n    ViewController *controller = (ViewController*)[NSApplication sharedApplication].keyWindow.contentViewController;\n    CIFilter *contrast = [CIFilter filterWithName:@\"CIColorControls\" keysAndValues: kCIInputImageKey, originalCIImage, @\"inputContrast\", [NSNumber numberWithFloat:[sender floatValue]], nil];\n    controller.imageView.image = [self fromCIImageToNSImage:[contrast outputImage]];\n}\n</code></pre>\n\n<p>If I use <code>originalCIImage = [CIFilter outputImage];</code> (CIFilter = brightness/contrast) after adding brightness and contrast (applying filters for changed image), then the image goes completely black/grey/white.</p>\n\n<p><strong>How to prevent image from changing back to original and apply several filters simultaneously?</strong></p>\n\n<p>I have read this post answer <a href=\"https://stackoverflow.com/questions/51938562/how-to-change-brightness-contrast-and-saturation-using-cicolorcontrols-via-uisl\">link of the post</a> but applying filters to original image just resets the image as it should..</p>\n"}, {"tags": ["objective-c", "calayer"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 3, "creation_date": 1541102853, "post_id": 53108164, "comment_id": 93112544, "body": "Could you show the full crash error message? It may contain important information piece of information about the crash."}, {"owner": {"reputation": 3474, "user_id": 461844, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f80fac7d0bb3cdf5098fc5bed15bee6d?s=128&d=identicon&r=PG", "display_name": "Bilbo Baggins", "link": "https://stackoverflow.com/users/461844/bilbo-baggins"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541112738, "post_id": 53108164, "comment_id": 93116062, "body": "This is all I get - libc++abi.dylib: terminating with uncaught exception of type NSException"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1541127069, "post_id": 53108164, "comment_id": 93119120, "body": "Add an exception breakpoint or try to reproduce the issue in a small test project. My guess: &quot;Collection was mutated while being enumerated&quot;."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541151287, "post_id": 53108164, "comment_id": 93126251, "body": "@PriteshDesai Are you sure you didn&#39;t get &quot;***Terminating app due to uncaught exception &#39;NSGenericException&#39;, reason:&quot; ... &quot;was mutated while being enumerated.&quot; message in console? Because if that&#39;s the answer is the correct one, you should have get it. It&#39;s important to locate the correct and full error message."}], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": true, "score": 1, "last_activity_date": 1541140046, "creation_date": 1541140046, "answer_id": 53113628, "question_id": 53108164, "link": "https://stackoverflow.com/questions/53108164/trying-to-remove-a-sublayer-causes-terminating-with-uncaught-exception-of-type-n/53113628#53113628", "title": "Trying to remove a sublayer causes terminating with uncaught exception of type NSException", "body": "<p>Your loop mutates <code>self.myView.layer.sublayers</code> while it is being enumerated.</p>\n\n<p>Add <code>break;</code> after <code>[layer removeFromSuperLayer];</code> to stop enumerating, then you will be fine.</p>\n"}], "owner": {"reputation": 3474, "user_id": 461844, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f80fac7d0bb3cdf5098fc5bed15bee6d?s=128&d=identicon&r=PG", "display_name": "Bilbo Baggins", "link": "https://stackoverflow.com/users/461844/bilbo-baggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53113628, "answer_count": 1, "score": -1, "last_activity_date": 1541140046, "creation_date": 1541100690, "question_id": 53108164, "link": "https://stackoverflow.com/questions/53108164/trying-to-remove-a-sublayer-causes-terminating-with-uncaught-exception-of-type-n", "title": "Trying to remove a sublayer causes terminating with uncaught exception of type NSException", "body": "<p>I'm adding a gradient layer and attaching name to it.\nLater on when I try to remove it by searching for that name, my app crashes. Here's the code I'm using.</p>\n\n<pre><code>CAGradientLayer* gradient = [CAGradientLayer layer];\ngradient.colors = [NSArray arrayWithObjects:\n                   ..... setting up gradient.....\ngradientLayer.name      = @\"GradientLayer\";\n\n[self.myView.layer insertSublayer:gradient atIndex:0];\n</code></pre>\n\n<p>Later on I'm trying to remove it.</p>\n\n<pre><code>for (CALayer *layer in self.myView.layer.sublayers) {\n        if ([layer.name isEqualToString:@\"GradientLayer\"])\n        {\n            [layer removeFromSuperlayer];\n        }\n    }\n</code></pre>\n\n<p>It crashes when it tries to remove the sublayer.</p>\n"}, {"tags": ["objective-c", "xcode", "broadcast", "replaykit"], "comments": [{"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1541140636, "post_id": 53099701, "comment_id": 93122024, "body": "What did you try?  I did it couple of times &amp; IMHO, writing video frame to video file in broadcast extension wouldn&#39;t be a problem."}, {"owner": {"reputation": 3587, "user_id": 4384775, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9dd6074fd9d12dca9b2700542bbc8142?s=128&d=identicon&r=PG&f=1", "display_name": "McDonal_11", "link": "https://stackoverflow.com/users/4384775/mcdonal-11"}, "edited": false, "score": 0, "creation_date": 1549445021, "post_id": 53099701, "comment_id": 95900436, "body": "<a href=\"https://stackoverflow.com/questions/54485367/screen-recording-when-my-ios-app-is-in-background-with-replaykit/\" title=\"screen recording when my ios app is in background with replaykit\">stackoverflow.com/questions/54485367/&hellip;</a> can u help on this.?"}, {"owner": {"reputation": 3587, "user_id": 4384775, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9dd6074fd9d12dca9b2700542bbc8142?s=128&d=identicon&r=PG&f=1", "display_name": "McDonal_11", "link": "https://stackoverflow.com/users/4384775/mcdonal-11"}, "reply_to_user": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1549445073, "post_id": 53099701, "comment_id": 95900467, "body": "@RyanB I have tried with broadcast upload extension. I cannot save my recorded video. Kindly help me this."}], "owner": {"reputation": 21, "user_id": 10365112, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_Y_bMG9eKxI/AAAAAAAAAAI/AAAAAAAAAmk/fqC1ncrMeiQ/photo.jpg?sz=128", "display_name": "Marwan Harb", "link": "https://stackoverflow.com/users/10365112/marwan-harb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 726, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541069212, "creation_date": 1541069212, "question_id": 53099701, "link": "https://stackoverflow.com/questions/53099701/screen-recording-from-upload-extension-not-streaming", "title": "Screen recording from upload extension (NOT Streaming)", "body": "<p>I created an objc project which has the broadcast upload extension added to it. My aim is to send the CMSampleBufferRef which is returned in the extension to the main app.</p>\n\n<p>I want to be able to change and modify the CMSampleBufferRefs in the main app. I cannot do much changes to the sample buffers in the extension as there is a 50MB memory limit.</p>\n\n<p>My aim is to be able to create a video from the sample buffers.</p>\n"}, {"tags": ["ios", "objective-c", "nsexception"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541066291, "post_id": 53098525, "comment_id": 93093494, "body": "The error is pretty clear: The expected type is <code>NSString</code> but the passed type is <code>NSNumber</code>"}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541067083, "post_id": 53098525, "comment_id": 93093874, "body": "I am quite new to ios. i still don&#39;t really understand what the log talking about. i will give a try and post an answer."}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1541067534, "post_id": 53098525, "comment_id": 93094104, "body": "@vadian can you post it as answer since you answered it. i will mark it as correct. i solved my problem."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 2, "creation_date": 1541067851, "post_id": 53098525, "comment_id": 93094240, "body": "I didn&#39;t post an answer because it&#39;s unclear where exactly the error occurred."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541103064, "post_id": 53098525, "comment_id": 93112632, "body": "What is <code>Geotification</code>? I guess that <code>geotification.identifier</code> is a Number and not a String. But how did you get it?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1541104369, "post_id": 53098525, "comment_id": 93113189, "body": "I suspect it comes from here:  <a href=\"https://www.raywenderlich.com/966-geofencing-tutorial-with-core-location\" rel=\"nofollow noreferrer\">raywenderlich.com/966-geofencing-tutorial-with-core-location</a>"}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "edited": false, "score": 0, "creation_date": 1541141746, "post_id": 53098525, "comment_id": 93122423, "body": "Geotification is a class that i created for geofence. Its a number but CLCircularRegion needs an identifier in string. So i change it in String and it work."}], "owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541086726, "creation_date": 1541064896, "last_edit_date": 1541086726, "question_id": 53098525, "link": "https://stackoverflow.com/questions/53098525/crashes-when-implementing-geofencing-nscfnumber-getcstringmaxlengthencoding", "title": "Crashes when implementing Geofencing. _NSCFNumber getCString:maxLength:encoding:]: unrecognized selector sent to instance", "body": "<p>Not really understand what the exception is and there is no back trace for me to look into it.</p>\n\n<pre><code>- (CLCircularRegion *)regionWithGeotification:(Geotification *)geotification{\n    NSLog(@\"Set region with geotification\");\n\n*********\n    CLCircularRegion *region = [[CLCircularRegion alloc] initWithCenter:geotification.coordinate radius:geotification.radius identifier:geotification.identifier];\n*********\n    [region setNotifyOnEntry:geotification.eventType==OnEntry];\n    [region setNotifyOnExit:!region.notifyOnEntry];\n\n    NSLog(@\"region notify on %d\",region.notifyOnExit);\n    NSLog(@\"Done setting region\");\n    return region;\n}\n</code></pre>\n\n<p>What I found out is the crashes start in code above.</p>\n\n<pre>\n2018-11-01 17:25:52.412643+0800 Loud Speaker[12276:1296047] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFNumber getCString:maxLength:encoding:]: unrecognized selector sent to instance 0x85aec1991d2b50a2'\n*** First throw call stack: (0x193ff7ef8 0x1931c5a40 0x193f0f154 0x193ffd810 0x193fff4bc 0x19aeb0904 0x19aeb1cbc 0x100d2b024\n0x100d2b5ec 0x100d2a478 0x100d2a12c 0x100d29418 0x100d9986c\n0x100d449b4 0x100de136c 0x102be7840 0x102be8de4 0x102bf6830\n0x193f861bc 0x193f81084 0x193f805b8 0x1961f4584 0x1c0dfcbc8\n0x100d93164 0x193a40b94) libc++abi.dylib: terminating with uncaught exception of type NSException (lldb)\n</pre>\n"}, {"tags": ["ios", "objective-c", "json", "nsdictionary"], "comments": [{"owner": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "edited": false, "score": 0, "creation_date": 1541266515, "post_id": 53097560, "comment_id": 93161008, "body": "I don&#39;t think there is anything inherently insecure in your code snippet. You could perform some validation but that will not stop an attacker who injects valid elements. So, you need to be confident that it is reasonable to trust the source of <code>jsonResult</code> in the context of the level of risk in your domain and your upstream technical controls. For example, if the data comes from the network, are you using TLS and certificate pinning?"}, {"owner": {"reputation": 131, "user_id": 9575193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/thsoH.jpg?s=128&g=1", "display_name": "Si Nguyen", "link": "https://stackoverflow.com/users/9575193/si-nguyen"}, "reply_to_user": {"reputation": 969, "user_id": 1550948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8c938c5a834e683a45a40db9b8d6663?s=128&d=identicon&r=PG", "display_name": "ncke", "link": "https://stackoverflow.com/users/1550948/ncke"}, "edited": false, "score": 0, "creation_date": 1541402276, "post_id": 53097560, "comment_id": 93190084, "body": "Sure. I also encrypted string and json files. So i think the only way is that check code use this functions and explain with my colleague."}], "owner": {"reputation": 131, "user_id": 9575193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/thsoH.jpg?s=128&g=1", "display_name": "Si Nguyen", "link": "https://stackoverflow.com/users/9575193/si-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541060900, "creation_date": 1541060900, "question_id": 53097560, "link": "https://stackoverflow.com/questions/53097560/ios-function-jsonobjectwithdata-has-issue-with-json-injection", "title": "iOS - function JSONObjectWithData has issue with JSON injection", "body": "<p>In my project, I have some Util functions convert NSData to NSDictionary or NSArray use NSJSONSerialization <a href=\"https://developer.apple.com/documentation/foundation/nsjsonserialization/1415493-jsonobjectwithdata?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/nsjsonserialization/1415493-jsonobjectwithdata?language=objc</a></p>\n\n<p>Example:</p>\n\n<pre><code>+ (NSDictionary *) jsonToDictionary: (NSData *)jsonResult mutableContainer:(BOOL)mutContainer mutableString:(BOOL)mutString failBlock:(void(^)(NSError *)) failBlock {\n    NSError *error;\n    NSDictionary *result = [NSJSONSerialization JSONObjectWithData:jsonResult options:(kNilOptions) || (mutContainer ? NSJSONReadingMutableContainers:kNilOptions) || (mutString ? NSJSONReadingMutableLeaves: kNilOptions) error:&amp;error];\n    if (error) {\n        if (failBlock) {\n            failBlock (error);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>But when this project use Penetration Test from partner. They said that it has <strong>JSON injection</strong>.</p>\n\n<ul>\n<li><strong>Description</strong> </li>\n</ul>\n\n<p>JavaScript Object Notation or JSON is an open-standard file format that uses human-readable text to transmit data objects consisting of attribute\u2013value pairs and array data types.</p>\n\n<ul>\n<li><strong>Observation</strong> </li>\n</ul>\n\n<p>During assessment, it was observed that application writes unvalidated input into JSON.</p>\n\n<ul>\n<li><strong>Statement</strong> </li>\n</ul>\n\n<p>JSON injection occurs when data enters the program from untrusted sources. This call could allow an attacker to inject arbitrary elements or attributes into the JSON entity. Succesful exploitation may potentially lead to denial of service or compromise of the mobile application.</p>\n\n<ul>\n<li><strong>Recommendation</strong></li>\n</ul>\n\n<p>When writing user supplied data to JSON some guidelines should be followed:</p>\n\n<ol>\n<li><p>Don't create JSON attributes whose names are derived from user input.</p></li>\n<li><p>Ensure that all serialization to JSON is performed using a safe serialization function e.g. NSJSONSerialization.dataWithJSONObject that delimits untrusted data within single or double quotes and escapes any special characters.</p></li>\n</ol>\n\n<blockquote>\n  <p>How can I pass the pentation-test-rules of JSON injection but still\n  able to maintain the correct functionality of this function</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "iphone-xs-max"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541086473, "post_id": 53096864, "comment_id": 93104185, "body": "you don&#39;t have to call [NSOperationQueue mainQueue], IBAction always gets called on main thread."}, {"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541086954, "post_id": 53096864, "comment_id": 93104451, "body": "did u try <a href=\"https://stackoverflow.com/questions/26623400/photos-app-in-ios-7-1-simulator-not-working\" title=\"photos app in ios 7 1 simulator not working\">stackoverflow.com/questions/26623400/&hellip;</a>"}, {"owner": {"reputation": 1457, "user_id": 880443, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/919af26f63f6a5e007691aa2adb6be9c?s=128&d=identicon&r=PG", "display_name": "Sudhakar", "link": "https://stackoverflow.com/users/880443/sudhakar"}, "reply_to_user": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1541139506, "post_id": 53096864, "comment_id": 93121725, "body": "@TejaNandamuri Photos.sqlite file present in my simulator directory."}], "owner": {"reputation": 1457, "user_id": 880443, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/919af26f63f6a5e007691aa2adb6be9c?s=128&d=identicon&r=PG", "display_name": "Sudhakar", "link": "https://stackoverflow.com/users/880443/sudhakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541057636, "creation_date": 1541057311, "last_edit_date": 1541057636, "question_id": 53096864, "link": "https://stackoverflow.com/questions/53096864/app-getting-crashed-when-i-choose-the-picture-from-photo-library-in-xcode-12-wit", "title": "App getting crashed when I choose the picture from photo library in Xcode 12 with iPhone XS Max", "body": "<p>App getting crashed when I choose the picture from photo library. It's happen only in iPhone XS Max only.</p>\n\n<p>Code:</p>\n\n<pre><code>-(IBAction)choosePhoto:(id)sender {\n    AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];\n    UIViewController *controller = appDelegate.window.rootViewController;\nUIImagePickerController *picker = [[UIImagePickerController alloc] init];\npicker.delegate = self;\npicker.modalPresentationStyle = UIModalPresentationCustom;\npicker.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;\npicker.videoQuality=UIImagePickerControllerQualityTypeHigh;\npicker.navigationBar.tintColor = [UIColor whiteColor];\npicker.navigationBar.barStyle = UIBarStyleBlackOpaque;\n[[NSOperationQueue mainQueue] addOperationWithBlock:^{\n    [controller presentViewController:picker animated:YES completion:nil];\n}];\n}\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info\n{\n    NSLog(@\"data:%@\",info);\n    [self dismissViewControllerAnimated:YES completion:NULL];\n}\n</code></pre>\n\n<p>Added <strong>Privacy - Photo Library Usage Description</strong></p>\n\n<p>Error:</p>\n\n<pre><code>    2018-11-01 12:39:05.921918+0530 App[2307:42544] [Common] _BSMachError: port 31f07; (os/kern) invalid capability (0x14) \"Unable to insert COPY_SEND\"\n2018-11-01 12:39:14.451671+0530 App[2307:44980] [error] error: -addPersistentStoreWithType:SQLite configuration:(null) URL:file:///Users/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite options:{\n\u00a0 \u00a0 NSPersistentHistoryTrackingKey = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryTrackingEntitiesToExclude = \u00a0 \u00a0 \u00a0 \u00a0 (\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 AssetAnalysisState,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MediaAnalysisAssetAttributes,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ComputedAssetAttributes\n\u00a0 \u00a0 \u00a0 \u00a0 );\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryUseContextObjectsForDeletes = 1;\n\u00a0 \u00a0 };\n\u00a0 \u00a0 NSPersistentStoreFileProtectionKey = NSFileProtectionCompleteUntilFirstUserAuthentication;\n\u00a0 \u00a0 NSSQLitePersistWALOption = 1;\n\u00a0 \u00a0 NSSQLitePragmasOption = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"journal_mode\" = WAL;\n\u00a0 \u00a0 };\n} ... returned error Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7} with userInfo dictionary {\n\u00a0 \u00a0 NSFilePath = \"/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite\";\n\u00a0 \u00a0 NSSQLiteErrorDomain = 7;\n}\nCoreData: error: -addPersistentStoreWithType:SQLite configuration:(null) URL:file:///Users/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite options:{\n\u00a0 \u00a0 NSPersistentHistoryTrackingKey = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryTrackingEntitiesToExclude = \u00a0 \u00a0 \u00a0 \u00a0 (\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 AssetAnalysisState,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MediaAnalysisAssetAttributes,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ComputedAssetAttributes\n\u00a0 \u00a0 \u00a0 \u00a0 );\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryUseContextObjectsForDeletes = 1;\n\u00a0 \u00a0 };\n\u00a0 \u00a0 NSPersistentStoreFileProtectionKey = NSFileProtectionCompleteUntilFirstUserAuthentication;\n\u00a0 \u00a0 NSSQLitePersistWALOption = 1;\n\u00a0 \u00a0 NSSQLitePragmasOption = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"journal_mode\" = WAL;\n\u00a0 \u00a0 };\n} ... returned error Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7} with userInfo dictionary {\n\u00a0 \u00a0 NSFilePath = \"/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite\";\n\u00a0 \u00a0 NSSQLiteErrorDomain = 7;\n}\n2018-11-01 12:39:14.452873+0530 App[2307:44980] [Migration] Unexpected error opening persistent store file:///Users/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, cannot attempt migration Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7})\n2018-11-01 12:39:14.453391+0530 App[2307:44980] [Migration] Failed to open store /Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite.\u00a0 Requires update via assetsd (256: The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.)\n2018-11-01 12:39:14.479274+0530 App[2307:44980] [error] error: -addPersistentStoreWithType:SQLite configuration:(null) URL:file:///Users/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite options:{\n\u00a0 \u00a0 NSPersistentHistoryTrackingKey = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryTrackingEntitiesToExclude = \u00a0 \u00a0 \u00a0 \u00a0 (\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 AssetAnalysisState,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MediaAnalysisAssetAttributes,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ComputedAssetAttributes\n\u00a0 \u00a0 \u00a0 \u00a0 );\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryUseContextObjectsForDeletes = 1;\n\u00a0 \u00a0 };\n\u00a0 \u00a0 NSPersistentStoreFileProtectionKey = NSFileProtectionCompleteUntilFirstUserAuthentication;\n\u00a0 \u00a0 NSSQLitePersistWALOption = 1;\n\u00a0 \u00a0 NSSQLitePragmasOption = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"journal_mode\" = WAL;\n\u00a0 \u00a0 };\n} ... returned error Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7} with userInfo dictionary {\n\u00a0 \u00a0 NSFilePath = \"/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite\";\n\u00a0 \u00a0 NSSQLiteErrorDomain = 7;\n}\nCoreData: error: -addPersistentStoreWithType:SQLite configuration:(null) URL:file:///Users/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite options:{\n\u00a0 \u00a0 NSPersistentHistoryTrackingKey = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryTrackingEntitiesToExclude = \u00a0 \u00a0 \u00a0 \u00a0 (\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 AssetAnalysisState,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MediaAnalysisAssetAttributes,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ComputedAssetAttributes\n\u00a0 \u00a0 \u00a0 \u00a0 );\n\u00a0 \u00a0 \u00a0 \u00a0 NSPersistentHistoryUseContextObjectsForDeletes = 1;\n\u00a0 \u00a0 };\n\u00a0 \u00a0 NSPersistentStoreFileProtectionKey = NSFileProtectionCompleteUntilFirstUserAuthentication;\n\u00a0 \u00a0 NSSQLitePersistWALOption = 1;\n\u00a0 \u00a0 NSSQLitePragmasOption = \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"journal_mode\" = WAL;\n\u00a0 \u00a0 };\n} ... returned error Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7} with userInfo dictionary {\n\u00a0 \u00a0 NSFilePath = \"/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite\";\n\u00a0 \u00a0 NSSQLiteErrorDomain = 7;\n}\n2018-11-01 12:39:14.480337+0530 App[2307:44980] [Migration] Store open/configuration failed on 2nd attempt: Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201cPhotos.sqlite\u201d couldn\u2019t be opened.\" UserInfo={NSFilePath=/Users/IGDCLT0097/Library/Developer/CoreSimulator/Devices/74B56033-C96A-4EFA-A68F-B4DEAA03E0AA/data/Media/PhotoData/Photos.sqlite, NSSQLiteErrorDomain=7}\n2018-11-01 12:39:14.480675+0530 App[2307:44980] [Generic] ABORT: cannot create persistent store\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "reactjs", "react-native", "jwplayer"], "comments": [{"owner": {"reputation": 1, "user_id": 10600456, "user_type": "registered", "profile_image": "https://graph.facebook.com/281198165843137/picture?type=large", "display_name": "Donny Motta", "link": "https://stackoverflow.com/users/10600456/donny-motta"}, "edited": false, "score": 1, "creation_date": 1541912807, "post_id": 53096720, "comment_id": 93377040, "body": "There are similar problems in this regard: Maybe <a href=\"https://stackoverflow.com/questions/39836356/react-native-resize-custom-ui-component/39838774#39838774\">this</a> can help you"}, {"owner": {"reputation": 835, "user_id": 4485275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0jkTJ.jpg?s=128&g=1", "display_name": "Bhavesh Jariwala", "link": "https://stackoverflow.com/users/4485275/bhavesh-jariwala"}, "reply_to_user": {"reputation": 1, "user_id": 10600456, "user_type": "registered", "profile_image": "https://graph.facebook.com/281198165843137/picture?type=large", "display_name": "Donny Motta", "link": "https://stackoverflow.com/users/10600456/donny-motta"}, "edited": false, "score": 0, "creation_date": 1542000145, "post_id": 53096720, "comment_id": 93397232, "body": "@DonnyMotta: Thanks for reference, it had fixed my android problem but i am not able to find solution for ios"}, {"owner": {"reputation": 835, "user_id": 4485275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0jkTJ.jpg?s=128&g=1", "display_name": "Bhavesh Jariwala", "link": "https://stackoverflow.com/users/4485275/bhavesh-jariwala"}, "reply_to_user": {"reputation": 1, "user_id": 10600456, "user_type": "registered", "profile_image": "https://graph.facebook.com/281198165843137/picture?type=large", "display_name": "Donny Motta", "link": "https://stackoverflow.com/users/10600456/donny-motta"}, "edited": false, "score": 0, "creation_date": 1545978698, "post_id": 53096720, "comment_id": 94747272, "body": "@George : here is issue i had describe here for my ios full screen issue."}, {"owner": {"reputation": 4200, "user_id": 6898523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mwPH9.jpg?s=128&g=1", "display_name": "MAhipal Singh", "link": "https://stackoverflow.com/users/6898523/mahipal-singh"}, "edited": false, "score": 0, "creation_date": 1545985038, "post_id": 53096720, "comment_id": 94749066, "body": "@BhaveshJariwala Check here <a href=\"https://github.com/jwplayer/jwplayer-sdk-ios-demo/blob/master/JWPlayer_iOS_SDK.framework/Headers/JWPlayerController.h\" rel=\"nofollow noreferrer\">github.com/jwplayer/jwplayer-sdk-ios-demo/blob/master/&hellip;</a>"}, {"owner": {"reputation": 4200, "user_id": 6898523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mwPH9.jpg?s=128&g=1", "display_name": "MAhipal Singh", "link": "https://stackoverflow.com/users/6898523/mahipal-singh"}, "edited": false, "score": 0, "creation_date": 1545985111, "post_id": 53096720, "comment_id": 94749088, "body": "So in JwPlayerWrapper.m add this line try  self.player. fullscreen = TRUE;"}, {"owner": {"reputation": 835, "user_id": 4485275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0jkTJ.jpg?s=128&g=1", "display_name": "Bhavesh Jariwala", "link": "https://stackoverflow.com/users/4485275/bhavesh-jariwala"}, "reply_to_user": {"reputation": 4200, "user_id": 6898523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mwPH9.jpg?s=128&g=1", "display_name": "MAhipal Singh", "link": "https://stackoverflow.com/users/6898523/mahipal-singh"}, "edited": false, "score": 0, "creation_date": 1545991819, "post_id": 53096720, "comment_id": 94751361, "body": "@MAhipalSingh: It was there, was not working so i had removed it. It is only there to send fullscreen status to javascript"}, {"owner": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "edited": false, "score": 0, "creation_date": 1547162917, "post_id": 53096720, "comment_id": 95108240, "body": "In <code>onFullscreen</code> why do you set <code>heightX: width, widthX: height,</code>?"}, {"owner": {"reputation": 835, "user_id": 4485275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0jkTJ.jpg?s=128&g=1", "display_name": "Bhavesh Jariwala", "link": "https://stackoverflow.com/users/4485275/bhavesh-jariwala"}, "reply_to_user": {"reputation": 3166, "user_id": 1680301, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uHx6n.png?s=128&g=1", "display_name": "Georgios", "link": "https://stackoverflow.com/users/1680301/georgios"}, "edited": false, "score": 0, "creation_date": 1547182988, "post_id": 53096720, "comment_id": 95112573, "body": "@George: To change layout size for video, This thing is working fine in android. In ios not working. Are you using any different approach to achieve fullscreen??"}], "owner": {"reputation": 835, "user_id": 4485275, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0jkTJ.jpg?s=128&g=1", "display_name": "Bhavesh Jariwala", "link": "https://stackoverflow.com/users/4485275/bhavesh-jariwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1206, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1545981615, "creation_date": 1541056673, "last_edit_date": 1545981615, "question_id": 53096720, "link": "https://stackoverflow.com/questions/53096720/how-to-make-jwplayer-fullscreen-in-react-native", "title": "How to make jwplayer fullscreen in react-native", "body": "<p>I am planning to use jwplayer in react-native. As of now there is no working jwplayer react-native plugin available on Github, so i am working on a Native module that will render jwplayer in react-native.</p>\n\n<p>I am able to render video in react-native using a native module and also able to play video and able to receive play, pause other events in react-native.</p>\n\n<p>But I have a problem with fullscreen mode(it is working properly in non-fullscreen mode) When I click JwPlayer fullscreen button then app screen goes to black and come back after video complete. During the blackout, I am able to hear audio but a video is not visible on mode. </p>\n\n<p>Here is a code:</p>\n\n<p><strong>JavascriptBridgeJsFile</strong></p>\n\n<pre><code>import React, { Component } from 'react'\nimport { requireNativeComponent } from 'react-native'\n\nexport default class JwPlayerWrapperView extends Component {\n\n  setNativeProps = nativeProps =&gt; {\n    if (this._root) {\n      this._root.setNativeProps(nativeProps);\n    }\n  }\n\n  render() {\n    return &lt;JwPlayerWrapper\n      ref={e =&gt; (this._root = e)}\n      {...this.props}\n      onFullScreen={event =&gt;\n        this.props.onFullScreen &amp;&amp; this.props.onFullScreen(event.nativeEvent)\n      }\n    /&gt;\n  }\n}\n\nconst JwPlayerWrapper = requireNativeComponent('JwPlayerWrapper', JwPlayerWrapperView)\n</code></pre>\n\n<p><strong>JwPlayerWrapper.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;React/RCTBridge.h&gt;\n#import &lt;JWPlayer_iOS_SDK/JWPlayerController.h&gt;\n#import &lt;React/UIView+React.h&gt;\n\n@class RCTEventDispatcher;\n\n@interface JwPlayerWrapper : UIView\n  // Define view properties here with @property\n  @property(nonatomic, strong) JWPlayerController *player;\n  @property(nonatomic, assign) NSString *playList;\n  @property (nonatomic, assign) NSString *exampleProp;\n  @property (nonatomic, copy) RCTDirectEventBlock onFullScreen;\n  // Initializing with the event dispatcher allows us to communicate with JS\n  - (instancetype)initWithEventDispatcher:(RCTEventDispatcher *)eventDispatcher NS_DESIGNATED_INITIALIZER;\n@end\n</code></pre>\n\n<p><strong>JwPlayerWrapper.m</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"JwPlayerWrapper.h\"\n#import &lt;JWPlayer_iOS_SDK/JWPlayerController.h&gt;\n\n\n// import RCTEventDispatcher\n#if __has_include(&lt;React/RCTEventDispatcher.h&gt;)\n#import &lt;React/RCTEventDispatcher.h&gt;\n#elif __has_include(\"RCTEventDispatcher.h\")\n#import \"RCTEventDispatcher.h\"\n#else\n//#import \"React/RCTEventDispatcher.h\" // Required when used as a Pod in a Swift project\n#endif\n\n@interface JwPlayerWrapper () &lt;JWPlayerDelegate&gt;\n@end\n\n@implementation JwPlayerWrapper : UIView  {\n\n  RCTEventDispatcher *_eventDispatcher;\n  JWConfig *config;  \n}\n\n- (instancetype)initWithEventDispatcher:(RCTEventDispatcher *)eventDispatcher\n{\n  if ((self = [super init])) {\n    _eventDispatcher = eventDispatcher;\n    config = [[JWConfig alloc] init];\n    config.file = @\"https://content.jwplatform.com/manifests/yp34SRmf.m3u8\";\n    config.controls = YES;  //default\n    config.playbackRateControls = TRUE;\n    config.audioSwitchingEnabled = TRUE;\n    config.stretching = TRUE;\n    config.displayDescription = @\"This is sample  video description\";\n    config.displayTitle = @\"Cycling is good for health\";\n    self.player = [[JWPlayerController alloc] initWithConfig:config];\n    self.player.delegate = self;\n  }\n  return self;\n}\n\n-(void)layoutSubviews\n{\n  [super layoutSubviews];\n  self.player.forceFullScreenOnLandscape = YES;\n  self.player.forceLandscapeOnFullScreen = YES;\n  self.player.view.autoresizingMask = UIViewAutoresizingFlexibleBottomMargin|UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleLeftMargin|UIViewAutoresizingFlexibleRightMargin|UIViewAutoresizingFlexibleTopMargin|UIViewAutoresizingFlexibleWidth;\n  self.player.view.frame = self.bounds;\n  self.player.view.frame =  CGRectMake(0, 0, CGRectGetWidth(self.bounds), CGRectGetHeight(self.bounds));\n  [self setAutoresizesSubviews:TRUE];\n  [self addSubview:self.player.view];\n\n}\n\n- (void)onFullscreen:(JWEvent&lt;JWFullscreenEvent&gt; *)event\n{\n  //  NSLog(@\"-=======================================ON FULLSCREEN x EVENT '%d'---------------------\", event.fullscreen);\n  if(self.onFullScreen)\n  {\n    self.onFullScreen(@{@\"fullScreen\":@(event.fullscreen)});\n  }\n}\n@end\n</code></pre>\n\n<p><strong>JwPlayerWrapperManager.h</strong></p>\n\n<pre><code>// import RCTViewManager\n#if __has_include(&lt;React/RCTViewManager.h&gt;)\n#import &lt;React/RCTViewManager.h&gt;\n#elif __has_include(\u201cRCTViewManager.h\u201d)\n#import \u201cRCTViewManager.h\u201d\n#else\n#import \u201cReact/RCTViewManager.h\u201d // Required when used as a Pod in a Swift project\n#endif\n\n// Subclass your view manager off the RCTViewManager\n// http://facebook.github.io/react-native/docs/native-components-ios.html#ios-mapview-example\n@interface JwPlayerWrapperManager : RCTViewManager \n\n@end\n</code></pre>\n\n<p><strong>JwPlayerWrapperManager.m</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"JwPlayerWrapper.h\"\n#import \"JwPlayerWrapperManager.h\"\n#import &lt;React/RCTUIManager.h&gt;\n\n// import RCTBridge\n#if __has_include(&lt;React/RCTBridge.h&gt;)\n#import &lt;React/RCTBridge.h&gt;\n#elif __has_include(\u201cRCTBridge.h\u201d)\n#import \u201cRCTBridge.h\u201d\n#else\n#import \u201cReact/RCTBridge.h\u201d // Required when used as a Pod in a Swift project\n#endif\n\n@implementation JwPlayerWrapperManager\n\n@synthesize bridge = _bridge;\n\n// Export a native module\n// https://facebook.github.io/react-native/docs/native-modules-ios.html\nRCT_EXPORT_MODULE();\n\n// Return the native view that represents your React component\n- (UIView *)view\n{\n  return [[JwPlayerWrapper alloc] initWithEventDispatcher:self.bridge.eventDispatcher];\n}\n\n- (dispatch_queue_t)methodQueue {\n  return _bridge.uiManager.methodQueue;\n}\n\nRCT_EXPORT_VIEW_PROPERTY(exampleProp, NSString)\nRCT_EXPORT_VIEW_PROPERTY(onFullScreen, RCTDirectEventBlock);\n\n\n// Export constants\n// https://facebook.github.io/react-native/releases/next/docs/native-modules-ios.html#exporting-constants\n- (NSDictionary *)constantsToExport\n{\n  return @{\n           @\"EXAMPLE\": @\"example\"\n         };\n}\n@end\n</code></pre>\n\n<p><strong>AppDelegate.m</strong></p>\n\n<pre><code>#import \"AppDelegate.h\"\n\n#import &lt;React/RCTBundleURLProvider.h&gt;\n#import &lt;React/RCTRootView.h&gt;\n\n@implementation AppDelegate\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n  NSURL *jsCodeLocation;\n\n  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@\"index\" fallbackResource:nil];\n\n  RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL:jsCodeLocation\n                                                      moduleName:@\"JwPlayerDemo\"\n                                               initialProperties:nil\n                                                   launchOptions:launchOptions];\n//  rootView.backgroundColor = [[UIColor alloc] initWithRed:1.0f green:1.0f blue:1.0f alpha:1];\n  rootView.backgroundColor = [UIColor colorWithRed:0.00 green:0.00 blue:0.00 alpha:1.0];\n\n\n  self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];\n  UIViewController *rootViewController = [UIViewController new];\n  rootViewController.view = rootView;\n  self.window.rootViewController = rootViewController;\n  [self.window makeKeyAndVisible];\n  return YES;\n}\n\n@end\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport { StyleSheet, View, Dimensions } from 'react-native';\nimport JwPlayerWrapperView from './JwPlayerWrapper/JwPlayerWrapperNativeView'\n\n\nlet {\n  width,\n  height\n} = Dimensions.get(\"window\");\n\n\nconst videoWidth = width\nconst videoHeight = width / (16 / 9)\n\n\nexport default class App extends Component {\n  state = {\n    widthX: videoWidth,\n    heightX: videoHeight,\n    fullScreen: false\n  }\n\n  onFullScreen = (event) =&gt; {\n    console.log('onFullScreen: ', event.fullScreen)\n    this.setState({ fullScreen: event.fullScreen })\n    if (event.fullScreen) {\n      this.setState({\n        heightX: width,\n        widthX: height,\n        fullScreen: true\n      })\n    } else {\n      this.setState({\n        heightX: videoHeight,\n        widthX: videoWidth,\n        fullScreen: false\n      })\n    }\n  }\n\n  render() {\n    const { heightX, widthX } = this.state\n    return (\n      &lt;View style={styles.container}&gt;\n        &lt;JwPlayerWrapperView\n          ref={ref =&gt; (this.player = ref)}\n          style={{ height: heightX, width: widthX }}\n          onFullScreen={this.onFullScreen}\n        /&gt;\n      &lt;/View&gt;\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F5FCFF',\n  }\n});\n</code></pre>\n\n<p>When app in portrait mode and if you click a fullscreen button of player then it will blackout screen. I don't what things need to do to make is fullscreen I am not having any ios native development experience.</p>\n\n<p><strong>Version details</strong></p>\n\n<p>react-native:0.55.1</p>\n\n<p>PODS:\n - JWPlayer-SDK (3.1.4)</p>\n\n<p><strong>Here is a video link which shows what is happening:</strong> <a href=\"https://drive.google.com/file/d/1j3H-6058jK0we7HqgUHHpsiGE24ziCQ1/view\" rel=\"nofollow noreferrer\">LINK</a></p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "reactjs", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 10589636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f2d06f64f4b7d058b296ccc02e6eed?s=128&d=identicon&r=PG&f=1", "display_name": "Daddy Boy", "link": "https://stackoverflow.com/users/10589636/daddy-boy"}, "edited": false, "score": 0, "creation_date": 1541070567, "post_id": 53098155, "comment_id": 93095633, "body": "Thank you so much. I got it"}], "tags": [], "owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "is_accepted": true, "score": 0, "last_activity_date": 1541063477, "creation_date": 1541063477, "answer_id": 53098155, "question_id": 53096507, "link": "https://stackoverflow.com/questions/53096507/why-we-use-the-progressimage-property-in-the-progressviewios-component-in-react/53098155#53098155", "title": "Why we use the progressImage property in the ProgressViewIOS component in react-native?", "body": "<p><code>progressImage</code> is an image to use for the portion of the progress bar that is filled in <code>ProgressViewIOS</code>.  </p>\n\n<p>If you provide a custom image for it, the <code>progressTintColor</code> property is ignored.</p>\n\n<p><strong>Images:</strong> </p>\n\n<p><code>progressImage.png</code> <a href=\"https://i.stack.imgur.com/pcGfS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcGfS.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>trackImage.png</code> <a href=\"https://i.stack.imgur.com/sSg6Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSg6Z.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/VTX79.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VTX79.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Code:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import React, {Component} from 'react';\r\nimport {Platform, StyleSheet, Text, View, ProgressViewIOS, Dimensions} from 'react-native';\r\n\r\nconst screenWidth = Dimensions.get(\"screen\").width;\r\n\r\ntype Props = {};\r\nexport default class App extends Component&lt;Props&gt; {\r\n  render() {\r\n    return (\r\n      &lt;View style={styles.container}&gt;\r\n        &lt;ProgressViewIOS \r\n        style={{width: screenWidth - 30}}\r\n        progress={0.5}\r\n        progressViewStyle = 'default'\r\n        trackImage={require('./trackImage.png')}\r\n        progressImage={require('./progressImage.png')}\r\n        /&gt;\r\n      &lt;/View&gt;\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 119, "user_id": 10589636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f2d06f64f4b7d058b296ccc02e6eed?s=128&d=identicon&r=PG&f=1", "display_name": "Daddy Boy", "link": "https://stackoverflow.com/users/10589636/daddy-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 53098155, "answer_count": 1, "score": 1, "last_activity_date": 1541063477, "creation_date": 1541055578, "question_id": 53096507, "link": "https://stackoverflow.com/questions/53096507/why-we-use-the-progressimage-property-in-the-progressviewios-component-in-react", "title": "Why we use the progressImage property in the ProgressViewIOS component in react-native?", "body": "<p>Why and how to use the <code>progressImage</code> property in the <code>&lt;ProgressViewIOS/&gt;</code> component in react-native ? The <a href=\"https://facebook.github.io/react-native/docs/progressviewios#progressimage\" rel=\"nofollow noreferrer\">documentation</a> doesn't seem to be understandable. Can anyone share a screenshot output of this property on the iOS? Thanks !!!</p>\n"}, {"tags": ["objective-c", "ios11"], "answers": [{"tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1541141453, "last_edit_date": 1592644375, "creation_date": 1541141453, "answer_id": 53113862, "question_id": 53096182, "link": "https://stackoverflow.com/questions/53096182/open-settings-programmatically-in-ios/53113862#53113862", "title": "Open settings programmatically in iOS", "body": "<blockquote>\n<p>Global Variable</p>\n<p>UIApplicationOpenSettingsURLString</p>\n<p>Used to create a URL that you can pass to the openURL: method. When you open the URL built from this string, the system launches the Settings app and displays the app\u2019s custom settings, if it has any.</p>\n</blockquote>\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiapplicationopensettingsurlstring?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiapplicationopensettingsurlstring?language=objc</a></p>\n<p>This is from Apple official document. My guess is your app have its own setting page, that's why <code>openURL</code> function takes you to app's setting page instead of Setting home.</p>\n"}], "owner": {"reputation": 11, "user_id": 9624721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e72b7b0a3b95746e6b9513c49f5b1fd?s=128&d=identicon&r=PG&f=1", "display_name": "Giritharan", "link": "https://stackoverflow.com/users/9624721/giritharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541141453, "creation_date": 1541053629, "question_id": 53096182, "link": "https://stackoverflow.com/questions/53096182/open-settings-programmatically-in-ios", "title": "Open settings programmatically in iOS", "body": "<p>I am opening the device settings page from my app.When I open through iPhone X(iOS11) and iPhone 8 it goes to app settings . But when I open through iPhone 8 Plus and iPhone SE it goes to home settings page.\n<strong>I need to open home settings page of iPhone like iPhone 8 Plus(open home settings page)</strong> .  I am running the below code.</p>\n\n<pre><code>UIApplication *application = [UIApplication sharedApplication];\nNSURL *settingsURL = [NSURL URLWithString:UIApplicationOpenSettingsURLString];\n[application openURL:settingsURL options:@{} completionHandler:^(BOOL success) {\n    if (success) {\n        NSLog(@\"Opened url\");\n    }\n}];\n</code></pre>\n\n<p>My problem is, I created a new project and I ran this above code . Its working fine.And I can able to navigate to device home settings page in same iPhone X.\nBut when I run this code in my project in iPhone X it goes to app settings screen.I don't know where I missed.\nPlease help me if possible.\nThanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1541052535, "post_id": 53095952, "comment_id": 93088119, "body": "Use the debugger and see what is actually happening when you run this code. Hint: - <code>progressDeny</code> never returns."}, {"owner": {"reputation": 13, "user_id": 9207631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf158061a7126d3512e569e30e4403b?s=128&d=identicon&r=PG&f=1", "display_name": "uuuuser", "link": "https://stackoverflow.com/users/9207631/uuuuser"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1541053123, "post_id": 53095952, "comment_id": 93088301, "body": "@rmaddy Thanks! The progressDeny was not returned, so it was stuck there!"}, {"owner": {"reputation": 229, "user_id": 3702516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6G3E.png?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3702516/rahul"}, "edited": false, "score": 1, "creation_date": 1541054320, "post_id": 53095952, "comment_id": 93088686, "body": "You are adding dispatch_get_main_queue under the background que that as an async task. Update UI components directly on main thread not under the background task. And sleep time seems to be more."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541071655, "post_id": 53095952, "comment_id": 93096177, "body": "Put <code>dispatch_async(dispatch_get_main_queue(), ^{ [self setProgress]; });</code> inside progressDeny&#39;s cycle."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1541071718, "post_id": 53095952, "comment_id": 93096207, "body": "Use <code>dyspatch_after</code> instead of <code>usleep(100000);</code> and infinite loop"}], "answers": [{"tags": [], "owner": {"reputation": 74, "user_id": 8607487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJNmD.jpg?s=128&g=1", "display_name": "JackySong", "link": "https://stackoverflow.com/users/8607487/jackysong"}, "is_accepted": false, "score": 0, "last_activity_date": 1541125879, "creation_date": 1541125879, "answer_id": 53111942, "question_id": 53095952, "link": "https://stackoverflow.com/questions/53095952/how-to-use-dispatch-async/53111942#53111942", "title": "how to use dispatch_async", "body": "<p>First, the sleep time in your <code>progressDeny</code> method is a bit long, so you can make it smaller. Second, the <code>while (1){}</code> in your <code>progressDeny</code> method is a endless loop   and the method never returns, you can try to change it like this, for example\uff1a</p>\n\n<pre><code>- (void)progressDeny {\n        if (progress &gt;= 0 &amp;&amp; progress &lt;= 1.0) {\n            NSLog(@\"progress - 0.005!\");\n            progress -= 0.005;\n            usleep(10);\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "is_accepted": true, "score": 0, "last_activity_date": 1541144331, "creation_date": 1541144331, "answer_id": 53114452, "question_id": 53095952, "link": "https://stackoverflow.com/questions/53095952/how-to-use-dispatch-async/53114452#53114452", "title": "how to use dispatch_async", "body": "<p>The code is not working fine if the purpose of it is present progress view &amp; update its value. You made at least 2 bugs to make progress view work.</p>\n\n<p>Let take a look into your code:</p>\n\n<p>First, you init <code>progress</code> with <code>0.0</code></p>\n\n<pre><code>progress = 0.0;\n</code></pre>\n\n<p>Then, inside <code>progressDeny</code>, you subtracted it if it is <code>equal</code> to <code>0</code> &amp; did not provide any way to exit the loop. This will ended up being run once then stuck in <code>doing-nothing</code> infinite loop.</p>\n\n<pre><code>- (void)progressDeny {\n    while(1) {\n        if (progress &gt;= 0 &amp;&amp; progress &lt;= 1.0) {\n            // Did you mean: progress += 0.005 ?\n            progress -= 0.005;\n            // ...\n        }\n    }\n}\n</code></pre>\n\n<p>Now, let refactor your code to make it work:</p>\n\n<pre><code>dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    while (progress &lt;= 1.0) {\n        progress += 0.005;\n        dispatch_async(dispatch_get_main_queue(), ^{\n            [clickedProgress setProgress:progress];\n        });\n        usleep(100000);\n    }\n});\n</code></pre>\n\n<p>Or you can make it with <code>NSTimer</code> instead of <code>GCD</code>:</p>\n\n<pre><code>[NSTimer scheduledTimerWithTimeInterval:0.1 repeats:YES block:^(NSTimer * _Nonnull timer) {\n    if (progress &lt;= 1.0) {\n        progress += 0.005;\n        [clickedProgress setProgress:progress];\n    } else {\n        [timer invalidate];\n        timer = nil;\n    }\n}];\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9207631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecf158061a7126d3512e569e30e4403b?s=128&d=identicon&r=PG&f=1", "display_name": "uuuuser", "link": "https://stackoverflow.com/users/9207631/uuuuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 53114452, "answer_count": 2, "score": 1, "last_activity_date": 1541144331, "creation_date": 1541052150, "last_edit_date": 1541052443, "question_id": 53095952, "link": "https://stackoverflow.com/questions/53095952/how-to-use-dispatch-async", "title": "how to use dispatch_async", "body": "<p>I implemented a thread with dispatch, but the code works fine, but the progress UI does not work</p>\n\n<p>This is my code</p>\n\n<pre><code>@interface thirdController () {\n    float progress;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    progress = 0.0;\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        [self progressDeny];\n        dispatch_async(dispatch_get_main_queue(), ^{\n            [self setProgress];\n        });\n    });\n}\n</code></pre>\n\n<p>progressDeny</p>\n\n<pre><code>- (void)progressDeny {\n    while (1) {\n        if (progress &gt;= 0 &amp;&amp; progress &lt;= 1.0) {\n            NSLog(@\"progress - 0.005!\");\n            progress -= 0.005;\n            usleep(100000);\n        }\n    }\n}\n</code></pre>\n\n<p>setProgress</p>\n\n<pre><code>- (void)setProgress {\n    NSLog(@\"%f\", progress);\n    [clickedProgress setProgress:progress animated:YES];\n}\n</code></pre>\n\n<p>I saw this</p>\n\n<pre><code>dispatch_async(dispatch_get_global_queue( DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void){\n    //Background Thread\n    dispatch_async(dispatch_get_main_queue(), ^(void){\n        //Run UI Updates\n    });\n});\n</code></pre>\n\n<p>Why is the ui update part not working?</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "unity3d", "proxy"], "owner": {"reputation": 3473, "user_id": 893411, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/120b9d988f6cca4a4d3315fd4241b1b9?s=128&d=identicon&r=PG", "display_name": "m0j1", "link": "https://stackoverflow.com/users/893411/m0j1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541051995, "creation_date": 1541051995, "question_id": 53095914, "link": "https://stackoverflow.com/questions/53095914/channeling-traffic-through-proxy-in-ios-app", "title": "Channeling traffic through proxy in iOS app", "body": "<p>I have a Unity iOS app which I need to have a built-in proxy to access some IPs which are banned by some ISPs. I'm looking for a way to start a proxy session at the start of my app to channel the traffic and access these banned ips. I wanted to ask if there are any ways to do this in preferably in Unity c# or in XCode objective-c. <br/>\nThanks</p>\n"}, {"tags": ["objective-c", "swift", "wkwebview"], "owner": {"reputation": 3994, "user_id": 358980, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6b332912be012c2f7b843031470e0a0?s=128&d=identicon&r=PG", "display_name": "Mike S", "link": "https://stackoverflow.com/users/358980/mike-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541051496, "creation_date": 1541051496, "question_id": 53095827, "link": "https://stackoverflow.com/questions/53095827/wkwebview-how-to-know-if-something-was-blocked-by-setcontentblocker", "title": "WKWebView: how to know if something was blocked by setContentBlocker", "body": "<p>Depending on the rules as outlined <a href=\"https://developer.apple.com/documentation/safariservices/creating_a_content_blocker#//apple_ref/doc/uid/TP40016265\" rel=\"nofollow noreferrer\">here</a>, images, scripts, or css + more could be blocked, which could render the page useless. I would love to know if some element was blocked on the WKWebView, in which case I would display some kind of floating banner indicating as such to the user. Is it possible to know this without parsing the json myself and re-implementing the rules?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 3533, "user_id": 7842542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ed8ae4e61acb2b8c4919c096e4f5e5?s=128&d=identicon&r=PG&f=1", "display_name": "Malik", "link": "https://stackoverflow.com/users/7842542/malik"}, "edited": false, "score": 1, "creation_date": 1541051573, "post_id": 53095464, "comment_id": 93087834, "body": "share your <code>cellForRow</code> &amp; <code>didSelectRow</code> methods"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "reply_to_user": {"reputation": 3533, "user_id": 7842542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ed8ae4e61acb2b8c4919c096e4f5e5?s=128&d=identicon&r=PG&f=1", "display_name": "Malik", "link": "https://stackoverflow.com/users/7842542/malik"}, "edited": false, "score": 0, "creation_date": 1541052737, "post_id": 53095464, "comment_id": 93088183, "body": "code is already mention code link in my question  and i didnt use didselect method i take empty."}, {"owner": {"reputation": 1608, "user_id": 309046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84bc7800aaf70d4f0a2418041190e0b?s=128&d=identicon&r=PG&f=1", "display_name": "Satish", "link": "https://stackoverflow.com/users/309046/satish"}, "edited": false, "score": 0, "creation_date": 1541053124, "post_id": 53095464, "comment_id": 93088302, "body": "@Krishnakushwaha you should post your code here. I hope you know how to get help from others for free."}], "answers": [{"comments": [{"owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1541055901, "post_id": 53096527, "comment_id": 93089238, "body": "You don&#39;t need to do this. Table view gives this information for free. Read more about table views and how it reuse cells."}], "tags": [], "owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "is_accepted": false, "score": 0, "last_activity_date": 1541055654, "creation_date": 1541055654, "answer_id": 53096527, "question_id": 53095464, "link": "https://stackoverflow.com/questions/53095464/in-tableview-if-select-section-1-row-1-then-why-is-second-section-row-1-selecte/53096527#53096527", "title": "In tableview, if select section 1 row 1 then why is second section row 1 selected also?", "body": "<p>Finally resolve my problem. i just take two indexset array. if checkbutton tap by first section than i store addindex in nsmutable indexset arr1 and same thing for second section  after that i check condition </p>\n\n<pre><code>if ([self.arr1 containsIndex: indexPath.row]) {\n         [self.arr1 removeIndex: indexPath.row];\n     } else {\n         [self.arr1 addIndex:indexPath.row];\n     }\n       [_tblVScene reloadRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];\n\nif ([self.arr2 containsIndex: indexPath.row]) {\n         [self.arr2 removeIndex: indexPath.row];\n     } else {\n         [self.arr2 addIndex:indexPath.row];\n     }\n       [_tblVScene reloadRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1541055654, "creation_date": 1541048748, "last_edit_date": 1541050780, "question_id": 53095464, "link": "https://stackoverflow.com/questions/53095464/in-tableview-if-select-section-1-row-1-then-why-is-second-section-row-1-selecte", "title": "In tableview, if select section 1 row 1 then why is second section row 1 selected also?", "body": "<p>I used a cell tapped method with check button.\nIf I select the first section and first row then it automatically selects the second section first row. Meaning if you select any row then it is selecting the same row in another section. I don't understand why.</p>\n\n<p>I also tried section condition (<code>indexpath.section ==0</code>) or something another section condition. I have two arrays so I take manually 2 section and row will depend on the condition. </p>\n\n<pre><code>if(section ==0) { return arra1.count } else { return arr2.count }\n</code></pre>\n\n<p>Previously I followed <a href=\"https://stackoverflow.com/questions/52941938/how-to-add-checkboxes-button-in-uitableviewcell-objective-c/52942956?noredirect=1#comment92795992_52942956\">this</a> implementation. </p>\n\n<p><a href=\"https://i.stack.imgur.com/F2icK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2icK.png\" alt=\"select first section 1 row \"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LhlhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhlhM.png\" alt=\"see also select second section same row ?\"></a></p>\n"}, {"tags": ["ios", "objective-c", "json", "nsstring", "objective-c-category"], "answers": [{"tags": [], "owner": {"reputation": 40268, "user_id": 1298400, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee2c2af01b6b83f8010ccde5032947b0?s=128&d=identicon&r=PG", "display_name": "Jeffery Thomas", "link": "https://stackoverflow.com/users/1298400/jeffery-thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1541040732, "creation_date": 1541040732, "answer_id": 53094602, "question_id": 53094258, "link": "https://stackoverflow.com/questions/53094258/objective-c-is-it-good-practice-to-check-json-values-if-it-is-the-type-you-expe/53094602#53094602", "title": "Objective C: Is it good practice to check JSON values if it is the type you expect?", "body": "<p>I would say start by leaning into Objective-C's default handling of <code>nil</code>. In most cases, <code>nil</code> will do what you want without crashing. In contrast, <code>[NSNull null]</code> is poorly designed and a constant problem.</p>\n\n<pre><code>@interface NSObject (MyCasting)\n- (NSString *)stringOrNil;\n- (NSNumber *)numberOrNil;\n- (NSDictionary *)dictionaryOrNil;\n- (NSArray *)arrayOrNil;\n@end\n\n@implementation NSObject (MyCasting)\n\n- (NSString *)stringOrNil {\n    return [self isKindOfClass:NSString.class] ? (NSString *)self : nil;\n}\n\n- (NSNumber *)numberOrNil {\n    return [self isKindOfClass:NSNumber.class] ? (NSNumber *)self: nil;\n}\n\n- (NSDictionary *)dictionaryOrNil {\n    return [self isKindOfClass:NSDictionary.class] ? (NSDictionary *)self: nil;\n}\n\n- (NSArray *)arrayOrNil {\n    return [self isKindOfClass:NSArray.class] ? (NSArray *)self: nil;\n}\n\n@end\n</code></pre>\n\n<p>This will provide you with a good level of safety using <code>nil</code> as the default value.</p>\n\n<pre><code>+ (Email *)getEmailInfoWithDictionary:(id)dict {\n    Email *email = [[self alloc] init];\n    NSDictionary *dictionary = [dict dictionaryOrNil];\n\n    email.firstname = [dictionary[@\"firstname\"] stringOrNil];\n    email.lastname = [dictionary[@\"lastname\"] stringOrNil];\n\n    return email;\n}\n</code></pre>\n\n<p>If you feel you need the additional safety of object default values, then you can use the <code>?:</code> operator.</p>\n\n<pre><code>email.firstname = [dictionary[@\"firstname\"] stringOrNil] ?: \"\";\nemail.lastname = [dictionary[@\"lastname\"] stringOrNil] ?: \"\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1541045514, "last_edit_date": 1592644375, "creation_date": 1541045514, "answer_id": 53095105, "question_id": 53094258, "link": "https://stackoverflow.com/questions/53094258/objective-c-is-it-good-practice-to-check-json-values-if-it-is-the-type-you-expe/53095105#53095105", "title": "Objective C: Is it good practice to check JSON values if it is the type you expect?", "body": "<blockquote>\n<p>Is it a good idea to always check for null values regarding json values so this way you won't get crashes?</p>\n<p>Makes me wonder if I shouldn't worry about this and I should expect the API to return the correct values.</p>\n</blockquote>\n<p>Yes, definitely a good idea to check. Never assume that the data you obtain from a 3rd party is ever going to be what you expect. APIs change. Bugs happen. Code defensively whenever you deal with data that isn't 100% in your control. Better to show an error to the user or handle the unexpected data in some graceful manner than have your app crash because you expected a string and got a number or you got a single dictionary instead of an array of dictionary, etc.</p>\n<blockquote>\n<p>My second concern is the method I am using a good idea or is a there better way?</p>\n</blockquote>\n<p>There's no good answer here. Every use case is different. How you handle bad data depends on the data and how bad it is. For a simple case like a missing or invalid name, providing a default may or may not be appropriate. That's up to you and your app. It may be better to skip the record or show an error to the user. Or you choice of defaulting to some value is just fine if that makes sense for your situation.</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 53094602, "answer_count": 2, "score": 1, "last_activity_date": 1541045514, "creation_date": 1541037609, "question_id": 53094258, "link": "https://stackoverflow.com/questions/53094258/objective-c-is-it-good-practice-to-check-json-values-if-it-is-the-type-you-expe", "title": "Objective C: Is it good practice to check JSON values if it is the type you expect?", "body": "<p>Currently, I am checking if the JSON value is an <code>NSString</code> and if it isn't, assign the property a default string. This way I can prevent the app from crashing if the JSON value is <code>null</code> and I can return a User object with a default first name and last name.</p>\n\n<p>// User model</p>\n\n<pre><code>+ (Email *)getEmailInfoWithDictionary:(id)dict {\n  Email *email = [[self alloc] init];\n  if ([dict isKindOfClass:[NSDictionary class]]) {\n    user.firstname = [NSString checkType:dict[@\"firstname\"] defaultString:@\"John\"];\n    user.lastname = [NSString checkType:dict[@\"lastname\"] defaultString:@\"Smith\"];\n  }\n}\nreturn user;\n}\n</code></pre>\n\n<p>// NSString category method.</p>\n\n<pre><code>+ (NSString *)checkType:(id)obj defaultString:(NSString *)def {\n  if (obj == nil || ![obj isKindOfClass:[NSString class]]) {\n    return def;\n  }\n  return obj;\n}\n</code></pre>\n\n<p>I have a couple of concerns, however. Is it a good idea to always check for null values regarding json values so this way you won't get crashes? I've noticed some Objective C tutorials that don't do this. Makes me wonder if I shouldn't worry about this and I should expect the API to return the correct values. My second concern is the method I am using a good idea or is a there better way?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1541034921, "post_id": 53093647, "comment_id": 93084627, "body": "ARC will handle <code>make_objc_dictionary</code>. I&#39;m not 100% sure on ARC semantics of C style arrays since there is little reason to use them over an <code>NSArray</code>. It should be noted you cannot mix <code>C</code> and <code>Objective-C</code> since the latter is a strict superset of <code>C</code>; therefore <code>C</code> code is part of <code>Objective-C</code>."}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1541035140, "post_id": 53093647, "comment_id": 93084677, "body": "Some clarification: ARC will not handle anything you <code>malloc</code> (or similar). You must obey all standard <code>C</code> memory management rules. ARC only manages <code>retain</code> and <code>release</code> (and similar) messages to Objective-C objects. I <i>believe</i> it would handle your example just fine due to the fact that there is no allowed use of manual <code>release</code> under ARC. I <i>think</i> the objects in the C array will be released when the array goes out of scope and the array itself is on the stack and needs no memory management."}], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1541041957, "creation_date": 1541041957, "answer_id": 53094728, "question_id": 53093647, "link": "https://stackoverflow.com/questions/53093647/mix-c-and-objective-c-memory-management/53094728#53094728", "title": "Mix C and Objective-C Memory Management", "body": "<p>\"[M]ixing C and Objective-C\" is no different that programming in Objective-C. Objective-C <strong>includes</strong> C. There's nothing in any of your code snippets which is not Objective-C.</p>\n\n<p>ARC will do the right thing in your examples. ARC doesn't manage most non-object memory allocation. It doesn't manage CoreFoundation. It doesn't manager <code>malloc()</code> and similar functions.</p>\n\n<p>Another case where ARC can't help is if you create strong reference cycles.</p>\n\n<p>Finally, programs don't leak memory \"permanently\" \u2014 that is, after they've exited. If your program is about to exit, such as the <code>return</code> from <code>main()</code>, you don't need to worry about the memory you allocated because it will all be reclaimed by the operating system when your program terminates.</p>\n"}], "owner": {"reputation": 266, "user_id": 5843393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a42fbdf58aed0ae888b77f945b07a5f0?s=128&d=identicon&r=PG&f=1", "display_name": "Zhigang An", "link": "https://stackoverflow.com/users/5843393/zhigang-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 53094728, "answer_count": 1, "score": 0, "last_activity_date": 1541041957, "creation_date": 1541031808, "question_id": 53093647, "link": "https://stackoverflow.com/questions/53093647/mix-c-and-objective-c-memory-management", "title": "Mix C and Objective-C Memory Management", "body": "<p>1.\nConsidering the following code:</p>\n\n<pre><code>void make_objc_array()\n{\n    NSArray *array = [NSArray arrayWithObjects:@1, @2, nil];\n    NSLog(@\"%@\", array.lastObject);\n}\n\nvoid make_objc_dictionary()\n{\n    NSDictionary *dictionary = [NSDictionary dictionaryWithObjectsAndKeys:@1, @\"1\", @2, @\"2\", nil];\n    NSLog(@\"%@\", dictionary[@\"2\"]);\n}\n\nint main(int argc, const char * argv[])\n{\n    @autoreleasepool {\n        make_objc_array();\n    }\n    make_objc_dictionary();\n    return 0;\n}\n</code></pre>\n\n<p>Does <code>make_objc_dictionary();</code> function call leaks <code>NSDictionary</code> object since it is outside <code>@autorelease</code> block?</p>\n\n<p>2.\nConsider this code snippet:</p>\n\n<pre><code>- (void)someMethod\n{\n    NSNumber *num[2] = {@1, @2};\n    ...\n}\n</code></pre>\n\n<p>For memory management, is there anything I need to do for an <code>NSObject</code> C array, or ARC will do the correct thing? Or is there any case ARC would not work when mixing C and Objective-C?</p>\n"}]