[{"tags": ["objective-c", "swift", "static-libraries", "bridging-header", "swift-framework"], "answers": [{"tags": [], "owner": {"reputation": 10468, "user_id": 1561937, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YGsbo.jpg?s=128&g=1", "display_name": "Alexey Strakh", "link": "https://stackoverflow.com/users/1561937/alexey-strakh"}, "is_accepted": false, "score": 2, "last_activity_date": 1570145287, "creation_date": 1570145287, "answer_id": 58228097, "question_id": 58210328, "link": "https://stackoverflow.com/questions/58210328/access-pre-compiled-swift-framework-from-an-objectivec-static-library/58228097#58228097", "title": "Access pre-compiled Swift.Framework from an ObjectiveC Static Library", "body": "<p>Turned out that because the 3d party SDK <code>SomeCoolSwiftFramework</code> wasn't following rules to properly expose required classes to be used by ObjC, the header generated didn't have required declarations and I wasn't able to see them. </p>\n\n<p>The rules for Swift members to be used by ObjC are:</p>\n\n<ul>\n<li>a class or member marked with <code>public</code></li>\n<li>a class inherits <code>NSObject</code></li>\n<li>a class marked with <code>objc(&lt;name&gt;)</code></li>\n<li>a member marked with <code>objc</code></li>\n</ul>\n\n<p>To overcome this limitation of the 3d party framework I've created my own swift framework <code>SomeCoolSwiftFrameworkProxy</code> with the 3d party dependency, exposed all the API required by my code, applied rules above and made sure that the <code>SomeCoolSwiftFrameworkProxy-Swift.h</code> is properly generated and has the required declarations. Once it's completed, I was able to import the generated <code>SomeCoolSwiftFrameworkProxy-Swift.h</code> file in my ObjC Static Library (or anywhere else in my ObjC code) and access the required proxy classes/methods. </p>\n\n<p>My proxy Swift framework declaration is below:</p>\n\n<pre><code>import Foundation;\nimport SomeCoolSwiftFramework;\n\n@objc(SomeCoolSwiftFrameworkProxy)\npublic class SomeCoolSwiftFrameworkProxy : NSObject {\n\n    @objc\n    public func init() {\n        // access 3d party SDK methods/classes\n        SomeCoolSwiftFrameworkClass.sharedInstance.init()\n    }\n}\n</code></pre>\n\n<p>I've found <a href=\"https://jayeshkawli.ghost.io/importing-swift-classes-in-objective-c-classes-some-gotchas/\" rel=\"nofollow noreferrer\">this blog post</a> which answers my question</p>\n"}], "owner": {"reputation": 10468, "user_id": 1561937, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YGsbo.jpg?s=128&g=1", "display_name": "Alexey Strakh", "link": "https://stackoverflow.com/users/1561937/alexey-strakh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1570145287, "creation_date": 1570057026, "question_id": 58210328, "link": "https://stackoverflow.com/questions/58210328/access-pre-compiled-swift-framework-from-an-objectivec-static-library", "title": "Access pre-compiled Swift.Framework from an ObjectiveC Static Library", "body": "<p>I have a 3d party pre-compiled swift framework, let's call it <code>SomeCoolSwiftFramework</code> (no source code access, just the framework) which I need to use in my own Objective-C static library (it's a requirement in my scenario). I've created an Objective-C static library, let's call it <code>MyCoolObjCLibrary</code>, drag-and-dropped there the framework and created a new class where I want to use the framework:</p>\n\n<pre><code>@import Foundation;\n@import SomeCoolSwiftFramework;\n#import &lt;SomeCoolSwiftFramework/SomeCoolSwiftFramework-Swift.h&gt;\n#import \"MyCoolObjCLibrary.h\"\n\n\n@implementation MyCoolObjCLibrary\n\n- testMe: NSString {\n    // I want to access classes from SomeCoolSwiftFramework here but cannot see them.\n    // `SomeCoolSwiftFramework` is not accessible here\n    return @\"ObjC Value\";\n}\n\n@end\n</code></pre>\n\n<p>If instead of creating an ObjC static lib, I switch to a swift static lib, it works fine, I can see the required classes and methods. But in my case, I forced to go with an ObjC static library so want to understand how I can access the swift framework from the static library.</p>\n\n<p>Did I miss any steps while adding a dependency on the 3d part framework?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1570095102, "post_id": 58209645, "comment_id": 102808598, "body": "Why you market it public then?"}, {"owner": {"reputation": 6210, "user_id": 650288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/J4Qag.jpg?s=128&g=1", "display_name": "bclymer", "link": "https://stackoverflow.com/users/650288/bclymer"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1570198344, "post_id": 58209645, "comment_id": 102848919, "body": "@Cy-4AH I&#39;ve clarified by removing <code>public</code> from the question. In that context, <code>public</code> is declaring that it is visible outside of its module. It has no relation to whether or not it should be exposed to Objective-C via the generated header.   But just in case I did validate that after removing <code>public</code> in this specific example, it does still appear in the generated header."}, {"owner": {"reputation": 4808, "user_id": 1289480, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8991526a4c0b0743e0d8cad5bf65ce7f?s=128&d=identicon&r=PG", "display_name": "SaintTail", "link": "https://stackoverflow.com/users/1289480/sainttail"}, "edited": false, "score": 0, "creation_date": 1608651228, "post_id": 58209645, "comment_id": 115644721, "body": "I think you can&#39;t make it @nonobjc if you have one of your method with @objc. This is always true when you create a custom <code>UIButton</code> or <code>UIGesstureRecognizer</code> and need a method to respond to those actions."}], "owner": {"reputation": 6210, "user_id": 650288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/J4Qag.jpg?s=128&g=1", "display_name": "bclymer", "link": "https://stackoverflow.com/users/650288/bclymer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1570220603, "creation_date": 1570051904, "last_edit_date": 1570198351, "question_id": 58209645, "link": "https://stackoverflow.com/questions/58209645/prevent-swift-files-from-being-exposed-to-the-objective-c-generated-interface-he", "title": "Prevent Swift files from being exposed to the Objective-C Generated Interface Header", "body": "<p>Is it possible to explicitly declare that a Swift source file isn't included in the Objective-C Generated Interface Header? As an example, let's say I have this Swift class</p>\n\n<pre><code>class MyViewController: UIViewController {\n}\n</code></pre>\n\n<p>In my <code>MyApp-Swift.h</code> generated header, I see this</p>\n\n<pre><code>SWIFT_CLASS(\"_TtC4MyApp16MyViewController\")\n@interface MyViewController : UIViewController\n- (nonnull instancetype)initWithNibName:(NSString * _Nullable)nibNameOrNil bundle:(NSBundle * _Nullable)nibBundleOrNil OBJC_DESIGNATED_INITIALIZER;\n- (nullable instancetype)initWithCoder:(NSCoder * _Nonnull)coder OBJC_DESIGNATED_INITIALIZER;\n@end\n</code></pre>\n\n<p>However I would prefer this class isn't exposed to Objective-C. I'm working in a larger app, and our generated <code>-Swift.h</code> file is well over 8,000 lines. This ends up making incremental builds painful when something that should only require a recompilation of the Swift code ends up causing a recompilation of the Objective-C code as well simply because this header file changed.</p>\n\n<p><code>@nonobjc</code> sadly does not work. I receive the error <code>'@nonobjc' attribute cannot be applied to this declaration</code>. </p>\n"}, {"tags": ["ios", "objective-c", "swift", "jailbreak"], "comments": [{"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1570046372, "post_id": 58208408, "comment_id": 102795044, "body": "How do you know it detects jb through <code>canOpenUrl</code>? Maybe renaming <code>&#47;Applications&#47;Cydia.app</code> to sth else would be enough. Anyway look up <code>DYLD_INSERT_LIBRARIES</code>"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 3055737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075c9d5071a8adc70731e31249f146de?s=128&d=identicon&r=PG&f=1", "display_name": "karajan", "link": "https://stackoverflow.com/users/3055737/karajan"}, "is_accepted": true, "score": 0, "last_activity_date": 1571224455, "creation_date": 1571224455, "answer_id": 58411998, "question_id": 58208408, "link": "https://stackoverflow.com/questions/58208408/ios-how-to-avert-listing-of-the-installed-apps/58411998#58411998", "title": "iOS - How to avert listing of the installed apps?", "body": "<p>After researching for a while,I have figured out what happens behind the scene.</p>\n\n<p><strong>The Truth:</strong></p>\n\n<p>The game detects \"illegal\" users by jailbreak-dection, rather than by retrieving the list of installed apps.</p>\n\n<p><strong>Details:</strong></p>\n\n<p>I pulled the game executable from iPhone to IDA, and searched in the function window with keyword 'jail'.The result showed that there's a method called <strong>+[PmangPlus deviceJailbroken]</strong>. Basically the method checked several files(including /Applications/Cydia.app,/Applications/RockApp.app,/Applications/Icy.app and so on),if either of these files exist,the method will return @\"Y\", otherwise @\"N\".</p>\n\n<p>Then I wrote a substrate tweak to bypass this detection,and it worked.This works by hooking the method and returns @\"N\".</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 12155818, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAvMp6ZA1UW1fIrAy7Wu2Pn_nPhZHhAldb-kB4H=k-s128", "display_name": "Display Name", "link": "https://stackoverflow.com/users/12155818/display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 58411998, "answer_count": 1, "score": 0, "last_activity_date": 1571224455, "creation_date": 1570045615, "question_id": 58208408, "link": "https://stackoverflow.com/questions/58208408/ios-how-to-avert-listing-of-the-installed-apps", "title": "iOS - How to avert listing of the installed apps?", "body": "<p>I have an iOS device with Undecimus installed. When I try to launch a non-jailbreak-specific game, Tapsonic TOP, it somehow reads my application list and says \"Illegal program detected\" and exits itself. I tried this with and without jailbreaking, and I did have tweaks to hide jailbreak detection, so it is not likely a jailbreak problem.</p>\n\n<p>I've searched on StackOverflow to see how this is possible. One of the ways is to read the applications folder to retrieve a file list, and another way is to keep a whitelist of apps and use <code>canOpenUrl</code> to check the existence of each app.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49125777/is-it-possible-to-get-installed-apps-in-ios/49125960\">Is it possible to get installed apps in ios</a></p>\n\n<p>Is it possible to modify the system so that it returns a list of only the system app directories when reading the application folder without SU permission, and always return false when checking <code>canOpenUrl</code>?</p>\n"}, {"tags": ["ios", "objective-c", "uikeyboard", "ios13", "becomefirstresponder"], "comments": [{"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1570044463, "post_id": 58207419, "comment_id": 102794178, "body": "any chance  that this is rendered as a pop up / not full screen mode?"}, {"owner": {"reputation": 386, "user_id": 2262560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7dsZ.jpg?s=128&g=1", "display_name": "Pepper", "link": "https://stackoverflow.com/users/2262560/pepper"}, "reply_to_user": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1570045329, "post_id": 58207419, "comment_id": 102794570, "body": "@AnjulaS. Nope, it&#39;s from the main ViewController that is being rendered fullscreen :("}, {"owner": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1570048277, "post_id": 58207419, "comment_id": 102795761, "body": "Just did a sample app in Obj-C in Xcode11 with iOS 13.0 -- keyboard seems to render, come and go perfectly.  Are you seeing this in a device or a simulator?  If device, is it possible you are running a custom keyboard that has issues?"}, {"owner": {"reputation": 386, "user_id": 2262560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7dsZ.jpg?s=128&g=1", "display_name": "Pepper", "link": "https://stackoverflow.com/users/2262560/pepper"}, "reply_to_user": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1570051283, "post_id": 58207419, "comment_id": 102796760, "body": "@DavidS. Nope, is the plain old regular iOS keyboard. There ain&#39;t even a direct reference to it in the code, it just appears when calling for [textview becomeFirstResponder]"}, {"owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "edited": false, "score": 0, "creation_date": 1570110491, "post_id": 58207419, "comment_id": 102816884, "body": "Any chance you should add it as a 3rd party keyboard in settings? Settings &gt; General &gt; Keyboard &gt; Keyboards &gt; Add New Keyboard &gt; 3rd party keyboards"}, {"owner": {"reputation": 386, "user_id": 2262560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7dsZ.jpg?s=128&g=1", "display_name": "Pepper", "link": "https://stackoverflow.com/users/2262560/pepper"}, "reply_to_user": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "edited": false, "score": 0, "creation_date": 1570136733, "post_id": 58207419, "comment_id": 102828790, "body": "@summerfinn3 No, it should be working with the default keyboard. Is not a special keyboard at all, just the system one."}], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 2262560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7dsZ.jpg?s=128&g=1", "display_name": "Pepper", "link": "https://stackoverflow.com/users/2262560/pepper"}, "is_accepted": true, "score": 1, "last_activity_date": 1570365326, "creation_date": 1570365326, "answer_id": 58257287, "question_id": 58207419, "link": "https://stackoverflow.com/questions/58207419/ios-13-update-broke-my-apps-keyboard-on-its-first-display/58257287#58257287", "title": "iOS 13 update broke my app&#39;s keyboard on its first display", "body": "<p>So... this old project had a library called UI7Kit into its Pods, which was causing this weird mess. I just had to delete the references to it into the Podfile (as it's not necessary anymore anyway), and reinstall Pods. I'm leaving this answer in case somebody has the same issue in the future with an old project. Thanks to everyone who tried to help!</p>\n"}], "owner": {"reputation": 386, "user_id": 2262560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7dsZ.jpg?s=128&g=1", "display_name": "Pepper", "link": "https://stackoverflow.com/users/2262560/pepper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 58257287, "answer_count": 1, "score": 0, "last_activity_date": 1570365326, "creation_date": 1570041283, "last_edit_date": 1570074533, "question_id": 58207419, "link": "https://stackoverflow.com/questions/58207419/ios-13-update-broke-my-apps-keyboard-on-its-first-display", "title": "iOS 13 update broke my app&#39;s keyboard on its first display", "body": "<p>I'm updating an app developed for iOS 8 (kinda old), but I'm having issues on the first time the keyboard is being displayed after recent iOS 13 update:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VhGKy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VhGKy.jpg\" alt=\"Capture of the bug.\"></a></p>\n\n<p>Keyboard appears as an effect of calling [textfield becomeFirstResponder], regardless if it's being called explicitly in the code (into the viewDidLoad method) or implicitly when the field is tapped, but only occurs the first time it appears after the view itself appears. I'm \"solving\" it calling [textfield becomeFirstResponder] and [textfield resignFirstResponder] on the viewWillAppear method, but that's a poorly designed patch and I'm looking for a real solution. Any idea of what can be happening? Thanks in advance! </p>\n\n<p>UPDATE: it seems to also turn blue when pressing the shift key in the keyboard too. It's not a custom keyboard.</p>\n\n<p>UPDATE 2: this happens both in emulator and device.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "deep-linking"], "owner": {"reputation": 21, "user_id": 12154875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j5B94VQhhsQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rekHvxArvj7hGoC6qvPyIt9IONSvA/photo.jpg?sz=128", "display_name": "Paulo Mendes", "link": "https://stackoverflow.com/users/12154875/paulo-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570155759, "creation_date": 1570037768, "last_edit_date": 1570155759, "question_id": 58206540, "link": "https://stackoverflow.com/questions/58206540/objc-firebase-dynamic-links-only-working-through-browser", "title": "ObjC Firebase Dynamic Links only working through browser", "body": "<p>I've setup Dynamic Links on the firebase console but they only work correctly if I go through the browser (eg Safari). When I click the url and it goes directly to the app it does not open the intended page.</p>\n\n<p>Here's how I'm testing it (on a real device):</p>\n\n<ol>\n<li>I pasted the short URL link from firebase to the notes app.</li>\n<li>I did a long press and opened on Safari\n2.1 After the page loads I press \"Open\" and the app correctly launches on the desired page.</li>\n<li>Then I went back to the Notes App, did a long press and selected \"Open with App\"</li>\n</ol>\n\n<p>On this 3rd step the App does not launch on the desired page.</p>\n\n<p>The reason is because when I launch on a browser it does a request to firebase and it returns the URL with all the parameters, but when it goes directly to the app it does not do the request.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application continueUserActivity:(nonnull NSUserActivity *)userActivity restorationHandler:\n#if defined(__IPHONE_12_0) &amp;&amp; (__IPHONE_OS_VERSION_MAX_ALLOWED &gt;= __IPHONE_12_0)\n(nonnull void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; *_Nullable))restorationHandler {\n#else\n(nonnull void (^)(NSArray *_Nullable))restorationHandler {\n#endif  // __IPHONE_12_0\n\n    BOOL handled = [[FIRDynamicLinks dynamicLinks] handleUniversalLink:userActivity.webpageURL\n                                                                completion:^(FIRDynamicLink * _Nullable dynamicLink,\n                                                                             NSError * _Nullable error) {\n                                                                    NSString *quickActionLinker = [Properties getStringValue:@\"quickActionsLinker\"];\n                                                                    NSString *action = [dynamicLink.url absoluteString];\n                                                                    [QuickActionsHandler handleQuickAction:quickActionLinker fromCode:[action componentsSeparatedByString:@\"https://\"][1] main:self.main];\n                                                                }];      \n    return handled;\n}\n</code></pre>\n\n<p>When launching through the browser, dynamicLink.url returns a string, but when directly launching the app it returns nil. </p>\n\n<p>Is there a way to do the request without going through a browser?</p>\n"}, {"tags": ["objective-c", "interface"], "comments": [{"owner": {"reputation": 2385, "user_id": 1009270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33fcdc9c0604cf69abb15e17840d2a3c?s=128&d=identicon&r=PG", "display_name": "john elemans", "link": "https://stackoverflow.com/users/1009270/john-elemans"}, "edited": false, "score": 0, "creation_date": 1570037791, "post_id": 58206222, "comment_id": 102791218, "body": "you are on the right track but &quot;self.CarMotorCode;&quot; is the wrong syntax. you need; self-&gt;CarMotorCode"}, {"owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "reply_to_user": {"reputation": 2385, "user_id": 1009270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33fcdc9c0604cf69abb15e17840d2a3c?s=128&d=identicon&r=PG", "display_name": "john elemans", "link": "https://stackoverflow.com/users/1009270/john-elemans"}, "edited": false, "score": 1, "creation_date": 1570038088, "post_id": 58206222, "comment_id": 102791355, "body": "@johnelemans would you please let me know the difference between both notation? is it becase we are referencing a private varible?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1570041734, "post_id": 58206222, "comment_id": 102792963, "body": "The dot notation is syntactic sugar that provides convenient access to a property\u2019s accessor methods. The <code>-&gt;</code> is used if you need to dereference the ivars of some object. (Note, if using ivars, you can use <code>self-&gt;motorCode</code>, or you generally can just omit the <code>self-&gt;</code> part and use <code>motorCode</code> directly. But it\u2019s advisable to use properties with the dot syntax, anyway.)"}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1570152154, "last_edit_date": 1570152154, "creation_date": 1570038812, "answer_id": 58206805, "question_id": 58206222, "link": "https://stackoverflow.com/questions/58206222/how-to-reference-member-variable-in-the-implementation-file/58206805#58206805", "title": "How to reference member variable in the implementation file", "body": "<p>You have declared instance variables (ivars). To get the \u201cdot syntax\u201d, you need to declare properties. The \u201cdot syntax\u201d is syntactic sugar that makes use of the \u201caccessor methods\u201d that are synthesized for you when you declare a property. (FWIW, it\u2019s advised to not declare ivars manually, anyway, and rather to declare properties and let the compiler synthesize the necessary ivars. See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/DefiningClasses/DefiningClasses.html#//apple_ref/doc/uid/TP40011210-CH3-SW7\" rel=\"nofollow noreferrer\">Programming with Objective-C: Properties Control Access to an Object\u2019s Values</a> and <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-SW4\" rel=\"nofollow noreferrer\">Practical Memory Management: Use Accessor Methods to Make Memory Management Easier</a>.)</p>\n\n<p>Thus:</p>\n\n<pre><code>@interface Car2: NSObject\n@property (nonatomic, copy) NSString *motorCode;\n@property (nonatomic, copy) NSString *chassisCode;\n\n- (id)initWithMotorCode:(NSString *)motorCode chassisCode:(NSString *)chassisCode;\n\n@end\n</code></pre>\n\n<p>And your <code>init</code> method might look like:</p>\n\n<pre><code>@implementation Car2\n\n- (id)initWithMotorCode:(NSString *)motorCode chassisCode:(NSString *)chassisCode {\n    if ((self = [super init])) {\n        _motorCode = [motorCode copy];\n        _chassisCode = [chassisCode copy];\n    }\n    return self;\n}\n\n@end\n</code></pre>\n\n<p>That will synthesize ivars <code>_motorCode</code> and <code>_chassisCode</code> for you behind the scenes, but you generally wouldn\u2019t interact directly with them (except in <code>init</code> method, in which case you should avoid accessing properties). But in the rest of your instance methods, you could just use the properties <code>self.motorCode</code> and <code>self.chassisCode</code>.</p>\n\n<p>A few unrelated notes:</p>\n\n<ul>\n<li><p>I dropped the <code>car</code> prefix in your property names. It seems redundant to include that prefix when dealing with a car object.</p></li>\n<li><p>I start my property names with lowercase letter as a matter of convention.</p></li>\n<li><p>I changed the <code>init</code> method signature to better mirror the property names (e.g. not <code>initWithMotorValue</code> but rather <code>initWithMotorCode</code>).</p></li>\n<li><p>Alternatively, you might use the <code>strong</code> memory qualifier rather than <code>copy</code>. E.g.</p>\n\n<pre><code>@interface Car2: NSObject\n@property (nonatomic, strong) NSString *motorCode;\n@property (nonatomic, strong) NSString *chassisCode;\n\n- (id)initWithMotorCode:(NSString *)motorCode chassisCode:(NSString *)chassisCode;\n@end\n</code></pre>\n\n<p>And</p>\n\n<pre><code>- (id)initWithMotorCode:(NSString *)motorCode chassisCode:(NSString *)chassisCode {\n    if ((self = [super init])) {\n        _motorCode = motorCode;\n        _chassisCode = chassisCode;\n    }\n    return self;\n}\n</code></pre>\n\n<p>But we often use <code>copy</code> to protect us against someone passing a <code>NSMutableString</code> as one of these properties and then mutating it behind our back. But this is up to you.</p></li>\n<li><p>You defined <code>chassisCode</code> to be a string in your ivar declaration, but as an <code>NSInteger</code> in your init method signature. Obviously, if it\u2019s an <code>NSInteger</code>, change both accordingly:</p>\n\n<pre><code>@interface Car2: NSObject\n@property (nonatomic, copy) NSString *motorCode;\n@property (nonatomic) NSInteger chassisCode;\n\n- (id) initWithMotorCode:(NSString *)motorCode chassisCode:(NSInteger)chassisCode;\n\n@end\n</code></pre>\n\n<p>and</p>\n\n<pre><code>- (id)initWithMotorCode:(NSString *)motorCode chassisCode:(NSInteger)chassisCode {\n    if ((self = [super init])) {\n        _motorCode = [motorCode copy];\n        _chassisCode = chassisCode;\n    }\n    return self;\n}\n</code></pre></li>\n<li><p>If you\u2019re wondering why I didn\u2019t use the property accessor methods in the <code>init</code> method, please see <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-SW6\" rel=\"nofollow noreferrer\">Practical Memory Management: Don\u2019t Use Accessor Methods in Initializer Methods and dealloc</a>.</p></li>\n</ul>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570152154, "creation_date": 1570036373, "last_edit_date": 1570040309, "question_id": 58206222, "link": "https://stackoverflow.com/questions/58206222/how-to-reference-member-variable-in-the-implementation-file", "title": "How to reference member variable in the implementation file", "body": "<p>I am learning Objective-C and I am trying to split the class definition from the implementation as shown below.\nNow in the code I want to reference the both of: </p>\n\n<pre><code>NSString *CarMotorCode;\nNSString *CarChassisCode;\n</code></pre>\n\n<p>In the implementation file. I attempted to use:</p>\n\n<pre><code>self.CarMotorCode;\nself.CarChassisCode;\n</code></pre>\n\n<p>But it does not work. Would you please let me know how to reference it.</p>\n\n<p><strong>Note</strong>: please let me know what is the right naming convention for the variables enclosed inside the brackets in the implementation section? Are they member variables?</p>\n\n<p><strong>Car2.m</strong>:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"Car2.h\"\n\n@implementation Car2\n\n-(id) initWithMotorValue:(NSString *)motorCode andChassingValue:(NSInteger)ChassisCode {\n    self\n}\n\n@end\n</code></pre>\n\n<p><strong>Car2.h</strong></p>\n\n<pre><code>#ifndef Car2_h\n#define Car2_h\n\n@interface Car2 : NSObject {\n    NSString *CarMotorCode;\n    NSString *CarChassisCode;\n}\n\n-(id) initWithMotorValue: (NSString *) motorCode andChassingValue: (NSInteger) ChassisCode;\n-(void) startCar;\n-(void) stopCrar;\n\n@end\n\n#endif /* Car2_h */\n</code></pre>\n"}, {"tags": ["objective-c", "multithreading", "ios13", "ios-multithreading"], "comments": [{"owner": {"reputation": 2034, "user_id": 1007303, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/affa8195b52419bcf7cffb5cf4b82681?s=128&d=identicon&r=PG", "display_name": "Gene Z. Ragan", "link": "https://stackoverflow.com/users/1007303/gene-z-ragan"}, "edited": false, "score": 2, "creation_date": 1570035763, "post_id": 58205936, "comment_id": 102790297, "body": "If there was a change in iOS 13, it was a change that no longer allowed your program to get away with some unsafe behavior. An existing error in your code is now causing a crash. Have you tried enablling Runtime Sanitization in the Diagnostics section of your project? <a href=\"https://developer.apple.com/documentation/code_diagnostics/address_sanitizer/enabling_the_address_sanitizer\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/code_diagnostics/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 8514562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29bd270df2f9ba7eb8c717cf1255a5d?s=128&d=identicon&r=PG&f=1", "display_name": "\uc2e0\ud55c\uc2ac", "link": "https://stackoverflow.com/users/8514562/%ec%8b%a0%ed%95%9c%ec%8a%ac"}, "edited": false, "score": 0, "creation_date": 1570048805, "post_id": 58206607, "comment_id": 102795938, "body": "You saved my day. You were on the spot. I was actually updating UIWindow from the background thread. I just dispatched it to the mainThread and It&#39;s working now. Thanx again"}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 8, "last_activity_date": 1570041330, "last_edit_date": 1570041330, "creation_date": 1570038031, "answer_id": 58206607, "question_id": 58205936, "link": "https://stackoverflow.com/questions/58205936/multithreaded-rendering-only-crashes-on-ios-13/58206607#58206607", "title": "Multithreaded rendering only crashes on iOS 13", "body": "<p>As Gene said, the issue is that previous versions of iOS wouldn\u2019t stop when you incorrectly interacted with the UI from a background thread. iOS 13 will. </p>\n\n<p>To help identifying the issue, go to \u201cEditor\u201d \u00bb \u201cScheme\u201d \u00bb \u201cEdit Scheme...\u201d and then check \u201cMain Thread Checker\u201d. If you tap on the right arrow next to this, it will even create a breakpoint for issues, where it will stop execution at the line at which you are trying to update the UI from a background thread:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l5SdY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/l5SdY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 159, "user_id": 8514562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29bd270df2f9ba7eb8c717cf1255a5d?s=128&d=identicon&r=PG&f=1", "display_name": "\uc2e0\ud55c\uc2ac", "link": "https://stackoverflow.com/users/8514562/%ec%8b%a0%ed%95%9c%ec%8a%ac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "accepted_answer_id": 58206607, "answer_count": 1, "score": 6, "last_activity_date": 1570041330, "creation_date": 1570035039, "question_id": 58205936, "link": "https://stackoverflow.com/questions/58205936/multithreaded-rendering-only-crashes-on-ios-13", "title": "Multithreaded rendering only crashes on iOS 13", "body": "<p>In my game engine, I have an option to enable the multithreaded rendering.\nIn iOS 12 (and below) my app did not crash.</p>\n\n<p>I have not changed anything in my code, but it crashes on iOS 13.</p>\n\n<pre><code>2019-10-02 11:36:07.931 SimpleGame[293:11150] ---&gt; (Inner Exception #0) Foundation.MonoTouchException: Objective-C exception thrown.  Name: NSInternalInconsistencyException Reason: threading violation: expected the main thread\n\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    0   CoreFoundation                      0x00000001aace1c44 97285ACB-7B21-393A-ABF6-03F1DBB5D2A2 + 1256516\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    1   libobjc.A.dylib                     0x00000001aa9fc0c8 objc_exception_throw + 60\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    2   CoreFoundation                      0x00000001aabde75c 97285ACB-7B21-393A-ABF6-03F1DBB5D2A2 + 194396\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    3   Foundation                          0x00000001ab01f960 672CF0CB-4951-3B91-89DF-55E953AEA00F + 571744\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    4   FrontBoardServices                  0x00000001afe9791c 124B166D-3905-3F51-A46A-646AE3424213 + 366876\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    5   FrontBoardServices                  0x00000001afe4a288 124B166D-3905-3F51-A46A-646AE3424213 + 49800\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    6   UIKitCore                           0x00000001ae51a87c 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 1915004\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    7   UIKitCore                           0x00000001ae517554 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 1901908\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    8   UIKitCore                           0x00000001ae5177b4 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 1902516\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    9   UIKitCore                           0x00000001aeface14 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 13000212\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    10  UIKitCore                           0x00000001aedaf02c 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 10911788\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    11  UIKitCore                           0x00000001aedaff00 55D60569-DBB7-3BC9-8A97-DCAC95C64D4B + 10915584\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    12  \nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    22  SimpleGame                   0x000000010487c2a4 World_FlushRenderWorkQueue_private + 2577804\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    23  SimpleGame                   0x00000001048b45e8 World_FlushRenderWorkQueue_private + 2808016\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    24  SimpleGame                   0x00000001048b54c0 World_FlushRenderWorkQueue_private + 2811816\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    25  SimpleGame                   0x00000001051d7198 World_FlushRenderWorkQueue_private + 12387456\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    26  SimpleGame                   0x000000010503c058 World_FlushRenderWorkQueue_private + 10703680\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    27  SimpleGame                   0x000000010503b774 World_FlushRenderWorkQueue_private + 10701404\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    28  SimpleGame                   0x00000001051d5400 World_FlushRenderWorkQueue_private + 12379880\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    29 SimpleGame                   0x000000010487d904 World_FlushRenderWorkQueue_private + 2583532\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    30  SimpleGame                   0x000000010487c2a4 World_FlushRenderWorkQueue_private + 2577804\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    31  SimpleGame                   0x000000010487c038 World_FlushRenderWorkQueue_private + 2577184\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    32  SimpleGame                   0x000000010487da00 World_FlushRenderWorkQueue_private + 2583784\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    33  SimpleGame                   0x00000001047081a8 World_FlushRenderWorkQueue_private + 1053840\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    34  SimpleGame                   0x0000000105bb1434 World_FlushRenderWorkQueue_private + 22718236\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    35  SimpleGame                   0x0000000105c18dd4 World_FlushRenderWorkQueue_private + 23142588\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    36  PSimpleGame                   0x0000000105c44080 World_FlushRenderWorkQueue_private + 23319400\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    37  libsystem_pthread.dylib             0x00000001aa9ecd5c _pthread_start + 128\nOct  2 09:57:48 GL04207-MT SimpleGame[923] &lt;Notice&gt;:    38  libsystem_pthread.dylib             0x00000001aa9f4c84 thread_start + 8\n</code></pre>\n\n<p>When I disable the multithreaded rendering option, it did not crash.\nThere must be a change in the threading system in iOS 13, but could not find anything from their documetation.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "thermal-printer"], "comments": [{"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1570033809, "post_id": 58204517, "comment_id": 102789398, "body": "Are you sure you have set up the driver with the right character set? It looks as if it is using other character set than Big-5."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1570037883, "post_id": 58204517, "comment_id": 102791263, "body": "Your Objective-C sample code uses the <code>kCFStringEncodingDOSChineseSimplif</code> encoding, that would be <code>CFStringEncodings.dosChineseSimplif</code> in Swift, not <code>CFStringEncodings.big5</code>."}, {"owner": {"reputation": 46, "user_id": 3476380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab26d51fae3d65947c0d0b7ff9875f6?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/3476380/angeline"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1570040061, "post_id": 58204517, "comment_id": 102792210, "body": "@OOPer driver as in printer&#39;s driver? We are connecting the thermal printer via LAN. No drivers needed other than importing its SDK into the project."}, {"owner": {"reputation": 46, "user_id": 3476380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab26d51fae3d65947c0d0b7ff9875f6?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/3476380/angeline"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1570040232, "post_id": 58204517, "comment_id": 102792290, "body": "@MartinR Correct but I was requested to replace <code>kCFStringEncodingDOSChineseSimplif</code> with the relevant supported encoding."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1570042524, "post_id": 58204517, "comment_id": 102793360, "body": "@Angeline: Both your methods convert the string &quot;\u4eba&quot; to the bytes <code>0xA4, 0x48</code> which is the correct Big 5 encoding. Your method of creating the pointer is far too complicated, but produces the correct result. If the printer output is wrong then the  encoding is wrong or problem must be somewhere else."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1570042657, "post_id": 58204517, "comment_id": 102793422, "body": "I mean the SDK. Check the SDK documentation how you can set character encoding."}, {"owner": {"reputation": 46, "user_id": 3476380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab26d51fae3d65947c0d0b7ff9875f6?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/3476380/angeline"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1570072515, "post_id": 58204517, "comment_id": 102800808, "body": "@MartinR thanks for confirming the encoded Big5 bytes and pointer created are producing the correct result. Issue could be the printer is expecting one of the Big5&#39;s encoding variant instead of just Big5. Tricky tricky."}], "owner": {"reputation": 46, "user_id": 3476380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bab26d51fae3d65947c0d0b7ff9875f6?s=128&d=identicon&r=PG&f=1", "display_name": "Angeline", "link": "https://stackoverflow.com/users/3476380/angeline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570029541, "creation_date": 1570029541, "question_id": 58204517, "link": "https://stackoverflow.com/questions/58204517/what-is-the-correct-process-of-encoding-a-non-latin-string-and-convert-it-to-uns", "title": "What is the correct process of encoding a non-Latin string and convert it to UnsafeMutablePointer&lt;UInt8&gt;?", "body": "<p>I'm trying to print Simplified Chinese string using <strong>Fujitsu FP-2100</strong> thermal printer but the result doesn't match the original input. </p>\n\n<p>Fujitsu iOS SDK(Obj-C) doesn't support Unicode and only supports <strong>BIG5</strong> code and <strong>GB</strong> code encoding. No mention of specific variants.</p>\n\n<p>A method provided by the SDK requires the non-Latin string to be encoded and be passed to the thermal printer as <code>UnsafeMutablePointer&lt;UInt8&gt;</code> for printing.</p>\n\n<p>To check if I've encoded it correctly, the string was, first, converted to Data using Big5 encoding and later converted back to string. And it was printed on console correctly.</p>\n\n<p>However, I suppose something went wrong somewhere when I tried to convert it to <code>UnsafeMutablePointer&lt;UInt8&gt;</code>.</p>\n\n<p>SDK method: <code>printer.printText(bytetext: UnsafeMutablePointer&lt;UInt8&gt;!&gt;, length: Int32)</code></p>\n\n<p><strong>Example code provided by their support (untested by them):</strong></p>\n\n<pre><code>NSString *strText = @\"\u4e2d\u56fd\u8a9e...\\n\";\n\nNSData *data = [strText dataUsingEncoding:CFStringConvertEncodingToNSString(kCFStringEncodingDOSChineseSimplif)allowLossyConversion:YES];\n\nint length = [data length];\nByte *byteData= (Byte*)malloc(length);\nmemcpy(byteData, [data bytes], length);\nnRtn = [mPrint PrintText:byteData length:length];\nfree(byteData);\n</code></pre>\n\n<p><strong>Here's what I did:</strong></p>\n\n<p>Encoding reference: <a href=\"https://stackoverflow.com/a/44064027/3476380\">https://stackoverflow.com/a/44064027/3476380</a></p>\n\n<pre><code>let cfEnc = CFStringEncodings.big5\nlet nsEnc = CFStringConvertEncodingToNSStringEncoding(CFStringEncoding(cfEnc.rawValue))\nlet big5encoding = String.Encoding(rawValue: nsEnc)\n</code></pre>\n\n<p><strong>1. First way :</strong> Result printed by thermal printer was <code>\u00f1H</code></p>\n\n<pre><code>let str = \"\u4eba\"\nif var data = str.data(using: String.Encoding(rawValue: CFStringConvertEncodingToNSStringEncoding(CFStringEncoding(big5encoding.rawValue))), allowLossyConversion: true) {\n   var buf: [UInt8] = [UInt8]()\n   buf.append(contentsOf: data)\n   /* Initialization of UnsafeMutablePointer instance */\n   var uint8Pointer = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: buf.count)\n   uint8Pointer.initialize(from: &amp;buf, count: buf.count)\n\n   self.printerController?.printText(uint8Pointer, length: Int32(buf.count))\n}\n</code></pre>\n\n<p><strong>2. Second way :</strong> Result printed by thermal printer was something like <code>\u300e</code></p>\n\n<pre><code>let str = \"\u4eba\"\nif var data = str.data(using: String.Encoding(rawValue: CFStringConvertEncodingToNSStringEncoding(CFStringEncoding(big5encoding.rawValue))), allowLossyConversion: true) {\n   var buf: [UInt8] = [UInt8]()\n   buf.append(contentsOf: data)\n   /* Initialization of UnsafeMutablePointer instance */\n   var uint8Pointer = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity:data.count)\n   data.copyBytes(to: uint8Pointer, count:  data.count)\n\n   self.printerController?.printText(uint8Pointer, length: Int32(buf.count))\n}\n</code></pre>\n\n<p>By doing <code>print(\"Data: \\(data as NSData)\")</code> , result printed on console was <code>Data: {length = 2, bytes = 0xa448}</code> where the bytes corresponds to \"\u4eba\" correctly.</p>\n\n<p><strong>Big5 code table</strong>\n<a href=\"http://www.khngai.com/chinese/charmap/tblbig.php?page=0\" rel=\"nofollow noreferrer\">http://www.khngai.com/chinese/charmap/tblbig.php?page=0</a></p>\n\n<p>As I'm new to this process, any guidance is very much appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsurlrequest"], "comments": [{"owner": {"reputation": 79, "user_id": 7485407, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Rvp3O.jpg?s=128&g=1", "display_name": "andywalt", "link": "https://stackoverflow.com/users/7485407/andywalt"}, "edited": false, "score": 1, "creation_date": 1591032445, "post_id": 58202233, "comment_id": 109897184, "body": "Would love to know how you fixed this since I&#39;m working with the same issue."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 5078902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/StafN.jpg?s=128&g=1", "display_name": "iStornZ", "link": "https://stackoverflow.com/users/5078902/istornz"}, "edited": false, "score": 0, "creation_date": 1570023146, "post_id": 58202333, "comment_id": 102783215, "body": "Thanks for your response ! But it seems not work ... My full payload is &quot;fields id,name,first_release_date,release_dates,cover,platforms; sort popularity desc; limit 10; offset 0;&quot; but when I try to add a parameter for each, the response data is not affected..."}, {"owner": {"reputation": 1247, "user_id": 4334113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtpHi.jpg?s=128&g=1", "display_name": "eemrah", "link": "https://stackoverflow.com/users/4334113/eemrah"}, "reply_to_user": {"reputation": 183, "user_id": 5078902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/StafN.jpg?s=128&g=1", "display_name": "iStornZ", "link": "https://stackoverflow.com/users/5078902/istornz"}, "edited": false, "score": 0, "creation_date": 1570023408, "post_id": 58202333, "comment_id": 102783399, "body": "hey @iStornZ can you look at my updated answer, try the code all parameters in a string then convert it to stringencoding data format."}, {"owner": {"reputation": 183, "user_id": 5078902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/StafN.jpg?s=128&g=1", "display_name": "iStornZ", "link": "https://stackoverflow.com/users/5078902/istornz"}, "edited": false, "score": 0, "creation_date": 1570023893, "post_id": 58202333, "comment_id": 102783683, "body": "Thanks @elia, but it&#39;s not working too, please check my edited post to see if I do it correctly :)."}], "tags": [], "owner": {"reputation": 1247, "user_id": 4334113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtpHi.jpg?s=128&g=1", "display_name": "eemrah", "link": "https://stackoverflow.com/users/4334113/eemrah"}, "is_accepted": false, "score": 0, "last_activity_date": 1570024278, "last_edit_date": 1570024278, "creation_date": 1570022116, "answer_id": 58202333, "question_id": 58202233, "link": "https://stackoverflow.com/questions/58202233/how-to-send-http-body-plain-text-for-get-method/58202333#58202333", "title": "How to send HTTP body plain text for GET method?", "body": "<p>If I get true your question, you can set parameters to your request header when you get you can set like below.</p>\n\n<pre><code>  [request addValue:@\"valueForKey1\" forHTTPHeaderField:@\"key1\"];\n\n  [request addValue:@\"valueForKey2\" forHTTPHeaderField:@\"key2\"];\n</code></pre>\n\n<p>If you send a data format so,</p>\n\n<pre><code>NSString *stringValueOfParameters =[NSString stringWithFormat:@\"userName:blabla\"];\nNSData *convertedDat=[stringValueOfParameters dataUsingEncoding:NSUTF8StringEncoding];\nNSString *headerValue=[NSString stringWithFormat:@\"Basic %@\",[convertedDat base64EncodedStringWithOptions:0]];\n\n[request setValue:headerValue forHTTPHeaderField:@\"headerKey\"];\n</code></pre>\n\n<p>// Edit</p>\n\n<p>You must try kinda like that, directly write a <code>Dictionary</code> or like below write your <code>JSON</code> parameters as <code>NSString</code> then convert it to <code>Data</code>.</p>\n\n<pre><code>NSDictionary *dictParams = @{ @\"fields\" : @[@\"id\",@\"name\",@\"first_release_date\",@\"release_dates\",@\"cover\",@\"platforms\"], @\"sort\" : @\"popularity desc\", @\"limit\": @5, @\"offset\":@0 };\n</code></pre>\n\n<p>// this is taken from an example</p>\n\n<pre><code>NSString *jsonString = @\"{\\\"ID\\\":{\\\"Content\\\":268,\\\"type\\\":\\\"text\\\"},\\\"ContractTemplateID\\\":{\\\"Content\\\":65,\\\"type\\\":\\\"text\\\"}}\";\nNSData *data = [jsonString dataUsingEncoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>Then try it to set header.</p>\n"}, {"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": true, "score": 5, "last_activity_date": 1570039990, "creation_date": 1570039990, "answer_id": 58207084, "question_id": 58202233, "link": "https://stackoverflow.com/questions/58202233/how-to-send-http-body-plain-text-for-get-method/58207084#58207084", "title": "How to send HTTP body plain text for GET method?", "body": "<p>As per the <a href=\"https://developer.apple.com/documentation/ios_ipados_release_notes/ios_13_release_notes#3319752.\" rel=\"noreferrer\">iOS 13 release notes</a>, GET requests are no longer allowed to have a body:</p>\n\n<blockquote>\n  <p>All URLSessionTask instances with a GET HTTP method that contain a body now produce the error NSURLErrorDataLengthExceedsMaximum. (46025234)</p>\n</blockquote>\n\n<p>This makes <code>URLSession</code> more conformant with the <a href=\"https://tools.ietf.org/html/rfc2616#section-4.3\" rel=\"noreferrer\">HTTP/1.1 RFC</a>:</p>\n\n<blockquote>\n  <p>A message-body MUST NOT be included in\n     a request if the specification of the request method (section 5.1.1)\n     does not allow sending an entity-body in requests.</p>\n</blockquote>\n"}], "owner": {"reputation": 183, "user_id": 5078902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/StafN.jpg?s=128&g=1", "display_name": "iStornZ", "link": "https://stackoverflow.com/users/5078902/istornz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2659, "favorite_count": 2, "accepted_answer_id": 58207084, "answer_count": 2, "score": 3, "last_activity_date": 1570039990, "creation_date": 1570021818, "last_edit_date": 1570023853, "question_id": 58202233, "link": "https://stackoverflow.com/questions/58202233/how-to-send-http-body-plain-text-for-get-method", "title": "How to send HTTP body plain text for GET method?", "body": "<p>I had a problem, I use the <a href=\"https://api-docs.igdb.com/#fields\" rel=\"nofollow noreferrer\">iGDB REST API</a> which need to send some <strong>plain text</strong> for some endpoints with <strong>GET</strong> method.</p>\n\n<p>There is no problem with <strong>PostMan</strong> (by selecting \"Body\" > \"raw\" &amp; paste my query), but when I try with Objective-C, an error appear telling me \"<em>GET method must not have a body</em>\"...</p>\n\n<p><a href=\"https://i.stack.imgur.com/kWUax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWUax.png\" alt=\"PostMan example\"></a></p>\n\n<p>Here is the <strong>code</strong> used in my app:</p>\n\n<pre><code>NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@\"MY_URL\"]];\n[request addValue:@\"text/plain\" forHTTPHeaderField:@\"Content-Type\"];\n[request setHTTPMethod:@\"GET\"];\n[request setHTTPBody:[@\"sort popularity desc;\" dataUsingEncoding:NSUTF8StringEncoding]];\n</code></pre>\n\n<p><strong>EDIT 02/10/2019</strong></p>\n\n<p>Trying to add each filters in headers not working...</p>\n\n<pre><code>NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@\"MY_URL\"]];\n[request setValue:[[@\"id,name,first_release_date,release_dates,cover,platforms\" dataUsingEncoding:NSUTF8StringEncoding] base64EncodedStringWithOptions:0] forHTTPHeaderField:@\"fields\"];\n[request setValue:[[@\"popularity desc\" dataUsingEncoding:NSUTF8StringEncoding] base64EncodedStringWithOptions:0] forHTTPHeaderField:@\"sort\"];\n[request setValue:[[@\"5\" dataUsingEncoding:NSUTF8StringEncoding] base64EncodedStringWithOptions:0] forHTTPHeaderField:@\"limit\"];\n[request setValue:[[@\"0\" dataUsingEncoding:NSUTF8StringEncoding] base64EncodedStringWithOptions:0] forHTTPHeaderField:@\"offset\"];\n</code></pre>\n\n<p>Thanks in advance for any replies !</p>\n"}, {"tags": ["objective-c", "macos", "nswindow"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1570020862, "post_id": 58201881, "comment_id": 102781805, "body": "<a href=\"https://developer.apple.com/documentation/appkit/nswindow/1419390-resizeincrements?language=objc\" rel=\"nofollow noreferrer\">The docs</a> say <i>Whatever the current resizing increments, you can set an NSWindow object\u2019s size to any height and width programmatically.</i>  However it&#39;s not clear if you mean set only width/height of window pro grammatically or restrict the user&#39;s resizing to width or height only."}, {"owner": {"reputation": 159, "user_id": 8514562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29bd270df2f9ba7eb8c717cf1255a5d?s=128&d=identicon&r=PG&f=1", "display_name": "\uc2e0\ud55c\uc2ac", "link": "https://stackoverflow.com/users/8514562/%ec%8b%a0%ed%95%9c%ec%8a%ac"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1570020991, "post_id": 58201881, "comment_id": 102781873, "body": "restrict the user&#39;s resizing to width or to height only was the question, I&#39;ll modify it."}], "answers": [{"tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1570021155, "creation_date": 1570021155, "answer_id": 58202039, "question_id": 58201881, "link": "https://stackoverflow.com/questions/58201881/how-to-resize-only-one-side-of-nswindow-programmatically/58202039#58202039", "title": "How to resize only one side of NSWIndow programmatically?", "body": "<p>Yes simply override <a href=\"https://developer.apple.com/documentation/appkit/nswindowdelegate/1419292-windowwillresize?language=objc\" rel=\"nofollow noreferrer\"><code>windowWillResize:size:</code></a> and return whatever value you want to allow.</p>\n\n<p>I don't believe <code>resizeIncrements</code> will affect this; that just sets the increments to allow but the window delegate will have the final say.</p>\n"}], "owner": {"reputation": 159, "user_id": 8514562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b29bd270df2f9ba7eb8c717cf1255a5d?s=128&d=identicon&r=PG&f=1", "display_name": "\uc2e0\ud55c\uc2ac", "link": "https://stackoverflow.com/users/8514562/%ec%8b%a0%ed%95%9c%ec%8a%ac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 58202039, "answer_count": 1, "score": 0, "last_activity_date": 1570021155, "creation_date": 1570020644, "last_edit_date": 1570021064, "question_id": 58201881, "link": "https://stackoverflow.com/questions/58201881/how-to-resize-only-one-side-of-nswindow-programmatically", "title": "How to resize only one side of NSWIndow programmatically?", "body": "<p>From the Apple documentation, we can modify the resizing value(multipliers)\nby assigning new values to ResizeIncrements.</p>\n\n<p>But The minimum value is 1 so, I was wondering if resizing only one side (only Width or only Height at a time) is possible.</p>\n\n<p>I've tried to use callback, resetting the size of the NSWindow each time the user drag to resize it, but it's not working.</p>\n\n<p>Edit:</p>\n\n<p>To be more specific, I'd like to know if restricting the resizing option to only one side is possible. </p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter"], "comments": [{"owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1570015872, "post_id": 58200398, "comment_id": 102779106, "body": "If unticking 24 hour fixes the error, replace your hour unit with <code>hh</code>"}, {"owner": {"reputation": 57, "user_id": 8448772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QWy1aEAgOk8/AAAAAAAAAAI/AAAAAAAAARs/yCIJ4JcSRfY/photo.jpg?sz=128", "display_name": "Kasun Rangana M W", "link": "https://stackoverflow.com/users/8448772/kasun-rangana-m-w"}, "reply_to_user": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1570016737, "post_id": 58200398, "comment_id": 102779545, "body": "@Desdenova using &quot;hh&quot; shows wrong time in output for afternoon times(ex: 2019-10-01 14:36:56)"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1570017279, "post_id": 58200398, "comment_id": 102779817, "body": "Your code works for me on iOS 13.1"}, {"owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "edited": false, "score": 0, "creation_date": 1570017329, "post_id": 58200398, "comment_id": 102779867, "body": "add a locale to your Date Formatter like <code>[formatter setLocale:[NSLocale localeWithLocaleIdentifier:[NSLocale currentLocale].localeIdentifier]];</code>"}, {"owner": {"reputation": 57, "user_id": 8448772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QWy1aEAgOk8/AAAAAAAAAAI/AAAAAAAAARs/yCIJ4JcSRfY/photo.jpg?sz=128", "display_name": "Kasun Rangana M W", "link": "https://stackoverflow.com/users/8448772/kasun-rangana-m-w"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1570017546, "post_id": 58200398, "comment_id": 102779959, "body": "@Paulw11 it works fine when the time format is not set to &quot;24-Hour Time&quot; in &quot;Settings&quot;"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1570017601, "post_id": 58200398, "comment_id": 102779990, "body": "No, it works for me regardless of the time setting on the device."}, {"owner": {"reputation": 57, "user_id": 8448772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QWy1aEAgOk8/AAAAAAAAAAI/AAAAAAAAARs/yCIJ4JcSRfY/photo.jpg?sz=128", "display_name": "Kasun Rangana M W", "link": "https://stackoverflow.com/users/8448772/kasun-rangana-m-w"}, "reply_to_user": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "edited": false, "score": 0, "creation_date": 1570018084, "post_id": 58200398, "comment_id": 102780259, "body": "@hyd00 setting a Locale your way solves the issue.   I found another way too -&gt; [formatter setLocale:[NSLocale localeWithLocaleIdentifier:@&quot;en_US_POSIX&quot;]]"}, {"owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "edited": false, "score": 0, "creation_date": 1570018614, "post_id": 58200398, "comment_id": 102780542, "body": "@KasunRanganaMW Upvote my comment if it helped :) Thanks!"}, {"owner": {"reputation": 124, "user_id": 6655110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e28d63def9031f6a4e02bb675737a39?s=128&d=identicon&r=PG&f=1", "display_name": "infinity_loop", "link": "https://stackoverflow.com/users/6655110/infinity-loop"}, "edited": false, "score": 0, "creation_date": 1573123186, "post_id": 58200398, "comment_id": 103782469, "body": "hi,@Desdenova ,encounter the same issue,can you suggest what was the solution for that issue."}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 8448772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QWy1aEAgOk8/AAAAAAAAAAI/AAAAAAAAARs/yCIJ4JcSRfY/photo.jpg?sz=128", "display_name": "Kasun Rangana M W", "link": "https://stackoverflow.com/users/8448772/kasun-rangana-m-w"}, "is_accepted": false, "score": 3, "last_activity_date": 1570018281, "creation_date": 1570018281, "answer_id": 58201261, "question_id": 58200398, "link": "https://stackoverflow.com/questions/58200398/nsdateformatter-datefromstring-returns-nil-in-ios-13-issue/58201261#58201261", "title": "NSDateFormatter dateFromString returns nil in iOS 13 issue", "body": "<p>I found a way to resolve this issue. </p>\n\n<pre><code>[formatter setLocale:[NSLocale localeWithLocaleIdentifier:@\"en_US_POSIX\"]];\n</code></pre>\n\n<p>@hyd00 setting a Locale your way also solves this issue. Thanks a lot.</p>\n\n<pre><code>[formatter setLocale:[NSLocale localeWithLocaleIdentifier:[NSLocale currentLocale].localeIdentifier]];\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8448772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QWy1aEAgOk8/AAAAAAAAAAI/AAAAAAAAARs/yCIJ4JcSRfY/photo.jpg?sz=128", "display_name": "Kasun Rangana M W", "link": "https://stackoverflow.com/users/8448772/kasun-rangana-m-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 2, "closed_date": 1570018859, "answer_count": 1, "score": 1, "last_activity_date": 1570019425, "creation_date": 1570015050, "last_edit_date": 1570019425, "question_id": 58200398, "link": "https://stackoverflow.com/questions/58200398/nsdateformatter-datefromstring-returns-nil-in-ios-13-issue", "closed_reason": "Duplicate", "title": "NSDateFormatter dateFromString returns nil in iOS 13 issue", "body": "<p>NSDateFormatter dateFromString returned a NSDate object before iOS v13 update. But in iOS v13 and v13.1 it returns nil NSDate object. How to resolve this issue?</p>\n\n<p>changing Date &amp; Time from \"Settings -> General - > Date &amp; Time\" then Unticking 24-Hour Time resolves this error.</p>\n\n<pre><code>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n[formatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n\nNSDate *date = [formatter dateFromString:@\"2019-10-02 09:10:15\"];\n</code></pre>\n\n<p>Expected a not nil *date</p>\n\n<blockquote>\n  <p>iOS v12 and older versions didn't have this issue, setting Locale was not mandatory to get the date formatted.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "ios13"], "comments": [{"owner": {"reputation": 1247, "user_id": 4334113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtpHi.jpg?s=128&g=1", "display_name": "eemrah", "link": "https://stackoverflow.com/users/4334113/eemrah"}, "edited": false, "score": 0, "creation_date": 1570015326, "post_id": 58198859, "comment_id": 102778825, "body": "can you change the <code>searchBar=[[[UISearchBar alloc] init] autorelease];</code> to <code>searchBar=[[UISearchBar alloc] init];</code>and delete the <code>[searchBackView release];</code>line and try?"}, {"owner": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "reply_to_user": {"reputation": 1247, "user_id": 4334113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtpHi.jpg?s=128&g=1", "display_name": "eemrah", "link": "https://stackoverflow.com/users/4334113/eemrah"}, "edited": false, "score": 0, "creation_date": 1570019195, "post_id": 58198859, "comment_id": 102780884, "body": "Tried but No luck :-( and if I comment  <code>[secondLevelSubview removeFromSuperview];</code> line then App is not crashing but search bar giving issue if I do that"}, {"owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "edited": false, "score": 0, "creation_date": 1570022674, "post_id": 58198859, "comment_id": 102782891, "body": "Just so I can understand what you are trying to achieve, do you want a clear searchBar? Can you please post a screenshot of how it was looking and how it looks if you don&#39;t remove the mentioned view?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "edited": false, "score": 0, "creation_date": 1570024621, "post_id": 58202699, "comment_id": 102784153, "body": "@summerfin3 Thanks for the response. When I tried by replacing with the code you shared, I am able to launch the app without any crash but when I click on the search bar it is crashing and giving <b>XPC connection interrupted</b> error in console"}, {"owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "reply_to_user": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "edited": false, "score": 0, "creation_date": 1570025043, "post_id": 58202699, "comment_id": 102784425, "body": "Hmm, the code might be getting caught in one of those loops. Try adding break; after the instructions on each of those for statements."}, {"owner": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "edited": false, "score": 0, "creation_date": 1570026609, "post_id": 58202699, "comment_id": 102785376, "body": "Same issue even after adding breaks in loop \ud83d\ude14. I am guessing that there might be some issue with search bar textfield in iOS 13."}, {"owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "reply_to_user": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "edited": false, "score": 0, "creation_date": 1570027247, "post_id": 58202699, "comment_id": 102785779, "body": "Probably, a lot has changed about SearchBar on iOS 13. I made a snippet on how I would implement this, maybe it can be useful for you <a href=\"https://pastebin.com/ByP738bq\" rel=\"nofollow noreferrer\">pastebin.com/ByP738bq</a>"}, {"owner": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "edited": false, "score": 0, "creation_date": 1570194523, "post_id": 58202699, "comment_id": 102846956, "body": "@summerfin3 thanks for your effort. I&#39;ve implemented your code but there is no change, getting same error when I click on the text field. But I noticed something here this problem is not only for search bar text field, previously I used to click on search bar text field only because app is already logged in, now I logged out and clicked on one of the text field  to login and now here also I am getting the same <b>XPC connection interrupted</b> error."}], "tags": [], "owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "is_accepted": true, "score": 1, "last_activity_date": 1570025075, "last_edit_date": 1570025075, "creation_date": 1570023380, "answer_id": 58202699, "question_id": 58198859, "link": "https://stackoverflow.com/questions/58198859/objective-c-app-crashing-in-ios-13search-bar-issue/58202699#58202699", "title": "Objective-c App crashing in iOS 13(Search bar issue)", "body": "<p>If I understood correctly, you're trying to achieve a SearchBar with a clear background. As seen on the error message, iOS 13 won't allow <code>UISearchBarBackground</code> to be removed. There is a work around you can try:</p>\n\n<p>This will make the search background image to be transparent, without removing it.</p>\n\n<pre><code>for (UIView *subView in self.searchBar.subviews) {\n    for (UIView *secondLevelSubview in subView.subviews){\n        if ([secondLevelSubview isKindOfClass: [UIImageView class]]) {\n            secondLevelSubview.alpha = 0.0;\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>Just replace this part of your code with this one and check if it attends what you are expecting.</p>\n"}], "owner": {"reputation": 23, "user_id": 11265644, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oX6Nj2K1lxw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcct847bSbD6Aq5dR83mnHWDYd_0Q/mo/photo.jpg?sz=128", "display_name": "Ashok Reddy", "link": "https://stackoverflow.com/users/11265644/ashok-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "accepted_answer_id": 58202699, "answer_count": 1, "score": 2, "last_activity_date": 1570193703, "creation_date": 1570008708, "last_edit_date": 1570193703, "question_id": 58198859, "link": "https://stackoverflow.com/questions/58198859/objective-c-app-crashing-in-ios-13search-bar-issue", "title": "Objective-c App crashing in iOS 13(Search bar issue)", "body": "<p>Please someone help me I am not familiar with Objective-c. App is crashing in iOS 13\nfound the following error in console</p>\n\n<p><strong>* Terminating app due to uncaught exception 'NSGenericException', reason: 'Missing or detached view for search bar layout. The application must not remove > from the hierarchy.'</strong></p>\n\n<p>Search bar code</p>\n\n<pre><code> UIImageView *searchBackView = [[UIImageView alloc]initWithFrame:CGRectMake(10, 45, 320, 30)];\n    searchBackView.image = [UIImage imageNamed:@\"search1.gif\"];\n    searchBackView.userInteractionEnabled=YES;\n    searchBackView.backgroundColor=[UIColor clearColor];\n    [tableHeader addSubview:searchBackView];\n\n  searchBar=[[[UISearchBar alloc] init] autorelease];\n    searchBar.delegate=self;\n    [searchBar setKeyboardType:UIKeyboardTypeDefault];\n    searchBar.barStyle = UISearchBarIconClear;\n    searchBar.frame=CGRectMake(17, 3, 285, 30);\n    [searchBar setSearchFieldBackgroundImage:[UIImage imageNamed:@\"search1.gif\"] forState:UIControlStateNormal];\n    searchBar.backgroundColor=[UIColor clearColor];\n    [searchBackView addSubview:searchBar];\n    [searchBackView release];\n    [tableHeader addSubview:label];\n\n        for (UIView *subView in self.searchBar.subviews)\n        {\n            for (UIView *secondLevelSubview in subView.subviews){\n        if ([secondLevelSubview isKindOfClass:[UIImageView class]]){\n            [secondLevelSubview removeFromSuperview];\n        }\n            }\n        }\n\n\n\n    searchField = nil;\n        for (UIView *subView in self.searchBar.subviews)\n        {\n            for (UIView *secondLevelSubview in subView.subviews){\n                if ([secondLevelSubview isKindOfClass:[UITextField class]])\n                {\n                    searchField = (UITextField *)secondLevelSubview;\n                    break;\n                }\n            }\n        }\n\n        for (UIView *subview in searchBar.subviews)\n        {\n            for (UIView *secondLevelSubview in subview.subviews){\n                if ([secondLevelSubview conformsToProtocol:@protocol(UITextInputTraits)])\n                {\n                    [(UITextField *)secondLevelSubview setClearButtonMode:UITextFieldViewModeNever];\n                }\n            }\n        }\n if (searchField) {\n    searchField.leftViewMode = UITextFieldViewModeNever;\n    }\n    BluemenAppDelegate *delegate=(BluemenAppDelegate*)[[UIApplication sharedApplication] delegate];\n    if (isShowlist==YES) {\n        delegate.search_string = @\"\";\n        searchBar.text = delegate.search_string;\n        isShowlist = NO;\n    }\n\n        searchBar.text = delegate.search_string;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Now I am able launch app but now if click on any textfield in app it is crashing and giving <strong>XPC connection interrupted</strong> error</p>\n"}, {"tags": ["objective-c", "macos", "ssl", "certificate", "nsurlsession"], "answers": [{"tags": [], "owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1570008311, "creation_date": 1570008311, "answer_id": 58198730, "question_id": 58198729, "link": "https://stackoverflow.com/questions/58198729/why-cant-i-override-ssl-servertrust-for-nsurlsessiondatatask-in-xpc-service/58198730#58198730", "title": "Why can&#39;t I override SSL ServerTrust for NSURLSessionDataTask in XPC service?", "body": "<p>It turns out that when <em>ATS</em> (App Transport Security) is active, which is the default for all apps linked against the SDKs of iOS 9.0/macOS 11.0 or later, an <code>NSURLSessionDelegate</code> <strong>can only tighten</strong> security constraints, e.g. using cert/public key pinning, but it <strong>cannot loosen them</strong> anymore as regardless what the delegate says, ATS will \"always do its thing\". And aside from forcing the usage of HTTPS instead of HTTP, ATS also performs it own certificate checks.</p>\n\n<p>If you want to perform certificate validation all by yourself, you have to disable ATS. Therefor your <code>Info.plist</code> requires a key <code>NSAppTransportSecurity</code>, whose value is a dictionary and contains the boolean key <code>NSAllowsArbitraryLoads</code> set to <code>YES</code>.</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>NSURLSession enforces App Transport Security (ATS), if it is enabled for the domain you are connecting to. This applies security requirements for the certificates, TLS version, and cipher used by the connection. <strong>You cannot loosen server trust requirements for an ATS-protected domain</strong>, but you can tighten them, using the manual evaluation technique shown in this article. </p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.apple.com/documentation/foundation/url_loading_system/handling_an_authentication_challenge/performing_manual_server_trust_authentication?language=objc\" rel=\"nofollow noreferrer\">Performing Manual Server Trust Authentication</a></p>\n\n<p>And also:</p>\n\n<blockquote>\n  <p>Without ATS, you\u2019re also <strong>free to loosen</strong> the default server trust requirements, as described in Performing Manual Server Trust Authentication.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.apple.com/documentation/bundleresources/information_property_list/nsapptransportsecurity/nsallowsarbitraryloads?language=objc\" rel=\"nofollow noreferrer\">Property List Key - NSAllowsArbitraryLoads</a></p>\n\n<p><strong>Note:</strong><br>\nWhen disabling ATS for an App Store build, Apple requires a written justification from you as for why your app actually requires that exception, so that Apple </p>\n"}], "owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570008311, "creation_date": 1570008311, "question_id": 58198729, "link": "https://stackoverflow.com/questions/58198729/why-cant-i-override-ssl-servertrust-for-nsurlsessiondatatask-in-xpc-service", "title": "Why can&#39;t I override SSL ServerTrust for NSURLSessionDataTask in XPC service?", "body": "<p>I am trying to perform a HTTPS request within an XPC service using an <code>NSURLSessionDataTask</code>. This is failing, and is even expected to fail, as the server is using a TLS certificate signed by a CA unknown to the system.</p>\n\n<p>So I implemented the <code>NSURLSessionDelegate</code> protocol, implemented the <code>URLSession:didReceiveChallenge:completionHandler:</code> method, obtained the <code>SecTrustRef</code> object, added the certificate of the CA to it (which ships with my XPC service), and evaluated the trust with <code>SecTrustEvaluate()</code>. If I evaluate without adding my CA first, the system says the certificate is not trusted, if I do so after adding my CA, the system says it is trusted, so apparently I'm doing everything right. Finally I call</p>\n\n<pre><code>NSURLCredential * credential = [NSURLCredential credentialForTrust:trust];\ncompletionHandler(NSURLSessionAuthChallengeUseCredential, credential);\n</code></pre>\n\n<p>And the connection... still fails. And it still fails with exactly the same error as if I wasn't using that delegate at all (<code>NSURLErrorSecureConnectionFailed</code>). Exactly the same code was working fine in another project. Even when I don't evaluate at all and just implement the method as follows:</p>\n\n<pre><code>- (void)URLSession:(NSURLSession *)session\n    didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge\n    completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition, \n        NSURLCredential * _Nullable))completionHandler\n{\n    NSString * method = challenge.protectionSpace.authenticationMethod;\n    if (![method isEqualToString:NSURLAuthenticationMethodServerTrust]) {\n        completionHandler(NSURLSessionAuthChallengePerformDefaultHandling, nil);\n        return;\n    }\n\n    SecTrustRef serverTrust = challenge.protectionSpace.serverTrust;\n    if (!serverTrust) {\n        completionHandler(NSURLSessionAuthChallengePerformDefaultHandling, nil);\n        return;\n    }\n\n    NSURLCredential * credential = [NSURLCredential credentialForTrust:serverTrust];\n    completionHandler(NSURLSessionAuthChallengeUseCredential, credential);\n}\n</code></pre>\n\n<p>The connection stil fails with the error <code>NSURLErrorSecureConnectionFailed</code>.</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8735473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d8a131fd0f686eaf2d561957983764?s=128&d=identicon&r=PG&f=1", "display_name": "YingTai.Z", "link": "https://stackoverflow.com/users/8735473/yingtai-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1570157431, "creation_date": 1570157431, "answer_id": 58229303, "question_id": 58195095, "link": "https://stackoverflow.com/questions/58195095/objective-c-how-to-set-orientation-to-landscape-in-ios13/58229303#58229303", "title": "Objective c How to set orientation to landscape in ios13", "body": "<p>In ios 13, default modalpresentaionstyle is 'fromsheet', not 'fullscreen' not like the previous versions. You should set the modalpresentaionstyle of the controller to 'UImodalPresentaionFullscreen' like \"control.modalPresentationStyle = UIModalPresentationFullScreen;\".</p>\n"}], "owner": {"reputation": 11, "user_id": 8735473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32d8a131fd0f686eaf2d561957983764?s=128&d=identicon&r=PG&f=1", "display_name": "YingTai.Z", "link": "https://stackoverflow.com/users/8735473/yingtai-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570157431, "creation_date": 1569989394, "question_id": 58195095, "link": "https://stackoverflow.com/questions/58195095/objective-c-how-to-set-orientation-to-landscape-in-ios13", "title": "Objective c How to set orientation to landscape in ios13", "body": "<p>My code is working on the versions except 13. But in the version 13, the code doesn't work for landscape of orientation. \nMy code is following. </p>\n\n<pre><code>#if __IPHONE_OS_VERSION_MAX_ALLOWED &lt; 90000\n- (NSUInteger)supportedInterfaceOrientations\n#else\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations\n#endif\n{\n    NSLog(@\"Mask Orientaion begin\");\n    return UIInterfaceOrientationMaskLandscapeRight;\n}\n\n- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation {\n    NSLog(@\"Orientaion begin\");\n    return UIInterfaceOrientationLandscapeRight;\n}\n</code></pre>\n\n<p>Please help me. Thanks</p>\n"}, {"tags": ["objective-c", "oop", "inheritance", "superclass", "friend-class"], "comments": [{"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1569965611, "post_id": 58192435, "comment_id": 102764339, "body": "Objective-C is a dynamic language. You can achieve this for compiling, but there\u2019s no way you can prevent an existing selector to be called at runtime. So probably not worth wasting your time..."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 2, "creation_date": 1569967090, "post_id": 58192435, "comment_id": 102764775, "body": "The <code>Banana (PrivateMethods)</code> category adds method <code>peel</code> to the existing <code>Banana</code> class. It doesn&#39;t define another <code>Banana</code> class. I tried your code and don&#39;t see a collision."}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569967432, "post_id": 58192435, "comment_id": 102764880, "body": "@Willeke Apparently my issue was that I removed the <code>(PrivateMethods)</code> bit. Turns out that&#39;s required, even though Xcode didn&#39;t syntax highlight it, color it, or seem to know what it was. I added it back in and it worked. Removed it, error."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1570012400, "post_id": 58192435, "comment_id": 102777512, "body": "Beside this: <code>@private</code> is meaningless. It only restricts the direct access to a <i>var</i>. But this is already restricted to the actual module, because you define it in the class implementation. Moreover, unrelated to your Q, <code>-eat</code> works strangely on <code>hungry</code>. It is always true."}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1570110762, "post_id": 58192435, "comment_id": 102817052, "body": "@AminNegm-Awad Good catch, simple typo on my part. After eating the monkey should no longer be hungry :)"}], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570110784, "creation_date": 1569965052, "last_edit_date": 1570110784, "question_id": 58192435, "link": "https://stackoverflow.com/questions/58192435/can-you-create-class-methods-in-objective-c-only-visible-within-your-library", "title": "Can you create class methods in Objective-C only visible within your library?", "body": "<p>I found <a href=\"https://stackoverflow.com/questions/6006701/friend-class-in-objective-c\">this StackOverflow question on friend classes in Objective-C</a> which was <strong><em>similar</em></strong> to the issue I'm trying to solve, but not quite the same. So I'd like to extend their example.</p>\n\n<p>Suppose I want the ability to hand a Monkey multiple Bananas and he'll keep an array of all of his own Bananas. When I tell him to eat, he eats from his array. I can then ask him to give me a Banana at random:</p>\n\n<p><strong>Banana.h</strong></p>\n\n<pre><code>@interface Banana : NSObject\n- (BOOL)isPeeled;\n@end\n</code></pre>\n\n<p><strong>Banana.m</strong></p>\n\n<pre><code>#import \"Banana.h\"\n\n@implementation Banana\n{\n    @private\n    BOOL peeled;\n}\n\n- (id)init\n{\n    self = [super init];\n    if (self)\n    {\n        peeled = NO;\n    }\n    return self;\n}\n\n- (void)peel // PRIVATE METHOD\n{\n    peeled = YES;\n}\n\n- (BOOL)isPeeled\n{\n    return peeled;\n}\n@end\n</code></pre>\n\n<p><strong>Monkey.h</strong></p>\n\n<pre><code>#import \"Banana.h\"\n\n@interface Monkey : NSObject\n- (void)give:(Banana *)aBanana;\n- (void)eat;\n- (Banana *)getBanana;\n@end\n</code></pre>\n\n<p><strong>Monkey.m</strong></p>\n\n<pre><code>#import \"Monkey.h\"\n\n@implementation Monkey\n{\n    @private\n    NSMutableArray *bananas;\n}\n\n- (id)init\n{\n    self = [super init];\n    if (self)\n    {\n        bananas = [[NSMutableArray alloc] init];\n    }\n    return self;\n}\n\n- (void)give:(Banana *)aBanana\n{\n    [bananas addObject:aBanana];\n}\n\n- (void)eat\n{\n    BOOL hungry = YES;\n    for (int i = 0; i &lt; bananas.count; i++)\n    {\n        if (!banana.isPeeled)\n        {\n            hungry = NO;\n            [banana peel];\n            break;\n        }\n    }\n    if (hungry)\n    {\n        NSLog(@\"Monkey ANGRY!\");\n    }\n}\n\n- (Banana *)getBanana\n{\n    int r = arc4random_uniform(bananas.count);\n    return [bananas objectAtIndex:r];\n}\n@end\n</code></pre>\n\n<p>In this case, <code>Banana.h</code> and <code>Monkey.h</code> would be public headers in a library I'm distributing. The intended use of my library would look something like so:</p>\n\n<p><strong>ClientApp.m</strong></p>\n\n<pre><code>#import \"MonkeyLib/MonkeyLib.h\"\n\n@implementation SomeClass\n\n- (void)someMethod\n{\n    Banana *oneBanana = [[Banana alloc] init];\n    Monkey *oneMonkey = [[Monkey alloc] init];\n    [oneMonkey give:oneBanana];\n    [oneMonkey eat];\n    Banana *twoBanana = [oneMonkey getBanana];\n    if (twoBanana.isPeeled)\n    {\n        NSLog(@\"No sad monkeys!\");\n    }\n}\n\n@end\n</code></pre>\n\n<p>The immediate issue with the code above is that my library won't compile because no interface for the class <code>Banana</code> defines a <code>peel</code> method (as utilized by <code>Monkey.m</code>)</p>\n\n<p>The StackOverflow question I linked at the beginning of this question suggests creating a third header file:</p>\n\n<p><strong>BananaPrivate.h</strong></p>\n\n<pre><code>@interface Banana (PrivateMethods)\n- (void)peel;\n@end\n</code></pre>\n\n<p>Then in <code>Monkey.m</code> I can import <code>BananaPrivate.h</code> and I can suddenly call the <code>peel</code> method. However this fails because when I attempt to import <code>BananaPrivate.h</code> I create a collision -- I've already defined <code>Banana</code> when I imported <code>Banana.h</code> in <code>Monkey.h</code></p>\n\n<p>I can't remove <code>Banana.h</code> from <code>Monkey.h</code>, because one of the methods on <code>Monkey</code> returns an instance of type <code>Banana</code>!</p>\n\n<p>I found a quirky work-around by sub-classing <code>Banana</code> like so:</p>\n\n<p><strong>InternalBanana.h</strong></p>\n\n<pre><code>@interface InternalBanana : Banana\n- (void)peel;\n@end\n</code></pre>\n\n<p>Then within <code>Monkey.m</code> I can safely <code>#import \"InternalBanana.h\"</code>. However this has two issues:</p>\n\n<ol>\n<li>It only works for Bananas instantiated <strong>by my Monkey</strong> (if a user of my library instantiates a Banana and passes it to my Monkey, it will be a Banana and not an InternalBanana)</li>\n<li>I have to create an <code>InternalBanana.m</code> file, but within this file I <strong>cannot</strong> define <code>peel</code>. Attempting to define <code>peel</code> within <code>InternalBanana.m</code> will throw an error that <code>peeled</code> is not defined, since <code>peeled</code> is a private variable of the super class. If I define <code>peel</code> within <code>InternalBanana.m</code> and it only calls <code>[super peel]</code>, that will also fail since <code>Banana</code> does not define a <code>peel</code> method. While this <strong><em>works</em></strong>, it does cause Xcode to throw a warning saying that there is no method definition for <code>peel</code> (but it builds and runs despite the warning)</li>\n</ol>\n\n<p>What is the <strong><em>proper</em></strong> solution to this monkey business?</p>\n"}, {"tags": ["objective-c", "xcode", "parse-platform", "properties", "weak-references"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1569968595, "post_id": 58192316, "comment_id": 102765189, "body": "I&#39;m not sure if it&#39;s an async concept you are missing, or <code>__block</code> you are looking for."}, {"owner": {"reputation": 7, "user_id": 10703743, "user_type": "registered", "profile_image": "https://graph.facebook.com/1215747386/picture?type=large", "display_name": "user3240549", "link": "https://stackoverflow.com/users/10703743/user3240549"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569969591, "post_id": 58192316, "comment_id": 102765426, "body": "Not sure if it has to do with executing the block on the main thread or not , but I\u2019m pretty sure that the __block can only be used for primitive data types."}, {"owner": {"reputation": 2501, "user_id": 6079144, "user_type": "registered", "profile_image": "https://graph.facebook.com/963317420421820/picture?type=large", "display_name": "Davi Mac&#234;do", "link": "https://stackoverflow.com/users/6079144/davi-mac%c3%aado"}, "edited": false, "score": 2, "creation_date": 1569976424, "post_id": 58192316, "comment_id": 102766706, "body": "If you call <code>[Event save]</code> outside the block, it will run before <code>reverseGeocodeLocation</code> has executed and <code>Event[@&quot;StreetName&quot;]</code> is assigned because <code>reverseGeocodeLocation</code> is an async method. So you can&#39;t do that. If you want to use the result of <code>reverseGeocodeLocation</code> to call <code>[Event save]</code>, you will have to do do it inside the <code>completionHandler</code> block."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 2501, "user_id": 6079144, "user_type": "registered", "profile_image": "https://graph.facebook.com/963317420421820/picture?type=large", "display_name": "Davi Mac&#234;do", "link": "https://stackoverflow.com/users/6079144/davi-mac%c3%aado"}, "edited": false, "score": 0, "creation_date": 1570012777, "post_id": 58192316, "comment_id": 102777664, "body": "<i>that the __block can only be used for primitive data types</i> Yes this is because only &quot;primitive&quot; data types are captured. If you capture a pointer, esp. an object reference, inside a block, the value of the pointer is kept, not the object it points to. The object itself is volatile. \u2013 But this has nothing to do with your Q. @Davi is right."}], "owner": {"reputation": 7, "user_id": 10703743, "user_type": "registered", "profile_image": "https://graph.facebook.com/1215747386/picture?type=large", "display_name": "user3240549", "link": "https://stackoverflow.com/users/10703743/user3240549"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569964266, "creation_date": 1569964266, "question_id": 58192316, "link": "https://stackoverflow.com/questions/58192316/how-can-i-retain-the-value-of-an-object-in-a-block", "title": "How can I retain the value of an object in a block?", "body": "<p><strong>Scenario:</strong></p>\n\n<p>I have a Parse <code>PFObject</code> (which is a subclass of <code>NSObject)</code> declared:</p>\n\n<pre><code> PFObject *Event = [PFObject objectWithClassName:@\"Event\"];\n</code></pre>\n\n<p>Later I have a <code>CLGeocoder</code>:</p>\n\n<pre><code>CLGeocoder *ceo = [[CLGeocoder alloc]init];\nCLLocation *loc = ...\n\n[ceo reverseGeocodeLocation:loc\n                    preferredLocale:[NSLocale localeWithLocaleIdentifier:@\"pl_PL\"]\n                  completionHandler:^(NSArray *placemarks, NSError *error) {\n                      CLPlacemark *placemark = [placemarks objectAtIndex:0];\n                      if (placemark) {\n\n                          Event[@\"StreetName\"] = ...\n\n                      }\n                  }\n];\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>When I want to save this <code>PFObject</code> by calling <code>[Event save]</code> (outside of the block) , all fields inside Event are uploaded except this one in the block because the value is not kept outside of the block. </p>\n\n<p><strong>My approach:</strong></p>\n\n<p>I think it can help to actually create a weak property, but for some reason then I click the button that triggers the IBAction where all of the above is enclosed in, nothing happens. </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1569954648, "post_id": 58190377, "comment_id": 102760347, "body": "You mean <code>[buttonBar.topAnchor constraintEqual:_segmentedControl.bottomAnchor].active = YES;</code> ?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1569954769, "post_id": 58190377, "comment_id": 102760391, "body": "In both Swift and Objective-C, you really should use <code>NSLayoutConstraint.activate</code>/<code>NSLayoutConstraint.activateConst&zwnj;&#8203;raints</code> instead of several separate uses of <code>isActive&#47;active</code>."}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 0, "creation_date": 1569955183, "post_id": 58190377, "comment_id": 102760532, "body": "Just to expand on what rmaddy said ^^, <code>activateConstraints</code> according to the docs is similar to setting <code>active</code> to <code>YES</code> for each constraint in an array, but is &quot;typically&quot; more efficient. IOW, if you just have one constraint to activate, it&#39;s fine to set it&#39;s <code>active</code> property directly; if you have a bunch (as in the question), stick &#39;em in an array and use <code>activateConstraints</code> instead."}, {"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 0, "creation_date": 1569955391, "post_id": 58190377, "comment_id": 102760602, "body": "Yes but for example how can I multiply in the last line? <code>buttonBar.widthAnchor.constraint(equalTo: segmentedControl.widthAnchor, multiplier: 1 &#47; CGFloat(segmentedControl.numberOfSegments)).isActive = true</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 0, "creation_date": 1569954852, "post_id": 58190432, "comment_id": 102760423, "body": "It says <code>No visible @interface for &#39;NSLayoutYAxisAnchor&#39; declares the selector &#39;constraintEqual:&#39;</code>"}, {"owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "reply_to_user": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 1, "creation_date": 1569955358, "post_id": 58190432, "comment_id": 102760582, "body": "Ah, yeah I assumed your function was correct, after going to the apple docs I just linked, it turns out it should be <code>constraintEqualToAnchor</code> :). Edited my answer"}, {"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 0, "creation_date": 1569955909, "post_id": 58190432, "comment_id": 102760778, "body": "What about the last line? where I need to multiply"}, {"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 0, "creation_date": 1569956481, "post_id": 58190432, "comment_id": 102760995, "body": "I&#39;m sorry, my xcode was bugged and it was showing me errors that did&#39;t existed"}, {"owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "reply_to_user": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "edited": false, "score": 1, "creation_date": 1569956625, "post_id": 58190432, "comment_id": 102761047, "body": "np, just trying to help to make you better at finding this info on your own. Xcode is notoriously broken so lol relatable. if its clearly wrong usually a good thing to try is a build (<code>CMD + B</code>) or a clean (<code>Shift + CMD + K</code>) both are under the Product dropdown at the top and there should be a progress loader along the very top for reference"}], "tags": [], "owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "is_accepted": true, "score": 3, "last_activity_date": 1569956426, "last_edit_date": 1569956426, "creation_date": 1569954656, "answer_id": 58190432, "question_id": 58190377, "link": "https://stackoverflow.com/questions/58190377/how-can-i-turn-this-from-swift-to-objective-c/58190432#58190432", "title": "How can I turn this from swift to objective-c?", "body": "<p>You should be able to do </p>\n\n<pre><code>[buttonBar.topAnchor constraintEqualToAnchor:_segmentedControl.bottomAnchor].active = YES;\n</code></pre>\n\n<p>Apple docs usually a good place to start:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/nslayoutanchor?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/nslayoutanchor?language=objc</a></p>\n\n<p>In response to your comment about multipliers again read the docs. For example scrolling down on that we see:</p>\n\n<blockquote>\n  <p><strong>Note:</strong></p>\n  \n  <p>You never use the NSLayoutAnchor class directly. Instead, use one of its subclasses, based on the type of constraint you wish to create.<br>\n  - Use NSLayoutXAxisAnchor to create horizontal constraints.<br>\n  - Use NSLayoutYAxisAnchor to create vertical constraints.<br>\n  - Use NSLayoutDimension to create constraints that affect the view\u2019s height or width.</p>\n</blockquote>\n\n<p>So width and height constraints are actually <code>NSLayoutDimension</code> and those have <a href=\"https://developer.apple.com/documentation/uikit/nslayoutdimension?language=objc\" rel=\"nofollow noreferrer\">extra methods</a>, specifically: <code>constraintEqualToAnchor:multiplier:</code></p>\n\n<p>Even if you don't want to reference the docs every time, auto-complete is your friend. Just start typing something like <code>[self.widthAnchor constraint</code> and see what comes up</p>\n"}, {"tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": false, "score": 2, "last_activity_date": 1569962270, "creation_date": 1569962270, "answer_id": 58191954, "question_id": 58190377, "link": "https://stackoverflow.com/questions/58190377/how-can-i-turn-this-from-swift-to-objective-c/58191954#58191954", "title": "How can I turn this from swift to objective-c?", "body": "<blockquote>\n  <p>I don't know how to put the .isActive part.</p>\n</blockquote>\n\n<p>Each of the lines you cite does several things. For example:</p>\n\n<pre><code>buttonBar.topAnchor.constraint(equalTo: segmentedControl.bottomAnchor).isActive = true\n</code></pre>\n\n<p>You have to understand what's going on here in order to be able to convert it to a different language. Let's break it down from left to right:</p>\n\n<pre><code>buttonBar\n</code></pre>\n\n<p>This is a variable that points to a view of some sort, presumably a <code>UIToolbar</code>, but it doesn't really matter as long as it's a view.</p>\n\n<pre><code>.topAnchor\n</code></pre>\n\n<p>You're calling the <code>topAnchor</code> accessor method, which will return an <code>NSLayoutAnchor</code> object (in fact, a <code>NSLayoutYAxisAnchor</code> object). Objective-C has similar dot syntax for accessors, so you could say <code>buttonBar.topAnchor</code> there too, but you can also write it as <code>[buttonBar topAnchor]</code>, which might help you see what's going on.</p>\n\n<pre><code>.constraint(equalTo: ________)\n</code></pre>\n\n<p>This is a call to the <code>constraint(equalTo:)</code> method. Objective-C's dot syntax doesn't work when there are parameters involved, so you need the messaging syntax. If you're not sure how to translate the name, just look up the Swift name and then change the docs to show Objective-C: <code>constraintEqualToAnchor:</code>. So this part translates to <code>[_____ constraintEqualToAnchor:_____]</code>.</p>\n\n<pre><code>segmentedControl.bottomAnchor\n</code></pre>\n\n<p>This is the same as above: you're just getting the <code>bottomAnchor</code> property of <code>segmentedControl</code>. The result is used as the parameter to the <code>constraintEqualToAnchor:</code> method. Let's put what we've got so far together:</p>\n\n<pre><code>[[buttonBar topAnchor] constraintEqualTo:[segmentedControl bottomAnchor]]\n</code></pre>\n\n<p>In other words, you're telling the button bar's top anchor to create a constraint that will make it equal to the segment control's bottom anchor. That constraint is returned by the <code>constraintEqualTo:</code> method, which brings us to the last part:</p>\n\n<pre><code>.isActive = true\n</code></pre>\n\n<p>Here you're setting the <code>isActive</code> property of the constraint returned by <code>constraintEqualTo:</code>. So, in Objective-C, you've got:</p>\n\n<pre><code>[[[buttonBar topAnchor] constraintEqualTo:[segmentedControl bottomAnchor]] setActive:YES];\n</code></pre>\n\n<p>Or, using Obj-C's dot syntax:</p>\n\n<pre><code>[buttonBar.topAnchor constraintEqualTo:segmentedControl.bottomAnchor].active = YES;\n</code></pre>\n\n<blockquote>\n  <p>Yes but for example how can I multiply in the last line?</p>\n</blockquote>\n\n<p>That last line is:</p>\n\n<pre><code>buttonBar.widthAnchor.constraint(equalTo: segmentedControl.widthAnchor, multiplier: 1 / CGFloat(segmentedControl.numberOfSegments)).isActive = true\n</code></pre>\n\n<p>If you followed all of the above, then you can probably see that you're really doing the same thing, just calling a different method to get the constraint. That method is <code>constraint(equalTo:multiplier:)</code> in Swift, or <code>constraintEqualToAnchor:multiplier:</code> in Objective-C. So do the same thing...</p>\n\n<pre><code>[_____ constraintEqualToAnchor:_____ multiplier:_____].active = YES;\n</code></pre>\n\n<p>Now just fill in the blanks:</p>\n\n<pre><code>[buttonBar.widthAnchor constraintEqualToAnchor:segmentedControl.widthAnchor\n          multiplier:1/CGFloat(segmentedControl.numberOfSegments)].active = YES;\n</code></pre>\n"}], "owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 58190432, "answer_count": 2, "score": 0, "last_activity_date": 1569962270, "creation_date": 1569954366, "question_id": 58190377, "link": "https://stackoverflow.com/questions/58190377/how-can-i-turn-this-from-swift-to-objective-c", "title": "How can I turn this from swift to objective-c?", "body": "<p>I'm following a tutorial but it is in swift and the project I'm working on it's partially written in Objective-C. I already \"translated\" half of the code but I can't change this part yet. </p>\n\n<pre><code>// Constrain the top of the button bar to the bottom of the segmented control\nbuttonBar.topAnchor.constraint(equalTo: segmentedControl.bottomAnchor).isActive = true\nbuttonBar.heightAnchor.constraint(equalToConstant: 5).isActive = true\n// Constrain the button bar to the left side of the segmented control\nbuttonBar.leftAnchor.constraint(equalTo: segmentedControl.leftAnchor).isActive = true\n// Constrain the button bar to the width of the segmented control divided by the number of segments\nbuttonBar.widthAnchor.constraint(equalTo: segmentedControl.widthAnchor, multiplier: 1 / CGFloat(segmentedControl.numberOfSegments)).isActive = true\n</code></pre>\n\n<p>I already have this, but I don't know how to put the <code>.isActive</code> part. </p>\n\n<pre><code>[buttonBar.topAnchor constraintEqual:_segmentedControl.bottomAnchor];\n</code></pre>\n\n<p>How can I do it?</p>\n"}, {"tags": ["c++", "ios", "objective-c", "xcode", "ios13"], "comments": [{"owner": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "edited": false, "score": 0, "creation_date": 1570146976, "post_id": 58189515, "comment_id": 102831285, "body": "I&#39;m seeing this exact same backtrace on tvOS... and I&#39;d really, really like to know how to fix it :)"}, {"owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "reply_to_user": {"reputation": 1096, "user_id": 4318814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348819052/picture?type=large", "display_name": "Ron Thompson", "link": "https://stackoverflow.com/users/4318814/ron-thompson"}, "edited": false, "score": 0, "creation_date": 1570165105, "post_id": 58189515, "comment_id": 102834542, "body": "The only way I was able to get it to run is taking out a part of the app that was taking up a very large amount of disk space. Hopefully will have a more concrete answer at some point \ud83d\ude2c"}], "answers": [{"tags": [], "owner": {"reputation": 760, "user_id": 3875061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1070541368/picture?type=large", "display_name": "Alfredo Luco G", "link": "https://stackoverflow.com/users/3875061/alfredo-luco-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1596733489, "creation_date": 1596733489, "answer_id": 63288517, "question_id": 58189515, "link": "https://stackoverflow.com/questions/58189515/ios-13-crash-backtrace-not-available/63288517#63288517", "title": "iOS 13 Crash - Backtrace not available", "body": "<p>I had the same issue. Probably it seems you're deallocating some variables earlier.</p>\n<p>Best Regards</p>\n"}], "owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2062, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1596733489, "creation_date": 1569950086, "question_id": 58189515, "link": "https://stackoverflow.com/questions/58189515/ios-13-crash-backtrace-not-available", "title": "iOS 13 Crash - Backtrace not available", "body": "<p>Dealing with a confounding crash for an iOS app. The application worked fine in previous iOS versions, but in iOS 13 it crashes before getting past the launch screen. This doesn't happen on the simulator or running on a device from Xcode, but <em>does</em> happen on the released version and when an archive build is deployed via fabric-beta.</p>\n\n<p>When pulling a log from a device, all I get is (after the app info):</p>\n\n<pre><code>Date/Time:           2019-10-01 11:34:58.1246 -0500\nLaunch Time:         2019-10-01 11:34:57.8849 -0500\nOS Version:          iPhone OS 13.1.1 (17A854)\nRelease Type:        User\nBaseband Version:    1.01.17\nReport Version:      104\n\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\nException Note:  EXC_CORPSE_NOTIFY\nTermination Description: DYLD, Assertion failed: ((_containerTypedBytes-&gt;payloadLength + sizeof(TypedBytes) + payloadSize) &lt; (16 * 1024 * 1024)), function append, file /BuildRoot/Library/Caches/com.apple.xbs/Sources/dyld/dyld-732.3/dyld3/ClosureWriter.cpp, line 84.\nHighlighted by Thread:  0\n\nBacktrace not available\n\nUnknown thread crashed with ARM Thread State (64-bit):\n    x0: 0x0000000000000006   x1: 0x0000000000000009   x2: 0x000000016bac4b00   x3: 0x0000000000000014\n    x4: 0x000000016bac4700   x5: 0x0000000000000000   x6: 0x0000000000000002   x7: 0x0000000015f4f170\n    x8: 0x0000000000000020   x9: 0x0000000000000009  x10: 0x7257657275736f6c  x11: 0x7070632e72657469\n   x12: 0x75736f6c432f3364  x13: 0x7265746972576572  x14: 0x696c202c7070632e  x15: 0x000a2e343820656e\n   x16: 0x0000000000000209  x17: 0x00000001225417f4  x18: 0x0000000000000000  x19: 0x0000000000000000\n   x20: 0x000000016bac4700  x21: 0x0000000000000014  x22: 0x000000016bac4b00  x23: 0x0000000000000009\n   x24: 0x0000000000000006  x25: 0x00000001225e1b28  x26: 0x0000000122568194  x27: 0x000000000000ba00\n   x28: 0x0000000000000000   fp: 0x000000016bac46d0   lr: 0x000000012254e74c\n    sp: 0x000000016bac4690   pc: 0x000000012254717c cpsr: 0x40000000\n   esr: 0x00000000  Address size fault\n\nBinary images description not available\n\nError Formulating Crash Report:\nFailed to create CSSymbolicatorRef - corpse still valid \u00af\\_(\u30c4)_/\u00af\n\nEOF\n</code></pre>\n\n<p>It's pretty devoid of information, but it appears to be a crash in Apple's <a href=\"https://opensource.apple.com/source/dyld/dyld-635.2/dyld3/ClosureWriter.cpp.auto.html\" rel=\"noreferrer\"><code>ClosureWriter.cpp</code></a> but there's no indication of how or where this is happening. </p>\n\n<p>Is this Apple's bug? Is it a problem with a library? Is there a workaround? Any help would be much appreciated!</p>\n"}, {"tags": ["ios", "objective-c", "core-foundation"], "comments": [{"owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "edited": false, "score": 0, "creation_date": 1569968824, "post_id": 58189283, "comment_id": 102765259, "body": "Xcode 11 now allows you to add a Font privilege entitlement although it appears it made no difference in this case. :("}, {"owner": {"reputation": 18211, "user_id": 56079, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a252eecd500b0ba734ea17f9ae1fb2da?s=128&d=identicon&r=PG", "display_name": "jjxtra", "link": "https://stackoverflow.com/users/56079/jjxtra"}, "edited": false, "score": 0, "creation_date": 1601953247, "post_id": 58189283, "comment_id": 113559399, "body": "As of iOS 14 apple font api&#39;s are pretty limited - either you use the font picker controller to get the user installed fonts or you get nothing. You also can&#39;t install fonts from arbitrary files or url, you have to use app bundle or on demand resource. Hoping this improves in future iOS..."}], "answers": [{"comments": [{"owner": {"reputation": 5059, "user_id": 5131026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac66e297eaf7972fb8c619a76321e7a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ely", "link": "https://stackoverflow.com/users/5131026/ely"}, "edited": false, "score": 2, "creation_date": 1598387477, "post_id": 58205378, "comment_id": 112441669, "body": "Sometimes Apple&#39;s &quot;concerns about privacy&quot; does result in missing important functionality. How can knowledge about user installed fonts harm somebody&#39;s privacy? And why is this a problem in iOS, and not in macOS? Using the UIFontPickerViewController to select user installed fonts is a messy solution, because all system provided fonts are also being shown."}], "tags": [], "owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "is_accepted": true, "score": 6, "last_activity_date": 1570032769, "creation_date": 1570032769, "answer_id": 58205378, "question_id": 58189283, "link": "https://stackoverflow.com/questions/58189283/ios-13-installed-fonts-retrieval/58205378#58205378", "title": "iOS 13 Installed Fonts Retrieval", "body": "<p>At first I thought you could use <code>CTFontManagerCopyRegisteredFontDescriptors</code> with the kCTFontManagerScopePersistent scope but that always return a CFArrayRef with 0 items. I'm guessing if your own don't install it, you can't see it.</p>\n\n<p>So I found out that enumeration of User Custom Fonts in iPadOS 13 is prohibited. Enumeration will only return system font because of privacy concerns. See <a href=\"https://developer.apple.com/videos/play/wwdc2019/227/\" rel=\"noreferrer\">Font Management and Text Scaling WWDC Video</a> at timestamp 18:05.</p>\n\n<p>The only way to reach those font is to use the provided <code>UIFontPickerViewController</code> class for your font selector with limited customisation.</p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "is_accepted": false, "score": 5, "last_activity_date": 1588675449, "creation_date": 1588675449, "answer_id": 61611249, "question_id": 58189283, "link": "https://stackoverflow.com/questions/58189283/ios-13-installed-fonts-retrieval/61611249#61611249", "title": "iOS 13 Installed Fonts Retrieval", "body": "<p>I would like to add to your current answer, that to access custom user installed fonts via <code>UIFontPickerViewController</code> you <strong>must add</strong> Fonts Privilege entitlement to your project target.</p>\n\n<p>It can be done in <em>Project > Select your app target > Signing &amp; Capabilities > \n+ Capability</em> or just add it to your <em>.entitlements</em> file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pfnaa.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pfnaa.png\" alt=\"Entitlement - Fonts Privilege\"></a></p>\n"}], "owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 58205378, "answer_count": 2, "score": 1, "last_activity_date": 1588675449, "creation_date": 1569949020, "question_id": 58189283, "link": "https://stackoverflow.com/questions/58189283/ios-13-installed-fonts-retrieval", "title": "iOS 13 Installed Fonts Retrieval", "body": "<p>Is there a way to retrieve a list of Installed Fonts in iPadOS 13.1?</p>\n\n<p>Neither</p>\n\n<p><code>CTFontManagerCopyAvailablePostScriptNames</code></p>\n\n<p>nor</p>\n\n<p><code>[UIFont familyNames]</code></p>\n\n<p>would get any of the fonts shown in iPad Settings > General > Fonts. Is there something I'm missing?</p>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1570044813, "post_id": 58186347, "comment_id": 102794330, "body": "I think your best direction is some <code>js</code> postprocessing. You should be able to reload the <code>iframe</code> with <code>iframe.setAttribute(&#39;src&#39;, iframe.getAttribute(&#39;src&#39;))</code>"}, {"owner": {"reputation": 1, "user_id": 12148782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jyscai2Jojk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPRJd1LLSzNlLdNNy0IwlMqe16fA/photo.jpg?sz=128", "display_name": "Ram M", "link": "https://stackoverflow.com/users/12148782/ram-m"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1570097118, "post_id": 58186347, "comment_id": 102809683, "body": "Thanks @Kamil.S. Could you elaborate further? I am not sure where I can the required headers in the above approach."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1570102209, "post_id": 58186347, "comment_id": 102812334, "body": "Check <a href=\"https://stackoverflow.com/a/220169/5329717\">stackoverflow.com/a/220169/5329717</a>"}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1570102899, "post_id": 58186347, "comment_id": 102812633, "body": "Btw some minimalistic <code>html</code> file with at least one <code>iframe</code> ilustrating your problem would really help in this question."}], "owner": {"reputation": 1, "user_id": 12148782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jyscai2Jojk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPRJd1LLSzNlLdNNy0IwlMqe16fA/photo.jpg?sz=128", "display_name": "Ram M", "link": "https://stackoverflow.com/users/12148782/ram-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570043499, "creation_date": 1569938073, "last_edit_date": 1570043499, "question_id": 58186347, "link": "https://stackoverflow.com/questions/58186347/how-to-manipulate-iframes-in-a-wkwebview", "title": "How to manipulate iFrames in a WKWebView?", "body": "<p>I want to inject custom headers into <code>NSURLRequests</code> made for top-level frames of <code>WKWebView</code> and all of its iFrames. <br>\nTo achieve this I am listening to the<br>\n<code>- webView:decidePolicyForNavigationAction:decisionHandler:</code> method. In this method i want to cancel the existing page load and create a new <code>NSURLRequest</code> and reload the page. <br><br>\nHere's the code snippet I am using,</p>\n\n<pre><code> - (void)webView:(WKWebView*)webView\n    decidePolicyForNavigationAction:(WKNavigationAction*)action\n                    decisionHandler:\n                        (void (^)(WKNavigationActionPolicy))decisionHandler {\n\n\n  NSString* header = @\"Custom-Header\";\n    if([action.request.allHTTPHeaderFields objectForKey:header] ){\n        NSLog(@\"Header already added for URL - %@\",action.request.URL.absoluteString );\n    }\n    else{\n        decisionHandler(WKNavigationActionPolicyCancel);\n        NSLog(@\"Adding header for URL %@\",action.request.URL.absoluteString);\n        NSMutableURLRequest *mutableRequest = [action.request mutableCopy];\n        NSString* headerVal;\n        if(action.targetFrame.mainFrame)\n        {\n            headerVal = @\"MAINFRAME\";\n        }\n        else\n        {\n            headerVal = @\"SUBFRAME\";\n        }\n\n        [mutableRequest addValue:headerVal forHTTPHeaderField:header];\n\n        [action.targetFrame.webView loadRequest:mutableRequest];\n        return;\n    }\n\n    // further processing\n}\n</code></pre>\n\n<p>However with this approach I face the following problem - If the callback is received for a iFrame, the entire page reloads with the iFrame URL. Instead I want only the iFrame to reload with the URL. Is there any way to solve this?</p>\n\n<p><strong>Note</strong> that at the end of this I want to be able to send a custom header indicating whether the request originated from the main frame or an iFrame.Please do suggest if there are better solutions to achieve this.</p>\n"}, {"tags": ["objective-c", "swift", "localization"], "comments": [{"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1569933210, "post_id": 58184840, "comment_id": 102749315, "body": "Are your localizable.strings added to every swift module?"}, {"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "reply_to_user": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1569933313, "post_id": 58184840, "comment_id": 102749374, "body": "Yes, I have 4 localizable files in each modules (one for each language)"}, {"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1569933375, "post_id": 58184840, "comment_id": 102749416, "body": "Can you add a screenshot of your app files ? Specially the localizable ? You should have 1 Localizable, with 4 &quot;subfiles&quot;"}, {"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "reply_to_user": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1569934081, "post_id": 58184840, "comment_id": 102749811, "body": "ok. I edited my first message. This is how the localizables are set also in Objective-C modules"}, {"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1569934149, "post_id": 58184840, "comment_id": 102749853, "body": "Try to remove all your strings files. Then use File / New / Strings, and Xcode will generate the appropriate file structure for you"}], "answers": [{"tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": false, "score": 0, "last_activity_date": 1570005892, "creation_date": 1570005892, "answer_id": 58198130, "question_id": 58184840, "link": "https://stackoverflow.com/questions/58184840/swift-modules-are-not-using-localizables-from-l10n/58198130#58198130", "title": "Swift modules are not using localizables from L10N", "body": "<p>You will need <code>NSLocalizedStringFromTableInBundle</code> to refer strings from modules.</p>\n\n<p>To get bundle you can use <code>+[NSBundle bundleFromClass:]</code></p>\n"}], "owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570005892, "creation_date": 1569933057, "last_edit_date": 1569934069, "question_id": 58184840, "link": "https://stackoverflow.com/questions/58184840/swift-modules-are-not-using-localizables-from-l10n", "title": "Swift modules are not using localizables from L10N", "body": "<p>I'm working on a project which's been built by different modules. Most of the modules are in Objective-C, but some of them are written in Swift.</p>\n\n<p>I added localizables (using L10N) in four different languages and I can see the language changes in the whole app, excepting the Swift modules. </p>\n\n<p>In my project I have the <code>localizable.strings</code> files so they've been created correctly, but for some reason when I run the app, it shows my default language only.</p>\n\n<p>Any idea about how this can be solved?</p>\n\n<p><strong>EDITED:</strong></p>\n\n<p>here is a screenshot of how localizable files are set in my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U9KMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9KMP.png\" alt=\"project\"></a></p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["objective-c", "oauth-2.0"], "answers": [{"tags": [], "owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "is_accepted": false, "score": 0, "last_activity_date": 1569942602, "creation_date": 1569942602, "answer_id": 58187765, "question_id": 58184712, "link": "https://stackoverflow.com/questions/58184712/oauth-where-can-i-catch-the-redirect-uri-calling-back-my-app-from-an-outside/58187765#58187765", "title": "OAuth - Where can I catch the &quot;redirect URI&quot; calling back my app from an outside browser?", "body": "<p>I assume you are using a URLScheme in your app and calling it from the browser to reopen your app. In which case you can add the data you need as parameters to the URL like this:</p>\n\n<pre><code>yourscheme://oath?token=1234567890&amp;refresh_token=0987654321\n</code></pre>\n\n<p>Then in your app implement the <code>-(BOOL)application:openURL:options:</code> method like this:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options\n{\n    NSLog(@\"url recieved: %@\", url);\n    NSLog(@\"scheme: %@\", [url scheme]);\n    NSLog(@\"host: %@\", [url host]);\n    NSLog(@\"query string: %@\", [url query]);\n    if ([url.host isEqualToString:@\"oath\"]) {\n        // Use NSString methods to extract the data from the URL\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569942602, "creation_date": 1569932610, "question_id": 58184712, "link": "https://stackoverflow.com/questions/58184712/oauth-where-can-i-catch-the-redirect-uri-calling-back-my-app-from-an-outside", "title": "OAuth - Where can I catch the &quot;redirect URI&quot; calling back my app from an outside browser?", "body": "<p>I have to open the whole OAuth Login process in an outside browser window and not in any UIWebView within the app. So my redirect URI already opens my app correctly. But in which method or where exactly can I catch the data that is sent back to the app?</p>\n"}, {"tags": ["ios", "objective-c", "uiview", "uiviewcontroller", "addsubview"], "answers": [{"comments": [{"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569930983, "post_id": 58184227, "comment_id": 102748133, "body": "with &quot;Window&quot; the dark view cover UIViewController"}, {"owner": {"reputation": 242, "user_id": 4827148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6253f8ba95fbbd1f818fffa1683e1e2f?s=128&d=identicon&r=PG&f=1", "display_name": "Abilash Bansal", "link": "https://stackoverflow.com/users/4827148/abilash-bansal"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569931374, "post_id": 58184227, "comment_id": 102748343, "body": "If you want to add from customClass then you can add directly like this: [self addsubview: _darkView]"}], "tags": [], "owner": {"reputation": 242, "user_id": 4827148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6253f8ba95fbbd1f818fffa1683e1e2f?s=128&d=identicon&r=PG&f=1", "display_name": "Abilash Bansal", "link": "https://stackoverflow.com/users/4827148/abilash-bansal"}, "is_accepted": false, "score": 0, "last_activity_date": 1569930638, "creation_date": 1569930638, "answer_id": 58184227, "question_id": 58183830, "link": "https://stackoverflow.com/questions/58183830/objective-c-add-uiview-to-superview-of-uiview-custom-class-programmatically/58184227#58184227", "title": "Objective C - Add UIView to superview of UIView custom class programmatically", "body": "<p>You can try to add subview on window </p>\n\n<pre><code>   [self.window addSubview: _darkview];\n</code></pre>\n\n<p>Let me know if it works for you or not.</p>\n"}], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569930638, "creation_date": 1569929120, "question_id": 58183830, "link": "https://stackoverflow.com/questions/58183830/objective-c-add-uiview-to-superview-of-uiview-custom-class-programmatically", "title": "Objective C - Add UIView to superview of UIView custom class programmatically", "body": "<p>I have an XIB for my <code>UIViewController</code>. Above my <code>ViewController</code> I want to add a <code>UIView</code> <strong>Custom Class</strong>. </p>\n\n<p>Now I need a <strong>dark view</strong> between the <code>UIViewController</code> and my Custom <code>UIView</code>. </p>\n\n<p>I wanted to implement the <strong>Dark View</strong> inside the <code>UIView</code> <strong>custom class</strong> using </p>\n\n<p><code>[self.superview addsubview: _darkView]</code></p>\n\n<p>I tried to do this but it doesn't seem to work ... </p>\n\n<p>You can tell me how to solve this thing programmatically by working only from my uiview custom class ? Sorry for the stupid question but I can't solve this thing</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 216, "user_id": 9848965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woE7DAlt2ek/AAAAAAAAAAI/AAAAAAAAHhE/Ra5jeuThQBA/photo.jpg?sz=128", "display_name": "Wiki", "link": "https://stackoverflow.com/users/9848965/wiki"}, "edited": false, "score": 0, "creation_date": 1570195663, "post_id": 58183470, "comment_id": 102847555, "body": "do you still have the same issue? i have given the answer below, is it helpful?"}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 11300141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2ebf2df93180ce8661e70b5c88b26?s=128&d=identicon&r=PG&f=1", "display_name": "HAPPY BHALODIYA", "link": "https://stackoverflow.com/users/11300141/happy-bhalodiya"}, "edited": false, "score": 0, "creation_date": 1570602529, "post_id": 58214846, "comment_id": 102959121, "body": "Still same issue."}, {"owner": {"reputation": 216, "user_id": 9848965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woE7DAlt2ek/AAAAAAAAAAI/AAAAAAAAHhE/Ra5jeuThQBA/photo.jpg?sz=128", "display_name": "Wiki", "link": "https://stackoverflow.com/users/9848965/wiki"}, "reply_to_user": {"reputation": 505, "user_id": 11300141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2ebf2df93180ce8661e70b5c88b26?s=128&d=identicon&r=PG&f=1", "display_name": "HAPPY BHALODIYA", "link": "https://stackoverflow.com/users/11300141/happy-bhalodiya"}, "edited": false, "score": 0, "creation_date": 1570611220, "post_id": 58214846, "comment_id": 102963519, "body": "can you please show the tell me more detail? at which step you face the error? i have sent you 4  step? are these steps error free"}, {"owner": {"reputation": 505, "user_id": 11300141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2ebf2df93180ce8661e70b5c88b26?s=128&d=identicon&r=PG&f=1", "display_name": "HAPPY BHALODIYA", "link": "https://stackoverflow.com/users/11300141/happy-bhalodiya"}, "edited": false, "score": 0, "creation_date": 1570612160, "post_id": 58214846, "comment_id": 102964034, "body": "Yes, these steps were error-free. But when I build again it gives same error."}, {"owner": {"reputation": 216, "user_id": 9848965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woE7DAlt2ek/AAAAAAAAAAI/AAAAAAAAHhE/Ra5jeuThQBA/photo.jpg?sz=128", "display_name": "Wiki", "link": "https://stackoverflow.com/users/9848965/wiki"}, "reply_to_user": {"reputation": 505, "user_id": 11300141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2ebf2df93180ce8661e70b5c88b26?s=128&d=identicon&r=PG&f=1", "display_name": "HAPPY BHALODIYA", "link": "https://stackoverflow.com/users/11300141/happy-bhalodiya"}, "edited": false, "score": 0, "creation_date": 1570615046, "post_id": 58214846, "comment_id": 102965688, "body": "Is it working okay with simulator? And what is the version of your xcode?"}, {"owner": {"reputation": 1099, "user_id": 10971575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIQEf.jpg?s=128&g=1", "display_name": "Bhavik Kalariya", "link": "https://stackoverflow.com/users/10971575/bhavik-kalariya"}, "edited": false, "score": 0, "creation_date": 1570623377, "post_id": 58214846, "comment_id": 102970078, "body": "No it is not working.And Xcode version is 11.0. Have any other solution?"}, {"owner": {"reputation": 216, "user_id": 9848965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woE7DAlt2ek/AAAAAAAAAAI/AAAAAAAAHhE/Ra5jeuThQBA/photo.jpg?sz=128", "display_name": "Wiki", "link": "https://stackoverflow.com/users/9848965/wiki"}, "edited": false, "score": 1, "creation_date": 1570624789, "post_id": 58214846, "comment_id": 102970838, "body": "it should work on simulalor, may b there is another issue I can&#39;t help without seen the code"}], "tags": [], "owner": {"reputation": 216, "user_id": 9848965, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woE7DAlt2ek/AAAAAAAAAAI/AAAAAAAAHhE/Ra5jeuThQBA/photo.jpg?sz=128", "display_name": "Wiki", "link": "https://stackoverflow.com/users/9848965/wiki"}, "is_accepted": false, "score": 1, "last_activity_date": 1570089918, "creation_date": 1570089918, "answer_id": 58214846, "question_id": 58183470, "link": "https://stackoverflow.com/questions/58183470/why-this-error-occurs-in-xcode-for-ionic4/58214846#58214846", "title": "Why this error occurs in xcode for ionic4", "body": "<p>Your ionic app not supporting the architecture of XCode, please try these steps to again build you app for ios.</p>\n\n<pre><code>ionic build --prod\nsudo npm install -g ionic cordova\nionic integrations enable cordova --add\n ionic cordova prepare ios\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 11300141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70c2ebf2df93180ce8661e70b5c88b26?s=128&d=identicon&r=PG&f=1", "display_name": "HAPPY BHALODIYA", "link": "https://stackoverflow.com/users/11300141/happy-bhalodiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570192351, "creation_date": 1569927702, "last_edit_date": 1570192351, "question_id": 58183470, "link": "https://stackoverflow.com/questions/58183470/why-this-error-occurs-in-xcode-for-ionic4", "title": "Why this error occurs in xcode for ionic4", "body": "<p>I am trying to build the Ionic app in IOS. But when I start to build in XCODE, it gives me error like below.</p>\n\n<pre><code>Undefined symbols for architecture arm64:\n\"OBJC_CLASS$_GSDK_GTMLogger\", referenced from:\n    objc-class-ref in GoogleIPhoneUtilities(GIPReachability.o)\nld: symbol(s) not found for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation).\n</code></pre>\n\n<p>I had searched for a day but all in vain. Anyone here with a solution for this? Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "afnetworking-2", "afnetworking-3"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1569951489, "post_id": 58182937, "comment_id": 102759182, "body": "Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add \u201curgent\u201d or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}], "answers": [{"tags": [], "owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1570002059, "creation_date": 1570002059, "answer_id": 58197147, "question_id": 58182937, "link": "https://stackoverflow.com/questions/58182937/afnetworking-3-0-afhttpsessionmanager-using-nsurlrequest/58197147#58197147", "title": "AFNetworking 3.0 AFHTTPSessionManager using NSURLRequest", "body": "<p>I think what you are looking for is this ,</p>\n\n<pre><code>  NSURL *URL = [NSURL URLWithString:@\"http://example.com/resources/123.json\"];\n\n  AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n\n  [manager GET:URL.absoluteString parameters:nil progress:nil \n  success:^(NSURLSessionTask *task, id responseObject) {\n  NSLog(@\"JSON: %@\", responseObject);\n  } \n  failure:^(NSURLSessionTask *operation, NSError *error) {\n   NSLog(@\"Error: %@\", error);\n}];\n</code></pre>\n\n<p>Also take a look at this migration guide which will help you greatly\n<a href=\"https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-3.0-Migration-Guide</a></p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570002059, "creation_date": 1569925876, "last_edit_date": 1569951476, "question_id": 58182937, "link": "https://stackoverflow.com/questions/58182937/afnetworking-3-0-afhttpsessionmanager-using-nsurlrequest", "title": "AFNetworking 3.0 AFHTTPSessionManager using NSURLRequest", "body": "<p>In AFNetworking 2.0 I am using <code>AFHTTPRequestOperation</code>. In this I can easily get NSURLRequest from following code.</p>\n\n<pre><code>AFHTTPRequestOperation *op;\nself.fields = op.request.allHTTPHeaderFields[@\"Fields\"];\n</code></pre>\n\n<p>But now I am upgrading to AFNetworking 3.0 which is using <code>AFHTTPSessionManager</code> instead of <code>AFHTTPRequestOperation</code>. So, how can I achieve same result with AFHTTPSessionManager?</p>\n"}, {"tags": ["objective-c", "ios13", "uiwindow", "keywindow"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1569920294, "post_id": 58181251, "comment_id": 102742617, "body": "you should not add any subview to a <code>UIWindow</code> instance directly, that was never a valid configuration of the view-hiearchy on iOS; you should add a <a href=\"https://developer.apple.com/documentation/uikit/uiwindow/1621581-rootviewcontroller\" rel=\"nofollow noreferrer\"><code>rootViewController</code></a> only, then that could have subviews of its own view instance."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1569921403, "post_id": 58181251, "comment_id": 102743247, "body": "@holex There is essentially nothing wrong with adding views to <code>UIWindow</code>. Many applications have legitimate use cases for that. However, in most cases, using a <code>UIViewController</code> is a better idea."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 1, "creation_date": 1569922408, "post_id": 58181251, "comment_id": 102743768, "body": "@Sulthan, fundamentally <b>everything</b> is wrong with adding a subview to a <code>UIWindow</code> instance directly, there is no legitimate case to do it; however because it was allowed to do before, devs did that shamelessly \u2013 but that does not make it legal."}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1569927608, "post_id": 58181251, "comment_id": 102746490, "body": "@Sulthan agree with  on this one , It was allowed before but it was a common crime among all developers to do so , now that apple are evolving i think everyone should take heed in order to adapt. Even though some of these may not have direct effects once the hierachy has changed some effects are pretty visibile . Check out <code>UISwipeActionStandardButton</code> . Previously it was under UIView now that it has changed to <code>UITableView</code> it is showing significant changes and yet developers are still using it and this is not going to be good in the long run"}, {"owner": {"reputation": 197, "user_id": 757190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3b71S.jpg?s=128&g=1", "display_name": "Efesus", "link": "https://stackoverflow.com/users/757190/efesus"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1578424338, "post_id": 58181251, "comment_id": 105431521, "body": "@holex when you need a view appear on top of the keyboard, you need to get the top window and add the view on it. While it is not a great solution, I don&#39;t know any other"}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "reply_to_user": {"reputation": 197, "user_id": 757190, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3b71S.jpg?s=128&g=1", "display_name": "Efesus", "link": "https://stackoverflow.com/users/757190/efesus"}, "edited": false, "score": 0, "creation_date": 1578489468, "post_id": 58181251, "comment_id": 105454396, "body": "@Efesus, the proper solution is to create a new instance of <code>UIWindow</code> with custom <code>windowLevel</code> value (e.g. <code>alert</code>), and adding a proper <code>rootViewController</code> to it \u2013 instead of messing with the current key-window&#39;s stack manually."}], "owner": {"reputation": 1292, "user_id": 3258003, "user_type": "registered", "profile_image": "https://graph.facebook.com/1159051822/picture?type=large", "display_name": "Muhammad Fauzi Masykur", "link": "https://stackoverflow.com/users/3258003/muhammad-fauzi-masykur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569919978, "creation_date": 1569919978, "question_id": 58181251, "link": "https://stackoverflow.com/questions/58181251/uiwindow-subview-disappear-immediately-on-ios-13", "title": "UIWindow subview disappear immediately on ios 13", "body": "<p>I am upgrading my app to use iOS 13. I have been using a UIWindow to add image to the current screen. However in ios 13 the image will appear, but then disappear straight away. I tried building in previous version, which is ios 12.2, and it's working fine. </p>\n\n<p>this is my code:</p>\n\n<pre><code> UIWindow *currentWindow = [UIApplication sharedApplication].keyWindow;\n\n    UIImage *image = [UIImage imageNamed:@\"test_badge\" inBundle:VTBundle compatibleWithTraitCollection:nil];\n    UIImageView *badgeImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, [currentWindow bounds].size.height-115, 115, 115)];\n    badgeImageView.tag =100101;\n    badgeImageView.image = image;\n\n    [currentWindow addSubview:badgeImageView];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "avfoundation", "ios13"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569920667, "post_id": 58181247, "comment_id": 102742845, "body": "Same there: <a href=\"https://stackoverflow.com/questions/58166133/assigning-instance-of-avaudioplayer-in-ios13-leads-to-bad-access-runtime-error\" title=\"assigning instance of avaudioplayer in ios13 leads to bad access runtime error\">stackoverflow.com/questions/58166133/&hellip;</a>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1569943873, "post_id": 58181247, "comment_id": 102755914, "body": "This is a site for posting questions that can then have answers posted. Please rewrite this so it has a proper, acceptable question and then the solution posted as an answer below."}], "owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569933142, "creation_date": 1569919960, "last_edit_date": 1592644375, "question_id": 58181247, "link": "https://stackoverflow.com/questions/58181247/psa-avaudioplayer-alloc-init-crashes-in-ios-13-1-and-avaudioplayer", "title": "PSA: [[AVAudioPlayer alloc] init] crashes in iOS 13.1+ ( and AVAudioPlayer() )", "body": "<p>One of our apps uses an AudioManager class which handles playback of various audio files and it creates two AVAudioPlayer instances on init. Many of our methods work under the assumption that these two instances will never be nil, so we use the generic <code>init</code> method to create these two instances when the manager class's singleton is initialized, like this:</p>\n<pre><code>- (id)init\n{\n    self = [super init];\n    if(self){\n        _pushPlayer = [[AVAudioPlayer alloc] init];\n        _queuePlayer = [[AVAudioPlayer alloc] init];\n    }\n    return self;\n}\n</code></pre>\n<p>Is this the best way to do this? Probably not, but that's not the point. The point is, that 13.1 has some error in how AVAudioPlayers are allocated/deallocated. If you create an AVAudioPlayer this way, your app <em><strong>will crash</strong></em> when it tries to deallocate it. You will get an <code>EXC_BAD_ACCESS</code> for your audio player's pointer.</p>\n<p>Further, attempting to modify the dummy player, such as setting the delegate (even to nil), will cause a similar crash.</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/58110827/ios-13-1-crash-in-avaudio-player\">Here it is happening to someone else.</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/58166133/assigning-instance-of-avaudioplayer-in-ios13-leads-to-bad-access-runtime-error\">And another one</a> (thanks to <a href=\"https://stackoverflow.com/users/1801544/larme\">@Larme</a>.)</p>\n</li>\n</ul>\n<p>Our app runs totally fine on devices running iOS 13.0 and earlier. We installed the app from the App Store on devices running multiple versions and it only crashes on devices running at least 13.1.</p>\n<p>I also noticed that the <code>init</code> method is not present anywhere on the official documentation for <a href=\"https://developer.apple.com/documentation/avfoundation/avaudioplayer?language=objc\" rel=\"nofollow noreferrer\">AVAudioPlayer</a>, though the method is not deprecated and no warnings are given when you use it.</p>\n<h1>Don't use <code>[[AVAudioPlayer alloc] init]</code></h1>\n<h2>or <code>AVAudioPlayer()</code> for those of you who use Swift.</h2>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569917628, "post_id": 58180594, "comment_id": 102741345, "body": "Is that string UTF-8 encoded?  (which will depend on the encoding of the source files)"}, {"owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569917721, "post_id": 58180594, "comment_id": 102741390, "body": "Well, I suppose yes, because if I write <code>NSLog(@&quot;%d - %s&quot;, 123, &quot;\u0410\u0411\u0412\u0413&quot;);</code>, then everything prints out correctly. Also if I read the variadic parameters and convert them to <code>NSString</code> it works. But I was hoping there was a more generic way of doing it, without looping through the variadic arguments and casting them to some types."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1569920978, "post_id": 58180594, "comment_id": 102743021, "body": "I think you should log: <code>MyLog(&quot;%d - %@&quot;, 123, @&quot;\u0410\u0411\u0412\u0413&quot;);</code>"}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1569939024, "post_id": 58180594, "comment_id": 102752903, "body": "This looks like encoding issue. In some step you have inconsistent encoding. Make sure compiler uses same encoding as your source code (editor). Try setup global c-locale to system locale: <code>setlocale(LC_CTYPE, &quot;&quot;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "edited": false, "score": 0, "creation_date": 1569930869, "post_id": 58184124, "comment_id": 102748072, "body": "This seems to work but do you know how can I invoke this macro from my custom function? The problem I have with this approach is that I cannot declare this macro inside a header file because I need to be able to use this header from both <code>.cpp</code> and <code>.mm</code> files. Inside the header file I need to have a generic variadic function that can be used from both pure C++ and Objective C files and thus including Foundation classes is not an option."}], "tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": false, "score": 1, "last_activity_date": 1569930233, "creation_date": 1569930233, "answer_id": 58184124, "question_id": 58180594, "link": "https://stackoverflow.com/questions/58180594/nslogv-c-strings-encoding/58184124#58184124", "title": "NSLogv C strings encoding", "body": "<p>Look's like bug in <code>NSLogv</code> function, because <code>NSLog</code>, <code>printf</code>, <code>vprintf</code> works fine.\nI can suggest use macro instead:</p>\n\n<pre><code>#define MyLog(arg, ...) NSLog(@ arg, __VA_ARGS__)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1569996607, "post_id": 58192723, "comment_id": 102770442, "body": "Excellent answer!"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1569966619, "creation_date": 1569966619, "answer_id": 58192723, "question_id": 58180594, "link": "https://stackoverflow.com/questions/58180594/nslogv-c-strings-encoding/58192723#58192723", "title": "NSLogv C strings encoding", "body": "<p>You have discovered a curious \"feature\" of formatting in Objective-C and should visit <a href=\"https://feedbackassistant.apple.com/\" rel=\"nofollow noreferrer\">Apple's Feedback Assistant</a> and report it.</p>\n\n<p>So what is going on? Well it is nothing to do with variadic functions at all, and nothing to do with <code>NSLogv</code> <em>per se</em>. Rather it is to do with the underlying Objective-C formatting code which <code>NSLog</code>, <code>NSLogv</code>, <code>stringWithFormat:</code>, <em>et al</em> use and the <em>type</em> of the format string itself...</p>\n\n<p>Here is a simple demonstration of the \"feature\":</p>\n\n<pre><code>- (void)demo\n{\n   char *sample = \"\u0410\u0411\u0412\u0413\"; // This will be UTF-8 encoded\n\n   // use %p to show address, %s to show string, \\n as printf doesn't add one\n   char *cFormat = \"%p - %s\\n\";\n   NSString *nsFormat = @\"%p - %s\\n\"; // produces an __NSCFConstantString\n   NSString *convertedFormat = [NSString stringWithUTF8String:cFormat]; // produces an __NSCFString\n\n   printf(cFormat, sample, sample); // works\n   NSLog(convertedFormat, sample, sample); // fails with __NSCFString\n   NSLog(nsFormat, sample, sample); // works with __NSCFConstantString\n\n   NSLog(@\"formats equal: %s\", [convertedFormat isEqualToString:nsFormat] ? \"yes\" : \"no\"); // __NSCFString &amp; __NSCFConstantString are equal\n}\n</code></pre>\n\n<p>Run that and the console will show something like:</p>\n\n<pre><code>0x1000013f8 - \u0410\u0411\u0412\u0413\n2019-10-01 10:25:48.222537+0100 demo[8435:1431874] 0x1000013f8 - \u2013\u00ea\u2013\u00eb\u2013\u00ed\u2013\u00ec\n\n2019-10-01 10:25:48.222560+0100 demo[8435:1431874] 0x1000013f8 - \u0410\u0411\u0412\u0413\n2019-10-01 10:25:48.222582+0100 demo[8435:1431874] formats equal: yes\n</code></pre>\n\n<p>So the C library <code>printf</code> works, <code>NSLog</code> with a <em>constant</em> <code>NSString</code> format works, but <code>NSLog</code> with <code>NSString</code> format converted from a <code>char *</code> does not, and yet the latter two formats compare equal... Notice also that in the failing case <code>NSLog</code> adds an extra newline.</p>\n\n<p>The bad output, <code>\u2013\u00ea\u2013\u00eb\u2013\u00ed\u2013\u00ec</code>, is the same interpretation of the argument string that Xcode shows for the string's memory bytes. So the underlying type of the <em>format</em> string is determining how the underlying bytes of the <em>argument</em> string are interpreted...</p>\n\n<p>Such a curious \"feature\" makes one wonder whether it was <em>designed</em> for some reason, or whether we're missing the obvious... Maybe someone else can enlighten us, but unless they do let's call this a (curious) bug!</p>\n\n<p><strong>Workaround</strong></p>\n\n<p>As the above demo shows using the C library format functions work so if you are happy with losing <code>NSLog</code>'s preamble on each outline you can just use one of them in your function:</p>\n\n<pre><code>void MyLog(const char *format, ...)\n{\n   va_list vargs;\n   va_start(vargs, format);\n   vprintf(format, vargs);\n   va_end(vargs);\n}\n</code></pre>\n\n<p>If you wish to keep to <code>NSLog</code> for the output you can use one of the C library's equivalents of <code>stringWithFormat:</code>, here is a version of your function which dynamically allocates the required space for the formatted C string and then free's it (ARC won't do that for you!):</p>\n\n<pre><code>void MyLog(const char *format, ...)\n{\n   va_list vargs;\n   va_start(vargs, format);\n   char *output;\n   vasprintf(&amp;output, format, vargs);\n   NSLog(@\"%s\", output);\n   free(output);\n   va_end(vargs);\n}\n</code></pre>\n\n<p>The \"feature\" still exists with the latest Xcode 11 and macOS Catalina Beta so please do go report it at <a href=\"https://feedbackassistant.apple.com/\" rel=\"nofollow noreferrer\">Apple's Feedback Assistant</a>.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 58192723, "answer_count": 2, "score": 3, "last_activity_date": 1569966619, "creation_date": 1569917527, "last_edit_date": 1569918435, "question_id": 58180594, "link": "https://stackoverflow.com/questions/58180594/nslogv-c-strings-encoding", "title": "NSLogv C strings encoding", "body": "<p>I wrote a small logging wrapper using <code>NSLogv</code>:</p>\n\n<pre><code>void MyLog(const char* format, ...) {\n    va_list vargs;\n    va_start(vargs, format);\n    NSString* formatStr = [NSString stringWithUTF8String:format];\n    NSLogv(formatStr, vargs);\n    va_end(vargs);\n}\n</code></pre>\n\n<p>which I can use like that:</p>\n\n<pre><code>MyLog(\"%d - %s\", 123, \"ABCD\");\n</code></pre>\n\n<p>The problem I have is when I use characters outside the standard ASCII range:</p>\n\n<pre><code>MyLog(\"%d - %s\", 123, \"\u0410\u0411\u0412\u0413\");\n</code></pre>\n\n<p><code>NSLogv</code> fails to properly encode those characters:</p>\n\n<pre><code>2019-10-01 11:10:30.890346+0300 TestApp[86349:7051788] 123 - \u2013\u00ea\u2013\u00eb\u2013\u00ed\u2013\u00ec\n</code></pre>\n\n<p>What would be the proper way to encode such characters while maintaining the variadic signature of my helper method?</p>\n\n<p>P.S. Tried on both <code>X86_64</code> simulator and <code>ARM64</code> device</p>\n\n<p>If I convert the C strings to UTF16, then it works as expected:</p>\n\n<pre><code>std::wstring_convert&lt;std::codecvt_utf8_utf16&lt;char16_t&gt;, char16_t&gt; convert;\nstd::u16string value16 = convert.from_bytes(\"\u0410\u0411\u0412\u0413\");\nMyLog(\"%d - %S\", 123, value16.c_str());\n</code></pre>\n"}, {"tags": ["objective-c", "cocoapods", "ios-frameworks"], "answers": [{"tags": [], "owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1569927073, "last_edit_date": 1569927073, "creation_date": 1569913233, "answer_id": 58179569, "question_id": 58179447, "link": "https://stackoverflow.com/questions/58179447/im-having-problem-with-the-app-store-framework-distribution-and-cocoa-pods-frame/58179569#58179569", "title": "Im having problem with the App Store framework distribution and cocoa-pods framework distribution", "body": "<p>I hope you first made a build for a generic IOS device instead of a simulator?\nIf that is the case do take look at this post which contains a bit about the architecture . You removing the above framework wont probably do it since it is a required one.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30547283/submit-to-app-store-issues-unsupported-architecture-x86\">Submit to App Store issues: Unsupported Architecture x86</a></p>\n\n<p>Let me know if it was of any help if not il look into it</p>\n"}], "owner": {"reputation": 126, "user_id": 4419797, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c7b476b0d7d4ed9818bbdec1cb427b38?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Anum", "link": "https://stackoverflow.com/users/4419797/muhammad-anum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569927073, "creation_date": 1569912730, "question_id": 58179447, "link": "https://stackoverflow.com/questions/58179447/im-having-problem-with-the-app-store-framework-distribution-and-cocoa-pods-frame", "title": "Im having problem with the App Store framework distribution and cocoa-pods framework distribution", "body": "<p>Im trying to distribute my custom build framework via cocoapods, Issue rise when i try to upload my application build with custom framework to Appstore throughs error in image below:</p>\n\n<p><a href=\"https://i.imgur.com/9Q8HO0U.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/9Q8HO0U.png</a> \"tooltip\"</p>\n\n<p>and if i remove x86_64 architecture from the framework its unable to run on simulator.</p>\n\n<p>So my question is:</p>\n\n<p>How can i distribute my framework to work on device, simulator and App store?</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "colors"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569911695, "post_id": 58179028, "comment_id": 102738578, "body": "You get <code>width</code> and <code>height</code> from the empty <code>CGImageRef</code> object?"}, {"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569911822, "post_id": 58179028, "comment_id": 102738626, "body": "is the CGImageRef object empty? Isn&#39;t image populating it? As I said, my knowledge of Objective C syntax is pretty rudimentary. I may be misunderstanding something."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569911853, "post_id": 58179028, "comment_id": 102738634, "body": "Ah you are right - i misread how it&#39;s being initialized."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569912864, "post_id": 58179028, "comment_id": 102739066, "body": "The code looks &quot;OK&quot;, but seems a bit more complicated than it needs to be. I know nothing about React Native and how it interops with C/Objective-C but it seems unusual to pass back an <code>NSArray</code> of <code>NSArray</code> of <code>NSString</code> objects.  I think if you want a list of unique colors then return a set (<code>NSSet</code>) instead of an array, but the array of stringified numbers still feels awkward to me.  Can you pass back a set of struct of rbg numbers instead?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569912928, "post_id": 58179028, "comment_id": 102739100, "body": "Also is ARC enabled?"}, {"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569913223, "post_id": 58179028, "comment_id": 102739231, "body": "What is ARC? And sure, I can pass any data structure back with a Javascript analog (so objects, arrays, etc are all fine)"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569913329, "post_id": 58179028, "comment_id": 102739282, "body": "Automatic Reference Counting.  I would expect you would need to do MRC (manual reference counting) when doing interop.  But you will need to check.  You can collect the RGB struct in a set but return it as an array; that&#39;s a common pattern."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569913914, "post_id": 58179028, "comment_id": 102739525, "body": "That&#39;s a bit misleading really.  Objective-C collection classes can only contain Objective-C objects so you will need to create an RGB object and in order for <code>NSSet</code> to detect dupes you will need to implement <code>-isEqual</code> and <code>-hash</code>, so it gets even more complicated..."}, {"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569915008, "post_id": 58179028, "comment_id": 102740068, "body": "Well I\u2019m not going to look into that just now probably unless it\u2019s likely to be the issue. This is a very common implementation - in fact, across something like 4 or 5 libraries, this exactly piece of code is more or less duplicated with only minor changes (so all the libraries are derivative...), so unless it\u2019s causing the issue, I don\u2019t see a reason to update it"}], "answers": [{"comments": [{"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "edited": false, "score": 0, "creation_date": 1570085243, "post_id": 58187242, "comment_id": 102803827, "body": "Yep, I bet that&#39;s the issue: [Unknown process name] CGContextDrawImage: invalid context 0x0. If you want to see the backtrace, please set CG_CONTEXT_SHOW_BACKTRACE environmental variable."}, {"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "edited": false, "score": 0, "creation_date": 1570085514, "post_id": 58187242, "comment_id": 102803935, "body": "Interestingly enough, the path is correct, but apparently the image read isn&#39;t"}], "tags": [], "owner": {"reputation": 493, "user_id": 10738042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7136ae81b030ef4b9d6154c7d989b8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan S Ivanov", "link": "https://stackoverflow.com/users/10738042/ivan-s-ivanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1569941291, "last_edit_date": 1569941291, "creation_date": 1569940904, "answer_id": 58187242, "question_id": 58179028, "link": "https://stackoverflow.com/questions/58179028/pass-a-list-of-colors-from-objective-c-to-react-native/58187242#58187242", "title": "Pass a list of colors from Objective-C to React Native", "body": "<p>I ran your code in an empty project and it performs as expected using an image loaded from the assets library. Is it possible that the <code>UIImage  *originalImage = [UIImage imageWithContentsOfFile:path ];</code> call uses an invalid path. You can easily validate that by simply logging the value of the read image:</p>\n\n<p><code>UIImage * originalImage = [UIImage imageWithContentsOfFile: path];\n NSLog(@\"image read from file %@\", originalImage);</code></p>\n\n<p>If the image was not read properly from the file, you will get an empty <code>colours</code> array as the width and height will be nil there will be nothing to loop over.</p>\n\n<p>Also, to avoid modifying the array after your function has returned, it is generally a good practice to return a copy of mutable object or an immutable object (i.e. NSArray instead of NSMutableArray):</p>\n\n<p><code>callback(@[[NSNull null], [colours copy]]);</code></p>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 493, "user_id": 10738042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7136ae81b030ef4b9d6154c7d989b8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan S Ivanov", "link": "https://stackoverflow.com/users/10738042/ivan-s-ivanov"}, "edited": false, "score": 0, "creation_date": 1570088207, "post_id": 58213978, "comment_id": 102805206, "body": "Ok, cool. Please note that the above call is executed synchronously and if you are doing it on the main thread it will block the UI (and/or if taken too long kill the app). It is maybe worthwhile considering performing the procedure in the background and dispatching the callback on the main thread."}, {"owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "reply_to_user": {"reputation": 493, "user_id": 10738042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7136ae81b030ef4b9d6154c7d989b8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan S Ivanov", "link": "https://stackoverflow.com/users/10738042/ivan-s-ivanov"}, "edited": false, "score": 0, "creation_date": 1570088256, "post_id": 58213978, "comment_id": 102805227, "body": "How would I go about that?"}, {"owner": {"reputation": 493, "user_id": 10738042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7136ae81b030ef4b9d6154c7d989b8c?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan S Ivanov", "link": "https://stackoverflow.com/users/10738042/ivan-s-ivanov"}, "edited": false, "score": 0, "creation_date": 1570090919, "post_id": 58213978, "comment_id": 102806394, "body": "There are many ways to do it and it is long topic. You could wrap it in block and dispatch it to background queue like the example here : <a href=\"https://stackoverflow.com/questions/12671042/moving-a-function-to-a-background-thread-in-objective-c\" title=\"moving a function to a background thread in objective c\">stackoverflow.com/questions/12671042/&hellip;</a> ."}], "tags": [], "owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1570086482, "creation_date": 1570086482, "answer_id": 58213978, "question_id": 58179028, "link": "https://stackoverflow.com/questions/58179028/pass-a-list-of-colors-from-objective-c-to-react-native/58213978#58213978", "title": "Pass a list of colors from Objective-C to React Native", "body": "<p>The issue was ultimately that the image download method was returning null - not sure why.</p>\n\n<p>So I took this:</p>\n\n<pre><code>UIImage  *originalImage = [UIImage imageWithContentsOfFile:path ];\n</code></pre>\n\n<p>I changed it to this:</p>\n\n<pre><code>NSData * imageData = [[NSData alloc] initWithContentsOfURL: [NSURL URLWithString: path]];\nUIImage  *originalImage = [UIImage imageWithData: imageData];\n</code></pre>\n\n<p>And now my image downloads just fine and the rest of the script works great.</p>\n"}], "owner": {"reputation": 8659, "user_id": 756566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0d46603fb8d0a3a068ff4875b9c74421?s=128&d=identicon&r=PG", "display_name": "Steven Matthews", "link": "https://stackoverflow.com/users/756566/steven-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1570086482, "creation_date": 1569910666, "last_edit_date": 1569913000, "question_id": 58179028, "link": "https://stackoverflow.com/questions/58179028/pass-a-list-of-colors-from-objective-c-to-react-native", "title": "Pass a list of colors from Objective-C to React Native", "body": "<p>I am trying to get a list of all the colors in an image in Objective-C. Note, I am COMPLETELY new to Objective-C - I've done some Swift work in the past, but not really Objective-C.</p>\n\n<p>I pulled a library that more or less is supposed to pull all colors as part of its code. I've modified it to look like this (callback at the end is from React Native, path argument is just a string of the path):</p>\n\n<pre><code>getColors:(NSString *)path options:(NSDictionary *)options callback:(RCTResponseSenderBlock)callback) {\nUIImage  *originalImage = [UIImage imageWithContentsOfFile:path ];\n\n    UIImage *image =\n    [UIImage imageWithCGImage:[originalImage CGImage]\n                        scale:0.5\n                  orientation:(UIImageOrientationUp)];\n\n\n\n    CGImageRef cgImage = [image CGImage];\n    NSUInteger width = CGImageGetWidth(cgImage);\n    NSUInteger height = CGImageGetHeight(cgImage);\n\n    // Allocate storage for the pixel data\n    unsigned char *rawData = (unsigned char *)malloc(height * width * 4);\n\n    // Create the color space\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n\n    // Set some metrics\n    NSUInteger bytesPerPixel = 4;\n    NSUInteger bytesPerRow = bytesPerPixel * width;\n    NSUInteger bitsPerComponent = 8;\n\n    // Create context using the storage\n    CGContextRef context = CGBitmapContextCreate(rawData, width, height, bitsPerComponent, bytesPerRow, colorSpace, kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n    // Release the color space\n    CGColorSpaceRelease(colorSpace);\n\n    // Draw the image into the storage\n    CGContextDrawImage(context, CGRectMake(0, 0, width, height), cgImage);\n\n    // We are done with the context\n    CGContextRelease(context);\n\n\n    // determine the colours in the image\n    NSMutableArray * colours = [NSMutableArray new];\n\n    float x = 0;\n    float y = 0;\n    for (int n = 0; n&lt;(width*height); n++){\n\n      int index = (bytesPerRow * y) + x * bytesPerPixel;\n      int red   = rawData[index];\n      int green = rawData[index + 1];\n      int blue  = rawData[index + 2];\n      int alpha = rawData[index + 3];\n      NSArray * a = [NSArray arrayWithObjects:[NSString stringWithFormat:@\"%i\",red],[NSString stringWithFormat:@\"%i\",green],[NSString stringWithFormat:@\"%i\",blue],[NSString stringWithFormat:@\"%i\",alpha], nil];\n      [colours addObject:a];\n\n      y++;\n      if (y==height){\n        y=0;\n        x++;\n      }\n    }\n    free(rawData);\n\n    callback(@[[NSNull null], colours]);\n</code></pre>\n\n<p>Now, this script is fairly simple it seems like - it should be iterating over each pixel and adding each color to an array, which is then returned to React Native via the callback.</p>\n\n<p>However, the response to the call is always an empty array.</p>\n\n<p>I'm not sure why that is. Could it be due to where the images are located (they're at AWS, on S3), or something in the algorithm? The code <em>looks</em> right to me, but it's entirely possible that I'm missing something just due to unfamiliarity with Objective-C</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1569912792, "post_id": 58178709, "comment_id": 102739029, "body": "Have a look at <a href=\"https://stackoverflow.com/q/38090320/1187415\">Writing Data to an NSOutputStream in Swift 3</a> and in particular the Swift 5 answer."}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1569912926, "post_id": 58178709, "comment_id": 102739095, "body": "@MartinR did you mean this? <a href=\"https://stackoverflow.com/a/46301838/2057955\">stackoverflow.com/a/46301838/2057955</a> That takes the entire data in one go, not chunked"}], "answers": [{"comments": [{"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1569909131, "post_id": 58178760, "comment_id": 102737692, "body": "That gives me <code>Cannot convert value of type &#39;UInt8&#39; to expected argument type &#39;UnsafePointer&lt;UInt8&gt;&#39;</code>"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1569909316, "post_id": 58178760, "comment_id": 102737747, "body": "Gives it to you where? You have shown no Swift code at all! You asked how to get the byte at a specific location and that is how."}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1569909614, "post_id": 58178760, "comment_id": 102737847, "body": "On the same line... <code>stream.write(testData[myRange.location], maxLength: myRange.length)</code>"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1569909048, "creation_date": 1569909048, "answer_id": 58178760, "question_id": 58178709, "link": "https://stackoverflow.com/questions/58178709/nsdata-bytessubscript-in-swift-5/58178760#58178760", "title": "NSData.bytes[subscript] in Swift 5", "body": "<p>Delete <code>bytes</code> and subscript the Data object directly. </p>\n"}, {"tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1569927547, "last_edit_date": 1569927547, "creation_date": 1569913613, "answer_id": 58179649, "question_id": 58178709, "link": "https://stackoverflow.com/questions/58178709/nsdata-bytessubscript-in-swift-5/58179649#58179649", "title": "NSData.bytes[subscript] in Swift 5", "body": "<p>Objective-C is a superset of C, where taking the address of a subscripted pointer is equivalent to adding an offset to the pointer:</p>\n\n<pre><code>&amp;pointer[index] == pointer + index\n</code></pre>\n\n<p>In your case,</p>\n\n<pre><code>[stream write:&amp;(testData.bytes[myRange.location]) maxLength:myRange.length];\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>[stream write:testData.bytes + myRange.location maxLength:myRange.length];\n</code></pre>\n\n<p>This shows that the problem is not really about subscripting, but about how to obtain a pointer to the element storage of a <code>Data</code> value at an offset.</p>\n\n<p>Obtaining a pointer to the element storage is done using <code>withUnsafeBytes()</code> and binding the raw pointer to an <code>UInt8</code> pointer (see also <a href=\"https://stackoverflow.com/questions/38090320/writing-data-to-an-nsoutputstream-in-swift-3\">Writing Data to an NSOutputStream in Swift 3</a>). This can be combined with <em>slicing</em> (<code>testData[offset...]</code>) to write the data at a specified offset:</p>\n\n<pre><code>let testData = \"Whatever\".data(using: .utf8)!\nlet whatever: ((OutputStream) -&gt; Void)? = { stream in\n    stream.open()\n    var position = 0\n    while position &lt; testData.count {\n        let length = min(4096, testData.count - position)\n        let amount =  testData[position...].withUnsafeBytes {\n            stream.write($0.bindMemory(to: UInt8.self).baseAddress!, maxLength: length)\n        }\n        if amount &lt;= 0 {\n            // Error or EOF\n            break\n        }\n        position += amount\n    }\n    stream.close()\n}\n</code></pre>\n\n<p>Note that the <code>write</code> method returns the number of bytes actually written (or <code>0</code> or <code>-1</code>). When writing to anything but a plain file (e.g. a TCP socket, a pipe, ...) this can be <em>less than</em> the value of the <code>maxLength</code> parameter.</p>\n\n<p>Alternatively you can obtain the pointer to the element storage once, and then increment it by the amount of data written:</p>\n\n<pre><code>let testData = \"Whatever\".data(using: .utf8)!\nlet whatever: ((OutputStream) -&gt; Void)? = { stream in\n    stream.open()\n    var length = testData.count\n    testData.withUnsafeBytes {\n        var ptr = $0.bindMemory(to: UInt8.self).baseAddress!\n        while length &gt; 0 {\n            let amount = stream.write(ptr, maxLength: min(length, 4096))\n            if amount &lt;= 0 { break }\n            ptr += amount\n            length -= amount\n        }\n    }\n    stream.close()\n}\n</code></pre>\n"}], "owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "accepted_answer_id": 58179649, "answer_count": 2, "score": 1, "last_activity_date": 1569927547, "creation_date": 1569908807, "last_edit_date": 1569909568, "question_id": 58178709, "link": "https://stackoverflow.com/questions/58178709/nsdata-bytessubscript-in-swift-5", "title": "NSData.bytes[subscript] in Swift 5", "body": "<p>I am trying to convert this piece of code to Swift:</p>\n\n<pre><code>NSData *testData = [@\"Whatever\" dataUsingEncoding:NSUTF8StringEncoding];\n    void (^whatever)(NSOutputStream *) = ^(NSOutputStream *stream) {\n        [stream open];\n        NSRange myRange = {0};\n        while (myRange.location &lt; testData.length) {\n            myRange.location += myRange.length;\n            myRange.length = 4096;\n\n            if (myRange.location + myRange.length &gt; testData.length) {\n                myRange.length = testData.length - myRange.location;\n            }\n\n            [stream write:&amp;(testData.bytes[myRange.location])\n                       maxLength:myRange.length];\n        }\n        [stream close];\n    };\n</code></pre>\n\n<p>Unfortunately, i am really stuck on <code>&amp;(testData.bytes[myRange.location])</code>.</p>\n\n<p>The swift converters i found online don't process that part at all, and Swift compiler complains that:</p>\n\n<blockquote>\n  <p>Value of type 'UnsafeRawPointer' has no subscripts</p>\n</blockquote>\n\n<p>The examples with <code>.withUnsafeBytes</code> don't show how to get the bytes pointer at a specific location.</p>\n\n<p>Here's the swift:</p>\n\n<pre><code>        let testData = \"Whatever\".data(using: .utf8)!\n        let whatever: ((OutputStream) -&gt; Void)? = { stream in\n            stream.open()\n            var myRange = NSRange()\n            while myRange.location &lt; testData.count {\n                myRange.location += myRange.length\n                myRange.length = 4096\n\n                if myRange.location + myRange.length &gt; testData.count {\n                    myRange.length = testData.count - myRange.location\n                }\n                // the next line doesn't work\n                stream.write(testData.bytes[myRange.location], maxLength: myRange.length)\n            }\n            stream.close()\n        }\n</code></pre>\n"}, {"tags": ["objective-c", "xcode10.2.1"], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 8425034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d009a3ee915146206373a4f7bb7a024?s=128&d=identicon&r=PG&f=1", "display_name": "behrad", "link": "https://stackoverflow.com/users/8425034/behrad"}, "edited": false, "score": 0, "creation_date": 1569881911, "post_id": 58173471, "comment_id": 102732514, "body": "After using pods in my project from the beginning, I\u2019m always opening my project from it\u2019s .xcworkspace file"}], "tags": [], "owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569868715, "creation_date": 1569868715, "answer_id": 58173471, "question_id": 58171656, "link": "https://stackoverflow.com/questions/58171656/library-not-found-for-lprotobuf-in-xcode/58173471#58173471", "title": "library not found for -lProtobuf in Xcode", "body": "<p>Try to open your project from its <code>.xcworkspace</code> file instead of <code>.xcodeproj</code> file.</p>\n"}], "owner": {"reputation": 477, "user_id": 8425034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d009a3ee915146206373a4f7bb7a024?s=128&d=identicon&r=PG&f=1", "display_name": "behrad", "link": "https://stackoverflow.com/users/8425034/behrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569868715, "creation_date": 1569860199, "question_id": 58171656, "link": "https://stackoverflow.com/questions/58171656/library-not-found-for-lprotobuf-in-xcode", "title": "library not found for -lProtobuf in Xcode", "body": "<p>I'm using Xcode 10.2.1 and objective-c in my project. after using this commond in terminal:</p>\n\n<pre><code>git checkout \"specific commit\"\n</code></pre>\n\n<p>I'm bring back my codes to 4 month ago. after using this command in terminal I must change Bundle Identifier (because I'm no longer have access to that developer account).</p>\n\n<p>after that I'm getting this error in Xcode (before that I'm getting error about account, No account for team \"*****\".): </p>\n\n<pre><code>library not found for -lProtobuf\n</code></pre>\n\n<p>I tried to delete pod file and reinstall pods by run this command in terminal:</p>\n\n<pre><code>pod install\n</code></pre>\n\n<p>but the problem not solve.</p>\n"}, {"tags": ["ios", "objective-c", "opencv", "camera", "yuv"], "comments": [{"owner": {"reputation": 575, "user_id": 1921299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14f6a65c683e4f433505579e3c0aa862?s=128&d=identicon&r=PG", "display_name": "SteveTJS", "link": "https://stackoverflow.com/users/1921299/stevetjs"}, "edited": false, "score": 0, "creation_date": 1570539583, "post_id": 58171534, "comment_id": 102938467, "body": "Hi, I have the same problem converting the camera image to cvMat since iOS13. Did you find a solution?"}, {"owner": {"reputation": 337, "user_id": 4850296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7Tf.png?s=128&g=1", "display_name": "Pierre Wargnier", "link": "https://stackoverflow.com/users/4850296/pierre-wargnier"}, "reply_to_user": {"reputation": 575, "user_id": 1921299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14f6a65c683e4f433505579e3c0aa862?s=128&d=identicon&r=PG", "display_name": "SteveTJS", "link": "https://stackoverflow.com/users/1921299/stevetjs"}, "edited": false, "score": 0, "creation_date": 1570626137, "post_id": 58171534, "comment_id": 102971649, "body": "Yes, sorry I haven&#39;t posted the answer. I&#39;m posting it now."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4850296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7Tf.png?s=128&g=1", "display_name": "Pierre Wargnier", "link": "https://stackoverflow.com/users/4850296/pierre-wargnier"}, "edited": false, "score": 0, "creation_date": 1570627752, "post_id": 58304810, "comment_id": 102972661, "body": "I don&#39;t really know what is the exact logic for determining the row stride in iOS 13 but it is possible that, in some resolutions, the width and buffer stride remain the same."}], "tags": [], "owner": {"reputation": 21, "user_id": 4360502, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-01Sbqs-y4hE/AAAAAAAAAAI/AAAAAAAAojY/qgw-AKhi3as/photo.jpg?sz=128", "display_name": "Qing PAN", "link": "https://stackoverflow.com/users/4360502/qing-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570626214, "creation_date": 1570626214, "answer_id": 58304810, "question_id": 58171534, "link": "https://stackoverflow.com/questions/58171534/why-is-yp-cb-cr-image-buffer-all-shuffled-in-ios-13/58304810#58304810", "title": "Why is Yp Cb Cr image buffer all shuffled in iOS 13?", "body": "<p>this is not an answer, but we have a similar problem. I tried with different resolution used in photo capture, only one resolution (2592 x 1936) does not work, other resolutions does work. I think change the resolution to 1440x1920 for example may be a workaround to your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 337, "user_id": 4850296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7Tf.png?s=128&g=1", "display_name": "Pierre Wargnier", "link": "https://stackoverflow.com/users/4850296/pierre-wargnier"}, "is_accepted": true, "score": 2, "last_activity_date": 1570627209, "last_edit_date": 1570627209, "creation_date": 1570626863, "answer_id": 58305018, "question_id": 58171534, "link": "https://stackoverflow.com/questions/58171534/why-is-yp-cb-cr-image-buffer-all-shuffled-in-ios-13/58305018#58305018", "title": "Why is Yp Cb Cr image buffer all shuffled in iOS 13?", "body": "<p>I found the solution to this problem. It was a row stride issue: appearently, in iOS 13, the row stride of the Yp Cb Cr 4:2:0 8 bit bi-planar buffer was changed. Maybe for it to always be a power of 2. Therefore in some cases, the row stride is no longer the same as the width. It was the case for me. The fix is easy, just get the row stride from the buffer's info and pass it to the OpenCV Mat's constructor as shown below.</p>\n\n<pre><code>void *baseaddress = CVPixelBufferGetBaseAddressOfPlane(pixelBuffer, 0);         \nsize_t width = CVPixelBufferGetWidthOfPlane(pixelBuffer, 0);\nsize_t height = CVPixelBufferGetHeightOfPlane(pixelBuffer, 0);\nsize_t bytesPerRow = CVPixelBufferGetBytesPerRowOfPlane(pixelBuffer, 0);\n\ncv::Mat frame(height, width, CV_8UC1, baseaddress, bytesPerRow);\n</code></pre>\n\n<p>Note that I also changed how I get the width and height by using the dimensions of the plane instead of the ones of the buffer. For the Y plane, it should always be the same. I am not sure that this makes a difference.</p>\n\n<p>Also be careful: after the Xcode update to support the iOS 13 SDK, I had to uninstall my app from the test device because otherwise, Xcode kept running the old version instead of the newly compiled one. </p>\n"}], "owner": {"reputation": 337, "user_id": 4850296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7Tf.png?s=128&g=1", "display_name": "Pierre Wargnier", "link": "https://stackoverflow.com/users/4850296/pierre-wargnier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 2, "accepted_answer_id": 58305018, "answer_count": 2, "score": 2, "last_activity_date": 1589300886, "creation_date": 1569859633, "question_id": 58171534, "link": "https://stackoverflow.com/questions/58171534/why-is-yp-cb-cr-image-buffer-all-shuffled-in-ios-13", "title": "Why is Yp Cb Cr image buffer all shuffled in iOS 13?", "body": "<p>I have a computer vision app that takes grayscale images from sensor and processes them. The image acquisition for iOS is written in Obj-C and the image processing is performed in C++ using OpenCV. As I only need the luminance data, I acquire the image in YUV (or Yp Cb Cr) 420 bi-planar full range format and just assign the buffer's data to an OpenCV Mat object (see aquisition code below). This worked great so far, until the brand new iOS 13 came out... For some reason, on iOS 13 the image I obtain is misaligned, resulting in diagonal stripes. By looking at the image I obtain, I suspect this is the consequence of a change in ordering of the buffer's Y Cb an Cr components or a change in the buffer's stride. Does anyone know if iOS 13 introduces this kind of changes and how I could update my code to avoid this, preferably in a backward-compatible manner?</p>\n\n<p>Here is my image acquisition code:</p>\n\n<pre><code>//capture config\n- (void)initialize {\n    AVCaptureDevice *frontCameraDevice;\n    NSArray *devices = [AVCaptureDevice devicesWithMediaType:AVMediaTypeVideo];\n    for (AVCaptureDevice *device in devices) {\n        if (device.position == AVCaptureDevicePositionFront) {\n            frontCameraDevice = device;\n        }\n    }\n    if (frontCameraDevice == nil) {\n        NSLog(@\"Front camera device not found\");\n        return;\n    }\n\n    _session = [[AVCaptureSession alloc] init];\n    _session.sessionPreset = AVCaptureSessionPreset640x480;\n\n    NSError *error = nil;\n    AVCaptureDeviceInput *input = [AVCaptureDeviceInput deviceInputWithDevice:frontCameraDevice error: &amp;error];\n    if (error != nil) {\n        NSLog(@\"Error getting front camera device input: %@\", error);\n    }\n    if ([_session canAddInput:input]) {\n        [_session addInput:input];\n    } else {\n        NSLog(@\"Could not add front camera device input to session\");\n    }\n\n    AVCaptureVideoDataOutput *videoOutput = [[AVCaptureVideoDataOutput alloc] init];\n    // This is the default, but making it explicit\n    videoOutput.alwaysDiscardsLateVideoFrames = YES;\n\n    if ([videoOutput.availableVideoCVPixelFormatTypes containsObject:\n                      [NSNumber numberWithInt:kCVPixelFormatType_420YpCbCr8BiPlanarFullRange]]) {\n        OSType format = kCVPixelFormatType_420YpCbCr8BiPlanarFullRange;\n        videoOutput.videoSettings = [NSDictionary dictionaryWithObject:[NSNumber numberWithUnsignedInt:format]\n                                                                 forKey:(id)kCVPixelBufferPixelFormatTypeKey];\n    } else {\n        NSLog(@\"YUV format not available\");\n    }\n\n    [videoOutput setSampleBufferDelegate:self queue:dispatch_queue_create(\"extrapage.camera.capture.sample.buffer.delegate\", DISPATCH_QUEUE_SERIAL)];\n    if ([_session canAddOutput:videoOutput]) {\n        [_session addOutput:videoOutput];\n    } else {\n        NSLog(@\"Could not add video output to session\");\n    }\n\n    AVCaptureConnection *captureConnection = [videoOutput connectionWithMediaType:AVMediaTypeVideo];\n    captureConnection.videoOrientation = AVCaptureVideoOrientationPortrait;\n}\n\n//acquisition code \n- (void)captureOutput:(AVCaptureOutput *)output didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection *)connection {\n\n    if (_listener != nil) {\n        CVPixelBufferRef pixelBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);\n        OSType format = CVPixelBufferGetPixelFormatType(pixelBuffer);\n\n        NSAssert(format == kCVPixelFormatType_420YpCbCr8BiPlanarFullRange, @\"Only YUV is supported\");\n\n        // The first plane / channel (at index 0) is the grayscale plane\n        // See more infomation about the YUV format\n        // http://en.wikipedia.org/wiki/YUV\n        CVPixelBufferLockBaseAddress(pixelBuffer, 0);\n        void *baseaddress = CVPixelBufferGetBaseAddressOfPlane(pixelBuffer, 0);\n\n        CGFloat width = CVPixelBufferGetWidth(pixelBuffer);\n        CGFloat height = CVPixelBufferGetHeight(pixelBuffer);\n\n        cv::Mat frame(height, width, CV_8UC1, baseaddress, 0);\n\n        [_listener onNewFrame:frame];\n\n        CVPixelBufferUnlockBaseAddress(pixelBuffer, 0);\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "xcode11"], "comments": [{"owner": {"reputation": 2898, "user_id": 1385931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70e182175b70bc54af9183fdc8d9a27b?s=128&d=identicon&r=PG", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/1385931/helloworld"}, "edited": false, "score": 0, "creation_date": 1569896976, "post_id": 58170008, "comment_id": 102735192, "body": "I have the same issue, did this work for you before?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569914884, "post_id": 58170008, "comment_id": 102740011, "body": "Did you see <a href=\"https://stackoverflow.com/a/36546996/299924\">this</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 0, "creation_date": 1569872747, "post_id": 58171932, "comment_id": 102729425, "body": "Unfortunately it didn&#39;t help. I used the latest Xcode 11 from the App Store and I get the error message above"}, {"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "reply_to_user": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 0, "creation_date": 1569954355, "post_id": 58171932, "comment_id": 102760235, "body": "I have two projects with pure Objective-C and C++ and I fixed it with my answer, but maybe your issue is related with this: <a href=\"https://stackoverflow.com/questions/32559204/invalid-swift-support-the-swiftsupport-folder-is-empty/36546996#36546996\" title=\"invalid swift support the swiftsupport folder is empty\">stackoverflow.com/questions/32559204/&hellip;</a>"}], "tags": [], "owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1569861357, "creation_date": 1569861357, "answer_id": 58171932, "question_id": 58170008, "link": "https://stackoverflow.com/questions/58170008/itms-90426-invalid-swift-support-for-c-and-objective-c-project/58171932#58171932", "title": "ITMS-90426: Invalid Swift Support for C++ and Objective-C project", "body": "<p>well this is a common issue when an application is builded by a beta version or Xcode installed directly from a file not from AppStore, this error appears on frameworks, libs, bundles or build is not related directly with Swift.</p>\n\n<p>To fix the issue you need to download Xcode from AppStore and update the latest public version with Mojave or Catalina (4th October 2019). Remember clean and rebuild, check the other linker flags to not include Swift flags or build phases dependencies.</p>\n\n<p>I hope it helps you, cheers :D</p>\n"}], "owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1569897170, "creation_date": 1569853781, "last_edit_date": 1569897170, "question_id": 58170008, "link": "https://stackoverflow.com/questions/58170008/itms-90426-invalid-swift-support-for-c-and-objective-c-project", "title": "ITMS-90426: Invalid Swift Support for C++ and Objective-C project", "body": "<p>I have a pure Objective-C Xcode project for my iOS application. Is there any reason why I receive the following error message by mail after submitting my App to AppConnect? I don't have any Swift dependencies in my project.</p>\n\n<blockquote>\n  <p>ITMS-90426: Invalid Swift Support - The SwiftSupport folder is\n  missing. Rebuild your app using the current public (GM) version of\n  Xcode and resubmit it.</p>\n</blockquote>\n\n<p>I use the latest <code>Xcode 11.0</code> version from the App Store. I made a full rebuild. I don't use CocoaPods, I can't even find the String \"Swift\" in my entire project</p>\n"}, {"tags": ["objective-c", "facebook-login", "ios13", "xcode11", "fbsdkloginkit"], "owner": {"reputation": 1163, "user_id": 4562216, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-cAnYI2hhRI4/AAAAAAAAAAI/AAAAAAAAACs/Mn_gOSbCUvU/photo.jpg?sz=128", "display_name": "Ajith Kumar", "link": "https://stackoverflow.com/users/4562216/ajith-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1569852604, "creation_date": 1569852604, "question_id": 58169654, "link": "https://stackoverflow.com/questions/58169654/fbsdkloginmanager-loginwithpublishpermissions-always-returns-result-iscancelled", "title": "FBSDKLoginManager logInWithPublishPermissions always returns result,isCancelled=YES on iOS 13.0", "body": "<p>I am having trouble with login with facebook after updating to iOS 13.0. Recently I updated my xCode to 11.0 and my Device to 13.0. After the updation Login with facebook is not working. Always returns result.isCancelled = YES. Have checked everything on the internet but Not able to solve the issue. Code is below.</p>\n\n<p>Login Button Action</p>\n\n<pre><code>[login logInWithPermissions:@[@\"public_profile\",@\"email\"]....\n</code></pre>\n\n<p>AppDelegate didFinishLaunchingWithOptions :</p>\n\n<pre><code>return [[FBSDKApplicationDelegate sharedInstance] application:application\n                                didFinishLaunchingWithOptions:launchOptions];\n\n\n\n        - (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation {\n    return [[FBSDKApplicationDelegate sharedInstance] application:application\n                                                          openURL:url\n                                                sourceApplication:sourceApplication\n                                                       annotation:annotation];\n}\n</code></pre>\n\n<p>And I am using Facebook SDK 5.3.0. Please help me to resolve this.</p>\n"}, {"tags": ["objective-c", "touch-id"], "answers": [{"tags": [], "owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1569914618, "creation_date": 1569914618, "answer_id": 58179893, "question_id": 58169533, "link": "https://stackoverflow.com/questions/58169533/why-cant-i-dismiss-the-touch-id-prompt/58179893#58179893", "title": "Why can&#39;t I dismiss the Touch ID prompt?", "body": "<p>The reason to this is often because the fingerprint scanner is still occupied by a previous operationg . It doesnt seem as if you have used  <code>cancellationSignal.cancel</code> or if you have it is probably not getting trigered . Each time the Scanner is done using you have to send the signal by using <code>cancellationSignal.cancel</code> to say that the scanner has done it's job .</p>\n\n<p>For example if the task fails then it would look like this ,</p>\n\n<pre><code>text_state.setText(context.getString(R.string.fingerFailure));\ncancellationSignal.cancel();\n</code></pre>\n\n<p>try adding the <code>cancellationSignal.cancel()</code> above or below this</p>\n\n<pre><code>[self presentViewController:alearC animated:YES completion:nil];\n</code></pre>\n\n<p>and also if needed in the else block as well .</p>\n\n<p>Let me know if this fixes your issue if not i will look into it</p>\n"}], "owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569914618, "creation_date": 1569852157, "question_id": 58169533, "link": "https://stackoverflow.com/questions/58169533/why-cant-i-dismiss-the-touch-id-prompt", "title": "Why can&#39;t I dismiss the Touch ID prompt?", "body": "<p>I have created a login screen and wish to allow users to authenticate using biometrics. I can get the TouchID/FaceID dialog to appear, but I can't dismiss it using the 'cancel' button.  It disappears momentarily and then reappears.    Is there a straightforward way to find out what is causing this. Many Thanks.</p>\n\n<p>UPDATE: after checking for errors I receive the following in the log:</p>\n\n<blockquote>\n  <p>Domain=com.apple.LocalAuthentication Code=-4 \"Canceled by another\n  authentication.\"</p>\n</blockquote>\n\n<p>Code: </p>\n\n<pre><code>@interface LoginViewController ()\n@property (nonatomic, strong) LAContext *context;\n\n@end\n\n@implementation LoginViewController\n\n- (LAContext *)context {\n    if (_context == nil) {\n        _context = [LAContext new];\n    }\n    return _context;\n}\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    NSError *error;\n\n    BOOL canAuthentication = [self.context canEvaluatePolicy:LAPolicyDeviceOwnerAuthentication error:&amp;error];\n\n    if (canAuthentication) {\n\n\n        [self.context evaluatePolicy:LAPolicyDeviceOwnerAuthentication localizedReason:@\"FaceID\" reply:^(BOOL success, NSError * _Nullable error) {\n            if (success) {\n                UIAlertController *alearC = [UIAlertController alertControllerWithTitle:@\"Success\" message:nil preferredStyle:UIAlertControllerStyleAlert];\n                [alearC addAction:[UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {\n                }]];\n                [self presentViewController:alearC animated:YES completion:nil];\n\n            } else {\n                NSLog(@\"error%@\",error);\n            }\n        }];\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "https", "connection", "nsurlconnection"], "comments": [{"owner": {"reputation": 482, "user_id": 2168496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/514827b7595671dc36618d746f193f03?s=128&d=identicon&r=PG", "display_name": "user2168496", "link": "https://stackoverflow.com/users/2168496/user2168496"}, "edited": false, "score": 0, "creation_date": 1569846994, "post_id": 58167996, "comment_id": 102717322, "body": "In this case I get an empty values error !"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1569849112, "post_id": 58167996, "comment_id": 102718526, "body": "Two things: <code>NSJSONWritingPrettyPrinted</code>, unneeded. Also, you set the value as <code>application&#47;x-www-form-urlencoded</code>, but you don&#39;t put the data inside it as such, it&#39;s a JSON, not urlencoded. Finally, Postman has an option to create an Objective-C Code, check it, check the differences. It&#39;s not good code, but to spot an issue, it&#39;s more than enough..."}, {"owner": {"reputation": 482, "user_id": 2168496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/514827b7595671dc36618d746f193f03?s=128&d=identicon&r=PG", "display_name": "user2168496", "link": "https://stackoverflow.com/users/2168496/user2168496"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569851068, "post_id": 58167996, "comment_id": 102719661, "body": "You saved my day ! It works as charm :)  Please add your comment as an answer so I can mark it as the right solution ;)"}], "owner": {"reputation": 482, "user_id": 2168496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/514827b7595671dc36618d746f193f03?s=128&d=identicon&r=PG", "display_name": "user2168496", "link": "https://stackoverflow.com/users/2168496/user2168496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569846748, "creation_date": 1569846748, "question_id": 58167996, "link": "https://stackoverflow.com/questions/58167996/connecting-to-the-server-using-nsurlconnection-objective-c", "title": "Connecting to the server using NSURLConnection objective c", "body": "<p>I'm trying to connect my application to the backend using NSURLConnection.</p>\n\n<p>When I use postman everything works really fine and I get the expected result.</p>\n\n<p>But when I try that in my code I get a totally different result, which is a JSON object from the server but with an error message.</p>\n\n<p>Please check the following pictures and the code I use for more details.\nAny idea will be really appreciated .</p>\n\n<p><a href=\"https://i.stack.imgur.com/X7m18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X7m18.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KI7N3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KI7N3.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/g80NW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g80NW.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code> NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n\nNSString *urlStr=[NSString stringWithFormat:@\"URL\"];\nNSURL* _url=[NSURL URLWithString:urlStr];\n[request setURL:_url];\n\n[request setHTTPMethod:@\"POST\"];\n[request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n\n[request setValue:@\"Bearer ---\" forHTTPHeaderField:@\"Authorization\"];\n\n\nNSArray *keys= [[NSArray alloc] initWithObjects:@\"email\",@\"firebase_token\",@\"password\",@\"username\",@\"phone\",@\"uploaded_file\", nil];\nNSArray *values = [[NSArray alloc] initWithObjects:email,@\"token\",password,userName,phone,@\"@/C:/Users/admin/Downloads/chili house.png\", nil];\nNSDictionary *params = [[NSDictionary alloc] initWithObjects:values forKeys:keys];\nNSError *error;\nNSData *jsonData = [NSJSONSerialization dataWithJSONObject:params\n                                                   options:NSJSONWritingPrettyPrinted\n                                                     error:&amp;error];\n[request setHTTPBody:jsonData];\n\nNSString *jsonString;\nif ( jsonData) {\n    jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];\n}\n\n[request setHTTPBody:jsonData];\nNSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:request delegate:self];\n\n[connection start];\n}\n\n-(void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge{\nif ([challenge previousFailureCount] == 0) {\n\n    NSURLCredential *newCredential;\n    newCredential = [NSURLCredential credentialWithUser:@\"User\"\n                                               password:@\"Password\"\n                                            persistence:NSURLCredentialPersistenceNone];\n    [[challenge sender] useCredential:newCredential\n           forAuthenticationChallenge:challenge];\n} else {\n    [[challenge sender] cancelAuthenticationChallenge:challenge];\n}\n}\n- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData*)data{\n[self.responseData appendData:data];\n}\n- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error\n{\n    NSLog(@\"Connection failed: %@\", [error description]);\n}\n- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace *)protectionSpace {\n    return YES;\n    }\n- (void) connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {\n    [self.responseData setLength:0];\n\n    }\n\n- (NSCachedURLResponse *) connection:(NSURLConnection *)connection willCacheResponse:(NSCachedURLResponse *)cachedResponse {\n    return nil;\n    }\n- (void)connectionDidFinishLoading:(NSURLConnection *)connection\n{\n[[BusyAgent defaultAgent] makeBusy:NO];\nNSString *responseString = [[NSString alloc] initWithData:self.responseData encoding:NSUTF8StringEncoding];\nif (responseString == (id)[NSNull null] || responseString.length == 0 ){\n    NSLog(@\"responseString= %@\",responseString);\n}else{\n    NSLog(@\"responseString = %@\",responseString);\n    UIAlertView *alert=[[UIAlertView alloc] initWithTitle:nil message:responseString delegate:self cancelButtonTitle:nil otherButtonTitles:@\"Ok\", nil];\n    [alert show];\n}\nself.responseData = nil;\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569843161, "post_id": 58166720, "comment_id": 102715548, "body": "yes just add confition"}, {"owner": {"reputation": 1492, "user_id": 4646505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9056f5d68ea65016f3c14383d41bc?s=128&d=identicon&r=PG&f=1", "display_name": "Somoy Das Gupta", "link": "https://stackoverflow.com/users/4646505/somoy-das-gupta"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569843582, "post_id": 58166720, "comment_id": 102715716, "body": "please show me an example."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569845552, "post_id": 58166720, "comment_id": 102716608, "body": "Define &quot;condition&quot;. You are using macro, pre-compile conditions..."}, {"owner": {"reputation": 1492, "user_id": 4646505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9056f5d68ea65016f3c14383d41bc?s=128&d=identicon&r=PG&f=1", "display_name": "Somoy Das Gupta", "link": "https://stackoverflow.com/users/4646505/somoy-das-gupta"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569908278, "post_id": 58166720, "comment_id": 102737442, "body": "@Larme I have edited the question. I thinks it&#39;s clearer now."}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1569876015, "last_edit_date": 1569876015, "creation_date": 1569875142, "answer_id": 58174864, "question_id": 58166720, "link": "https://stackoverflow.com/questions/58166720/objective-c-function-declaration-definition-between-precompiled-condition/58174864#58174864", "title": "Objective C - Function declaration/definition between precompiled condition", "body": "<p><strong>Short Answer:</strong></p>\n\n<p>Yes, but you need if course need to include the condition: <code>#if condition-expression</code></p>\n\n<p><strong>Longer Answer:</strong></p>\n\n<p>We're guessing the issue here might be the understanding of what the <em>condition-expression</em> may be, if we're wrong ignore the rest!</p>\n\n<p>Directives such as <code>#if</code> are part of the (Objective-)C <em>preprocessor</em>, they have their own syntax rules quite independent of (Objective-)C. All preprocessing is (at least logically) performed before the (Objective-)C code is analysed and compiled.</p>\n\n<p>What this means is that a preprocessor <em>expression</em> cannot use (Objective-)C constants, variables, functions or operators; it can only use preprocessor symbols and operators.</p>\n\n<p>Similarly the (Objective-)C code analysis and compilation has no access to preprocessor symbols <em>per se</em> as they have all been textually replaced by the preceding preprocessor phase.</p>\n\n<p>In short: there are two distinct worlds, the preprocessor and the (Objective-)C language, and they do not directly interact.</p>\n\n<p>Preprocessor expressions are, as the documentation puts it, <a href=\"https://gcc.gnu.org/onlinedocs/cpp/If.html#If\" rel=\"nofollow noreferrer\">\"subject to stringent restrictions\"</a>; they only operate on integer and string constants and with a few operators which mirror their (Objective-)C counterparts.</p>\n\n<p>Here is a real example taken from SVGKit:</p>\n\n<pre><code>#if SVGKIT_UIKIT &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &lt; __IPHONE_7_0\nvoid CGPathAddRoundedRect (CGMutablePathRef path, CGRect rect, CGFloat radiusX, CGFloat radiusY);\n#endif\n</code></pre>\n\n<p>Here <code>SVGKIT_UIKIT</code>, <code>__IPHONE_OS_VERSION_MAX_ALLOWED</code> and <code>__IPHONE_7_0</code> are all preprocessor symbols which will either have been <code>#define</code>'d elsewhere in the code, given values using a compiler command line switch, come from Xcode's project settings, be defined by the compiler itself, etc..</p>\n\n<p>To evaluate this expression the preprocessor first replaces the symbols by the textual definition (all preprocessor symbols have text values). When compiling for UIKit the above might first be converted to:</p>\n\n<pre><code>#if 1 &amp;&amp; 60100 &lt; 70000\n</code></pre>\n\n<p>where <code>1</code> is the definition of <code>SVGKIT_UIKIT</code>, <code>70000</code> is the definition of <code>__IPHONE_7_0</code>, and <code>60100</code> is the definition of <code>__IPHONE_6_1</code> and has been chosen as the definition of <code>__IPHONE_OS_VERSION_MAX_ALLOWED</code>.</p>\n\n<p>Having replaced all the symbols the preprocessor values the expression using similar semantics to (Objective-)C, so the lone non-zero <code>1</code> evaluates to <code>true</code>, <code>60100 &lt; 70000</code> evaluates to <code>true</code>, and then <code>true &amp;&amp; true</code> evaluates to <code>true</code> and the <code>if</code> condition is met so the following <em>text</em> (the preprocessor does not care if its (Objective-)C or a poem by Robbie Burns) up to the <code>#endif</code> is included in the text passed to the next phase of the compiler.</p>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1569909756, "creation_date": 1569909756, "answer_id": 58178873, "question_id": 58166720, "link": "https://stackoverflow.com/questions/58166720/objective-c-function-declaration-definition-between-precompiled-condition/58178873#58178873", "title": "Objective C - Function declaration/definition between precompiled condition", "body": "<p>The preprocessor expression is a <strong>compile-time</strong> expression not a <strong>runtime</strong> expression.  In other words the compiler must be able to evaluate the expression and therefore you cannot use class instance variables in the expression.</p>\n\n<p>So to answer your question: No, that's not possible.</p>\n"}], "owner": {"reputation": 1492, "user_id": 4646505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3e9056f5d68ea65016f3c14383d41bc?s=128&d=identicon&r=PG&f=1", "display_name": "Somoy Das Gupta", "link": "https://stackoverflow.com/users/4646505/somoy-das-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "accepted_answer_id": 58174864, "answer_count": 2, "score": 0, "last_activity_date": 1569911842, "creation_date": 1569841805, "last_edit_date": 1569911842, "question_id": 58166720, "link": "https://stackoverflow.com/questions/58166720/objective-c-function-declaration-definition-between-precompiled-condition", "title": "Objective C - Function declaration/definition between precompiled condition", "body": "<p>Is there any way to write a function between precompiled condition so that, the function will only be available if that condition is true? Also, can I use instance variable there? Like this -</p>\n\n<pre><code>#if ([self.object ifVariablenotNil])\n- (UIModalPresentationStyle)modalPresentationStyle{\n    return UIModalPresentationFullScreen;\n}\n#endif\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1569842414, "post_id": 58166673, "comment_id": 102715204, "body": "You always have an implementation, in your case a c-file, so that&#39;s not different compared the Objective-C link you posted. Otherwise the process seems very similar for a C file, google &quot;swift call c function&quot;"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569843296, "post_id": 58166673, "comment_id": 102715602, "body": "I think that it&#39;s <code>C</code>&#39;s function. <code>Objective-C</code> only have class and instance methods."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1569844563, "post_id": 58166673, "comment_id": 102716163, "body": "You need to include a C <code>.h</code> header in the project bridging header to make the C function visible to Swift."}], "answers": [{"comments": [{"owner": {"reputation": 8267, "user_id": 1091378, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/611c4a6499f8d5a2938d773ea56e4edc?s=128&d=identicon&r=PG", "display_name": "Himanshu P", "link": "https://stackoverflow.com/users/1091378/himanshu-p"}, "edited": false, "score": 0, "creation_date": 1569848872, "post_id": 58167608, "comment_id": 102718385, "body": "But the linked file is already a .h file. Should I use it as a .m file?"}, {"owner": {"reputation": 4956, "user_id": 381333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25580498ba6cc518b8b9dde5c5a6174d?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin Oznobihin", "link": "https://stackoverflow.com/users/381333/konstantin-oznobihin"}, "reply_to_user": {"reputation": 8267, "user_id": 1091378, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/611c4a6499f8d5a2938d773ea56e4edc?s=128&d=identicon&r=PG", "display_name": "Himanshu P", "link": "https://stackoverflow.com/users/1091378/himanshu-p"}, "edited": false, "score": 0, "creation_date": 1569921682, "post_id": 58167608, "comment_id": 102743392, "body": "@HimanshuP edited my answer to address implementation in the .h file."}], "tags": [], "owner": {"reputation": 4956, "user_id": 381333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25580498ba6cc518b8b9dde5c5a6174d?s=128&d=identicon&r=PG&f=1", "display_name": "Konstantin Oznobihin", "link": "https://stackoverflow.com/users/381333/konstantin-oznobihin"}, "is_accepted": true, "score": 0, "last_activity_date": 1569921655, "last_edit_date": 1569921655, "creation_date": 1569845195, "answer_id": 58167608, "question_id": 58166673, "link": "https://stackoverflow.com/questions/58166673/calling-an-objective-c-function-defined-in-a-h-file-from-swift/58167608#58167608", "title": "Calling an Objective-C function defined in a .h file from Swift", "body": "<p>As mentioned in the comments first you'll need to do all the usual steps for using Objective-C classes from Swift (bridging header, etc.) Then you'll already be able to call your function and you'd only need a bit of tweaking to make it more usable in Swift.</p>\n\n<pre><code>func CopyLaunchedApplicationsInFrontToBackOrder_Swift() -&gt; [[String: AnyObject]]? {\n    guard let cfarray = CopyLaunchedApplicationsInFrontToBackOrder() else {\n        return nil\n    }\n\n    let array = unsafeBitCast(cfarray, to: NSArray.self) as [AnyObject]\n\n    guard let result = array as? [[String: AnyObject]] else {\n        return nil\n    }\n\n    return result\n}\n</code></pre>\n\n<p>If your function is implemented in .h file it would be better to move implementation into a corresponding .m file leaving in .h only it's declaration:</p>\n\n<pre><code>@import Foundation;\n\nCFArrayRef CopyLaunchedApplicationsInFrontToBackOrder(void);\n</code></pre>\n\n<p>It's also possible to put this declaration into your bridging header and leave implementation in the .h file, but that would be unusual making your code more error prone and harder to maintain.</p>\n"}], "owner": {"reputation": 8267, "user_id": 1091378, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/611c4a6499f8d5a2938d773ea56e4edc?s=128&d=identicon&r=PG", "display_name": "Himanshu P", "link": "https://stackoverflow.com/users/1091378/himanshu-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58167608, "answer_count": 1, "score": 0, "last_activity_date": 1569921655, "creation_date": 1569841661, "question_id": 58166673, "link": "https://stackoverflow.com/questions/58166673/calling-an-objective-c-function-defined-in-a-h-file-from-swift", "title": "Calling an Objective-C function defined in a .h file from Swift", "body": "<p>I want to call <a href=\"https://gist.github.com/0xced/163918/de1cbe5e257f9c050440deee5cd144df89b1f16c\" rel=\"nofollow noreferrer\">this</a> Objective-C <em>function</em> from Swift code.</p>\n\n<p>The accepted answer on <a href=\"https://stackoverflow.com/questions/24002369/how-do-i-call-objective-c-code-from-swift\">this question</a> shows how to use an Objective-C <em>class</em> in Swift, not a function. Secondly, the Objective-C implementation in it is contained in a <strong>.m file</strong>, while the one I have linked above is a <strong>.h file.</strong></p>\n\n<p>What is the easiest way I can call an Objective-C function defined in a .h file from Swift?</p>\n"}, {"tags": ["objective-c", "xcode", "arguments", "parameter-passing", "selector"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1569840114, "post_id": 58166183, "comment_id": 102714036, "body": "A selector describes a &quot;method&quot; within an Object.  It doesn&#39;t call it, therefore you don&#39;t pass parameters to it."}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569841645, "post_id": 58166183, "comment_id": 102714846, "body": "@trojanfoe Could you elaborate on what you mean by &quot;describes&quot;? If it doesn&#39;t actually call and run the method, what exactly does it do?"}], "answers": [{"comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1569874722, "post_id": 58167615, "comment_id": 102730264, "body": "You can, however, call any arbitrary selector if you move away from <code>performSelector:...</code> (I know you know this, but that last sentence parsed otherwise in my head)."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1569999856, "post_id": 58167615, "comment_id": 102771613, "body": "Actually @bbum I&#39;m not sure I do know :)  How else would you call a selector other than <code>performSelector:</code>?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1570136260, "post_id": 58167615, "comment_id": 102828625, "body": "Call <code>objc_msgSend()</code> directly;  just type cast it correctly first.  Or <code>NSInvocation</code>."}], "tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1569845239, "creation_date": 1569845239, "answer_id": 58167615, "question_id": 58166183, "link": "https://stackoverflow.com/questions/58166183/why-dont-selectors-need-to-pass-arguments-to-methods-that-take-parameters/58167615#58167615", "title": "Why don&#39;t selectors need to pass arguments to methods that take parameters?", "body": "<p>A selector <em>describes</em> a method within an Objective-C class, allowing you to call it at a later point in time.  Parameters are passed when it's called, not when it's described.</p>\n\n<p>You store selectors in a <a href=\"https://developer.apple.com/documentation/objectivec/sel\" rel=\"nofollow noreferrer\"><code>SEL</code></a> type and call them using <a href=\"https://developer.apple.com/documentation/objectivec/1418956-nsobject/1418867-performselector?language=objc\" rel=\"nofollow noreferrer\"><code>performSelector:</code></a> making them ideal to use as callbacks.</p>\n\n<p>The method you show above, will do something like this:</p>\n\n<pre><code>- (void)sendVerifyNumber:(NSString*)address\n        verificationCode:(NSString*)verificationNumber\n      withCallbackMethod:(SEL)callbackMethod\n      callbackFailMethod:(SEL)failedCallbackMethod\n                onObject:(id)callbackObject\n{\n    BOOL success = doWhateverIDo();\n    if (success) {\n        [callbackObject performSelector:callbackMethod\n                             withObject:someArgumentToPassback];\n    } else {\n        [callbackObject performSelector:failedCallbackMethod\n                             withObject:someArgumentToPassback];\n    }\n}\n</code></pre>\n\n<p>Note: you can only call a method that is described by a selector if it takes zero, one or two parameters (using <code>performSelector:</code>, <code>performSelector:withObject:</code> and <code>performSelector:withObject:withObject:</code> respectively).</p>\n"}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569845239, "creation_date": 1569839915, "question_id": 58166183, "link": "https://stackoverflow.com/questions/58166183/why-dont-selectors-need-to-pass-arguments-to-methods-that-take-parameters", "title": "Why don&#39;t selectors need to pass arguments to methods that take parameters?", "body": "<p>I'm looking into a project, trying to get a grip on the code. I just ran in to a <code>#selector</code>. As far as I understand it, <code>selectors</code> call methods (I'm sure there's more to it, of course). </p>\n\n<p>One thing that struck me is that the <code>selector</code> call doesn't pass an <code>argument</code> to the <code>method</code> even though the <code>method</code> itself takes a <code>parameter</code>. The code works fine, so I take it that this is normal behavior with a <code>selector</code>. Here is a sample of the code: </p>\n\n<pre><code>[Communication sendVerifyNumber:ps.address verificationCode:@\"\"\n             withCallbackMethod:@selector(numberVerificationCallCompleted:)\n             callbackFailMethod:@selector(numberVerificationCallFailed:) onObject:self];\n}\n</code></pre>\n\n<p>And the <code>numberVerificationCallCompleted</code>:</p>\n\n<pre><code>-(void)numberVerificationCallCompleted:(NSNumber*)responseNumber{...}\n</code></pre>\n\n<p>So, my question is, is this a thing with <code>selectors</code>. I mean, is that why they are used? And how does it work? The <code>method</code> still needs an <code>argument</code> to work properly, so it has to come from somewhere, right?</p>\n"}, {"tags": ["ios", "objective-c", "urbanairship.com"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 1374167, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NA0Y.gif?s=128&g=1", "display_name": "jmf1205", "link": "https://stackoverflow.com/users/1374167/jmf1205"}, "edited": false, "score": 0, "creation_date": 1569842568, "post_id": 58166856, "comment_id": 102715283, "body": "After a bit more testing, I can add an alert with a background push, and if I tap the message the response delegate call is triggered, but the app isn\u2019t awakened by just the push. I\u2019m wondering if this is cockpit failure-perhaps I am misunderstanding what iOS does when a background push is received."}, {"owner": {"reputation": 427, "user_id": 1374167, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NA0Y.gif?s=128&g=1", "display_name": "jmf1205", "link": "https://stackoverflow.com/users/1374167/jmf1205"}, "edited": false, "score": 0, "creation_date": 1570166071, "post_id": 58166856, "comment_id": 102834780, "body": "Upon further review, this sounds like a reasonable answer.  It works &quot;sometimes&quot;.  I had to rejigger the code a bit to use standard pushes to ensure that my updates would be delivered in a timely fashion."}, {"owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "reply_to_user": {"reputation": 427, "user_id": 1374167, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NA0Y.gif?s=128&g=1", "display_name": "jmf1205", "link": "https://stackoverflow.com/users/1374167/jmf1205"}, "edited": false, "score": 0, "creation_date": 1570187891, "post_id": 58166856, "comment_id": 102843830, "body": "@jmf1205 oops, sorry for not giving you alternatives to try out... I just focused on explaining why the notifications were &quot;failing&quot; and forgot to try and find a fix for it... I&#39;ll add it to the answer so it can be more helpful to others that read it later."}, {"owner": {"reputation": 427, "user_id": 1374167, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NA0Y.gif?s=128&g=1", "display_name": "jmf1205", "link": "https://stackoverflow.com/users/1374167/jmf1205"}, "edited": false, "score": 0, "creation_date": 1570187976, "post_id": 58166856, "comment_id": 102843876, "body": "Your answer is perfectly correct-I just think that the silent notifications leave much to be desired. As long as I make them \u201cnon-silent\u201d all is well!"}, {"owner": {"reputation": 147, "user_id": 7746404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a206581d8c8bb48fe6f1fce84b5ae304?s=128&d=identicon&r=PG&f=1", "display_name": "ehmjaysee", "link": "https://stackoverflow.com/users/7746404/ehmjaysee"}, "edited": false, "score": 0, "creation_date": 1583345729, "post_id": 58166856, "comment_id": 107087993, "body": "@pepsy can you tell us where you found this information about apns-priority and a per-day limit?"}, {"owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "reply_to_user": {"reputation": 147, "user_id": 7746404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a206581d8c8bb48fe6f1fce84b5ae304?s=128&d=identicon&r=PG&f=1", "display_name": "ehmjaysee", "link": "https://stackoverflow.com/users/7746404/ehmjaysee"}, "edited": false, "score": 0, "creation_date": 1583354502, "post_id": 58166856, "comment_id": 107092091, "body": "@ehmjaysee You can find it here: <a href=\"https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/pushing_background_updates_to_your_app\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/usernotifications/&hellip;</a> &quot;The number of background notifications allowed by the system depends on current conditions, but don\u2019t try to send more than two or three per hour&quot; &quot;... and the apns-priority field with a value of 5 ...&quot;"}], "tags": [], "owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "is_accepted": true, "score": 0, "last_activity_date": 1570188241, "last_edit_date": 1570188241, "creation_date": 1569842374, "answer_id": 58166856, "question_id": 58163905, "link": "https://stackoverflow.com/questions/58163905/ios-13-urban-airship-background-push-fails/58166856#58166856", "title": "ios 13 Urban Airship background push fails", "body": "<p>By setting <code>\"content-available\":1</code> you're using silent push notifications. Im not sure if it was any better in previous iOS's, but in iOS 13 this type of notifications have a apns-priority of 5 out of 10.</p>\n\n<p>This means that they might be delayed, grouped and delivered in bursts, or even completely ignored.</p>\n\n<p>For example, if the user force closes the app (swipe up), silent notifications are completely ignored. Also, there's a limitation of how many of those a user can receive per app per day.</p>\n\n<hr>\n\n<p>Being said so, silent push notifications are not suitable for when you need to guarantee your notifications will get delivered.</p>\n\n<p>Try regular push notifications instead (or maybe use the <a href=\"https://developer.apple.com/documentation/usernotifications/unnotificationserviceextension\" rel=\"nofollow noreferrer\">Notification Service App Extension</a>, if you want to change the content of the notification before displaying it to the user). They might arrive with a little delay, but they will be delivered.</p>\n"}], "owner": {"reputation": 427, "user_id": 1374167, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NA0Y.gif?s=128&g=1", "display_name": "jmf1205", "link": "https://stackoverflow.com/users/1374167/jmf1205"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 58166856, "answer_count": 1, "score": 0, "last_activity_date": 1570188241, "creation_date": 1569831232, "last_edit_date": 1569850818, "question_id": 58163905, "link": "https://stackoverflow.com/questions/58163905/ios-13-urban-airship-background-push-fails", "title": "ios 13 Urban Airship background push fails", "body": "<p>To try and start out on the right foot, I have been searching SO and other resources all morning for a solution to this problem.  </p>\n\n<p>I have an app which works perfectly with silent foreground push notifications, as well as standard push notifications.  Capabilities are set as below</p>\n\n<p><a href=\"https://i.stack.imgur.com/eF1XG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eF1XG.png\" alt=\"Capabilities\"></a></p>\n\n<p>The JSON that triggers the notification is as follows</p>\n\n<pre><code>{\"device_types\":[\"android\",\"ios\"],\"notification\":{\"ios\":{\"extra\":{\"requests\":{\"directives\":{\"forceUpdate\":1}}},\"content-available\":1}},\"audience\":{\"tag\":\"userDevice=60218\"}}\n</code></pre>\n\n<p>I have reduced the PushHandler delegate to the bare minimum for testing, from the UA example:</p>\n\n<pre><code>-(void)receivedBackgroundNotification:(UANotificationContent *)notificationContent completionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n// Application received a background notification\nUA_LDEBUG(@\"The application received a background notification\");\n\n// Call the completion handler\ncompletionHandler(UIBackgroundFetchResultNoData);\n}\n\n-(void)receivedForegroundNotification:(UANotificationContent *)notificationContent completionHandler:(void (^)(void))completionHandler {\nUA_LDEBUG(@\"The application received a foreground notification %@\",notificationContent);\ncompletionHandler();\n}\n\n-(void)receivedNotificationResponse:(UANotificationResponse *)notificationResponse completionHandler:(void (^)(void))completionHandler {\nUANotificationContent *notificationContent = notificationResponse.notificationContent;\n\nNSLog(@\"Received a notification response\");\nNSLog(@\"Alert Title:         %@\",notificationContent.alertTitle);\nNSLog(@\"Alert Body:          %@\",notificationContent.alertBody);\nNSLog(@\"Action Identifier:   %@\",notificationResponse.actionIdentifier);\nNSLog(@\"Category Identifier: %@\",notificationContent.categoryIdentifier);\nNSLog(@\"Response Text:       %@\",notificationResponse.responseText);\n\ncompletionHandler();\n}\n\n- (UNNotificationPresentationOptions)extendPresentationOptions:(UNNotificationPresentationOptions)options notification:(UNNotification *)notification {\nreturn options | UNNotificationPresentationOptionSound | UNNotificationPresentationOptionAlert;\n} \n</code></pre>\n\n<p>I have also looked at the device console (look for x.y.z for the identifier)  and I see this:</p>\n\n<pre><code>default 09:48:34.413032 +0200   apsd    &lt;private&gt; _notifyForIncomingMessage &lt;private&gt; with guid &lt;private&gt;\ndefault 09:48:34.414156 +0200   apsd    Dispatching low priority message on server: &lt;private&gt;\ndefault 09:48:34.414656 +0200   SpringBoard &lt;private&gt; Delivering message from apsd: &lt;private&gt; 3373312264 &lt;private&gt;\ndefault 09:48:34.414772 +0200   SpringBoard &lt;private&gt; responding with an ack for message with guid &lt;private&gt;\ndefault 09:48:34.414816 +0200   SpringBoard &lt;private&gt; making delegate (&lt;private&gt;) calls to deliver message 3373312264 &lt;private&gt; for topic &lt;private&gt;\ndefault 09:48:34.414842 +0200   SpringBoard &lt;private&gt; calling &lt;private&gt; connection:didReceiveIncomingMessage:\ndefault 09:48:34.415254 +0200   SpringBoard &lt;private&gt; returned from &lt;private&gt; connection:didReceiveIncomingMessage:\ndefault 09:48:34.415401 +0200   SpringBoard Received incoming message on topic x.y.z at priority 1\ndefault 09:48:34.416402 +0200   apsd    Looking up connection on peer: 3be332c0   found &lt;private&gt;\ndefault 09:48:34.416460 +0200   apsd    &lt;private&gt; informed that &lt;private&gt; acknowledges incoming message with guid &lt;private&gt; tracingUUID (null)\ndefault 09:48:34.417113 +0200   apsd    APSMessageStore - APSIncomingMessageRecordDeleteMessageForGUID &lt;private&gt;\ndefault 09:48:34.418199 +0200   SpringBoard [x.y.z] Received remote notification request BBC2-437A [ hasAlertContent: 0, hasSound: 0 hasBadge: 0 hasContentAvailable: 1 hasMutableContent: 0 pushType: Background]\ndefault 09:48:34.418312 +0200   SpringBoard [x.y.z] Deliver push notification BBC2-437A\ndefault 09:48:34.418372 +0200   SpringBoard [x.y.z] Request DUET delivers content-available push notification to application\ndefault 09:48:34.418476 +0200   SpringBoard SUBMITTING: &lt;private&gt;\ndefault 09:48:34.419185 +0200   dasd    Submitted Activity: com.apple.pushLaunch.x.y.z:FF3864 at priority 5 &lt;private&gt;\ndefault 09:48:34.419315 +0200   dasd    &lt;private&gt; was in pre-running. Removing due to submission of &lt;private&gt;\ndefault 09:48:34.425019 +0200   dasd    Adding a launch request (&lt;private&gt;) for application &lt;private&gt; by activity &lt;private&gt;\ndefault 09:48:34.425069 +0200   dasd    Launch requests for &lt;private&gt;: &lt;private&gt;\ndefault 09:48:34.425219 +0200   dasd    Daemon Canceling Activities: {(\n    com.apple.pushLaunch.x.y.z:3B7016\n)}\ndefault 09:48:34.425282 +0200   dasd    CANCELED: com.apple.pushLaunch.x.y.z:3B7016 at priority 5 &lt;private&gt;!\ndefault 09:48:34.425471 +0200   dasd    Removing a launch request for application &lt;private&gt; by activity &lt;private&gt;\nerror   09:48:34.425534 +0200   dasd    Activity &lt;private&gt; not tracked as being started, ignoring it\ndefault 09:48:34.427417 +0200   dasd    With &lt;private&gt; ...Tasks pre-running in group [com.apple.dasd.defaultNetwork] are 1!\ndefault 09:48:34.427594 +0200   dasd    Activity launch reason is not a BGTask reason. Returning YES\ndefault 09:48:34.427720 +0200   SpringBoard cancelActivities: 1 activities were not found: &lt;private&gt;\ndefault 09:48:34.427859 +0200   dasd    Unconstrained Available=1\ndefault 09:48:34.427892 +0200   dasd    com.apple.pushLaunch.x.y.z:FF3864:[\n    {name: DataBudgetPolicy, policyWeight: 1.000, response: {Decision: Must Not Proceed, Score: 0.00, Rationale: [{[/system/budgets/networking]: Required:1.00, Observed:0.00},]}}\n ], FinalDecision: Must Not Proceed}\ndefault 09:48:34.427937 +0200   dasd    NO LONGER RUNNING [Not in application -&gt; activity mapping] com.apple.pushLaunch.x.y.z:FF3864 ...Tasks running in group [com.apple.dasd.defaultNetwork] are 0!\n</code></pre>\n\n<p>receivedBackgroundNotification is never triggered.</p>\n\n<p>I have checked everywhere and I seem to have all options set (but clearly do not).  Any advice gratefully received.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When I put the app into the background in XCode, I get this message:</p>\n\n<pre><code>Can't end BackgroundTask: no background task exists with identifier 106 (0x6a), or it may have already been ended. Break in UIApplicationEndBackgroundTaskError() to debug\n</code></pre>\n\n<p>In the debugger, the break is occurring in [UAAsyncOperation setIsFinished]</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "objective-c-swift-bridge"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1569787454, "post_id": 58158747, "comment_id": 102699900, "body": "Please post code, not screenshots, and the complete error messages."}, {"owner": {"reputation": 2529, "user_id": 4305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19HCP.jpg?s=128&g=1", "display_name": "valosip", "link": "https://stackoverflow.com/users/4305676/valosip"}, "edited": false, "score": 0, "creation_date": 1569789309, "post_id": 58158747, "comment_id": 102700334, "body": "Is numberVerificationCallCompleted exposed in .h file"}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1569789320, "post_id": 58158747, "comment_id": 102700337, "body": "At least in the .h file , you must add the method signature to make it public."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "edited": false, "score": 0, "creation_date": 1569826416, "post_id": 58159039, "comment_id": 102707311, "body": "yes, of course! Thanks, completely forgot about checking that. I blame being new to objective-c lol. Thanks again for taking the time! :)"}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "edited": false, "score": 0, "creation_date": 1569826706, "post_id": 58159039, "comment_id": 102707426, "body": "As for the side question: any idea why I don&#39;t need to add bridge location to build settings. It works fine without doing it, but every tutorial I come across say I have to add it."}], "tags": [], "owner": {"reputation": 2529, "user_id": 4305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19HCP.jpg?s=128&g=1", "display_name": "valosip", "link": "https://stackoverflow.com/users/4305676/valosip"}, "is_accepted": true, "score": 1, "last_activity_date": 1569789733, "creation_date": 1569789733, "answer_id": 58159039, "question_id": 58158747, "link": "https://stackoverflow.com/questions/58158747/why-cant-i-access-objective-c-methods-even-though-file-is-in-bridge/58159039#58159039", "title": "Why can&#39;t I access objective-c methods even though file is in bridge?", "body": "<p>At first glance, it looks like you might be missing the declaration in the .h file to make the method public.</p>\n\n<pre><code>NumberVerificationViewController.h\n-(void)numberVerificationCallCompleted:(NSNumber*)responseNumber;\n\nNumberVerificationViewController.m\n-(void)numberVerificationCallCompleted:(NSNumber*)responseNumber {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58159039, "answer_count": 1, "score": -2, "last_activity_date": 1569826640, "creation_date": 1569787280, "last_edit_date": 1569826640, "question_id": 58158747, "link": "https://stackoverflow.com/questions/58158747/why-cant-i-access-objective-c-methods-even-though-file-is-in-bridge", "title": "Why can&#39;t I access objective-c methods even though file is in bridge?", "body": "<p>I have a project with a lot of <code>objective-c</code> code. Now I would like to access that code in my swift files. But for some reason I can't access the <code>objective-c</code> methods even though I can initiate an object of that class. </p>\n\n<p>I have a <code>bridge-file</code> with all the <code>.h</code> files added called <code>projectName-Bridge-Header.h</code></p>\n\n<pre><code>#import \"NumberVerificationViewController.h\"\n</code></pre>\n\n<p>And it's path is added in the <code>build-settings</code> (a side question: I can initiate an object from a class even though the bridge path isn't added to the <code>build-settings</code>. Why is that?):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gny45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gny45.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can initialize an object from the class, but I can't access the method:</p>\n\n<pre><code>var num = NumberVerificationViewController()\nnum.numberVerificationCallCompleted\n</code></pre>\n\n<p>The last line gives error that method does not exist.</p>\n\n<p>I'm new to <code>objective-c</code> so it might be something really simple. Still, it's beyond me.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "memory-management", "memory-leaks"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569767723, "post_id": 58155966, "comment_id": 102695090, "body": "Are you sure those view controllers were deallocated? Note that even if a view controller is no longer on screen, it doesn&#39;t mean that there aren&#39;t any other strong references that keep it alive."}, {"owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569774457, "post_id": 58155966, "comment_id": 102696776, "body": "Well I call <code>[self dismissViewControllerAnimated:YES completion:nil];</code> which should dismiss all viewControllers in the stack right? Assuming the presented view Controller is a Navigation View Controller."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 2, "creation_date": 1569784154, "post_id": 58155966, "comment_id": 102699204, "body": "Well, dismissing a view controller doesn&#39;t guarantee that the view controller will be deallocated, just that the controller won&#39;t be anymore part of the UI hierarchy. If some one else keeps a strong reference to the controller, that reference will keep it alive. And looking at the image you posted, looks like a block is the one keeping the controller alive - it might well be a retain cycle over there."}, {"owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569826808, "post_id": 58155966, "comment_id": 102707462, "body": "Found the block and pasted it in the question. Can you suggest how to fix the retain cycle?"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 1, "creation_date": 1569836390, "post_id": 58155966, "comment_id": 102712136, "body": "<a href=\"https://stackoverflow.com/questions/50261303/swift-closures-causing-strong-retain-cycle-with-self\" title=\"swift closures causing strong retain cycle with self\">stackoverflow.com/questions/50261303/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 1, "creation_date": 1569800798, "post_id": 58159948, "comment_id": 102702335, "body": "A common pattern is also to use a <code>weak self</code> in <code>@escaping</code> closures, to avoid retain cycles, like: <code>obj.closure = { [ weak self ] in ... }</code>"}, {"owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "edited": false, "score": 0, "creation_date": 1569821127, "post_id": 58159948, "comment_id": 102705644, "body": "@bbum You are right. I do have the PKYStepper callback in that View Controller but I don&#39;t know how to make it reference Weak Self. Have added the block in my question. Any help will be appreciated. Thanks!"}], "tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 3, "last_activity_date": 1569799142, "creation_date": 1569799142, "answer_id": 58159948, "question_id": 58155966, "link": "https://stackoverflow.com/questions/58155966/xcode-memory-debugger-showing-instances-of-already-removed-objects-ios/58159948#58159948", "title": "Xcode Memory Debugger showing instances of already removed objects - iOS", "body": "<p>It looks like you've likely captured the view controller in a callback block of some sort.</p>\n\n<p>Specifically, <code>PKYStepper</code> seems to have a callback block that is strongly referencing the view controller.   Either make sure said reference is weak or make sure the block is properly destroyed when the view controller is torn down.</p>\n"}, {"tags": [], "owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "is_accepted": true, "score": 1, "last_activity_date": 1569848627, "creation_date": 1569848627, "answer_id": 58168511, "question_id": 58155966, "link": "https://stackoverflow.com/questions/58155966/xcode-memory-debugger-showing-instances-of-already-removed-objects-ios/58168511#58168511", "title": "Xcode Memory Debugger showing instances of already removed objects - iOS", "body": "<p>Found the solution. Updated my callbacks to the following :</p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\n\n    qtyStepper.incrementCallback = ^(PKYStepper *stepper, float newValue) {\n\n        CartViewController *sSelf = weakSelf;\n\n        [sSelf updateTotalCharges]; //Had to use WEAKSELF in the callback!\n\n    };\n</code></pre>\n"}], "owner": {"reputation": 1103, "user_id": 1247406, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/019092b8d6ea2b3e31a37918fcb58f69?s=128&d=identicon&r=PG&f=1", "display_name": "hyd00", "link": "https://stackoverflow.com/users/1247406/hyd00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 58168511, "answer_count": 2, "score": 0, "last_activity_date": 1570548128, "creation_date": 1569765820, "last_edit_date": 1570548128, "question_id": 58155966, "link": "https://stackoverflow.com/questions/58155966/xcode-memory-debugger-showing-instances-of-already-removed-objects-ios", "title": "Xcode Memory Debugger showing instances of already removed objects - iOS", "body": "<p>Please see attached image for reference. All of the <code>viewControllers</code> have been already removed from the app but Memory Debugger shows its instances as well as all its properties. When i click the <code>Show Only Leaked blocks</code> filter of Memory Debugger, the <code>viewControllers</code> and other instances do not appear in it. Does it mean there are no leaks?</p>\n\n<p>How do I solve the problem. What does it mean?</p>\n\n<p><a href=\"https://i.stack.imgur.com/sF3rW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sF3rW.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I do have the <code>PKYStepper</code> block in the <code>CartViewController</code>'s <code>cellForRowAtIndexPath</code> (Stepper is a <code>UIControl</code> in my <code>TableViewCell</code>) method as follows :</p>\n\n<pre><code>PKYStepper *qtyStepper = [cell viewWithTag:993];\n\nqtyStepper.tappedCallback = ^(PKYStepper *stepper) {\n\n            NSLog(@\"Tapped!\");\n\n            rowSelected = indexPath;\n\n            if (((Dish*)((MenuSubSection*)_section.subSections[0]).dishesArray[indexPath.row]).disheOptions.count)\n            {\n                UIWindow *window = [UIApplication sharedApplication].keyWindow;\n\n                NSBundle* bun = [NSBundle bundleWithIdentifier:@\"com.test.test\"];\n\n                DishItemOption *dishOptions = [[bun loadNibNamed:@\"DishItemOption\" owner:self options:nil] objectAtIndex:0];\n                dishOptions.frame = CGRectMake(0, 0, window.frame.size.width, window.frame.size.height);\n\n                dishOptions.dish = [[Dish alloc] initWithDishObject:((Dish*)((MenuSubSection*)_section.subSections[0]).dishesArray[indexPath.row])];\n                dishOptions.delegate = self;\n                [window addSubview:dishOptions];\n            }\n\n        };\n</code></pre>\n\n<p>How to make it reference the Weak Self?</p>\n"}, {"tags": ["objective-c", "uilabel"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569764898, "post_id": 58155665, "comment_id": 102694358, "body": "Just as you said. Change the white color to the color of the background."}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569767628, "post_id": 58155665, "comment_id": 102695065, "body": "@matt I&#39;m going to use this on the image, and some views. So I need it to be transparent."}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1569844237, "post_id": 58155665, "comment_id": 102716038, "body": "Try changing the .tintColor property to what you want it to be"}], "owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569834108, "creation_date": 1569763611, "last_edit_date": 1569834108, "question_id": 58155665, "link": "https://stackoverflow.com/questions/58155665/uilabel-background-dependent-color-greencolor-and-clearcolor", "title": "UILabel: background dependent color (greenColor and clearColor)", "body": "<p>I'm trying to make progress bar with the label in it.\nHere is what I've done so far.\n<a href=\"https://i.stack.imgur.com/P5KC6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5KC6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is code.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>//PDProgressView.h\n#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface PDProgressView : UIView {\n    CGFloat _progress;\n}\n@property (nonatomic) CGFloat progress;\n-(id)initWithFrame:(CGRect)frame;\n-(void)drawRect:(CGRect)rect;\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<pre class=\"lang-c prettyprint-override\"><code>//PDProgressView.m\n#import \"PDProgressView.h\"\n\n@implementation PDProgressView\n@synthesize progress = _progress;\n\n-(id)initWithFrame:(CGRect)frame {\n    self = [super initWithFrame:frame];\n    if (self) {\n        //init\n    }\n    return self;\n}\n\n- (void)drawRect:(CGRect)rect {\n\n    CGContextRef context = UIGraphicsGetCurrentContext();\n\n    // Set up environment.\n    CGSize size = [self bounds].size;\n    UIColor *backgroundColor = [UIColor greenColor];\n    UIColor *foregroundColor = [UIColor whiteColor];\n    UIFont *font = [UIFont boldSystemFontOfSize:42.0];\n\n    // Prepare progress as a string.\n    NSString *progress = [NSString stringWithFormat:@\"%d\", (int)round([self progress] * 100)];\n    NSMutableDictionary *attributes = [@{ NSFontAttributeName : font } mutableCopy];\n    CGSize textSize = [progress sizeWithAttributes:attributes];\n    CGFloat progressX = ceil([self progress] * size.width);\n    CGPoint textPoint = CGPointMake(ceil((size.width - textSize.width) / 2.0), ceil((size.height - textSize.height) / 2.0));\n\n    // Draw background + foreground text\n    [backgroundColor setFill];\n    CGContextFillRect(context, [self bounds]);\n    attributes[NSForegroundColorAttributeName] = foregroundColor;\n    [progress drawAtPoint:textPoint withAttributes:attributes];\n\n    // Clip the drawing that follows to the remaining progress' frame.\n    CGContextSaveGState(context);\n    CGRect remainingProgressRect = CGRectMake(progressX, 0.0, size.width - progressX, size.height);\n    CGContextAddRect(context, remainingProgressRect);\n    CGContextClip(context);\n\n    // Draw again with inverted colors.\n    [foregroundColor setFill];\n    CGContextFillRect(context, [self bounds]);\n    attributes[NSForegroundColorAttributeName] = backgroundColor;\n    [progress drawAtPoint:textPoint withAttributes:attributes];\n\n    CGContextRestoreGState(context);\n}\n\n- (void)setProgress:(CGFloat)progress {\n    _progress = fminf(1.0, fmaxf(progress, 0.0));\n    [self setNeedsDisplay];\n}\n\n@end\n</code></pre>\n\n<p>This codes are from <a href=\"https://stackoverflow.com/a/10190872/10536248\">this answer</a>.</p>\n\n<p>What I want to do is to make the white to be transparent.</p>\n\n<p>Like this.(I just switched white color to the same color as background color)</p>\n\n<p><a href=\"https://i.stack.imgur.com/cdTWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdTWR.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, I tried changing <code>foregroundColor</code> to <code>clearColor</code>. But I got a rect filed with <code>greenColor</code>.\n<a href=\"https://i.stack.imgur.com/EzvTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EzvTJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>What should I do to make white to be transparent like the second image?</p>\n"}, {"tags": ["objective-c", "swift", "delegates", "closures", "objective-c-swift-bridge"], "comments": [{"owner": {"reputation": 3078, "user_id": 1176162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f60cb4749dc58483d617591ce3ad350?s=128&d=identicon&r=PG", "display_name": "Yonat", "link": "https://stackoverflow.com/users/1176162/yonat"}, "edited": false, "score": 0, "creation_date": 1569745387, "post_id": 58152157, "comment_id": 102690130, "body": "As a rule of thumb, try adding <code>@objc</code> everywhere: before the <code>func</code>, before the <code>var delegate</code> -- see if it helps."}], "answers": [{"tags": [], "owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "is_accepted": true, "score": 0, "last_activity_date": 1571017564, "creation_date": 1571017564, "answer_id": 58369168, "question_id": 58152157, "link": "https://stackoverflow.com/questions/58152157/how-to-push-a-swift-view-controller-from-objective-c-class-and-pass-data-back-an/58369168#58369168", "title": "how to push a swift view controller from objective-c class and pass data back and continue the next process in objective c class", "body": "<p>so the answer is that to use</p>\n\n<pre><code>       @objc protocol MyProtocol: class {\n  func setResultofSecurityQuestion(valueSent: [NSDictionary])\n          }\n</code></pre>\n\n<p>and @objc everywhere</p>\n"}], "owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 58369168, "answer_count": 1, "score": 1, "last_activity_date": 1571017564, "creation_date": 1569729970, "last_edit_date": 1569731407, "question_id": 58152157, "link": "https://stackoverflow.com/questions/58152157/how-to-push-a-swift-view-controller-from-objective-c-class-and-pass-data-back-an", "title": "how to push a swift view controller from objective-c class and pass data back and continue the next process in objective c class", "body": "<p>I want to push swift UIViewController from my objective C uiviewcontroller and wait for that viewcontroller to send back data. How can I do it.</p>\n\n<p>I tried using protocol/Delegate in swift but it throws error as it is not available in objc .h file even if I'm importing \"Pass-swift.h\" bridging header file.</p>\n\n<p>I am curious if there I can do with completion blocks if yes then how? or any other approach?</p>\n\n<pre><code>//Parentviewcontroller.m file\n\n\n- (void)sendNextbutton:(id)sender{\n\nUIViewController *vc = [[SecurityQuestionViewController alloc] init];\n\n[self.navigationController pushViewController:vc animated:YES];\n\n// I want below signup  function to calll after getting data back from vc viewcontoller\n[self singupWithSecurityQuestion];}\n</code></pre>\n\n<p>// .h file</p>\n\n<pre><code>#import  \"PassSDK-Swift.h\"\n\n\n@interface ParentViewController : UIViewController &lt;MyProtocol&gt;\n\n@end\n</code></pre>\n\n<p>//SecurityQuestionViewController.swift</p>\n\n<pre><code> @objc protocol MyProtocol {\n   func setResultofSecurityQuestion(valueSent: [NSDictionary])\n }\n\n@objc public class SecurityQuestionViewController: UIViewController\n{    \n  var delegate: MyProtocol?\n\n@objc func didTapSubmitButton(sender: UIButton){\n    let data: [NSDictionary] = getQuesDictionary()\n    print(data)\n    delegate?.setResultofSecurityQuestion(valueSent: data)\n    navigationController?.popViewController(animated: true)\n    dismiss(animated: true, completion: nil)\n  }\n\n}\n</code></pre>\n\n<p>//I should get data back to ParentViewController and it should wait for swift view controller to send back data and then it should go to next function/method - singupWithSecurityQuestion.</p>\n"}, {"tags": ["ios", "objective-c", "tvos", "voiceover"], "answers": [{"tags": [], "owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "is_accepted": true, "score": 1, "last_activity_date": 1569820864, "creation_date": 1569820864, "answer_id": 58161891, "question_id": 58151173, "link": "https://stackoverflow.com/questions/58151173/is-there-a-way-to-query-voiceover-rotor-mode/58161891#58161891", "title": "Is there a way to query VoiceOver rotor mode?", "body": "<blockquote>\n  <p>... is there an API to query which navigation mode is currently selected?</p>\n</blockquote>\n\n<p>Under <strong>iOS 13</strong>, it's <strong>currently not possible</strong>.</p>\n\n<p>Even if you can <a href=\"https://a11y-guidelines.orange.com/mobile_EN/dev-ios.html#custom-rotor\" rel=\"nofollow noreferrer\">add a new rotor option</a> thanks to the <code>UIAccessibilityCustomRotor</code> since iOS 10, there's definitely no way to get the selected mode information from the rotor.</p>\n"}], "owner": {"reputation": 6054, "user_id": 459082, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9565ebfb11dc958c166a322c73479ee4?s=128&d=identicon&r=PG", "display_name": "John Carter", "link": "https://stackoverflow.com/users/459082/john-carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58161891, "answer_count": 1, "score": 1, "last_activity_date": 1569820864, "creation_date": 1569715422, "question_id": 58151173, "link": "https://stackoverflow.com/questions/58151173/is-there-a-way-to-query-voiceover-rotor-mode", "title": "Is there a way to query VoiceOver rotor mode?", "body": "<p>When VoiceOver is enabled on tvOS or iOS, is there an API to query which navigation mode is currently selected?  (i.e.: containers, headings, landmarks, etc.).</p>\n"}, {"tags": ["objective-c", "background", "task", "ios13"], "answers": [{"tags": [], "owner": {"reputation": 16280, "user_id": 408390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9c31d32e2b91a8b6559f95db3163bd27?s=128&d=identicon&r=PG", "display_name": "Warren Burton", "link": "https://stackoverflow.com/users/408390/warren-burton"}, "is_accepted": false, "score": 3, "last_activity_date": 1569704048, "creation_date": 1569704048, "answer_id": 58150227, "question_id": 58149980, "link": "https://stackoverflow.com/questions/58149980/ios-13-objective-c-background-task-request/58150227#58150227", "title": "ios 13 objective-c background task request", "body": "<p>The register function looks like this.</p>\n\n<pre><code>static NSString* TaskID = @\"com.SO.apprefresh\";\n\n-(void)configure {\n    [[BGTaskScheduler sharedScheduler] registerForTaskWithIdentifier:TaskID\n                                                          usingQueue:nil\n                                                       launchHandler:^(BGTask *task) {\n        [self scheduleLocalNotifications];\n        [self handleAppRefreshTask:task];\n    }];\n}\n\n-(void)scheduleLocalNotifications {\n    //do things\n}\n\n-(void)handleAppRefreshTask:(BGTask *)task {\n    //do things with task\n}\n</code></pre>\n\n<p>The swift closure signature converts from:</p>\n\n<pre><code>{ task in\n //....\n}\n</code></pre>\n\n<p>to an Objective-C block signature:</p>\n\n<pre><code>^(BGTask *task) {\n  //...\n}\n</code></pre>\n\n<p>And the other function looks like this. </p>\n\n<pre><code>-(void)scheduleAppRefresh {\n    BGAppRefreshTaskRequest *request = [[BGAppRefreshTaskRequest alloc] initWithIdentifier:TaskID];\n    request.earliestBeginDate = [NSDate dateWithTimeIntervalSinceNow:2*60];\n    NSError *error = NULL;\n    BOOL success = [[BGTaskScheduler sharedScheduler] submitTaskRequest:request error:&amp;error];\n    if (!success) {\n        NSLog(@\"Failed to submit request: %@\",error);\n    }\n}\n</code></pre>\n\n<p>Any throwing function in Swift</p>\n\n<p><code>func submit(_ taskRequest: BGTaskRequest) throws</code></p>\n\n<p>Will always convert to a function that returns <code>BOOL</code> and passes an error by reference. </p>\n\n<p><code>- (BOOL)submitTaskRequest:(BGTaskRequest *)taskRequest error:(NSError **)error</code></p>\n"}, {"comments": [{"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1569942975, "post_id": 58150734, "comment_id": 102755415, "body": "Please don&#39;t ask questions in the Answer section. You can edit your question to add more detail."}, {"owner": {"reputation": 565, "user_id": 2920087, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001322028729/picture?type=large", "display_name": "Vladimir Vodolazkiy", "link": "https://stackoverflow.com/users/2920087/vladimir-vodolazkiy"}, "edited": false, "score": 1, "creation_date": 1571914693, "post_id": 58150734, "comment_id": 103401597, "body": "Add BackgroundTasks.framework and #import &lt;BackgroundTasks/BackgroundTasks.h&gt; to AppDelegate.m"}], "tags": [], "owner": {"reputation": 69, "user_id": 9448077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_5x2JzvA-kI/AAAAAAAAAAI/AAAAAAAAAAA/zvpNDPBHojQ/photo.jpg?sz=128", "display_name": "Hakan Turkmen", "link": "https://stackoverflow.com/users/9448077/hakan-turkmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1579780464, "last_edit_date": 1579780464, "creation_date": 1569709216, "answer_id": 58150734, "question_id": 58149980, "link": "https://stackoverflow.com/questions/58149980/ios-13-objective-c-background-task-request/58150734#58150734", "title": "ios 13 objective-c background task request", "body": "<p>I've added a block of code that you wrote. But i have some issues.</p>\n\n<p><img src=\"https://i.stack.imgur.com/jKcc0.png\"></p>\n\n<p>all codes in appdelegate.m:</p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"MainViewController.h\"\n\n@implementation AppDelegate\n\n- (BOOL)application:(UIApplication*)application didFinishLaunchingWithOptions:(NSDictionary*)launchOptions\n{\n    self.viewController = [[MainViewController alloc] init];\n    return [super application:application didFinishLaunchingWithOptions:launchOptions];\n\n}\n\n- (void)applicationDidEnterBackground:(UIApplication *)application\n{\n    NSLog(@\"The code runs through here!\");\n}\n\n\n\n\n\nstatic NSString* TaskID = @\"com.SO.apprefresh\";\n\n-(void)configure {\n    [[BGTaskScheduler sharedScheduler] registerForTaskWithIdentifier:TaskID\n                                                          usingQueue:nil\n                                                       launchHandler:^(BGTask *task) {\n        [self scheduleLocalNotifications];\n        [self handleAppRefreshTask:task];\n    }];\n}\n\n-(void)scheduleLocalNotifications {\n    //do things\n}\n-(void)handleAppRefreshTask:(BGTask *)task {\n    //do things with task\n}\n\n\n-(void)scheduleAppRefresh {\n    BGAppRefreshTaskRequest *request = [[BGAppRefreshTaskRequest alloc] initWithIdentifier:TaskID];\n    request.earliestBeginDate = [NSDate dateWithTimeIntervalSinceNow:2*60];\n    NSError *error = NULL;\n    BOOL success = [[BGTaskScheduler sharedScheduler] submitTaskRequest:request error:&amp;error];\n    if (!success) {\n        NSLog(@\"Failed to submit request: %@\",error);\n    }\n}\n\n\n@end\n</code></pre>\n\n<p>How can i declare Backgroundprocess? or What should I write to appdelegate.h?</p>\n\n<p>Thanks a lot</p>\n"}, {"comments": [{"owner": {"reputation": 1608, "user_id": 5456493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/lD4ng.png?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/5456493/abhishek"}, "edited": false, "score": 0, "creation_date": 1580457848, "post_id": 58483550, "comment_id": 106111206, "body": "can you elaborate this"}, {"owner": {"reputation": 41, "user_id": 3276997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0aee976231fe35fd24c12e6915dce01?s=128&d=identicon&r=PG&f=1", "display_name": "Grisu", "link": "https://stackoverflow.com/users/3276997/grisu"}, "reply_to_user": {"reputation": 1608, "user_id": 5456493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/lD4ng.png?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/5456493/abhishek"}, "edited": false, "score": 0, "creation_date": 1580550177, "post_id": 58483550, "comment_id": 106140344, "body": "Sure, I found it here: <a href=\"https://developer.apple.com/documentation/backgroundtasks/bgtaskscheduler\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/backgroundtasks/&hellip;</a> &quot;The system runs only tasks registered with identifiers on a whitelist of task identifiers. To add the whitelist, add the identifiers to the Info.plist file&quot;  If I remember correctly I had problems with running background tasks on iOS13 before I added task ID to BGTaskSchedulerPermittedIdentifiers."}], "tags": [], "owner": {"reputation": 41, "user_id": 3276997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0aee976231fe35fd24c12e6915dce01?s=128&d=identicon&r=PG&f=1", "display_name": "Grisu", "link": "https://stackoverflow.com/users/3276997/grisu"}, "is_accepted": false, "score": 2, "last_activity_date": 1571650530, "creation_date": 1571650530, "answer_id": 58483550, "question_id": 58149980, "link": "https://stackoverflow.com/questions/58149980/ios-13-objective-c-background-task-request/58483550#58483550", "title": "ios 13 objective-c background task request", "body": "<p>Also don't forget to whitelist your Task Id in info.plist file under Permitted background task scheduler identifiers (BGTaskSchedulerPermittedIdentifiers)</p>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 872051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b56356851a4f7ef96343b5e340a9931?s=128&d=identicon&r=PG", "display_name": "Jan Ehrhardt", "link": "https://stackoverflow.com/users/872051/jan-ehrhardt"}, "is_accepted": false, "score": 3, "last_activity_date": 1588872262, "creation_date": 1588872262, "answer_id": 61663948, "question_id": 58149980, "link": "https://stackoverflow.com/questions/58149980/ios-13-objective-c-background-task-request/61663948#61663948", "title": "ios 13 objective-c background task request", "body": "<p>There is hardly any complete example for a BGProcessingTaskRequest in Objective-C. This is my implementation, which leans on the other answers in this question.</p>\n\n<p>The following steps are needed.</p>\n\n<p>Add the BackgroundTasks.framework to you app, under Build Phases - Link Binary With Libraries</p>\n\n<p>Enable Background processing in Signing &amp; Capabilities - Background Modes. I enabled Background fetch &amp; Remote notifications as well.</p>\n\n<p>Edit your Info.plist. Enter a new row 'Permitted background task scheduler identifiers'. Add items for that row with the identifiers of your background tasks. In my case: com.toolsforresearch.compress and a second item com.toolsforresearch.upload.</p>\n\n<pre><code>#import &lt;BackgroundTasks/BackgroundTasks.h&gt;\n</code></pre>\n\n<p>in your AppDelegate.m</p>\n\n<p>Add this to willFinishLaunchingWithOptions in AppDelegate.m:</p>\n\n<pre><code>if (@available(iOS 13.0, *)) {\n    NSLog(@\"configureProcessingTask\");\n    [self configureProcessingTask];\n}\n</code></pre>\n\n<p>Add this to applicationDidEnterBackground in your AppDelegate.m</p>\n\n<pre><code>if (@available(iOS 13.0, *)) {\n    NSLog(@\"scheduleProcessingTask\");\n    [self scheduleProcessingTask];\n}\n</code></pre>\n\n<p>Finally, add this to your AppDelegate.m, before the @end</p>\n\n<pre><code>static NSString* uploadTask = @\"com.toolsforresearch.upload\";\n\n-(void)configureProcessingTask {\n    if (@available(iOS 13.0, *)) {\n        [[BGTaskScheduler sharedScheduler] registerForTaskWithIdentifier:uploadTask\n                                                              usingQueue:nil\n                                                           launchHandler:^(BGTask *task) {\n            [self scheduleLocalNotifications];\n            [self handleProcessingTask:task];\n        }];\n    } else {\n        // No fallback\n    }\n}\n\n-(void)scheduleLocalNotifications {\n    //do things\n}\n\n-(void)handleProcessingTask:(BGTask *)task API_AVAILABLE(ios(13.0)){\n    //do things with task\n}\n\n-(void)scheduleProcessingTask {\n    if (@available(iOS 13.0, *)) {\n        NSError *error = NULL;\n        // cancel existing task (if any)\n        [BGTaskScheduler.sharedScheduler cancelTaskRequestWithIdentifier:uploadTask];\n        // new task\n        BGProcessingTaskRequest *request = [[BGProcessingTaskRequest alloc] initWithIdentifier:uploadTask];\n        request.requiresNetworkConnectivity = YES;\n        request.earliestBeginDate = [NSDate dateWithTimeIntervalSinceNow:5];\n        BOOL success = [[BGTaskScheduler sharedScheduler] submitTaskRequest:request error:&amp;error];\n        if (!success) {\n            // Errorcodes https://stackoverflow.com/a/58224050/872051\n            NSLog(@\"Failed to submit request: %@\", error);\n        } else {\n            NSLog(@\"Success submit request %@\", request);\n        }\n    } else {\n        // No fallback\n    }\n}\n</code></pre>\n\n<p>When I run my app and push it to the background these messages are NSLogged:</p>\n\n<pre><code>2020-05-07 19:12:45.179834+0200 SessionVideo[819:171719] scheduleProcessingTask\n2020-05-07 19:12:45.219117+0200 SessionVideo[819:171719] Success submit request &lt;BGProcessingTaskRequest: com.toolsforresearch.upload, earliestBeginDate: 2020-05-07 17:12:50 +0000, requiresExternalPower=0, requiresNetworkConnectivity=1&gt;\n</code></pre>\n\n<p>I did no processing yet in the BGProcessingTask, but the fact that the request submits fine is a good starting point. Comments are more than welcome, for instance how to add a completion handler to the background task.</p>\n"}], "owner": {"reputation": 69, "user_id": 9448077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_5x2JzvA-kI/AAAAAAAAAAI/AAAAAAAAAAA/zvpNDPBHojQ/photo.jpg?sz=128", "display_name": "Hakan Turkmen", "link": "https://stackoverflow.com/users/9448077/hakan-turkmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3814, "favorite_count": 4, "answer_count": 4, "score": 8, "last_activity_date": 1588872262, "creation_date": 1569701738, "last_edit_date": 1582371044, "question_id": 58149980, "link": "https://stackoverflow.com/questions/58149980/ios-13-objective-c-background-task-request", "title": "ios 13 objective-c background task request", "body": "<p>I've got a question with objective-c and background task request.</p>\n\n<p>Restricted to background modes with ios 13.</p>\n\n<p>My App does not run in the background more than 30 seconds.</p>\n\n<p>Background modes changed with ios 13.</p>\n\n<p>I need to register a background task with objective-c like this:</p>\n\n<pre><code>BGTaskScheduler.shared.register(forTaskWithIdentifier: \"com.SO.apprefresh\", using: nil) { task in\n    self.scheduleLocalNotification()\n    self.handleAppRefreshTask(task: task as! BGAppRefreshTask)\n}\n</code></pre>\n\n<p>and I need schedule when app goes to background</p>\n\n<pre><code>func scheduleAppRefresh() {\n    let request = BGAppRefreshTaskRequest(identifier: \"com.SO.apprefresh\")\n    request.earliestBeginDate = Date(timeIntervalSinceNow: 2 * 60) // App Refresh after 2 minute.\n    do {\n        try BGTaskScheduler.shared.submit(request)\n    } catch {\n        print(\"Could not schedule app refresh: \\(error)\")\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uialertview", "uialertcontroller", "ios13"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569689475, "post_id": 58148334, "comment_id": 102681005, "body": "This is essentially a duplicate of <a href=\"https://stackoverflow.com/questions/58131996/every-uialertcontroller-disappear-automatically-before-user-responds-since-ios\" title=\"every uialertcontroller disappear automatically before user responds since ios\">stackoverflow.com/questions/58131996/&hellip;</a> but that&#39;s in Swift and its answer isn&#39;t going to work properly under iOS 13 when you support scenes."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569689510, "post_id": 58148334, "comment_id": 102681018, "body": "Are you using scenes in your app under iOS 13 or did you choose to fully opt out of scenes (which you should not be doing)?"}, {"owner": {"reputation": 2741, "user_id": 1988667, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0QYaj.jpg?s=128&g=1", "display_name": "Reanimation", "link": "https://stackoverflow.com/users/1988667/reanimation"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569689935, "post_id": 58148334, "comment_id": 102681119, "body": "@rmaddy I&#39;m not entirely sure. I use a game engine that generates an Xcode project. Adding this in the past has always worked until now unfortunately. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "is_accepted": true, "score": 7, "last_activity_date": 1572873549, "last_edit_date": 1572873549, "creation_date": 1569760813, "answer_id": 58155286, "question_id": 58148334, "link": "https://stackoverflow.com/questions/58148334/uialertcontroller-disappearing-since-ios-13/58155286#58155286", "title": "UIAlertController disappearing since iOS 13", "body": "<p>What seems to have changed is that on iOS 12 and previous versions your app would hold a strong reference to the window just by calling <code>[alertWindow makeKeyAndVisible];</code>, in iOS 13 it doesn't anymore.</p>\n\n<p>What's happening is that the only strong reference to your <code>alertWindow</code> is in your <code>requestHapticSetting</code> func, and as soon as this func returns, the window is destroyed, thus removing your alert from the view.</p>\n\n<p>This might be fixed just by adopting iOS 13 scenes, but I haven't tested that. What I can suggest, which <strong>won't properly work if you are using scenes</strong>, is holding your alert window in a strong variable somewhere in your code, and then using it to present the alert. I'd suggest doing so in a singleton or AppDelegate itself.</p>\n\n<pre><code>//AppDelegate.h\n...\n@property (strong) UIWindow *alertWindow;\n....\n</code></pre>\n\n<hr>\n\n<pre><code>//AppDelegate.m\n...\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    ...\n    self.alertWindow = [[UIWindow alloc] init];\n    self.alertWindow.rootViewController = [[UIViewController alloc] init];\n    self.alertWindow.windowLevel = UIWindowLevelAlert + 1;\n    ...\n}\n...\n</code></pre>\n\n<hr>\n\n<pre><code>//Your class that's presenting the alert\n#import \"AppDelegate.h\"\n...\n- (void)requestHapticSetting{\n    AppDelegate *appDelegate = (AppDelegate *)UIApplication.sharedApplication;\n    [appDelegate.alertWindow makeKeyAndVisible];\n    if(isHapticOn){\n        hapticMessage = @\"Haptic feedback is currently\\nturned ON.\\nPlease update preference.\";\n    } else {\n        hapticMessage = @\"Haptic feedback is currently\\nturned OFF.\\nPlease update preference.\";\n    }\n\n    UIAlertController* alert = [UIAlertController alertControllerWithTitle:@\"Haptic Setting\"\n                                                               message:hapticMessage\n                                                        preferredStyle:UIAlertControllerStyleAlert];\n\n    UIAlertAction* onAction = [UIAlertAction actionWithTitle:@\"TURN ON\" style:UIAlertActionStyleDefault\n                                                 handler:^(UIAlertAction * action) {\n                                                      [self saveHapticSettingOn];\n                                                      [appDelegate.alertWindow setHidden:YES];\n                                                 }];\n\n    UIAlertAction* offAction = [UIAlertAction actionWithTitle:@\"TURN OFF\" style:UIAlertActionStyleDefault\n                                                  handler:^(UIAlertAction * action) {\n                                                      [self saveHapticSettingOff];\n                                                      [appDelegate.alertWindow setHidden:YES];\n                                                  }];\n    [alert addAction:offAction];\n    [alert addAction:onAction];\n    [appDelegate.alertWindow.rootViewController presentViewController:alert animated:YES completion:nil];\n}\n</code></pre>\n\n<hr>\n\n<p>For Swift code, check <a href=\"https://stackoverflow.com/questions/58131996/every-uialertcontroller-disappear-automatically-before-user-responds-since-ios/58133993#58133993\">this answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1245, "user_id": 5575548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54a1ea706b41016aef07a9f67e13498c?s=128&d=identicon&r=PG", "display_name": "emraz", "link": "https://stackoverflow.com/users/5575548/emraz"}, "is_accepted": false, "score": 1, "last_activity_date": 1585638608, "creation_date": 1585638608, "answer_id": 60945145, "question_id": 58148334, "link": "https://stackoverflow.com/questions/58148334/uialertcontroller-disappearing-since-ios-13/60945145#60945145", "title": "UIAlertController disappearing since iOS 13", "body": "<p>I have created a helper class which support new UIWindowScene and iOS 13.X and swift 5.X. You guys can try</p>\n\n<p><a href=\"https://github.com/emraz/ERAlertController\" rel=\"nofollow noreferrer\">https://github.com/emraz/ERAlertController</a></p>\n"}], "owner": {"reputation": 2741, "user_id": 1988667, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0QYaj.jpg?s=128&g=1", "display_name": "Reanimation", "link": "https://stackoverflow.com/users/1988667/reanimation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3908, "favorite_count": 0, "accepted_answer_id": 58155286, "answer_count": 2, "score": 3, "last_activity_date": 1585638608, "creation_date": 1569688631, "last_edit_date": 1569689609, "question_id": 58148334, "link": "https://stackoverflow.com/questions/58148334/uialertcontroller-disappearing-since-ios-13", "title": "UIAlertController disappearing since iOS 13", "body": "<p>I have the following function that pops up a UIAlert which allows the user to update their Haptic Feedback setting:</p>\n\n<pre><code>- (void)requestHapticSetting{\n    UIWindow *alertWindow = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];\n    alertWindow.rootViewController = [[UIViewController alloc] init];\n    alertWindow.windowLevel = UIWindowLevelAlert + 1;\n    [alertWindow makeKeyAndVisible];\n\n    if(isHapticOn){\n        hapticMessage = @\"Haptic feedback is currently\\nturned ON.\\nPlease update preference.\";\n    }\n    else {\n        hapticMessage = @\"Haptic feedback is currently\\nturned OFF.\\nPlease update preference.\";\n    }\n\n    UIAlertController* alert = [UIAlertController alertControllerWithTitle:@\"Haptic Setting\"\n                                                                   message:hapticMessage\n                                                            preferredStyle:UIAlertControllerStyleAlert];\n\n    UIAlertAction* onAction = [UIAlertAction actionWithTitle:@\"TURN ON\" style:UIAlertActionStyleDefault\n                                                     handler:^(UIAlertAction * action) {\n                                                         [self saveHapticSettingOn];\n                                                     }];\n\n    UIAlertAction* offAction = [UIAlertAction actionWithTitle:@\"TURN OFF\" style:UIAlertActionStyleDefault\n                                                      handler:^(UIAlertAction * action) {\n                                                          [self saveHapticSettingOff];\n                                                      }];\n    [alert addAction:offAction];\n    [alert addAction:onAction];\n    [alertWindow.rootViewController presentViewController:alert animated:YES completion:nil];\n}\n</code></pre>\n\n<p>I have used this for a couple of years and it works great.</p>\n\n<p>However, since updating to iOS 13 and updating to the latest Xcode, my alert pops up for less than a second before closing.</p>\n\n<p>What has changed that could be making this happen? Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "gadbannerview"], "comments": [{"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569718032, "post_id": 58145761, "comment_id": 102686409, "body": "Hi, can you add a screenshot? Do you have a 1x1, 2x2, 3x3 ? because the object if is like a list you can use a UITableView."}, {"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "reply_to_user": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569837498, "post_id": 58145761, "comment_id": 102712698, "body": "@Ladd.c. I can&#39;t use UITableView for my purpose actually. I am using UICollectionView which is inside UIContainerView."}, {"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "reply_to_user": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569837663, "post_id": 58145761, "comment_id": 102712779, "body": "Now i got my doubt like usually the UI hangs when there is timeout error or some kind  of error received from AdMob"}, {"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569859721, "post_id": 58145761, "comment_id": 102724175, "body": "Where is this method &#39;preloadNextGoogleBannerAd&#39; called? I think the problem is with the dispatch_async called from some UICollectionView method because I had similar problems"}, {"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "reply_to_user": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569863171, "post_id": 58145761, "comment_id": 102725583, "body": "First i call &quot;preloadNextGoogleBannerAd&quot; after i get data from server, then when i receive the AdView in &quot;adViewDidReceiveAd:(GADBannerView *)adView&quot; this method"}, {"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "reply_to_user": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569912523, "post_id": 58145761, "comment_id": 102738915, "body": "@Ladd.c Even after i removed dispatch_async no use, I am doing this one after the another, so when it come to end of the list. it give an error &quot;Request Error: The Google Ad request was unable to be fulfilled before a timeout occurred&quot;. after i get this error , UICollectionView cant scroll smoothly. Do you know how to handle this ?"}, {"owner": {"reputation": 189, "user_id": 6285383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ztugz.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/6285383/priya"}, "edited": false, "score": 0, "creation_date": 1592788689, "post_id": 58145761, "comment_id": 110540962, "body": "@Akhil :  Is it possible display different Ads on each recurring items?"}, {"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "reply_to_user": {"reputation": 189, "user_id": 6285383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ztugz.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/6285383/priya"}, "edited": false, "score": 1, "creation_date": 1592907111, "post_id": 58145761, "comment_id": 110586179, "body": "@Priya :Yes its possible."}, {"owner": {"reputation": 189, "user_id": 6285383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Ztugz.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/6285383/priya"}, "edited": false, "score": 0, "creation_date": 1593068681, "post_id": 58145761, "comment_id": 110650865, "body": "@Akhil: Please post your answer if possible here. I am getting same Ads in each recurring items.  <a href=\"https://stackoverflow.com/questions/62485567/ios-swift-google-addmob-sdk-how-to-display-different-ads-in-recurring-items-in\" title=\"ios swift google addmob sdk how to display different ads in recurring items in\">stackoverflow.com/questions/62485567/&hellip;</a>"}], "owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569681533, "creation_date": 1569669289, "last_edit_date": 1569681533, "question_id": 58145761, "link": "https://stackoverflow.com/questions/58145761/multiple-gadbannerview-in-uicollectionview-is-not-scrolling-smoothly-in-objectiv", "title": "Multiple GADBannerView in UiCollectionView is not scrolling smoothly in Objective C", "body": "<p>I have a collection view in my project with lots of data coming from a web service, with GADBAnnerView(AdMob) on every 4th position. Ads are showing but it doesn't scroll smoothly.</p>\n\n<pre><code>- (void)preloadNextGoogleBannerAd {\nif (!adMobBannersToLoad.count) {\n    return;\n}\ndispatch_async(dispatch_get_global_queue( DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void){\n    GADBannerView *adView = adMobBannersToLoad.firstObject;\n    [adMobBannersToLoad removeObjectAtIndex:0];\n    GADRequest *request = [GADRequest request];\n    request.testDevices = @[ kGADSimulatorID ];\n    dispatch_async(dispatch_get_main_queue(), ^(void){\n       [adView loadRequest:request];\n    });\n});\n</code></pre>\n\n<p>And in cellForItemAtIndexPath of CollectionView</p>\n\n<pre><code>for (UIView *subview in reusableAdCell.contentView.subviews) {\n  [subview removeFromSuperview];\n}\n\nGADBannerView *adView = _tableViewItems[indexPath.row];\n[reusableAdCell.contentView addSubview:adView];\nadView.center = reusableAdCell.contentView.center;\n\nreturn reusableAdCell;\n</code></pre>\n\n<p>Can someone help me for this issue?</p>\n"}, {"tags": ["objective-c", "core-data", "nsfetchedresultscontroller"], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 9037419, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/308f5dfd0e1b8d063eaf4db0ef320b7b?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/9037419/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1569666431, "creation_date": 1569666431, "answer_id": 58145411, "question_id": 58144811, "link": "https://stackoverflow.com/questions/58144811/uicollectionviewcontroller-with-nsfetchedresultscontroller-broke-when-update-pr/58145411#58145411", "title": "UICollectionViewController with NSFetchedResultsController broke, when update property of all objects, if controller sorted on this property", "body": "<p>As a simple solution, was added:</p>\n\n<pre><code>- (void)controllerDidChangeContent:(NSFetchedResultsController *)controller{\n   [self.collectionView performBatchUpdates:^{\n   ......\n   if(self-&gt;_itemChanges.count &gt; 1){\n       [self.collectionView reloadSections:[NSIndexSet indexSetWithIndex:0]];\n   } else {\n       for (NSDictionary *change in self-&gt;_itemChanges) {\n           ...\n       }\n   }\n   ......\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9037419, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/308f5dfd0e1b8d063eaf4db0ef320b7b?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/9037419/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569666431, "creation_date": 1569661025, "question_id": 58144811, "link": "https://stackoverflow.com/questions/58144811/uicollectionviewcontroller-with-nsfetchedresultscontroller-broke-when-update-pr", "title": "UICollectionViewController with NSFetchedResultsController broke, when update property of all objects, if controller sorted on this property", "body": "<p>I have UICollectionViewController , It is collection view for some Objects at the map. So, I can update one item in fetched result (for example set LIKE for one of this Object). It is work well. I see changes immediately.\nBut if trying to update property \"Distance\" of all Objects, and same time controller are sorted on this property. Fetched result doesn't updated automatically. And then, while scrolling, reused Cells not updated, and I can see only Cells, that was on display, before I was started update property for all Objects. If I TouchUpInside first Cell in a row, for example it would be Object 123, controller open detail page of different Object, that Object, that should stay at this position after collectionView reloadData.</p>\n\n<hr>\n\n<p>Incase I'm change Sort Descriptors from <code>[fetchRequest setSortDescriptors:@[distanceAscending]];</code> </p>\n\n<p>to  <code>[fetchRequest setSortDescriptors:@[titleAscending]];</code> </p>\n\n<p>or <code>[fetchRequest setSortDescriptors:@[titleAscending, distanceAscending]];</code></p>\n\n<p>It is work well.</p>\n\n<hr>\n\n<p>Incase I'm change property \"Distance\" of only one Object.\nIt is work well. Controller sort Cells as it should.</p>\n\n<hr>\n\n<p>Incase I'm change property \"Distance\" of Objects not fetched this time.\nIt is work well.</p>\n\n<hr>\n\n<p>Incase I'm close this controller, and open again <code>[fetchRequest setSortDescriptors:@[distanceAscending]];</code> working as it should</p>\n\n<hr>\n\n<p>I'm tying to reload CollectionViewController different ways,\n<code>[self.collectionView reloadData];</code> and <code>reloadwithPredicateDefault</code>. But same result.</p>\n\n<hr>\n\n<p>I'm tying to change Managed Object Context <code>NSPrivateQueueConcurrencyType</code> and <code>NSMainQueueConcurrencyType</code>. But same result.</p>\n\n<hr>\n\n<p><strong>MapObjectCollectionViewController.h</strong></p>\n\n<pre><code>@interface MapObjectCollectionViewController : UICollectionViewController\n</code></pre>\n\n<p><strong>MapObjectCollectionViewController.m</strong></p>\n\n<pre><code>@interface MapObjectCollectionViewController ()&lt;NSFetchedResultsControllerDelegate&gt;\n\n@property (strong, nonatomic) NSFetchedResultsController *fetchedResultsController;\n@property (strong, nonatomic) NSManagedObjectContext* managedObjectContext;\n@property (strong, nonatomic) NSPredicate * predicate1;\n@property (strong, nonatomic) NSPredicate * predicate2;\n\n#pragma mark - Fetched results controller\n\n- (NSFetchedResultsController *)fetchedResultsController\n{\n\n\n    if (_fetchedResultsController != nil) {\n        return _fetchedResultsController;\n    }\n\n    NSFetchRequest* fetchRequest = [[NSFetchRequest alloc] init];\n\n    NSEntityDescription* description =\n    [NSEntityDescription entityForName:@\"MapObj\"\n                inManagedObjectContext:self.managedObjectContext];\n\n    [fetchRequest setEntity:description];\n\n\n\n        _predicate1 = [NSPredicate predicateWithFormat:@\"types.typeObjValue IN %@\", self.selectionsTypes];\n        _predicate2 = [NSPredicate predicateWithFormat:@\"wiFi &gt;= %i\", 0]; \n\n\n\n    NSPredicate *predicate = [NSCompoundPredicate andPredicateWithSubpredicates:@[_predicate1, _predicate2]];\n    [fetchRequest setPredicate:predicate];\n\n\n    NSSortDescriptor* titleAscending = [[NSSortDescriptor alloc] initWithKey:@\"title\" ascending:YES];\n\n    NSSortDescriptor* distanceAscending = [[NSSortDescriptor alloc] initWithKey:@\"distance\" ascending:NO];\n\n        [fetchRequest setSortDescriptors:@[distanceAscending]];\n        // [fetchRequest setSortDescriptors:@[titleAscending, distanceAscending]];\n\n    NSFetchedResultsController *aFetchedResultsController =\n    [[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest\n                                        managedObjectContext:self.managedObjectContext\n                                          sectionNameKeyPath:nil\n                                                   cacheName:nil];\n    aFetchedResultsController.delegate = self;\n    self.fetchedResultsController = aFetchedResultsController;\n\n    NSError *error = nil;\n    if (![self.fetchedResultsController performFetch:&amp;error]) {\n\n        NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n        abort();\n    }\n\n    return _fetchedResultsController;\n}\n\n-(void)controller:(NSFetchedResultsController *)controller didChangeObject:(id)anObject\n      atIndexPath:(NSIndexPath *)indexPath forChangeType:(NSFetchedResultsChangeType)type\n     newIndexPath:(NSIndexPath *)newIndexPath {\n    NSMutableDictionary *change = [[NSMutableDictionary alloc] init];\n    switch(type) {\n        case NSFetchedResultsChangeInsert:\n            change[@(type)] = newIndexPath;\n            break;\n        case NSFetchedResultsChangeDelete:\n            change[@(type)] = indexPath;\n            break;\n        case NSFetchedResultsChangeUpdate:\n            change[@(type)] = indexPath;\n            break;\n        case NSFetchedResultsChangeMove:\n            change[@(type)] = @[indexPath, newIndexPath];\n            break;\n    }\n    [_itemChanges addObject:change];\n}\n- (void)reloadwithPredicateDefault {\n    [NSFetchedResultsController deleteCacheWithName:nil];\n    self.fetchedResultsController = nil;\n    [self.fetchedResultsController performFetch:nil];\n    [self.collectionView reloadData];\n}\n#pragma mark - UICollectionViewDataSource\n- (NSManagedObjectContext*) managedObjectContext {\n\n    if (!_managedObjectContext) {\n        _managedObjectContext = [[DataManager sharedManager] managedObjectContext];\n    }\n    return _managedObjectContext;\n}\n\n- (void)controllerDidChangeContent:(NSFetchedResultsController *)controller{\n    [self.collectionView performBatchUpdates:^{\n        for (NSDictionary *change in self-&gt;_sectionChanges) {\n            [change enumerateKeysAndObjectsUsingBlock:^(id key, id obj, BOOL *stop) {\n                NSFetchedResultsChangeType type = [key unsignedIntegerValue];\n                switch(type) {\n                    case NSFetchedResultsChangeInsert:\n                        [self.collectionView insertSections:[NSIndexSet indexSetWithIndex:[obj unsignedIntegerValue]]];\n                        break;\n                    case NSFetchedResultsChangeDelete:\n                        [self.collectionView deleteSections:[NSIndexSet indexSetWithIndex:[obj unsignedIntegerValue]]];\n                        break;\n                    case NSFetchedResultsChangeMove:\n                        break;\n                    case NSFetchedResultsChangeUpdate:\n                        break;\n                }\n            }];\n        }\n        for (NSDictionary *change in self-&gt;_itemChanges) {\n            [change enumerateKeysAndObjectsUsingBlock:^(id key, id obj, BOOL *stop) {\n                NSFetchedResultsChangeType type = [key unsignedIntegerValue];\n                switch(type) {\n                    case NSFetchedResultsChangeInsert:\n                        [self.collectionView insertItemsAtIndexPaths:@[obj]];\n                        break;\n                    case NSFetchedResultsChangeDelete:\n                        [self.collectionView deleteItemsAtIndexPaths:@[obj]];\n                        break;\n                    case NSFetchedResultsChangeUpdate:\n                        [self.collectionView reloadItemsAtIndexPaths:@[obj]];\n                        break;\n                    case NSFetchedResultsChangeMove:\n                        [self.collectionView moveItemAtIndexPath:obj[0] toIndexPath:obj[1]];\n                        break;\n                }\n            }];\n        }\n    } completion:^(BOOL finished) {\n        self-&gt;_sectionChanges = nil;\n        self-&gt;_itemChanges = nil;\n\n    }];\n}\n</code></pre>\n\n<p><strong>DataManager.h</strong></p>\n\n<pre><code>@property (readonly, strong, nonatomic) NSManagedObjectContext *mainPrivateManagedObjectContext;\n@property (readonly, strong, nonatomic) NSManagedObjectContext *managedObjectContext;\n@property (readonly, strong, nonatomic) NSManagedObjectModel *managedObjectModel;\n@property (readonly, strong, nonatomic) NSPersistentStoreCoordinator *persistentStoreCoordinator;\n\n+ (DataManager*)sharedManager;\n</code></pre>\n\n<p><strong>DataManager.m</strong></p>\n\n<pre><code>@implementation DataManager\n\n@synthesize mainPrivateManagedObjectContext = _mainPrivateManagedObjectContext;\n@synthesize managedObjectContext = _managedObjectContext;\n@synthesize managedObjectModel = _managedObjectModel;\n@synthesize persistentStoreCoordinator = _persistentStoreCoordinator;\n\n+(DataManager*) sharedManager{\n\n    static DataManager* manager = nil;\n\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        manager = [[DataManager alloc] init];\n    });\n\n    return manager;\n}\n\n#pragma mark - Core Data stack\n\n\n- (NSManagedObjectModel *)managedObjectModel {\n    // The managed object model for the application. It is a fatal error for the application not to be able to find and load its model.\n    if (_managedObjectModel != nil) {\n        return _managedObjectModel;\n    }\n    NSURL *modelURL = [[NSBundle mainBundle] URLForResource:@\"ProjectName\" withExtension:@\"momd\"];\n    _managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];\n    return _managedObjectModel;\n}\n\n- (NSPersistentStoreCoordinator *)persistentStoreCoordinator {\n    // The persistent store coordinator for the application. This implementation creates and returns a coordinator, having added the store for the application to it.\n    if (_persistentStoreCoordinator != nil) {\n        return _persistentStoreCoordinator;\n    }\n\n    // Create the coordinator and store\n\n    _persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];\n    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@\"ProjectName.sqlite\"];\n    NSError *error = nil;\n    // NSString *failureReason = @\"There was an error creating or loading the application's saved data.\";\n    if (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:@{NSMigratePersistentStoresAutomaticallyOption:@YES, NSInferMappingModelAutomaticallyOption:@YES} error:&amp;error]) {\n        NSLog(@\"error = %@\", error);\n        // Report any error we got.\n\n        [[NSFileManager defaultManager] removeItemAtURL:storeURL error:nil]; //\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0440\u0443\u044e \u0431\u0430\u0437\u0443\n\n        [_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&amp;error]; //\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u0430\u0437\u0443 \u0437\u0430\u043d\u043e\u0432\u043e\n\n    }\n    return _persistentStoreCoordinator;\n}\n\n\n- (NSManagedObjectContext *)managedObjectContext {\n\n    // Returns the managed object context for the application (which is already bound to the persistent store coordinator for the application.)\n    if (_managedObjectContext != nil) {\n        // . NSLog(@\"get managedObjectContext\");\n        return _managedObjectContext;\n    }\n\n    NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];\n    if (!coordinator) {\n        return nil;\n    }\n\n    _mainPrivateManagedObjectContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];\n    [_mainPrivateManagedObjectContext setPersistentStoreCoordinator:coordinator];\n\n    _managedObjectContext = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSMainQueueConcurrencyType];\n    [_managedObjectContext setParentContext:_mainPrivateManagedObjectContext];\n    // . NSLog(@\"get return managedObjectContext\");\n    return _managedObjectContext;\n}\n\n- (NSManagedObjectContext *)getContextForBGTask {\n    NSManagedObjectContext *context = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];\n\n    [context setParentContext:self.managedObjectContext];\n    return context;\n}\n- (NSArray*) allMapObj {\n\n    NSFetchRequest* request = [[NSFetchRequest alloc] init];\n\n    NSEntityDescription* description =\n    [NSEntityDescription entityForName:@\"MapObj\"\n                inManagedObjectContext:self.managedObjectContext];\n\n    [request setEntity:description];\n\n    NSError* requestError = nil;\n    NSArray* resultArray = [self.managedObjectContext executeFetchRequest:request error:&amp;requestError];\n    if (requestError) {\n        NSLog(@\"%@\", [requestError localizedDescription]);\n    }\n    return resultArray;\n}\n- (void)calculateDistanceWithCurrentLoaction:(CLLocation*) currentLoaction{\n    NSFetchRequest* request = [[NSFetchRequest alloc] init];\n    NSManagedObjectContext * bgcontext = [self getContextForBGTask];\n    NSEntityDescription* description =\n    [NSEntityDescription entityForName:@\"MapObj\"\n                inManagedObjectContext:bgcontext];\n\n    [request setEntity:description];\n\n    NSError* requestError = nil;\n    NSArray* resultArray = [bgcontext executeFetchRequest:request error:&amp;requestError];\n    if (requestError) {\n        NSLog(@\"%@\", [requestError localizedDescription]);\n    }\n    for (MapObj *mapObject in resultArray) {\n\n            CLLocation *endLocation = [[CLLocation alloc] initWithLatitude:[mapObject.latitude doubleValue] longitude:[mapObject.longitude doubleValue]];\n            CLLocationDistance distance = [currentLoaction distanceFromLocation:endLocation];\n            mapObject.distance = [NSDecimalNumber decimalNumberWithString:[NSString stringWithFormat:@\"%f\", distance]];\n\n    }\n    [bgcontext updatedObjects];\n    [self saveContextForBGTask:bgcontext];\n\n}\n- (void)saveContextForBGTask:(NSManagedObjectContext *)bgTaskContext {\n    if (bgTaskContext.hasChanges) {\n\n        [bgTaskContext performBlockAndWait:^{\n            NSError *error = nil;\n\n            [bgTaskContext save:&amp;error];\n        }];\n        // Save default context\n        [self saveDefaultContext:YES];\n    }\n}\n- (void)saveDefaultContext:(BOOL)wait {\n    if (_managedObjectContext.hasChanges) {\n        [_managedObjectContext performBlockAndWait:^{\n            // . NSLog(@\"managed context = %@\", _managedObjectContext);\n            NSError *error = nil;\n            [self-&gt;_managedObjectContext save:&amp;error];\n        }];\n    }\n    void (^saveMainPrivateManagedObjectContext) (void) = ^{\n        NSError *error = nil;\n        [self-&gt;_mainPrivateManagedObjectContext save:&amp;error];\n    };\n    if ([_mainPrivateManagedObjectContext hasChanges]) {\n        if (wait){\n            // . NSLog(@\"main context = %@\", _mainPrivateManagedObjectContext);\n            [_mainPrivateManagedObjectContext performBlockAndWait:saveMainPrivateManagedObjectContext];\n        } else {\n            [_mainPrivateManagedObjectContext performBlock:saveMainPrivateManagedObjectContext];\n        }\n    }\n}\n</code></pre>\n\n<p>Error in console:</p>\n\n<p><code>2019-09-28 12:35:14.951873+0400 ProjectName[15695:4020487] *** Assertion failure in -[UICollectionView _endItemAnimationsWithInvalidationContext:tentativelyForReordering:animator:], /BuildRoot/Library/Caches/com.apple.xbs/Sources/UIKitCore/UIKit-3698.140/UICollectionView.m:5972</code></p>\n\n<pre><code>CoreData: fault: Serious application error.  An exception was caught from the delegate of NSFetchedResultsController during a call to -controllerDidChangeContent:.  attempt to perform an insert and a move to the same index path (&lt;NSIndexPath: 0xa945f4d4afea737e&gt; {length = 2, path = 0 - 4}) with userInfo (null)\n</code></pre>\n\n<p>What did I missed?</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uicolor", "ios-darkmode"], "answers": [{"comments": [{"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569623991, "post_id": 58141962, "comment_id": 102670070, "body": "Perfect thank you .. I was thinking of a different solution .. Tell me if I&#39;m wrong .. If I create two backgorund images and insert them in the asset (both for the excuse and for the clear one) it is not better? I would avoid double call problems on the right methods?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569624107, "post_id": 58141962, "comment_id": 102670091, "body": "The gradient is better. With images it gets messy as the size of the view changes such as rotating the device or supporting split mode on iPads."}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569624217, "post_id": 58141962, "comment_id": 102670103, "body": "I tried to implement the method you suggested but when I go to the background to set the dark mode to Settings on my device the background doesn&#39;t change :("}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569624381, "post_id": 58141962, "comment_id": 102670127, "body": "Is <code>setupBackground</code> called? Is it getting the right colors? Are you sure you have just the one layer in the view?"}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569624660, "post_id": 58141962, "comment_id": 102670167, "body": "Above the view controller (the gradient is applied to its background) I only have another 1 view 5 label a 1  button and a  1 switch. The setup method [self setupBackground]; is called in view did load to indicate the gradient the first time and then called in traitCollectionDidChange"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569624751, "post_id": 58141962, "comment_id": 102670184, "body": "You didn&#39;t answer my other questions. Use the debugger and see what&#39;s really happening."}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569625043, "post_id": 58141962, "comment_id": 102670230, "body": "Yes the &quot;setupBackground&quot; method is called every time .. The colors are correct the problem is that it does not change according to the set mode ... the first gradient selected always remains"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569625120, "post_id": 58141962, "comment_id": 102670245, "body": "Make sure the only gradient layer in the view is new gradient layer with the latest colors."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1569623797, "creation_date": 1569623797, "answer_id": 58141962, "question_id": 58141937, "link": "https://stackoverflow.com/questions/58141937/objective-c-change-programmatically-gradient-background-color-uiviewcontroller/58141962#58141962", "title": "Objective-C - Change programmatically Gradient Background Color UIViewController When iOS 13 Dark Mode changed", "body": "<p>You should implement the <code>traitCollectionDidChange</code> and have it update your background:</p>\n\n<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection {\n    [super traitCollectionDidChange:previousTraitCollection];\n\n    if (@available(iOS 13.0, *)) { // Needed if your app supports iOS 12\n        if ([self.traitCollection hasDifferentColorAppearanceComparedToTraitCollection:previousTraitCollection]) {\n            [self setupBackground];\n        }\n    }\n}\n</code></pre>\n\n<p>Of course this means that <code>setupBackground</code> will be called many times. So you should update it so it doesn't add a new layer each time.</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 8734523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H9gCqWyVo-s/AAAAAAAAAAI/AAAAAAAAABE/uDmok0Z5oRA/photo.jpg?sz=128", "display_name": "Breno Medeiros de Oliveira", "link": "https://stackoverflow.com/users/8734523/breno-medeiros-de-oliveira"}, "is_accepted": false, "score": 0, "last_activity_date": 1580134581, "creation_date": 1580134581, "answer_id": 59932898, "question_id": 58141937, "link": "https://stackoverflow.com/questions/58141937/objective-c-change-programmatically-gradient-background-color-uiviewcontroller/59932898#59932898", "title": "Objective-C - Change programmatically Gradient Background Color UIViewController When iOS 13 Dark Mode changed", "body": "<p>kAiN,</p>\n\n<p>There is a lot of dificulties to implement Dark Mode with ObjC on iOS13, but fortunatily a group of Devs e Designers made a realy easy way of doing it:</p>\n\n<p><a href=\"https://medium.com/flawless-app-stories/implementing-dark-mode-on-ios-d195cac098de\" rel=\"nofollow noreferrer\">https://medium.com/flawless-app-stories/implementing-dark-mode-on-ios-d195cac098de</a></p>\n\n<p>Best regards. o/</p>\n"}], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 1, "accepted_answer_id": 58141962, "answer_count": 2, "score": 2, "last_activity_date": 1581344763, "creation_date": 1569623557, "last_edit_date": 1581344763, "question_id": 58141937, "link": "https://stackoverflow.com/questions/58141937/objective-c-change-programmatically-gradient-background-color-uiviewcontroller", "title": "Objective-C - Change programmatically Gradient Background Color UIViewController When iOS 13 Dark Mode changed", "body": "<p>I am implementing the features for the management of the <strong>Dark Mode of iOS 13</strong> in my app .. I have a problem for the background of my ViewController.</p>\n\n<p>My view controller has a background gradient color obtained with <code>CAGradientLayer</code>.</p>\n\n<p>I managed to change the colors that make up the gradient based on the user's choice when it goes from <strong>Dark Mode ---> Light Mode</strong> and <strong>Light Mode ---> Dark Mode</strong> .. </p>\n\n<p>My problem is that when the user sends in background my app to go to the control center and change the mode, the colors of the gradient I used for my background color do not change immediately ...</p>\n\n<p>To get the gradient color changes the user must close the app and reopen it.</p>\n\n<p>A really bad User Experince so I wanted to ask you how to solve this problem ...</p>\n\n<p>This is what I use to change the colors of my gradient based on the user-selected <code>iOS</code> mode</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    [self setupBackground];\n}\n\n- (void)setupBackground {\n\n    UIColor *secondaryColor = self.view.traitCollection.userInterfaceStyle == UIUserInterfaceStyleDark ? UIColor.customRedColor : UIColor.customGreenColor;\n\n    CAGradientLayer *gradient = [CAGradientLayer layer];\n\n    gradient.frame = UIApplication.sharedApplication.windows.firstObject.bounds;\n    gradient.colors = @[(id)UIColor.customBlueColor.CGColor, (id)secondaryColor.CGColor];\n    gradient.locations = @[@0.1, @0.9];\n\n    [self.view.layer insertSublayer:gradient atIndex:0];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avplayer"], "answers": [{"tags": [], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "is_accepted": true, "score": 0, "last_activity_date": 1579806090, "creation_date": 1579806090, "answer_id": 59885475, "question_id": 58139970, "link": "https://stackoverflow.com/questions/58139970/setting-avplayerviewcontroller-player-to-nil-breaks-closed-captions/59885475#59885475", "title": "Setting AVPlayerViewController.player to nil breaks closed captions", "body": "<p>I've found a less-than-elegant solution to this problem that works!</p>\n\n<p>When you call <code>controller.player = nil;</code> you must also <strong><em>completely destroy the AVPlayerViewController</em></strong>: <code>[controller.view removeFromSuperview]; controller = nil;</code></p>\n\n<p>Then when you want to set the player once more, you create a new AVPlayerViewController. This will cause a blip in the audio and video (about 0.1 seconds), but the captions will work!</p>\n"}], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 59885475, "answer_count": 1, "score": 1, "last_activity_date": 1579806090, "creation_date": 1569609880, "question_id": 58139970, "link": "https://stackoverflow.com/questions/58139970/setting-avplayerviewcontroller-player-to-nil-breaks-closed-captions", "title": "Setting AVPlayerViewController.player to nil breaks closed captions", "body": "<p>Per Apple's documentation, when you want to play the audio content of a video in the background you must disconnect the <code>AVPlayer</code> from its <code>AVPlayerViewController</code> or <code>AVPlayerLayer</code> when the application is moved to the background in order to prevent the audio from automatically pausing:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/avfoundation/media_assets_playback_and_editing/creating_a_basic_video_player_ios_and_tvos/playing_audio_from_a_video_asset_in_the_background\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/avfoundation/media_assets_playback_and_editing/creating_a_basic_video_player_ios_and_tvos/playing_audio_from_a_video_asset_in_the_background</a></p>\n\n<p>I noticed that in iOS 13, doing this causes closed captions to break. I created a new project (single view app) to create a minimum reproduction case for this issue. My storyboard consists of a single view with a single button, and the button is connected to my view controller as an action (\"playPressed\"). Here is the code of my <code>ViewController.m</code>:</p>\n\n<pre><code>//\n//  ViewController.m\n//  AVPlayerViewControllerBug\n//\n//  Created by Steven Barnett on 9/27/19.\n//  Copyright \u00a9 2019 BlueFrame Tech. All rights reserved.\n//\n\n#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n{\n    @private\n    AVPlayerViewController *controller;\n    AVPlayer *player;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    controller = [[AVPlayerViewController alloc] init];\n    player = [[AVPlayer alloc] initWithURL:[NSURL URLWithString:@\"https://vcloud.blueframetech.com/file/hls/143758.m3u8\"]];\n    controller.player = player;\n\n    [player addObserver:self forKeyPath:@\"rate\" options:0 context:nil];\n\n}\n\n- (IBAction)playPressed:(id)sender {\n    [self presentViewController:controller animated:YES completion:nil];\n}\n\n- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    // Since we're ONLY observing \"rate\" on the player, assume\n    // that's what changed to call this\n    AVPlayer *player = (AVPlayer*)object;\n\n    if (player.rate == 0)\n    {\n        // Unbind the player from the view controller when paused\n        controller.player = nil;\n\n        // Since I haven't built custom controls for the player,\n        // when it's unbound there's no way to hit the play\n        // button. So we'll just start playing after a timer\n        // has elapsed\n        [NSTimer scheduledTimerWithTimeInterval:2.0 repeats:NO block:^(NSTimer * _Nonnull timer) {\n            [player play];\n        }];\n    }\n    else\n    {\n        // Re-bind the player when playing\n        controller.player = player;\n    }\n}\n\n@end\n\n</code></pre>\n\n<p>If you copy this code to your own app, or just try it for yourself, you'll see that when <code>controller.player = nil</code> is called, it causes captions to cease working on the <code>AVPlayer</code>. The only way I've found to fix it is to delete the <code>AVPlayer</code> object and create a whole new <code>AVPlayer</code> to replace it.</p>\n\n<p>Is there something I'm missing, some method call I'm not aware of, or something I'm misunderstanding? Or is this just an iOS 13 bug?</p>\n"}, {"tags": ["objective-c", "swift", "security"], "comments": [{"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569718679, "post_id": 58137950, "comment_id": 102686497, "body": "Do you want to send data from App1 (Developer 1) to App2 (Developer 2) without Web API or Safari only using the iOS keychain?"}, {"owner": {"reputation": 308, "user_id": 4086278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75414a7c666e08c204697695f62d54?s=128&d=identicon&r=PG&f=1", "display_name": "AntiVIRUZ", "link": "https://stackoverflow.com/users/4086278/antiviruz"}, "reply_to_user": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569824309, "post_id": 58137950, "comment_id": 102706479, "body": "I want to do that without additional user actions or opening app2 from app1 applications. I know that it&#39;s possible \u2013 Instagram does this somehow when you authorize with facebook there. But it uses an internet connection: it doesn&#39;t work without it."}, {"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "edited": false, "score": 0, "creation_date": 1569859540, "post_id": 58137950, "comment_id": 102724103, "body": "Yes, is possible without internet connection using the Keychain functionality. Let me try an example."}], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 4086278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75414a7c666e08c204697695f62d54?s=128&d=identicon&r=PG&f=1", "display_name": "AntiVIRUZ", "link": "https://stackoverflow.com/users/4086278/antiviruz"}, "edited": false, "score": 0, "creation_date": 1569917258, "post_id": 58166717, "comment_id": 102741150, "body": "Keychain can work only within one team, but I need to share data between apps in different teams"}], "tags": [], "owner": {"reputation": 2453, "user_id": 1853243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ka9z.jpg?s=128&g=1", "display_name": "Sreeram Nair", "link": "https://stackoverflow.com/users/1853243/sreeram-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1569841789, "creation_date": 1569841789, "answer_id": 58166717, "question_id": 58137950, "link": "https://stackoverflow.com/questions/58137950/disable-popup-when-work-with-shared-web-credentials-work-directly/58166717#58166717", "title": "Disable popup when work with Shared Web Credentials (work directly)", "body": "<p>I will recommend you to use the <a href=\"https://github.com/kishikawakatsumi/KeychainAccess\" rel=\"nofollow noreferrer\">KeychainAccess</a> which is a simple swift wrapper. And using Keychain is the best way to store small pieces of data that are critical to your app, like secrets and passwords.</p>\n\n<p>Also the tutorial from <a href=\"https://www.raywenderlich.com/9240-keychain-services-api-tutorial-for-passwords-in-swift\" rel=\"nofollow noreferrer\">raywenderlich</a> would help you use the Keychain Services API.</p>\n"}, {"comments": [{"owner": {"reputation": 308, "user_id": 4086278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75414a7c666e08c204697695f62d54?s=128&d=identicon&r=PG&f=1", "display_name": "AntiVIRUZ", "link": "https://stackoverflow.com/users/4086278/antiviruz"}, "edited": false, "score": 0, "creation_date": 1569917363, "post_id": 58175211, "comment_id": 102741197, "body": "I cannot add two apps from different teams in one group. Xcode says, that I cannot take this group name when I try to add the second app in existing group"}], "tags": [], "owner": {"reputation": 529, "user_id": 1256601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lqrhc.jpg?s=128&g=1", "display_name": "Haseeb Afsar", "link": "https://stackoverflow.com/users/1256601/haseeb-afsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569877132, "creation_date": 1569877132, "answer_id": 58175211, "question_id": 58137950, "link": "https://stackoverflow.com/questions/58137950/disable-popup-when-work-with-shared-web-credentials-work-directly/58175211#58175211", "title": "Disable popup when work with Shared Web Credentials (work directly)", "body": "<p>App groups can be an option for your use case. Read below the apple API documentation and medium post</p>\n\n<p><strong>App Groups</strong>\nUse a shared app group to share data/files between two/more apps or containing apps. An app group creates a secure container that multiple processes can access. Normally, each process runs in its own sandbox environment, but an app group lets both processes share a common directory.</p>\n\n<p>Apple API docs - <a href=\"https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_security_application-groups\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_security_application-groups</a></p>\n\n<p><a href=\"https://medium.com/@dinesh.kachhot/different-ways-to-share-data-between-apps-de75a0a46d4a\" rel=\"nofollow noreferrer\">https://medium.com/@dinesh.kachhot/different-ways-to-share-data-between-apps-de75a0a46d4a</a></p>\n\n<p>Also here is another stackoverflow post answering similar question - <a href=\"https://stackoverflow.com/questions/24015506/communicating-and-persisting-data-between-apps-with-app-groups\">Communicating and persisting data between apps with App Groups</a></p>\n"}], "owner": {"reputation": 308, "user_id": 4086278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75414a7c666e08c204697695f62d54?s=128&d=identicon&r=PG&f=1", "display_name": "AntiVIRUZ", "link": "https://stackoverflow.com/users/4086278/antiviruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1569877132, "creation_date": 1569599961, "question_id": 58137950, "link": "https://stackoverflow.com/questions/58137950/disable-popup-when-work-with-shared-web-credentials-work-directly", "title": "Disable popup when work with Shared Web Credentials (work directly)", "body": "<p>Is there any way to work with data in shared web credentials directly, like with keychain, without showing popups on <code>SecAddSharedWebCredential</code> and <code>SecRequestSharedWebCredential</code>? </p>\n\n<p>Or are there any other methods to work with it? </p>\n\n<p>I want to share some data (string) between apps with different development teams.</p>\n"}, {"tags": ["ios", "objective-c", "in-app-purchase", "app-store", "ios13"], "comments": [{"owner": {"reputation": 964, "user_id": 9506784, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wNk_lhsrGhY/AAAAAAAAAAI/AAAAAAAAABQ/z1wCkxlsGa0/photo.jpg?sz=128", "display_name": "thisIsTheFoxe", "link": "https://stackoverflow.com/users/9506784/thisisthefoxe"}, "edited": false, "score": 0, "creation_date": 1569597364, "post_id": 58137255, "comment_id": 102661142, "body": "did you try to just call the reload func async from the main thread?"}, {"owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "reply_to_user": {"reputation": 964, "user_id": 9506784, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wNk_lhsrGhY/AAAAAAAAAAI/AAAAAAAAABQ/z1wCkxlsGa0/photo.jpg?sz=128", "display_name": "thisIsTheFoxe", "link": "https://stackoverflow.com/users/9506784/thisisthefoxe"}, "edited": false, "score": 1, "creation_date": 1569597480, "post_id": 58137255, "comment_id": 102661201, "body": "Yes, No data is returned although the data shows in the helper class..."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569597568, "post_id": 58137255, "comment_id": 102661241, "body": "Make sure all UI code in run on the main thread. This has always been the case. iOS 13 just enforces it more."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569601320, "post_id": 58137255, "comment_id": 102662965, "body": "See <a href=\"https://stackoverflow.com/search?q=%5Bobjective-c%5D+Main+Thread+Checker%3A+UI+API+called+on+a+background+thread\">these search results</a> for other possible duplicates."}], "owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "closed_date": 1569599018, "answer_count": 0, "score": 0, "last_activity_date": 1569601190, "creation_date": 1569597285, "question_id": 58137255, "link": "https://stackoverflow.com/questions/58137255/ios-13-error-main-thread-checker-ui-api-called-on-a-background-thread-uitabl", "closed_reason": "Duplicate", "title": "iOS 13 Error: Main Thread Checker: UI API called on a background thread:-[UITableView reloadData] In-App Purchases", "body": "<p>Just discovered this error after converting to iOS 13.1  Major issue since it causes the In-App Purchases view to crash.  Have been using this In-App Apple code in our apps for five years and need help in sorting this out.  Please reply if you have specific code solutions.  Thanks!</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    appCode = [Plis getSetting :@\"AppCode\"];\n\n    NSLog (@\"InApp...VDL...appCode %@\",appCode);\n\n    [self.tabBarController.tabBar setHidden:NO];\n\n    self.title = @\"In-App Store\";\n\n    [_detailView setDelegate:self];\n    [_detailView setDataSource:self];\n\n    self.refreshControl = [[UIRefreshControl alloc] init];\n    [self.refreshControl addTarget:self action:@selector(reload) forControlEvents:UIControlEventValueChanged];\n    [self reload];\n    [self.detailView reloadData];\n    [self.refreshControl beginRefreshing];\n\n    _priceFormatter = [[NSNumberFormatter alloc] init];\n    [_priceFormatter setFormatterBehavior:NSNumberFormatterBehavior10_4];\n    [_priceFormatter setNumberStyle:NSNumberFormatterCurrencyStyle];\n\n    self.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc] initWithTitle:@\"Restore\" style:UIBarButtonItemStylePlain target:self action:@selector(restoreTapped:)];\n    }\n\n- (void)restoreTapped:(id)sender {\n    [[InAppProdID sharedInstance: appCode] restoreCompletedTransactions];\n}\n\n- (void)viewWillAppear:(BOOL)animated {\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(productPurchased:) name:IAPHelperProductPurchasedNotification object:nil];\n    [self.tabBarController.tabBar setHidden:NO];\n}\n\n- (void)viewWillDisappear:(BOOL)animated {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n\n- (void)productPurchased:(NSNotification *)notification {\n\n    NSString * productIdentifier = notification.object;\n    [productArr enumerateObjectsUsingBlock:^(SKProduct * product, NSUInteger idx, BOOL *stop) {\n        if ([product.productIdentifier isEqualToString:productIdentifier]) {\n\n            self.productPurchased = productIdentifier;\n            [self unlockProduct];\n\n            [self.detailView reloadRowsAtIndexPaths:@[[NSIndexPath indexPathForRow:idx inSection:0]] withRowAnimation:UITableViewRowAnimationFade];\n            *stop = YES;\n        }\n    }];\n\n}\n\n- (void)reload {\n    productArr = nil;\n    [self.detailView reloadData];\n    [[InAppProdID sharedInstance: appCode] requestProductsWithCompletionHandler:^(BOOL success, NSArray *products) {\n        if (success) {\n            productArr = products;\n            // HERE IS WHERE THE ERROR OCCURS!\n            [self.detailView reloadData];\n        }\n        [self.refreshControl endRefreshing];\n    }];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ios13", "video-gallery"], "comments": [{"owner": {"reputation": 101, "user_id": 8918380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/623d73e7a7033ccfd9a5b005b3d5089b?s=128&d=identicon&r=PG", "display_name": "Ankit Mehta", "link": "https://stackoverflow.com/users/8918380/ankit-mehta"}, "edited": false, "score": 0, "creation_date": 1571741554, "post_id": 58135896, "comment_id": 103333774, "body": "any update on this please?"}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571133290, "post_id": 58391749, "comment_id": 103130103, "body": "Reading an entire video into memory is completely wrong. If you want to display the video immediately, do so, without keeping the URL. If you want to maintain a reference to the video the user picked to use the video later, use the PHAsset. If you want to copy the video to another folder use the FileManager."}], "tags": [], "owner": {"reputation": 17, "user_id": 9978575, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dWMks4ksiaM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3dRo_FC-y4wew08LefTQvirwEftA/mo/photo.jpg=k-s128", "display_name": "Girish Sami", "link": "https://stackoverflow.com/users/9978575/girish-sami"}, "is_accepted": false, "score": -1, "last_activity_date": 1571132908, "last_edit_date": 1571132908, "creation_date": 1571132693, "answer_id": 58391749, "question_id": 58135896, "link": "https://stackoverflow.com/questions/58135896/videos-picked-from-gallery-not-playing-in-ios-13/58391749#58391749", "title": "Videos picked from gallery not playing in iOS 13", "body": "<p>Solution for above issue: in iOS13 after dismiss the video album, video URL is getting invalide. For this we need to change URL Directory Path.</p>\n\n<pre><code>NSURL *videoURL1 = [info objectForKey:UIImagePickerControllerMediaURL];\n\nNSMutableData *imageData = [NSMutableData dataWithContentsOfURL:videoURL1];\n\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\nNSString *documentsDirectory = [paths objectAtIndex:0];\n\nNSString *videoPath =[documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@\"%@\",[NSString stringWithFormat:@\"%u.MOV\",arc4random() % 99999]]];\n\nBOOL success = [imageData writeToFile:videoPath atomically:NO];\n\nNSURL *videoURL = [NSURL fileURLWithPath:videoPath];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 6995468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ffaa96bcf6d6fb3e41432fb419d58a?s=128&d=identicon&r=PG", "display_name": "Bumbleparrot", "link": "https://stackoverflow.com/users/6995468/bumbleparrot"}, "is_accepted": false, "score": 0, "last_activity_date": 1571925566, "creation_date": 1571925566, "answer_id": 58543033, "question_id": 58135896, "link": "https://stackoverflow.com/questions/58135896/videos-picked-from-gallery-not-playing-in-ios-13/58543033#58543033", "title": "Videos picked from gallery not playing in iOS 13", "body": "<p>I had a similar issue. I think the solution is to copy the video to a temporary location that your App has access to.</p>\n\n<p>The answer from another question is <a href=\"https://stackoverflow.com/questions/57798968/didfinishpickingmediawithinfo-returns-different-url-in-ios-13/58541993#58541993\">here</a>.</p>\n"}], "owner": {"reputation": 17, "user_id": 9978575, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dWMks4ksiaM/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3dRo_FC-y4wew08LefTQvirwEftA/mo/photo.jpg=k-s128", "display_name": "Girish Sami", "link": "https://stackoverflow.com/users/9978575/girish-sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 561, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571925566, "creation_date": 1569592171, "last_edit_date": 1569597423, "question_id": 58135896, "link": "https://stackoverflow.com/questions/58135896/videos-picked-from-gallery-not-playing-in-ios-13", "title": "Videos picked from gallery not playing in iOS 13", "body": "<p>Recently we have updated iOS 13. Earlier to the update our app was able to pick videos/media from Gallery. But lately after new update, the app picks the video from gallery but once it is uploaded, the uploaded content is shown as 0 bytes. Guessing that OS is not giving access to Gallery from our app.</p>\n\n<p>In iOS 12 and prior versions we didn't see this issue. Gallery was working fine with our App.</p>\n\n<p>Below delegate method returns different URLs in iOS 13 and earlier iOS versions.</p>\n\n<pre><code>- (void)videoPickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info{\n  NSURL *videoURL = [info objectForKey:UIImagePickerControllerMediaURL];}\n</code></pre>\n\n<p>I am returning Video URL path from the UIImagePickerController.</p>\n\n<p><strong>iOS 13 returns below value</strong><br>\nfile:///private/var/mobile/Containers/Data/PluginKitPlugin/36B89CF8-26FC-44BA-AFE1-D689DC04AF44/tmp/trim.400D33F1-BA28-42C8-B6B7-5CEC26656917.MOV</p>\n\n<p><strong>Earlier iOS versions returns below value</strong>\nfile:///private/var/mobile/Containers/Data/Application/7BFD7CEC-E383-4C63-8DF8-A0830EE948AC/tmp/36346EAD-AADC-4A9A-9DEE-416A2DE0BE71.MOV</p>\n\n<p>Note: When the video recorded in camera directly from app is uploaded. It doesn't throw us any issues. It is when the video picked from Gallery then the app behaves differently.</p>\n\n<p>Please share your suggessions.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "enums"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 2, "creation_date": 1569589851, "post_id": 58135198, "comment_id": 102657192, "body": "You missed off the <code>typedef</code> before <code>NS_ENUM</code>."}, {"owner": {"reputation": 5282, "user_id": 1068489, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/gQhPR.png?s=128&g=1", "display_name": "Aaron Bratcher", "link": "https://stackoverflow.com/users/1068489/aaron-bratcher"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569590176, "post_id": 58135198, "comment_id": 102657376, "body": "completely missed that. Thanks @trojanfoe"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569769399, "post_id": 58135198, "comment_id": 102695497, "body": "@trojanfoe you should add an answer, not sure if there&#39;s another SO question that covers this scenario."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569822978, "post_id": 58135198, "comment_id": 102706110, "body": "@Cristik OK done."}], "answers": [{"tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1569822970, "creation_date": 1569822970, "answer_id": 58162166, "question_id": 58135198, "link": "https://stackoverflow.com/questions/58135198/conversion-to-ns-enum-from-typedef-enum-leads-to-duplicate-symbols/58162166#58162166", "title": "Conversion to NS_ENUM from typedef enum leads to duplicate symbols", "body": "<p>You missed the <code>typedef</code> before <code>NS_ENUM</code>.</p>\n"}], "owner": {"reputation": 5282, "user_id": 1068489, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/gQhPR.png?s=128&g=1", "display_name": "Aaron Bratcher", "link": "https://stackoverflow.com/users/1068489/aaron-bratcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 58162166, "answer_count": 1, "score": 1, "last_activity_date": 1569822970, "creation_date": 1569589551, "question_id": 58135198, "link": "https://stackoverflow.com/questions/58135198/conversion-to-ns-enum-from-typedef-enum-leads-to-duplicate-symbols", "title": "Conversion to NS_ENUM from typedef enum leads to duplicate symbols", "body": "<p>With this definition:</p>\n\n<pre><code>typedef enum {\n    FormTypeLong,\n    FormTypeShort\n} FormType\n</code></pre>\n\n<p>I can use <code>FormType</code> in my code the following ways:</p>\n\n<pre><code>@property (nonatomic, assign) FormType formType; \n\n- (void)getFormTypeUsed:(void (^)(FormType formType)) completion;\n\n-(FormType)getDefaultFormType;\n\n-(void)setFormType: (FormType) type;\n\n...\nFormType formType = [NSNumber numberWithInt:FormTypeLog];\n</code></pre>\n\n<p>However changing the <code>typedef enum</code> to</p>\n\n<pre><code>NS_ENUM(NSInteger, FormType) {\n    FormTypeLong,\n    FormTypeShort\n}\n</code></pre>\n\n<p>Causes Xcode to say that I must use <code>enum</code> tag to refer to type <code>FormType</code> and subsequently throughout the code, to place the tag in front of all uses of FormType.</p>\n\n<p>After doing this, I get an error saying I have duplicate symbols.</p>\n\n<p>How am I supposed to convert to NS_ENUM without all these errors?</p>\n"}, {"tags": ["objective-c", "iphone", "avaudioplayer"], "comments": [{"owner": {"reputation": 5496, "user_id": 319097, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/691b0f8b6ac540f422479a5e28028599?s=128&d=identicon&r=PG", "display_name": "Mc.Lover", "link": "https://stackoverflow.com/users/319097/mc-lover"}, "edited": false, "score": 0, "creation_date": 1569657884, "post_id": 58134669, "comment_id": 102674299, "body": "I have the exact same problem! Did you fix it?"}, {"owner": {"reputation": 131, "user_id": 689132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55096f408748c6eed6774b50cfe16a3c?s=128&d=identicon&r=PG", "display_name": "Serge Miche9", "link": "https://stackoverflow.com/users/689132/serge-miche9"}, "edited": false, "score": 0, "creation_date": 1569691908, "post_id": 58134669, "comment_id": 102681603, "body": "Same problem, started today after upgrading to iOS 13.1"}, {"owner": {"reputation": 171, "user_id": 5484554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34ccea30e6e3fa0f87349fef1010b47?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5484554/eugene"}, "edited": false, "score": 0, "creation_date": 1570141546, "post_id": 58134669, "comment_id": 102830110, "body": "We found <a href=\"https://stackoverflow.com/questions/58110827/ios-13-1-crash-in-avaudio-player\">solution for swift</a>. I think problem the same with AVAudioPlayer *player"}], "owner": {"reputation": 11, "user_id": 12130569, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T6xgERzUCeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-hnCr2hDVYcmBCnvEIRp39vWI8w/photo.jpg?sz=128", "display_name": "SUI HWANG", "link": "https://stackoverflow.com/users/12130569/sui-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569587908, "creation_date": 1569587664, "last_edit_date": 1569587908, "question_id": 58134669, "link": "https://stackoverflow.com/questions/58134669/ios13-1-avaudioplayer-objective-c-exc-bad-access", "title": "iOS13.1 AVAudioPlayer objective-c EXC_BAD_ACCESS", "body": "<p>iOS13.1 AVAudioPlayer objective-c Error:</p>\n\n<pre><code>Thread 1: EXC_BAD_ACCESS (code=1, address=0x48)\n</code></pre>\n\n<p>AVAudioPlayer+Extension.h file:</p>\n\n<pre><code>@interface AVAudioPlayer (Extension)\n\n- (instancetype)initWithFilepath:(NSString*)filepath\n                       delegate:(id&lt;AVAudioPlayerDelegate&gt;)delegate;\n</code></pre>\n\n<p>AVAudioPlayer+Extension.m file:</p>\n\n<pre><code>#import \"AVAudioPlayer+Extension.h\"\n\n@implementation AVAudioPlayer (Extension)\n\n@implementation AVAudioPlayer (Extension)\n\n- (instancetype)initWithFilepath:(NSString*)filepath\n                        delegate:(id&lt;AVAudioPlayerDelegate&gt;)delegate {\n\n    NSError *error;\n    NSURL *url = [NSURL fileURLWithPath:filepath];\n    AVAudioPlayer *player = [[AVAudioPlayer alloc] initWithContentsOfURL:url\n                                                                   error:&amp;error];\n\n    if (error != nil) {\n        NSLog(@\"AVAudioPlayer init failed %@\", [error localizedDescription]);\n        return nil;\n    }\n\n\n    player.currentTime = 0;\n    player.delegate = delegate;\n\n    return player;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "ios13"], "comments": [{"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1569654000, "post_id": 58131771, "comment_id": 102673678, "body": "self.titleEdgeInsets = titleInset just sets the insets to the property titleEdgeInsets unless this is inside a subclass of UIButton which it doesn&#39;t seem like it is, you need to show the full code of what class you&#39;re subclassing. show the full code"}, {"owner": {"reputation": 106, "user_id": 2165008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3Zui.jpg?s=128&g=1", "display_name": "Alihan", "link": "https://stackoverflow.com/users/2165008/alihan"}, "reply_to_user": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1569852338, "post_id": 58131771, "comment_id": 102720450, "body": "This is a subclass of UIButton, I&#39;ve add full code. @Loxx"}, {"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1569982764, "post_id": 58131771, "comment_id": 102767729, "body": "i see, i&#39;ll check it out soon to see if i can help, thanks"}, {"owner": {"reputation": 918, "user_id": 3818946, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0fc61d637f0b25ffe8562e43aee03cab?s=128&d=identicon&r=PG&f=1", "display_name": "deltacrux", "link": "https://stackoverflow.com/users/3818946/deltacrux"}, "edited": false, "score": 2, "creation_date": 1574659428, "post_id": 58131771, "comment_id": 104295958, "body": "I&#39;m having a similar issue with a UIButton that has both <code>titleEdgeInsets</code> and <code>imageEdgeInsets</code>, the title was correctly positioned before iOS 13 but now is offset to the left."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11235648, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4yEin_NdHx0/AAAAAAAAAAI/AAAAAAAAAQY/7_WTcZC-FLY/photo.jpg?sz=128", "display_name": "Techie", "link": "https://stackoverflow.com/users/11235648/techie"}, "is_accepted": false, "score": 0, "last_activity_date": 1585155134, "creation_date": 1585155134, "answer_id": 60853525, "question_id": 58131771, "link": "https://stackoverflow.com/questions/58131771/why-settitleedgeinsets-not-working-ios-13-objective-c/60853525#60853525", "title": "Why setTitleEdgeInsets not working iOS 13? Objective - C", "body": "<p>I had the same issue. The image insets were not working for me for iOS 13.</p>\n\n<p>Though I did not fix the issue but found a work around which might be useful.</p>\n\n<p>For me the image was not visible hence I added a UIImage subview to the button in which I wanted to display the image.(For your case you can add UILabel Subview at the required position)</p>\n\n<p>Code I added to display my image correctly:</p>\n\n<pre><code>if #available(iOS 13.0, *){\n\n     let advanceSearchChevronImage = UIImage(named: \"General/chevronUp\")\n     advanceSearchChevronImageView = UIImageView(frame: CGRect(x: self.view.bounds.width - 50, y: 0, width: 50.0, height: advanceSearchButton.bounds.height))\n     advanceSearchChevronImageView.contentMode = .center\n     advanceSearchChevronImageView.image = advanceSearchChevronImage\n     advanceSearchButton.addSubview(advanceSearchChevronImageView)\n}\n</code></pre>\n\n<p>For your case you can give \"\"(empty string) as value for the button Title. Add a label to this button as a subview and position it as required by you.\nMake these changes only when iOS 13.</p>\n\n<p>Hope you can take some clue from this and get solution to the problem you are facing - if you are looking for a very quick fix.</p>\n"}], "owner": {"reputation": 106, "user_id": 2165008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c3Zui.jpg?s=128&g=1", "display_name": "Alihan", "link": "https://stackoverflow.com/users/2165008/alihan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 537, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1585155134, "creation_date": 1569576821, "last_edit_date": 1569852269, "question_id": 58131771, "link": "https://stackoverflow.com/questions/58131771/why-settitleedgeinsets-not-working-ios-13-objective-c", "title": "Why setTitleEdgeInsets not working iOS 13? Objective - C", "body": "<p>I have custom profile UIButton that have image and user profile name title. I'm setting image and title of button and also setting title and image edge inset. Before iOS 13 my code was working perfect but at iOS 13 devices setTitleEdgeInsets not working. When I did debug, title inset value is true but button not setting the value that I give. You can find the code and the screen shot below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZK2MT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZK2MT.jpg\" alt=\"Text should be left of image.\"></a></p>\n\n<pre><code>@implementation NYTProfileButton\n- (void)layoutSubviews\n{\n[super layoutSubviews];\n\nself.imageView.frame = CGRectMake(0, 0, self.frame.size.height, self.frame.size.height);\n\nself.imageView.layer.masksToBounds = YES;\nself.imageView.layer.cornerRadius = self.frame.size.height / 2;\n\nUIEdgeInsets imageInsets = UIEdgeInsetsMake(0.0, 0.0, 0.0, self.frame.size.width - self.frame.size.height);\nself.imageEdgeInsets = imageInsets;\n\nUIEdgeInsets titleInsets = UIEdgeInsetsMake(0, self.frame.size.height-self.imageView.image.size.height+5.0, 0, 0);\nself.titleEdgeInsets = titleInsets;\n[self setTitleEdgeInsets:titleInsets];\n }\n\n - (void)awakeFromNib\n{\n self.imageView.contentMode = UIViewContentModeScaleAspectFill;\n }\n\n @end\n</code></pre>\n"}, {"tags": ["objective-c", "core-bluetooth", "ios13"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1569578598, "post_id": 58131635, "comment_id": 102651487, "body": "The format hasn&#39;t changed, merely the output you get when you <code>print</code> an instance of<code>Data</code>.  Show how you are accessing the data."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569578611, "post_id": 58131635, "comment_id": 102651499, "body": "<a href=\"https://stackoverflow.com/questions/58128802/ios-13-xcode-11-nsstring-initwithbytes-return-wrong-value#comment102648436_58128802\" title=\"ios 13 xcode 11 nsstring initwithbytes return wrong value%23comment102648436_58128802\">stackoverflow.com/questions/58128802/&hellip;</a> See the comments. <code>description</code> of <code>NSData</code> has changed. It was NEVER a good solution to use it in prod as such."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569578891, "post_id": 58131635, "comment_id": 102651639, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8798725/get-device-token-for-push-notification\">Get device token for push notification</a>"}, {"owner": {"reputation": 11, "user_id": 8288730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061a0a2836a591444e43a298412c2e61?s=128&d=identicon&r=PG", "display_name": "Rufus", "link": "https://stackoverflow.com/users/8288730/rufus"}, "edited": false, "score": 0, "creation_date": 1569585207, "post_id": 58131635, "comment_id": 102654791, "body": "I am not using description. What am I doing wrong?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569592257, "post_id": 58131635, "comment_id": 102658446, "body": "<code>NSString *manufacturerString = [NSString stringWithFormat:@&quot;%@&quot;, manufacturerData];</code> That&#39;s calling <code>description</code>. Cleary."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569592340, "post_id": 58131635, "comment_id": 102658482, "body": "Cf. Doc: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Strings/Articles/formatSpecifiers.html#//apple_ref/doc/uid/TP40004265-SW1\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a> &amp; <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Strings/Articles/FormatStrings.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1436, "user_id": 2167877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529e670331a1d1816239f7ab31f721fb?s=128&d=identicon&r=PG", "display_name": "user2167877", "link": "https://stackoverflow.com/users/2167877/user2167877"}, "is_accepted": false, "score": 2, "last_activity_date": 1569863969, "last_edit_date": 1569863969, "creation_date": 1569613691, "answer_id": 58140595, "question_id": 58131635, "link": "https://stackoverflow.com/questions/58131635/kcbadvdatamanufacturerdata-data-format-changed-in-ios-13/58140595#58140595", "title": "kCBAdvDataManufacturerData data format changed in iOS 13?", "body": "<p>Since iOS 13, the description of the <code>kCBAdvDataManufacturerData</code> <code>NSData</code> has been changed.\nTo be able to extract and parse the <code>advertisementData</code>you should not base on <code>description</code> any more.\nFollowing is a Swift solution version that is working on both iOS 13 and old iOS versions:</p>\n\n<p>According to your code above, you are able to extract the manufacturerData <code>NSData</code>.</p>\n\n<pre><code>let publicData = Data(bytes: manufacturerData.bytes, count: Int(manufacturerData.length))\n\nlet publicDataAsHexString = publicData.dataToHexString // this result is same what ever the iOS version.\n\n//// Data extension\nextension Data {\n    var dataToHexString: String {\n        return reduce(\"\") {$0 + String(format: \"%02x\", $1)}\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8288730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061a0a2836a591444e43a298412c2e61?s=128&d=identicon&r=PG", "display_name": "Rufus", "link": "https://stackoverflow.com/users/8288730/rufus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1569863969, "creation_date": 1569576308, "last_edit_date": 1569582413, "question_id": 58131635, "link": "https://stackoverflow.com/questions/58131635/kcbadvdatamanufacturerdata-data-format-changed-in-ios-13", "title": "kCBAdvDataManufacturerData data format changed in iOS 13?", "body": "<p>When using my app on iOS 13 the manufacturer data has changed format.</p>\n\n<p>When accessing kCBAdvDataManufacturerData in iOS 12 I get in this format:</p>\n\n<p>&lt;13376400></p>\n\n<p>but in iOS 13 I get this format:</p>\n\n<p>{length = 4, bytes = 0x13376400}</p>\n\n<p>Does anyone know why this has changed?</p>\n\n<p>How can I retrieve the \"1337\" part as a string?</p>\n\n<p>This is how I access and print the data:</p>\n\n<pre><code>    NSData *manufacturerData = [advertisementData objectForKey:kCBAdvDataManufacturerData];\n    NSString *manufacturerString = [NSString stringWithFormat:@\"%@\", manufacturerData];\n    NSString *companyIdentifier = [manufacturerString substringWithRange:NSMakeRange(1, 4)];\n    NSLog(@\"%@\", companyIdentifier);\n</code></pre>\n\n<p>Prints: leng</p>\n\n<p>I tried manufacturerData.bytes but it gives me EXC_BAD_ACCESS error. </p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uigesturerecognizer", "gesture"], "answers": [{"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": false, "score": 1, "last_activity_date": 1571050730, "creation_date": 1571050730, "answer_id": 58375373, "question_id": 58131262, "link": "https://stackoverflow.com/questions/58131262/rotation-gesture-changing-view-frame/58375373#58375373", "title": "Rotation gesture changing view frame", "body": "<p>After rotating the image, its frame won't work anymore and that's the reason for your issue.</p>\n\n<p>You can take a look at <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622459-transform?language=objc\" rel=\"nofollow noreferrer\">Apple document for UIView's transform property</a></p>\n\n<blockquote>\n  <p>When the value of this property is anything other than the identity transform, the value in the frame property is undefined and should be ignored.</p>\n</blockquote>\n\n<p>The solution for this situation is using <code>center</code> and <code>transform</code> properties instead of <code>frame</code>.</p>\n\n<pre><code>UIView *viewClone = [[UIView alloc]initWithFrame:CGRectMake(fltLeadingMin, fltTopMin, fltCloneViewWidth, fltCloneViewHeight)];\nviewClone.backgroundColor = [UIColor redColor];\n\nUIPanGestureRecognizer *panGesture = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(handlePan:)];\n[viewClone addGestureRecognizer:panGesture];\n\nfor (UIImageView *imgView in arrSelectedViews) {\n\n    NSData *archivedData = [NSKeyedArchiver archivedDataWithRootObject:imgView];\n    UIImageView *imgViewClone = [NSKeyedUnarchiver unarchiveObjectWithData:archivedData];\n\n    // This is the frame before you rotate image, can be replace with another size\n    CGRect originalFrame = CGRectMake(0, 0, 200, 200);\n    imgViewClone.frame = originalFrame \n\n    // Using center and transform instead of current frame\n    imgViewClone.center = imgView.center;\n    imgViewClone.transform = imgView.transform;\n\n    imgViewClone.backgroundColor = UIColor.blueColor;\n\n    [viewClone addSubview:imgViewClone];\n}\n</code></pre>\n"}], "owner": {"reputation": 1503, "user_id": 2518805, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/rnv67.jpg?s=128&g=1", "display_name": "sanjeet", "link": "https://stackoverflow.com/users/2518805/sanjeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571400256, "creation_date": 1569575022, "last_edit_date": 1571400256, "question_id": 58131262, "link": "https://stackoverflow.com/questions/58131262/rotation-gesture-changing-view-frame", "title": "Rotation gesture changing view frame", "body": "<p>What I want to achieve: I want to create a copy of selected view. \nI have two <code>UIImageViews</code> on <code>UIView</code>. I am selecting both the views and want to clone both the views.</p>\n\n<p>Everything is working fine until I am not rotating the <code>UIImageView</code>. If am rotating the view <code>UIImageView</code> changing its frame.</p>\n\n<pre><code>UIView *viewClone = [[UIView alloc]initWithFrame:CGRectMake(fltLeadingMin, fltTopMin, fltCloneViewWidth, fltCloneViewHeight)];\nviewClone.backgroundColor = [UIColor redColor];\n\nUIPanGestureRecognizer *panGesture = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(handlePan:)];\n[viewClone addGestureRecognizer:panGesture];\n\nfor (UIImageView *imgView in arrSelectedViews) {\n\n    NSData *archivedData = [NSKeyedArchiver archivedDataWithRootObject:imgView];\n    UIImageView *imgViewClone = [NSKeyedUnarchiver unarchiveObjectWithData:archivedData];\n\n    imgViewClone.frame = CGRectMake(imgViewClone.frame.origin.x - viewClone.frame.origin.x, imgViewClone.frame.origin.y - viewClone.frame.origin.y, imgView.frame.size.width, imgView.frame.size.height);\n    imgViewClone.backgroundColor = UIColor.blueColor;\n\n    [viewClone addSubview:imgViewClone];\n}\n</code></pre>\n\n<p>Here is a screenshot of how it looks like now:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NpGY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NpGY0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "amazon-s3", "amazon-cognito"], "owner": {"reputation": 3599, "user_id": 5105555, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-KEdmw7aZRjo/AAAAAAAAAAI/AAAAAAAAAn8/5yF0KqEnn4o/photo.jpg?sz=128", "display_name": "Kishore Kumar", "link": "https://stackoverflow.com/users/5105555/kishore-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569570870, "creation_date": 1569570026, "last_edit_date": 1569570870, "question_id": 58129987, "link": "https://stackoverflow.com/questions/58129987/awstransferutility-upload-method-not-triggering", "title": "AWSTransferUtility upload method not triggering", "body": "<p>Hi i am trying to upload video using AWS S3 , Here i have added my code but none of the uploading task is giving me the response , not even error message is triggered .</p>\n\n<pre><code>AWSCognitoCredentialsProvider *credentialsProvider = [[AWSCognitoCredentialsProvider alloc] initWithRegionType:AWSRegionAPNortheast1 identityPoolId:@\"us-east-1:\"];\n    AWSServiceConfiguration *configuration = [[AWSServiceConfiguration alloc] initWithRegion:AWSRegionUSEast1 credentialsProvider:credentialsProvider];\n    AWSServiceManager.defaultServiceManager.defaultServiceConfiguration = configuration;\n\n\n    // 3. Create Transfer Utility\n\n    [AWSS3TransferUtility registerS3TransferUtilityWithConfiguration:configuration forKey:@\"transfer-utility-with-advanced-options\"];\n\n    AWSS3TransferUtility *transferUtility = [AWSS3TransferUtility S3TransferUtilityForKey:@\"transfer-utility-with-advanced-options\"];\n\n\n\n    AWSS3TransferUtilityUploadExpression *expression = [AWSS3TransferUtilityUploadExpression new];\n\n\n\n    [transferUtility uploadFile:fileURL1 bucket:@\"bucket_name\" key:@\"keey\" contentType:@\"video/quicktime\" expression:expression completionHandler:^(AWSS3TransferUtilityUploadTask * _Nonnull task, NSError * _Nullable error) {\n\n        if (error != nil){\n            NSLog(@\"error = %@\",error.localizedDescription);\n        }else{\n            if(!isImageChanging)\n                [self createImageView:[Common getImage:fileURL1]];\n            else\n                [self changeImageSelectedImage:changingImageTagNo newImage:[Common getImage:fileURL1]];\n        }\n    }];\n    NSData *dt=[NSData dataWithContentsOfURL:fileURL1];\n\n    [transferUtility uploadData:dt bucket:@\"sqoberawfiles\" key:@\"AKIAIZ27S5EQH7HN5MKA\" contentType:@\"video/quicktime\" expression:expression completionHandler:^(AWSS3TransferUtilityUploadTask * _Nonnull task, NSError * _Nullable error) {\n        if (error != nil){\n            NSLog(@\"error = %@\",error.localizedDescription);\n        }else{\n            if(!isImageChanging)\n                [self createImageView:[Common getImage:fileURL1]];\n            else\n                [self changeImageSelectedImage:changingImageTagNo newImage:[Common getImage:fileURL1]];\n        }\n    }];\n\n    AWSS3TransferUtilityUploadCompletionHandlerBlock completionHandler = ^(AWSS3TransferUtilityUploadTask *task, NSError *error) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n            if (error) {\n                NSLog(@\"error = %@\",error.localizedDescription);\n            } else {\n                NSLog(@\"error = %@\",@\"Success\");\n            }\n        });\n    };\n\n    AWSS3TransferManager *transferManager = [AWSS3TransferManager defaultS3TransferManager];\n    AWSS3TransferManagerUploadRequest *uploadRequest = [AWSS3TransferManagerUploadRequest new];\n    uploadRequest.bucket = @\"sqs\";\n    uploadRequest.key = @\"AKIA5MKA\";\n    uploadRequest.body = fileURL1;\n    uploadRequest.contentLength = [NSNumber numberWithUnsignedLongLong:123333333333];\n\n    [[transferManager upload:uploadRequest] continueWithBlock:^id(AWSTask *task) {\n        // Do something with the response\n        return nil;\n    }];\n\n    // 4. Rewire Transfer Utility blocks\n\n    expression.progressBlock = ^(AWSS3TransferUtilityTask *task, NSProgress *progress) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n            NSLog(@\"%f\",progress.fractionCompleted);\n        });\n    };\n</code></pre>\n\n<p>I have tried with AWSS3TransferManager deprecated method in that i am getting error message as \nError <code>Domain=com.amazonaws.service.cognitoidentity.AWSCognitoCredentialsProviderHelper Code=0 \"Obtaining an identity id in another thread failed or didn't complete within 5 seconds.\" UserInfo={NSLocalizedDescription=Obtaining an identity id in another thread failed or didn't complete within 5 seconds.}</code></p>\n\n<p>My bucket name and key are fine and all from the same region . Please help me what is went wrong !</p>\n"}, {"tags": ["ios", "objective-c", "lottie", "lottie-ios"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 11062771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99743e753a7c433e59730574479cb190?s=128&d=identicon&r=PG&f=1", "display_name": "G. Meira", "link": "https://stackoverflow.com/users/11062771/g-meira"}, "is_accepted": false, "score": 0, "last_activity_date": 1575476833, "last_edit_date": 1575476833, "creation_date": 1575475786, "answer_id": 59180240, "question_id": 58129211, "link": "https://stackoverflow.com/questions/58129211/lottie-ios-apply-color-overlay/59180240#59180240", "title": "Lottie-ios. Apply color overlay", "body": "<p>As far as I've seen (<a href=\"https://github.com/airbnb/lottie-ios/issues/1005\" rel=\"nofollow noreferrer\">request</a> and <a href=\"http://airbnb.io/lottie/#/ios?id=value-providers\" rel=\"nofollow noreferrer\">docs</a>) there is no \"support\" for dark mode.</p>\n\n<p>Maybe something like this one helps \u00af\\_(\u30c4)_/\u00af</p>\n\n<pre><code>    let keypath = AnimationKeypath(keys: [\"Switch Outline Outlines\", \"**\", \"Fill 1\", \"Color\"])\n    let colorProvider: ColorValueProvider\n    if self.traitCollection.userInterfaceStyle == .dark {\n       colorProvider = ColorValueProvider(UIColor.white.lottieColorValue)\n       animationView.setValueProvider(colorProvider, keypath: keypath)\n    } else {\n       colorProvider = ColorValueProvider(UIColor.black.lottieColorValue)\n       animationView.setValueProvider(colorProvider, keypath: keypath)\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1950628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyriR.jpg?s=128&g=1", "display_name": "Spooky", "link": "https://stackoverflow.com/users/1950628/spooky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 776, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575482525, "creation_date": 1569566841, "last_edit_date": 1575482525, "question_id": 58129211, "link": "https://stackoverflow.com/questions/58129211/lottie-ios-apply-color-overlay", "title": "Lottie-ios. Apply color overlay", "body": "<p><br>\nHow to apply color overlay on an animation? I have a pretty simple single color icons. And I want to make them usable in dark mode without rerendering in AE with different colors. I saw examples in docs:<br></p>\n\n<pre><code>let redValueProvider = ColorValueProvider(Color(r: 1, g: 0.2, b: 0.3, a: 1))\nanimationView.setValueProvider(redValueProvider, keypath: AnimationKeypath(keypath: \"Switch Outline Outlines.**.Fill 1.Color\"))\nanimationView.setValueProvider(redValueProvider, keypath: AnimationKeypath(keypath: \"Checkmark Outlines 2.**.Stroke 1.Color\"))\n</code></pre>\n\n<p>But can't understand how to implement it. Obj-c fork of lottie doesn't have ColorValueProvider class.<br>\nThanks!</p>\n"}, {"tags": ["objective-c", "push-notification", "nsstring", "ios13", "xcode11"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1569567073, "post_id": 58128802, "comment_id": 102645667, "body": "I don&#39;t see the need to bridge it to <code>NSData</code>.  Try using the CoreFoundation methods <a href=\"https://developer.apple.com/documentation/corefoundation/1543330-cfdatagetbyteptr?language=objc\" rel=\"nofollow noreferrer\"><code>CFDataGetBytePtr()</code></a> and <a href=\"https://developer.apple.com/documentation/corefoundation/1541728-cfdatagetlength?language=objc\" rel=\"nofollow noreferrer\"><code>CFDataGetLength()</code></a> instead and <b>don&#39;t forget to release it</b> as it looks like you have a leak as it stands."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1569573054, "post_id": 58128802, "comment_id": 102648436, "body": "Seems to be the change of &quot;description&quot; method in NSData. You are doing at some point that and it fails. Cf. <a href=\"https://twitter.com/nshipster/status/1173657903070203905\" rel=\"nofollow noreferrer\">twitter.com/nshipster/status/1173657903070203905</a>"}, {"owner": {"reputation": 446, "user_id": 5922001, "user_type": "registered", "profile_image": "https://graph.facebook.com/1319717908053746/picture?type=large", "display_name": "Sachintha Udara", "link": "https://stackoverflow.com/users/5922001/sachintha-udara"}, "edited": false, "score": 0, "creation_date": 1569576073, "post_id": 58128802, "comment_id": 102650061, "body": "Yes, you correct NSData doing some new thing in XCode 11"}, {"owner": {"reputation": 446, "user_id": 5922001, "user_type": "registered", "profile_image": "https://graph.facebook.com/1319717908053746/picture?type=large", "display_name": "Sachintha Udara", "link": "https://stackoverflow.com/users/5922001/sachintha-udara"}, "edited": false, "score": 0, "creation_date": 1569578430, "post_id": 58128802, "comment_id": 102651399, "body": "Found a solution from this : <a href=\"https://stackoverflow.com/questions/8798725/get-device-token-for-push-notification?answertab=active#tab-top\" title=\"get device token for push notification\">stackoverflow.com/questions/8798725/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 700, "user_id": 4311268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6lw7.jpg?s=128&g=1", "display_name": "TommyLeong", "link": "https://stackoverflow.com/users/4311268/tommyleong"}, "is_accepted": false, "score": 2, "last_activity_date": 1585886672, "creation_date": 1585886672, "answer_id": 61004922, "question_id": 58128802, "link": "https://stackoverflow.com/questions/58128802/ios-13-xcode-11-nsdata/61004922#61004922", "title": "iOS 13 | Xcode 11 | NSData", "body": "<p>Apple has made changes the format of description for Foundation objects, which in our case NSData. Belows an the example of the changes:</p>\n\n<pre><code>// iOS 12\n(deviceToken as NSData).description // \"&lt;965b251c 6cb1926d e3cb366f dfb16ddd e6b9086a 8a3cac9e 5f857679 376eab7C&gt;\"\n\n// iOS 13\n(deviceToken as NSData).description // \"{length = 32, bytes = 0x965b251c 6cb1926d e3cb366f dfb16ddd ... 5f857679 376eab7c }\"\n</code></pre>\n\n<p>For you to get the previous value description, you can use <strong>debugDescription</strong>.</p>\n\n<p>Example as below:</p>\n\n<pre><code>NSString* oldHashValue = [NSString stringWithFormat:@\"%@\",newHashValue.debugDescription];\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 5922001, "user_type": "registered", "profile_image": "https://graph.facebook.com/1319717908053746/picture?type=large", "display_name": "Sachintha Udara", "link": "https://stackoverflow.com/users/5922001/sachintha-udara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1585886672, "creation_date": 1569565060, "last_edit_date": 1569646763, "question_id": 58128802, "link": "https://stackoverflow.com/questions/58128802/ios-13-xcode-11-nsdata", "title": "iOS 13 | Xcode 11 | NSData", "body": "<p>I am in confusing in iOS 13 with keychain access. </p>\n\n<pre><code>CFDataRef passwordData = NULL;\nOSStatus keychainError = noErr;\nkeychainError = SecItemCopyMatching((__bridge CFDictionaryRef)returnDictionary,\n                                        (void *)&amp;passwordData);\n\nNSString *password = [[NSString alloc] initWithBytes:[(__bridge_transfer NSData *)passwordData bytes] length:[(__bridge NSData *)passwordData length] encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>after execute above code segment, password variable value is</p>\n\n<pre><code>{length=32,bytes=0xf3388feaa238e92da01a21fdc477921c...2f021935af7f1883},,,,,,,,\n</code></pre>\n\n<p>but in iOS 12 and older, I can get expected value for password variable.</p>\n\n<p>And this only happen in xcode 11 with iOS 13</p>\n\n<p>re-edited : \nThis is not related to the keychain, all happen from NSData description method</p>\n"}, {"tags": ["objective-c", "nsdictionary", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569564298, "post_id": 58128627, "comment_id": 102644573, "body": "Are <code>userid</code> and <code>address</code> always non-<code>nil</code>?  That&#39;s one reason I can think of an exception.  You need to see what is happening within the debugger."}, {"owner": {"reputation": 135, "user_id": 10982203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bJPsKa6umcg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNsFS-vlDbnsC1FIWGwoBD5sNeqvQ/mo/photo.jpg?sz=128", "display_name": "Rahul", "link": "https://stackoverflow.com/users/10982203/rahul"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569564337, "post_id": 58128627, "comment_id": 102644585, "body": "all are surely not-nil, updating code"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569564357, "post_id": 58128627, "comment_id": 102644587, "body": "Then more detail is required."}, {"owner": {"reputation": 135, "user_id": 10982203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bJPsKa6umcg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNsFS-vlDbnsC1FIWGwoBD5sNeqvQ/mo/photo.jpg?sz=128", "display_name": "Rahul", "link": "https://stackoverflow.com/users/10982203/rahul"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569564381, "post_id": 58128627, "comment_id": 102644591, "body": "what kind of details? I have given the full code"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569564420, "post_id": 58128627, "comment_id": 102644608, "body": "What does the exception say?  Has it raised an exception within the debugger?"}, {"owner": {"reputation": 135, "user_id": 10982203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bJPsKa6umcg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNsFS-vlDbnsC1FIWGwoBD5sNeqvQ/mo/photo.jpg?sz=128", "display_name": "Rahul", "link": "https://stackoverflow.com/users/10982203/rahul"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569567554, "post_id": 58128627, "comment_id": 102645910, "body": "EXC_BAD_ACCESS, I mentioned that in my post."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569568097, "post_id": 58128627, "comment_id": 102646167, "body": "On which line? Did you add an exception breakpoint? Multiple threads?"}, {"owner": {"reputation": 308, "user_id": 4086278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa75414a7c666e08c204697695f62d54?s=128&d=identicon&r=PG&f=1", "display_name": "AntiVIRUZ", "link": "https://stackoverflow.com/users/4086278/antiviruz"}, "edited": false, "score": 0, "creation_date": 1569600212, "post_id": 58128627, "comment_id": 102662487, "body": "Maybe mDict is &quot;assign&quot; in the property declaration?"}, {"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1569654510, "post_id": 58128627, "comment_id": 102673752, "body": "probably a race condition with accessing NSMutableDictionary. You should wrap the setter process in @synchronize or with a dispatch queue  or a mutex lock of some sort and see if it solves it, assuming you&#39;ve checked everything else"}], "owner": {"reputation": 135, "user_id": 10982203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bJPsKa6umcg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNsFS-vlDbnsC1FIWGwoBD5sNeqvQ/mo/photo.jpg?sz=128", "display_name": "Rahul", "link": "https://stackoverflow.com/users/10982203/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569564511, "creation_date": 1569564085, "last_edit_date": 1569564511, "question_id": 58128627, "link": "https://stackoverflow.com/questions/58128627/nsmutabledictionary-random-exc-bad-access", "title": "NSMutableDictionary random EXC_BAD_ACCESS", "body": "<p>Any idea why code below throws EXC_BAD_ACCESS randomly (not always). Sometime when <code>userid</code> is same but we yet to figure out more cases. I understand that <code>setObject:o</code> is unnecessary when object already exists in the dictionary, but even if used, it should not have crashed. </p>\n\n<p>mDict is <code>NSMutableDictionary</code> </p>\n\n<pre><code>-(void) addUser:(NSString *)userid address:(NSString *)address {\n    if(nil == userid || nil == address) return;\n\n    User *o = [mDict objectForKey:userid];\n    if(!o)\n       o = [User new];\n\n    o.userid = userid;\n    o.address = address;\n\n    [mDict setObject:o forKey:o.userid];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "core-audio", "ios13", "audiotoolbox"], "comments": [{"owner": {"reputation": 67919, "user_id": 341750, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/JgAmt.png?s=128&g=1", "display_name": "hotpaw2", "link": "https://stackoverflow.com/users/341750/hotpaw2"}, "edited": false, "score": 0, "creation_date": 1569776425, "post_id": 58128156, "comment_id": 102697299, "body": "How do you know the frame number is wrong?  Why can&#39;t you use the returned frame number?"}, {"owner": {"reputation": 43, "user_id": 1527349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/irNu4.jpg?s=128&g=1", "display_name": "robidd", "link": "https://stackoverflow.com/users/1527349/robidd"}, "reply_to_user": {"reputation": 67919, "user_id": 341750, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/JgAmt.png?s=128&g=1", "display_name": "hotpaw2", "link": "https://stackoverflow.com/users/341750/hotpaw2"}, "edited": false, "score": 0, "creation_date": 1569825016, "post_id": 58128156, "comment_id": 102706703, "body": "I checked the frame number the file was saved with the one when opening the file. When opening the frame number is more than 50% under the one when saving the file. Also checked with iOS12. There I got both time the same number of frames."}], "owner": {"reputation": 43, "user_id": 1527349, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/irNu4.jpg?s=128&g=1", "display_name": "robidd", "link": "https://stackoverflow.com/users/1527349/robidd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569594923, "creation_date": 1569560656, "last_edit_date": 1569594923, "question_id": 58128156, "link": "https://stackoverflow.com/questions/58128156/frameloss-on-ios13-unusable-recordings", "title": "Frameloss on iOS13 -&gt; unusable recordings", "body": "<p>my App is recording audio with <code>kAudioFormatLinearPCM</code> set up in der <code>AudioStreamBasicDescription</code>. It all works fine on iOS12 (checked by downloading the container). After updating to iOS13 the audio file is saved correctly but when reopening the file, a wrong frame count is returned.The audio is unusable.</p>\n\n<p>We are using a mix of swift and objective c code.</p>\n\n<p>My <code>AudioStreamBasicDescription</code>:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>self.audioFormat = AudioStreamBasicDescription(\n            mSampleRate:        Double(self.hardwareSampleRate),\n            mFormatID:          kAudioFormatLinearPCM,\n            mFormatFlags:       ( kAudioFormatFlagIsSignedInteger | kAudioFormatFlagIsPacked ),\n            mBytesPerPacket:    4,\n            mFramesPerPacket:   1,\n            mBytesPerFrame:     4,\n            mChannelsPerFrame:  1,\n            mBitsPerChannel:    32,\n            mReserved:          0\n        );\nself.audioPlot = XOAudioPlotGL();\nself.audioPlot.initialize(withSourceAudioFormat: self.audioFormat);\n</code></pre>\n\n<p>hardwareSampleReate = 44100</p>\n\n<p>And reopening the file:</p>\n\n<pre><code>CheckError(ExtAudioFileOpenURL(readURL, &amp;mAudioFileRef), \"Error: Open File\");\nCheckError(ExtAudioFileSetProperty(mAudioFileRef, kExtAudioFileProperty_ClientDataFormat, sizeof(audioFormat), &amp;audioFormat), \"Set Client Data Format\");\nCFRelease(readURL);\n\nUInt32 propSize = sizeof(SInt64);\nUInt32 numberOfFrames = 0;\nCheckError(ExtAudioFileGetProperty(mAudioFileRef, kExtAudioFileProperty_FileLengthFrames, &amp;propSize, &amp;numberOfFrames), \"Get Number of Frames\");\n</code></pre>\n\n<p>Here a lower framenumber is returned.</p>\n\n<p>I don't see a reason why this all would work on iOS12 but not on iOS13.</p>\n\n<p>Please let me know if I missed something or more details are needed.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["objective-c", "memory-management"], "comments": [{"owner": {"reputation": 391, "user_id": 6324550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8d3842b185f3230407f36f2243f793?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberbeni", "link": "https://stackoverflow.com/users/6324550/cyberbeni"}, "edited": false, "score": 1, "creation_date": 1569602028, "post_id": 58125734, "comment_id": 102663248, "body": "&quot;On October 12, 2011, Xcode 4.2 was released concurrently with the release of iOS 5.0, and it included many more and improved features, such as storyboarding and automatic reference counting (ARC).&quot; That book seems really out of date. You should probably learn current version of Objective-C first."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "edited": false, "score": 0, "creation_date": 1569549904, "post_id": 58125792, "comment_id": 102641422, "body": "Thank you very much for you advice it is just that I am about to do some project (a framework ) for IOS 8 (or later) and I was asked to do it with this specific languaje instead of swift. ARC is already supported by Objective C ?,  do you know about some refereces that could help me with Objective C?, I really would appretiate it."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569769662, "post_id": 58125792, "comment_id": 102695552, "body": "&quot;You are learning a dead language.&quot; - that sounds a little bit too drastic."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1569539257, "creation_date": 1569539257, "answer_id": 58125792, "question_id": 58125734, "link": "https://stackoverflow.com/questions/58125734/objective-c-memory-management/58125792#58125792", "title": "Objective C Memory Management", "body": "<blockquote>\n  <p>Why the engine instance variable of the <code>car2</code> object is the same as the <code>newEngine</code> Argument?</p>\n</blockquote>\n\n<p>The question is what <em>would</em> happen if you called </p>\n\n<pre><code>[aCar setEngine: anEngine];\n</code></pre>\n\n<p>...at a time when <code>anEngine</code> is the <em>same object</em> that is <em>already</em> the <code>engine</code> of <code>aCar</code>.  Suppose you did that. Then the first thing that the implementation of <code>setEngine</code> does is release the existing <code>engine</code>. But if this object is <em>also</em> <code>newEngine</code>, then you have now accidentally released the incoming parameter before you had a chance to assign it to the ivar and retain it.</p>\n\n<p>The lesson is that you need to retain the incoming parameter <em>first</em> and <em>then</em> release the existing <code>engine</code> \u2014 just in case they are the same object. Or, even better, <em>check to see</em> whether they are same object, as I advise in my book:</p>\n\n<p><a href=\"http://www.apeth.com/iOSBook/ch12.html#_memory_management_of_instance_variables_non_arc\" rel=\"nofollow noreferrer\">http://www.apeth.com/iOSBook/ch12.html#_memory_management_of_instance_variables_non_arc</a></p>\n\n<p>Having said all that, I strongly suggest you throw this book away. It is too old. <em>No one</em> write this kind of code any more. Nowadays we have ARC which does all this <em>automatically</em>, exactly so that you don't have to. In modern Objective-C, saying <code>retain</code> and <code>release</code> is actually <em>illegal</em>. So you are learning about something you will never actually do, which is silly. You are learning a dead language. That's fun but not useful.</p>\n"}], "owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58125792, "answer_count": 1, "score": 0, "last_activity_date": 1569548315, "creation_date": 1569538869, "last_edit_date": 1592644375, "question_id": 58125734, "link": "https://stackoverflow.com/questions/58125734/objective-c-memory-management", "title": "Objective C Memory Management", "body": "<p>I am quite new in Objective C and right now I am reading a book (Learning Objective C on the Mac 6th edition). I am at chapter 9th (Memory management) and I get stuck at an example.\nThey give you a Car, Tire and Engine class, Car class has 2 instance members, a pointer to Engine  and one for an array of 4 Tires. All of this classes have their Accessors methods (Getters and Setters) for instance variables. Then when they are explaining about what is the best Strategy on memory management (when releasing or retaining the retainCount for deallocation) for object ownership topic, they say the next statemets for the code in the image:\n<a href=\"https://i.stack.imgur.com/oUWNS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUWNS.png\" alt=\"enter image description here\" /></a></p>\n<p>NOTE: <code>engine</code> shown in setEngine methods refers to one of the instances variables of Car\u00b4s class</p>\n<p>Why the <code>engine</code> instance variable of the <code>car2</code> object is the same as the newEngine Argument ?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 0, "creation_date": 1569536207, "post_id": 58125216, "comment_id": 102639093, "body": "1. <a href=\"https://stackoverflow.com/questions/20008713/detect-moment-when-newline-starts-in-uitextview\" title=\"detect moment when newline starts in uitextview\">stackoverflow.com/questions/20008713/&hellip;</a> 2. <a href=\"https://stackoverflow.com/questions/41704352/swift-3-detecting-new-lines-in-uitextview\" title=\"swift 3 detecting new lines in uitextview\">stackoverflow.com/questions/41704352/&hellip;</a> 3. <a href=\"https://stackoverflow.com/questions/29111193/check-if-text-in-uitextview-went-to-new-line-due-to-word-wrap\" title=\"check if text in uitextview went to new line due to word wrap\">stackoverflow.com/questions/29111193/&hellip;</a>"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "reply_to_user": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 0, "creation_date": 1569536533, "post_id": 58125216, "comment_id": 102639157, "body": "@Gagan_iOS - #1 actually detects a new line every time a character is typed, that does not work. #2 is for swift, #3 also doesnt work under most circumstances..."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569537773, "post_id": 58125216, "comment_id": 102639408, "body": "I don&#39;t have time to give a proper answer and I can&#39;t find a good duplicate but use KVO on the <code>contentSize</code> of the text view."}], "answers": [{"comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569585365, "post_id": 58134067, "comment_id": 102654864, "body": "That&#39;s swift but the question is tagged with objective-c."}, {"owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569585614, "post_id": 58134067, "comment_id": 102654989, "body": "Oops, didn&#39;t even see that, will soon add objc code."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1571294601, "post_id": 58134067, "comment_id": 103194220, "body": "This method only detects the line change when I tap the return key - but not when I&#39;m typing and the line breaks automatically."}], "tags": [], "owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "is_accepted": false, "score": 0, "last_activity_date": 1569586696, "last_edit_date": 1569586696, "creation_date": 1569585304, "answer_id": 58134067, "question_id": 58125216, "link": "https://stackoverflow.com/questions/58125216/obj-c-detecting-textview-line-break/58134067#58134067", "title": "Obj-C- Detecting textView line break?", "body": "<p>To detect the change in number of lines, you can use KVO, as @rmaddy suggested with a comment.</p>\n\n<pre><code>- (void)viewDidLoad {\n     [textView addObserver:self forKeyPath:@\"contentSize\" options:NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew context:nil];\n}\n\n-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context{\n    if (change != nil &amp;&amp; [keyPath isEqualToString:@\"contentSize\"] &amp;&amp; [object isKindOfClass:UITextView.class]) {\n        NSNumber *oldValue = change[NSKeyValueChangeOldKey];\n        NSNumber *newValue = change[NSKeyValueChangeNewKey];\n        //Do anything you need with the height values here\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>In swift</p>\n\n<pre><code>override func viewDidLoad() {\n    textView.addObserver(self, forKeyPath: \"contentSize\", options: [.old, .new], context: nil)\n}\n\noverride func observeValue(forKeyPath keyPath: String?, of object: Any?, change: [NSKeyValueChangeKey : Any]?, context: UnsafeMutableRawPointer?) {\n    guard let change = change, keyPath == \"contentSize\" &amp;&amp; object is UITextView else {\n        return\n    }\n\n    let oldHeight = (change[.oldKey] as! CGSize).height\n    let newHeight = (change[.newKey] as! CGSize).height\n\n    //Do anything you need with the height values here\n}\n\ndeinit {\n    // iOS10 was crashing for me when I didn't explicitly remove\n    // the observer before destroying the containing object\n    inputTextView.removeObserver(self, forKeyPath: \"contentSize\", context: nil)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1571654729, "post_id": 58447906, "comment_id": 103300265, "body": "was this of any help to you?"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1571697272, "post_id": 58447906, "comment_id": 103319541, "body": "Damn nice work, and so simple. THANK YOU. This was killing me. Would love to hear everyone else&#39;s thoughts on this answer."}], "tags": [], "owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1571390837, "creation_date": 1571390837, "answer_id": 58447906, "question_id": 58125216, "link": "https://stackoverflow.com/questions/58125216/obj-c-detecting-textview-line-break/58447906#58447906", "title": "Obj-C- Detecting textView line break?", "body": "<p>Im not sure if this is gonna help at all since im also fairly new to obj-c but give it a go</p>\n\n<pre><code>-(void)textViewDidChange:(UITextView *)textView\n  {\n    CGFloat fixedWidth = textView.frame.size.width;\n    CGSize newSize = [textView sizeThatFits:CGSizeMake(fixedWidth, MAXFLOAT)];\n    CGRect newFrame = textView.frame;\n    newFrame.size = CGSizeMake(fmaxf(newSize.width, fixedWidth), \n    newSize.height);\n    textView.frame = newFrame;\n }\n</code></pre>\n\n<p>Make sure you also disable scrolling</p>\n\n<pre><code>   textview.scrollEnabled = NO;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1571696932, "post_id": 58486403, "comment_id": 103319460, "body": "Oddly, this actually crashes my app as soon as i begin typing in my textView if I connect it via the storyboard. &quot;Terminating app due to uncaught exception &#39;NSInvalidArgumentException&#39;, reason: &#39;-[UITextView setConstant:]: unrecognized selector sent to instance 0x12c865400&#39;&quot; - However, if I just set the code to my textView (e.g. self.myTextView.frame instead of self.txtInfo.frame) - it gives me the NEW HEIGHT log, but does not change the height of the actual textView (and again, ONLY if return is tapped)."}], "tags": [], "owner": {"reputation": 787, "user_id": 7851805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406efff90090b78f210c54cc9706536?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7851805/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1571718783, "last_edit_date": 1571718783, "creation_date": 1571661145, "answer_id": 58486403, "question_id": 58125216, "link": "https://stackoverflow.com/questions/58125216/obj-c-detecting-textview-line-break/58486403#58486403", "title": "Obj-C- Detecting textView line break?", "body": "<p>Try this:</p>\n\n<p>For dynamically change <code>UITextView</code> height you can create property of  <code>height</code> constraints and set/connect this to <code>textview</code> height constraints from <code>storyboard</code>.</p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *txtViewHeightConstraint;\n</code></pre>\n\n<p>and then after add <code>didChange</code> for checking <code>textview</code> inputs</p>\n\n<pre><code>-(void)textViewDidChange:(UITextView *)textView\n{\n     [self SetupTextField] ;\n}\n\n- (void)SetupTextField{\n\n    CGRect newFrame = self.txtInfo.frame;\n    newFrame.size.height = self.txtInfo.contentSize.height;\n\n\n    NSLog(@\"NEW HEIGHT %f\", newFrame1.size.height);\n\n    if (newFrame.size.height &lt; 100.0) { // if condition is optional \n        self.txtViewHeightConstraint.constant = newFrame.size.height ;\n    }\n}\n</code></pre>\n\n<p>check screenshot for set height constraint of <code>textview</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/N2nRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N2nRS.png\" alt=\"UITextView height constraint\"></a></p>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 58447906, "answer_count": 3, "score": 1, "last_activity_date": 1571718783, "creation_date": 1569534776, "last_edit_date": 1571330118, "question_id": 58125216, "link": "https://stackoverflow.com/questions/58125216/obj-c-detecting-textview-line-break", "title": "Obj-C- Detecting textView line break?", "body": "<p>When a user is typing inside of my textView, I want to know when a new line begins, as I want to change the height of my textView when this happens. That said, I know how to accomplish this if the return button is hit - but if a new line just begins automatically (e.g. a new line is started simply because a user keeps typing), this doesn't seem as simple. The code I'm using below works successfully when 'return' is tapped - but I can't seem to get it to detect any sort of line change otherwise. </p>\n\n<p>Hope I worded this well enough. Thanks! </p>\n\n<pre><code> - (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range\n replacementText:(NSString *)text\n{\n\n\n    if ([text isEqualToString:@\"\\n\"]) {\n        self.replyField.text=[NSString stringWithFormat:@\"%@\\n\",self.replyField.text];\n\n        CGFloat fixedWidth = self.replyField.frame.size.width;\n        CGSize newSize = [self.replyField sizeThatFits:CGSizeMake(fixedWidth, MAXFLOAT)];\n        CGRect newFrame = self.replyField.frame;\n        newFrame.size = CGSizeMake(fmaxf(newSize.width, fixedWidth), newSize.height);\n        self.replyField.frame = newFrame;\n\n        CGRect newFrame1 = self.upView.frame;\n\n        NSLog(@\"WHAT IS THE NEW HEIGHT %f\", newFrame1.size.height);\n\n         self.upView.frame = CGRectOffset(self.upView.frame, 0, -15);\n\n        return NO;\n\n    }\n\n    // For any other character return TRUE so that the text gets added to the view\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "uitableview"], "comments": [{"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1569654769, "post_id": 58121238, "comment_id": 102673797, "body": "you need to link more code"}], "answers": [{"tags": [], "owner": {"reputation": 11755, "user_id": 608991, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/1L4iV.png?s=128&g=1", "display_name": "Tommie C.", "link": "https://stackoverflow.com/users/608991/tommie-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1569521082, "creation_date": 1569521082, "answer_id": 58122415, "question_id": 58121238, "link": "https://stackoverflow.com/questions/58121238/custom-cell-hide-other-custom-cell-when-scroll-to-top/58122415#58122415", "title": "custom cell hide other custom cell when scroll to top", "body": "<p>You probably want to make sure that the top cell view is actually either a table header view or a section header view. Depends on the specific behavior you want. It should not be a regular tableview cell.</p>\n"}], "owner": {"reputation": 179, "user_id": 7666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/y27QP.jpg?s=128&g=1", "display_name": "Walid Sassi", "link": "https://stackoverflow.com/users/7666104/walid-sassi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569521082, "creation_date": 1569515781, "last_edit_date": 1592644375, "question_id": 58121238, "link": "https://stackoverflow.com/questions/58121238/custom-cell-hide-other-custom-cell-when-scroll-to-top", "title": "custom cell hide other custom cell when scroll to top", "body": "<p>I have a problem when I scroll to top my tableview. I have an image view in the second cell that hide other buttons in the first.\n<a href=\"https://i.stack.imgur.com/wNaXo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNaXo.png\" alt=\"enter image description here\" /></a>\nTo solve that I tried to use bringtoFront method like this:</p>\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n\u00a0 \u00a0 if (indexPath.section == 0) {\n\u00a0 \u00a0 \u00a0 \u00a0 if (indexPath.row == 0) {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MPInformationCell *cell = [tableView dequeueReusableCellWithIdentifier:MPInformationCellIdentifier];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (!cell) {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 [tableView registerNib:[UINib nibWithNibName:MPInformationCellIdentifier\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 bundle:[NSBundle bundleForClass: MPHikePresentationViewController.self]]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 forCellReuseIdentifier:MPInformationCellIdentifier];\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cell = [tableView dequeueReusableCellWithIdentifier: MPInformationCellIdentifier];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cell.delegate = self;\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// Custom cell there with data\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 [tableView bringSubviewToFront:cell];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return cell;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 else if (indexPath.row == weatherDetailsIndex){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 MPWeatherCell *cell = [tableView dequeueReusableCellWithIdentifier:MPWeatherCellIdentifier];\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if (!cell) {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 [tableView registerNib:[UINib nibWithNibName:MPWeatherCellIdentifier\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 bundle:[NSBundle bundleForClass: MPHikePresentationViewController.self]]\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 forCellReuseIdentifier:MPWeatherCellIdentifier];\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cell = [tableView dequeueReusableCellWithIdentifier:MPWeatherCellIdentifier];\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 if(weatherDetails != nil){\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 [cell setupCellWithWeatherDTO:weatherDetails];\n\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 return cell;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n}\n</code></pre>\n<p>when I scroll from top to down after launching the view there is no problem and I get the desired result something like that\n<a href=\"https://i.stack.imgur.com/oUfOJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUfOJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help please</p>\n"}, {"tags": ["ios", "objective-c", "constraints", "uinavigationbar", "visual-format-language"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569508325, "post_id": 58118176, "comment_id": 102627175, "body": "May be you need just <code>UIStackView</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": true, "score": 0, "last_activity_date": 1569508969, "last_edit_date": 1569508969, "creation_date": 1569507851, "answer_id": 58118963, "question_id": 58118176, "link": "https://stackoverflow.com/questions/58118176/is-there-a-way-to-use-visual-format-language-to-constrain-a-view-to-the-bottom-o/58118963#58118963", "title": "Is there a way to use Visual Format Language to constrain a view to the bottom of a navigation bar?", "body": "<p>You can set the top constraint to UIViewController.view if you are setting <code>edgesForExtendedLayout = []</code>, this will keep the view of your <code>UIViewController</code> just below of your navigation bar</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n    // Do any additional setup after loading the view.\n    self.edgesForExtendedLayout = []\n    let view = UIView(frame: .zero)\n    view.backgroundColor = UIColor.red\n    view.translatesAutoresizingMaskIntoConstraints = false\n    self.view.addSubview(view)\n\n    self.view.addConstraints(NSLayoutConstraint.constraints(withVisualFormat: \"H:|-0-[view]-0-|\", options: NSLayoutConstraint.FormatOptions(rawValue: 0), metrics: nil, views: [\"view\":view]));\n    self.view.addConstraints(NSLayoutConstraint.constraints(withVisualFormat: \"V:|-0-[view(50)]\", options: NSLayoutConstraint.FormatOptions(rawValue: 0), metrics: nil, views: [\"view\":view]));\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/pkuDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pkuDr.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 11002769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b355a5d442f258d1b686a8ec7b90a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Wallace", "link": "https://stackoverflow.com/users/11002769/wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58118963, "answer_count": 1, "score": 1, "last_activity_date": 1569508969, "creation_date": 1569505299, "question_id": 58118176, "link": "https://stackoverflow.com/questions/58118176/is-there-a-way-to-use-visual-format-language-to-constrain-a-view-to-the-bottom-o", "title": "Is there a way to use Visual Format Language to constrain a view to the bottom of a navigation bar?", "body": "<p>I'm currently trying to vertically position a view right underneath the navigation bar. However, I'm trying to use Visual Format Language to do this. </p>\n\n<p>I have essentially 3 views: let's call them a, b, c</p>\n\n<p>My current code to do this is:</p>\n\n<pre><code> @\"V:|-dist-[a][b][c]|\"\n</code></pre>\n\n<p>I basically have to set the \"dist\" to the height of the navigation bar. Otherwise the subview \"a\" will be above the navigation bar since the superview is into the safe area. </p>\n\n<p>Even though I could essentially use this solution, the problem lies on designing for different screens where the size of the navigation bar is different. I tried to grab the navigation bar height:</p>\n\n<pre><code>CGFloat topbarHeight = self.navigationController.navigationBar.frame.size.height;\n</code></pre>\n\n<p>But it returns:</p>\n\n<p><strong>error: property 'navigationBar' not found on object of type 'id'</strong></p>\n\n<p>I assume this is because the view has not loaded yet? And it can't recognize the navigation bar? Ideally I would love if there was some sort of symbol that represented the navigationbar default area. Similar to the \"|\" symbol representing a superview in Visual Format Language. </p>\n\n<p>Any help would be appreciated. </p>\n"}, {"tags": ["objective-c", "voip", "ios13", "callkit", "pushkit"], "answers": [{"comments": [{"owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "edited": false, "score": 0, "creation_date": 1569561851, "post_id": 58118407, "comment_id": 102643833, "body": "Okay, I will check with that and also check if it affects UI changes to support iOS 13 or not."}, {"owner": {"reputation": 566, "user_id": 4562267, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/784002101682768/picture?type=large", "display_name": "Rushang Prajapati", "link": "https://stackoverflow.com/users/4562267/rushang-prajapati"}, "reply_to_user": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "edited": false, "score": 0, "creation_date": 1569577989, "post_id": 58118407, "comment_id": 102651162, "body": "@Max you got success?"}, {"owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "reply_to_user": {"reputation": 566, "user_id": 4562267, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/784002101682768/picture?type=large", "display_name": "Rushang Prajapati", "link": "https://stackoverflow.com/users/4562267/rushang-prajapati"}, "edited": false, "score": 0, "creation_date": 1569579034, "post_id": 58118407, "comment_id": 102651712, "body": "@RushangPrajapati, Yes it worked, and I got success in my defined problems."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "edited": false, "score": 0, "creation_date": 1570465122, "post_id": 58118407, "comment_id": 102913652, "body": "@Max, Hi Max, did you solve your issue, I have the same problem.."}, {"owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "reply_to_user": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "edited": false, "score": 0, "creation_date": 1570601666, "post_id": 58118407, "comment_id": 102958785, "body": "@Steven, issue is in latest iOS or xcode 11, So I have built app from xcode 10.2.1 and it works fine. We need to wait for newer version of iOS or xcode in which they fix this issue."}, {"owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "reply_to_user": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "edited": false, "score": 0, "creation_date": 1570615940, "post_id": 58118407, "comment_id": 102966157, "body": "@Steven, I have also verified this with 11.1 xcode and finally I have built with lower xcode version, Which works fine."}, {"owner": {"reputation": 566, "user_id": 4562267, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/784002101682768/picture?type=large", "display_name": "Rushang Prajapati", "link": "https://stackoverflow.com/users/4562267/rushang-prajapati"}, "reply_to_user": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "edited": false, "score": 0, "creation_date": 1599204602, "post_id": 58118407, "comment_id": 112707185, "body": "@Max Everything was good but now I am not able to receive VOIP after X times. Please look into my question and help me if you can.  <a href=\"https://stackoverflow.com/questions/63673548/later-ios13-0-voip-notification-is-being-missing-or-delay\" title=\"later ios13 0 voip notification is being missing or delay\">stackoverflow.com/questions/63673548/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1095, "user_id": 1082528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a377b0d2e61c3c8224c56650baad4073?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/1082528/marco"}, "is_accepted": true, "score": 4, "last_activity_date": 1569506074, "creation_date": 1569506074, "answer_id": 58118407, "question_id": 58117066, "link": "https://stackoverflow.com/questions/58117066/native-cellular-call-fails-on-voip-incoming-call-in-ios-13/58118407#58118407", "title": "Native cellular call fails on VoIP incoming call in iOS 13", "body": "<p>This is probably an iOS 13 bug and, if you haven't already done it, you should report it to Apple.</p>\n\n<p>I think that the reason why apps like Whatapp (and the one I develop) are working, is that we build the app against the iOS 12 SDK. We do this because of the limitations of VoIP push notifications introduced in iOS 13. So, you can try to work around the issue\u2014at least until April 2020\u2014building against the iOS 12 SDK. Hopefully, Apple we'll soon fix this issue.</p>\n"}, {"comments": [{"owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "edited": false, "score": 0, "creation_date": 1573624019, "post_id": 58830939, "comment_id": 103937560, "body": "Okay, Thanks for the update. I will check with latest Xcode."}], "tags": [], "owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573623601, "creation_date": 1573623601, "answer_id": 58830939, "question_id": 58117066, "link": "https://stackoverflow.com/questions/58117066/native-cellular-call-fails-on-voip-incoming-call-in-ios-13/58830939#58830939", "title": "Native cellular call fails on VoIP incoming call in iOS 13", "body": "<p>@Max I have faced the same issue that you faced in iOS version 13.0 to 13.2.0.</p>\n\n<p>As many developers have reported this issue to Apple. The latest iOS version that released last week(iOS 13.2.2) has this bug resolved. So, now instead of building from older SDK, you can start working with latest SDK and xCode 11.2.1.</p>\n"}], "owner": {"reputation": 2221, "user_id": 3463712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/4wUBY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/3463712/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2377, "favorite_count": 3, "accepted_answer_id": 58118407, "answer_count": 2, "score": 7, "last_activity_date": 1580121484, "creation_date": 1569501715, "last_edit_date": 1573583734, "question_id": 58117066, "link": "https://stackoverflow.com/questions/58117066/native-cellular-call-fails-on-voip-incoming-call-in-ios-13", "title": "Native cellular call fails on VoIP incoming call in iOS 13", "body": "<p>I have implemented CallKit for audio and video call with VoIP PushKit in iOS and it is working fine in iOS 12 and prior versions, and also it is working fine normally in iOS 13 and 13.1.</p>\n\n<p>But it is failing in 2 scenarios:</p>\n\n<p>1) Our App is in foreground state. When cellular call is running and VoIP push is received, then Call kit incoming call screen is showing for 5 - 10 seconds, and then both Cellular and VOIP calls are failing with Alert \"Call Failed\".</p>\n\n<p>2) Our App is in Background or Killed state. When cellular call is running and VoIP push is received, then both Cellular and VOIP calls are failing with Alert \"Call Failed\". No incoming call UI is showing this time.</p>\n\n<p>I am showing my code here:</p>\n\n<pre><code>- (void)registerAppForVOIPPush {\n\n    PKPushRegistry *pushRegistry = [[PKPushRegistry alloc] initWithQueue:dispatch_get_main_queue()];\n    pushRegistry.delegate = self;\n    pushRegistry.desiredPushTypes = [NSSet setWithObject:PKPushTypeVoIP];\n}\n</code></pre>\n\n<p>Then Push delegates</p>\n\n<pre><code>#pragma mark PKPushRegistryDelegate ----\n\n- (void)pushRegistry:(PKPushRegistry *)registry didUpdatePushCredentials: (PKPushCredentials *)credentials forType:(NSString *)type {\n\n    NSString *newToken = [self hexadecimalStringFromData:credentials.token];\n    //Make a note of this token to a server to send VOIP for a particular device\n    NSLog(@\"VOIP token ::: %@\", newToken);\n    _voipToken = newToken;\n}\n\n- (void)pushRegistry:(PKPushRegistry *)registry didReceiveIncomingPushWithPayload:(PKPushPayload *)payload forType:(PKPushType)type {\n    //available(iOS, introduced: 8.0, deprecated: 11.0)\n    [self pushRegistryDidReceivedPushWithPayload:payload forType:type withCompletionHandler:NULL];\n}\n\n- (void)pushRegistry:(PKPushRegistry *)registry didReceiveIncomingPushWithPayload:(PKPushPayload *)payload forType:(PKPushType)type withCompletionHandler:(void (^)(void))completion {\n    //available(iOS 11.0, *)\n    [self pushRegistryDidReceivedPushWithPayload:payload forType:type withCompletionHandler:completion];\n}\n\n- (void)pushRegistryDidReceivedPushWithPayload:(PKPushPayload *)payload forType:(PKPushType)type withCompletionHandler:(void (^)(void))completion {\n\n    //Call kit configration\n    CXProviderConfiguration *providerConfig = [[CXProviderConfiguration alloc] initWithLocalizedName:@\"my app Call\"];\n    providerConfig.supportsVideo = NO;\n    providerConfig.maximumCallGroups = 1;\n    providerConfig.maximumCallsPerCallGroup = 1;\n    providerConfig.supportedHandleTypes = [[NSSet alloc] initWithObjects:[NSNumber numberWithInteger:CXHandleTypeGeneric], nil];\n    providerConfig.iconTemplateImageData = UIImagePNGRepresentation([UIImage imageNamed:@\"IconMask\"]);\n\n\n    CXProvider *provider = [[CXProvider alloc] initWithConfiguration:providerConfig];\n    [provider setDelegate:self queue:nil];\n\n    //generate token\n    NSUUID *callbackUUIDToken = [NSUUID UUID];\n\n    //Display callkit\n\n    NSString *uniqueIdentifier = @\"Max test\";\n    CXCallUpdate *update = [[CXCallUpdate alloc] init];\n    update.remoteHandle = [[CXHandle alloc] initWithType:CXHandleTypeGeneric value:uniqueIdentifier];\n    update.supportsGrouping = FALSE;\n    update.supportsUngrouping = FALSE;\n    update.supportsHolding = FALSE;\n    update.localizedCallerName = uniqueIdentifier;\n    update.hasVideo = NO;\n    [provider reportNewIncomingCallWithUUID:callbackUUIDToken update:update completion:^(NSError * _Nullable error) {\n        NSLog(@\"reportNewIncomingCallWithUUID error: %@\",error);\n    }];\n\n    if (completion) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n            completion();\n        });\n    }\n}\n</code></pre>\n\n<p>I have implemented CXProvider delegate method perfectly</p>\n\n<pre><code>- (void)provider:(CXProvider *)provider performAnswerCallAction:(CXAnswerCallAction *)action{\n    [action fulfill];\n}\n\n- (void)provider:(CXProvider *)provider performEndCallAction:(CXEndCallAction *)action{\n    [action fulfill];\n}\n</code></pre>\n\n<p>and also managed other delegate methods to manage call and everything, and it is working perfectly in all conditions.</p>\n\n<p>I have checked these two scenarios with other apps like Google Duo, Whatsapp and FaceTime and it's showing CallKit properly without failing, but in my app it is failing. I have no clue where it is failing.</p>\n\n<p>So, I have this 2 stated issues for iOS 13 and later versions. Any help will be appreciated.\nThanks.</p>\n"}, {"tags": ["ios", "objective-c", "statusbar", "subview", "ios13"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569503823, "post_id": 58116977, "comment_id": 102624279, "body": "The status bar belongs to the runtime and has no subviews. This was always illegal and unsupported and now it has stopped working."}, {"owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569504652, "post_id": 58116977, "comment_id": 102624737, "body": "As @matt said, accessing values using <code>[subviews valueForKey:@&quot;cellularEntry&quot;]</code> was never really supported. What information are you trying to extract from the status bar and what do you want to do with this information? I couldn&#39;t find out what &quot;cellularEntry&quot; is."}, {"owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "edited": false, "score": 0, "creation_date": 1569505448, "post_id": 58116977, "comment_id": 102625219, "body": "Thanks, both for your comments. Basically I&#39;m trying to get the signal strength, specifically &quot;signalStrengthRaw&quot; &amp; &quot;signalStrengthBars&quot;, however, I don&#39;t know another way to get them."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569506338, "post_id": 58116977, "comment_id": 102625836, "body": "A search (<a href=\"https://stackoverflow.com/search?q=ios+signal+strength\">stackoverflow.com/search?q=ios+signal+strength</a>) suggests that there is no public API for getting that information. It also confirms that the trick of trying peek at the status bar is unsupported and likely to get the app rejected from the App Store."}, {"owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569507330, "post_id": 58116977, "comment_id": 102626505, "body": "@matt, until iOS 13 it has been supported because it was working, additionally, this is just for testing purposes, I&#39;m not planning to upload the app to the AppStore.  This <a href=\"https://juejin.im/post/5d650aede51d4561c41fb854\" rel=\"nofollow noreferrer\">Chinese post</a> looks like a solution, but after testing it, the statusBar is still an empty object."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569507963, "post_id": 58116977, "comment_id": 102626906, "body": "This would be a great use case to submit as an enhancement request to the Apple feedback assistant, and I urge you to do so."}, {"owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569509540, "post_id": 58116977, "comment_id": 102627929, "body": "@matt, first, I checked the Stackoverflow answer that you marked as the duplicated one. It is talking about iOS 8.3, and it is a question 4 years ago. My question is similar but talking about the new iOS version iOS 13, so this shouldn&#39;t be marked as duplicated. Second, could you point to me where is the Apple documentation that says that this functionality is not supported, please? I&#39;m having some difficulties to find it."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1569509831, "post_id": 58116977, "comment_id": 102628098, "body": "The answers to the other question (and many others you can find in the search link I gave) show that there was once a Core Telephony API for getting signal strength but it was withdrawn, and they also caution that using key-value coding to access the status bar&#39;s subviews is just a hack and can get the app barred from the App Store."}], "owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 2, "closed_date": 1569506271, "answer_count": 0, "score": 1, "last_activity_date": 1569508756, "creation_date": 1569501413, "last_edit_date": 1569508756, "question_id": 58116977, "link": "https://stackoverflow.com/questions/58116977/subviews-data-from-statusbar-on-ios-13", "closed_reason": "Duplicate", "title": "SubViews data from StatusBar on [iOS 13]", "body": "<p>I'm trying to adapt the code of my app to the new iOS version (<strong>iOS 13</strong>).</p>\n\n<p>I need to get the information from the Subviews from the Statusbar of the phone, specifically the \"cellularEntry\", the display value.</p>\n\n<p><strong>This is how I used to do it in older iOS version than iOS 13</strong>:</p>\n\n<pre><code>UIApplication *app = [UIApplication sharedApplication];\nid statusBar = [app valueForKey:@\"statusBar\"];\nNSArray subviews = [[statusBar valueForKey:@\"statusBar\"] valueForKey:@\"currentData\"];\nid dataNetworkItemView = [[subviews valueForKey:@\"cellularEntry\"] valueForKey:@\"displayValue\"];\n</code></pre>\n\n<p><strong>This is how I'm trying to do it for iOS 13</strong>:</p>\n\n<pre><code>UIApplication *app = [UIApplication sharedApplication];\nUIView statusBar = [[UIView alloc]initWithFrame:app.keyWindow.windowScene.statusBarManager.statusBarFrame];\nNSArray subviews = [statusBar subviews];\nid dataNetworkItemView = [[subviews valueForKey:@\"cellularEntry\"] valueForKey:@\"displayValue\"];\n</code></pre>\n\n<p>My problem is that the subviews array in the second case, is always empty, so I can not get any value.</p>\n\n<p>It would be really helpful if you could suggest me the right way to get the subviews in iOS 13 or an alternative to get CellularEntrey value.</p>\n"}, {"tags": ["ios", "objective-c", "cocoapods", "xcode11"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 749472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29a4bf26f2f1c74b75b3cb1ad849390e?s=128&d=identicon&r=PG", "display_name": "ciTiger", "link": "https://stackoverflow.com/users/749472/citiger"}, "edited": false, "score": 0, "creation_date": 1569578618, "post_id": 58124443, "comment_id": 102651501, "body": "Greetings, this is actually code from a third party lib that needs to be updated. I had to change super.super_class to super.class for it to work, it  ow throws other errors unrelated. Also I tested an other solution, see next post."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 113, "user_id": 749472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29a4bf26f2f1c74b75b3cb1ad849390e?s=128&d=identicon&r=PG", "display_name": "ciTiger", "link": "https://stackoverflow.com/users/749472/citiger"}, "edited": false, "score": 0, "creation_date": 1569624837, "post_id": 58124443, "comment_id": 102670197, "body": "@ciTiger \u2013 See addendum."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 3, "last_activity_date": 1569624812, "last_edit_date": 1569624812, "creation_date": 1569530281, "answer_id": 58124443, "question_id": 58116456, "link": "https://stackoverflow.com/questions/58116456/too-many-arguments-to-function-call-expected-0-have-2/58124443#58124443", "title": "Too many arguments to function call, expected 0, have 2", "body": "<p><strong>Note: The code below has not been executed as it is just a fragment, however it has been compiled by Xcode 10 &amp; 11. There may be mistakes or other issues.</strong></p>\n\n<p>In Xcode right-click on <code>objc_super</code> and <code>objc_msgSendSuper</code> and select \"Jump to Definition\" which will open the system files containing the definitions. This will show two things:</p>\n\n<ol>\n<li>Both field names and types of <code>objc_super</code> have changed since your code was written, some of this is documented in the comments.</li>\n<li>The prototype for <code>objc_msgSendSuper</code> has also changed to just <code>void objc_msgSendSuper(void)</code>, the previous prototype is also there <code>id _Nullable\nobjc_msgSendSuper(struct objc_super * _Nonnull super, SEL _Nonnull op, ...)</code>. Using the previous prototype the call to this function in the code could be made without a cast, with this new prototype a cast is needed.</li>\n</ol>\n\n<p>Making the changes indicated to the code gives:</p>\n\n<pre><code>// A typedef for objc_msgSendSuper which takes only the required (first two) arguments\ntypedef void *(*NoAdditionalArgMsgSendSuper)(struct objc_super *super_class, SEL selector);\n\nvoid* callSuper0(id self, Class superClass, SEL _cmd)\n{\n   struct objc_super super;\n   // .receiver is now defined as \"__unsafe_unretained _Nonnull id\" so no bridge cast required\n   super.receiver = self;\n   // .super_class is new name for .class\n   super.super_class = superClass != NULL ? superClass : class_getSuperclass(object_getClass(self));\n   // cast objc_msgSendSuper to the correct type and then call\n   return ((NoAdditionalArgMsgSendSuper)objc_msgSendSuper)(&amp;super, preprocessSEL(_cmd));\n}\n</code></pre>\n\n<p>HTH</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>Following on from your comment and code post as another answer.</p>\n\n<p>In your code you write:</p>\n\n<pre><code>void* (*objc_msgSendSuperTyped)(id self, SEL _cmd) = (void*)objc_msgSendSuper;\nreturn objc_msgSendSuperTyped((id) &amp;super, preprocessSEL(_cmd));\n</code></pre>\n\n<p>Making a typed copy of the function pointer, rather than just casting on use as our earlier code, is fine. However your code should produce an error from Xcode as you are trying to case a non-retained type (<code>&amp;super</code> - a struct pointer) to a retained one (<code>id</code>) \u2013\u00a0which requires a bridge cast.</p>\n\n<p>The solution here is to give <code>objc_msgSendSuperTyped</code> the correct type, its first argument should be a struct pointer:</p>\n\n<pre><code>void* (*objc_msgSendSuperTyped)(struct objc_super *self, SEL _cmd) = (void*)objc_msgSendSuper;\nreturn objc_msgSendSuperTyped(&amp;super, preprocessSEL(_cmd));\n</code></pre>\n\n<p>From your comment:</p>\n\n<blockquote>\n  <p>I had to change super.super_class to super.class for it to work, it now throws other errors unrelated.</p>\n</blockquote>\n\n<p>This suggests you've some unusual settings, in the declaration of <code>objc_super</code> we find:</p>\n\n<pre><code>#if !defined(__cplusplus)  &amp;&amp;  !__OBJC2__\n   /* For compatibility with old objc-runtime.h header */\n   __unsafe_unretained _Nonnull Class class;\n#else\n   __unsafe_unretained _Nonnull Class super_class;\n#endif\n</code></pre>\n\n<p><code>__OBJC2__</code> is defined by default in Xcode 11 (and plenty of earlier versions) for <code>.m</code> and <code>.mm</code> files, <code>__cplusplus</code> is defined for <code>.mm</code> files only. So the condition <code>!defined(__cplusplus)  &amp;&amp;  !__OBJC2__</code> is <code>false</code> and the field is therefore named <code>super_class</code>...</p>\n\n<p>You might wish to determine why <code>__OBJC2__</code> is apparently not defined for the source you are trying to convert...</p>\n"}, {"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1569624878, "post_id": 58132413, "comment_id": 102670206, "body": "That <i>should</i> produce an error... See addendum on my answer."}], "tags": [], "owner": {"reputation": 113, "user_id": 749472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29a4bf26f2f1c74b75b3cb1ad849390e?s=128&d=identicon&r=PG", "display_name": "ciTiger", "link": "https://stackoverflow.com/users/749472/citiger"}, "is_accepted": false, "score": 1, "last_activity_date": 1569578882, "creation_date": 1569578882, "answer_id": 58132413, "question_id": 58116456, "link": "https://stackoverflow.com/questions/58116456/too-many-arguments-to-function-call-expected-0-have-2/58132413#58132413", "title": "Too many arguments to function call, expected 0, have 2", "body": "<p>I found it working by changing to this:</p>\n\n<pre><code>void* callSuper0(id self, Class superClass, SEL _cmd)\n{\n    struct objc_super super;\n    super.receiver = (__bridge void *)self;\n    super.class = superClass != NULL ? superClass : class_getSuperclass(object_getClass(self));\n\n    void* (*objc_msgSendSuperTyped)(id self, SEL _cmd) = (void*)objc_msgSendSuper;\n    return objc_msgSendSuperTyped((id) &amp;super, preprocessSEL(_cmd));\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 749472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29a4bf26f2f1c74b75b3cb1ad849390e?s=128&d=identicon&r=PG", "display_name": "ciTiger", "link": "https://stackoverflow.com/users/749472/citiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2051, "favorite_count": 0, "accepted_answer_id": 58124443, "answer_count": 2, "score": 5, "last_activity_date": 1614249971, "creation_date": 1569499482, "last_edit_date": 1614249971, "question_id": 58116456, "link": "https://stackoverflow.com/questions/58116456/too-many-arguments-to-function-call-expected-0-have-2", "title": "Too many arguments to function call, expected 0, have 2", "body": "<p>Last year we moved from Pixate to StylingKit</p>\n<p><a href=\"https://github.com/StylingKit/StylingKit\" rel=\"nofollow noreferrer\">https://github.com/StylingKit/StylingKit</a> a fork of Pixate which is still being developed as far as I can tell.</p>\n<p>However we are having problems with it now with the release of XCode 11, in pior versions it worked just fine but now it won't compile.</p>\n<pre><code>    void* callSuper0(id self, Class superClass, SEL _cmd)\n    {\n        struct objc_super super;\n        super.receiver = (__bridge void *)self;\n        super.class = superClass != NULL ? superClass : class_getSuperclass(object_getClass(self));\n        return objc_msgSendSuper(&amp;super, preprocessSEL(_cmd));\n    }\n\n</code></pre>\n<pre><code>return objc_msgSendSuper(&amp;super, preprocessSEL(_cmd));\n</code></pre>\n<p>Throws error &quot;Too many arguments to function call, expected 0, have 2&quot;</p>\n<p>I tried changing some Building Settings as seen in <a href=\"https://stackoverflow.com/questions/24922913/too-many-arguments-to-function-call-expected-0-have-3\">Too many arguments to function call, expected 0, have 3</a> specifically &quot;Enable strict checking of objc_msgSend Calls to NO&quot; but it didn't help.</p>\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "uiimage", "uisearchbar"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1569501619, "post_id": 58116240, "comment_id": 102623059, "body": "Surprising that didn&#39;t give you trouble prior to iOS 13... This: <code>(__bridge CGImageRef)([UIColor clearColor])</code> does <i>not</i> return a <code>CGImage</code> / <code>CGImageRef</code>."}], "answers": [{"tags": [], "owner": {"reputation": 664, "user_id": 5823450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e363696b8f80b438afae40b4a339ec8?s=128&d=identicon&r=PG&f=1", "display_name": "TyR", "link": "https://stackoverflow.com/users/5823450/tyr"}, "is_accepted": true, "score": 0, "last_activity_date": 1569517194, "creation_date": 1569517194, "answer_id": 58121557, "question_id": 58116240, "link": "https://stackoverflow.com/questions/58116240/ios-13-app-crashes-when-setting-uicolor-as-backgroundimage/58121557#58121557", "title": "ios-13-App crashes when setting UIColor as BackgroundImage", "body": "<p>In your code you're casting a UIColor object to a CGImageRef. This doesn't make sense, and I don't know why it would have worked in iOS 12.</p>\n\n<p>You probably want to just make a UIImage filled with a solid color. Something like this:\n<a href=\"https://gist.github.com/uknowho/5915365\" rel=\"nofollow noreferrer\">https://gist.github.com/uknowho/5915365</a></p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 58121557, "answer_count": 1, "score": 0, "last_activity_date": 1569517194, "creation_date": 1569498692, "question_id": 58116240, "link": "https://stackoverflow.com/questions/58116240/ios-13-app-crashes-when-setting-uicolor-as-backgroundimage", "title": "ios-13-App crashes when setting UIColor as BackgroundImage", "body": "<p>I am trying to set <code>searchbar</code> background image with <code>UIColor</code>. My code is working fine in ios 12.x but It is crashing in ios 13. My code is as follows.</p>\n\n<pre><code>[[UISearchBar appearance] setScopeBarBackgroundImage:[UIImage imageWithCGImage:(__bridge CGImageRef)([UIColor clearColor])]];\n</code></pre>\n\n<p>The crash log says <strong>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'imageRef passed is not a CGImageRef'</strong></p>\n\n<p>Can anyone suggest alternative way to resolve crash?</p>\n"}, {"tags": ["ios", "objective-c", "opencv", "mat", "yuv"], "owner": {"reputation": 450, "user_id": 10251640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24628b1b6dd261859b53b81d80247b5a?s=128&d=identicon&r=PG&f=1", "display_name": "MADHAVI KUMARI", "link": "https://stackoverflow.com/users/10251640/madhavi-kumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569494796, "creation_date": 1569494796, "question_id": 58115098, "link": "https://stackoverflow.com/questions/58115098/how-to-convert-yuv-plane-to-cv-mat-object-in-objective-c", "title": "How to convert YUV plane to cv:: Mat object in Objective-C?", "body": "<p>Converting YUVI420 plane to <code>OpenCV Mat</code>. I have three <code>uint8_t *</code> pointers yPlane, uPlane and vPlane how can I create a Mat object from these pointers? </p>\n\n<pre><code>\n+(UIImage *) i420ToRGB:(const uint8_t *) yPlane uPlane:(const uint8_t *) uPlane vPlane:(const uint8_t *) vPlane width:(uint)width height:(uint) height\n{\n\n    cv::Mat yuvMat;\n    int rows = (int)(height * 3/2);\n    yuvMat =cv::Mat(rows, int(width), CV_8UC1, yPlane,0)//Don't know how to do that\n\n\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "location", "locationmanager", "ios13"], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 1274103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c87f4eb6e891dc3bf0958a0d73ba6919?s=128&d=identicon&r=PG", "display_name": "Juanjo", "link": "https://stackoverflow.com/users/1274103/juanjo"}, "edited": false, "score": 0, "creation_date": 1569830266, "post_id": 58117232, "comment_id": 102709037, "body": "That didn&#39;t work. I have the same configuration for the locationManager but nothing happens. It seems that the app stop when I put it on background, although it has the location permission set to &quot;Always&quot;. That  didn&#39;t happen before iOS 13"}, {"owner": {"reputation": 1608, "user_id": 5456493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/lD4ng.png?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/5456493/abhishek"}, "reply_to_user": {"reputation": 859, "user_id": 1274103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c87f4eb6e891dc3bf0958a0d73ba6919?s=128&d=identicon&r=PG", "display_name": "Juanjo", "link": "https://stackoverflow.com/users/1274103/juanjo"}, "edited": false, "score": 0, "creation_date": 1580387658, "post_id": 58117232, "comment_id": 106085701, "body": "@Juanjo did you get any solution for this?"}], "tags": [], "owner": {"reputation": 61, "user_id": 7056910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHjgl.jpg?s=128&g=1", "display_name": "iSalman", "link": "https://stackoverflow.com/users/7056910/isalman"}, "is_accepted": false, "score": 5, "last_activity_date": 1569502753, "last_edit_date": 1569502753, "creation_date": 1569502337, "answer_id": 58117232, "question_id": 58114750, "link": "https://stackoverflow.com/questions/58114750/issues-with-allow-always-location-in-ios-13/58117232#58117232", "title": "Issues with &quot;Allow always&quot; location in iOS 13", "body": "<p>From iOS 13 onwards, Apple replace \"Always allow\" to \"Always once\" from permission screen and moved \"Always allow\" in the settings.</p>\n\n<p>If user select \"Always once\" then app will prompt location permission screen every time user launch the app.</p>\n\n<p>If user select \"While in use\" then app will not prompt permission screen next time explicitly user need to travel to settings and give the permission.</p>\n\n<p>Also receiving location update from switching to \"While using app\" to \"Always Allow\" from settings works for me.</p>\n\n<p>Here is the properties I specifies</p>\n\n<pre><code>let locationManager = CLLocationManager()\nlocationManager.requestAlwaysAuthorization()\nlocationManager.allowsBackgroundLocationUpdates = true\nlocationManager.pausesLocationUpdatesAutomatically = false\nlocationManager.desiredAccuracy = kCLLocationAccuracyBest\nlocationManager.delegate = self\n\n.\n.\n.\n\nextension AppDelegate: CLLocationManagerDelegate {\n\n    func locationManager(_ manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus) {\n        switch status {\n        case .authorizedAlways, .authorizedWhenInUse:\n            locationManager.startUpdatingLocation()\n\n        case .denied:\n            print(\"Location permission denied\")\n\n        case .restricted:\n            print(\"Location permission restricted\")\n\n        case .notDetermined:\n            print(\"Location permission notDetermined\")\n\n        @unknown default:\n            fatalError()\n        }\n    }\n\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\n        print(\"Location Update = \\(String(describing: locations.first))\")\n    }\n\n    func locationManager(_ manager: CLLocationManager, didFailWithError error: Error) {\n        print(\"Location Error = \\(error.localizedDescription)\")\n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 8281708, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/52584db5830f15860464f58d6c2cb337?s=128&d=identicon&r=PG&f=1", "display_name": "Apoorva Verma", "link": "https://stackoverflow.com/users/8281708/apoorva-verma"}, "is_accepted": false, "score": 4, "last_activity_date": 1572946046, "last_edit_date": 1572946046, "creation_date": 1572339199, "answer_id": 58604026, "question_id": 58114750, "link": "https://stackoverflow.com/questions/58114750/issues-with-allow-always-location-in-ios-13/58604026#58604026", "title": "Issues with &quot;Allow always&quot; location in iOS 13", "body": "<p>This is a feature introduced in iOS 13 itself. As explained here: <a href=\"https://engineering.q42.nl/apple-location-permission-ios13/\" rel=\"nofollow noreferrer\">https://engineering.q42.nl/apple-location-permission-ios13/</a>\nIf the user grants you \u2018when in use\u2019 permission and you try to scan for location in the background, only then the user will be presented a dialog to grant the background permission.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CzNTxl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CzNTxl.png\" alt=\"This is an image for reference\"></a></p>\n\n<p>Seems quite buggy as of now, and is definitely not a good UX experience, but that is how it is as of now! </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7786674, "user_type": "registered", "profile_image": "https://graph.facebook.com/1874786272768294/picture?type=large", "display_name": "Tommy Borgelin", "link": "https://stackoverflow.com/users/7786674/tommy-borgelin"}, "is_accepted": false, "score": 1, "last_activity_date": 1575275945, "creation_date": 1575275945, "answer_id": 59135197, "question_id": 58114750, "link": "https://stackoverflow.com/questions/58114750/issues-with-allow-always-location-in-ios-13/59135197#59135197", "title": "Issues with &quot;Allow always&quot; location in iOS 13", "body": "<p>This is very annoying from a MDM-perspective, since a location-app  that must be used now constantly asks the user if it should still be allowed to use \"Always allow\". \nThe admins need this to be on \"Always allow\" so we can track the iPads in case they get lost/stolen.</p>\n"}], "owner": {"reputation": 859, "user_id": 1274103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c87f4eb6e891dc3bf0958a0d73ba6919?s=128&d=identicon&r=PG", "display_name": "Juanjo", "link": "https://stackoverflow.com/users/1274103/juanjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6618, "favorite_count": 4, "answer_count": 3, "score": 7, "last_activity_date": 1575275945, "creation_date": 1569493562, "last_edit_date": 1569495004, "question_id": 58114750, "link": "https://stackoverflow.com/questions/58114750/issues-with-allow-always-location-in-ios-13", "title": "Issues with &quot;Allow always&quot; location in iOS 13", "body": "<p>I've an app which depends on the user's location. Until iOS 13 the app worked correctly but now it doesn' send the user's location.</p>\n\n<p>I've tried to choose the option \"While using app\" and wait to the next prompt in order to choose \"Allow always\" but it doesn't work. Choosing \"While using app\" and going to settings for changing the option to \"Allow always\" doesn't work. (Both cases are the \"official\" answer of Apple in the documentation)</p>\n\n<p>Any idea?\nThanks</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1569490895, "post_id": 58113802, "comment_id": 102617350, "body": "Edit your question to show the exception message, but unrecognised selector means that the object you have isn&#39;t what you think it is.  Lots of things will compile but not work at runtime in Objective-C - It is C."}, {"owner": {"reputation": 886, "user_id": 2822720, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/11f7aee0dc600e96a24d01f3d02590a4?s=128&d=identicon&r=PG&f=1", "display_name": "jacob", "link": "https://stackoverflow.com/users/2822720/jacob"}, "edited": false, "score": 0, "creation_date": 1569490896, "post_id": 58113802, "comment_id": 102617351, "body": "Please update your answer, show the code in your MapViewController, show how you init ValidationResultAlertView"}, {"owner": {"reputation": 61, "user_id": 6892440, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210074066703608/picture?type=large", "display_name": "Alon Mel", "link": "https://stackoverflow.com/users/6892440/alon-mel"}, "edited": false, "score": 0, "creation_date": 1569491363, "post_id": 58113802, "comment_id": 102617620, "body": "ValidationResultAlertView *alertView = [[ValidationResultAlertView alloc] initWithValidationResult:result.validationResult :self];"}, {"owner": {"reputation": 61, "user_id": 6892440, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210074066703608/picture?type=large", "display_name": "Alon Mel", "link": "https://stackoverflow.com/users/6892440/alon-mel"}, "edited": false, "score": 0, "creation_date": 1569491382, "post_id": 58113802, "comment_id": 102617630, "body": "-(NSString*)getWarnings{     NSString * res = @&quot;&quot;;     for (NSString * str in _warningMessages){        res = [ str stringByAppendingString:res];     }     return res; }"}, {"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1569943926, "post_id": 58113802, "comment_id": 102755959, "body": "Try block syntax <code>NSString *erros = [alertView getErros];</code>"}], "owner": {"reputation": 61, "user_id": 6892440, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210074066703608/picture?type=large", "display_name": "Alon Mel", "link": "https://stackoverflow.com/users/6892440/alon-mel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569569090, "creation_date": 1569490543, "last_edit_date": 1569569090, "question_id": 58113802, "link": "https://stackoverflow.com/questions/58113802/how-to-access-method-of-another-viewcontroller", "title": "how to access method of another viewcontroller?", "body": "<p>i'm making a call to a function from another view controller, but while runtime the app crushes because of 'unrecognized selector sent to instance' </p>\n\n<p>those are the functions as they declared at the h file:</p>\n\n<pre><code>@interface ValidationResultAlertView \n-(NSString*)getWarnings;\n-(NSString*)getErros;\n@end \n</code></pre>\n\n<p>those methods are implemented in the m file using other data members on the class. </p>\n\n<p>and this  the usage at mapViewController , alertView is the instance of the previous view controller.</p>\n\n<pre><code>NSString * erros =  alertView.getErros;\nNSString * warnings = alertView.getWarnings;*\n</code></pre>\n\n<p>there is not compilation errors.</p>\n\n<pre><code>ValidationResultAlertView *alertView = [[ValidationResultAlertView alloc] initWithValidationResult:result.validationResult :self];\n\n-(NSString*)getWarnings{\n    NSString * res = @\"\";\n    for (NSString * str in _warningMessages){\n        res = [ str stringByAppendingString:res];\n    }\n    return res;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 2051503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/320137ee8c1d5a035216bf3f8072478b?s=128&d=identicon&r=PG", "display_name": "Boris Kuzevanov", "link": "https://stackoverflow.com/users/2051503/boris-kuzevanov"}, "edited": false, "score": 0, "creation_date": 1569489290, "post_id": 58113331, "comment_id": 102616399, "body": "@property (strong, nonatomic) Array&lt;OneDayDishViewController*&gt; *myVC; I saw for the first time definition like this (may be because I am junior) is It objective-c syntaxes?"}, {"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "reply_to_user": {"reputation": 1112, "user_id": 2051503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/320137ee8c1d5a035216bf3f8072478b?s=128&d=identicon&r=PG", "display_name": "Boris Kuzevanov", "link": "https://stackoverflow.com/users/2051503/boris-kuzevanov"}, "edited": false, "score": 0, "creation_date": 1569489385, "post_id": 58113331, "comment_id": 102616450, "body": "@BorisKuzevanov indeed"}, {"owner": {"reputation": 1112, "user_id": 2051503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/320137ee8c1d5a035216bf3f8072478b?s=128&d=identicon&r=PG", "display_name": "Boris Kuzevanov", "link": "https://stackoverflow.com/users/2051503/boris-kuzevanov"}, "edited": false, "score": 1, "creation_date": 1569489741, "post_id": 58113331, "comment_id": 102616652, "body": "Thank you, I found the solution with your help `         [self addChildViewController:myVC];         [self.scrollView addSubview:myVC.view];         [myVC didMoveToParentViewController:self];` instead of only <code>[self.scrollView addSubview:myVC.view];</code>"}], "tags": [], "owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "is_accepted": true, "score": 1, "last_activity_date": 1569489405, "last_edit_date": 1569489405, "creation_date": 1569488974, "answer_id": 58113331, "question_id": 58113251, "link": "https://stackoverflow.com/questions/58113251/uiscrollview-with-many-uitableview-inside-uiviewcontrollers-disappear-uitablevie/58113331#58113331", "title": "UIScrollView with many UITableVIew inside UIViewControllers disappear UITableViewCell&#39;s on tap", "body": "<p>Adding the subview is not enough.</p>\n\n<p>You have to add the entire controller using \n<code>addChildViewController:</code> ( from <a href=\"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621394-addchildviewcontroller\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiviewcontroller/1621394-addchildviewcontroller</a> )</p>\n\n<p>And you have to retain every instance you are adding.</p>\n\n<p>Change</p>\n\n<p><code>@property (strong, nonatomic) OneDayDishViewController *myVC;</code></p>\n\n<p>into </p>\n\n<p><code>@property (strong, nonatomic) NSMutableArray&lt;OneDayDishViewController*&gt; *myVC;</code></p>\n"}], "owner": {"reputation": 1112, "user_id": 2051503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/320137ee8c1d5a035216bf3f8072478b?s=128&d=identicon&r=PG", "display_name": "Boris Kuzevanov", "link": "https://stackoverflow.com/users/2051503/boris-kuzevanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 58113331, "answer_count": 1, "score": 0, "last_activity_date": 1569489828, "creation_date": 1569488733, "last_edit_date": 1569489828, "question_id": 58113251, "link": "https://stackoverflow.com/questions/58113251/uiscrollview-with-many-uitableview-inside-uiviewcontrollers-disappear-uitablevie", "title": "UIScrollView with many UITableVIew inside UIViewControllers disappear UITableViewCell&#39;s on tap", "body": "<p>I need to make UIScrollView with UIViewController's inside, every UIViewController has UITableview.</p>\n\n<p>When I tap to UITableview, all UITableViewCells are disappear.</p>\n\n<p>How I initialise UIViewController inside UIScrollView?</p>\n\n<pre><code>- (void)viewDidLoad {\n[super viewDidLoad];\n\nint width = 0;\nfor (int i = 0; i &lt; [self.dishes count]; i++) {\n\n    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Order\" bundle:nil];\n    OneDayDishViewController *myVC = (OneDayDishViewController *)[storyboard instantiateViewControllerWithIdentifier:@\"OneDayDishViewController\"];\n    myVC.dishes = self.dishes[i];\n    myVC.menuTitle = self.menuTitle;\n\n    [self.scrollView addSubview:myVC.view];\n    width += 375;\n}\n\nself.scrollView.contentSize = CGSizeMake(width,0);\n</code></pre>\n\n<p>}</p>\n\n<p>After looking for in google &amp; stack overflow I found <a href=\"https://stackoverflow.com/questions/25560327/all-uitablecells-disappear-when-tapping-on-uitableview-in-ios-7\">this solution</a></p>\n\n<p>So I done something like this</p>\n\n<p>in my .h file (where I have UIScrollView):</p>\n\n<pre><code>@property (strong, nonatomic) OneDayDishViewController *myVC;\n</code></pre>\n\n<p>Than in my .m file:</p>\n\n<pre><code>- (void)viewDidLoad {\n[super viewDidLoad];\n\nint width = 0;\n\nfor (int i = 0; i &lt; [self.dishes count]; i++) {\n\n    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Order\" bundle:nil];\n    self.myVC = [storyboard instantiateViewControllerWithIdentifier:@\"OneDayDishViewController\"];\n    self.myVC.dishes = self.dishes[i];\n    self.myVC.menuTitle = self.menuTitle;\n\n    [self.scrollView addSubview:self.myVC.view];\n    width += 375;\n}\n\nself.scrollView.contentSize = CGSizeMake(width,0);\n</code></pre>\n\n<p>}</p>\n\n<p>Now I also have N elements in my scrollview, if I tap the last element - it's work fine, if I tap any other element - the problem is the same.</p>\n\n<p>So what I do wrong or how I can create (strong) proper dynamically and is it good practice? </p>\n\n<p>Thanks</p>\n\n<p>UPDT:\nThank you @CZ54\nmy solution is add childviewcontroller so do </p>\n\n<pre><code>         [self addChildViewController:myVC];\n    [self.scrollView addSubview:myVC.view];\n    [myVC didMoveToParentViewController:self];\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>[self.scrollView addSubview:myVC.view];\n</code></pre>\n"}, {"tags": ["objective-c", "security", "integrity"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569867494, "post_id": 58112724, "comment_id": 102727260, "body": "There is no reliable way to do this. If it existed, then Apple would use that technique to prevent jailbreaks in the first place. With obfuscation and hardening techniques you can keep somewhat ahead of attackers, but it will require ongoing updates as your techniques are broken. For more see <a href=\"https://stackoverflow.com/questions/9448632/best-practices-for-ios-applications-security/9448821#9448821\" title=\"best practices for ios applications security\">stackoverflow.com/questions/9448632/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/9181186/secure-https-encryption-for-iphone-app-to-webpage\" title=\"secure https encryption for iphone app to webpage\">stackoverflow.com/questions/9181186/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569850565, "post_id": 58166999, "comment_id": 102719373, "body": "&quot;The role of a Mobile App Attestation solution is to guarantee at run-time that your mobile app was not tampered with.&quot; This isn&#39;t possible. I assume you mean &quot;\u2026is to provide some assurance through hardening techniques that is regularly updated every time it&#39;s broken that your mobile app has likely not been tampered with.&quot;"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569850689, "post_id": 58166999, "comment_id": 102719440, "body": "Without some explanation of how this is technically achieved, this answer currently reads a just marketing material for Approov. The details about JWT gloss over the entire problem: the attestation itself, which is not a fully solvable problem in the way this answer implies."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569851047, "post_id": 58166999, "comment_id": 102719646, "body": "You also appear to have copy and pasted the same (apparently marketing) material on at least 7 answers. If the same answer applies, then vote to close as duplicate. Do not keep posting the same marketing material for Approov as answers."}, {"owner": {"reputation": 5196, "user_id": 6454622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8rOa.jpg?s=128&g=1", "display_name": "Exadra37", "link": "https://stackoverflow.com/users/6454622/exadra37"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569853959, "post_id": 58166999, "comment_id": 102721338, "body": "My answers try to have as much as educational content as possible and yes I link to some blog posts in Approov or links elsewhere, but I am not directly promoting the company with links to the site or to subscribe the services. And yes my answers are mostly on mobile and API security(sometimes on Docker) and I try to educated as much as I can the developers for their misconception on the WHO vs the WHAT. Mention and links to the Approov blog post removed."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569854162, "post_id": 58166999, "comment_id": 102721448, "body": "Understood, and the very beginning of your answer is quite good (and it does not qualify as spam). But by the time you get to &quot;Mobile App Attestation,&quot; your answer becomes misleading (you give the impression that this is a solvable problem, when it is at best a mitigable problem if you constantly update your solution as attackers break it), and at the end it becomes pure marketing copy with &quot;Do you want to go the Extra Mile?&quot; In any case, you should be voting to mark these duplicate, not posting the same answer repeatedly."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569854438, "post_id": 58166999, "comment_id": 102721565, "body": "By &quot;it does not qualify as spam,&quot; I mean the whole post, not just the first part. I don&#39;t believe this is spam, and I haven&#39;t flagged it as spam. I think your answers are in good faith and you&#39;re trying to help folks. The answer just has the problems I&#39;ve discussed, and shouldn&#39;t be repeated on multiple questions."}, {"owner": {"reputation": 5196, "user_id": 6454622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8rOa.jpg?s=128&g=1", "display_name": "Exadra37", "link": "https://stackoverflow.com/users/6454622/exadra37"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569854530, "post_id": 58166999, "comment_id": 102721604, "body": "The Going the Extra Mile is linking to OWASP Top 10 mobile risks <a href=\"https://www.owasp.org/index.php/OWASP_Mobile_Security_Project#Top_Ten_Mobile_Risks\" rel=\"nofollow noreferrer\">owasp.org/index.php/&hellip;</a>, and I like to add it in all my answers about mobile security, because I thinks is important to spread the word about this awesome work. Do you interpret this as pure marketing?"}, {"owner": {"reputation": 5196, "user_id": 6454622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8rOa.jpg?s=128&g=1", "display_name": "Exadra37", "link": "https://stackoverflow.com/users/6454622/exadra37"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569854976, "post_id": 58166999, "comment_id": 102721867, "body": "Addressed your feedback about the use of the word &quot;guarantee&quot; and replaced it with &quot;detect&quot;."}], "tags": [], "owner": {"reputation": 5196, "user_id": 6454622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8rOa.jpg?s=128&g=1", "display_name": "Exadra37", "link": "https://stackoverflow.com/users/6454622/exadra37"}, "is_accepted": false, "score": 0, "last_activity_date": 1569854688, "last_edit_date": 1592644375, "creation_date": 1569842898, "answer_id": 58166999, "question_id": 58112724, "link": "https://stackoverflow.com/questions/58112724/how-to-calculate-app-integrity-with-code-from-imas-project/58166999#58166999", "title": "How to calculate App integrity with code from iMas-Project?", "body": "<blockquote>\n<p>I found code on project imas to calculate the integrity of an app and have the problem that I can not set the sha256_placeholder so that the comparison at the end passes. With every run it seems that the calculated hash is different. Do you see how to fix this?</p>\n</blockquote>\n<p>While I cannot help you with validating your code I can alert you for the fact that this approach is easily bypassed by hooking an instrumentation framework, like Frida or xPosed, into the call to <code>doAppIntegrity()</code>, and then change its return value to be always a valid integrity check.</p>\n<p><a href=\"https://www.frida.re/\" rel=\"nofollow noreferrer\">Frida</a></p>\n<blockquote>\n<p>Inject your own scripts into black box processes. Hook any function, spy on crypto APIs or trace private application code, no source code needed. Edit, hit save, and instantly see the results. All without compilation steps or program restarts.</p>\n</blockquote>\n<p><a href=\"https://repo.xposed.info/module/de.robv.android.xposed.installer\" rel=\"nofollow noreferrer\">xPosed</a></p>\n<blockquote>\n<p>Xposed is a framework for modules that can change the behavior of the system and apps without touching any APKs. That's great because it means that modules can work for different versions and even ROMs without any changes (as long as the original code was not changed too much). It's also easy to undo.</p>\n</blockquote>\n<p>Just to have a notion of the power of instrumentation frameworks, you can watch <a href=\"https://youtu.be/yJRlMmJjrhY\" rel=\"nofollow noreferrer\">this video</a> to see how xPosed is being used to bypass certificate pinning during run-time.</p>\n<p>So what I want to convey here is that any decisions you make in the client side can be bypassed by using the already mentioned instrumentation frameworks, but if you really want to know if your mobile app have been modified or not, you need to make that decision outside the device. In an high level overview you will need to have an external server that challenges the mobile app to determine its integrity, and not use the result of this integrity check directly on the mobile app, because you know, instrumentation frameworks can hook on the code that uses the integrity check result to decide if it can present or not some content, and modify it to always show the content. This means that the API server must be one that will use the integrity check result to decide to send or not the content to the mobile app. This concept have a name, Mobile App Attestation.</p>\n<p>Before I dive into the Mobile APP Attestation concept I would like to first clear a misconception about <strong>WHO</strong> and <strong>WHAT</strong> is accessing an API server.</p>\n<h1>The Difference Between WHO and WHAT is Accessing the API Server</h1>\n<p>To better understand the differences between the <strong>WHO</strong> and the <strong>WHAT</strong> are accessing an API server, let\u2019s use this picture:</p>\n<p><img src=\"https://i.stack.imgur.com/4dgaJ.png\" alt=\"Man in the Middle Attack\" /></p>\n<p>The Intended Communication Channel represents the mobile app being used as you expected, by a legit user without any malicious intentions, using an untampered version of the mobile app, and communicating directly with the API server without being man in the middle attacked.</p>\n<p>The actual channel may represent several different scenarios, like a legit user with malicious intentions that may be using a repackaged version of the mobile app, a hacker using the genuine version of the mobile app, while man in the middle attacking it, to understand how the communication between the mobile app and the API server is being done in order to be able to automate attacks against your API. Many other scenarios are possible, but we will not enumerate each one here.</p>\n<p>I hope that by now you may already have a clue why the <strong>WHO</strong> and the <strong>WHAT</strong> are not the same, but if not it will become clear in a moment.</p>\n<p>The <strong>WHO</strong> is the user of the mobile app that we can authenticate, authorize and identify in several ways, like using OpenID Connect or OAUTH2 flows.</p>\n<blockquote>\n<p><a href=\"https://en.wikipedia.org/wiki/OAuth\" rel=\"nofollow noreferrer\">OAUTH</a></p>\n<p>Generally, OAuth provides to clients a &quot;secure delegated access&quot; to server resources on behalf of a resource owner. It specifies a process for resource owners to authorize third-party access to their server resources without sharing their credentials. Designed specifically to work with Hypertext Transfer Protocol (HTTP), OAuth essentially allows access tokens to be issued to third-party clients by an authorization server, with the approval of the resource owner. The third party then uses the access token to access the protected resources hosted by the resource server.</p>\n<p><a href=\"https://openid.net/connect/\" rel=\"nofollow noreferrer\">OpenID Connect</a></p>\n<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol. It allows Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.</p>\n</blockquote>\n<p>While user authentication may let the API server know <strong>WHO</strong> is using the API, it cannot guarantee that the requests have originated from <strong>WHAT</strong> you expect, the original version of the mobile app.</p>\n<p>Now we need a way to identify <strong>WHAT</strong> is calling the API server, and here things become more tricky than most developers may think. The <strong>WHAT</strong> is the thing making the request to the API server. Is it really a genuine instance of the mobile app, or is a bot, an automated script or an attacker manually poking around with the API server, using a tool like Postman?</p>\n<p>For your surprise you may end up discovering that It can be one of the legit users using a repackaged version of the mobile app or an automated script that is trying to gamify and take advantage of the service provided by the application.</p>\n<p>Well, to identify the <strong>WHAT</strong>, developers tend to resort to an API key that usually they hard-code in the code of their mobile app. Some developers go the extra mile and compute the key at run-time in the mobile app, thus it becomes a runtime secret as opposed to the former approach when a static secret is embedded in the code.</p>\n<h1>Mobile App Attestation</h1>\n<p>The role of a Mobile App Attestation solution is to detect at run-time that your mobile app was not tampered with, is not running in a rooted device, not being instrumented by a framework like xPosed or Frida, not being MitM attacked, and this is achieved by running an SDK in the background. The service running in the cloud will challenge the app, and based on the responses it will attest the integrity of the mobile app and device is running on, thus the SDK will never be responsible for any decisions.</p>\n<p>On successful attestation of the mobile app integrity a short time lived JWT token is issued and signed with a secret that only the API server and the Mobile App Attestation service in the cloud are aware. In the case of failure on the mobile app attestation the JWT token is signed with a secret that the API server does not know.</p>\n<p>Now the App must sent with every API call the JWT token in the headers of the request. This will allow the API server to only serve requests when it can verify the signature and expiration time in the JWT token and refuse them when it fails the verification.</p>\n<p>Once the secret used by the Mobile App Attestation service is not known by the mobile app, is not possible to reverse engineer it at run-time even when the App is tampered, running in a rooted device or communicating over a connection that is being the target of a Man in the Middle Attack.</p>\n<h1>Summary</h1>\n<p>While in app integrity checks can be used to male it hard for an attacker to mount an attack in the device, they are not harder to bypass, even for script kids or seasonal attackers.</p>\n<p>A best approach is to make the mobile app integrity checks decisions outside of the device, and at same time let the API server know them in order it can decide when to provide or not the content to the mobile app, because decisions made on the client side, aka the mobile app, can always be bypassed with instrumentation frameworks.</p>\n<p>In the end, the solution to use in order to protect your mobile app and API server must be chosen in accordance with the value of what you are trying to protect and the legal requirements for that type of data, like the GDPR regulations in Europe.</p>\n<h1>Do you want to go the Extra Mile?</h1>\n<p><a href=\"https://www.owasp.org/index.php/OWASP_Mobile_Security_Project#Top_Ten_Mobile_Risks\" rel=\"nofollow noreferrer\">OWASP Mobile Security Project - Top 10 risks</a></p>\n<blockquote>\n<p>The OWASP Mobile Security Project is a centralized resource intended to give developers and security teams the resources they need to build and maintain secure mobile applications. Through the project, our goal is to classify mobile security risks and provide developmental controls to reduce their impact or likelihood of exploitation.</p>\n</blockquote>\n"}], "owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569854688, "creation_date": 1569486916, "question_id": 58112724, "link": "https://stackoverflow.com/questions/58112724/how-to-calculate-app-integrity-with-code-from-imas-project", "title": "How to calculate App integrity with code from iMas-Project?", "body": "<p>I found code on project imas to calculate the integrity of an app and have the problem that I can not set the sha256_placeholder so that the comparison at the end passes. With every run it seems that the calculated hash is different. Do you see how to fix this?</p>\n\n<p>My approach would be to check the integrity with an import of an array of possible app sizes and hashes from my backend and compare it to the calculated app size and hash.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"IntegrityCheck.h\"\n#import &lt;CommonCrypto/CommonDigest.h&gt;\n\nunsigned char sha256_placeholder[] =\n{ 0x16, 0x13, 0x13, 0x19, 0x14, 0x48, 0xbe, 0xd2, 0x9d, 0x3d, 0x27, 0x45, 0x0b, 0x86, 0x51, 0xde, 0x58, 0x6d,0x39, 0xb2};\n\nunsigned char file_size_placeholder[] = { 0x80, 0x04, 0x67, 0x02 };\n\nNSData *get_sha256() {\n   return  [NSData dataWithBytes:sha256_placeholder length:32];\n}\n\n\nNSData *get_fileSize() {\n   return[NSData dataWithBytes:file_size_placeholder  length:8];\n}\n\n#ifdef FAIL\n    NSString *AppName = @\"MyAppiOS_fail\";\n#else\n     NSString *AppName = @\"MyAppiOS\";\n#endif\n\nint doAppIntegrity() {\n\n    int ret = 0;\n\n    //** read my APPS executable\n    NSFileHandle      *inFile;\n    NSFileManager     *fileMgr;\n    NSString          *filePath;\n\n    fileMgr = [NSFileManager defaultManager];\n\n    //** open and read APP file into a data block\n    filePath = [[NSBundle mainBundle] pathForResource:AppName ofType:0 ];\n\n    if ( [fileMgr fileExistsAtPath:filePath] == NO ) {\n        NSLog(@\"File does not exist!\");\n        ret = -1;\n    }\n\n    //** FILE SIZE\n    inFile = [NSFileHandle fileHandleForReadingAtPath: filePath];\n    NSData *plain_txt = [ inFile readDataToEndOfFile];\n    unsigned int app_file_size = (CC_LONG)[plain_txt length];\n    NSLog(@\"AS-IS - APP file size: %d\", app_file_size);\n    [inFile closeFile];\n\n    //** SHA256bit HASH\n    unsigned char hash[CC_SHA256_DIGEST_LENGTH];\n    CC_SHA256([plain_txt bytes], (CC_LONG)[plain_txt length], hash);\n    NSData *app_sig = [NSData dataWithBytes:hash length:CC_SHA1_DIGEST_LENGTH];\n    NSLog(@\"AS-IS - sha_hash_val 20 bytes: %@\", app_sig);\n    NSLog(@\"app_sig_len:%lu\", (unsigned long)[app_sig length]);\n\n\n    NSData *trusted_app_sig = [NSData dataWithBytes:sha256_placeholder length:CC_SHA1_DIGEST_LENGTH];\n    NSLog(@\"trusted app sig:%@\", trusted_app_sig);\n    NSLog(@\"trusted app sig len:%lu\", (unsigned long)[trusted_app_sig length]);\n\n    NSData *trusted_app_size_data = [NSData dataWithBytes:file_size_placeholder length:4];\n    unsigned int trusted_app_size;\n    [trusted_app_size_data getBytes:&amp;trusted_app_size length:sizeof(trusted_app_size)];\n\n    NSLog(@\"trusted app size hex:%@\", trusted_app_size_data);\n    NSLog(@\"trusted app size:%d\", trusted_app_size);\n\n    // compare computed sha hash to passed in value\n    if (8004672 != app_file_size) {\n        NSLog(@\"App Integrity FAIL - file size MISMATCH\");\n        ret = -1;\n    }\n\n    else {\n        NSLog(@\"App Integrity PASS - file size MATCH\");\n    }\n    if ([trusted_app_sig isEqualToData:app_sig]){\n        NSLog(@\"App Integrity PASS - signature MATCH\");\n    }\n    else {\n        NSLog(@\"App Integrity FAIL - signature MISMATCH\");\n        ret = -1;\n    }\n\n    return ret;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "cocoa", "ui-automation", "xcuitest"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1151837, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/drBbD.jpg?s=128&g=1", "display_name": "jigs", "link": "https://stackoverflow.com/users/1151837/jigs"}, "edited": false, "score": 0, "creation_date": 1569913017, "post_id": 58175403, "comment_id": 102739142, "body": "I am developing a product like DropBox and Box application, and I need to verify Rename/Add/Delete I/O operation using automation thats why I need to rename folder/file related stuffs. And also doing that i/o operation in particular workspace like &quot;/User/DropBox/&quot;  So I could not use locations like Documents, Temp and Cache. Are you getting me?"}, {"owner": {"reputation": 2027, "user_id": 10597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a2f2f16de99748ec4708bf3379815af0?s=128&d=identicon&r=PG", "display_name": "ablarg", "link": "https://stackoverflow.com/users/10597/ablarg"}, "edited": false, "score": 0, "creation_date": 1571262918, "post_id": 58175403, "comment_id": 103186578, "body": "is this running in iOS or macOS? You may be sandboxed out of the path by the OS."}], "tags": [], "owner": {"reputation": 529, "user_id": 1256601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lqrhc.jpg?s=128&g=1", "display_name": "Haseeb Afsar", "link": "https://stackoverflow.com/users/1256601/haseeb-afsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569878147, "creation_date": 1569878147, "answer_id": 58175403, "question_id": 58112708, "link": "https://stackoverflow.com/questions/58112708/domain-nscocoaerrordomain-code-513-only-when-rename-folder-through-uitests-targe/58175403#58175403", "title": "Domain=NSCocoaErrorDomain Code=513 only when rename folder through UITests target for UI Autoamtion", "body": "<p>Try changing the folder you writing to or in your case i dont know why you're renaming the folder. If you've to do something to your folder then perhaps having that folder in one of these locations Documents, Temp and Cache. Most likely, you will want to write to the Documents folder.</p>\n\n<p>It seems to me like a codesign error. Refer this post <a href=\"https://stackoverflow.com/questions/3439408/nsfilemanager-creating-folder-cocoa-error-513\">NSFileManager creating folder (Cocoa error 513.)</a></p>\n"}, {"comments": [{"owner": {"reputation": 809, "user_id": 1151837, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/drBbD.jpg?s=128&g=1", "display_name": "jigs", "link": "https://stackoverflow.com/users/1151837/jigs"}, "edited": false, "score": 0, "creation_date": 1570620016, "post_id": 58192011, "comment_id": 102968209, "body": "I have tried to create and update file/folder using NSFileCoordinator but got same error using that as NSFileManager"}], "tags": [], "owner": {"reputation": 529, "user_id": 1256601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lqrhc.jpg?s=128&g=1", "display_name": "Haseeb Afsar", "link": "https://stackoverflow.com/users/1256601/haseeb-afsar"}, "is_accepted": false, "score": 1, "last_activity_date": 1569962591, "creation_date": 1569962591, "answer_id": 58192011, "question_id": 58112708, "link": "https://stackoverflow.com/questions/58112708/domain-nscocoaerrordomain-code-513-only-when-rename-folder-through-uitests-targe/58192011#58192011", "title": "Domain=NSCocoaErrorDomain Code=513 only when rename folder through UITests target for UI Autoamtion", "body": "<p>Try this below approach. I'm quoting apple documentation - <a href=\"https://developer.apple.com/library/archive/documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxInDepth/AppSandboxInDepth.html#//apple_ref/doc/uid/TP40011183-CH3-SW22\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxInDepth/AppSandboxInDepth.html#//apple_ref/doc/uid/TP40011183-CH3-SW22</a></p>\n\n<p><strong>Scenario 1:</strong>\nYour app needs to be able to save a file with a different extension than that of the original file. For example, when you paste an image into an RTF file in TextEdit and save it, TextEdit changes the file\u2019s extension from .rtf to .rtfd (and it becomes a directory).</p>\n\n<p>To handle this situation, you must use an <strong>NSFileCoordinator</strong> object to coordinate access to the file. Before you rename the file, call the <strong>itemAtURL:willMoveToURL: method</strong>. After you rename the file, call the <strong>itemAtURL:didMoveToURL: method</strong>.</p>\n\n<p><strong>Scenario 2:</strong>\nYour app needs to be able to open or save multiple related files with the same name and different extensions (for example, to automatically open a subtitle file with the same name as a movie file, or to allow for a SQLite journal file).</p>\n\n<p>To gain access to that secondary file, create a class that conforms to the NSFilePresenter protocol. This object should provide the main file\u2019s URL as its primaryPresentedItemURL property, and should provide the secondary file\u2019s URL as its presentedItemURL property.</p>\n\n<p>After the user opens the main file, your file presenter object should call the addFilePresenter: class method on the NSFileCoordinator class to register itself.</p>\n\n<p>In both scenarios, you must make a small change to the application\u2019s Info.plist file. Your app should already declare a Document Types (CFBundleDocumentTypes) array that declares the file types your app can open.</p>\n\n<p>For each file type dictionary in that array, if that file type should be treated as a potentially related type for open and save purposes, add the key NSIsRelatedItemType with a boolean value of YES.</p>\n\n<p>To learn more about file presenters and file coordinators, read File System Programming Guide.</p>\n"}], "owner": {"reputation": 809, "user_id": 1151837, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/drBbD.jpg?s=128&g=1", "display_name": "jigs", "link": "https://stackoverflow.com/users/1151837/jigs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1569962591, "creation_date": 1569486855, "last_edit_date": 1569913140, "question_id": 58112708, "link": "https://stackoverflow.com/questions/58112708/domain-nscocoaerrordomain-code-513-only-when-rename-folder-through-uitests-targe", "title": "Domain=NSCocoaErrorDomain Code=513 only when rename folder through UITests target for UI Autoamtion", "body": "<p>I am developing a product like DropBox and Box application, and I need to verify Rename/Add/Delete I/O operation using automation.</p>\n\n<p>I am writing UI Automation Test Cases using XCUITest in Xcode.\nIn that I need to use I/O operation for rename file/folder but It gives the below error while using moveItemAtPath function to rename folder:</p>\n\n<pre><code>Error Domain=NSCocoaErrorDomain Code=513 \"\u201cFolder\u201d couldn\u2019t be moved because you don\u2019t have permission to access \u201cFolder1\u201d.\" UserInfo={NSSourceFilePathErrorKey=*path, NSUserStringVariant=(\nMove), NSDestinationFilePath=*destiPath, NSFilePath=*path, NSUnderlyingError=0x6000002507d0 {Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\"}}\n</code></pre>\n\n<p>Its working fine when running the app in main target and also its working in UnitTest target but its not working while running UITest automation target.</p>\n\n<p><strong>NOTE: App Groups are also enabled.</strong></p>\n\n<p>Any help is appreciated! </p>\n"}, {"tags": ["ios", "objective-c", "ios13"], "comments": [{"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1569484569, "post_id": 58111887, "comment_id": 102614004, "body": "If you seek for help, you should post some code to show us what you did."}, {"owner": {"reputation": 570, "user_id": 6098786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1817418292ea19fd6c9d6f0465bdb42?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi Yaduwanshi", "link": "https://stackoverflow.com/users/6098786/abhi-yaduwanshi"}, "edited": false, "score": 0, "creation_date": 1569494266, "post_id": 58111887, "comment_id": 102619130, "body": "Please post your storyboard View&#39;s hierarchy from (Document outline section)."}, {"owner": {"reputation": 3261, "user_id": 1379197, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d725f1f7e7dd08de792812f201c40451?s=128&d=identicon&r=PG", "display_name": "Owen Godfrey", "link": "https://stackoverflow.com/users/1379197/owen-godfrey"}, "edited": false, "score": 0, "creation_date": 1606278336, "post_id": 58111887, "comment_id": 114913457, "body": "I&#39;ve had this happen to me too. Then when I demonstrated the app to a colleague the problem vanished, only to reappear again next week. It appears to be associated with the safe area layout guide. Maybe its not always safe?"}], "answers": [{"tags": [], "owner": {"reputation": 1367, "user_id": 6276472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10201680926661848/picture?type=large", "display_name": "Hamoonist", "link": "https://stackoverflow.com/users/6276472/hamoonist"}, "is_accepted": false, "score": 1, "last_activity_date": 1569484722, "creation_date": 1569484722, "answer_id": 58112115, "question_id": 58111887, "link": "https://stackoverflow.com/questions/58111887/navigation-bar-not-appear-properly-in-ios-13/58112115#58112115", "title": "Navigation bar not appear properly in IOS 13", "body": "<p>Try the <a href=\"https://developer.apple.com/documentation/uikit/uiview/2891102-safearealayoutguide?language=objc\" rel=\"nofollow noreferrer\">safeAreaLayoutGuide</a></p>\n\n<p>Apple: The layout guide representing the portion of your view that is unobscured by bars and other content.</p>\n"}, {"tags": [], "owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "is_accepted": false, "score": 0, "last_activity_date": 1569655510, "creation_date": 1569655510, "answer_id": 58144248, "question_id": 58111887, "link": "https://stackoverflow.com/questions/58111887/navigation-bar-not-appear-properly-in-ios-13/58144248#58144248", "title": "Navigation bar not appear properly in IOS 13", "body": "<p>In your viewcontroller, if you want to use the full screen and override the navigationbar entirely with your own subclass, then make sure you do this in the initilizer and the viewwill appear methods</p>\n\n<p>[self.navigationController setNavigationBarHidden:true animated:true];\n   [self setExtendedLayoutIncludesOpaqueBars:true];</p>\n\n<p>from there, you have to access the values of the top layoutguide which will be 44 points and 20 points depending on the size of the iphone you accesss those this way in loadview or viewdidload or a custom subclass</p>\n\n<p>UIWindow *window = UIApplication.sharedApplication.keyWindow;\n   CGFloat topPadding = window.safeAreaInsets.top;</p>\n\n<p>then the frame of your custom navigation bar is then calculated like so:</p>\n\n<p>CGRect tempRect = CGRectMake(0, 0, self.view.frame.size.width, topPadding + 44);</p>\n\n<p>44 is there because it's constant across all iphones and ipads for now (this could change in the future and nullify this solution, but this is the standard for now)</p>\n\n<p>that will return correct dimensions for all iphone sizes. </p>\n\n<p>THIS => [self setExtendedLayoutIncludesOpaqueBars:true]; </p>\n\n<p>IS ABSOLUTELY necessary to make this work as i explained. this isn't a good idea to travel down this path because very rarely do you ever need to override and replace the navigation bar with some custom UIView, but if you need to do it, this is how you do it. Just know that this will break if you're not updating frame sizes during on call status and other edge case conditions. </p>\n"}], "owner": {"reputation": 583, "user_id": 4148361, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f21e093c328fc3f94618b08309b4e3e2?s=128&d=identicon&r=PG&f=1", "display_name": "Chathz", "link": "https://stackoverflow.com/users/4148361/chathz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569655510, "creation_date": 1569483863, "last_edit_date": 1569488007, "question_id": 58111887, "link": "https://stackoverflow.com/questions/58111887/navigation-bar-not-appear-properly-in-ios-13", "title": "Navigation bar not appear properly in IOS 13", "body": "<p><a href=\"https://i.stack.imgur.com/C0M5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C0M5x.png\" alt=\"enter image description here\"></a></p>\n\n<p>In here, I have hide the default navigation bar and created a custom navigation bar. When run on iOS 13 device using Xcode 11 two navigation bars showing.</p>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated {\n    [super viewWillAppear:animated];\n    [self.navigationController setNavigationBarHidden:YES animated:NO];\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jh8aV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jh8aV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Navigation bar not aligned to the top of the screen properly after updating to iOS 13</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["objective-c", "xcode", "tcp", "server", "ios12"], "answers": [{"tags": [], "owner": {"reputation": 664, "user_id": 5823450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e363696b8f80b438afae40b4a339ec8?s=128&d=identicon&r=PG&f=1", "display_name": "TyR", "link": "https://stackoverflow.com/users/5823450/tyr"}, "is_accepted": true, "score": 0, "last_activity_date": 1569517575, "creation_date": 1569517575, "answer_id": 58121636, "question_id": 58111680, "link": "https://stackoverflow.com/questions/58111680/how-to-create-tcp-ip-server-using-objective-c-on-ios/58121636#58121636", "title": "How to create TCP IP Server using Objective-C on iOS", "body": "<p>There are better native alternatives to CocoaAsyncSocket now, namely Apple's Network Framework.</p>\n\n<p>Here is some nice sample code for a simple TCP client &amp; server using the nw functions:\n<a href=\"https://developer.apple.com/documentation/network/implementing_netcat_with_network_framework\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/network/implementing_netcat_with_network_framework</a></p>\n"}], "owner": {"reputation": 44, "user_id": 11828711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PHquFW86cB8/AAAAAAAAAAI/AAAAAAAAFeU/vp0oLv3SgKA/photo.jpg?sz=128", "display_name": "bots_developer_fix", "link": "https://stackoverflow.com/users/11828711/bots-developer-fix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 58121636, "answer_count": 1, "score": 0, "last_activity_date": 1569517575, "creation_date": 1569483108, "question_id": 58111680, "link": "https://stackoverflow.com/questions/58111680/how-to-create-tcp-ip-server-using-objective-c-on-ios", "title": "How to create TCP IP Server using Objective-C on iOS", "body": "<p>i have managed to create a client with objective-c where it can connect to any server, my app is running on an iPad.. so far a have tested the client on different servers telnet, nodejs, even a web based php server and it works fine.\nBut my scope has changed as i need my app to act as the server hence instead of connecting to a given socket, it should first open a socket and wait for client connection and establish communication between the two.</p>\n\n<p>Here is a snippet of how my client on the ipad connects to server:</p>\n\n<pre><code>NSLog(@\"Setting up connection to %@ : %i\", _ipAddressText.text, [_portText.text intValue]);\nCFStreamCreatePairWithSocketToHost(kCFAllocatorDefault, (__bridge CFStringRef) _ipAddressText.text, [_portText.text intValue], &amp;readStream, &amp;writeStream);\n\nmessages = [[NSMutableArray alloc] init];\n\n[self open];\n</code></pre>\n\n<p>I have tried cocoaAsyncSocket but um having trouble getting its work around:\n<a href=\"https://github.com/robbiehanson/CocoaAsyncSocket\" rel=\"nofollow noreferrer\">https://github.com/robbiehanson/CocoaAsyncSocket</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "mobile"], "comments": [{"owner": {"reputation": 521, "user_id": 8541799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G2LpJ.jpg?s=128&g=1", "display_name": "Mumtaz Hussain", "link": "https://stackoverflow.com/users/8541799/mumtaz-hussain"}, "edited": false, "score": 0, "creation_date": 1569483753, "post_id": 58111556, "comment_id": 102613578, "body": "tried putting your animation code to be inside <code>DispatchQueue.main.async</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12087762, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByVRqLZAj0HuGOHefjJS5puJ5hTJKOobnKq-cU9g=k-s128", "display_name": "AK19996", "link": "https://stackoverflow.com/users/12087762/ak19996"}, "edited": false, "score": 0, "creation_date": 1569516050, "post_id": 58112536, "comment_id": 102631141, "body": "Awesome! That makes sense and it worked. Thank you for the clear explanation!"}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "reply_to_user": {"reputation": 3, "user_id": 12087762, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByVRqLZAj0HuGOHefjJS5puJ5hTJKOobnKq-cU9g=k-s128", "display_name": "AK19996", "link": "https://stackoverflow.com/users/12087762/ak19996"}, "edited": false, "score": 0, "creation_date": 1569563780, "post_id": 58112536, "comment_id": 102644397, "body": "@AK19996 Considering what you are building it might actually make more sense to use animation with delay. I edited my answer to add a full example of that as well. You should give it a try."}], "tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": true, "score": 0, "last_activity_date": 1569563679, "last_edit_date": 1569563679, "creation_date": 1569486262, "answer_id": 58112536, "question_id": 58111556, "link": "https://stackoverflow.com/questions/58111556/how-to-make-uianimation-execute-one-at-a-time-iterate-over-for-loop-instead-o/58112536#58112536", "title": "How to make UIAnimation execute one at a time (iterate over for loop), instead of executing all at once?", "body": "<p>To do something like this manually you will need to start a new animation when current one finishes. There are few ways of doing that but one of them is to pack all data you need for your animation in a class and then create an array of such classes. You may then create a single method which is called recursively. Something like this:</p>\n\n<pre><code>- (void)performAllAnimations:(NSArray *)allAnimations\n{\n    NSMutableArray *duplicate = [allAnimations mutableCopy];\n    AnimationDescription *currentAnimation = duplicate.firstObject;\n    [duplicate removeObjectAtIndex:0];\n\n    [UIView animateWithDuration:currentAnimation.duration animations:^{\n        // Use currentAnimation to do the animation\n    } completion:^(BOOL finished) {\n        if(duplicate.count &gt; 0) [self performAllAnimations:duplicate];\n    }];\n}\n</code></pre>\n\n<p>You do not always need <code>AnimationDescription</code> as a custom class. In your case it might be enough to simply use an array of indices. For instance you would then do:</p>\n\n<pre><code>- (void)performAllAnimations:(NSArray *)allAnimations\n{\n    NSMutableArray *duplicate = [allAnimations mutableCopy];\n    int currentAnimationIndex = [duplicate.firstObject integerValue];\n    [duplicate removeObjectAtIndex:0];\n\n    [UIView animateWithDuration:0.3 animations:^{\n        // Use currentAnimation to do the animation\n    } completion:^(BOOL finished) {\n        if(duplicate.count &gt; 0) [self performAllAnimations:duplicate];\n    }];\n}\n</code></pre>\n\n<p>You could then do something like:</p>\n\n<pre><code>NSMutableArray *indexArray = [[NSMutableArray alloc] init];\nfor(int i=0; i&lt;10; i++) {\n    [indexArray addObject:@(i)];\n}\n[self performAllAnimations: indexArray];\n</code></pre>\n\n<p>Using your own data naturally.</p>\n\n<p>Another approach is using a delay. For some cases it could be better as you have more control over when the next animation starts. See the following example:</p>\n\n<pre><code>- (void)performAllAnimations:(NSArray *)allAnimations withAnimationExecution:(void (^)(id animationObject, int index))execution\n{\n    NSTimeInterval duration = 0.3;\n\n    for(int i=0; i&lt;allAnimations.count; i++) {\n        [UIView animateWithDuration:duration delay:(duration*0.5)*i options:UIViewAnimationOptionCurveEaseInOut animations:^{\n            execution(allAnimations[i], i);\n        } completion:^(BOOL finished) {\n\n        }];\n    }\n}\n\n- (void)testAnimation\n{\n    NSMutableArray *views = [[NSMutableArray alloc] init];\n    for(int i=0; i&lt;10; i++) {\n        UIView *aView = [[UIView alloc] initWithFrame:CGRectMake(0.0, 50.0, 100.0, 100.0)];\n        [self.view addSubview:aView];\n        aView.backgroundColor = [UIColor blackColor];\n        aView.layer.borderWidth = 2.0;\n        aView.layer.borderColor = [UIColor yellowColor].CGColor;\n        [views addObject:aView];\n    }\n    [self performAllAnimations:views withAnimationExecution:^(id animationObject, int index) {\n        UIView *view = animationObject;\n        view.frame = CGRectMake(75.0*index, 100.0, 100.0, 100.0);\n    }];\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12087762, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mByVRqLZAj0HuGOHefjJS5puJ5hTJKOobnKq-cU9g=k-s128", "display_name": "AK19996", "link": "https://stackoverflow.com/users/12087762/ak19996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58112536, "answer_count": 1, "score": 0, "last_activity_date": 1569563679, "creation_date": 1569482636, "question_id": 58111556, "link": "https://stackoverflow.com/questions/58111556/how-to-make-uianimation-execute-one-at-a-time-iterate-over-for-loop-instead-o", "title": "How to make UIAnimation execute one at a time (iterate over for loop), instead of executing all at once?", "body": "<p>I am currently creating a view controller for an app that helps visualize the Bubble Sort algorithm. However, when the user presses the sort button, instead of the swaps occurring one by one (giving the user some time to see how the algorithm works), the numbers sort all at once and they all go to their respective places all at once. I'm looking to get the UIAnimation to iterate over a for loop and have the elements in swap one by one, instead of all at once.</p>\n\n<p>I have already tried passing a delay as a parameter to the UIView.animate method. All it does is pause the specified amount of time before sorting them all at once (which I do not want).</p>\n\n<pre><code>//IBOutlets for the images (containing numbers) and the sort button\n@IBOutlet weak var sortButton: UIButton!\n\n@IBOutlet weak var firstImage: UIImageView!\n@IBOutlet weak var secondImage: UIImageView!\n@IBOutlet weak var thirdImage: UIImageView!\n@IBOutlet weak var fourthImage: UIImageView!\n@IBOutlet weak var fifthImage: UIImageView!\n@IBOutlet weak var sixthImage: UIImageView!\n@IBOutlet weak var seventhImage: UIImageView!\n@IBOutlet weak var eighthImage: UIImageView!\n@IBOutlet weak var ninthImage: UIImageView!\n@IBOutlet weak var tenthImage: UIImageView!\n\n\n//Create an array of UIImageViews\nvar elements : [UIImageView] = [UIImageView]()\nvar numberArray : [Int] = [Int]()\n\n//Function when the view loads\noverride func viewDidLoad() {\n\n    super.viewDidLoad()\n\n    //Add the UIImageViews to the array\n    elements += [firstImage, secondImage, thirdImage, fourthImage, fifthImage, sixthImage, seventhImage, eighthImage, ninthImage, tenthImage]\n\n    //Create a variable that will indicate whether there is a duplicate number in the array\n    var duplicate = true;\n\n    //Assign each element in the array a random number between 1 and 10\n    for index in elements {\n        //Repeat-while loop to avoid duplicate numbers in the array\n        repeat {\n            //Create a random number\n            let randNumber = Int.random(in: 1 ... 10)\n            //Display the appropriate numbered image\n            index.image = UIImage(named: \"\\(randNumber)\")\n            //Check to see if the number is already a duplicate\n            if numberArray.contains(randNumber) {\n                duplicate = true\n            } else {\n                duplicate = false\n                //Add the number to the list of used numbers in the array\n                numberArray.append(randNumber)\n            }\n        } while duplicate == true\n    }\n} //End of viewDidLoad\n\n\n\n\n@IBAction func sortButtonPressed(_ sender: Any) {\n\n    //Bubble Sort algorithm\n    for i in (0..&lt;elements.count) {\n        for j in (1..&lt;elements.count) {\n            if numberArray[j]&lt;numberArray[j-1] {\n\n                let temp = numberArray[j-1]\n                numberArray[j-1] = numberArray[j]\n                numberArray[j] = temp\n\n                let tempElement = elements[j-1]\n                elements[j-1] = elements[j]\n                elements[j] = tempElement\n\n                //Swap the corresponding UIImageViews on screen\n                let tempView : CGRect = elements[j-1].frame\n\n                UIView.animate(withDuration: 0.75, delay: 0, animations: {\n                    self.elements[j-1].frame = CGRect(x: self.elements[j].frame.minX, y: self.elements[j].frame.minY, width: tempView.width, height: tempView.height)\n                    self.elements[j].frame = CGRect(x: tempView.minX, y: tempView.minY, width: self.elements[j].frame.width, height: self.elements[j].frame.width)\n                    self.view.layoutIfNeeded()\n                })\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Does anyone know how to make the image swaps (animations) happen one by one (for each iteration) instead of all at once? (Area of focus is towards the bottom of the sortButtonPressed function...) Any help would be greatly appreciated. Thanks for the help in advance!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "flutter"], "comments": [{"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "edited": false, "score": 0, "creation_date": 1569481659, "post_id": 58111135, "comment_id": 102612515, "body": "you need that file"}, {"owner": {"reputation": 256, "user_id": 4776988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0348ab28ef9a9fbe694367600f28aaa?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/4776988/amit"}, "reply_to_user": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "edited": false, "score": 0, "creation_date": 1569506150, "post_id": 58111135, "comment_id": 102625712, "body": "Thanks for your answer."}], "owner": {"reputation": 256, "user_id": 4776988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0348ab28ef9a9fbe694367600f28aaa?s=128&d=identicon&r=PG&f=1", "display_name": "amit", "link": "https://stackoverflow.com/users/4776988/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569480996, "creation_date": 1569480996, "question_id": 58111135, "link": "https://stackoverflow.com/questions/58111135/is-it-possible-universal-link-implementation-without-aasa-file-for-under-develop", "title": "Is it possible universal link implementation without AASA file for under development project?", "body": "<p>I am developing a flutter project and got stuck in <strong>universal linking/deep linking</strong>.\nIs it possible in universal linking implementation without AASA file for under development project, only want to open application for now, later when I got app-id will upload AASA.</p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569492411, "post_id": 58109447, "comment_id": 102618149, "body": "You should put parameters in <code>sender</code>"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6048375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xefdI.jpg?s=128&g=1", "display_name": "Jacofki", "link": "https://stackoverflow.com/users/6048375/jacofki"}, "edited": false, "score": 0, "creation_date": 1569473062, "post_id": 58109591, "comment_id": 102609294, "body": "when i declare <code>[self setTitleInfo:title];</code> this error comes No visible @interface for &#39;UIViewController&#39; declares the selector &#39;setTitleInfo:&#39;"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 55, "user_id": 6048375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xefdI.jpg?s=128&g=1", "display_name": "Jacofki", "link": "https://stackoverflow.com/users/6048375/jacofki"}, "edited": false, "score": 0, "creation_date": 1569475255, "post_id": 58109591, "comment_id": 102609932, "body": "You have to create those properties. That\u2019s what I\u2019m saying. You need to set yourself up with a way to pass the info around by using ivars as a drop."}, {"owner": {"reputation": 55, "user_id": 6048375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xefdI.jpg?s=128&g=1", "display_name": "Jacofki", "link": "https://stackoverflow.com/users/6048375/jacofki"}, "edited": false, "score": 0, "creation_date": 1569475655, "post_id": 58109591, "comment_id": 102610075, "body": "Can you be more specific, i am new in xcode and not really know where to declare the ivar. thanks a lot for your time"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 55, "user_id": 6048375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xefdI.jpg?s=128&g=1", "display_name": "Jacofki", "link": "https://stackoverflow.com/users/6048375/jacofki"}, "edited": false, "score": 1, "creation_date": 1569476411, "post_id": 58109591, "comment_id": 102610357, "body": "I\u2019ve written a book that teaches you. <a href=\"http://www.apeth.com/iOSBook/ch05.html#_instance_variables_and_accessors\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch05.html#_instance_variables_and_accessor&zwnj;&#8203;s</a>"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1569472315, "creation_date": 1569472315, "answer_id": 58109591, "question_id": 58109447, "link": "https://stackoverflow.com/questions/58109447/get-method-parameters-on-prepareforsegue/58109591#58109591", "title": "get method parameters on prepareForSegue", "body": "<p>Store the info you need in ivars (properties):</p>\n\n<pre><code>NSLog(@\"%@/%@\", title, specifier.target_id);\n[self setTitleInfo:title];\n[self setSpecifierInfo:specifier];\n[self performSegueWithIdentifier:SEUGE_GO_DELETE sender:self];\n</code></pre>\n\n<p>Then in <code>prepareForSegue</code> you pick them up:</p>\n\n<pre><code>YDDeleteViewController *makeDC = (YDDeleteViewController*)segue.destinationViewController;\n// pick up [self titleInfo] and pass it along to makeDC\n// pick up [self specifierInfo] and pass it along to makeDC\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6048375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xefdI.jpg?s=128&g=1", "display_name": "Jacofki", "link": "https://stackoverflow.com/users/6048375/jacofki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569472315, "creation_date": 1569471064, "last_edit_date": 1569472081, "question_id": 58109447, "link": "https://stackoverflow.com/questions/58109447/get-method-parameters-on-prepareforsegue", "title": "get method parameters on prepareForSegue", "body": "<p>I have a method that gets the data(specifiers and title) from that row and i after segue.</p>\n\n<pre><code>- (void)yd_deleteViewControllerWithTargetTypeSpecifiable:(id&lt;YDTargetTypeSpecifiable&gt;)specifier\n                                                                     title:(NSString *)title\n                                                                   onClose:(void(^)(void))onCloseBlock\n{\n    NSLog(@\"%@/%@\", title, specifier.target_id);\n     [self performSegueWithIdentifier:SEUGE_GO_DELETE sender:self];\n}\n</code></pre>\n\n<p>How can i pass that parameter from prepareForSegue?</p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender\n{\n    if ([[segue identifier] isEqualToString:SEUGE_GO_DELETE]) {\n\n        // Get destination view\n        YDDeleteViewController *makeDC = (YDDeleteViewController*)segue.destinationViewController;\n        // Pass the information to your destination view\n        makeDC.labelname = @\"title\";\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avplayer", "avaudiosession"], "comments": [{"owner": {"reputation": 506, "user_id": 1262685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7460692514c410216ad4262185ae08b4?s=128&d=identicon&r=PG", "display_name": "Arda", "link": "https://stackoverflow.com/users/1262685/arda"}, "edited": false, "score": 0, "creation_date": 1595991109, "post_id": 58109004, "comment_id": 111662426, "body": "Have you been able to solve this issue?"}], "answers": [{"tags": [], "owner": {"reputation": 506, "user_id": 1262685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7460692514c410216ad4262185ae08b4?s=128&d=identicon&r=PG", "display_name": "Arda", "link": "https://stackoverflow.com/users/1262685/arda"}, "is_accepted": false, "score": 1, "last_activity_date": 1596092740, "creation_date": 1596092740, "answer_id": 63167888, "question_id": 58109004, "link": "https://stackoverflow.com/questions/58109004/avaudiosession-category-becomes-nil-and-mediaserviceswerereset-avplayer-playbac/63167888#63167888", "title": "AVAudioSession category becomes nil and mediaServicesWereReset, avplayer playback keeps failing", "body": "<p>I can't answer your first two questions with certainty, but Apple's answer to your last question is as follows:</p>\n<blockquote>\n<p>Upon receiving the <code>AVAudioSessionMediaServicesWereResetNotification</code>\nnotification, applications should:</p>\n<ul>\n<li>Dispose orphaned audio objects and create new audio objects</li>\n<li>Reset any internal audio state being tracked, including all properties of\nAVAudioSession</li>\n<li>When appropriate, reactivate the <code>AVAudioSession</code> using\nthe <code>setActive:error:</code> method</li>\n</ul>\n</blockquote>\n<p>See <a href=\"https://developer.apple.com/library/archive/qa/qa1749/_index.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/qa/qa1749/_index.html</a> for more information on this.</p>\n<p>As for my guesses for your first two questions:</p>\n<ol>\n<li>The problem may not be specific to certain user devices, but may rather be somewhat random. I've been seeing a similar, very rare problem in Apple provided crash logs from customer devices, which I could never reproduce until today. Now I'm finally able to reproduce the problem by simply repeating the normal operations of the app thousands of times in an automatic test. Very rarely, iOS resets the Audio Session Media Services, and causes either the session activation or deactivation to fail. In this case, restarting the Audio Session after some delay seems to solve the problem. (I'm still testing though, as each test takes several hours before I can reproduce the problem).</li>\n<li>Considering Apple's technical note I've linked above doesn't provide any indication that a reset of the Audio Session Media Services could be avoided, I'm guessing there may not be a way to reliably prevent it from happening. The less frequently (or the fewer times) you activate/deactivate the audio session, the less likely it might be for this issue to occur, but eventually it may still occur for some arbitrary users. That's why the right thing to do would be to assume that <code>AVAudioSessionMediaServicesWereResetNotification</code> is sometimes unavoidable, and therefore handle it as outlined above.</li>\n</ol>\n"}], "owner": {"reputation": 31, "user_id": 11123552, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--bRisuLEc1E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfRdwyxCgHtYvu008HNat-xEhAr0g/mo/photo.jpg?sz=128", "display_name": "sam", "link": "https://stackoverflow.com/users/11123552/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1596092740, "creation_date": 1569466940, "question_id": 58109004, "link": "https://stackoverflow.com/questions/58109004/avaudiosession-category-becomes-nil-and-mediaserviceswerereset-avplayer-playbac", "title": "AVAudioSession category becomes nil and mediaServicesWereReset, avplayer playback keeps failing", "body": "<p>Our team have an app to play back m4a resources online using the avplayer. Recently, there are some users complaining the playback is keep failing and we have no idea the reason behind this.</p>\n\n<p>We checked the user log and the <strong>avplayer error log</strong> are as follow (for multiple failed instance):</p>\n\n<ul>\n<li>avPlayer.currentItem.error = Error Domain=AVFoundationErrorDomain Code=-11800 \"The operation could not be completed\" UserInfo={NSLocalizedFailureReason=An unknown error occurred (-16155), NSLocalizedDescription=The operation could not be completed, NSUnderlyingError=0x280e6ef10 {Error Domain=NSOSStatusErrorDomain Code=-16155 \"(null)\"}}</li>\n<li>avPlayer.currentItem.error = Error Domain=AVFoundationErrorDomain Code=-11800 \"The operation could not be completed\" UserInfo={NSLocalizedFailureReason=An unknown error occurred (606068440), NSLocalizedDescription=The operation could not be completed, NSUnderlyingError=0x280e9f8d0 {Error Domain=NSOSStatusErrorDomain Code=606068440 \"(null)\"}}</li>\n<li>avPlayer.currentItem.error = Error Domain=AVFoundationErrorDomain Code=-11800 \"The operation could not be completed\" UserInfo={NSLocalizedFailureReason=An unknown error occurred (1705376704), NSLocalizedDescription=The operation could not be completed, NSUnderlyingError=0x281ec60d0 {Error Domain=NSOSStatusErrorDomain Code=1705376704 \"(null)\"}}</li>\n</ul>\n\n<p><strong>The normal flow for us to start playing: (Work as expected for majority of user)</strong></p>\n\n<ol>\n<li>[[AVAudioSession sharedInstance] setActive:YES error:&amp;activationError];</li>\n<li>call [avplayer play]</li>\n<li>the audio started to play successfully</li>\n</ol>\n\n<p><strong>Failed scenario: (For some users, this scenario keeps happening)</strong></p>\n\n<ol>\n<li>The activation error returns Error Domain=NSOSStatusErrorDomain Code=2003329396 \"(null)\"</li>\n<li>We logged the [AVAudioSession sharedInstance].category becomes empty</li>\n<li>The mediaServicesWereReset notification is received</li>\n<li>the avplayer failed to play and the one of the above avplayer item error is observed</li>\n</ol>\n\n<p>When the user failed once, he cannot play any audio resources in our app and the scenario is keep repeating.</p>\n\n<p><strong>We would like to know:</strong></p>\n\n<ol>\n<li>Why would this occur on certain user devices?</li>\n<li>How to prevent the problem occurs?</li>\n<li>Is there a way to recover from the lost mediaService? so that even if the error occurs once, the user can still play other resources in our app.</li>\n</ol>\n\n<p>We cannot produce the fail scenario by ourselves even we tried the Reset Media Services in developer menu, the behaviour is not exactly the same. Look forward to any help from the community and thanks.</p>\n"}]