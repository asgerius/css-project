[{"tags": ["objective-c", "swift", "notifications"], "answers": [{"comments": [{"owner": {"reputation": 6247, "user_id": 1978471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mIJrw.jpg?s=128&g=1", "display_name": "david72", "link": "https://stackoverflow.com/users/1978471/david72"}, "edited": false, "score": 0, "creation_date": 1567717014, "post_id": 57797329, "comment_id": 102057088, "body": "Thank you. Just a note - you need to enable App Groups capability, then use Shared User Defaults. <a href=\"https://medium.com/ios-os-x-development/shared-user-defaults-in-ios-3f15cd2c9409\" rel=\"nofollow noreferrer\">medium.com/ios-os-x-development/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "is_accepted": true, "score": 1, "last_activity_date": 1567646819, "creation_date": 1567646819, "answer_id": 57797329, "question_id": 57796872, "link": "https://stackoverflow.com/questions/57796872/post-notification-from-objc-to-swift/57797329#57797329", "title": "Post notification from OBJC to Swift", "body": "<p>You app and today extension are run as separate processes on the phone. NSNotificationCenter only works within a single process.</p>\n\n<p>To pass information between your extension and main app, you can use NSUserDefaults or a file in the shared container.</p>\n\n<p>NOTE: If you use above code in same app, it will work perfect.</p>\n"}], "owner": {"reputation": 6247, "user_id": 1978471, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mIJrw.jpg?s=128&g=1", "display_name": "david72", "link": "https://stackoverflow.com/users/1978471/david72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57797329, "answer_count": 1, "score": 1, "last_activity_date": 1567646819, "creation_date": 1567641521, "question_id": 57796872, "link": "https://stackoverflow.com/questions/57796872/post-notification-from-objc-to-swift", "title": "Post notification from OBJC to Swift", "body": "<p>I have an app with objc code, and today extension using swift code.\nHow can I send data from objc to swift. This is my code, and it doesn't work:</p>\n\n<p>OBJC:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] postNotificationName:@\"todayExtensionData\" object:myData];\n</code></pre>\n\n<p>Swift:</p>\n\n<pre><code>...\nNotificationCenter.default.addObserver(self, selector: #selector(self.updateData(notification:)), name: NSNotification.Name(\"todayExtensionData\"), object: nil)\n...\n\n@objc func updateData(notification: Notification){\n    print(notification)\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsarray", "plaintext"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1567618464, "post_id": 57793257, "comment_id": 102019815, "body": "It should be <code>\\n</code> not <code>&#47;n</code>..."}, {"owner": {"reputation": 2987, "user_id": 717452, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/168300852/picture?type=large", "display_name": "user717452", "link": "https://stackoverflow.com/users/717452/user717452"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1567618611, "post_id": 57793257, "comment_id": 102019874, "body": "@l&#39;L&#39;l same result, updated code to reflect the change.  Plus, even when I log the value &#39;string&#39; I only get until the first line break, as though it can&#39;t see anything after a line break."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1567618843, "post_id": 57793257, "comment_id": 102019957, "body": "Maybe try instead using <code>NSCharacterSet *separator = [NSCharacterSet newlineCharacterSet];</code> then  <code>NSArray *listArray = [string componentsSeparatedByCharactersInSet:separator];</code>"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1567618956, "post_id": 57793257, "comment_id": 102020004, "body": "This may be a better approach <a href=\"https://stackoverflow.com/a/16223139/6257435\">stackoverflow.com/a/16223139/6257435</a>"}, {"owner": {"reputation": 2987, "user_id": 717452, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/168300852/picture?type=large", "display_name": "user717452", "link": "https://stackoverflow.com/users/717452/user717452"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1567619141, "post_id": 57793257, "comment_id": 102020077, "body": "@DonMag I did that, and contents came back blank, but the count for the array did show 3072, it&#39;s just not showing the array in NSLog is maybe the issue?  It&#39;s been a pain, I&#39;m just trying to get this text file converted into a PLIST file, where each question and answer choice in the file is a entry in a dict file of the PLIST"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1567619464, "post_id": 57793257, "comment_id": 102020186, "body": "@user717452 - I just did a quick test using the code in the answer I linked to, and it worked fine. Is it possible your <code>.txt</code> file is malformed?"}, {"owner": {"reputation": 2987, "user_id": 717452, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/168300852/picture?type=large", "display_name": "user717452", "link": "https://stackoverflow.com/users/717452/user717452"}, "edited": false, "score": 0, "creation_date": 1567621964, "post_id": 57793257, "comment_id": 102021238, "body": "It seems to be the issue that someone marked with it truncating text, as I can manually pull an objectAtIndex of the array up.....just wish I had been aware of this before debugging for over an hour lol.  SMH oh well"}], "owner": {"reputation": 2987, "user_id": 717452, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/168300852/picture?type=large", "display_name": "user717452", "link": "https://stackoverflow.com/users/717452/user717452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "closed_date": 1567621052, "answer_count": 0, "score": 0, "last_activity_date": 1567618625, "creation_date": 1567618138, "last_edit_date": 1567618625, "question_id": 57793257, "link": "https://stackoverflow.com/questions/57793257/xcode-only-reading-some-of-resource-txt-file", "closed_reason": "Duplicate", "title": "Xcode only reading some of Resource TXT file", "body": "<p>In my iOS app, I have it set to read a .txt file from the resources folder, and create an NSArray from each line of text.  However, when I try this, the NSArray returns empty.</p>\n\n<pre><code>NSString *filepath = [[NSBundle mainBundle] pathForResource:@\"LUKEQUESTIONSPLAINTEXTFILE\" ofType:@\"txt\"];\n    NSData* data = [NSData dataWithContentsOfFile:filepath];\n    NSString* string = [[NSString alloc] initWithBytes:[data bytes]\n                                                length:[data length]\n                                              encoding:NSUTF8StringEncoding];\n\n    NSArray *listArray = [string componentsSeparatedByString:@\"\\n\"];\n    NSLog(@\"HERE IT IS: %@\", listArray);\n</code></pre>\n\n<p>Moreover, if I do a lot for the entire string, it stops after the very first line break. What am I doing wrong? The file is only 214 bytes.</p>\n"}, {"tags": ["objective-c", "react-native"], "comments": [{"owner": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567614316, "post_id": 57792333, "comment_id": 102018120, "body": "can you show your .h file too?"}], "answers": [{"tags": [], "owner": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1567615455, "creation_date": 1567615455, "answer_id": 57792689, "question_id": 57792333, "link": "https://stackoverflow.com/questions/57792333/stream-screen-with-objective-c-react-native/57792689#57792689", "title": "Stream screen with objective-c react-native", "body": "<p>You should probably include at least</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n</code></pre>\n\n<p>in either the .h or .m</p>\n\n<p>If you're still having problems, I'd recommend you look at the structure of some other modules (e.g. RNFetchBlob) to get an idea of what's needed.</p>\n"}], "owner": {"reputation": 8549, "user_id": 1820957, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/085029747a869426729889d401ce319f?s=128&d=identicon&r=PG", "display_name": "Ajouve", "link": "https://stackoverflow.com/users/1820957/ajouve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567615455, "creation_date": 1567613768, "last_edit_date": 1567614869, "question_id": 57792333, "link": "https://stackoverflow.com/questions/57792333/stream-screen-with-objective-c-react-native", "title": "Stream screen with objective-c react-native", "body": "<p>I am building a module into my react native app to stream my screen and then send it to a server via a socket connection.\nThe java par works fine, I am using a method to get a capture of the screen and then send the base64 image to the server.</p>\n\n<p>I do not really know about objective-c, I get a code to take screenshot but it seems some identifiers are not declared, reading the doc about objective-c and react-native I do not know what to import, seems to be automatic.</p>\n\n<p>This is my actual code</p>\n\n<pre><code>#import \"ScreenShare.h\"\n\n@implementation ScreenShare\n\n// To export a module named ScreenShare\nRCT_EXPORT_MODULE();\n\nRCT_REMAP_METHOD(start,\n                 startWithResolver:(RCTPromiseResolveBlock)resolve\n                 rejecter:(RCTPromiseRejectBlock)reject)\n{\n  NSDictionary *result = @{@\"success\": @true};\n\n  UIWindow *keyWindow = [[UIApplication sharedApplication] keyWindow];\n  CGRect rect = [keyWindow bounds];\n  UIGraphicsBeginImageContext(rect.size);\n  CGContextRef context = UIGraphicsGetCurrentContext();\n  [keyWindow.layer renderInContext:context];\n  UIImage *img = UIGraphicsGetImageFromCurrentImageContext();\n  UIGraphicsEndImageContext();\n\n  resolve(result);\n}\n\nRCT_REMAP_METHOD(stop,\n                 stopWithResolver:(RCTPromiseResolveBlock)resolve\n                 rejecter:(RCTPromiseRejectBlock)reject)\n{\n  NSDictionary *result = @{@\"success\": @true};\n  resolve(result);\n}\n\n@end\n</code></pre>\n\n<p>My h file</p>\n\n<pre><code>#import &lt;React/RCTBridgeModule.h&gt;\n\n@interface ScreenShare : NSObject &lt;RCTBridgeModule&gt;\n@end\n</code></pre>\n\n<p>and for example, only on this line <code>UIWindow *keyWindow = [[UIApplication sharedApplication] keyWindow];</code> I have:</p>\n\n<pre><code>Use of undeclared identifier 'keyWindow'\nUse of undeclared identifier 'UIApplication'\nUse of undeclared identifier 'UIWindow'\n</code></pre>\n"}, {"tags": ["objective-c", "firebase", "admob-rewardedvideoad"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 4070627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Scnkv.jpg?s=128&g=1", "display_name": "Elyakim Levi", "link": "https://stackoverflow.com/users/4070627/elyakim-levi"}, "edited": false, "score": 0, "creation_date": 1568024273, "post_id": 57813730, "comment_id": 102130506, "body": "The example you showed looks like a different library than what is used in the official documentation. And you left out the important bit: what does the createAndLoadRewardedAdForUnitId return? How do you get the instance? The official documentation uses this line of code: [[GADRewardBasedVideoAd sharedInstance] loadRequest:[GADRequest request] withAdUnitID:@&quot;ca-app-pub-...&quot;]; and returns void so I don&#39;t have any reference to the ad."}, {"owner": {"reputation": 76, "user_id": 12027717, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zl3NLIw9h68/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcUEaAiYU6hBuSWvpkKl9sKvV9XwA/photo.jpg?sz=128", "display_name": "Dan Dan", "link": "https://stackoverflow.com/users/12027717/dan-dan"}, "reply_to_user": {"reputation": 329, "user_id": 4070627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Scnkv.jpg?s=128&g=1", "display_name": "Elyakim Levi", "link": "https://stackoverflow.com/users/4070627/elyakim-levi"}, "edited": false, "score": 1, "creation_date": 1568085917, "post_id": 57813730, "comment_id": 102152947, "body": "Updated the createAndLoadRewardedAdForUnitId() function, those example was based on google&#39;s new API for rewardedADs, here&#39;s the link: <a href=\"https://developers.google.com/admob/ios/rewarded-ads\" rel=\"nofollow noreferrer\">developers.google.com/admob/ios/rewarded-ads</a>"}, {"owner": {"reputation": 329, "user_id": 4070627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Scnkv.jpg?s=128&g=1", "display_name": "Elyakim Levi", "link": "https://stackoverflow.com/users/4070627/elyakim-levi"}, "edited": false, "score": 0, "creation_date": 1568197895, "post_id": 57813730, "comment_id": 102196257, "body": "This looks promising. It supports multiple ads and returns an instance for each ad, so tracking them is possible. This API is still in beta version so I&#39;m not sure how reliable it is. I&#39;ll accept the answer though :)"}, {"owner": {"reputation": 76, "user_id": 12027717, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zl3NLIw9h68/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcUEaAiYU6hBuSWvpkKl9sKvV9XwA/photo.jpg?sz=128", "display_name": "Dan Dan", "link": "https://stackoverflow.com/users/12027717/dan-dan"}, "reply_to_user": {"reputation": 329, "user_id": 4070627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Scnkv.jpg?s=128&g=1", "display_name": "Elyakim Levi", "link": "https://stackoverflow.com/users/4070627/elyakim-levi"}, "edited": false, "score": 0, "creation_date": 1568438483, "post_id": 57813730, "comment_id": 102282140, "body": "Thanks,  I published my App month ago with this beta API form Admob, <a href=\"https://apps.apple.com/ca/app/room-escape-world-challenge/id1475441218\" rel=\"nofollow noreferrer\">apps.apple.com/ca/app/room-escape-world-challenge/id14754412&zwnj;&#8203;18</a> it works fine. Beside that, as google doc mentioned we can only have one reward AD at same time if using the previous version API."}], "tags": [], "owner": {"reputation": 76, "user_id": 12027717, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zl3NLIw9h68/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcUEaAiYU6hBuSWvpkKl9sKvV9XwA/photo.jpg?sz=128", "display_name": "Dan Dan", "link": "https://stackoverflow.com/users/12027717/dan-dan"}, "is_accepted": true, "score": 1, "last_activity_date": 1568085625, "last_edit_date": 1568085625, "creation_date": 1567722912, "answer_id": 57813730, "question_id": 57792004, "link": "https://stackoverflow.com/questions/57792004/how-to-get-the-ad-unit-id-in-rewarded-video-admob-callbacks-in-objective-c/57813730#57813730", "title": "How to get the Ad Unit ID in Rewarded Video AdMob callbacks in Objective-C", "body": "<p>here:</p>\n\n<pre><code>@implementation GameViewController{\n    GADRewardedAd *gameOverRewardedAd, *extraCoinsRewardedAd;\n}\n\n-(void)viewDidLoad{\n    gameOverRewardedAd = [self createAndLoadRewardedAdForAdUnit:@\"ca-app-pub-YOURID\"];\n    extraCoinsRewardedAd = [self createAndLoadRewardedAdForAdUnit:@\"ca-app-pub-YOURID\"];\n}\n\n\n-(GADRewardedAd *)createAndLoadRewardedAdForAdUnit:(NSString *) adUnitId {\n    GADRewardedAd *rewardedAd = [[GADRewardedAd alloc] initWithAdUnitID:adUnitId];\n    GADRequest *request = [GADRequest request];\n    [rewardedAd loadRequest:request completionHandler:^(GADRequestError * _Nullable error) {\n        if (error) {\n            // Handle ad failed to load case.\n\n        } else {\n            // Ad successfully loaded.\n\n        }\n    }];\n    return rewardedAd;\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>#pragma mark admob reward Ad delegate\n- (void)rewardedAdDidDismiss:(GADRewardedAd *)rewardedAd {\n    //NSLog(@\"rewardedAdDidDismiss:\");\n\n    if (rewardedAd == gameOverRewardedAd) {\n        //do your things here\n    }else if (rewardedAd == extraCoinsRewardedAd){\n\n    }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 329, "user_id": 4070627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Scnkv.jpg?s=128&g=1", "display_name": "Elyakim Levi", "link": "https://stackoverflow.com/users/4070627/elyakim-levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 57813730, "answer_count": 1, "score": 1, "last_activity_date": 1568085625, "creation_date": 1567612402, "question_id": 57792004, "link": "https://stackoverflow.com/questions/57792004/how-to-get-the-ad-unit-id-in-rewarded-video-admob-callbacks-in-objective-c", "title": "How to get the Ad Unit ID in Rewarded Video AdMob callbacks in Objective-C", "body": "<p>We're developing an iOS app in objective-C and we've decided to add Firebase in our app. We also decided to add the GoogleMobileAds framework that comes with it in order to have Rewarded Video Ads.</p>\n\n<p>I've implemented AdMob as detailed in the official guide but I can't figure out how to get the ad unit ID in each of the callbacks.\nThe only parameter I have is of type GADRewardBasedVideoAd and it doesn't seem to have any accessible data that provide the ad ID.</p>\n\n<p>Here's one of the callbacks:</p>\n\n<pre><code>- (void)rewardBasedVideoAdDidOpen:(GADRewardBasedVideoAd *)rewardBasedVideoAd\n{\n    NSLog(@\"Opened reward based video ad.\");\n}\n</code></pre>\n\n<p>I need the ad ID because we're using several ads in our app and I need to know which one is ready/opened/completed/failed/etc.</p>\n\n<p>I tried to use rewardBasedVideoAd.adMetadata[@\"AdId\"] but it returns nil.</p>\n\n<p>Any help would be appreciated.\nThanks</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "intellisense", "code-completion"], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 419768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d73b4ca9f2798756bc9815f78656ea?s=128&d=identicon&r=PG", "display_name": "Joel Murphy", "link": "https://stackoverflow.com/users/419768/joel-murphy"}, "is_accepted": true, "score": 1, "last_activity_date": 1568037091, "creation_date": 1568037091, "answer_id": 57855410, "question_id": 57790788, "link": "https://stackoverflow.com/questions/57790788/xcode-10-xcode-11-code-completion-shows-all-objects-as-int/57855410#57855410", "title": "Xcode 10 &amp; Xcode 11 Code Completion shows all objects as &quot;int *&quot;", "body": "<p>This ended up being related to a non-portable path in an import, which was breaking Intellisense. My team has a large project with several other projects included as libraries. The main project would include one of them with:</p>\n\n<pre><code>#import \"LibraryName/LibraryName.h\"\n</code></pre>\n\n<p>In one instance, the library project was also performing this same import. I fixed this by having the library import the specific headers it needed from itself.</p>\n\n<pre><code>#import \"LibraryComponent.h\"\n#import \"NSString+LibraryCategory.h\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 692, "user_id": 3264580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4hRda.jpg?s=128&g=1", "display_name": "Sandesh Mankar", "link": "https://stackoverflow.com/users/3264580/sandesh-mankar"}, "edited": false, "score": 0, "creation_date": 1587956475, "post_id": 61450947, "comment_id": 108704447, "body": "its Works! Thanks."}], "tags": [], "owner": {"reputation": 798, "user_id": 4748176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HS7Ph.png?s=128&g=1", "display_name": "Mohammad Kamran Usmani", "link": "https://stackoverflow.com/users/4748176/mohammad-kamran-usmani"}, "is_accepted": false, "score": 3, "last_activity_date": 1587955598, "creation_date": 1587955598, "answer_id": 61450947, "question_id": 57790788, "link": "https://stackoverflow.com/questions/57790788/xcode-10-xcode-11-code-completion-shows-all-objects-as-int/61450947#61450947", "title": "Xcode 10 &amp; Xcode 11 Code Completion shows all objects as &quot;int *&quot;", "body": "<p>I am also having same problem, autocomplete is not working in my project. I have gone through following steps. And it worked</p>\n\n<ol>\n<li>Open your file/class in xcode and  <code>#import Foundation</code> frameworks</li>\n<li><p>Open up build phases of your project in xcode. Add Foundation\nframework</p>\n\n<p><a href=\"https://i.stack.imgur.com/d7aBr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7aBr.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>Now go to your project folder from finder right click on your\n.xcodeproj file.Choose </p>\n\n<blockquote>\n  <p>Show Package Contents<a href=\"https://i.stack.imgur.com/Ifzor.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ifzor.png\" alt=\"enter image description here\"></a></p>\n</blockquote></li>\n<li><p>Now choose select </p>\n\n<blockquote>\n  <p>xcuserdata</p>\n</blockquote>\n\n<p>and delete the folder inside xcuserdata</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/svtVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/svtVa.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"5\">\n<li>After deleting folder in above screenshot. Build your project and\nrun. It will now work with autocomplete.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15034839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da213ab0e85df6f7d5e57957046d3f37?s=128&d=identicon&r=PG&f=1", "display_name": "Subhag Khan", "link": "https://stackoverflow.com/users/15034839/subhag-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1613458846, "creation_date": 1613458846, "answer_id": 66219948, "question_id": 57790788, "link": "https://stackoverflow.com/questions/57790788/xcode-10-xcode-11-code-completion-shows-all-objects-as-int/66219948#66219948", "title": "Xcode 10 &amp; Xcode 11 Code Completion shows all objects as &quot;int *&quot;", "body": "<p>Must try this its really work for Auto Completion and for the syntax color which get all white.</p>\n<ol>\n<li>First of all in your class ( import Foundation ).</li>\n<li>Click on the name of your project and go to build phase.</li>\n<li>Now go to the libaries and add Foundation.framework by click on the + sign you will get the option.</li>\n<li>Now go to your project folder and right click on workspace file and select Show pakage Contant.</li>\n<li>right click on Xcuser and delete the file in it.</li>\n<li>Now clean build the project and quit the Xcode.</li>\n</ol>\n<blockquote>\n<blockquote>\n<p>Now run the project and it will work &lt;&lt; :)</p>\n</blockquote>\n</blockquote>\n"}], "owner": {"reputation": 805, "user_id": 419768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d73b4ca9f2798756bc9815f78656ea?s=128&d=identicon&r=PG", "display_name": "Joel Murphy", "link": "https://stackoverflow.com/users/419768/joel-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 57855410, "answer_count": 3, "score": 3, "last_activity_date": 1613458846, "creation_date": 1567608004, "question_id": 57790788, "link": "https://stackoverflow.com/questions/57790788/xcode-10-xcode-11-code-completion-shows-all-objects-as-int", "title": "Xcode 10 &amp; Xcode 11 Code Completion shows all objects as &quot;int *&quot;", "body": "<p>I'm having a problem where autocomplete simply doesn't show up. For example, if I try accessing a window's <code>rootViewController</code>, the Intellisense view doesn't even appear. If I press Control-Space, all that appears is a tiny view which reads, \"No Completions.\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/sg4E2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sg4E2.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the previous symbol, in this example, the <code>window</code> property on my object, Intellisense appears, but it identifies the property as being of type <code>int *</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/T9UTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T9UTK.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have done all of the obvious things (perform a clean, clear derived data, restart Xcode, reboot device) but the issue persists.</p>\n\n<p>I've found several pages (both StackOverflow and articles elsewhere) about similar, though not identical, issues and have yet to come up with a solution.</p>\n\n<p>How can I get autocomplete working again?</p>\n"}, {"tags": ["objective-c", "enums"], "comments": [{"owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1567601914, "post_id": 57788738, "comment_id": 102011067, "body": "For now\u2014I&#39;ve solved it by initalizing an NSNumber from the int and including that in the dictionary as pert this: <a href=\"https://stackoverflow.com/questions/17263081/enum-with-nsnumber\">stackoverflow.com/questions/17263081/enum-with-nsnumber</a>"}, {"owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1567602039, "post_id": 57788738, "comment_id": 102011133, "body": "@Willeke \u2014 yes, this these questions are very similar and I basically used the same method as a solution :) \u2014 voted to close :)"}], "owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1567602153, "answer_count": 0, "score": 0, "last_activity_date": 1567601565, "creation_date": 1567601263, "last_edit_date": 1567601565, "question_id": 57788738, "link": "https://stackoverflow.com/questions/57788738/how-to-embed-an-objective-c-enum-in-nsnotification-center", "closed_reason": "Duplicate", "title": "How to embed an Objective-C enum in NSNotification center?", "body": "<p>I'm trying to post an NSNotification and I want to embed an enum in <code>UserInfo</code> so that I can manage the request.</p>\n\n<p><strong>This is my code right now:</strong></p>\n\n<pre><code>ActiveMode requestedMode  = CommandMode;\n\nNSDictionary *dict = @{@\"requestedMode\": requestedMode}:\n\n[[NSNotificationCenter defaultCenter]\n     postNotificationName:RequestModeChangeNotification\n     object:self\n     userInfo:NULL];\n</code></pre>\n\n<p><strong>And this is the error I'm getting:</strong></p>\n\n<pre><code>Collection element of type 'ActiveMode' (aka 'enum ActiveMode') \nis not an Objective-C object\n</code></pre>\n\n<p><strong>Originally\u2014I understood this to be a C-Type error because my enum was declared as so:</strong></p>\n\n<pre><code>//typedef enum ActiveMode {\n// CommandMode = 1\n// } ActiveMode;\n</code></pre>\n\n<p><strong>But after I switched to using an NSInteger like so:</strong></p>\n\n<pre><code> typedef NS_ENUM(NSInteger, ActiveMode) {\n     CommandMode = 1\n };\n</code></pre>\n\n<p>I'm still getting the same error\u2014and a switch to NSNumber...like so...</p>\n\n<pre><code> typedef NS_ENUM(NSNumber,ActionStatus) {\n</code></pre>\n\n<p>dosen't work.</p>\n\n<p>What am I doing wrong?!</p>\n"}, {"tags": ["ios", "objective-c", "uibezierpath", "curve"], "comments": [{"owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1567600805, "post_id": 57788503, "comment_id": 102010470, "body": "You are doing it correctly. But instead of rounded rect path, try with a plain path and adding a curve to it. <a href=\"https://developer.apple.com/documentation/uikit/uibezierpath/1624357-addcurve\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/uibezierpath/&hellip;</a>"}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "reply_to_user": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1567601359, "post_id": 57788503, "comment_id": 102010758, "body": "Sir. I don&#39;t know how to do it. Please help me. Thanks in advance."}], "answers": [{"comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "reply_to_user": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "edited": false, "score": 0, "creation_date": 1567605796, "post_id": 57789425, "comment_id": 102013411, "body": "@KannanSrinivas - this is just a &quot;starting point&quot; ... You would want to make the curve starting Y point a variable (or a percentage), instead of the hard-coded <code>80.0</code> that I used for this example."}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "edited": false, "score": 0, "creation_date": 1567606765, "post_id": 57789425, "comment_id": 102013919, "body": "ya ok bro. i can try to change the value 80.0 and check it."}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": true, "score": 3, "last_activity_date": 1567605791, "last_edit_date": 1567605791, "creation_date": 1567603593, "answer_id": 57789425, "question_id": 57788503, "link": "https://stackoverflow.com/questions/57788503/how-can-i-draw-a-bottom-curve-of-the-uiview-using-uibezierpath/57789425#57789425", "title": "How can i draw a bottom curve of the uiview using uibezierpath?", "body": "<p>This should help you get going...</p>\n\n<p><a href=\"https://i.stack.imgur.com/sbb6B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sbb6B.png\" alt=\"enter image description here\"></a></p>\n\n<p>With a <code>UIBezierPath</code>:</p>\n\n<ul>\n<li>move to point <code>A</code></li>\n<li>add quad curve to point <code>B</code> with control point <code>C</code></li>\n<li>add line to point <code>D</code></li>\n<li>add line to point <code>E</code></li>\n<li>close the path</li>\n</ul>\n\n<p>Here's a simple <code>UIView</code> subclass:</p>\n\n<pre><code>@implementation BottomCurveView\n\n- (void)layoutSubviews {\n    [super layoutSubviews];\n\n    CGRect rect = self.bounds;\n    CGFloat y = rect.size.height - 80.0;\n    CGFloat curveTo = rect.size.height;\n\n    UIBezierPath *myBez = [UIBezierPath new];\n    [myBez moveToPoint:CGPointMake(0.0, y)];\n    [myBez addQuadCurveToPoint:CGPointMake(rect.size.width, y) controlPoint:CGPointMake(rect.size.width / 2.0, curveTo)];\n    [myBez addLineToPoint:CGPointMake(rect.size.width, 0.0)];\n    [myBez addLineToPoint:CGPointMake(0.0, 0.0)];\n    [myBez closePath];\n\n    CAShapeLayer *maskForPath = [CAShapeLayer new];\n    maskForPath.path = myBez.CGPath;\n    [self.layer setMask:maskForPath];\n}\n\n@end\n</code></pre>\n\n<p>That produces the above image for a 200-pt tall view.</p>\n"}], "owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 57789425, "answer_count": 1, "score": 2, "last_activity_date": 1567605791, "creation_date": 1567600418, "question_id": 57788503, "link": "https://stackoverflow.com/questions/57788503/how-can-i-draw-a-bottom-curve-of-the-uiview-using-uibezierpath", "title": "How can i draw a bottom curve of the uiview using uibezierpath?", "body": "<p>I'm tried to draw a bottom curve on UIimageview using uibezierpath. I don't know how to do that?</p>\n\n<pre><code>    - (void)setMaskTo:(UIView*)view byRoundingCorners: \n   (UIRectCorner)corners\n   {\n      UIBezierPath *rounded = [UIBezierPath \n      bezierPathWithRoundedRect:view.bounds\n\n      byRoundingCorners:corners\n\n      cornerRadii:CGSizeMake(200.0, 200.0)];\n      CAShapeLayer *shape = [[CAShapeLayer alloc] init];\n      [shape setPath:rounded.CGPath];\n      view.layer.mask = shape;\n    }\n</code></pre>\n\n<p>i already tried like this <a href=\"https://imgur.com/a/WKykdyU\" rel=\"nofollow noreferrer\">https://imgur.com/a/WKykdyU</a></p>\n\n<p>I expect the output of <a href=\"https://imgur.com/a/BqETMlc\" rel=\"nofollow noreferrer\">https://imgur.com/a/BqETMlc</a></p>\n"}, {"tags": ["objective-c", "xcode", "cordova"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4902924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81fea1ef5846bad4648d611f6084e968?s=128&d=identicon&r=PG&f=1", "display_name": "\uc624\ud604\uc7ac", "link": "https://stackoverflow.com/users/4902924/%ec%98%a4%ed%98%84%ec%9e%ac"}, "edited": false, "score": 0, "creation_date": 1567652329, "post_id": 57788108, "comment_id": 102028422, "body": "This is not native code...  This is JavaScript code  I want objective-c code"}, {"owner": {"reputation": 1080, "user_id": 1329816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iJmbU.png?s=128&g=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/1329816/bmw"}, "reply_to_user": {"reputation": 1, "user_id": 4902924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81fea1ef5846bad4648d611f6084e968?s=128&d=identicon&r=PG&f=1", "display_name": "\uc624\ud604\uc7ac", "link": "https://stackoverflow.com/users/4902924/%ec%98%a4%ed%98%84%ec%9e%ac"}, "edited": false, "score": 0, "creation_date": 1567666641, "post_id": 57788108, "comment_id": 102032221, "body": "you can execute JS with evaluateJavascript  function, please look at : <a href=\"https://stackoverflow.com/questions/46082813/ios-objective-c-localstore-in-wkwebview\" title=\"ios objective c localstore in wkwebview\">stackoverflow.com/questions/46082813/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1080, "user_id": 1329816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iJmbU.png?s=128&g=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/1329816/bmw"}, "is_accepted": false, "score": 0, "last_activity_date": 1567599502, "last_edit_date": 1567599502, "creation_date": 1567598987, "answer_id": 57788108, "question_id": 57787553, "link": "https://stackoverflow.com/questions/57787553/how-do-i-get-html5-localstorage-data-to-the-native-code-by-cordova-on-ios/57788108#57788108", "title": "How do I get HTML5 localstorage data to the native code by cordova on ios?", "body": "<p>yes it works on ios in javascript, to get the value :</p>\n\n<pre><code>window.localStorage.getItem(\"test\"); \n</code></pre>\n\n<p>more from cordova docs <a href=\"https://cordova.apache.org/docs/fr/latest/cordova/storage/localstorage/localstorage.html\" rel=\"nofollow noreferrer\">https://cordova.apache.org/docs/fr/latest/cordova/storage/localstorage/localstorage.html</a> :</p>\n\n<pre><code>   document.addEventListener(\"deviceready\", onDeviceReady, false);\n\n    // device APIs are available\n    //\n    function onDeviceReady() {\n        window.localStorage.setItem(\"key\", \"value\");\n        var keyname = window.localStorage.key(i);\n        // keyname is now equal to \"key\"\n        var value = window.localStorage.getItem(\"key\");\n        // value is now equal to \"value\"\n        window.localStorage.removeItem(\"key\");\n        window.localStorage.setItem(\"key2\", \"value2\");\n        window.localStorage.clear();\n        // localStorage is now empty\n    }\n</code></pre>\n\n<p>to read :</p>\n\n<p><a href=\"https://github.com/react-native-community/react-native-webview/issues/73\" rel=\"nofollow noreferrer\">https://github.com/react-native-community/react-native-webview/issues/73</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/42622192/how-to-set-the-local-storage-before-a-uiwebview-loading-its-initial-request\">How to set the local storage before a UIWebView loading its initial request?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4902924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81fea1ef5846bad4648d611f6084e968?s=128&d=identicon&r=PG&f=1", "display_name": "\uc624\ud604\uc7ac", "link": "https://stackoverflow.com/users/4902924/%ec%98%a4%ed%98%84%ec%9e%ac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567599502, "creation_date": 1567596967, "last_edit_date": 1567598856, "question_id": 57787553, "link": "https://stackoverflow.com/questions/57787553/how-do-i-get-html5-localstorage-data-to-the-native-code-by-cordova-on-ios", "title": "How do I get HTML5 localstorage data to the native code by cordova on ios?", "body": "<p>I'm developing an app using CORDOVA and I am using localstorage in javascript</p>\n\n<p>Can I use Cordova to access local storage in webview directly?</p>\n\n<p>I looked at the documentation on the <a href=\"https://cordova.apache.org/docs/en/latest/\" rel=\"nofollow noreferrer\">https://cordova.apache.org/docs/en/latest/</a>  but couldn't find it.</p>\n\n<hr>\n\n<p>Javascript code -</p>\n\n<pre><code> window.localStorage.setItem(\"test\", \"hello World\");\n</code></pre>\n\n<p>ios native code - \n  I want  </p>\n\n<pre><code>       &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; get(\"test\");\n</code></pre>\n"}, {"tags": ["ios", "arrays", "objective-c", "swift", "type-conversion"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 1, "creation_date": 1567590839, "post_id": 57785845, "comment_id": 102005237, "body": "you have a dictionary inside not a string, how do you want to pass that as string?"}, {"owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1567591252, "post_id": 57785845, "comment_id": 102005527, "body": "i just want the swift view controller to read the array"}, {"owner": {"reputation": 5335, "user_id": 6920962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e62cd73355fc90d37429f9443df38da?s=128&d=identicon&r=PG&f=1", "display_name": "user28434", "link": "https://stackoverflow.com/users/6920962/user28434"}, "edited": false, "score": 0, "creation_date": 1567591418, "post_id": 57785845, "comment_id": 102005623, "body": "<code>as NSArray as! [String]</code> \u2014 why?"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1567591518, "post_id": 57785845, "comment_id": 102005674, "body": "you need to know what you have in that array or even if it is an array before swift can read it like that"}, {"owner": {"reputation": 583, "user_id": 11851754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cAOOD_XCg_s/AAAAAAAAAAI/AAAAAAAAJMM/fNvXqhrMJsw/photo.jpg?sz=128", "display_name": "Komal Goyani", "link": "https://stackoverflow.com/users/11851754/komal-goyani"}, "edited": false, "score": 0, "creation_date": 1567593540, "post_id": 57785845, "comment_id": 102006659, "body": "You have an Array of Dictionary ([NSDictionary]) not [String]."}, {"owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "edited": false, "score": 0, "creation_date": 1567593594, "post_id": 57785845, "comment_id": 102006682, "body": "yes and i need to read it in swift"}, {"owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "edited": false, "score": 0, "creation_date": 1567594790, "post_id": 57785845, "comment_id": 102007323, "body": "it&#39;s actually an NSMutableArray that countaints arrays of NSDictionary"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 8330832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0895403ce1f9af9e993fa5550149c645?s=128&d=identicon&r=PG&f=1", "display_name": "Pal Singh Anand", "link": "https://stackoverflow.com/users/8330832/pal-singh-anand"}, "reply_to_user": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "edited": false, "score": 0, "creation_date": 1567660130, "post_id": 57786076, "comment_id": 102030047, "body": "I have edited my answer. please check may be it helps."}], "tags": [], "owner": {"reputation": 83, "user_id": 8330832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0895403ce1f9af9e993fa5550149c645?s=128&d=identicon&r=PG&f=1", "display_name": "Pal Singh Anand", "link": "https://stackoverflow.com/users/8330832/pal-singh-anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1567660094, "last_edit_date": 1567660094, "creation_date": 1567591386, "answer_id": 57786076, "question_id": 57785845, "link": "https://stackoverflow.com/questions/57785845/nsarray-element-failed-to-match-the-swift-array-element-type-expected-nsmutablea/57786076#57786076", "title": "NSArray element failed to match the Swift Array Element type Expected NSMutableArray but found __NSDictionaryI:", "body": "<p>Try with this.</p>\n\n<pre><code>if let swiftArray = objCMutableArray.mutableCopy() as? Array&lt;Dictionary&lt;String, AnyObject&gt;&gt; {\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1567762574, "post_id": 57792438, "comment_id": 102069156, "body": "Why? It&#39;s not a viable solution."}, {"owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1567775172, "post_id": 57792438, "comment_id": 102075279, "body": "that&#39;s the solution that i have found, if you have the alternative then go on"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1568026960, "post_id": 57792438, "comment_id": 102131702, "body": "According to your previous code: <code>var swiftArray = objCMutableArray as NSArray as! [String]</code>=&gt; <code>var swiftArray = objCMutableArray as! [[String:AnyObject]]</code>?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "is_accepted": true, "score": 0, "last_activity_date": 1567614258, "creation_date": 1567614258, "answer_id": 57792438, "question_id": 57785845, "link": "https://stackoverflow.com/questions/57785845/nsarray-element-failed-to-match-the-swift-array-element-type-expected-nsmutablea/57792438#57792438", "title": "NSArray element failed to match the Swift Array Element type Expected NSMutableArray but found __NSDictionaryI:", "body": "<p>The solution i found is when i pass the array i convert it to NSData so the swift can read it using the following code:</p>\n\n<pre><code>NSData *data1 = [NSKeyedArchiver archivedDataWithRootObject:self.mSelectedBills];\n</code></pre>\n\n<p>and then in the swift ViewController i use this code to read it:</p>\n\n<pre><code>@objc func setSelectedBillsData(selectedBillsData: NSData) {\n    self.mData = selectedBillsData\n    do {\n        if let loadedStrings = try NSKeyedUnarchiver.unarchiveObject(with: selectedBillsData as Data) as? [[String:AnyObject]] {\n            print(loadedStrings)\n        }\n    } catch {\n        print(\"erreur.\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10076745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ee02d226ed551920f8ce89bb1358c6?s=128&d=identicon&r=PG&f=1", "display_name": "OrajokNor", "link": "https://stackoverflow.com/users/10076745/orajoknor"}, "is_accepted": false, "score": 0, "last_activity_date": 1567867060, "last_edit_date": 1567867060, "creation_date": 1567866420, "answer_id": 57834600, "question_id": 57785845, "link": "https://stackoverflow.com/questions/57785845/nsarray-element-failed-to-match-the-swift-array-element-type-expected-nsmutablea/57834600#57834600", "title": "NSArray element failed to match the Swift Array Element type Expected NSMutableArray but found __NSDictionaryI:", "body": "<p>It should work</p>\n\n<pre><code>if let swiftArray = objCMutableArray as? [[String:AnyObject]]{\n    print(swiftArray)\n}\n</code></pre>\n\n<p>It was the type matching problem of the NSmutableArray elements when casting to the array of string. It should be array of dictionary.   </p>\n"}], "owner": {"reputation": 1, "user_id": 9091360, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211244022119721/picture?type=large", "display_name": "Anis Helaoui", "link": "https://stackoverflow.com/users/9091360/anis-helaoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 57792438, "answer_count": 3, "score": 0, "last_activity_date": 1567867060, "creation_date": 1567590661, "last_edit_date": 1592644375, "question_id": 57785845, "link": "https://stackoverflow.com/questions/57785845/nsarray-element-failed-to-match-the-swift-array-element-type-expected-nsmutablea", "title": "NSArray element failed to match the Swift Array Element type Expected NSMutableArray but found __NSDictionaryI:", "body": "<p>I'm trying to pass an <code>NSMutableArray</code> from an Objective-C ViewController to a Swift ViewController, the problem is that the Swift ViewController can't understand the <code>NSMutableArray</code> type and he gives me this error when i try to access the array in Swift i get this error:</p>\n<blockquote>\n<p>Precondition failed:</p>\n<p>NSArray element failed to match the Swift Array Element type</p>\n<p>Expected NSMutableArray but found __NSDictionaryI</p>\n</blockquote>\n<p>I tried multiple solutions like converting the <code>NSMutableArray</code> to a Swift String array with this following code :</p>\n<pre><code>var swiftArray = objCMutableArray as NSArray as! [String]\n</code></pre>\n<p>or this:</p>\n<pre><code>let swiftArray: [String] = mutableArray.flatMap { $0 as? String }\n</code></pre>\n<p>but it always gaves me this error:</p>\n<blockquote>\n<p>Could not cast value of type '__NSDictionaryI' (0x1083bdcf8) to 'NSString'</p>\n</blockquote>\n"}, {"tags": ["objective-c"], "owner": {"reputation": 21, "user_id": 10346616, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nZTsapRHrhw/AAAAAAAAAAI/AAAAAAAAABI/JJb6fFqCYuI/photo.jpg?sz=128", "display_name": "dong wu", "link": "https://stackoverflow.com/users/10346616/dong-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1567585494, "creation_date": 1567585494, "question_id": 57784368, "link": "https://stackoverflow.com/questions/57784368/whats-the-crash-resson-nsfilehandle-fd-monitoring", "title": "what&#39;s the crash resson NSfileHandle.fd_monitoring?", "body": "<p>I have encountered some problems\uff1a Crashed:: Dispatch queue: com.apple.NSFileHandle.fd_monitoring</p>\n\n<pre><code>Thread 15 Crashed:: Dispatch queue: com.apple.NSFileHandle.fd_monitoring\n0   libsystem_kernel.dylib          0x00007fff7ddf32c6 __pthread_kill + 10\n1   libsystem_pthread.dylib         0x00007fff7deaebf1 pthread_kill + 284\n2   libsystem_c.dylib               0x00007fff7dd5d6a6 abort + 127\n3   net.hockeyapp.sdk.mac           0x000000010b3ba1bc uncaught_exception_handler + 59\n4   com.apple.CoreFoundation        0x00007fff51e912e9 __handleUncaughtException + 775\n5   libobjc.A.dylib                 0x00007fff7c4ecedd _objc_terminate() + 91\n6   net.hockeyapp.sdk.mac           0x000000010b39c3ea BITCrashUncaughtCXXTerminateHandler() + 4074\n7   libc++abi.dylib                 0x00007fff7af4519e std::__terminate(void (*)()) + 8\n8   libc++abi.dylib                 0x00007fff7af45213 std::terminate() + 51\n9   libdispatch.dylib               0x00007fff7dc6b651 _dispatch_client_callout + 28\n10  libdispatch.dylib               0x00007fff7dc6dde6 _dispatch_continuation_pop + 414\n11  libdispatch.dylib               0x00007fff7dc7cf42 _dispatch_source_invoke + 2056\n12  libdispatch.dylib               0x00007fff7dc71792 _dispatch_lane_serial_drain + 268\n13  libdispatch.dylib               0x00007fff7dc72396 _dispatch_lane_invoke + 385\n14  libdispatch.dylib               0x00007fff7dc7a6ed _dispatch_workloop_worker_thread + 598\n15  libsystem_pthread.dylib         0x00007fff7deab611 _pthread_wqthread + 421\n16  libsystem_pthread.dylib         0x00007fff7deab3fd start_wqthread + 13\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "white-labelling"], "comments": [{"owner": {"reputation": 1704, "user_id": 6533855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToY04.png?s=128&g=1", "display_name": "excitedmicrobe", "link": "https://stackoverflow.com/users/6533855/excitedmicrobe"}, "edited": false, "score": 1, "creation_date": 1567585394, "post_id": 57784257, "comment_id": 102002237, "body": "Use custom classes, structs and use it across every view."}], "answers": [{"tags": [], "owner": {"reputation": 9847, "user_id": 656600, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3aseC.png?s=128&g=1", "display_name": "rptwsthi", "link": "https://stackoverflow.com/users/656600/rptwsthi"}, "is_accepted": false, "score": 1, "last_activity_date": 1567585968, "creation_date": 1567585968, "answer_id": 57784508, "question_id": 57784257, "link": "https://stackoverflow.com/questions/57784257/white-label-fonts-in-ios-application/57784508#57784508", "title": "White label fonts in iOS application", "body": "<p>What I normally do in these cases is, create a <code>extension</code> for <code>Font</code> class have a look:</p>\n\n<pre><code>extension UIFont {\n    open class func boldAppFont(ofSize size:CGFloat) -&gt; UIFont {\n        guard let f = UIFont(name: KTheme.FontName.bold, size: size)\n        else {\n            return UIFont.boldSystemFont(ofSize: size)\n        }\n        return f\n    }\n\n    open class func blackAppFont(ofSize size:CGFloat) -&gt; UIFont {\n        guard let f = UIFont(name: KTheme.FontName.black, size: size)\n            else {\n                return UIFont.boldSystemFont(ofSize: size)\n        }\n        return f\n    }\n}\n</code></pre>\n\n<p>Now you can change <code>KTheme.FontName.bold</code> to your font name and pass that in your request. Just make sure to set the font for each component using this function.</p>\n\n<p>You can also use <a href=\"https://developer.apple.com/documentation/uikit/uiappearance\" rel=\"nofollow noreferrer\"><code>appearance</code></a> to make a global effect.</p>\n\n<p>Now lets come to the next problem. You can only supply a limited amount of font inside your application. As in order to use a custom font your application <code>info.plist</code> must be aware of those fonts. What I will suggest in that case bundle set of fonts and ask the user to choose among those. While he selects the custom font.</p>\n"}], "owner": {"reputation": 1098, "user_id": 7606400, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/SdaHX.jpg?s=128&g=1", "display_name": "Tornike Gomareli", "link": "https://stackoverflow.com/users/7606400/tornike-gomareli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1567589041, "answer_count": 1, "score": -3, "last_activity_date": 1567585968, "creation_date": 1567585100, "question_id": 57784257, "link": "https://stackoverflow.com/questions/57784257/white-label-fonts-in-ios-application", "closed_reason": "Needs more focus", "title": "White label fonts in iOS application", "body": "<p>My task is to white label iOS application.</p>\n\n<p>I've done a lot of things for Assets and for Info.plist, I just left to manage a white-label solution for the <strong>fonts</strong>.</p>\n\n<p>For example, Every customer wants to have their fonts for titles. So I got in my mind some solutions.</p>\n\n<blockquote>\n  <p>1) There will be some Config files we can write customers fonts in the\n  config file and when Application will run I will read font from that\n  config file and apply them but didn't know how to to that on every\n  screen dynamically.</p>\n  \n  <p>2) Create some base ViewController class and apply here fonts, then\n  every viewController class will be the child of that base class and\n  apply view controllers specific title fonts to my base fonts.</p>\n</blockquote>\n\n<p>I don't know if those solutions are good and the reason for this question is to get some advice and some better solutions. </p>\n\n<p>Maybe someone is more experienced than me and maybe someone has a better idea than me. Every single advice and help will be very valuable for me.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["objective-c", "enums", "state", "state-machine"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1567574458, "post_id": 57781228, "comment_id": 101997762, "body": "What is the question?"}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1567604242, "post_id": 57781228, "comment_id": 102012436, "body": "@Willeke Is this a clean and proper implementation of a state machine? Although my use case is quite simple, other implementations were more complex and abstract."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1567622542, "post_id": 57781228, "comment_id": 102021481, "body": "See <a href=\"https://meta.stackexchange.com/questions/90362/where-can-i-post-code-for-others-to-review\">Where can I post code for others to review?</a>"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1567584471, "creation_date": 1567568820, "last_edit_date": 1567584471, "question_id": 57781228, "link": "https://stackoverflow.com/questions/57781228/state-machine-to-handle-sequential-and-async-events", "title": "State machine to handle sequential and async events", "body": "<p>I created this <code>state machine</code> to handle events. I'm unsure about my implementation <strong>firstly</strong> because I don't use a transition table or anything like that, instead, I simply input the next event/state that needs to happen. I think this is cleaner than calling method to handle <code>event b</code> inside the method to handle <code>event a</code>, right? </p>\n\n<p><strong>Secondarily</strong>, since some of the methods have parameters - and this is not <code>swift</code> where enum members can have associated values, I added a param for that via <code>withObj</code> argument. I don't see a problem with this but want to know if this is confusing/violating something from your perspective.</p>\n\n<p><strong>I also found this useful for async task</strong>, so after the task completes I set resulting value to a local variable then update state to <code>packData</code> using that stored value amongst many other values already existing. This value is packed in a byte array which cannot be used in blocks so this was a useful workaround - although I haven't tested yet.  </p>\n\n<p>States are defined via <code>enum</code> like so: </p>\n\n<pre><code>typedef NS_ENUM(NSUInteger, ExampleState) {\n    ExampleStateIdle,\n    ExampleStateWaitingForAsyncTask,\n    ExampleStateReadyToPack,\n    ExampleStateRespond,\n    ExampleStateSomethingInProgress,\n    ExampleStateSomething2InProgress,\n    ExampleStateComplete\n};\n</code></pre>\n\n<p>Here I define a method to handle each event using helper methods. <strong>I also have an extra argument for any state that might have an <code>associated value</code></strong>. </p>\n\n<pre><code>- (void)updateState:(ExampleState)state withObj:(id)obj  {\n\n    self.currentState = state;\n\n    switch (state) {\n        case ExampleStateWaitingForAsyncTask:\n            [self getAsyncInfo];\n            break;\n        case ExampleStateReadyToPack:\n            [self packData];\n            break;\n        case ExampleStateRespond:\n            [self respond:obj];\n            break;\n        case ExampleStateComplete:\n            [self showPopup];\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<p>Example usage: </p>\n\n<pre><code>-(void)packData {\n    NSData *data = [NSData dataWithBytes:&amp;result length:resultIndex];\n    // next step is to respond to `client`/`central` with data\n    [self updateState:ExampleStateRespond withObj:data];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "uisearchbar"], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "is_accepted": false, "score": 0, "last_activity_date": 1567596499, "creation_date": 1567596499, "answer_id": 57787441, "question_id": 57780571, "link": "https://stackoverflow.com/questions/57780571/how-to-add-a-search-bar-to-a-collection-view-controller/57787441#57787441", "title": "How to add a search bar to a collection view controller?", "body": "<p>I am a bit confused, it is a very strange thing to put the <code>UISearchBar</code> in the <code>UICollectionView</code>. Because the <code>UICollectionView</code> the display uses the <code>UICollectionViewCell</code>, each <code>UICollectionViewCell</code> can be reused. </p>\n\n<p>So I guess you are not going to put in the <code>UICollectionView</code>, but search the results through the SearchBar, using the <code>UICollectionView</code> to display the results.</p>\n\n<p>Sorry, my network can't upload images. The layout is probably <code>UISearchBar</code> and <code>UICollectionView</code> in <code>UIViewController</code>. </p>\n\n<pre><code>- UIViewController\n  - UISearchBar\n  - UICollectionView\n</code></pre>\n\n<p>In the <code>UISearchBarDelegate</code> proxy method, the network request can be executed when the search is triggered, and the data returned by the network request is refreshed on the list.</p>\n\n<p>If you are not very demanding on the layout of the list, you can use <code>UITableView</code>, <code>UICollectionView</code> needs to set <code>UICollectionViewLayout</code> to be slightly more complicated.</p>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1567633291, "creation_date": 1567633291, "answer_id": 57795935, "question_id": 57780571, "link": "https://stackoverflow.com/questions/57780571/how-to-add-a-search-bar-to-a-collection-view-controller/57795935#57795935", "title": "How to add a search bar to a collection view controller?", "body": "<p>In code huh?  Using storyboards all you need to do is add the search bar and connect it to an IBAction outlet.  When it changes you pass the value to a predicate and reload your collection.  Delegate and other Mac Search bar options can be set in code or right in the storyboard.  Sorry I couldn't fully bake it for you!</p>\n"}, {"comments": [{"owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1567741180, "post_id": 57796533, "comment_id": 102061820, "body": "Thank you! That makes sense but haven&#39;t trouble making this appear. Do you mean to set the navigation item title view? <code>self.navigationItem.titleView = searchController.searchBar</code>"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1567742742, "post_id": 57796533, "comment_id": 102062080, "body": "No. That&#39;s the old way. The <code>searchController</code> property, introduced in iOS 11, is a lot cleaner and comes with some great interface behavior."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1567638250, "creation_date": 1567638250, "answer_id": 57796533, "question_id": 57780571, "link": "https://stackoverflow.com/questions/57780571/how-to-add-a-search-bar-to-a-collection-view-controller/57796533#57796533", "title": "How to add a search bar to a collection view controller?", "body": "<p>Use a UISearchController. Put the collection view controller into a navigation controller and set the <code>searchController</code> of its <code>navigationItem</code>. Now the search bar will appear in the navigation bar. You can configure things so that the search bar appears only when the user scrolls the collection view all the way down; that is effectively the same as making the search bar be at the top of the collection view. This is a nice interface and is what Apple expects you to use.</p>\n"}], "owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1567638250, "creation_date": 1567562444, "last_edit_date": 1567566551, "question_id": 57780571, "link": "https://stackoverflow.com/questions/57780571/how-to-add-a-search-bar-to-a-collection-view-controller", "title": "How to add a search bar to a collection view controller?", "body": "<p>How do you add a search bar to a collection view controller in iOS 12? I realize this should be a simple question but I'm having difficulty finding an example that doesn't look half-baked.</p>\n\n<p>This can either be just using a search bar or a search controller. I don't know what the best approach should be in iOS 12. I would also like to do this programmatically.</p>\n"}, {"tags": ["objective-c", "ios13", "xcode11"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1567544238, "post_id": 57778350, "comment_id": 101992190, "body": "And what&#39;s the question? What&#39;s the problem with your code?"}], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 3741799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fe84163286e0b59680d68879e058179?s=128&d=identicon&r=PG&f=1", "display_name": "Ragazzetto", "link": "https://stackoverflow.com/users/3741799/ragazzetto"}, "is_accepted": false, "score": 3, "last_activity_date": 1567544539, "creation_date": 1567544539, "answer_id": 57778695, "question_id": 57778350, "link": "https://stackoverflow.com/questions/57778350/uicontextmenuconfiguration-in-objc/57778695#57778695", "title": "UIContextMenuConfiguration in objc", "body": "<p>Sorry you people</p>\n\n<p>I solved ...</p>\n\n<p>I just had to pass an array...</p>\n\n<pre><code>actionProvider:^(NSArray* suggestedAction){return menu;}\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 3741799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2fe84163286e0b59680d68879e058179?s=128&d=identicon&r=PG&f=1", "display_name": "Ragazzetto", "link": "https://stackoverflow.com/users/3741799/ragazzetto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567544569, "creation_date": 1567542518, "last_edit_date": 1567544569, "question_id": 57778350, "link": "https://stackoverflow.com/questions/57778350/uicontextmenuconfiguration-in-objc", "title": "UIContextMenuConfiguration in objc", "body": "<p>I would like to implement the UIContextMenuConfiguration in objC</p>\n\n<p>There are many examples in swift , but I have to close a matter in objc ...</p>\n\n<p>So in swift I found examples like this</p>\n\n<pre><code>override func tableView(_ tableView: UITableView, contextMenuConfigurationForRowAt indexPath: IndexPath, point: CGPoint) -&gt; UIContextMenuConfiguration? {\n    let configuration = UIContextMenuConfiguration(identifier: nil, previewProvider: nil) { actions -&gt; UIMenu&lt;UIAction&gt;? in\n        let action = UIAction(__title: \"Custom action\", image: nil, options: []) { action in\n            // Put button handler here\n        }\n        return UIMenu&lt;UIAction&gt;.create(title: \"Menu\", children: [action])\n    }\n    return configuration\n}\n</code></pre>\n\n<p>In objc I can not define the actions </p>\n\n<p>I can only produce mistakes ...</p>\n\n<p>this is my example code...</p>\n\n<pre><code>   - (UIContextMenuConfiguration *)tableView:(UITableView *)tableView\ncontextMenuConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath\n                                    point:(CGPoint)point API_AVAILABLE(ios(13.0)){\n\n\n    BlogPost *blogPost = [self.blogPosts objectAtIndex:indexPath.row];\n\n    UIAction * lettura = [UIAction actionWithTitle:@\"Leggi\"\n                                             image:nil\n                                        identifier:nil\n                                           handler:^(UIAction *action){[self presentSF:indexPath];}\n                          ];\nUIMenu * menu = [UIMenu menuWithTitle:@\"\" children:@[lettura]];\n\n    UIContextMenuConfiguration * config = [UIContextMenuConfiguration configurationWithIdentifier:nil\n                                                                                  previewProvider:^ UIViewController* {\n                                                                                      SFSafariViewController *previewSFController = [[SFSafariViewController alloc]                     initWithURL:blogPost.url entersReaderIfAvailable:NO];\n                                                                                                previewSFController.preferredControlTintColor=[UIColor blackColor];\n                                                                                                previewSFController.delegate = self;\n                                                                                        return previewSFController;\n                                                                                  }\n                                                                                   actionProvider:nil];\n    return config;\n}\n</code></pre>\n\n<p>Someone can help me</p>\n\n<p>Thank you so much in advance for your help </p>\n\n<p>Vanni</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-ios"], "comments": [{"owner": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567526299, "post_id": 57775018, "comment_id": 101985533, "body": "It&#39;s not clear why you&#39;re doing this, but UIView already has a <code>subview</code> property which lists all subviews and a <code>superview</code> which lists its parent.  Depending on your requirements, you could just traverse the UIView structure to get to children or parents."}, {"owner": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567526985, "post_id": 57775018, "comment_id": 101985842, "body": "correction, <code>subviews</code> not <code>subview</code>"}, {"owner": {"reputation": 164, "user_id": 5408144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e209f4639d052b396f7901b252af82b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Dunscombe", "link": "https://stackoverflow.com/users/5408144/luke-dunscombe"}, "reply_to_user": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567527608, "post_id": 57775018, "comment_id": 101986100, "body": "@MikeM So that&#39;s sort of what I&#39;m trying to do but I guess the problem becomes &#39;when can I do this?&#39;. I thought I could make use of the parent&#39;s addSubview method and then traverse down the UIView structure but the problem is sometimes the child views have not added their subviews yet and so it&#39;s like I need to wait for React Native to resolve rendering or something. Not sure if there&#39;s an iOS event for this."}, {"owner": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567528569, "post_id": 57775018, "comment_id": 101986505, "body": "I think you could override the <code>layoutSubviews</code> method - by that time the subviews should be created."}, {"owner": {"reputation": 164, "user_id": 5408144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e209f4639d052b396f7901b252af82b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Dunscombe", "link": "https://stackoverflow.com/users/5408144/luke-dunscombe"}, "reply_to_user": {"reputation": 3821, "user_id": 1406276, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5HMLB.jpg?s=128&g=1", "display_name": "Mike M", "link": "https://stackoverflow.com/users/1406276/mike-m"}, "edited": false, "score": 0, "creation_date": 1567529506, "post_id": 57775018, "comment_id": 101986835, "body": "@MikeM wow I think this may be what I&#39;m looking for!.. I will need to figure out what to do when the view is removed (there&#39;s logic for tearing down as well) but this will probably work I think, thank you"}], "owner": {"reputation": 164, "user_id": 5408144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e209f4639d052b396f7901b252af82b?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Dunscombe", "link": "https://stackoverflow.com/users/5408144/luke-dunscombe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567527061, "creation_date": 1567525689, "last_edit_date": 1567527061, "question_id": 57775018, "link": "https://stackoverflow.com/questions/57775018/how-to-add-custom-react-native-subviews-in-a-deterministic-order", "title": "How to add custom React Native subviews in a deterministic order", "body": "<p>I have several custom react native views and want to organize them in a tree like so:</p>\n\n<pre><code>&lt;Parent ... &gt;\n  &lt;ChildA ... &gt;\n    &lt;ChildB .. &gt;\n      &lt;ChildC ... /&gt;\n    &lt;/ChildB&gt;\n  &lt;/ChildA&gt;\n&lt;/Parent&gt;\n</code></pre>\n\n<p>I need to implement custom logic when rendering these components and essentially need to have each child contain a reference to Parent (much like forwarding refs in React).</p>\n\n<p>So my idea was to override each child component's <code>addSubview</code> method and create method called <code>addParent</code> to be called later.</p>\n\n<pre><code>// Child.m\n\n- (void)addSubview:(UIView *)view {\n  if ([view isKindOfClass:[Child class]]) {\n    [_children addObject:(Child *)view]\n  }\n}\n\n- (void)addParent:(Parent *)parentView{\n  _parent = parentView;\n  for (Child *c in _children) {\n    [c addParent:parentView];\n  }\n}\n</code></pre>\n\n<p>This way I could store a reference to each view's list of children and then override the parent's <code>addSubview</code> and pass the parent down the tree:</p>\n\n<pre><code>// Parent.m\n\n- (void)addSubview:(UIView *)view {\n  if ([view isKindOfClass:[Child class]]) {\n    [((Child *)view) addParent:self];\n  }\n}\n</code></pre>\n\n<p>This only works if the order of <code>addingSubviews</code> happens like this:</p>\n\n<blockquote>\n  <p>ChildC -> ChildB -> ChildA -> Parent.</p>\n</blockquote>\n\n<p>Which is what I would expect from a React tree and this is how it works in Android (albeit it is a slightly different strategy with ViewGroupManagers) but it seems there is no deterministic order for this in iOS. </p>\n\n<p>As far as I can tell the reason for this is in <strong>RCTUIManager.m</strong> <code>_dispatchChildrenDidChangeEvents</code> the <code>tags</code> array here is not always in the expected order since it's determined for the tags of the shadows view (which is a HashTable)</p>\n\n<pre><code>- (void)_dispatchChildrenDidChangeEvents\n{\n  if (_shadowViewsWithUpdatedChildren.count == 0) {\n    return;\n  }\n\n  NSHashTable&lt;RCTShadowView *&gt; *shadowViews = _shadowViewsWithUpdatedChildren;\n  _shadowViewsWithUpdatedChildren = [NSHashTable weakObjectsHashTable];\n\n  NSMutableArray *tags = [NSMutableArray arrayWithCapacity:shadowViews.count];\n\n  for (RCTShadowView *shadowView in shadowViews) {\n    [shadowView didUpdateReactSubviews];\n    [tags addObject:shadowView.reactTag];\n  }\n\n  [self addUIBlock:^(__unused RCTUIManager *uiManager, NSDictionary&lt;NSNumber *, UIView *&gt; *viewRegistry) {\n    for (NSNumber *tag in tags) {\n      UIView&lt;RCTComponent&gt; *view = viewRegistry[tag];\n      [view didUpdateReactSubviews];\n    }\n  }];\n}\n</code></pre>\n\n<p>So is this an issue with React Native or expected behavior? What might be the correct way to do this? I'm not super familiar with React Native and am definitely not familiar with iOS development.</p>\n\n<p>Perhaps there is a different method I should be overriding or an event to listen to.</p>\n"}, {"tags": ["objective-c", "clang-format"], "owner": {"reputation": 64, "user_id": 9395114, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chchrn", "link": "https://stackoverflow.com/users/9395114/chchrn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567524823, "creation_date": 1567523396, "last_edit_date": 1567524823, "question_id": 57774460, "link": "https://stackoverflow.com/questions/57774460/how-to-fix-objective-c-blocks-formatting-with-clang-format", "title": "How to fix Objective-c block&#39;s formatting with clang-format", "body": "<p>I'm have the following code, for example:</p>\n\n<pre><code>    [self.service loadDataForId:@\"id\"\n                   successBlock:^(NSDictionary *dictionary) {\n                       NSLog(@\"%@\", dictionary);\n                   }\n                     errorBlock:^(NSError *error) {\n                         NSLog(@\"%@\", error);\n                     }];\n</code></pre>\n\n<p>When I apply clang-format on it, it turns into:</p>\n\n<pre><code>    [self.service loadDataForId:@\"id\"\n        successBlock:^(NSDictionary *dictionary) {\n            NSLog(@\"%@\", dictionary);\n        }\n        errorBlock:^(NSError *error) {\n            NSLog(@\"%@\", error);\n        }];\n</code></pre>\n\n<p>As you can see, code not aligned with a colon.</p>\n\n<p>If I have a code without errorBlock, clang-format works fine</p>\n\n<pre><code>    [self.service loadDataForId:@\"id\"\n                   successBlock:^(NSDictionary *dictionary) {\n                       NSLog(@\"%@\", dictionary);\n                   }\n                     errorBlock:nil];\n</code></pre>\n\n<p>I used clang-format version 8.0.0 (tags/google/stable/2019-01-18). If I used predefined styles (LLVM, Google, Chromium, Mozilla, WebKit), then I have the same problem</p>\n\n<p>How to set up clang-format correct? My following settings file:</p>\n\n<pre><code>---\nLanguage: ObjC\nAccessModifierOffset: 0\nConstructorInitializerIndentWidth: 4\nObjCBlockIndentWidth: 4\nContinuationIndentWidth: 4\nAlignEscapedNewlinesLeft: false\nAlignTrailingComments: true\nAllowAllParametersOfDeclarationOnNextLine: true\nAllowShortIfStatementsOnASingleLine: false\nAllowShortLoopsOnASingleLine: false\nAllowShortFunctionsOnASingleLine: false\nAlwaysBreakTemplateDeclarations: false\nAlwaysBreakBeforeMultilineStrings: false\nBreakBeforeBinaryOperators: All\nBreakBeforeTernaryOperators: true\nBreakConstructorInitializersBeforeComma: false\nBinPackParameters: true\nColumnLimit: 0\nIndentWidth: 4\nConstructorInitializerAllOnOneLineOrOnePerLine: false\nDerivePointerBinding: false\nExperimentalAutoDetectBinPacking: false\nIndentCaseLabels: true\nMaxEmptyLinesToKeep: 1\nNamespaceIndentation: All\nObjCSpaceAfterProperty: true\nObjCSpaceBeforeProtocolList: false\nPenaltyBreakBeforeFirstCallParameter: 19\nPenaltyBreakComment: 300\nPenaltyBreakString: 1000\nPenaltyBreakFirstLessLess: 120\nPenaltyExcessCharacter: 1000000\nPenaltyReturnTypeOnItsOwnLine: 60\nPointerBindsToType: false\nSpacesBeforeTrailingComments: 1\nCpp11BracedListStyle: true\nStandard: Cpp11\nTabWidth: 4\nUseTab: Never\nIndentFunctionDeclarationAfterType: true\nSpacesInParentheses: false\nSpacesInAngles:  false\nSpaceInEmptyParentheses: false\nSpacesInCStyleCastParentheses: false\nSpacesInContainerLiterals: false\nSpaceBeforeAssignmentOperators: true\nCommentPragmas:  '^ IWYU pragma:'\nSpaceBeforeParens: ControlStatements\nAlignOperands: true\nBinPackArguments: false\nBinPackParameters: false\nAlignAfterOpenBracket: Align\nObjCBinPackProtocolList: Never\nAllowShortBlocksOnASingleLine: false\nBreakBeforeBraces: Custom\nBraceWrapping:\n  AfterEnum: false\n  AfterStruct: false\n  SplitEmptyFunction: false\n  AfterClass: false\n  AfterControlStatement: false\n  AfterFunction: false\n  AfterNamespace: false\n  AfterObjCDeclaration: false\n  BeforeCatch: false\n  AfterExternBlock: false\n  AfterUnion: false\n  AfterStruct: false\n  BeforeElse: false\n  SplitEmptyFunction: true\n  SplitEmptyRecord: true\n  SplitEmptyNamespace: true\nIncludeBlocks: Merge\nIncludeCategories:\n  - Regex:           '^&lt;.*\\.h&gt;'\n    Priority:        -1\n  - Regex:           '^&lt;.*'\n    Priority:        2\n  - Regex:           '.*'\n    Priority:        3\n\n\n</code></pre>\n"}, {"tags": ["c#", "objective-c", "xamarin.forms"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 1, "creation_date": 1567580512, "post_id": 57773424, "comment_id": 101999879, "body": "Can you please check the points in the answer of <a href=\"https://stackoverflow.com/questions/24316352/xamarin-binding-wrapper-type-is-missing-its-native-objectivec-class\">this thread</a> to see if it helps."}, {"owner": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1567621138, "post_id": 57773424, "comment_id": 102020888, "body": "Make sure that the Native library is part of the Xamarin source code and also make sure that this is marked as a <b>Framework</b>"}, {"owner": {"reputation": 1509, "user_id": 240390, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1a3a0b32f74dacb7cccdfe6cb7782a42?s=128&d=identicon&r=PG", "display_name": "Dooie", "link": "https://stackoverflow.com/users/240390/dooie"}, "reply_to_user": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1567689943, "post_id": 57773424, "comment_id": 102044720, "body": "@pinedax when you say &#39;Make sure that the Native library is part of the Xamarin source&#39; do you mean the xamarin.ios project or the binding project?"}, {"owner": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1567693585, "post_id": 57773424, "comment_id": 102046914, "body": "@Dooie I actually meant the binding project."}, {"owner": {"reputation": 1509, "user_id": 240390, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1a3a0b32f74dacb7cccdfe6cb7782a42?s=128&d=identicon&r=PG", "display_name": "Dooie", "link": "https://stackoverflow.com/users/240390/dooie"}, "edited": false, "score": 0, "creation_date": 1567713029, "post_id": 57773424, "comment_id": 102055652, "body": "My .FAT lib is being generated incorrectly. Running the nm command to check if the Worldpay object exists against the individual architectures within all but the i386 have it. Jack, the 4th point made by @Rolf Bjarne Kvinge led me to this. I now need to identify why these libs are not being generated as expected? Build settings?"}, {"owner": {"reputation": 1509, "user_id": 240390, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1a3a0b32f74dacb7cccdfe6cb7782a42?s=128&d=identicon&r=PG", "display_name": "Dooie", "link": "https://stackoverflow.com/users/240390/dooie"}, "reply_to_user": {"reputation": 8588, "user_id": 1771254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26092880fd028e134a4e8f9a9d427d46?s=128&d=identicon&r=PG", "display_name": "pinedax", "link": "https://stackoverflow.com/users/1771254/pinedax"}, "edited": false, "score": 0, "creation_date": 1567713805, "post_id": 57773424, "comment_id": 102055934, "body": "@pinedax so the .FAT must physically be in the project, not just a Native reference. This isn&#39;t clear in a lot of the docs/posts as most refer to the .linkwith.cs file now being Deprecated but this now makes sense also."}], "owner": {"reputation": 1509, "user_id": 240390, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1a3a0b32f74dacb7cccdfe6cb7782a42?s=128&d=identicon&r=PG", "display_name": "Dooie", "link": "https://stackoverflow.com/users/240390/dooie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567519646, "creation_date": 1567519646, "question_id": 57773424, "link": "https://stackoverflow.com/questions/57773424/objective-c-binding-in-xamarin-forms", "title": "Objective-C binding in Xamarin.Forms", "body": "<p>Simulator Exception:</p>\n\n<pre><code>System.Exception: Could not create an native instance of the type 'TPBinding.Worldpay': the native class hasn't been loaded.\n</code></pre>\n\n<p>Device Exception:</p>\n\n<pre><code>ObjCRuntime.RuntimeException: Wrapper type 'TPBinding.Worldpay' is missing its native ObjectiveC class 'Worldpay'.\n</code></pre>\n\n<p>I have created a binding for the following Objective C lib for use in an Xmarin.Forms application via Dependency Service</p>\n\n<p><a href=\"https://github.com/Worldpay/worldpay-lib-ios\" rel=\"nofollow noreferrer\">https://github.com/Worldpay/worldpay-lib-ios</a></p>\n\n<p>I have created the CocoaPods Static lib to generate and combine the necessary binaries and ultimately the fat lib for use within the Binding project. Running the following lipo &amp; nm commands leads me to think I'm good up to this point. </p>\n\n<pre><code>Development:Products ***$ lipo -info libWorldpayStaticAll\nArchitectures in the fat file: libWorldpayStaticAll are: armv7 armv7s i386 x86_64 arm64 \n\nDevelopment:Products ***$ nm libWorldpayStaticAll\n</code></pre>\n\n<p>I have successfully generated the ApiDefinitions &amp; Structs&amp;Enums for the binding project below</p>\n\n<pre><code>using System;\nusing Foundation;\nusing ObjCRuntime;\nusing PassKit;\nusing UIKit;\n\nnamespace TPBinding\n{\n    // @interface APMController : UIViewController\n    [BaseType(typeof(UIViewController))]\n    [Protocol]\n    interface APMController\n    {\n        // @property (nonatomic) UIView * customToolbar;\n        [Export(\"customToolbar\", ArgumentSemantic.Assign)]\n        UIView CustomToolbar { get; set; }\n\n        // @property (nonatomic) float price;\n        [Export(\"price\")]\n        float Price { get; set; }\n\n        // @property (retain, nonatomic) NSString * apmName;\n        [Export(\"apmName\", ArgumentSemantic.Retain)]\n        string ApmName { get; set; }\n\n        // @property (retain, nonatomic) NSString * customerOrderCode;\n        [Export(\"customerOrderCode\", ArgumentSemantic.Retain)]\n        string CustomerOrderCode { get; set; }\n\n        // @property (retain, nonatomic) NSString * orderDescription;\n        [Export(\"orderDescription\", ArgumentSemantic.Retain)]\n        string OrderDescription { get; set; }\n\n        // @property (retain, nonatomic) NSDictionary * customerIdentifiers;\n        [Export(\"customerIdentifiers\", ArgumentSemantic.Retain)]\n        NSDictionary CustomerIdentifiers { get; set; }\n\n        // @property (retain, nonatomic) NSString * successUrl;\n        [Export(\"successUrl\", ArgumentSemantic.Retain)]\n        string SuccessUrl { get; set; }\n\n        // @property (retain, nonatomic) NSString * failureUrl;\n        [Export(\"failureUrl\", ArgumentSemantic.Retain)]\n        string FailureUrl { get; set; }\n\n        // @property (retain, nonatomic) NSString * cancelUrl;\n        [Export(\"cancelUrl\", ArgumentSemantic.Retain)]\n        string CancelUrl { get; set; }\n\n        // @property (retain, nonatomic) NSString * pendingUrl;\n        [Export(\"pendingUrl\", ArgumentSemantic.Retain)]\n        string PendingUrl { get; set; }\n\n        // @property (retain, nonatomic) NSString * address;\n        [Export(\"address\", ArgumentSemantic.Retain)]\n        string Address { get; set; }\n\n        // @property (retain, nonatomic) NSString * city;\n        [Export(\"city\", ArgumentSemantic.Retain)]\n        string City { get; set; }\n\n        // @property (retain, nonatomic) NSString * postalCode;\n        [Export(\"postalCode\", ArgumentSemantic.Retain)]\n        string PostalCode { get; set; }\n\n        // @property (retain, nonatomic) NSString * token;\n        [Export(\"token\", ArgumentSemantic.Retain)]\n        string Token { get; set; }\n\n        // @property (retain, nonatomic) NSString * name;\n        [Export(\"name\", ArgumentSemantic.Retain)]\n        string Name { get; set; }\n\n        // @property (retain, nonatomic) NSString * currencyCode;\n        [Export(\"currencyCode\", ArgumentSemantic.Retain)]\n        string CurrencyCode { get; set; }\n\n        // @property (retain, nonatomic) NSString * settlementCurrency;\n        [Export(\"settlementCurrency\", ArgumentSemantic.Retain)]\n        string SettlementCurrency { get; set; }\n\n        // @property (retain, nonatomic) NSString * countryCode;\n        [Export(\"countryCode\", ArgumentSemantic.Retain)]\n        string CountryCode { get; set; }\n\n        // -(void)setAuthorizeAPMOrderBlockWithSuccess:(authorizeAPMOrderSuccess)success failure:(authorizeAPMOrderFailure)failure;\n        [Export(\"setAuthorizeAPMOrderBlockWithSuccess:failure:\")]\n        void SetAuthorizeAPMOrderBlockWithSuccess(authorizeAPMOrderSuccess success, authorizeAPMOrderFailure failure);\n    }\n\n    // typedef void (^authorizeAPMOrderSuccess)(NSDictionary *);\n    delegate void authorizeAPMOrderSuccess(NSDictionary arg0);\n\n    // typedef void (^authorizeAPMOrderFailure)(NSDictionary *, NSArray *);\n    delegate void authorizeAPMOrderFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // @interface ThreeDSController : UIViewController\n    [BaseType(typeof(UIViewController))]\n    [Protocol]\n    interface ThreeDSController\n    {\n        // @property (nonatomic) UIView * customToolbar;\n        [Export(\"customToolbar\", ArgumentSemantic.Assign)]\n        UIView CustomToolbar { get; set; }\n\n        // @property (nonatomic) float price;\n        [Export(\"price\")]\n        float Price { get; set; }\n\n        // @property (retain, nonatomic) NSString * address;\n        [Export(\"address\", ArgumentSemantic.Retain)]\n        string Address { get; set; }\n\n        // @property (retain, nonatomic) NSString * city;\n        [Export(\"city\", ArgumentSemantic.Retain)]\n        string City { get; set; }\n\n        // @property (retain, nonatomic) NSString * postalCode;\n        [Export(\"postalCode\", ArgumentSemantic.Retain)]\n        string PostalCode { get; set; }\n\n        // @property (retain, nonatomic) NSString * token;\n        [Export(\"token\", ArgumentSemantic.Retain)]\n        string Token { get; set; }\n\n        // @property (retain, nonatomic) NSString * name;\n        [Export(\"name\", ArgumentSemantic.Retain)]\n        string Name { get; set; }\n\n        // @property (nonatomic) NSDictionary * customerIdentifiers;\n        [Export(\"customerIdentifiers\", ArgumentSemantic.Assign)]\n        NSDictionary CustomerIdentifiers { get; set; }\n\n        // -(void)setAuthorizeThreeDSOrderBlockWithSuccess:(threeDSOrderSuccess)success failure:(threeDSOrderFailure)failure;\n        [Export(\"setAuthorizeThreeDSOrderBlockWithSuccess:failure:\")]\n        void SetAuthorizeThreeDSOrderBlockWithSuccess(threeDSOrderSuccess success, threeDSOrderFailure failure);\n    }\n\n    // typedef void (^threeDSOrderSuccess)(NSDictionary *);\n    delegate void threeDSOrderSuccess(NSDictionary arg0);\n\n    // typedef void (^threeDSOrderFailure)(NSDictionary *, NSArray *);\n    delegate void threeDSOrderFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // @interface Worldpay : NSObject\n    [BaseType(typeof(NSObject))]\n    [Protocol]\n    interface Worldpay\n    {\n        // @property (nonatomic) WorldpayValidationType validationType;\n        [Export(\"validationType\", ArgumentSemantic.Assign)]\n        WorldpayValidationType ValidationType { get; set; }\n\n        // @property (retain, nonatomic) NSString * clientKey;\n        [Export(\"clientKey\", ArgumentSemantic.Retain)]\n        string ClientKey { get; set; }\n\n        // @property (retain, nonatomic) NSString * serviceKey;\n        [Export(\"serviceKey\", ArgumentSemantic.Retain)]\n        string ServiceKey { get; set; }\n\n        // @property (nonatomic) BOOL reusable;\n        [Export(\"reusable\")]\n        bool Reusable { get; set; }\n\n        // @property (nonatomic) BOOL authorizeOnly;\n        [Export(\"authorizeOnly\")]\n        bool AuthorizeOnly { get; set; }\n\n        // @property (retain, nonatomic) NSString * tokenType;\n        [Export(\"tokenType\", ArgumentSemantic.Retain)]\n        string TokenType { get; set; }\n\n        // +(Worldpay *)sharedInstance;\n        [Static]\n        [Export(\"sharedInstance\")]\n        //[Verify(MethodToProperty)]\n        Worldpay SharedInstance();\n\n        // -(NSString *)APIStringURL;\n        [Export(\"APIStringURL\")]\n        //[Verify(MethodToProperty)]\n        string APIStringURL { get; }\n\n        // -(void)createTokenWithNameOnCard:(NSString *)holderName cardNumber:(NSString *)cardNumber expirationMonth:(NSString *)expirationMonth expirationYear:(NSString *)expirationYear CVC:(NSString *)CVC success:(requestUpdateTokenSuccess)success failure:(requestTokenFailure)failure;\n        [Export(\"createTokenWithNameOnCard:cardNumber:expirationMonth:expirationYear:CVC:success:failure:\")]\n        void CreateTokenWithNameOnCard(string holderName, string cardNumber, string expirationMonth, string expirationYear, string CVC, requestUpdateTokenSuccess success, requestTokenFailure failure);\n\n        // -(void)createAPMTokenWithAPMName:(NSString *)apmName countryCode:(NSString *)countryCode apmFields:(NSDictionary *)apmFields shopperLanguageCode:(NSString *)shopperLanguageCode success:(requestUpdateTokenSuccess)success failure:(requestTokenFailure)failure;\n        [Export(\"createAPMTokenWithAPMName:countryCode:apmFields:shopperLanguageCode:success:failure:\")]\n        void CreateAPMTokenWithAPMName(string apmName, string countryCode, NSDictionary apmFields, string shopperLanguageCode, requestUpdateTokenSuccess success, requestTokenFailure failure);\n\n        // -(void)reuseToken:(NSString *)token withCVC:(NSString *)CVC success:(requestUpdateTokenSuccess)success failure:(updateTokenFailure)failure;\n        [Export(\"reuseToken:withCVC:success:failure:\")]\n        void ReuseToken(string token, string CVC, requestUpdateTokenSuccess success, updateTokenFailure failure);\n\n        // -(void)showCVCModalWithParentView:(UIView *)parentView token:(NSString *)token success:(requestUpdateTokenSuccess)success error:(updateTokenFailure)failure __attribute__((deprecated(\"\")));\n        [Export(\"showCVCModalWithParentView:token:success:error:\")]\n        void ShowCVCModalWithParentView(UIView parentView, string token, requestUpdateTokenSuccess success, updateTokenFailure failure);\n\n        // -(void)showCVCModalWithParentView:(UIView *)parentView token:(NSString *)token success:(requestUpdateTokenSuccess)success beforeRequest:(void (^)(void))beforeRequest error:(updateTokenFailure)failure;\n        [Export(\"showCVCModalWithParentView:token:success:beforeRequest:error:\")]\n        void ShowCVCModalWithParentView(UIView parentView, string token, requestUpdateTokenSuccess success, Action beforeRequest, updateTokenFailure failure);\n\n        // -(NSString *)stripCardNumberWithCardNumber:(NSString *)cardNumber;\n        [Export(\"stripCardNumberWithCardNumber:\")]\n        string StripCardNumberWithCardNumber(string cardNumber);\n\n        // -(BOOL)validateCardNumberBasicWithCardNumber:(NSString *)cardNumber;\n        [Export(\"validateCardNumberBasicWithCardNumber:\")]\n        bool ValidateCardNumberBasicWithCardNumber(string cardNumber);\n\n        // -(BOOL)validateCardNumberAdvancedWithCardNumber:(NSString *)cardNumber;\n        [Export(\"validateCardNumberAdvancedWithCardNumber:\")]\n        bool ValidateCardNumberAdvancedWithCardNumber(string cardNumber);\n\n        // -(BOOL)validateCardExpiryWithMonth:(int)month year:(int)year;\n        [Export(\"validateCardExpiryWithMonth:year:\")]\n        bool ValidateCardExpiryWithMonth(int month, int year);\n\n        // -(BOOL)validateCardCVCWithNumber:(NSString *)cvc;\n        [Export(\"validateCardCVCWithNumber:\")]\n        bool ValidateCardCVCWithNumber(string cvc);\n\n        // -(BOOL)validateCardHolderNameWithName:(NSString *)holderName;\n        [Export(\"validateCardHolderNameWithName:\")]\n        bool ValidateCardHolderNameWithName(string holderName);\n\n        // -(NSArray *)validateCardDetailsWithCVC:(NSString *)CVC token:(NSString *)token;\n        [Export(\"validateCardDetailsWithCVC:token:\")]\n        //[Verify(StronglyTypedNSArray)]\n        NSArray ValidateCardDetailsWithCVC(string CVC, string token);\n\n        // -(NSArray *)validateCardDetailsWithHolderName:(NSString *)holderName cardNumber:(NSString *)cardNumber expirationMonth:(NSString *)expirationMonth expirationYear:(NSString *)expirationYear CVC:(NSString *)CVC;\n        [Export(\"validateCardDetailsWithHolderName:cardNumber:expirationMonth:expirationYear:CVC:\")]\n        //[Verify(StronglyTypedNSArray)]\n        NSArray ValidateCardDetailsWithHolderName(string holderName, string cardNumber, string expirationMonth, string expirationYear, string CVC);\n\n        // -(NSArray *)validateAPMDetailsWithAPMName:(NSString *)apmName countryCode:(NSString *)countryCode;\n        [Export(\"validateAPMDetailsWithAPMName:countryCode:\")]\n        //[Verify(StronglyTypedNSArray)]\n        NSArray ValidateAPMDetailsWithAPMName(string apmName, string countryCode);\n\n        // -(BOOL)validateAPMNameWithName:(NSString *)apmName;\n        [Export(\"validateAPMNameWithName:\")]\n        bool ValidateAPMNameWithName(string apmName);\n\n        // -(BOOL)validateCountryCodeWithCode:(NSString *)countryCode;\n        [Export(\"validateCountryCodeWithCode:\")]\n        bool ValidateCountryCodeWithCode(string countryCode);\n\n        // -(NSString *)cardType:(NSString *)cardNumber;\n        [Export(\"cardType:\")]\n        string CardType(string cardNumber);\n\n        // -(NSError *)errorWithTitle:(NSString *)title code:(NSInteger)code;\n        [Export(\"errorWithTitle:code:\")]\n        NSError ErrorWithTitle(string title, nint code);\n\n        // -(void)makeRequestWithURL:(NSString *)url requestDictionary:(NSDictionary *)requestDictionary method:(NSString *)method success:(requestUpdateTokenSuccess)success failure:(requestTokenFailure)failure additionalHeaders:(NSDictionary *)additionalHeaders;\n        [Export(\"makeRequestWithURL:requestDictionary:method:success:failure:additionalHeaders:\")]\n        void MakeRequestWithURL(string url, NSDictionary requestDictionary, string method, requestUpdateTokenSuccess success, requestTokenFailure failure, NSDictionary additionalHeaders);\n    }\n\n    // typedef void (^requestUpdateTokenSuccess)(int, NSDictionary *);\n    delegate void requestUpdateTokenSuccess(int arg0, NSDictionary arg1);\n\n    // typedef void (^requestTokenFailure)(NSDictionary *, NSArray *);\n    delegate void requestTokenFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // typedef void (^updateTokenFailure)(NSDictionary *, NSArray *);\n    delegate void updateTokenFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // @interface ApplePay (Worldpay)\n    [Category]\n    [BaseType(typeof(Worldpay))]\n    interface Worldpay_ApplePay\n    {\n        // -(BOOL)canMakePayments;\n        [Export(\"canMakePayments\")]\n        // [Verify(MethodToProperty)]\n        bool CanMakePayments();\n\n        // -(PKPaymentRequest *)createPaymentRequestWithMerchantIdentifier:(NSString *)marchantIdentifier;\n        [Export(\"createPaymentRequestWithMerchantIdentifier:\")]\n        PKPaymentRequest CreatePaymentRequestWithMerchantIdentifier(string marchantIdentifier);\n\n        // -(void)createTokenWithPayment:(PKPayment *)payment success:(requestUpdateTokenSuccess)success failure:(requestTokenFailure)failure;\n        [Export(\"createTokenWithPayment:success:failure:\")]\n        void CreateTokenWithPayment(PKPayment payment, requestUpdateTokenSuccess success, requestTokenFailure failure);\n\n        // -(void)createTokenWithPaymentData:(NSData *)paymentData success:(requestUpdateTokenSuccess)success failure:(requestTokenFailure)failure;\n        [Export(\"createTokenWithPaymentData:success:failure:\")]\n        void CreateTokenWithPaymentData(NSData paymentData, requestUpdateTokenSuccess success, requestTokenFailure failure);\n    }\n\n    // @interface WorldpayAPMViewController : UIViewController &lt;UITextFieldDelegate&gt;\n    [BaseType(typeof(UIViewController))]\n    [Protocol]\n    interface WorldpayAPMViewController : IUITextFieldDelegate\n    {\n        // @property (nonatomic) UIToolbar * customToolbar;\n        [Export(\"customToolbar\", ArgumentSemantic.Assign)]\n        UIToolbar CustomToolbar { get; set; }\n\n        // @property (nonatomic) UIButton * confirmPurchaseButton;\n        [Export(\"confirmPurchaseButton\", ArgumentSemantic.Assign)]\n        UIButton ConfirmPurchaseButton { get; set; }\n\n        // @property (nonatomic) NSString * apmName;\n        [Export(\"apmName\")]\n        string ApmName { get; set; }\n\n        // @property (nonatomic) NSString * address;\n        [Export(\"address\")]\n        string Address { get; set; }\n\n        // @property (nonatomic) NSString * city;\n        [Export(\"city\")]\n        string City { get; set; }\n\n        // @property (nonatomic) NSString * postcode;\n        [Export(\"postcode\")]\n        string Postcode { get; set; }\n\n        // @property (nonatomic) NSString * name;\n        [Export(\"name\")]\n        string Name { get; set; }\n\n        // @property (nonatomic) NSString * countryCode;\n        [Export(\"countryCode\")]\n        string CountryCode { get; set; }\n\n        // @property (nonatomic) NSString * currency;\n        [Export(\"currency\")]\n        string Currency { get; set; }\n\n        // @property (nonatomic) NSString * settlementCurrency;\n        [Export(\"settlementCurrency\")]\n        string SettlementCurrency { get; set; }\n\n        // @property (nonatomic) NSString * successUrl;\n        [Export(\"successUrl\")]\n        string SuccessUrl { get; set; }\n\n        // @property (nonatomic) NSString * cancelUrl;\n        [Export(\"cancelUrl\")]\n        string CancelUrl { get; set; }\n\n        // @property (nonatomic) NSString * failureUrl;\n        [Export(\"failureUrl\")]\n        string FailureUrl { get; set; }\n\n        // @property (nonatomic) NSString * pendingUrl;\n        [Export(\"pendingUrl\")]\n        string PendingUrl { get; set; }\n\n        // @property (nonatomic) NSString * shopperLanguageCode;\n        [Export(\"shopperLanguageCode\")]\n        string ShopperLanguageCode { get; set; }\n\n        // @property (nonatomic) NSString * swiftCode;\n        [Export(\"swiftCode\")]\n        string SwiftCode { get; set; }\n\n        // @property (nonatomic) NSString * customerOrderCode;\n        [Export(\"customerOrderCode\")]\n        string CustomerOrderCode { get; set; }\n\n        // @property (nonatomic) NSString * orderDescription;\n        [Export(\"orderDescription\")]\n        string OrderDescription { get; set; }\n\n        // @property (nonatomic) NSDictionary * customerIdentifiers;\n        [Export(\"customerIdentifiers\", ArgumentSemantic.Assign)]\n        NSDictionary CustomerIdentifiers { get; set; }\n\n        // @property (nonatomic) float price;\n        [Export(\"price\")]\n        float Price { get; set; }\n\n        // @property (nonatomic) APMDetailsTheme theme;\n        [Export(\"theme\", ArgumentSemantic.Assign)]\n        APMDetailsTheme Theme { get; set; }\n\n        // @property (nonatomic) APMDetailsLoadingTheme loadingTheme;\n        [Export(\"loadingTheme\", ArgumentSemantic.Assign)]\n        APMDetailsLoadingTheme LoadingTheme { get; set; }\n\n        // -(id)initWithAPMName:(NSString *)apmName;\n        [Export(\"initWithAPMName:\")]\n        IntPtr Constructor(string apmName);\n\n        // -(id)initWithColor:(UIColor *)color loadingTheme:(APMDetailsLoadingTheme)loadingTheme apmName:(NSString *)apmName;\n        [Export(\"initWithColor:loadingTheme:apmName:\")]\n        IntPtr Constructor(UIColor color, APMDetailsLoadingTheme loadingTheme, string apmName);\n\n        // -(void)addLoadingBackground;\n        [Export(\"addLoadingBackground\")]\n        void AddLoadingBackground();\n\n        // -(void)removeLoadingBackground;\n        [Export(\"removeLoadingBackground\")]\n        void RemoveLoadingBackground();\n\n        // -(void)setCreateAPMOrderBlockWithSuccess:(createAPMOrderSuccess)success failure:(createAPMOrderFailure)failure;\n        [Export(\"setCreateAPMOrderBlockWithSuccess:failure:\")]\n        void SetCreateAPMOrderBlockWithSuccess(createAPMOrderSuccess success, createAPMOrderFailure failure);\n    }\n\n    // typedef void (^createAPMOrderSuccess)(NSDictionary *);\n    delegate void createAPMOrderSuccess(NSDictionary arg0);\n\n    // typedef void (^createAPMOrderFailure)(NSDictionary *, NSArray *);\n    delegate void createAPMOrderFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // @interface WorldpayCardViewController : UIViewController &lt;UITextFieldDelegate&gt;\n    [BaseType(typeof(UIViewController))]\n    [Protocol]\n    interface WorldpayCardViewController : IUITextFieldDelegate\n    {\n        // @property (nonatomic) CardDetailsTheme theme;\n        [Export(\"theme\", ArgumentSemantic.Assign)]\n        CardDetailsTheme Theme { get; set; }\n\n        // @property (nonatomic) CardDetailsLoadingTheme loadingTheme;\n        [Export(\"loadingTheme\", ArgumentSemantic.Assign)]\n        CardDetailsLoadingTheme LoadingTheme { get; set; }\n\n        // @property (nonatomic) CardDetailsTextField textField;\n        [Export(\"textField\", ArgumentSemantic.Assign)]\n        CardDetailsTextField TextField { get; set; }\n\n        // -(id)initWithColor:(UIColor *)color loadingTheme:(CardDetailsLoadingTheme)loadingTheme;\n        [Export(\"initWithColor:loadingTheme:\")]\n        IntPtr Constructor(UIColor color, CardDetailsLoadingTheme loadingTheme);\n\n        // -(void)shakeTextField:(CardDetailsTextField)textField;\n        [Export(\"shakeTextField:\")]\n        void ShakeTextField(CardDetailsTextField textField);\n\n        // -(void)showWarningView;\n        [Export(\"showWarningView\")]\n        void ShowWarningView();\n\n        // -(void)addLoadingBackground;\n        [Export(\"addLoadingBackground\")]\n        void AddLoadingBackground();\n\n        // -(void)removeLoadingBackground;\n        [Export(\"removeLoadingBackground\")]\n        void RemoveLoadingBackground();\n\n        // -(void)setSaveButtonTapBlockWithSuccess:(requestTokenSuccess)success failure:(requestTokenFailure)failure;\n        [Export(\"setSaveButtonTapBlockWithSuccess:failure:\")]\n        void SetSaveButtonTapBlockWithSuccess(requestTokenSuccess success, requestTokenFailure failure);\n    }\n\n    // typedef void (^requestTokenSuccess)(NSDictionary *);\n    delegate void requestTokenSuccess(NSDictionary arg0);\n\n    // typedef void (^requestTokenFailure)(NSDictionary *, NSArray *);\n    //delegate void requestTokenFailure(NSDictionary arg0, NSObject[] arg1);\n\n    // @interface WorldpayUtils : NSObject\n    [BaseType(typeof(NSObject))]\n    [Protocol]\n    interface WorldpayUtils\n    {\n        // +(void)loadFont:(NSString *)fontName;\n        [Static]\n        [Export(\"loadFont:\")]\n        void LoadFont(string fontName);\n\n        // +(void)sendDebug:(NSString *)string;\n        [Static]\n        [Export(\"sendDebug:\")]\n        void SendDebug(string @string);\n    }\n}\n</code></pre>\n\n<p>Simply trying to instantiate a Worldpay instance results in the following exceptions (different on Simulator &amp; Device)</p>\n\n<p>Simulator:-</p>\n\n<pre><code>System.Exception: Could not create an native instance of the type 'TPBinding.Worldpay': the native class hasn't been loaded.\nIt is possible to ignore this condition by setting ObjCRuntime.Class.ThrowOnInitFailure to false.\n  at Foundation.NSObject.InitializeObject (System.Boolean alloced) [0x0002e] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/Foundation/NSObject2.cs:196\n  at Foundation.NSObject..ctor (Foundation.NSObjectFlag x) [0x0000d] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/Foundation/NSObject2.cs:131\n  at TPBinding.Worldpay..ctor () [0x00000] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/TPBindings/obj/Debug/ios/TPBinding/Worldpay.g.cs:615\n  at WorldpayTest.iOS.Services.NativePaymentService.Init () [0x00001] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/WorldpayTest.iOS/Services/NativePaymentService.cs:13\n  at WorldpayTest.Views.ItemsPage.OnAppearing () [0x00008] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/WorldpayTest/Views/ItemsPage.xaml.cs:51\n  at Xamarin.Forms.Page.SendAppearing () [0x00024] in D:\\a\\1\\s\\Xamarin.Forms.Core\\Page.cs:359\n  at Xamarin.Forms.Platform.iOS.PageRenderer.ViewDidAppear (System.Boolean animated) [0x0004b] in &lt;6d6f830f76b442a8953f9ae13539c687&gt;:0\n  at at (wrapper managed-to-native) \n</code></pre>\n\n<p>Physical Device:-</p>\n\n<pre><code>ObjCRuntime.RuntimeException: Wrapper type 'TPBinding.Worldpay' is missing its native ObjectiveC class 'Worldpay'.\n  at Registrar.DynamicRegistrar.OnRegisterType (Registrar.Registrar+ObjCType type) [0x000e1] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/DynamicRegistrar.cs:847\n  at Registrar.Registrar.RegisterTypeUnsafe (System.Type type, System.Collections.Generic.List`1[System.Exception]&amp; exceptions) [0x00f05] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Registrar.cs:2369\n  at Registrar.Registrar.RegisterType (System.Type type, System.Collections.Generic.List`1[System.Exception]&amp; exceptions) [0x00011] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Registrar.cs:1441\n  at Registrar.DynamicRegistrar.Register (System.Type type) [0x00002] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/DynamicRegistrar.cs:1163\n  at ObjCRuntime.Class.Register (System.Type type) [0x00000] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Class.cs:237\n  at ObjCRuntime.Class.GetClassHandle (System.Type type, System.Boolean throw_if_failure, System.Boolean&amp; is_custom_type) [0x000ea] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Class.cs:170\n  at ObjCRuntime.Class.GetClassHandle (System.Type type) [0x00000] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Class.cs:181\n  at ObjCRuntime.Class.GetHandle (System.Type type) [0x00000] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/ObjCRuntime/Class.cs:134\n  at Foundation.NSObject.AllocIfNeeded () [0x00012] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/Foundation/NSObject2.cs:511\n  at Foundation.NSObject..ctor (Foundation.NSObjectFlag x) [0x00006] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/Foundation/NSObject2.cs:130\n  at TPBinding.Worldpay..ctor () [0x00000] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/TPBindings/obj/Debug/ios/TPBinding/Worldpay.g.cs:615\n  at WorldpayTest.iOS.Services.NativePaymentService.Init () [0x00001] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/WorldpayTest.iOS/Services/NativePaymentService.cs:13\n  at WorldpayTest.Views.ItemsPage.OnAppearing () [0x00008] in /Users/davidp/Documents/TPWorldpay/WorldpayTest/WorldpayTest/Views/ItemsPage.xaml.cs:51\n  at Xamarin.Forms.Page.SendAppearing () [0x00024] in D:\\a\\1\\s\\Xamarin.Forms.Core\\Page.cs:359\n  at Xamarin.Forms.Platform.iOS.PageRenderer.ViewDidAppear (System.Boolean animated) [0x0004b] in &lt;6d6f830f76b442a8953f9ae13539c687&gt;:0\n  at at (wrapper managed-to-native) UIKit.UIApplication.UIApplicationMain(int,string[],intptr,intptr)\n  at UIKit.UIApplication.Main (System.String[] args, System.IntPtr principal, System.IntPtr delegate) [0x00005] in /Library/Frameworks/Xamarin.iOS.framework/Versions/12.14.0.114/src/Xamarin.iOS/UIKit/UIApplication.cs:86\n</code></pre>\n\n<p>I have been looking at the linking side of things but I am usure as to where I go now?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "alexa-voice-service", "alexa-app"], "comments": [{"owner": {"reputation": 1860, "user_id": 4950794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gt1q1.jpg?s=128&g=1", "display_name": "\u3048\u308b\u307e\u308b", "link": "https://stackoverflow.com/users/4950794/%e3%81%88%e3%82%8b%e3%81%be%e3%82%8b"}, "edited": false, "score": 1, "creation_date": 1567512858, "post_id": 57771462, "comment_id": 101978020, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35915178/how-can-i-get-alexa-working-on-my-ios-app\">How can I get Alexa working on my iOS app?</a>"}, {"owner": {"reputation": 1, "user_id": 12014421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb591c1d2151830328159a590555497f?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu", "link": "https://stackoverflow.com/users/12014421/vinu"}, "reply_to_user": {"reputation": 1860, "user_id": 4950794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gt1q1.jpg?s=128&g=1", "display_name": "\u3048\u308b\u307e\u308b", "link": "https://stackoverflow.com/users/4950794/%e3%81%88%e3%82%8b%e3%81%be%e3%82%8b"}, "edited": false, "score": 1, "creation_date": 1567513055, "post_id": 57771462, "comment_id": 101978115, "body": "@Erumaru By the help of that answer only I did the login with amazon feature. But I didn&#39;t get any solution from that answer to implement Alexa in iOS app. It is posted 3 years back."}], "owner": {"reputation": 1, "user_id": 12014421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb591c1d2151830328159a590555497f?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu", "link": "https://stackoverflow.com/users/12014421/vinu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567569079, "creation_date": 1567512478, "last_edit_date": 1567569079, "question_id": 57771462, "link": "https://stackoverflow.com/questions/57771462/how-to-integrate-alexa-feature-in-an-ios-app", "title": "How to integrate Alexa feature in an iOS app", "body": "<p>Am trying to implement Alexa feature in an iOS app. From the amazon developer documents, I find that it requires the <code>access token</code>, to send the HTTP POST requests. And I did the <code>Login using Amazone</code>. Now I have the <code>access token</code>. I don't know how to continue to the next level. Anyone can help me to get implement <code>Alexa</code> feature in an iOS app.</p>\n"}, {"tags": ["ios", "objective-c", "nsarray", "nsdictionary", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 4, "creation_date": 1567503092, "post_id": 57768716, "comment_id": 101972831, "body": "Dictionaries are unordered by definition. You could use an array and a custom class with a <code>group</code> property then you can sort the array by group. And don&#39;t use <code>valueForKey</code> unless you know what KVC is and you really need KVC."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1567504369, "post_id": 57768716, "comment_id": 101973547, "body": "format you shown is not dictionary its array of dictionaries."}], "answers": [{"comments": [{"owner": {"reputation": 1860, "user_id": 4950794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gt1q1.jpg?s=128&g=1", "display_name": "\u3048\u308b\u307e\u308b", "link": "https://stackoverflow.com/users/4950794/%e3%81%88%e3%82%8b%e3%81%be%e3%82%8b"}, "edited": false, "score": 1, "creation_date": 1567503448, "post_id": 57768922, "comment_id": 101973031, "body": "Question is <i>How can i maintain the order?</i> not <i>Does dictionary is ordered?</i>"}, {"owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "reply_to_user": {"reputation": 1860, "user_id": 4950794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gt1q1.jpg?s=128&g=1", "display_name": "\u3048\u308b\u307e\u308b", "link": "https://stackoverflow.com/users/4950794/%e3%81%88%e3%82%8b%e3%81%be%e3%82%8b"}, "edited": false, "score": 0, "creation_date": 1567503504, "post_id": 57768922, "comment_id": 101973064, "body": "@Erumaru You can&#39;t. Dictionaries are unordered collections of key-value associations. See more <a href=\"https://docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html\" rel=\"nofollow noreferrer\">docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html</a>"}, {"owner": {"reputation": 1860, "user_id": 4950794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gt1q1.jpg?s=128&g=1", "display_name": "\u3048\u308b\u307e\u308b", "link": "https://stackoverflow.com/users/4950794/%e3%81%88%e3%82%8b%e3%81%be%e3%82%8b"}, "edited": false, "score": 1, "creation_date": 1567503630, "post_id": 57768922, "comment_id": 101973120, "body": "I don&#39;t think that you should explain it to me. It&#39;s better to add it to your answer instead."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567505568, "post_id": 57768922, "comment_id": 101974179, "body": "This doesn&#39;t answer the question.   The established solution (to this much-asked question) is to also maintain an array alongside the dictionary."}, {"owner": {"reputation": 11, "user_id": 6059370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5f87fe3e6983bea02dd61bec7822723?s=128&d=identicon&r=PG&f=1", "display_name": "Akaanksha", "link": "https://stackoverflow.com/users/6059370/akaanksha"}, "edited": false, "score": 0, "creation_date": 1567611690, "post_id": 57768922, "comment_id": 102016783, "body": "I am seeking a solution. I know Dictionaries are unordered and i cant be used in this scenario."}], "tags": [], "owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1567503826, "last_edit_date": 1567503826, "creation_date": 1567503340, "answer_id": 57768922, "question_id": 57768716, "link": "https://stackoverflow.com/questions/57768716/maintain-order-of-elements-of-nsmutabledictionary/57768922#57768922", "title": "Maintain order of elements of NSMutableDictionary", "body": "<p>You can't maintain it order. <br>Dictionaries are unordered collections of key-value associations. See more <a href=\"https://docs.swift.org/swift-book/LanguageGuide/CollectionTypes.html\" rel=\"nofollow noreferrer\">Docs</a> </p>\n"}], "owner": {"reputation": 11, "user_id": 6059370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5f87fe3e6983bea02dd61bec7822723?s=128&d=identicon&r=PG&f=1", "display_name": "Akaanksha", "link": "https://stackoverflow.com/users/6059370/akaanksha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "closed_date": 1567505617, "answer_count": 1, "score": 1, "last_activity_date": 1567506931, "creation_date": 1567502598, "last_edit_date": 1567506931, "question_id": 57768716, "link": "https://stackoverflow.com/questions/57768716/maintain-order-of-elements-of-nsmutabledictionary", "closed_reason": "Duplicate", "title": "Maintain order of elements of NSMutableDictionary", "body": "<p>I am getting a dictionary of the following format :</p>\n\n<pre><code>[\n  {\n    \"position\": \"1\",\n    \"name\": \"Jaen\",\n    \"group\": \"Student\",\n    \"Address\": \"Delhi\"\n  },\n  {\n    \"position\": \"2\",\n    \"name\": \"Jaen\",\n    \"group\": \"Student\",\n    \"Address\": \"Delhi\"\n  },\n  {\n    \"position\": \"1\",\n    \"name\": \"Jaen\",\n    \"group\": \"Teacher\",\n    \"Address\": \"Delhi\"\n  }\n]\n</code></pre>\n\n<p>Basically, I want to group them around the key named \"group\".I have to create a dictionary in the following format to populate data in my UI.</p>\n\n<pre><code>[\n  {\n    \"Student\": [\n      {\n        \"position\": \"1\",\n        \"name\": \"Jaen\",\n        \"group\": \"Student\",\n        \"Address\": \"Delhi\"\n      },\n      {\n        \"position\": \"2\",\n        \"name\": \"Jaen\",\n        \"group\": \"Student\",\n        \"Address\": \"Delhi\"\n      }\n    ],\n    \"Teacher\": [\n      {\n        \"position\": \"1\",\n        \"name\": \"Jaen\",\n        \"group\": \"Teacher\",\n        \"Address\": \"Delhi\"\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>the order of the Groups should be maintained ie Student should come before Teacher. But when I am printing dictGroupField it is giving random results in terms of order. </p>\n\n<p>How can i maintain the order?</p>\n\n<p>Please find the code below that I was using :</p>\n\n<pre><code>    @property (strong, nonatomic) NSMutableDictionary *dictGroupField;\n\n\n    -(void)loadFieldData {\n\n    _dictGroupField = [[NSMutableDictionary alloc] init];  \n\n     NSMutableArray *arrayFields = [self getArrayFields];\n\n          for (NSDictionary *dictT in arrayFields) {\n    NSString *strGroup = [dict valueForKey:@\"group\"];\n\n    if ([_dictGroupField valueForKey:strGroup] == nil) {\n\n                    NSMutableArray *arrGroup = [[NSMutableArray alloc] init];\n                    [arrGroup addObject:dict];\n                    [_dictGroupField setObject:arrGroup forKey:strGroup];\n                } else {\n                    NSMutableArray *arrGroupExist = [_dictGroupField valueForKey:strGroup];\n                    [arrGroupExist addObject:dict];\n                    [_dictGroupField setObject:arrGroupExist forKey:strGroup];\n                }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "jailbreak", "objective-c++", "theos", "tweak"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12011306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa8f729af0ce58b7dcab42c58888872?s=128&d=identicon&r=PG&f=1", "display_name": "AndKrazi", "link": "https://stackoverflow.com/users/12011306/andkrazi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567470065, "creation_date": 1567470065, "answer_id": 57763716, "question_id": 57761965, "link": "https://stackoverflow.com/questions/57761965/how-to-fix-warning-missing-end-hook-opened-at-tweak-x14-extends-to-eof-e/57763716#57763716", "title": "How to fix &#39;warning: missing %end (%hook opened at Tweak.x:14 extends to EOF)&#39; error when I already have %end", "body": "<p>My makefile had a , in it for the archetype. I saw it in the error log, thought that's how you put it in there :/. I had two in a comma so....</p>\n\n<p>If anyone comes across this error and doesn't know what it means, check the makefile and make sure there's no commas in the</p>\n\n<pre><code>ARCHS = armv7 arm64\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>ARCHS = armv7, arm64\n</code></pre>\n\n<p>Sorry everyone for wasting your time. :/</p>\n"}], "owner": {"reputation": 1, "user_id": 12011306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fa8f729af0ce58b7dcab42c58888872?s=128&d=identicon&r=PG&f=1", "display_name": "AndKrazi", "link": "https://stackoverflow.com/users/12011306/andkrazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567470065, "creation_date": 1567453351, "question_id": 57761965, "link": "https://stackoverflow.com/questions/57761965/how-to-fix-warning-missing-end-hook-opened-at-tweak-x14-extends-to-eof-e", "title": "How to fix &#39;warning: missing %end (%hook opened at Tweak.x:14 extends to EOF)&#39; error when I already have %end", "body": "<p>I've created a tweak via Zane Helton's online video tutorials. \nI've gone over my own code multiple times to try and figure out why\nthis is happening, \nI've googled it to no avail and am just trying to figure out what \nthe cause is so I can prevent it if it happens again.</p>\n\n<p>I've moved things around, I have deleted all my comments to\nsee if that's what it was. \nI've googled it and everyone else has just misspelled %end...\nI've moved %end around and have no clue what is causing this...</p>\n\n<pre><code>@interface BCBatteryDeviceController {\n    NSArray *_sortedDevices;\n}\n+(id)sharedInstance;\n@end\n\n@interface BCBatteryDevice {\n  long long _percentCharge;\n  NSString *_name;\n}\n@end\n\n%hook UIViewController\n\n- (void)presentViewController:(UIViewController *)viewControllerToPresent  \nanimated:(BOOL)flag           \ncompletion:(void (^)(void))completion {\n  //no code would run without orig\n  if ([viewControllerToPresent isKindOfClass[UIAlertController class]]) {\n    UIAlertController *ac = (UIAlertController *)viewControllerToPresent; \n\n    BCBatteryDeviceController *bcb = [%c(BCBatteryDeviceController) sharedInstance]; \n\n    NAArrray *devices = MSHookIvar&lt;NSArray *&gt;(bcb, \"_sortedDevices\");\n\n    NSMutableString *newMessage = [NSMutableString new];\n\n    for (BCBatteryDevice *device in devices) { \n      NSString *deviceName = MSHookIvar&lt;NSString *&gt;(device, \"_name\");\n      long long deviceCharge = MSHookIvar&lt;long long&gt;(device, \"_percentCharge\");\n\n      [newMessage appendString:@\"%@ : %lld%%\\n\", deviceName, deviceCharge]; \n    }\n\n    [ac setMessage:newMessage];\n    return %orig(ac, flag, completion); \n  } else {\n    return %orig; \n  }\n}\n\n\n%end\n</code></pre>\n\n<p>Error log:</p>\n\n<pre><code>Hunters-MacBook-Pro:redrectangle shutthu$ make package\n&gt; Making all for tweak RedRectangle\u2026\n==&gt; Preprocessing Tweak.x\u2026\nlogos: warnings being treated as errors\nTweak.x:47: warning: missing %end (%hook opened at Tweak.x:14 extends to EOF)\nmake[3]: *** [/Users/shutthu/Desktop/iOS9JBTweak/redrectangle/.theos/obj/debug/armv7,/Tweak.x.m] Error 1\nrm /Users/shutthu/Desktop/iOS9JBTweak/redrectangle/.theos/obj/debug/armv7,/Tweak.x.m\nmake[2]: *** [/Users/shutthu/Desktop/iOS9JBTweak/redrectangle/.theos/obj/debug/armv7,/RedRectangle.dylib] Error 2\nmake[1]: *** [internal-library-all_] Error 2\nmake: *** [RedRectangle.all.tweak.variables] Error 2\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitextview", "uitextrange"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 11688802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54501abb2935bf76b76f85c6920f1a41?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun321", "link": "https://stackoverflow.com/users/11688802/arjun321"}, "edited": false, "score": 0, "creation_date": 1567532025, "post_id": 57764176, "comment_id": 101987779, "body": "I also put the last line inside of a dispatch_async(dispatch_get_main_queue(), ^{             [self.myTextView setSelectedTextRange:newRange];         });"}], "tags": [], "owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "is_accepted": true, "score": 1, "last_activity_date": 1567476643, "last_edit_date": 1567476643, "creation_date": 1567475848, "answer_id": 57764176, "question_id": 57758584, "link": "https://stackoverflow.com/questions/57758584/move-cursor-to-beginning-of-prepopulated-textview-on-load-in-objective-c/57764176#57764176", "title": "Move Cursor to Beginning of Prepopulated Textview On Load in Objective-C", "body": "<p>I found that your print was wrong, missing an <code>@</code></p>\n\n<pre><code>NSLog(@\"newRange is%@\",newRange);\n</code></pre>\n\n<p>Then I found that your code is effective, the cursor can be positioned to the front</p>\n\n<p>I tested <code>iOS 9.1</code>\u3001 <code>iOS 10.1</code>\u3001 <code>iOS 11.1</code>\u3001 <code>iOS 12.4</code> with the simulator, all of which are effective. I don't know what your environment is like.</p>\n\n<p>One more thing to note is that before executing that piece of code, make sure that <code>myTextView</code> has been created successfully. I used <code>storyboard</code> to create <code>myTextView</code> when I tested, and added your code in <code>viewDidLoad</code>.</p>\n"}], "owner": {"reputation": 67, "user_id": 11688802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54501abb2935bf76b76f85c6920f1a41?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun321", "link": "https://stackoverflow.com/users/11688802/arjun321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57764176, "answer_count": 1, "score": 1, "last_activity_date": 1567476643, "creation_date": 1567434181, "last_edit_date": 1567440587, "question_id": 57758584, "link": "https://stackoverflow.com/questions/57758584/move-cursor-to-beginning-of-prepopulated-textview-on-load-in-objective-c", "title": "Move Cursor to Beginning of Prepopulated Textview On Load in Objective-C", "body": "<p>Upon a View Controller loading from code where a UITextView is prepopulated with some text, I would like the cursor to be at the beginning of the text not at the end.</p>\n\n<p>The following code however is having no effect. The cursor still appears at the end of the prepopulated text.</p>\n\n<p>What can I do to get the cursor over to the beginning of the text?</p>\n\n<pre><code>   self.myTextView.text = @\"Text that should go after cursor\";\n    [self.myTextView becomeFirstResponder];      \n    UITextPosition* start = self.myTextView.beginningOfDocument;\n    UITextRange *newRange = [self.myTextView textRangeFromPosition:start toPosition:start];\nNSLog(\"newRange is%@\",newRange);\n    [self.myTextView setSelectedTextRange:newRange];\n</code></pre>\n\n<p>Note, newRange logs as &lt;_UITextKitTextRange: 0x17463f0c0> (0, 0)F so I think the next line is not actually changing the rang.  But I don't know of another way to do this.</p>\n"}, {"tags": ["c#", "ios", "objective-c", "unity3d"], "comments": [{"owner": {"reputation": 357, "user_id": 4330018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AtTSq.jpg?s=128&g=1", "display_name": "Javier Bullrich", "link": "https://stackoverflow.com/users/4330018/javier-bullrich"}, "edited": false, "score": 0, "creation_date": 1567504759, "post_id": 57757629, "comment_id": 101973767, "body": "Did you try using <a href=\"https://stackoverflow.com/a/13116667/4330018\">CTCallCenter</a> as in this answer?"}, {"owner": {"reputation": 376, "user_id": 5626838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3aTy.jpg?s=128&g=1", "display_name": "Qusai Azzam", "link": "https://stackoverflow.com/users/5626838/qusai-azzam"}, "reply_to_user": {"reputation": 357, "user_id": 4330018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AtTSq.jpg?s=128&g=1", "display_name": "Javier Bullrich", "link": "https://stackoverflow.com/users/4330018/javier-bullrich"}, "edited": false, "score": 0, "creation_date": 1567504894, "post_id": 57757629, "comment_id": 101973833, "body": "sure ! , but it is deprecated in IOS 10 and above versions."}], "owner": {"reputation": 376, "user_id": 5626838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3aTy.jpg?s=128&g=1", "display_name": "Qusai Azzam", "link": "https://stackoverflow.com/users/5626838/qusai-azzam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567440976, "creation_date": 1567430137, "last_edit_date": 1567440976, "question_id": 57757629, "link": "https://stackoverflow.com/questions/57757629/how-to-know-wether-the-phone-device-is-currently-in-call-or-not-in-ios-native-co", "title": "How to know wether the Phone Device is currently in call or not in iOS Native code or Unity C#?", "body": "<p>I am trying to build a Unity plugin that can detect if the Phone is in a phone call or not. I want to prevent the Game Video recorder during a phone call.</p>\n\n<p>I write this Objective-C code and a corresponding  C# class in Unity like this: </p>\n\n<p>Objective - C plugIn <br>\nPhoneCall.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;CallKit/CallKit.h&gt;\n\n@interface PhoneCallDelegate : NSObject\n{\n}\n- (BOOL) isOnPhoneCall;\n@end\n</code></pre>\n\n<p>the Implementation : </p>\n\n<pre><code>#import \"PhoneCall.h\"\n\n@implementation PhoneCallDelegate\n\n- (id)init\n{\n}\n\n-(BOOL) isOnPhoneCall {\n    CXCallObserver *callObserver = [[CXCallObserver alloc] init];\n    for (CXCall *call in callObserver.calls)\n    {\n        if (call.isOnHold || call.isOutgoing || call.hasConnected) {\n            return true;\n        }\n    }\n    return false;\n}\n\n@end\n\nstatic PhoneCallDelegate* delegateObject = nil;\n\n// When native code plugin is implemented in .mm / .cpp file, then functions\n// should be surrounded with extern \"C\" block to conform C function naming rules\nextern \"C\" {\n\n    BOOL _InPhoneCall()\n    {\n        return ([delegateObject isOnPhoneCall]);\n    }\n}\n</code></pre>\n\n<p>the Unity C# Class PhoneCallController.cs</p>\n\n<p>using System.Collections;</p>\n\n<pre><code>using System.Collections.Generic;\nusing System.Runtime.InteropServices;\nusing UnityEngine;\n\npublic class PhonCallPlugin\n{\n    /* Interface to native implementation */\n\n    [DllImport(\"__Internal\")]\n    private static extern bool _InPhoneCall();\n\n    public static bool IsDuringPhoneCall()\n    {\n         return _InPhoneCall();\n    }\n\n}\n</code></pre>\n\n<p>then I am trying to call <code>IsDuringPhoneCall()</code> Method threw this Script </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class PhoneCallController : MonoBehaviour\n{\n    void Update() \n    {\n        if (Application.platform == RuntimePlatform.IPhonePlayer)\n        {\n            Debug.Log(\" During a Phone Call : \" + PhonCallPlugin.IsDuringPhoneCall());\n        }\n    }\n}\n</code></pre>\n\n<p>And i tried to call the Device then Launch the app , but the Method always return False.</p>\n\n<p>I dig more into the code and return the count of Calls and it turns out that it always returns <code>0</code>.</p>\n\n<p><strong>Why does that Happen? And How can i know if the Phone is During a phone Call in Unity?</strong></p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 2, "creation_date": 1567428281, "post_id": 57757107, "comment_id": 101950739, "body": "Set checkmark in <code>use scalar type</code> in data model inspector."}], "answers": [{"tags": [], "owner": {"reputation": 6751, "user_id": 2290372, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/t7Plb.jpg?s=128&g=1", "display_name": "LorenzOliveto", "link": "https://stackoverflow.com/users/2290372/lorenzoliveto"}, "is_accepted": true, "score": 1, "last_activity_date": 1567428486, "creation_date": 1567428486, "answer_id": 57757215, "question_id": 57757107, "link": "https://stackoverflow.com/questions/57757107/xcode-coredata-generated-property-is-double-instead-of-nsnumber/57757215#57757215", "title": "Xcode: CoreData generated property is &quot;double&quot; instead of &quot;NSNumber&quot;", "body": "<p>That is the default behavior of Xcode auto generated classes, you can change it selecting <code>Use scalar type</code> on the attribute:</p>\n\n<p>From the <a href=\"https://developer.apple.com/documentation/coredata/modeling_data/configuring_attributes\" rel=\"nofollow noreferrer\">doc</a>:</p>\n\n<blockquote>\n  <p>Use Scalar Type Optionally, for some types, choose between scalar and\n  non-scalar representations during code generation. For a Double,\n  selecting the Use Scalar checkbox produces a Double, while leaving it\n  unselected produces an NSNumber. For the full list of types, including\n  scalar variants, see NSAttributeType.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1567545040, "creation_date": 1567545040, "answer_id": 57778785, "question_id": 57757107, "link": "https://stackoverflow.com/questions/57757107/xcode-coredata-generated-property-is-double-instead-of-nsnumber/57778785#57778785", "title": "Xcode: CoreData generated property is &quot;double&quot; instead of &quot;NSNumber&quot;", "body": "<p>In our experience the numeric Model and plist data types are meaningless.  They are all NSNumber.  Within your code you must read these as NSNumber and then do conversions to int, double, float or string.  At least in Objective C.</p>\n\n<p>Here is an example of a number to string conversion:</p>\n\n<pre><code>\n+ (NSString *) numberToString:(NSNumber *)dbNumberIn{\n\n    NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];\n\n    formatter.numberStyle = NSNumberFormatterDecimalStyle;\n    formatter.formatWidth = 5;\n    formatter.paddingCharacter = @\"   \";\n    formatter.maximumIntegerDigits  = 6;\n    formatter.minimumFractionDigits = 2;\n    formatter.maximumFractionDigits = 2;\n    formatter.usesSignificantDigits = NO;\n    formatter.usesGroupingSeparator = YES;\n    formatter.groupingSeparator = @\",\";\n    formatter.decimalSeparator = @\".\";\n\n    NSString *stringFieldOut = [formatter stringFromNumber:dbNumberIn];\n\n    return stringFieldOut;\n}\n</code></pre>\n"}], "owner": {"reputation": 4472, "user_id": 3667264, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/woXWA.jpg?s=128&g=1", "display_name": "Richard Topchii", "link": "https://stackoverflow.com/users/3667264/richard-topchii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57757215, "answer_count": 2, "score": 2, "last_activity_date": 1567545040, "creation_date": 1567428011, "question_id": 57757107, "link": "https://stackoverflow.com/questions/57757107/xcode-coredata-generated-property-is-double-instead-of-nsnumber", "title": "Xcode: CoreData generated property is &quot;double&quot; instead of &quot;NSNumber&quot;", "body": "<p>I'm having a problem with CoreData:\nThe data model has multiple fields with the type of <code>Double</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2BxrS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2BxrS.png\" alt=\"field1\"></a>\n<a href=\"https://i.stack.imgur.com/eKOZt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eKOZt.png\" alt=\"field2\"></a></p>\n\n<p>So, I expect the generated CoreData properties to be of the same type, however, they're not:</p>\n\n<pre><code>@property (nullable, nonatomic, copy) NSNumber *amount;\n@property (nonatomic) double iccsMaterialAmountIfDifferentThanPlanItem;\n</code></pre>\n\n<p>What is the root cause of such behavior, is it an error and how to fix it if it is?</p>\n"}, {"tags": ["objective-c", "ios13", "xcode11"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12147318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4ac81642551164bd198e8dcd6e30bb?s=128&d=identicon&r=PG&f=1", "display_name": "schmidi165", "link": "https://stackoverflow.com/users/12147318/schmidi165"}, "is_accepted": false, "score": 0, "last_activity_date": 1569920833, "last_edit_date": 1569920833, "creation_date": 1569918861, "answer_id": 58180940, "question_id": 57756516, "link": "https://stackoverflow.com/questions/57756516/uitableviewcellreordercontrol-default-color-wrong-since-xcode-11/58180940#58180940", "title": "UITableViewCellReorderControl default color wrong since Xcode 11", "body": "<p>Setting <code>overrideUserInterfaceStyle</code> solved my problem.</p>\n\n<p>Note that setting it to <code>UIUserInterfaceStyle.light</code> means light background and dark accessory color.</p>\n\n<p>It seems like in your example <code>UIUserInterfaceStyle.dark</code> would be the correct value.</p>\n"}], "owner": {"reputation": 375, "user_id": 3180224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W2nWx.jpg?s=128&g=1", "display_name": "Joshpy", "link": "https://stackoverflow.com/users/3180224/joshpy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1569920833, "creation_date": 1567425214, "question_id": 57756516, "link": "https://stackoverflow.com/questions/57756516/uitableviewcellreordercontrol-default-color-wrong-since-xcode-11", "title": "UITableViewCellReorderControl default color wrong since Xcode 11", "body": "<p>I encounter UITableViewCellReorderControl color become same as cell color, this symptom confuse me wonder the UITableViewCellReorderControl disappears.</p>\n\n<p>I add background color for UITableViewCellReorderControl to confirm it real exist.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NMLG3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NMLG3.png\" alt=\"enter image description here\"></a></p>\n\n<p>I guess this symptom because the iOS 13 dark mode, but I can't fix it even focus the overrideUserInterfaceStyle to UIUserInterfaceStyleLight.</p>\n\n<p>Is there any idea or experience for it.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uint8t", "unsafemutablepointer"], "comments": [{"owner": {"reputation": 5795, "user_id": 1032151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3371159d8b9c9c3d99d185d163f0c36c?s=128&d=identicon&r=PG", "display_name": "MANIAK_dobrii", "link": "https://stackoverflow.com/users/1032151/maniak-dobrii"}, "edited": false, "score": 0, "creation_date": 1567426995, "post_id": 57756394, "comment_id": 101950150, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/q/52733309/1032151\">stackoverflow.com/q/52733309/1032151</a>"}, {"owner": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "reply_to_user": {"reputation": 5795, "user_id": 1032151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3371159d8b9c9c3d99d185d163f0c36c?s=128&d=identicon&r=PG", "display_name": "MANIAK_dobrii", "link": "https://stackoverflow.com/users/1032151/maniak-dobrii"}, "edited": false, "score": 0, "creation_date": 1567427352, "post_id": 57756394, "comment_id": 101950318, "body": "@MANIAK_dobrii, I&#39;ve seen this already. there is only one parameter in &quot; UnsafeMutablePointer.allocate(capacity: Int)&quot;. If you see objective c code &quot;*calloc(size_t __count, size_t __size)&quot; it taking two parameters"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1567427928, "post_id": 57756394, "comment_id": 101950560, "body": "@ZAFAR007: That answer applies to your case as well.  <code>calloc()</code> takes two parameter which are simply multiplied. Therefore <code>UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: bytesPerRow * height)</code> would do the trick."}, {"owner": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1567428558, "post_id": 57756394, "comment_id": 101950878, "body": "thanks @Martin R and MANIAK_dobrii. I had no idea about multiplied, It also working."}, {"owner": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1567461439, "post_id": 57756394, "comment_id": 101961843, "body": "thanks @Rob, yes I&#39;m freeing it using this &#39;free(data)&#39; on end."}], "answers": [{"comments": [{"owner": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "edited": false, "score": 0, "creation_date": 1567427552, "post_id": 57756960, "comment_id": 101950414, "body": "thanks, it working, you saved my time. I was trying to resolve this from many hours."}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "reply_to_user": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "edited": false, "score": 0, "creation_date": 1567427705, "post_id": 57756960, "comment_id": 101950474, "body": "@ZAFAR007 good to hear that. I was a bit unsure in this case if <code>bindMemory</code> should be called instead of <code>assumingMemoryBound</code>. These things are never clear enough."}], "tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": true, "score": 4, "last_activity_date": 1567427349, "creation_date": 1567427349, "answer_id": 57756960, "question_id": 57756394, "link": "https://stackoverflow.com/questions/57756394/value-of-type-unsafemutablerawpointer-has-no-subscripts-swift-5/57756960#57756960", "title": "Value of type &#39;UnsafeMutableRawPointer&#39; has no subscripts Swift 5", "body": "<p>You need to assign a type to your mutable pointer. In the current state it is a mutable pointer to anything but you want it to be a mutable pointer to a buffer of <code>UInt8</code> values.</p>\n\n<p>To do so simply call <code>assumingMemoryBound</code> on your data:</p>\n\n<pre><code>let data = calloc(bytesPerRow, height)!.assumingMemoryBound(to: UInt8.self)\n</code></pre>\n"}], "owner": {"reputation": 2496, "user_id": 5693826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XhREg.jpg?s=128&g=1", "display_name": "ZAFAR007", "link": "https://stackoverflow.com/users/5693826/zafar007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "accepted_answer_id": 57756960, "answer_count": 1, "score": 1, "last_activity_date": 1567427349, "creation_date": 1567424713, "question_id": 57756394, "link": "https://stackoverflow.com/questions/57756394/value-of-type-unsafemutablerawpointer-has-no-subscripts-swift-5", "title": "Value of type &#39;UnsafeMutableRawPointer&#39; has no subscripts Swift 5", "body": "<p>I'm trying to convert objective c code into swift.</p>\n\n<pre><code>UInt8* data = calloc(bytesPerRow, height);\n</code></pre>\n\n<p>when I convert it in swift, It returning \"UnsafeMutableRawPointer\". I need of UInt8.</p>\n\n<pre><code>let data = calloc(bytesPerRow, height)! // UnsafeMutableRawPointer\n</code></pre>\n\n<p>I've tried different solution but didn't worked for me. Can anyone please tell me how I can resolved this issue. Thanks</p>\n\n<blockquote>\n  <p>Value of type 'UnsafeMutableRawPointer' has no subscripts</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/CoOR0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoOR0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Swift Code.</p>\n\n<pre><code> // data pointer \u2013 stores an array of the pixel components. For example (r0, b0, g0, a0, r1, g1, b1, a1 .... rn, gn, bn, an)\n        //*calloc(size_t __count, size_t __size) __result_use_check __alloc_size(1,2);\n        let data = calloc(bytesPerRow, height)!\n\n        // get new RGB color space\n        let colorSpace = CGColorSpaceCreateDeviceRGB()\n\n        // create bitmap context\n        let ctx = CGContext(data: data, width: width, height: height, bitsPerComponent: bitsPerComponent, bytesPerRow: bytesPerRow, space: colorSpace, bitmapInfo: bitmapInfo.rawValue)\n\n        // draw image into context (populating the data array while doing so)\n        ctx?.draw(rawImage!, in: rect)\n\n        // get the index of the pixel (4 components times the x position plus the y position times the row width)\n        var pixelIndex = 4 * (pixelPosition.x + (pixelPosition.y * width))\n\n        // set the pixel components to the color components\n        data[pixelIndex] = color255Components[0]; // r\n        data[pixelIndex+1] = color255Components[1]; // g\n        data[pixelIndex+2] = color255Components[2]; // b\n        data[pixelIndex+3] = color255Components[3]; // a\n</code></pre>\n\n<p>Objective C code.</p>\n\n<pre><code>// data pointer \u2013 stores an array of the pixel components. For example (r0, b0, g0, a0, r1, g1, b1, a1 .... rn, gn, bn, an)\n    UInt8* data = calloc(bytesPerRow, height);\n\n    // get new RGB color space\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n\n    // create bitmap context\n    CGContextRef ctx = CGBitmapContextCreate(data, width, height, bitsPerComponent, bytesPerRow, colorSpace, bitmapInfo);\n\n    // draw image into context (populating the data array while doing so)\n    CGContextDrawImage(ctx, rect, rawImage);\n\n    // get the index of the pixel (4 components times the x position plus the y position times the row width)\n    NSInteger pixelIndex = 4*(pixelPosition.x+(pixelPosition.y*width));\n\n    // set the pixel components to the color components\n    data[pixelIndex] = color255Components[0]; // r\n    data[pixelIndex+1] = color255Components[1]; // g\n    data[pixelIndex+2] = color255Components[2]; // b\n    data[pixelIndex+3] = color255Components[3]; // a\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "pdf-generation"], "answers": [{"comments": [{"owner": {"reputation": 262, "user_id": 8475844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ce793014058974aeaa6fe1c15b791?s=128&d=identicon&r=PG&f=1", "display_name": "SIDHARTH P U", "link": "https://stackoverflow.com/users/8475844/sidharth-p-u"}, "edited": false, "score": 0, "creation_date": 1567574521, "post_id": 57778905, "comment_id": 101997776, "body": "could you please explain a little bit more?"}, {"owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "reply_to_user": {"reputation": 262, "user_id": 8475844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ce793014058974aeaa6fe1c15b791?s=128&d=identicon&r=PG&f=1", "display_name": "SIDHARTH P U", "link": "https://stackoverflow.com/users/8475844/sidharth-p-u"}, "edited": false, "score": 1, "creation_date": 1567601388, "post_id": 57778905, "comment_id": 102010780, "body": "First a correction.  The PDF creation capabilities in iOS DO NOT include controls. UIGraphicsBeginPDFPageWithInfo &lt;<a href=\"https://developer.apple.com/documentation/uikit/1623915-uigraphicsbeginpdfpagewithinfo?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/&hellip;</a>&gt; These are graphical drawing methods that can create a PDF with text, images, etc.  There are no methods to create controls that return selections from things like text boxes.  Therefore, to do what you&#39;re asking you need to use a 3rd party app that includes more sophisticated functionality.  We use Foxit, of course there are other vendors.  Hope this helps."}, {"owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "reply_to_user": {"reputation": 262, "user_id": 8475844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ce793014058974aeaa6fe1c15b791?s=128&d=identicon&r=PG&f=1", "display_name": "SIDHARTH P U", "link": "https://stackoverflow.com/users/8475844/sidharth-p-u"}, "edited": false, "score": 1, "creation_date": 1567685430, "post_id": 57778905, "comment_id": 102042062, "body": "Although this wasn&#39;t the answer you were hoping for, I did take sometime to try to help.  You may want to consider an up arrow..."}], "tags": [], "owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1567545803, "creation_date": 1567545803, "answer_id": 57778905, "question_id": 57755756, "link": "https://stackoverflow.com/questions/57755756/pdf-with-editable-textbox/57778905#57778905", "title": "Pdf with editable Textbox", "body": "<p>No, the PDF creation capabilities within iOS do include controls. You would need a 3rd party product like FoxIT to accomplish this within the PDF.</p>\n"}], "owner": {"reputation": 262, "user_id": 8475844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ce793014058974aeaa6fe1c15b791?s=128&d=identicon&r=PG&f=1", "display_name": "SIDHARTH P U", "link": "https://stackoverflow.com/users/8475844/sidharth-p-u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567545803, "creation_date": 1567421878, "question_id": 57755756, "link": "https://stackoverflow.com/questions/57755756/pdf-with-editable-textbox", "title": "Pdf with editable Textbox", "body": "<p>I am created a Pdf report using Webview in Objective-C. Now I want to include an editable textbox in that pdf report. Is there any way to add the textbox programmatically?</p>\n"}, {"tags": ["objective-c", "frameworks", "thermal-printer"], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 3133055, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/WxDYm.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3133055/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1567546164, "creation_date": 1567546164, "answer_id": 57778965, "question_id": 57751805, "link": "https://stackoverflow.com/questions/57751805/could-not-send-command-to-xprinter/57778965#57778965", "title": "Could not send command to XPrinter", "body": "<p>Not sure what you're trying to do with the IP address...</p>\n\n<p>Here is all you need to print in iOS:</p>\n\n<p>Class printInteractionController = NSClassFromString(@\"UIPrintInteractionController\");</p>\n\n<pre><code>if ((printInteractionController != nil) &amp;&amp; [printInteractionController isPrintingAvailable])\n{\n    NSURL *fileURL = document.fileURL; // Document file URL\n\n    printInteraction = [printInteractionController sharedPrintController];\n\n    if ([printInteractionController canPrintURL:fileURL] == YES) // Check first\n    {\n        UIPrintInfo *printInfo = [NSClassFromString(@\"UIPrintInfo\") printInfo];\n\n        printInfo.duplex = UIPrintInfoDuplexLongEdge;\n        printInfo.outputType = UIPrintInfoOutputGeneral;\n        printInfo.jobName = document.fileName;\n\n        printInteraction.printInfo = printInfo;\n        printInteraction.printingItem = fileURL;\n        printInteraction.showsPageRange = YES;\n\n        if ([UIDevice currentDevice].userInterfaceIdiom == UIUserInterfaceIdiomPad)\n        {\n            [printInteraction presentFromRect:button.bounds inView:button animated:YES completionHandler:\n                ^(UIPrintInteractionController *pic, BOOL completed, NSError *error)\n                {\n                    #ifdef DEBUG\n                        if ((completed == NO) &amp;&amp; (error != nil)) NSLog(@\"%s %@\", __FUNCTION__, error);\n                    #endif\n                }\n            ];\n        }\n        else // Presume UIUserInterfaceIdiomPhone\n        {\n            [printInteraction presentAnimated:YES completionHandler:\n                ^(UIPrintInteractionController *pic, BOOL completed, NSError *error)\n                {\n                    #ifdef DEBUG\n                        if ((completed == NO) &amp;&amp; (error != nil)) NSLog(@\"%s %@\", __FUNCTION__, error);\n                    #endif\n                }\n            ];\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12008248, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cmt6IxLe9Ec/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdE5LSjecrvEPW6HJZiOTTfc8OaGg/photo.jpg?sz=128", "display_name": "John Vu", "link": "https://stackoverflow.com/users/12008248/john-vu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567546164, "creation_date": 1567402046, "question_id": 57751805, "link": "https://stackoverflow.com/questions/57751805/could-not-send-command-to-xprinter", "title": "Could not send command to XPrinter", "body": "<p>I have a problem to send command to xPrinter. I have its SDK for iOS app and follow the instruction in this framework to successfully connect my iOS app to this printer via WIFI connection.</p>\n\n<pre><code>NSString * ip = \"IPAddress\";\n[manager MConnectWithHost:ip port:9100 completion: ^(BOOL result){  \n}];\n</code></pre>\n\n<p>--> manager is created and connection is successfully.</p>\n\n<p>But when send command by MWriteCommandWithData method of MWIFIManager class, it always print out the String, not command to printer.</p>\n\n<p>Example:\nI want to cut the page by prepare cmd for TscCommnand:</p>\n\n<pre><code>NSData *data = [TscCommand cut] \n</code></pre>\n\n<p>then send it to MWIFIManager by:</p>\n\n<pre><code>[manager MWriteCommandWithData:data];\n</code></pre>\n\n<p>Result: it print 'CUT' to the paper of printer, not cut the paper</p>\n\n<p>The SDK I downloaded from here: <a href=\"https://www.xprintertech.com/sdk\" rel=\"nofollow noreferrer\">https://www.xprintertech.com/sdk</a>\nit was written by Objective C and My iOS app was developed by Swift. \nI just want to implement a method to connect and print on the XPrinter (thermal-printer).</p>\n\n<p>Anyone who has experience on this please advise. Thanks so much!</p>\n"}, {"tags": ["objective-c", "objective-c-runtime"], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 1, "last_activity_date": 1567379417, "creation_date": 1567379417, "answer_id": 57750094, "question_id": 57748786, "link": "https://stackoverflow.com/questions/57748786/what-is-the-old-style-encoding-specified-in-the-objective-c-property-type/57750094#57750094", "title": "What is the old-style encoding specified in the Objective-C property type?", "body": "<p>Elsewhere in that same guide is the <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html\" rel=\"nofollow noreferrer\">Type Encodings</a> article. That explains the encoding your first question is referring to.</p>\n\n<p>As to your second question, yes, it's referring to the obsolete garbage collector. It's not related to ARC.</p>\n"}, {"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": true, "score": 2, "last_activity_date": 1567388586, "creation_date": 1567388586, "answer_id": 57750631, "question_id": 57748786, "link": "https://stackoverflow.com/questions/57748786/what-is-the-old-style-encoding-specified-in-the-objective-c-property-type/57750631#57750631", "title": "What is the old-style encoding specified in the Objective-C property type?", "body": "<p>I think they made slight changes to the type encoding format a long time ago (possibly when they went to ObjC 2.0 and added properties, back in the MacOS 10.5 time frame, or even earlier).  I'm not sure I've seen the 't' actually used; it may be something used by the gcc compiler and not clang.  The 'T' value is the type encoding which is used today.</p>\n\n<p>For the second question, yes that is for the obsolete garbage collector.</p>\n"}, {"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 2, "last_activity_date": 1567399965, "creation_date": 1567399965, "answer_id": 57751572, "question_id": 57748786, "link": "https://stackoverflow.com/questions/57748786/what-is-the-old-style-encoding-specified-in-the-objective-c-property-type/57751572#57751572", "title": "What is the old-style encoding specified in the Objective-C property type?", "body": "<blockquote>\n  <p>What is the old-style encoding mentioned in the Objective-C Property Type Encoding documentation?</p>\n</blockquote>\n\n<p>This appears to be a mystery. The only difference between the type encoding specified in the \"Objective-C 2.0 Runtime Programming Guide\" (Apple, 2009) which you are looking at and that given in \"Object-Oriented Programming and The Objective-C Language\" (NeXT, 1995) is the former has the addition of \"B \u2013 A C++ <code>bool</code> or a C99 <code>_Bool</code>.</p>\n\n<p>Further why would the property type string, which is a \"string [that] starts with a T followed by the @encode type\" further require a \"t\" later in the string which \"Specifies the type using old-style encoding\"?</p>\n\n<p>If you are attempting to parse property type strings you already need to handle unexpected characters as errors \u2013 I'd suggest you just treat \"t\" as one such erroneous character.</p>\n\n<blockquote>\n  <p>Is it related to the Garbage Collector that Objective-C once had</p>\n</blockquote>\n\n<p>That is what Apple usually means when they use the term \"garbage collect(or|ion)\" (other sources refer to \"reference counting\" as a kind of \"garbage collection\"), so it is reasonably safe to assume that here \u2013\u00a0\"assume\" because as is common in much of Apple's \"specifications\" the semantics of the \"P\" encoding do not appear to be defined anywhere and why the static property type string needs a repeat of information already provided by the type and attributes in the string is not explained.</p>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "accepted_answer_id": 57750631, "answer_count": 3, "score": 0, "last_activity_date": 1567399965, "creation_date": 1567365424, "last_edit_date": 1567369694, "question_id": 57748786, "link": "https://stackoverflow.com/questions/57748786/what-is-the-old-style-encoding-specified-in-the-objective-c-property-type", "title": "What is the old-style encoding specified in the Objective-C property type?", "body": "<p>What is the old-style encoding mentioned in the Objective-C <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtPropertyIntrospection.html#//apple_ref/doc/uid/TP40008048-CH101-SW6\" rel=\"nofollow noreferrer\">Property Type Encoding</a> documentation?</p>\n\n<blockquote>\n  <p>t&lt;encoding&gt;  Specifies the type using old-style encoding.</p>\n</blockquote>\n\n<hr>\n\n<p>Also what is </p>\n\n<blockquote>\n  <p>The property is eligible for garbage collection.</p>\n</blockquote>\n\n<p>mean. Is it related to the Garbage Collector that Objective-C once had or has to do with ARC retain counts?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nsdocument"], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 1, "creation_date": 1574155490, "post_id": 57747868, "comment_id": 104120790, "body": "You can accept your own answer if it works now. Then your question does not seem to have no viable answer when it appears in a list."}], "tags": [], "owner": {"reputation": 294, "user_id": 5260397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1d6cd6a656c19429e91ce63f2fd1db?s=128&d=identicon&r=PG&f=1", "display_name": "Tritonal", "link": "https://stackoverflow.com/users/5260397/tritonal"}, "is_accepted": true, "score": 0, "last_activity_date": 1567356822, "creation_date": 1567356822, "answer_id": 57747868, "question_id": 57747762, "link": "https://stackoverflow.com/questions/57747762/how-to-release-memory-after-nsdocument-window-has-closed/57747868#57747868", "title": "How to release memory after NSDocument window has closed?", "body": "<p>My NSDocument implementation had a <code>@property (nonatomic) NSWindow *thisWindow</code>. The nonatomic property kept the whole window alive, even when set to <code>nil</code>.</p>\n"}], "owner": {"reputation": 294, "user_id": 5260397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1d6cd6a656c19429e91ce63f2fd1db?s=128&d=identicon&r=PG&f=1", "display_name": "Tritonal", "link": "https://stackoverflow.com/users/5260397/tritonal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 57747868, "answer_count": 1, "score": 0, "last_activity_date": 1567356822, "creation_date": 1567355983, "question_id": 57747762, "link": "https://stackoverflow.com/questions/57747762/how-to-release-memory-after-nsdocument-window-has-closed", "title": "How to release memory after NSDocument window has closed?", "body": "<p>I am working on a multi-window and document-based app. NSDocument handles the windows. Each document is about 80-100 MB in size.</p>\n\n<p>When a window is closed, its memory footprint doesn't disappear at all. It seems that <em>nothing</em> is released whenever a window closes. Every delegate I've set should be <code>self</code>. Memory usage is pretty stable otherwise, but something is kept alive.</p>\n\n<p>What could be causing this? Any hints where I could start debugging the problem?</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller"], "owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1567342882, "creation_date": 1567266754, "last_edit_date": 1567342882, "question_id": 57739514, "link": "https://stackoverflow.com/questions/57739514/detect-when-swiping-back-gets-stopped", "title": "Detect when Swiping back gets stopped", "body": "<p>When I click on a button a new ViewController opens and <code>viewWillAppear</code> is called, where I change some stuff in my navigationBar. </p>\n\n<p>When I go back to the previous ViewController the <code>viewWillAppear</code> method of this ViewController is called and also changes some stuff in my navigationBar.</p>\n\n<p>This works fine. <strong>BUT</strong> when going back with swiping, while swiping the <code>viewWillAppear</code> from the previous ViewController is called. When the swiping is not finished as in 'oh I decideded to stay on this viewController', the navigationBar looks wrong because the <code>viewWillAppear</code> from the previous viewController got called.</p>\n\n<p>I would need to detect if somebody does the swiping but doesn't <code>finish</code> it as in really going back, to undo the navigationBar changes.</p>\n\n<p>Is this possible?</p>\n\n<p><strong>EDIT</strong> Or in best case it would call the <code>viewWillAppear</code> method of the already showing viewController when the user swipes back to the right side too.</p>\n\n<p>I thought the lifecycle would be like this when not finishing a swipe form page two to page one:</p>\n\n<pre><code>viewWillDisappear Page Two\nviewWillAppear Page One\nviewWillDisappear Page One\nviewDidDisappear Page One\nviewWillAppear Page Two\nviewDidAppear Page Two \n</code></pre>\n\n<p>but for me <code>viewWillDisappear</code> is never called on Page Two. Also <code>viewWillAppear</code> is never called for page two.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "react-native", "react-native-firebase"], "comments": [{"owner": {"reputation": 666, "user_id": 7510392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3cdA.jpg?s=128&g=1", "display_name": "Alessandro Battistini", "link": "https://stackoverflow.com/users/7510392/alessandro-battistini"}, "edited": false, "score": 0, "creation_date": 1569104851, "post_id": 57738655, "comment_id": 102489224, "body": "Similar problem. Try to look my answer here <a href=\"https://stackoverflow.com/questions/57218066/build-failed-xcode-10-cordova-firebase-project/58044569#58044569\">https://stackoverflow.com/questions/57218066/build-failed-xc&zwnj;&#8203;ode-10-cordova-fireb&zwnj;&#8203;ase-project/58044569&zwnj;&#8203;#58044569</a>"}], "owner": {"reputation": 165, "user_id": 4109454, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2cbda4c5a11d959e39a7b49345da49dc?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/4109454/stefan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1257, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567260038, "creation_date": 1567260038, "question_id": 57738655, "link": "https://stackoverflow.com/questions/57738655/firebase-firebase-h-file-not-found-after-trying-everything", "title": "&#39;Firebase/Firebase.h&#39; file not found after trying everything", "body": "<p><a href=\"https://i.stack.imgur.com/NfeK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NfeK5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have this error when trying to build a React Native project on iOS:</p>\n\n<blockquote>\n  <p>'Firebase/Firebase.h' file not found</p>\n</blockquote>\n\n<p>I already have <code>#import &lt;Firebase.h&gt;</code> in AppDelegate.m which works just fine, but this error appear in react-native-firebase module\nMy issue's description is similar to this <a href=\"https://github.com/invertase/react-native-firebase/issues/1847\" rel=\"nofollow noreferrer\">https://github.com/invertase/react-native-firebase/issues/1847</a> </p>\n\n<p>I followed all the comments of that thread plus every other thread that I could find online, with no success.</p>\n\n<p>Tried with and without Cocoa.</p>\n\n<p>Changed search framework path and header path.</p>\n\n<p>Deleted pods file, caches, pod update, pod install, and so many things.</p>\n\n<p>Any suggestion would be appreciated.</p>\n\n<p>I have to mention again that Firebase.h import from AppDelegate works just fine. </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 671, "user_id": 1900120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc97b795417081275df09e2b9549316?s=128&d=identicon&r=PG", "display_name": "MatthewLuiHK", "link": "https://stackoverflow.com/users/1900120/matthewluihk"}, "edited": false, "score": 1, "creation_date": 1567245265, "post_id": 57736884, "comment_id": 101912990, "body": "Create a objc wrapper is the easiest way to deal with it"}, {"owner": {"reputation": 2936, "user_id": 487605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4356897a8ba93f63c91cef434ad96880?s=128&d=identicon&r=PG", "display_name": "Krystian", "link": "https://stackoverflow.com/users/487605/krystian"}, "reply_to_user": {"reputation": 671, "user_id": 1900120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc97b795417081275df09e2b9549316?s=128&d=identicon&r=PG", "display_name": "MatthewLuiHK", "link": "https://stackoverflow.com/users/1900120/matthewluihk"}, "edited": false, "score": 0, "creation_date": 1567246069, "post_id": 57736884, "comment_id": 101913154, "body": "Could you elaborate on that?"}, {"owner": {"reputation": 671, "user_id": 1900120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc97b795417081275df09e2b9549316?s=128&d=identicon&r=PG", "display_name": "MatthewLuiHK", "link": "https://stackoverflow.com/users/1900120/matthewluihk"}, "edited": false, "score": 1, "creation_date": 1567246922, "post_id": 57736884, "comment_id": 101913358, "body": "Make a wrapper class do all the thing you want in objc, and expose a simple interface to swift. Since if both protocol are defined in objc, the above code you shared should work. So i assume you are defining swift protocol and use in objc id type constraint."}, {"owner": {"reputation": 2936, "user_id": 487605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4356897a8ba93f63c91cef434ad96880?s=128&d=identicon&r=PG", "display_name": "Krystian", "link": "https://stackoverflow.com/users/487605/krystian"}, "reply_to_user": {"reputation": 671, "user_id": 1900120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc97b795417081275df09e2b9549316?s=128&d=identicon&r=PG", "display_name": "MatthewLuiHK", "link": "https://stackoverflow.com/users/1900120/matthewluihk"}, "edited": false, "score": 0, "creation_date": 1567248669, "post_id": 57736884, "comment_id": 101913766, "body": "Thanks @MatthewLuiHK Indeed easiest thing."}], "owner": {"reputation": 2936, "user_id": 487605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4356897a8ba93f63c91cef434ad96880?s=128&d=identicon&r=PG", "display_name": "Krystian", "link": "https://stackoverflow.com/users/487605/krystian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567244589, "creation_date": 1567244589, "question_id": 57736884, "link": "https://stackoverflow.com/questions/57736884/how-to-call-a-static-objc-method-from-swift-with-idsomeprotocol-nsobject-type", "title": "How to call a static objc method from swift with id&lt;SomeProtocol, NSObject&gt; type?", "body": "<p>In the header file I have</p>\n\n<pre><code>+(id&lt;SomeOtherType,NSObject&gt;) getInstance: id&lt;SomeType,NSObject&gt;) connection error:(NSError**)error;\n</code></pre>\n\n<p>And I struggle to call it from the swift.</p>\n\n<p>I already have a reference to <code>SometType</code> object, but how do I pass it to the <code>getInstance</code> method?</p>\n\n<pre><code>var error : NSError!\nlet connection : SomeType = myConnection;\nlet device = Factory.getInstance(connection, error: &amp;error)\n</code></pre>\n\n<p>obviously doesn't work.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "gradient"], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 6223384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f2429571275d7072789d7ab472986085?s=128&d=identicon&r=PG&f=1", "display_name": "wkx", "link": "https://stackoverflow.com/users/6223384/wkx"}, "edited": false, "score": 0, "creation_date": 1567329849, "post_id": 57738222, "comment_id": 101927697, "body": "It&#39;s a nice solution :)"}], "tags": [], "owner": {"reputation": 1509, "user_id": 5130783, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MxMtc.jpg?s=128&g=1", "display_name": "Changnam Hong", "link": "https://stackoverflow.com/users/5130783/changnam-hong"}, "is_accepted": false, "score": 4, "last_activity_date": 1567267516, "last_edit_date": 1592644375, "creation_date": 1567256391, "answer_id": 57738222, "question_id": 57736666, "link": "https://stackoverflow.com/questions/57736666/gradient-color-is-truncated-in-uilabel-in-non-english-language/57738222#57738222", "title": "Gradient color is truncated in UILabel in non-english language", "body": "<p>I think this is the bug of UIKit.\nSize of the tile gets wrong when label has none English Characters.</p>\n<p>If you want to mask gradient color on your label, just use masking view for your label.</p>\n<h3>ObjectiveC</h3>\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10, 100, 0, 0)];\n    label.font = [UIFont boldSystemFontOfSize:30];\n    label.text = @&quot;\u541b\u306e\u540d\u306f&quot;;\n    [label sizeToFit];\n\n\n    UIView *gradientView = [[UIView alloc] initWithFrame:label.frame];\n    label.frame = gradientView.bounds;\n\n    CAGradientLayer *gradientLayer = [CAGradientLayer layer];\n    gradientLayer.frame = gradientView.bounds;\n    gradientLayer.colors = @[(__bridge id)UIColor.redColor.CGColor, (__bridge id)UIColor.yellowColor.CGColor];\n    gradientLayer.startPoint = CGPointMake(0, 0.5);\n    gradientLayer.endPoint = CGPointMake(1, 0.5);\n\n    [gradientView.layer addSublayer:gradientLayer];\n    [gradientView addSubview:label];\n    [gradientView setMaskView:label];\n}\n</code></pre>\n<h3>Swift</h3>\n<pre class=\"lang-swift prettyprint-override\"><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    let label = UILabel(frame: CGRect(x: 10, y: 100, width: 0, height: 0))\n    label.text = &quot;\u541b\u306e\u540d\u306f&quot;\n    label.font = UIFont.boldSystemFont(ofSize: 30)\n    label.sizeToFit()\n\n    let gradientView = UIView(frame: label.frame)\n    label.frame = gradientView.bounds\n    let gradientLayer = CAGradientLayer()\n    gradientLayer.frame = gradientView.bounds\n    gradientLayer.colors = [UIColor.red.cgColor, UIColor.yellow.cgColor]\n    gradientLayer.startPoint = CGPoint(x: 0, y: 0.5)\n    gradientLayer.endPoint = CGPoint(x: 1, y: 0.5)\n\n    gradientView.layer.addSublayer(gradientLayer)\n    gradientView.addSubview(label)\n    gradientView.mask = label\n\n    self.view.addSubview(gradientView)\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/XDYhk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDYhk.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 401, "user_id": 6223384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f2429571275d7072789d7ab472986085?s=128&d=identicon&r=PG&f=1", "display_name": "wkx", "link": "https://stackoverflow.com/users/6223384/wkx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567267516, "creation_date": 1567242912, "question_id": 57736666, "link": "https://stackoverflow.com/questions/57736666/gradient-color-is-truncated-in-uilabel-in-non-english-language", "title": "Gradient color is truncated in UILabel in non-english language", "body": "<p>I want to set gradient color to the text in UILabel but find that if the text is non-english language, the gradient color truncated. Is this a bug?</p>\n\n<p><a href=\"https://i.stack.imgur.com/lgXuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgXuT.png\" alt=\"images\"></a></p>\n\n<p>Code is shown below:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(10, 100, 0, 0)];\n    label.font = [UIFont boldSystemFontOfSize:30];\n    label.text = @\"Your Name\";\n    [label sizeToFit];\n\n    UIImage *gradientImage = [self.class gradientImageWithSize:label.frame.size beginColor:UIColor.redColor endColor:UIColor.yellowColor];\n\n    label.textColor = [UIColor colorWithPatternImage:gradientImage];\n    [self.view addSubview:label];\n}\n\n+ (UIImage *)gradientImageWithSize:(CGSize)size beginColor:(UIColor *)beginColor endColor:(UIColor *)endColor {\n    CAGradientLayer *gradientLayer = [CAGradientLayer layer];\n    gradientLayer.colors = @[(__bridge id)beginColor.CGColor, (__bridge id)endColor.CGColor];\n    gradientLayer.startPoint = CGPointMake(0, 0.5);\n    gradientLayer.endPoint = CGPointMake(1, 0.5);\n    gradientLayer.frame = CGRectMake(0, 0, size.width, size.height);\n\n    UIGraphicsBeginImageContext(gradientLayer.bounds.size);\n    [gradientLayer renderInContext:UIGraphicsGetCurrentContext()];\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    return image;\n}\n</code></pre>\n\n<p>Just replace the label.text to:</p>\n\n<pre><code>label.text = @\"\u4f60\u7684\u540d\u5b57\";\n\nOr\n\nlabel.text = @\"\u541b\u306e\u540d\u306f\";\n</code></pre>\n\n<p>then it happens. Does anyone know why?</p>\n"}, {"tags": ["ios", "objective-c", "ssl-certificate"], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 4322841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J25yW.jpg?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/4322841/artem"}, "is_accepted": false, "score": 0, "last_activity_date": 1568060381, "creation_date": 1568060381, "answer_id": 57860702, "question_id": 57731433, "link": "https://stackoverflow.com/questions/57731433/ios-12-validate-local-certificate-with-urlsession/57860702#57860702", "title": "iOS 12: validate local certificate with URLSession", "body": "<p>I think, that \"certificate pinning\" is what you seek for.\nIt well described <a href=\"https://www.raywenderlich.com/1484288-preventing-man-in-the-middle-attacks-in-ios-with-ssl-pinning\" rel=\"nofollow noreferrer\">here</a> and there SO answers too, for <a href=\"https://stackoverflow.com/questions/50171916/how-to-implement-ssl-pinning-in-ios\">example</a>.</p>\n\n<p>If you in doubt about hardcode public key of server in app (as described in first link), then I think it is quite Ok, because, well, public key is public.</p>\n"}, {"tags": [], "owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "is_accepted": false, "score": 1, "last_activity_date": 1568126422, "creation_date": 1568126422, "answer_id": 57873189, "question_id": 57731433, "link": "https://stackoverflow.com/questions/57731433/ios-12-validate-local-certificate-with-urlsession/57873189#57873189", "title": "iOS 12: validate local certificate with URLSession", "body": "<p>Have a look in TrustKit <a href=\"https://github.com/datatheorem/TrustKit\" rel=\"nofollow noreferrer\">https://github.com/datatheorem/TrustKit</a>. It is the defacto standard for certificate validation and pinning.</p>\n\n<p>For example code will be something like this:</p>\n\n<pre><code>func webView(_ webView: WKWebView, didReceive challenge: URLAuthenticationChallenge, completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -&gt; Void) {\n        let validator = configureTrustKit().pinningValidator\n        if(!validator.handle(challenge, completionHandler: completionHandler)){\n            completionHandler(URLSession.AuthChallengeDisposition.cancelAuthenticationChallenge, nil)\n        }\n    }\n\nfunc configureTrustKit()-&gt;TrustKit{\n        let config = [kTSKPinnedDomains:\n            [URLRepository.baseURL.host: [kTSKIncludeSubdomains: true,\n                                          kTSKEnforcePinning: true,\n                                          kTSKPublicKeyHashes: \n\n    URLRepository.pinForCurrentStage\n                    ]\n                ]\n            ]\n            return TrustKit(configuration: config)\n        }\n</code></pre>\n\n<p>URLSession or frameworks like Alamofire have similar callbacks.</p>\n"}], "owner": {"reputation": 618, "user_id": 491357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b73f4e69a9aa1398c57a21ae739e957?s=128&d=identicon&r=PG", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/491357/vladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1568126422, "creation_date": 1567188533, "question_id": 57731433, "link": "https://stackoverflow.com/questions/57731433/ios-12-validate-local-certificate-with-urlsession", "title": "iOS 12: validate local certificate with URLSession", "body": "<p>I have a service in the local network with uses custom signed certificate for HTTPS connection. I have the certificate (cer, p12, der, whatever, they are all convertible to each other). Question is what should I write in didReceiveChallenge when receiveing a chellenge of NSURLAuthenticationMethodClientCertificate?</p>\n\n<p>And NO, I don't want to use NSAllowsArbitraryLoads, that would be a security breach. I'm about to use NSAllowsLocalNetworking so far.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)URLSession:(NSURLSession*)session\n    didReceiveChallenge:(NSURLAuthenticationChallenge*)challenge\n      completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition, NSURLCredential* _Nullable))completionHandler {\n    bool handled = false;\n\n    // Always trust any server name (which is an IP address actually)\n    NSLog(@\"method: %@\", challenge.protectionSpace.authenticationMethod);\n    if (challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodServerTrust) {\n        SecTrustRef trust = challenge.protectionSpace.serverTrust;\n        if (trust != nullptr) {\n            completionHandler(NSURLSessionAuthChallengeUseCredential, [NSURLCredential credentialForTrust:trust]);\n            handled = true;\n        }\n    }\n    else if (challenge.protectionSpace.authenticationMethod == NSURLAuthenticationMethodClientCertificate) {\n        NSString* cerFile = [NSBundle.mainBundle pathForResource:@\"dev\" ofType:@\"der\"];\n        NSData* data = [NSData dataWithContentsOfFile:cerFile];\n        SecCertificateRef cert = SecCertificateCreateWithData(nil, (CFDataRef)data);\n\n\n        // here I have to somehow validate using existing certificate...\n\n    }\n\n    if (!handled) {\n        completionHandler(NSURLSessionAuthChallengePerformDefaultHandling, nil);\n    }\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1567187875, "post_id": 57731194, "comment_id": 101902826, "body": "if it&#39;s a protocol, just make a swift version of protocol with different/similar name. It is much better to make one way transfering not cross again and again. I mean if you want to use it swift finally, can you make subclass of Objc and then extend it with a swift protocol?"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1567188580, "post_id": 57731194, "comment_id": 101903053, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/25670431/how-to-prevent-circular-reference-when-swift-bridging-header-imports-a-file-that\" title=\"how to prevent circular reference when swift bridging header imports a file that\">stackoverflow.com/questions/25670431/&hellip;</a> ?"}, {"owner": {"reputation": 225, "user_id": 11730788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e2a48fdf3336637f129559bdfc7006?s=128&d=identicon&r=PG&f=1", "display_name": "curiously77", "link": "https://stackoverflow.com/users/11730788/curiously77"}, "edited": false, "score": 0, "creation_date": 1567189438, "post_id": 57731194, "comment_id": 101903319, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25670431/how-to-prevent-circular-reference-when-swift-bridging-header-imports-a-file-that\">How to prevent circular reference when Swift bridging header imports a file that imports Hopscotch-Swift.h itself</a>"}, {"owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1567190377, "post_id": 57731194, "comment_id": 101903582, "body": "@MartinR You were correct, it was a duplicate but only when talking about protocols and the same problem arises when talking about inheritance. The given work around at the other question works for protocols but not for inheritance, so I changed that question to other case that bugs me, now it isn&#39;t a duplicate any longer."}], "owner": {"reputation": 106086, "user_id": 15809, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2ULwK.jpg?s=128&g=1", "display_name": "Mecki", "link": "https://stackoverflow.com/users/15809/mecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567190251, "creation_date": 1567187230, "last_edit_date": 1567190251, "question_id": 57731194, "link": "https://stackoverflow.com/questions/57731194/obj-c-classes-inheriting-from-swift-classes-cannot-be-used-by-swift-code", "title": "Obj-C classes inheriting from Swift classes cannot be used by Swift code?", "body": "<p>I have a class that is defined in Swift:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>// SwiftClass.swift\n\n@objc\nclass SwiftClass: NSObject {\n  // ...\n}\n</code></pre>\n\n<p>An Objective-C class can inherit from that Swift class:</p>\n\n<pre class=\"lang-objc prettyprint-override\"><code>// ObjCObject.h\n\n#import \"MyModule-Swift.h\"\n\n@interface ObjCObject: SwiftClass\n  // ...\n@end\n</code></pre>\n\n<p>However, when doing so, I cannot use that class in Swift code anymore. </p>\n\n<p>To use it in Swift, I have to add it to the bridging header:</p>\n\n<pre class=\"lang-objc prettyprint-override\"><code>// MyModule-BridgingHeader.h\n\n#import \"ObjCObject.h\"\n</code></pre>\n\n<p>as only classes referenced by the bridging header are visible to Swift code. And this creates a cyclic reference, as the bridging header must be processed prior to compiling the Swift source code yet the generated Swift header (<code>MyModule-Swift.h</code>) only exists after compiling the Swift source code and thus won't exist when the bridging header is being processed. </p>\n\n<p>If it was just for method arguments, I could use forward declarations but an Obj-C class cannot inherit from a forward declared class.</p>\n\n<p>So am I just missing something here or is it really the case that you can use Obj-C classes in Swift and Swift classes in Obj-C but you cannot use an Obj-C class in Swift if it inherits from a Swift class?</p>\n"}, {"tags": ["objective-c", "macos", "audio", "ffmpeg"], "comments": [{"owner": {"reputation": 453, "user_id": 4271966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15eb2e93069be9c0daa456cb8363ae6?s=128&d=identicon&r=PG&f=1", "display_name": "David Coler", "link": "https://stackoverflow.com/users/4271966/david-coler"}, "edited": false, "score": 0, "creation_date": 1587768919, "post_id": 57730696, "comment_id": 108649721, "body": "Is there a reason you are trying to create what is technically a Mux/Demux(codec) from scratch?  There are so many codecs already out there usable by any number of programs on any number of platforms.  It looks like you have a good idea of the classes needed to do this implementation just not how to use them to accomplish the goals.  I would study the API documentation for the library(s) you are using.  This also looks like some kind of advanced programming class project."}], "owner": {"reputation": 759, "user_id": 6852313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/njJN4.jpg?s=128&g=1", "display_name": "Darkwonder", "link": "https://stackoverflow.com/users/6852313/darkwonder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1587887511, "creation_date": 1567184605, "last_edit_date": 1587589173, "question_id": 57730696, "link": "https://stackoverflow.com/questions/57730696/merge-multi-channel-audio-buffers-into-one-cmsamplebuffer", "title": "Merge multi channel audio buffers into one CMSampleBuffer", "body": "<p>I am using <strong>FFmpeg</strong> to access an <strong>RTSP</strong> stream in my <strong>macOS</strong> app. </p>\n\n<p><strong>REACHED GOALS</strong>: I have created a tone generator which creates single channel audio and returns a CMSampleBuffer. The tone generator is used to test my audio pipeline when the video's fps and audio sample rates are changed.</p>\n\n<p><strong>GOAL</strong>: The goal is to merge multi-channel audio buffers into a single CMSampleBuffer.</p>\n\n<p>Audio data lifecyle: </p>\n\n<pre><code>AVCodecContext* audioContext = self.rtspStreamProvider.audioCodecContext;\n        if (!audioContext) { return; }\n\n        // Getting audio settings from FFmpegs audio context (AVCodecContext).\n        int samplesPerChannel = audioContext-&gt;frame_size;\n        int frameNumber = audioContext-&gt;frame_number;\n        int sampleRate = audioContext-&gt;sample_rate;\n        int fps = [self.rtspStreamProvider fps];\n\n        int calculatedSampleRate = sampleRate / fps;\n\n        // NSLog(@\"\\nSamples per channel = %i, frames = %i.\\nSample rate = %i, fps = %i.\\ncalculatedSampleRate = %i.\", samplesPerChannel, frameNumber, sampleRate, fps, calculatedSampleRate);\n\n        // Decoding the audio data from a encoded AVPacket into a AVFrame.\n        AVFrame* audioFrame = [self.rtspStreamProvider readDecodedAudioFrame];\n        if (!audioFrame) { return; }\n\n        // Extracting my audio buffers from FFmpegs AVFrame.\n        uint8_t* leftChannelAudioBufRef = audioFrame-&gt;data[0];\n        uint8_t* rightChannelAudioBufRef = audioFrame-&gt;data[1];\n\n        // Creating the CMSampleBuffer with audio data.\n        CMSampleBufferRef leftSampleBuffer = [CMSampleBufferFactory createAudioSampleBufferUsingData:leftChannelAudioBufRef channelCount:1 framesCount:samplesPerChannel sampleRate:sampleRate];\n//      CMSampleBufferRef rightSampleBuffer = [CMSampleBufferFactory createAudioSampleBufferUsingData:packet-&gt;data[1] channelCount:1 framesCount:samplesPerChannel sampleRate:sampleRate];\n\n        if (!leftSampleBuffer) { return; }\n        if (!self.audioQueue) { return; }\n        if (!self.audioDelegates) { return; }\n\n        // All audio consumers will receive audio samples via delegation. \n        dispatch_sync(self.audioQueue, ^{\n            NSHashTable *audioDelegates = self.audioDelegates;\n            for (id&lt;AudioDataProviderDelegate&gt; audioDelegate in audioDelegates)\n            {\n                [audioDelegate provider:self didOutputAudioSampleBuffer:leftSampleBuffer];\n                // [audioDelegate provider:self didOutputAudioSampleBuffer:rightSampleBuffer];\n            }\n        });\n</code></pre>\n\n<p>CMSampleBuffer containing audio data creation: </p>\n\n<pre><code>import Foundation\nimport CoreMedia\n\n@objc class CMSampleBufferFactory: NSObject\n{\n\n    @objc static func createAudioSampleBufferUsing(data: UnsafeMutablePointer&lt;UInt8&gt; ,\n                                             channelCount: UInt32,\n                                             framesCount: CMItemCount,\n                                             sampleRate: Double) -&gt; CMSampleBuffer? {\n\n        /* Prepare for sample Buffer creation */\n        var sampleBuffer: CMSampleBuffer! = nil\n        var osStatus: OSStatus = -1\n        var audioFormatDescription: CMFormatDescription! = nil\n\n        var absd: AudioStreamBasicDescription! = nil\n        let sampleDuration = CMTimeMake(value: 1, timescale: Int32(sampleRate))\n        let presentationTimeStamp = CMTimeMake(value: 0, timescale: Int32(sampleRate))\n\n        // NOTE: Change bytesPerFrame if you change the block buffer value types. Currently we are using double.\n        let bytesPerFrame: UInt32 = UInt32(MemoryLayout&lt;Float32&gt;.size) * channelCount\n        let memoryBlockByteLength = framesCount * Int(bytesPerFrame)\n\n//      var acl = AudioChannelLayout()\n//      acl.mChannelLayoutTag = kAudioChannelLayoutTag_Stereo\n\n        /* Sample Buffer Block buffer creation */\n        var blockBuffer: CMBlockBuffer?\n\n        osStatus = CMBlockBufferCreateWithMemoryBlock(\n            allocator: kCFAllocatorDefault,\n            memoryBlock: nil,\n            blockLength: memoryBlockByteLength,\n            blockAllocator: nil,\n            customBlockSource: nil,\n            offsetToData: 0,\n            dataLength: memoryBlockByteLength,\n            flags: 0,\n            blockBufferOut: &amp;blockBuffer\n        )\n\n        assert(osStatus == kCMBlockBufferNoErr)\n\n        guard let eBlock = blockBuffer else { return nil }\n\n        osStatus = CMBlockBufferFillDataBytes(with: 0, blockBuffer: eBlock, offsetIntoDestination: 0, dataLength: memoryBlockByteLength)\n        assert(osStatus == kCMBlockBufferNoErr)\n\n        TVBlockBufferHelper.fillAudioBlockBuffer(blockBuffer,\n                                                 audioData: data,\n                                                 frames: Int32(framesCount))\n        /* Audio description creations */\n\n        absd = AudioStreamBasicDescription(\n            mSampleRate: sampleRate,\n            mFormatID: kAudioFormatLinearPCM,\n            mFormatFlags: kLinearPCMFormatFlagIsPacked | kLinearPCMFormatFlagIsFloat,\n            mBytesPerPacket: bytesPerFrame,\n            mFramesPerPacket: 1,\n            mBytesPerFrame: bytesPerFrame,\n            mChannelsPerFrame: channelCount,\n            mBitsPerChannel: 32,\n            mReserved: 0\n        )\n\n        guard absd != nil else {\n            print(\"\\nCreating AudioStreamBasicDescription Failed.\")\n            return nil\n        }\n\n        osStatus = CMAudioFormatDescriptionCreate(allocator: kCFAllocatorDefault,\n                                                  asbd: &amp;absd,\n                                                  layoutSize: 0,\n                                                  layout: nil,\n//                                                layoutSize: MemoryLayout&lt;AudioChannelLayout&gt;.size,\n//                                                layout: &amp;acl,\n                                                  magicCookieSize: 0,\n                                                  magicCookie: nil,\n                                                  extensions: nil,\n                                                  formatDescriptionOut: &amp;audioFormatDescription)\n\n        guard osStatus == noErr else {\n            print(\"\\nCreating CMFormatDescription Failed.\")\n            return nil\n        }\n\n        /* Create sample Buffer */\n        var timmingInfo = CMSampleTimingInfo(duration: sampleDuration, presentationTimeStamp: presentationTimeStamp, decodeTimeStamp: .invalid)\n\n        osStatus = CMSampleBufferCreate(allocator: kCFAllocatorDefault,\n                                        dataBuffer: eBlock,\n                                        dataReady: true,\n                                        makeDataReadyCallback: nil,\n                                        refcon: nil,\n                                        formatDescription: audioFormatDescription,\n                                        sampleCount: framesCount,\n                                        sampleTimingEntryCount: 1,\n                                        sampleTimingArray: &amp;timmingInfo,\n                                        sampleSizeEntryCount: 0, // Must be 0, 1, or numSamples.\n            sampleSizeArray: nil, // Pointer ot Int. Don't know the size. Don't know if its bytes or bits?\n            sampleBufferOut: &amp;sampleBuffer)\n        return sampleBuffer\n    }\n\n}\n</code></pre>\n\n<p>CMSampleBuffer gets filled with raw audio data from FFmpeg's data:</p>\n\n<pre><code>@import Foundation;\n@import CoreMedia;\n\n@interface BlockBufferHelper : NSObject\n\n+(void)fillAudioBlockBuffer:(CMBlockBufferRef)blockBuffer\n                  audioData:(uint8_t *)data\n                     frames:(int)framesCount;\n\n\n\n@end\n\n#import \"TVBlockBufferHelper.h\"\n\n@implementation BlockBufferHelper\n\n+(void)fillAudioBlockBuffer:(CMBlockBufferRef)blockBuffer\n                  audioData:(uint8_t *)data\n                     frames:(int)framesCount\n{\n    // Possibly dev error.\n    if (framesCount == 0) {\n        NSAssert(false, @\"\\nfillAudioBlockBuffer/audioData/frames will not be able to fill an blockBuffer which has no frames.\");\n        return;\n    }\n\n    char *rawBuffer = NULL;\n\n    size_t size = 0;\n\n    OSStatus status = CMBlockBufferGetDataPointer(blockBuffer, 0, &amp;size, NULL, &amp;rawBuffer);\n    if(status != noErr)\n    {\n        return;\n    }\n\n    memcpy(rawBuffer, data, framesCount);\n}\n\n@end\n</code></pre>\n\n<p>The <code>LEARNING Core Audio</code> book from Chris Adamson/Kevin Avila points me toward a <strong>multi channel mixer</strong>. \nThe multi channel mixer should have 2-n inputs and 1 output. I assume the output could be a buffer or something that could be put into a <code>CMSampleBuffer</code> for further consumption. </p>\n\n<p>This direction should lead me to <code>AudioUnits</code>, <code>AUGraph</code> and the <code>AudioToolbox</code>. I don't understand all of these classes and how they work together. I have found some code snippets on SO which could help me but most of them use <code>AudioToolBox</code> classes and don't use <code>CMSampleBuffers</code> as much as I need. </p>\n\n<p><em>Is there another way to merge audio buffers into a new one?</em></p>\n\n<p><em>Is creating a multi channel mixer using AudioToolBox the right direction?</em></p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1567183737, "post_id": 57730476, "comment_id": 101901334, "body": "maybe using  <code>indexes: inout [UInt] </code> is good enough."}], "answers": [{"tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 3, "last_activity_date": 1567185610, "last_edit_date": 1567185610, "creation_date": 1567184781, "answer_id": 57730728, "question_id": 57730476, "link": "https://stackoverflow.com/questions/57730476/how-to-represent-objc-c-nsuinteger-0-1-2-in-swift-as-unsafemutablepointer/57730728#57730728", "title": "How to represent Objc-C NSUInteger[] = {0,1,2} in Swift as UnsafeMutablePointer&lt;UInt&gt;?", "body": "<p>You can simply pass  a Swift <code>[UInt]</code> array as in-out argument  with <code>&amp;</code>, this passes the address of the array element storage to the (Objective-)C function:</p>\n\n<pre><code>var pageIndexes: [UInt] = [1, 2, 3]\nptp.printPDF(atPath: \"path\", pages: &amp;pageIndexes, length: UInt(pageIndexes.count), copy: 1)\n</code></pre>\n\n<p>For more information, see</p>\n\n<ul>\n<li><a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/using_imported_c_functions_in_swift\" rel=\"nofollow noreferrer\">Using Imported C Functions in Swift</a>,</li>\n<li><a href=\"https://developer.apple.com/swift/blog/?id=6\" rel=\"nofollow noreferrer\">Interacting with C Pointers</a>.</li>\n</ul>\n"}], "owner": {"reputation": 926, "user_id": 579217, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55b04cb2a330db181631c950a43947c4?s=128&d=identicon&r=PG&f=1", "display_name": "JBlake", "link": "https://stackoverflow.com/users/579217/jblake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57730728, "answer_count": 1, "score": 4, "last_activity_date": 1567185610, "creation_date": 1567183373, "question_id": 57730476, "link": "https://stackoverflow.com/questions/57730476/how-to-represent-objc-c-nsuinteger-0-1-2-in-swift-as-unsafemutablepointer", "title": "How to represent Objc-C NSUInteger[] = {0,1,2} in Swift as UnsafeMutablePointer&lt;UInt&gt;?", "body": "<p>Objc-C header definition:</p>\n\n<p><code>- (int)printPDFAtPath:(NSString *)pdfPath pages:(NSUInteger [])indexes length:(NSUInteger)length copy:(int)nCopy;</code></p>\n\n<p>Sample objc-C code to use this function:</p>\n\n<p><code>NSUInteger pageIndexes[] = {0};\nprintResult = [self.ptp printPDFAtPath:selectedPDFFilePath pages:pageIndexes length:length copy:self.numberOfPaper];</code></p>\n\n<p>Swift expects:</p>\n\n<p><code>func printPDF(atPath pdfPath: String!, pages indexes: UnsafeMutablePointer&lt;UInt&gt;!, length: UInt, copy nCopy: Int32) -&gt; Int32</code></p>\n\n<p>How do I represent <code>NSUInteger pageIndexes[] = {0};</code> in Swift as a <code>UnsafeMutablePointer&lt;UInt&gt;</code>?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uikit", "uiaccessibility"], "answers": [{"tags": [], "owner": {"reputation": 4465, "user_id": 3241041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgwSb.jpg?s=128&g=1", "display_name": "alxlives", "link": "https://stackoverflow.com/users/3241041/alxlives"}, "is_accepted": false, "score": 2, "last_activity_date": 1567185652, "creation_date": 1567185652, "answer_id": 57730906, "question_id": 57730317, "link": "https://stackoverflow.com/questions/57730317/ios-how-to-set-the-accessibilityignoresinvertcolors-to-true-for-all-the-image/57730906#57730906", "title": "iOS: How to set the &#39;accessibilityIgnoresInvertColors&#39; to true for all the ImageView of the application?", "body": "<p>You can set this in the App Delegate</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>if #available(iOS 11.0, *) {\n   UIImageView.appearance().accessibilityIgnoresInvertColors = true\n}\n</code></pre>\n"}], "owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567608775, "creation_date": 1567182564, "last_edit_date": 1567608775, "question_id": 57730317, "link": "https://stackoverflow.com/questions/57730317/ios-how-to-set-the-accessibilityignoresinvertcolors-to-true-for-all-the-image", "title": "iOS: How to set the &#39;accessibilityIgnoresInvertColors&#39; to true for all the ImageView of the application?", "body": "<p>Refering to the [accessibilityIgnoresInvertColors][1], how to set the value yes for all the imageview in iOS for Swift &amp; for Objective-C (my app get both with bridge)</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "uisegmentedcontrol", "touch-up-inside"], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "is_accepted": false, "score": 0, "last_activity_date": 1567197987, "creation_date": 1567197987, "answer_id": 57733033, "question_id": 57730001, "link": "https://stackoverflow.com/questions/57730001/uisegmentedcontrol-determine-which-button-is-tapped-when-momentary-yes/57733033#57733033", "title": "UISegmentedControl determine which button is tapped when momentary = YES", "body": "<p>I'm not sure what you mean when you say \"I've tried using the \"Touch Up Inside\" event.\" Unless you specify precisely what you tried, with code, that is just a meaningless phrase.  </p>\n\n<p>Ideally, you'd want create a method something like the following, and set it up as the button's action:</p>\n\n<pre><code>- (IBAction)myButtonTouched:(id)sender forEvent:(UIEvent *)event {\n    if (event.type == UIControlEventTouchUpInside) {\n        // do your thing\n    }\n}\n</code></pre>\n\n<p>Basically you send every user event for that button to the handler and test for the one you want.</p>\n"}], "owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567197987, "creation_date": 1567180971, "question_id": 57730001, "link": "https://stackoverflow.com/questions/57730001/uisegmentedcontrol-determine-which-button-is-tapped-when-momentary-yes", "title": "UISegmentedControl determine which button is tapped when momentary = YES", "body": "<p>I have a UISegmentedControl element where there are two buttons (i.e \"Delete all Points\" and \"Delete Pt #x\"). I don't want the buttons to ever remain selected so I have them set as \"momentary = YES\". I also don't want to handle click events until AFTER the user has released a button. The problem is, I can't figure out which of the two buttons was pressed within the UISegmentedControl view.</p>\n\n<p>What I've tried:</p>\n\n<p>1) I've tried using the \"ValueChanged\" event. The nice thing here is I can get the selected index for which button was pressed (even when momentary=YES), but the problem is that this event if triggered when the user presses down... which I don't want. I want the event when the user releases their finger, and at that I only want the event when the user releases WITHIN the button view</p>\n\n<p>2) I've tried using the \"Touch Up Inside\" event. But it doesn't trigger any events when I tap on one of the buttons...</p>\n\n<p>Any help on this would be appreciated. (Programming in Objective-C)</p>\n"}, {"tags": ["ios", "objective-c", "sdwebimage"], "comments": [{"owner": {"reputation": 206, "user_id": 11040303, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l0DESidjJGA/AAAAAAAAAAI/AAAAAAAAFe8/qUOIglVwFQM/photo.jpg?sz=128", "display_name": "Duy Nguyen", "link": "https://stackoverflow.com/users/11040303/duy-nguyen"}, "edited": false, "score": 0, "creation_date": 1567177567, "post_id": 57728063, "comment_id": 101898739, "body": "Possibility duplicate of <a href=\"https://stackoverflow.com/questions/30001569/repeat-image-horizontally-and-vertically\" title=\"repeat image horizontally and vertically\">stackoverflow.com/questions/30001569/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1274, "user_id": 7716468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Olgg5.jpg?s=128&g=1", "display_name": "Nordeast", "link": "https://stackoverflow.com/users/7716468/nordeast"}, "is_accepted": true, "score": 2, "last_activity_date": 1567178222, "creation_date": 1567178222, "answer_id": 57729390, "question_id": 57728063, "link": "https://stackoverflow.com/questions/57728063/repeat-source-image-within-sdanimatedimageview/57729390#57729390", "title": "Repeat source image within SDAnimatedImageView", "body": "<p>I haven't tried this myself but I think you would have to use the image downloader and then set the image on the ImageView yourself with the tile option set.</p>\n\n<pre><code>- (nullable SDWebImageDownloadToken *)\n    downloadImageWithURL:(nullable NSURL *)url\n               completed:\n                   (nullable SDWebImageDownloaderCompletedBlock)completedBlock;\n</code></pre>\n\n<p><a href=\"https://sdwebimage.github.io/Classes/SDWebImageDownloader.html#/c:objc(cs)SDWebImageDownloader(im)downloadImageWithURL:completed:\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<pre><code>- (UIImage *)resizableImageWithCapInsets:(UIEdgeInsets)capInsets \n                            resizingMode:(UIImageResizingMode)resizingMode;\n</code></pre>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiimage/1624127-resizableimagewithcapinsets?language=objc\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<p>So I think it would work something like this:</p>\n\n<pre><code>[[SDWebImageManager sharedManager] downloadImageWithURL:imageURL\n                                                options:SDWebImageRetryFailed\n                                              completed:^(UIImage *image, NSError *error, SDImageCacheType cacheType, BOOL finished, NSURL *imageURL) {\n    self.imageView.image = [image resizableImageWithCapInsets:UIEdgeInsetsZero resizingMode:UIImageResizingModeTile];\n\n}];\n</code></pre>\n"}], "owner": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 57729390, "answer_count": 1, "score": 2, "last_activity_date": 1567178222, "creation_date": 1567173129, "question_id": 57728063, "link": "https://stackoverflow.com/questions/57728063/repeat-source-image-within-sdanimatedimageview", "title": "Repeat source image within SDAnimatedImageView", "body": "<p>I have a small tile image url (50x50) that I want to set for <code>SDAnimatedImageView</code> that occupies full screen. Is it possible to make my source tile image repeat within <code>SDAnimatedImageView</code> in vertical and horizontal axis so it occupies all space? Thus far closest I got to is using <code>contentMode</code> on <code>SDAnimatedImageView</code> to stretch this tile image, but that looks completely off.</p>\n\n<p>Thus far I am not doing anything crazy, just <code>[self sd_setImageWithURL:url];</code> where self is <code>SDAnimatedImageView</code></p>\n"}, {"tags": ["ios", "objective-c", "facebook", "embedded-video"], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 5238616, "user_type": "registered", "profile_image": "https://graph.facebook.com/967126456641541/picture?type=large", "display_name": "Mihai Fischer", "link": "https://stackoverflow.com/users/5238616/mihai-fischer"}, "is_accepted": false, "score": 0, "last_activity_date": 1567171237, "creation_date": 1567171237, "answer_id": 57727558, "question_id": 57727451, "link": "https://stackoverflow.com/questions/57727451/how-can-i-set-playsinline-1-in-facebook-embedded-video-for-wkwebview-in-object/57727558#57727558", "title": "How can i set &quot;playsinline=1&quot; in facebook Embedded Video for WKWebView In Objective - C", "body": "<p>I think you are missing <em>?</em> before <em>playsinline=1</em>. it should be something like <em><a href=\"https://example.com?playsinline=1\" rel=\"nofollow noreferrer\">https://example.com?playsinline=1</a></em></p>\n"}], "owner": {"reputation": 37, "user_id": 5130043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvNQ2.jpg?s=128&g=1", "display_name": "Ravi Kotadiya", "link": "https://stackoverflow.com/users/5130043/ravi-kotadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567173052, "creation_date": 1567170818, "last_edit_date": 1567173052, "question_id": 57727451, "link": "https://stackoverflow.com/questions/57727451/how-can-i-set-playsinline-1-in-facebook-embedded-video-for-wkwebview-in-object", "title": "How can i set &quot;playsinline=1&quot; in facebook Embedded Video for WKWebView In Objective - C", "body": "<p>How can i set playsinline in iframe Embeded url for WKWebview</p>\n\n<p>I also set WKWebViewConfiguration allowsInlineMediaPlayback to true.</p>\n\n<p>Below iframe i load in WKWebView.</p>\n\n<pre><code>&lt;iframe src=\"https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Ffacebook%2Fvideos%2F10153231379946729%2F/playsinline=1&amp;show_text=0&amp;width=100%&amp;playsinline=1\" width=\"100%\" height=\"100%\" style=\"border:none;overflow:hidden\" scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" allowFullScreen=\"false\"&gt;&lt;/iframe&gt;\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "clang", "compiler-warnings"], "comments": [{"owner": {"reputation": 6583, "user_id": 2015023, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b436c40d6ac76cd76ce05aadb9fbebcf?s=128&d=identicon&r=PG", "display_name": "Mobile Ben", "link": "https://stackoverflow.com/users/2015023/mobile-ben"}, "edited": false, "score": 0, "creation_date": 1567199194, "post_id": 57727398, "comment_id": 101906361, "body": "May not be the answer you&#39;re looking for, but if you want more stringent type checking, you can use C++ <code>enum class</code>.  If used ,<code>boolArg</code> and <code>shortArg</code> would cause compile time errors."}], "owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567170667, "creation_date": 1567170581, "last_edit_date": 1567170667, "question_id": 57727398, "link": "https://stackoverflow.com/questions/57727398/missing-a-warning-on-unexpected-implicit-enum-casts", "title": "Missing a warning on unexpected implicit enum casts", "body": "<p>I have made a new Objective-C project in Xcode 10.2.1 (Apple LLVM version 10.0.1 (clang-1001.0.46.4)), and have a code like this inside main.m:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\ntypedef NS_ENUM(NSUInteger, Fruit) {\n    Apple,\n    Banana,\n    Coconut,\n};\n\nvoid boolArg(BOOL b) { if (b) puts(\"boolArg\"); }\nvoid shortArg(short s) { if (s &gt; 0) puts(\"shortArg\"); }\nvoid fruitArg(Fruit f) { if (f == Banana) puts(\"fruitArg\"); }\n\nint main() {\n    Fruit f = Coconut;\n\n    // NEED WARN: passing Fruit instead of a boolean, unexpected cast\n    boolArg(f);\n\n    // NEED WARN: fruit (NSUInteger) instead of a short, unexpected cast losing precision\n    shortArg(f);\n\n    // NEED WARN: passing boolean instead of a Fruit, unexpected cast\n    fruitArg(YES);\n\n    return 0;\n}\n</code></pre>\n\n<p>In my codebase I'd like to protect from such implicit casts. Is it possible to enable some clang warning to catch this?</p>\n\n<p>What I tried so far and it didn't help:</p>\n\n<ul>\n<li>enabled \"Implicit Signedness Conversions\" warning;</li>\n<li>added to \"Other Warnings Flags\": <code>-Wall</code>, <code>-Wextra</code>;</li>\n<li>change main.m to main.mm (to compile with Objective-C++) - only catches the last <code>fruitArg</code> call.</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "statusbar", "ios13"], "comments": [{"owner": {"reputation": 313, "user_id": 8687925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g3dvK.jpg?s=128&g=1", "display_name": "SAXENA", "link": "https://stackoverflow.com/users/8687925/saxena"}, "edited": false, "score": 0, "creation_date": 1567169650, "post_id": 57726365, "comment_id": 101894335, "body": "check this answer <a href=\"https://stackoverflow.com/a/57152709/8687925\">stackoverflow.com/a/57152709/8687925</a>."}, {"owner": {"reputation": 123, "user_id": 8707570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f87588d6afd06d8d4bfd9999c703b9?s=128&d=identicon&r=PG&f=1", "display_name": "Nij", "link": "https://stackoverflow.com/users/8707570/nij"}, "reply_to_user": {"reputation": 313, "user_id": 8687925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g3dvK.jpg?s=128&g=1", "display_name": "SAXENA", "link": "https://stackoverflow.com/users/8687925/saxena"}, "edited": false, "score": 0, "creation_date": 1567496998, "post_id": 57726365, "comment_id": 101969710, "body": "Thanks @SAXENA - this seems to require a navigationbar to set the appearance on. I am looking for a way without navigationbar."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1567586485, "post_id": 57726365, "comment_id": 102002799, "body": "@Nij see this for help : <a href=\"https://stackoverflow.com/questions/56651245/how-to-change-the-status-bar-background-color-and-text-color-on-ios-13\">How to change the status bar background color and text color on iOS 13?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1568098748, "post_id": 57865101, "comment_id": 102156320, "body": "no it didn&#39;t help that fixed NavigationBar color only not status bar color"}], "tags": [], "owner": {"reputation": 970, "user_id": 1122718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c926f0fddfb43db696ab7b8f0d9851d6?s=128&d=identicon&r=PG", "display_name": "Ajumal", "link": "https://stackoverflow.com/users/1122718/ajumal"}, "is_accepted": false, "score": 0, "last_activity_date": 1568096700, "creation_date": 1568096700, "answer_id": 57865101, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/57865101#57865101", "title": "Change status bar background color in iOS13", "body": "<pre><code> let appearance = UINavigationBarAppearance()\n appearance.backgroundColor = .blue\n self.navigationController?.navigationBar.scrollEdgeAppearance = appearance\n</code></pre>\n\n<p>I hope, this will help you.</p>\n"}, {"comments": [{"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1568204972, "post_id": 57868387, "comment_id": 102200010, "body": "I need in obj c not swift"}, {"owner": {"reputation": 507, "user_id": 5707853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9LcPg.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/5707853/marco"}, "reply_to_user": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1568208407, "post_id": 57868387, "comment_id": 102202013, "body": "As far as I know there currently is no way to do this in Objective-C @Vinodh"}, {"owner": {"reputation": 852, "user_id": 2000573, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4zquf.jpg?s=128&g=1", "display_name": "RiccardoCh", "link": "https://stackoverflow.com/users/2000573/riccardoch"}, "edited": false, "score": 0, "creation_date": 1569404916, "post_id": 57868387, "comment_id": 102583462, "body": "Cast from &#39;UIStatusBarManager.Type&#39; to unrelated type &#39;UIView&#39; always fails"}], "tags": [], "owner": {"reputation": 507, "user_id": 5707853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9LcPg.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/5707853/marco"}, "is_accepted": false, "score": -2, "last_activity_date": 1568109648, "creation_date": 1568109648, "answer_id": 57868387, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/57868387#57868387", "title": "Change status bar background color in iOS13", "body": "<pre><code>if let statusBar = UIStatusBarManager.self as? UIView {\n    if statusBar.responds(to: #selector(setter: UIView.backgroundColor)) {\n        statusBar.backgroundColor = #colorLiteral(red: 1, green: 1, blue: 1, alpha: 1)\n    }\n}\n</code></pre>\n\n<p>I hope this works for you</p>\n"}, {"comments": [{"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1568204955, "post_id": 57883391, "comment_id": 102199998, "body": "no it didn&#39;t help that fixed NavigationBar color only not status bar color"}], "tags": [], "owner": {"reputation": 163, "user_id": 4034156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GtRro.jpg?s=128&g=1", "display_name": "iShox", "link": "https://stackoverflow.com/users/4034156/ishox"}, "is_accepted": false, "score": 0, "last_activity_date": 1568183779, "creation_date": 1568183779, "answer_id": 57883391, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/57883391#57883391", "title": "Change status bar background color in iOS13", "body": "<p>Try this</p>\n\n<pre><code>if #available(iOS 13.0, *) {\n    let navBarAppearance = UINavigationBarAppearance()\n    navBarAppearance.configureWithOpaqueBackground()\n    navBarAppearance.titleTextAttributes = [.foregroundColor: UIColor.white]\n    navBarAppearance.largeTitleTextAttributes = [.foregroundColor: UIColor.white]\n    navBarAppearance.backgroundColor = &lt;insert your color here&gt;\n    navigationBar.standardAppearance = navBarAppearance\n    navigationBar.scrollEdgeAppearance = navBarAppearance\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 10838040, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156350070523577/picture?type=large", "display_name": "RickYip", "link": "https://stackoverflow.com/users/10838040/rickyip"}, "is_accepted": false, "score": 2, "last_activity_date": 1569231768, "creation_date": 1569231768, "answer_id": 58059648, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58059648#58059648", "title": "Change status bar background color in iOS13", "body": "<p>You can just set the base view background color in your ViewController if you are not using NavigationController</p>\n\n<pre><code>view.backgroundColor = .blue\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1613463092, "post_id": 58063718, "comment_id": 117075346, "body": "Note: For those not using SceneDelegate just use <code>[UIApplication sharedApplication].statusBarFrame</code>"}], "tags": [], "owner": {"reputation": 103, "user_id": 361499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f414bd8a3d448d1b73e7cc6c81fe7f37?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/361499/lukas"}, "is_accepted": false, "score": 6, "last_activity_date": 1569245753, "creation_date": 1569245753, "answer_id": 58063718, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58063718#58063718", "title": "Change status bar background color in iOS13", "body": "<p>Objective-C Version using UIStatusBarManager:</p>\n\n<pre><code>UIView *statusBar = [[UIView alloc]initWithFrame:[UIApplication sharedApplication].keyWindow.windowScene.statusBarManager.statusBarFrame] ;\nstatusBar.backgroundColor = [UIColor whiteColor];\n[[UIApplication sharedApplication].keyWindow addSubview:statusBar]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 4575484, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XFtx-QIcNA0/AAAAAAAAAAI/AAAAAAAAAGU/HnFmHSWQvsE/photo.jpg?sz=128", "display_name": "Dug", "link": "https://stackoverflow.com/users/4575484/dug"}, "is_accepted": false, "score": 1, "last_activity_date": 1569263092, "creation_date": 1569263092, "answer_id": 58068154, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58068154#58068154", "title": "Change status bar background color in iOS13", "body": "<h2>The status bar will try and match the color of the app</h2>\n\n<p>if you have a navbar</p>\n\n<pre><code>self.navigationBar.barTintColor = UIColor.blue\n\nor\n\nUINavigationBar.appearance().barTintColor = UIColor.blue\n</code></pre>\n\n<p>if there is no navbar</p>\n\n<pre><code>view.backgroundColor = UIColor.blue\n</code></pre>\n\n<p>if your background is a webview</p>\n\n<pre><code>webView.scrollView.backgroundColor = UIColor.blue\n</code></pre>\n\n<p><em>there are probably more cases I'm missing</em></p>\n"}, {"tags": [], "owner": {"reputation": 1311, "user_id": 9978212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mwggk.png?s=128&g=1", "display_name": "midhun p", "link": "https://stackoverflow.com/users/9978212/midhun-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1569854693, "creation_date": 1569854693, "answer_id": 58170266, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58170266#58170266", "title": "Change status bar background color in iOS13", "body": "<p><strong>Call this in your base view controller</strong></p>\n\n<pre><code>public extension UIViewController {\n    func setStatusBar(color: UIColor) {\n        let tag = 12321\n        if let taggedView = self.view.viewWithTag(tag){\n            taggedView.removeFromSuperview()\n        }\n        let overView = UIView()\n        overView.frame = UIApplication.shared.statusBarFrame\n        overView.backgroundColor = color\n        overView.tag = tag\n        self.view.addSubview(overView)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 7415462, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EEz3zGJAeZk/AAAAAAAAAAI/AAAAAAAAAAw/0YDGSCKgB94/photo.jpg?sz=128", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/7415462/shubham-gupta"}, "edited": false, "score": 1, "creation_date": 1574328285, "post_id": 58179748, "comment_id": 104196458, "body": "Do we need to add this to every ViewController? What if we want to perform in the entire app."}, {"owner": {"reputation": 1068, "user_id": 9500769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rzQf5.jpg?s=128&g=1", "display_name": "Sky", "link": "https://stackoverflow.com/users/9500769/sky"}, "edited": false, "score": 0, "creation_date": 1575155112, "post_id": 58179748, "comment_id": 104471670, "body": "Not working coz &#39;keyWindow&#39; was deprecated in iOS 13.0: Should not be used for applications that support multiple scenes as it returns a key window across all connected scenes"}, {"owner": {"reputation": 121, "user_id": 9180494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/asz5Q.jpg?s=128&g=1", "display_name": "Anuranjan Bose", "link": "https://stackoverflow.com/users/9180494/anuranjan-bose"}, "edited": false, "score": 2, "creation_date": 1575372829, "post_id": 58179748, "comment_id": 104536556, "body": "How to remove the statusBar when viewWillDisappear() is called?"}, {"owner": {"reputation": 216, "user_id": 9065771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f616293aaf9d9f9622af979aa634f2fd?s=128&d=identicon&r=PG", "display_name": "TheTravloper", "link": "https://stackoverflow.com/users/9065771/thetravloper"}, "reply_to_user": {"reputation": 63, "user_id": 7415462, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EEz3zGJAeZk/AAAAAAAAAAI/AAAAAAAAAAw/0YDGSCKgB94/photo.jpg?sz=128", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/7415462/shubham-gupta"}, "edited": false, "score": 0, "creation_date": 1608096983, "post_id": 58179748, "comment_id": 115475376, "body": "@ShubhamGupta did you find a solution to perform in the entire app??"}], "tags": [], "owner": {"reputation": 67, "user_id": 9491094, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NmC9NOZdbl8/AAAAAAAAAAI/AAAAAAAAAG8/FGGHWbp918M/photo.jpg?sz=128", "display_name": "Dante", "link": "https://stackoverflow.com/users/9491094/dante"}, "is_accepted": false, "score": 5, "last_activity_date": 1569914076, "creation_date": 1569914076, "answer_id": 58179748, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58179748#58179748", "title": "Change status bar background color in iOS13", "body": "<p>Use this on your preferred ViewController</p>\n\n<pre><code>override func viewDidAppear(_ animated: Bool) {\n    if #available(iOS 13, *)\n    {\n        let statusBar = UIView(frame: (UIApplication.shared.keyWindow?.windowScene?.statusBarManager?.statusBarFrame)!)\n        statusBar.backgroundColor = UIColor.systemBackground\n        UIApplication.shared.keyWindow?.addSubview(statusBar)\n    }\n}\n</code></pre>\n\n<p>you can use your Color in \"UIColor.systemBackground\"</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 10304336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHUqt.jpg?s=128&g=1", "display_name": "Mile Dev", "link": "https://stackoverflow.com/users/10304336/mile-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1570024385, "creation_date": 1570024385, "answer_id": 58202994, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/58202994#58202994", "title": "Change status bar background color in iOS13", "body": "<p>I was using central ThemeManager class where I was setting all UI colors. This is how I solved it. You can take parts of solution which fit your need:</p>\n\n<pre><code>  let sharedApplication = UIApplication.shared\n  sharedApplication.delegate?.window??.tintColor = setYourColor\n\n  if #available(iOS 13.0, *) {\n        let statusBar = UIView(frame: (sharedApplication.delegate?.window??.windowScene?.statusBarManager?.statusBarFrame)!)\n        statusBar.backgroundColor = setYourColor\n        sharedApplication.delegate?.window??.addSubview(statusBar)\n    } else {\n        // Fallback on earlier versions\n        sharedApplication.statusBarView?.backgroundColor = setYourColor\n  }\n\n\n\nextension UIApplication {\n\nvar statusBarView: UIView? {\n    return value(forKey: \"statusBar\") as? UIView\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 597, "user_id": 7610245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b94107aeef8f267526ecdcbfbf75135?s=128&d=identicon&r=PG&f=1", "display_name": "JaspreetKour", "link": "https://stackoverflow.com/users/7610245/jaspreetkour"}, "is_accepted": false, "score": 2, "last_activity_date": 1605849721, "last_edit_date": 1605849721, "creation_date": 1605849279, "answer_id": 64924164, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/64924164#64924164", "title": "Change status bar background color in iOS13", "body": "<p><strong>Code works for Swift 5+ and iOS 13+</strong></p>\n<p>To change the StatusBar background colour, i have created a base class of UIViewController so that i can inherit same code in all the view controllers.</p>\n<p>Added &quot;statusBarColorChange()&quot; to UIViewController extension.</p>\n<pre><code>extension UIViewController {\n\n  func statusBarColorChange() {\n\n    if #available(iOS 13.0, *) {\n\n        let statusBar = UIView(frame: UIApplication.shared.windows.filter {$0.isKeyWindow}.first?.windowScene?.statusBarManager?.statusBarFrame ?? CGRect.zero)\n        statusBar.backgroundColor = .appNavigationThemeColor\n            statusBar.tag = 100\n        UIApplication.shared.windows.filter {$0.isKeyWindow}.first?.addSubview(statusBar)\n\n    } else {\n\n            let statusBar = UIApplication.shared.value(forKeyPath: &quot;statusBarWindow.statusBar&quot;) as? UIView\n            statusBar?.backgroundColor = .appNavigationThemeColor\n\n        }\n    } }\n</code></pre>\n<p>Created Base Class and inherited in other classes.</p>\n<pre><code>class BaseClass: UIViewController {\n\n   override func viewWillAppear(_ animated: Bool) {\n       self.statusBarColorChange()\n   }    \n}\n\nclass ChatListViewController: BaseClass {} \n</code></pre>\n<p>Hope will be helping :)</p>\n"}, {"tags": [], "owner": {"reputation": 620, "user_id": 641854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e29f6225b0045d6c25bb2f22ce5032c?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/641854/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1614970835, "creation_date": 1614970835, "answer_id": 66498164, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13/66498164#66498164", "title": "Change status bar background color in iOS13", "body": "<p>JaspreetKour's answer works; but, it can be very difficult to reset the status bar color for other view controllers (especially if you need image content underneath the status bar). Setting the color to .clear does not work.</p>\n<p>A simpler solution is to clear the navigation bar:</p>\n<pre><code>navigationController?.navigationBar.setBackgroundImage(UIImage(), for: .default)\nnavigationController?.navigationBar.shadowImage = UIImage()\nnavigationController?.navigationBar.backgroundColor = .clear\nnavigationController?.navigationBar.isTranslucent = true\n</code></pre>\n<p>and then add a UIView (set the background color to the color you need) to your view controller and set its constraints to the very top of your superview (not to the margin).</p>\n<p>With this technique, your color will show underneath the status bar and you won't need to mess with the statusBarManager (whose properties are all read only).</p>\n"}], "owner": {"reputation": 123, "user_id": 8707570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f87588d6afd06d8d4bfd9999c703b9?s=128&d=identicon&r=PG&f=1", "display_name": "Nij", "link": "https://stackoverflow.com/users/8707570/nij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14244, "favorite_count": 1, "answer_count": 11, "score": 11, "last_activity_date": 1614970835, "creation_date": 1567166456, "last_edit_date": 1568804476, "question_id": 57726365, "link": "https://stackoverflow.com/questions/57726365/change-status-bar-background-color-in-ios13", "title": "Change status bar background color in iOS13", "body": "<p>With iOS13 I cannot change the background color of the statusbar anymore because the statusbar is no longer accessible using \"value for key\".\nDid anybody figure out how this is possible or is there any knowledge that it will be possible in the final version of iOS13?</p>\n\n<p>I came across different proposals already like using the UIApplications StatusBarView (no longer accessible in xcode 11, beta 7) or using the statusbarmanager. Both do not give access to the status bar.</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>let statusBar: UIView = UIApplication.shared.value(forKey: \"statusBar\") as! UIView\nif statusBar.responds(to: #selector(setter: UIView.backgroundColor)) {\n  statusBar.backgroundColor = &lt;Some Color&gt;\n}\n</code></pre>\n\n<p>I expect the status bar to get the background color that I need.</p>\n"}, {"tags": ["javascript", "css", "objective-c", "ios13"], "comments": [{"owner": {"reputation": 3221, "user_id": 5408830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKmc8.jpg?s=128&g=1", "display_name": "Jogendar Choudhary", "link": "https://stackoverflow.com/users/5408830/jogendar-choudhary"}, "edited": false, "score": 0, "creation_date": 1568030588, "post_id": 57726339, "comment_id": 102133445, "body": "anyone can try to help?"}], "answers": [{"tags": [], "owner": {"reputation": 758, "user_id": 1708626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f4d2bad6170871572b9ae4a0d8352f2?s=128&d=identicon&r=PG", "display_name": "Medhi", "link": "https://stackoverflow.com/users/1708626/medhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1586189118, "creation_date": 1586189118, "answer_id": 61064015, "question_id": 57726339, "link": "https://stackoverflow.com/questions/57726339/how-to-apply-dark-mode-for-xls-file-using-wkwebview/61064015#61064015", "title": "How to apply Dark mode for xls file using WKWebView?", "body": "<p>you can try to invert all element style like this (with re-invert for images) in css :</p>\n\n<pre><code>@media (prefers-color-scheme: dark) {\n    html{\n        filter: invert(1)  hue-rotate(.5turn);\n    }\n    img {\n        filter: invert(1)  hue-rotate(.5turn);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3221, "user_id": 5408830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKmc8.jpg?s=128&g=1", "display_name": "Jogendar Choudhary", "link": "https://stackoverflow.com/users/5408830/jogendar-choudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1586189118, "creation_date": 1567166356, "last_edit_date": 1567169330, "question_id": 57726339, "link": "https://stackoverflow.com/questions/57726339/how-to-apply-dark-mode-for-xls-file-using-wkwebview", "title": "How to apply Dark mode for xls file using WKWebView?", "body": "<p>I want to apply dark mode for every document type so dark mode working fine with .doc file but not working for XLS file because xls file has many tabs so not applied in every tab.\nSo can anyone help me out?</p>\n\n<pre><code>-(void) webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation {    \n        NSString *cssString = @\" @media (prefers-color-scheme: dark) { body {background-color: black;color: white;}}\";\n        NSString *javascriptString = @\"var style = document.createElement('style'); style.innerHTML = '%@'; document.head.appendChild(style)\";\n        NSString *javascriptWithCSSString = [NSString stringWithFormat:javascriptString, cssString];\n       [webView evaluateJavaScript:javascriptWithCSSString completionHandler:nil];    \n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "chromecast"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11997903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6816f10c5d4c25bca12dca11eae9c97e?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh Ashturkar", "link": "https://stackoverflow.com/users/11997903/yogesh-ashturkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1567149852, "creation_date": 1567149852, "answer_id": 57722333, "question_id": 57722173, "link": "https://stackoverflow.com/questions/57722173/chromecast-miniview-in-storyboard-ios/57722333#57722333", "title": "Chromecast miniview in storyboard iOS", "body": "<p>Changing root view when using tab view does not look mandatory thing to me just try adding the complete navigationController object itself on the tab.\nBy this way on any one of the tab is will have your mini view with controls.</p>\n"}], "owner": {"reputation": 2773, "user_id": 3766168, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8As2n.jpg?s=128&g=1", "display_name": "Code cracker", "link": "https://stackoverflow.com/users/3766168/code-cracker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1567149852, "creation_date": 1567149180, "question_id": 57722173, "link": "https://stackoverflow.com/questions/57722173/chromecast-miniview-in-storyboard-ios", "title": "Chromecast miniview in storyboard iOS", "body": "<p>To display mini view with controls for chromecasting video in app , root view need to be changed progrmatically. the below code need to be added to the storyboard.</p>\n\n<pre><code>  // Wrap main view in the GCKUICastContainerViewController and display the mini controller.\n  UIStoryboard *appStoryboard = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n  UINavigationController *navigationController =\n          [appStoryboard instantiateViewControllerWithIdentifier:@\"MainNavigation\"];\n  GCKUICastContainerViewController *castContainerVC =\n          [[GCKCastContext sharedInstance] createCastContainerControllerForViewController:navigationController];\n  castContainerVC.miniMediaControlsItemEnabled = YES;\n  self.window = [[UIWindow alloc] initWithFrame:UIScreen.mainScreen.bounds];\n  self.window.rootViewController = castContainerVC;\n</code></pre>\n\n<p>But i made tabbar controller app , rootview intiated from storyboard. can somebody help me to change or modify the rootview to get miniView (container view) in tabbar application?</p>\n"}, {"tags": ["objective-c", "macos", "datetime", "winapi", "time"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567145528, "post_id": 57720882, "comment_id": 101883508, "body": "This is a good question. I don&#39;t think you are far off the correct code.  I would imagine the <code>srcDate</code> is in the same timezone as the input Win32 <code>FILETIME</code>, so you need to verify that first."}, {"owner": {"reputation": 39, "user_id": 11768062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbcacd3fa391de7029a622689806434?s=128&d=identicon&r=PG&f=1", "display_name": "umc", "link": "https://stackoverflow.com/users/11768062/umc"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567227047, "post_id": 57720882, "comment_id": 101910012, "body": "on the windows side got the local date+time, converted it to int64bit. On the Mac side used it, assigned the int64 generated at the Windows side to the Windows64BitSeconds as shown in the code. Observed: 1) srcDate in above was a few hours behind the Windows time. 2)destDate  in above matached the Windows date+time.   I do not have solid explanation for this observation. Can anyone see what is happening?. Thanks."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1567235374, "post_id": 57720882, "comment_id": 101911114, "body": "I can only assume time zone.  You should always store/transmit times in UTC and display in local time as necessary.  Either that or the calculation is wrong, however it looks good from the link you provided."}], "owner": {"reputation": 39, "user_id": 11768062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbcacd3fa391de7029a622689806434?s=128&d=identicon&r=PG&f=1", "display_name": "umc", "link": "https://stackoverflow.com/users/11768062/umc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567145577, "creation_date": 1567142448, "last_edit_date": 1567145577, "question_id": 57720882, "link": "https://stackoverflow.com/questions/57720882/how-to-convert-win32-filetime-to-nsdate", "title": "How to convert Win32 FILETIME to NSDate", "body": "<p>I am new to objective-C and Mac:</p>\n\n<p>How to convert the <strong>Windows64BitSeconds</strong>  in below to its MacOS NSDate localtime and UTC?.\nBy some online reading/searching came up with the following, but not sure\nif this is correct.</p>\n\n<p>//found some useful code online: <a href=\"https://stackoverflow.com/questions/6161776/convert-\">Convert Windows Filetime to second in Unix/Linux</a></p>\n\n<pre><code>#define WINDOWS_TICK 10000000\n#define SEC_TO_UNIX_EPOCH 11644473600LL\n\nwindows-filetime-to-second-in-unix-linux.\nunsigned WindowsTickToUnixSeconds(long long windowsTicks) \n{\n    return (unsigned)(windowsTicks / WINDOWS_TICK - SEC_TO_UNIX_EPOCH);\n}\n\nlong long Windows64BitSeconds = A 64 Bit Value of type FILETIME;\n\nlong long UnixSeconds = WindowsTickToUnixSeconds(Windows64BitSeconds); \nNSDate *srcDate = [NSDate dateWithTimeIntervalSince1970:UnixSeconds];\nNSLog(@\"srcDate=%@\", srcDate);  //What this supposed to display, UTC?.This seems to display local time???\n\nNSTimeZone* localTZ = [NSTimeZone localTimeZone];\nNSTimeZone* utcTZ = [NSTimeZone timeZoneWithAbbreviation:@\"UTC\"];\n\nNSInteger localGMTOffset = [localTZ secondsFromGMTForDate:sourceDate];\nNSInteger gmtOffset = [utcTZ secondsFromGMTForDate:sourceDate];\nNSTimeInterval gmtInterval = gmtOffset - localGMTOffset;\n\nNSDate* destDate = [[NSDate alloc] initWithTimeInterval:gmtInterval sinceDate:srcDate];\nNSLog(@\"destinationDate=%@\", destDate);  //What this supposed to display, UTC?.This seems to display Localtime???\n</code></pre>\n\n<p>Not certain abut the above code versus the correct code?.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 9371, "user_id": 196964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/df6zG.jpg?s=128&g=1", "display_name": "Doug Richardson", "link": "https://stackoverflow.com/users/196964/doug-richardson"}, "edited": false, "score": 0, "creation_date": 1567127602, "post_id": 57719096, "comment_id": 101880277, "body": "I took a shot at answering this, but it&#39;s a big code block that is not easy to analyze without the rest of the context it&#39;s running in. The more you can isolate and clarify your question, the more likely you are to get a useful response (and answer the question yourself)."}, {"owner": {"reputation": 9371, "user_id": 196964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/df6zG.jpg?s=128&g=1", "display_name": "Doug Richardson", "link": "https://stackoverflow.com/users/196964/doug-richardson"}, "edited": false, "score": 0, "creation_date": 1567131401, "post_id": 57719096, "comment_id": 101880840, "body": "I formatted the code so that code blocks were not unnecessarily intended and things line up. However, there are a bunch of bits that don&#39;t make sense. The first second of code (after the properties) isn&#39;t in a function. Then later down, there is a dispatch_async followed by a failure block that isn&#39;t attached to anything."}], "answers": [{"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1567130118, "post_id": 57719319, "comment_id": 101880648, "body": "Tried to par it down a bit lol! That said... I removed the NSMutableArray reset line (didnt catch that, thank you). self.finalDistances is still null - that said, is it because of this line by chance? NSDictionary *distances = [self.finalDistances objectAtIndex:indexPath.row]; I wasn&#39;t sure if objectAtIndex was the correct move :/  Or, I thought perhaps I needed to make the NSMutableArray mutableCopy? As for it not being set until the handler is done, I thought running tableview reload at the end would rectify that..."}, {"owner": {"reputation": 9371, "user_id": 196964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/df6zG.jpg?s=128&g=1", "display_name": "Doug Richardson", "link": "https://stackoverflow.com/users/196964/doug-richardson"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1567131103, "post_id": 57719319, "comment_id": 101880800, "body": "It&#39;s really hard to read the code. It&#39;s very poorly formatted. I&#39;ll take a shot at formatting it so you can learn how to improve it for future posts."}, {"owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "edited": false, "score": 0, "creation_date": 1567148778, "post_id": 57719319, "comment_id": 101884725, "body": "I agree with @DougRichardson , if you put&quot; self.finalDistances = [NSMutableArray new];&quot; inside the for loop, the array will be &quot;cleaned&quot; every loop."}], "tags": [], "owner": {"reputation": 9371, "user_id": 196964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/df6zG.jpg?s=128&g=1", "display_name": "Doug Richardson", "link": "https://stackoverflow.com/users/196964/doug-richardson"}, "is_accepted": false, "score": 1, "last_activity_date": 1567127465, "creation_date": 1567127465, "answer_id": 57719319, "question_id": 57719096, "link": "https://stackoverflow.com/questions/57719096/nsmutablearray-null-in-tableview/57719319#57719319", "title": "NSMutableArray null in tableview", "body": "<p><code>self.finalDistances</code> isn't set until the completion handler on <code>CLGeocoder</code> is run. Additionally, it is reset to an empty <code>NSMutableArray</code> each pass through the <code>for</code> loop in the completion handler.</p>\n\n<p>However, there may be other bugs as well.</p>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567131304, "creation_date": 1567124758, "last_edit_date": 1567131304, "question_id": 57719096, "link": "https://stackoverflow.com/questions/57719096/nsmutablearray-null-in-tableview", "title": "NSMutableArray null in tableview", "body": "<p>I'm using the following code to determine the distance between my logged in user and all other users in the database. I'm successfully able to add the found distances to NSMutableArray finalDistances, however I'm now trying to display those distances in my tableview cells in label kmAway. I want to display them in the same order they're returned in each cell.</p>\n\n<p>That said, when I try to implement that as shown in ViewController.m, self.finalDistances is returned as null in my tableview, even though it's populated inside the viewDidLoad. How can I accomplish this?</p>\n\n<p><strong>ViewController.h</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@property (nonatomic) CLLocationDistance kilometers;\n@property (nonatomic) CLLocation *startLocation;\n@property (nonatomic) CLLocation *endLocation;\n@property (strong, nonatomic) NSMutableArray *finalDistances;\n</code></pre>\n\n<p><strong>ViewController.m</strong> </p>\n\n<pre class=\"lang-c prettyprint-override\"><code>\nNSString *myLocation = self.currentUser[0][@\"street_address\"];\nNSLog(@\"MY LOCATION %@\", myLocation);\n\nCLGeocoder *geocoder = [[CLGeocoder alloc] init];\n[geocoder geocodeAddressString:myLocation completionHandler:^(NSArray* placemarks2, NSError* error) {\n    for (CLPlacemark* aPlacemark in placemarks2)\n    {        \n        for (NSMutableDictionary *multiplelocationsFriend in self.closeByNeighbours) {\n\n            NSString *location = [multiplelocationsFriend objectForKey:@\"address\"];\n\n            CLGeocoder *geocoderFriend = [[CLGeocoder alloc] init];\n            [geocoderFriend geocodeAddressString:location completionHandler:^(NSArray* placemarks, NSError* error) {\n                if (placemarks &amp;&amp; placemarks.count &gt; 0) {\n                    CLPlacemark *topResult = [placemarks objectAtIndex:0];\n                    MKPlacemark *placemark = [[MKPlacemark alloc] initWithPlacemark:topResult];\n                self.endLocation = [[CLLocation alloc] initWithLatitude:placemark.location.coordinate.latitude longitude:placemark.location.coordinate.longitude];\n\n                NSString *myLocation = self.currentUser[0][@\"street_address\"];\n                NSLog(@\"MY LOCATION %@\", myLocation);\n\n                CLGeocoder *geocoder = [[CLGeocoder alloc] init];\n                [geocoder geocodeAddressString:myLocation completionHandler:^(NSArray* placemarks2, NSError* error) {\n                    for (CLPlacemark* aPlacemark in placemarks2)\n                    {\n                        self.startLocation = [[CLLocation alloc] initWithLatitude:aPlacemark.location.coordinate.latitude longitude:aPlacemark.location.coordinate.longitude] ;\n                        self.kilometers = [self.startLocation distanceFromLocation:self.endLocation] / 1000;\n                        self.finalDistances = [NSMutableArray new];\n                        [self.finalDistances addObject:[NSNumber numberWithDouble:self.kilometers]];\n                        [self.neighboursView reloadData];\n                    }\n                }];\n            }\n        }];\n    }\n}\n}];\n\ndispatch_async(dispatch_get_main_queue(), ^{\n    [self.neighboursView reloadData];\n});\n\n} failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n    NSLog(@\"Failure: %@\", [error localizedDescription]);\n}];\n\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *NetworkTableIdentifier = @\"sidebarCell\";\n\n    self.sidetableView.separatorStyle = UITableViewCellSeparatorStyleNone;\n\n    sidebarCell *cell = (sidebarCell *)[tableView dequeueReusableCellWithIdentifier:NetworkTableIdentifier];\n    if (cell == nil)\n    {\n        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@\"sidebarCell\" owner:self options:nil];\n        cell = [nib objectAtIndex:0];\n    }\n\n\n    if (tableView == self.neighboursView)\n    {   \n        sidebarCell *cell = (sidebarCell *)[tableView dequeueReusableCellWithIdentifier:@\"sidebarCell\"];\n\n        NSDictionary *userName = [self.closeByNeighbours objectAtIndex:indexPath.row];\n\n        NSString *first = [userName objectForKey:@\"first name\"];\n        NSString *last = [userName objectForKey:@\"last name\"];\n        NSString *area = [userName objectForKey:@\"neighbourhood\"];\n        NSString *city = [userName objectForKey:@\"city\"];\n\n        NSDictionary *distances = [self.finalDistances objectAtIndex:indexPath.row];\n\n        [[cell kmAway] setText:[NSString stringWithFormat:@\"%@\", distances]];\n\n        [[cell areaLabel] setText:[NSString stringWithFormat:@\"%@, %@\", area, city]];\n\n        NSDictionary *userBio = [self.closeByNeighbours objectAtIndex:indexPath.row];\n\n        [[cell username] setText:[NSString stringWithFormat:@\"%@ %@\", first, last]];\n\n\n        NSString *profilePath = [[self.closeByNeighbours objectAtIndex:indexPath.row] objectForKey:@\"photo_path\"];\n\n        [cell.usermini sd_setImageWithURL:[NSURL URLWithString:profilePath]];\n\n\n        return cell;            \n    } \n\n    ...\n\n\n</code></pre>\n"}, {"tags": ["objective-c", "nsmutabledictionary", "mutability"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1567113800, "post_id": 57717868, "comment_id": 101877457, "body": "The variable type has nothing to do with the object&#39;s actual type."}, {"owner": {"reputation": 1527, "user_id": 2084274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0CmZs.jpg?s=128&g=1", "display_name": "Gallymon", "link": "https://stackoverflow.com/users/2084274/gallymon"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1567113917, "post_id": 57717868, "comment_id": 101877497, "body": "Thanks.  So, you are saying that if I create a variable of a mutable type it is not a mutable variable?  I&#39;m still confused."}, {"owner": {"reputation": 1527, "user_id": 2084274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0CmZs.jpg?s=128&g=1", "display_name": "Gallymon", "link": "https://stackoverflow.com/users/2084274/gallymon"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1567114171, "post_id": 57717868, "comment_id": 101877546, "body": "aDict is a pointer to a NSMutableDictionary.  But the dictionary itself is not mutable?  And [aDict mutableCopy]; makes it mutable?"}], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1567120211, "creation_date": 1567120211, "answer_id": 57718688, "question_id": 57717868, "link": "https://stackoverflow.com/questions/57717868/nsmutabledictionary-and-mutablecopy/57718688#57718688", "title": "NSMutableDictionary and mutableCopy", "body": "<p>The declaration of <code>dictOfDicts</code> says it's a pointer to a mutable dictionary. However, it does not use Objective-C generics syntax to say what the types of the keys or values are. So, the most we (and the compiler) can assume is that the keys are <code>id&lt;NSCopying&gt;</code> and the values are <code>id</code>, completely generic object pointers.</p>\n\n<p>You then initialize your <code>aDict</code> variable with a value obtained from <code>dictOfDicts</code>. You've declared that <code>aDict</code> is also a pointer to a mutable dictionary. That's its \"static type\", but the real type of the object it points to is determined at runtime by whatever object is held in <code>dictOfDicts</code> under that key. It might be a mutable dictionary or it might be something else. It compiles just find because the compiler can't know what type of object that value is.</p>\n\n<p>However, the real type (a.k.a. \"dynamic type\") of the object governs what operations succeed or fail/crash/whatever. In your case, it sounds like it's an immutable dictionary. So, when you attempt to mutate it, \"it didn't work\" (you don't specify what actually happened).</p>\n\n<p>You make a mutable copy and you're allowed to mutate that. However, that's now a separate object that the one in <code>dictOfDicts</code>. So, you're not modifying what you think you are.</p>\n\n<p>The solution is to put mutable dictionaries into <code>dictOfDicts</code> in the first place. Or, even better, put objects of a custom class of your own design into it, and operate on real properties.</p>\n"}], "owner": {"reputation": 1527, "user_id": 2084274, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0CmZs.jpg?s=128&g=1", "display_name": "Gallymon", "link": "https://stackoverflow.com/users/2084274/gallymon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57718688, "answer_count": 1, "score": 1, "last_activity_date": 1567120211, "creation_date": 1567113695, "last_edit_date": 1567113728, "question_id": 57717868, "link": "https://stackoverflow.com/questions/57717868/nsmutabledictionary-and-mutablecopy", "title": "NSMutableDictionary and mutableCopy", "body": "<p>I'm confused by the code, below.  Before I added the mutableCopy line, it didn't work.  After I added the line, it did. </p>\n\n<p>Why isn't aDict mutable to begin with?  I declared aDict as an NSMutableDictionary.</p>\n\n<pre><code>- (void) myRoutine: (NSMutableDictionary *) dictOfDicts\n   {\n   NSMutableDictionary * aDict = dictOfDicts[dictOfDictsKey];\n   int                   data  = [aDict[aDictKey] intValue];\n\n   aDict           = [aDict mutableCopy];\n   aDict[aDictKey] = @(++data);\n   }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "unit-testing"], "comments": [{"owner": {"reputation": 4232, "user_id": 6689101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J5M6e.jpg?s=128&g=1", "display_name": "zombie", "link": "https://stackoverflow.com/users/6689101/zombie"}, "edited": false, "score": 1, "creation_date": 1567105108, "post_id": 57715733, "comment_id": 101874409, "body": "I think it would work if you declared the variable twice with the if else micro like in #if but I would suggest to either expose it or not and don&#39;t make the test environment different than the real case because if that&#39;s the case then the test is useless"}], "answers": [{"tags": [], "owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1567107581, "creation_date": 1567107581, "answer_id": 57716830, "question_id": 57715733, "link": "https://stackoverflow.com/questions/57715733/mark-extension-as-objc-only-for-unit-tests/57716830#57716830", "title": "Mark extension as @objc only for unit tests", "body": "<p>Does marking the extension have \"significant\" compile / runtime impact?</p>\n\n<p>Not really. The compiler produces a thunk, which is an Objective C method which calls your Swift method. This thunk is what's registered with the ObjC runtime, and it's all that it sees. Among other things, it converts to/from the Swift common currency types, and those used in Object C.</p>\n\n<p>If you want to subclass and overridde that property, go ahead and do that. It's really not a big deal.</p>\n\n<p>Alternatively, you can extract the interface of your class into a protocol, conform to that protocol in your \"real\" implementation, and create a test double that mocks all the methods for testing.</p>\n"}], "owner": {"reputation": 5699, "user_id": 3327210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RTXXr.jpg?s=128&g=1", "display_name": "dirtydanee", "link": "https://stackoverflow.com/users/3327210/dirtydanee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567107581, "creation_date": 1567102215, "question_id": 57715733, "link": "https://stackoverflow.com/questions/57715733/mark-extension-as-objc-only-for-unit-tests", "title": "Mark extension as @objc only for unit tests", "body": "<p>I have a class declared in objective c like the following:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@interface Person : NSObject\n\n@property (nonatomic, readonly) NSString* firstName;\n@property (nonatomic, readonly) NSString* lastName;\n\n@end\n</code></pre>\n\n<p>And I have a extension declared in Swift to get the full name of <code>Person</code>:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>extension Person {\n    var fullName: String {\n      return \"\\(firstName) \\(lastName)\"\n    } \n}\n</code></pre>\n\n<p>I would like to write unit tests, where I would like to test the person's full name, using the extension. Therefore I create a mock subclass, and overwrite the <code>fullName</code> property. However, in order to do so, I have to expose the extension to the objective c runtime using the <code>@objc</code> keyword.</p>\n\n<p>Is there a way only to mark the extension as <code>@objc</code> only for the unit test target? Does marking the extension have \"significant\" compile / runtime impact?</p>\n\n<p>I have tried adding a Swift compile time flag, something like:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#if UNIT_TEST_TARGET_RUNNING\n@objc\n#endif\n</code></pre>\n\n<p>but this results in a compile time error. Any suggestion are welcome! \nPlease note, the example is simplified in order to present the problem, and changing the objective c interface is not possible.</p>\n"}, {"tags": ["ios", "objective-c", "uibarbuttonitem", "uitoolbar", "ios13"], "comments": [{"owner": {"reputation": 111, "user_id": 6467269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34fac8fc13f92d3f18334746378c1193?s=128&d=identicon&r=PG&f=1", "display_name": "BB-8", "link": "https://stackoverflow.com/users/6467269/bb-8"}, "edited": false, "score": 0, "creation_date": 1567130910, "post_id": 57711142, "comment_id": 101880769, "body": "Supplement.In this code, UIBarButtonItem is displayed when the code is executed. However, UIBarButtonItem disappears when the screen is redrawn when another screen is displayed and the original screen is displayed, or UIAlertController is displayed."}, {"owner": {"reputation": 1912, "user_id": 1340247, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b37dd0c30281be82f8f61aa368398464?s=128&d=identicon&r=PG", "display_name": "Arthur Garza", "link": "https://stackoverflow.com/users/1340247/arthur-garza"}, "edited": false, "score": 0, "creation_date": 1567192584, "post_id": 57711142, "comment_id": 101904316, "body": "I&#39;m having this exact same issue. Kinda weird! No visible UIToolBar when I place UIBarButtonItems in it. iOS 13.1 beta and Xcode 11 beta 7"}, {"owner": {"reputation": 863, "user_id": 5506071, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208455846819386/picture?type=large", "display_name": "Kunal Shah", "link": "https://stackoverflow.com/users/5506071/kunal-shah"}, "edited": false, "score": 0, "creation_date": 1571998153, "post_id": 57711142, "comment_id": 103432171, "body": "Did y&#39;all find a solution for this?"}, {"owner": {"reputation": 111, "user_id": 6467269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34fac8fc13f92d3f18334746378c1193?s=128&d=identicon&r=PG&f=1", "display_name": "BB-8", "link": "https://stackoverflow.com/users/6467269/bb-8"}, "edited": false, "score": 0, "creation_date": 1572580329, "post_id": 57711142, "comment_id": 103612203, "body": "As a provisional measure, we decided not to do the processing with viewDidLoad, but with viewWillAppear.  In addition, it has been changed so that button editing and display processing are performed each time UIAlertView is displayed or screen drawing changes. We have submitted a bug feedback to Apple, but there is no fundamental resolution at this time."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 6467269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34fac8fc13f92d3f18334746378c1193?s=128&d=identicon&r=PG&f=1", "display_name": "BB-8", "link": "https://stackoverflow.com/users/6467269/bb-8"}, "edited": false, "score": 0, "creation_date": 1574949635, "post_id": 59037606, "comment_id": 104415657, "body": "In the above Objective-c code, when UIToolBar is initialized, Frame size is defined by initWithFrame. Also,   As a test, I added code to redefine toolbar.frame immediately after initialization with initWithFrame, but the result was the same.  UIBarButtonItem cannot be placed in UIStackView, so unfortunately this requirement is not met.   <a href=\"https://forums.developer.apple.com/message/379749#379749\" rel=\"nofollow noreferrer\">forums.developer.apple.com/message/379749#379749</a>"}, {"owner": {"reputation": 1135, "user_id": 2917602, "user_type": "registered", "profile_image": "https://graph.facebook.com/589613707/picture?type=large", "display_name": "Christopher Larsen", "link": "https://stackoverflow.com/users/2917602/christopher-larsen"}, "reply_to_user": {"reputation": 111, "user_id": 6467269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34fac8fc13f92d3f18334746378c1193?s=128&d=identicon&r=PG&f=1", "display_name": "BB-8", "link": "https://stackoverflow.com/users/6467269/bb-8"}, "edited": false, "score": 0, "creation_date": 1575042483, "post_id": 59037606, "comment_id": 104446998, "body": "@BB-8 yeah you&#39;re right, I missed the frame being set in your code.  Was unaware you couldn&#39;t add UIToolbars to UIStackViews.  I ran into this issue and was able to solve it by setting the frame, sorry I couldn&#39;t be more help."}], "tags": [], "owner": {"reputation": 1135, "user_id": 2917602, "user_type": "registered", "profile_image": "https://graph.facebook.com/589613707/picture?type=large", "display_name": "Christopher Larsen", "link": "https://stackoverflow.com/users/2917602/christopher-larsen"}, "is_accepted": false, "score": 3, "last_activity_date": 1574704657, "creation_date": 1574704657, "answer_id": 59037606, "question_id": 57711142, "link": "https://stackoverflow.com/questions/57711142/uibarbuttonitem-via-uitoolbar-is-not-displayed-on-ios13/59037606#59037606", "title": "UIBarButtonItem via UIToolBar is not displayed on iOS13", "body": "<p>As of iOS 13 you need to give the toolbar a frame.  Know the question is objective-c, but replying in swift.</p>\n\n<pre><code>   doneToolbar.frame = CGRect(x: 0,\n                              y: 0,\n                              width: view.bounds.width,\n                              height: 40)\n</code></pre>\n\n<p>Another solution is to put your toolbar inside of a <code>stackview</code></p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 7459567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lI1Gt.jpg?s=128&g=1", "display_name": "Mohammad Farrahi", "link": "https://stackoverflow.com/users/7459567/mohammad-farrahi"}, "is_accepted": false, "score": 0, "last_activity_date": 1583904865, "creation_date": 1583904865, "answer_id": 60629802, "question_id": 57711142, "link": "https://stackoverflow.com/questions/57711142/uibarbuttonitem-via-uitoolbar-is-not-displayed-on-ios13/60629802#60629802", "title": "UIBarButtonItem via UIToolBar is not displayed on iOS13", "body": "<p>It'll prevent subviews from resizing.</p>\n\n<pre><code>toolbar.autoresizesSubviews = false;\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 6467269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34fac8fc13f92d3f18334746378c1193?s=128&d=identicon&r=PG&f=1", "display_name": "BB-8", "link": "https://stackoverflow.com/users/6467269/bb-8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1879, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1583904865, "creation_date": 1567084756, "last_edit_date": 1567142095, "question_id": 57711142, "link": "https://stackoverflow.com/questions/57711142/uibarbuttonitem-via-uitoolbar-is-not-displayed-on-ios13", "title": "UIBarButtonItem via UIToolBar is not displayed on iOS13", "body": "<p>I set UIBarButtonItem via UIToolBar to the titleView of navigationItem on iOS13.</p>\n\n<p>After building and running, the UIBarButtonItem was not displayed as expected.</p>\n\n<pre><code>// note\nUIBarButtonItem *noteButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem: UIBarButtonSystemItemCompose target:self action:@selector(noteViewAction)];\n\n// camera\nUIBarButtonItem *cameraButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem: UIBarButtonSystemItemCamera target:self action:@selector(cameraViewAction)];\n\n// spacer\nUIBarButtonItem *space = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];\nspace.width = 50.0;\n\n\n// Toolbar\nUIToolbar *toolbar;\ntoolbar = [[UIToolbar alloc] initWithFrame:CGRectMake(0.0f, 0.0f, 300.0f, 44.0f)];\ntoolbar.autoresizingMask = UIViewAutoresizingFlexibleHeight;\ntoolbar.items = [NSArray arrayWithObjects:space, noteButton, space, cameraButton, nil];\ntoolbar.backgroundColor = [UIColor clearColor];\n\n[self.navigationItem setTitleView:toolbar];\n</code></pre>\n\n<p>In this code, UIBarButtonItem is displayed correctly in iOS12.4.1 and earlier versions.</p>\n\n<p>The following message is displayed in the Xcode console log.</p>\n\n<pre><code>2019-08-29 19:22:39.208598+0900 UINavigationItemBugOnIos13[559:49829] [LayoutConstraints] Unable to simultaneously satisfy constraints.\n    Probably at least one of the constraints in the following list is one you don't want. \n    Try this: \n        (1) look at each constraint and try to figure out which you don't expect; \n        (2) find the code that added the unwanted constraint or constraints and fix it. \n    (Note: If you're seeing NSAutoresizingMaskLayoutConstraints that you don't understand, refer to the documentation for the UIView property translatesAutoresizingMaskIntoConstraints) \n(\n    \"&lt;NSAutoresizingMaskLayoutConstraint:0x2839cf980 h=--&amp; v=--&amp; _UIToolbarContentView:0x102c14c20.width == 0   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839cff20 UIImageView:0x102d2aff0.width &lt;= _UIModernBarButton:0x102d29c40.width   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c00f0 UIImageView:0x102d2ca80.width &lt;= _UIModernBarButton:0x102d2b550.width   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c9720 H:|-(0)-[_UIButtonBarStackView:0x102c18130]   (active, names: '|':_UIToolbarContentView:0x102c14c20 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c9770 _UIButtonBarStackView:0x102c18130.trailing == _UIToolbarContentView:0x102c14c20.trailing   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839cd9f0 'IB_Leading_Leading' H:|-(16)-[_UIModernBarButton:0x102d29c40]   (active, names: '|':_UIButtonBarButton:0x102d29a60 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839ce490 'IB_Leading_Leading' H:|-(&gt;=10)-[_UIModernBarButton:0x102d2b550]   (active, names: '|':_UIButtonBarButton:0x102d2b370 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839cda40 'IB_Trailing_Trailing' H:[_UIModernBarButton:0x102d29c40]-(&gt;=11.5)-|   (active, names: '|':_UIButtonBarButton:0x102d29a60 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839ce4e0 'IB_Trailing_Trailing' H:[_UIModernBarButton:0x102d2b550]-(16)-|   (active, names: '|':_UIButtonBarButton:0x102d2b370 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c4140 'UISV-canvas-connection' UILayoutGuide:0x2823ecfc0'UIViewLayoutMarginsGuide'.leading == UIView:0x102c3eb90.leading   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c42d0 'UISV-canvas-connection' UILayoutGuide:0x2823ecfc0'UIViewLayoutMarginsGuide'.trailing == UIView:0x102c3ee70.trailing   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c4320 'UISV-spacing' H:[UIView:0x102c3eb90]-(0)-[_UIButtonBarButton:0x102d29a60]   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c4370 'UISV-spacing' H:[_UIButtonBarButton:0x102d29a60]-(0)-[UIView:0x102c3ed00]   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c43c0 'UISV-spacing' H:[UIView:0x102c3ed00]-(0)-[_UIButtonBarButton:0x102d2b370]   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839cf070 'UISV-spacing' H:[_UIButtonBarButton:0x102d2b370]-(0)-[UIView:0x102c3ee70]   (active)&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c9590 'UIView-leftMargin-guide-constraint' H:|-(0)-[UILayoutGuide:0x2823ecfc0'UIViewLayoutMarginsGuide'](LTR)   (active, names: '|':_UIButtonBarStackView:0x102c18130 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x2839c9630 'UIView-rightMargin-guide-constraint' H:[UILayoutGuide:0x2823ecfc0'UIViewLayoutMarginsGuide']-(0)-|(LTR)   (active, names: '|':_UIButtonBarStackView:0x102c18130 )&gt;\"\n)\n\nWill attempt to recover by breaking constraint \nNSLayoutConstraint:0x2839c00f0 UIImageView:0x102d2ca80.width &lt;= _UIModernBarButton:0x102d2b550.width   (active)&gt;\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in &lt;UIKitCore/UIView.h&gt; may also be helpful.\n</code></pre>\n\n<p>There is a question on the Apple Developer Forum that describes the same phenomenon.</p>\n\n<p><a href=\"https://forums.developer.apple.com/thread/121474\" rel=\"noreferrer\">https://forums.developer.apple.com/thread/121474</a></p>\n\n<p>According to this, it is a problem of restrictions, but it is a part about private API, and it is written that further investigation and resolution are not possible.</p>\n\n<p>This article states that you used UIStackView without using UIToolBar.</p>\n\n<p>I have already reported a bug to Apple regarding this issue, but there is no response from Apple at this time, and the problem has not been resolved in the new beta version of iOS13(iOS13.1 beta).</p>\n\n<p>In iOS13, did UIBarButtonItem via UIToolBar become unavailable?</p>\n\n<p>Should I use UIStackView instead of UIToolBar as described in the Apple Developer Forum article?</p>\n"}, {"tags": ["ios", "objective-c", "macos", "grand-central-dispatch"], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 2545737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PHV0i.png?s=128&g=1", "display_name": "Amrit", "link": "https://stackoverflow.com/users/2545737/amrit"}, "is_accepted": false, "score": 0, "last_activity_date": 1567685127, "last_edit_date": 1567685127, "creation_date": 1567098927, "answer_id": 57715039, "question_id": 57710716, "link": "https://stackoverflow.com/questions/57710716/gcd-cancelation-of-blocks-in-global-concurrent-queue/57715039#57715039", "title": "GCD: cancelation of blocks in global concurrent queue", "body": "<p>once a dispatch task has started running, neither canceling or suspending the task/queue/work item will stop it. Canceling and suspending operations only affect tasks that haven\u2019t yet been started.</p>\n\n<p>In your example, all task is enqueued, but which task will start first is not guaranteed though we can provide QOS to every task which is a separate topic.</p>\n\n<p>Suppose we enqueue 1000 tasks, as we know every task start in threads, so it's not possible that all task enqueued will start together. If we assume like we have 10 threads to perform tasks, so out of 1000 enqueued item 10 will start execution and remaining 990 tasks are enqueued. If we cancel at this point then 990 tasks enqueued will get cancel but 10 tasks which have started will complete execution of their respective task.</p>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1567104837, "post_id": 57715652, "comment_id": 101874285, "body": "How can I check whether the global queue is exhausted or nears that?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 1, "creation_date": 1567105905, "post_id": 57715652, "comment_id": 101874717, "body": "None that I know of. But if I wanted to do something massively parallelized, I\u2019d cut the Gordon\u2019s knot and use <code>dispatch_apply</code> (in Swift, <code>concurrentPerform</code>), which is optimized for the number of cores available, completely avoiding this thread explosion issue altogether."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 3, "last_activity_date": 1567686471, "last_edit_date": 1567686471, "creation_date": 1567101769, "answer_id": 57715652, "question_id": 57710716, "link": "https://stackoverflow.com/questions/57710716/gcd-cancelation-of-blocks-in-global-concurrent-queue/57715652#57715652", "title": "GCD: cancelation of blocks in global concurrent queue", "body": "<blockquote>\n  <p>is it correct to suggest that any block dispatched into the global concurrent queue will automatically start the execution and thus any attempt of cancellation will effectively fail?</p>\n</blockquote>\n\n<p>Not quite. First, a little hair-splitting: Just because you\u2019ve dispatched something to a global queue does not guarantee that it has started yet. The global queues have a limited number of worker threads, so the timing of the starting of the dispatched task is subject to resource availability. Sure, if the queue is free, then it will generally start it fairly quickly, but in high contention situations, some of the latter tasks might not start immediately.</p>\n\n<p>Second, that documentation is correct that if one cancels a task that has already started, it will not automatically stop it for you. But we can achieve this behavior if we (and should) write tasks that periodically check <a href=\"https://developer.apple.com/documentation/dispatch/1431046-dispatch_block_testcancel\" rel=\"nofollow noreferrer\"><code>dispatch_block_testcancel</code></a> (<a href=\"https://developer.apple.com/documentation/dispatch/dispatchworkitem/1780829-iscancelled\" rel=\"nofollow noreferrer\"><code>isCancelled</code></a> in Swift), and if so, terminate. For example:</p>\n\n<pre><code>- (void)testDispatchItem {\n    dispatch_queue_t queue = dispatch_get_global_queue(QOS_CLASS_DEFAULT, 0);\n\n    __block dispatch_block_t block = nil;\n\n    __weak typeof(self) weakSelf = self;\n\n    block = dispatch_block_create(0, ^{\n        for (long i = 0; i &lt; 10000000; i++) {\n            if (dispatch_block_testcancel(block)) { break; }\n            NSLog(@\"%ld\", i);\n            [weakSelf heavyWork];\n        }\n\n        block = nil;\n    });\n\n    // start it\n\n    dispatch_async(queue, block);\n\n    // after five seconds, stop it if it hasn't already\n\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n        if (block) { dispatch_block_cancel(block); }\n    });\n}\n</code></pre>\n\n<blockquote>\n  <p>... if I enqueue 1000 tasks ...</p>\n</blockquote>\n\n<p>Never dispatch that many tasks to a global queue because you will exhaust the very limited (64 IIRC, though that\u2019s subject to change) worker threads. That can cause a variety of issues, and in some cases, deadlocks. See \u201cThread Explosion Causing Deadlock\u201d discussion in WWDC 2015 video <a href=\"https://developer.apple.com/videos/play/wwdc2015/718/?time=2020\" rel=\"nofollow noreferrer\">Building Responsive and Efficient Apps with GCD</a>. Also, see WWDC 2016 <a href=\"https://developer.apple.com/videos/play/wwdc2016/720/?time=446\" rel=\"nofollow noreferrer\">Concurrent Programming With GCD in Swift 3</a>.</p>\n\n<blockquote>\n  <p>Is it possible that for a given number of tasks significantly [exceeding] computational capabilities of the device there will be a situation when we will fail to cancel tasks queued in the global concurrent queue because all of them [were] started?</p>\n</blockquote>\n\n<p>Obviously, tasks that haven\u2019t started yet just will be canceled. And regarding those tasks that have started, as long as you properly test for cancellation state, then it\u2019s a non-issue.</p>\n"}], "owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 57715652, "answer_count": 2, "score": 0, "last_activity_date": 1567691650, "creation_date": 1567083355, "last_edit_date": 1567691650, "question_id": 57710716, "link": "https://stackoverflow.com/questions/57710716/gcd-cancelation-of-blocks-in-global-concurrent-queue", "title": "GCD: cancelation of blocks in global concurrent queue", "body": "<p>I read the article: <a href=\"https://stackoverflow.com/questions/8239436/gcd-global-concurrent-queue-not-always-concurrentios-device\">GCD global concurrent queue not always concurrent(iOS device)?</a> and this is what I want to clarify: </p>\n\n<p>Documentation ( <a href=\"https://developer.apple.com/documentation/dispatch/1431058-dispatch_block_cancel\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/dispatch/1431058-dispatch_block_cancel</a> ) says that tasks that started execution cannot be canceled.</p>\n\n<p>is it correct to suggest that any block dispatched into <strong>global concurrent queue</strong> will automatically start the execution and thus any attempt of cancellation will effectively fail? </p>\n\n<p>To be more specific - if I enqueue 1000 tasks, while each one takes 1000 seconds to accomplish, will it mean that in time <strong>less than</strong> 1000 secs all tasks will start the execution and cancellation of any of them will <strong>fail</strong>?</p>\n\n<p>Is the answer the same for iOS and OSX, or not?</p>\n\n<p>UPD: I want to make this question even clearer. Is it possible that for a given number of tasks significantly excessing computational capabilities of the device there will be a situation when we will fail to cancel tasks queued in the global concurrent queue because all of them where started? </p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uipopovercontroller"], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 6109280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DaZbHkW4WI/AAAAAAAAAAI/AAAAAAAABr4/yF_2ZMId0M0/photo.jpg?sz=128", "display_name": "Mammadbayli", "link": "https://stackoverflow.com/users/6109280/mammadbayli"}, "edited": false, "score": 0, "creation_date": 1567074567, "post_id": 57706730, "comment_id": 101858462, "body": "Would that not dim everything, including the sourceView?"}, {"owner": {"reputation": 85, "user_id": 11276973, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a1nVqvoVm_o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reK9VHe3Towkz-UE11OuNf-CLMJwA/mo/photo.jpg?sz=128", "display_name": "PinkalB", "link": "https://stackoverflow.com/users/11276973/pinkalb"}, "edited": false, "score": 0, "creation_date": 1567074731, "post_id": 57706730, "comment_id": 101858555, "body": "Yes, as the blank view is independent to the source view"}, {"owner": {"reputation": 70, "user_id": 6109280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DaZbHkW4WI/AAAAAAAAAAI/AAAAAAAABr4/yF_2ZMId0M0/photo.jpg?sz=128", "display_name": "Mammadbayli", "link": "https://stackoverflow.com/users/6109280/mammadbayli"}, "edited": false, "score": 0, "creation_date": 1567075037, "post_id": 57706730, "comment_id": 101858734, "body": "All right, but I would like to keep the source view as is, i.e. not dimmed, only the surroundings of it, see the picture please."}, {"owner": {"reputation": 70, "user_id": 6109280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DaZbHkW4WI/AAAAAAAAAAI/AAAAAAAABr4/yF_2ZMId0M0/photo.jpg?sz=128", "display_name": "Mammadbayli", "link": "https://stackoverflow.com/users/6109280/mammadbayli"}, "edited": false, "score": 0, "creation_date": 1567075107, "post_id": 57706730, "comment_id": 101858767, "body": "I believe I need to add the source view to the background view :/"}], "tags": [], "owner": {"reputation": 85, "user_id": 11276973, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a1nVqvoVm_o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reK9VHe3Towkz-UE11OuNf-CLMJwA/mo/photo.jpg?sz=128", "display_name": "PinkalB", "link": "https://stackoverflow.com/users/11276973/pinkalb"}, "is_accepted": false, "score": 1, "last_activity_date": 1567069532, "creation_date": 1567069532, "answer_id": 57706730, "question_id": 57706569, "link": "https://stackoverflow.com/questions/57706569/how-can-i-get-to-dim-everything-except-for-the-sourceview-when-presenting-uipopo/57706730#57706730", "title": "How can I get to dim everything except for the sourceView when presenting UIPopoverViewController?", "body": "<p>Javad</p>\n\n<p>You can add blank in full screen in the presenting view. Set black background color and alpha 0.5 which will create dim effect.</p>\n\n<p>Thank you</p>\n"}, {"tags": [], "owner": {"reputation": 70, "user_id": 6109280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DaZbHkW4WI/AAAAAAAAAAI/AAAAAAAABr4/yF_2ZMId0M0/photo.jpg?sz=128", "display_name": "Mammadbayli", "link": "https://stackoverflow.com/users/6109280/mammadbayli"}, "is_accepted": false, "score": 1, "last_activity_date": 1567162219, "last_edit_date": 1567162219, "creation_date": 1567087575, "answer_id": 57711965, "question_id": 57706569, "link": "https://stackoverflow.com/questions/57706569/how-can-i-get-to-dim-everything-except-for-the-sourceview-when-presenting-uipopo/57711965#57711965", "title": "How can I get to dim everything except for the sourceView when presenting UIPopoverViewController?", "body": "<p>I managed to do it by recreating a cell and adding it to the popover containerView:</p>\n\n<pre><code>- (void)prepareForPopoverPresentation:(UIPopoverPresentationController *)popoverPresentationController {\n    [[popoverPresentationController containerView] setBackgroundColor:[UIColor colorWithWhite:0 alpha:.72]];\n\n    MessageCellNode *messageNode = [[MessageCellNode alloc] init];\n\n    UICollectionViewLayoutAttributes *attributes = [[self.collectionNode view] layoutAttributesForItemAtIndexPath:indexPathToSelect];\n    CGRect cellRect = attributes.frame;\n\n    CGRect rect = [[[self collectionNode] view] convertRect:cellRect toView:[[UIApplication sharedApplication] keyWindow]];\n\n    [messageNode setFrame: rect];\n\n    [[popoverPresentationController containerView]addSubview:[messageNode view]];\n}\n</code></pre>\n\n<p>Result:\n<a href=\"https://i.stack.imgur.com/Tovcq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tovcq.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 70, "user_id": 6109280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4DaZbHkW4WI/AAAAAAAAAAI/AAAAAAAABr4/yF_2ZMId0M0/photo.jpg?sz=128", "display_name": "Mammadbayli", "link": "https://stackoverflow.com/users/6109280/mammadbayli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567162219, "creation_date": 1567069018, "last_edit_date": 1567137626, "question_id": 57706569, "link": "https://stackoverflow.com/questions/57706569/how-can-i-get-to-dim-everything-except-for-the-sourceview-when-presenting-uipopo", "title": "How can I get to dim everything except for the sourceView when presenting UIPopoverViewController?", "body": "<p>I am developing a chat application similar to WhatsApp. When the user long presses a message a popover with options is presented. I want to dim everything in the background except for the popover and the sourceView of the popover. Like this: <a href=\"https://i.stack.imgur.com/Jzkd1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jzkd1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried this but all of the background gets dimmed:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)prepareForPopoverPresentation:(UIPopoverPresentationController *)popoverPresentationController {\n    [[popoverPresentationController containerView] setBackgroundColor:[UIColor colorWithWhite:0 alpha:.72]];\n\n}\n</code></pre>\n"}]