[{"tags": ["ios", "objective-c", "avplayer", "tvos", "avassetresourceloaderdelegate"], "owner": {"reputation": 11, "user_id": 3910677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2818416662737e30fe0a70d6c0d5c923?s=128&d=identicon&r=PG&f=1", "display_name": "killmyrene", "link": "https://stackoverflow.com/users/3910677/killmyrene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564600585, "creation_date": 1564600585, "question_id": 57297542, "link": "https://stackoverflow.com/questions/57297542/how-to-force-avplayer-to-fail-when-avassetresourceloadingrequests-finishloading", "title": "How to force AVPlayer to fail when AVAssetResourceLoadingRequest&#39;s finishLoadingWithError(err) is called", "body": "<p>I want to force AVPlayer to throw the player error, either through the playerFailedToReachEnd notification or observe player.status via KVO, when during the process of loading resource request via AVAssetResourceLoader that the request is finished loading with error. </p>\n\n<p>It should not do the manual playback stop on AVPlayer to avoid dealing with the race condition between the manual stop and the KVO/notifications</p>\n\n<p>Manual playback stop on AVPlayer when error occurred is refrained to avoid race condition.</p>\n\n<p>Tried the part to return the callback 'resourceLoader:shouldWaitForLoadingOfRequestedResource:' to return NO it doesn't make AVPlayer change state to Failure nor does it send notification about player failure</p>\n\n<pre><code>\n@implementation AssetLoader &lt;AVAssetResourceLoaderDelegate&gt;\n\n- (AVPlayerItem *)setupLoader {\n\n    NSURL *playbackUrl = [NSURL URLWithString:@\"example-url\"];\n    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:playbackUrl options:nil];\n\n    [asset.resourceLoader setDelegate:self queue:_sample_queue];\n    AVPlayerItem *playerItem = [AVPlayerItem playerItemWithAsset:asset];\n    return playerItem;\n}\n\n- (BOOL)resourceLoader:(AVAssetResourceLoader *)resourceLoader shouldWaitForLoadingOfRequestedResource:(AVAssetResourceLoadingRequest *)loadingRequest {\n\n    if ([url.scheme isEqual:@\"skd\"] == NO) {\n        QPLogError(@\"Unexpected url scheme: %@\", url.absoluteString);\n        return NO;\n    }\n\n    LicenseAction *action = [[LicenseAction alloc] initWithLoadingRequest:loadingRequest];\n\n    [action execute:^(NSData *ckcData, NSError *error) {\n         if (error) {\n             [loadingRequest finishLoadingWithError:error]; //This should prompt AVPlayer to fail \n         } else {\n              [loadingRequest.dataRequest respondWithData:ckcData];\n              [loadingRequest finishLoading];\n         }\n\n    }];\n    return YES;\n}\n\n...\n\n@end\n</code></pre>\n\n<pre><code>@implementation Player {\n   AVPlayer *_player;\n\n}\n\n- (void)prepare {\n    [_player replaceCurrentItemWithPlayerItem:playerItem];\n\n    NSKeyValueObservingOptions options = (NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld | NSKeyValueObservingOptionInitial);\n    [_player addObserver:self forKeyPath:@\"status\" options:options context:&amp;QPClearPlayerAVPlayerKVOContext];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(playerItemFailedToEnd:) name:AVPlayerItemFailedToPlayToEndTimeNotification object:_player.currentItem];\n\n}\n\n- (void)stopWithError {\n   ...\n   [self reportPlayerError];\n}\n...\n- (void)playerItemFailedToEnd:(NSNotification *)notification {\n   ...\n   [self reportPlayerError];\n}\n\n- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {\n    if(object == _player &amp;&amp; keyPath == @\"status\") {\n        ...\n        if (_player.status == AVPlayerStatusFailed) {\n            [self reportPlayerError];\n        }\n    }\n}\n\n...\n\n@end\n\n</code></pre>\n\n<p>Expected \nupon invoking AVAssetResourceLoadingRequest.finishLoadingWithError() that the AVPlayer would send a failed notification or KVO status changes</p>\n\n<p>Actual\nAVPlayer doesn't have status change nor failed notification</p>\n"}, {"tags": ["objective-c", "class", "uibutton", "subclass"], "comments": [{"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564594468, "post_id": 57294977, "comment_id": 101086493, "body": "The designated initializer for UIButtons, I believe, is <code>-initWithFrame:frameRect</code>. You can override that to set some properties. However, if you&#39;re going to be mucking with visual aspects you may need to override the button&#39;s  <code>-drawRect:</code> method and do those there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "edited": false, "score": 0, "creation_date": 1564597156, "post_id": 57294977, "comment_id": 101087649, "body": "Hmm, can you elaborate on that please. Also, if the initialiser is -initWithFrame, surely I should be able to include all of my property modifications within an if (self) block inside the initialiser?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1564603294, "post_id": 57294977, "comment_id": 101090190, "body": "\u201cI essentially want to have the setupButton method run within an overridden constructor.\u201d. So do that. Implement <code>initWithCoder</code> (or <code>awakeFromNib</code>) and call <code>setupButton</code>. What\u2019s the problem?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "edited": false, "score": 0, "creation_date": 1564670618, "post_id": 57294977, "comment_id": 101115412, "body": "This is exactly what I was looking for, thanks a lot."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "edited": false, "score": 0, "creation_date": 1565176423, "post_id": 57298507, "comment_id": 101267976, "body": "Can you provide an example of a mock implementation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "edited": false, "score": 0, "creation_date": 1565183160, "post_id": 57298507, "comment_id": 101271943, "body": "Ah okay, thanks for this. Reassures me that my implementation was also correct (I used the self = inside an if statement)"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1565184332, "post_id": 57298507, "comment_id": 101272707, "body": "<code>self = [super init]</code> vs <code>if (self = [super init])</code> is a very old style debate. If <code>self</code> is nil, then the rest falls through and returns nil."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 0, "last_activity_date": 1565182494, "last_edit_date": 1565182494, "creation_date": 1564605505, "answer_id": 57298507, "question_id": 57294977, "link": "https://stackoverflow.com/questions/57294977/issue-overriding-the-default-constructor-of-the-uibutton-class/57298507#57298507", "title": "Issue overriding the default constructor of the UIButton Class?", "body": "<p>Storyboards do not initialize their objects with <code>init</code>. They initialize with <code>initWithCoder:</code>, so that's what you need to implement if you want customization from a Storyboard.</p>\n\n<p>Something along these lines:</p>\n\n<pre><code>- (instancetype) initWithCoder: (NSCoder *)coder {\n    self = [super initWithCoder: coder];\n    [self setupButton];\n    return self;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57298507, "answer_count": 1, "score": 0, "last_activity_date": 1565182494, "creation_date": 1564589295, "last_edit_date": 1564590626, "question_id": 57294977, "link": "https://stackoverflow.com/questions/57294977/issue-overriding-the-default-constructor-of-the-uibutton-class", "title": "Issue overriding the default constructor of the UIButton Class?", "body": "<p>When an object is placed on a View Controller, it is initialised. I want to know if it's possible for you to place a UIButton on a Storyboard, with a custom class that is a subclass of the UIButton class, and have it automatically initialise with custom properties and run some custom methods - as defined in the custom class - instead of having to type out the method that modifies the properties within the View Controller's class.</p>\n\n<p>Effectively, I'm trying to save space within my View Controller's class by having the custom button automatically construct itself as any ordinary UIButton does, but with custom properties and methods that are also run.</p>\n\n<p>I'm unsure how to approach solving my problem, I essentially want to have the setupButton method run within an overridden constructor.</p>\n\n<pre><code>@implementation TransitionButton\n\n@synthesize borderRadius, borderWidth, borderColor, highlightColor;\n\n- (void)setupButton\n{\n    borderRadius = 5;\n    borderWidth = 2;\n    borderColor = [TransitionButton customRedColor];\n    highlightColor = [UIColor redColor];\n\n    [self addBorder];\n    [self setupEventEffects];\n}\n\n- (void)setupEventEffects\n{\n    [self addTarget:self action:@selector(highlight) forControlEvents:UIControlEventTouchDown];\n    [self addTarget:self action:@selector(unhighlight) forControlEvents:UIControlEventTouchUpInside];\n    [self addTarget:self action:@selector(unhighlight) forControlEvents:UIControlEventTouchDragExit];\n}\n\n- (void)addBorder\n{\n    self.layer.borderColor = borderColor.CGColor;\n    self.layer.cornerRadius = borderRadius;\n    self.layer.borderWidth = borderWidth;\n}\n\n- (void)highlight\n{\n    self.layer.borderColor = highlightColor.CGColor;\n    self.titleLabel.textColor = highlightColor;\n}\n\n- (void)unhighlight\n{\n    self.layer.borderColor = borderColor.CGColor;\n    self.titleLabel.textColor = borderColor;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "nsdata"], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 745305, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1d7a7cc529a4aa240a510a41904eaa9a?s=128&d=identicon&r=PG", "display_name": "aknew", "link": "https://stackoverflow.com/users/745305/aknew"}, "is_accepted": true, "score": 1, "last_activity_date": 1564583419, "creation_date": 1564583419, "answer_id": 57293169, "question_id": 57292395, "link": "https://stackoverflow.com/questions/57292395/nsdata-to-nsarray-of-uint16-in-objective-c/57293169#57293169", "title": "NSData to NSArray of UInt16 in Objective C", "body": "<p>You can't get NSArray with UInt16 elements because NSArray can contain only NSObjects, so you have to wrap UInt16 to NSNumber or use some other container (for example, simple c array). The closest code will be something like this:</p>\n\n<pre><code>// Just preparing some test data\nNSMutableData *data = [NSMutableData new];\nfor (int i = 0; i&lt;10; ++i){\n    UInt16 u = (UInt16) arc4random()%UINT16_MAX;\n    NSLog(@\"%d\",u);\n    [data appendBytes:&amp;u length:sizeof(u)];\n}\n\n// the main code\nUInt16 *adr = (UInt16 *)data.bytes;\nNSMutableArray *arr = [NSMutableArray new];\nfor (int i = 0; i&lt;data.length/sizeof(UInt16); ++i) {\n    NSNumber *num = [NSNumber numberWithUnsignedShort:*adr];\n    ++adr;\n    [arr addObject:num];\n}\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 5737750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mow2i.jpg?s=128&g=1", "display_name": "Simon Fernandes", "link": "https://stackoverflow.com/users/5737750/simon-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "closed_date": 1565303521, "accepted_answer_id": 57293169, "answer_count": 1, "score": -5, "last_activity_date": 1568092690, "creation_date": 1564581011, "last_edit_date": 1568092690, "question_id": 57292395, "link": "https://stackoverflow.com/questions/57292395/nsdata-to-nsarray-of-uint16-in-objective-c", "closed_reason": "Needs details or clarity", "title": "NSData to NSArray of UInt16 in Objective C", "body": "<p>Need Alternative to the below Swift code in Objective-C</p>\n\n<pre><code>let arr = data.withUnsafeBytes {\n            Array(UnsafeBufferPointer&lt;UInt16&gt;(start: $0, count: data.count/MemoryLayout&lt;UInt16&gt;.stride))\n}\n</code></pre>\n\n<p>Thanks for your help, the below answer helped, had to do this in C++ as was working on tensorflow-lite pre-processing. </p>\n\n<pre><code>UInt16 *adr = (UInt16 *)data.bytes;\n\nuint16_t req_arr[data.length/sizeof(UInt16)];\n\nfor (int i = 0; i&lt;data.length/sizeof(UInt16); ++i) {\n    uint16_t num16 = *adr%UINT16_MAX;\n    ++adr;\n    your_arr[i] = num16;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "video", "cocos2d-iphone"], "answers": [{"tags": [], "owner": {"reputation": 649, "user_id": 997690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6afbab9aa3198d4594dfd360f122e0df?s=128&d=identicon&r=PG", "display_name": "N.J.", "link": "https://stackoverflow.com/users/997690/n-j"}, "is_accepted": false, "score": 2, "last_activity_date": 1564568778, "creation_date": 1564568778, "answer_id": 57288626, "question_id": 57288020, "link": "https://stackoverflow.com/questions/57288020/video-playback-works-on-iphone-but-not-on-ipad/57288626#57288626", "title": "Video playback works on iPhone but not on iPad", "body": "<p>Adding to [[Director sharedDirector] openGLView].layer.superLayer instead of [[Director sharedDirector] openGLView].layer fixed the problem. </p>\n\n<p>I still don't get why this would be different between iPhone and iPad, or why it doesn't throw some kind of error on the iPad if it doesn't work. (FWIW, both works on the iPhone)</p>\n"}], "owner": {"reputation": 649, "user_id": 997690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6afbab9aa3198d4594dfd360f122e0df?s=128&d=identicon&r=PG", "display_name": "N.J.", "link": "https://stackoverflow.com/users/997690/n-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564568778, "creation_date": 1564566854, "question_id": 57288020, "link": "https://stackoverflow.com/questions/57288020/video-playback-works-on-iphone-but-not-on-ipad", "title": "Video playback works on iPhone but not on iPad", "body": "<p>I'm trying to get video to play on top of an OpenGL context and it works fine on an iPhoneX, but on my iPad Pro I get a black screen. Audio plays and there are no errors in the log to indicate that something might be wrong.</p>\n\n<p>This is the code I have:</p>\n\n<pre><code>NSString *path = [[NSBundle mainBundle] pathForResource:title ofType:@\"m4v\"];\n\nself.player = [AVPlayer playerWithURL:[NSURL fileURLWithPath:path]];\nself.playerLayer = [AVPlayerLayer playerLayerWithPlayer:self.player];\n\nCGRect rect = CGRectMake(0, 0, 480, 320);\nself.playerLayer.frame = rect;\n\n[[[Director sharedDirector] openGLView].layer addSublayer:self.playerLayer];\n\n[_player play];\n</code></pre>\n\n<p>I'm aware that 480x320 is very small on a 12\" iPad, but the parent view has its scaleX/scaleY properties set to upsize it (again, this works fine on iPhoneX, and even for the OpenGL content on the iPad)</p>\n\n<p>The code was originally using the deprecated MPMediaPlayerController, and I tried using MPMediaPlayerViewController as well, just as I've tried all of the various voodoo tricks suggested here on StackOverflow for black-screen video and the result is always the same.</p>\n\n<p>Anyone with similar experience and a way to fix it?</p>\n"}, {"tags": ["ios", "arrays", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 6809049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b03ac7fb810511f2470683872eb538c?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav Raj", "link": "https://stackoverflow.com/users/6809049/keshav-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1564564221, "creation_date": 1564564221, "answer_id": 57287153, "question_id": 57287000, "link": "https://stackoverflow.com/questions/57287000/%ce%a3-calculation-in-ios-sdk/57287153#57287153", "title": "\u03a3 Calculation in iOS SDK", "body": "<p>If we crack it down you have to find summation of (1 + i) ^ (t -1) where t varies from 1 to n.</p>\n\n<p>Equivalent function will be</p>\n\n<pre><code>func evaluteSummation(n: Int, i: Int ) -&gt; Int {\n int sum = 0\n for t in 1...n {\n   sum += pow(1 + i, t - 1)\n }\n return sum\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1564564958, "creation_date": 1564564958, "answer_id": 57287417, "question_id": 57287000, "link": "https://stackoverflow.com/questions/57287000/%ce%a3-calculation-in-ios-sdk/57287417#57287417", "title": "\u03a3 Calculation in iOS SDK", "body": "<p>You can do code like below.</p>\n\n<pre><code>func calculatePMT(targetValue : Double, interestRate : Double, time: Int) -&gt; Double {\n    let term = 1.0 + interestRate\n\n    var denominator = 0.0\n\n    for t in 0..&lt;time {\n        let p = pow(term, Double(t))\n        denominator += p\n    }\n\n    return targetValue / denominator\n}\n\n\n\nlet targetValue = 100000.0\nlet interestRate = 5.0\nlet time = 4\n\nlet pmt = calculatePMT(targetValue: targetValue, interestRate: interestRate, time: time)\n\nprint(pmt)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3717, "user_id": 98497, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/62cc44f1f1c0bdcb82cf69c22be21671?s=128&d=identicon&r=PG", "display_name": "juhan_h", "link": "https://stackoverflow.com/users/98497/juhan-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1564599228, "last_edit_date": 1564599228, "creation_date": 1564566544, "answer_id": 57287920, "question_id": 57287000, "link": "https://stackoverflow.com/questions/57287000/%ce%a3-calculation-in-ios-sdk/57287920#57287920", "title": "\u03a3 Calculation in iOS SDK", "body": "<p>Swift's <code>reduce</code> function was made for this:</p>\n\n<pre><code>(1...n).reduce(0) { (currentResult, t) -&gt; Decimal in\n    currentResult + pow(1 + i, t - 1)\n}\n</code></pre>\n"}], "owner": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1564599228, "creation_date": 1564563779, "last_edit_date": 1564570765, "question_id": 57287000, "link": "https://stackoverflow.com/questions/57287000/%ce%a3-calculation-in-ios-sdk", "title": "\u03a3 Calculation in iOS SDK", "body": "<p>I am working on a financial app where I have to perform a calculation. Finance team provide me below formula for calculation as below image</p>\n\n<p>[![enter image description here][1]][1]</p>\n\n<p>But I am unable to found how to perform below operation in Swift or Objective-C.</p>\n\n<pre><code>     n      t-1\n     \u03a3 (1+i)\n     t=1\n</code></pre>\n\n<p>Can you please help me providing an idea of the above calculation? </p>\n\n<p>I also read this <a href=\"http://cocoadocs.org/docsets/SigmaSwiftStatistics/3.0.1/\" rel=\"nofollow noreferrer\">link</a> but not interested to use the third party.</p>\n"}, {"tags": ["ios", "objective-c", "location"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1564558488, "post_id": 57285475, "comment_id": 101066009, "body": "try to make base &quot;NSLocationWhenInUseUsageDescription&quot; on Chinese, because your base language is Chinese"}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 4782864, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/583268991775419/picture?type=large", "display_name": "Shubham Ojha", "link": "https://stackoverflow.com/users/4782864/shubham-ojha"}, "is_accepted": false, "score": 0, "last_activity_date": 1564567548, "creation_date": 1564567548, "answer_id": 57288248, "question_id": 57285475, "link": "https://stackoverflow.com/questions/57285475/apple-review-reject-because-get-user-permission-dialog-locoalized/57288248#57288248", "title": "Apple review reject because get user permission dialog locoalized", "body": "<p><strong>First thing:</strong>\n Apple says <strong>To help users understand why your app is requesting access to a specific feature, your app's modal alerts <em>should be</em> in the same language as the rest of your app.</strong> </p>\n\n<p><strong>Second thing:</strong>\nBut as you don't want to add Japanese language localization in your device, you will be able to see only Chinese language translation text as it is your Primary language in case you switch your device's language to any other language other than the provided localization (Chinese and English).</p>\n\n<p><strong>Third thing: (Your requirement)</strong></p>\n\n<ol>\n<li>Show English(which is not even primary language) language messages in case of any other device language selection than (Chinese and English).</li>\n<li>Pass the test given by Apple to get your app approved given in the first thing. </li>\n</ol>\n\n<p>You have to do following things to achieve this:</p>\n\n<ol>\n<li><p>As you cannot modify your info.plist on runtime and therefore you cannot modify <em>NSLocationWhenInUseUsageDescription</em> key. You cannot achieve this, else you have to modify your App's primary language or provide separate localization for Japanese as well. Although if you do so, you will have to keep the same data in both localizable.strings files but different data in info.plist files, where you can change <em>NSLocationWhenInUseUsageDescription</em> key's value in English. But again your app has huge no of chances to get rejected as Apple reads your localization from lproj folder and it may find that you are giving Chinese and English texts in your app and plist files respectively. So you definitely will have to change your app requirements in this case. But you can give it a try and appeal from Apple specifying your app's requirement. </p></li>\n<li><p>For your second requirement, by analysis, I come to the conclusion that you have to do either of the two things:</p>\n\n<ol>\n<li>Set <strong>Localization native development region</strong> as \"zh-Hant\" and \"zh-Hans\" in traditional and simplified chinese respectively instead of $(DEVELOPMENT_LANGUAGE). Also \"en\" in case of English.</li>\n<li>Make base on Chinese as your primary language is Chinese.</li>\n</ol></li>\n</ol>\n"}], "owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572923124, "creation_date": 1564558302, "question_id": 57285475, "link": "https://stackoverflow.com/questions/57285475/apple-review-reject-because-get-user-permission-dialog-locoalized", "title": "Apple review reject because get user permission dialog locoalized", "body": "<p>The reject email says: <br></p>\n\n<pre><code>Guideline 4.0 - Design  \nWe noticed an issue in your app that contributes to a lower quality user \n\nexperience than Apple users expect: \n\n- Your app's modal alerts are in English, but your app's primary language is Chinese. To help users understand why your app is requesting access to a specific feature, your app's modal alerts should be in the same language as the rest of your app.\n\nNext Steps\n\nTo resolve this issue, please revise your app to address all instances of this type of issue.\n</code></pre>\n\n<p>And I have customized dialog to show why app need to get user's location.<br></p>\n\n<p>Then I add some localizations in project.<br>\n<a href=\"https://i.stack.imgur.com/5bgJs.pngs\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bgJs.pngs\" alt=\"localization\"></a></p>\n\n<p><code>InfoPlist.string (Base)</code></p>\n\n<blockquote>\n  <p>\"NSLocationWhenInUseUsageDescription\" = \"Allow the App to activate GPS service for providing service related information.\"; </p>\n</blockquote>\n\n<p><code>InfoPlist.string (English)</code></p>\n\n<blockquote>\n  <p>\"NSLocationWhenInUseUsageDescription\" = \"Allow the App to activate GPS service for providing service related information.\"; </p>\n</blockquote>\n\n<p><code>InfoPlist.string (Chinese (Traditional))</code></p>\n\n<blockquote>\n  <p>\"NSLocationWhenInUseUsageDescription\" = \"\u958b\u555f\u60a8\u7684\u300c\u5b9a\u4f4d\u670d\u52d9\u300d\u4ee5\u5141\u8a31\u300c\u6211\u7684APP\u300d\u63d0\u4f9b\u8cc7\u8a0a\u67e5\u8a62\u670d\u52d9\u3002\"; </p>\n</blockquote>\n\n<p><code>InfoPlist.string (Chinese (Simplified))</code></p>\n\n<blockquote>\n  <p>\"NSLocationWhenInUseUsageDescription\" = \"\u958b\u555f\u60a8\u7684\u300c\u5b9a\u4f4d\u670d\u52d9\u300d\u4ee5\u5141\u8a31\u300c\u6211\u7684APP\u300d\u63d0\u4f9b\u8cc7\u8a0a\u67e5\u8a62\u670d\u52d9\u3002\"; </p>\n</blockquote>\n\n<p>How to fix this issue to fit the review?<br>\n<br>\nAnd if I only change device language to Japanese, the dialog will show Chinese (Traditional).<br>\nHave any idea to make dialog to show English not Chinese when my device language is Japanese?</p>\n"}, {"tags": ["c", "objective-c", "transactions", "mongo-c-driver", "foundationdb"], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 972209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9472c34e18ea572f94cd1fd100dcae5?s=128&d=identicon&r=PG", "display_name": "APKar", "link": "https://stackoverflow.com/users/972209/apkar"}, "is_accepted": true, "score": 1, "last_activity_date": 1570253169, "creation_date": 1570253169, "answer_id": 58245599, "question_id": 57278097, "link": "https://stackoverflow.com/questions/57278097/how-to-do-transactions-using-mongodb-c-driver-with-foundationdb-document-layer/58245599#58245599", "title": "How to do transactions using MongoDB C driver with FoundationDB Document Layer?", "body": "<p>Document layer doesn\u2019t support transactions, yet. It used to expose FoundationDB transactions through some constructs different to MongoDB constructs. But they are disabled for a while.</p>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58245599, "answer_count": 1, "score": 0, "last_activity_date": 1570253169, "creation_date": 1564511755, "last_edit_date": 1564514925, "question_id": 57278097, "link": "https://stackoverflow.com/questions/57278097/how-to-do-transactions-using-mongodb-c-driver-with-foundationdb-document-layer", "title": "How to do transactions using MongoDB C driver with FoundationDB Document Layer?", "body": "<p>The mongoc documentation for transaction uses session. So I tried to insert documents within a transaction associated with a session. But I got the error</p>\n\n<pre><code>[ 3666]:    ERROR:       mongoc: Failed to start session: Server does not support sessions\n</code></pre>\n\n<p>How to do transactions using MongoDB C driver with FoundationDB Document Layer?</p>\n\n<p>My current code is:</p>\n\n<pre><code>- (int)insertUser:(User *)user {\n    mongoc_client_session_t *session;\n    mongoc_session_opt_t *session_opts;\n    mongoc_transaction_opt_t *default_txn_opts;\n    mongoc_transaction_opt_t *txn_opts;\n    mongoc_read_concern_t *read_concern;\n    mongoc_write_concern_t *write_concern;\n    bson_t *doc;\n    bson_t *insert_opts;\n    bson_error_t err;\n    default_txn_opts = mongoc_transaction_opts_new();\n    read_concern = mongoc_read_concern_new();\n    mongoc_read_concern_set_level(read_concern, \"snapshot\");\n    mongoc_transaction_opts_set_read_concern(default_txn_opts, read_concern);\n    session_opts = mongoc_session_opts_new();\n    mongoc_session_opts_set_default_transaction_opts(session_opts, default_txn_opts);\n    session = mongoc_client_start_session(client, session_opts, &amp;err);\n    if (!session) {\n        MONGOC_ERROR(\"Failed to start session: %s\", err.message);\n        return EXIT_FAILURE;\n    }\n    txn_opts = mongoc_transaction_opts_new();\n    write_concern = mongoc_write_concern_new();\n    mongoc_write_concern_set_wmajority(write_concern, 1000);  // write timeout\n    mongoc_transaction_opts_set_write_concern(txn_opts, write_concern);\n}\n</code></pre>\n\n<pre><code>int insertUserTransaction(id param, mongoc_client_session_t *session, mongoc_transaction_opt_t *txn_opts, User *user, bson_error_t *err) {\n    bool ret = mongoc_client_session_start_transaction(session, txn_opts, err);\n    if (!ret) {\n        MONGOC_ERROR(\"Failed to start transaction: %s\", err-&gt;message);\n        return EXIT_FAILURE;\n    }\n    // ...\n}\n</code></pre>\n"}, {"tags": ["ios", "arrays", "objective-c", "swift", "unsafemutablepointer"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1564502223, "post_id": 57275558, "comment_id": 101049160, "body": "Possibly helpful: <a href=\"https://stackoverflow.com/questions/43810486/how-to-pass-an-array-of-array-of-floats-to-c-function-from-swift\" title=\"how to pass an array of array of floats to c function from swift\">stackoverflow.com/questions/43810486/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 8821072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4cc93f81f4db925a53d09f6c74f1b4?s=128&d=identicon&r=PG&f=1", "display_name": "georgebp", "link": "https://stackoverflow.com/users/8821072/georgebp"}, "is_accepted": true, "score": 0, "last_activity_date": 1565350737, "last_edit_date": 1565350737, "creation_date": 1564585675, "answer_id": 57293904, "question_id": 57275558, "link": "https://stackoverflow.com/questions/57275558/turn-an-array-of-array-of-float-numbers-into-unsafemutablepointerunsafemutablep/57293904#57293904", "title": "Turn an array of array of float numbers into UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;&gt;", "body": "<p>Figured out how to do it:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>func arrayOfArrayExample() {\n\n    let floatArray: [[Float]] = [\n        [50.0, 23.0, 15.6],\n        [24.0, 9.5, 12.7]\n    ]\n\n    let size1 = floatArray.count\n    let size2 = floatArray[0].count\n\n    var vectorBuf : UnsafeMutablePointer&lt;Float&gt;?\n    let bufferOut = UnsafeMutablePointer&lt; UnsafeMutablePointer&lt;Float&gt;?&gt;.allocate(capacity: Int(size1))\n\n    for i in 0..&lt;size1 {\n        vectorBuf = UnsafeMutablePointer&lt;Float&gt;.allocate(capacity: size2)\n        for j in 0..&lt;size2 {\n            vectorBuf!.advanced(by: j).pointee = floatArray[i][j]\n        }\n        bufferOut.advanced(by: i).pointee = vectorBuf\n    }\n\n    defer {\n        //deallocating memory\n        for i in 0..&lt;size1 {\n            bufferOut.advanced(by: i).deallocate()\n        }\n    }\n}\n</code></pre>\n\n<p>The variable <code>bufferOut</code> returns an <code>UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;&gt;</code> pointer that points to an array of array of Float, deallocating memory afterwards.</p>\n"}], "owner": {"reputation": 145, "user_id": 8821072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4cc93f81f4db925a53d09f6c74f1b4?s=128&d=identicon&r=PG&f=1", "display_name": "georgebp", "link": "https://stackoverflow.com/users/8821072/georgebp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 57293904, "answer_count": 1, "score": 0, "last_activity_date": 1565350737, "creation_date": 1564501898, "last_edit_date": 1564516125, "question_id": 57275558, "link": "https://stackoverflow.com/questions/57275558/turn-an-array-of-array-of-float-numbers-into-unsafemutablepointerunsafemutablep", "title": "Turn an array of array of float numbers into UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;&gt;", "body": "<p>I need to use a function that uses <code>UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;?&gt;!</code> as a parameter. It's written in a framework in Objective-C++ and I'm accessing it through a bridging header:</p>\n\n<pre><code>- (void) applyFilters: (float *) input_image input_params: (long *) input_params output_image : (float *) output_image output_params : (long *) output_params filter_id : (int) filter_id args : (float**) args\n</code></pre>\n\n<p>I'm having some trouble understanding the structure of the args parameter, which is <code>float**</code>. In Swift, it asks for a parameter of type <code>UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;&gt;</code>, which I'm guessing points to an array of array of floats. </p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>applyFilters(input_image: UnsafeMutablePointer&lt;Float&gt;!UnsafeMutablePointer&lt;Float&gt;!, input_params: UnsafeMutablePointer&lt;Int&gt;!, output_image: UnsafeMutablePointer&lt;Float&gt;!, output_params: UnsafeMutablePointer&lt;Int&gt;!, filter_id: Int32, args: UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;?&gt;!)\n</code></pre>\n\n<p>If I create an array of array of floats, how do I point to it using <code>UnsafeMutablePointer&lt;UnsafeMutablePointer&lt;Float&gt;&gt;</code> so I can pass it to a C++ function?</p>\n"}, {"tags": ["ios", "objective-c", "uiimage", "uiimagepickercontroller", "phphotolibrary"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1564502779, "post_id": 57272588, "comment_id": 101049430, "body": "1. The question is tagged Objective-C, not Swift. Please post answers in the proper language. 2. Please don&#39;t post code-only answers. A good answer explains what was wrong in the question and it explains how the answer solves the problem."}], "tags": [], "owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "is_accepted": false, "score": -1, "last_activity_date": 1564502820, "last_edit_date": 1564502820, "creation_date": 1564492392, "answer_id": 57272588, "question_id": 57272541, "link": "https://stackoverflow.com/questions/57272541/ios-13-saving-uiimage-with-wrong-orientation/57272588#57272588", "title": "iOS 13 - Saving UIImage with wrong orientation", "body": "<p>I have this extension in my project. Try it.</p>\n\n<pre><code>extension UIImage {\n    func fixOrientation() -&gt; UIImage {\n        if imageOrientation == .up {\n            return self\n        }\n        UIGraphicsBeginImageContextWithOptions(size, false, scale)\n        draw(in: CGRect(origin: .zero, size: size))\n        let normalizedImage: UIImage = UIGraphicsGetImageFromCurrentImageContext() ?? self\n        UIGraphicsEndImageContext()\n        return normalizedImage\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5322661, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2L2ndVFBDk/AAAAAAAAAAI/AAAAAAAAFCE/p1Itn3JWHCU/photo.jpg?sz=128", "display_name": "sebastian", "link": "https://stackoverflow.com/users/5322661/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 0, "closed_date": 1564496563, "answer_count": 1, "score": -1, "last_activity_date": 1564502820, "creation_date": 1564492262, "last_edit_date": 1564494429, "question_id": 57272541, "link": "https://stackoverflow.com/questions/57272541/ios-13-saving-uiimage-with-wrong-orientation", "closed_reason": "Duplicate", "title": "iOS 13 - Saving UIImage with wrong orientation", "body": "<p>I am facing some issues with the orientation of the photos.\nAfter taking a portrait picture and saving it to the camera roll, I see it rotated. But when I add it to an Image View it looks ok.\nAnyone else found the same issue? Is there an open bug in the Feedback Assistant?\nThanks!</p>\n\n<p>Same issue happened when I tried to save it using the PHPhotoLibrary</p>\n\n<pre><code>-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info\n{\n    UIImage *image = [info objectForKey:UIImagePickerControllerOriginalImage];\n    UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil); //Saves rotated\n    imageView.image = image; //Appears OK\n    [self dismissModalViewControllerAnimated:YES];\n}\n</code></pre>\n\n<pre><code>PHAssetChangeRequest *changeRequest = [PHAssetChangeRequest creationRequestForAssetFromImage:image];\nassetPlaceholder = changeRequest.placeholderForCreatedAsset;\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1, "user_id": 2465851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d9812907eff6bb069a037172a337ca?s=128&d=identicon&r=PG", "display_name": "user2465851", "link": "https://stackoverflow.com/users/2465851/user2465851"}, "edited": false, "score": 0, "creation_date": 1564477775, "post_id": 57268034, "comment_id": 101034692, "body": "You can view this image for more detail.   <a href=\"https://i.stack.imgur.com/F3140.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/F3140.png</a>"}, {"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1564480182, "post_id": 57268034, "comment_id": 101036036, "body": "it depends on which Input method you are using. I&#39;m using Quick, no such problem."}, {"owner": {"reputation": 1, "user_id": 2465851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d9812907eff6bb069a037172a337ca?s=128&d=identicon&r=PG", "display_name": "user2465851", "link": "https://stackoverflow.com/users/2465851/user2465851"}, "reply_to_user": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1564495185, "post_id": 57268034, "comment_id": 101044888, "body": "This issue will appear when using the default Chinese input method in IOS, and it will not reproduce when using input xunfei \u8baf\u98de input method. But most people use the default one, so I must fix this issue."}, {"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1564540693, "post_id": 57268034, "comment_id": 101060649, "body": "there is no such thing called &quot;default Chinese input method&quot;; there are quite a lot to choose from."}], "owner": {"reputation": 1, "user_id": 2465851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23d9812907eff6bb069a037172a337ca?s=128&d=identicon&r=PG", "display_name": "user2465851", "link": "https://stackoverflow.com/users/2465851/user2465851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564479965, "creation_date": 1564477542, "last_edit_date": 1564479965, "question_id": 57268034, "link": "https://stackoverflow.com/questions/57268034/since-ios-12-candidates-of-chinese-input-method-will-have-ellipsis-when-longer", "title": "Since IOS 12, Candidates of Chinese input method will have ellipsis when longer than 2 word in my app", "body": "<p>The Chinese candidates show truncation to ellipsis when there are enough space.</p>\n\n<p>This issue is happened to my app. \nIt can reproduce when input Chinese triggered by a common UITextField (main.m invoke the simplest AppDelegate, and directly invoke an empy viewcontroler with a UITextField).\nBut my app project is a big one, there must be some configs related to this issue, but I have tried a lot still failed to find it out.</p>\n\n<pre><code>@implementation ViewController\nUITextField *_textField;\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.title = @\"\u6d4b\u8bd5\u8f93\u5165\";\n\n    _textField = [[UITextField alloc] init];\n    _textField.font = [UIFont systemFontOfSize:15];\n    _textField.backgroundColor = [UIColor grayColor];\n    _textField.textAlignment = NSTextAlignmentRight;\n    _textField.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;\n    _textField.frame = CGRectMake(20, 90, self.view.frame.size.width-40, 100);\n    _textField.textColor = [UIColor blackColor];\n    [self.view addSubview:_textField];\n}\n</code></pre>\n\n<p>In IOS11 it works fine, but since 12, it comes up. Any body can help how to fix it, thank you very much.</p>\n"}, {"tags": ["ios", "objective-c", "accessibility", "voiceover", "uiaccessibility"], "answers": [{"comments": [{"owner": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564491396, "post_id": 57271384, "comment_id": 101042416, "body": "In may case it should work for all the units not only for date format like <b>.03 (unit)</b>, updated same in question."}, {"owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "reply_to_user": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564494220, "post_id": 57271384, "comment_id": 101044220, "body": "@AnjaneyuluBattula: I answer your initial question that dealt only with hours. Now, if you add other requirements, create another question but, please, don&#39;t edit your question by modifying your purpose otherwise it&#39;s endless."}, {"owner": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564494623, "post_id": 57271384, "comment_id": 101044507, "body": "yes i agree with you and thanks for your answer, but i forgot adding units before, only for units creating another question it may consider as duplicate. And your answer not covered <b>0.03 - 0.05 hours</b> this scenario. If you have generic solution for this kind of problems can you please update your answer, and it will be helpful for many people, who are looking for this kind of solution."}, {"owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "reply_to_user": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564495423, "post_id": 57271384, "comment_id": 101045078, "body": "@AnjaneyuluBattula: if this new question is considered as duplicate, it means that your question dealing with hours should be marked as accepted here, shouldn&#39;t it? ;o) If this answer works for hours, as initially desired, adapt it to your different needs to avoir duplicate questions."}, {"owner": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564495580, "post_id": 57271384, "comment_id": 101045185, "body": "Here the main issue is voice over is not reading properly .03, 0.03, 0.03 - 0.05 for these kind of decimal number. Please let me know if you have any solution for this. Please help me out and thanks in advance."}, {"owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "reply_to_user": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564495823, "post_id": 57271384, "comment_id": 101045352, "body": "@AnjaneyuluBattula: see the sheet &#39;Numbers&#39; in the provided explanation link for these numbers to be read out by VoiceOver as decimal numbers \u27f9 the example may be the solution."}, {"owner": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 0, "creation_date": 1564497328, "post_id": 57271384, "comment_id": 101046341, "body": "yes got it, Thank you. But may i know the solution for these scenarios like 3 - 5, 0.03 - 0.05, 0.03, .03, 3. Here my main problem is as i mentioned json response is in string format. So suppose in this scenario 3 - 5 i have to split this to invidiual elemnts and apply NumberFormatter then have to combine individual accessibility elements(Am i correct? Please correct me if i am wrong) or do we have any other solution."}, {"owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "reply_to_user": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "edited": false, "score": 1, "creation_date": 1564498240, "post_id": 57271384, "comment_id": 101046945, "body": "You&#39;re right and, with the low details I know, here&#39;s what I would do: 1. rip your numbers out of the JSON response, 2. apply and adapt the code snippets provided in the link (date, time and numbers) for each one of them. The provided website is very rich in a11y information of all kinds: don&#39;t hesitate to return from time to time as a breviary."}], "tags": [], "owner": {"reputation": 3633, "user_id": 3825084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgOy8.jpg?s=128&g=1", "display_name": "XLE_22", "link": "https://stackoverflow.com/users/3825084/xle-22"}, "is_accepted": false, "score": 2, "last_activity_date": 1564488718, "creation_date": 1564488718, "answer_id": 57271384, "question_id": 57267541, "link": "https://stackoverflow.com/questions/57267541/ios-voice-over-doesnt-read-proper-for-03-hours-text/57271384#57271384", "title": "iOS: Voice Over doesn&#39;t read proper for &quot;.03 hours&quot; text", "body": "<blockquote>\n  <p>the number format is getting from json response as string type and it might be in any format like 0.03 hours, .03 hours, .03 - .05 hours, 4 - 5 hours</p>\n</blockquote>\n\n<p>First of all, you should <strong>rearrange the incoming data</strong> so as to <strong>have the same defined format</strong>. Then, you just have to set up this format to be read out as desired by VoiceOver.</p>\n\n<p>Hereunder, an ObjC code snippet from this <a href=\"https://a11y-guidelines.orange.com/mobile_EN/dev-ios.html#date-time-and-numbers\" rel=\"nofollow noreferrer\">complete 'date, time and numbers' explanation</a>:</p>\n\n<pre><code>@interface ViewController ()\n@property (weak, nonatomic) IBOutlet UILabel * hourLabel;\n@end\n\n\n@implementation ViewController\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n\n    NSDateFormatter * dateFormatter = [[NSDateFormatter alloc]init];\n    [dateFormatter setDateFormat:@\"0.HH\"];\n\n    NSDate * date = [dateFormatter dateFromString:@\"0.05\"];\n\n\n    _hourLabel.text = [NSDateFormatter localizedStringFromDate:date\n                                                     dateStyle:NSDateFormatterNoStyle\n                                                     timeStyle:NSDateFormatterShortStyle];\n\n    NSDateComponents * hourComponents = [[NSCalendar currentCalendar] components:NSCalendarUnitHour\n                                                                        fromDate:date];\n\n    _hourLabel.accessibilityLabel = [NSDateComponentsFormatter localizedStringFromDateComponents:hourComponents\n                                                                                      unitsStyle:NSDateComponentsFormatterUnitsStyleSpellOut];\n}\n@end\n</code></pre>\n\n<p>Unless I misunderstood your need, you should reach your purpose using this rationale.</p>\n"}], "owner": {"reputation": 1770, "user_id": 2750260, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/h1yOr.jpg?s=128&g=1", "display_name": "Anjaneyulu Battula", "link": "https://stackoverflow.com/users/2750260/anjaneyulu-battula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564491273, "creation_date": 1564475867, "last_edit_date": 1564491273, "question_id": 57267541, "link": "https://stackoverflow.com/questions/57267541/ios-voice-over-doesnt-read-proper-for-03-hours-text", "title": "iOS: Voice Over doesn&#39;t read proper for &quot;.03 hours&quot; text", "body": "<p>I have a text in either of below formats:</p>\n\n<p><strong>.03 hours</strong></p>\n\n<p><strong>0.03 - 0.05 hours</strong></p>\n\n<p>In above cases accessibility should read in below format:</p>\n\n<p><strong>dot zero three hours</strong></p>\n\n<p><strong>zero dot zero three (character name) zero dot zero five hours</strong></p>\n\n<p>But in real scenario it is reading like below:</p>\n\n<p><strong>three hours</strong></p>\n\n<p><strong>zero dot zero three zero dot five hours</strong></p>\n\n<p>Like i mentioned above the number format is getting from json response as string type and it might be in any format like 0.03 hours, .03 hours, .03 - .05 hours, 4 - 5 hours</p>\n\n<p>to fix the issue, I have tried many solutions like below but no luck</p>\n\n<pre><code>hoursLabel.accessibilityAttributedLabel = NSAttributedString(string: hoursLabel.text ?? \"\", attributes: [NSAttributedString.Key.accessibilitySpeechPunctuation: NSNumber(value: true)])\n</code></pre>\n\n<p>Can any one help me out, how to fix this scenario.</p>\n\n<p>In may case it should work in all other units like <strong>.03 (unit)</strong></p>\n"}, {"tags": ["ios", "objective-c", "instruments"], "comments": [{"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564475763, "post_id": 57267336, "comment_id": 101033530, "body": "Yes, without any code investigation no one will be able to help you. The amount of memory leaking is irrelevant to the root cause."}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564475928, "post_id": 57267336, "comment_id": 101033610, "body": "@Kamil.S I don&#39;t know what code to provide because the memory leak does not point to my code."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564476048, "post_id": 57267336, "comment_id": 101033671, "body": "try to isolate the problem. Maybe it appears only on particular screen of the app."}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564476243, "post_id": 57267336, "comment_id": 101033791, "body": "@Kamil.S I am very sorry, do you mean that this problem may not exist on other pages?"}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564477012, "post_id": 57267336, "comment_id": 101034235, "body": "Correct, maybe the problem exists only upon reaching some particular area of the app."}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564477382, "post_id": 57267336, "comment_id": 101034465, "body": "@Kamil.S Maybe I didn&#39;t describe it clearly. Currently I have three models of devices 12.3.1, 11.3.1, 10.3.3, but only 12.3.1 has a memory leak."}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564477487, "post_id": 57267336, "comment_id": 101034535, "body": "@Kamil.S In order to maintain the same test environment for the three devices, I have kept all three devices on the App homepage."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564477530, "post_id": 57267336, "comment_id": 101034561, "body": "Yes I understand, but do your best to pin down when exactly the leak happens on the affected 12.3.1. Right away from app launch?"}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564478042, "post_id": 57267336, "comment_id": 101034829, "body": "@Kamil.S What do you mean by checking the timing of memory leaks, should you check for memory leaks after the boot should be properly completed, not when it is booting?"}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564478682, "post_id": 57267336, "comment_id": 101035164, "body": "@Kamil.S Thank you very much, you are the best person."}, {"owner": {"reputation": 1914, "user_id": 4510873, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/oXzz3.jpg?s=128&g=1", "display_name": "Bharath", "link": "https://stackoverflow.com/users/4510873/bharath"}, "edited": false, "score": 0, "creation_date": 1610352826, "post_id": 57267336, "comment_id": 116095443, "body": "@Nullable There are some issues on XCode 12.3* where false positive memory leaks are being reported and that has addressed on latest beta version, Please check the beta version Release notes."}], "owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564477272, "creation_date": 1564475133, "last_edit_date": 1564477272, "question_id": 57267336, "link": "https://stackoverflow.com/questions/57267336/ios-instrument-memory-leak-12-3-1-a-lot-but-10-3-3-nothing", "title": "iOS Instrument memory leak, 12.3.1 a lot, but 10.3.3 nothing", "body": "<p>I used instrument to check for memory leaks.\nThere are three devices\uff0cthe versions are 12.3.1\u300111.3.1\u300110.3.3\uff0cbut only 12.3.1 has memory leaks</p>\n\n<p>Has anyone else seen it?</p>\n\n<hr>\n\n<h3>Environment and settings</h3>\n\n<ul>\n<li><p>Xcode version: <code>10.3</code></p></li>\n<li><p>Xcode Build Configuration: <code>Debug</code></p></li>\n<li><p>Xcode Build Settings : <code>Debug Information Format: DWARF with dSYM File</code>\n\u00a0</p></li>\n<li><p>Devices model: <code>iPhone 6s</code></p></li>\n<li><p>Devices version: <code>12.3.1</code></p></li>\n<li><p>Tool name: <code>instrument</code></p></li>\n<li><p>Tool version: <code>10.3</code></p></li>\n<li><p>Instrument Standard: <code>Leaks</code></p></li>\n</ul>\n\n<h3>Steps:</h3>\n\n<ol>\n<li><p>Select <code>Leak Checks</code>, focusing on red memory leaks</p></li>\n<li><p>In the bottom panel, focus on <code>Cycles &amp; Roots</code></p></li>\n<li><p>The result <code>Cycles(16)</code>, all like this <code>Malloc 64 Bytes - 7 nodes</code></p></li>\n<li><p>Results <code>Root Leaks (334)</code>, all like this <code>Malloc 16.00 KiB</code></p></li>\n<li><p>Check any check <code>Stack Trace</code>, some can track the library, most of them can't track</p></li>\n</ol>\n\n<hr>\n\n<p>I don't expect any memory leaks in 12.3.1, but sometimes I can find thousands of <code>Root Leaks</code>. Could I provide more information\uff1f</p>\n\n<p>Is it necessary to locate the code in the library? Too difficult for me</p>\n\n<p>Thanks so much in advance for your help!</p>\n"}, {"tags": ["objective-c", "uikit"], "comments": [{"owner": {"reputation": 1398, "user_id": 254695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b88a2153da1b439de174b694d74b0764?s=128&d=identicon&r=PG", "display_name": "Emmanuel Ay", "link": "https://stackoverflow.com/users/254695/emmanuel-ay"}, "edited": false, "score": 0, "creation_date": 1582374675, "post_id": 57266004, "comment_id": 106760515, "body": "Did you solve this issue? Im unable to find anything about DiffableDataSource and ObjC"}], "owner": {"reputation": 847, "user_id": 2562428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ieslb.png?s=128&g=1", "display_name": "Scotch Design", "link": "https://stackoverflow.com/users/2562428/scotch-design"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1564481990, "creation_date": 1564470051, "last_edit_date": 1564481990, "question_id": 57266004, "link": "https://stackoverflow.com/questions/57266004/uitableviewdiffabledatasource-in-objective-c", "title": "UITableViewDiffableDataSource in Objective C", "body": "<p>Here is my implementation of UITableViewDiffableDataSource in Objective C. My datasource parameter is currently defined in the header. </p>\n\n<p>I was hoping to use the UITableView's DataSource property directly rather than a datasource parameter, but keep receiving a warning about it being a weak parameter that will be released. </p>\n\n<p>Any thoughts on how this should be implemented to avoid that? The UITableView property is defined as Strong.</p>\n\n<pre><code>_dataSource = [[UITableViewDiffableDataSource alloc] initWithTableView:_tableView cellProvider:^UITableViewCell *(UITableView *table, NSIndexPath *indexPath, User *user) {\n\n    UITableViewCell *cell = [table dequeueReusableCellWithIdentifier:@\"cell\"];\n\n    cell.textLabel.text = user.name;\n    cell.detailTextLabel.text = user.email;\n\n    return cell;\n}];\n\n[_tableView setDataSource:_dataSource];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "apple-watch", "watchos", "wcsession"], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "edited": false, "score": 0, "creation_date": 1564654982, "post_id": 57305529, "comment_id": 101106216, "body": "Yes I&#39;m using ARC. But there is two issues with this delegate: First of all it&#39;s causing memory leak. Second, some times my sessions are not managed smoothly. like I have 2 apple watches the second one seems to be connected but it does not receiving any data."}, {"owner": {"reputation": 12736, "user_id": 645799, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ae4bad2e6e93d68d584812af046470ce?s=128&d=identicon&r=PG", "display_name": "PJR", "link": "https://stackoverflow.com/users/645799/pjr"}, "reply_to_user": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "edited": false, "score": 0, "creation_date": 1565239878, "post_id": 57305529, "comment_id": 101291842, "body": "@taratandel, I think you got your answer :) as I mentioned in my answer, weak reference will work for you like <code>@property (nonatomic, weak, nullable) id &lt;WCSessionDelegate&gt; delegate;</code>"}], "tags": [], "owner": {"reputation": 12736, "user_id": 645799, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ae4bad2e6e93d68d584812af046470ce?s=128&d=identicon&r=PG", "display_name": "PJR", "link": "https://stackoverflow.com/users/645799/pjr"}, "is_accepted": false, "score": 1, "last_activity_date": 1564650632, "creation_date": 1564650632, "answer_id": 57305529, "question_id": 57256668, "link": "https://stackoverflow.com/questions/57256668/setting-delegate-of-wcsession-to-nil/57305529#57305529", "title": "setting delegate of WCSession to nil", "body": "<p>First I want to know that self.session is following arc, and as delegate always contains weak reference then no need to set it to nil.</p>\n\n<p>Is it causing any issue? if you are not setting it nil manually ? If yes then you can set it to nil in <code>sessionDidDeactivate</code> as it says:<code>Called after all data from the previous session has been delivered and communication with the Apple Watch has ended.</code>  and you can set new session like</p>\n\n<pre><code>func sessionDidDeactivate(session: WCSession) {\n    // Begin the activation process for the new Apple Watch.\n    WCSession.defaultSession().activateSession()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 2370982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1S8Zj.png?s=128&g=1", "display_name": "baguIO", "link": "https://stackoverflow.com/users/2370982/baguio"}, "is_accepted": true, "score": 0, "last_activity_date": 1564680557, "last_edit_date": 1564680557, "creation_date": 1564679885, "answer_id": 57314049, "question_id": 57256668, "link": "https://stackoverflow.com/questions/57256668/setting-delegate-of-wcsession-to-nil/57314049#57314049", "title": "setting delegate of WCSession to nil", "body": "<p>WCSession.delegate won't leak: <a href=\"https://developer.apple.com/documentation/watchconnectivity/wcsession/1615675-delegate?language=objc\" rel=\"nofollow noreferrer\">it is a weak reference</a></p>\n\n<pre><code>NS_CLASS_AVAILABLE_IOS(9.0)\n@interface WCSession : NSObject\n// ...\n/** A delegate must exist before the session will allow sends. */\n@property (nonatomic, weak, nullable) id &lt;WCSessionDelegate&gt; delegate;\n// ...\n</code></pre>\n\n<p>If you're using ARC and your delegate is still being held on memory, it is not because of WCSession.delegate</p>\n"}], "owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57314049, "answer_count": 2, "score": 0, "last_activity_date": 1564680557, "creation_date": 1564413121, "question_id": 57256668, "link": "https://stackoverflow.com/questions/57256668/setting-delegate-of-wcsession-to-nil", "title": "setting delegate of WCSession to nil", "body": "<p>I'm using 'WCSession' for the connection between my app and apple watch. I preferred singleton approach. So, I made a shared session:</p>\n\n<pre><code>static Shared_WCSession *sharedInstance = nil;\n+(Shared_WCSession*)getSharedInstance {\n    @synchronized(self) {\n        // If the class variable holding the reference to the single ContentManager object is empty create it.\n        if(sharedInstance == nil) {\n             sharedInstance = [[Shared_WCSession alloc] init];\n        }\n    }\n     return sharedInstance;\n}\n</code></pre>\n\n<p>Then in start session I set up the delegate for the session: </p>\n\n<pre><code>-(void)startSession {\n     if ([WCSession isSupported]) {\n        self.session = [WCSession defaultSession];\n        self.session.delegate = self;\n        [self.session activateSession];\n        LOG(@\"WCSession is supported\");\n    }\n}\n</code></pre>\n\n<p>What is the proper way to deallocate the delegate?</p>\n\n<p>According to <a href=\"https://developer.apple.com/documentation/watchconnectivity/wcsessiondelegate\" rel=\"nofollow noreferrer\">apple's docs</a> I can do it in the following methods:</p>\n\n<pre><code>sessionDidBecomeInactive(_:) \nsessionDidDeactivate(_:)\n</code></pre>\n\n<p>If I set the delegate to nil there will this interfere with the performance of my applications?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "cocoapods"], "comments": [{"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1564834653, "post_id": 57256326, "comment_id": 101165127, "body": "Not sure if it&#39;s applicable to your case, but check my answer here <a href=\"https://stackoverflow.com/a/56885148/5329717\">stackoverflow.com/a/56885148/5329717</a>"}], "owner": {"reputation": 1636, "user_id": 416184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c365aa661c49ea26d253053202fec1cb?s=128&d=identicon&r=PG", "display_name": "clauswey", "link": "https://stackoverflow.com/users/416184/clauswey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "closed_date": 1619191163, "answer_count": 0, "score": 1, "last_activity_date": 1564411932, "creation_date": 1564411932, "question_id": 57256326, "link": "https://stackoverflow.com/questions/57256326/mixing-swift-and-objective-c-in-dependencies-cocoapods-that-work-as-framework", "closed_reason": "Duplicate", "title": "Mixing Swift and Objective C in Dependencies (cocoapods) that work as framework as well as static library", "body": "<p>Is it possible to have a pod that can work as framework as well as a static library (depending on the App that want's to use it)?</p>\n\n<p>Basically the problem is that <em>Module</em>-Swift.h needs to be included with </p>\n\n<pre><code>#import &lt;Module/Module-Swift.h&gt;\n</code></pre>\n\n<p>when used as a framework and </p>\n\n<pre><code>#import \"Module-Swift.h\"\n</code></pre>\n\n<p>when used as a static library.</p>\n\n<p>I haven't found a way to tell the Pod projects where to look to find the header if it can't find the variant I used.</p>\n\n<p>If you want to see the problem in action feel free to check out <a href=\"https://github.com/cweymann/MixedLog-Demo/tree/as_framework\" rel=\"nofollow noreferrer\">https://github.com/cweymann/MixedLog-Demo/tree/as_framework</a>\n(run setup.sh in the Example subfolder)</p>\n\n<p>Any ideas would be appreciated!</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1564390856, "post_id": 57250296, "comment_id": 101000854, "body": "It seems your declaration is wrong. It&#39;s supposed to be <code>BOOL confirmUsername;</code> without asterisk. A boolean is not an object."}, {"owner": {"reputation": 2460, "user_id": 905692, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21514dd9a3b8e895b1c85050397f5e0b?s=128&d=identicon&r=PG", "display_name": "waldrumpus", "link": "https://stackoverflow.com/users/905692/waldrumpus"}, "edited": false, "score": 1, "creation_date": 1564391133, "post_id": 57250296, "comment_id": 101000984, "body": "Could you please show us the definition of <code>confirmUsername</code>?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1564434512, "post_id": 57250296, "comment_id": 101021954, "body": "Further to the error (you declared a reference to a <code>BOOL</code>) the test <code>self.username != usernameTextFieldText</code> probably does <b>not</b> do what you expect. The names suggest that the intention is to compare <i>strings</i> (<code>NSString *</code> or <code>char *</code>) but the operator <code>!=</code> will compare the <i>references</i> not the string <i>values</i> \u2013 so it will only be true if the two operands reference <i>exactly the same</i> string and not strings with the same value. To compare <code>NSString</code> use the method <code>isEqual:</code> or <code>isEqualToString:</code> (if you have <code>char *</code> C strings use the function <code>strcmp()</code>). HTH"}], "answers": [{"tags": [], "owner": {"reputation": 284, "user_id": 10828054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEPnX.jpg?s=128&g=1", "display_name": "ink", "link": "https://stackoverflow.com/users/10828054/ink"}, "is_accepted": true, "score": 1, "last_activity_date": 1564393946, "creation_date": 1564393946, "answer_id": 57251285, "question_id": 57250296, "link": "https://stackoverflow.com/questions/57250296/how-can-i-solve-that-warning/57251285#57251285", "title": "How can I solve that warning", "body": "<p>You should declare like this</p>\n\n<pre><code>BOOL confirmUsername;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>BOOL *confirmUsername;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8248572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3670af7b304f76075cea564334f26d50?s=128&d=identicon&r=PG&f=1", "display_name": "Metin Y\u0131ld\u0131z", "link": "https://stackoverflow.com/users/8248572/metin-y%c4%b1ld%c4%b1z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57251285, "answer_count": 1, "score": 0, "last_activity_date": 1564393946, "creation_date": 1564390484, "question_id": 57250296, "link": "https://stackoverflow.com/questions/57250296/how-can-i-solve-that-warning", "title": "How can I solve that warning", "body": "<p>I defined a boolean variable. It's called confirmUsername and I want to check this variable YES or NO.</p>\n\n<pre><code>if (self.username != usernameTextFieldText) {\n    self.confirmUsername = YES;\n} else {\n    self.confirmUsername = NO;\n}\n</code></pre>\n\n<p>Xcode give that warning </p>\n\n<pre><code>Incompatible integer to pointer conversion assigning to 'BOOL *' (aka 'bool *') from 'BOOL' (aka 'bool')\n</code></pre>\n\n<p>What I should do ?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1564383736, "post_id": 57247777, "comment_id": 100997406, "body": "In C, the code wouldn&#39;t link (assuming it compiled \u2014 it won&#39;t because it is Objective-C and not C, but it could fairly easily be modified to compile as C) unless there was a definition of <code>iiii</code> somewhere \u2014 so the address would not be null because no actual object has a null address.  When you remove the second <code>NSLog()</code>, the optimizer knows that the condition is always true, so it doesn&#39;t need to actually test the variable&#39;s address; it cannot be null so <code>not null</code> is printed without any test, or need for the variable to be defined."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1564387074, "post_id": 57247777, "comment_id": 100999013, "body": "@JonathanLeffler  This is a C question. <code>int iiii</code> isn&#39;t an object. If the Objective-C part <code>NSLog(@&quot;not null&quot;);</code> is replaced by <code>printf(&quot;not null\\n&quot;);</code>, no error will be generated. The compiler knows that the condition is always true with and without the second <code>NSLog()</code>."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1564387180, "post_id": 57247777, "comment_id": 100999061, "body": "@Willeke \u2014 The use of @ in front of the strings means that the code is not C.  If the OP wanted it to be a C question, there would be no Code that is intrinsically Objective-C, and no tag for Objective-C."}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1564387616, "post_id": 57247777, "comment_id": 100999246, "body": "@Willeke \u2014 with the second call to <code>NSLog()</code>, there must be an actual variable <code>iiii</code> so its address can be determined and printed.  The test can still be optimized away; regardless of where it is stored, it\u2019s address will not be null"}, {"owner": {"reputation": 3, "user_id": 11850498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xM9qVyfNfPE/AAAAAAAAAAI/AAAAAAAAAAA/-3g62xMzPWQ/photo.jpg?sz=128", "display_name": "917509900qqcom", "link": "https://stackoverflow.com/users/11850498/917509900qqcom"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1564406522, "post_id": 57247777, "comment_id": 101009248, "body": "@JonathanLeffler -- code of objc is not important, I have tried to replace objc code with pure C code(<a href=\"https://repl.it/languages/c\" rel=\"nofollow noreferrer\">repl.it/languages/c</a>), I got same result."}, {"owner": {"reputation": 3, "user_id": 11850498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xM9qVyfNfPE/AAAAAAAAAAI/AAAAAAAAAAA/-3g62xMzPWQ/photo.jpg?sz=128", "display_name": "917509900qqcom", "link": "https://stackoverflow.com/users/11850498/917509900qqcom"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1564406692, "post_id": 57247777, "comment_id": 101009355, "body": "@Willeke -- I am agree with you, I tried to replace objc code with pure C code, and test it on <a href=\"https://repl.it/languages/c\" rel=\"nofollow noreferrer\">repl.it/languages/c</a>, compiler generated a warning said that the bool test is always true. So, I think compiler just optimized bool test if the last line of code was deleted. I still has a question, this behaviou seems odd to me, is this expected or just something undefined? Many thanks"}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 1, "last_activity_date": 1564432545, "creation_date": 1564432545, "answer_id": 57261037, "question_id": 57247777, "link": "https://stackoverflow.com/questions/57247777/why-does-not-address-of-non-exist-extern-variable-equal-to-null/57261037#57261037", "title": "why does not address of non-exist extern variable equal to null", "body": "<p>Building an application includes the distinct stages of <em>compilation</em> and <em>linking</em>.</p>\n\n<p>It is the linking stage, which occurs after compilation, that global declarations and \"<code>extern</code>\" references to such declarations and linked together. If you look at the error you get when the <code>NSLog()</code> is in your code you will see it is a linker (coming from <code>ld</code>, the linker/loader) error.</p>\n\n<p>During compilation the compiler assumes that any <code>extern</code> references will be resolved by the linker. So it assumes the <code>iiii</code> variable will exist, and as such it will have an address so it can optimise away the test.</p>\n\n<p>The above assumes strong linking, when a compiler is informed that <em>weak linking</em> will be used then it cannot make the assumption that an external reference will be non-null. E.g. if the variable <code>iiii</code> was declared in a library/framework which was weakly dynamically linked to your application then the compiler could not assume the variable existed and the application would need to test somewhere that the weakly-linked dynamic library was present. However we're getting into another topic entirely... (ask a new question if you have a dynamic linking issue).</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 3, "user_id": 11850498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xM9qVyfNfPE/AAAAAAAAAAI/AAAAAAAAAAA/-3g62xMzPWQ/photo.jpg?sz=128", "display_name": "917509900qqcom", "link": "https://stackoverflow.com/users/11850498/917509900qqcom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 57261037, "answer_count": 1, "score": -1, "last_activity_date": 1564432545, "creation_date": 1564379158, "last_edit_date": 1564383220, "question_id": 57247777, "link": "https://stackoverflow.com/questions/57247777/why-does-not-address-of-non-exist-extern-variable-equal-to-null", "title": "why does not address of non-exist extern variable equal to null", "body": "<p>I found something very confusing about non-exists extern variable.\nAs the code below, obviously, compiler will generate an error cause there is not a int variable named iiii.</p>\n\n<p>But, if the line code of \"NSLog(@\"%p\", &amp;iiii);\" is deleted, no error will be generated. And the \"not null\" will be printed if I execute the output binary.</p>\n\n<p>Why is this happen? I am hoping to get an error, no matter how I manipulate iiii.</p>\n\n<p>Thanks for your help</p>\n\n<p>IDE: Xcode 10.3 with clang\nTarget platform: iOS simulator 12.4</p>\n\n<pre><code>extern int iiii;\nif(NULL != (&amp;iiii)) {\n    NSLog(@\"not null\");\n}\nNSLog(@\"%p\", &amp;iiii);\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1564348493, "post_id": 57244873, "comment_id": 100990643, "body": "What does &quot;the layout anchors do not work&quot; mean? The phrase &quot;does not work&quot; is almost never useful in asking a Stack Overflow question. Say what actually did or did not happen and what you expected."}, {"owner": {"reputation": 47, "user_id": 10792438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SJn1KZs8Ko8/AAAAAAAAAAI/AAAAAAAAABI/30D1eEV0COc/photo.jpg?sz=128", "display_name": "Nikkko", "link": "https://stackoverflow.com/users/10792438/nikkko"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1564388614, "post_id": 57244873, "comment_id": 100999747, "body": "@matt by saying does not work, I mean that there are no effects(e.g. The button doesn&#39;t change it&#39;s position) after adding the anchors or the NSLayoutConstraints."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10792438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SJn1KZs8Ko8/AAAAAAAAAAI/AAAAAAAAABI/30D1eEV0COc/photo.jpg?sz=128", "display_name": "Nikkko", "link": "https://stackoverflow.com/users/10792438/nikkko"}, "edited": false, "score": 0, "creation_date": 1564766532, "post_id": 57245034, "comment_id": 101151966, "body": "I have made some changes with the code you have provided and It actually works. Thank you very much!"}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 0, "last_activity_date": 1564348565, "creation_date": 1564348565, "answer_id": 57245034, "question_id": 57244873, "link": "https://stackoverflow.com/questions/57244873/layout-anchor-and-nslayoutconstraint-are-not-working/57245034#57245034", "title": "Layout Anchor and NSLayoutConstraint are not working?", "body": "<p>You are creating the button twice. Remove the following line since you are using constraints:</p>\n\n<pre><code>buttonToConfigure = [[UIButton alloc] initWithFrame:CGRectMake(x, y, width, height)];\n</code></pre>\n\n<p>There is also an easier way to setup a bunch of constraints at once:</p>\n\n<pre><code>UIView *view = ViewControllerToPresentIn.view;\n[view addSubview:buttonToConfigure];\n\n[NSLayoutConstraint activateConstraints:@[\n    [buttonToConfigure.centerXAnchor constraintEqualToAnchor:ViewControllerToPresentIn.view.centerXAnchor]\n    [buttonToConfigure.topAnchor constraintEqualToAnchor:view.topAnchor constant: 50],\n    [buttonToConfigure.heightAnchor constraintEqualToConstant: height],\n    [buttonToConfigure.widthAnchor constraintEqualToConstant: width],\n]];\n</code></pre>\n\n<p>Note that here I provide different constraints. You need to decide which constraints you really need.</p>\n\n<p>Keep in mind that you need to specify a horizontal position and size and a vertical position and size. The constraints I show here are just one of several ways to satisfy that requirement.</p>\n\n<p>The constraints in your question have two issues.</p>\n\n<ol>\n<li>You have three horizontal constraints. Since you have both a leading and trailing, the use of <code>centerXAnchor</code> is unnecessary. The leading and trailing constraints define both horizontal position and size.</li>\n<li>You only have one vertical constraint. For a UIButton this may not be an issue since the button has a default height. But your method takes a <code>height</code> parameter which you don't use (after removing the extra button creation line).</li>\n</ol>\n\n<p>Your method has an x, y, width, and height but none of your constraints use any of those parameters. So you need to decided what is necessary.</p>\n"}], "owner": {"reputation": 47, "user_id": 10792438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SJn1KZs8Ko8/AAAAAAAAAAI/AAAAAAAAABI/30D1eEV0COc/photo.jpg?sz=128", "display_name": "Nikkko", "link": "https://stackoverflow.com/users/10792438/nikkko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 57245034, "answer_count": 1, "score": -1, "last_activity_date": 1564348565, "creation_date": 1564347120, "question_id": 57244873, "link": "https://stackoverflow.com/questions/57244873/layout-anchor-and-nslayoutconstraint-are-not-working", "title": "Layout Anchor and NSLayoutConstraint are not working?", "body": "<p>I was(and still am) goofing around with Objective-C. I want to learn how to create UI programatically. I have a method that takes an already defined UIButton (I don't know if defined is the right word) and it customize it based on developer's input. Here is the function:</p>\n\n<pre><code>   +(void)configureButtonWithBoldTextTop50Left150RightAnchor160: (UIButton *)buttonToConfigure whithXParam: (CGFloat)x withYParam: (CGFloat)y withHeight: (CGFloat)height withWigth: (CGFloat)width  withTitle: (NSString *)title withTitleColor: (UIColor *)titleColor withCornerRadius: (CGFloat)cornerRadius withBorderWidth: (CGFloat)borderWidth withBorderColor: (UIColor *) borderColor withButtonBackgroundColor: (UIColor *)buttonBackgroundColor withFontSize:(CGFloat)fontSize presentIN: (UIViewController *)ViewControllerToPresentIn \n{\n\n        CGFloat leadingAnchorValue = 150; // left\n        CGFloat trailingAnchorValue = -160; // right\n\n        buttonToConfigure = [UIButton buttonWithType:UIButtonTypeCustom];\n        buttonToConfigure.translatesAutoresizingMaskIntoConstraints = NO;\n        buttonToConfigure = [[UIButton alloc] initWithFrame:CGRectMake(x, y, width, height)];\n        [buttonToConfigure setTitle:title forState:UIControlStateNormal];\n        [buttonToConfigure.titleLabel setFont:[UIFont fontWithName:@\"Helveticaneue-Bold\" size:fontSize]];\n        [buttonToConfigure setTitleColor:titleColor forState:UIControlStateNormal];\n        [buttonToConfigure setFrame: CGRectMake(x, y, width, height)];\n\n        buttonToConfigure.layer.cornerRadius = cornerRadius;\n        buttonToConfigure.clipsToBounds = YES;\n        buttonToConfigure.layer.borderWidth = borderWidth;\n        buttonToConfigure.layer.borderColor = borderColor.CGColor;\n        buttonToConfigure.backgroundColor = buttonBackgroundColor;\n        buttonToConfigure.contentHorizontalAlignment = UIControlContentHorizontalAlignmentCenter;\n\n        // adding button to view hierarchy\n\n        [ViewControllerToPresentIn.view addSubview:buttonToConfigure];\n\n        [buttonToConfigure.centerXAnchor constraintEqualToAnchor:ViewControllerToPresentIn.view.centerXAnchor].active = YES;\n        [buttonToConfigure.topAnchor constraintEqualToAnchor:ViewControllerToPresentIn.view.topAnchor constant:50].active = YES;\n        [buttonToConfigure.trailingAnchor constraintEqualToAnchor:ViewControllerToPresentIn.view.trailingAnchor constant:trailingAnchorValue].active = YES;\n        [buttonToConfigure.leadingAnchor constraintEqualToAnchor:ViewControllerToPresentIn.view.leadingAnchor constant:leadingAnchorValue].active = YES;\n    }\n</code></pre>\n\n<p>The problem is that the Layout Anchors do not work. Also, I tried to add NSLayoutConstraint by defining(creating) it in my .h file, but when I add it to the button, the whole app crashes with Error: \"Thread 1: signal SIGABRT\". How can I add some kind of constraints, so it looks kind of the same on all screen sizes?</p>\n"}, {"tags": ["javascript", "objective-c", "macos", "std", "javascript-automation"], "answers": [{"tags": [], "owner": {"reputation": 4547, "user_id": 9051006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ecd4d9aedf87d99e79b556db65d2d26?s=128&d=identicon&r=PG", "display_name": "CJK", "link": "https://stackoverflow.com/users/9051006/cjk"}, "is_accepted": true, "score": 0, "last_activity_date": 1564335071, "creation_date": 1564335071, "answer_id": 57243393, "question_id": 57241060, "link": "https://stackoverflow.com/questions/57241060/how-do-i-get-to-see-the-contents-of-a-nsdata-array-in-jxa/57243393#57243393", "title": "How do I get to see the contents of a NSData array in JXA?", "body": "<p>I have gone into this in-depth in <a href=\"https://stackoverflow.com/a/57243326/9051006\">the answer I posted</a> to <a href=\"https://stackoverflow.com/questions/57235855/how-do-i-read-a-file-as-a-byte-array-in-applescript\">your other question</a>, so please refer to that for more details.</p>\n\n<p>But here you go:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function readBytes(filepath) {\n    const bytes    = $.NSData.dataWithContentsOfFile(\n                        $.NSString.stringWithString(filepath)\n                         .stringByStandardizingPath);\n    const bytesPtr = bytes.bytes;\n    var   bytesArr = [];\n    const numBytes = Number(bytes.length);\n\n    for (let i = 0; i &lt; numBytes; i++) {\n        bytesArr.push(bytesPtr[i]);\n    }\n\n    return bytesArr;    \n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6387475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1100835319978275/picture?type=large", "display_name": "Damian Radinoiu", "link": "https://stackoverflow.com/users/6387475/damian-radinoiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 57243393, "answer_count": 1, "score": 0, "last_activity_date": 1564335071, "creation_date": 1564318112, "question_id": 57241060, "link": "https://stackoverflow.com/questions/57241060/how-do-i-get-to-see-the-contents-of-a-nsdata-array-in-jxa", "title": "How do I get to see the contents of a NSData array in JXA?", "body": "<p>I need to do some manipulation on a file byte array and as far as I have read, I cannot do this unless I use ObjectiveC bridging. This is what I have done for now: </p>\n\n<pre><code>var filepath = file.toString();\nObjC.import('stdlib');\nObjC.import('Foundation');\n\nvar theFileData = $.NSData.dataWithContentsOfFile(filepath);\nvar fileSize = theFileData.length;\n</code></pre>\n\n<p>If I try using <code>$.malloc(filesize)</code> it will say the function is undefined... how am I supposed to check the contents of <code>theFileData</code> ?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nsfilemanager"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 0, "creation_date": 1564250132, "post_id": 57234711, "comment_id": 100971778, "body": "Ah! Thank you! I should have caught that, as my code was originally dealing with URL&#39;s and then I switched to paths. Thanks!"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 0, "creation_date": 1564256980, "post_id": 57234711, "comment_id": 100973498, "body": "@johnpurlia Glad to help. Please don&#39;t forget to indicate that your question has been resolved by clicking the checkmark to the left of the answer."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1564256932, "last_edit_date": 1564256932, "creation_date": 1564249972, "answer_id": 57234711, "question_id": 57234673, "link": "https://stackoverflow.com/questions/57234673/reading-jpeg-from-file-fails-with-no-such-file-but-file-is-clearly-there/57234711#57234711", "title": "Reading jpeg from file fails with &quot;no such file&quot; but file is clearly there", "body": "<p>If you want to create an <code>NSURL</code> using <code>fileURLWithPath</code> then you need to provide a path, not a URL. Remove the use of <code>file:</code>.</p>\n\n<pre><code>NSString *path = @\"/Users/jpurlia/Documents/Development/Test/1915brsts880804of.jpg\";\nNSURL *url = [NSURL fileURLWithPath:path];\n</code></pre>\n\n<p>Or you can fix the file URL and use <code>NSURL URLWithString</code>. Use <code>file://</code> before the absolute file path so you have 3 <code>/</code>:</p>\n\n<pre><code>NSString *fileURLString = @\"file:///Users/jpurlia/Documents/Development/Test/1915brsts880804of.jpg\";\nNSURL *url = [NSURL URLWithString:fileURLString];\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 57234711, "answer_count": 1, "score": 0, "last_activity_date": 1564256932, "creation_date": 1564249771, "last_edit_date": 1564250007, "question_id": 57234673, "link": "https://stackoverflow.com/questions/57234673/reading-jpeg-from-file-fails-with-no-such-file-but-file-is-clearly-there", "title": "Reading jpeg from file fails with &quot;no such file&quot; but file is clearly there", "body": "<p>I'm running into problems reading jpeg files from the file system and displaying the image in an NSImage. Here's a snippet of code:</p>\n\n<pre><code>    NSError *myError;\n    NSString *path = @\"file:/Users/jpurlia/Documents/Development/Test/1915brsts880804of.jpg\";\n    NSURL *url = [NSURL fileURLWithPath:path];\n    NSData *data = [NSData dataWithContentsOfURL:url\n                                         options:0\n                                           error:&amp;myError];\n    _photoImageView.image = [[NSImage alloc] initWithData:data];\n</code></pre>\n\n<p>Running this code generates the following error upon calling dataWithContentsOfURL:\nError Domain=NSCocoaErrorDomain Code=260 \"The file \u201c1915brsts880804of.jpg\u201d couldn\u2019t be opened because there is no such file.\"\nAnd, additionally:\n{Error Domain=NSPOSIXErrorDomain Code=2 \"No such file or directory\"}</p>\n\n<p>The file does exist, and if I copy the path and paste it into a web browser, the jpeg image is displayed as expected.\nI'm guessing this is some kind of permission problem that exists to prevent applications from accessing the file system directly? I had a similar problem when attempting to open files selected from an Open Panel, which turned out to be a problem with running Open/Save Panels from sandboxes, so I turned off sandboxing to get that aspect of my application working.</p>\n\n<p>Does this ring a bell for anyone? I'm kind of baffled...</p>\n"}, {"tags": ["ios", "objective-c", "macos", "cocoa", "grand-central-dispatch"], "answers": [{"comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1564246275, "post_id": 57234010, "comment_id": 100970865, "body": "Yes. But not barriers."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 5, "last_activity_date": 1564364804, "last_edit_date": 1564364804, "creation_date": 1564244726, "answer_id": 57234010, "question_id": 57233343, "link": "https://stackoverflow.com/questions/57233343/concurrent-insertion-of-blocks-into-concurrent-queue/57234010#57234010", "title": "Concurrent insertion of blocks into concurrent queue", "body": "<p>Barriers don\u2019t work on global queues. Create your own custom concurrent queue. As the <code>dispatch_barrier_async</code> <a href=\"https://developer.apple.com/documentation/dispatch/1452797-dispatch_barrier_async?language=occ\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>The queue you specify should be a concurrent queue that you create yourself using the <a href=\"https://developer.apple.com/documentation/dispatch/1453030-dispatch_queue_create?language=objc\" rel=\"nofollow noreferrer\"><code>dispatch_queue_create</code></a> function. If the queue you pass to this function is a serial queue or one of the global concurrent queues, this function behaves like the <a href=\"https://developer.apple.com/documentation/dispatch/1453057-dispatch_async?language=objc\" rel=\"nofollow noreferrer\"><code>dispatch_async</code></a> function.</p>\n</blockquote>\n\n<p>Then anything dispatched to that queue after the barrier won\u2019t run until after the barrier. So dispatch A, B, and C. Then dispatch D with a barrier. Then dispatch X. The A, B, and C will run concurrently with respect to each other, when they\u2019re done then D will run, and when D is done, X will run. That\u2019s how it works, on both macOS and iOS. Just create your own custom concurrent queue.</p>\n\n<pre><code>dispatch_queue_t queue = dispatch_queue_create(\"com.company.app.queue\", DISPATCH_QUEUE_CONCURRENT);\n\ndispatch_async(queue, ^{ \n    NSLog(@\"start - A!\\n\");  \n    sleep(4);  \n    NSLog(@\"end - A!\\n\");\n});\n\ndispatch_async(queue, ^{  \n    NSLog(@\"start - B!\\n\");  \n    sleep(2);  \n    NSLog(@\"end - B!\\n\"); \n});\n\ndispatch_async(queue, ^{  \n    NSLog(@\"start - C!\\n\");  \n    sleep(3);  \n    NSLog(@\"end - C!\\n\"); \n});\n\ndispatch_barrier_async(queue, ^{  \n    NSLog(@\"Barrier - D\\n\");  \n});\n\ndispatch_async(queue, ^{  \n    NSLog(@\"start - X!\\n\");  \n    sleep(3);  \n    NSLog(@\"end - X!\\n\"); \n});\n</code></pre>\n"}], "owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57234010, "answer_count": 1, "score": 1, "last_activity_date": 1564364804, "creation_date": 1564239735, "last_edit_date": 1564254314, "question_id": 57233343, "link": "https://stackoverflow.com/questions/57233343/concurrent-insertion-of-blocks-into-concurrent-queue", "title": "Concurrent insertion of blocks into concurrent queue", "body": "<p>I want to add blocks A, B, C into global concurrent queue.\nImmediately after that I want to add barrier to the same queue.</p>\n\n<p>I expect that A, B, C all be called in some order but when all blocks terminate the barrier will be invoked.</p>\n\n<p>How can I guarantee that NO additional block will be inserted in the middle of this sequence? For example, if in some other place I deploy block X on the same queue, I do not want it to be executed before the barrier.</p>\n\n<p>Can the same solution be available both on MacOS and iOS?</p>\n"}, {"tags": ["ios", "objective-c", "date", "nsdateformatter"], "comments": [{"owner": {"reputation": 1538, "user_id": 1162402, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/gkTw0.jpg?s=128&g=1", "display_name": "iChirag", "link": "https://stackoverflow.com/users/1162402/ichirag"}, "edited": false, "score": 0, "creation_date": 1564215835, "post_id": 57230298, "comment_id": 100964161, "body": "I think its <code>NSCalendarIdentifierBuddhist</code> calendar in iPhone"}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1564243867, "post_id": 57230758, "comment_id": 100970298, "body": "Do not escape the era. Replace your use of <code>&#39;BE&#39;</code> with <code>GG</code> (without the apostrophes)."}], "tags": [], "owner": {"reputation": 333, "user_id": 10831964, "user_type": "registered", "profile_image": "https://graph.facebook.com/2213940755335725/picture?type=large", "display_name": "Tiran Ut", "link": "https://stackoverflow.com/users/10831964/tiran-ut"}, "is_accepted": false, "score": 1, "last_activity_date": 1564291915, "last_edit_date": 1564291915, "creation_date": 1564218939, "answer_id": 57230758, "question_id": 57230298, "link": "https://stackoverflow.com/questions/57230298/how-to-convert-this-date-format-to-our-regular-date-in-objective-c/57230758#57230758", "title": "how to convert this date format to our regular date in objective-c", "body": "<p>You have to create two formatters - one for converting buddhist date string to NSDate and one for converting NSDate to gregorian date string</p>\n\n<p><code>'</code> - used to escape symbols within date format string</p>\n\n<pre><code>    NSString *buddhistString = @\"11/03/2562 BE, 21:45:57\";\n\n    NSDateFormatter *buddhistFormatter = [[NSDateFormatter alloc] init];\n    buddhistFormatter.dateFormat = @\"dd/MM/yyyy GG, HH:mm:ss\";\n    buddhistFormatter.calendar = [NSCalendar calendarWithIdentifier:NSCalendarIdentifierBuddhist];\n\n    NSDateFormatter *gregorianFormatter = [[NSDateFormatter alloc] init];\n    gregorianFormatter.dateFormat = @\"dd/MM/yyyy, HH:mm:ss\"; // Or other format you'd like\n    gregorianFormatter.calendar = [NSCalendar calendarWithIdentifier:NSCalendarIdentifierGregorian];\n\n    NSDate *date = [buddhistFormatter dateFromString:buddhistString];\n    NSString *gregorianString = [gregorianFormatter stringFromDate:date];\n\n    NSLog(@\"%@\", gregorianString);\n    // prints 11/03/2019, 21:45:57\n</code></pre>\n"}], "owner": {"reputation": 1538, "user_id": 1162402, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/gkTw0.jpg?s=128&g=1", "display_name": "iChirag", "link": "https://stackoverflow.com/users/1162402/ichirag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1564291915, "creation_date": 1564214554, "last_edit_date": 1564243495, "question_id": 57230298, "link": "https://stackoverflow.com/questions/57230298/how-to-convert-this-date-format-to-our-regular-date-in-objective-c", "title": "how to convert this date format to our regular date in objective-c", "body": "<p>I have a date in the following format</p>\n\n<pre><code>11/03/2562 BE, 21:45:57\n14/03/2562 BE, 10:42:05\n14/03/2562 BE, 21:12:14\n</code></pre>\n\n<p>I want to convert those dates in current regular date format. \nWhat should be the value of <code>NSDateFormatter</code> in objective-c for above date string?</p>\n"}, {"tags": ["ios", "objective-c", "admob", "ads"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7627870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4z2js.jpg?s=128&g=1", "display_name": "emily_", "link": "https://stackoverflow.com/users/7627870/emily"}, "is_accepted": false, "score": 0, "last_activity_date": 1564450020, "creation_date": 1564450020, "answer_id": 57263195, "question_id": 57230042, "link": "https://stackoverflow.com/questions/57230042/how-to-use-admob-banner-ads-in-tableview-in-ios/57263195#57263195", "title": "How to use AdMob Banner Ads in TableView in iOS?", "body": "<p>In cellForRowAtIndexPath, set admob banner cell every 5 rows </p>\n\n<p>like this</p>\n\n<pre><code>    switch(indexPath.row) {\n       case 5, 10, 15...: // every 5 rows, put admob banner cell\n           let cell = [tableView dequeueReusableCellWithIdentifier: @\"AdmobBannerTableViewCell\"];\n           return cell;\n       case 1,... : // other rows...\n           let cell = [tableView dequeueReusableCellWithIdentifier: @\"AnotherTableViewCell\"];\n           return cell;\n    }\n</code></pre>\n"}], "owner": {"reputation": 694, "user_id": 1330733, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2a6f2458c94384f27c20f36d18cb06d5?s=128&d=identicon&r=PG&f=1", "display_name": "Scorpian Alive", "link": "https://stackoverflow.com/users/1330733/scorpian-alive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564450020, "creation_date": 1564212052, "question_id": 57230042, "link": "https://stackoverflow.com/questions/57230042/how-to-use-admob-banner-ads-in-tableview-in-ios", "title": "How to use AdMob Banner Ads in TableView in iOS?", "body": "<p>I want to show different ads between every 5 results in tableview\nI have used admob banner ads in my ios project\nTableview shows same ads after every 5 results even I am using different ad unit id to load ad after every 5 rows.</p>\n\n<p>Any solution to get different ads after 5 rows?</p>\n"}, {"tags": ["javascript", "objective-c", "uiwebview"], "comments": [{"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564194939, "post_id": 57228147, "comment_id": 100961398, "body": "Question: Is there a reason you&#39;re using a UIWebView, not the WKWebView that&#39;s recommended for iOS 8 and beyond?"}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564195254, "post_id": 57228147, "comment_id": 100961427, "body": "By the way, I don&#39;t quite follow that use of the javascript <code>call()</code> function. What is it supposed to do?"}, {"owner": {"reputation": 33, "user_id": 11055929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_9PSU2d8gyo/AAAAAAAAAAI/AAAAAAAAAAg/di56cHuzen8/photo.jpg?sz=128", "display_name": "Mr Kushy", "link": "https://stackoverflow.com/users/11055929/mr-kushy"}, "reply_to_user": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564199968, "post_id": 57228147, "comment_id": 100961900, "body": "when i figure out how to call a js function in the webview i&#39;m going to pass instead of 10 the current battery level of my iPhone"}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564200623, "post_id": 57228147, "comment_id": 100961973, "body": "What you&#39;re doing <i>seems</i> to be correct from an objC perspective. Is it throwing an error? What did you <i>expect</i> to happen when you say &quot;nothing happens&quot;?"}, {"owner": {"reputation": 33, "user_id": 11055929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_9PSU2d8gyo/AAAAAAAAAAI/AAAAAAAAAAg/di56cHuzen8/photo.jpg?sz=128", "display_name": "Mr Kushy", "link": "https://stackoverflow.com/users/11055929/mr-kushy"}, "reply_to_user": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564201675, "post_id": 57228147, "comment_id": 100962103, "body": "No errors i&#39;m guessing it would have something todo with it beeing async"}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564203601, "post_id": 57228147, "comment_id": 100962324, "body": "I don&#39;t see why being asynchronous would be an issue; javascript is meant to work that way. Again, it would be nice to know what you <i>expected</i> to see when you ran this javascript. If you can&#39;t tell me that, then I really can&#39;t help you further."}, {"owner": {"reputation": 33, "user_id": 11055929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_9PSU2d8gyo/AAAAAAAAAAI/AAAAAAAAAAg/di56cHuzen8/photo.jpg?sz=128", "display_name": "Mr Kushy", "link": "https://stackoverflow.com/users/11055929/mr-kushy"}, "reply_to_user": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564203795, "post_id": 57228147, "comment_id": 100962354, "body": "when i run call(5) in my html page it replaces a h1&#39;s innerhtml to 5 this works i tried in chrome console i&#39;m just unable to run call(5) into my webview"}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564204885, "post_id": 57228147, "comment_id": 100962491, "body": "I just googled a bit, and found another <a href=\"https://stackoverflow.com/questions/8886443/calling-javascript-using-uiwebview\">stack overflow post</a> which suggests that you&#39;re calling the javascript too early. implement the delegate, and run the javascript in the delegate method <code>webViewDidFinishLoad:</code>. That should ensure the page is fully loaded before you send it the javascript call."}], "owner": {"reputation": 33, "user_id": 11055929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_9PSU2d8gyo/AAAAAAAAAAI/AAAAAAAAAAg/di56cHuzen8/photo.jpg?sz=128", "display_name": "Mr Kushy", "link": "https://stackoverflow.com/users/11055929/mr-kushy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1564210307, "answer_count": 0, "score": 0, "last_activity_date": 1564185896, "creation_date": 1564185896, "question_id": 57228147, "link": "https://stackoverflow.com/questions/57228147/unable-to-inject-js-into-webview-objc", "closed_reason": "Duplicate", "title": "Unable to inject JS into Webview OBJC", "body": "<p>i'm trying to call a function from objective-c into my UIwebview.\nHowever this isn't working and i don't really know what i'm doing wrong</p>\n\n<p>ive tried stringByEvaluatingJavaScriptFromString but that doesnt seem to work look at snippet below</p>\n\n<pre><code>%hook SBLockScreenViewControllerBase\n\n\n- (void)viewDidLoad {\n    %orig;\n\n\n    UIWebView *myWebView = [[UIWebView alloc]init];\n\n    myWebView=[[UIWebView alloc] initWithFrame:CGRectMake(0,0,self.view.frame.size.width, self.view.frame.size.height)];\n    myWebView.opaque = NO;\n    myWebView.backgroundColor = [UIColor clearColor];\n    myWebView.userInteractionEnabled = NO;\n    myWebView.layer.zPosition = -1;\n    NSString* htmlString = [NSString stringWithContentsOfFile:lock encoding:NSUTF8StringEncoding error:nil];\n    [myWebView loadHTMLString:htmlString baseURL:[NSURL URLWithString:lock]];\n        [myWebView stringByEvaluatingJavaScriptFromString:@\"call(10)\"];\n    [self.view addSubview:myWebView];\n    [myWebView stringByEvaluatingJavaScriptFromString:@\"call(10)\"];\n\n}\n\n\n%end\n</code></pre>\n\n<p>nothing happens the function doesn't get called even tough it should</p>\n"}, {"tags": ["objective-c", "objective-c-runtime"], "answers": [{"comments": [{"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "edited": false, "score": 0, "creation_date": 1564163688, "post_id": 57224890, "comment_id": 100954221, "body": "But those two objects are declared inside run method, and I don&#39;t want to make them static variables, which makes it harder."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "reply_to_user": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "edited": false, "score": 0, "creation_date": 1564165958, "post_id": 57224890, "comment_id": 100955144, "body": "Check my updated answer v2"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1564168621, "post_id": 57224890, "comment_id": 100956032, "body": "You don&#39;t want to run basically any code at all in that signal handler and certainly not objc.   Instead, use dispatch_after() to schedule a block on a queue.   Get out of the signal handler as early as possible.   The underlying issue is that the runtime state is indeterminate at the time the handler is fired."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1564168663, "post_id": 57224890, "comment_id": 100956051, "body": "Greg Parker goes into detail here:  <a href=\"https://stackoverflow.com/questions/24051879/what-can-i-do-in-a-signal-handler/24068104\" title=\"what can i do in a signal handler\">stackoverflow.com/questions/24051879/&hellip;</a>"}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1564170180, "post_id": 57224890, "comment_id": 100956558, "body": "@bbum thanks for input. I also found this: <a href=\"https://stackoverflow.com/questions/25959056/launchd-sleep-in-gcd-managed-signal-handler\" title=\"launchd sleep in gcd managed signal handler\">stackoverflow.com/questions/25959056/&hellip;</a> I think giving extra time in the thread running the <code>sighandler</code> would make sense, before the process gets terminated."}, {"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1564172275, "post_id": 57224890, "comment_id": 100957237, "body": "@bbum So I should call dispatch_after() in the sighandler? But how long? Is this safe?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "edited": false, "score": 1, "creation_date": 1564260401, "post_id": 57224890, "comment_id": 100974230, "body": "@FrankJoe It really doesn&#39;t matter; very very very short is OK.  The goal is to get out of the signal handler because you have no idea what the runtime state is when the handler fired.  Once you return from the handler, then the runtime state becomes predictable.   Depending on the work to be done, a global async queue is fine.  If you need to do main thread only work, schedule it on the main queue and it&#39;ll be processed on the next pass through the run loop."}], "tags": [], "owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1564170138, "last_edit_date": 1564170138, "creation_date": 1564163410, "answer_id": 57224890, "question_id": 57224625, "link": "https://stackoverflow.com/questions/57224625/how-to-catch-ctrl-c-signal-inside-an-objective-c-function/57224890#57224890", "title": "How to catch Ctrl-C signal inside an Objective-C function?", "body": "<p>Technically inside your Objective-C method you can't catch a <code>SIGINT</code> signal (generated by user upon pressing CTRL-C) - your program gets <strong>interrupted</strong>. \nThe control of flow at this point is handled by kernel. The state of cpu registers valid during execution of your objective-c <code>run</code> method are inevitably lost. Hence you <strong>can't continue</strong> executing your <code>run</code> method anymore.</p>\n\n<p>What you can do is register a custom <code>SIGINT</code> handler using C API.</p>\n\n<pre><code>#import &lt;signal.h&gt;\nvoid sigHandler(int sig) {\n    //as noted by @bbum list of functions with guaranteed behavior in sighandler is very limited\n    //obj-c runtime is definitely NOT on the list\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void){\n       [process1 stop];\n       [process2 stop];\n    });\n    //give extra time for the async part to run\n    usleep(50);\n}\n\nint main(int argc, const char * argv[]) {\n    signal(SIGINT, sigHandler);\n    @autoreleasepool {\n        //your normal program launch goes here  \n    }\n    return 0;\n}\n</code></pre>\n\n<p>If you have a console app  alternatively you could consider route <a href=\"https://stackoverflow.com/a/4217250/5329717\">here</a>\nso basically disable CTRL-C firing <code>SIGINT</code> and asynchronously handle the keyboard reading for CTRL-C yourself. The main drawback is if your program would hit an endless loop it cannot be interrupted with CTRL-C. So to minimise this effect you could set this special terminal mode at the beginning of your <code>run</code> method and restore it once you're done. </p>\n"}], "owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "closed_date": 1564165077, "accepted_answer_id": 57224890, "answer_count": 1, "score": 0, "last_activity_date": 1564170138, "creation_date": 1564162122, "question_id": 57224625, "link": "https://stackoverflow.com/questions/57224625/how-to-catch-ctrl-c-signal-inside-an-objective-c-function", "closed_reason": "Duplicate", "title": "How to catch Ctrl-C signal inside an Objective-C function?", "body": "<p>My program has a main function that will execute a series of tests, which will include some processes that needed to be terminated if the user Ctrl-C.</p>\n\n<p>The following code is the correct workflow</p>\n\n<pre><code>- (void)run {\n   [process1 start];\n   [process2 start];\n   Running...\n   [process1 stop];\n   [process2 stop];\n}\n</code></pre>\n\n<p>But the user may use Ctrl-C to stop my program, and I don't want to leave process1 and process2 running because they are dangerous. How can stop them properly? <code>Kill</code> command cannot be used because I don't know the dynamic process names, and the only way is to call <code>stop</code> on those two ObjC objects.</p>\n"}, {"tags": ["objective-c", "xcode", "linker-errors"], "answers": [{"comments": [{"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 1, "creation_date": 1564160904, "post_id": 57224240, "comment_id": 100953176, "body": "<code>static</code> if you want to keep it local to a particular file; <code>extern</code> if you want to declare a global variable..."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564161151, "post_id": 57224240, "comment_id": 100953277, "body": "<code>extern</code> basically does nothing. If it&#39;s not <code>static</code>, the question is whether it&#39;s a declaration or a definition. For a variable, if it has an initializer, it&#39;s a definition. For a function, if it has a body, it&#39;s a definition."}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1564161503, "post_id": 57224240, "comment_id": 100953419, "body": "Yes, but by declaring it globally with extern and defining it someplace locally, we avoid the &#39;duplicate symbol&#39; error. It depends on how you&#39;re going to use the symbol. I frequently set up a bunch of externally defined constants that I can import across a project (keeps the code-sprawl down...)."}, {"owner": {"reputation": 45, "user_id": 1648300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2189ceba0c4c98c5707955b687b7ffa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1648300/tom"}, "edited": false, "score": 0, "creation_date": 1564271589, "post_id": 57224240, "comment_id": 100975977, "body": "@Ken Thomases. Now working okay thanks! Due to the large amount of info shown in Mach-O errors I find them quite daunting (I suffer from MachOphobia) but your clear explanation now makes them more understandable. Due to my unfortunate choice of the variable name &#39;required&#39; I duped myself into thinking that the particular files mentioned <b>required</b> something extra that I&#39;d overlooked. Appreciate your adding to my knowledge."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1564160074, "creation_date": 1564160074, "answer_id": 57224240, "question_id": 57221970, "link": "https://stackoverflow.com/questions/57221970/why-am-i-getting-this-particular-mach-o-linker-problem/57224240#57224240", "title": "Why am I getting this particular Mach-O linker problem?", "body": "<p>Those two object files are each exporting a symbol with the same name (<code>required</code>; the underscore is an artifact of the compiler). Depending on exactly what you intend for those two, you might need to: a) rename one or both; or b) make one or both have internal linkage, usually by marking them <code>static</code>.</p>\n\n<p>There's a good chance you think there's just one such symbol because you declared it in a header that both source files include. But, you may have unintentionally <strong>defined</strong> the symbol in the header, rather than just declaring it. Then, it's defined in every source file that includes it. You would have to show your source code with the declaration/definition of <code>required</code> and how it's brought into each source file.</p>\n"}], "owner": {"reputation": 45, "user_id": 1648300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2189ceba0c4c98c5707955b687b7ffa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1648300/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57224240, "answer_count": 1, "score": 0, "last_activity_date": 1564160157, "creation_date": 1564150829, "last_edit_date": 1564160157, "question_id": 57221970, "link": "https://stackoverflow.com/questions/57221970/why-am-i-getting-this-particular-mach-o-linker-problem", "title": "Why am I getting this particular Mach-O linker problem?", "body": "<p>I\u2019ve looked at all the Mach-0 Linker questions on SO but can\u2019t find any that seem specific to my problem. My app was compiling without issues for weeks in the debugger and this seemed to come out of the blue. Problem seems to be pointing to two source files (keypad.o and setoutput.o). Previous Mach-O errors have usually told me that so-and-so can\u2019t be referenced from \u2018some file\u2019.o, but no such easy clues in this case. Error shown below:</p>\n\n<pre><code>ld \"/Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Products/Debug/MacOS Cover.app/Contents/MacOS/MacOS Cover\" normal x86_64\ncd \"/Users/Administrator/Desktop/MacOS Cover\"\nsetenv MACOSX_DEPLOYMENT_TARGET 10.6\n/Developer/usr/bin/clang -arch x86_64 -isysroot /Developer/SDKs/MacOSX10.6.sdk -L/Users Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Products/Debug -F/Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Products/Debug -filelist \"/Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Intermediates/MacOS Cover.build/Debug/MacOS Cover.build/Objects-normal/x86_64/MacOS Cover.LinkFileList\" -mmacosx-version-min=10.6 -framework Cocoa -o \"/Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Products/Debug/MacOS Cover.app/Contents/MacOS/MacOS Cover\"\n\nld: duplicate symbol _required in /Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Intermediates/MacOS Cover.build/Debug/MacOS Cover.build/Objects-normal/x86_64/keypad.o and /Users/Administrator/Library/Developer/Xcode/DerivedData/MacOS_Cover-aemdqkcjvuomtjfhkycsyowsgisn/Build/Intermediates/MacOS Cover.build/Debug/MacOS Cover.build/Objects-normal/x86_64/setoutput.o for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nCommand /Developer/usr/bin/clang failed with exit code 1\n</code></pre>\n\n<p>I\u2019ve tried throwing away all the derived data files etc (which seem to spring right back a second later). I\u2019d appreciate if anyone could help me resolve this please.</p>\n"}, {"tags": ["objective-c", "block", "self"], "answers": [{"comments": [{"owner": {"reputation": 6604, "user_id": 1180365, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8b26a14b7a5153702948e19a1e3c9b54?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1180365/alex"}, "edited": false, "score": 0, "creation_date": 1564383121, "post_id": 57222114, "comment_id": 100997146, "body": "thanks for your answer, but weakSelf inside of the block is nil, non sense to assign nil to strong __strong typeof(weakSelf) strongSelf = weakSelf; in case I use __strong typeof(self) strongSelf = self; outside of the block, inside the block strongSelf is not null"}, {"owner": {"reputation": 6604, "user_id": 1180365, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8b26a14b7a5153702948e19a1e3c9b54?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1180365/alex"}, "edited": false, "score": 0, "creation_date": 1564383222, "post_id": 57222114, "comment_id": 100997186, "body": "edit your answer to put outside of the block strong, and I will mark as correct answer"}], "tags": [], "owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "is_accepted": false, "score": 1, "last_activity_date": 1564151293, "creation_date": 1564151293, "answer_id": 57222114, "question_id": 57221892, "link": "https://stackoverflow.com/questions/57221892/weakself-is-nil-inside-a-block/57222114#57222114", "title": "weakSelf is nil inside a block", "body": "<p>The <code>weakSelf</code> reference is nil because it got deallocated. If it wasn't nil your app would crash. If you need it to be not nil retain it with a local strong reference inside the block. Like this:</p>\n\n<pre><code>__strong typeof(weakSelf) strongSelf = weakSelf;\n</code></pre>\n"}], "owner": {"reputation": 6604, "user_id": 1180365, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8b26a14b7a5153702948e19a1e3c9b54?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1180365/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1564151555, "answer_count": 1, "score": 0, "last_activity_date": 1564151628, "creation_date": 1564150539, "question_id": 57221892, "link": "https://stackoverflow.com/questions/57221892/weakself-is-nil-inside-a-block", "closed_reason": "Duplicate", "title": "weakSelf is nil inside a block", "body": "<p>Inside a ViewController with ARC (.m file has compiler flags in Build Phases -fobjc-arc -fobjc-arc-exceptions)</p>\n\n<p>As I know apple recommend to use weak ref for self inside a block like this</p>\n\n<pre><code>self __weak typeof(self) weakSelf = self;\n</code></pre>\n\n<p>In some case weakSelf is nil inside block, I have few e.g.</p>\n\n<p><strong>e.g.1</strong></p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\n\nCLGeocoder *ceo = [[CLGeocoder alloc]init];\nCLLocation *loc = [[CLLocation alloc]initWithLatitude:lat longitude:lon];\n\n[ceo reverseGeocodeLocation: loc completionHandler:\n         ^(NSArray *placemarks, NSError *error) {\n             CLPlacemark *placemark = [placemarks objectAtIndex:0];\n\n                //some logic here using weakSelf\n                 =&gt; weakSelf nil\n}\n</code></pre>\n\n<p><strong>e.g.2</strong></p>\n\n<pre><code>__block id weakSelf = self;\nCLGeocoder *ceo = [[CLGeocoder alloc]init];\nCLLocation *loc = [[CLLocation alloc]initWithLatitude:lat longitude:lon];\n\n[ceo reverseGeocodeLocation: loc completionHandler:\n         ^(NSArray *placemarks, NSError *error) {\n             CLPlacemark *placemark = [placemarks objectAtIndex:0];\n\n                //some logic here using weakSelf\n                 =&gt; weakSelf nil\n}  \n</code></pre>\n\n<p><strong>e.g. 3</strong> </p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\n__block id safeBlockSelf = self;\nCLGeocoder *ceo = [[CLGeocoder alloc]init];\nCLLocation *loc = [[CLLocation alloc]initWithLatitude:lat longitude:lon];\n\n[ceo reverseGeocodeLocation: loc completionHandler:\n         ^(NSArray *placemarks, NSError *error) {\n             CLPlacemark *placemark = [placemarks objectAtIndex:0];\n\n                //some logic here using safeBlockSelf\n                 =&gt; weakSelf NOT nil\n}\n</code></pre>\n\n<p>Some Ideas why weakSelf is nil?</p>\n"}, {"tags": ["objective-c", "swift", "payment-gateway"], "comments": [{"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1564153185, "post_id": 57220425, "comment_id": 100949618, "body": "I changed language tag from swift to objective-c, if that was wrong please clarify why because it&#39;s hard to see how this is relevant to swift."}, {"owner": {"reputation": 19, "user_id": 10949392, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRisHnf2L6M/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbbUk5dtxB8-z3Nl6ToYwfXwvqjpQ/mo/photo.jpg?sz=128", "display_name": "User1985", "link": "https://stackoverflow.com/users/10949392/user1985"}, "reply_to_user": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1564154379, "post_id": 57220425, "comment_id": 100950265, "body": "@JoakimDanielson am working on swift, that method I have to call because of that. bellow method I worked for other payment getaway it was working same like that I want to do"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1564186755, "post_id": 57220425, "comment_id": 100960631, "body": "Start by writing proper Objective-C method names. <code>-(void)SetData:(NSString *) Merchant_Key :(NSString *)Merchant_ID :(NSString *) SuccessUrl_Key :(NSString *) FailureUrl_Key :(NSString *)ServerUrl_Key;</code> should be something like <code>- (void)setData(NSString *)merchantKey merchantID:(NSString *)merchantID successURLKey:(NSString *)successURLKey failureURLKey:(NSString *)failureURLKey serverURLKey:(NSString *)serverURLKey</code>. Now you can call it from Swift."}, {"owner": {"reputation": 19, "user_id": 10949392, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRisHnf2L6M/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbbUk5dtxB8-z3Nl6ToYwfXwvqjpQ/mo/photo.jpg?sz=128", "display_name": "User1985", "link": "https://stackoverflow.com/users/10949392/user1985"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1564199759, "post_id": 57220425, "comment_id": 100961878, "body": "@rmaddy thankq i will try"}], "owner": {"reputation": 19, "user_id": 10949392, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRisHnf2L6M/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbbUk5dtxB8-z3Nl6ToYwfXwvqjpQ/mo/photo.jpg?sz=128", "display_name": "User1985", "link": "https://stackoverflow.com/users/10949392/user1985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564170416, "creation_date": 1564145312, "last_edit_date": 1564170416, "question_id": 57220425, "link": "https://stackoverflow.com/questions/57220425/payment-method-is-not-able-to-call-in-swift", "title": "payment method is not able to call in swift", "body": "<p>am new to swift, working on payment getaways\nnow I have to pass values to paymentmethod but, am not clear to how to cal, I have to call sendmethod inside button click in swift.how can I call method outside the nsboject pass the parameters in swift  </p>\n\n<pre><code>@protocol avantServiceDelegate &lt;NSObject&gt;\n-(void)TransactionResponse:(NSString *)status;\n@end\n@interface avantService : NSObject{\n\n}\n+ (avantService *)sharedController;\n-(void)SetData:(NSString *) Merchant_Key :(NSString *)Merchant_ID :(NSString *) SuccessUrl_Key :(NSString *) FailureUrl_Key :(NSString *)ServerUrl_Key;\n\n-(BOOL)Transactiondata:(NSString *)Transaction_Detail :(NSString *)Payment_Details :(NSString*)Card_Detail :(NSString *)Customer_Detail :(NSString *)Bill_data :(NSString *)Ship_details :(NSString *)Item_Detail :(NSString *)Other_Detail :(NSString *)Coin_Detail :(NSString *)Upi_Detail :(NSString *)Imps_Detail;\n\n-(void) showTransactionPageViewController:(UIViewController *)viewController;\n\n@property (nonatomic,retain) id &lt;avantServiceDelegate&gt; delegate;\n@end\n</code></pre>\n\n<p>before I called when object is inside  </p>\n\n<pre><code>@interface avantService : NSObject{\n\n- (void)createRequestWithPaymentParam:(PayUModelPaymentParams * _Nonnull)paymentParam forPaymentType:(NSString * _Nonnull)paymentType withCompletionBlock:(void (^ _Nonnull)(NSMutableURLRequest * _Nonnull, NSString * _Nonnull))paramCompletionBlock;\n}\n\n let createRequest = PayUCreateRequest()\n    createRequest.createRequest(withPaymentParam: self.paymentParams, forPaymentType: PAYMENT_PG_NET_BANKING) { (request, error) in\n}\n</code></pre>\n\n<p>I called inside the object </p>\n\n<p>but how can I call the SetData method</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch"], "comments": [{"owner": {"reputation": 552, "user_id": 10058854, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CuwdXK-VMjQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oihEgSF2JqEmA5Lw76Gwj7hFUrQQ/mo/photo.jpg?sz=128", "display_name": "Alan S", "link": "https://stackoverflow.com/users/10058854/alan-s"}, "edited": false, "score": 0, "creation_date": 1564138411, "post_id": 57216753, "comment_id": 100941353, "body": "What is the main thing you are trying to accomplish? Do you want to customize the appearance of your custom label?"}, {"owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "edited": false, "score": 0, "creation_date": 1564140633, "post_id": 57216753, "comment_id": 100942555, "body": "why don&#39;t you subclass a UILabel?"}], "owner": {"reputation": 41, "user_id": 6592332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2L3ZW.jpg?s=128&g=1", "display_name": "mmmmar", "link": "https://stackoverflow.com/users/6592332/mmmmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564132217, "creation_date": 1564132217, "question_id": 57216753, "link": "https://stackoverflow.com/questions/57216753/why-i-cant-set-background-color-of-views-underlaying-layer-directly", "title": "why I can&#39;t set background color of view&#39;s underlaying Layer directly?", "body": "<p>I create a class named MyCustomLabel that is subclass of UIView, and I override it's layerClass function to return a CATextLayer class. I find that if I want to set the background color of that layer in layerWillDraw: function, I must set background color of this view first, or the background color is just black whatever I set to layer's background color.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@interface MyCustomLabel : UIView\n\n@end\n\n@implementation MyCustomLabel\n\n- (instancetype)initWithFrame:(CGRect)frame {\n    self = [super initWithFrame:frame];\n    if (self) {\n        // if I do not set it here, the final background color\n        // is black, in layerWillDraw function, setting of layer's backgound color has no use\n        self.backgroundColor = [UIColor greenColor];\n    }\n    return self;\n}\n\n+ (Class)layerClass {\n    return [CATextLayer class];\n}\n\n- (void)layerWillDraw:(CALayer *)layer {\n    CATextLayer *textLayer = (CATextLayer *)layer;\n    textLayer.fontSize = 20.f;\n    textLayer.alignmentMode = kCAAlignmentCenter;\n    textLayer.string = @\"MyCustomLabel\";\n    textLayer.foregroundColor = [UIColor redColor].CGColor;\n    textLayer.borderColor = [UIColor blueColor].CGColor;\n    textLayer.borderWidth = 5.f;\n\n    textLayer.backgroundColor = [UIColor greenColor].CGColor;\n}\n\n\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avro", "data-serialization"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "is_accepted": false, "score": 2, "last_activity_date": 1565958214, "last_edit_date": 1565958214, "creation_date": 1565806129, "answer_id": 57499947, "question_id": 57216446, "link": "https://stackoverflow.com/questions/57216446/data-serialisation-in-objective-c-avro-alternative/57499947#57499947", "title": "Data Serialisation in Objective-C (Avro alternative)", "body": "<p>I could figure it out how to do the <strong>Third thing I tried</strong>:</p>\n\n<p>Basically, it's necessary to import the library through <a href=\"https://www.raywenderlich.com/416-carthage-tutorial-getting-started\" rel=\"nofollow noreferrer\">Carthage</a>, then create a new Swift class which is the one that is going to \"talk\" with the Swift library, due to we are in an Objective-C project. XCode will ask you to add a \"header-class\" and press \"yes\".</p>\n\n<p>Then it's as simple as using the Swift to call the library methods and call the Swift class from the current classes. <a href=\"https://medium.com/@nimjea/swift-objective-c-mixed-languages-app-16b6c9c3e9b0\" rel=\"nofollow noreferrer\">Swift class in Objective-C project</a></p>\n\n<p>Finally just to inform that the <a href=\"https://github.com/saksdirect/BlueSteel\" rel=\"nofollow noreferrer\">BlueSteel framework</a> is a nightmare due to is really limited and really poor documented therefore I still don't know a real alternative.</p>\n\n<p>However, if you're going to use it, have in mind that the classes are not autogenerated so you need to do manually the conversion to Avro and sign results.</p>\n"}], "owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1565958214, "creation_date": 1564131105, "last_edit_date": 1564131669, "question_id": 57216446, "link": "https://stackoverflow.com/questions/57216446/data-serialisation-in-objective-c-avro-alternative", "title": "Data Serialisation in Objective-C (Avro alternative)", "body": "<p>I've been the last week trying to serialise all of the classes of one iOS project (Objective-C).</p>\n\n<p>Due to I use to do it in Android projects with Avro (Apache) library, I've been trying to do the same in the iOS project, however, the first thing that I noticed is that there is not too much information about Avro in iOS.</p>\n\n<p><strong>First thing I tried:</strong>\nImplement the library <a href=\"https://github.com/jlawton/ObjectiveAvro\" rel=\"nofollow noreferrer\">ObjectiveAvro</a> using CocoaPods but some classes in the library <a href=\"http://avro.apache.org/docs/current/api/c/index.html\" rel=\"nofollow noreferrer\">Avro C</a> were not found when imported.</p>\n\n<p><strong>Second thing I tried:</strong>\nRemove and do again the previous process but this time only with the Avro C library but the same error appeared.</p>\n\n<p><strong>Third thing I tried:</strong>\nImplement <a href=\"https://github.com/saksdirect/BlueSteel\" rel=\"nofollow noreferrer\">BlueSteel framework</a> using Carthage. This is a swift library but I wanted to try if I could use it somehow in an Objective-C project. I couldn't.</p>\n\n<p>I just need to serialise and deserialise data providing a schema as you can do with Avro (Android) in an Objective-C project and the last thing that I want to do is convert the whole project to Swift.</p>\n\n<p>So do you know what's the current way to do that in Objective-C?</p>\n"}, {"tags": ["c++", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 1880, "user_id": 11829247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c7ed099888314cc282b63908b890a76?s=128&d=identicon&r=PG&f=1", "display_name": "Frodyne", "link": "https://stackoverflow.com/users/11829247/frodyne"}, "edited": false, "score": 0, "creation_date": 1564127149, "post_id": 57215245, "comment_id": 100935627, "body": "This is possibly a duplicate of &lt;<a href=\"https://stackoverflow.com/questions/26842072/compiling-a-include-cstdlib-in-xcode-error-during-compilation-file-not-fou\" title=\"compiling a include cstdlib in xcode error during compilation file not fou\">stackoverflow.com/questions/26842072/&hellip;</a>&gt;"}, {"owner": {"reputation": 8520, "user_id": 1151916, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/530d81fe88e95587a720993fc0a685dc?s=128&d=identicon&r=PG", "display_name": "Ramis", "link": "https://stackoverflow.com/users/1151916/ramis"}, "reply_to_user": {"reputation": 1880, "user_id": 11829247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c7ed099888314cc282b63908b890a76?s=128&d=identicon&r=PG&f=1", "display_name": "Frodyne", "link": "https://stackoverflow.com/users/11829247/frodyne"}, "edited": false, "score": 0, "creation_date": 1564134426, "post_id": 57215245, "comment_id": 100939239, "body": "@Frodyne It is some kind of same question, but answered not in very good way."}], "answers": [{"tags": [], "owner": {"reputation": 8520, "user_id": 1151916, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/530d81fe88e95587a720993fc0a685dc?s=128&d=identicon&r=PG", "display_name": "Ramis", "link": "https://stackoverflow.com/users/1151916/ramis"}, "is_accepted": false, "score": 0, "last_activity_date": 1564134373, "creation_date": 1564134373, "answer_id": 57217383, "question_id": 57215245, "link": "https://stackoverflow.com/questions/57215245/cstdlib-file-not-found-when-building/57217383#57217383", "title": "&#39;cstdlib&#39; file not found when building", "body": "<p>After struggling some time I found answer here: <a href=\"http://dev.doukasd.com/2012/03/cstdlib-file-not-found-how-to-fixsolve/\" rel=\"nofollow noreferrer\">http://dev.doukasd.com/2012/03/cstdlib-file-not-found-how-to-fixsolve/</a></p>\n\n<blockquote>\n  <p>All you need to do is make sure all files calling C++ methods are treated as C++ files by the compiler \u2013 in other words change the extension from .m to .mm (for objective-c++).</p>\n</blockquote>\n"}], "owner": {"reputation": 8520, "user_id": 1151916, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/530d81fe88e95587a720993fc0a685dc?s=128&d=identicon&r=PG", "display_name": "Ramis", "link": "https://stackoverflow.com/users/1151916/ramis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 877, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564134373, "creation_date": 1564126519, "question_id": 57215245, "link": "https://stackoverflow.com/questions/57215245/cstdlib-file-not-found-when-building", "title": "&#39;cstdlib&#39; file not found when building", "body": "<p>I started to get <strong>'cstdlib' file not found</strong> error when trying to build very old project. </p>\n\n<p>I was trying to set different paths in the header/library search path, but it did not work.</p>\n\n<p>How should I correctly import cstdlib into my projet?</p>\n\n<p><a href=\"https://i.stack.imgur.com/aBcTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBcTK.png\" alt=\"&#39;cstdlib&#39; file not found\"></a></p>\n"}, {"tags": ["objective-c", "xcode", "storyboard", "xcode-storyboard"], "answers": [{"tags": [], "owner": {"reputation": 1109, "user_id": 5356781, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0bcb423664fb54abc587408fe11c7d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Arafin Russell", "link": "https://stackoverflow.com/users/5356781/arafin-russell"}, "is_accepted": false, "score": 0, "last_activity_date": 1565324264, "creation_date": 1565324264, "answer_id": 57423441, "question_id": 57210778, "link": "https://stackoverflow.com/questions/57210778/how-to-pan-down-a-view-controller-in-storyboard/57423441#57423441", "title": "How to pan down a view controller in storyboard", "body": "<p>Change the size of viewController as shown in the image below: \n<a href=\"https://i.stack.imgur.com/mGsVY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGsVY.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 11809867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f359b25822f0acc27a79789629dcfff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrewsep9", "link": "https://stackoverflow.com/users/11809867/andrewsep9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565324264, "creation_date": 1564092923, "question_id": 57210778, "link": "https://stackoverflow.com/questions/57210778/how-to-pan-down-a-view-controller-in-storyboard", "title": "How to pan down a view controller in storyboard", "body": "<p>I'm using a scroll view in the storyboard for one of my view controllers and I would like to know if there is a way to move the current view of the view controller down so that I can add things below. </p>\n\n<p>I've seen that when tapping on CollectionView (which is at the bottom of my screen and extends below the view), the view on my viewcontroller seems to move down a bit to reveal more of the CollectionView, but not entirely. Is there a way that I can make the view go lower?</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "macos", "process"], "comments": [{"owner": {"reputation": 5290, "user_id": 4080925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-z5xoCOLjxeI/AAAAAAAAAAI/AAAAAAAAAAA/Aq8GF_3T7hM/photo.jpg?sz=128", "display_name": "MwcsMac", "link": "https://stackoverflow.com/users/4080925/mwcsmac"}, "edited": false, "score": 0, "creation_date": 1564088012, "post_id": 57208964, "comment_id": 100926343, "body": "Look at this <a href=\"https://stackoverflow.com/questions/27954721/programmatically-get-running-application-bundles-in-os-x\">SO programmatically-get-running-application-bundles-in-os-x</a>"}, {"owner": {"reputation": 3143, "user_id": 5512384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CFi4N.jpg?s=128&g=1", "display_name": "jvarela", "link": "https://stackoverflow.com/users/5512384/jvarela"}, "edited": false, "score": 0, "creation_date": 1564088633, "post_id": 57208964, "comment_id": 100926546, "body": "Indeed, the above link points to how to retrieve <i>some</i> running applications in user land, but if you require all processes running or not, including privileged helpers, then that&#39;s far more complicated than that, because that requires root access and super-user privileges."}], "owner": {"reputation": 13, "user_id": 9671111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUqJa.jpg?s=128&g=1", "display_name": "Antonio Posada Magdaleno", "link": "https://stackoverflow.com/users/9671111/antonio-posada-magdaleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564082943, "creation_date": 1564082943, "question_id": 57208964, "link": "https://stackoverflow.com/questions/57208964/how-to-get-the-status-of-any-specified-process-and-service-on-mac-from-swift", "title": "How to get the status of any specified process and service on Mac from Swift", "body": "<p>I need to get the status of any service and process to know if it is running or not with Swift or Objective C.</p>\n\n<p>I am working on a MacOS application. I need to get the status of any service and process to know if it is running or not, I am not an experienced developer with Swift or Objective C. I built a Windows application that does that, but I don't know how to do it in these languages, and I need it.</p>\n\n<p>I read and I think I can do it with the Process class in swift but I still can't.</p>\n\n<p>If someone has been used in this class or knows another way to solve it, I would appreciate it</p>\n"}, {"tags": ["objective-c", "macros"], "answers": [{"comments": [{"owner": {"reputation": 4602, "user_id": 1757401, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5A4ie.jpg?s=128&g=1", "display_name": "Josue Espinosa", "link": "https://stackoverflow.com/users/1757401/josue-espinosa"}, "edited": false, "score": 0, "creation_date": 1564073833, "post_id": 57206588, "comment_id": 100920405, "body": "Thank you for your response. I am not trying to pass multiple strings as the log argument, I&#39;m simply trying to pass one [NSString ...] method call, but it interprets that comma as another argument (see my example above)"}, {"owner": {"reputation": 1851, "user_id": 2513803, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c67374e6d7e2710967b8a09234ce4f9c?s=128&d=identicon&r=PG&f=1", "display_name": "lukas", "link": "https://stackoverflow.com/users/2513803/lukas"}, "reply_to_user": {"reputation": 4602, "user_id": 1757401, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5A4ie.jpg?s=128&g=1", "display_name": "Josue Espinosa", "link": "https://stackoverflow.com/users/1757401/josue-espinosa"}, "edited": false, "score": 0, "creation_date": 1564154613, "post_id": 57206588, "comment_id": 100950377, "body": "@JosueEspinosa what you&#39;re trying to do is impossible, the preprocessor is always going to interpret the commas as macro parameter delimiters"}], "tags": [], "owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1564074050, "last_edit_date": 1564074050, "creation_date": 1564072452, "answer_id": 57206588, "question_id": 57206451, "link": "https://stackoverflow.com/questions/57206451/ignore-comma-inside-define-macro-call/57206588#57206588", "title": "Ignore comma inside #define macro call", "body": "<p>You are doing that wrong. First of all there are lots of great ready solutions so you do not have reinvent the wheel (don't remember for sure but I think <code>CocoaLumberjack</code> is best).</p>\n\n<p>And your logger can look like this (I've got rusty with Objective C):</p>\n\n<pre><code>+(void) function:(char *)methodName\n          inLine:(int)line \n            logs:(NSString *)format, ...;\n\n ...\n\n#define FANCY_LOG(...) [MyLogger function: __PRETTY_FUNCTION__ \\\n                                   inLine: __LINE__ \\\n                                     logs: __VA_ARGS__]\n\n// then usage:\nFANCY_LOG(@\"Hello %@!\", planet);\n</code></pre>\n"}], "owner": {"reputation": 4602, "user_id": 1757401, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5A4ie.jpg?s=128&g=1", "display_name": "Josue Espinosa", "link": "https://stackoverflow.com/users/1757401/josue-espinosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564074050, "creation_date": 1564071897, "last_edit_date": 1564073947, "question_id": 57206451, "link": "https://stackoverflow.com/questions/57206451/ignore-comma-inside-define-macro-call", "title": "Ignore comma inside #define macro call", "body": "<p>I created a special console log function macro. It works successfully except when there's a comma in the parameter, even if it's part of another expression, i.e. not another argument. I think it's due to the fact that macros are expanded at the pre-processing stage, so the semantic analysis hasn't occurred yet to understand that the comma is not another argument. Here is what I mean:</p>\n\n<p><code>#define FANCY_LOG(message) [MyLogger logDebug:message withClassAndMethodName: __PRETTY_FUNCTION__ lineNumber: __LINE__];</code></p>\n\n<p><code>+(BOOL)logDebug:(NSString *)message withClassAndMethodName:(const char *)name lineNumber:(int)lineNumber;</code></p>\n\n<p>These work:</p>\n\n<pre><code>FANCY_LOG(@\"Hello world\");\nFANCY_LOG([NSString stringWithFormat:@\"Hello!\"]);\n</code></pre>\n\n<p>This does not work:</p>\n\n<p><code>FANCY_LOG([NSString stringWithFormat:@\"Hello %@!\", planet]);</code></p>\n\n<p>Although the comma obviously is part of the <code>NSString</code> expression, the macro interprets it as another argument, I get the following error:</p>\n\n<p><code>Too many arguments provided to function-like macro invocation</code></p>\n\n<p>Here's what I have tried unsuccessfully (and variants of these):</p>\n\n<pre><code>#define FANCY_LOG(...) [MyLogger logDebug:##__VA_ARGS___ withClassAndMethodName: __PRETTY_FUNCTION__ lineNumber: __LINE__];\n#define FANCY_LOG(message) [MyLogger logDebug:#message withClassAndMethodName: __PRETTY_FUNCTION__ lineNumber: __LINE__];\n</code></pre>\n"}, {"tags": ["objective-c", "optimization"], "owner": {"reputation": 4900, "user_id": 1085937, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b66b1894c805a260947000d16658f845?s=128&d=identicon&r=PG", "display_name": "Jeeter", "link": "https://stackoverflow.com/users/1085937/jeeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564073029, "creation_date": 1564070286, "question_id": 57206046, "link": "https://stackoverflow.com/questions/57206046/optimization-pull-into-local-variable-or-leave-to-the-compiler", "title": "Optimization - pull into local variable or leave to the compiler?", "body": "<p>I was writing some code where I have a bunch of nested <code>NSSet</code>s through classes, something like the following:</p>\n\n<pre><code>@interface C : NSObject\n\n@property (nonatomic) NSString *name;\n\n@end\n\n@interface B : NSObject\n\n@property (nonatomic) NSMutableSet&lt;C *&gt; *cset;\n@property (nonatomic) NSString *name;\n\n@end\n\n@interface A : NSObject\n\n@property (nonatomic) NSMutableSet&lt;B *&gt; *bset;\n@property (nonatomic) NSString *name;\n\n@end\n</code></pre>\n\n<p>And at some point, I have a function that iterates over each and every element and uses its (and the parents') names:</p>\n\n<pre><code>for (B *b in a.bset)\n{\n    for (C *c in b.cset)\n    {\n        addToDict(a.name, b.name, c.name);\n    }\n}\n</code></pre>\n\n<p>And I was wondering, is it faster to pull out these calls into a local variable? So instead of the above, we end up with something like:</p>\n\n<pre><code>NSString *aname = a.name;\nfor (B *b in a.bset)\n{\n    NSString *bname = b.name;\n    for (C *c in b.cset)\n    {\n        NSString *cname = c.name;\n        addToDict(aname, bname, cname);\n    }\n}\n</code></pre>\n\n<p>Would the second be faster? Normally, I would think compiler optimization should recognize the temporal usage of each variable, but I wasn't sure since each one is inside a class.</p>\n"}, {"tags": ["ios", "objective-c", "avaudioplayer", "avaudiosession"], "answers": [{"tags": [], "owner": {"reputation": 1108, "user_id": 7235585, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/638abfac4c1ffa869cc9d059e4a4a7ba?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/7235585/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1567520215, "creation_date": 1567520215, "answer_id": 57773585, "question_id": 57204080, "link": "https://stackoverflow.com/questions/57204080/avaudiosessioninterruptionnotification-with-avaudiosessioninterruptionwassuspend/57773585#57773585", "title": "AVAudioSessionInterruptionNotification with AVAudioSessionInterruptionWasSuspendedKey triggered when trying to resume from background", "body": "<p>The <code>AVAudioSessionInterruptionWasSuspendedKey</code> notification is thrown because you should deactivate your audio session whenever your app goes to background and nothing is playing. If your player is playing when user pauses from lock screen you don't have to deactivate the session. </p>\n\n<p>You should listen for the notifications when your app is being sent to background and when it becomes active, the code in Swift should look like this.</p>\n\n<pre><code>NotificationCenter.default.addObserver(forName: UIApplication.willResignActiveNotification, object: nil, queue: .main) { sender in\n            guard self.player.isPlaying == false else { return }\n            self.setSession(active: false)\n        }\n\nNotificationCenter.default.addObserver(forName: UIApplication.didBecomeActiveNotification, object: nil, queue: .main) { sender in\n            guard self.player.isPlaying else { return }\n            self.setSession(active: true)\n        }\n\n    func setSession(active: Bool) -&gt; Bool {\n        let session = AVAudioSession.sharedInstance()\n        do {\n            try session.setCategory(.playback, mode: .default)\n            try session.setActive(active)\n            return true\n        } catch let error {\n            print(\"*** Failed to activate audio session: \\(error.localizedDescription)\")\n            return false\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 7093043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtFMI.jpg?s=128&g=1", "display_name": "Serg P", "link": "https://stackoverflow.com/users/7093043/serg-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567520215, "creation_date": 1564064013, "last_edit_date": 1564072044, "question_id": 57204080, "link": "https://stackoverflow.com/questions/57204080/avaudiosessioninterruptionnotification-with-avaudiosessioninterruptionwassuspend", "title": "AVAudioSessionInterruptionNotification with AVAudioSessionInterruptionWasSuspendedKey triggered when trying to resume from background", "body": "<p><code>AVAudioPlayer</code> plays audio on the background and user pauses it either through headset controls or lock screen controls.\nIf user does it for under 30 seconds and tries to resume - everything works fine.\nIf user tries to resume it in over 30 seconds - audio starts playing, but a second later <code>audioSessionInterruptionNotification</code> from <code>AVAudioSessionDelegate</code> is triggered, with <code>AVAudioSessionInterruptionWasSuspendedKey</code> YES.</p>\n\n<p>After that the app stops reacting for remote controls events completely. Events are being triggered, but <code>AVAudioPlayer</code> does not react to any commands. In fact, <code>[[self audioplayer] isAudioPlaying]</code> returns NO while playback continues.</p>\n\n<p>If I try to handle it the following way - it helps (so I set AVAudioSession to not active, and then playHelper method activates it and plays audio), but there is a glitch, because notification is being triggered after it starts playing.</p>\n\n<pre><code>- (void)audioSessionInterruptionNotification:(NSNotification *)interruption {\n    UInt8 interruptionType = [[interruption.userInfo valueForKey:AVAudioSessionInterruptionTypeKey] intValue];\n\n    NSLog(@\"Session interrupted &gt; --- %s ---\\n\", interruptionType == AVAudioSessionInterruptionTypeBegan ? \"Begin Interruption\" : \"End Interruption\");\n    NSDictionary *notificationUserInfo = [interruption userInfo];\n    if (interruptionType == AVAudioSessionInterruptionTypeBegan) {\n        if ([notificationUserInfo valueForKey:AVAudioSessionInterruptionWasSuspendedKey]) {\n            [[AVAudioSession sharedInstance] setActive:false error:nil];\n            [self playHelper];\n        } else {\n            [self interruptionStarted];\n        }\n    } else if (interruptionType == AVAudioSessionInterruptionTypeEnded) {\n        [self interruptionEnded:(NSUInteger)[notificationUserInfo objectForKey:AVAudioSessionInterruptionOptionKey]];\n    }\n}\n</code></pre>\n\n<p>Please advise what could be causing this.</p>\n"}, {"tags": ["ios", "objective-c", "concurrency", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1564062513, "post_id": 57202667, "comment_id": 100914429, "body": "I would recomed to do async code and show a Hud to wait for the async task conclution, since is not recomendable to lock UI waiting for task like this."}, {"owner": {"reputation": 5955, "user_id": 1911042, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf171dfe30dbc1104f2c6cf2ef83fb38?s=128&d=identicon&r=PG", "display_name": "cojoj", "link": "https://stackoverflow.com/users/1911042/cojoj"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1564062675, "post_id": 57202667, "comment_id": 100914546, "body": "@kjoe as I&#39;ve mentioned I&#39;m not happy with this approach either. The thing is I cannot do this differently at this stage."}], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 6077347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z5cnn.jpg?s=128&g=1", "display_name": "Damian Rzeszot", "link": "https://stackoverflow.com/users/6077347/damian-rzeszot"}, "is_accepted": false, "score": 1, "last_activity_date": 1564066079, "creation_date": 1564066079, "answer_id": 57204765, "question_id": 57202667, "link": "https://stackoverflow.com/questions/57202667/waiting-for-network-call-to-finish/57204765#57204765", "title": "Waiting for network call to finish", "body": "<p>I guess <code>fetchLocationProviderStatusFor:completion:failure:</code> calls those callbacks in main queue. That's why you get deadlock. It's impossible. We can't time travel yet.</p>\n"}, {"tags": [], "owner": {"reputation": 4600, "user_id": 133754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89b6746530f5cdbd80215eba247611d?s=128&d=identicon&r=PG", "display_name": "Alex Curylo", "link": "https://stackoverflow.com/users/133754/alex-curylo"}, "is_accepted": false, "score": 1, "last_activity_date": 1564876054, "creation_date": 1564876054, "answer_id": 57342829, "question_id": 57202667, "link": "https://stackoverflow.com/questions/57202667/waiting-for-network-call-to-finish/57342829#57342829", "title": "Waiting for network call to finish", "body": "<p>The deprecated <code>NSURLConnection.sendSynchronousRequest</code> API is useful for those instances when you really can't (or just can't be bothered to) do things properly, like this example:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>    private func pageExists(at url: URL) -&gt; Bool {\n        var request = URLRequest(url: url)\n        request.httpMethod = \"HEAD\"\n        request.timeoutInterval = 10\n        var response: URLResponse?\n        try! NSURLConnection.sendSynchronousRequest(request,\n                                                    returning: &amp;response)\n        let httpResponse = response as! HTTPURLResponse\n        if httpResponse.statusCode != 200 { return false }\n        if httpResponse.url != url { return false }\n        return true\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13002094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c23431046e5f6c04b0052114602b042?s=128&d=identicon&r=PG&f=1", "display_name": "ELanz.Embrace", "link": "https://stackoverflow.com/users/13002094/elanz-embrace"}, "is_accepted": false, "score": 0, "last_activity_date": 1583441213, "creation_date": 1583441213, "answer_id": 60553698, "question_id": 57202667, "link": "https://stackoverflow.com/questions/57202667/waiting-for-network-call-to-finish/60553698#60553698", "title": "Waiting for network call to finish", "body": "<p>Currently, your method causes work to be done on the main thread, which freezes the UI. Your solution works, but it would be best to change the method to include a completion block. Then, you could call the completion block at the end of the async block. Here's the example code for that:</p>\n\n<pre><code>- (void)validCardForLocationWithId:(ObjectId)locationId completion:(nullable id&lt;UserPaymentCard&gt; (^)(void))completion {\n    id&lt;LocationsReader&gt; locationsReader = [self locationsReader];\n    __block LocationStatus *status = nil;\n    [locationsReader fetchLocationProviderStatusFor:locationId completion:^(LocationStatus * _Nonnull locationStatus) {\n        status = locationStatus;\n        completion([self.paymentCards firstCardForStatus:status]);\n    } failure:nil];\n}\n</code></pre>\n"}], "owner": {"reputation": 5955, "user_id": 1911042, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cf171dfe30dbc1104f2c6cf2ef83fb38?s=128&d=identicon&r=PG", "display_name": "cojoj", "link": "https://stackoverflow.com/users/1911042/cojoj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 2, "answer_count": 3, "score": 5, "last_activity_date": 1583441213, "creation_date": 1564059918, "last_edit_date": 1564061344, "question_id": 57202667, "link": "https://stackoverflow.com/questions/57202667/waiting-for-network-call-to-finish", "title": "Waiting for network call to finish", "body": "<p>What I'm trying to achieve is to make a network request and wait for it to finish, so that I can make a decission what should be apps next step.\nNormally I would avoid such solution, but this is a rare case in which codebase has a lot of legacy and we don't have enough time to apply necessary changes in order to <em>make things right</em>.</p>\n\n<p>I'm trying to write a simple input-output method with following definition:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (nullable id&lt;UserPaymentCard&gt;)validCardForLocationWithId:(ObjectId)locationId;\n</code></pre>\n\n<p>The thing is that in order to perform some validation inside this method I need to make a network request just to receive neccessary information, so I'd like to wait for this request to finish.</p>\n\n<p>First thing that popped in my mind was using <code>dispatch_semaphore_t</code>, so I ended up with something like this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (nullable id&lt;UserPaymentCard&gt;)validCardForLocationWithId:(ObjectId)locationId {\n    id&lt;LocationsReader&gt; locationsReader = [self locationsReader];\n\n    __block LocationStatus *status = nil;\n    dispatch_semaphore_t sema = dispatch_semaphore_create(0);\n    [locationsReader fetchLocationProviderStatusFor:locationId completion:^(LocationStatus * _Nonnull locationStatus) {\n        status = locationStatus;\n        dispatch_semaphore_signal(sema);\n    } failure:nil];\n    dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER);\n\n    return [self.paymentCards firstCardForStatus:status];\n}\n</code></pre>\n\n<p>Everything compiles and runs, but my UI freezes and I actually never receive sempahore's signal.\nSo, I started playing with <code>dispatch_group_t</code> with exactly the same results.</p>\n\n<p>Look like I might have some problems with where code gets executed, but I don't know how to approach this and get the expected results. When I try wrapping everything in <code>dispatch_async</code> I actually stop blocking main queue, but <code>dispatch_async</code> return immediatelly, so I <code>return</code> from this method before the network request finishes.</p>\n\n<p>What am I missing? Can this actually be acheived without some <code>while</code> hacks? Or am I trying to fight windmills?</p>\n\n<hr>\n\n<p>I was able to achieve what I want with the following solution, but it really feels like a hacky way and not something I'd love to ship in my codebase.</p>\n\n<pre><code>- (nullable id&lt;UserPaymentCard&gt;)validCardForLocationWithId:(ObjectId)locationId {\n    id&lt;LocationsReader&gt; locationsReader = [self locationsReader];\n\n    __block LocationStatus *status = nil;\n    __block BOOL flag = NO;\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        [locationsReader fetchLocationProviderStatusFor:locationId completion:^(LocationStatus * _Nonnull locationStatus) {\n            status = locationStatus;\n            flag = YES;\n        } failure:nil];\n    });\n\n    while (CFRunLoopRunInMode(kCFRunLoopDefaultMode, 0, true) &amp;&amp; !flag){};\n\n    return [self.paymentCards firstCardForStatus:status];\n}\n</code></pre>\n"}, {"tags": ["c#", "ios", "objective-c", "xamarin.forms", "nsurlsession"], "comments": [{"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1564386806, "post_id": 57199682, "comment_id": 100998892, "body": "Hi , have you solved this , you can show some error log info in question."}, {"owner": {"reputation": 154, "user_id": 11328573, "user_type": "registered", "profile_image": "https://graph.facebook.com/2320493521525188/picture?type=large", "display_name": "Nicole", "link": "https://stackoverflow.com/users/11328573/nicole"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1564675393, "post_id": 57199682, "comment_id": 101118092, "body": "No, I didn&#39;t the server response is : 500 internal server error."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1564725070, "post_id": 57199682, "comment_id": 101131997, "body": "Okey , could you try postman to request this url content , this will be a good way to check where problem is."}, {"owner": {"reputation": 154, "user_id": 11328573, "user_type": "registered", "profile_image": "https://graph.facebook.com/2320493521525188/picture?type=large", "display_name": "Nicole", "link": "https://stackoverflow.com/users/11328573/nicole"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1564851061, "post_id": 57199682, "comment_id": 101169057, "body": "I don&#39;t really know how to test this code with postman, I am sending a byte array so ..., but testing with an upload works of course"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1564970605, "post_id": 57199682, "comment_id": 101190836, "body": "Maybe problem is the byte array, you add img data with string data , and finally conver it to NSData . This data type can not be used in http , you should check  the  request of web api ,and modify them be its request."}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 11328573, "user_type": "registered", "profile_image": "https://graph.facebook.com/2320493521525188/picture?type=large", "display_name": "Nicole", "link": "https://stackoverflow.com/users/11328573/nicole"}, "edited": false, "score": 0, "creation_date": 1564106744, "post_id": 57200870, "comment_id": 100930199, "body": "Sorry but this didn&#39;t really help me, I tried to copy his logic but it didn&#39;t work, I was trying to make this as simple as possible but this code confused me even more :( ."}], "tags": [], "owner": {"reputation": 179, "user_id": 5291375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sZeed.jpg?s=128&g=1", "display_name": "ayon.gupta", "link": "https://stackoverflow.com/users/5291375/ayon-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1564055682, "last_edit_date": 1564055682, "creation_date": 1564054023, "answer_id": 57200870, "question_id": 57199682, "link": "https://stackoverflow.com/questions/57199682/http-post-multipart-form-data-with-nsurlsession-using-c/57200870#57200870", "title": "HTTP POST multipart form-data with NSUrlSession using c#", "body": "<p>Found this link.. Hope it would be helpful\nFunction name - PrepareUpload</p>\n\n<p><a href=\"https://github.com/dannycabrera/SimpleBackgroundUpload/blob/master/SimpleBackgroundUpload/SimpleBackgroundUpload/AppDelegate.cs\" rel=\"nofollow noreferrer\">https://github.com/dannycabrera/SimpleBackgroundUpload/blob/master/SimpleBackgroundUpload/SimpleBackgroundUpload/AppDelegate.cs</a></p>\n\n<p>The function is as followed in case the link expires</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// Prepares the upload.\n    /// &lt;/summary&gt;\n    /// &lt;returns&gt;The upload.&lt;/returns&gt;\n    public async Task PrepareUpload()\n    {\n        try {\n            Console.WriteLine(\"PrepareUpload called...\");\n\n            if (session == null)\n                session = InitBackgroundSession();\n\n            // Check if task already exits\n            var tsk = await GetPendingTask();\n            if (tsk != null) {\n                Console.WriteLine (\"TaskId {0} found, state: {1}\", tsk.TaskIdentifier, tsk.State);\n\n                // If our task is suspended, resume it.\n                if (tsk.State == NSUrlSessionTaskState.Suspended) {\n                    Console.WriteLine (\"Resuming taskId {0}...\", tsk.TaskIdentifier);\n                    tsk.Resume();\n                }\n\n                return; // exit, we already have a task\n            }\n\n            // For demo purposes file is attached to project as \"Content\" and PDF is 8.1MB.\n            var fileToUpload = \"UIKitUICatalog.pdf\";\n\n            if(File.Exists(fileToUpload)) {\n                var boundary = \"FileBoundary\";\n                var bodyPath = Path.Combine (Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments), \"BodyData.tmp\");\n\n                // Create request\n                NSUrl uploadHandleUrl = NSUrl.FromString (webApiAddress);\n                NSMutableUrlRequest request = new NSMutableUrlRequest (uploadHandleUrl);\n                request.HttpMethod = \"POST\";\n                request [\"Content-Type\"] = \"multipart/form-data; boundary=\" + boundary;\n                request [\"FileName\"] = Path.GetFileName(fileToUpload);\n\n                // Construct the body\n                System.Text.StringBuilder sb = new System.Text.StringBuilder(\"\");\n                sb.AppendFormat(\"--{0}\\r\\n\", boundary);\n                sb.AppendFormat(\"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"{0}\\\"\\r\\n\", Path.GetFileName(fileToUpload));\n                sb.Append(\"Content-Type: application/octet-stream\\r\\n\\r\\n\");\n\n                // Delete any previous body data file\n                if (File.Exists(bodyPath))\n                    File.Delete(bodyPath);\n\n                // Write file to BodyPart\n                var fileBytes = File.ReadAllBytes (fileToUpload);\n                using (var writeStream = new FileStream (bodyPath, FileMode.Create, FileAccess.Write, FileShare.Read)) {\n                    writeStream.Write (Encoding.Default.GetBytes (sb.ToString ()), 0, sb.Length);\n                    writeStream.Write (fileBytes, 0, fileBytes.Length);\n\n                    sb.Clear ();\n                    sb.AppendFormat (\"\\r\\n--{0}--\\r\\n\", boundary);\n                    writeStream.Write (Encoding.Default.GetBytes (sb.ToString ()), 0, sb.Length);\n                }\n                sb = null;\n                fileBytes = null;\n\n                // Creating upload task\n                var uploadTask = session.CreateUploadTask(request, NSUrl.FromFilename(bodyPath));\n                Console.WriteLine (\"New TaskID: {0}\", uploadTask.TaskIdentifier);\n\n                // Start task\n                uploadTask.Resume (); \n            }\n            else\n            {\n                Console.WriteLine (\"Upload file doesn't exist. File: {0}\", fileToUpload);\n            }   \n        } catch (Exception ex) {\n            Console.WriteLine (\"PrepareUpload Ex: {0}\", ex.Message);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 11328573, "user_type": "registered", "profile_image": "https://graph.facebook.com/2320493521525188/picture?type=large", "display_name": "Nicole", "link": "https://stackoverflow.com/users/11328573/nicole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564055682, "creation_date": 1564050067, "last_edit_date": 1564051604, "question_id": 57199682, "link": "https://stackoverflow.com/questions/57199682/http-post-multipart-form-data-with-nsurlsession-using-c", "title": "HTTP POST multipart form-data with NSUrlSession using c#", "body": "<p>I am making a cross-platform app using xamarin forms, and I need to make Http post in the background.</p>\n\n<p>I managed to do that with a foreground service and <code>HttpClient</code> in Android.</p>\n\n<p>I am not able to do it in IOS, I am using <code>NSUrlSession</code>, for the backgrounding task.</p>\n\n<p>I was able to do a POST with </p>\n\n<p><code>application/x-www-form-urlencoded; charset=UTF-8 as a Content-Type</code>.</p>\n\n<p>But I wasn't able to do it with multipart form-data.</p>\n\n<p>I've read somewhere that I have to build the body of the request myself so I did it using some swift and objective C translations, but I was unsuccesful.</p>\n\n<p>I tried to transform this objective c code in this <a href=\"https://stackoverflow.com/q/38028533\">answer</a> to c# and I end up with this code, but it doesn't work, Please help!</p>\n\n<pre><code>    using (var url = NSUrl.FromString(UploadUrlString))\n            using (var request = new NSMutableUrlRequest(url))\n            {\n                string boundaryConstant = \"------WebKitFormBoundaryXXXXXXXXXX\";\n                request.HttpMethod = \"POST\";\n                request[\"Cookie\"] = \"SERVERIDXXX=XXXXXX\";\n                var data = NSData.FromArray(ImageByteArray);\n                var uiimage = UIImage.LoadFromData(data);\n                NSData img = uiimage.AsJPEG(1);\n                string Body = boundaryConstant+ \"\\r\\n\";\n                Body += \"Content-Disposition: form-data; name=\\\"id\\\"\\r\\n\\r\\n\";\n                //Body += StaticData.Photos[0].Round;\n                Body += 50000+ \"\\r\\n\";\n                Body += boundaryConstant + \"\\r\\n\";\n                Body += \"Content-Disposition: form-data; name=\\\"upload_file\\\"; filename=\\\"Untitled.png\\\"\\r\\n\";\n                Body += \"Content-Type: image/png\\r\\n\\r\\n\";\n                Body+=img+ \"\\r\\n\";\n                Body += boundaryConstant + \"--\";\n                request.Body = NSData.FromString(Body);\n                request[\"Content-Type\"] = \"multipart/form-data; boundary=\"+ boundaryConstant;\n                NSUrlSessionDownloadTask downloadTask = session.CreateDownloadTask(request);\n                downloadTask.Resume();\n            }\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564055240, "post_id": 57199541, "comment_id": 100910135, "body": "do not create a navigationcontroller every time use just navigationconroller in appDelegate , currently you are initializing new instance eveytime."}, {"owner": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564057941, "post_id": 57199541, "comment_id": 100911625, "body": "ok, but how does that actually help?"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564058563, "post_id": 57199541, "comment_id": 100911978, "body": "right now your code is showing  code  you are trying in didFinishLaunchoption  am i right?"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564058680, "post_id": 57199541, "comment_id": 100912043, "body": "where is code under shortcutitems ?"}, {"owner": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564060056, "post_id": 57199541, "comment_id": 100912935, "body": "Its the same code, I just haven&#39;t shown it"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564060143, "post_id": 57199541, "comment_id": 100912992, "body": "please show that too it will help because that is actual code where we need to remove navigationController initialization."}], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564055400, "post_id": 57199889, "comment_id": 100910217, "body": "navigationController automatically manages hierarchy there is no need to keep track seprately just to come back if there is any other reason then you should keep track its just a burgen on memory and also extra work implementation"}, {"owner": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "edited": false, "score": 0, "creation_date": 1564057777, "post_id": 57199889, "comment_id": 100911528, "body": "How would I use SetViewControllers, if I use it I still get the same problem?"}, {"owner": {"reputation": 23, "user_id": 9123193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HQVQim8FkII/AAAAAAAAAAI/AAAAAAAAAy0/aQh9DAtB-HE/photo.jpg?sz=128", "display_name": "Manu", "link": "https://stackoverflow.com/users/9123193/manu"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1564114634, "post_id": 57199889, "comment_id": 100931511, "body": "@AbuUlHassan I see your solution, I raise you &quot;OP needs to maintain the navstack even if the navigation controller is not loaded&quot;.  Scenario here is that there is no back stack. But the normal UX must happen. For instance, A shortcut to a contact should show the contact detail, but backout to the &quot;All Contacts&quot;.  Please provide an explanation to why this is a memory burden as well. I don&#39;t think this is the case, but I may have missed something."}], "tags": [], "owner": {"reputation": 23, "user_id": 9123193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HQVQim8FkII/AAAAAAAAAAI/AAAAAAAAAy0/aQh9DAtB-HE/photo.jpg?sz=128", "display_name": "Manu", "link": "https://stackoverflow.com/users/9123193/manu"}, "is_accepted": false, "score": -1, "last_activity_date": 1564115988, "last_edit_date": 1564115988, "creation_date": 1564050752, "answer_id": 57199889, "question_id": 57199541, "link": "https://stackoverflow.com/questions/57199541/present-a-new-viewcontroller-but-maintain-the-view-stack/57199889#57199889", "title": "present a new ViewController but maintain the view stack", "body": "<p>Yes. This is possible.</p>\n\n<p><code>UINavigationController</code> has a <code>setViewControllers:animated:</code> method that lets you do exactly that. </p>\n\n<p>Pay attention to the documentation <a href=\"https://developer.apple.com/documentation/uikit/uinavigationcontroller/1621861-setviewcontrollers?language=objc\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p><strong>viewControllers</strong></p>\n  \n  <p>The view controllers to place in the stack. The\n  front-to-back order of the controllers in this array represents the\n  new bottom-to-top order of the controllers in the navigation stack.\n  Thus, the last item added to the array becomes the top item of the\n  navigation stack.</p>\n</blockquote>\n\n<p>You should create an array of UIViewController objects and the order should like this.. [firstVC, secondVC, ..., topMostVC]</p>\n\n<p>EDIT:\nThe code should look something like this</p>\n\n<pre><code>    UINavigationController *controller = (UINavigationController*)[storyboard instantiateInitialViewController];\n    self.window.rootViewController = controller;\n    if (fromShortCut) {\n        NSMutableArray *viewControllers = [[NSMutableArray alloc] init];\n        //create other viewonctollerObjeccts\n        FirstViewController *firstVC = storyboard instantiateViewControllerWithIdentifier:@\"first\"];\n\n        SecondViewController *secondVC = storyboard instantiateViewControllerWithIdentifier:@\"second\"];\n\n        ThirdViewController *thirdVC = storyboard instantiateViewControllerWithIdentifier:@\"third\"];\n\n        InfoViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@\"info\"];\n        // init vc\n        vc.info = .....\n        [viewControllers insertObject:vc atIndex:0];\n\n        //finally set the array to nav stack\n        [controller setViewControllers:viewControllers animated:NO];\n    }\n</code></pre>\n\n<p>What this does is, it sets InfoViewController at the top of the navigation stack, and backs out to ThirdViewController which backs out to SecondViewController and so on. </p>\n"}, {"comments": [{"owner": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "edited": false, "score": 0, "creation_date": 1564059693, "post_id": 57202419, "comment_id": 100912721, "body": "Still the same - doesn&#39;t do what I want - I still have the view I wanted but no back stack. (just more optimally)"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "reply_to_user": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "edited": false, "score": 0, "creation_date": 1564059811, "post_id": 57202419, "comment_id": 100912790, "body": "check navigationBar is hiddent or not? I also have updated answet with navigationBarhidden to NO"}], "tags": [], "owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1564060556, "last_edit_date": 1564060556, "creation_date": 1564059044, "answer_id": 57202419, "question_id": 57199541, "link": "https://stackoverflow.com/questions/57199541/present-a-new-viewcontroller-but-maintain-the-view-stack/57202419#57202419", "title": "present a new ViewController but maintain the view stack", "body": "<p>Here you go for your solution</p>\n\n<pre><code>   if (fromShortCut) {\n            InfoViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@\"info\"];\n        UIViewController *rootController = [UIApplication sharedApplication].keyWindow.rootViewController;\n            // init vc\n            vc.info = .....\n[rootController.navigationController.navigationBar setHidden:NO];\n            [rootController.navigationController pushViewController:vc animated:NO];\n            // or [controller pushViewController:vc animated:NO];\n\n        }\nelse{\n   UINavigationController *controller = (UINavigationController*)[storyboard instantiateInitialViewController];\nself.window.rootViewController = controller;\n    }\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 170902, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/95b93d6ba53810412d0215ce32737fd4?s=128&d=identicon&r=PG", "display_name": "push 22", "link": "https://stackoverflow.com/users/170902/push-22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1564115988, "creation_date": 1564049618, "last_edit_date": 1564072088, "question_id": 57199541, "link": "https://stackoverflow.com/questions/57199541/present-a-new-viewcontroller-but-maintain-the-view-stack", "title": "present a new ViewController but maintain the view stack", "body": "<p>I'm trying to update an old IOS (objective-c) app to handle shortcutitems. When the user starts the app from a shortcut I would like to go the viewcontroller they've chosen, but would like them to be able to move back through the view hierarchy, to the original launch screen.</p>\n\n<p>the current code in appdelegate didFinishLaunchingWithOptions looks like this:</p>\n\n<pre><code>UINavigationController *controller = (UINavigationController*)[storyboard instantiateInitialViewController];\nself.window.rootViewController = controller;\nreturn YES\n</code></pre>\n\n<p>And trying this:</p>\n\n<pre><code>UINavigationController *controller = (UINavigationController*)[storyboard instantiateInitialViewController];\nself.window.rootViewController = controller;\n...\nif (fromShortCut) {\n        InfoViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@\"info\"];\n        // init vc\n        vc.info = .....\n        [controller.navigationController pushViewController:vc animated:NO];\n        // or [controller pushViewController:vc animated:NO];\n\n    }\nreturn YES\n</code></pre>\n\n<p>Shows the correct View, but there's no Back/Back-arrow or swipe gesture to allow the user to move back to the main screen.</p>\n\n<p>Is this possible?</p>\n\n<p>Many Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "key-value-observing"], "comments": [{"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564047288, "post_id": 57198216, "comment_id": 100905748, "body": "How do you add observers?"}, {"owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564053062, "post_id": 57198216, "comment_id": 100909017, "body": "I have add the code to the question please review"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564058336, "post_id": 57198216, "comment_id": 100911846, "body": "Where do you call <code>addFloatingTargetView:</code>?"}, {"owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564109687, "post_id": 57198216, "comment_id": 100930644, "body": "in main thread call"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564123264, "post_id": 57198216, "comment_id": 100933901, "body": "But maybe you call it twice. Have you tried the code from my answer?"}, {"owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1564571707, "post_id": 57198216, "comment_id": 101073482, "body": "Thanks, Another Manger Observer the UIScrollView too, But the Manager weak the UIScrollView, when UIScrollView Dealloc, the Manager still KVO the UIScrollView."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "edited": false, "score": 0, "creation_date": 1564572283, "post_id": 57202849, "comment_id": 101073819, "body": "Yes, Thanks, Another Manager Still KVO the scrollView, but Another Manage weak the scrollView"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "edited": false, "score": 0, "creation_date": 1564572835, "post_id": 57202849, "comment_id": 101074108, "body": "@Chendichuan And now you don&#39;t get an exception, right?"}, {"owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "edited": false, "score": 0, "creation_date": 1564572935, "post_id": 57202849, "comment_id": 101074165, "body": "Yes, Thanks you"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "edited": false, "score": 0, "creation_date": 1564605537, "post_id": 57202849, "comment_id": 101090991, "body": "@Chendichuan Don&#39;t forget to accept the useful answer."}], "tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": false, "score": 0, "last_activity_date": 1564060518, "creation_date": 1564060518, "answer_id": 57202849, "question_id": 57198216, "link": "https://stackoverflow.com/questions/57198216/uitableview-was-deallocated-while-key-value-observers-were-still-registered-with/57202849#57202849", "title": "UITableView was deallocated while key value observers were still registered with it, Only crash in iOS9, iOS10", "body": "<p>I think you add the same observer twice. Always call <code>[scrollView removeObserver:self forKeyPath:keypath context:nil]</code>; before <code>[scrollView addObserver:self forKeyPath:keypath options:NSKeyValueObservingOptionNew|NSKeyValueObservingOptionOld context:nil];</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 6217722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25a31be190ff7f17fdc3aaa915d71b8?s=128&d=identicon&r=PG&f=1", "display_name": "Chendichuan", "link": "https://stackoverflow.com/users/6217722/chendichuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564060518, "creation_date": 1564045619, "last_edit_date": 1564054300, "question_id": 57198216, "link": "https://stackoverflow.com/questions/57198216/uitableview-was-deallocated-while-key-value-observers-were-still-registered-with", "title": "UITableView was deallocated while key value observers were still registered with it, Only crash in iOS9, iOS10", "body": "<p>I remove all obsevers when dealloc, but i look crash seems like not remove success, i don't know why, everyone can help me.</p>\n\n<p>this is my code and crash info. i can't figure out what's wrong with my code, anyone who can help me.</p>\n\n<pre><code>@interface SYDiagnoseFloatingView()\n\n@property (nonatomic, strong) UIImageView *imageView;\n\n@property (nonatomic, strong) NSMutableArray&lt;UIScrollView *&gt; *scrollViews;\n\n@end\n\n@implementation SYDiagnoseFloatingView\n</code></pre>\n\n<p>Remove obsevers</p>\n\n<pre><code>- (void)dealloc {\n    for (UIScrollView *scrollView in self.scrollViews) {\n        [scrollView removeObserver:self forKeyPath:keypath];\n    }\n}\n</code></pre>\n\n<p>Add obsevers</p>\n\n<pre><code>- (void)addFloatingTargetView:(UIScrollView *)scrollView {\n    if ([self.scrollViews containsObject:scrollView]) {\n        return;\n    }\n    [self.scrollViews addObject:scrollView];\n    [scrollView addObserver:self forKeyPath:keypath options:NSKeyValueObservingOptionNew|NSKeyValueObservingOptionOld context:nil];\n}\n</code></pre>\n\n<p>Stack trace\n #0 Thread</p>\n\n<pre><code>NSInternalInconsistencyException\n\nAn instance 0x108d20600 of class UITableView was deallocated while key value observers were still registered with it. Current observation info: &lt;NSKeyValueObservationInfo 0x171428ba0&gt; ( &lt;NSKeyValueObservance 0x174a4b370: Observer: 0x1742f8280, Key path: contentOffset, Options: &lt;New: YES, Old: YES, Prior: NO&gt; Context: 0x0, Property: 0x17125db50&gt; )\n\n\u89e3\u6790\u539f\u59cb\n0 CoreFoundation    ___exceptionPreprocess + 124\n1 libobjc.A.dylib   objc_exception_throw + 56\n2 CoreFoundation    -[NSException initWithCoder:]\n3 Foundation    _NSKVODeallocate + 300\n4 CoreFoundation    _common_removeAllObjects + 188\n5 CoreFoundation    -[__NSArrayM dealloc] + 28\n6 SoYoungMobile40   -[SYDiagnoseFloatingView .cxx_destruct] (SYDiagnoseFloatingView.m:19)\n7 libobjc.A.dylib   0x000000019203c000 + 28432\n8 libobjc.A.dylib   objc_destructInstance + 92\n9 libobjc.A.dylib   object_dispose + 28\n10 UIKit    -[UIResponder dealloc] + 156\n11 UIKit    -[UIView dealloc] + 1676\n12 SoYoungMobile40  -[SYDiagnoseFloatingView dealloc] (SYDiagnoseFloatingView.m:0)\n13 CoreFoundation   _common_removeAllObjects + 188\n14 CoreFoundation   -[__NSArrayM dealloc] + 28\n15 libobjc.A.dylib  0x000000019203c000 + 139232\n16 UIKit    -[UIView dealloc] + 1644\n17 libobjc.A.dylib  0x000000019203c000 + 139232\n18 UIKit    -[UIView dealloc] + 1644\n19 libobjc.A.dylib  0x000000019203c000 + 139232\n20 UIKit    -[UIView dealloc] + 1644\n21 UIKit    -[UINavigationTransitionView dealloc] + 100\n22 libobjc.A.dylib  0x000000019203c000 + 139232\n23 UIKit    -[UIView dealloc] + 1644\n24 UIKit    -[UILayoutContainerView dealloc] + 64\n25 libobjc.A.dylib  0x000000019203c000 + 139232\n26 UIKit    -[UIView dealloc] + 1644\n27 libobjc.A.dylib  0x000000019203c000 + 139232\n28 CoreFoundation   _CFAutoreleasePoolPop + 28\n29 CoreFoundation   ___CFRunLoopRun + 1668\n30 CoreFoundation   CFRunLoopRunSpecific + 444\n31 GraphicsServices GSEventRunModal + 180\n32 UIKit    -[UIApplication _run] + 684\n33 UIKit    UIApplicationMain + 208\n34 SoYoungMobile40  main (main.m:16)\n35 libdyld.dylib    _start + 4\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "uiimageview", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1564033823, "post_id": 57195109, "comment_id": 100898841, "body": "In <code>if</code> part you need to write <code>cell.selectedImage.hidden = YES;</code>"}, {"owner": {"reputation": 333, "user_id": 10831964, "user_type": "registered", "profile_image": "https://graph.facebook.com/2213940755335725/picture?type=large", "display_name": "Tiran Ut", "link": "https://stackoverflow.com/users/10831964/tiran-ut"}, "edited": false, "score": 0, "creation_date": 1564035088, "post_id": 57195109, "comment_id": 100899348, "body": "What&#39;s the goal of using UICollectionView selection? I don&#39;t see any logic that depends on selected items"}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "reply_to_user": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1564036156, "post_id": 57195109, "comment_id": 100899788, "body": "@dahiya_boy I can&#39;t understand. can you please elaborate?"}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "reply_to_user": {"reputation": 333, "user_id": 10831964, "user_type": "registered", "profile_image": "https://graph.facebook.com/2213940755335725/picture?type=large", "display_name": "Tiran Ut", "link": "https://stackoverflow.com/users/10831964/tiran-ut"}, "edited": false, "score": 0, "creation_date": 1564036249, "post_id": 57195109, "comment_id": 100899823, "body": "@TiranUt I am using collection view to show horizontal list view which includes image text and a checkmark image."}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1564036505, "post_id": 57195109, "comment_id": 100899954, "body": "what to write in if condition?"}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1564036625, "post_id": 57195109, "comment_id": 100900021, "body": ".Please see my updated question"}, {"owner": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "edited": false, "score": 0, "creation_date": 1564036657, "post_id": 57195109, "comment_id": 100900035, "body": "You need to handle <b>cell.selectedImage.hidden = NO; or cell.selectedImage.hidden = YES</b> inside the <b>cellForItemAtIndexPath</b> method."}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1564036848, "post_id": 57195109, "comment_id": 100900110, "body": "How? I don&#39;t understand."}, {"owner": {"reputation": 333, "user_id": 10831964, "user_type": "registered", "profile_image": "https://graph.facebook.com/2213940755335725/picture?type=large", "display_name": "Tiran Ut", "link": "https://stackoverflow.com/users/10831964/tiran-ut"}, "edited": false, "score": 0, "creation_date": 1564036880, "post_id": 57195109, "comment_id": 100900125, "body": "I don&#39;t get why you call <code>selectItemAtIndexPath:indexPath</code> inside <code>cellForItemAtIndexPath</code>, <code>didSelectItemAtIndexPath</code> is not called when you select cell manually with <code>selectItemAtIndexPath</code>. So you have to update selectedImage.hidden in two places: inside <code>cellForItemAtIndexPath</code> and on select event inside <code>didSelectItemAtIndexPath</code>. And since you&#39;re actually not using multiple selection and handling selection manually, you can get rid of it. Simple single selection would be enough"}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1564036995, "post_id": 57195109, "comment_id": 100900174, "body": "No, I am using multiple selections."}, {"owner": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "edited": false, "score": 0, "creation_date": 1564037602, "post_id": 57195109, "comment_id": 100900456, "body": "All the appearance of UICollectionViewCell is codded in <b>cellForItemAtIndexPath</b>. On scrolling the collection view this method will invoke. So if you want to change cell appearance, do that changes in the <b>cellForItemAtIndexPath</b> method."}], "answers": [{"comments": [{"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 1, "creation_date": 1564039790, "post_id": 57196324, "comment_id": 100901517, "body": "Thank you so much, man It&#39;s working! I have done slightly change in if ([SelectedIndexes containsObject:indexPath]) {    cell.selectedImage.hidden = YES; } else {     cell.selectedImage.hidden = NO; } Instead of YES I changed it to NO and NO to YES"}, {"owner": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "reply_to_user": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 1, "creation_date": 1564039966, "post_id": 57196324, "comment_id": 100901616, "body": "Okey. Good. Happiee Codding."}], "tags": [], "owner": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1564039067, "creation_date": 1564039067, "answer_id": 57196324, "question_id": 57195109, "link": "https://stackoverflow.com/questions/57195109/selection-and-unselection-isselection-issue-in-uicollectionview/57196324#57196324", "title": "Selection and unselection isselection issue in UICollectionView", "body": "<p>First you create a NSMutableArray to store the selected collectionview indexpaths.</p>\n\n<pre><code>NSMutableArray *SelectedIndexes = [[NSMutableArray alloc]init];\n</code></pre>\n\n<p>and add the indexpath in the <strong>if conditoin of didselect</strong> method</p>\n\n<pre><code>[SelectedIndexes addObject:indexPath];\n</code></pre>\n\n<p>And remove the <strong>indexpath inside \"else\" condition of didselect method.</strong></p>\n\n<pre><code>if ([SelectedIndexes containsObject:indexPath]) {\n    [SelectedIndexes removeObject:indexPath];\n}\n</code></pre>\n\n<p>In your <strong>cellForItemAtIndexPath</strong> method check for the selected indexpath.</p>\n\n<pre><code>if ([SelectedIndexes containsObject:indexPath]) {\n   cell.selectedImage.hidden = YES;\n}\nelse {\n    cell.selectedImage.hidden = NO;\n}\n</code></pre>\n"}], "owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57196324, "answer_count": 1, "score": 1, "last_activity_date": 1564039067, "creation_date": 1564033681, "last_edit_date": 1564037127, "question_id": 57195109, "link": "https://stackoverflow.com/questions/57195109/selection-and-unselection-isselection-issue-in-uicollectionview", "title": "Selection and unselection isselection issue in UICollectionView", "body": "<p>I am facing the same issue <a href=\"https://stackoverflow.com/q/26420356/3378413\">Multiple selections Issue</a></p>\n\n<p>Here is my code which I have done.</p>\n\n<pre><code>- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath{\n    RCCollectionCell* cell = [_channelCollectionView dequeueReusableCellWithReuseIdentifier:@\"RC\" forIndexPath: indexPath];\n    cell.layer.cornerRadius = 5.0f;\n    cell.layer.borderWidth=1.0f;\n    cell.layer.borderColor=[UIColor lightGrayColor].CGColor;\n    if (indexPath.row &lt; [_fC count]){\n        [cell setChannel:_favoriteChannels[indexPath.row]];\n        [_channelCollectionView selectItemAtIndexPath:indexPath animated:NO scrollPosition:UICollectionViewScrollPositionNone];\n    } else {\n        //NSLog(@\"Error cell %d requested only %d channels in incident\", (int)indexPath.row, (int)[_incident.channels count]);\n    }\n    return cell;\n}  \n- (UICollectionReusableView *)collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath{\n    RCCollectionCell* cell = [_channelCollectionView dequeueReusableCellWithReuseIdentifier:@\"RC\" forIndexPath: indexPath];\n    return cell;\n}\n- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {\n    RCCollectionCell* cell = (RCCollectionCell*)[collectionView cellForItemAtIndexPath:indexPath];\n    Channel* channel = [self getChannelForIndexPath:indexPath];\n    if ([_upload.channels containsObject:channel.uuid]) {\n        [_upload.channels removeObject:channel.uuid];\n        cell.selectedImage.hidden = YES;\n\n    } else {\n        [self.view makeToast:channel.name duration:1.5 position:CSToastPositionCenter];\n\n        [_upload.channels addObject:channel.uuid];\n        cell.selectedImage.hidden = NO;\n    }\n    [collectionView deselectItemAtIndexPath:indexPath animated:YES];\n}  \n</code></pre>\n\n<p>My Problem is <code>cell.selectedImage.hidden = NO;</code> when I click on any cell and when I scroll the collectionview I can see that another cell is also affected with selectedimage.hidden = no.  </p>\n\n<p>Please suggest me some solutions to resolve this issue.</p>\n\n<p>Thanks in advance.   </p>\n\n<p><strong>EDIT:</strong>  </p>\n\n<p><code>selectedImage</code> is a checkmark image which I am using to check and uncheck the cell.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "ios9"], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 7825271, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PH4QM.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/7825271/amit"}, "edited": false, "score": 0, "creation_date": 1564041666, "post_id": 57196627, "comment_id": 100902579, "body": "Rob firstly thanks :) . For Qw1) is there any replacement for <code>CFReadStreamCreateForStreamedHTTPRequest</code> ? Qw2).  is <code>kCFStreamPropertyHTTPProxyHost </code> &amp; <code>kCFNetworkProxiesHTTPProxy </code> same ?"}], "tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1564040100, "creation_date": 1564040100, "answer_id": 57196627, "question_id": 57195022, "link": "https://stackoverflow.com/questions/57195022/what-is-replacement-of-cfreadstreamcreateforstreamedhttprequest/57196627#57196627", "title": "What is replacement of CFReadStreamCreateForStreamedHTTPRequest?", "body": "<p>To use <a href=\"https://developer.apple.com/documentation/foundation/nsurlsession/1410592-datataskwithrequest?language=objc\" rel=\"nofollow noreferrer\"><code>dataTaskWithRequest:</code></a>, you need to create an <a href=\"https://developer.apple.com/documentation/foundation/nsurlrequest?language=objc\" rel=\"nofollow noreferrer\"><code>NSURLRequest</code></a>, not a <code>CFHTTPMessageRef</code>.</p>\n\n<p>As for <code>kCFStreamPropertyHTTPProxyHost</code>, <a href=\"https://stackoverflow.com/q/28101582/77567\">this question</a> asks \u201cHow to programmatically add a proxy to an NSURLSession\u201d and has an answer that looks good to me.</p>\n"}], "owner": {"reputation": 236, "user_id": 7825271, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PH4QM.jpg?s=128&g=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/7825271/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564040100, "creation_date": 1564033218, "last_edit_date": 1564040044, "question_id": 57195022, "link": "https://stackoverflow.com/questions/57195022/what-is-replacement-of-cfreadstreamcreateforstreamedhttprequest", "title": "What is replacement of CFReadStreamCreateForStreamedHTTPRequest?", "body": "<p>In my objective C project i am using </p>\n\n<ul>\n<li>Segment 1).</li>\n</ul>\n\n<pre><code>[(NSInputStream *)CFReadStreamCreateForStreamedHTTPRequest(kCFAllocatorDefault, request,(CFReadStreamRef)[self postBodyReadStream]) autorelease]\n</code></pre>\n\n<p>but CFReadStreamCreateForStreamedHTTPRequest is deprecated \n<strong>what can i write alternatively ?</strong></p>\n\n<p>I tried </p>\n\n<pre><code>NSURLSession *session = [NSURLSession sharedSession];\nNSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request\n</code></pre>\n\n<p>Error throws:- </p>\n\n<blockquote>\n  <p>Incompatible pointer types sending 'CFHTTPMessageRef' (aka 'struct >__CFHTTPMessage *') to parameter of type 'NSURLRequest * _Nonnull'</p>\n</blockquote>\n\n<ul>\n<li>Segment 2).</li>\n</ul>\n\n<pre><code>(NSString *)kCFStreamPropertyHTTPProxyHost\n</code></pre>\n\n<blockquote>\n  <p>'kCFStreamPropertyHTTPProxyHost' is deprecated:\n  Haven't found any replacement API.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "swift", "arkit", "scnnode"], "owner": {"reputation": 11, "user_id": 8182361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ujeRweZLj5s/AAAAAAAAAAI/AAAAAAAAAAs/HauxU6Jek9Y/photo.jpg?sz=128", "display_name": "utti ramakrishna", "link": "https://stackoverflow.com/users/8182361/utti-ramakrishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564031888, "creation_date": 1564030700, "last_edit_date": 1564031888, "question_id": 57194605, "link": "https://stackoverflow.com/questions/57194605/unable-to-handle-move-gesture-in-arkit-with-usdz-formate-models", "title": "Unable to handle move gesture in arkit with USDZ formate models", "body": "<p>I am loading usdz models in arkit (not QLPreviewController) , then i have added gestures to rotate , move and scale in realworld its working fine for .obj models but not working properly for usdz models.</p>\n\n<p>I have tried with <code>SCNTransaction</code> its not working,</p>\n\n<pre><code>CGPoint translation = [recognizer translationInView:self.viewController.sceneView];\n                SCNVector3 pPoint = [self.viewController.sceneView projectPoint:self.movedObject.position];\n                CGPoint previousPosition = CGPointMake(pPoint.x, pPoint.y);\n                NSLog(@\"%f \\n %f\",pPoint.y,translation.y);\n                CGPoint currentPosition = CGPointMake(previousPosition.x + translation.x , previousPosition.y + translation.y);\n                ARHitTestResult * hitResults = [self.FSVC smartHitTest:currentPosition];\n                simd_float3 translation1 = [self.FSVC getTrans:hitResults];\n                self.movedObject.simdPosition = translation1;\n                NSLog(@\"%f\",translation.y);\n                [recognizer setTranslation:CGPointZero inView:self.viewController.sceneView];\n</code></pre>\n\n<p>I want add gestures for any type of models in <code>arkit</code> with high accuracy.</p>\n\n<p>Thanks in advance.</p>\n"}]