[{"tags": ["objective-c", "uitableview", "tableview", "uiswipegesturerecognizer", "uiswipeactionsconfiguration"], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 5899647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zv90.jpg?s=128&g=1", "display_name": "Oleg G.", "link": "https://stackoverflow.com/users/5899647/oleg-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1549051464, "last_edit_date": 1549051464, "creation_date": 1548892156, "answer_id": 54451332, "question_id": 54450921, "link": "https://stackoverflow.com/questions/54450921/odd-animations-with-swipe-to-delete-action-in-uitableview/54451332#54451332", "title": "Odd animations with swipe to delete action in UITableView", "body": "<p>Well, </p>\n\n<p>I went deeper in the direction on our swizzling methods.\nI removed this code completely. We were using it to avoid inserting nil value in dictionary. Without it, the bug disappeared. I am not sure why, but if I found the answer someday, I will update this post.\nHope it can save some time for some people!</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#import \"NSDictionary+NilSafe.h\"\n#import &lt;objc/runtime.h&gt;\n\n@implementation NSObject (Swizzling)\n\n+ (BOOL)gl_swizzleMethod:(SEL)origSel withMethod:(SEL)altSel {\n    Method origMethod = class_getInstanceMethod(self, origSel);\n    Method altMethod = class_getInstanceMethod(self, altSel);\n    if (!origMethod || !altMethod) {\n        return NO;\n    }\n    class_addMethod(self,\n                    origSel,\n                    class_getMethodImplementation(self, origSel),\n                    method_getTypeEncoding(origMethod));\n    class_addMethod(self,\n                    altSel,\n                    class_getMethodImplementation(self, altSel),\n                    method_getTypeEncoding(altMethod));\n    method_exchangeImplementations(class_getInstanceMethod(self, origSel),\n                                   class_getInstanceMethod(self, altSel));\n    return YES;\n}\n\n+ (BOOL)gl_swizzleClassMethod:(SEL)origSel withMethod:(SEL)altSel {\n    return [object_getClass((id)self) gl_swizzleMethod:origSel withMethod:altSel];\n}\n\n@end\n\n@implementation NSDictionary (NilSafe)\n\n+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        [self gl_swizzleMethod:@selector(initWithObjects:forKeys:count:) withMethod:@selector(gl_initWithObjects:forKeys:count:)];\n        [self gl_swizzleClassMethod:@selector(dictionaryWithObjects:forKeys:count:) withMethod:@selector(gl_dictionaryWithObjects:forKeys:count:)];\n    });\n}\n\n+ (instancetype)gl_dictionaryWithObjects:(const id [])objects forKeys:(const id&lt;NSCopying&gt; [])keys count:(NSUInteger)cnt {\n    id safeObjects[cnt];\n    id safeKeys[cnt];\n    NSUInteger j = 0;\n    for (NSUInteger i = 0; i &lt; cnt; i++) {\n        id key = keys[i];\n        id obj = objects[i];\n        if (!key) {\n            continue;\n        }\n        if (!obj) {\n            obj = [NSNull null];\n        }\n        safeKeys[j] = key;\n        safeObjects[j] = obj;\n        j++;\n    }\n    return [self gl_dictionaryWithObjects:safeObjects forKeys:safeKeys count:j];\n}\n\n- (instancetype)gl_initWithObjects:(const id [])objects forKeys:(const id&lt;NSCopying&gt; [])keys count:(NSUInteger)cnt {\n    id safeObjects[cnt];\n    id safeKeys[cnt];\n    NSUInteger j = 0;\n    for (NSUInteger i = 0; i &lt; cnt; i++) {\n        id key = keys[i];\n        id obj = objects[i];\n        if (!key) {\n            continue;\n        }\n        if (!obj) {\n            obj = [NSNull null];\n        }\n        safeKeys[j] = key;\n        safeObjects[j] = obj;\n        j++;\n    }\n    return [self gl_initWithObjects:safeObjects forKeys:safeKeys count:j];\n}\n\n@end\n\n@implementation NSMutableDictionary (NilSafe)\n\n+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        Class class = NSClassFromString(@\"__NSDictionaryM\");\n        [class gl_swizzleMethod:@selector(setObject:forKey:) withMethod:@selector(gl_setObject:forKey:)];\n        [class gl_swizzleMethod:@selector(setObject:forKeyedSubscript:) withMethod:@selector(gl_setObject:forKeyedSubscript:)];\n    });\n}\n\n- (void)gl_setObject:(id)anObject forKey:(id&lt;NSCopying&gt;)aKey {\n    if (!aKey) {\n        return;\n    }\n    if (!anObject) {\n        anObject = [NSNull null];\n    }\n    [self gl_setObject:anObject forKey:aKey];\n}\n\n- (void)gl_setObject:(id)obj forKeyedSubscript:(id&lt;NSCopying&gt;)key {\n    if (!key) {\n        return;\n    }\n    if (!obj) {\n        obj = [NSNull null];\n    }\n    [self gl_setObject:obj forKeyedSubscript:key];\n}\n\n@end\n\n@implementation NSNull (NilSafe)\n\n\n+ (void)load {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        [self gl_swizzleMethod:@selector(methodSignatureForSelector:) withMethod:@selector(gl_methodSignatureForSelector:)];\n        [self gl_swizzleMethod:@selector(forwardInvocation:) withMethod:@selector(gl_forwardInvocation:)];\n    });\n}\n\n- (NSMethodSignature *)gl_methodSignatureForSelector:(SEL)aSelector {\n    NSMethodSignature *sig = [self gl_methodSignatureForSelector:aSelector];\n    if (sig) {\n        return sig;\n    }\n    return [NSMethodSignature signatureWithObjCTypes:@encode(void)];\n}\n\n- (void)gl_forwardInvocation:(NSInvocation *)anInvocation {\n    NSUInteger returnLength = [[anInvocation methodSignature] methodReturnLength];\n    if (!returnLength) {\n        // nothing to do\n        return;\n    }\n\n    // set return value to all zero bits\n    char buffer[returnLength];\n    memset(buffer, 0, returnLength);\n\n    [anInvocation setReturnValue:buffer];\n}\n\n@end\n</code></pre>\n\n<p>EDIT 1: Well, at the end, the problem was this nil check of obj </p>\n\n<pre class=\"lang-c prettyprint-override\"><code>if (!key || !obj) {\n    return;\n}\n/// Replaced by\nif (!key) {\n    return;\n}\n\n</code></pre>\n\n<p>I kept the rest of the code, it was producing a crash in case of inserting trying to insert nil value in a NSDictionary.</p>\n"}], "owner": {"reputation": 377, "user_id": 5899647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zv90.jpg?s=128&g=1", "display_name": "Oleg G.", "link": "https://stackoverflow.com/users/5899647/oleg-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 54451332, "answer_count": 1, "score": 0, "last_activity_date": 1549051464, "creation_date": 1548889578, "question_id": 54450921, "link": "https://stackoverflow.com/questions/54450921/odd-animations-with-swipe-to-delete-action-in-uitableview", "title": "Odd animations with swipe to delete action in UITableView", "body": "<p>I am encountering an issue with my UITableView.\nThe animations for the delete swipe gesture does not work properly.\nThe thing is, in the new template project \"Master Detailed\" it works well. But not in the project I am currently working in. </p>\n\n<p>I had an other issue before with the animations that was not working after finishing animate the first time. I fixed it by replacing this in my code.</p>\n\n<pre><code>/// New code\n- (void)gl_setObject:(id)obj forKeyedSubscript:(id&lt;NSCopying&gt;)key {\n    if (!key || !obj) {\n        return;\n    }\n    [self gl_setObject:obj forKeyedSubscript:key];\n}\n\n/// Old code\n- (void)gl_setObject:(id)obj forKeyedSubscript:(id&lt;NSCopying&gt;)key {\n    if (!key) {\n        return;\n    }\n    if (!obj) {\n        obj = [NSNull null];\n    }\n    [self gl_setObject:obj forKeyedSubscript:key];\n}\n</code></pre>\n\n<p>And this is the code of the current TableView that is working in the Xcode base project but not in mine.</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface TempViewController: UIViewController\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<pre><code>#import \"TempViewController.h\"\n#import \"TempTableViewCell.h\"\n\n@interface TempViewController () &lt;UITableViewDelegate, UITableViewDataSource&gt;\n\n@property (weak, nonatomic) IBOutlet UITableView *tableView;\n@property NSMutableArray *objects;\n\n@end\n\n@implementation TempViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // TableView\n    self.tableView.delegate = self;\n    self.tableView.dataSource = self;\n    self.tableView.rowHeight = 80;\n    [self.tableView registerNib:[UINib nibWithNibName:@\"TempTableViewCell\" bundle:nil] forCellReuseIdentifier:@\"TempTableViewCell\"];\n\n    // Add button to add element when deleting too much\n    UIBarButtonItem *addButton = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(insertNewObject:)];\n    self.navigationItem.rightBarButtonItem = addButton;\n\n    // Add some data to make the bug work\n    for (int i = 0; i &lt; 100; i++) {\n        [self insertNewObject:0];\n    }\n}\n\n- (void)insertNewObject:(id)sender {\n    if (!self.objects) {\n        self.objects = [[NSMutableArray alloc] init];\n    }\n    [self.objects insertObject:[NSDate date] atIndex:0];\n    NSIndexPath *indexPath = [NSIndexPath indexPathForRow:0 inSection:0];\n    [self.tableView insertRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];\n}\n\n#pragma mark - Table View\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return 1;\n}\n\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return self.objects.count;\n}\n\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    TempTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"TempTableViewCell\" forIndexPath:indexPath];\n    NSDate *object = self.objects[indexPath.row];\n    cell.tempLabel.text = [object description];\n    return cell;\n}\n\n\n- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {\n    // Return NO if you do not want the specified item to be editable.\n    return YES;\n}\n\n\n- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {\n    if (editingStyle == UITableViewCellEditingStyleDelete) {\n        [self.objects removeObjectAtIndex:indexPath.row];\n        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade];\n    } else if (editingStyle == UITableViewCellEditingStyleInsert) {\n        // Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view.\n    }\n}\n\n@end\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/x0nRD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0nRD.gif\" alt=\"demo of the bug\"></a></p>\n\n<p>So, I am wondering guys if you have any clue about where to look at? Or already experienced this issue before?</p>\n\n<p>Thank you for your future help!!\nHappy building!</p>\n"}, {"tags": ["objective-c", "asynchronous", "nsurlsessiondatatask", "jsonresponse", "no-response"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1548875766, "post_id": 54447919, "comment_id": 95704793, "body": "You cannot <b>return</b> anything from a method which contains an asynchronous task. You have to use a completion block."}, {"owner": {"reputation": 31, "user_id": 7751346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fa87d2634a8f8144180537b89d1667?s=128&d=identicon&r=PG&f=1", "display_name": "itsxqtar", "link": "https://stackoverflow.com/users/7751346/itsxqtar"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1548876569, "post_id": 54447919, "comment_id": 95705184, "body": "@vadian would creating a __block to store the data and returning that work? I&#39;ve attempted that but for some reason it wouldn&#39;t work. Maybe you can explain why?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548877345, "post_id": 54447919, "comment_id": 95705606, "body": "Put a <code>NSLog</code> statement where you try to <code>return</code> the code response. You\u2019ll see it hits that line <i>before</i> your <code>dataTaskWithRequest</code> block is called. That\u2019s because that block is called \u201casynchronously\u201d i.e. the execution of the current thread doesn\u2019t wait for this network request to finish and call that block."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548877580, "post_id": 54447919, "comment_id": 95705704, "body": "The bottom line, itsxqtar, is that you should give up on trying to return the value immediately. You should adopt asynchronous pattern, giving your <code>validateInput</code> method its own block parameter (similar to what <code>dataTaskWithRequest</code> does). This question has been asked and answered many times on Stack Overflow, so I\u2019d suggest you search for that. E.g. <a href=\"https://stackoverflow.com/a/24852091/1271826\">stackoverflow.com/a/24852091/1271826</a>"}, {"owner": {"reputation": 31, "user_id": 7751346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fa87d2634a8f8144180537b89d1667?s=128&d=identicon&r=PG&f=1", "display_name": "itsxqtar", "link": "https://stackoverflow.com/users/7751346/itsxqtar"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548878615, "post_id": 54447919, "comment_id": 95706108, "body": "Thank you for the response. This was very helpful. I apologize for not seeing those other posts. I did some research but I guess not enough to see your response to those questions. @Rob"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548879717, "post_id": 54447919, "comment_id": 95706588, "body": "No worries: It\u2019s a surprisingly hard to find relevant questions although there are hundreds permutations of it out there. The closest I could find used class method instead of instance method, and was returning the <code>NSData</code> instead of the parsed JSON object, but I hope you can see the parallels. This is an extremely common stumbling block when people first encounter asynchronous methods, but searches can be annoying difficult because the details vary from question to question (depending upon which asynchronous API they first stumble across this general class of problem). Don\u2019t feel bad."}, {"owner": {"reputation": 31, "user_id": 7751346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fa87d2634a8f8144180537b89d1667?s=128&d=identicon&r=PG&f=1", "display_name": "itsxqtar", "link": "https://stackoverflow.com/users/7751346/itsxqtar"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548886312, "post_id": 54447919, "comment_id": 95709330, "body": "@Rob Hi Rob, I attempted to follow your suggestion from that post. Would you be able to provide more advice for me?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1548888183, "post_id": 54447919, "comment_id": 95709968, "body": "You have to put any code that needs the <code>CodeResponse</code> inside the block. You\u2019re trying to print it in the line after the block, and as a result, again, it hasn\u2019t been set yet because that\u2019s called asynchronously (i.e. later). See <a href=\"https://gist.github.com/robertmryan/3eb1bf3f484b3d0b865628503ddeb452\" rel=\"nofollow noreferrer\">gist.github.com/robertmryan/3eb1bf3f484b3d0b865628503ddeb452</a>"}], "owner": {"reputation": 31, "user_id": 7751346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fa87d2634a8f8144180537b89d1667?s=128&d=identicon&r=PG&f=1", "display_name": "itsxqtar", "link": "https://stackoverflow.com/users/7751346/itsxqtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "closed_date": 1548878462, "answer_count": 0, "score": 1, "last_activity_date": 1548886238, "creation_date": 1548875568, "last_edit_date": 1548886238, "question_id": 54447919, "link": "https://stackoverflow.com/questions/54447919/nsurlsessiondatatask-returning-nil-value-after-getting-response", "closed_reason": "Duplicate", "title": "NSURLSessionDataTask returning nil value after getting response", "body": "<p>I created this api endpoint that sends back data about a person, and I'm trying to reach that endpoint from my app. I was able to connect to the endpoint but after calling that method it returns nil.</p>\n\n<p>I've attempted to use a block statement to collect that data and returning that. I have also created a model that stores that data when there is a response which you will see below, but since it's an async task it seems like the data that I get back is still nil. I'm seems like I'm not capturing any data.</p>\n\n<pre><code>- (NSString *) verifyCode:(NSString*) code{\n    NSString* ID = self.potentialPerson[@\"ID\"];\n\n    [self validateInput:code :ID];//nil upon return\n    return self-&gt;inputModel.CodeResponse;//returns nil\n}\n\n- (void) validateInput:(NSString *)code :(NSString *) ID {\n    NSString *URL = [[inputModel api] stringByAppendingFormat:@\"action=validate&amp;code=%@&amp;inputID=%@\",\n                          code, ID];\n    NSLog(@\"%@\", URL);\n\n    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];\n    NSURLSession *sesh = [NSURLSession sharedSession];\n    NSURLSessionDataTask *dataTask = [sesh dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n        if([data length] &gt;0 &amp;&amp; error == nil) {\n            NSLog(@\"DATA WAS RECEIVED\");\n\n            NSMutableDictionary *result = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingMutableContainers error:nil];\n\n            self-&gt;inputModel.CodeResponse = [result objectForKey:@\"messages\"];\n            //This outputs to console with the data I want\n            NSLog(@\"message: %@\", self-&gt;inputModel.CodeResponse);\n        }\n        else {\n            NSLog(@\"Data Error = %@\", error);\n        }}];\n    [dataTask resume];//When it gets here the data in CodeResponse is nil\n\n    return;\n}\n</code></pre>\n\n<p><strong>EDIT</strong> changes I've made since above code was posted. I followed Rob's suggestion  and I tried following this <a href=\"https://stackoverflow.com/questions/38691246/how-to-get-nsdictionary-from-nsurlsessiondatatask\">How to get NSDictionary from NSURLSessionDataTask</a></p>\n\n<p>I storage is null when it gets outputted to the console</p>\n\n<pre><code>\n- (NSString *) verifyCode:(NSString*) code{\n\n    NSString* ID = self.potentialPerson[@\"ID\"];\n    NSString *URL = [[inputModel api] stringByAppendingFormat:@\"action=validate&amp;code=%@&amp;inputID=%@\",\n                          code, ID];\n\n    NSURLSessionDataTask *storage = [self validateTypedCode:URL withDictionary: ^(NSDictionary *data) {\n        self.CodeResponse = data;\n        NSLog(@\"message %@\",data);\n    }];\n    NSLog(@\"message %@\",[self.CodeResponse objectForKey:@\"message\"]);\n}\n\n- (NSURLSessionDataTask *) validateInput:(NSString *)URL withDictionary: (void (^)(NSDictionary* data)) completionHandler {\n    NSURLRequest *request = [NSURLRequest  requestWithURL:[NSURL URLWithString:URL]];\n    NSURLSession *session = [NSURLSession sharedSession];\n    NSURLSessionDataTask *task = [session dataTaskWithRequest:request\n                                            completionHandler:\n                                  ^(NSData *data, NSURLResponse *response, NSError *error) {\n                                      NSDictionary *result = [NSJSONSerialization JSONObjectWithData:data\n                                                                                              options:0\n                                                                                                error:NULL];\n                                      if (completionHandler)\n                                          dispatch_async(dispatch_get_main_queue(), ^{\n                                              completionHandler(result);\n                                          });\n                                  }];\n    [task resume];\n    return task;\n}\n\n\n</code></pre>\n"}, {"tags": ["objective-c", "dispatch-async", "dispatch-queue"], "comments": [{"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 1, "creation_date": 1548874825, "post_id": 54447646, "comment_id": 95704352, "body": "A dispatch group is mostly useful when you have a number of things happening at the same time and need to know when all of them are finished.  For a single async request, the normal thing is to just do the work in the completion block."}, {"owner": {"reputation": 363, "user_id": 5884011, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a18cd70b148266417876e7da2f4ea805?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/5884011/anna"}, "reply_to_user": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1548874982, "post_id": 54447646, "comment_id": 95704442, "body": "@PhillipMills I know, but I have a lots of stuff to do after the file is downloaded and I don&#39;t want to put that all in the completion block. I want to wait until this task finished and then continue."}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 1, "creation_date": 1548876051, "post_id": 54447646, "comment_id": 95704944, "body": "If it&#39;s easier to maintain, put it in its own method and call that from the completion block.  There&#39;s really no difference between using the completion block and waiting for completion except waiting blocks a thread, which has no real value and can be a problem."}], "owner": {"reputation": 363, "user_id": 5884011, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a18cd70b148266417876e7da2f4ea805?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/5884011/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548874497, "creation_date": 1548874497, "question_id": 54447646, "link": "https://stackoverflow.com/questions/54447646/how-does-dispatch-queue-and-dispatch-group-work", "title": "How does dispatch queue and dispatch group work?", "body": "<p>I am new to objective-c, currently I am writing code that downloads a file from server and then do some operation to the downloaded file. I am confused about dispatch queue and dispatch group. </p>\n\n<p>So I have a function called dowanloadZip, inside this downloadZip function, I am using another function called startHttp to fire the request, but this function is async, I need to wait until the completion block finishes then I can continue checking if the file is complete, do some stuff to it etc. Basically, I need to wait until the completion block finishes then I can continue to do other stuff. My code looks something like this:</p>\n\n<pre><code>-(void)downloadZip:(NSString *url){\n  ...\n  urlRequest = [reqeustMangaer urlStrig:url]\n  [requestManager startHttp:urlReuqest completionBlock:^(resposne){\n     //check response here\n  }]  \n}\n</code></pre>\n\n<p>Someone told me to use dispatch queue, but some other people said to use dispatch group, and I found some code that actually use both.\nThe code I read was using dispatch global queue first, and then inside the queue it's using a dispatch group enter. So should I create a dispatch queue first, then enter the group inside the completion block? Or just use the dispatch group? (I want it to be on background thread).\nI am also wondering, If I need to call the downloadZip function somewhere else, what should I do? </p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications", "unusernotificationcenter"], "comments": [{"owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "edited": false, "score": 0, "creation_date": 1548871523, "post_id": 54446025, "comment_id": 95702689, "body": "What&#39;s your use case here? I mean what are you trying to do?"}, {"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "reply_to_user": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "edited": false, "score": 0, "creation_date": 1548872034, "post_id": 54446025, "comment_id": 95702932, "body": "delete the notification from the notification center. but it is not there"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548886993, "post_id": 54446025, "comment_id": 95709535, "body": "This kind of sounds like a problem that needs to be solved at the sender, not on the device: either have the sender send a silent notification instead, or get a message to the sender that it shouldn&#39;t send the thing in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 0, "creation_date": 1548873295, "post_id": 54447203, "comment_id": 95703539, "body": "but the notification hasn&#39;t been delivered yet. how is it supposed to get removed?"}, {"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 1, "creation_date": 1548874064, "post_id": 54447203, "comment_id": 95703965, "body": "I really want to thank you for your response. However it doesn&#39;t help. The earliest moment I&#39;m notified about the notification delivery is userNotificationCenter: willPresentNotification: method. However if I call getAllDeliveredNotifications the new one is not there. Do you see the problem? There&#39;s no way to delete the notification at this point because it is ABOUT to be delivered, but hasn&#39;t been delivered yet"}, {"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 0, "creation_date": 1548875298, "post_id": 54447203, "comment_id": 95704585, "body": "it&#39;s weird. the notification gets deleted by removeAllDeliveredNotifications despite the fact it is not returned by getDeliveredNotifications. Seems like these two methods operate over two different sets of notifications"}, {"owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "reply_to_user": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 0, "creation_date": 1548878947, "post_id": 54447203, "comment_id": 95706263, "body": "I see. I can check this on my project later today if you haven&#39;t found an answer. But correct me if I am wrong, what I am thinking you want to do is that when a push notification gets to the iOS Device (notification list) of the user, and your app is active, you&#39;d like to remove such specific push notification from that list/screen of iOS. Correct?"}, {"owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "reply_to_user": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 0, "creation_date": 1548910790, "post_id": 54447203, "comment_id": 95715388, "body": "I guess you have an answer, by Cristik. That&#39;s the most flexible way you could get."}], "tags": [], "owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "is_accepted": false, "score": 1, "last_activity_date": 1548872882, "creation_date": 1548872882, "answer_id": 54447203, "question_id": 54446025, "link": "https://stackoverflow.com/questions/54446025/is-it-possible-to-detect-the-moment-when-a-remote-notification-has-been-added-to/54447203#54447203", "title": "Is it possible to detect the moment when a remote notification has been added to the notification center?", "body": "<p>What you want is this:</p>\n\n<blockquote>\n  <p>delete the notification from the notification center. but it is not\n  there</p>\n</blockquote>\n\n<p>If you're trying to suppress or prevent the push notification from presenting. Then this is not possible, as of iOS 11.0 As to why, Apple didn't mention.</p>\n\n<p>However, if you want to just remove a push, <code>UNUserNotificationCenter</code> has the following methods available for you to use:</p>\n\n<pre><code>// Notification requests that are waiting for their trigger to fire\nopen func getPendingNotificationRequests(completionHandler: @escaping ([UNNotificationRequest]) -&gt; Void)\n\nopen func removePendingNotificationRequests(withIdentifiers identifiers: [String])\n\nopen func removeAllPendingNotificationRequests()\n\n\n// Notifications that have been delivered and remain in Notification Center. Notifications triggered by location cannot be retrieved, but can be removed.\nopen func getDeliveredNotifications(completionHandler: @escaping ([UNNotification]) -&gt; Void)\n\nopen func removeDeliveredNotifications(withIdentifiers identifiers: [String])\n\nopen func removeAllDeliveredNotifications()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 2, "last_activity_date": 1548886676, "creation_date": 1548886676, "answer_id": 54450412, "question_id": 54446025, "link": "https://stackoverflow.com/questions/54446025/is-it-possible-to-detect-the-moment-when-a-remote-notification-has-been-added-to/54450412#54450412", "title": "Is it possible to detect the moment when a remote notification has been added to the notification center?", "body": "<p>You can add a <a href=\"https://developer.apple.com/documentation/usernotificationsui/customizing_the_appearance_of_notifications\" rel=\"nofollow noreferrer\">Notification Content Extension</a>, this extension will be called when push notifications are received, with the goal of allowing the extension to enhance the notification before presenting it to the user (<a href=\"https://developer.apple.com/videos/play/wwdc2016/708/\" rel=\"nofollow noreferrer\">wwdc session on advanced notifications</a>).</p>\n\n<p>This way you have a chance to execute some code when notification arrive. You don't have to actually modify the notification.</p>\n\n<p>Note that the code will execute in the context of the app extension, so you might need some more work if you want to execute something within the app.</p>\n"}], "owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548886676, "creation_date": 1548868507, "question_id": 54446025, "link": "https://stackoverflow.com/questions/54446025/is-it-possible-to-detect-the-moment-when-a-remote-notification-has-been-added-to", "title": "Is it possible to detect the moment when a remote notification has been added to the notification center?", "body": "<p>There are two methods in <code>UNUserNotificationCenterDelegate</code> protocol related to the notification delivery. But both don't seem to satisfy my needs.</p>\n\n<pre><code>-(void)userNotificationCenter:(UNUserNotificationCenter *)center\n  willPresentNotification:(UNNotification *)notification\n    withCompletionHandler:(void (^)(UNNotificationPresentationOptions options))completionHandler\n</code></pre>\n\n<p>is called BEFORE the notification has been delivered. If you ask the notification center to give you all the delivered notifications the new one will be missing.</p>\n\n<pre><code>- (void)userNotificationCenter:(UNUserNotificationCenter *)center\ndidReceiveNotificationResponse:(UNNotificationResponse *)response\n     withCompletionHandler:(void(^)(void))completionHandler\n</code></pre>\n\n<p>is called only if the user provides some response to the notification. There is also good old <code>- (void)application:(UIApplication *)application \ndidReceiveRemoteNotification:(NSDictionary *)userInfo</code> but it is deprecated. </p>\n\n<p>So is it even possible to be notified right after the Notification Center DID add a notification?</p>\n"}, {"tags": ["ios", "objective-c", "alassetslibrary"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548860331, "post_id": 54443103, "comment_id": 95696040, "body": "Any error message in console?"}, {"owner": {"reputation": 1316, "user_id": 2281697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZpFI.jpg?s=128&g=1", "display_name": "Jabson", "link": "https://stackoverflow.com/users/2281697/jabson"}, "edited": false, "score": 0, "creation_date": 1548860638, "post_id": 54443103, "comment_id": 95696239, "body": "Did u check your iOS Deployment target?  writeVideoAtPathToSavedPhotosAlbum:completionBlock: is only avaiable from ios 4.0-9.0  Use PHPhotoLibrary framework instead"}, {"owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1548914025, "post_id": 54443103, "comment_id": 95716468, "body": "Hello jabson I tried to using PHPhotoLibrary library but not generate a thumbnail of the video that&#39;s why I used depicted ALAssetsLibrary method. i deployment target is iOS 10.0. so if you have any idea for generating thumbnails of HTTP URL of video then please help me."}, {"owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1548914100, "post_id": 54443103, "comment_id": 95716498, "body": "Hello Larme,not display error message only give bad access.we are enable zombie object but not display any kind of message."}, {"owner": {"reputation": 1316, "user_id": 2281697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZpFI.jpg?s=128&g=1", "display_name": "Jabson", "link": "https://stackoverflow.com/users/2281697/jabson"}, "edited": false, "score": 0, "creation_date": 1548915037, "post_id": 54443103, "comment_id": 95716841, "body": "I have update my answer, you can use AVAssetImageGenerator class to generate thumbnail from video. there is no way to generate thumbnail from http url video should be in iPhone storage"}, {"owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1548946811, "post_id": 54443103, "comment_id": 95734709, "body": "Hello jabson  your code is working but how to save the video in particular album?.we created album &quot;videosAPP&quot; but video does not save in album."}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1549002244, "post_id": 54443831, "comment_id": 95755373, "body": "Hello jabson your code is working but how to save the video in particular album?.we created album &quot;videosAPP&quot; but video does not save in album."}, {"owner": {"reputation": 1316, "user_id": 2281697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZpFI.jpg?s=128&g=1", "display_name": "Jabson", "link": "https://stackoverflow.com/users/2281697/jabson"}, "reply_to_user": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1549015197, "post_id": 54443831, "comment_id": 95761097, "body": "Hi, This is another question, next time try to create another one. please see first answer of the question: <a href=\"https://stackoverflow.com/questions/30249135/save-a-photo-to-custom-album-in-ios-8\" title=\"save a photo to custom album in ios 8\">stackoverflow.com/questions/30249135/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1316, "user_id": 2281697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZpFI.jpg?s=128&g=1", "display_name": "Jabson", "link": "https://stackoverflow.com/users/2281697/jabson"}, "is_accepted": true, "score": 1, "last_activity_date": 1548914896, "last_edit_date": 1548914896, "creation_date": 1548861455, "answer_id": 54443831, "question_id": 54443103, "link": "https://stackoverflow.com/questions/54443103/app-crash-when-writevideoatpathtosavedphotosalbum-using-alassetslibrary/54443831#54443831", "title": "App crash: when writeVideoAtPathToSavedPhotosAlbum using ALAssetsLibrary", "body": "<p>ALAssetsLibrary library method writeVideoAtPathToSavedPhotosAlbum:completionBlock: is deprecated, you can use PHPhotoLibrary instead.</p>\n\n<p>try this</p>\n\n<pre><code>[[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n    [PHAssetChangeRequest creationRequestForAssetFromVideoAtFileURL: yourVideoURlHere];\n} completionHandler:^(BOOL success, NSError *error) {\n    if (success) {\n        //Do Something   \n    }\n}];\n</code></pre>\n\n<p>Also check if you have Photo Library usage description in info plist with following key </p>\n\n<pre><code>NSPhotoLibraryUsageDescription\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>For fetching thumbnail from video you can use AVAssetImageGenerator class from AVFoundation framework</p>\n\n<pre><code>- (UIImage *) thumbnailFromVideoAtURL:(NSURL *) contentURL {\n    AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:contentURL options:nil];\n    AVAssetImageGenerator *generator = [[AVAssetImageGenerator alloc] initWithAsset:asset];\n    generator.appliesPreferredTrackTransform = YES;\n    NSError *err = NULL;\n    CMTime time = CMTimeMake(1, 60);\n    CGImageRef imgRef = [generator copyCGImageAtTime:time actualTime:NULL error:&amp;err];\n    UIImage *thumbnail = [[UIImage alloc] initWithCGImage:imgRef];\n    CGImageRelease(imgRef);\n\n    return thumbnail;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 1815840, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/524dfca557dfb5142527ddd17b9c8d4b?s=128&d=identicon&r=PG", "display_name": "birdman", "link": "https://stackoverflow.com/users/1815840/birdman"}, "is_accepted": false, "score": 0, "last_activity_date": 1558371890, "creation_date": 1558371890, "answer_id": 56225355, "question_id": 54443103, "link": "https://stackoverflow.com/questions/54443103/app-crash-when-writevideoatpathtosavedphotosalbum-using-alassetslibrary/56225355#56225355", "title": "App crash: when writeVideoAtPathToSavedPhotosAlbum using ALAssetsLibrary", "body": "<p>Make sure you have permission to save to the photo gallery.</p>\n\n<p>Import the Photos class:</p>\n\n<pre><code>#import &lt;Photos/Photos.h&gt;\n</code></pre>\n\n<p>Then check for Photo Library Authorization</p>\n\n<pre><code>PHAuthorizationStatus status = [PHPhotoLibrary authorizationStatus];\n\nif (status == PHAuthorizationStatusAuthorized) {\n    //OK to save your video\n    [self ContinueDownload];\n}\nelse if (status == PHAuthorizationStatusDenied) {\n    // Access has been denied.\n    [self ShowAlert];\n}\nelse if (status == PHAuthorizationStatusNotDetermined) {\n\n    // Access has not been determined.\n    [PHPhotoLibrary requestAuthorization:^(PHAuthorizationStatus status) {\n\n        if (status == PHAuthorizationStatusAuthorized) {\n             //OK to save your video\n            [self ContinueDownload];\n        }\n        else {\n            // Access has been denied.\n            [self ShowAlert];\n        }\n    }];\n}\nelse if (status == PHAuthorizationStatusRestricted) {\n    // Restricted access\n}\n\n//Show an alert if access is denied\n-(void)ShowAlert {\n    UIAlertController * alert = [UIAlertController\n                                 alertControllerWithTitle:@\"Gallery Access denied\"\n                                 message:@\"You can grant access in\\nSettings/Privacy/Photos\\nif you change your mind.\"\n                                 preferredStyle:UIAlertControllerStyleAlert];\n\n\n\n    UIAlertAction* OKButton = [UIAlertAction\n                               actionWithTitle:@\"OK\"\n                               style:UIAlertActionStyleDefault\n                               handler:^(UIAlertAction * action) {\n                                   //[self dismissViewControllerAnimated:YES completion:nil];\n                               }];\n\n    [alert addAction:OKButton];\n\n    [self presentViewController:alert animated:YES completion:nil];\n\n}\n</code></pre>\n"}], "owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 54443831, "answer_count": 2, "score": 0, "last_activity_date": 1558371890, "creation_date": 1548859213, "last_edit_date": 1548859246, "question_id": 54443103, "link": "https://stackoverflow.com/questions/54443103/app-crash-when-writevideoatpathtosavedphotosalbum-using-alassetslibrary", "title": "App crash: when writeVideoAtPathToSavedPhotosAlbum using ALAssetsLibrary", "body": "<p>We are making a chat app and for video thumbnail we use the following code. But it crashes in random cases.</p>\n\n<pre><code>NSArray *arrjid = [jid componentsSeparatedByString:@\"@\"];\nNSDateFormatter *dateFormatter=[[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"yyyyMMddHHmmss\"];\nNSString *strdate = [dateFormatter stringFromDate:[NSDate date]];\nNSString *strname = [NSString stringWithFormat:@\"%@_%@_file.mov\",arrjid[0],strdate];\nNSString *videoPath = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:strname];\n[videoData writeToFile:videoPath atomically:YES];\n\nif([[NSFileManager defaultManager] fileExistsAtPath:videoPath])\n{\n    ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];\n    [library writeVideoAtPathToSavedPhotosAlbum:[NSURL fileURLWithPath:videoPath] completionBlock:^(NSURL *assetURL, NSError *error) {\n    }];\n}\n</code></pre>\n\n<p>Every time it crashes on the <code>writeVideoAtPathToSavedPhotosAlbum</code> line and it gives only \"bad access error\".</p>\n\n<p>Does anyone have an idea related to this?</p>\n"}, {"tags": ["objective-c", "iphone", "xcode", "iphone-x", "xcode10.1"], "comments": [{"owner": {"reputation": 1973, "user_id": 502958, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6209aa0c26365547453ac9b950c99a1d?s=128&d=identicon&r=PG", "display_name": "justicepenny", "link": "https://stackoverflow.com/users/502958/justicepenny"}, "edited": false, "score": 0, "creation_date": 1550836761, "post_id": 54442737, "comment_id": 96427879, "body": "i think your question has answer here <a href=\"https://stackoverflow.com/questions/24318791/avaudiosession-swift\" title=\"avaudiosession swift\">stackoverflow.com/questions/24318791/avaudiosession-swift</a>"}, {"owner": {"reputation": 4432, "user_id": 2173428, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87Fvc.png?s=128&g=1", "display_name": "iPhoneProcessor", "link": "https://stackoverflow.com/users/2173428/iphoneprocessor"}, "reply_to_user": {"reputation": 1973, "user_id": 502958, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6209aa0c26365547453ac9b950c99a1d?s=128&d=identicon&r=PG", "display_name": "justicepenny", "link": "https://stackoverflow.com/users/502958/justicepenny"}, "edited": false, "score": 0, "creation_date": 1552314641, "post_id": 54442737, "comment_id": 96951028, "body": "@justicepenny in my case not using requestRecordPermission code...strange"}], "owner": {"reputation": 4432, "user_id": 2173428, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87Fvc.png?s=128&g=1", "display_name": "iPhoneProcessor", "link": "https://stackoverflow.com/users/2173428/iphoneprocessor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548858533, "creation_date": 1548858152, "last_edit_date": 1548858533, "question_id": 54442737, "link": "https://stackoverflow.com/questions/54442737/xcode-not-showing-microphone-access-alert-for-iphonex-simulator", "title": "Xcode not showing microphone access alert for iphonex simulator", "body": "<p>In Xcode, Before every time I got alert to access microphone.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MREB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MREB8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Someone suggested below terminal command to avoid that</p>\n\n<pre><code>tccutil reset Microphone\n</code></pre>\n\n<p>After execution of this command, microphone usage alert not coming\u2026so in iPhoneX simulator every time crashing in random place.</p>\n\n<p>How to get above microphone usage alert every time like before? If this alert come then not crash\u2026</p>\n\n<p>In system settings now Xcode not visible under microphone \n<a href=\"https://i.stack.imgur.com/ALOLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALOLX.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to get microphone usage alert every time like before ? For iphone5 simulator this alert coming sometime..if alert come then no crash..if not come then crash in random place...now in same xcode, microphone alert not coming for iphonex simulator....how to get it everytime ?</p>\n"}, {"tags": ["c#", "objective-c", "methods", "objective-c++", "method-call"], "comments": [{"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1554971682, "post_id": 54441889, "comment_id": 97947833, "body": "you misspelled &quot;client&quot; &quot;clinet&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 8992404, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cc359b244ed2ab35dec46bd80adf38e8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeavie", "link": "https://stackoverflow.com/users/8992404/jeavie"}, "edited": false, "score": 0, "creation_date": 1548859361, "post_id": 54442832, "comment_id": 95695349, "body": "When i change &quot;+&quot; to &quot;-&quot; in .h file, i get another error (seems cause of missing &quot;out&quot; attr analogue in obj-c): Use of undeclared identifier &#39;_clinetSecret&#39;; did you mean &#39;_clientSecret&#39;? Well, seems strange"}], "tags": [], "owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "is_accepted": false, "score": 0, "last_activity_date": 1548858438, "creation_date": 1548858438, "answer_id": 54442832, "question_id": 54441889, "link": "https://stackoverflow.com/questions/54441889/objective-c-c-calling-void-method-while-init/54442832#54442832", "title": "Objective-c (c#): calling (void) method while -init", "body": "<p><code>self</code> in Objective-C is only implicit for accessing instance variables (ivars), not for method calls. So you always need to use the following syntax:</p>\n\n<pre><code>[self getConfigInfoWithConfigUrl: _configUrl];\n</code></pre>\n\n<p>Note that the method name has a typo in its declaration in the .h file.</p>\n\n<p>The fact that you're doing this from an <code>init\u2026</code> vs any other method makes no difference.</p>\n"}, {"tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 1, "last_activity_date": 1554973517, "last_edit_date": 1554973517, "creation_date": 1554971914, "answer_id": 55628147, "question_id": 54441889, "link": "https://stackoverflow.com/questions/54441889/objective-c-c-calling-void-method-while-init/55628147#55628147", "title": "Objective-c (c#): calling (void) method while -init", "body": "<p>You didn't show your code for your Objective-C method <code>getConfigInfoWithConfigUrl:AndServiceUrl:AndClientName:AndClientSecret:AndDirections:</code>. Since your C# method <code>GetConfigInfo</code> was a static method, you probably want to make your Objective-C method <code>getConfigInfoWithConfigUrl:AndServiceUrl:AndClientName:AndClientSecret:AndDirections:</code> a class method, declared with a <code>+</code>: <code>+(void) getConfigInfoWithConfigUrl: ...</code></p>\n\n<p>Class methods will need to be called on a class object, not on an ordinary instance: <code>[Adapter getConfigInfoWithConfigUrl: ...]</code></p>\n\n<p><code>out</code> and <code>ref</code> parameters in C# denote that the parameter is passed by reference. In C, we usually accomplish the equivalent thing by passing a pointer to the variable.</p>\n\n<p>So it should be declared something like this:</p>\n\n<pre><code>+ (void)getConfigInfoWithConfigUrl:(NSString *)_configUrl\n                     AndServiceUrl:(NSString **)_servireUrl\n                     AndClientName:(NSString **)_clientName\n                   AndClientSecret:(NSString **)_clientSecret\n                     AndDirections:(NSArray**)directions;\n</code></pre>\n\n<p>And inside the method it will assign to the variables like this:</p>\n\n<pre><code>*serviceUrl = ...\n*clientName = ...\n*clientSecret = ...\n*directions = ...\n</code></pre>\n\n<p>And you call it something like this:</p>\n\n<pre><code>[Adapter getConfigInfoWithConfigUrl:_configUrl \n                      AndServiceUrl:&amp;_servireUrl\n                      AndClientName:&amp;_clientName \n                    AndClientSecret:&amp;_clientSecret\n                      AndDirections:&amp;directions];\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 8992404, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cc359b244ed2ab35dec46bd80adf38e8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeavie", "link": "https://stackoverflow.com/users/8992404/jeavie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554973517, "creation_date": 1548855526, "last_edit_date": 1548860136, "question_id": 54441889, "link": "https://stackoverflow.com/questions/54441889/objective-c-c-calling-void-method-while-init", "title": "Objective-c (c#): calling (void) method while -init", "body": "<p>I'm trying to rewrite C# code to equivalent objective-c code and get some kind of trouble with called void function inside of -init method.</p>\n\n<p>There are two constructors in C# code, one of them calls void method with different params. I've no idea how to deal with it in objective-c (feels like a novice). I will gladly accept any advice!</p>\n\n<p><strong>C# class</strong>:</p>\n\n<pre><code>namespace Translation\n{\n    public class Adapter\n    {\n        private readonly int dirId;\n        private readonly string serviceUrl;\n        private readonly string clientName;\n        private readonly string clientSecret;\n\n        private static Ticket _ticket = null;\n        private static object _ticketSync = new object();\n\n        public Adapter(int dirId, string configUrl)\n        {\n            this.dirId = dirId;    \n            string[] directions;\n\n            //method i'm trying to call\n            GetConfigInfo(configUrl, out serviceUrl, out clientName, out clientSecret, out directions); \n        }\n\n        public Adapter(int dirId, string serviceUrl, string clientName, string clientSecret)\n        {\n            this.dirId = dirId;\n            this.serviceUrl = serviceUrl;\n            this.clientName = clientName;\n            this.clientSecret = clientSecret;\n        }\n\n        public static void GetConfigInfo(string configUrl, \n            out string serviceUrl, out string clientName, out string clientSecret, out string[] directions)\n        {\n            var configXml = new XmlDocument();\n            using (var client = new WebClient())\n            {\n                client.Credentials = new NetworkCredential(\"tests\", \"test\");\n                var xml = client.DownloadString(configUrl);\n\n                configXml.LoadXml(xml);\n            }\n\n            serviceUrl = configXml.DocumentElement.SelectSingleNode(\"Url\").InnerText.Trim();\n            clientName = configXml.DocumentElement.SelectSingleNode(\"Client\").InnerText.Trim();\n            clientSecret = configXml.DocumentElement.SelectSingleNode(\"Secret\").InnerText.Trim();\n            directions = configXml.DocumentElement.SelectSingleNode(\"Directions\").InnerText.Trim().\n                Split(new char[] { ',' }, StringSplitOptions.RemoveEmptyEntries);\n        }\n\n        public static KeyValuePair&lt;string, string&gt;[] ParseTopicsInfo(string xml)\n        {\n            var topicsXml = new XmlDocument();\n            topicsXml.LoadXml(xml);\n\n            var result = topicsXml.SelectNodes(\"templates/template\").OfType&lt;XmlNode&gt;().\n                Select(node =&gt;\n                {\n                    var topicId = node.SelectSingleNode(\"id\").InnerText;\n                    var topicName = node.SelectSingleNode(\"name\").InnerText;\n\n                    return new KeyValuePair&lt;string, string&gt;(topicId, topicName);\n                }).ToArray();\n\n            return result;\n        }\n\n        private Ticket CreateTicket(ServiceSoap serviceSoap)\n        {\n            if (_ticket == null || _ticket.UtcExpiredAt &lt; DateTime.UtcNow.AddSeconds(30))\n                lock (_ticketSync)\n                    if (_ticket == null || _ticket.UtcExpiredAt &lt; DateTime.UtcNow.AddSeconds(30))\n                        _ticket = serviceSoap.CreateTicket(clientName, clientSecret);\n\n            return _ticket;\n        }\n\n        public void Translate(IRanges inRanges, IRanges outRanges)\n        {\n            string text = inRanges.Text;\n            outRanges.OriginText = text;\n\n            bool showVariants = inRanges.Properties.GetValue(RangePropertyName.LONG_VARIANTS) != null;\n            bool translitUnknown = inRanges.Properties.GetValue(RangePropertyName.TRANSLIT_UNKNOWN) != null;\n            var topicId = (string)inRanges.Properties.GetValue(RangePropertyName.PROFILE);\n\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                outRanges.Text = soap.TranslateText(ticket.Token,\n                    dirId.ToPrefix(), topicId, text, showVariants, translitUnknown);\n            }\n        }\n\n        public FindSamplesResult FindSamples(string topic, string text, int page, int pageSize, string contains, int flags)\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.FindSamples(ticket.Token,\n                    dirId.ToPrefix(), topic, text, page, pageSize, contains, flags, System.Threading.Thread.CurrentThread.CurrentUICulture.TwoLetterISOLanguageName);\n            }\n        }\n        public KeyValuePairSOfStringInt32[] GetSampleStats(string text)\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.GetSampleStats(ticket.Token,\n                    dirId.ToPrefix(), text);\n            }\n        }\n        public string GetTranslateSiteUrl(string url, string topic)\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.GetTranslateSiteUrl(ticket.Token,\n                    dirId.ToPrefix(), topic, url, System.Threading.Thread.CurrentThread.CurrentUICulture.TwoLetterISOLanguageName);\n            }\n        }\n        public string GetDirections()\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.GetDirectionsFor(ticket.Token, \"text\");\n            }\n        }\n\n        public string DetectLanguage(string text)\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.AutoDetectLang(ticket.Token, text);\n            }\n        }\n        public GetEdInfoOrTranslateTextResult GetEdInfoOrTranslateText(string topic, string text)\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return soap.GetEdInfoOrTranslateText(ticket.Token,\n                    dirId.ToPrefix(), topic, text, System.Threading.Thread.CurrentThread.CurrentUICulture.TwoLetterISOLanguageName);\n            }\n        }\n\n        public KeyValuePair&lt;string, string&gt;[] GetTopics()\n        {\n            using (var soap = new ServiceSoap())\n            {\n                soap.Url = serviceUrl;\n                var ticket = CreateTicket(soap);\n                return ParseTopicsInfo(soap.GetTopics(ticket.Token, System.Threading.Thread.CurrentThread.CurrentUICulture.TwoLetterISOLanguageName));\n            }\n        }\n\n        #region Not implemented\n        public void Initialize(string dirsPath, string k8Path, string mainClsid, int mainDirId, string mainPrefix, Data.IDictionaries dicts, object lms)\n        {\n            throw new NotImplementedException();\n        }\n\n        public string TranslateWord(string text, object flags)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void Parse(IRanges inRanges, IRanges outRanges)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void ParseToRangesMorphologizator(IRanges inRanges, IRanges outRanges)\n        {\n            throw new NotImplementedException();\n        }\n\n        public void ParseToRangesMorphologizatorAfterHR(IRanges inRanges, IRanges outRanges)\n        {\n            throw new NotImplementedException();\n        } \n        #endregion\n\n        [WebServiceBindingAttribute(Name = \"test1\", Namespace = \"http://api.test.test/\")]\n        public class ServiceSoap : SoapHttpClientProtocol\n        {\n            public new string Url\n            {\n                get\n                {\n                    return base.Url;\n                }\n                set\n                {\n                    base.Url = value;\n                    base.UseDefaultCredentials = IsLocalFileSystemWebService(value);\n                }\n            }\n\n            [SoapDocumentMethodAttribute(\"http://api.test.test/CreateTicket\")]\n            public Ticket CreateTicket(string ClientName, string ClientSecret)\n            {\n                var results = this.Invoke(\"CreateTicket\", new object[]\n                {\n                    ClientName,\n                    ClientSecret\n                });\n\n                return (Ticket)results[0];\n            }\n\n            [SoapDocumentMethodAttribute(\"http://api.test.test/GetDirectionsFor\")]\n            public string GetDirectionsFor(string Token, string For)\n            {\n                var results = this.Invoke(\"GetDirectionsFor\", new object[] \n                {\n                    Token,\n                    For\n                });\n\n                return (string)results[0];\n            }\n            [SoapDocumentMethodAttribute(\"http://api.test.test/GetTopics\")]\n            public string GetTopics(string Token, string Lang)\n            {\n                var results = this.Invoke(\"GetTopics\", new object[]\n                {\n                    Token,\n                    Lang\n                });\n\n                return (string)results[0];\n            }\n\n            [SoapDocumentMethodAttribute(\"http://api.test.test/TranslateText\")]\n            public string TranslateText(string Token, string DirCode, string TplId, string Text, bool ShowVariants, bool TranslitUnknown)\n            {\n                var results = this.Invoke(\"TranslateText\", new object[]\n                {\n                    Token,\n                    DirCode,\n                    TplId,\n                    Text,\n                    ShowVariants,\n                    TranslitUnknown\n                });\n\n                return (string)results[0];\n            }\n\n            [SoapDocumentMethodAttribute(\"http://api.test.test/GetEdInfoOrTranslateText\")]\n            public GetEdInfoOrTranslateTextResult GetEdInfoOrTranslateText(string Token, string DirCode, string TplId, string Text, string Lang)\n            {\n                var results = this.Invoke(\"GetEdInfoOrTranslateText\", new object[]\n                {\n                    Token,\n                    DirCode,\n                    TplId,\n                    Text,\n                    Lang\n                });\n\n                return (GetEdInfoOrTranslateTextResult)results[0];\n            }\n\n            [SoapDocumentMethodAttribute(\"http://api.test.test/AutoDetectLang\")]\n            public string AutoDetectLang(string Token, string Text)\n            {\n                var results = this.Invoke(\"AutoDetectLang\", new object[]\n                {\n                    Token,                    \n                    Text           \n                });\n\n                return (string)results[0];\n            }\n\n\n            [System.Web.Services.Protocols.SoapDocumentMethodAttribute(\"http://api.test.test/FindSamples\", RequestNamespace = \"http://api.test.test/\", ResponseNamespace = \"http://api.test.test/\", Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]\n            public FindSamplesResult FindSamples(string Token, string DirCode, string Topic, string Text, int Page, int PageSize, string Contains, int Flags, string Lang)\n            {\n                object[] results = this.Invoke(\"FindSamples\", new object[] {\n                        Token,\n                        DirCode,\n                        Topic,\n                        Text,\n                        Page,\n                        PageSize,\n                        Contains,\n                        Flags,\n                        Lang});\n                return ((FindSamplesResult)(results[0]));\n            }\n            [System.Web.Services.Protocols.SoapDocumentMethodAttribute(\"http://api.test.test/GetSampleStats\", RequestNamespace = \"http://api.test.test/\", ResponseNamespace = \"http://api.test.test/\", Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]\n            public KeyValuePairSOfStringInt32[] GetSampleStats(string Token, string DirCode, string Text)\n            {\n                object[] results = this.Invoke(\"GetSampleStats\", new object[] {\n                        Token,\n                        DirCode,\n                        Text\n                });\n                return ((KeyValuePairSOfStringInt32[])(results[0]));\n            }\n            [System.Web.Services.Protocols.SoapDocumentMethodAttribute(\"http://api.test.test/GetTranslateSiteUrl\", RequestNamespace = \"http://api.test.test/\", ResponseNamespace = \"http://api.test.test/\", Use = System.Web.Services.Description.SoapBindingUse.Literal, ParameterStyle = System.Web.Services.Protocols.SoapParameterStyle.Wrapped)]\n            public string GetTranslateSiteUrl(string Token, string DirCode, string TopicId, string URL, string Lang)\n            {\n                object[] results = this.Invoke(\"GetTranslateSiteUrl\", new object[] {\n                        Token,\n                        DirCode,\n                        TopicId,\n                        URL,\n                        Lang\n                });\n                return (string)results[0];\n            }\n            private static bool IsLocalFileSystemWebService(string url)\n            {\n                if (string.IsNullOrEmpty(url))\n                    return false;\n\n                var wsUri = new Uri(url);\n                if (wsUri.Port &gt;= 1024 &amp;&amp; string.Equals(wsUri.Host, \"localhost\", StringComparison.OrdinalIgnoreCase))\n                    return true;\n\n                return false;\n            }\n        }\n\n        [XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public class Ticket\n        {\n            public string Token;\n            public DateTime UtcExpiredAt;\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class SampleRun\n        {\n\n            private int positionField;\n\n            private int lengthField;\n\n            /// &lt;remarks/&gt;\n            public int Position\n            {\n                get\n                {\n                    return this.positionField;\n                }\n                set\n                {\n                    this.positionField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public int Length\n            {\n                get\n                {\n                    return this.lengthField;\n                }\n                set\n                {\n                    this.lengthField = value;\n                }\n            }\n        }\n\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class Sample\n        {\n            private string corpusIdField;\n\n            private string sourceField;\n\n            private string translationField;\n\n            private SampleRun[] sourceRunsField;\n\n            private SampleRun[] translationRunsField;\n\n            /// &lt;remarks/&gt;\n            public string CorpusId\n            {\n                get\n                {\n                    return this.corpusIdField;\n                }\n                set\n                {\n                    this.corpusIdField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public string Source\n            {\n                get\n                {\n                    return this.sourceField;\n                }\n                set\n                {\n                    this.sourceField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public string Translation\n            {\n                get\n                {\n                    return this.translationField;\n                }\n                set\n                {\n                    this.translationField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public SampleRun[] SourceRuns\n            {\n                get\n                {\n                    return this.sourceRunsField;\n                }\n                set\n                {\n                    this.sourceRunsField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public SampleRun[] TranslationRuns\n            {\n                get\n                {\n                    return this.translationRunsField;\n                }\n                set\n                {\n                    this.translationRunsField = value;\n                }\n            }\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class KeyValuePairSOfStringInt32\n        {\n\n            private string keyField;\n\n            private int valueField;\n\n            /// &lt;remarks/&gt;\n            public string Key\n            {\n                get\n                {\n                    return this.keyField;\n                }\n                set\n                {\n                    this.keyField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public int Value\n            {\n                get\n                {\n                    return this.valueField;\n                }\n                set\n                {\n                    this.valueField = value;\n                }\n            }\n        }\n\n        #region Samples\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class GetSampleStatsResult\n        {\n            private KeyValuePairSOfStringInt32[] translationsField;\n            public KeyValuePairSOfStringInt32[] Translations\n            {\n                get\n                {\n                    return this.translationsField;\n                }\n                set\n                {\n                    this.translationsField = value;\n                }\n            }\n        }\n\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class FindSamplesResult\n        {\n\n            private int totalsField;\n\n            private Sample[] samplesField;\n\n            private KeyValuePairSOfStringInt32[] corpusesField;\n\n            /// &lt;remarks/&gt;\n            public int Totals\n            {\n                get\n                {\n                    return this.totalsField;\n                }\n                set\n                {\n                    this.totalsField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public Sample[] Samples\n            {\n                get\n                {\n                    return this.samplesField;\n                }\n                set\n                {\n                    this.samplesField = value;\n                }\n            }\n\n            /// &lt;remarks/&gt;\n            public KeyValuePairSOfStringInt32[] Corpuses\n            {\n                get\n                {\n                    return this.corpusesField;\n                }\n                set\n                {\n                    this.corpusesField = value;\n                }\n            }\n        }\n        #endregion\n\n        [System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://api.test.test/\")]\n        public partial class GetEdInfoOrTranslateTextResult\n        {\n            public string ResultType { get; set; }\n            public string ResultText { get; set; }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Objective-c .h:</strong></p>\n\n<pre><code>@interface Ticket : NSObject\n{\n    NSString* token;\n    NSDate* dateTimeUtcExpiredAt;\n}\n\n@end\n\n@interface SampleRun : NSObject\n\n@property int* position;\n@property int* length;\n\n@end\n\n@interface Sample : NSObject\n\n@property NSString* corpusId;\n@property NSString* source;\n@property NSString* translation;\n@property SampleRun* SourceRuns;\n@property SampleRun* TranslationRuns;\n\n@end\n\n@interface KeyValuePairsOfStringInt32\n\n@property int* totals;\n@property Sample* samples;\n@property KeyValuePairsOfStringInt32* corpuses;\n\n@end\n\n@interface GetEdInfoOrTranslateTextResult\n\n@property NSString* resultType;\n@property NSString* resultText;\n\n@end\n\n@interface Adapter : NSObject\n{\n    Ticket* _ticket;\n    NSObject* _ticketSync;\n}\n\n@property int* dirId;\n@property NSString* serviceUrl;\n@property NSString* clientName;\n@property NSString* clientSecret;\n\n-(void)getConfigInfoWithConfigUrl: (NSString*) _configUrl AndServiceUrl: (NSString*) _servireUrl AndClientName: (NSString*)  _clientName AndClientSecret: (NSString*) _clinetSecret AndDirections: (NSArray*) directions;\n\n\n@end\n</code></pre>\n\n<p><strong>Objective-c .mm:</strong></p>\n\n<pre><code>@implementation Adapter\n\n- (id) initWithDirId: (int*) _dirId AndConfigUrl: (NSString*) _configUrl;\n{\n    self = [super init];\n    if (self) {\n        self.dirId = _dirId;\n        NSString* directions;\n        //here is calling (there are more params ofc)\n        // but i can't figure it out how to do it in the right way\n\n    [self getConfigInfoWithConfigUrl: _configUrl \nAndServiceUrl: _servireUrl AndClientName: _clientName \nAndClientSecret: _clinetSecret AndDirections: directions];\n\n    }\n    return self;\n}\n\n- (id) initBase:(int*) _dirId AndServiceUrl: (NSString*) _serviceUrl AndClientName: (NSString*) _clientName AndClientSecret: (NSString*) _clientSecret;\n{\n    self = [super init];\n    if (self) {\n        self.dirId = _dirId;\n        self.serviceUrl = _serviceUrl;\n        self.clientName = _clientName;\n        self.clientSecret = _clientSecret;\n    }\n    return self;\n}\n\n@end\n</code></pre>\n\n<p>When I change '-(void)' to '+(void)' in .h file (\"+\" is like static in c#, so I've tried it first), I get:</p>\n\n<pre><code>No visible @interface for 'OnlineAdapter' declares the selector \n'getConfigInfoWithConfigUrl:AndServiceUrl:AndClientName:AndClientSecret:AndDirections:'\n</code></pre>\n\n<p>When I call with '-(void)', I get errors: </p>\n\n<pre><code>    Use of undeclared identifier '_clinetSecret';\ndid you mean '_clientSecret'? //etc. for other args\n</code></pre>\n\n<p>I guess it happens because of 'out' attr in C# code, but I'm not sure if there an analogue in obj-c.</p>\n\n<p>Objective-c crashes my brain. Any help would be appreciated!</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "coreml"], "comments": [{"owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "edited": false, "score": 0, "creation_date": 1548851110, "post_id": 54440273, "comment_id": 95690276, "body": "<code>source file is not valid UTF-8</code> sounds like an encoding issue which is not necessarily related to the model itself but to the file format. Did you copy the model from another platform?"}], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548928221, "post_id": 54441347, "comment_id": 95723452, "body": "Thanks for pointing that out. After changing SSD_model import to .h, autogenerating it via xcode is still failing with error message:  <code>clang: error: linker command failed with exit code 1: Undefined symbols for architecture arm64:   &quot;_OBJC_CLASS_$_MLModel&quot;, referenced from:       objc-class-ref in SSD_model.o</code> Any thoughts on that?"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "reply_to_user": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548929434, "post_id": 54441347, "comment_id": 95724212, "body": "Did you link <code>CoreML</code> framework in your target settings?"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "reply_to_user": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 1, "creation_date": 1548929820, "post_id": 54441347, "comment_id": 95724443, "body": "Tip: You can use <code>@import CoreML;</code> instead of <code>#import &lt;CoreML&#47;CoreML.h&gt;</code> and if the setting for framework autolinking (CLANG_MODULES_AUTOLINK) is enabled (which <i>is</i> by default) the framework will be linked automatically for you."}, {"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548931741, "post_id": 54441347, "comment_id": 95725607, "body": "Did all you said and it worked!:) The last step of changing <code>#import &lt;CoreML&#47;CoreML.h&gt;</code> to <code>@import CoreML;</code> , combined with changing settings to &#39;enable modules (under Apple Clang)&#39; to Yes was necessary as well interestingly enough."}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "reply_to_user": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548933228, "post_id": 54441347, "comment_id": 95726433, "body": "Glad that helped you :)"}], "tags": [], "owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "is_accepted": true, "score": 2, "last_activity_date": 1548855517, "last_edit_date": 1548855517, "creation_date": 1548853640, "answer_id": 54441347, "question_id": 54440273, "link": "https://stackoverflow.com/questions/54440273/error-with-coreml-source-file-is-not-valid-when-importing-mymodel-mlmodel/54441347#54441347", "title": "error with CoreML: source file is not valid , when importing mymodel.mlmodel", "body": "<p>You are getting this error is because of this => <code>#import \"SSD_model.mlmodel\"</code> </p>\n\n<p>Essentially the compiler tries to import some source code and instead finds something that is not. </p>\n\n<p>You'll need to compile this model first in order to use it. You can compile it either via <a href=\"https://developer.apple.com/documentation/coreml/integrating_a_core_ml_model_into_your_app#3007838\" rel=\"nofollow noreferrer\">Xcode</a> (it will autogenerate an interface for you) or by using <a href=\"https://developer.apple.com/documentation/coreml/mlmodel/2921516-compilemodel#\" rel=\"nofollow noreferrer\">APIs</a> that compile the model in runtime (so you can update your models without needing to release a new version of the app).</p>\n\n<hr>\n\n<p>Note: In the example you have linked, the author imports <code>SomeModel.h</code> (which I presume is the autogen header for ObjC) and <strong><em>not</em></strong> <code>SomeModel.mlmodel</code>. So I guess this was what you probably intended to do as well.</p>\n"}], "owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 54441347, "answer_count": 1, "score": 1, "last_activity_date": 1548855517, "creation_date": 1548850019, "question_id": 54440273, "link": "https://stackoverflow.com/questions/54440273/error-with-coreml-source-file-is-not-valid-when-importing-mymodel-mlmodel", "title": "error with CoreML: source file is not valid , when importing mymodel.mlmodel", "body": "<p>I'm getting a problem when building my ios app with CoreML model in it. \nI've used <a href=\"https://github.com/freedomtan/SimpleInceptionV3-ObjC/tree/continuous-mobilenet/SimpleInceptionV3-ObjC\" rel=\"nofollow noreferrer\">this</a> example code for implementing coreML in my project. \nI can run the example code when cloning it from github with the given model in the repo, but when I paste in my own model I get an error:</p>\n\n<pre><code>lexical preprocessor issue\n    source file is not valid UTF-8\n        SSD_model.mlmodel\n</code></pre>\n\n<p>My model is an SSD model for generating bounding boxes, (and not just object detection like the repo's model), so that could make a problem maybe. I trained it using tensorflow object detection API, and exported it to coreML using <a href=\"https://machinethink.net/blog/mobilenet-ssdlite-coreml/\" rel=\"nofollow noreferrer\">this helpful blog post</a> . I've verified that my model works well by testing it in <a href=\"https://github.com/hollance/coreml-survival-guide/tree/master/MobileNetV2%2BSSDLite\" rel=\"nofollow noreferrer\">another script</a> made for SSD models. Here's a snippet from the first example how I import the model now:</p>\n\n<pre><code>#import &lt;CoreML/CoreML.h&gt;\n#import &lt;Vision/Vision.h&gt;\n#import \"SSD_model.mlmodel\"\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    model = [[[SSD_model alloc] init] model]\n    m = [VNCoreMLModel modelForMLModel: model error:nil];\n</code></pre>\n\n<p>Is there anything I need to change to this objective C code to make it work? Or any project settings that I might be forgetting? Thanks!</p>\n"}, {"tags": ["ios", "objective-c", "nsstring", "nsregularexpression"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1548848811, "post_id": 54439843, "comment_id": 95688919, "body": "Add the fact that you want number in your regex. Currently, your Regex is not really a &quot;regex&quot;, it&#39;s just a a simple rangeOfString. Possible pattern: <code>Order Id :- (\\\\d*)</code>."}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548849038, "post_id": 54439843, "comment_id": 95689062, "body": "In that now I need only number like <code>201807</code>"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1548849286, "post_id": 54439843, "comment_id": 95689217, "body": "With my regex pattern, it&#39;s just <code>NSString *matchText = [stringFromFile substringWithRange:[match rangeAtIndex:1]];</code> to modify. You might want to learn about regex and group (there are plenty of online testers)"}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548849619, "post_id": 54439843, "comment_id": 95689386, "body": "Ok thanks both of you. It&#39;s working. @Vinaykrishnan That is my first question How to check that id and value exist or not?"}, {"owner": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 0, "creation_date": 1548849949, "post_id": 54439843, "comment_id": 95689592, "body": "i hint if it doesn&#39;t exist, your n will be 0. And also you can put an additional check if the matches array contains an elements."}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1548850201, "post_id": 54439843, "comment_id": 95689745, "body": "ok that n condition I have already added. I will add additional contains condition. Thank you man."}, {"owner": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 1, "creation_date": 1548850292, "post_id": 54439843, "comment_id": 95689787, "body": "Also if the string only contains &quot;Order Id :-&quot; with out value substringWithRange: will return blank."}, {"owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "edited": false, "score": 0, "creation_date": 1548851170, "post_id": 54439843, "comment_id": 95690315, "body": "Understood  thanks."}], "owner": {"reputation": 2623, "user_id": 3378413, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/M2O6C.jpg?s=128&g=1", "display_name": "Mihir Oza", "link": "https://stackoverflow.com/users/3378413/mihir-oza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548919961, "creation_date": 1548848546, "last_edit_date": 1548919961, "question_id": 54439843, "link": "https://stackoverflow.com/questions/54439843/get-the-key-and-value-from-the-string-using-nsregularexpression-in-objective-c", "title": "Get the Key and Value from the String using NSRegularExpression in Objective C", "body": "<p>Below is my String Which I get from Qrcode:  </p>\n\n<blockquote>\n  <p>Address : Event :- seminar,Date &amp; Time:- Apr 04 2018 - 2:03 PM / Aug\n  17 2018 - 1:00 AM ,Order Id :- 201807,Event location :- Pune,\n  Maharashtra, India </p>\n</blockquote>\n\n<p>How to get <strong>Order Id :- 201807</strong> in Objective C? And before that How to check Order Id is available in my string? My previous question already deleted because I have not added code But, Here is the code which I have Implemented :  </p>\n\n<pre><code>if ([barcode.getBarcodeType isEqualToString:@\"org.iso.QRCode\"]) {\n    NSLog(@\"Address : %@\",[barcode getBarcodeData]);\n    NSString *searchedString = [barcode getBarcodeData];\n\n    NSData* data = [searchedString dataUsingEncoding:NSUTF8StringEncoding];\n    NSString *stringFromFile = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];\n    NSRegularExpression *regex = [[NSRegularExpression alloc] initWithPattern:@\"Order Id :-\" options:0 error:nil];\n\n    long n = [regex numberOfMatchesInString:stringFromFile options:0 range:NSMakeRange(0, [stringFromFile length])];\n\n    NSLog (@\"Number of the match: %ld\", n);\n\n    if (n&gt; 0) {\n        NSArray *matches = [regex matchesInString:stringFromFile options:0 range:NSMakeRange(0, [stringFromFile length])];\n\n        for (NSTextCheckingResult *match in matches)\n        {\n            NSString *matchText = [stringFromFile substringWithRange:[match range]];\n            NSLog(@\"Found String:%@\\n\", matchText);\n        }\n    }\n    else\n        NSLog(@\"No match found in file %@\", searchedString);\n}  \n</code></pre>\n\n<p>In above code I get <strong>Order Id :-</strong> but I need Order Id with value.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "google-places-api"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548848255, "post_id": 54439704, "comment_id": 95688575, "body": "Could your print error instead of the localized Description, and give the full error message loggued then?"}, {"owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548851043, "post_id": 54439704, "comment_id": 95690237, "body": "I get &#39;This API project is not authorized to use this API. Please ensure this API is activated in the Google Developers Console: <a href=\"https://console.developers.google.com/apis/api/places_backend?project=_\" rel=\"nofollow noreferrer\">console.developers.google.com/apis/api/places_backend?projec&zwnj;&#8203;t=_</a>&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "edited": false, "score": 0, "creation_date": 1549218642, "post_id": 54469549, "comment_id": 95815932, "body": "This is the correct answer. In your Google Cloud Platform console page, select the project you are working on. Then from the dropdown menu on the very top left, select &quot;APIs and Services&quot; and then &quot;Library&quot;. Search for &quot;places&quot; and select the &quot;Places API&quot; button. And then Enable it. Done. Thanks @yoitsro!"}], "tags": [], "owner": {"reputation": 293, "user_id": 2121683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3437bde0192ca84d6549da69e6e915a2?s=128&d=identicon&r=PG", "display_name": "yoitsro", "link": "https://stackoverflow.com/users/2121683/yoitsro"}, "is_accepted": true, "score": 1, "last_activity_date": 1548970363, "creation_date": 1548970363, "answer_id": 54469549, "question_id": 54439704, "link": "https://stackoverflow.com/questions/54439704/google-places-for-ios-version-3/54469549#54469549", "title": "Google Places for iOS version 3", "body": "<p>Turns out Google changed things without being terribly obvious.</p>\n\n<p>In my case, I used to have the \"Places SDK for iOS\" restriction added on the API key, but the new stuff requires the \"<strong>Places API</strong>\" restriction.</p>\n"}], "owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 54469549, "answer_count": 1, "score": 0, "last_activity_date": 1548970363, "creation_date": 1548848146, "question_id": 54439704, "link": "https://stackoverflow.com/questions/54439704/google-places-for-ios-version-3", "title": "Google Places for iOS version 3", "body": "<p>Today Google released version 3 of its Places API for iOS. Upgrading my project and using the new <code>findPlaceLikelihoodsFromCurrentLocationWithPlaceFields</code>method I get the following error:</p>\n\n<blockquote>\n  <p>\"Pick Place error The operation couldn\u2019t be completed. An internal\n  error occurred in the Places API library....\"</p>\n</blockquote>\n\n<p>Any ideas?</p>\n\n<p>Here is my complete Objective C code:</p>\n\n<pre><code>GMSPlaceField fields = GMSPlaceFieldName;\nGMSPlacesClient *placesClient;\nplacesClient = [GMSPlacesClient sharedClient];\n\n[placesClient findPlaceLikelihoodsFromCurrentLocationWithPlaceFields:fields callback:^(NSArray* likelihoods, NSError* error){\n\n    if(error != nil)\n    {\n        //##\n        NSLog(@\"Pick Place error %@\", [error localizedDescription]);\n        return;\n    }\n\n    for(GMSPlaceLikelihood *likelihood in likelihoods)\n    {\n        //##\n        NSLog(@\"likelihood.place : %@\",likelihood.place.name);\n    }\n}];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "camera", "alert", "plist"], "comments": [{"owner": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 1, "creation_date": 1548838312, "post_id": 54436487, "comment_id": 95682410, "body": "You just read permissions after as explained elsewhere. Just search for reading camera permissions and also <a href=\"https://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/requesting_authorization_for_media_capture_on_ios\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/avfoundation/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 10989057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fLackzng6aY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP5VHHvgJcSexozdpY-18kjUDWEtw/mo/photo.jpg?sz=128", "display_name": "\u912d\u6db5\u56b4", "link": "https://stackoverflow.com/users/10989057/%e9%84%ad%e6%b6%b5%e5%9a%b4"}, "reply_to_user": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 1, "creation_date": 1548842262, "post_id": 54436487, "comment_id": 95684900, "body": "it work thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 5592, "user_id": 5234233, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/vDRdy.jpg?s=128&g=1", "display_name": "Lumialxk", "link": "https://stackoverflow.com/users/5234233/lumialxk"}, "is_accepted": false, "score": 0, "last_activity_date": 1548840222, "creation_date": 1548840222, "answer_id": 54437157, "question_id": 54436487, "link": "https://stackoverflow.com/questions/54436487/how-to-get-the-permission-alert-click-event-in-plist-privacy-usage-descriptio/54437157#54437157", "title": "How to get the permission alert click event in (.plist) privacy usage description?", "body": "<p>You can use func <code>requestAuthorization(_:)</code> of <code>PHPhotoLibrary</code> to get authorization status.</p>\n"}, {"tags": [], "owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "is_accepted": true, "score": 1, "last_activity_date": 1548840553, "creation_date": 1548840553, "answer_id": 54437254, "question_id": 54436487, "link": "https://stackoverflow.com/questions/54436487/how-to-get-the-permission-alert-click-event-in-plist-privacy-usage-descriptio/54437254#54437254", "title": "How to get the permission alert click event in (.plist) privacy usage description?", "body": "<p>Request camera permission using </p>\n\n<pre><code>AVCaptureDevice.requestAccess(for: AVMediaType.video) { granted in }\n</code></pre>\n\n<p>and you'll get the user's response in the <code>granted</code> parameter of the closure.</p>\n"}], "owner": {"reputation": 3, "user_id": 10989057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fLackzng6aY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP5VHHvgJcSexozdpY-18kjUDWEtw/mo/photo.jpg?sz=128", "display_name": "\u912d\u6db5\u56b4", "link": "https://stackoverflow.com/users/10989057/%e9%84%ad%e6%b6%b5%e5%9a%b4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54437254, "answer_count": 2, "score": -1, "last_activity_date": 1548844351, "creation_date": 1548837971, "last_edit_date": 1548844351, "question_id": 54436487, "link": "https://stackoverflow.com/questions/54436487/how-to-get-the-permission-alert-click-event-in-plist-privacy-usage-descriptio", "title": "How to get the permission alert click event in (.plist) privacy usage description?", "body": "<p>In the plist setting \"Privacy - Camera Usage Description\", it shows a permission alert to allow or deny usage of the camera. </p>\n\n<p>How can I get the alert's accept or refuse button event to do something? Here is my .plist file snapshot:</p>\n\n<p><img src=\"https://i.stack.imgur.com/LXFxu.png\" alt=\"\"></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1548830625, "post_id": 54434650, "comment_id": 95678662, "body": "can you give me link of barchartview sdk/framework ?"}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1548830738, "post_id": 54434650, "comment_id": 95678726, "body": "<a href=\"https://github.com/danielgindi/Charts\" rel=\"nofollow noreferrer\">github.com/danielgindi/Charts</a> @NiravKotecha"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1548833626, "post_id": 54434650, "comment_id": 95680143, "body": "leftAxis.granularity = ?"}], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": true, "score": 3, "last_activity_date": 1548833891, "creation_date": 1548833891, "answer_id": 54435460, "question_id": 54434650, "link": "https://stackoverflow.com/questions/54434650/charts-barchartview-custom-chartyaxis/54435460#54435460", "title": "Charts BarChartView custom ChartYAxis", "body": "<p>set <code>leftAxis.granularity = 25.0;</code> and check it.</p>\n\n<p>see the below image. it's look like that way..</p>\n\n<p><a href=\"https://i.stack.imgur.com/DH1Kh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DH1Kh.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 54435460, "answer_count": 1, "score": 1, "last_activity_date": 1548833891, "creation_date": 1548830434, "question_id": 54434650, "link": "https://stackoverflow.com/questions/54434650/charts-barchartview-custom-chartyaxis", "title": "Charts BarChartView custom ChartYAxis", "body": "<p>Hi am implementing charts framework Barchartview I want to customize the Yaxis here is my code</p>\n\n<pre><code>ChartYAxis *leftAxis = _chartView_fairway_hit.leftAxis;\nleftAxis.labelFont = [UIFont systemFontOfSize:10.f];\nleftAxis.labelCount = 5;\n//    leftAxis.valueFormatter = [[ChartDefaultAxisValueFormatter alloc] initWithFormatter:leftAxisFormatter];\nleftAxis.labelPosition = YAxisLabelPositionOutsideChart;\nleftAxis.spaceTop = 0.25;\nleftAxis.axisMinimum = 0;\nleftAxis.axisMaximum = 100;\n</code></pre>\n\n<p>However, the above code is giving me the Y axis like 0 20 40 60 80 100. I am expecting the output like 0 25 50 75 100</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uitextfield"], "comments": [{"owner": {"reputation": 10067, "user_id": 7734643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q8g6Y.jpg?s=128&g=1", "display_name": "Rakesha Shastri", "link": "https://stackoverflow.com/users/7734643/rakesha-shastri"}, "edited": false, "score": 0, "creation_date": 1548827029, "post_id": 54433943, "comment_id": 95677361, "body": "Reuse issue. These should help <a href=\"https://stackoverflow.com/questions/52258956/view-is-getting-replaced-while-scrolling-in-uitableview/52259714#52259714\" title=\"view is getting replaced while scrolling in uitableview\">stackoverflow.com/questions/52258956/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/52100899/uibutton-image-for-normal-state-in-collectionview-cell-repeats-itself-every-four/52102002#52102002\" title=\"uibutton image for normal state in collectionview cell repeats itself every four\">stackoverflow.com/questions/52100899/&hellip;</a>"}, {"owner": {"reputation": 1200, "user_id": 4582876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GWtV4.jpg?s=128&g=1", "display_name": "vivekDas", "link": "https://stackoverflow.com/users/4582876/vivekdas"}, "edited": false, "score": 0, "creation_date": 1548827478, "post_id": 54433943, "comment_id": 95677510, "body": "override the perpareForReuse method of tableview cell in your custom cell class and reset the textfields falues in the this method."}, {"owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "reply_to_user": {"reputation": 1200, "user_id": 4582876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GWtV4.jpg?s=128&g=1", "display_name": "vivekDas", "link": "https://stackoverflow.com/users/4582876/vivekdas"}, "edited": false, "score": 0, "creation_date": 1548827757, "post_id": 54433943, "comment_id": 95677635, "body": "@vivekDas thank you for response and this is in objC and I tried overriding it but not worked if you can show me how to do in ObjC it would be big help."}, {"owner": {"reputation": 1200, "user_id": 4582876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GWtV4.jpg?s=128&g=1", "display_name": "vivekDas", "link": "https://stackoverflow.com/users/4582876/vivekdas"}, "edited": false, "score": 0, "creation_date": 1548827966, "post_id": 54433943, "comment_id": 95677702, "body": "what you have tried till now for perpareForReuse show the code."}], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548828220, "post_id": 54434143, "comment_id": 95677779, "body": "thank you for answer but it is still confusing for me as i&#39;ve tried many things so may be because of confusion I cannot pay attention to what exactly you are saying. if possible can you tell me steps to follow? I know you have written steps but it is not clear for me sorry."}, {"owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "reply_to_user": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548828468, "post_id": 54434143, "comment_id": 95677879, "body": "First understand your issue, why you are getting this issue.  Do you know what is meaning of this line &#39;dequeueReusableCellWithIdentifier&#39;?, It just means that - the cell which is going to be hide, is going to be reused again. So, it is obvious that textfield value that you have filled already is going to be repeated."}, {"owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "reply_to_user": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548828591, "post_id": 54434143, "comment_id": 95677922, "body": "So, you cant rely on tableview to store your data. So, you have to create an array to keep the data."}, {"owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548829362, "post_id": 54434143, "comment_id": 95678215, "body": "ok I got that. So I should save data into array in textFieldDidEndEditing right? and you mentioned that add delegate into textFieldDidEndEditing so should I remove that from cellForRowAtIndexPath?"}, {"owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "reply_to_user": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548829533, "post_id": 54434143, "comment_id": 95678265, "body": "current delegate is perfectly fine..  just telling you that - 1. whenever any textfild&#39;s value get changed - save new value into array, 2. In cellForRowAtIndexPath method, get corresponding value from array and set into relevant textfield."}, {"owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548829848, "post_id": 54434143, "comment_id": 95678383, "body": "ok let me do that and will this work on dynamic number of rows? as in this screen there is add button which adds one cell to tableview and also vice versa."}], "tags": [], "owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "is_accepted": false, "score": -1, "last_activity_date": 1548827873, "creation_date": 1548827873, "answer_id": 54434143, "question_id": 54433943, "link": "https://stackoverflow.com/questions/54433943/textfield-value-repeating-in-uitableview-while-scrolling/54434143#54434143", "title": "Textfield value repeating in UITableView while scrolling", "body": "<p>As textfields are getting reused, it is obvious that entered value is going to be getting repeated.</p>\n\n<p>Solution: </p>\n\n<ol>\n<li>Create one array to keep data of each cell/row(with number of rows = array.count). </li>\n<li>Keep delegate of every textfield - on every textfield's <code>textFieldDidEndEditing</code> method, save data in array.</li>\n<li>In <code>cellForRowAtIndexPath</code> method, for every textfield of each cell, get data from array for given indexpath and set related value for that textfield.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548830648, "post_id": 54434625, "comment_id": 95678676, "body": "yes I understand that but the situation is that I&#39;ve 3 textfields into cell and number of cells can be increase or decrease."}, {"owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "reply_to_user": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "edited": false, "score": 0, "creation_date": 1548853762, "post_id": 54434625, "comment_id": 95691740, "body": "@Mr.Desai : You can increase or decrease(update) array based on you are increasing or decreasing your cell."}], "tags": [], "owner": {"reputation": 1603, "user_id": 2286267, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/66104dc90780eb4ddd331c442c3d9c70?s=128&d=identicon&r=PG", "display_name": "Vinay Jain", "link": "https://stackoverflow.com/users/2286267/vinay-jain"}, "is_accepted": false, "score": -1, "last_activity_date": 1548830333, "creation_date": 1548830333, "answer_id": 54434625, "question_id": 54433943, "link": "https://stackoverflow.com/questions/54433943/textfield-value-repeating-in-uitableview-while-scrolling/54434625#54434625", "title": "Textfield value repeating in UITableView while scrolling", "body": "<p>As others have mentioned, your tableview cells are being reused and so are the textfields. Since these textfields are not destroyed and recreated you have to manually reset the state of these fields. </p>\n\n<p><code>Your datasource should be responsible for managing the view state.</code></p>\n\n<p>As Mehul mentioned in his answer, keep a datasource to store the text typed in the textfields(using textfield tags as indexPath.row can be helpful), and in <code>cellForRowAtIndexPath</code> update the text of these textfields using your datasource. </p>\n\n<p>This approach ensures synchronization between your views and datasource.</p>\n"}], "owner": {"reputation": 448, "user_id": 4035372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YMLwu.jpg?s=128&g=1", "display_name": "dmaulikr", "link": "https://stackoverflow.com/users/4035372/dmaulikr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548830333, "creation_date": 1548826787, "last_edit_date": 1548828840, "question_id": 54433943, "link": "https://stackoverflow.com/questions/54433943/textfield-value-repeating-in-uitableview-while-scrolling", "title": "Textfield value repeating in UITableView while scrolling", "body": "<p>There are similar questions already asked many times and have referred many solutions but none worked for me as they were addressing fixed number of cells and I have dynamic number of cells. Here is the problem:</p>\n\n<p>It is in <strong>Objective-C</strong>. I've tableview which has <strong>dynamic number of rows(user can add more cells or remove cells as per requirement)</strong> and <strong>each row contains 3 textfields</strong> and at the end I want to get data from that textfields and save them. Getting data from all textfields is working perfectly but here comes main problem when I add data into any row(3 textfields) it's getting repeat when I scroll it.</p>\n\n<p>Here is code:</p>\n\n<pre><code>-(void)textFieldDidEndEditing:(UITextField *)textField{\n    if ([_txtNumbers resignFirstResponder]) {\n        totalIndex = [_txtNumbers.text integerValue];\n        [_tblContacts reloadData];\n    }\n}\n\n- (IBAction)onAddCellClicked:(id)sender {\n    totalIndex = [_txtNumbers.text integerValue];\n    totalIndex = totalIndex + 1;\n    _txtNumbers.text = [NSString stringWithFormat:@\"%ld\",(long)totalIndex];\n    [_tblContacts reloadData];\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return totalIndex;\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n\n    static NSString *CellIdentifier = @\"InviteEmailTableViewCell\";\n\n    InviteEmailTableViewCell *cell = [self.tblContacts dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];\n\n    cell.txtName.delegate = self;\n    cell.txtTell.delegate = self;\n    cell.txtEmail.delegate = self;\n\n    UIToolbar  *numberToolbar = [[UIToolbar alloc]initWithFrame:CGRectMake(0, 0, 320, 50)];\n    [numberToolbar setTintColor:kShadowColor1];\n    [numberToolbar setBarTintColor:[UIColor blackColor]];\n    numberToolbar.items = [NSArray arrayWithObjects:\n                           [[UIBarButtonItem alloc]initWithTitle:@\"Cancel\" style:UIBarButtonItemStyleBordered target:self action:@selector(cancelNumberPad:)],\n                           [[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil],\n                           [[UIBarButtonItem alloc]initWithTitle:@\"Done\" style:UIBarButtonItemStyleDone target:self action:@selector(doneWithNumberPad:)],\n                           nil];\n    cell.txtTell.inputAccessoryView = numberToolbar;\n\n    [cell.txtName setTag:indexPath.row];\n    [cell.txtTell setTag:indexPath.row];\n    [cell.txtEmail setTag:indexPath.row];\n\n    return cell;\n}\n</code></pre>\n\n<p>what to do next here?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 4, "creation_date": 1548819751, "post_id": 54432952, "comment_id": 95675618, "body": "It&#39;s unclear what trouble you are having. You have the top level dictionary in <code>self.dataDictionary</code>. Use the <code>allKeys</code> method to get the two keys as an array."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1548824120, "post_id": 54432952, "comment_id": 95676588, "body": "<code>self.title = [[self.dataDictionary allKeys] componentsJoinedByString:@&quot; or &quot;];</code>"}, {"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1548860195, "post_id": 54432952, "comment_id": 95695933, "body": "Have you considered using JSONModel? It allows you to just define the deserialized class&#39; structure, and initialize an object with <code>[MyClass initWithDictionary:self.dataDictionary]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 544, "user_id": 4689580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7XkJl.png?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/4689580/rajesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1548838157, "last_edit_date": 1548838157, "creation_date": 1548827620, "answer_id": 54434091, "question_id": 54432952, "link": "https://stackoverflow.com/questions/54432952/how-to-parse-the-data-from-jsons-key-by-objective-c/54434091#54434091", "title": "How to parse the data from json&#39;s key by objective-c?", "body": "<p>Use the NSArray instance method componentsJoinedByString:</p>\n\n<pre><code>NSString * filePath =[[NSBundle mainBundle] pathForResource:@\"myjson\" ofType:@\"json\"];\n\nNSError * error;\nNSString* fileContents =[NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;error];\n\nif(error) {\n\n    NSLog(@\"Error reading file: %@\",error.localizedDescription);\n}\n\ndic = [NSJSONSerialization\n                       JSONObjectWithData:[fileContents dataUsingEncoding:NSUTF8StringEncoding]\n                       options:0 error:NULL];\nNSArray * yourKeys;\nyourKeys = [dic allKeys];\nstrTitle = [yourKeys componentsJoinedByString:@\" or \"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3092, "user_id": 6330448, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MeC1c.png?s=128&g=1", "display_name": "tryKuldeepTanwar", "link": "https://stackoverflow.com/users/6330448/trykuldeeptanwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548828251, "creation_date": 1548828251, "answer_id": 54434215, "question_id": 54432952, "link": "https://stackoverflow.com/questions/54432952/how-to-parse-the-data-from-jsons-key-by-objective-c/54434215#54434215", "title": "How to parse the data from json&#39;s key by objective-c?", "body": "<p>Its pretty simple you just have to extract all the keys in a array and use them according to you need like this :-</p>\n\n<p>Let's take your data for example:-</p>\n\n<pre><code>{\n\"Jack\": {\n    \"responseHeader\": {\n        \"returnCode\": \"200\",\n        \"returnMsg\": \"SUCCESS\"\n    },\n    \"responseBody\": {\n        \"email\": \"Jack@gmailM.com\",\n        \"mobile\": \"+100000000\"\n    }\n},\n\"Jimmy\": {\n    \"responseHeader\": {\n        \"returnCode\": \"200\",\n        \"returnMsg\": \"SUCCESS\"\n    },\n    \"responseBody\": {\n        \"email\": \"Jimmy@gmailM.com\",\n        \"mobile\": \"+100000001\"\n    }\n  }\n}\n</code></pre>\n\n<p>By using allKeys method on your dictionary you can get all the keys present in your data i also updated your code to prevent crashes :-</p>\n\n<pre><code>-(void)readDataFromFile {\n    NSString * filePath =[[NSBundle mainBundle] pathForResource:@\"myjson\" ofType:@\"json\"];\n    NSError * error;\n    NSString* fileContents =[NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;error];\n    if(error){\n        NSLog(@\"Error reading file: %@\",error.localizedDescription);\n    }else if (fileContents){\n        self.dataDictionary = [NSJSONSerialization\n                               JSONObjectWithData:[fileContents dataUsingEncoding:NSUTF8StringEncoding]\n                               options:0 error:NULL];\n        if (self.dataDictionary){\n            NSArray *allKeys = [self.dataDictionary allKeys];\n            //allKeys will contain String value and after that you can do anything with your array\n            if (allKeys.count){\n                self.title = [allKeys componentsJoinedByString:@\" or \"];\n            }\n            /*\n             You also seprate with comma's or anything you want like this\n             if (allKeys.count){\n             self.title = [yourKeys componentsJoinedByString:@\", \"];\n             }\n             */\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 7941494, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/hh337.png?s=128&g=1", "display_name": "JimmyLee", "link": "https://stackoverflow.com/users/7941494/jimmylee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548838157, "creation_date": 1548818871, "question_id": 54432952, "link": "https://stackoverflow.com/questions/54432952/how-to-parse-the-data-from-jsons-key-by-objective-c", "title": "How to parse the data from json&#39;s key by objective-c?", "body": "<p>I have a json file like this:</p>\n\n<pre><code>{\n\"Jack\": {\n    \"responseHeader\": {\n        \"returnCode\": \"200\",\n        \"returnMsg\": \"SUCCESS\"\n    },\n    \"responseBody\": {\n        \"email\": \"Jack@gmailM.com\",\n        \"mobile\": \"+100000000\"\n    }\n},\n\"Jimmy\": {\n    \"responseHeader\": {\n        \"returnCode\": \"200\",\n        \"returnMsg\": \"SUCCESS\"\n    },\n    \"responseBody\": {\n        \"email\": \"Jimmy@gmailM.com\",\n        \"mobile\": \"+100000001\"\n    }\n  }\n}\n</code></pre>\n\n<p>If I want to get the dictionary key \"Jack\" and \"Jimmy\" and set them to navigation title.<br>\nAnd I also have a button to switch the navigation title is \"Jack\" or \"Jimmy\".<br>\nSo, Have any idea to do this features.<br></p>\n\n<pre><code>@property NSDictionary* dataDictionary;\n\n- (void)readDataFromFile {\n\nNSString * filePath =[[NSBundle mainBundle] pathForResource:@\"myjson\" ofType:@\"json\"];\n\nNSError * error;\nNSString* fileContents =[NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;error];\n\nif(error) {\n\n    NSLog(@\"Error reading file: %@\",error.localizedDescription);\n}\n\nself.dataDictionary = [NSJSONSerialization\n                       JSONObjectWithData:[fileContents dataUsingEncoding:NSUTF8StringEncoding]\n                       options:0 error:NULL];\n\nself.title = @\"Jack or Jimmy\";\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "sfsafariviewcontroller", "appauth", "sfauthenticationsession"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 2271289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e30141cad59963b361398cd36cb29351?s=128&d=identicon&r=PG", "display_name": "Anderson", "link": "https://stackoverflow.com/users/2271289/anderson"}, "is_accepted": true, "score": 3, "last_activity_date": 1569027530, "creation_date": 1569027530, "answer_id": 58036498, "question_id": 54432641, "link": "https://stackoverflow.com/questions/54432641/logging-in-sfauthenticationsession-then-opening-a-link-in-sfsafariviewcontroller/58036498#58036498", "title": "Logging in SFAuthenticationSession then opening a link in SFSafariViewController that does SSO", "body": "<p>I'm assuming that you tried to used WKwebView. If so wkwebview does not share cookies with Safari web browser. Each web view run in a different process than we have an isolation.</p>\n"}], "owner": {"reputation": 133, "user_id": 10606540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78084cc972ef7ac4d7dd57bf4b0464ef?s=128&d=identicon&r=PG&f=1", "display_name": "bazooka", "link": "https://stackoverflow.com/users/10606540/bazooka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 58036498, "answer_count": 1, "score": 2, "last_activity_date": 1569027530, "creation_date": 1548815970, "question_id": 54432641, "link": "https://stackoverflow.com/questions/54432641/logging-in-sfauthenticationsession-then-opening-a-link-in-sfsafariviewcontroller", "title": "Logging in SFAuthenticationSession then opening a link in SFSafariViewController that does SSO", "body": "<p>I'm using AppAuth-iOS for my AD B2C login, AppAuth-iOS uses SFAuthenticationSession for making authentication requests on iOS 11+. I assumed that when I call SFSafariViewController to open a link to a webapp that does SSO with the B2C, it will automatically authenticate the user into it. However this does not seem to work.</p>\n\n<p>Is it not supposed to work? Am I doing it the wrong way?</p>\n\n<p>I've tried modifying the AppAuth-iOS pod in my project and tried to open the authentication request in a webview and use webview to also open the link.. does not work. Also, I've read about instances of Safari not sharing cookies, does this also apply to webview? Does webview use Safari browser? I've also read other stuff related to this problem but they are confusing me, and in the end, for me, there's no closure to them.</p>\n\n<p>This is the code from OIDExternalUserAgentIOS.m of AppAuth-iOS that is used for communicating the app to B2C login:</p>\n\n<pre><code>SFAuthenticationSession *authenticationVC =\n    [[SFAuthenticationSession alloc] initWithURL:requestURL\n                               callbackURLScheme:redirectScheme\n                               completionHandler:^(NSURL * _Nullable callbackURL,\n                                                   NSError * _Nullable error) {\n  __strong OIDExternalUserAgentIOS *strongSelf = weakSelf;\n  if (!strongSelf)\n      return;\n  strongSelf-&gt;_authenticationVC = nil;\n  if (callbackURL) {\n    [strongSelf-&gt;_session resumeExternalUserAgentFlowWithURL:callbackURL];\n</code></pre>\n\n<p>I use this code to open the link,</p>\n\n<pre><code>SFSafariViewController *svc = [[SFSafariViewController alloc] initWithURL:URL];\nsvc.delegate = (AppDelegate *)[UIApplication sharedApplication].delegate;\n[self presentViewController:svc animated:YES completion:nil];\n</code></pre>\n\n<p>I'm hoping that SSO will work between SFAuthenticationSession and SFSafariViewController.</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["ios", "objective-c", "autofill"], "owner": {"reputation": 73, "user_id": 10923648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c520419226b8060ad0b926bf88c947?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/10923648/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548783008, "creation_date": 1548782740, "last_edit_date": 1548783008, "question_id": 54426493, "link": "https://stackoverflow.com/questions/54426493/providecredentialwithoutuserinteractionforidentity-is-not-working", "title": "&quot;provideCredentialWithoutUserInteractionForIdentity:&quot; is not working", "body": "<p>I have an app that autofills the password on iOS 12. Now I want to implement this function: </p>\n\n<pre><code>- (void)provideCredentialWithoutUserInteractionForIdentity:(ASPasswordCredentialIdentity *)credentialIdentity;\n</code></pre>\n\n<p>But I cant get it to work like it should.</p>\n\n<p>AutoFill is enabled in settings and also enabled for my app.</p>\n\n<p>I've read the documentation but this doens't help me. <a href=\"https://developer.apple.com/documentation/authenticationservices/ascredentialproviderviewcontroller/2977554-providecredentialwithoutuserinte?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/authenticationservices/ascredentialproviderviewcontroller/2977554-providecredentialwithoutuserinte?language=objc</a></p>\n\n<p>I've tried calling this function from <code>viewDidLoad</code>, <code>prepareCredentialListForServiceIdentifiers</code>,.. but this is stupid and definitely won't work.</p>\n\n<pre><code>- (void)provideCredentialWithoutUserInteractionForIdentity:(ASPasswordCredentialIdentity *)credentialIdentity {\n    ASPasswordCredential *credential = [[ASPasswordCredential alloc] initWithUser:@\"theUsername\" password:@\"thePassword\"];\n    [self.extensionContext completeRequestWithSelectedCredential:credential completionHandler:nil];\n}\n</code></pre>\n\n<p>The function should show the credentials above the keyboard, but this doesn't happen. It just shows the default \"Passwords\" button.</p>\n"}, {"tags": ["objective-c", "foundation", "objective-c-runtime", "nsautoreleasepool"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548783188, "post_id": 54426425, "comment_id": 95663334, "body": "Is there a reason you are not using any Objective-C syntax for this? Do you actually want pure C code? If so, see <a href=\"https://stackoverflow.com/questions/10289890/how-to-write-ios-app-purely-in-c\" title=\"how to write ios app purely in c\">stackoverflow.com/questions/10289890/&hellip;</a> for related info."}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548784123, "post_id": 54426425, "comment_id": 95663787, "body": "@rmaddy Not really. I can get this example to work in plain objective-c but I&#39;m curious why it does not work when using just the runtime and compiling from regular C. Am I doing something wrong or is this behavior expected? Also the question you linked does not address this issue. The accepted answer also claims that <code>NSAutoreleasePool</code> is deprecated which the apple documentation does not say."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548789043, "post_id": 54426425, "comment_id": 95666259, "body": "Are you sure those calls are actually returning anything? I.e., are you linked against Foundation?"}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548790789, "post_id": 54426425, "comment_id": 95667078, "body": "@JoshCaswell Yes, both the <code>NSObject</code> and <code>NSAutoreleasePool</code> are valid objects (and yes I&#39;m linked to foundation)"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548791579, "post_id": 54426425, "comment_id": 95667395, "body": "Interesting...thanks for confirming."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548791646, "post_id": 54426425, "comment_id": 95667426, "body": "Oh, and not compiling with ARC enabled?"}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548792079, "post_id": 54426425, "comment_id": 95667598, "body": "@JoshCaswell I&#39;m not sure what you mean, I use <code>gcc -std=c99 test.c -framework Foundation</code>. I can also say that trying to release the objects after I&#39;ve marked it to be autorelease (inside the loop), makes the app crash because of double de-allocation."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548792169, "post_id": 54426425, "comment_id": 95667636, "body": "Ah, gcc, then yes, you are not using ARC! <a href=\"https://clang.llvm.org/docs/AutomaticReferenceCounting.html#objective-c-automatic-reference-counting-arc\" rel=\"nofollow noreferrer\">ARC is a clang thing</a>."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548792294, "post_id": 54426425, "comment_id": 95667687, "body": "Wait, then are you using GNUStep or Apple Foundation?"}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548792740, "post_id": 54426425, "comment_id": 95667887, "body": "@JoshCaswell I think <code>gcc</code> is just <code>clang</code> on my machine. <code>gcc -help</code> or <code>gcc -v</code> claims to be the <code>clang LLVM compiler</code>."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548793293, "post_id": 54426425, "comment_id": 95668122, "body": "Try compiling with <code>-fno-objc-arc</code> in that case?"}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1548793804, "post_id": 54426425, "comment_id": 95668307, "body": "@JoshCaswell No luck, still uses the same amount of memory. Occasionally only using 10mb but this seems to be random, happens with and without <code>-fno-objc-arc</code>"}, {"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1548793916, "post_id": 54426425, "comment_id": 95668366, "body": "How are you measuring the memory usage of the process? Deallocating an object (or 1,000,000 objects) will generally <b>not</b> return the object&#39;s memory to the system. The memory will usually remain available in the process&#39;s address space to be recycled when new objects are later created."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1548793956, "post_id": 54426425, "comment_id": 95668387, "body": "The code looks legit, all objects should be deallocated when the <code>drain</code> message is sent. I think you are experiencing some heap fragmentation issues, see for example <a href=\"https://stackoverflow.com/questions/9203677/diagnosing-heap-fragmentation-on-mac-os-x\" title=\"diagnosing heap fragmentation on mac os x\">stackoverflow.com/questions/9203677/&hellip;</a>"}, {"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "reply_to_user": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1548794423, "post_id": 54426425, "comment_id": 95668572, "body": "@robmayoff I&#39;m looking at both activity monitor and using <code>top -pid &#180;pgrep -f a.out&#180; </code> which seems to show the same values. Normally releasing the objects consistently lands below 1mb, it would be very strange if the system would act any (substantially) different when using autorelease."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1548808361, "post_id": 54426425, "comment_id": 95673073, "body": "BTW:  When you call <code>objc_msgSend()</code> directly, you need to cast it to the same signature as the method you&#39;re calling.   In this case, all the methods you&#39;re using happen to match the types of <code>objc_msgSend()</code>, so you can get away with it here."}], "answers": [{"comments": [{"owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "edited": false, "score": 0, "creation_date": 1548795621, "post_id": 54429379, "comment_id": 95669067, "body": "Ah, so it was behaving correctly, thank you! And thank you for telling me about Instruments, it looks really useful, I&#39;m sure I will use it in the future."}], "tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 4, "last_activity_date": 1548795101, "creation_date": 1548795101, "answer_id": 54429379, "question_id": 54426425, "link": "https://stackoverflow.com/questions/54426425/using-nsautoreleasepool-only-via-objective-c-runtime-functions/54429379#54429379", "title": "Using NSAutoreleasePool only via Objective-C runtime functions", "body": "<p>When you <code>release</code> each object immediately after creating it, there's never more than one object in existence at a time. So the runtime can recycle the same memory for each new object. The runtime only has to ask the operating system for enough memory to hold that one object.</p>\n\n<p>When you <code>autorelease</code> each object after creating it, each object lives until the autorelease pool is drained, so you end up with 1,000,000 objects existing simultaneously. The runtime has to ask the operating system for enough memory to hold all of the objects. And since the runtime doesn't know in advance how many objects you intend to create, it asks the operating system for chunks of memory incrementally. Maybe it asks for 1 MiB, and when that 1 MiB is exhausted, it asks for another 1 MiB, and so on.</p>\n\n<p>Generally, when your program frees some memory (in this case because it destroys an object), the runtime doesn't return that memory to the operating system. It keeps the memory available so that it can reuse it the next time you create an object.</p>\n\n<p>The operating system knows how much memory it has given to your process, but it doesn't know which parts of that memory are (within the process) consider \u201cin use\u201d and which parts are considered \u201cfree\u201d.</p>\n\n<p>Activity Monitor and <code>top</code> both ask the operating system for information about your process. So they only know what the operating system knows, which is how much memory has been given to your process. They can't know how much of that memory is in use and how much is free.</p>\n\n<p>If you want a more accurate picture of how much memory is in use by live objects in your program, you need to use a more invasive tool. The Instruments program, which comes with Xcode, can show you how much memory is in use by \u201clive allocations\u201d using the Allocations instrument.</p>\n\n<p>Here's what the Allocations instrument shows, when I run your program under it for about three seconds:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FjcSa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjcSa.png\" alt=\"Allocations instrument\"></a></p>\n\n<p>So you can see that the Allocations instrument detected a total of 1,001,983 \u201ctransient\u201d allocations. A transient allocation is a chunk of memory that was allocated and then freed before Instruments stopped recording.</p>\n\n<p>You can also see that the \u201cpersistent\u201d bytes allocated (which is memory allocated and not freed by the time Instruments stopped recording) is 506 KiB, but the total bytes allocated (including bytes later freed) is 23.5 MiB.</p>\n"}], "owner": {"reputation": 875, "user_id": 1768788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/9bb1a2f46069e6d1cda7412c63d31442?s=128&d=identicon&r=PG", "display_name": "user1768788", "link": "https://stackoverflow.com/users/1768788/user1768788"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 54429379, "answer_count": 1, "score": 2, "last_activity_date": 1548795101, "creation_date": 1548782471, "last_edit_date": 1548792755, "question_id": 54426425, "link": "https://stackoverflow.com/questions/54426425/using-nsautoreleasepool-only-via-objective-c-runtime-functions", "title": "Using NSAutoreleasePool only via Objective-C runtime functions", "body": "<p>I'm learning how memory management works in Objective-C. From what I've learned, objects that are marked <code>autorelease</code> will be added to the enclosing <code>NSAutoreleasePool</code> and be released whenever the pool is released/drained.</p>\n\n<p>To try out my new knowledge I created some tests; Creating 1 million objects used ~17mb, creating the same objects but immediately releasing them used ~1mb. However, I cannot get <code>NSAutoreleasePool</code> to work, using the code below still uses ~17mb and I do not understand why.</p>\n\n<pre><code>#include &lt;objc/objc-runtime.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(void) {\n    Class NSAutoreleasePool = objc_getClass(\"NSAutoreleasePool\");\n    Class Object = objc_getClass(\"NSObject\");\n    SEL new = sel_registerName(\"new\");\n    SEL drain = sel_registerName(\"drain\");\n    SEL autorelease = sel_registerName(\"autorelease\");\n    id pool = objc_msgSend(NSAutoreleasePool, new);\n    for (int i = 0; i &lt; 1e6; i++) {\n        id obj = objc_msgSend(Object, new);\n        objc_msgSend(obj, autorelease);\n    }\n    objc_msgSend(pool, drain);\n    printf(\"OK\\n\");\n    getchar();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "core-location", "geofencing"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 3380970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb71049ce9a52bd81bdd1eec14e870?s=128&d=identicon&r=PG&f=1", "display_name": "xiience", "link": "https://stackoverflow.com/users/3380970/xiience"}, "edited": false, "score": 0, "creation_date": 1548780469, "post_id": 54425773, "comment_id": 95661926, "body": "As a huge obj-c noob, it&#39;s natural I&#39;d screw up variable scope. This seems to be resolving my issue, thank you!"}], "tags": [], "owner": {"reputation": 5742, "user_id": 785593, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/geWeS.jpg?s=128&g=1", "display_name": "David &#39;mArm&#39; Ansermot", "link": "https://stackoverflow.com/users/785593/david-marm-ansermot"}, "is_accepted": true, "score": 1, "last_activity_date": 1548780139, "creation_date": 1548780139, "answer_id": 54425773, "question_id": 54425265, "link": "https://stackoverflow.com/questions/54425265/ios-requeststateforregion-returning-unknown-after-didstartmonitoringfor/54425773#54425773", "title": "iOS requestStateForRegion returning .unknown after didStartMonitoringFor", "body": "<p>It's because you use the entry parameter <code>region</code> inside a block without making it block variable.</p>\n\n<p>In <code>- (void)locationManager:(CLLocationManager *)manager didStartMonitoringForRegion:(nonnull CLRegion *)region {</code> add :</p>\n\n<pre><code>__block CLRegion *blockRegion = region;\n</code></pre>\n\n<p>and use <code>blockRegion</code> inside you block.</p>\n"}], "owner": {"reputation": 427, "user_id": 3380970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb71049ce9a52bd81bdd1eec14e870?s=128&d=identicon&r=PG&f=1", "display_name": "xiience", "link": "https://stackoverflow.com/users/3380970/xiience"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 54425773, "answer_count": 1, "score": 1, "last_activity_date": 1548780139, "creation_date": 1548778429, "last_edit_date": 1548779183, "question_id": 54425265, "link": "https://stackoverflow.com/questions/54425265/ios-requeststateforregion-returning-unknown-after-didstartmonitoringfor", "title": "iOS requestStateForRegion returning .unknown after didStartMonitoringFor", "body": "<p>Confused about why my AppDelegate CLLocationManager sometimes can't successfully determine CLRegionState (CLRegionState.unknown), even though I am making sure to not call <code>requestStateForRegion</code> until after <code>didStartMonitoringForRegion</code>. Seems like some sort of race condition that I don't understand how I'm not handling.</p>\n\n<p>Related, what am I supposed to do when I get CLRegionState.unknown? Keep requesting state until I get something? (that seems bad)</p>\n\n<p>AppDelegate:</p>\n\n<pre><code>- (BOOL)application:(UIApplication*)application didFinishLaunchingWithOptions:(NSDictionary*)launchOptions\n{   \n    self.locationManager = [[CLLocationManager alloc] init];\n    [self.locationManager setDelegate:self];\n\n    return [super application:application didFinishLaunchingWithOptions:launchOptions];\n}\n\n- (void)locationManager:(CLLocationManager *)manager didStartMonitoringForRegion:(nonnull CLRegion *)region {\n    NSLog(@\"%@\", [NSString stringWithFormat:@\"didStartMonitoringFor region with ID: %@\", region.identifier]);\n    // delay per https://stackoverflow.com/a/33288103/3380970\n    double delayInSeconds = 2.0;\n    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));\n    dispatch_after(popTime, dispatch_get_main_queue(), ^(void) {\n        [self.locationManager requestStateForRegion:region];\n    });\n}\n\n- (void)locationManager:(CLLocationManager *)manager didDetermineState:(CLRegionState)state forRegion:(nonnull CLRegion *)region {\n    NSLog(@\"%@\", [NSString stringWithFormat:@\"didDetermineState from AppDelegate CLLocationManager: %@ (%ld)\", region.identifier, (long)state ]);\n    NSString *baseUrl = [self fetchBaseUrl];\n    switch (state) {\n        case CLRegionStateInside:\n            NSLog(@\"%@\", @\"Determined .inside state for geofence\");\n            [HelperFunctions postGeofenceTransitionWithBaseUrl:baseUrl region:region transitionType:1];\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<p>Abdriged logs:</p>\n\n<pre><code>Adding geofence with ID: 5:90fd74e0-cbc7-dbe5-20fc-b870203055e1    \nAdding geofence with ID: 8:d408f466-ea1b-6cbb-382f-f7567db61157\nAdding geofence with ID: 7:ba97dda2-39a7-9b95-8ea9-ea183d69a858\n\ndidStartMonitoringFor region with ID: 5:90fd74e0-cbc7-dbe5-20fc-b870203055e1\ndidStartMonitoringFor region with ID: 8:d408f466-ea1b-6cbb-382f-f7567db61157\ndidStartMonitoringFor region with ID: 7:ba97dda2-39a7-9b95-8ea9-ea183d69a858\n\ndidDetermineState from AppDelegate CLLocationManager: 5:90fd74e0-cbc7-dbe5-20fc-b870203055e1 (0)\ndidDetermineState from AppDelegate CLLocationManager: 8:d408f466-ea1b-6cbb-382f-f7567db61157 (0)\ndidDetermineState from AppDelegate CLLocationManager: 7:ba97dda2-39a7-9b95-8ea9-ea183d69a858 (0)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "mapkit", "mkmapview"], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 919918, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/e8ae3876d248ae26c2dfdb2a41dbcf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne", "link": "https://stackoverflow.com/users/919918/wayne"}, "is_accepted": false, "score": 1, "last_activity_date": 1548795340, "creation_date": 1548795340, "answer_id": 54429435, "question_id": 54425107, "link": "https://stackoverflow.com/questions/54425107/mkmapview-setvisiblemaprect-edgepadding-changes-camera-heading-when-animating/54429435#54429435", "title": "MKMapView setVisibleMapRect edgePadding changes Camera heading when Animating", "body": "<p>Here is a working solution by capturing the MkMapViews current camera\nand setting the MKMapViews camera during the animation.</p>\n\n<pre><code>MKMapCamera *mapCamera = [[self.mapView camera] copy]; // the fix 1 of 2   \n[UIView animateWithDuration:0.4 animations:^{\n    // top, left, bottom, right\n    self.mapView.layoutMargins = UIEdgeInsetsMake(y, 0, -y, 0);\n    [self.mapView setVisibleMapRect:[self.mapView visibleMapRect]\n                        edgePadding:UIEdgeInsetsMake(self.offset, 0.0, 0.0, 0.0)\n                           animated:YES];\n    [self.mapView setCamera:mapCamera]; // the fix 2 of 2\n}];\n</code></pre>\n"}], "owner": {"reputation": 2566, "user_id": 919918, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/e8ae3876d248ae26c2dfdb2a41dbcf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne", "link": "https://stackoverflow.com/users/919918/wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548795340, "creation_date": 1548777932, "last_edit_date": 1548793443, "question_id": 54425107, "link": "https://stackoverflow.com/questions/54425107/mkmapview-setvisiblemaprect-edgepadding-changes-camera-heading-when-animating", "title": "MKMapView setVisibleMapRect edgePadding changes Camera heading when Animating", "body": "<p>I am animating the MKMapView by adjusting the edgePadding; however when doing the animation the Map is <strong>rotated during the animation</strong> and the existing camera heading of the mapView is lost during the animation.</p>\n\n<p>Restoring the heading is not ideal; And setting the camera heading during the animation breaks the animation and no animation is performed; the orientation persists but the offsets are not animated.</p>\n\n<p>The code snippet below has the effect of animating the maps offset, except that the map heading is flipped; when the animation completes I fix the heading.</p>\n\n<p>I want the map views heading to stay as it is and only animate the offset\nwhen adjusting the MKMapView's inset, which is being animated.</p>\n\n<p><em>please assist</em></p>\n\n<pre><code>self.mapView.rotateEnabled = YES;\nself.mapView.camera.heading = deg;\n\n[MKMapView animateWithDuration:0.4 animations:^{\n    // top, left, bottom, right\n    self.mapView.layoutMargins = UIEdgeInsetsMake(y, 0, -y, 0);\n    [self.mapView setVisibleMapRect:[self.mapView visibleMapRect]\n                        edgePadding:UIEdgeInsetsMake(self.offset, 0.0, 0.0, 0.0)\n                           animated:YES];\n} completion:^(BOOL finished) {\n    self.mapView.camera.heading = deg;\n    self.mapView.rotateEnabled = NO;\n}];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "cocos2d-iphone"], "comments": [{"owner": {"reputation": 1555, "user_id": 7410943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFvhx.jpg?s=128&g=1", "display_name": "komeil majidi", "link": "https://stackoverflow.com/users/7410943/komeil-majidi"}, "edited": false, "score": 0, "creation_date": 1548777725, "post_id": 54424835, "comment_id": 95660253, "body": "Why did you use CCRenderTexture instead of using cc.RenderTexture?"}, {"owner": {"reputation": 4432, "user_id": 2173428, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87Fvc.png?s=128&g=1", "display_name": "iPhoneProcessor", "link": "https://stackoverflow.com/users/2173428/iphoneprocessor"}, "reply_to_user": {"reputation": 1555, "user_id": 7410943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rFvhx.jpg?s=128&g=1", "display_name": "komeil majidi", "link": "https://stackoverflow.com/users/7410943/komeil-majidi"}, "edited": false, "score": 0, "creation_date": 1548778492, "post_id": 54424835, "comment_id": 95660695, "body": "@komeilmajidi its Cocos2d 2.0 old code created during 2014. Now we used Cocos2d 2.2 and other things working...cc.RenderTexture not available in Cocos2d 2.2 right ?"}], "owner": {"reputation": 4432, "user_id": 2173428, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/87Fvc.png?s=128&g=1", "display_name": "iPhoneProcessor", "link": "https://stackoverflow.com/users/2173428/iphoneprocessor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1560347012, "creation_date": 1548777123, "last_edit_date": 1560347012, "question_id": 54424835, "link": "https://stackoverflow.com/questions/54424835/cocos2d-2-0-worked-code-not-working-in-cocos2d-2-2", "title": "Cocos2d 2.0 worked code not working in Cocos2d 2.2", "body": "<p>In my project below code used. It worked in iOS9 - Cocos2d 2.0. Now in Cocos2d 2.2 same code not working...no crash but platform image not coming...How to fix this for Cocos2d 2.2 ?</p>\n\n<pre><code>-(CCSprite *)stripedSpriteWithColor1:(ccColor4F)c1 color2:(ccColor4F)c2 textureWidth:(float)textureWidth\ntextureHeight:(float)textureHeight stripes:(int)nStripes {\n\n    // 1: Create new CCRenderTexture\n    CCRenderTexture *rt = [CCRenderTexture renderTextureWithWidth:textureWidth height:textureHeight];\n\n    // 2: Call CCRenderTexture:begin\n    [rt beginWithClear:c1.r g:c1.g b:c1.b a:c1.a];\n\n    // 3: Draw into the texture\n\n    // Layer 1: Stripes\n    CGPoint vertices[nStripes*6];\n    ccColor4F colors[nStripes*6];\n\n    int nVertices = 0;\n    float x1 = -textureHeight;\n    float x2;\n    float y1 = textureHeight;\n    float y2 = 0;\n    float dx = textureWidth / nStripes * 2;\n    float stripeWidth = dx/2;\n    for (int i=0; i&lt;nStripes; i++) {\n        x2 = x1 + textureHeight;\n\n        vertices[nVertices] = CGPointMake(x1, y1);\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n\n        vertices[nVertices] = CGPointMake(x1+stripeWidth, y1);\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n\n        vertices[nVertices] = CGPointMake(x2, y2);\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n\n        vertices[nVertices] = vertices[nVertices-2];\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n\n        vertices[nVertices] = vertices[nVertices-2];\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n\n        vertices[nVertices] = CGPointMake(x2+stripeWidth, y2);\n        colors[nVertices++] = (ccColor4F){c2.r, c2.g, c2.b, c2.a};\n        x1 += dx;\n    }\n\n    self.shaderProgram =\n    [[CCShaderCache sharedShaderCache] programForKey:kCCShader_PositionColor];\n\n    CCSprite *noise;\n    noise = [CCSprite spriteWithFile:@\"FarmBase.png\"];\n    [noise setBlendFunc:(ccBlendFunc){GL_DST_COLOR, GL_ZERO}];\n    noise.position = ccp(textureWidth/2, textureHeight/2);\n    [noise visit];\n    [rt end];\n\n    // 5: Create a new Sprite from the texture\n    return [CCSprite spriteWithTexture:rt.sprite.texture];\n}\n</code></pre>\n\n<p><strong>UPDATES:</strong>\nHere is solution for shaders problem in cocos2d v2.2 <a href=\"https://stackoverflow.com/questions/55104186/shader-program-not-working-in-cocos2d-2-2-obj-c-ios-12\">Shader Program not working in Cocos2d 2.2 Obj.C iOS 12</a></p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "ios-camera"], "owner": {"reputation": 21, "user_id": 10985029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vQi_BOwgIH8/AAAAAAAAAAI/AAAAAAAAAAk/1fBwFssDyKw/photo.jpg?sz=128", "display_name": "Richard Tyson", "link": "https://stackoverflow.com/users/10985029/richard-tyson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1550058638, "creation_date": 1548772848, "last_edit_date": 1550058638, "question_id": 54423474, "link": "https://stackoverflow.com/questions/54423474/how-to-lock-focus-for-flash-photo-capture-on-iphone-10-is-there-an-api-bug", "title": "How to lock focus for flash photo capture on iPhone 10, is there an api bug?", "body": "<p>I'm having issues locking the focus point and taking a photo with flash on iPhone X (iOS 12.0) using the AVFoundation kit. How do I lock focus correctly on iOS 10 and up? </p>\n\n<p>I need to take a photo with flash, but prevent auto-focus kicking in. I need a specific lens position during capture.</p>\n\n<p>I've made the simplest app I can that turns Flash on using an <a href=\"https://developer.apple.com/documentation/avfoundation/avcapturephotosettings\" rel=\"nofollow noreferrer\">AVCapturePhotoSettings</a> object, locks focus on the <a href=\"https://developer.apple.com/documentation/avfoundation/avcapturedevice\" rel=\"nofollow noreferrer\">AVCaptureDevice</a> using <code>[device setFocusMode:AVCaptureFocusModeLocked]</code> and then takes a picture using <a href=\"https://developer.apple.com/documentation/avfoundation/avcapturephotooutput/1648765-capturephotowithsettings?language=objc\" rel=\"nofollow noreferrer\">capturePhotoWithSettings</a>.</p>\n\n<p>Regardless of the focus lock, auto focus still often happens, particularly when the preview is out of focus. Am I missing any settings, or a new way to lock focus?</p>\n\n<p>I also tried adding <a href=\"https://developer.apple.com/documentation/avfoundation/avcapturedevice/1624617-setfocusmodelockedwithlenspositi?language=objc\" rel=\"nofollow noreferrer\">setFocusModeLockedWithLensPosition</a> which moves the lens position correctly, but it is still followed by an autofocus.</p>\n\n<p>Is there an app on the store than can successfully lock focus during a flash photo?</p>\n\n<pre><code>// ViewController.h\n//#import &lt;UIKit/UIKit.h&gt;\n//\n//@interface ViewController : UIViewController &lt;AVCapturePhotoCaptureDelegate&gt;\n//\n//@end\n\n#import &lt;AVFoundation/AVFoundation.h&gt;\n#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@property (nonatomic) AVCaptureSession *session;\n@property (nonatomic) AVCapturePhotoOutput *stillImageOutput;\n@property (nonatomic) AVCaptureVideoPreviewLayer *videoPreviewLayer;\n\n@property (weak, nonatomic) IBOutlet UIView *preview_view;\n@property (weak, nonatomic) IBOutlet UIButton *take_picture_btn;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n}\n\n-(void) viewDidAppear:(BOOL)animated\n{\n    self.session = [[AVCaptureSession alloc] init];\n    self.session.sessionPreset = AVCaptureSessionPresetMedium;\n\n    self.videoPreviewLayer = [AVCaptureVideoPreviewLayer layerWithSession:self.session];\n    self.videoPreviewLayer.videoGravity = AVLayerVideoGravityResizeAspect;\n    self.videoPreviewLayer.connection.videoOrientation = AVCaptureVideoOrientationPortrait;\n    [self.preview_view.layer addSublayer:self.videoPreviewLayer];\n\n    AVCaptureDevice *device = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];\n    AVCaptureDeviceInput* deviceInput = [AVCaptureDeviceInput deviceInputWithDevice:device error:NULL];\n    [self.session addInput:deviceInput];\n\n    self.stillImageOutput = [AVCapturePhotoOutput new];\n    [self.session addOutput:self.stillImageOutput];\n\n    [self.session commitConfiguration];\n\n    dispatch_queue_t globalQueue =  dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0);\n    dispatch_async(globalQueue, ^{\n        [self.session startRunning];\n        dispatch_async(dispatch_get_main_queue(), ^{\n            self.videoPreviewLayer.frame = self.preview_view.bounds;\n        });\n    });\n}\n\n- (void)viewWillDisappear:(BOOL)animated {\n    [super viewWillDisappear:animated];\n    [self.session stopRunning];\n}\n\n- (IBAction)take_picture:(id)sender {\n    AVCapturePhotoSettings *settings = [AVCapturePhotoSettings photoSettings];\n    settings.flashMode = AVCaptureFlashModeOn;\n    AVCaptureDevice* device = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];\n    [device lockForConfiguration:nil];\n    [device setFocusMode:AVCaptureFocusModeLocked];\n    [device unlockForConfiguration];\n    [self.stillImageOutput capturePhotoWithSettings:settings delegate:self];\n}\n\n- (void)captureOutput:(AVCapturePhotoOutput *)output didFinishProcessingPhoto:(AVCapturePhoto *)photo error:(nullable NSError *)error {\n    NSData *imageData = photo.fileDataRepresentation;\n    if (imageData) {\n        UIImage *image = [UIImage imageWithData:imageData];\n        UIImageWriteToSavedPhotosAlbum(image,nil,nil,nil);\n    }\n}\n\n@end\n</code></pre>\n\n<p>UDPATE: I've gone through Apples technical support. They have recognised this as a bug in the API on iPhone 8 and above. The auto-focus is not bypassed correctly when fixing the lens position. As of iOS 12.1.4 this is still an issue, but hopeful for a fix. No work around found as of yet.</p>\n"}, {"tags": ["ios", "objective-c", "uislider"], "answers": [{"tags": [], "owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "is_accepted": false, "score": 0, "last_activity_date": 1550135287, "creation_date": 1550135287, "answer_id": 54686702, "question_id": 54422327, "link": "https://stackoverflow.com/questions/54422327/how-to-apply-multiple-colors-to-a-uisliders-track-without-moving-sliders-thumb/54686702#54686702", "title": "How to apply multiple colors to a uislider&#39;s track without moving sliders thumb tint?", "body": "<h2> 1. Add an <code>imageView</code> with the gradient image <strong>or</strong> gradientView (using <code>CAGradientLayer</code>) below the slider.</h2>\n\n<h2> 2. Align it with the slider.</h2>\n\n<h2> 3. Clear color you don't want to see.</h2>\n\n<pre><code>slider.minimumTrackTintColor = .clear\nslider.maximumTrackTintColor = .clear\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 10706402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a146502d6a39b093fbd2d6f08410ff?s=128&d=identicon&r=PG&f=1", "display_name": "srivatsa", "link": "https://stackoverflow.com/users/10706402/srivatsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560665535, "creation_date": 1548768966, "last_edit_date": 1560665535, "question_id": 54422327, "link": "https://stackoverflow.com/questions/54422327/how-to-apply-multiple-colors-to-a-uisliders-track-without-moving-sliders-thumb", "title": "How to apply multiple colors to a uislider&#39;s track without moving sliders thumb tint?", "body": "<p>How to change Uislider trackcolor with gradient color which shows in below image gray and black.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KDp25.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KDp25.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 9715034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vigneshkumar G", "link": "https://stackoverflow.com/users/9715034/vigneshkumar-g"}, "edited": false, "score": 0, "creation_date": 1548764195, "post_id": 54420723, "comment_id": 95651367, "body": "This solution is for swift project. I am asking for Swift Framework target."}], "tags": [], "owner": {"reputation": 604, "user_id": 3706845, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0c0d0fbac32061a9587e49631ceb4827?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Dhorda", "link": "https://stackoverflow.com/users/3706845/parth-dhorda"}, "is_accepted": false, "score": 0, "last_activity_date": 1548774207, "last_edit_date": 1548774207, "creation_date": 1548763676, "answer_id": 54420723, "question_id": 54420591, "link": "https://stackoverflow.com/questions/54420591/how-to-use-objective-c-cocoapods-in-swift-framework/54420723#54420723", "title": "How to use Objective C Cocoapods in Swift Framework", "body": "<p>Just install the library in the project, then make a Bridging Header and import the header file of that framework in the Bridging Header.</p>\n\n<p>Refer this to create Bridging header <a href=\"https://mycodetips.com/ios/manually-adding-swift-bridging-header-1290.html\" rel=\"nofollow noreferrer\">Link</a></p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 9715034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vigneshkumar G", "link": "https://stackoverflow.com/users/9715034/vigneshkumar-g"}, "edited": false, "score": 0, "creation_date": 1548821872, "post_id": 54421019, "comment_id": 95676072, "body": "We cannot create bridging header for framework target. Above solution will work for App Target"}], "tags": [], "owner": {"reputation": 527, "user_id": 6681081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zya17.jpg?s=128&g=1", "display_name": "Parth", "link": "https://stackoverflow.com/users/6681081/parth"}, "is_accepted": false, "score": 0, "last_activity_date": 1548764713, "creation_date": 1548764713, "answer_id": 54421019, "question_id": 54420591, "link": "https://stackoverflow.com/questions/54420591/how-to-use-objective-c-cocoapods-in-swift-framework/54421019#54421019", "title": "How to use Objective C Cocoapods in Swift Framework", "body": "<p>You should do some silly task and you will be able to add Objective-c Framework as well as Objective-C Files.</p>\n\n<p>1) Create a header file and enter headerFile.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jXqPj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jXqPj.png\" alt=\"enter image description here\"></a></p>\n\n<p>2) Set Bridging header path like below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vrjyH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrjyH.png\" alt=\"enter image description here\"></a></p>\n\n<p>3) Import Objective-c Framework as well as Objective-C Files like below.</p>\n\n<pre><code>#import &lt;FBSDKCoreKit/FBSDKCoreKit.h&gt;\n#import &lt;FBSDKLoginKit/FBSDKLoginKit.h&gt;\n#import &lt;GooglePlus/GooglePlus.h&gt;\n#import &lt;GoogleOpenSource/GoogleOpenSource.h&gt;\n#import &lt;Google/SignIn.h&gt;\n#import \"FBFetchUserManager.h\"\n#import \"TGLStackedViewController.h\"\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 9715034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vigneshkumar G", "link": "https://stackoverflow.com/users/9715034/vigneshkumar-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1548774207, "creation_date": 1548763224, "question_id": 54420591, "link": "https://stackoverflow.com/questions/54420591/how-to-use-objective-c-cocoapods-in-swift-framework", "title": "How to use Objective C Cocoapods in Swift Framework", "body": "<p>My swift framework has dependency of Objective C Framework. How do I use that ?</p>\n\n<p>When I try to use Bridging Header, I am getting error like <strong>Framework Target doesn't support Bridging Header</strong></p>\n\n<p>After my search , I found answers for </p>\n\n<ol>\n<li>How to use Objective C Files in Swift Framework</li>\n<li>How to use Objective C Framework with swift project</li>\n</ol>\n\n<p>But I need solution for </p>\n\n<p>How to use Objective C Framework as dependency in Swift Framework ?</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["ios", "objective-c", "nsstring"], "comments": [{"owner": {"reputation": 5, "user_id": 10922736, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRIkdd_nZOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYt1LaTdr9UuI_uy3Bq_oIVjQwWHQ/mo/photo.jpg?sz=128", "display_name": "\ubc15\uacbd\ud658", "link": "https://stackoverflow.com/users/10922736/%eb%b0%95%ea%b2%bd%ed%99%98"}, "edited": false, "score": 0, "creation_date": 1548754697, "post_id": 54417842, "comment_id": 95645516, "body": "and using NSString *decodedString = [[NSString alloc] initWithData:decodedData encoding:kCFStringEncodingDOSKorean];  but result is same .."}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1548754978, "post_id": 54417842, "comment_id": 95645696, "body": "If something related to your question then add that code in your question instead of comment. And please specify what is <b>euc-kr</b> ??"}, {"owner": {"reputation": 5, "user_id": 10922736, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRIkdd_nZOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYt1LaTdr9UuI_uy3Bq_oIVjQwWHQ/mo/photo.jpg?sz=128", "display_name": "\ubc15\uacbd\ud658", "link": "https://stackoverflow.com/users/10922736/%eb%b0%95%ea%b2%bd%ed%99%98"}, "reply_to_user": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1548755744, "post_id": 54417842, "comment_id": 95646195, "body": "euc-kr is a character encoding scheme like utf-8,"}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1548756074, "post_id": 54417842, "comment_id": 95646404, "body": "Let me know is this type format is available <a href=\"https://developer.apple.com/documentation/swift/string/encoding\" rel=\"nofollow noreferrer\">here</a> in type properties section. Give me dummy string to test. If my code working properly then I will update the answer."}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1548756206, "post_id": 54417842, "comment_id": 95646481, "body": "P.S. check this post -&gt; <a href=\"https://github.com/hyuni/Blog-Swift/blob/master/Content/iOS%20%EC%97%90%EC%84%9C%20%ED%95%9C%EA%B8%80%20EUC-KR%20Encoding%20%EB%AC%B8%EC%A0%9C.md\" rel=\"nofollow noreferrer\">github.com/hyuni/Blog-Swift/blob/master/Content/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10922736, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRIkdd_nZOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYt1LaTdr9UuI_uy3Bq_oIVjQwWHQ/mo/photo.jpg?sz=128", "display_name": "\ubc15\uacbd\ud658", "link": "https://stackoverflow.com/users/10922736/%eb%b0%95%ea%b2%bd%ed%99%98"}, "edited": false, "score": 0, "creation_date": 1548810047, "post_id": 54418869, "comment_id": 95673462, "body": "ohhhhh perfect !! Perfect! I did not know CFStringConvertEncodingToNSStringEncoding. Thank you!"}], "tags": [], "owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "is_accepted": true, "score": 0, "last_activity_date": 1548757540, "creation_date": 1548757540, "answer_id": 54418869, "question_id": 54417842, "link": "https://stackoverflow.com/questions/54417842/how-to-decode-base64-nsstringusing-euc-kr-t-t/54418869#54418869", "title": "how to decode base64 NSString(using euc-kr) .. T.T", "body": "<p>Here is a working solution:</p>\n\n<p>Starting with:</p>\n\n<pre><code>NSString *str = @\"MjAxObPitbUgx9C7/bq4yKPAzrfCKLnov/LFzcH2xbTAzCkguPDB/SCw+LDt\";\nNSData *decodedData = [[NSData alloc] initWithBase64EncodedString:str options:0];\n</code></pre>\n\n<p>What you missed is that you can't really use <code>kCFStringEncodingEUC_KR</code> which is a <code>CFStringEncodings</code> with <code>initWithData:encoding:</code> with expects a <code>NSStringEncoding</code>.</p>\n\n<p>You can use <code>CFStringConvertEncodingToNSStringEncoding()</code> to convert it:</p>\n\n<pre><code>NSString *result = [[NSString alloc] initWithData:decodedData encoding:CFStringConvertEncodingToNSStringEncoding(kCFStringEncodingEUC_KR)];\nNSLog(@\"result: %@\", result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$&gt;result: 2019\ub144\ub3c4 \ud559\uc0dd\ubcf4\ud638\uc778\ub825(\ubc30\uc6c0\ud130\uc9c0\ud0b4\uc774) \ubaa8\uc9d1 \uacf5\uace0\n</code></pre>\n\n<p>If you want to use \"natively\" the <code>kCFStringEncodingEUC_KR</code>, and all the <code>CFDataRef</code>, <code>CFStringRef</code>, and use the bridge then to convert <code>CFStringRef</code> to <code>NSString</code>:</p>\n\n<pre><code>CFStringRef ref = CFStringCreateWithBytes(nil, [decodedData bytes], [decodedData length], kCFStringEncodingEUC_KR, false);\nNSString *result = (__bridge NSString *)ref;\nNSLog(@\"result: %@\", result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$&gt;result: 2019\ub144\ub3c4 \ud559\uc0dd\ubcf4\ud638\uc778\ub825(\ubc30\uc6c0\ud130\uc9c0\ud0b4\uc774) \ubaa8\uc9d1 \uacf5\uace0\n</code></pre>\n\n<p>You might need to do some changes, I'm not really familiar with <code>CFStringCreateWithBytes()</code>, check the documentation.</p>\n"}], "owner": {"reputation": 5, "user_id": 10922736, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fRIkdd_nZOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYt1LaTdr9UuI_uy3Bq_oIVjQwWHQ/mo/photo.jpg?sz=128", "display_name": "\ubc15\uacbd\ud658", "link": "https://stackoverflow.com/users/10922736/%eb%b0%95%ea%b2%bd%ed%99%98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 54418869, "answer_count": 1, "score": 0, "last_activity_date": 1548757737, "creation_date": 1548754462, "last_edit_date": 1548757737, "question_id": 54417842, "link": "https://stackoverflow.com/questions/54417842/how-to-decode-base64-nsstringusing-euc-kr-t-t", "title": "how to decode base64 NSString(using euc-kr) .. T.T", "body": "<p>I have string </p>\n\n<p>this string is encoded with euc-kr.. </p>\n\n<p>I try this code</p>\n\n<pre><code>NSString *str = MjAxObPitbUgx9C7/bq4yKPAzrfCKLnov/LFzcH2xbTAzCkguPDB/SCw+LDt\n\nNSData *decodedData = [[NSData alloc] initWithBase64EncodedString:str options:0];\n\nNSString *decodedString = [[NSString alloc] initWithData:decodedData encoding:kCFStringEncodingEUC_KR];\n</code></pre>\n\n<p>but result is null.. </p>\n\n<p>what is wrong..? and I try </p>\n\n<pre><code>NSString *decodedString = [[NSString alloc] initWithData:decodedData encoding:kCFStringEncodingDOSKorean];\n</code></pre>\n\n<p>and</p>\n\n<pre><code>NSString *decodedString = [[NSString alloc] initWithData:decodedData encoding:kCFStringEncodingMacKorean];\n</code></pre>\n\n<p>but result is same..\nencoding:kCFStringEncodingMacKorean's result is not korean.;;;;;</p>\n"}, {"tags": ["objective-c", "firebase", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 5159091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd101627d63a198769b666ed4a1b9130?s=128&d=identicon&r=PG&f=1", "display_name": "Jafar Mohammed", "link": "https://stackoverflow.com/users/5159091/jafar-mohammed"}, "is_accepted": false, "score": 0, "last_activity_date": 1548825371, "creation_date": 1548825371, "answer_id": 54433724, "question_id": 54415216, "link": "https://stackoverflow.com/questions/54415216/how-to-observer-when-the-child-is-removed-from-firebase-db/54433724#54433724", "title": "How to observer when the child is removed from firebase db", "body": "<p>I am not sure why it's like this. But it worked when I changed the way I take the reference.</p>\n\n<p>The reference I set for the remove observer is as below</p>\n\n<pre><code>fdb_ = [ [ [ FIRDatabase database ] reference ] child:currentUser_.uid ];\n</code></pre>\n\n<p>And then I changed it to as below code, it worked for me. It now calls the key I remove (folder_ID1) on remove observer. I had to set observer for folders instead one step higher key.</p>\n\n<pre><code>FIRDatabaseReference* fdb = [[[[ FIRDatabase database ] reference ]\n                               child:currentUser_.uid ]\n                              child:@\"folders\" ];\n[ fdb observeEventType:FIRDataEventTypeChildRemoved\n             withBlock:^(FIRDataSnapshot * _Nonnull snapshot)\n {\n     NSLog( @\"Remove Folder remove observer %@\", snapshot.key );\n }];\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5159091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd101627d63a198769b666ed4a1b9130?s=128&d=identicon&r=PG&f=1", "display_name": "Jafar Mohammed", "link": "https://stackoverflow.com/users/5159091/jafar-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548825371, "creation_date": 1548744016, "last_edit_date": 1548744722, "question_id": 54415216, "link": "https://stackoverflow.com/questions/54415216/how-to-observer-when-the-child-is-removed-from-firebase-db", "title": "How to observer when the child is removed from firebase db", "body": "<p>I am trying to sync data between two devices using Real-time database in Firebase. When I remove the value of a child. I am not getting the observer event(FIRDataEventTypeChildRemoved) for deleting the child.</p>\n\n<p>Tree structure:</p>\n\n<pre><code>userID\n    folders\n        folder_ID1 // to be deleted\n            folder_name:\"Home\"\n            folder_key:\"folder_ID1\"\n        folder_ID2\n            folder_name:\"Home\"\n            folder_key:\"folder_ID2\"\n</code></pre>\n\n<p>Now when I delete the child from my first device for the folder \"folder_ID1\" I get the event on FIRDataEventTypeChildChanged observer but not in FIRDataEventTypeChildRemoved. So I am not able to remove the folder in my second device.</p>\n\n<pre><code>[ fdb_ observeEventType:FIRDataEventTypeChildChanged withBlock:^(FIRDataSnapshot* snapshot)\n {\n      // Called with the key \"folders\" which has only \"folder_ID2\" after the remove value is called\n }\n\n[ fdb_ observeEventType:FIRDataEventTypeChildRemoved withBlock:^(FIRDataSnapshot* snapshot)\n {\n      // Not called. But if I call removeValue for the child \"folders\" this observer is called.\n }\n</code></pre>\n\n<p>This is the method I use to remove the child id I want</p>\n\n<pre><code>[[[[[[ FIRDatabase database ] reference ]\n    child:currentUser_.uid ]\n    child:@\"folders\" ]\n    child:@\"folder_ID1\" ] removeValueWithCompletionBlock:^(NSError * _Nullable error, FIRDatabaseReference * _Nonnull ref) {\n    NSLog( @\"Error %@\", error );\n}];\n</code></pre>\n\n<p>The remove function is called without any error. But I am not getting the event on the second device. So I am unable to delete the folder in my second device. Also on removing the child_key calls the event for Changed with the snapshot.key \"folders\". Which has only the folder(folder_ID2) data with it</p>\n\n<p>If I can get the key which I deleted in removed observer I can delete the folder with the key in my second device.</p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "core-media"], "comments": [{"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1548745640, "post_id": 54414588, "comment_id": 95640995, "body": "<a href=\"https://stackoverflow.com/questions/7674892/save-samplebuffer-in-array-avfoundation\" title=\"save samplebuffer in array avfoundation\">stackoverflow.com/questions/7674892/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5114392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_wdf3MfKNCU/AAAAAAAAAAI/AAAAAAAABE0/YJiZEnJPqjQ/photo.jpg?sz=128", "display_name": "G. Hazarath Reddy", "link": "https://stackoverflow.com/users/5114392/g-hazarath-reddy"}, "edited": false, "score": 0, "creation_date": 1548769075, "post_id": 54419200, "comment_id": 95654418, "body": "Thanks for answer. I will check with your process."}], "tags": [], "owner": {"reputation": 534, "user_id": 8228526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23e46f36398e38e8a1bd64574b9ae7b?s=128&d=identicon&r=PG&f=1", "display_name": "NoHalfBits", "link": "https://stackoverflow.com/users/8228526/nohalfbits"}, "is_accepted": false, "score": 0, "last_activity_date": 1548758473, "creation_date": 1548758473, "answer_id": 54419200, "question_id": 54414588, "link": "https://stackoverflow.com/questions/54414588/type-argument-cmsamplebufferref-aka-struct-opaquecmsamplebuffer-is-neith/54419200#54419200", "title": "Type argument &#39;CMSampleBufferRef&#39; (aka &#39;struct opaqueCMSampleBuffer *&#39;) is neither an Objective-C object nor a block type", "body": "<pre><code>// defining the mutable array\nNSMutableArray* sampleBuffers = [[NSMutableArray alloc] init];\n\n// adding a sample buffer:\nCMSampleBufferRef sampleBuffer = (...)\n[sampleBuffers addObject:(__bridge id)sampleBuffer];\n</code></pre>\n\n<p>Note: Adding the sample buffer to the array will increment the retain count of the buffer; the retain count will be decremented when the buffer is removed from the array. Make sure the source of your sample buffers is fine with retaining the buffers for an extended period of time (some buffer pools might not like this).</p>\n"}], "owner": {"reputation": 57, "user_id": 5114392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_wdf3MfKNCU/AAAAAAAAAAI/AAAAAAAABE0/YJiZEnJPqjQ/photo.jpg?sz=128", "display_name": "G. Hazarath Reddy", "link": "https://stackoverflow.com/users/5114392/g-hazarath-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548758473, "creation_date": 1548740840, "question_id": 54414588, "link": "https://stackoverflow.com/questions/54414588/type-argument-cmsamplebufferref-aka-struct-opaquecmsamplebuffer-is-neith", "title": "Type argument &#39;CMSampleBufferRef&#39; (aka &#39;struct opaqueCMSampleBuffer *&#39;) is neither an Objective-C object nor a block type", "body": "<p>I want to store <code>CMSampleBufferRef</code> in mutable array for that I am trying to use below code</p>\n\n<pre><code>NSMutableArray&lt;CMSampleBufferRef&gt; *buffers;\n</code></pre>\n\n<p>But I am getting this error </p>\n\n<pre><code>Type argument 'CMSampleBufferRef' (aka 'struct opaqueCMSampleBuffer *') is neither an Objective-C object nor a block type\n</code></pre>\n\n<p>In swift we can write like this, it's working good</p>\n\n<pre><code> var buffers = [CMSampleBuffer]()\n</code></pre>\n\n<p>I want to know how to write that in Objective-C and store sample buffers in mutable array. Suggest me solution for this.</p>\n"}, {"tags": ["objective-c", "cgcontextdrawpdfpage"], "comments": [{"owner": {"reputation": 61, "user_id": 5633434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/180d7938a5663663436074b9ef71402a?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir", "link": "https://stackoverflow.com/users/5633434/mudassir"}, "edited": false, "score": 0, "creation_date": 1548741007, "post_id": 54414454, "comment_id": 95639333, "body": "The first image is the screenshot of my final pdf file. The first second one is the source view that I have to convert."}, {"owner": {"reputation": 12752, "user_id": 1140335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tkXuD.png?s=128&g=1", "display_name": "TheTiger", "link": "https://stackoverflow.com/users/1140335/thetiger"}, "edited": false, "score": 0, "creation_date": 1548741011, "post_id": 54414454, "comment_id": 95639335, "body": "If you want to make any Edit please do it in correct way so that it should be readable."}, {"owner": {"reputation": 12752, "user_id": 1140335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tkXuD.png?s=128&g=1", "display_name": "TheTiger", "link": "https://stackoverflow.com/users/1140335/thetiger"}, "edited": false, "score": 0, "creation_date": 1548741152, "post_id": 54414454, "comment_id": 95639381, "body": "First try capturing the screenshot of main view and save that image into desktop or directory, Open it and check if it is correct, then make PDF of it."}, {"owner": {"reputation": 61, "user_id": 5633434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/180d7938a5663663436074b9ef71402a?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir", "link": "https://stackoverflow.com/users/5633434/mudassir"}, "reply_to_user": {"reputation": 12752, "user_id": 1140335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tkXuD.png?s=128&g=1", "display_name": "TheTiger", "link": "https://stackoverflow.com/users/1140335/thetiger"}, "edited": false, "score": 0, "creation_date": 1548741880, "post_id": 54414454, "comment_id": 95639623, "body": "I have checked there is a slight difference but not as in pdf. Also, in pdf file the text should be copied, that is why i&#39;m using CGContext."}, {"owner": {"reputation": 61, "user_id": 5633434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/180d7938a5663663436074b9ef71402a?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir", "link": "https://stackoverflow.com/users/5633434/mudassir"}, "reply_to_user": {"reputation": 12752, "user_id": 1140335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tkXuD.png?s=128&g=1", "display_name": "TheTiger", "link": "https://stackoverflow.com/users/1140335/thetiger"}, "edited": false, "score": 0, "creation_date": 1549533662, "post_id": 54414454, "comment_id": 95939101, "body": "Can anyone suggest any solution?"}], "owner": {"reputation": 61, "user_id": 5633434, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/180d7938a5663663436074b9ef71402a?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir", "link": "https://stackoverflow.com/users/5633434/mudassir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548931825, "creation_date": 1548740179, "last_edit_date": 1548931825, "question_id": 54414454, "link": "https://stackoverflow.com/questions/54414454/how-to-fix-the-translation-problem-when-drawing-a-label-with-rotation", "title": "How to fix the translation problem when drawing a Label with Rotation", "body": "<p>I have a <code>View</code> with some <code>subviews</code> on it like <code>Labels</code> and <code>ImageViews</code>. The <code>subviews</code> can have any transformation. I have to convert the <code>View</code> into <strong>PDF</strong> using <code>CGContext</code>. The <strong>PDF</strong> is created but there is issue in <code>label</code> positions in final <strong>PDF</strong> file when I rotate them in <code>View</code>. I don't know where I am doing wrong. I am using a Category to Draw hierarchy.</p>\n\n<p>Below is my code and Source view and final <strong>PDF</strong>. \n<a href=\"https://i.stack.imgur.com/ym5km.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ym5km.png\" alt=\"Original View\"></a> <a href=\"https://i.stack.imgur.com/SErsj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SErsj.png\" alt=\"PDF File created\"></a></p>\n\n<pre><code>UIGraphicsBeginPDFContextToFile(myPathDocs, CGRectMake(0, 0, 612, 792), nil);\n// Mark the beginning of a new page.\nUIGraphicsBeginPDFPageWithInfo(CGRectMake(0, 0, 612, 792), nil);\nCGContextSetFillColorWithColor(UIGraphicsGetCurrentContext(),bgColor.CGColor);\nCGContextFillRect(UIGraphicsGetCurrentContext(),CGRectMake(0, 0, 612, 792));\n    [_pdfView drawHierarchy];\nUIGraphicsEndPDFContext();\n\n\n// Category\n#import \"UIView+HierarchicalDrawing.h\"\n\n\n@implementation UIView (HierarchicalDrawing)\n\n- (void)drawHierarchy {\n\n    [self layoutSubviews];\n\n    CGContextRef c = UIGraphicsGetCurrentContext();\n    CGContextSaveGState(c);\n\n    CGContextTranslateCTM(c, self.frame.origin.x, self.frame.origin.y);\n\n    if (self.backgroundColor != nil) {\n        CGContextSetFillColorWithColor(c, [self.backgroundColor CGColor]);\n        CGContextFillRect(c, self.bounds);\n    }\n    if ([self isKindOfClass:[UIImageView class]]) {\n        if(self.layer.shadowColor) {\n            CGContextSetShadowWithColor(c, self.layer.shadowOffset, 0.0, self.layer.shadowColor);\n        }\n    }\n\n    if ([self isKindOfClass:[UILabel class]]) {\n\n        CGPoint centrePoint = self.center;\n        CGFloat angle = atan2f(self.transform.b, self.transform.a);\n\n        CGContextRotateCTM(c, angle); \n\n    }\n\n    [self drawRect:self.bounds];\n\n    if(self.clipsToBounds) CGContextClipToRect(c, self.bounds);\n\n    for(UIView *v in self.subviews) {\n        if(v.hidden) continue;\n        [v drawHierarchy];\n    }\n    //    NSLog(@\"counter is %d\",counter);\n    CGContextRestoreGState(c);\n}\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "objective-c-blocks"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1548730309, "post_id": 54413134, "comment_id": 95636914, "body": "How is <code>kick network download for url</code> blocking? Show that code.  If you are using any of the standard network operation techniques that will be an asynchronous operation."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 2, "creation_date": 1548730642, "post_id": 54413134, "comment_id": 95636979, "body": "&quot;I was hoping the number of threads which get created would be only 5&quot; Could it be that you are confused between threads, on the one hand, and queues / operations on the other? They are not the same thing. The difference has been discussed at length here already..."}, {"owner": {"reputation": 8006, "user_id": 697461, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1afbbe4a51ae2a328cff192aa8128a96?s=128&d=identicon&r=PG", "display_name": "agent.smith", "link": "https://stackoverflow.com/users/697461/agent-smith"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1548731169, "post_id": 54413134, "comment_id": 95637087, "body": "I have updated question. So, I wait in my network download by grabbing a lock and waiting for it to get signaled.  @matt: You could be right there and let me read more of it."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1548732288, "post_id": 54413134, "comment_id": 95637321, "body": "So you are making a new NSURLSession each time? This means you are surrendering the power of a single NSURLSession to limit the number of connections. \u2014 In my opinion you should re-ask this whole question describing what you are <i>really trying to do</i>. It sounds to me like this might be an x-y question: maybe you have made a wrong assumption about how to accomplish something and now you&#39;re wondering why your assumed solution isn&#39;t working. Instead, tell us what you&#39;re actually trying to solve."}, {"owner": {"reputation": 8006, "user_id": 697461, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1afbbe4a51ae2a328cff192aa8128a96?s=128&d=identicon&r=PG", "display_name": "agent.smith", "link": "https://stackoverflow.com/users/697461/agent-smith"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1548734065, "post_id": 54413134, "comment_id": 95637667, "body": "@matt: I agree and I also know I can instead create multiple NSDownloadDataTask which is the right approach. And let us assume I am doing that. The reason I am creating multiple sessions is because of legacy code nd  have some time constrainst and that&#39;s why I have to create multiple sessions."}, {"owner": {"reputation": 8006, "user_id": 697461, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1afbbe4a51ae2a328cff192aa8128a96?s=128&d=identicon&r=PG", "display_name": "agent.smith", "link": "https://stackoverflow.com/users/697461/agent-smith"}, "edited": false, "score": 0, "creation_date": 1548785742, "post_id": 54413134, "comment_id": 95664590, "body": "I understood little more about this behavior that we can enqueue as many operations as we want. But queue would execute simultaneous operations only specified by maxConcurrentOperations. So, if I don&#39;t want to enqueue more operations then I should just wait."}], "owner": {"reputation": 8006, "user_id": 697461, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1afbbe4a51ae2a328cff192aa8128a96?s=128&d=identicon&r=PG", "display_name": "agent.smith", "link": "https://stackoverflow.com/users/697461/agent-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548742213, "creation_date": 1548729968, "last_edit_date": 1548742213, "question_id": 54413134, "link": "https://stackoverflow.com/questions/54413134/nsoperationqueue-async-task-and-maxconcurrentoperationcount", "title": "NSOperationQueue, async task and maxConcurrentOperationCount", "body": "<p>I am writing some network specific multithreaded code. I already have dispatch_group specific sample working. \nBut I came across NSOperationQueue and wanted to give a try. </p>\n\n<p>At high level my pseudo code looks like below: </p>\n\n<ol>\n<li>I initialize NSOperationQueue and set maxConcurrentOperationCount as some finite number (5)</li>\n<li>I associate a concurrent queue with this NSOperationQueue. </li>\n<li>Then I start adding NSOperationBlocks to this queue. That syntax looks like follows:   </li>\n</ol>\n\n \n\n<pre><code>{ \n    for (NSURL url in allUrls) {\n        NSBlockOperation *jtOperation = [NSBlockOperation blockOperationWithBlock:^{\n           [kick network download for url which is blocking in nature]) \n        }];\n        [operationBlockQueue addOperation:jtOperation];\n    }\n\n//wait here till all urls are downloaded.\n//Keep printing [operationQueue operationCount] after every 30 seconds \n\n//and url download code looks like: \n1. Initialize NSURLSession. \n2. Add NSDataTask to it. \n3. Wait till callbacks return. (success or error) (using blocking dispatch_semaphore)\n4. After success/failure return.   \n}\n</code></pre>\n\n<p>I was hoping the number of threads which get created would be only 5. But I can see the number of concurrent threads as 200. I suspect this all boils down to synchronous/async blocks. But I am still confused as my code block is blocking. </p>\n\n<p>I also tried one simple exercise: </p>\n\n \n\n<pre><code>    int var = 2;\n    dispatch_queue_t browseQueue = dispatch_queue_create(\"com.myqueue.msdbrowse\", DISPATCH_QUEUE_CONCURRENT);\n    NSOperationQueue *myOpQueue = [[NSOperationQueue alloc]init];\n    [myOpQueue setMaxConcurrentOperationCount:5];\n    [myOpQueue setUnderlyingQueue:browseQueue];\n    for (i=0; i&lt;25; i++) {\n        [myOpQueue addOperationWithBlock:^{\n            NSLog(@\"value of i is %d\",i);\n            while (var != 3) {\n\n            }\n        }];\n    }\n\n     while(1) {\n         NSLog(@\"total concurrent queues are:%d\",[myOpQueue operationCount]);\n         sleep(5);\n     }\nand here output was total concurrent queues are 25. \n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 0, "last_activity_date": 1548731469, "last_edit_date": 1548731469, "creation_date": 1548731134, "answer_id": 54413261, "question_id": 54412917, "link": "https://stackoverflow.com/questions/54412917/how-to-use-an-objective-c-function-with-block-in-swift4-in-a-noescap-way/54413261#54413261", "title": "How to use an Objective-C function with block in Swift4 in a @noescap way?", "body": "<p>As the caller, you can't change when the closure is executed. That's up to the <code>read()</code> function. If you control that function, you'll need to modify it to call the closure immediately. If you don't control it, then you can't modify how it behaves.</p>\n\n<p>You can convert an asynchronous call into a synchronous call using a <code>DispatchGroup</code> as described in <a href=\"https://stackoverflow.com/questions/42484281/waiting-until-the-task-finishes\">Waiting until the task finishes</a>. However, you can't make a database call on the main queue; you risk crashing the app. As a general rule, you should just use async calls in this case (i.e. make <code>readNovelIds</code> also be asynchronous and take a completion handler).</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 7283209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3dca19df69fb54741d015461c244899?s=128&d=identicon&r=PG&f=1", "display_name": "Rabbit Zhou", "link": "https://stackoverflow.com/users/7283209/rabbit-zhou"}, "edited": false, "score": 0, "creation_date": 1548732154, "post_id": 54413312, "comment_id": 95637291, "body": "If I can modify the source code, how can I do to return readNovelsIds in a sync way?"}, {"owner": {"reputation": 799, "user_id": 6247147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLjkt.jpg?s=128&g=1", "display_name": "kubrick G", "link": "https://stackoverflow.com/users/6247147/kubrick-g"}, "reply_to_user": {"reputation": 123, "user_id": 7283209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3dca19df69fb54741d015461c244899?s=128&d=identicon&r=PG&f=1", "display_name": "Rabbit Zhou", "link": "https://stackoverflow.com/users/7283209/rabbit-zhou"}, "edited": false, "score": 0, "creation_date": 1548732419, "post_id": 54413312, "comment_id": 95637343, "body": "@RabbitZhou you have to execute the block inside <code>read()</code> , without passing it to other variable or block outside of the function."}], "tags": [], "owner": {"reputation": 799, "user_id": 6247147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLjkt.jpg?s=128&g=1", "display_name": "kubrick G", "link": "https://stackoverflow.com/users/6247147/kubrick-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1548731821, "last_edit_date": 1548731821, "creation_date": 1548731507, "answer_id": 54413312, "question_id": 54412917, "link": "https://stackoverflow.com/questions/54412917/how-to-use-an-objective-c-function-with-block-in-swift4-in-a-noescap-way/54413312#54413312", "title": "How to use an Objective-C function with block in Swift4 in a @noescap way?", "body": "<p>The reason why Xcode bridged the objective-c block as <code>@escaping</code> is because the block may be executed after the function return.  </p>\n\n<p>Since you don\u2019t own <code>YapDatabase</code>, you couldn\u2019t modify the source code to make it non-escaped, so you may wanna make your <code>readNovelIds</code> function takes a closure as parameter and pass the return value through closure.</p>\n\n<pre><code>static func readNovelIds(resultHandler: @escaping ([String]?) -&gt; ()) {\n    let account = XFAccountManager.share().account\n    var events: [XFNovelClickEvent]?\n    OTRDatabaseManager.shared.readOnlyDatabaseConnection?.read({ (transaction) in\n        events = XFNovelClickEvent.allNovelClickEvents(accountId: account.uniqueId, transaction: transaction)\n        if let clickEvents = events {\n            let readNovelsIds = clickEvents.map {\n                $0.bookId ?? \"\"\n            }\n            resultHandler(readNovelsIds)\n        }\n        resultHandler(nil)\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1548817096, "creation_date": 1548817096, "answer_id": 54432764, "question_id": 54412917, "link": "https://stackoverflow.com/questions/54412917/how-to-use-an-objective-c-function-with-block-in-swift4-in-a-noescap-way/54432764#54432764", "title": "How to use an Objective-C function with block in Swift4 in a @noescap way?", "body": "<p>If the method is in fact synchronous (i.e. it will not allow the block to escape its context), the Objective C header method should be decorated with NS_NOESCAPE.  Looking at the documentation (which does say it is synchronous), and the implementation, it should be annotated that way.</p>\n\n<pre><code>- (void)readWithBlock:(void (NS_NOESCAPE ^)(YapDatabaseReadTransaction *transaction))block;\n</code></pre>\n\n<p>That, I believe, should allow the Swift interface importer to add the @noescaping declaration.  You should probably file a bug request on the YapDatabase project; they can change it there.</p>\n"}], "owner": {"reputation": 123, "user_id": 7283209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3dca19df69fb54741d015461c244899?s=128&d=identicon&r=PG&f=1", "display_name": "Rabbit Zhou", "link": "https://stackoverflow.com/users/7283209/rabbit-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1584610830, "creation_date": 1548727950, "last_edit_date": 1584610830, "question_id": 54412917, "link": "https://stackoverflow.com/questions/54412917/how-to-use-an-objective-c-function-with-block-in-swift4-in-a-noescap-way", "title": "How to use an Objective-C function with block in Swift4 in a @noescap way?", "body": "<p>I'm developing an iOS app in Swift4 with an Object-C framework called 'YapDatabase'. There is an Object-C function with a block like this in class 'YapDatabaseConnection':</p>\n\n<pre><code>- (void)readWithBlock:(void (^)(YapDatabaseReadTransaction *transaction))block;\n</code></pre>\n\n<p>I use the function in this way:</p>\n\n<pre><code>static func readNovelIds() -&gt; [String]? {        \n    let account = XFAccountManager.share().account\n    var events: [XFNovelClickEvent]?\n    OTRDatabaseManager.shared.readOnlyDatabaseConnection?.read({ (transaction) in\n        events = XFNovelClickEvent.allNovelClickEvents(accountId: account.uniqueId, transaction: transaction)\n    })\n    guard let clickEvents = events else {\n        return nil\n    }\n    let readNovelsIds = clickEvents.map {\n        $0.bookId ?? \"\"\n    }\n    return readNovelsIds\n}\n</code></pre>\n\n<p>I thought the closure will be executed immediately after the 'events' parameter declared. In fact, the closure doesn't be executed before result returns. To search the reason, I open the file named 'YapDatabaseConnection.h(Interface)' generated by Xcode (with cmd+shift+o), found the function has been translate to Swift in this way:</p>\n\n<pre><code>open func read(_ block: @escaping (YapDatabaseReadTransaction) -&gt; Void)\n</code></pre>\n\n<p>So, how do I use this function in a @noescap way?</p>\n"}, {"tags": ["c++", "objective-c", "dlib"], "answers": [{"tags": [], "owner": {"reputation": 1116, "user_id": 7626162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zr647.jpg?s=128&g=1", "display_name": "thachnb", "link": "https://stackoverflow.com/users/7626162/thachnb"}, "is_accepted": false, "score": 0, "last_activity_date": 1548781907, "creation_date": 1548781907, "answer_id": 54426278, "question_id": 54409591, "link": "https://stackoverflow.com/questions/54409591/how-to-use-dlib-face-recognition-in-xcode-project/54426278#54426278", "title": "How to use dlib face_recognition in Xcode project?", "body": "<p>You should post:</p>\n\n<pre><code>- Full error logs, so we can help\n\n- Full code with includes\n</code></pre>\n\n<p>So we can't check what's wrong with your implementation.</p>\n\n<p>Basically you may miss the <code>dlib::</code> for anet_type</p>\n"}], "owner": {"reputation": 21, "user_id": 6760602, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207714436682877/picture?type=large", "display_name": "Artem Martirosyan", "link": "https://stackoverflow.com/users/6760602/artem-martirosyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555998864, "creation_date": 1548706362, "last_edit_date": 1548706503, "question_id": 54409591, "link": "https://stackoverflow.com/questions/54409591/how-to-use-dlib-face-recognition-in-xcode-project", "title": "How to use dlib face_recognition in Xcode project?", "body": "<p>I am new in programming.\nI am added dlib to my xcode project as shown in the example <a href=\"https://github.com/zweigraf/face-landmarking-ios\" rel=\"nofollow noreferrer\">https://github.com/zweigraf/face-landmarking-ios</a>. And it`s work great. </p>\n\n<p>How do I add additional functionality such as face recognition?\nI need to convert each face image in faces into a 128D vector.\nI tried to rewrite this cpp code to use it on my project. <a href=\"https://github.com/davisking/dlib/blob/master/examples/dnn_imagenet_ex.cpp\" rel=\"nofollow noreferrer\">https://github.com/davisking/dlib/blob/master/examples/dnn_imagenet_ex.cpp</a></p>\n\n<p>But I get a compilation error.</p>\n\n<p>Showing Recent Messages\n:-1: ignoring file ../libdlib.a, file was built for archive which is not the architecture being linked (armv7): ../libdlib.a</p>\n\n<p>And the same error for armv64.</p>\n\n<pre><code>//face_recognition.hpp\n\nclass face_recognition {\npublic:\n    std::vector&lt;matrix&lt;float,0,1&gt;&gt; compute_face_descriptor(dlib::array2d&lt;dlib::rgb_pixel&gt; &amp;img, dlib::full_object_detection shape) {\n        anet_type net;\n        deserialize(\"dlib_face_recognition_resnet_model_v1.dat\") &gt;&gt; net;\n        std::vector&lt;matrix&lt;rgb_pixel&gt;&gt; faces;\n        matrix&lt;rgb_pixel&gt; face_chip;\n        extract_image_chip(img, get_face_chip_details(shape,150,0.25), face_chip);\n        faces.push_back(move(face_chip));\n\n        return net(faces);\n    }\n\nprivate:\n    template &lt;template &lt;int,template&lt;typename&gt;class,int,typename&gt; class block, int N, template&lt;typename&gt;class BN, typename SUBNET&gt;\n    using residual = add_prev1&lt;block&lt;N,BN,1,tag1&lt;SUBNET&gt;&gt;&gt;;\n\n    template &lt;template &lt;int,template&lt;typename&gt;class,int,typename&gt; class block, int N, template&lt;typename&gt;class BN, typename SUBNET&gt;\n    using residual_down = add_prev2&lt;avg_pool&lt;2,2,2,2,skip1&lt;tag2&lt;block&lt;N,BN,2,tag1&lt;SUBNET&gt;&gt;&gt;&gt;&gt;&gt;;\n\n    template &lt;int N, template &lt;typename&gt; class BN, int stride, typename SUBNET&gt;\n    using block  = BN&lt;con&lt;N,3,3,1,1,relu&lt;BN&lt;con&lt;N,3,3,stride,stride,SUBNET&gt;&gt;&gt;&gt;&gt;;\n\n    template &lt;int N, typename SUBNET&gt; using ares      = relu&lt;residual&lt;block,N,affine,SUBNET&gt;&gt;;\n    template &lt;int N, typename SUBNET&gt; using ares_down = relu&lt;residual_down&lt;block,N,affine,SUBNET&gt;&gt;;\n\n    template &lt;typename SUBNET&gt; using alevel0 = ares_down&lt;256,SUBNET&gt;;\n    template &lt;typename SUBNET&gt; using alevel1 = ares&lt;256,ares&lt;256,ares_down&lt;256,SUBNET&gt;&gt;&gt;;\n    template &lt;typename SUBNET&gt; using alevel2 = ares&lt;128,ares&lt;128,ares_down&lt;128,SUBNET&gt;&gt;&gt;;\n    template &lt;typename SUBNET&gt; using alevel3 = ares&lt;64,ares&lt;64,ares&lt;64,ares_down&lt;64,SUBNET&gt;&gt;&gt;&gt;;\n    template &lt;typename SUBNET&gt; using alevel4 = ares&lt;32,ares&lt;32,ares&lt;32,SUBNET&gt;&gt;&gt;;\n\n    using anet_type = loss_metric&lt;fc_no_bias&lt;128,avg_pool_everything&lt;\n    alevel0&lt;\n    alevel1&lt;\n    alevel2&lt;\n    alevel3&lt;\n    alevel4&lt;\n    max_pool&lt;3,3,2,2,relu&lt;affine&lt;con&lt;32,7,7,2,2,\n    input_rgb_image_sized&lt;150&gt;\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;;\n    anet_type net;\n};\n\n#endif \n</code></pre>\n\n<p>it will compile if I don't use anet_type net. How to solve problem? Maybe Is there another way?</p>\n"}, {"tags": ["objective-c", "json", "nsmutablearray", "nsjsonserialization"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1548708349, "post_id": 54409194, "comment_id": 95630973, "body": "That&#39;s not an array. It&#39;s a dictionary. And dictionaries have no order."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 1, "creation_date": 1548715340, "post_id": 54409194, "comment_id": 95633583, "body": "As rmaddy said, dictionaries are unsorted, however in most of the cases this should not impact the program, since dictionaries like this are accessed in the order of the keys. The print order is not that important."}], "owner": {"reputation": 17, "user_id": 6113485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d5aa09af6012912e5ff32f46d518fab?s=128&d=identicon&r=PG&f=1", "display_name": "AKU", "link": "https://stackoverflow.com/users/6113485/aku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1548708364, "creation_date": 1548704675, "last_edit_date": 1548708364, "question_id": 54409194, "link": "https://stackoverflow.com/questions/54409194/json-string-to-array-change-sort-order", "title": "JSON string to array change sort order", "body": "<p>I just tried to decode my json string some thing like that below </p>\n\n<pre><code>{\n    \"Mon\":\" 03:00 PM - 11:55 PM\",\n    \"Tue\":\" 03:00 PM - 11:55 PM\",\n    \"Wed\":\" 03:00 PM - 11:55 PM\",\n    \"Thu\":\" 03:00 PM - 11:55 PM\",\n    \"Fri\":\" 03:00 PM - 11:55 PM\",\n    \"Sat\":\" 03:00 PM - 11:55 PM\",\n    \"Sun\":\" 03:00 PM - 11:55 PM\"\n}\n</code></pre>\n\n<p>To decode via </p>\n\n<pre><code>[NSJSONSerialization JSONObjectWithData:[jsonString dataUsingEncoding:NSUTF8StringEncoding]\n     options:NSJSONReadingMutableContainers\n           error:&amp;jsonError]\n</code></pre>\n\n<p>Result of array oder changed.. </p>\n\n<pre><code>{\nFri = \" 03:00 PM - 11:55 PM\";\nMon = \" 03:00 PM - 11:55 PM\";\nSat = \" 03:00 PM - 11:55 PM\";\nSun = \" 03:00 PM - 11:55 PM\";\nThu = \" 03:00 PM - 11:55 PM\";\nTue = \" 03:00 PM - 11:55 PM\";\nWed = \" 03:00 PM - 11:55 PM\";\n}\n</code></pre>\n\n<p>I know best practice to add sort order on array, but that version is live now. can I sort array order on week days  without changing the array?</p>\n"}, {"tags": ["objective-c", "swift", "compiler-warnings", "swift-protocols", "pointer-conversion"], "answers": [{"comments": [{"owner": {"reputation": 1341, "user_id": 3783833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcJBu.png?s=128&g=1", "display_name": "agirault", "link": "https://stackoverflow.com/users/3783833/agirault"}, "edited": false, "score": 1, "creation_date": 1548701718, "post_id": 54408433, "comment_id": 95627807, "body": "NSObjectProtocol was what I was looking for, it works great thank you.   I looked at the second option but run into issues if I change the type in ObjC to use <code>id</code> : <code>Assigning to &#39;id&lt;Animal&gt;&#39; from incompatible type &#39;__autoreleasing id&lt;Animal&gt; *&#39;</code>. Adding <code>__autoreleasing</code> then becomes an issue with strong properties."}], "tags": [], "owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "is_accepted": true, "score": 8, "last_activity_date": 1548701349, "creation_date": 1548701349, "answer_id": 54408433, "question_id": 54408351, "link": "https://stackoverflow.com/questions/54408351/passing-a-swift-protocol-to-an-objective-c-pointer/54408433#54408433", "title": "Passing a Swift protocol to an Objective-C pointer", "body": "<p>Specify that every <code>Animal</code> implementer also implements <code>NSObject</code>'s interface: <code>@objc protocol Animal : NSObjectProtocol</code></p>\n\n<p>You could also change the type of the variable in ObjC to <code>id&lt;Animal&gt;</code>.</p>\n"}], "owner": {"reputation": 1341, "user_id": 3783833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcJBu.png?s=128&g=1", "display_name": "agirault", "link": "https://stackoverflow.com/users/3783833/agirault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 54408433, "answer_count": 1, "score": 6, "last_activity_date": 1548701900, "creation_date": 1548700985, "last_edit_date": 1548701900, "question_id": 54408351, "link": "https://stackoverflow.com/questions/54408351/passing-a-swift-protocol-to-an-objective-c-pointer", "title": "Passing a Swift protocol to an Objective-C pointer", "body": "<p><em>Using XCode 10.1 / Swift 4.2.</em></p>\n\n<p>I'm trying to assign an object that conforms to a Swift protocol to an Objective-C pointer. The following code is a minimal example that compiles and works as expected, but it gives me the following warnings:</p>\n\n<p>If assigning to a local variable: <code>Incompatible pointer types initializing 'NSObject&lt;Animal&gt; *__strong' with an expression of type 'id&lt;Animal&gt; _Nullable'</code></p>\n\n<p>If assigning to a stored property:\n<code>Incompatible pointer types assigning to 'NSObject&lt;Animal&gt; *' from 'id&lt;Animal&gt; _Nullable'</code></p>\n\n<p>Any idea on how to address that warning without just silencing it?</p>\n\n<p><strong>Swift code:</strong></p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@objc protocol Animal {\n    var name: String { get }\n}\n\n@objc class Pig: NSObject, Animal {\n    var name: String = \"pig\"\n}\n\n@objc class Cow: NSObject, Animal {\n    var name: String = \"cow\"\n}\n\n@objc class Farm: NSObject {\n    static func getAnimal(name: String) -&gt; Animal? {\n        // return some animal or nil\n    }\n}\n</code></pre>\n\n<p><strong>Objective-C code:</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>// This code returns a valid pointer to a Pig object\n// that is usable in objective-c, but it also triggers \n// the warning described above\nNSObject&lt;Animal&gt;* animal = [Farm getAnimalWithName:@\"pig\"];\n</code></pre>\n"}, {"tags": ["objective-c", "arc4random"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1548693118, "post_id": 54406246, "comment_id": 95623455, "body": "From what I guess, I didn&#39;t check the doc, but <code>arc4random_uniform</code> returns an unsigned integer, so that&#39;s why you might have got big numbers."}], "answers": [{"tags": [], "owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "is_accepted": true, "score": 3, "last_activity_date": 1548693507, "last_edit_date": 1548693507, "creation_date": 1548693174, "answer_id": 54406405, "question_id": 54406246, "link": "https://stackoverflow.com/questions/54406246/strange-result-from-arc4random-uniform-whats-happened/54406405#54406405", "title": "Strange result from arc4random_uniform(). Whats happened", "body": "<p>The arc4Random family of functions return <code>u_int32_t</code>.  The \"u_\" means unsigned, and determines the type of the expression with the literal <code>5</code>. So that first expression will (about half the time, for randoms &lt; 5) produce an unsigned negative, which will be treated as nearly <code>UINT_MAX</code>.</p>\n\n<p>The second expression casts the random as a signed int first, so the subsequent subtraction works as expected.</p>\n"}], "owner": {"reputation": 305, "user_id": 5311637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/072c6bfe6d2e890116661da9ecd833ad?s=128&d=identicon&r=PG&f=1", "display_name": "TheRealLife", "link": "https://stackoverflow.com/users/5311637/thereallife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "accepted_answer_id": 54406405, "answer_count": 1, "score": 1, "last_activity_date": 1548695905, "creation_date": 1548692550, "last_edit_date": 1548695905, "question_id": 54406246, "link": "https://stackoverflow.com/questions/54406246/strange-result-from-arc4random-uniform-whats-happened", "title": "Strange result from arc4random_uniform(). Whats happened", "body": "<p>yesterday i had the follow code:</p>\n\n<pre><code>NSInteger test = arc4random_uniform(10)-5;\n</code></pre>\n\n<p>if i checked via debugger whats inside test, sometimes it was not a number between -5 and 5. \nSometime it was a random big integer.</p>\n\n<p>After i changed the code to this:</p>\n\n<pre><code>NSInteger test = arc4random_uniform(10);\ntest -= 5;\n</code></pre>\n\n<p>i was only get a number between -5 and 5.\nI'm pretty new to Objectiv C and normaly i only write C / C++. But this makes no sense for me. </p>\n\n<p>Can someone explain what happend?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "wowza"], "comments": [{"owner": {"reputation": 3, "user_id": 9756726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkG9v.jpg?s=128&g=1", "display_name": "Jana iOS", "link": "https://stackoverflow.com/users/9756726/jana-ios"}, "reply_to_user": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1548750397, "post_id": 54406092, "comment_id": 95643204, "body": "@orde Is this is possible to get previously posted videos? if possible to get the posted videos(not a live video) Can i get some referral link?"}, {"owner": {"reputation": 5134, "user_id": 1672197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i8HkV.png?s=128&g=1", "display_name": "orde", "link": "https://stackoverflow.com/users/1672197/orde"}, "edited": false, "score": 0, "creation_date": 1548781710, "post_id": 54406092, "comment_id": 95662633, "body": "I&#39;ve removed the duplicate flag because I&#39;m not sure if it&#39;s a dupe or not.  I&#39;m not clear on your question, however.  What do you mean by &quot;posted&quot;?"}], "owner": {"reputation": 3, "user_id": 9756726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkG9v.jpg?s=128&g=1", "display_name": "Jana iOS", "link": "https://stackoverflow.com/users/9756726/jana-ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548698908, "creation_date": 1548691993, "last_edit_date": 1548698908, "question_id": 54406092, "link": "https://stackoverflow.com/questions/54406092/get-previous-posted-videos-using-stream-details-from-wowza-stream-engine-manager", "title": "Get previous posted videos using stream details from Wowza Stream Engine Manager?", "body": "<p>Is it possible to get the posted videos on Wowza Stream Engine (not a live video) by using the stream details (file name etc...) in iOS? I am able to post the live video by using the Wowza config details but is it possible to get the posted videos on Wowza?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "frameworks"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1548701015, "post_id": 54405300, "comment_id": 95627501, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24841144/objective-c-bridging-header-for-frameworks\">Objective C Bridging Header for frameworks</a>"}, {"owner": {"reputation": 15809, "user_id": 50335, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6b025ae29ffe751009141bcc0364f9ab?s=128&d=identicon&r=PG", "display_name": "Ariel Malka", "link": "https://stackoverflow.com/users/50335/ariel-malka"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1548707203, "post_id": 54405300, "comment_id": 95630415, "body": "@l&#39;L&#39;l This is not a possible duplicate. I know about this question and the chosen answer but when I try it, I&#39;m getting a framework which contains Swift and Objective-C. What I want is a framework that only contains Swift and that can be &quot;externally linked&quot; to the Objective-C code"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1548723130, "post_id": 54405300, "comment_id": 95635492, "body": "I\u2019m not sure what you mean by externally linked, can you please clarify?"}, {"owner": {"reputation": 799, "user_id": 6247147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLjkt.jpg?s=128&g=1", "display_name": "kubrick G", "link": "https://stackoverflow.com/users/6247147/kubrick-g"}, "edited": false, "score": 0, "creation_date": 1548737237, "post_id": 54405300, "comment_id": 95638377, "body": "Try <a href=\"http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/\" rel=\"nofollow noreferrer\">module map</a>, it doesn&#39;t require making the Objective-c header public."}, {"owner": {"reputation": 15809, "user_id": 50335, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6b025ae29ffe751009141bcc0364f9ab?s=128&d=identicon&r=PG", "display_name": "Ariel Malka", "link": "https://stackoverflow.com/users/50335/ariel-malka"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1548769021, "post_id": 54405300, "comment_id": 95654380, "body": "@l&#39;L&#39;l By externally linked I mean: when compiling my framework, I&#39;d like the Objective-C code (think of it as a 3rd party SDK) not to be included. Then later, when creating a new iOS project, I would include my framework (which contains only Swift) and also include the Objective-C code and everything should compile/link fine"}, {"owner": {"reputation": 15809, "user_id": 50335, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6b025ae29ffe751009141bcc0364f9ab?s=128&d=identicon&r=PG", "display_name": "Ariel Malka", "link": "https://stackoverflow.com/users/50335/ariel-malka"}, "reply_to_user": {"reputation": 799, "user_id": 6247147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLjkt.jpg?s=128&g=1", "display_name": "kubrick G", "link": "https://stackoverflow.com/users/6247147/kubrick-g"}, "edited": false, "score": 0, "creation_date": 1548769643, "post_id": 54405300, "comment_id": 95654786, "body": "@kubrick G I tried module maps, as explained in the link you provided. The nice part is indeed that Objective-C headers are not included in the produced framework. But I&#39;m still stuck, because the produced framework still contains the Objective-C code. As a result, when I include the framework in a new project, which also contains the Objective-C code, I get errors of type &quot;class foo is implemented in both...&quot;"}, {"owner": {"reputation": 799, "user_id": 6247147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLjkt.jpg?s=128&g=1", "display_name": "kubrick G", "link": "https://stackoverflow.com/users/6247147/kubrick-g"}, "edited": false, "score": 0, "creation_date": 1548812295, "post_id": 54405300, "comment_id": 95674009, "body": "@ArielMalka Because both your Objective-C class are expose to the runtime, whether or not there are in the same module. So the question is why do you want to include the Objective-C Code in your project? If you want to use your Objective-C method in your project, just expose it through swift public interface."}], "answers": [{"comments": [{"owner": {"reputation": 15809, "user_id": 50335, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6b025ae29ffe751009141bcc0364f9ab?s=128&d=identicon&r=PG", "display_name": "Ariel Malka", "link": "https://stackoverflow.com/users/50335/ariel-malka"}, "edited": false, "score": 0, "creation_date": 1548836396, "post_id": 54413705, "comment_id": 95681412, "body": "I tried module maps, as explained in the <a href=\"http://nsomar.com/project-and-private-headers-in-a-swift-and-objective-c-framework/\" rel=\"nofollow noreferrer\">link provided by Kubrick G</a>. The nice part is indeed that Objective-C headers are not included in the produced framework. But I&#39;m still stuck, because the produced framework still contains the Objective-C code. As a result, when I include the framework in a new project, which also contains the Objective-C code, I get errors of type &quot;class foo is implemented in both...&quot;"}], "tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1548734865, "creation_date": 1548734865, "answer_id": 54413705, "question_id": 54405300, "link": "https://stackoverflow.com/questions/54405300/how-to-create-a-swift-framework-which-links-to-objective-c-code/54413705#54413705", "title": "How to create a Swift framework which links to Objective-C code?", "body": "<p>If I understand your question correctly, one approach might be to use a system module with a module map.  Here is a nice tutorial on wrapping a C library, which should also work for an Objective-C lib: <a href=\"https://www.hackingwithswift.com/articles/87/how-to-wrap-a-c-library-in-swift\" rel=\"nofollow noreferrer\">https://www.hackingwithswift.com/articles/87/how-to-wrap-a-c-library-in-swift</a>.  Then here is a discussion about using Xcode with SPM: <a href=\"https://forums.swift.org/t/xcode-project-with-spm-dependencies/18157\" rel=\"nofollow noreferrer\">https://forums.swift.org/t/xcode-project-with-spm-dependencies/18157</a>.</p>\n"}], "owner": {"reputation": 15809, "user_id": 50335, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6b025ae29ffe751009141bcc0364f9ab?s=128&d=identicon&r=PG", "display_name": "Ariel Malka", "link": "https://stackoverflow.com/users/50335/ariel-malka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1548734865, "creation_date": 1548689602, "last_edit_date": 1548706812, "question_id": 54405300, "link": "https://stackoverflow.com/questions/54405300/how-to-create-a-swift-framework-which-links-to-objective-c-code", "title": "How to create a Swift framework which links to Objective-C code?", "body": "<p>I would like to create a Swift framework which links to Objective-C code.</p>\n\n<p>The problem is that when I use bridging between my Swift code and the Objective-C code, compilation of the framework fails with \"Using bridging headers with framework targets is unsupported\".</p>\n\n<p>The only <a href=\"https://stackoverflow.com/a/24878877/50335\">solution</a> I found (<strong>edit</strong>: <a href=\"https://stackoverflow.com/a/24841369/50335\">similar to this one</a>) was to import in my framework's umbrella header every Objective-C header that should be exposed to Swift, and then make these headers public.</p>\n\n<p>As a result, I'm able to build a framework, but it contains all the Objective-C code.\nWhat I would like to achieve is to produce a framework which contains only the Swift part.</p>\n"}, {"tags": ["objective-c", "macos"], "comments": [{"owner": {"reputation": 4858, "user_id": 1530004, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BVTFD.jpg?s=128&g=1", "display_name": "Cole9350", "link": "https://stackoverflow.com/users/1530004/cole9350"}, "edited": false, "score": 0, "creation_date": 1552919321, "post_id": 54404136, "comment_id": 97182120, "body": "I&#39;m having the same issue, xcode 10, just upgraded to mojave. Every change I push results in no update or blank pages. Beginning to think this a bug"}], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548686987, "creation_date": 1548685897, "last_edit_date": 1548686987, "question_id": 54404136, "link": "https://stackoverflow.com/questions/54404136/updating-helpbook-bundle-in-osx-application", "title": "Updating Helpbook bundle in OSX application", "body": "<p>I am on MacOS Mojave (10.14), not iOS. Xcode 10, Objective-C.</p>\n\n<p>I have an application with an already implemented Helpbook. Everything works fine.\nNow i need to update the help book. </p>\n\n<p>I recreated the helpbook bundle. Replaced the old one in Xcode with the new one (create folder references).\nWhen i build the app and open the package contents, the new helpbook is included. Great. But the app shows the old one.</p>\n\n<p>What have i done:</p>\n\n<ul>\n<li>Clean derived data with XCode closed </li>\n<li>Clean product/folder </li>\n<li>Logged out/in (assuming theres some kind of cache)</li>\n<li>Cleaned the helpbook cache and restarted (see script below)</li>\n</ul>\n\n<p>Still the old help book.\nWhat am i missing?</p>\n\n<p>Helpbook cache cleaning script i use (credits: <a href=\"http://macergun.blogspot.com/2011/06/dealing-with-help-viewer-cache.html\" rel=\"nofollow noreferrer\">http://macergun.blogspot.com/2011/06/dealing-with-help-viewer-cache.html</a>)</p>\n\n<pre><code>rm -rf ~/Library/Caches/com.apple.help*\nrm -rf ~/Library/Preferences/com.apple.help*\nrm -rf ~/.Trash/*\nkillall helpd\ndefaults write com.apple.helpindexer IndexAnchors YES\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uisearchbar", "uisearchcontroller", "uisearchbardelegate"], "comments": [{"owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "edited": false, "score": 0, "creation_date": 1548692532, "post_id": 54403313, "comment_id": 95623048, "body": "from where this setUPSeachBar is called? ViewDidLoad, ViewWillAppear or what?"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "edited": false, "score": 0, "creation_date": 1548692851, "post_id": 54403313, "comment_id": 95623266, "body": "Hello, I have put this method in viewDidLoad but not work then i put this in viewWillAppear but still it\u2019s not working now i have put this in viewwillAppear Method ."}, {"owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "edited": false, "score": 0, "creation_date": 1548693124, "post_id": 54403313, "comment_id": 95623457, "body": "please put your total code blocks"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "edited": false, "score": 0, "creation_date": 1548693506, "post_id": 54403313, "comment_id": 95623725, "body": "In ViewDidload And ViewWillAppear i have written more code i don\u2019t think thay that code is harm for this thing !! This is my main code for display NavigationBar And SearchBar !! Thank You"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "edited": false, "score": 0, "creation_date": 1548735117, "post_id": 54403313, "comment_id": 95637909, "body": "@AnkurLahiry Please check my update code Thank You"}, {"owner": {"reputation": 2815, "user_id": 2753399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5uvs8.jpg?s=128&g=1", "display_name": "rushisangani", "link": "https://stackoverflow.com/users/2753399/rushisangani"}, "edited": false, "score": 0, "creation_date": 1548735337, "post_id": 54403313, "comment_id": 95637963, "body": "@YogeshPatel did you try this? self.searchControllerInvoice.searchBar.showsCancelButton = true;"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1548736419, "post_id": 54403313, "comment_id": 95638188, "body": "It&#39;s working first but when I navigate to another vc then it not working !!"}], "owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548735097, "creation_date": 1548682958, "last_edit_date": 1548735097, "question_id": 54403313, "link": "https://stackoverflow.com/questions/54403313/ios-whenever-i-navigate-to-another-vc-searchbar-delegate-method-not-called-an", "title": "IOS :- Whenever I navigate to Another VC Searchbar Delegate Method Not Called And Not Show the Navigation Bar Cancel Button in Objective C", "body": "<p>When I go to VC and click on NavigationBar SearchBar then Delegate Method is called And it show me cancel button to whenever I navigate to any other VC and come back to that VC and click on Searchbar it not called delegate method and does not show the cancel button Please Help me Thank You</p>\n\n<p>My Code :- </p>\n\n<pre><code>-(void)setUPSeachBar{\n     self.automaticallyAdjustsScrollViewInsets = NO;\n     self.searchControllerInvoice.dimsBackgroundDuringPresentation = true;\n     self.definesPresentationContext = YES;\n     self.searchControllerInvoice = [[UISearchController alloc] initWithSearchResultsController:nil];\n     self.searchControllerInvoice.searchResultsUpdater = self;\n     self.searchControllerInvoice.delegate = self;\n     [self.searchControllerInvoice setObscuresBackgroundDuringPresentation:NO];\n     if (@available(iOS 11.0, *)) {\n          self.navigationItem.searchController = self.searchControllerInvoice;\n          self.navigationItem.searchController.searchBar.delegate = self;\n          //          [self.navigationItem setHidesSearchBarWhenScrolling:NO];\n          //          self.navigationController.navigationBar.prefersLargeTitles=true;\n     } else {\n          self.getInvoiceTable.tableHeaderView = self.searchControllerInvoice.searchBar;\n     }\n\n     for(UITextField * textField in self.searchControllerInvoice.searchBar.subviews.firstObject.subviews){\n          textField.subviews.firstObject.backgroundColor = UIColor.whiteColor;\n          textField.subviews.firstObject.layer.cornerRadius = 10.5;\n          textField.subviews.firstObject.layer.masksToBounds=YES;\n     }\n     self.edgesForExtendedLayout = UIRectEdgeNone;\n     [[UIBarButtonItem appearanceWhenContainedIn:[UISearchBar class], nil] setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:[UIColor whiteColor],UITextAttributeTextColor,[UIColor whiteColor],UITextAttributeTextShadowColor,[NSValue valueWithUIOffset:UIOffsetMake(0, -1)],UITextAttributeTextShadowOffset, nil] forState:UIControlStateNormal];\n}\n</code></pre>\n\n<p>Before I click NavigationBar searchBar :- it called Searchbar delegate and shows cancel button\n<a href=\"https://i.stack.imgur.com/k3YNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k3YNI.png\" alt=\"enter image description here\"></a></p>\n\n<p>After NavigationBar I click on searchBar :-  it not called Searchbar delegate and not shows cancel button</p>\n\n<p><a href=\"https://i.stack.imgur.com/BSVLc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BSVLc.png\" alt=\"enter image description here\"></a></p>\n\n<p>SearchBar Delegate Method For Cancel Button Code :-</p>\n\n<pre><code>-(void)searchBarTextDidBeginEditing:(UISearchBar *)searchBar{\n     [searchBar setShowsCancelButton:YES animated:YES];\n}\n-(void)searchBarTextDidEndEditing:(UISearchBar *)searchBar{\n     [searchBar setShowsCancelButton:NO animated:YES];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "collectionview"], "comments": [{"owner": {"reputation": 2948, "user_id": 3165636, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e205224ad49b2fc6b8152fdfe5eecae?s=128&d=identicon&r=PG&f=1", "display_name": "chirag shah", "link": "https://stackoverflow.com/users/3165636/chirag-shah"}, "edited": false, "score": 0, "creation_date": 1548682131, "post_id": 54402954, "comment_id": 95616518, "body": "error says that you did not have any element in array and you try to extract one so remove the array portion and your solution will work"}, {"owner": {"reputation": 1, "user_id": 10878620, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdNDU7Wg6o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbDeC9j0W2xy1XhQSPOiOUFUId88A/mo/photo.jpg?sz=128", "display_name": "NWS", "link": "https://stackoverflow.com/users/10878620/nws"}, "reply_to_user": {"reputation": 2948, "user_id": 3165636, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e205224ad49b2fc6b8152fdfe5eecae?s=128&d=identicon&r=PG&f=1", "display_name": "chirag shah", "link": "https://stackoverflow.com/users/3165636/chirag-shah"}, "edited": false, "score": 0, "creation_date": 1548682559, "post_id": 54402954, "comment_id": 95616771, "body": "@chiragshah Thanks for the reply. but it crashes on line <code>[collectionView indexPathForItemAtPoint:point]</code> which is the internal method of collection view. Moreover, currently I am creating just a sample so this is not having any arrays. It is statically created for 5 items."}, {"owner": {"reputation": 662, "user_id": 5044099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b777641d5c82a9101518e4a5ce52561?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5044099/shubham"}, "edited": false, "score": 0, "creation_date": 1548684490, "post_id": 54402954, "comment_id": 95617859, "body": "I think it is crashing because method for cell size is getting called earlier.. before collectionview actually display a cell."}, {"owner": {"reputation": 662, "user_id": 5044099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b777641d5c82a9101518e4a5ce52561?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5044099/shubham"}, "edited": false, "score": 0, "creation_date": 1548684585, "post_id": 54402954, "comment_id": 95617916, "body": "Do you need to update the size when user will scroll the collection view, to make the newely centered cell bigger?"}, {"owner": {"reputation": 1, "user_id": 10878620, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdNDU7Wg6o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbDeC9j0W2xy1XhQSPOiOUFUId88A/mo/photo.jpg?sz=128", "display_name": "NWS", "link": "https://stackoverflow.com/users/10878620/nws"}, "reply_to_user": {"reputation": 662, "user_id": 5044099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b777641d5c82a9101518e4a5ce52561?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5044099/shubham"}, "edited": false, "score": 0, "creation_date": 1548740991, "post_id": 54402954, "comment_id": 95639329, "body": "@Shubham: Yes, exactly."}, {"owner": {"reputation": 662, "user_id": 5044099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b777641d5c82a9101518e4a5ce52561?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/5044099/shubham"}, "edited": false, "score": 0, "creation_date": 1548741098, "post_id": 54402954, "comment_id": 95639363, "body": "Ok, So your current approach wont work in that case."}], "owner": {"reputation": 1, "user_id": 10878620, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGdNDU7Wg6o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbDeC9j0W2xy1XhQSPOiOUFUId88A/mo/photo.jpg?sz=128", "display_name": "NWS", "link": "https://stackoverflow.com/users/10878620/nws"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548681951, "creation_date": 1548681692, "last_edit_date": 1548681951, "question_id": 54402954, "link": "https://stackoverflow.com/questions/54402954/collectionview-how-to-make-the-cell-size-bigger-for-the-cell-which-is-at-center", "title": "CollectionView: How to make the cell size bigger for the cell which is at center of the view?", "body": "<p>I want to create a design like <a href=\"https://i.stack.imgur.com/PCvKS.png\" rel=\"nofollow noreferrer\">this image</a>. It is a Camera UI where the user can scroll through different face masks and apply any face mask while recording the video.</p>\n\n<p>I have gone through many URLs like:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40741161/swift-how-to-get-the-centre-cell-in-a-collectionview-and-resize-it-when-scrollin\">Swift How to get the centre cell in a collectionView and resize it when scrolling?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/42415064/how-to-make-center-image-bigger-when-scrolled-horizondally\">How to make center image bigger when scrolled horizondally?</a></p>\n\n<p>But neither of these solutions worked for me. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>-(NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView\n{\n    return 1;\n}\n\n-(NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section\n{\n    return 5;\n}\n\n\n- (CGSize)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout sizeForItemAtIndexPath:(NSIndexPath *)indexPath\n{\n    CGPoint point = CGPointMake(self.view.frame.size.width/2.0,40);\n        if([collectionView indexPathForItemAtPoint:point] != nil)\n        {\n            NSIndexPath *centerIndex = [collectionView indexPathForItemAtPoint:point];\n            if(centerIndex != nil)\n            {\n                if (indexPath.item == centerIndex.item) {\n                    return CGSizeMake(100, 100);\n                }\n            }\n        }\n    return CGSizeMake(80, 80);\n}\n\n- (UIEdgeInsets)collectionView:(UICollectionView *)collectionView layout:(nonnull UICollectionViewLayout *)collectionViewLayout insetForSectionAtIndex:(NSInteger)section\n{\n    //top, left, bottom, right\n    return UIEdgeInsetsMake(0, 16, 0, 16);\n}\n\n- (CGFloat)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout minimumLineSpacingForSectionAtIndex:(NSInteger)section\n{\n    return 20;\n}\n\n- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath\n{\n    FavImageCollectionViewCell *newCell = [collectionView dequeueReusableCellWithReuseIdentifier:@\"FavImageCollectionViewCell\" forIndexPath:indexPath];\n    if (!newCell)\n    {\n        NSArray *cellArray = [[NSBundle mainBundle] loadNibNamed:@\"FavImageCollectionViewCell\" owner:self options:nil];\n        newCell = [cellArray objectAtIndex:0];\n    }\n\n    newCell.contentView.backgroundColor = [UIColor redColor];\n\n    return newCell;\n}\n</code></pre>\n\n<p>But here in my code, the application crashes at </p>\n\n<blockquote>\n  <p>[collectionView indexPathForItemAtPoint:point]</p>\n</blockquote>\n\n<p>It gives error like:</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSRangeException', reason:\n  '*** -[__NSArrayM objectAtIndex:]: index 1 beyond bounds [0 .. 0]'</p>\n</blockquote>\n\n<p>I would really appreciate any kind of suggestions or improvements to my code.</p>\n"}, {"tags": ["objective-c", "swift", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1548679633, "post_id": 54402090, "comment_id": 95615054, "body": "Possibly helpful: <a href=\"https://stackoverflow.com/q/39075043/1187415\">How to convert Data to hex string in swift</a>"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1548679853, "post_id": 54402090, "comment_id": 95615192, "body": "See also: <a href=\"https://stackoverflow.com/q/44830747/1187415\">Why Data and NSData print differently</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1548679716, "post_id": 54402310, "comment_id": 95615101, "body": "I&#39;ll had that to debug, I use <code>print(\\(data as NSData))</code> to force the <code>description</code> of <code>NSData</code> which might be more useful (except, it&#39;s a large data)."}, {"owner": {"reputation": 9, "user_id": 1197770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4a137b9b0cac83ad632a7529cc16ac?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Harvey", "link": "https://stackoverflow.com/users/1197770/samuel-harvey"}, "edited": false, "score": 0, "creation_date": 1548682092, "post_id": 54402310, "comment_id": 95616492, "body": "po data as NSData shows &lt;000a0302&gt; - the issue may be that the peripheral is expecting hex"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 4, "last_activity_date": 1548679430, "creation_date": 1548679430, "answer_id": 54402310, "question_id": 54402090, "link": "https://stackoverflow.com/questions/54402090/difference-between-writevalue-data-as-nsdata-in-objective-c-and-data-in-swift/54402310#54402310", "title": "Difference between writeValue data as NSData in Objective C and Data in Swift", "body": "<p>Practically there is no difference. <code>Data</code> is implicitly bridged to <code>NSData</code> and vice versa if necessary.</p>\n\n<p>The difference is how <code>NSData</code> and <code>Data</code> are displayed to the console.</p>\n\n<ul>\n<li><code>NSData</code> is represented by the hex bytes in angle brackets (<code>&lt;000a0302&gt;</code>).</li>\n<li><code>Data</code> is represented by the number of bytes (<code>4 bytes</code>). If you want the <code>NSData</code> representation add <code>as NSData</code> in the <code>print</code> expression</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 1197770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4a137b9b0cac83ad632a7529cc16ac?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Harvey", "link": "https://stackoverflow.com/users/1197770/samuel-harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1548694052, "creation_date": 1548694052, "answer_id": 54406650, "question_id": 54402090, "link": "https://stackoverflow.com/questions/54402090/difference-between-writevalue-data-as-nsdata-in-objective-c-and-data-in-swift/54406650#54406650", "title": "Difference between writeValue data as NSData in Objective C and Data in Swift", "body": "<p>They are exactly the same - I had some nasty wrapper code causing a bug which is now squashed!</p>\n"}], "owner": {"reputation": 9, "user_id": 1197770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4a137b9b0cac83ad632a7529cc16ac?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Harvey", "link": "https://stackoverflow.com/users/1197770/samuel-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548694052, "creation_date": 1548678640, "last_edit_date": 1548679027, "question_id": 54402090, "link": "https://stackoverflow.com/questions/54402090/difference-between-writevalue-data-as-nsdata-in-objective-c-and-data-in-swift", "title": "Difference between writeValue data as NSData in Objective C and Data in Swift", "body": "<p>I'm writing to a CoreBluetooth device using </p>\n\n<pre><code>- (void)writeValue:(NSData *)data forCharacteristic:(CBCharacteristic *)characteristic type:(CBCharacteristicWriteType)type;\n</code></pre>\n\n<p>in objective C</p>\n\n<p>I would like to move this code over to Swift. Therefore I'm writing using </p>\n\n<pre><code> open func writeValue(_ data: Data, for characteristic: CBCharacteristic, type: CBCharacteristicWriteType)\n</code></pre>\n\n<p>All of the parameter values being sent are the same except data when sent as <code>NSData</code> will be represented as such <strong>&lt;000a0302></strong>. In Swift the data is represented as   </p>\n\n<blockquote>\n  <p>\u25bf 4 bytes\n    - count : 4   \u25bf pointer : 0x00000002810ce5b0\n      - pointerValue : 10755040688   \u25bf bytes : 4 elements\n      - 0 : 0\n      - 1 : 10\n      - 2 : 3</p>\n  \n  <ul>\n  <li>3 : 2</li>\n  </ul>\n</blockquote>\n\n<p>However I am not getting the same result back from the bluetooth peripheral - what is the difference between the two examples?</p>\n"}, {"tags": ["objective-c", "uiscrollview", "uiswipegesturerecognizer"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10974881, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156941111604605/picture?type=large", "display_name": "Amit Nadir", "link": "https://stackoverflow.com/users/10974881/amit-nadir"}, "is_accepted": false, "score": 0, "last_activity_date": 1548668513, "creation_date": 1548668513, "answer_id": 54399131, "question_id": 54397674, "link": "https://stackoverflow.com/questions/54397674/scrollview-is-eating-swipe-gesture-recognizer/54399131#54399131", "title": "ScrollView is eating Swipe Gesture Recognizer", "body": "<p>Make sure that if the UIImage allows zooming, the swipe recognizer won't work, since it is trying to zoom. If this is the case, you will need to enable the zoom only in certain case. hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 4042512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9800e3b62a5933f858de385ad678076d?s=128&d=identicon&r=PG&f=1", "display_name": "shivi_shub", "link": "https://stackoverflow.com/users/4042512/shivi-shub"}, "is_accepted": false, "score": 0, "last_activity_date": 1548673143, "last_edit_date": 1548673143, "creation_date": 1548670105, "answer_id": 54399620, "question_id": 54397674, "link": "https://stackoverflow.com/questions/54397674/scrollview-is-eating-swipe-gesture-recognizer/54399620#54399620", "title": "ScrollView is eating Swipe Gesture Recognizer", "body": "<p>Initialize the scroll view with scrolling disabled. Then you need to disable scrolling in the scroll view when the image is not zoomed in, and renabled it when it is zoomed in. This provides the expected behavior.</p>\n\n<pre><code>- (void)scrollViewDidZoom:(UIScrollView *)scrollView {\n  if (scrollView.zoomScale != 1.0) {\n    scrollView.scrollEnabled = YES;\n  } else {\n    scrollView.scrollEnabled = NO;\n  }\n}\n</code></pre>\n\n<p>To enable zoom provide an image on a delegate.</p>\n\n<pre><code>- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {\n  return myImage;\n}\n</code></pre>\n\n<p>Also add the gesture to instance of scrollview like this -</p>\n\n<pre><code>leftGestureRecognizer.delaysTouchesBegan = YES;\n[myScrollView addGestureRecognizer:leftGestureRecognizer];\n</code></pre>\n\n<p><strong>OR You can try the following -</strong></p>\n\n<pre><code>[scrollView.panGestureRecognizer requireGestureRecognizerToFail: leftGestureRecognizer]\n</code></pre>\n"}], "owner": {"reputation": 528, "user_id": 5218562, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/16e3f63cfc4dc9f756d973750f75a2d5?s=128&d=identicon&r=PG&f=1", "display_name": "wes. i", "link": "https://stackoverflow.com/users/5218562/wes-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548754327, "creation_date": 1548662386, "last_edit_date": 1548754327, "question_id": 54397674, "link": "https://stackoverflow.com/questions/54397674/scrollview-is-eating-swipe-gesture-recognizer", "title": "ScrollView is eating Swipe Gesture Recognizer", "body": "<p>i have a details view controller with a scrollview on it. And i have load UILabel, UIImageView on top of UIScrollView. The scrollview is set to scroll vertically only. and the view need to be able to recognize swipe left and right to navigate to next/previous page by adding</p>\n\n<pre><code>self.leftGestureRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self  action:@selector(swipeRecognizer:)];\n[self.leftGestureRecognizer setDirection:UISwipeGestureRecognizerDirectionLeft];\n[self.view addGestureRecognizer:self.leftGestureRecognizer];\n</code></pre>\n\n<p>So when i swipe within UILabel, it is working. If i swipe start from UIScrollView, it is not working. I guess it is the UIScrollView conflict the swipe gesture. </p>\n\n<p>In short, swipe gesture is only working on the subview but not UIScrollView .Does anyone have any idea on this?</p>\n\n<p>UPDATE:\nIf i swipe start from scrollview first then end at UILabel, it won't recognize the swipe gesture. If i swipe within UILabel(start and end in the UILAbel) it is able to recognize.</p>\n"}, {"tags": ["objective-c", "json", "xcode", "block", "dispatch"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1548672775, "post_id": 54397641, "comment_id": 95611385, "body": "You don&#39;t need dispatch to main to parse json."}], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 7953883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/405bd853beb8e9cb3cf14e7b6747fd4d?s=128&d=identicon&r=PG&f=1", "display_name": "UncleJunior", "link": "https://stackoverflow.com/users/7953883/unclejunior"}, "edited": false, "score": 0, "creation_date": 1548870678, "post_id": 54397868, "comment_id": 95702265, "body": "I understand what you mean, so how should I do it now ?"}, {"owner": {"reputation": 2663, "user_id": 918300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IlhB7.jpg?s=128&g=1", "display_name": "Bhavin Kansagara", "link": "https://stackoverflow.com/users/918300/bhavin-kansagara"}, "reply_to_user": {"reputation": 201, "user_id": 7953883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/405bd853beb8e9cb3cf14e7b6747fd4d?s=128&d=identicon&r=PG&f=1", "display_name": "UncleJunior", "link": "https://stackoverflow.com/users/7953883/unclejunior"}, "edited": false, "score": 0, "creation_date": 1548934258, "post_id": 54397868, "comment_id": 95727041, "body": "You are doing it right, just set the buttonText value to your actual button&#39;s title when you get the response from the server and mean time, show an activityIndicator to user to indicate some process in on it&#39;s way."}], "tags": [], "owner": {"reputation": 2663, "user_id": 918300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IlhB7.jpg?s=128&g=1", "display_name": "Bhavin Kansagara", "link": "https://stackoverflow.com/users/918300/bhavin-kansagara"}, "is_accepted": false, "score": 0, "last_activity_date": 1548663372, "creation_date": 1548663372, "answer_id": 54397868, "question_id": 54397641, "link": "https://stackoverflow.com/questions/54397641/objective-c-variables-in-async-block-does-not-change-the-class-variable-value/54397868#54397868", "title": "Objective C variables in Async block does not change the Class variable value", "body": "<p>Because the code in the block is executed asynchronously, it means when you are trying to print the value in the <code>viewDidLoad()</code> it has no value, so it is printing Null, which is right. When Block ends it's process and get's the data from the server, it will have the value in your variable and that prints the correct response.</p>\n\n<p>Hope it clears.</p>\n"}], "owner": {"reputation": 201, "user_id": 7953883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/405bd853beb8e9cb3cf14e7b6747fd4d?s=128&d=identicon&r=PG&f=1", "display_name": "UncleJunior", "link": "https://stackoverflow.com/users/7953883/unclejunior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548663372, "creation_date": 1548662223, "question_id": 54397641, "link": "https://stackoverflow.com/questions/54397641/objective-c-variables-in-async-block-does-not-change-the-class-variable-value", "title": "Objective C variables in Async block does not change the Class variable value", "body": "<p>I try to use my parsed JSON values from async block in other methods and viewDidLoad but, it returns the value inside the block, but in other methods it just return null</p>\n\n<p>here is my Viewcontroler.m file code:</p>\n\n<pre><code>#import \"ViewController.h\"\n\n @interface ViewController ()\n\n@end\n\nNSString *buttonText;\n\n@implementation ViewController\n\n - (void)viewDidLoad {\n\n[super viewDidLoad];\n\n [self URLconnection];\n\n  NSLog(@\"this is value: %@\", buttonText);\n\n  }\n\n\n\n  - (void)URLconnection {\n\n\n\nNSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n\n[request setURL:[NSURL URLWithString:@\u201cXXXXXXXXXX\"]];\n\nNSURLSessionDataTask *task = [[self getURLSession] \n dataTaskWithRequest:request completionHandler:^( NSData *data, \n NSURLResponse *response, NSError *error )\n                              {\n            dispatch_async( dispatch_get_main_queue(),\n                    ^{\n                // parse returned JSON array\n                NSError *jsonError;\n    NSArray *parsedJSONArray = [NSJSONSerialization \n  JSONObjectWithData:data options:NSJSONReadingMutableContainers \n   error:&amp;jsonError];\n\n\n        NSLog( @\"%@\", [parsedJSONArray valueForKey:@\"data\" ] );\n                        NSDictionary *dictionary = [parsedJSONArray \n      valueForKey:@\"data\"];\n\n                        NSLog(@\"this is dictionary %@\", \n  dictionary[@\"buttonText\"]);\n\n                        buttonText = dictionary[@\"buttonText\"];\n\n\n\n                                    } );\n                }];\n\n[task resume];\n }\n\n@end\n</code></pre>\n\n<p>in the code above the NSLOG in the block return value but NSLOG in the viewDidLoad return null </p>\n"}, {"tags": ["ios", "objective-c", "arrays", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 7763437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd1cffd74e9ff907bc8b4c216143883?s=128&d=identicon&r=PG&f=1", "display_name": "Nilay Padsala", "link": "https://stackoverflow.com/users/7763437/nilay-padsala"}, "is_accepted": false, "score": 0, "last_activity_date": 1548633929, "creation_date": 1548633929, "answer_id": 54394096, "question_id": 54394008, "link": "https://stackoverflow.com/questions/54394008/organizing-too-many-arrays-xcode-objc/54394096#54394096", "title": "organizing too many arrays Xcode objc", "body": "<p>you can use MVC architecture for your code. Keep only the code that changes the view that will be visible to user such as changing textfields and labels in viewController and write all other functions in different file and call those functions as needed. Like creating points and getting information can be done on other files as model to this view controller.</p>\n"}, {"comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1548635017, "post_id": 54394155, "comment_id": 95600019, "body": "Agreed with rmaddy here. Best if you an use sqlite instead of text-based database. hardcoding data into code is not the way."}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1549420769, "post_id": 54394155, "comment_id": 95892382, "body": "I use a dictionary plist for each state which contained arrays for each category.  Load them when needed. Works great"}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1548634651, "creation_date": 1548634651, "answer_id": 54394155, "question_id": 54394008, "link": "https://stackoverflow.com/questions/54394008/organizing-too-many-arrays-xcode-objc/54394155#54394155", "title": "organizing too many arrays Xcode objc", "body": "<p>Put the data in plist files stored in your app's bundle. Then you can load each plist file as needed. Don't hardcode that much data in your code. It takes forever to compile and it is hard to read your code.</p>\n\n<p>You might want to write some sort of data model class that encapsulates the data. Then you view controller can create an instance of the data model specifying what data is needed. The data model class can take care of loading the correct data as needed.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10974881, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156941111604605/picture?type=large", "display_name": "Amit Nadir", "link": "https://stackoverflow.com/users/10974881/amit-nadir"}, "is_accepted": false, "score": 0, "last_activity_date": 1548763078, "creation_date": 1548763078, "answer_id": 54420544, "question_id": 54394008, "link": "https://stackoverflow.com/questions/54394008/organizing-too-many-arrays-xcode-objc/54420544#54420544", "title": "organizing too many arrays Xcode objc", "body": "<p>It looks like the best practice in this case is to use SQLlite or some other local database to maintain such data.</p>\n"}], "owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 54394155, "answer_count": 3, "score": 1, "last_activity_date": 1548763078, "creation_date": 1548633023, "question_id": 54394008, "link": "https://stackoverflow.com/questions/54394008/organizing-too-many-arrays-xcode-objc", "title": "organizing too many arrays Xcode objc", "body": "<p>I am working on an app that is going to have over 50 arrays with over 100 items in each array.  They are used when certain conditions apply.  Is there any way to put these  on different pages and import them as needed.  Here is a sample of my code.</p>\n\n<pre><code>if([washington isKindOfClass:[MKPolygon class]]){\n\n        MKPolygon *polygons = (MKPolygon*) washington;\n\n        CGMutablePathRef mpr = CGPathCreateMutable();\n\n        MKMapPoint *polygonPoints = polygons.points;\n\n        for (int p=0; p &lt; polygons.pointCount; p++){\n            MKMapPoint mp = polygonPoints[p];\n            if (p == 0)\n                CGPathMoveToPoint(mpr, NULL, mp.x, mp.y);\n            else\n                CGPathAddLineToPoint(mpr, NULL, mp.x, mp.y);\n        }\n\n        if(CGPathContainsPoint(mpr , NULL, mapPointAsCGP, TRUE)){\n\n           citiesArray10000 = [NSArray arrayWithObjects:\n                                @\"47.620499&amp;-122.350876&amp;187&amp;Seattle Washington\",\n                                @\"47.673554&amp;-117.416595&amp;1843&amp;Spokane Washington\",\n                                @\"47.252199&amp;-122.459832&amp;&amp;Tacoma Washington\",\n                                @\"45.637236&amp;-122.596516&amp;&amp;Vancouver Washington\",\n                                @\"47.597839&amp;-122.156489&amp;&amp;Bellevue Washington\",\n                                @\"47.385318&amp;122.2169290&amp;&amp;Kent Washington\",\n                                @\"48.003267&amp;-122.174223&amp;&amp;Everett Washington\",\n                                @\"47.476075&amp;-122.192026&amp;&amp;Renton Washington\",\n                                @\"47.308837&amp;-122.336104&amp;&amp;Federal Way Washington\",nil;\n</code></pre>\n\n<p>there are 50 states thus 50 if statements and there are going to be 6 or more arrays per state and as many as 100 to 200 entries in each array.\nThis makes for a very extensive view controller page with all this information.  Is there to put each state's arrays on one page and somehow call them when needed.  Sorry this is probably simple but I don't know how to do it.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "firebase", "firebase-test-lab"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1548632621, "post_id": 54393596, "comment_id": 95599642, "body": "Many parts of Firebase comes with no or limited UI of their own. What specific part of Firebase are you looking to use in your application, and what about that integration are you looking to test?"}, {"owner": {"reputation": 1080, "user_id": 2246630, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/e0d5b139482c76f9727c369846aebe67?s=128&d=identicon&r=PG", "display_name": "bhartsb", "link": "https://stackoverflow.com/users/2246630/bhartsb"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1548651849, "post_id": 54393596, "comment_id": 95602848, "body": "Sorry I edited my question because my question is specific to Firebase Test Lab."}], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 5061213, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/freon.jpg?s=128&g=1", "display_name": "kalpa", "link": "https://stackoverflow.com/users/5061213/kalpa"}, "edited": false, "score": 0, "creation_date": 1607678003, "post_id": 54410055, "comment_id": 115352917, "body": "Hi @Maik, In my project I have both XCTest and XCUITest but the test is only running on XCTest. I am not sure why it&#39;s not running upon XCUITest. Could you please help me on this."}], "tags": [], "owner": {"reputation": 2855, "user_id": 148912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf07ef307b49464e5dd065745a1a983?s=128&d=identicon&r=PG", "display_name": "Maik", "link": "https://stackoverflow.com/users/148912/maik"}, "is_accepted": true, "score": 3, "last_activity_date": 1548708449, "creation_date": 1548708449, "answer_id": 54410055, "question_id": 54393596, "link": "https://stackoverflow.com/questions/54393596/does-firebase-test-lab-support-xcuitests/54410055#54410055", "title": "Does Firebase Test Lab support XCUITests?", "body": "<p>Yes, Test Lab can run both XCTest and XCUITest.\nYes, tests or the app can be in Swift or Objective-C.</p>\n\n<p>For Flank, the test runner, it should not matter what type of test you are running.</p>\n"}], "owner": {"reputation": 1080, "user_id": 2246630, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/e0d5b139482c76f9727c369846aebe67?s=128&d=identicon&r=PG", "display_name": "bhartsb", "link": "https://stackoverflow.com/users/2246630/bhartsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 54410055, "answer_count": 1, "score": 2, "last_activity_date": 1548708449, "creation_date": 1548629320, "last_edit_date": 1548688428, "question_id": 54393596, "link": "https://stackoverflow.com/questions/54393596/does-firebase-test-lab-support-xcuitests", "title": "Does Firebase Test Lab support XCUITests?", "body": "<p>Does Firebase Test Lab support XCUITests in Swift and Objective-C?  The documentation mentions XCTest but not XCUITest.</p>\n\n<p>Also interested if this Firebase Test Lab related tool supports XCUITests:\n<a href=\"https://github.com/TestArmada/flank\" rel=\"nofollow noreferrer\">https://github.com/TestArmada/flank</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "avfoundation"], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548621748, "post_id": 54392499, "comment_id": 95597078, "body": "Adding this doesn&#39;t solve the problem, nor changes the error code unfortunately. You meant just adding this line in the header file riight? Or also add a protocol in my .swift file? Also, is it even okay to change this -Swift.h file? It seems that xcode undoes my changes there every time I clean with Cmd + shift + k"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "reply_to_user": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548621991, "post_id": 54392499, "comment_id": 95597136, "body": "Try adding that to your <code>Swift</code> file; regarding the undoing changes -- no idea."}, {"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548665274, "post_id": 54392499, "comment_id": 95607318, "body": "I&#39;m not sure how to do that correctly. This is not correct is it? :   <code>@objc public protocol AVCaptureVideoDataOutputSampleBufferDelegate{}</code>"}], "tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": false, "score": 0, "last_activity_date": 1548620413, "creation_date": 1548620413, "answer_id": 54392499, "question_id": 54392256, "link": "https://stackoverflow.com/questions/54392256/no-type-or-protocol-named-avcapturevideodataoutputsamplebufferdelegate-in-swi/54392499#54392499", "title": "No type or protocol named &#39;AVCaptureVideoDataOutputSampleBufferDelegate&#39; in -Swift.h header file", "body": "<p>You likely need to add the <code>@protocol</code> for <code>AVCaptureVideoDataOutputSampleBufferDelegate</code>.</p>\n\n<pre><code>@protocol AVCaptureVideoDataOutputSampleBufferDelegate;\n</code></pre>\n\n<p>Put that just above <code>@interface</code> in your <code>project_name-Swift.h</code> file.</p>\n"}, {"comments": [{"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548767231, "post_id": 54420958, "comment_id": 95653275, "body": "Thanks! prepended it to my class, like <code>@objcMembers public class VideoCapture: NSObject, AVCaptureVideoDataOutputSampleBufferDelegate {</code> But it&#39;s unfortunately still not working .  I get in my -swift header file:  <code>@interface VideoCapture : NSObject &lt;AVCaptureVideoDataOutputSampleBufferDelegate&gt; &lt;-- error No type or protocol named &#39;AVCaptureVideoDataOutputSampleBufferDelegate&#39;</code>"}, {"owner": {"reputation": 11, "user_id": 10974881, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156941111604605/picture?type=large", "display_name": "Amit Nadir", "link": "https://stackoverflow.com/users/10974881/amit-nadir"}, "reply_to_user": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548773383, "post_id": 54420958, "comment_id": 95657319, "body": "Try to replace this delegate with other that do compile ok and look for differences. If problem not solved then please share the h file header of this problematic delegate."}, {"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548843927, "post_id": 54420958, "comment_id": 95685945, "body": "I&#39;ve tried the same with AVCapturePhotoCaptureDelegate, and get the same error. Additionally, when adding @objcMembers, I get some expected type errors as well on parts of the code. This happens in the file included from my .m file where I import the -Swift.h file. Do you mean to share my own -Swift.h file?"}], "tags": [], "owner": {"reputation": 11, "user_id": 10974881, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156941111604605/picture?type=large", "display_name": "Amit Nadir", "link": "https://stackoverflow.com/users/10974881/amit-nadir"}, "is_accepted": false, "score": 1, "last_activity_date": 1548764470, "creation_date": 1548764470, "answer_id": 54420958, "question_id": 54392256, "link": "https://stackoverflow.com/questions/54392256/no-type-or-protocol-named-avcapturevideodataoutputsamplebufferdelegate-in-swi/54420958#54420958", "title": "No type or protocol named &#39;AVCaptureVideoDataOutputSampleBufferDelegate&#39; in -Swift.h header file", "body": "<p>Try using @objcMembers on top of your swift imported class, this will make sure you will get access to all objective-c code.</p>\n"}, {"comments": [{"owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "edited": false, "score": 0, "creation_date": 1580045637, "post_id": 57924677, "comment_id": 105961244, "body": "Yeah, it definitely helped me. Thanks :)"}], "tags": [], "owner": {"reputation": 359, "user_id": 5177476, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c17d6f6f0ec4bf1596510c73bed90d23?s=128&d=identicon&r=PG&f=1", "display_name": "alc77", "link": "https://stackoverflow.com/users/5177476/alc77"}, "is_accepted": false, "score": 8, "last_activity_date": 1568381780, "creation_date": 1568381780, "answer_id": 57924677, "question_id": 54392256, "link": "https://stackoverflow.com/questions/54392256/no-type-or-protocol-named-avcapturevideodataoutputsamplebufferdelegate-in-swi/57924677#57924677", "title": "No type or protocol named &#39;AVCaptureVideoDataOutputSampleBufferDelegate&#39; in -Swift.h header file", "body": "<p>I had the same issue. Adding the <code>@objc</code> or <code>@protocol</code> doesn't help. I solve it by adding </p>\n\n<pre><code>#import &lt;AVFoundation/AVFoundation.h&gt;\n</code></pre>\n\n<p>to the <code>PrefixHeader.pch</code> file just before <code>#import &lt;project_name-Swift.h&gt;</code>.</p>\n\n<p>I hope it helps somebody.</p>\n"}], "owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2235, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1568381780, "creation_date": 1548618677, "question_id": 54392256, "link": "https://stackoverflow.com/questions/54392256/no-type-or-protocol-named-avcapturevideodataoutputsamplebufferdelegate-in-swi", "title": "No type or protocol named &#39;AVCaptureVideoDataOutputSampleBufferDelegate&#39; in -Swift.h header file", "body": "<p>I have an Objective-C Project in which I use Swift scripts amongst Obj-C scripts. </p>\n\n<p>In one of the Swift scripts I have a class:</p>\n\n<pre><code>@objc public class VideoCapture: NSObject, AVCaptureVideoDataOutputSampleBufferDelegate {\n~~bunch of functions~~\n}\n</code></pre>\n\n<p>Because it's an Obj-C project, I prepended it with @obj, so that they appear in my ($project_name-Swift.h) header file. </p>\n\n<p>I get the error for what's written in my header file:</p>\n\n<p>// snippet from header file: project_name-Swift.h</p>\n\n<pre><code> #import &lt;AVFoundation/AVFoundation.h&gt;.  &lt;\u2014 I added this to make sure that AVFoundation is present in the header file\n\nSWIFT_CLASS(\"_TtC17FLIROneSDKExample12VideoCapture\")\n@interface VideoCapture : NSObject &lt;AVCaptureVideoDataOutputSampleBufferDelegate&gt;   &lt;&lt;\u2014\u2014!!! error: No type or protocol named 'AVCaptureVideoDataOutputSampleBufferDelegate'\n- (void)captureOutput:(AVCaptureOutput * _Nonnull)output didOutputSampleBuffer:(CMSampleBufferRef _Nonnull)sampleBuffer fromConnection:(AVCaptureConnection * _Nonnull)connection;\n- (void)captureOutput:(AVCaptureOutput * _Nonnull)output didDropSampleBuffer:(CMSampleBufferRef _Nonnull)sampleBuffer fromConnection:(AVCaptureConnection * _Nonnull)connection;\n- (nonnull instancetype)init OBJC_DESIGNATED_INITIALIZER;\n@end\n</code></pre>\n\n<p>I don't understand what's causing it, and I guess it has to do with not being able to access the AVFoundation library from the header file correctly or something. </p>\n\n<p>Any ideas to solve this?</p>\n"}, {"tags": ["ios", "objective-c", "push-notification", "unnotificationattachment"], "comments": [{"owner": {"reputation": 1938, "user_id": 8882062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86751bebdb95e65022ed93e45a6bc53f?s=128&d=identicon&r=PG&f=1", "display_name": "Rishil Patel", "link": "https://stackoverflow.com/users/8882062/rishil-patel"}, "edited": false, "score": 1, "creation_date": 1548616601, "post_id": 54390112, "comment_id": 95595716, "body": "follow this blog : <a href=\"https://medium.com/@lucasgoesvalle/custom-push-notification-with-image-and-interactions-on-ios-swift-4-ffdbde1f457\" rel=\"nofollow noreferrer\">medium.com/@lucasgoesvalle/&hellip;</a>"}, {"owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "reply_to_user": {"reputation": 1938, "user_id": 8882062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86751bebdb95e65022ed93e45a6bc53f?s=128&d=identicon&r=PG&f=1", "display_name": "Rishil Patel", "link": "https://stackoverflow.com/users/8882062/rishil-patel"}, "edited": false, "score": 0, "creation_date": 1549367097, "post_id": 54390112, "comment_id": 95868739, "body": "@RishilP. I had already seen this blog, but when I went through it again after getting suggested by you, I noticed a difference from all other sites. In majority of blogs or tutorials its suggested to save the downloaded image in a temprory location in the Filehandler, while this blog suggests to just store the image&#39;s NSData and convert it to UIImage when required. And that did the trick. Thanks man !!"}], "owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548605797, "creation_date": 1548605235, "last_edit_date": 1548605797, "question_id": 54390112, "link": "https://stackoverflow.com/questions/54390112/how-to-load-image-in-push-notification", "title": "How to load image in push notification?", "body": "<p>I am using UNNotificationContentExtension in my app to create a custom UI for the push notifications. The notification payload contains url for the image to be displayed. I am able to download and save the image to a temporary location. The problem is that the image is not loading in the notification at all. This is the UNNotificationAttachment created after all the processing:</p>\n\n<p><code>UNNotificationAttachment: 0x2820bfc30; identifier: DFEAC8A3-8B9E-4FFA-9CC4-3D7B3EE62F74, family: Image, URL: file:///private/var/mobile/Containers/Data/PluginKitPlugin/EF8FAE09-D295-485F-99FD-9BF2BE3628B4/tmp/CFNetworkDownload_bfL88G.tmp.jpg, type: public.jpeg, options: UNImageNotificationAttachmentOptions: 0x283bb6800</code></p>\n\n<p>This is how I tried to load the image in didReceiveNotification after creating the attachment object:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n                           self-&gt;notificationImageVw.image = [UIImage imageWithContentsOfFile:[NSString stringWithFormat:@\"%@\",attachment.URL]];\n\n                           [self-&gt;notificationImageVw setImage:[UIImage imageWithContentsOfFile:[NSString stringWithFormat:@\"%@\",attachment.URL]]];\n\n\n                           self-&gt;notificationImageVw.image = [UIImage imageWithContentsOfFile:[[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:[NSString stringWithFormat:@\"%@\",attachment.URL]]];\n\n                       });\n</code></pre>\n\n<p>But none of it worked. Please help and tell me what I'm doing wrong.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10835137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af36069652aaa69c2ee5d1754ef8974f?s=128&d=identicon&r=PG&f=1", "display_name": "peterw", "link": "https://stackoverflow.com/users/10835137/peterw"}, "edited": false, "score": 0, "creation_date": 1548525587, "post_id": 54380547, "comment_id": 95575508, "body": "@maddy - I had a different segue at the end of the textFieldDidEndEditing method and using  NSlog in the destinations of the two segues had indicated that the one at the end of textFieldDidEndEditing was being executed before the one in the Quit method, so I was sceptical that setting a flag in the Quit method would work. But surprisingly it does! Many thanks for guiding me to the answer."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1548521715, "creation_date": 1548521715, "answer_id": 54380547, "question_id": 54380130, "link": "https://stackoverflow.com/questions/54380130/stopping-textfielddidendediting-being-called-when-quitting-out-of-viewcontroller/54380547#54380547", "title": "Stopping textFieldDidEndEditing being called when quitting out of viewController", "body": "<p>You can't prevent <code>textFieldDidEndEditing</code> from being called. Dismissing the view controller dismisses the text field. Since the text field is no longer being edited, the delegate method will be called.</p>\n\n<p>One option you have is to set a flag when the user taps the Quit button. Then in your implementation of <code>textFieldDidEndEditing</code> you can check if that flag it set or not and act accordingly.</p>\n"}], "owner": {"reputation": 13, "user_id": 10835137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af36069652aaa69c2ee5d1754ef8974f?s=128&d=identicon&r=PG&f=1", "display_name": "peterw", "link": "https://stackoverflow.com/users/10835137/peterw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 54380547, "answer_count": 1, "score": 1, "last_activity_date": 1548526368, "creation_date": 1548518809, "last_edit_date": 1548526368, "question_id": 54380130, "link": "https://stackoverflow.com/questions/54380130/stopping-textfielddidendediting-being-called-when-quitting-out-of-viewcontroller", "title": "Stopping textFieldDidEndEditing being called when quitting out of viewController", "body": "<p>I have a ViewController with a TextField for user input and a Quit button in a NavigationBar. </p>\n\n<p>Normally, the user inputs text into the textField and the input is processed in <code>textFieldDidEndEditing</code>. If the Quit button is tapped before editing starts, then it segues correctly to the parent ViewController.</p>\n\n<p>However, if editing has started on the textField and then the Quit button is tapped, <code>textFieldDidEndEditing</code> is still called, which I don't want to happen.</p>\n\n<p>I have tried using <code>textFieldDidEndEditing:reason:</code> but the returned reason in both cases is <code>UITextFieldDidEndEditingReasonCommitted</code>. It seems that <code>UITextFieldDidEndEditingReasonCancelled</code> is only valid in tvOS not iOS.</p>\n\n<p>How else can I detect that the user has Quit and prevent <code>textFieldDidEndEditing</code> from running to completion?</p>\n"}, {"tags": ["objective-c", "tvos", "nskeyedarchiver"], "answers": [{"tags": [], "owner": {"reputation": 16581, "user_id": 1973344, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3248b03ee61c25a9f6ca3627418283e?s=128&d=identicon&r=PG", "display_name": "Matteo Gobbi", "link": "https://stackoverflow.com/users/1973344/matteo-gobbi"}, "is_accepted": true, "score": 0, "last_activity_date": 1548877152, "creation_date": 1548877152, "answer_id": 54448284, "question_id": 54377029, "link": "https://stackoverflow.com/questions/54377029/nskeyedarchiver-works-on-simulator-but-fails-on-tvos-device/54448284#54448284", "title": "NSKeyedArchiver works on simulator but fails on tvOS device", "body": "<p>After investigating a bit, I found out that the only ways that Apple allows you to store data in tvOS apps are the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TwTBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwTBM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Therefore, I opted for using the Cache directory (which is purged only if space is needed) for data that I can eventually re-download, and NSUserDefaults for smaller data which I need to always access locally.</p>\n"}], "owner": {"reputation": 16581, "user_id": 1973344, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3248b03ee61c25a9f6ca3627418283e?s=128&d=identicon&r=PG", "display_name": "Matteo Gobbi", "link": "https://stackoverflow.com/users/1973344/matteo-gobbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 54448284, "answer_count": 1, "score": 0, "last_activity_date": 1548877152, "creation_date": 1548493593, "last_edit_date": 1548539358, "question_id": 54377029, "link": "https://stackoverflow.com/questions/54377029/nskeyedarchiver-works-on-simulator-but-fails-on-tvos-device", "title": "NSKeyedArchiver works on simulator but fails on tvOS device", "body": "<p>I'm archiving an object to a file - on simulator it works perfectly, but on a tvOS (Apple TV) device it doesn't (in other words <code>-(BOOL)archiveRootObject:toFile:</code> returns a funny <code>NO</code>):</p>\n\n<pre><code>static NSString * _DocumentsDirectory() {\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentsDirectory, NSUserDomainMask, YES);\n    return paths[0];\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>NSString *fullPath = [_DocumentsDirectory() stringByAppendingPathComponent:filename];\n[NSKeyedArchiver archiveRootObject:obj toFile:fullPath];\n</code></pre>\n\n<p>where <code>filename = @\"foo.data\"</code> and <code>obj</code> conforms to <code>NSCoding</code>.</p>\n\n<p>I tried different ways to put together the path and different directories, but the result is the same.\nThe only thought I have is that there could be some writing permission I need to set.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["objective-c", "cocoa", "core-data", "nstableview", "nsarraycontroller"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548513007, "post_id": 54376983, "comment_id": 95572034, "body": "When you say &quot;managed object&quot; do you mean <code>NSManagedObjectContext</code>? Is the object removed from the main context?"}, {"owner": {"reputation": 22113, "user_id": 944634, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Pg6Fd.jpg?s=128&g=1", "display_name": "Parag Bafna", "link": "https://stackoverflow.com/users/944634/parag-bafna"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548517535, "post_id": 54376983, "comment_id": 95573287, "body": "@Willeke Yes, Updated question."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548520424, "post_id": 54376983, "comment_id": 95574065, "body": "Is the object not removed from the main context? Or is the object removed from the main context and is it not removed from the array controller?"}, {"owner": {"reputation": 22113, "user_id": 944634, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Pg6Fd.jpg?s=128&g=1", "display_name": "Parag Bafna", "link": "https://stackoverflow.com/users/944634/parag-bafna"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548522377, "post_id": 54376983, "comment_id": 95574600, "body": "@Willeke Object removed from main context but not from array controller."}, {"owner": {"reputation": 22113, "user_id": 944634, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Pg6Fd.jpg?s=128&g=1", "display_name": "Parag Bafna", "link": "https://stackoverflow.com/users/944634/parag-bafna"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548522551, "post_id": 54376983, "comment_id": 95574649, "body": "Currently I have added one quick fix, After deleting object from context, I am checking if object exist in arrayController.arrangedObjects, If exist I am removing it using [arrayController removeObject:entryToRemove]."}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": false, "score": 1, "last_activity_date": 1548979180, "creation_date": 1548979180, "answer_id": 54471021, "question_id": 54376983, "link": "https://stackoverflow.com/questions/54376983/sometimes-nsarraycontroller-is-not-refreshing-nstableview-after-core-data-delete/54471021#54471021", "title": "Sometimes NSArrayController is not refreshing NSTableView after core data delete/update", "body": "<p>Apparently <code>NSArrayController</code> is notified when something changes in the context. This notification is sent in <code>mergeChangesFromContextDidSaveNotification:</code> which is automatically called if <code>automaticallyMergesChangesFromParent</code> is <code>YES</code>.</p>\n"}], "owner": {"reputation": 22113, "user_id": 944634, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Pg6Fd.jpg?s=128&g=1", "display_name": "Parag Bafna", "link": "https://stackoverflow.com/users/944634/parag-bafna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548979180, "creation_date": 1548493111, "last_edit_date": 1548517522, "question_id": 54376983, "link": "https://stackoverflow.com/questions/54376983/sometimes-nsarraycontroller-is-not-refreshing-nstableview-after-core-data-delete", "title": "Sometimes NSArrayController is not refreshing NSTableView after core data delete/update", "body": "<p>I am using <code>NSArrayController</code> Binding to populate <code>NSTableView</code> from core data. <code>NSArrayController</code> is connected to <code>mainQueueConcurrencyType</code> managed object context(main managed object).\nparent of main managed object context is <code>privateQueueConcurrencyType</code> (background managed object context). Save call on main managed object context will push changes to background managed object context and save on background managed object context will save to persistent store.   </p>\n\n<p><code>Prepares contents</code> and <code>Editable</code> are enabled in xib for <code>NSArrayController</code> </p>\n\n<p>Core data table :<br>\nPath<br>\nDate<br>\nStatus</p>\n\n<p>I have unique constraints added to path. </p>\n\n<p>Sometimes <code>NSArrayController</code> is not removing deleted object from arranged object after core data save.</p>\n\n<pre><code>  [context performBlock:^{\n        NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\n        NSEntityDescription *entity = [NSEntityDescription entityForName:@\"entity\" inManagedObjectContext:context];\n        [fetchRequest setEntity:entity];\n        NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"path ==%@\", path];\n        [fetchRequest setPredicate:predicate];\n\n        NSError *error = nil;\n        NSArray *fetchedObjects = [context executeFetchRequest:fetchRequest error:&amp;error];\n        SyncStatusEntry *syncStatus = [fetchedObjects firstObject];\n        NSInteger status = syncStatus.status.integerValue;\n        context deleteObject:syncStatus];\n        [context save:nil];\n        // Sometimes NSArrayController still have this object\n   }];\n</code></pre>\n\n<p>Can anyone please help me out?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "camera-roll", "document-types"], "answers": [{"tags": [], "owner": {"reputation": 1939, "user_id": 9231425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BFdQxTpLc04/AAAAAAAAAAI/AAAAAAAAAQA/HAgRCgxk_Kg/photo.jpg?sz=128", "display_name": "Ajay saini", "link": "https://stackoverflow.com/users/9231425/ajay-saini"}, "is_accepted": true, "score": 1, "last_activity_date": 1548583494, "creation_date": 1548583494, "answer_id": 54386959, "question_id": 54376732, "link": "https://stackoverflow.com/questions/54376732/open-in-should-show-my-app-in-iphones-camera-roll/54386959#54386959", "title": "&quot;Open In&quot; should show my app in iPhones Camera Roll", "body": "<p>You can use iOS share extension</p>\n\n<p><a href=\"https://www.appcoda.com/ios8-share-extension-swift/\" rel=\"nofollow noreferrer\">https://www.appcoda.com/ios8-share-extension-swift/</a></p>\n"}], "owner": {"reputation": 996, "user_id": 271753, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lN1NI.jpg?s=128&g=1", "display_name": "Omkar Jadhav", "link": "https://stackoverflow.com/users/271753/omkar-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 54386959, "answer_count": 1, "score": 0, "last_activity_date": 1548583494, "creation_date": 1548490342, "question_id": 54376732, "link": "https://stackoverflow.com/questions/54376732/open-in-should-show-my-app-in-iphones-camera-roll", "title": "&quot;Open In&quot; should show my app in iPhones Camera Roll", "body": "<p>How can I have my app in the list of apps so that users can share photos to my app. I have tried setting public.png Document Types in Info.plist but it doesn't show up in the list.\nPlease check the apps encircled in the attached photo, I want my app in that list .</p>\n\n<p><a href=\"https://i.stack.imgur.com/HCfZ8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCfZ8.jpg\" alt=\"Attachment\"></a></p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nsuserdefaults", "key-value-observing"], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 8228526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23e46f36398e38e8a1bd64574b9ae7b?s=128&d=identicon&r=PG&f=1", "display_name": "NoHalfBits", "link": "https://stackoverflow.com/users/8228526/nohalfbits"}, "is_accepted": false, "score": 2, "last_activity_date": 1548505181, "creation_date": 1548505181, "answer_id": 54378300, "question_id": 54374090, "link": "https://stackoverflow.com/questions/54374090/how-to-observe-command-line-changes-to-nsuserdefaults-in-objective-c-app/54378300#54378300", "title": "How to observe command line changes to NSUserDefaults in Objective-C app?", "body": "<p>It's just like KVOing any other change to defaults.</p>\n\n<p>Assume your app has a <code>CFBundleIdentifier</code> of <em>your.company.app</em>, and you want to KVO a defaults value with the key <em>foo</em>.</p>\n\n<p>Setup KVO of <em>foo</em> like so:</p>\n\n<pre><code>[NSUserDefaults.standardUserDefaults addObserver:self forKeyPath:@\"foo\" options:NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew context:nil];\n</code></pre>\n\n<p>and have a KVO callback method in the same class:</p>\n\n<pre><code>-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSKeyValueChangeKey,id&gt; *)change context:(void *)context\n{\n    // just for debugging:\n    NSLog(@\"KVO: keyPath = '%@', change = %@\", keyPath, change);\n}\n</code></pre>\n\n<p>Build and run the app; then, on the command line, issue:</p>\n\n<pre><code>defaults write your.company.app foo \"bar\"\n</code></pre>\n\n<p>should result in the KVO callback method being called (tested with macOS 13, XCode9, sandboxed default macOS Cocoa App template, KVOing from AppDelegate)</p>\n"}], "owner": {"reputation": 450, "user_id": 487158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba927d8ecc3f4e20308fc20c8fb3ab76?s=128&d=identicon&r=PG", "display_name": "user487158", "link": "https://stackoverflow.com/users/487158/user487158"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548505181, "creation_date": 1548458458, "question_id": 54374090, "link": "https://stackoverflow.com/questions/54374090/how-to-observe-command-line-changes-to-nsuserdefaults-in-objective-c-app", "title": "How to observe command line changes to NSUserDefaults in Objective-C app?", "body": "<p>I'd like my Cocoa Objective-C app to observe NSUserDefaults changes that are a result of a command line invocation of defaults write such as:</p>\n\n<pre><code>defaults write &lt;domain&gt; &lt;key&gt; -array val1 val2 val3\n</code></pre>\n\n<p>I've poured over many examples regarding observing NSUserDefaults changes.  Looks like notifications are out because they only work within the same process.  To observe command line changes, I believe that KVO is required.</p>\n\n<p>In the KVO examples I've seen, it's not clear to me how to associate the \"domain\" and \"key\" arguments used in the \"defaults write ...\" command line call to the programmatic constructs of KVO logic used to observe those changes.</p>\n\n<p>A concise, concrete runnable example with both the code and the associated \"defaults write ...\" command would be greatly appreciated!</p>\n"}, {"tags": ["objective-c", "swift", "module", "nsobject", "nsobjectprotocol"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3158880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25eda0ffacb39130671f9e35c04a260?s=128&d=identicon&r=PG&f=1", "display_name": "user3158880", "link": "https://stackoverflow.com/users/3158880/user3158880"}, "edited": false, "score": 0, "creation_date": 1548785340, "post_id": 54373862, "comment_id": 95664393, "body": "Unfortunately, @nonobjc can&#39;t be used with class declaration. It would be nice to have the explanation in access modifier docs. Thank you for your answer <code>@Cristik</code>"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "reply_to_user": {"reputation": 21, "user_id": 3158880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25eda0ffacb39130671f9e35c04a260?s=128&d=identicon&r=PG&f=1", "display_name": "user3158880", "link": "https://stackoverflow.com/users/3158880/user3158880"}, "edited": false, "score": 0, "creation_date": 1549347296, "post_id": 54373862, "comment_id": 95858937, "body": "@user3158880 yeah, however if you need a workaround to this &quot;limitation&quot;, I updated my answer with a such one."}], "tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 0, "last_activity_date": 1549346324, "last_edit_date": 1549346324, "creation_date": 1548456825, "answer_id": 54373862, "question_id": 54373499, "link": "https://stackoverflow.com/questions/54373499/why-does-a-class-become-public-if-you-inherit-from-nsobject-in-swift/54373862#54373862", "title": "Why does a class become public if you inherit from NSObject in Swift?", "body": "<p>Internal Swift classes need to be available to the Objective-C code of that framework, however the only way Objective-C code can access the Swift classes is by importing the <code>-Swift.h</code> header file.</p>\n\n<p>Now, how can a Swift class be visible to Objective-C: it either needs to inherit <code>NSObject</code>, or conform to <code>NSObjectProtocol</code>. If any of these two conditions is fulfilled, and the class declaration is not decorated with <code>@nonobjc</code>/<code>private</code>/<code>fileprivate</code>, then it will be exported to Objective-C via the <code>-Swift.h</code> module header.</p>\n\n<p>This is why any Swift classes that are exportable to Objective-C will automatically be present in the discussed header file. It's an (unfortunate) coincidence that for frameworks this results in the class being publicly available (due to the fact that any Objective-C declarations that appear in a header are public).</p>\n\n<p>Now, if you want your class to not end up in the <code>-Swift.h</code> header file, but still want to keep the <code>NSObject(Protocol)</code> inheritance/conformance, a workaround would be to make your class generic, thus prohibiting its exposure to Objective-C. Note that this will also prevent the class from being available to Objective-C code in the same framework.</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>// the generic argument doesn't matter, it's only used to make the class\n// Swift-only\nclass MyClass&lt;T&gt;: NSObject { }\n</code></pre>\n\n<p>The caveat would be that every time the class is used, you will need to specify a value for the generic argument. This can be avoided by adding an intermediary base class:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>// just a class that inherits NSObject, but is not exported in the -Swift header\nclass Empty&lt;T&gt;: NSObject { }\n\nclass MyClass: Empty&lt;String&gt; { }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3158880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25eda0ffacb39130671f9e35c04a260?s=128&d=identicon&r=PG&f=1", "display_name": "user3158880", "link": "https://stackoverflow.com/users/3158880/user3158880"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1549346324, "creation_date": 1548454505, "last_edit_date": 1548456368, "question_id": 54373499, "link": "https://stackoverflow.com/questions/54373499/why-does-a-class-become-public-if-you-inherit-from-nsobject-in-swift", "title": "Why does a class become public if you inherit from NSObject in Swift?", "body": "<p>I'm working on a framework. </p>\n\n<p>The library is written in Swift and I notice that when a class inherits from <code>NSObject</code> or conforms to <code>NSObjectProtocol</code>, its declaration can be found in <code>*.framework/Headers/*-Swift.h</code>. </p>\n\n<p>This class is available outside of the module in Objective-C code, so it became public. </p>\n\n<p>Why does it happen if the access level is internal?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "multithreading", "parallel-processing"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548437330, "post_id": 54369772, "comment_id": 95554444, "body": "If you are asking about Swift, why did you post the Objective-C signature of the method?"}], "answers": [{"comments": [{"owner": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "edited": false, "score": 0, "creation_date": 1548437872, "post_id": 54370173, "comment_id": 95554719, "body": "so, if i dispatch multiple threads invoking same selector on the same instance as target, multiple threads would execute the method on exact same instance ?"}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1548437463, "creation_date": 1548437463, "answer_id": 54370173, "question_id": 54369772, "link": "https://stackoverflow.com/questions/54369772/significance-of-target-in-detaching-a-thread-in-swift/54370173#54370173", "title": "Significance of Target in detaching a Thread in Swift", "body": "<p>The documentation for <code>aTarget</code> says:</p>\n\n<blockquote>\n  <p>The object that will receive the message aSelector on the new thread.</p>\n</blockquote>\n\n<p>This means that the selector will be called on the object that you pass as the target. It's no different than making any other method call. You call a method on a specific instance of a class. The target is the specific instance. The selector is the method that is called on that instance.</p>\n"}, {"comments": [{"owner": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "edited": false, "score": 0, "creation_date": 1548442342, "post_id": 54370869, "comment_id": 95556760, "body": "can you recommend a workaround for being able to send multiple arguments?"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "reply_to_user": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "edited": false, "score": 1, "creation_date": 1548443232, "post_id": 54370869, "comment_id": 95557146, "body": "@Harshal I updated the answer and added a workaround for that."}], "tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 1, "last_activity_date": 1548443212, "last_edit_date": 1548443212, "creation_date": 1548440503, "answer_id": 54370869, "question_id": 54369772, "link": "https://stackoverflow.com/questions/54369772/significance-of-target-in-detaching-a-thread-in-swift/54370869#54370869", "title": "Significance of Target in detaching a Thread in Swift", "body": "<p>Think of <code>detachNewThreadSelector:toTarget:withObject:</code> as calling the given method of the given object, with the given argument (or ignore the argument if the method has zero parameters), but call the method on a newly created thread.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>[NSThread detachNewThreadSelector:@selector(expensiveComputationWithObjects:)\n                           target:someCalculatorObject\n                       withObject:someVeryLargeArray]\n</code></pre>\n\n<p>The method thus provides a very convenient way of dispatching method calls on background threads (though it doesn't allow reusing an existing thread). </p>\n\n<p>Another minor disadvantage is that the methods in discussions need to have at most one parameter, though this limitation can be circumvented by having the target method receive a structure (a dictionary or another class) that holds the actual arguments.</p>\n"}], "owner": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 54370173, "answer_count": 2, "score": 1, "last_activity_date": 1548443212, "creation_date": 1548435762, "question_id": 54369772, "link": "https://stackoverflow.com/questions/54369772/significance-of-target-in-detaching-a-thread-in-swift", "title": "Significance of Target in detaching a Thread in Swift", "body": "<p>I have recently started getting acquainted with explicit Multithreading in swift. I am trying to understand the below method to dispatch a new thread for executing a selector. while I am able to use it successfully, what I don't understand is what is the significance of <code>target</code> in the signature of the method below? is that argument used to hold a monitor lock for thread safety like in java ? I tried referring to the documentation with not much help. I would really appreciate if someone can help me understand what's happening under the hood here.</p>\n\n<pre><code>(void)detachNewThreadSelector:(SEL)selector \n                   toTarget:(id)target \n                 withObject:(id)argument;\n</code></pre>\n"}, {"tags": ["objective-c", "app-startup"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4239036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b805eb27e3747c8132715a3cf88d9e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hughes", "link": "https://stackoverflow.com/users/4239036/chris-hughes"}, "is_accepted": false, "score": 0, "last_activity_date": 1548535414, "creation_date": 1548535414, "answer_id": 54382556, "question_id": 54369711, "link": "https://stackoverflow.com/questions/54369711/suppressing-file-open-at-macos-app-startup/54382556#54382556", "title": "Suppressing file open at macOS app startup", "body": "<p>Answering my own question: I find in Apple's \"Document Based App Programming Guide for Mac\" information on autosaving and restoring windows, and that I can trap the restore by subclassing NSApplication and overriding its restoreWindowWithIdentifier:state:completionHandler: method.</p>\n"}], "owner": {"reputation": 1, "user_id": 4239036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09b805eb27e3747c8132715a3cf88d9e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hughes", "link": "https://stackoverflow.com/users/4239036/chris-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548535414, "creation_date": 1548435494, "question_id": 54369711, "link": "https://stackoverflow.com/questions/54369711/suppressing-file-open-at-macos-app-startup", "title": "Suppressing file open at macOS app startup", "body": "<p>I have a file-based Objective C app for macOS.  When the user starts the app, macOS automatically reopens files that were open when the user last ran the app.  I want to prevent that, sometimes.</p>\n\n<p>I'd like to use AppDelegate applicationWillFinishLaunching to suppress the file opening, or just delete the cache of names, but can't find an interface or the location of the cache.</p>\n"}, {"tags": ["ios", "objective-c", "mpnowplayinginfocenter", "mpremotecommandcenter"], "comments": [{"owner": {"reputation": 767, "user_id": 5144603, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/XnKtY.jpg?s=128&g=1", "display_name": "raphael", "link": "https://stackoverflow.com/users/5144603/raphael"}, "edited": false, "score": 0, "creation_date": 1548588545, "post_id": 54369401, "comment_id": 95587306, "body": "take a look: <a href=\"https://stackoverflow.com/questions/53986069/swift-remote-command-center-not-show-in-lockscreen/53986756#53986756\" title=\"swift remote command center not show in lockscreen\">stackoverflow.com/questions/53986069/&hellip;</a>"}, {"owner": {"reputation": 116, "user_id": 7648917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99fdda7fd777a29b379c46c316b150ca?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/7648917/mateusz"}, "reply_to_user": {"reputation": 767, "user_id": 5144603, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/XnKtY.jpg?s=128&g=1", "display_name": "raphael", "link": "https://stackoverflow.com/users/5144603/raphael"}, "edited": false, "score": 0, "creation_date": 1548611962, "post_id": 54369401, "comment_id": 95594177, "body": "I&#39;ve downloaded the example project from github and they hide the whole lock screen control view when you pause/stop player. I would like to keep it always visible and only update play/pause controls."}, {"owner": {"reputation": 767, "user_id": 5144603, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/XnKtY.jpg?s=128&g=1", "display_name": "raphael", "link": "https://stackoverflow.com/users/5144603/raphael"}, "edited": false, "score": 0, "creation_date": 1548663279, "post_id": 54369401, "comment_id": 95606468, "body": "Lock screen control belong to Apple,  but we can think play / pause or play / stop depend on rate&#39;s avplayeritem. <code>MPNowPlayingInfoPropertyPlaybackRate </code> shouldn&#39;t be set at 0: positive or negative value. From ModernAVPlayer project, didn&#39;t have any issue about that."}], "owner": {"reputation": 116, "user_id": 7648917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99fdda7fd777a29b379c46c316b150ca?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/7648917/mateusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548434260, "creation_date": 1548434260, "question_id": 54369401, "link": "https://stackoverflow.com/questions/54369401/lock-screen-play-pause-controls-not-changing", "title": "Lock Screen play/pause controls not changing", "body": "<p>I would like to change play/pause button icon on a lock screen when I tap play/pause in the app.</p>\n\n<p>When I tap play/pause from a lock screen, I receive it in the app and update the view, but when I tap it in the app, it doesn't update on a lock screen.</p>\n\n<p>I was trying to do it this way:</p>\n\n<pre><code>NSMutableDictionary *currentlyPlayingTrackInfoDict = [[NSMutableDictionary alloc] initWithCapacity:3];\n\n[currentlyPlayingTrackInfoDict setObject:[NSNumber numberWithFloat:[[AudioPlaybackManager shared] isPlaying] ? 1.0f : 0.0f] forKey:MPNowPlayingInfoPropertyPlaybackRate];\n[currentlyPlayingTrackInfoDict setObject:[NSNumber numberWithFloat:10.0] forKey:MPNowPlayingInfoPropertyElapsedPlaybackTime];\n[currentlyPlayingTrackInfoDict setObject:[NSNumber numberWithFloat:100.0] forKey:MPMediaItemPropertyPlaybackDuration];\n\n[[MPNowPlayingInfoCenter defaultCenter] setNowPlayingInfo:currentlyPlayingTrackInfoDict];\n</code></pre>\n\n<p>but it only affects seek bar.</p>\n\n<p>Has anyone encountered a similar problem? Should I set something else?</p>\n"}, {"tags": ["objective-c", "nsarraycontroller"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1548455070, "post_id": 54368892, "comment_id": 95561577, "body": "How do you bind what to <code>hasItems</code>? How did you check if it gets notified of changes?"}], "answers": [{"tags": [], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "is_accepted": true, "score": 0, "last_activity_date": 1548495037, "creation_date": 1548495037, "answer_id": 54377172, "question_id": 54368892, "link": "https://stackoverflow.com/questions/54368892/subclassed-nsarraycontroller-bind-to-custom-property/54377172#54377172", "title": "Subclassed NSArrayController bind to custom property", "body": "<p>It was a fault of mine. The value did change and the notification works. I just made a mistake. The above implementation is correct.</p>\n"}], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54377172, "answer_count": 1, "score": 0, "last_activity_date": 1548495037, "creation_date": 1548432257, "last_edit_date": 1548432566, "question_id": 54368892, "link": "https://stackoverflow.com/questions/54368892/subclassed-nsarraycontroller-bind-to-custom-property", "title": "Subclassed NSArrayController bind to custom property", "body": "<p>I am on XCode 10, Objective-C, Mac OSX, not iOS.</p>\n\n<p>I have subclassed an NSArrayController to create a new property to bind to.</p>\n\n<p><strong>SHArrayController.h</strong>    </p>\n\n<pre><code>@property (nonatomic) BOOL hasItems;\n</code></pre>\n\n<p><strong>SHArrayController.m</strong></p>\n\n<pre><code>- (BOOL)hasItems\n{\n    return ([self.arrangedObjects count] &gt; 0);\n}\n</code></pre>\n\n<p>If i bind anything to that property i doesn't get notified of changes.\nIf i add an Object to the arrayController, \"hasItems\" should change.</p>\n\n<p>This is how i add objects:</p>\n\n<pre><code>[self.arrayController willChangeValueForKey:@\"hasItems\"];\n[self.arrayController addObject:SomeObject];\n[self.arrayController didChangeValueForKey:@\"hasItems\"];\n</code></pre>\n\n<p>What am i doing wrong?</p>\n\n<p>Edit: ArrayController is properly instantiated, so are the objects to add.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1548428829, "post_id": 54364881, "comment_id": 95549654, "body": "FYI - use <code>objectForKey:</code>, not <code>valueForKey:</code> to get an object from an NSDictionary."}], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 3292837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9d1295c3f1b06dfc401270aded3d6?s=128&d=identicon&r=PG", "display_name": "Ramon", "link": "https://stackoverflow.com/users/3292837/ramon"}, "is_accepted": false, "score": 0, "last_activity_date": 1548430267, "creation_date": 1548430267, "answer_id": 54368331, "question_id": 54364881, "link": "https://stackoverflow.com/questions/54364881/handling-possible-nil-date-from-array-of-objects-from-db-which-may-return-a-date/54368331#54368331", "title": "Handling possible nil date from array of objects from db which may return a date", "body": "<p>You should probably use <code>objectForKey:</code>, that's a <code>NSDictionary</code> function. The <code>valueForKey:</code> basically works on any class and returns a value and/or function result based on the key you pass it.</p>\n\n<p>I can imagine something funky happening when asking for the date.</p>\n\n<p>Your code should probably look somewhat like the following:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>NSDictionary *goalInfo = self.goalArray[i];\n//goalInfo[@\"date\"] - This is the short, and more readable version of 'objectForKey:'\n\nif (goalInfo &amp;&amp; goalInfo[@\"date\"]) {\n  return goalInfo[@\"date\"];\n}\nelse {\n  return [NSNull null];\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7783174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b438855185e95a52a9b86626b9f86c7?s=128&d=identicon&r=PG&f=1", "display_name": "Derm", "link": "https://stackoverflow.com/users/7783174/derm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548430267, "creation_date": 1548417335, "last_edit_date": 1548418278, "question_id": 54364881, "link": "https://stackoverflow.com/questions/54364881/handling-possible-nil-date-from-array-of-objects-from-db-which-may-return-a-date", "title": "Handling possible nil date from array of objects from db which may return a date", "body": "<p>I'm new to objective c and have been given an existing, outsourced codebase so I apologise if I am missing something very obvious!</p>\n\n<p>I have a Goal data model which I have added a date to:\n<a href=\"https://i.stack.imgur.com/YTIWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YTIWg.png\" alt=\"GoalDataModel\"></a></p>\n\n<p>When making a request to the db for an array of goals, the following is returned:\n<a href=\"https://i.stack.imgur.com/yOdNn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yOdNn.png\" alt=\"GoalArray\"></a></p>\n\n<p>As you can see, one of the array elements returns an extra KVP which is the date type I added to the xcdatamodel previously. This date refers to the date in which the goal was completed.\n<a href=\"https://i.stack.imgur.com/N9M6C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N9M6C.png\" alt=\"Goal\"></a></p>\n\n<p>When iterating over this array in a for loop and checking whether the date KVP is not nil, NULL is returned for the object in which the date exists for:</p>\n\n<pre><code>([[self.goalArray objectAtIndex:i] valueForKey:@\"date\"] != nil) ?\n[[self.goalArray objectAtIndex:i] valueForKey:@\"date\"] : [NSNull null]\n</code></pre>\n\n<p>However, the other values in the object using the same above expression with their keys return their expected values:\n<a href=\"https://i.stack.imgur.com/yzBBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzBBj.png\" alt=\"ArrayReturn\"></a></p>\n\n<p>It's worth noting that in order to get the app to run, I change the date xcdatamodel to a string value as opposed to date for testing purposes.</p>\n\n<p>I have also added this to the Goal model:</p>\n\n<pre><code>@synthesize date;\n...\n-(NSDate*) date {\n    return date;\n}\n\n-(void) setDate:(NSDate*)DateTime {\n    date = DateTime;\n}\n</code></pre>\n\n<p>Is there something obvious I'm missing as I am at a wits end?\nAgain I apologise if this is a bad question I cannot find any clues as to how to handle objects which may or may not return a certain KVP </p>\n"}, {"tags": ["ios", "objective-c", "uipickerview", "uibarbuttonitem"], "comments": [{"owner": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 1, "creation_date": 1548395969, "post_id": 54359553, "comment_id": 95533781, "body": "i have tried your code and its displaying &quot;Done&quot; button correctly. something must be breaking from other code."}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548396084, "post_id": 54359553, "comment_id": 95533823, "body": "I have written some code in AppDelegate i&#39;m just updating  code here please check once that I don&#39;t know why this thing is happening !"}, {"owner": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548396320, "post_id": 54359553, "comment_id": 95533899, "body": "i have tried appdelegate code also, this is also working fine. must be breaking from other code."}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548396409, "post_id": 54359553, "comment_id": 95533923, "body": "can you please tell me which type of properties or something that effect here because I have create all this properties here and I don&#39;t change colour any of my code !!"}, {"owner": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548396664, "post_id": 54359553, "comment_id": 95533993, "body": "have you tried commenting appdelegate code once?"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548396762, "post_id": 54359553, "comment_id": 95534031, "body": "Yes but no effect @Dhaval"}, {"owner": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 0, "creation_date": 1548399832, "post_id": 54359553, "comment_id": 95535104, "body": "Your code looks great and its working fine, the problem is some where else in the code"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1548399942, "post_id": 54359553, "comment_id": 95535153, "body": "in this project lot&#39;s of code there can you please tell me which type of code is change this thing so I can change in my files thank you"}, {"owner": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 1, "creation_date": 1548400722, "post_id": 54359553, "comment_id": 95535473, "body": "Not sure, could you please try this <a href=\"https://stackoverflow.com/a/47754627/2323806\">stackoverflow.com/a/47754627/2323806</a> &amp; <a href=\"https://stackoverflow.com/a/47839657/2323806\">stackoverflow.com/a/47839657/2323806</a>"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 0, "creation_date": 1548402372, "post_id": 54359553, "comment_id": 95536117, "body": "Hello @Vinaykrishnan, I check this i follow all answer but still not working !! Change Button to enable/disable And Set navigationController tintAdjustmode normal/automatic no effect !! what should I do now .?"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "reply_to_user": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 0, "creation_date": 1548402596, "post_id": 54359553, "comment_id": 95536196, "body": "Hello Using Navigation code it&#39;s working now I forget to do delegate self now it&#39;s work Thank You So much @Vinaykrishnan Awesome Brother"}, {"owner": {"reputation": 692, "user_id": 2323806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9bW0D.jpg?s=128&g=1", "display_name": "Vinaykrishnan", "link": "https://stackoverflow.com/users/2323806/vinaykrishnan"}, "edited": false, "score": 1, "creation_date": 1548402695, "post_id": 54359553, "comment_id": 95536240, "body": "Great:) Happy Coding !"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1548402826, "post_id": 54359553, "comment_id": 95536304, "body": "Yes Thank You once again :-)"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 10549867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VLsGPUK_gLk/AAAAAAAAAAI/AAAAAAAAAtU/yczvSnAn0bM/photo.jpg?sz=128", "display_name": "Pradip Patel", "link": "https://stackoverflow.com/users/10549867/pradip-patel"}, "reply_to_user": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1548397434, "post_id": 54359819, "comment_id": 95534289, "body": "let tool = UIToolbar();tool.barStyle = UIBarStyle.default tool.isTranslucent = true tool.tintColor = UIColor.blue tool.sizeToFit() tool.barTintColor = UIColor.blue tool.backgroundColor = UIColor.white // this is swift code i hope you convert in objective c."}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1548398843, "post_id": 54359819, "comment_id": 95534743, "body": "I try this code still is not working @Pradip i think we missed something !!"}], "tags": [], "owner": {"reputation": 191, "user_id": 10549867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VLsGPUK_gLk/AAAAAAAAAAI/AAAAAAAAAtU/yczvSnAn0bM/photo.jpg?sz=128", "display_name": "Pradip Patel", "link": "https://stackoverflow.com/users/10549867/pradip-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1548396645, "creation_date": 1548396645, "answer_id": 54359819, "question_id": 54359553, "link": "https://stackoverflow.com/questions/54359553/uipickerview-barbutton-text-color-is-not-change-but-when-click-on-button-then-th/54359819#54359819", "title": "UIPickerView BarButton Text Color is not change but when click on button then the color is change in Objective-C", "body": "<p>use tint Color in Donebutton\ntry This.</p>\n\n<pre><code> UIBarButtonItem *donebutton=[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(Btn_DoneClick)];\n    //    donebutton.style=UIBarButtonItemStylePlain;\ndonebutton.tintColor = [UIColor blueColor];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 756, "user_id": 7855724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uIRki.jpg?s=128&g=1", "display_name": "Naval Hasan", "link": "https://stackoverflow.com/users/7855724/naval-hasan"}, "is_accepted": true, "score": 1, "last_activity_date": 1575114307, "last_edit_date": 1575114307, "creation_date": 1575090608, "answer_id": 59113361, "question_id": 54359553, "link": "https://stackoverflow.com/questions/54359553/uipickerview-barbutton-text-color-is-not-change-but-when-click-on-button-then-th/59113361#59113361", "title": "UIPickerView BarButton Text Color is not change but when click on button then the color is change in Objective-C", "body": "<p>I know this question was asked 10 months ago. But today I still had this issue. I tried changing tint color and I have no idea why it is not working. After spending hours, I finally decided to create a UIView on UIToolbar and then add a UIButton on it. It worked for me. I hope it might help someone in future.</p>\n\n<pre><code>// UIPickerView\nself.myPickerView = UIPickerView(frame:CGRect(x: 0, y: 0, width: self.view.frame.size.width, height: 216))\nself.myPickerView.delegate = self\nself.myPickerView.dataSource = self\nself.myPickerView.backgroundColor = UIColor.white\ncell.myTextField.inputView = self.myPickerView\n\n// ToolBar\nlet toolBar = UIToolbar()\ntoolBar.barStyle = .default\ntoolBar.isTranslucent = true\ntoolBar.tintColor = UIColor(red: 92/255, green: 216/255, blue: 255/255, alpha: 1)\ntoolBar.sizeToFit()\n\n// UIView\nlet myNewView=UIView(frame: CGRect(x: 0, y: 0, width: self.view.bounds.width, height: 44))\nmyNewView.backgroundColor = .lightGray\ntoolBar.addSubview(myNewView)\n\n// UIButton\nlet button:UIButton = UIButton(frame: CGRect(x: myNewView.bounds.width - 80, y: 0, width: 70, height: 44))\nbutton.setTitle(\"Done\", for: .normal)\nbutton.addTarget(self, action:#selector(self.doneClick), for: .touchUpInside)\nmyNewView.addSubview(button)\n\ncell.myTextField.inputAccessoryView = toolBar\n</code></pre>\n"}], "owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 59113361, "answer_count": 2, "score": 1, "last_activity_date": 1575551914, "creation_date": 1548394896, "last_edit_date": 1575551914, "question_id": 54359553, "link": "https://stackoverflow.com/questions/54359553/uipickerview-barbutton-text-color-is-not-change-but-when-click-on-button-then-th", "title": "UIPickerView BarButton Text Color is not change but when click on button then the color is change in Objective-C", "body": "<p>I have issue I have set <code>UIPickerView</code> <code>BarButton</code> title color to blue but it not give the perfect output but when I click on that button it gives the output means it change the color to blue but I don't want blue color only after click, I want button color blue before click. so how can I do this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/VPHpl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPHpl.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>-(void)SetToolbar\n{\n    //******* add buttons in toolbar\n    self.toolbar=[[UIToolbar alloc]init];\n    self.toolbar.autoresizingMask=(UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight| UIViewAutoresizingFlexibleTopMargin | UIViewAutoresizingFlexibleBottomMargin );\n    self.toolbar.frame=CGRectMake(0, self.currencypicker.frame.origin.y, self.currencypicker.frame.size.width, 45);\n    self.toolbar.barStyle=UIBarStyleDefault;\n    self.toolbar.backgroundColor=[UIColor whiteColor];\n    self.toolbar.tintColor=[UIColor blueColor];\n    UIBarButtonItem *donebutton=[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(Btn_DoneClick)];\n    //    donebutton.style=UIBarButtonItemStylePlain;\n    UIBarButtonItem *cancelbutton=[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemCancel target:self action:@selector(Btn_CancelClick)];\n    UIBarButtonItem *flex = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:self action:nil];\n    UIView *titleview=[[UIView alloc]initWithFrame:CGRectMake(0, 0, 150, 40)];\n    titleview.backgroundColor=[UIColor clearColor];\n    UILabel *lbltitle=[[UILabel alloc]initWithFrame:CGRectMake(0, 0, 150, 40)];\n    lbltitle.backgroundColor=[UIColor clearColor];\n\n    lbltitle.textAlignment=NSTextAlignmentCenter;\n    lbltitle.text=@\"Payment Type\";\n    lbltitle.font=[UIFont boldSystemFontOfSize:17.0];\n    if(IS_IPAD)\n    {\n        lbltitle.textColor=[UIColor colorWithRed:113.0/256 green:120.0/256 blue:128.0/256 alpha:1.0];\n    }\n    else\n    {\n         lbltitle.textColor=[UIColor blackColor];\n    }\n    [titleview addSubview:lbltitle];\n\n    UIBarButtonItem *btnAdd=[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(addPaymentClicked)];\n\n    UIBarButtonItem *titlebutton = [[UIBarButtonItem alloc] initWithCustomView:titleview];\n\n    NSArray *items = [NSArray arrayWithObjects:cancelbutton,flex,titlebutton,flex,btnAdd, donebutton, nil];\n    [self.toolbar setItems:items animated:NO];\n    [self.view addSubview:self.toolbar];\n    [self.view bringSubviewToFront:self.pickerView];\n    //*******\n}\n</code></pre>\n\n<p>My Delegate DidFinishCode For Navigation:</p>\n\n<pre><code>[[UINavigationBar appearance] setBarTintColor:FooterBGColor];\n [[UINavigationBar appearance] setTintColor:[UIColor whiteColor]];\n if (@available(iOS 11.0, *)) {\n      [[UINavigationBar appearance] setLargeTitleTextAttributes:@{NSForegroundColorAttributeName: [UIColor whiteColor]}];\n      [[UINavigationBar appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName: [UIColor whiteColor]}];\n } else {\n\n }\n</code></pre>\n"}, {"tags": ["c", "objective-c", "macos", "system-preferences"], "comments": [{"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 1, "creation_date": 1548391794, "post_id": 54359045, "comment_id": 95532629, "body": "<a href=\"https://apple.stackexchange.com/a/77212/50698\">This answer</a> shows how to do it from the command line and from <code>AppleScript</code> (or whatever that language is), so you could call the programs via <code>system</code>..."}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1548395677, "post_id": 54359045, "comment_id": 95533695, "body": "Thanks. That&#39;s good to know. But this solution may not be viable as it would require the user to enable  Accessibility (from Security &amp; Privacy -&gt; Privacy) for Script Editor. Or perhaps if I run the script as a root from a daemon, this privilege is implicit? Does any program do this?"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 1, "creation_date": 1548396963, "post_id": 54359045, "comment_id": 95534093, "body": "<a href=\"https://stackoverflow.com/a/3693349/1270789\">Here&#39;s some Objective-C</a> that does <code>defaults write</code> to different keys, so hopefully you can hack something up from that base and the single program can be given the necessary execution rights. (Note, I&#39;m skilled at Google, not OSX, so please don&#39;t ask me any more details!)"}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1548401862, "post_id": 54359045, "comment_id": 95535907, "body": "@KenY-N Thanks for the quick response. And no I won&#39;t ask anything directly(I didn&#39;t do that earlier either:-)) But I must say, your Google skills seem to be far superior to mine!"}], "answers": [{"comments": [{"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1548402043, "post_id": 54360586, "comment_id": 95535978, "body": "Thanks a lot! Will try it out and let you know."}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1548659008, "post_id": 54360586, "comment_id": 95604866, "body": "Yes that does work. However, the mouse system preferences controls for the settings are not updated as these values are changed externally. I guess it doesn&#39;t have a notification callback for changes to these values."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 0, "last_activity_date": 1548400475, "creation_date": 1548400475, "answer_id": 54360586, "question_id": 54359045, "link": "https://stackoverflow.com/questions/54359045/is-it-possible-safe-to-change-the-osx-mouse-system-preferences-settings-such-as/54360586#54360586", "title": "Is it possible/safe to change the OSX mouse system preferences settings such as Tracking Speed programmatically?", "body": "<p>Yes, it's possible. Here's some rough code to do it:</p>\n\n<pre><code>io_object_t hidSystemParametersConnection = IO_OBJECT_NULL;\n\n// We're looking for a service of the IOHIDSystem class\nCFMutableDictionaryRef classesToMatch = IOServiceMatching(\"IOHIDSystem\");\nif (!classesToMatch)\n    /* handle failure */;\n\n// The following call implicitly releases classesToMatch\nio_iterator_t matchingServicesIterator = IO_OBJECT_NULL;\nIOReturn ret = IOServiceGetMatchingServices(kIOMasterPortDefault, classesToMatch, &amp;matchingServicesIterator);\nif (ret != kIOReturnSuccess)\n    /* handle failure */;\n\nio_object_t service;\nwhile ((service = IOIteratorNext(matchingServicesIterator)))\n{\n    // Open the parameters connection to the HIDSystem service\n    ret = IOServiceOpen(service, mach_task_self(), kIOHIDParamConnectType, &amp;hidSystemParametersConnection);\n    IOObjectRelease(service);\n\n    if (ret == kIOReturnSuccess &amp;&amp; hidSystemParametersConnection != IO_OBJECT_NULL)\n        break;\n}\n\nIOObjectRelease(matchingServicesIterator);\n\nCFTypeRef value;\nret = IOHIDCopyCFTypeParameter(hidSystemParametersConnection, CFSTR(kIOHIDPointerAccelerationKey), &amp;value);\nif (ret != kIOReturnSuccess || !value)\n    /* handle failure */;\n\nif (CFGetTypeID(value) != CFNumberGetTypeID())\n{\n    CFRelease(value);\n    /* handle wrong type */\n}\n\nNSNumber* accel = CFBridgingRelease(value);\ndouble newAccel = accel.doubleValue / 2;\n\nret = IOHIDSetCFTypeParameter(hidSystemParametersConnection, CFSTR(kIOHIDPointerAccelerationKey), (__bridge CFTypeRef)@(newAccel));\nif (ret != kIOReturnSuccess)\n    /* handle failure */;\n\nIOServiceClose(hidSystemParametersConnection);\n</code></pre>\n\n<p>The various parameter keys are defined and lightly documented in IOKit.framework/Headers/hid/IOHIDProperties.h and IOKit.framework/Headers/hidsystem/IOHIDParameter.h. I would test thoroughly with as much different hardware and configurations in System Preferences as you can, to see exactly which parameters are relevant and what their values mean.</p>\n"}], "owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 54360586, "answer_count": 1, "score": 0, "last_activity_date": 1548400475, "creation_date": 1548391471, "question_id": 54359045, "link": "https://stackoverflow.com/questions/54359045/is-it-possible-safe-to-change-the-osx-mouse-system-preferences-settings-such-as", "title": "Is it possible/safe to change the OSX mouse system preferences settings such as Tracking Speed programmatically?", "body": "<p>I did some research and it looks like this is stored in the IORegistry\nunder \":/IOResources/HIDSystem\" as \"HIDMouseAcceleration\".</p>\n\n<p>Can these be set from a user program using the IORegistry API?</p>\n\n<p>Any other ways to programmatically change the mouse system preferences settings?</p>\n\n<p>My choice of programming language is C. The approach needs to work on OS X v10.11+.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "avassetwriterinput"], "comments": [{"owner": {"reputation": 2119, "user_id": 4224089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kaI2N.jpg?s=128&g=1", "display_name": "Brad Brighton", "link": "https://stackoverflow.com/users/4224089/brad-brighton"}, "edited": false, "score": 0, "creation_date": 1549052012, "post_id": 54358868, "comment_id": 95779801, "body": "The error message gives you a spot to start -- the sample buffer in question is &#39;soun&#39; (audio). Since the error is a media type mismatch, it would appear you&#39;re appending the &quot;wrong&quot; input buffer (or at least not the one you think you are) after you change the device states. It may be useful for you to walk through what devices are doing what when you make the switch and if you still haven&#39;t solved it, post the code where you are setting up the devices, capturing the buffers, changing the input device, and doing the buffer appends."}], "answers": [{"tags": [], "owner": {"reputation": 284, "user_id": 9218897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979f12fe26c5942dd20e9fa2101845c4?s=128&d=identicon&r=PG&f=1", "display_name": "Preetika", "link": "https://stackoverflow.com/users/9218897/preetika"}, "is_accepted": true, "score": 2, "last_activity_date": 1549364843, "creation_date": 1549364843, "answer_id": 54533066, "question_id": 54358868, "link": "https://stackoverflow.com/questions/54358868/llsimplecamera-avassetwriterinput-appendsamplebuffer-crashing/54533066#54533066", "title": "LLSimpleCamera : AVAssetWriterInput appendSampleBuffer crashing", "body": "<p>The answer to the question is :</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/23805863/changing-avcapturedeviceinput-leads-to-avassetwriterstatusfailed\">Changing AVCaptureDeviceInput leads to AVAssetWriterStatusFailed</a></p>\n</blockquote>\n\n<p>Thanks to Stackoverflow.</p>\n"}, {"tags": [], "owner": {"reputation": 214, "user_id": 4865235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f2cf7cc5b212c6f338f54ee1a9071a8?s=128&d=identicon&r=PG&f=1", "display_name": "Pragya Singla", "link": "https://stackoverflow.com/users/4865235/pragya-singla"}, "is_accepted": false, "score": 0, "last_activity_date": 1549528731, "creation_date": 1549528731, "answer_id": 54569278, "question_id": 54358868, "link": "https://stackoverflow.com/questions/54358868/llsimplecamera-avassetwriterinput-appendsamplebuffer-crashing/54569278#54569278", "title": "LLSimpleCamera : AVAssetWriterInput appendSampleBuffer crashing", "body": "<p>Try to add below check</p>\n\n<p>if ([connection.output connectionWithMediaType:AVMediaTypeVideo] == nil) </p>\n\n<p>and also check front and rear conditions for the camera</p>\n"}], "owner": {"reputation": 284, "user_id": 9218897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979f12fe26c5942dd20e9fa2101845c4?s=128&d=identicon&r=PG&f=1", "display_name": "Preetika", "link": "https://stackoverflow.com/users/9218897/preetika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 54533066, "answer_count": 2, "score": 8, "last_activity_date": 1549528731, "creation_date": 1548389875, "question_id": 54358868, "link": "https://stackoverflow.com/questions/54358868/llsimplecamera-avassetwriterinput-appendsamplebuffer-crashing", "title": "LLSimpleCamera : AVAssetWriterInput appendSampleBuffer crashing", "body": "<p>I am using LLSimpleCamera for recording a video. It's recording fine when I use rear camera but when I switch to front camera, app crashes and the error reported is</p>\n\n<blockquote>\n  <p><strong>* Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*</strong> -[AVAssetWriterInput appendSampleBuffer:] Media type of sample buffer must match receiver's media type (\"soun\")'</p>\n</blockquote>\n\n<p>I have tried many of the stackOverflow posts but not able to fix crash. Can anyone let me know what can be the issue ?</p>\n"}, {"tags": ["objective-c", "cocoapods", "grpc"], "owner": {"reputation": 2736, "user_id": 4205674, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/028514e489ce3bfc0ed60ceac8a6c1df?s=128&d=identicon&r=PG&f=1", "display_name": "SRMR", "link": "https://stackoverflow.com/users/4205674/srmr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1549075944, "creation_date": 1548368020, "question_id": 54356120, "link": "https://stackoverflow.com/questions/54356120/generate-new-proto", "title": "Generate new proto", "body": "<p>I have a <code>&lt;Podspec file name&gt;.podspec</code> equivalent to the <a href=\"https://github.com/grpc/grpc/tree/master/src/objective-c\" rel=\"noreferrer\">standard GRPC</a> one.</p>\n\n<p>I don't know how to run the script in here that generates new <code>.pbobjc.h/.pbobjc.m files for each .proto file.</code></p>\n\n<p>Does anyone know what command I should run in the command line to trigger generating these new files per the script in the <code>.podspec</code> file?</p>\n\n<p>Here is some more context for the script in the <code>.podspec</code>:</p>\n\n<pre><code>      # Run protoc with the Objective-C and gRPC plugins to generate protocol messages and gRPC clients.\n  # You can run this command manually if you later change your protos and need to regenerate.\n  # Alternatively, you can advance the version of this podspec and run `pod update`.\n  s.prepare_command = &lt;&lt;-CMD\n    mkdir -p #{dir}\n    #{protoc} \\\n        --plugin=protoc-gen-grpc=#{plugin} \\\n        --objc_out=\"Pods/LndRpc\" \\\n        --grpc_out=\"Pods/LndRpc\" \\\n        -I $GOPATH/src \\\n        -I $GOPATH/src/github.com/grpc-ecosystem/grpc-gateway/third_party/googleapis \\\n        -I \"Pods/!ProtoCompiler\" \\\n        -I \".\" \\\n        ./*.proto\n  CMD\n\n  # The --objc_out plugin generates a pair of .pbobjc.h/.pbobjc.m files for each .proto file.\n  s.subspec 'Messages' do |ms|\n    ms.source_files = \"#{dir}/*.pbobjc.{h,m}\"\n    ms.header_mappings_dir = dir\n    ms.requires_arc = false\n    # The generated files depend on the protobuf runtime.\n    ms.dependency 'Protobuf'\n  end\n\n  # The --objcgrpc_out plugin generates a pair of .pbrpc.h/.pbrpc.m files for each .proto file with\n  # a service defined.\n  s.subspec 'Services' do |ss|\n    ss.source_files = \"#{dir}/*.pbrpc.{h,m}\"\n    ss.header_mappings_dir = dir\n    ss.requires_arc = true\n    # The generated files depend on the gRPC runtime, and on the files generated by `--objc_out`.\n    ss.dependency 'gRPC-ProtoRPC'\n    ss.dependency \"#{s.name}/Messages\"\n  end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "mfmailcomposeviewcontroller", "ios12"], "comments": [{"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 3, "creation_date": 1548344161, "post_id": 54350041, "comment_id": 95515765, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2481029/when-will-mfmailcomposeviewcontroller-cansendmail-return-no\">When will &#91;MFMailComposeViewController canSendMail&#93; return NO</a>"}, {"owner": {"reputation": 2930, "user_id": 2053516, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OtZ5d.jpg?s=128&g=1", "display_name": "Jothi Kannan", "link": "https://stackoverflow.com/users/2053516/jothi-kannan"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1548344798, "post_id": 54350041, "comment_id": 95516193, "body": "See I have a mail account configured and it&#39;s working fine, so it might not be duplicate."}, {"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1548345051, "post_id": 54350041, "comment_id": 95516383, "body": "The answers also say about the account being <i>enabled</i>, configured for sending mail, and having a MDM profile configured to not allow third party apps to send mail."}, {"owner": {"reputation": 2930, "user_id": 2053516, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OtZ5d.jpg?s=128&g=1", "display_name": "Jothi Kannan", "link": "https://stackoverflow.com/users/2053516/jothi-kannan"}, "reply_to_user": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1548345249, "post_id": 54350041, "comment_id": 95516523, "body": "Nope I don&#39;t have any MDM profile configured on my application."}], "answers": [{"tags": [], "owner": {"reputation": 7491, "user_id": 256935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f37e50df90688bce1d7e17416e77fa0?s=128&d=identicon&r=PG", "display_name": "Confused Vorlon", "link": "https://stackoverflow.com/users/256935/confused-vorlon"}, "is_accepted": false, "score": 3, "last_activity_date": 1601375266, "creation_date": 1601375266, "answer_id": 64117733, "question_id": 54350041, "link": "https://stackoverflow.com/questions/54350041/mfmailcomposeviewcontroller-cansendmail-always-returns-false/64117733#64117733", "title": "MFMailComposeViewController canSendMail always returns false", "body": "<p>MFMailComposeViewController is directly linked to Apple's mail app. It will only ever return true when Apple's mail app is installed and configured.</p>\n<p>If you want to open Gmail (or whatever default app you have installed) then you need to use the mailto:// scheme</p>\n<p>Here is my function to do the mailto part - including the absurdly simplistic conversion from html to plain text!</p>\n<p>Note that mailto:// doesn't support attachments or html contents.</p>\n<pre><code>/// Send email using mailto\n/// - Parameters:\n///   - to: array of email addresses\n///   - subject: subject\n///   - body: body\n///   - isHtml: isHtml (only &lt;br/&gt; and &lt;br /&gt; are supported)\n/// - Returns: true if sent\n    func sendByURL(to:[String],subject:String,body:String, isHtml:Bool) -&gt; Bool {\n        \n        \n        var txtBody = body\n        if isHtml {\n            txtBody = body.replacingOccurrences(of: &quot;&lt;br /&gt;&quot;, with: &quot;\\n&quot;)\n            txtBody = txtBody.replacingOccurrences(of: &quot;&lt;br/&gt;&quot;, with: &quot;\\n&quot;)\n            if txtBody.contains(&quot;/&gt;&quot;) {\n                print(&quot;Can't send html email with url interface&quot;)\n                return false\n            }\n        }\n\n        let toJoined = to.joined(separator: &quot;,&quot;)\n        guard var feedbackUrl = URLComponents.init(string: &quot;mailto:\\(toJoined)&quot;) else {\n            return false\n        }\n                 \n\n        var queryItems: [URLQueryItem] = []\n        queryItems.append(URLQueryItem.init(name: &quot;SUBJECT&quot;, value: subject))\n        queryItems.append(URLQueryItem.init(name: &quot;BODY&quot;,\n                                            value: txtBody))\n        feedbackUrl.queryItems = queryItems\n        \n        if let url = feedbackUrl.url {\n//            This is probably an unnecessary check\n//            You do need to add 'mailto' to your LSApplicationQuerySchemes for the check to be allowed\n//            &lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;\n//            &lt;array&gt;\n//                &lt;string&gt;mailto&lt;/string&gt;\n//            &lt;/array&gt;\n            if UIApplication.shared.canOpenURL(url){\n                UIApplication.shared.open(url)\n                return true\n            }\n        }\n        \n        return false\n     \n    }\n</code></pre>\n"}], "owner": {"reputation": 2930, "user_id": 2053516, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/OtZ5d.jpg?s=128&g=1", "display_name": "Jothi Kannan", "link": "https://stackoverflow.com/users/2053516/jothi-kannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2423, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1601375266, "creation_date": 1548343557, "last_edit_date": 1548344905, "question_id": 54350041, "link": "https://stackoverflow.com/questions/54350041/mfmailcomposeviewcontroller-cansendmail-always-returns-false", "title": "MFMailComposeViewController canSendMail always returns false", "body": "<p>I am trying to send email using MFMailComposeViewController on my iOS application.</p>\n\n<p>I have a Gmail account configured in the iPhone default Mail app. But whenever I try to send email, I am getting <code>MFMailComposeViewController canSendMail</code> as false, because of this my code fails to open the Mail app with the given to, cc and attachments</p>\n\n<pre><code>#import &lt;MessageUI/MessageUI.h&gt;\n#import \"RNMail.h\"\n#import &lt;React/RCTConvert.h&gt;\n#import &lt;React/RCTLog.h&gt;\n\n@implementation RNMail\n{\n    NSMutableDictionary *_callbacks;\n}\n\n- (instancetype)init\n{\n    if ((self = [super init])) {\n        _callbacks = [[NSMutableDictionary alloc] init];\n    }\n    return self;\n}\n\n- (dispatch_queue_t)methodQueue\n{\n    return dispatch_get_main_queue();\n}\n\n+ (BOOL)requiresMainQueueSetup\n{\n    return YES;\n}\n\nRCT_EXPORT_MODULE()\n\nRCT_EXPORT_METHOD(mail:(NSDictionary *)options\n                  callback: (RCTResponseSenderBlock)callback)\n{\n    if ([MFMailComposeViewController canSendMail])\n    {\n        MFMailComposeViewController *mail = [[MFMailComposeViewController alloc] init];\n        mail.mailComposeDelegate = self;\n        _callbacks[RCTKeyForInstance(mail)] = callback;\n\n        if (options[@\"subject\"]){\n            NSString *subject = [RCTConvert NSString:options[@\"subject\"]];\n            [mail setSubject:subject];\n        }\n\n        bool *isHTML = NO;\n\n        if (options[@\"isHTML\"]){\n            isHTML = [options[@\"isHTML\"] boolValue];\n        }\n\n        if (options[@\"body\"]){\n            NSString *body = [RCTConvert NSString:options[@\"body\"]];\n            [mail setMessageBody:body isHTML:isHTML];\n        }\n\n        if (options[@\"recipients\"]){\n            NSArray *recipients = [RCTConvert NSArray:options[@\"recipients\"]];\n            [mail setToRecipients:recipients];\n        }\n\n        if (options[@\"ccRecipients\"]){\n            NSArray *ccRecipients = [RCTConvert NSArray:options[@\"ccRecipients\"]];\n            [mail setCcRecipients:ccRecipients];\n        }\n\n        if (options[@\"bccRecipients\"]){\n            NSArray *bccRecipients = [RCTConvert NSArray:options[@\"bccRecipients\"]];\n            [mail setBccRecipients:bccRecipients];\n        }\n\n        if (options[@\"attachment\"] &amp;&amp; options[@\"attachment\"][@\"path\"] &amp;&amp; options[@\"attachment\"][@\"type\"]){\n            NSString *attachmentPath = [RCTConvert NSString:options[@\"attachment\"][@\"path\"]];\n            NSString *attachmentType = [RCTConvert NSString:options[@\"attachment\"][@\"type\"]];\n            NSString *attachmentName = [RCTConvert NSString:options[@\"attachment\"][@\"name\"]];\n\n            // Set default filename if not specificed\n            if (!attachmentName) {\n                attachmentName = [[attachmentPath lastPathComponent] stringByDeletingPathExtension];\n            }\n\n            // Get the resource path and read the file using NSData\n            NSData *fileData = [NSData dataWithContentsOfFile:attachmentPath];\n\n            // Determine the MIME type\n            NSString *mimeType;\n\n            /*\n             * Add additional mime types and PR if necessary. Find the list\n             * of supported formats at http://www.iana.org/assignments/media-types/media-types.xhtml\n             */\n            if ([attachmentType isEqualToString:@\"jpg\"]) {\n                mimeType = @\"image/jpeg\";\n            } else if ([attachmentType isEqualToString:@\"png\"]) {\n                mimeType = @\"image/png\";\n            } else if ([attachmentType isEqualToString:@\"doc\"]) {\n                mimeType = @\"application/msword\";\n            } else if ([attachmentType isEqualToString:@\"ppt\"]) {\n                mimeType = @\"application/vnd.ms-powerpoint\";\n            } else if ([attachmentType isEqualToString:@\"html\"]) {\n                mimeType = @\"text/html\";\n            } else if ([attachmentType isEqualToString:@\"csv\"]) {\n                mimeType = @\"text/csv\";\n            } else if ([attachmentType isEqualToString:@\"pdf\"]) {\n                mimeType = @\"application/pdf\";\n            } else if ([attachmentType isEqualToString:@\"vcard\"]) {\n                mimeType = @\"text/vcard\";\n            } else if ([attachmentType isEqualToString:@\"json\"]) {\n                mimeType = @\"application/json\";\n            } else if ([attachmentType isEqualToString:@\"zip\"]) {\n                mimeType = @\"application/zip\";\n            } else if ([attachmentType isEqualToString:@\"text\"]) {\n                mimeType = @\"text/*\";\n            } else if ([attachmentType isEqualToString:@\"mp3\"]) {\n                mimeType = @\"audio/mpeg\";\n            } else if ([attachmentType isEqualToString:@\"wav\"]) {\n                mimeType = @\"audio/wav\";\n            } else if ([attachmentType isEqualToString:@\"aiff\"]) {\n                mimeType = @\"audio/aiff\";\n            } else if ([attachmentType isEqualToString:@\"flac\"]) {\n                mimeType = @\"audio/flac\";\n            } else if ([attachmentType isEqualToString:@\"ogg\"]) {\n                mimeType = @\"audio/ogg\";\n            } else if ([attachmentType isEqualToString:@\"xls\"]) {\n                mimeType = @\"application/vnd.ms-excel\";\n            }\n\n            // Add attachment\n            [mail addAttachmentData:fileData mimeType:mimeType fileName:attachmentName];\n        }\n\n        UIViewController *root = [[[[UIApplication sharedApplication] delegate] window] rootViewController];\n\n        while (root.presentedViewController) {\n            root = root.presentedViewController;\n        }\n        [root presentViewController:mail animated:YES completion:nil];\n    } else {\n        callback(@[@\"not_available\"]);\n    }\n}\n\n#pragma mark MFMailComposeViewControllerDelegate Methods\n\n- (void)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error\n{\n    NSString *key = RCTKeyForInstance(controller);\n    RCTResponseSenderBlock callback = _callbacks[key];\n    if (callback) {\n        switch (result) {\n            case MFMailComposeResultSent:\n                callback(@[[NSNull null] , @\"sent\"]);\n                break;\n            case MFMailComposeResultSaved:\n                callback(@[[NSNull null] , @\"saved\"]);\n                break;\n            case MFMailComposeResultCancelled:\n                callback(@[[NSNull null] , @\"cancelled\"]);\n                break;\n            case MFMailComposeResultFailed:\n                callback(@[@\"failed\"]);\n                break;\n            default:\n                callback(@[@\"error\"]);\n                break;\n        }\n        [_callbacks removeObjectForKey:key];\n    } else {\n        RCTLogWarn(@\"No callback registered for mail: %@\", controller.title);\n    }\n    UIViewController *ctrl = [[[[UIApplication sharedApplication] delegate] window] rootViewController];\n    while (ctrl.presentedViewController &amp;&amp; ctrl != controller) {\n        ctrl = ctrl.presentedViewController;\n    }\n    [ctrl dismissViewControllerAnimated:YES completion:nil];\n}\n\n#pragma mark Private\n\nstatic NSString *RCTKeyForInstance(id instance)\n{\n    return [NSString stringWithFormat:@\"%p\", instance];\n}\n\n@end\n</code></pre>\n\n<p>iOS version: 12.1.2</p>\n\n<p>I want to know is there any recent changes on <code>MFMailComposeViewController</code> and it causing this?</p>\n\n<p>I have mail account configured and it's working fine. So it's not a duplicate of any issues already posted </p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 1990, "user_id": 4105619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce5255d66eae20cdb7f740bcf761cb8?s=128&d=identicon&r=PG", "display_name": "Fabio Felici", "link": "https://stackoverflow.com/users/4105619/fabio-felici"}, "edited": false, "score": 0, "creation_date": 1548337615, "post_id": 54348030, "comment_id": 95511604, "body": "Did you try to pass <code>NSString</code> rather than <code>String</code>?"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 1990, "user_id": 4105619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce5255d66eae20cdb7f740bcf761cb8?s=128&d=identicon&r=PG", "display_name": "Fabio Felici", "link": "https://stackoverflow.com/users/4105619/fabio-felici"}, "edited": false, "score": 0, "creation_date": 1548337654, "post_id": 54348030, "comment_id": 95511629, "body": "No just something between double quotes."}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1548363711, "post_id": 54355213, "comment_id": 95525589, "body": "That&#39;s two chances to crash. Don&#39;t blindly force-unwrap optionals. Do it safely."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548363815, "post_id": 54355213, "comment_id": 95525645, "body": "Thats the only way it would compile."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1548363871, "post_id": 54355213, "comment_id": 95525670, "body": "What about using <code>if let sdb = iCloudDBDelegate?.schema?(&quot;33&quot;) { &#47;&#47; do something }</code>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548364104, "post_id": 54355213, "comment_id": 95525776, "body": "Does it or doesn&#39;t it? And if it does, what&#39;s the error?"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1548364258, "post_id": 54355213, "comment_id": 95525840, "body": "Oh sorry, no thats fine thanks, I must have copied something else, hmmm."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1548365725, "post_id": 54355213, "comment_id": 95526442, "body": "It&#39;s worth understanding why this is true: <code>schema</code> is an <code>@optional</code> method. It may not be implemented. That&#39;s expressed in Swift as an <code>Optional</code> and the usual rules for that apply."}], "tags": [], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "is_accepted": true, "score": 0, "last_activity_date": 1548363549, "creation_date": 1548363549, "answer_id": 54355213, "question_id": 54348030, "link": "https://stackoverflow.com/questions/54348030/cannot-invoke-schema-with-an-argument-list-of-type-string/54355213#54355213", "title": "Cannot invoke &#39;schema&#39; with an argument list of type &#39;(String)&#39;", "body": "<p>Here's the answer, very surprised...</p>\n\n<pre><code>let sdb = iCloudDBDelegate!.schema!(\"33\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54742, "user_id": 608157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Li27g.jpg?s=128&g=1", "display_name": "David R&#246;nnqvist", "link": "https://stackoverflow.com/users/608157/david-r%c3%b6nnqvist"}, "is_accepted": false, "score": 0, "last_activity_date": 1548365983, "creation_date": 1548365983, "answer_id": 54355701, "question_id": 54348030, "link": "https://stackoverflow.com/questions/54348030/cannot-invoke-schema-with-an-argument-list-of-type-string/54355701#54355701", "title": "Cannot invoke &#39;schema&#39; with an argument list of type &#39;(String)&#39;", "body": "<p>You can't call the <code>schema</code> method without handling:</p>\n\n<ol>\n<li>The case when the delegate property is <code>nil</code></li>\n<li>The case when the delegate doesn't implement the <code>schema</code> method (since it is optional to do so). </li>\n</ol>\n\n<p>Gracefully handling both would look something like this:</p>\n\n<pre><code>//       because `schema` may not be implemented \n//                                            | \n//       because the delegate may be `nil`    | \n//                                    |       | \n//                                    v       v \nif let schemaResult = iCloudDBDelegate?.schema?(\"33\") {\n    // do something with the result of calling schema\n} else {\n    // either the delegate is `nil` or it doesn't implement `schema`.\n}\n</code></pre>\n"}], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 54355213, "answer_count": 2, "score": 0, "last_activity_date": 1548365983, "creation_date": 1548337312, "last_edit_date": 1548339668, "question_id": 54348030, "link": "https://stackoverflow.com/questions/54348030/cannot-invoke-schema-with-an-argument-list-of-type-string", "title": "Cannot invoke &#39;schema&#39; with an argument list of type &#39;(String)&#39;", "body": "<p>I'm having trouble converting some Objective C to Swift.</p>\n\n<pre><code>iCloudSchemaDatabase *sdb = [self schema: @\"33\"];\n</code></pre>\n\n<p>I can't figure out what the problem is, I've had various attemps and have searched for why, I obviously need to pass a string, but nothing works...</p>\n\n<pre><code>var x = self.iCloudDBDelegate.schema(\"\")\n\nlet sdb = self.iCloudDBDelegate.schema(\"33\")\n</code></pre>\n\n<p>Schema come from an Objective C protocol</p>\n\n<pre><code>@protocol iCloudDBDelegate&lt;NSObject&gt;\n\n@required\n@property (weak,nonatomic) id&lt;iCloudDBDelegate&gt;iCloudDBDelegate;\n\n@optional\n-(iCloudSchemaDatabase*)schema:(NSString*)calledBy;\n\n@end\n</code></pre>\n\n<p>The protocol added this to my swift file.</p>\n\n<pre><code>public var iCloudDBDelegate: iCloudDBDelegate!\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avaudioplayer", "avaudiosession"], "comments": [{"owner": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548333930, "post_id": 54346879, "comment_id": 95509226, "body": "please share more details of implementation and details of what you have tried to solve so far."}, {"owner": {"reputation": 61, "user_id": 3004428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a140192c90db9a06a1c62b8a7fd854b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumaran", "link": "https://stackoverflow.com/users/3004428/sugumaran"}, "reply_to_user": {"reputation": 668, "user_id": 7620713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmbJT.jpg?s=128&g=1", "display_name": "Dhaval Bhimani", "link": "https://stackoverflow.com/users/7620713/dhaval-bhimani"}, "edited": false, "score": 0, "creation_date": 1548334643, "post_id": 54346879, "comment_id": 95509694, "body": "Thanks I have checked the background mode in capabilities and added the session for background mode and working but when going to background then come to foreground the player is updating the url path but its not playing new one"}], "owner": {"reputation": 61, "user_id": 3004428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a140192c90db9a06a1c62b8a7fd854b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sugumaran", "link": "https://stackoverflow.com/users/3004428/sugumaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548333466, "creation_date": 1548333466, "question_id": 54346879, "link": "https://stackoverflow.com/questions/54346879/in-avaudioplayer-path-is-not-updated-in-background-in-objective-c", "title": "In AVAudioplayer path is not updated in background in objective c", "body": "<p>From background to foreground new audio path is updating but the new audio is not playing in AVAudioplayer, the old audio is playing. Any solution for this.\nThanks</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "bridging-header"], "comments": [{"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1548330587, "post_id": 54345954, "comment_id": 95507335, "body": "please post code , or better a demo link"}, {"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1548331348, "post_id": 54345954, "comment_id": 95507771, "body": "@Sh_Khan Can do, but the code kind of has a lot of files. Is a link to the github repository also ok?"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1548406398, "post_id": 54345954, "comment_id": 95537820, "body": "Unless you have Swift compile issues, the <code>-Swift.h</code> header should be generated. You can also check the &quot;Objective-C Generated Interface Header Name&quot; (<code>SWIFT_OBJC_INTERFACE_HEADER_NAME</code>) to see which header is Swift generating (usually is <code>$(SWIFT_MODULE_NAME)-Swift.h</code>)"}, {"owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "edited": false, "score": 0, "creation_date": 1548428643, "post_id": 54345954, "comment_id": 95549539, "body": "Alriight thanks! It turned out that it&#39;s a bit of a ghost error, and I can build anyway despite of the error. Sometimes it just disappears. Stupid that I didn&#39;t try that before."}], "owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548330461, "creation_date": 1548330461, "question_id": 54345954, "link": "https://stackoverflow.com/questions/54345954/cannot-import-swift-code-into-objective-c-in-spite-of-following-recommended-sett", "title": "Cannot import Swift code into Objective-C in spite of following recommended settings. Manual bridging possibility?", "body": "<p>I cannot get my swift files imported into my Obj-C project. I know, there\u2019s a lot already on this topic on stack overflow, and I\u2019ve tried all answers in <a href=\"https://stackoverflow.com/questions/24102104/how-can-i-import-swift-code-to-objective-c\">this thread on importing Swift code to Objective-C</a>, but I've still got the same error in spite of what I've tried for my project called Plantasia: \nWhen at the top of the script of the .m file of a pre-existing project I do </p>\n\n<pre><code>import \"Plantasia-Swift.h\"\n</code></pre>\n\n<p>I get file not found error.\nWhat I've tried:</p>\n\n<p>I've set for both project and example</p>\n\n<ul>\n<li>\"Defines Module\" : YES</li>\n<li>\"Always Embed Swift Standard Libraries\" : YES</li>\n<li>\"Install Objective-C Compatibility Header\" : YES</li>\n<li><p>Changed the Project Module Name to Plantasia</p></li>\n<li><p>I\u2019ve cleaned my build folder and tried a bunch of unlikely solutions like #import \"Plantasia/Plantasia-Swift.h\" , which don't work either.</p></li>\n<li>I\u2019ve tried prepending @objc to class declaration in the .swift file. </li>\n<li>I\u2019ve tried manually adding another bridging header, and specifying the \"Swift Compiler \u2013 Code Generation\" to my header. </li>\n<li>I've tested starting from a blank Objective-C project, by creating a Swift file, and referenced it successfully within .m file. This shows that it's at least working normally for me in a clean project</li>\n</ul>\n\n<p>I've been trying for hours, and I think there must be one incorrect setting somewhere that I'm unaware of. I've tried basically most of what I could find on the forums. Any additional ideas of things I should still check? Or is there a way of manually creating this \"Plantasia-Swift.h\" header file?</p>\n"}, {"tags": ["ios", "objective-c", "arrays", "byte", "nsarray"], "answers": [{"comments": [{"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1548327865, "post_id": 54344307, "comment_id": 95505806, "body": "Thank you for your answer! <code>sizeof(byte)</code> gives <code>Use of undeclared identifier &#39;byte&#39;</code>"}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1548327903, "post_id": 54344307, "comment_id": 95505825, "body": "Shouldn&#39;t it be the size of array instead?"}, {"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "reply_to_user": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 1, "creation_date": 1548327928, "post_id": 54344307, "comment_id": 95505839, "body": "The size of the array comes as the first parameter to calloc"}], "tags": [], "owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "is_accepted": true, "score": 2, "last_activity_date": 1548327880, "last_edit_date": 1548327880, "creation_date": 1548325286, "answer_id": 54344307, "question_id": 54344010, "link": "https://stackoverflow.com/questions/54344010/objective-c-how-to-convert-a-nsarray-to-byte-array/54344307#54344307", "title": "Objective-C how to convert a NSArray to Byte array?", "body": "<pre><code>NSArray* array = @[@(1), @(5), @(115), @(34)];\n\nByte* bytes = calloc(array.count, sizeof(Byte));\n\n[array enumerateObjectsUsingBlock:^(NSNumber* number, NSUInteger index, BOOL* stop){\n\n    bytes[index] = number.integerValue;\n}];\n\ndoWhateverWithBytes(bytes);\nfree(bytes);\n</code></pre>\n\n<p>assuming that <code>doWhateverWithBytes</code> accepts <code>Byte bytes[]</code></p>\n"}], "owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 54344307, "answer_count": 1, "score": 1, "last_activity_date": 1570524873, "creation_date": 1548324423, "last_edit_date": 1570524873, "question_id": 54344010, "link": "https://stackoverflow.com/questions/54344010/objective-c-how-to-convert-a-nsarray-to-byte-array", "title": "Objective-C how to convert a NSArray to Byte array?", "body": "<p>I'm not very experienced with objective-c and I would need to advise for the following use case:</p>\n\n<p>I'm coding a React native module for ios and one of the native methods on the ios side receives an <code>NSArray</code> containing integers (each integer has a value between 0 and 255).</p>\n\n<p>In my objective-c code, I need to convert this <code>NSArray</code> to a <code>Byte bytes[]</code> to pass it then to some SDK I use.</p>\n\n<p>How can I do that conversion?</p>\n"}, {"tags": ["ios", "objective-c", "mkmapview"], "comments": [{"owner": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "edited": false, "score": 0, "creation_date": 1548324494, "post_id": 54342800, "comment_id": 95503736, "body": "Could you please print region value when it is crashing."}, {"owner": {"reputation": 3, "user_id": 10891487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016b720c856ce612e0f58b01012b5d?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/10891487/student"}, "reply_to_user": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "edited": false, "score": 0, "creation_date": 1548326334, "post_id": 54342800, "comment_id": 95504824, "body": "@Daljeet  MKCoordinateRegion region= MKCoordinateRegionMakeWithDistance(location.coordinate,dista&zwnj;&#8203;nce,distance); The value of distance is 2000 and the location is a typical location in a Europe country"}, {"owner": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "edited": false, "score": 0, "creation_date": 1548326402, "post_id": 54342800, "comment_id": 95504869, "body": "thats fine just print value of region and put a breakpoint there..."}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 10891487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016b720c856ce612e0f58b01012b5d?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/10891487/student"}, "is_accepted": false, "score": 0, "last_activity_date": 1548330069, "creation_date": 1548330069, "answer_id": 54345813, "question_id": 54342800, "link": "https://stackoverflow.com/questions/54342800/mappoint-updateframerate-unrecognized-selector-sent-to-instance/54345813#54345813", "title": "[MapPoint updateFramerate]: unrecognized selector sent to instance", "body": "<p>I found the problem. I was calling setRegion twice. Removing the second call fixed this issue.</p>\n"}], "owner": {"reputation": 3, "user_id": 10891487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016b720c856ce612e0f58b01012b5d?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/10891487/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548330069, "creation_date": 1548320556, "question_id": 54342800, "link": "https://stackoverflow.com/questions/54342800/mappoint-updateframerate-unrecognized-selector-sent-to-instance", "title": "[MapPoint updateFramerate]: unrecognized selector sent to instance", "body": "<p>I am getting this error when I am trying to redraw the MKMapView. I used breakpoints and when the app crash it stops in this line:</p>\n\n<pre><code>[self.mapView setRegion:region animated:YES];\n</code></pre>\n\n<p>It doesn't crash every time I am trying to redraw the map. What can I do to debug this error and find the actual cause? </p>\n"}, {"tags": ["ios", "objective-c", "ios12", "ios-animations"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1548400440, "post_id": 54339908, "comment_id": 95535362, "body": "so as per your code you are hiding your view for 1 second only and unhide after that duration ?"}, {"owner": {"reputation": 332, "user_id": 5133716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3BL8hnsQ8Rg/AAAAAAAAAAI/AAAAAAAAABg/TY4121bMbDM/photo.jpg?sz=128", "display_name": "\u5218\u4fca\u5229", "link": "https://stackoverflow.com/users/5133716/%e5%88%98%e4%bf%8a%e5%88%a9"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1548645208, "post_id": 54339908, "comment_id": 95601622, "body": "@CodeChanger in ios11, hide in 1 second and unhide in 1 second .In ios 12:unhide in 1 second but hide in 0 second just like no animation."}], "owner": {"reputation": 332, "user_id": 5133716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3BL8hnsQ8Rg/AAAAAAAAAAI/AAAAAAAAABg/TY4121bMbDM/photo.jpg?sz=128", "display_name": "\u5218\u4fca\u5229", "link": "https://stackoverflow.com/users/5133716/%e5%88%98%e4%bf%8a%e5%88%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548395305, "creation_date": 1548307853, "last_edit_date": 1548395305, "question_id": 54339908, "link": "https://stackoverflow.com/questions/54339908/uiview-hidden-animations-not-work-at-ios-12", "title": "UIView hidden animations not work at iOS 12", "body": "<p>Here is the code</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    UIView *testView1 = [[UIView alloc] initWithFrame:CGRectMake(100, 100, 100, 100)];\n    UIView *testView2 = [[UIView alloc] initWithFrame:CGRectMake(100, 200, 100, 100)];\n    testView1.backgroundColor = [UIColor blueColor];\n    [self.view addSubview:testView1];\n    [self setView:testView1 hidden:YES];\n    testView2.backgroundColor = [UIColor redColor];\n    [self.view addSubview:testView2];\n    [self setView:testView2 alpha:0.f];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n- (void)setView:(UIView *)view hidden:(BOOL)hidden {\n    [UIView transitionWithView:view duration:1.f options:UIViewAnimationOptionTransitionFlipFromLeft animations:^{\n        view.hidden = hidden;\n    } completion:^(BOOL finished) {\n        [self setView:view hidden:!hidden];\n    }];\n}\n\n- (void)setView:(UIView *)view alpha:(CGFloat)alpha {\n    [UIView transitionWithView:view duration:1.f options:UIViewAnimationOptionTransitionFlipFromLeft animations:^{\n        view.alpha = alpha;\n    } completion:^(BOOL finished) {\n        [self setView:view alpha:1.f - alpha];\n    }];\n}\n</code></pre>\n\n<p>Run the code at device:ios 11 and ios 12 \nThe animation that appears is synchronous, but the animation that disappears is instantaneous in iOS12</p>\n\n<p><a href=\"https://i.stack.imgur.com/2j4yg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2j4yg.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/JvpZP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JvpZP.png\" alt=\"enter image description here\"></a></p>\n"}]