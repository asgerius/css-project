[{"tags": ["objective-c", "xcode", "reactjs", "react-native", "pointers"], "comments": [{"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1551915306, "post_id": 55033356, "comment_id": 96820228, "body": "I&#39;m not at all familiar with react-native, but I do see in your code there is a <code>YGNodeGetContext(...)</code> method which appears to call <code>-&gt;getContext()</code> on the node ref: <a href=\"https://github.com/facebook/react-native/blob/9a2026beb9e3dca32ad97fadfb1488ccb4c31284/ReactCommon/yoga/yoga/Yoga.cpp#L149\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/blob/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 8020077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lkE5_NktC4w/AAAAAAAAAAI/AAAAAAAAATQ/Lk8hMmO4gnk/photo.jpg?sz=128", "display_name": "Ryan Nichol", "link": "https://stackoverflow.com/users/8020077/ryan-nichol"}, "reply_to_user": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1551920521, "post_id": 55033356, "comment_id": 96821419, "body": "I see this is helpful thank you, but what does return value of void* mean. I want to simply check if the context child contains any children or possibly is nil."}], "owner": {"reputation": 11, "user_id": 8020077, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lkE5_NktC4w/AAAAAAAAAAI/AAAAAAAAATQ/Lk8hMmO4gnk/photo.jpg?sz=128", "display_name": "Ryan Nichol", "link": "https://stackoverflow.com/users/8020077/ryan-nichol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551912127, "creation_date": 1551912127, "question_id": 55033356, "link": "https://stackoverflow.com/questions/55033356/why-can-i-not-access-the-value-of-this-pointer-objective-c", "title": "Why can I not access the value of this pointer. Objective c", "body": "<p>I want to access <code>YGNodeRef node</code> in the parameters of the RCTMeasure function. This is from the yoga files in react-native, RCTShadowText.m </p>\n\n<pre><code>static YGSize RCTMeasure(YGNodeRef node, float width, YGMeasureMode \nwidthMode, float height, YGMeasureMode heightMode)\n{\n  RCTShadowText *shadowText = (__bridge RCTShadowText *) \n  YGNodeGetContext(node);\n  NSTextStorage *textStorage = [shadowText buildTextStorageForWidth:width \n  widthMode:widthMode];\n  [shadowText calculateTextFrame:textStorage];\n  NSLayoutManager *layoutManager = textStorage.layoutManagers.firstObject;\n  NSTextContainer *textContainer = layoutManager.textContainers.firstObject;\n  CGSize computedSize = [layoutManager \n  usedRectForTextContainer:textContainer].size;\n\n  YGSize result;\n  result.width = RCTCeilPixelValue(computedSize.width);\n  if (shadowText-&gt;_effectiveLetterSpacing &lt; 0) {\n     result.width -= shadowText-&gt;_effectiveLetterSpacing;\n  }\n  result.height = RCTCeilPixelValue(computedSize.height);\n  return result;\n }\n</code></pre>\n\n<p>YGNodeRef is delcared in another class called Yoga.h.</p>\n\n<pre><code>typedef struct YGNode *YGNodeRef;\n</code></pre>\n\n<p>I can see the values of <code>YGNodeRef node</code> in the debugger, but I can not figure out how to access it's elements in code. The contents look like this:</p>\n\n<pre><code>(YGNodeRef) 0x150094a00\n    &gt; style (YGStyle)\n    &gt; layout (YGLayout)\n    lineIndex = (uint32_t) 0\n    &gt; parent = (YGNodeRef) 0x15009e200\n        ..... etc .....\n    &gt; context\n</code></pre>\n\n<p>I want access to the 'context' child to check if it is null or not, some help would be much appreciated. Or if you simply know the reasoning of why the context would be null that will also help me :)</p>\n\n<p>I am new to Objective C, so my logic may be flawed.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "unity3d"], "owner": {"reputation": 11, "user_id": 10807519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d70609886e6bb66d2f693288bed1e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Njala", "link": "https://stackoverflow.com/users/10807519/njala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568906378, "creation_date": 1551905555, "question_id": 55031947, "link": "https://stackoverflow.com/questions/55031947/no-type-or-protocol-named-cllocationmanagerdelegate-in-swift-h-file", "title": "No type or protocol named &#39;CLLocationManagerDelegate&#39; in -Swift.h file", "body": "<p>I know i am not the first one to ask, and i'll probably won't be the last, but I haven't seen anything that helped me, so I'll ask anyway. I am trying to use some swift and objective-C for my Unity app, and I managed to do that much. But, as I am trying to use get my location in the background, I am trying to use CLLocationManagerDelegate like so:</p>\n\n<p>Example.swift:</p>\n\n<pre><code>import Foundation\nimport CoreLocation\nimport CoreLocation.CLLocationManagerDelegate\nimport UIKit\n\n@objc class Example : NSObject { \n    @objc static func StartTracking(){\n\n        var att: FindMeTask = FindMeTask();\n        att.StartTracking()\n\n    }\n}\n\nclass FindMeTask: UIViewController, CLLocationManagerDelegate {\n    var bgtask: UIBackgroundTaskIdentifier = UIBackgroundTaskIdentifier.invalid;\n\n    var coord: Coor = Coor()\n\n    private lazy var locationManager: CLLocationManager = {\n        let manager = CLLocationManager()\n        manager.desiredAccuracy = kCLLocationAccuracyBest\n        manager.delegate = self\n        manager.requestAlwaysAuthorization()\n        manager.allowsBackgroundLocationUpdates = true\n        return manager\n    }()\n\n    public func StartTracking(){\n        locationManager.delegate = self;\n        locationManager.startUpdatingLocation()\n    }\n\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations \n    locations: [CLLocation]){\n\n        guard let mostRecentLocation = locations.last else{\n            return\n        }\n        let lat : Double = (mostRecentLocation.coordinate.latitude)\n        let lon : Double = (mostRecentLocation.coordinate.longitude)\n        coord.SetCoord(aLat: lat, aLon: lon)\n        if(UIApplication.shared.applicationState == .active){\n            print(\"In foreground\")\n        }else{\n            print(\"In background, location is %@\", coord)\n        }\n    }\n}\n</code></pre>\n\n<p>Example.mm</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"unityswift-Swift.h\"\n#import &lt;CoreLocation/CoreLocation.h&gt;\n#import &lt;CoreLocation/CLLocationManagerDelegate.h&gt;\n\nextern \"C\" {\n    void _startTracking(){\n        [Example StartTracking];\n    }\n}\n</code></pre>\n\n<p>And finally, my UnitySwift-Bridging-Header.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n#import \"UnityInterface.h\"\n#import \"CoreLocation/CoreLocation.h\"\n#import \"CoreLocation/CLLocationManagerDelegate.h\"\n</code></pre>\n\n<p>So, with that code, it gives me this error: No type or protocol named 'CLLocationManagerDelegate' in my name-Swift.h when it tries to declare the @interface of my FindMeTask (@interface FindMeTask : UIViewController ).\nAlso, maybe it will help, I cannot extend an interface created in my .mm file by CLLocationManagerDelegate (like this: @interface test : CLLocationManagerDelegate)</p>\n\n<p>I have tried many thing, but none have worked as of right now. If someone knows anything and could help, that would be great! Thanks in advance!</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "multithreading", "uikit"], "comments": [{"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 2, "creation_date": 1551873253, "post_id": 55021631, "comment_id": 96798239, "body": "Why are you using queues? Your action method is called on the main thread unless you are calling this method yourself from somewhere else."}, {"owner": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "edited": false, "score": 2, "creation_date": 1551878931, "post_id": 55021631, "comment_id": 96801507, "body": "I suspect that endRefreshing is stoping the scrolling.  if you remove it (along with ALL of the dispatch_async code) does it fit the problem?"}, {"owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551943148, "post_id": 55021631, "comment_id": 96827410, "body": "@MuhammadZohaibEhsan Had to use queues in with high priority, in order to handle the UI functionality even when handling action methods. This throughly documented in apple guidelines. <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/General/&hellip;</a>"}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551943710, "post_id": 55021631, "comment_id": 96827675, "body": "@HamzaIqbal you are right about using queues to distribute work for concurrency. But you are doing nothing in the processBtn action method except handling UI. Using dispatch_get_global_queue for doing performing UI updates is not right. It returns a background queue which is not suitable for UI update."}, {"owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "reply_to_user": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "edited": false, "score": 0, "creation_date": 1551944416, "post_id": 55021631, "comment_id": 96828029, "body": "@JonRose spot on, but I have to perform refresh control in order to check for new posts in the feed. Any workaround using queues in order to solve this?"}, {"owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551944678, "post_id": 55021631, "comment_id": 96828159, "body": "@MuhammadZohaibEhsan I know that&#39;s wrong, but the calling gcd in this case does no good, atleast dispatch_get_global_queue does the required i.e. (scrolls to the top and performs a refresh) but generates the purple runtime error."}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "reply_to_user": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "edited": false, "score": 0, "creation_date": 1551945022, "post_id": 55021631, "comment_id": 96828347, "body": "As @JonRose pointed, try removing all the dispatches and check if isendRefreshing is causing the issue."}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1552462787, "creation_date": 1552462787, "answer_id": 55136651, "question_id": 55021631, "link": "https://stackoverflow.com/questions/55021631/uiscrollview-setcontentoffsetanimated-must-be-used-from-main-thread-only/55136651#55136651", "title": "UIScrollView setContentOffset:animated must be used from main thread only", "body": "<p>As Jon Rose noted, scroll view line: </p>\n\n<p><code>[root.FeedTableView setContentOffset:CGPointZero animated:YES];</code></p>\n\n<p>and UIrefreshcontrol line: </p>\n\n<p><code>[root.refreshControl endRefreshing];</code> were the main conflict.</p>\n\n<p>All that needed to be done was to remove UIrefreshcontrol line and add non UI dependent line<code>[root RefreshView];</code></p>\n"}], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 55136651, "answer_count": 1, "score": 0, "last_activity_date": 1552462787, "creation_date": 1551870473, "question_id": 55021631, "link": "https://stackoverflow.com/questions/55021631/uiscrollview-setcontentoffsetanimated-must-be-used-from-main-thread-only", "title": "UIScrollView setContentOffset:animated must be used from main thread only", "body": "<p>I'm performing an action in tab bar, i.e. (when the button is tapped twice) it should perform,</p>\n\n<pre><code>[root.FeedTableView setContentOffset:CGPointZero animated:YES];\n</code></pre>\n\n<p>but I'm unable to perform it in the,</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{  \n });\n</code></pre>\n\n<p>as nothing happens, so I tried using,</p>\n\n<pre><code>dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{\n});\n</code></pre>\n\n<p>and it worked fine expect in this case the threading runtime error pops up.</p>\n\n<p>Inspect the code below and suggest a remedy, for tackling this threading issue which happens at </p>\n\n<blockquote>\n  <p>[root.FeedTableView setContentOffset:CGPointZero animated:YES];</p>\n</blockquote>\n\n<pre><code>(void)processBtn:(UIButton *)sender {\n\n    NSLog(@\"sender:%li\",(long)sender.tag);\n\n    if (self.selectedViewController==self.viewControllers[0] &amp;&amp; sender.tag==1){\n\n        NewsFeedViewController * root = [newsFeedSceneController.viewControllers firstObject];\n\ndispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{\n\n\n    [root.FeedTableView setContentOffset:CGPointZero animated:YES];\n\n        dispatch_async(dispatch_get_main_queue(), ^{\n\n            if(!root.isUpdatingTableView)\n\n            [root.refreshControl endRefreshing];\n\n        });\n\n            });\n    }\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551866597, "post_id": 55020255, "comment_id": 96794106, "body": "can you show whats your array , whats your input and whats the  OP you expect."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1551866597, "post_id": 55020255, "comment_id": 96794107, "body": "It would be very helpful to add an example array and string and the expected result."}, {"owner": {"reputation": 162, "user_id": 6833045, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a0ovErQJ7Yo/AAAAAAAAAAI/AAAAAAAAACg/AYRbRT1qJgE/photo.jpg?sz=128", "display_name": "Alexandre Odet", "link": "https://stackoverflow.com/users/6833045/alexandre-odet"}, "edited": false, "score": 0, "creation_date": 1551866779, "post_id": 55020255, "comment_id": 96794218, "body": "Terms array contains a query terms (which is a code like 54-01)  pathes will contains &quot;54, 01&quot;  And current.destinationPath contains a path like &quot;53 Title 01 Subtitle&quot;, and &quot;54 Title, 01 subtitle&quot;  And I expect to check which one of the two results is the good one."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1551866889, "post_id": 55020255, "comment_id": 96794288, "body": "Please don&#39;t add information in the comments. <a href=\"https://stackoverflow.com/posts/55020255/edit\">Edit</a> your question. And please add an <a href=\"https://stackoverflow.com/help/mcve\">mvce</a>"}, {"owner": {"reputation": 162, "user_id": 6833045, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a0ovErQJ7Yo/AAAAAAAAAAI/AAAAAAAAACg/AYRbRT1qJgE/photo.jpg?sz=128", "display_name": "Alexandre Odet", "link": "https://stackoverflow.com/users/6833045/alexandre-odet"}, "edited": false, "score": 0, "creation_date": 1551867285, "post_id": 55020255, "comment_id": 96794563, "body": "Hope it helps, it&#39;s kind of tricky to explain it."}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1551873082, "post_id": 55020255, "comment_id": 96798132, "body": "<a href=\"https://developer.apple.com/documentation/foundation/nscompoundpredicate\" rel=\"nofollow noreferrer\"><code>NSCompoundPredicate</code></a> might fit your needs (several <code>AND</code> sub-predicates for example)"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1551873637, "post_id": 55020255, "comment_id": 96798491, "body": "Another approach would be to construct a <code>Set</code> of string-components from your text and one for your terms, then you could just evaluate whether your terms is a subset of your components."}], "owner": {"reputation": 162, "user_id": 6833045, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a0ovErQJ7Yo/AAAAAAAAAAI/AAAAAAAAACg/AYRbRT1qJgE/photo.jpg?sz=128", "display_name": "Alexandre Odet", "link": "https://stackoverflow.com/users/6833045/alexandre-odet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551888562, "creation_date": 1551866412, "last_edit_date": 1551888562, "question_id": 55020255, "link": "https://stackoverflow.com/questions/55020255/check-if-all-items-of-an-array-are-contained-in-a-string", "title": "Check if all items of an array are contained in a string", "body": "<p>For a feature I'm working on, I need to check if all items of an array are in a string.</p>\n\n<p>I have something working right now</p>\n\n<pre><code>if (results.nbResult &gt; 1) {\n      NSString *terms = [results.queryTerms firstObject];\n      int match = 0;\n       NSArray *pathes = [terms componentsSeparatedByString:@\"-\"];\n        for (Result *current in results.results) {\n           for (NSString *path in pathes) {\n              if ([current.destinationPath containsString:path]) {\n                   match++;\n                 }\n                 if (match == pathes.count) {\n                        item = current;\n                    }\n                }\n                match = 0;\n            }\n        }\n</code></pre>\n\n<p>if my request terms are \"54-01\", my search engine give me two results (because the text is appearing twice in my search context).</p>\n\n<p>In my first result, I have a reference to 54-01, but the destinationPath is \"53 TITLE 01 SUBTITLE\", and the second result have a reference to 54-01 too, but its destinationPath is \"54 TITLE 01 SUBTITLE\".</p>\n\n<p>And I need to find the result which destinationPath contains all my request terms.</p>\n\n<p>Nervertheless, I don't find that code really nice, and I was wondering if there's a better way to do it.</p>\n\n<p>I was thinking about NSPredicate, but I don't see how to build that predicate.</p>\n\n<p>If you have any idea about how to make this code nicer is welcome :)</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["objective-c", "xcode", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1551864959, "post_id": 55019727, "comment_id": 96793116, "body": "have you inited your <code>dictionary</code> anywhere? like e.g. <code>dictionary = [NSMutableDictionary new];</code>...?"}, {"owner": {"reputation": 119, "user_id": 4209066, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1vJc-vc30JY/AAAAAAAAAAI/AAAAAAAAG4M/KxzjmmY-dpA/photo.jpg?sz=128", "display_name": "Apparao Mulpuri", "link": "https://stackoverflow.com/users/4209066/apparao-mulpuri"}, "edited": false, "score": 0, "creation_date": 1551865004, "post_id": 55019727, "comment_id": 96793143, "body": "This will work. NSMutableDictionary *dictionary = [NSMutableDictionary dictionary]; [dictionary setObject:@&quot;test&quot; forKey:@&quot;haha&quot;]; NSLog(@&quot;%@&quot;, [dictionary objectForKey:@&quot;haha&quot;]);"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10861618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b8ce2fa4f425518a416796c3708831?s=128&d=identicon&r=PG&f=1", "display_name": "julienstack", "link": "https://stackoverflow.com/users/10861618/julienstack"}, "edited": false, "score": 1, "creation_date": 1551866771, "post_id": 55019761, "comment_id": 96794211, "body": "Thanks a lot for your answer, this works fine. I used to work with swift and had to go back to some old Obj-C so I forgot those habits."}], "tags": [], "owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "is_accepted": true, "score": 0, "last_activity_date": 1551864940, "creation_date": 1551864940, "answer_id": 55019761, "question_id": 55019727, "link": "https://stackoverflow.com/questions/55019727/nsmutabledictionary-returning-null-value-objective-c/55019761#55019761", "title": "NSMutableDictionary returning null value ? (Objective-C)", "body": "<p>You will have to instantiate your dictionary first:</p>\n\n<pre><code>[NSMutableDictionary dictionary] \n</code></pre>\n\n<p>Then it will be ready to use.</p>\n"}], "owner": {"reputation": 13, "user_id": 10861618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b8ce2fa4f425518a416796c3708831?s=128&d=identicon&r=PG&f=1", "display_name": "julienstack", "link": "https://stackoverflow.com/users/10861618/julienstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1551865095, "accepted_answer_id": 55019761, "answer_count": 1, "score": 0, "last_activity_date": 1551865045, "creation_date": 1551864783, "last_edit_date": 1551865045, "question_id": 55019727, "link": "https://stackoverflow.com/questions/55019727/nsmutabledictionary-returning-null-value-objective-c", "closed_reason": "Duplicate", "title": "NSMutableDictionary returning null value ? (Objective-C)", "body": "<p>After @implementation and before viewDidLoad I declare my NSMutableDictionary as follows :</p>\n\n<pre><code>NSMutableDictionary *dictionary;\n</code></pre>\n\n<p>Then in my viewDidLoad method I try this : </p>\n\n<pre><code>[dictionary setObject:@\"test\" forKey:@\"haha\"];\nNSLog(@\"%@\", [dictionary objectForKey:@\"haha\"]);\n</code></pre>\n\n<p>The NSLog returns a null value : </p>\n\n<blockquote>\n  <p>(null)</p>\n</blockquote>\n\n<p>I would like to know why that happens, it should return \"test\", doesnt it ?</p>\n"}, {"tags": ["ios", "objective-c", "wkwebview", "pdfjs", "pdf-viewer"], "answers": [{"tags": [], "owner": {"reputation": 85633, "user_id": 400056, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9f2bfb454da13e7a17d5ec6df6aac25f?s=128&d=identicon&r=PG", "display_name": "DarkDust", "link": "https://stackoverflow.com/users/400056/darkdust"}, "is_accepted": true, "score": 2, "last_activity_date": 1551865061, "creation_date": 1551865061, "answer_id": 55019796, "question_id": 55019307, "link": "https://stackoverflow.com/questions/55019307/getting-a-javascript-exception-occurred-when-evaluatejavascript-on-wkwebview-i/55019796#55019796", "title": "Getting &quot;A JavaScript exception occurred&quot; When evaluateJavaScript on WKWebView in Objective-C", "body": "<p>You treat an arbitrary byte array as a C-string and that might not be null-terminated or contain stuff like <code>'</code> which you don't want in your JavaScript. So it may as well crash when you try to create your string.</p>\n\n<p>The problematic part is using the <code>%s</code> formatter here:</p>\n\n<pre><code>NSString *strForEvaluate = [NSString stringWithFormat:@\"PDFViewerApplication.open(new Uint8Array('%s'));\",myArray];\n</code></pre>\n\n<p>(Also, <code>uint8_t myArray[len];</code> may cause a stack overflow [ha!] for large data.)</p>\n\n<p>What you want instead is to create a string that represents a JavaScript array of numbers, like <code>[25, 243, 0, 123]</code>. Here's a way that might work (untested):</p>\n\n<pre><code>NSMutableArray&lt;NSString *&gt; *bytes = [NSMutableArray array];\nconst uint8_t *rawBytes = data.bytes;\nfor (NSUInteger i = 0; i &lt; data.length; i++) {\n    [bytes addObject:[NSString stringWithFormat:@\"%d\", (int)rawBytes[i]]];\n}\n\nNSString *javaScriptArray = [bytes componentsJoinedByString:@\",\"];\n\nNSString *strForEvaluate = [NSString stringWithFormat:\n    @\"PDFViewerApplication.open(new Uint8Array([%@]));\", javaScriptArray];\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 5366426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2c96e1ee3fa34f96a58d965ba2c8ce?s=128&d=identicon&r=PG&f=1", "display_name": "Sapana Ranipa", "link": "https://stackoverflow.com/users/5366426/sapana-ranipa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1909, "favorite_count": 0, "accepted_answer_id": 55019796, "answer_count": 1, "score": 1, "last_activity_date": 1551865061, "creation_date": 1551863401, "question_id": 55019307, "link": "https://stackoverflow.com/questions/55019307/getting-a-javascript-exception-occurred-when-evaluatejavascript-on-wkwebview-i", "title": "Getting &quot;A JavaScript exception occurred&quot; When evaluateJavaScript on WKWebView in Objective-C", "body": "<p>Here I am using Reference swift project to load a PDF file in PDFViewer in WKWebview.</p>\n\n<p>Reference Project - <a href=\"https://github.com/Minitex/PDFJSTest/blob/master/PDFJSTest/ViewController.swift\" rel=\"nofollow noreferrer\">https://github.com/Minitex/PDFJSTest/blob/master/PDFJSTest/ViewController.swift</a></p>\n\n<p>Here in the reference project have a code look like this for load PDF file </p>\n\n<pre><code>func openPDFInViewer(myURL: URL)\n{\n    let pdf = NSData(contentsOf: myURL)\n\n    let length = pdf?.length\n    var myArray = [UInt8](repeating: 0, count: length!)\n    pdf?.getBytes(&amp;myArray, length: length!)\n\n    webView?.evaluateJavaScript(\"PDFViewerApplication.open(new Uint8Array(\\(myArray)))\", completionHandler: { result, error in\n        print(\"Completed Javascript evaluation.\")\n        print(\"Result: \\(String(describing: result))\")\n        print(\"Error: \\(String(describing: error))\")\n   })\n}\n</code></pre>\n\n<p>And I tried to convert this function into Objective-C language and it looks like this:</p>\n\n<pre><code>-(void)renderPDF:(NSTimer*)theTimer\n{\n    NSMutableDictionary *dictData = [[NSMutableDictionary alloc] initWithDictionary:theTimer.userInfo];\n    NSURL *requestURL =  (NSURL *)[dictData valueForKey:@\"request_url\"];\n\n    NSData *data = [NSData dataWithContentsOfURL:requestURL];\n    NSUInteger len = [data length];\n    uint8_t myArray[len];\n    [data getBytes:&amp;myArray length:len];\n\n    NSString *strForEvaluate = [NSString stringWithFormat:@\"PDFViewerApplication.open(new Uint8Array('%s'));\",myArray];\n\n\n    [wkWebView evaluateJavaScript:strForEvaluate completionHandler:^(id Result, NSError * _Nullable error) {\n        if (error)\n        {\n            NSLog(@\"This is error....%@\",error.description);\n        }\n        else if(Result)\n        {\n            NSLog(@\"%@\",Result);\n        }\n     }];\n}\n</code></pre>\n\n<p>When I tried to run the app and evaluateJavaScript function that time getting error response like this</p>\n\n<pre><code>Error Domain=WKErrorDomain Code=4 \"A JavaScript exception occurred\" UserInfo={WKJavaScriptExceptionLineNumber=1, WKJavaScriptExceptionMessage=SyntaxError: Unexpected EOF, WKJavaScriptExceptionColumnNumber=0, WKJavaScriptExceptionSourceURL=file:///Users/sapanaranipa/Library/Developer/CoreSimulator/Devices/207FA841-3256-45D2-8698-2B769A72A2F4/data/Containers/Bundle/Application/4BD7E620-DF16-429B-BBC2-2A36BA2A2DE8/SureFox.app//PDF_Web/pdf.js-dist/web/viewer.html, NSLocalizedDescription=A JavaScript exception occurred}\n</code></pre>\n\n<p>Please help me, Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 7209, "user_id": 1891327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dU9Mf.png?s=128&g=1", "display_name": "Shamas S", "link": "https://stackoverflow.com/users/1891327/shamas-s"}, "edited": false, "score": 0, "creation_date": 1551864309, "post_id": 55018102, "comment_id": 96792696, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44086009/path-to-bundle-of-ios-framework\">Path to bundle of iOS framework</a>"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4008091, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bf31cf489b90fbecdc85ba6d9f56af27?s=128&d=identicon&r=PG&f=1", "display_name": "amar", "link": "https://stackoverflow.com/users/4008091/amar"}, "edited": false, "score": 0, "creation_date": 1551877905, "post_id": 55018943, "comment_id": 96800878, "body": "Did this NSBundle *bundle = [NSBundle bundleForClass:[OneOfYourFrameworkClasses class]];  but getting error :- ld: symbol(s) not found for architecture x86_64"}], "tags": [], "owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "is_accepted": false, "score": 1, "last_activity_date": 1551862267, "creation_date": 1551862267, "answer_id": 55018943, "question_id": 55018102, "link": "https://stackoverflow.com/questions/55018102/how-to-access-storyboard-from-custom-framework/55018943#55018943", "title": "How to access storyboard from custom framework", "body": "<p>What you need to do is make sure you're using the correct bundle and that your storyboard file is copied to the bundle.</p>\n\n<p>Select the Storyboard file and on the right, in File Inspector, make sure you've selected <code>Target Membership</code> and used your Framework. Or, alternatively, go to your project settings, to <code>Build Phases &gt; Copy Bundle resources</code> and make sure the storyboard file is there.</p>\n\n<p>The bundle identifier can be found <code>Project Settings &gt; Build Settings &gt; Product Bundle Identifier</code>. </p>\n\n<p>Or, alternatively, you can programmatically grab the correct bundle, provided the storyboard is in the same bundle as one of your Framework classes</p>\n\n<pre><code>NSBundle *bundle = [NSBundle bundleForClass:[OneOfYourFrameworkClasses class]];\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4008091, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bf31cf489b90fbecdc85ba6d9f56af27?s=128&d=identicon&r=PG&f=1", "display_name": "amar", "link": "https://stackoverflow.com/users/4008091/amar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551886618, "creation_date": 1551858816, "last_edit_date": 1551886618, "question_id": 55018102, "link": "https://stackoverflow.com/questions/55018102/how-to-access-storyboard-from-custom-framework", "title": "How to access storyboard from custom framework", "body": "<p>I have created my own framework which has storyboard. I have imported the framework in my project but when I tried to access the storyboard from framework with below code I am getting error </p>\n\n<blockquote>\n  <p>\"Exception: Could not find a storyboard named 'AssignTasks' in bundle\n  NSBundle\".</p>\n</blockquote>\n\n<p>can we have UI in framework? can anyone help me here?  </p>\n\n<pre><code>NSBundle *bundleName = [NSBundle bundleWithIdentifier:@\"bundle id of framework\"];\nUIStoryboard *stainStoryboard = [UIStoryboard storyboardWithName:@\"AssignTasks\" bundle: bundleName];\nself.assignTasksListView = (AssignTasksListView*)[stainStoryboard instantiateViewControllerWithIdentifier: @\"AssignTasksListView\"];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "pointers", "nsarray", "cgfloat"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9859217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1abf802c2e564dd175f726781d7cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/9859217/jin"}, "edited": false, "score": 0, "creation_date": 1551859039, "post_id": 55017800, "comment_id": 96789820, "body": "it works. tks a lot. so does (const X *) always mean passing a c style pointer. what does const means."}], "tags": [], "owner": {"reputation": 4200, "user_id": 6898523, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mwPH9.jpg?s=128&g=1", "display_name": "MAhipal Singh", "link": "https://stackoverflow.com/users/6898523/mahipal-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1551857630, "creation_date": 1551857630, "answer_id": 55017800, "question_id": 55017582, "link": "https://stackoverflow.com/questions/55017582/ios-objective-c-const-cgfloat/55017800#55017800", "title": "ios objective-c const CGFloat *", "body": "<p>Try this</p>\n\n<pre><code>CGFloat dash_pattern[]={1.0,2.0};\n[path setLineDash:dash_pattern count:2 phase:0.0];\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9859217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1abf802c2e564dd175f726781d7cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/9859217/jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 55017800, "answer_count": 1, "score": 1, "last_activity_date": 1551857913, "creation_date": 1551856602, "question_id": 55017582, "link": "https://stackoverflow.com/questions/55017582/ios-objective-c-const-cgfloat", "title": "ios objective-c const CGFloat *", "body": "<p>when I am calling</p>\n\n<pre><code>setLineDash:(nullable const CGFloat *) count:(NSInteger) phase:(CGFloat)\n</code></pre>\n\n<p>method by passing @[@1.0,@2.0] as (nullable const CGFloat *)</p>\n\n<pre><code>UIBezierPath *path = [self drawLine:start ended:ended];\n[path setLineDash:@[@1.0, @2.0] count:2 phase:0.0];\n</code></pre>\n\n<p>I am keep getting this error; </p>\n\n<pre><code>Implicit conversion of an Objective-C pointer to 'const CGFloat * _Nullable' (aka 'const double *') is disallowed with ARC\n</code></pre>\n\n<p>any suggestion? what's the right argument to pass in here.</p>\n\n<p>appreciated.</p>\n"}, {"tags": ["objective-c", "objective-c-blocks"], "answers": [{"tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": false, "score": 1, "last_activity_date": 1551858886, "last_edit_date": 1551858886, "creation_date": 1551858186, "answer_id": 55017943, "question_id": 55016660, "link": "https://stackoverflow.com/questions/55016660/implicit-conversion-of-int-to-uilabel-is-disallowed-with-arc/55017943#55017943", "title": "Implicit conversion of &#39;int&#39; to &#39;UILabel *&#39; is disallowed with ARC", "body": "<p>You have a typo in your code. You should call <code>makeLabel(30, 100, 100, 30, @\"\uc774\uba54\uc77c\");</code>. The reason why you get this error is that <code>mekeLabel</code> is perceived as a block that is declared later. Blocks in Objective-C return <code>int</code> by default.</p>\n"}, {"comments": [{"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1551861030, "post_id": 55018540, "comment_id": 96790849, "body": "It is not necessary to define the return type explicitly for block, see this link for more details  <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>. The problem is that there is a typo <code>mekeLabel(30, 100, 100, 30, @&quot;\uc774\uba54\uc77c&quot;);</code>."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1551861166, "post_id": 55018540, "comment_id": 96790926, "body": "@RomanPodymov, OP needs to define the return type explicitly. full stop."}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 1, "creation_date": 1551861723, "post_id": 55018540, "comment_id": 96791260, "body": "The following code does not produce a warning: <code>UILabel* (^makeLabel)(CGFloat, CGFloat, CGFloat, CGFloat, NSString*) = ^(CGFloat x, CGFloat y, CGFloat w, CGFloat h, NSString* title) {UILabel* label = [[UILabel alloc] init];label.frame = CGRectMake(x, y, w, h);label.text = title;label.font = [UIFont systemFontOfSize:14];return label;};UILabel* lblEmail = makeLabel(30, 100, 100, 30, @&quot;\uc774\uba54\uc77c&quot;);lblEmail.text = @&quot;\uc774\uba54\uc77c&quot;;</code>. The problem was in calling <code>mekeLabel(30, 100, 100, 30, @&quot;\uc774\uba54\uc77c&quot;);</code>."}], "tags": [], "owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "is_accepted": true, "score": 0, "last_activity_date": 1551861023, "last_edit_date": 1551861023, "creation_date": 1551860696, "answer_id": 55018540, "question_id": 55016660, "link": "https://stackoverflow.com/questions/55016660/implicit-conversion-of-int-to-uilabel-is-disallowed-with-arc/55018540#55018540", "title": "Implicit conversion of &#39;int&#39; to &#39;UILabel *&#39; is disallowed with ARC", "body": "<p>you need to define the return type explicitly everywhere, like:</p>\n\n<pre><code>UILabel * (^makeLabel)(CGFloat, CGFloat, CGFloat, CGFloat, NSString *) = ^UILabel *(CGFloat x, CGFloat y, CGFloat w, CGFloat h, NSString * title) {\n    UILabel * label = [[UILabel alloc] init];\n    label.frame = CGRectMake(x, y, w, h);\n    label.text = title;\n    label.font = [UIFont systemFontOfSize:14];\n    return label;\n};\n</code></pre>\n\n<p>then this will work flawlessly:</p>\n\n<pre><code>UILabel * lblEmail = makeLabel(30, 100, 100, 30, @\"\uc774\uba54\uc77c\");\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11157910, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JiE4BoNEfOc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfRYf6SVWmD4H-f91926H9KDwjOcA/mo/photo.jpg?sz=128", "display_name": "devart", "link": "https://stackoverflow.com/users/11157910/devart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55018540, "answer_count": 2, "score": 0, "last_activity_date": 1551861023, "creation_date": 1551852599, "question_id": 55016660, "link": "https://stackoverflow.com/questions/55016660/implicit-conversion-of-int-to-uilabel-is-disallowed-with-arc", "title": "Implicit conversion of &#39;int&#39; to &#39;UILabel *&#39; is disallowed with ARC", "body": "<p>I got a compiling error \"Implicit conversion of 'int' to 'UILabel *' is disallowed with ARC\" in the code below.</p>\n\n<pre><code>UILabel* (^makeLabel)(CGFloat, CGFloat, CGFloat, CGFloat, NSString*) = ^(CGFloat x, CGFloat y, CGFloat w, CGFloat h, NSString* title) {\n    UILabel* label = [[UILabel alloc] init];\n    label.frame = CGRectMake(x, y, w, h);\n    label.text = title;\n    label.font = [UIFont systemFontOfSize:14];\n    return label;\n};\n\nUILabel* lblEmail = mekeLabel(30, 100, 100, 30, @\"\uc774\uba54\uc77c\");\n</code></pre>\n\n<p>What should I do to solve this problem?</p>\n"}, {"tags": ["objective-c", "runtime"], "comments": [{"owner": {"reputation": 1, "user_id": 9683538, "user_type": "registered", "profile_image": "https://graph.facebook.com/109847640064126/picture?type=large", "display_name": "dengfeng520", "link": "https://stackoverflow.com/users/9683538/dengfeng520"}, "edited": false, "score": 0, "creation_date": 1551854459, "post_id": 55015136, "comment_id": 96787762, "body": "Has been resolved, modify <code>objc_msgSend</code> to YES,  build succeeded!"}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1551847079, "creation_date": 1551847079, "answer_id": 55015666, "question_id": 55015136, "link": "https://stackoverflow.com/questions/55015136/too-few-arguments-to-function-call-expected-at-least-2-have-0/55015666#55015666", "title": "Too few arguments to function call, expected at least 2, have 0", "body": "<p>All Methods take a minimum of two arguments: a reference to the object (or class in the case of a class method) the method is being called on, this is the value of <code>self</code> within the method body; and the selector of the method. This is what is missing in your calls.</p>\n\n<p>You can see this in definition of <code>IMP</code> given in the <a href=\"https://developer.apple.com/documentation/objectivec/objective-c_runtime/imp\" rel=\"nofollow noreferrer\">documentation</a> is:</p>\n\n<pre><code>id (*IMP)(id, SEL, ...)\n</code></pre>\n\n<p>With the explanation:</p>\n\n<blockquote>\n  <p>This data type is a pointer to the start of the function that implements the method. This function uses standard C calling conventions as implemented for the current CPU architecture. The first argument is a pointer to self (that is, the memory for the particular instance of this class, or, for a class method, a pointer to the metaclass). The second argument is the method selector. The method arguments follow.</p>\n</blockquote>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 1, "user_id": 9683538, "user_type": "registered", "profile_image": "https://graph.facebook.com/109847640064126/picture?type=large", "display_name": "dengfeng520", "link": "https://stackoverflow.com/users/9683538/dengfeng520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 808, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551847570, "creation_date": 1551843451, "last_edit_date": 1551847570, "question_id": 55015136, "link": "https://stackoverflow.com/questions/55015136/too-few-arguments-to-function-call-expected-at-least-2-have-0", "title": "Too few arguments to function call, expected at least 2, have 0", "body": "<p>I wrote the following code:</p>\n\n<pre><code>@interface TestClass : NSObject\n//\n-(void)testLog;\n//\n+(void)testLog;\n@end\n</code></pre>\n\n<pre><code>//===============================\nSEL sel = @selector(testLog);\nIMP imp = class_getMethodImplementation([TestClass class], sel);\nimp();\n//===============================\nSEL testSel = @selector(testLog);\nIMP testImp = class_getMethodImplementation(objc_getMetaClass(class_getName([TestClass class])), testSel);\ntestImp();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xlVQk.png\" alt=\"Too few arguments to function call, expected at least 2, have 0\"></p>\n\n<p>I set the <code>Enable Strict Checking of objc_msgSend Calls</code> to NO but still have this error\u3002</p>\n\n<p><img src=\"https://i.stack.imgur.com/T4lOB.png\" alt=\"Enable Strict Checking of objc_msgSend Calls\"></p>\n\n<p>Why is it wrong?</p>\n"}, {"tags": ["ios", "objective-c", "viewcontroller", "retain-cycle"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 2, "creation_date": 1551831016, "post_id": 55013157, "comment_id": 96781724, "body": "I\u2019d suggest using the \u201cDebug Memory Graph\u201d button and confirm that it is indeed this that is keeping the strong reference. I don\u2019t see any problem here, so I suspect the issue rests elsewhere."}, {"owner": {"reputation": 2445, "user_id": 288405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acea97b0bc1f223b24db816ab3dd8e46?s=128&d=identicon&r=PG", "display_name": "Mattie", "link": "https://stackoverflow.com/users/288405/mattie"}, "edited": false, "score": 0, "creation_date": 1551832165, "post_id": 55013157, "comment_id": 96782000, "body": "Can you elaborate on what your timer-based check is doing?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1551833382, "post_id": 55013157, "comment_id": 96782269, "body": "Repeating timers are a very common source of strong reference cycles. See <a href=\"https://stackoverflow.com/questions/30992338/how-to-debug-memory-leaks-when-leaks-instrument-does-not-show-them/30993476#30993476\" title=\"how to debug memory leaks when leaks instrument does not show them\">stackoverflow.com/questions/30992338/&hellip;</a> for example of how to use \u201cDebug Memory Graph\u201d to find the source of the problem."}, {"owner": {"reputation": 1175, "user_id": 3517600, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/PEbMv.jpg?s=128&g=1", "display_name": "MichaelGofron", "link": "https://stackoverflow.com/users/3517600/michaelgofron"}, "edited": false, "score": 0, "creation_date": 1551890367, "post_id": 55013157, "comment_id": 96808709, "body": "ah I figured out the issue thanks to rob&#39;s pointer. My networker is responsible for retrieving some data. This data is parsed into cells. One of these cells had a strong pointer back to my view controller resulting in a cycle so it wouldn&#39;t dealloc. I&#39;ve since changed it to have a reference to a different object."}], "owner": {"reputation": 1175, "user_id": 3517600, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/PEbMv.jpg?s=128&g=1", "display_name": "MichaelGofron", "link": "https://stackoverflow.com/users/3517600/michaelgofron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551828037, "creation_date": 1551828037, "question_id": 55013157, "link": "https://stackoverflow.com/questions/55013157/i-seem-to-have-a-retain-cycle-with-a-weak-delegate", "title": "I seem to have a retain cycle with a weak delegate", "body": "<p>I'm using a networker inside of a view controller. The networker has a weak delegate reference to the view controller. \nAfter a view controller is dismissed I kick off a timer to check whether the vc has been released. I noticed that it's not being released. \nI'm not passing my VC into my networker and the reference is weak. If I comment out setting the delegate it works fine. </p>\n\n<pre><code>    _networker = [[Networker alloc]\n                  initWithSession:session\n                  path:@\"/path/\"\n                  parsingHandler:^id _Nonnull(NSDictionary * _Nonnull response) {\n                      DataModel *const dataModel = (DataModel *)[DataModelParser parseDataModelFromResponse:response];\n                      return dataModel;\n                  }\n                  hasLoadedOnce:NO];\n    _networker.delegate = self;\n</code></pre>\n\n<p>and in my <code>Networker</code> class I have the following delegate: </p>\n\n<p><code>@property (nonatomic, weak, nullable) id&lt;NetworkerDelegate&gt; delegate;</code></p>\n\n<p>Shouldn't this prevent any retain cycle from being called? Is there some better way to debug this issue? </p>\n"}, {"tags": ["ios", "objective-c", "photosframework"], "comments": [{"owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551789647, "post_id": 55002956, "comment_id": 96761332, "body": "Post your error"}, {"owner": {"reputation": 52, "user_id": 8037034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210716346719515/picture?type=large", "display_name": "Tomer Landsman", "link": "https://stackoverflow.com/users/8037034/tomer-landsman"}, "reply_to_user": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551791334, "post_id": 55002956, "comment_id": 96762345, "body": "sorry, updated."}, {"owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551792263, "post_id": 55002956, "comment_id": 96762945, "body": "Try using weakSelf for objcAppAlbum. And don&#39;t use PHAssetChangeRequest *creationRequest; outside your for loop, and see if it helps"}, {"owner": {"reputation": 52, "user_id": 8037034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210716346719515/picture?type=large", "display_name": "Tomer Landsman", "link": "https://stackoverflow.com/users/8037034/tomer-landsman"}, "reply_to_user": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551793546, "post_id": 55002956, "comment_id": 96763711, "body": "so where should I use PHAssetChangeRequest *creationRequest? I tried with weakSelf but it doesn&#39;t seem to fix the problem... pretty sure its something with the arguments... see the difference between the the two methods: [collectionChangeRequest addAssets:changesArray]; [collectionChangeRequest addAssets:arr] , and arr is an array with one object and one , nil;"}, {"owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551793954, "post_id": 55002956, "comment_id": 96763948, "body": "Create it inside your for loop. And try creating an NSArray, instead of a mutable one ([NSArray fromArray:yourMutableArray])"}, {"owner": {"reputation": 52, "user_id": 8037034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210716346719515/picture?type=large", "display_name": "Tomer Landsman", "link": "https://stackoverflow.com/users/8037034/tomer-landsman"}, "reply_to_user": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "edited": false, "score": 0, "creation_date": 1551795201, "post_id": 55002956, "comment_id": 96764680, "body": "still crashed with those changes, unfortunately"}], "owner": {"reputation": 52, "user_id": 8037034, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210716346719515/picture?type=large", "display_name": "Tomer Landsman", "link": "https://stackoverflow.com/users/8037034/tomer-landsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551839619, "creation_date": 1551789296, "last_edit_date": 1551839619, "question_id": 55002956, "link": "https://stackoverflow.com/questions/55002956/adding-multiple-assets-to-collection-with-photo-framework-objective-c", "title": "Adding multiple assets to collection with Photo Framework - Objective-C", "body": "<p>I have the following code:</p>\n\n<pre><code>-(void) saveFromLocationsArray: (NSArray*) locations{\n[self.photoLib performChanges:^{\n    PHAssetChangeRequest *creationRequest;\n    NSMutableArray *changesArray = [[NSMutableArray alloc] init];\n    for(int i=0; i&lt;locations.count; i++){\n        creationRequest = [PHAssetChangeRequest creationRequestForAssetFromImageAtFileURL:locations[i]];\n        [changesArray addObject:[creationRequest placeholderForCreatedAsset]];\n    }\n    PHAssetCollectionChangeRequest *collectionChangeRequest = [PHAssetCollectionChangeRequest changeRequestForAssetCollection:self.objcAppAlbum];\n    [collectionChangeRequest addAssets:changesArray];\n} completionHandler:^(BOOL success, NSError *error) {\n    if(!success){\n        NSLog(@\"an error has occured while trying to save pic to library: %@\", error);\n    }\n    else{\n        NSLog(@\"image was added to album ObjcApp\");\n    }\n}];\n</code></pre>\n\n<p>In a nutshell: I have an array of locations (URLS) of images I've just downloaded, and I'm trying to add them all to the iPhone's photo library. i managed to do so for one image (in a different method) but here it crashes on [collectionChangeRequest addAssets:changesArray], my guess is that the argument fo addAssest is invalid... but i can't figure out why.\nthis is the working code for one image only:</p>\n\n<pre><code>-(void) saveFromLocation: (NSURL*) location{\n[self.photoLib performChanges:^{\n    PHAssetChangeRequest *creationRequest = [PHAssetChangeRequest creationRequestForAssetFromImageAtFileURL:location];\n    PHAssetCollectionChangeRequest *collectionChangeRequest = [PHAssetCollectionChangeRequest changeRequestForAssetCollection:self.objcAppAlbum];\n    NSArray *arr = [NSArray arrayWithObjects:[creationRequest placeholderForCreatedAsset], nil];\n    [collectionChangeRequest addAssets:arr];\n} completionHandler:^(BOOL success, NSError *error) {\n    if(!success){\n        NSLog(@\"an error has occured while trying to save pic to library: %@\", error);\n    }\n    else{\n        NSLog(@\"image was added to album ObjcApp\");\n    }\n}];\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>error: 2019-03-05 14:26:26.062368 ObjcProject[1026:371314]\n  -[__NSCFString path]: unrecognized selector sent to instance 0x1740fa880 2019-03-05 14:26:26.063343 ObjcProject[1026:371314] <strong>*\n  Terminating app due to uncaught exception\n  'NSInvalidArgumentException', reason: '-[__NSCFString path]:\n  unrecognized selector sent to instance 0x1740fa880'\n  *</strong> First throw call stack: (0x186d3d1b8 0x18577455c 0x186d44268 0x186d41270 0x186c3a80c 0x19276338c 0x192700ee8 0x19275e8c4\n  0x19275edfc 0x1914ae4b8 0x191d49c4c 0x19275e510 0x192738be4\n  0x1914a0ddc 0x1001dd258 0x1001dd218 0x1001eaaec 0x1001e0ce0\n  0x1001eb088 0x1001ece2c 0x1001ecb78 0x185dcf2a0 0x185dced8c)\n  libc++abi.dylib: terminating with uncaught exception of type\n  NSException</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "date"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1551786700, "post_id": 54999486, "comment_id": 96759656, "body": "Getting a crash? Is there a crash log in console? That could be helpful."}], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551779280, "post_id": 54999744, "comment_id": 96755170, "body": "Which means, if date is not moved and if user tap on ok button, current year, month will pass values ?"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551779401, "post_id": 54999744, "comment_id": 96755251, "body": "still i am getting crash <code>Terminating app due to uncaught exception &#39;NSRangeException&#39;, reason: &#39;*** -[__NSArrayI objectAtIndex:]: index 18446744073709551615 beyond bounds [0 .. 11]&#39;</code>"}, {"owner": {"reputation": 5112, "user_id": 2955078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxcbN.jpg?s=128&g=1", "display_name": "Akhilrajtr", "link": "https://stackoverflow.com/users/2955078/akhilrajtr"}, "reply_to_user": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551779424, "post_id": 54999744, "comment_id": 96755265, "body": "if the user opens the picker for the first time and clicked ok without changing date on the picker, <code>reportingDate</code> will be nil. So you either need to set a default value to it or add nil check to avoid the crash."}, {"owner": {"reputation": 5112, "user_id": 2955078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxcbN.jpg?s=128&g=1", "display_name": "Akhilrajtr", "link": "https://stackoverflow.com/users/2955078/akhilrajtr"}, "reply_to_user": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551779463, "post_id": 54999744, "comment_id": 96755283, "body": "did you added the nil check in <code>pickerAction</code> method? if yes this might be another issue. in which line you are getting crash?"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551779853, "post_id": 54999744, "comment_id": 96755572, "body": "i  have updated my code.the crash is this line <code>NSString *Mont =  [self MonthNameString:[SelMonth integerValue]];</code>"}, {"owner": {"reputation": 5112, "user_id": 2955078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxcbN.jpg?s=128&g=1", "display_name": "Akhilrajtr", "link": "https://stackoverflow.com/users/2955078/akhilrajtr"}, "reply_to_user": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551780108, "post_id": 54999744, "comment_id": 96755719, "body": "try moving all those login inside <code>if (reportingDate != nil)</code> this if condition and see the log of <code>NSLog(@&quot;%@&quot;, SelMonth);</code>"}], "tags": [], "owner": {"reputation": 5112, "user_id": 2955078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DxcbN.jpg?s=128&g=1", "display_name": "Akhilrajtr", "link": "https://stackoverflow.com/users/2955078/akhilrajtr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551780037, "last_edit_date": 1551780037, "creation_date": 1551779034, "answer_id": 54999744, "question_id": 54999486, "link": "https://stackoverflow.com/questions/54999486/getting-crash-on-selecting-current-date-and-year-when-pressing-ok-button/54999744#54999744", "title": "Getting crash on selecting current date and year when pressing ok button", "body": "<p>You are only setting <code>reportingDate</code> property in <code>monthPickerDidChangeDate:</code> method. So it will get invoked and set value to <code>reportingDate</code> only when changing the date in picker. Set a default/selected value to <code>reportingDate</code> property on displaying the picker will resolved your issue.</p>\n\n<p>or try this if you just need to avoid the crash,</p>\n\n<pre><code>- (IBAction)pickerAction:(id)sender {\n    if ([sender isKindOfClass:[UIButton class]]) {\n        UIButton *button = (UIButton *)sender;\n        if ([button.titleLabel.text isEqualToString:@\"Cancel\"]) {\n            return;\n        }\n    }\n    if (reportingDate != nil) { //add a nil check here\n         NSDate *pickerDate = reportingDate;\n         NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\n         NSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth fromDate:pickerDate];\n         NSInteger reportingMonth = [components month];\n         NSInteger reportingYear = [components year];\n         NSDate *pickerDate = reportingDate;\n         NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\n         NSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth fromDate:pickerDate];\n         NSInteger reportingMonth = [components month];\n         NSInteger reportingYear = [components year];\n\n         NSString *Month = [NSString stringWithFormat:@\"%ld\", (long)reportingMonth];\n         NSString *Yrs = [NSString stringWithFormat:@\"%ld\", (long)reportingYear];\n         NSString *temp = @\"0\";\n         if (Month.length == 1) {\n             SelMonth = [temp stringByAppendingString:Month];\n         }else {\n             SelMonth = Month;\n         }\n         [str setObject:SelMonth forKey:@\"month\"];\n         [str setObject:Yrs forKey:@\"year\"];\n         NSLog(@\"%@\", SelMonth);\n         NSString *Mont =  [self MonthNameString:[SelMonth integerValue]];\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551780037, "creation_date": 1551778220, "last_edit_date": 1551779807, "question_id": 54999486, "link": "https://stackoverflow.com/questions/54999486/getting-crash-on-selecting-current-date-and-year-when-pressing-ok-button", "title": "Getting crash on selecting current date and year when pressing ok button", "body": "<p>I have one picker date. When ever i change the date and showing. Its working fine. But if i not change any date and press ok button. Getting crash.Here is my code : </p>\n\n<pre><code>NSDate *reportingDate;\n NSDateFormatter *pickerDateFormatter;\n\n- (void)viewDidLoad {\n\n  [self updatePickerUI];\n}\n\n- (void)updatePickerUI {\n    _pickerView.hidden = true;\n    self.picker.monthPickerDelegate = self;\n    self.picker.maximumYear = 2115;\n    self.picker.minimumYear = 1900;\n    self.picker.yearFirst = YES;\n    NSString *mon = [userDefault objectForKey:@\"monthText\"];\n    NSString *yr = [userDefault objectForKey:@\"YearText\"];\n\n     NSLog(@\"%@%@\", mon,yr);\n    self.dateLabel.text = [NSString stringWithFormat: @\"%@,%@\", mon, yr];\n}\n\n- (NSString*)formatDate:(NSDate *)date\n{\n\n    if (pickerDateFormatter == nil) {\n        pickerDateFormatter = [[NSDateFormatter alloc] init];\n    }\n    pickerDateFormatter.dateFormat = @\"MMM, yyyy\";\n    return [pickerDateFormatter stringFromDate:date];\n}\n- (void)monthPickerDidChangeDate:(SRMonthPicker *)monthPicker\n{\n    reportingDate = monthPicker.date;\n    NSString *selectedDate = [self formatDate:reportingDate];\n    [self updateDateLabel:selectedDate];\n}\n</code></pre>\n\n<p>Okay button action :</p>\n\n<pre><code> - (IBAction)pickerAction:(id)sender {\n    if ([sender isKindOfClass:[UIButton class]]) {\n            UIButton *button = (UIButton *)sender;\n            if ([button.titleLabel.text isEqualToString:@\"Cancel\"]) {\n                return;\n            }\n        }\n     NSDate *pickerDate = reportingDate;\n        NSCalendar *calendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\n        NSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth fromDate:pickerDate];\n        NSInteger reportingMonth = [components month];\n        NSInteger reportingYear = [components year];\n\n NSString *Month = [NSString stringWithFormat:@\"%ld\", (long)reportingMonth];\n    NSString *Yrs = [NSString stringWithFormat:@\"%ld\", (long)reportingYear];\n    NSString *temp = @\"0\";\n    if (Month.length == 1) {\n        SelMonth = [temp stringByAppendingString:Month];\n    }else {\n        SelMonth = Month;\n    }\n    [str setObject:SelMonth forKey:@\"month\"];\n    [str setObject:Yrs forKey:@\"year\"];\n    NSString *Mont =  [self MonthNameString:[SelMonth integerValue]];\n    }\n</code></pre>\n\n<p>Crash on here this line : </p>\n\n<blockquote>\n  <p>NSInteger reportingMonth = [components month];\n      NSInteger reportingYear = [components year];</p>\n</blockquote>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551766323, "post_id": 54996131, "comment_id": 96749166, "body": "<a href=\"https://stackoverflow.com/questions/15761932/share-text-with-images-on-instagram-in-ios\" title=\"share text with images on instagram in ios\">stackoverflow.com/questions/15761932/&hellip;</a>"}, {"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551768768, "post_id": 54996131, "comment_id": 96750041, "body": "Tried the same but text is not working in captions only image shared using this code"}, {"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551768989, "post_id": 54996131, "comment_id": 96750147, "body": "My Main Objective is to share Text on Instagram along with an Image"}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551769947, "post_id": 54996131, "comment_id": 96750569, "body": "In the link, the latest answer says text cannot be shared anymore. Have a look here <a href=\"https://developers.facebook.com/docs/instagram/sharing-to-feed/\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/instagram/sharing-to-feed</a>. There is only an image/video option for iOS."}], "owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551772842, "creation_date": 1551764608, "last_edit_date": 1551772842, "question_id": 54996131, "link": "https://stackoverflow.com/questions/54996131/objective-c-programmatically-share-text-on-instagram-direct-message-or-in-feed", "title": "Objective-C: programmatically share text on instagram direct message or in feed", "body": "<p>I want to share some text on Instagram either on feed or direct message from my app in iOS. Can anybody let me know How to do that? I've tried the Instagram API Doc but using this Caption is not working the only Image is sharing in feed or story. But in Android, it is sharing text as a direct message using intent.</p>\n\n<p>I've tried the following code:</p>\n\n<pre><code>@property(nonatomic, strong) UIDocumentInteractionController *docController;\n\n\n\n    -(void)InstagramBtnClick: (id)sender {\n        NSURL *myImgUrl = [NSURL URLWithString: @\"https://www.materials-world.com/bricks/glen-gery/red/images/red_cliff_w12-DA.jpg\"];\n        NSData * imageData = [[NSData alloc] initWithContentsOfURL: myImgUrl];\n        UIImage *imgShare = [[UIImage alloc] initWithData:imageData];\n        NSURL *instagramURL = [NSURL URLWithString:@\"instagram://app\"];\n        if([[UIApplication sharedApplication] canOpenURL:instagramURL]) //check for App is install or not\n        {\n\n            UIImage *imageToUse = imgShare;\n            NSString *documentDirectory=[NSHomeDirectory() stringByAppendingPathComponent:@\"Documents\"];\n            NSString *saveImagePath=[documentDirectory stringByAppendingPathComponent:@\"Image.igo\"];\n            NSData *imageData=UIImagePNGRepresentation(imageToUse);\n            [imageData writeToFile:saveImagePath atomically:YES];\n            NSURL *imageURL=[NSURL fileURLWithPath:saveImagePath];\n            self.docController=[[UIDocumentInteractionController alloc]init];\n            self.docController = [UIDocumentInteractionController interactionControllerWithURL:imageURL];\n            self.docController.delegate = self;\n            self.docController.annotation = [NSDictionary dictionaryWithObjectsAndKeys:@\"Testing Caption Text\", @\"InstagramCaption\", nil];\n            self.docController.UTI = @\"com.instagram.exclusivegram\";\n            UIViewController *vc = [self topMostController];\n            [self.docController presentOpenInMenuFromRect:CGRectMake(1, 1, 1, 1) inView:vc.view animated:YES];\n        }\n        else {\n            NSLog(@\"Instagram App not Found\");\n        }\n\n    }\n</code></pre>\n\n<p>Is there any other option so that the text can be added in the sharing content in iOS.</p>\n"}, {"tags": ["objective-c", "cocoa", "nsdocument"], "comments": [{"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551775753, "post_id": 54996010, "comment_id": 96753194, "body": "If you use autosave + true NSCoding your mac can reboot and user won&#39;t lose data. The save dialog only appears when user did a change to document and he manually clicks close (document dirty means updateCount method was called manually or by nsundomanager). Just avoid calling updateCount (or make document dirty). You can even override updateCount. Doing this you lose ton of natural behaviour and your app doesn&#39;t solve data store when reboot/power outage ..."}, {"owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "reply_to_user": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551779468, "post_id": 54996010, "comment_id": 96755290, "body": "@MarekH What I want to do is handle the close button. In my project, the red close button is clicked without any change, nothing appears. To make the function of &#39;Delete&#39; button in the save panel that may have appeared when close button is clicked, I need to close the document without saving."}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551781653, "post_id": 54996010, "comment_id": 96756621, "body": "Why do you need to use NSDocument if you don&#39;t want to use it&#39;s functionality? Just show windowcontroller and you are done. It&#39;s not the best idea to fight the frameworks."}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551781762, "post_id": 54996010, "comment_id": 96756691, "body": "Read section   &quot;The Document Architecture Provides Many Capabilities for Free&quot; <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/MOSXAppProgrammingGuide/CoreAppDesign/CoreAppDesign.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/General/&hellip;</a> + Shoebox-Style Apps Should Not Use NSDocument"}, {"owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "reply_to_user": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551781974, "post_id": 54996010, "comment_id": 96756818, "body": "@MarekH Thank you. From the article, it seems that NSDocument has its own close mechanism. But when I press the red close button of my application, it just stuck and nothing happens. Is there any notification representing the close button is clicked for me to debug?"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1551792799, "post_id": 54996010, "comment_id": 96763264, "body": "NSWindowDelegate : - (BOOL)windowShouldClose:(NSWindow *)sender; or - (void)windowWillClose:(NSNotification *)notification; you should handle those in your delegate (either subclass of nswindowcontroller or any other object). PS: NSDocument creates it&#39;s own windowcontroller on background (you need to set delegate to nsdocument object). You can control creation of windowController by overriding makewindowcontrollers look here <a href=\"https://stackoverflow.com/questions/32316958/how-to-use-nsviewcontroller-in-an-nsdocument-based-cocoa-app/32328975#32328975\" title=\"how to use nsviewcontroller in an nsdocument based cocoa app\">stackoverflow.com/questions/32316958/&hellip;</a>"}], "owner": {"reputation": 701, "user_id": 10005095, "user_type": "registered", "profile_image": "https://graph.facebook.com/144174703037393/picture?type=large", "display_name": "Evian", "link": "https://stackoverflow.com/users/10005095/evian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551775906, "creation_date": 1551763911, "last_edit_date": 1551775906, "question_id": 54996010, "link": "https://stackoverflow.com/questions/54996010/macos-how-to-close-nsdocument-without-saving", "title": "macOS -- How to close NSDocument without saving", "body": "<p>I'm developing a macOS application using cocoa with objective-C. I want to implement a function which could close a NSDocument directly without showing NSSavePanel. I use <code>[self close]</code> in my subclass of NSDocument, but after the window closed, I could not open other NSDocument any more (and there is no error information).</p>\n"}, {"tags": ["objective-c", "swift", "bridging-header"], "answers": [{"comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 3, "creation_date": 1551742587, "post_id": 54993208, "comment_id": 96743638, "body": "Or <code>instancetype</code> instead of <code>id</code>, too."}], "tags": [], "owner": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "is_accepted": false, "score": 2, "last_activity_date": 1551742247, "creation_date": 1551742247, "answer_id": 54993208, "question_id": 54993191, "link": "https://stackoverflow.com/questions/54993191/cannot-access-objective-c-singletons-array-from-swift-code/54993208#54993208", "title": "Cannot access Objective-C singleton&#39;s array from Swift code", "body": "<p>Change <code>+ (id)sharedManager;</code> to <code>+ (MyManager *)sharedManager;</code>. Otherwise Swift doesn't know what kind of object <code>sharedManager</code> is and it will assume it's <code>Any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1551748238, "creation_date": 1551748238, "answer_id": 54994006, "question_id": 54993191, "link": "https://stackoverflow.com/questions/54993191/cannot-access-objective-c-singletons-array-from-swift-code/54994006#54994006", "title": "Cannot access Objective-C singleton&#39;s array from Swift code", "body": "<p>You should declare it as <code>instancetype</code> or <code>MyManager *</code>. E.g.</p>\n\n<pre><code>+ (MyManager *)sharedManager;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>+ (instancetype)sharedManager;\n</code></pre>\n\n<hr>\n\n<p>A couple of suggestions:</p>\n\n<ol>\n<li><p>The Swift convention for singleton\u2019s is to use a class property name of <code>shared</code>, not a class method of <code>sharedManager()</code>. When you declare it in Objective-C, you might want to explicitly say that it\u2019s a class property:</p>\n\n<pre><code>@property (class, readonly, strong) MyManager *sharedManager NS_SWIFT_NAME(shared);\n</code></pre>\n\n<p>This won\u2019t change any of the Objective-C behavior, but in Swift, you can just do:</p>\n\n<pre><code>let manager = MyManager.shared\nmanager.images.add(image)\n</code></pre>\n\n<p>This results in more concise and idiomatic Swift code.</p></li>\n<li><p>I\u2019d suggest that you audit your Objective-C for nullability. I.e., confirm what can be <code>nil</code> and what can\u2019t. Since both <code>imgArray</code> (which I might just call <code>images</code>) and <code>sharedManager</code> can never be <code>nil</code>, I would just use the <code>NS_ASSUME_NONNULL_BEGIN</code>/<code>END</code> macros which tells the compiler \u201cunless I tell you otherwise, assuming this property cannot be <code>nil</code>\u201d:</p>\n\n<pre><code>//  MyManager.h\n\n@import UIKit;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface MyManager : NSObject\n\n@property (nonatomic, strong) NSMutableArray &lt;UIImage *&gt; *images;\n@property (class, readonly, strong) MyManager *sharedManager NS_SWIFT_NAME(shared);\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>By telling the compiler that these two cannot be <code>nil</code>, that means that you\u2019ll have to do less unnecessary unwrapping of optionals in your Swift code.</p></li>\n<li><p>As an aside, notice that I didn't declare an instance variable. (And if you did need one, I wouldn\u2019t advise declaring it in the public interface.) Objective-C will now synthesize the ivars backing our properties automatically for us. (So my property <code>images</code> will have an ivar called <code>_images</code> that will be synthesized for me.) And you don\u2019t need/want the <code>@synthesize</code> line, either:</p>\n\n<pre><code>//  MyManager.m\n\n#import \"MyManager.h\"\n\n@implementation MyManager\n\n+ (instancetype)sharedManager {\n    static MyManager *sharedMyManager = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedMyManager = [[self alloc] init];\n    });\n    return sharedMyManager;\n}\n\n- (instancetype)init {\n    if (self = [super init]) {\n        self.images = [NSMutableArray new];\n    }\n    NSLog(@\"initialized\");\n    return self;\n}\n\n@end\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 54994006, "answer_count": 2, "score": 2, "last_activity_date": 1551748402, "creation_date": 1551742114, "last_edit_date": 1551748402, "question_id": 54993191, "link": "https://stackoverflow.com/questions/54993191/cannot-access-objective-c-singletons-array-from-swift-code", "title": "Cannot access Objective-C singleton&#39;s array from Swift code", "body": "<p>I made an array in a singleton to write objects into it from multiple parts of my code. Here's how:</p>\n\n<pre><code>// in singleton.h\n#import &lt;UIKit/UIKit.h&gt;\n\n// make globally accessible array\n@interface MyManager : NSObject {\n    NSMutableArray *imgArray;\n}\n@property (nonatomic, retain) NSMutableArray *imgArray;\n+ (id)sharedManager;\n@end\n\n// in singleton.m\n#import \"singleton.h\"\n</code></pre>\n\n<p>For my .m file :</p>\n\n<pre><code>@implementation MyManager\n\n@synthesize imgArray;\n\n#pragma mark Singleton Methods\n\n+ (id)sharedManager {\n    static MyManager *sharedMyManager = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedMyManager = [[self alloc] init];\n    });\n    return sharedMyManager;\n}\n\n- (id) init {\n    if (self = [super init]) {\n        self.imgArray = [NSMutableArray new];\n        }\n    NSLog(@\"initialized\");\n    return self;\n}\n\n@end\n</code></pre>\n\n<p>I can access my array called imgArray it from my objective C code. However, In swift I get an error when I do this:</p>\n\n<pre><code>let array  = MyManager.sharedManager()\n\narray.imgArray.add(\"hello world\") .    (!!!) Value of type 'Any?' has no member 'imgArray'\n</code></pre>\n\n<p>I can access <code>MyManager.sharedManager()</code>, but Why can't I access <code>imgArray</code> the same way as in objective C?</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 2587, "user_id": 772521, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c82cd3d728849548aa896ce780672d33?s=128&d=identicon&r=PG", "display_name": "jlewkovich", "link": "https://stackoverflow.com/users/772521/jlewkovich"}, "edited": false, "score": 1, "creation_date": 1551733752, "post_id": 54991485, "comment_id": 96740593, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6724180/converting-a-date-format-in-objective-c\">Converting a date format in objective C</a>"}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "reply_to_user": {"reputation": 2587, "user_id": 772521, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c82cd3d728849548aa896ce780672d33?s=128&d=identicon&r=PG", "display_name": "jlewkovich", "link": "https://stackoverflow.com/users/772521/jlewkovich"}, "edited": false, "score": 0, "creation_date": 1551738191, "post_id": 54991485, "comment_id": 96742306, "body": "@JLewkovich It&#39;s not a duplicate; this question concerns the behavior of ``-dateFormatFromTemplate:locale:options:`, whereas the suggested dupe is just a matter of a bad format string."}], "answers": [{"tags": [], "owner": {"reputation": 606, "user_id": 4608154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ed706198f83f8dc46b947e190696c87?s=128&d=identicon&r=PG&f=1", "display_name": "johnny kehr", "link": "https://stackoverflow.com/users/4608154/johnny-kehr"}, "is_accepted": false, "score": 0, "last_activity_date": 1551735136, "creation_date": 1551735136, "answer_id": 54991865, "question_id": 54991485, "link": "https://stackoverflow.com/questions/54991485/how-do-i-format-date-in-objective-c/54991865#54991865", "title": "How do I format date in objective C?", "body": "<p>It seems it should work based on this question: <a href=\"https://stackoverflow.com/questions/30330870/format-date-on-2-lines\">Format date on 2 lines</a></p>\n\n<p>However, that's in swift, so there could be different implementation details. Worst case scenario, you can split your 'EEEE' and 'hh:mm' into 2 different formatters and concatenate them. </p>\n"}, {"tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": false, "score": 1, "last_activity_date": 1551742809, "last_edit_date": 1551742809, "creation_date": 1551737941, "answer_id": 54992451, "question_id": 54991485, "link": "https://stackoverflow.com/questions/54991485/how-do-i-format-date-in-objective-c/54992451#54992451", "title": "How do I format date in objective C?", "body": "<blockquote>\n  <p>I basically have this code right now and I am trying to format by having a new line in between but it doesn't give me a new line. Am I doing it correctly?</p>\n</blockquote>\n\n<p>The point of calling <code>-dateFormatFromTemplate:locale:options:</code> is to get back a format string that's properly formatted for the specified locale. That is, the method looks at the date components you specify and arranges them to suit the local custom, like \"Jan 2 2019\" in the US, but \"2 Jan 2019\" in Europe. I think it basically ignores any parts of the template that it doesn't recognize as a date component specifier. If it's moving the date components around, how would it know where to place the non-date parts that it doesn't know about?</p>\n\n<p><strong>If you don't care about different locales</strong> and just want a date that has a newline in it, then you can skip that method and just create the template string yourself:</p>\n\n<pre><code>formatString = @\"EEEE \\n hh:mm\";\n[dateFormatter setDateFormat:formatString];\nNSString *dateString = [dateFormatter stringFromDate:[NSDate date]];\nNSLog(@\"%@\", dateString);\n</code></pre>\n\n<p>The code above will log the current date with a newline between the weekday and the time, so <code>-stringFromDate:</code> will happily use your format string and keep the newline.</p>\n\n<p><strong>If you <em>do</em> care about locales</strong> but still want the newline, you'll have to either create your own locale-specific date format strings, or call <code>-dateFormatFromTemplate:locale:options:</code> and then insert the newline at the right spot in the result. </p>\n"}], "owner": {"reputation": 69, "user_id": 11150537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1289008cfa836acde1ddf9068e8a8c0d?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/11150537/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551742809, "creation_date": 1551733312, "question_id": 54991485, "link": "https://stackoverflow.com/questions/54991485/how-do-i-format-date-in-objective-c", "title": "How do I format date in objective C?", "body": "<p>I basically have this code right now and I am trying to format by having a new line in between but it doesn't give me a new line. Am I doing it correctly?</p>\n\n<pre><code>NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\nNSLocale *twelveHourLocale = [[NSLocale alloc] initWithLocaleIdentifier:@\"en_DB\"];\ndateFormatter.locale = twoHourLocale;\nformatString = [NSDateFormatter dateFormatFromTemplate:@\"EEEE \\n hh:mm\" options:0 locale:[NSLocale currentLocale]];\n[dateFormatter setDateFormat:formatString];\n</code></pre>\n"}, {"tags": ["objective-c", "nsstring"], "comments": [{"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 1, "creation_date": 1551709269, "post_id": 54985112, "comment_id": 96728013, "body": "Change <code>name = *&quot;World&quot;;</code>  to <code>name = @&quot;World&quot;;</code> and <code>NSString word = @&quot;Hello&quot;;</code>  to <code>NSString *word = @&quot;Hello&quot;;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11104208"}, "edited": false, "score": 1, "creation_date": 1551709698, "post_id": 54985112, "comment_id": 96728298, "body": "There&#39;s also shouldn&#39;t be a comma in between <code>&quot;%@ %@&quot;</code>"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1551709970, "post_id": 54985112, "comment_id": 96728474, "body": "I would recommend to start with <code>C</code> language first to learn the basics."}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 1, "creation_date": 1551712580, "post_id": 54985112, "comment_id": 96730074, "body": "You haven&#39;t asked a specific question here -- please do more than just post code. When you compile this, Xcode gives you a list of errors: what are they, and what do you not understand about what the compiler is telling you?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11104208"}, "is_accepted": true, "score": 0, "last_activity_date": 1551709444, "creation_date": 1551709444, "answer_id": 54985186, "question_id": 54985112, "link": "https://stackoverflow.com/questions/54985112/creating-strings-in-objective-c/54985186#54985186", "title": "Creating Strings in Objective-C", "body": "<p>Yeah, Objective-C has some extra symbol stuff going on when compared to Swift. I recommend reading or watching some tutorials on the basics. Also, repetition always helps when learning. The code below should work for you. Be sure to pay attention to the details. </p>\n\n<pre><code>- (void)viewDidLoad {\n[super viewDidLoad];\n// Do any additional setup after loading the view, typically from a nib.\n\nname = @\"World\";\n\nNSString *word = @\"Hello\";\n\nself.label.text = [NSString stringWithFormat:@\"%@ %@\", word, name];\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 1, "last_activity_date": 1551711285, "last_edit_date": 1551711285, "creation_date": 1551709845, "answer_id": 54985312, "question_id": 54985112, "link": "https://stackoverflow.com/questions/54985112/creating-strings-in-objective-c/54985312#54985312", "title": "Creating Strings in Objective-C", "body": "<p>In Objective-C variables are declared <code>VariableType variableName = Value;</code> for example</p>\n\n<pre><code>NSInteger number = 10;\n</code></pre>\n\n<p>If <code>VariableType</code> is an <strong>object</strong> like <code>NSString</code> you have to add an asterisk and unlike Swift a literal string must start with a leading <code>@</code>.</p>\n\n<pre><code>NSString *name = @\"World\";\nNSString *word = @\"Hello\";\n\nself.label.text = [NSString stringWithFormat:@\"%@ %@\", word, name];\n</code></pre>\n\n<p>You are encouraged to read Apple's language guide <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html#//apple_ref/doc/uid/TP40011210-CH1-SW1\" rel=\"nofollow noreferrer\">Working with Objective-C</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10992525"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54985186, "answer_count": 2, "score": -2, "last_activity_date": 1551742878, "creation_date": 1551709190, "last_edit_date": 1551742878, "question_id": 54985112, "link": "https://stackoverflow.com/questions/54985112/creating-strings-in-objective-c", "title": "Creating Strings in Objective-C", "body": "<p>I originally learned Swift. Now, I am trying to learn Objective-C, but I am having some difficulty. They seem a lot more different than I originally thought. Here, I am simply trying to display \"Hello World\". This is in the .m file.</p>\n\n<pre><code>- (void)viewDidLoad {\n[super viewDidLoad];\n\nname = *\"World\";\n\nNSString word = @\"Hello\";\n\nself.label.text = [NSString stringWithFormat:@\"%@, %@\", word, name];\n\n\n}\n</code></pre>\n\n<p>In my .h file I have: </p>\n\n<pre><code>@interface ViewController : UIViewController {\n\nNSString *name;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ios", "objective-c", "notifications"], "comments": [{"owner": {"reputation": 2171, "user_id": 2553730, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zhW1V.jpg?s=128&g=1", "display_name": "guru", "link": "https://stackoverflow.com/users/2553730/guru"}, "edited": false, "score": 0, "creation_date": 1551709240, "post_id": 54984636, "comment_id": 96727984, "body": "Push notification not work in killed state."}], "answers": [{"tags": [], "owner": {"reputation": 1904, "user_id": 237260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6348bd5f986b67db0cc1bd7b1cb334d3?s=128&d=identicon&r=PG", "display_name": "Defragged", "link": "https://stackoverflow.com/users/237260/defragged"}, "is_accepted": false, "score": 0, "last_activity_date": 1551797518, "creation_date": 1551797518, "answer_id": 55005538, "question_id": 54984636, "link": "https://stackoverflow.com/questions/54984636/ios-silent-push-notification-does-not-receive-when-app-in-killed-state/55005538#55005538", "title": "iOS Silent Push Notification does not receive when app in killed state", "body": "<p>This is intentional. From the <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application\" rel=\"nofollow noreferrer\">documentation</a> for <code>application(_:didReceiveRemoteNotification:fetchCompletionHandler:)</code>:</p>\n\n<blockquote>\n  <p>In addition, if you enabled the remote notifications background mode, the system launches your app (or wakes it from the suspended state) and puts it in the background state when a remote notification arrives. However, <em>the system does not automatically launch your app if the user has force-quit it</em>. In that situation, the user must relaunch your app or restart the device before the system attempts to launch your app automatically again.</p>\n</blockquote>\n\n<p>(emphasis added)</p>\n\n<p>iOS sees the user removing the app from the task-switcher as a signal that they don't want the app to run in the background any more. For that reason, iOS won't re-launch the app in the background until the user explicitly relaunches it.</p>\n"}], "owner": {"reputation": 1, "user_id": 10884865, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DgaLUQx2jVc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca1YyM3L6lso0dQPQpxVaLAn83Prw/mo/photo.jpg?sz=128", "display_name": "Sunita Moond", "link": "https://stackoverflow.com/users/10884865/sunita-moond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 635, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551797518, "creation_date": 1551707292, "question_id": 54984636, "link": "https://stackoverflow.com/questions/54984636/ios-silent-push-notification-does-not-receive-when-app-in-killed-state", "title": "iOS Silent Push Notification does not receive when app in killed state", "body": "<p>I want to show show notification based on some condition when receive silent notification then generate local notification. also enable background mode in xcode and enable remote-notification and background fetch.\nFor silent notification message format like this-</p>\n\n<pre><code>{\n \"message\":{\n   \"token\":\"iosdevicetoken\",\n   \"apns\": {   \n   \"payload\": {\n            \"aps\": {\n                \"content-available\": 1,\n                \"category\": \"GENERAL\",\n                \"priority\": \"high\",\n                \"token\": \"randomkey\",\n                \"customkey\": \"abcs\"\n            }\n        }\n    }\n  }\n}\n</code></pre>\n\n<p>but below delegate method does not called when app in killed state(swipe from background state)</p>\n\n<pre><code>- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "nsstring", "nspredicate"], "comments": [{"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1551706363, "post_id": 54984096, "comment_id": 96726377, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24176605/using-predicate-in-swift\">Using Predicate in Swift</a>"}, {"owner": {"reputation": 837, "user_id": 7204199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PXklC.jpg?s=128&g=1", "display_name": "nikksindia", "link": "https://stackoverflow.com/users/7204199/nikksindia"}, "reply_to_user": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1551706466, "post_id": 54984096, "comment_id": 96726440, "body": "@dahiya_boy: it&#39;s completely different.  have you read my question ?"}, {"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1551706602, "post_id": 54984096, "comment_id": 96726522, "body": "&quot;Milkshake&quot; does contain &quot;milk&quot; so your expected result is wrong."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1551706654, "post_id": 54984096, "comment_id": 96726548, "body": "Have a look at <a href=\"https://stackoverflow.com/a/28116698/1187415\">stackoverflow.com/a/28116698/1187415</a> \u2013 that&#39;s in Objective-C, but shows the idea, and should be easy to translate to Swift."}, {"owner": {"reputation": 837, "user_id": 7204199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PXklC.jpg?s=128&g=1", "display_name": "nikksindia", "link": "https://stackoverflow.com/users/7204199/nikksindia"}, "reply_to_user": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1551706696, "post_id": 54984096, "comment_id": 96726566, "body": "@JoakimDanielson: consider it case-insensitive"}, {"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1551706799, "post_id": 54984096, "comment_id": 96726647, "body": "Yes of course, otherwise your expected result should have been empty. As mentioned in the linked question you need to use MATCHES and regular expressions"}], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 995049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e56f898004ca78b528274af18fede27?s=128&d=identicon&r=PG", "display_name": "Alexey", "link": "https://stackoverflow.com/users/995049/alexey"}, "edited": false, "score": 0, "creation_date": 1587728464, "post_id": 54984642, "comment_id": 108630047, "body": "you saved the day!"}], "tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1551707315, "creation_date": 1551707315, "answer_id": 54984642, "question_id": 54984096, "link": "https://stackoverflow.com/questions/54984096/nspredicate-match-string-by-words/54984642#54984642", "title": "NSPredicate match string by words", "body": "<p>You need a \u201cregular expression search\u201d in order to match against word boundaries, that is done with \"MATCHES\" in a predicate. Here is an example (essentially translated from <a href=\"https://stackoverflow.com/questions/28104948/nspredicate-with-core-data-search-word-with-boundaries-in-string-attribute/28116698#28116698\">NSPredicate with core data, search word with boundaries in string attribute</a> to Swift):</p>\n\n<pre><code>let searchTerm = \"milk\"\nlet pattern = \".*\\\\b\\(NSRegularExpression.escapedPattern(for: searchTerm))\\\\b.*\"\nlet predicate = NSPredicate(format: \"tagName MATCHES[c] %@\", pattern)\n</code></pre>\n\n<p>This searches for all entries where the <code>tagName</code> contains the given search term, surrounded by a \u201cword boundary\u201d (the <code>\\b</code> pattern).</p>\n"}], "owner": {"reputation": 837, "user_id": 7204199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PXklC.jpg?s=128&g=1", "display_name": "nikksindia", "link": "https://stackoverflow.com/users/7204199/nikksindia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 54984642, "answer_count": 1, "score": 2, "last_activity_date": 1551707315, "creation_date": 1551705326, "last_edit_date": 1551706342, "question_id": 54984096, "link": "https://stackoverflow.com/questions/54984096/nspredicate-match-string-by-words", "title": "NSPredicate match string by words", "body": "<p>I have an array of strings as below:</p>\n\n<pre><code>[\"Milk\",\"Milkshake\",\"Milk Shake\",\"MilkCream\",\"Milk-Cream\"]\n</code></pre>\n\n<p>and if I search for \"milk\" then results should be <code>[\"Milk\",\"Milk Shake\",\"Milk-Cream\"]</code> i.e. search by words.</p>\n\n<p>With the predicate as </p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"tagName CONTAINS[c] %@\",containSearchTerm];\n</code></pre>\n\n<p>I am getting all the results from above array. How can I perform match using words ?</p>\n"}, {"tags": ["ios", "objective-c", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551703426, "post_id": 54983281, "comment_id": 96724837, "body": "Your early return is not good. You are freeing memory after that return. It will cause leaks. You should create data and hold it in a variable. Then release the memory."}, {"owner": {"reputation": 674, "user_id": 929380, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7def16bc1b1a11d6c7b7555a2c2a796c?s=128&d=identicon&r=PG", "display_name": "EHorodyski", "link": "https://stackoverflow.com/users/929380/ehorodyski"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551704176, "post_id": 54983281, "comment_id": 96725240, "body": "@MuhammadZohaibEhsan - Do you mind showing me how?"}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 1, "creation_date": 1551705093, "post_id": 54983281, "comment_id": 96725682, "body": "Sorry, I did not read the last part of your question. I think you should use freeWhenDone. If cryptStatus is false you manually release the memory. But if its success freeWhenDone will release the memory for you. In both cases no leaks. As memory is released correctly. For reference <a href=\"https://stackoverflow.com/questions/30326012/difference-between-datawithbytesnocopy-and-datawithbytes\" title=\"difference between datawithbytesnocopy and datawithbytes\">stackoverflow.com/questions/30326012/&hellip;</a>"}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 1, "creation_date": 1551707395, "post_id": 54983281, "comment_id": 96726980, "body": "There is no problem in the code -- the initWithBytesNoCopy: method by default will free when done (i.e. it calls the other method with freeWhenDone:YES), as it takes ownership of the memory.  You only need an explicit free() call when not using that method (i.e. returning nil)."}], "answers": [{"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": true, "score": 0, "last_activity_date": 1551709603, "creation_date": 1551709603, "answer_id": 54985237, "question_id": 54983281, "link": "https://stackoverflow.com/questions/54983281/autoreleasepool-when-extending-nsdata/54985237#54985237", "title": "@autoreleasepool when extending NSData?", "body": "<p>I don't see any issues.</p>\n\n<p>Autoreleasing is only for Objective-C objects.  It basically delays the actual -release call a little bit by putting the object in an autorelease pool, which gets flushed after every iteration of the main run loop, calling -release on every object in the pool.  Objects returned from methods are typically autoreleased, though ARC has a mechanism which can often avoid the overhead of the actual pool by figuring out that the value is only needed by the caller, and can keep track of the reference and just call -release there.  In ARC mode, the compiler figures out for you when autorelease vs release is needed, and does not let you call those methods yourself.</p>\n\n<p>Most of the time, you don't need your own autorelease pools, though if you are doing something in a loop where every iteration can create lots of temporary objects, you may want an autorelease_pool for every loop iteration so that memory does not get built up but rather gets cleaned up each time so the next iteration can re-use that memory.  If you are writing a command-line program or some other tool which does not have its own Objective-C support, then yes you need an autorelease pool around the entry point at least.</p>\n\n<p>C heap memory using malloc/free is outside the autorelease concept (which only pertains to the retain/release mechanism of NSObject).  For every malloc(), you need to eventually call free() on that memory once it is no longer needed, otherwise it's a leak.  The code above is correct -- there is a malloc(), and then either free() is called when returning nil, or the initWithBytesNoCopy: method is called (which is a special method which uses the passed-in bytes as the actual NSData storage, avoiding the overhead of a memory copy and further internal malloc, and will then call free() when the object itself is dealloced).  </p>\n\n<p>initWithBytesNoCopy:length: just calls -initWithBytesNoCopy:length:freeWhenDone: with a YES parameter for freeWhenDone, basically, per its documentation.  You can call the longer method explicitly if you think it makes it more readable (as it does more clearly indicate you were aware of the free behavior), but it will work the same either way.</p>\n\n<p>The NSData encrypt method really doesn't create any objects other than the one you are returning -- all of its code is more straight C code.  So an autorelease pool would not help anything.  The NSString encrypt method does create a few temporary objects, so if the amount of memory being encrypted is substantial, an autorelease pool around that may help if you have subsequent significant work (but be sure to have a strong reference to the object being returned outside the pool scope).  And really, ARC will most likely figure out the temporary nature of most of those objects, and more efficiently deal with them than an autorelease pool anyways.</p>\n\n<p>If you can profile your code using Instruments, you can see the memory usage of your program as it runs, and it would only be places with significant spikes that you would consider using a local autorelease pool.</p>\n"}], "owner": {"reputation": 674, "user_id": 929380, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7def16bc1b1a11d6c7b7555a2c2a796c?s=128&d=identicon&r=PG", "display_name": "EHorodyski", "link": "https://stackoverflow.com/users/929380/ehorodyski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 54985237, "answer_count": 1, "score": 0, "last_activity_date": 1551709603, "creation_date": 1551702462, "question_id": 54983281, "link": "https://stackoverflow.com/questions/54983281/autoreleasepool-when-extending-nsdata", "title": "@autoreleasepool when extending NSData?", "body": "<p>I'm working on a <code>NSData</code> extension that encrypts data with a key, as shown below. I'm not too savvy with Objective-C, but would like to use it for this Cordova plugin, instead of requiring another plugin to bridge Swift files.</p>\n\n<p>I'm curious if I need to do any work to ensure that all clean-up in my methods is happening, so that each time this method is called, there are no leaks. </p>\n\n<p>When extending an <code>NS</code> object, does one need to wrap their methods in <code>@autoreleasepool {}</code>?</p>\n\n<p>This is the method that encrypts data (<code>NSData+AES256Encrypt.m</code>):    </p>\n\n<pre><code>- (NSData *)AES256EncryptWithKey:(NSString *)key {\n    // 'key' should be 32 bytes for AES256, will be null-padded otherwise\n    char keyPtr[kCCKeySizeAES256 + 1]; // room for terminator (unused)\n    bzero(keyPtr, sizeof(keyPtr)); // fill with zeros for padding\n\n    // Get key data\n    [key getCString:keyPtr maxLength:sizeof(keyPtr) encoding:NSUTF8StringEncoding];\n    NSUInteger dataLength = [self length];\n\n    size_t bufferSize = dataLength + kCCBlockSizeAES128;\n    void *buffer = malloc(bufferSize);\n    size_t numBytesEncrypted = 0;\n    CCCryptorStatus cryptStatus = CCCrypt(kCCEncrypt, kCCAlgorithmAES128,\n                                          kCCOptionPKCS7Padding, keyPtr,\n                                          kCCKeySizeAES256, NULL, [self bytes],\n                                          dataLength, buffer, bufferSize, &amp;numBytesEncrypted);\n    if(cryptStatus == kCCSuccess) {\n        return [NSData dataWithBytesNoCopy:buffer length:numBytesEncrypted];\n    }\n    free(buffer);\n    return nil;\n}\n</code></pre>\n\n<p>It is used in conjunction with <code>NSString+AES256Encrypt.m</code>:</p>\n\n<pre><code>- (NSString *)AES256EncryptWithKey:(NSString *)key {\n    NSData *plainData = [self dataUsingEncoding:NSUTF8StringEncoding];\n    NSData *encryptedData = [plainData AES256EncryptWithKey:key];\n    NSString *encryptedString = [encryptedData base64Encoding];\n    return encryptedString;\n}\n</code></pre>\n\n<p>The line that concerns me is <code>free(buffer)</code> used in the first method posted above, called if <code>cryptStatus</code> is false (meaning it failed to encrypt). I also notice that method <code>dataWithBytesNoCopy</code> has a parameter <code>freeWhenDone</code> which: </p>\n\n<ul>\n<li>If YES, the returned object takes ownership of the bytes pointer and frees it on deallocation.</li>\n</ul>\n\n<p>But I'm not sure if it applies to my situation.</p>\n\n<p>Thanks for any and all help.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551701054, "post_id": 54982857, "comment_id": 96723562, "body": "add some additional code"}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551701122, "post_id": 54982857, "comment_id": 96723597, "body": "Hi @Anbu.Karthik You are expecting which part of code"}], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551701419, "post_id": 54982940, "comment_id": 96723767, "body": "I will try this"}, {"owner": {"reputation": 3299, "user_id": 2626237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bGZsE.jpg?s=128&g=1", "display_name": "Syed Qamar Abbas", "link": "https://stackoverflow.com/users/2626237/syed-qamar-abbas"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551701473, "post_id": 54982940, "comment_id": 96723801, "body": "Content Size will not give you accurate solution. You have to calculate TableView height by multiplying numberOfCells to Each cell height."}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551702464, "post_id": 54982940, "comment_id": 96724314, "body": "Actually the subcells also dynamic height"}, {"owner": {"reputation": 3299, "user_id": 2626237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bGZsE.jpg?s=128&g=1", "display_name": "Syed Qamar Abbas", "link": "https://stackoverflow.com/users/2626237/syed-qamar-abbas"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551702663, "post_id": 54982940, "comment_id": 96724424, "body": "Then you have to calculate each cells height with respect to their content and then assign it to your tableView."}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551702877, "post_id": 54982940, "comment_id": 96724560, "body": "Ok that wil be fine"}, {"owner": {"reputation": 3299, "user_id": 2626237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bGZsE.jpg?s=128&g=1", "display_name": "Syed Qamar Abbas", "link": "https://stackoverflow.com/users/2626237/syed-qamar-abbas"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1551702904, "post_id": 54982940, "comment_id": 96724579, "body": "I have update my answer you may get a way to handle this situation."}], "tags": [], "owner": {"reputation": 3299, "user_id": 2626237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bGZsE.jpg?s=128&g=1", "display_name": "Syed Qamar Abbas", "link": "https://stackoverflow.com/users/2626237/syed-qamar-abbas"}, "is_accepted": true, "score": 0, "last_activity_date": 1551702877, "last_edit_date": 1551702877, "creation_date": 1551701261, "answer_id": 54982940, "question_id": 54982857, "link": "https://stackoverflow.com/questions/54982857/add-uitableview-inside-uitableviewcell-with-automatic-height/54982940#54982940", "title": "Add UITableView inside UITableViewCell with automatic height", "body": "<p>in your <code>InnerCellModel</code> make a method.</p>\n\n<pre><code>-(CGFloat)cellHeight {\n    CGFloat height = [self makeSomeMethodToCalculateHeightOfText:self.title withFont: yourLabelFont, andWidth: yourLabelWidth];\n    height += someMarginIfAvailable;\n    return height;\n}\n</code></pre>\n\n<p>then iterate your array and add height of each index in a single variable and then assign it to your <code>innerTableViewHeightConstraint</code>.</p>\n\n<p>Set some Height Constraint to your inner <code>UITableView</code> and then in the <code>cellForRowAt indexPath</code> after <code>[innerTableView reload]</code> and then set </p>\n\n<pre><code>innerTableViewHeightConstraint.constant = innerTableView.contentSize.height;\n// Or You can even calculate your inner height and then set it to your tableView.\ninnerTableViewHeightConstraint.constant = numberOfCells * innerCellHeight;\n[cell layoutIfNeeded];\n</code></pre>\n\n<blockquote>\n  <p>P.S: Your Cell height must be UITableViewAutomaticDimension;\n  Inner TableView Must have Top, Left, Right, Bottom and Height Constraints as well.</p>\n</blockquote>\n"}], "owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54982940, "answer_count": 1, "score": -3, "last_activity_date": 1551702877, "creation_date": 1551700946, "question_id": 54982857, "link": "https://stackoverflow.com/questions/54982857/add-uitableview-inside-uitableviewcell-with-automatic-height", "title": "Add UITableView inside UITableViewCell with automatic height", "body": "<p>I want to display UITableView inside a UITableViewCell. The table view inside the table view cell may have a random count of the cell so the cell height should be table view content size height </p>\n\n<p>I added constraints and here is my height for a row at index path</p>\n\n<pre><code>-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return UITableViewAutomaticDimension;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ffmpeg"], "answers": [{"tags": [], "owner": {"reputation": 1374, "user_id": 6385870, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WcPaBJ4dA7E/AAAAAAAAAAI/AAAAAAAAACU/GqGqqqVbT9E/photo.jpg?sz=128", "display_name": "the kamilz", "link": "https://stackoverflow.com/users/6385870/the-kamilz"}, "is_accepted": false, "score": 2, "last_activity_date": 1551782662, "creation_date": 1551782662, "answer_id": 55000939, "question_id": 54982239, "link": "https://stackoverflow.com/questions/54982239/ffmpeg-ios-get-uiimage-from-avframe/55000939#55000939", "title": "FFmpeg iOS Get UIImage from AVFrame", "body": "<p>You should know about pixel formats like rgb and yuv. Videos almost always uses yuv formats like yuv420p. Then study AVFrame structure, here some info:</p>\n\n<p><code>AVFormat.format</code> : Current frame's pixel format i.e. <code>AV_PIX_FMT_YUV420P</code><br>\n<code>AVFormat.width</code>  : Horizontal length of current frame (hence width) unit: pixels<br>\n<code>AVFormat.height</code> : Vertical length of current frame (hence height) unit: pixels  </p>\n\n<p>Now where is the actual frame buffer you might ask, it is in <code>AVFormat.data[n]</code>\nn can be 0-3. Depending on the format, just first one may contain whole frame or all 4 of them. I.e. yuv420p uses 0, 1, and 2. Their linesizes (aka strides) can be obtained reading corresponding <code>AVFormat.linesize[n]</code> value.\nAs for yuv420p:<br>\n<code>data[0]</code> is Y plane<br>\n<code>data[1]</code> is U plane<br>\n<code>data[2]</code> is V plane<br>\nIf you multiply <code>linesize[0]</code> with <code>AVFrame.height</code>, you'll get size of that plane (Y) as number of bytes.</p>\n\n<p>I don't know about UIImage structure (or whatever it is), if it requeris a specific format like RGB, you need to convert your AVFrame to that format using <code>swscale</code>.\nHere some examples: <a href=\"https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/scaling_video.c\" rel=\"nofollow noreferrer\">https://github.com/FFmpeg/FFmpeg/blob/master/doc/examples/scaling_video.c</a></p>\n\n<p>In libav (ffmpeg) scaling (resizing) and pixel format conversion are done via same function.</p>\n\n<p>Hope these helps.</p>\n"}], "owner": {"reputation": 31, "user_id": 11066743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be34476591b28834b8de0ca68ec2a318?s=128&d=identicon&r=PG&f=1", "display_name": "je42", "link": "https://stackoverflow.com/users/11066743/je42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551782662, "creation_date": 1551698589, "question_id": 54982239, "link": "https://stackoverflow.com/questions/54982239/ffmpeg-ios-get-uiimage-from-avframe", "title": "FFmpeg iOS Get UIImage from AVFrame", "body": "<p>I am having trouble getting a UIImage out of the frames I am reading into my iOS FFmpeg project. I need to be able to read a frame in, and then convert this to a UIImage in order to display the frame in a UIImageView. My code appears to be reading in the frames, but I am lost as to how to convert them as there is little documentation on how to do this. Can anyone help?</p>\n\n<pre><code>while (!finished) {\n    if (av_read_frame(_formatContext, &amp;packet) &gt;= 0) {\n        if (packet.stream_index == _videoStream) {\n            int ret = avcodec_send_packet(_codecContext, &amp;packet);\n            if (ret &lt; 0 || ret == AVERROR(EAGAIN) || ret == AVERROR_EOF) {\n                printf(\"av_codec_send_packet error \");\n            }\n            while (ret &gt;= 0) {\n                ret = avcodec_receive_frame(_codecContext, _frame);\n                if (ret == AVERROR(EAGAIN) || ret == AVERROR_EOF) {\n                    printf(\"avcodec_receive_frame error \");\n                }\n\n\n\n                finished = true;\n            }\n        }\n        av_packet_unref(&amp;packet);\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "exc-bad-access"], "comments": [{"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 1, "creation_date": 1551698886, "post_id": 54982208, "comment_id": 96722459, "body": "Hi, did you checked the value of pixelBuffer while you are passing it to CFRetain(pixelBuffer)."}, {"owner": {"reputation": 43, "user_id": 11124487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fj9puBF4Z_g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcr1yB5wYVsnC_rGO7V0eAx37jg/mo/photo.jpg?sz=128", "display_name": "user11124487", "link": "https://stackoverflow.com/users/11124487/user11124487"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551700250, "post_id": 54982208, "comment_id": 96723163, "body": "@MuhammadZohaibEhsan Thanks. I cannot see its preview in this situation."}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551702061, "post_id": 54982208, "comment_id": 96724086, "body": "The documentation says CFRetain requires a non-null value. You are passing a null value which causes a runtime error. The code you showed does not update the value of pixelBuffer anywhere. So most likely it&#39;s null and causing the crash."}, {"owner": {"reputation": 43, "user_id": 11124487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fj9puBF4Z_g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcr1yB5wYVsnC_rGO7V0eAx37jg/mo/photo.jpg?sz=128", "display_name": "user11124487", "link": "https://stackoverflow.com/users/11124487/user11124487"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551702331, "post_id": 54982208, "comment_id": 96724228, "body": "@MuhammadZohaibEhsan I don&#39;t know why it is null, I think the object is released. but why it is released in dispatch way but not without it."}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551702406, "post_id": 54982208, "comment_id": 96724276, "body": "can you show the code where are you setting pixelBuffer?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551703336, "post_id": 54982208, "comment_id": 96724793, "body": "So is <code>captureOutput</code> called on a background thread?"}, {"owner": {"reputation": 43, "user_id": 11124487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fj9puBF4Z_g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcr1yB5wYVsnC_rGO7V0eAx37jg/mo/photo.jpg?sz=128", "display_name": "user11124487", "link": "https://stackoverflow.com/users/11124487/user11124487"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551703459, "post_id": 54982208, "comment_id": 96724846, "body": "@matt Yes the codes I write in it should be run in background."}, {"owner": {"reputation": 43, "user_id": 11124487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fj9puBF4Z_g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcr1yB5wYVsnC_rGO7V0eAx37jg/mo/photo.jpg?sz=128", "display_name": "user11124487", "link": "https://stackoverflow.com/users/11124487/user11124487"}, "reply_to_user": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551703648, "post_id": 54982208, "comment_id": 96724949, "body": "@MuhammadZohaibEhsan I added that line to the codes."}, {"owner": {"reputation": 931, "user_id": 4283799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/252156288c92315e179e1b82fcd0bf17?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Zohaib Ehsan", "link": "https://stackoverflow.com/users/4283799/muhammad-zohaib-ehsan"}, "edited": false, "score": 0, "creation_date": 1551703829, "post_id": 54982208, "comment_id": 96725049, "body": "Can you check and verify that pixelBuffer has a valid value when you are passing to the function?"}], "answers": [{"tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": true, "score": 4, "last_activity_date": 1551706606, "creation_date": 1551706606, "answer_id": 54984439, "question_id": 54982208, "link": "https://stackoverflow.com/questions/54982208/exc-bad-access-when-passing-a-parameter-in-dispatch-async-in-objective-c/54984439#54984439", "title": "EXC_BAD_ACCESS when passing a parameter in dispatch_async in objective-C", "body": "<p>The <code>CVImageBufferRef</code> returned by <a href=\"https://developer.apple.com/documentation/coremedia/1489236-cmsamplebuffergetimagebuffer?language=objc\" rel=\"nofollow noreferrer\"><code>CMSampleBufferGetImageBuffer()</code></a> isn't an object, it's just a C structure, so it won't participate in reference counting. If you're going to pass it into a block that runs asynchronously, you need to ensure that that data remains valid. Notice that the documentation tells you specifically:</p>\n\n<blockquote>\n  <p><em>The caller does not own the returned buffer, and must retain it explicitly if the caller needs to maintain a reference to it.</em></p>\n</blockquote>\n\n<p>I haven't dug too far into it, but given the data type that probably means that you need to call <a href=\"https://developer.apple.com/documentation/corevideo/1535810-cvbufferretain?language=objc\" rel=\"nofollow noreferrer\"><code>CVBufferRetain()</code></a> on <code>pixelBuffer</code> (and then <code>CVBufferRelease()</code> when you're done with it).</p>\n"}], "owner": {"reputation": 43, "user_id": 11124487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fj9puBF4Z_g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcr1yB5wYVsnC_rGO7V0eAx37jg/mo/photo.jpg?sz=128", "display_name": "user11124487", "link": "https://stackoverflow.com/users/11124487/user11124487"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 54984439, "answer_count": 1, "score": 2, "last_activity_date": 1551707004, "creation_date": 1551698492, "last_edit_date": 1551703568, "question_id": 54982208, "link": "https://stackoverflow.com/questions/54982208/exc-bad-access-when-passing-a-parameter-in-dispatch-async-in-objective-c", "title": "EXC_BAD_ACCESS when passing a parameter in dispatch_async in objective-C", "body": "<p>I pass a variable to another method. when accessing this property app crashes with EXC_BAD_ACCESS error.</p>\n\n<pre><code>   in class1: \n  CVPixelBufferRef pixelBuffer;\n  @implementation class1\n     - (void)captureOutput:(AVCaptureOutput *)output didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection *)connection {\n        pixelBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);\n        dispatch_async( dispatch_get_main_queue(), ^{\n           predictions = [dTFG runX:pixelBuffer orientation: UIDeviceOrientationPortrait CardRect: _vwRect];\n\n       }\n     }\n   } \n\n    in class2:\n    - (NSArray*) runX:(CVPixelBufferRef) pixelBuffer orientation: (UIDeviceOrientation) orientation CardRect:(CGRect) CardRect {\n       CFRetain(pixelBuffer);  // Error: Thread 1: EXC_BAD_ACCESS (code=1, address=0x800000060)\n    }\n</code></pre>\n\n<blockquote>\n  <p>Thread 1: EXC_BAD_ACCESS (code=1, address=0x800000060)</p>\n</blockquote>\n\n<p>When I commented  dispatch_async, crash not happened.</p>\n\n<p>According to another answer, this error is (probably) because of released object. but why is it released in this situation but without dispatch_async, it is not released.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "react-native", "stack-trace"], "comments": [{"owner": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1551696104, "post_id": 54981368, "comment_id": 96720977, "body": "<a href=\"https://developer.apple.com/library/archive/technotes/tn2151/_index.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/technotes/tn2151/&hellip;</a>"}, {"owner": {"reputation": 146, "user_id": 10758374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ehr8Wl8F22I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j-37597K1AJ7SoOmX2GAo13dJ2UQ/mo/photo.jpg?sz=128", "display_name": "AfnanAhmad", "link": "https://stackoverflow.com/users/10758374/afnanahmad"}, "edited": false, "score": 0, "creation_date": 1551699054, "post_id": 54981368, "comment_id": 96722543, "body": "<a href=\"https://stackoverflow.com/a/30431450/10758374\">stackoverflow.com/a/30431450/10758374</a>"}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 3, "last_activity_date": 1551695956, "creation_date": 1551695956, "answer_id": 54981476, "question_id": 54981368, "link": "https://stackoverflow.com/questions/54981368/how-to-read-this-ios-stacktrace/54981476#54981476", "title": "How to read this iOS stacktrace?", "body": "<p>See <a href=\"https://developer.apple.com/library/archive/technotes/tn2151/_index.html\" rel=\"nofollow noreferrer\">TN2141: Understanding and Analyzing Application Crash Reports</a>, which says: </p>\n\n<blockquote>\n  <p>The exception code <code>0x8badf00d</code> indicates that an application has been terminated by iOS because a watchdog timeout occurred. The application took too long to launch, terminate, or respond to system events. ... Whatever operation is on Thread 0 needs to be moved to a background thread, or processed differently, so that it does not block the main thread.</p>\n</blockquote>\n\n<p>Are you doing anything that could be blocking the main thread for any prolonged period of time?</p>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 12970517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WELzX.png?s=128&g=1", "display_name": "JackDao", "link": "https://stackoverflow.com/users/12970517/jackdao"}, "is_accepted": false, "score": 1, "last_activity_date": 1582777703, "creation_date": 1582777703, "answer_id": 60426253, "question_id": 54981368, "link": "https://stackoverflow.com/questions/54981368/how-to-read-this-ios-stacktrace/60426253#60426253", "title": "How to read this iOS stacktrace?", "body": "<p>Have you add Privacy - Location in info.plist?</p>\n\n<p>Something like that.</p>\n\n<pre><code>&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;\n&lt;string&gt;Why you need track location?&lt;/string&gt;\n&lt;key&gt;NSLocationAlwaysAndWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;Why you need track location?&lt;/string&gt;\n&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;Why you need track location?&lt;/string&gt;\n</code></pre>\n\n<p>And I see you work with background geolocation tracking. Have you turn on Background Modes in Capabilities?</p>\n\n<p>If not just add Privacy turn on Background Modes and try again.</p>\n"}], "owner": {"reputation": 1468, "user_id": 5855648, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cfb660c5ef545de257dfa7f35032146?s=128&d=identicon&r=PG&f=1", "display_name": "Luke Tan", "link": "https://stackoverflow.com/users/5855648/luke-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1619, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1582777703, "creation_date": 1551695588, "question_id": 54981368, "link": "https://stackoverflow.com/questions/54981368/how-to-read-this-ios-stacktrace", "title": "How to read this iOS stacktrace?", "body": "<p>I usually develop in higher level languages like Javascript and Python , so I am not that experienced when it comes to reading lower level stack traces. I am building an iOS app with React Native and my app sometimes unexpectedly crashes. Reading the crash log this is what I get:</p>\n\n<pre><code>Incident Identifier: B03D5F95-EFD1-4FEB-AE18-C8EFEF273E53\nCrashReporter Key:   6049c1cc93a2e0163265631aa6cc2fd30a1af6e7\nHardware Model:      iPhone7,2\nProcess:             MyApp [24268]\nPath:                /private/var/containers/Bundle/Application/99B2B9A1-D266-4222-A083-84C4CFFCE182/MyApp.app/MyApp\nIdentifier:          org.mycompany.MyApp\nVersion:             1 (1.0)\nCode Type:           ARM-64 (Native)\nRole:                Non UI\nParent Process:      launchd [1]\nCoalition:           org.mycompany.MyApp [3119]\n\n\nDate/Time:           2019-03-04 14:20:18.4924 +0800\nLaunch Time:         2019-03-04 14:09:15.2536 +0800\nOS Version:          iPhone OS 11.0.3 (15A432)\nBaseband Version:    6.17.00\nReport Version:      104\n\nException Type:  EXC_CRASH (SIGKILL)\nException Codes: 0x0000000000000000, 0x0000000000000000\nException Note:  EXC_CORPSE_NOTIFY\nTermination Reason: Namespace &lt;0xF&gt;, Code 0x8badf00d\nTriggered by Thread:  0\n\nFiltered syslog:\nNone found\n\nThread 0 name:  Dispatch queue: com.apple.main-thread\nThread 0 Crashed:\n0   libsystem_kernel.dylib          0x0000000180a60bc4 mach_msg_trap + 8\n1   libsystem_kernel.dylib          0x0000000180a60a3c mach_msg + 72\n2   BackBoardServices               0x00000001835d0de0 _BKSHIDGetCurrentDisplayBrightness + 112\n3   BackBoardServices               0x00000001835de9cc BKSDisplayBrightnessGetCurrent + 32\n4   FrontBoardServices              0x00000001835fffc0 -[FBSUIApplicationSystemService currentBacklightLevel] + 12\n5   UIKit                           0x000000018a8a3d44 -[UIDevice _backlightLevel] + 44\n6   UIKit                           0x000000018a8aced4 -[UIScreen _postBrightnessDidChangeNotificationIfAppropriate] + 168\n7   CoreFoundation                  0x0000000180efa12c __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20\n8   CoreFoundation                  0x0000000180efa090 ___CFXRegistrationPost_block_invoke + 64\n9   CoreFoundation                  0x0000000180f1016c __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 20\n10  CoreFoundation                  0x0000000180f0fa3c __CFRunLoopDoBlocks + 288\n11  CoreFoundation                  0x0000000180f0dca4 __CFRunLoopRun + 2436\n12  CoreFoundation                  0x0000000180e2e2d8 CFRunLoopRunSpecific + 436\n13  GraphicsServices                0x0000000182cbff84 GSEventRunModal + 100\n14  UIKit                           0x000000018a3db880 UIApplicationMain + 208\n15  MyApp                           0x00000001005833d4 main + 29652 (main.m:14)\n16  libdyld.dylib                   0x000000018095256c start + 4\n</code></pre>\n\n<p>How/where do I begin reading thsi crash log? I believe it has something to do with <code>mach_msg_trap</code> but I haven't been able to find anything about it. For some context, my app is an app which tracks the users Geolocation with background geolocation tracking. I am unable to figure out what causes the crash.</p>\n"}, {"tags": ["objective-c", "protocol-buffers", "automatic-ref-counting", "objective-c-2.0", "manual-retain-release"], "owner": {"reputation": 4472, "user_id": 3667264, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/woXWA.jpg?s=128&g=1", "display_name": "Richard Topchii", "link": "https://stackoverflow.com/users/3667264/richard-topchii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551694739, "creation_date": 1551694739, "question_id": 54981114, "link": "https://stackoverflow.com/questions/54981114/protobuf-missing-list-suffix-in-objective-c-generated-code", "title": "Protobuf missing &#39;list&#39; suffix in Objective-C generated code", "body": "<p>I'm using protobuf 2.6.1 with <a href=\"https://github.com/minyushov/Protobuf-ObjC\" rel=\"nofollow noreferrer\">this plugin</a> which I compiled myself.</p>\n\n<p>In the project I'm working with Protobuf models are already present. I tried to regenerate the files using the following command:</p>\n\n<p>protoc --plugin=/path/to/the/compiled/plugin/objc-gen --objc_out=./gen/  NAME.proto OF.proto THE.proto FILES.proto</p>\n\n<p>Generally, the files match closely with the previously generated models, however, there are some syntactic differences.</p>\n\n<p>The following .proto string:</p>\n\n<pre><code>repeated MyType case = 4;\n</code></pre>\n\n<p>is translated to this line in Obj-C (New plugin, with ARC):</p>\n\n<pre><code>@property (readonly, strong) NSArray * case;\n</code></pre>\n\n<p>And it used to be with the <code>List</code> suffix (Old plugin, non-ARC, doesn't work with the current version of macOS):</p>\n\n<pre><code>- (NSArray*) caseList;\n</code></pre>\n\n<p>Given that <code>case</code> is a keyword in Objective-C, this triggers compilation errors.</p>\n\n<p>Questions:</p>\n\n<ol>\n<li><p><strong>Since what version Protobuf changed syntax to omit <code>List</code> suffix?</strong></p></li>\n<li><p><strong>Is it possible to trigger \"old\" behavior with a new plugin?</strong></p></li>\n<li><p><strong>What is the last version of plugin that runs on macOS 10.14.3 and\nable to generate the files with old style (i.e. with the <code>list</code>\nsuffix)?</strong></p></li>\n</ol>\n"}, {"tags": ["objective-c", "applescript", "alias", "osx-elcapitan", "macos-mojave"], "owner": {"reputation": 2634, "user_id": 833440, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/6kT0S.jpg?s=128&g=1", "display_name": "Abbas", "link": "https://stackoverflow.com/users/833440/abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551938286, "creation_date": 1551689123, "last_edit_date": 1551698170, "question_id": 54979553, "link": "https://stackoverflow.com/questions/54979553/applescript-not-setting-icon-image-el-capitan", "title": "applescript not setting icon image (El Capitan)", "body": "<p>This question is a continuation to <a href=\"https://stackoverflow.com/questions/54898756/how-to-change-icon-of-alias-created-using-applescript\">How to change icon of alias created using applescript?</a></p>\n\n<p>the solution provided works for High Sierra but isn't working for El Capitan. The icon is not being set for the alias. Is there any changes needed to make it work for El Capitan as well ?</p>\n\n<p>If yes, can someone please provide the code snippet.</p>\n\n<p>I am a complete novice when it comes to applescript, so I have no idea why this isn't working.</p>\n\n<p>This is my code</p>\n\n<pre><code>use framework \"Foundation\"\nuse scripting additions\nset ideContentsPath to \".../IDE/WebOSIDE.app/Contents\" -- path of Contents folder which i replace at runtime from my java program\nset ideExec to ideContentsPath &amp; \"/MacOS/WebOSIDE\"\nset sourceFile to (POSIX file ideExec)\ntell application \"Finder\"\n  set newAlias to (make new alias file at desktop to sourceFile) as alias\n  set iconPath to ideContentsPath &amp; \"/Resources/WebOSIDE.icns\" \n  my setIcon(newAlias,iconPath)\n  set name of newAlias to \"My Shortcut\"\n  duplicate newAlias to folder \"my Dir\" of folder \"Applications\" of startup disk\nend tell\nto setIcon(fileRef,iconPath)\n  set iconImage to current application's NSImage's alloc's initWithContentsOfFile:iconPath\n  current application's NSWorkspace's sharedWorkspace's setIcon:iconImage forFile:(POSIX path of fileRef) options:0\nend setIcon\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "avassetwriter"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1551682189, "post_id": 54977817, "comment_id": 96714397, "body": "&quot;I am trying to record audio...&quot;  For what or what&#39;s the audio source?  Microphones?  Why are you using <code>AVAssetWrite</code>?"}, {"owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1551685116, "post_id": 54977817, "comment_id": 96715465, "body": "My bad. I should mention the audio source. I am casting screen and audio from one phone to another and audio is received through airplay"}], "owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551683516, "creation_date": 1551681564, "last_edit_date": 1551683516, "question_id": 54977817, "link": "https://stackoverflow.com/questions/54977817/audio-is-not-being-recorded-using-avassetwrite", "title": "Audio is not being recorded using AVAssetWrite", "body": "<p>I am trying to record audio in a file for 14 days. I am getting audio data in PCM format through screen mirroring in which audio is received and from this I am converting it to <code>CMSampleBuffer</code> using this code </p>\n\n<pre><code>-(void)createAudioSampleBufferFromData:(uint8_t*)buf withSize:(uint32_t)buflen timeStamp:(double)timeStamp{\n    OSStatus status;\n    AudioStreamBasicDescription monoStreamFormat;\n\n    memset(&amp;monoStreamFormat, 0, sizeof(monoStreamFormat));\n    monoStreamFormat.mFormatID         = kAudioFormatLinearPCM;\n    monoStreamFormat.mSampleRate       = 44100;\n    monoStreamFormat.mChannelsPerFrame = 2;\n    monoStreamFormat.mBitsPerChannel   = 16;\n    monoStreamFormat.mFramesPerPacket  = 1;  // uncompressed audio\n    monoStreamFormat.mBytesPerFrame    =monoStreamFormat.mChannelsPerFrame * monoStreamFormat.mBitsPerChannel/8;\n    monoStreamFormat.mBytesPerPacket   = monoStreamFormat.mBytesPerFrame * monoStreamFormat.mFramesPerPacket;\n    monoStreamFormat.mFormatFlags      = kLinearPCMFormatFlagIsSignedInteger | kLinearPCMFormatFlagIsPacked;\n\n    CMFormatDescriptionRef format = NULL;\n    status = CMAudioFormatDescriptionCreate(kCFAllocatorDefault, &amp;monoStreamFormat, 0, NULL, 0, NULL, NULL, &amp;format);\n    if (status != noErr) {\n        // really shouldn't happen\n        return;\n    }\n\n    long blockLength = buflen;\n\n    CMSampleBufferRef sampleBuffer = NULL;\n    CMBlockBufferRef blockBuffer = NULL;\n\n    status = CMBlockBufferCreateWithMemoryBlock(kCFAllocatorDefault, buf,  // memoryBlock to hold buffered data\n                                            blockLength,  // block length of the mem block in bytes.\n                                            kCFAllocatorDefault, NULL,\n                                            0, // offsetToData\n                                            blockLength,   // dataLength of relevant bytes, starting at offsetToData\n                                            0, &amp;blockBuffer);\n\n\n    if(status == noErr)\n    {\n\n        CMSampleTimingInfo timings = {CMTimeMake(1, 44100.0), CMClockGetTime(CMClockGetHostTimeClock()), kCMTimeInvalid };\n\n        const size_t sampleSize = blockLength;\n        status = CMSampleBufferCreate(kCFAllocatorDefault,\n                                  NULL, true, NULL, NULL,\n                                  format, 1, 0, &amp;timings, 1,\n                                  &amp;sampleSize, &amp;sampleBuffer);\n         CMItemCount itemCount = CMSampleBufferGetNumSamples(sampleBuffer);\n\n        [self notifyAudioBufferReceived:sampleBuffer];\n//        if(blockBuffer)\n//            CFRelease(blockBuffer);\n\n    }\n}\n</code></pre>\n\n<p>And in following method this <code>CMSampleBuffers</code> are receiving:</p>\n\n<pre><code>- (void)airPlayServer:(id)server audioBufferReceived:(CMSampleBufferRef)buffer {\n    if(recordingStarted){\n        [decoderAndRecorder.recorder newAudioSample:buffer];\n    }\n//    CFRelease(buffer);\n}\n</code></pre>\n\n<p>from here these buffers go to AVAssetWriter class where I am appending these buffer to record audio into file. AVAssetWriter class is following:</p>\n\n<pre><code>- (instancetype)init\n{\n    self = [super init];\n    if (self) {\n        // Create asset writer\n\n        dateString = [self dateInString];\n\n        NSString *documents = [NSSearchPathForDirectoriesInDomains (NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex: 0];\n        filePath = [documents stringByAppendingPathComponent:[NSString stringWithFormat:@\"screen recording - %@.caf\",dateString]];\n\n        if ([[NSFileManager defaultManager] fileExistsAtPath:filePath]) {\n            [[NSFileManager defaultManager] removeItemAtPath:filePath\n                                                   error:nil];\n        }\n\n    NSLog(@\"%@\", filePath);\n        NSError *error = nil;\n\n    _assetWriter = [[AVAssetWriter alloc] initWithURL:[NSURL fileURLWithPath:filePath]\n                                             fileType:AVFileTypeCoreAudioFormat\n                                                error:&amp;error];\n\n        AudioChannelLayout acl;\n        memset(&amp;acl,0, sizeof(acl));\n        acl.mChannelLayoutTag = kAudioChannelLayoutTag_Mono;\n\n        NSDictionary* audioOutputSettings = nil;\n\n        audioOutputSettings = [ NSDictionary dictionaryWithObjectsAndKeys:\n                              [ NSNumber numberWithInt: kAudioFormatLinearPCM ], AVFormatIDKey,\n                              [ NSNumber numberWithFloat: 44100.0 ], AVSampleRateKey,\n                              [ NSNumber numberWithInt: 1 ], AVNumberOfChannelsKey,\n                              [ NSData dataWithBytes: &amp;acl length: sizeof( acl ) ], AVChannelLayoutKey,\n                              [ NSNumber numberWithInt: 16 ], AVLinearPCMBitDepthKey,\n                              [NSNumber numberWithBool:NO], AVLinearPCMIsNonInterleaved,\n                              [NSNumber numberWithBool:NO], AVLinearPCMIsFloatKey,\n                              [NSNumber numberWithBool:NO], AVLinearPCMIsBigEndianKey,\n                               nil ];\n\n\n        _audioWriterInput = [[AVAssetWriterInput alloc]\n                              initWithMediaType: AVMediaTypeAudio\n                              outputSettings: audioOutputSettings ];\n\n        _audioWriterInput.expectsMediaDataInRealTime = YES;\n        NSParameterAssert(_audioWriterInput);\n        NSParameterAssert([_assetWriter canAddInput:_audioWriterInput]);\n        [_assetWriter addInput:_audioWriterInput];          \n    }\n\n}\nreturn self;\n}\n\n-(void)startSession{\n    //This is vedio recorder code\n    _isStarted =[_assetWriter startWriting];\n    if(_isStarted)\n    {\n        NSLog(@\"======== Session started\");\n        [_assetWriter startSessionAtSourceTime:_startingTime];\n    }\n    else {\n        NSLog(@\"======== Session failed : %@\", _assetWriter.error);\n    }\n}\n\n-(void)endSession\n{\n    _isStarted = NO;\n\n    [_audioWriterInput markAsFinished];\n    [_assetWriter finishWritingWithCompletionHandler:^{\n        NSLog(@\"====== File Save Successfully =======\");\n\n    }];\n}\n\n- (void)newAudioSample:(CMSampleBufferRef)sampleBuffer\n{\n    if (_isStarted) {\n        if (_videoWriter.status == AVAssetWriterStatusWriting) {\n//            if(_audioWriterInput.readyForMoreMediaData){\n            //NSLog(@\"Warning: writer status is %d\", _videoWriter.status)\n\n                if(sampleBuffer){\n                    if (![_audioWriterInput appendSampleBuffer:sampleBuffer]) {\n                        NSLog(@\"Unable to write to audio input\");\n                    }else{\n                        NSLog(@\"====Audio is being recorded===\");\n                    }\n\n                }\n\n//            }\n        }else if(_videoWriter.status == AVAssetWriterStatusFailed){\n            NSLog(@\"&lt;----- Appending failed -----&gt;\");\n            NSLog(@\"Error: %@\", _videoWriter.error);\n\n        }\n    }\n}\n</code></pre>\n\n<p>That's all. File is created but with zero bytes. No data is written in it. Please help with with this problem.</p>\n"}, {"tags": ["objective-c", "cocoa"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551636559, "post_id": 54971970, "comment_id": 96703352, "body": "So what&#39;s your question? &quot;So what is the purpose of the official documentation then&quot; is not a real programming question; it&#39;s just a complaint. If you don&#39;t like the docs, file a bug report with Apple. Do you have a real programming problem that you can&#39;t solve? I can&#39;t believe you don&#39;t know how to stop <code>prepareLayout</code> from doing a time-consuming operation on every scroll, if that&#39;s what&#39;s happening."}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "edited": false, "score": 0, "creation_date": 1551636730, "post_id": 54971970, "comment_id": 96703425, "body": "It shouldn&#39;t do that unless you invalidate it somehow. Please post some code you have."}, {"owner": {"reputation": 73, "user_id": 6133012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dd735fc8ecfd74fc9e43ec3c386193?s=128&d=identicon&r=PG&f=1", "display_name": "tupos", "link": "https://stackoverflow.com/users/6133012/tupos"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551636867, "post_id": 54971970, "comment_id": 96703468, "body": "@matt Of course I changed back, such that I do not recalculate the cached values all the time. My question was not a complain, but rather the opinion of others, when do the cache values should be computed."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551641136, "post_id": 54971970, "comment_id": 96704803, "body": "As the docs say, the cache values should be computed &quot;when your app invalidates the layout.&quot; What the docs may not make quite clear at that point is that that will be every time the bounds change unless you intervene. So I do hope you&#39;ll still file a bug report on the docs if you find them misleading / inadequate."}, {"owner": {"reputation": 73, "user_id": 6133012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dd735fc8ecfd74fc9e43ec3c386193?s=128&d=identicon&r=PG&f=1", "display_name": "tupos", "link": "https://stackoverflow.com/users/6133012/tupos"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551642859, "post_id": 54971970, "comment_id": 96705363, "body": "@matt Yes I will do it."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6133012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dd735fc8ecfd74fc9e43ec3c386193?s=128&d=identicon&r=PG&f=1", "display_name": "tupos", "link": "https://stackoverflow.com/users/6133012/tupos"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1551637806, "post_id": 54972163, "comment_id": 96703782, "body": "@matt Can you please clarify?"}], "tags": [], "owner": {"reputation": 73, "user_id": 6133012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dd735fc8ecfd74fc9e43ec3c386193?s=128&d=identicon&r=PG&f=1", "display_name": "tupos", "link": "https://stackoverflow.com/users/6133012/tupos"}, "is_accepted": false, "score": 0, "last_activity_date": 1551637558, "last_edit_date": 1551637558, "creation_date": 1551637243, "answer_id": 54972163, "question_id": 54971970, "link": "https://stackoverflow.com/questions/54971970/preparelayout-method-of-nscollcectionviewlayout/54972163#54972163", "title": "prepareLayout method of NSCollcectionViewLayout", "body": "<p>So this was my bad. Apparently if </p>\n\n<pre><code>- (BOOL)shouldInvalidateLayoutForBoundsChange:(NSRect)newBounds;\n</code></pre>\n\n<p>returns YES. Then this method is called. I just changed that this method returns NO and the method <code>prepareLayout</code> has been stopped called all the time.</p>\n"}, {"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1551637826, "creation_date": 1551637826, "answer_id": 54972258, "question_id": 54971970, "link": "https://stackoverflow.com/questions/54971970/preparelayout-method-of-nscollcectionviewlayout/54972258#54972258", "title": "prepareLayout method of NSCollcectionViewLayout", "body": "<p>The usual thing, if you don't want <code>prepare</code> called every time there is a scroll event, is to keep a CGSize instance property and implement <code>shouldInvalidateLayout</code> so that it returns YES only if the new bounds size is different from the stored CGSize property value.</p>\n\n<p>Here's a Swift example, but I'm sure you can translate it into Objective-C:</p>\n\n<pre><code>var oldBoundsSize = CGSize.zero\noverride func shouldInvalidateLayout(forBoundsChange newBounds: CGRect) -&gt; Bool {\n    let ok = newBounds.size != self.oldBoundsSize\n    if ok {\n        self.oldBoundsSize = newBounds.size\n    }\n    return ok\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6133012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dd735fc8ecfd74fc9e43ec3c386193?s=128&d=identicon&r=PG&f=1", "display_name": "tupos", "link": "https://stackoverflow.com/users/6133012/tupos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 54972258, "answer_count": 2, "score": 0, "last_activity_date": 1551637826, "creation_date": 1551636079, "last_edit_date": 1592644375, "question_id": 54971970, "link": "https://stackoverflow.com/questions/54971970/preparelayout-method-of-nscollcectionviewlayout", "title": "prepareLayout method of NSCollcectionViewLayout", "body": "<p>I have hard time understanding the purpose of <code>prepareLayout</code> method of <code>NSCollectionViewLayout</code>.</p>\n<p>According to the official <a href=\"https://developer.apple.com/documentation/appkit/nscollectionviewlayout?language=objc\" rel=\"nofollow noreferrer\">apple documentation</a> it is written</p>\n<blockquote>\n<p>During the layout process, the collection view calls several methods of your layout object to gather information. In particular, it calls three very important methods, whose implementations drive the core layout behavior.</p>\n<ul>\n<li><p>Use the prepareLayout method to perform your initial layout calculations. These calculations provide the basis for everything the layout object does later.</p>\n</li>\n<li><p>Use the collectionViewContentSize method to return the smallest rectangle that completely encloses all of the elements in the collection view. Use the calculations from your prepareLayout method to specify this rectangle.</p>\n</li>\n<li><p>Use the layoutAttributesForElementsInRect: method to return the layout attributes for all elements in the specified rectangle. The collection view typically requests only the subset of visible elements, but may include elements that are just offscreen.</p>\n</li>\n</ul>\n<p>The prepareLayout method is your chance to perform the main calculations associated with the layout process. Use this method to generate an initial list of layout attributes for your content. For example, use this method to calculate the frame rectangles of all elements in the collection view. Performing all of these calculations up front and caching the resulting data is often simpler than trying to compute attributes for individual items later.</p>\n<p>In addition to the layoutAttributesForElementsInRect: method, the collection view may call other methods to retrieve layout attributes for specific items. By performing your calculations in advance, your implementations of those methods should be able to return cached information without having to recompute that information first. The only time your layout object needs to recompute its layout information is when your app invalidates the layout. For example, you might invalidate the layout when the user inserts or deletes items.</p>\n</blockquote>\n<p>So I naively used this as a guide and rewrote my implementation of custom layout. I computed <code>collectionViewContentSize</code> and precomputed the array used in this method</p>\n<pre><code>- (NSArray&lt;__kindof NSCollectionViewLayoutAttributes *&gt;*)layoutAttributesForElementsInRect:(NSRect)rect;\n</code></pre>\n<p>such that in all 3 required methods I just return the cached values. And after this suddenly my collectionView became extremely laggy.</p>\n<p>Apparently the method <code>prepareLayout</code> is called on every scroll.</p>\n<p>Can anyone clarify what does it mean. Or maybe I do not understand anything?</p>\n"}, {"tags": ["ios", "objective-c", "google-places-api"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4356168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6dc8e2751008e8a257098342f63a6bc?s=128&d=identicon&r=PG&f=1", "display_name": "codemonkeydance", "link": "https://stackoverflow.com/users/4356168/codemonkeydance"}, "is_accepted": false, "score": 1, "last_activity_date": 1569925364, "last_edit_date": 1569925364, "creation_date": 1569563966, "answer_id": 58128598, "question_id": 54968730, "link": "https://stackoverflow.com/questions/54968730/google-places-ios-autocomplete-results-space/58128598#58128598", "title": "Google Places iOS Autocomplete results space", "body": "<p>I managed to solve both these issues by doing the following:</p>\n\n<p><strong>First</strong>, set <code>.automaticallyAdjustsScrollViewInsets</code> to <code>false</code> for your <code>GMSAutocompleteResultsViewController()</code> instance:</p>\n\n<pre><code>resultsViewController.automaticallyAdjustsScrollViewInsets = false\n</code></pre>\n\n<p>If you run your app now, you'll see that the extra space is gone, but now the first result is underneath your search bar. To fix that, I used the <code>additionalSafeAreaInsets.top</code> property (I recommend setting it to your <code>searchBarContainerView</code>'s height, though you can use whatever value you want):</p>\n\n<pre><code>resultsViewController.additionalSafeAreaInsets.top = searchBarContainer.frame.height\n</code></pre>\n\n<p><strong>Side note:</strong> If you support pre-iOS 11 devices, you'll have to wrap these lines in an <code>#available</code> check as <code>additionalSafeAreaInsets</code> is only available in iOS 11+. However, in my own testing I found that iOS 10 and lower didn't have this issue to begin with.</p>\n"}], "owner": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1569925364, "creation_date": 1551615626, "question_id": 54968730, "link": "https://stackoverflow.com/questions/54968730/google-places-ios-autocomplete-results-space", "title": "Google Places iOS Autocomplete results space", "body": "<p>I tried to use Googles Autocomplete API and I used this tutorial:\n<a href=\"https://developers.google.com/places/ios-sdk/autocomplete#add_a_search_bar_to_the_top_of_a_view\" rel=\"nofollow noreferrer\">https://developers.google.com/places/ios-sdk/autocomplete#add_a_search_bar_to_the_top_of_a_view</a></p>\n\n<p>My viewDidLoad method contains this:</p>\n\n<pre><code>[super viewDidLoad];\n// google autocomplete\n_resultsViewController = [[GMSAutocompleteResultsViewController alloc] init];\n_resultsViewController.delegate = self;\n[_resultsViewController setExtendedLayoutIncludesOpaqueBars:YES];\n\n_searchController = [[UISearchController alloc]\n                     initWithSearchResultsController:_resultsViewController];\n_searchController.searchResultsUpdater = _resultsViewController;\n\n[_searchController setDelegate:self];\n\n// When UISearchController presents the results view, present it in\n// this view controller, not one further up the chain.\nself.definesPresentationContext = YES;\n\n// Prevent the navigation bar from being hidden when searching.\n_searchController.hidesNavigationBarDuringPresentation = NO;\n\nself.navigationController.navigationBar.translucent = NO;\n_searchController.hidesNavigationBarDuringPresentation = NO;\n\nself.extendedLayoutIncludesOpaqueBars = YES;\nself.edgesForExtendedLayout = UIRectEdgeTop;\n[_searchBarContainerView addSubview:_searchController.searchBar];\n\n[_searchController setActive:YES];\n</code></pre>\n\n<p>But it's showing results like on the image. How can I remove the space from between the results and the searchbar?\n<a href=\"https://i.stack.imgur.com/nqLtq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqLtq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "cocoa", "cocoa-touch", "xpc", "nsxpcconnection"], "answers": [{"comments": [{"owner": {"reputation": 2445, "user_id": 288405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acea97b0bc1f223b24db816ab3dd8e46?s=128&d=identicon&r=PG", "display_name": "Mattie", "link": "https://stackoverflow.com/users/288405/mattie"}, "edited": false, "score": 0, "creation_date": 1551623577, "post_id": 54967356, "comment_id": 96699374, "body": "Solution 1 is great, and 2 is very clever! I would, however, consider adding an <code>@throw</code> statement at the end of your <code>@catch</code> blocks. Right now, you are changing the runtime behavior - though that could be your intention. Also: I&#39;ve had interactions with Apple that directly indicate that ExceptionHandling.framework is no longer supported. And, in my experience while working on Crashlytics, it had some fundamental interoperability issues beyond what is indicated in that quoted header. Though, I&#39;m afraid I do not have those details recorded."}], "tags": [], "owner": {"reputation": 23592, "user_id": 23028, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c2736a497ce69cf8b7f009207d5fb02c?s=128&d=identicon&r=PG", "display_name": "catlan", "link": "https://stackoverflow.com/users/23028/catlan"}, "is_accepted": false, "score": 2, "last_activity_date": 1551648733, "last_edit_date": 1551648733, "creation_date": 1551604969, "answer_id": 54967356, "question_id": 54967355, "link": "https://stackoverflow.com/questions/54967355/xpc-and-exception-handling/54967356#54967356", "title": "XPC and Exception handling", "body": "<h3>Problem:</h3>\n\n<p>XPC seems to have its own <em>@try @catch block</em>, which catches unhandled exceptions inside a method, logs the exception and then the calls <code>-[NSXPCConnection interruptionHandler]</code>. </p>\n\n<p>This issue is reported to Apple under <a href=\"http://rdar://48543049\" rel=\"nofollow noreferrer\">rdar://48543049</a>.</p>\n\n<p><strong>NOTE:</strong> These are <strong>not</strong> copy &amp; past solutions, carefully evaluate your crash reporting framework. I link to implementation details of <em>PLCrashReporter</em>.</p>\n\n<h3>Solution A:</h3>\n\n<p><em>@try @catch block</em>:</p>\n\n<pre><code>- (void)upperCaseString:(NSString *)aString withReply:(void (^)(NSString *))reply {\n    @try {\n        NSArray *array = [NSArray array];\n        reply([array objectAtIndex:23]);\n    } @catch (NSException *exception) {\n        NSUncaughtExceptionHandler *handler = NSGetUncaughtExceptionHandler();\n        if (handler) {\n            handler(exception);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Discussion</strong></p>\n\n<p><em>HockeyApp</em> uses <em>PLCrashReporter</em> for crash reporting. <em>PLCrashReporter</em> registers an <code>NSUncaughtExceptionHandler</code> (<a href=\"https://github.com/plausiblelabs/plcrashreporter/blob/05d34741d3a90bbed51214983110943831ae5943/Source/PLCrashReporter.m#L630\" rel=\"nofollow noreferrer\">code</a>). So the above code will forward the exception to the <em>PLCrashReporter</em> exception handler and terminates (<a href=\"https://github.com/plausiblelabs/plcrashreporter/blob/05d34741d3a90bbed51214983110943831ae5943/Source/PLCrashReporter.m#L332-L338\" rel=\"nofollow noreferrer\">code</a>) the XPC. </p>\n\n<p><a href=\"https://stackoverflow.com/users/288405/mattie\">Mattie</a> suggest to <em>@throw</em> the exception again, to trigger the internal XPC <em>@catch</em> block and possible internal clean-up and logging. <strong>This is something to consider</strong>. Especially if you have a custom <code>interruptionHandler</code> on <code>NSXPCConnection</code> in the LaunchAgent/Server side of the connection! </p>\n\n<p>For now I side with not throwing it again, because <strong>my</strong> XPC is complete stateless and should be fine just crashing.  </p>\n\n<p>The downside to <em>Solution A</em> is that <strong>every</strong> method exposed via XPC requires this <em>@try @catch block</em>.</p>\n\n<h3>Solution B:</h3>\n\n<p>Use a <code>NSProxy</code> that catches all unhandled exceptions as <code>NSXPCConnection exportObject</code>:</p>\n\n<pre><code>@interface LOUncaughtExceptionHandlerProxy : NSProxy {\n    NSObject *_object;\n}\n@end\n\n@implementation LOUncaughtExceptionHandlerProxy\n\n- (instancetype)initWithObject:(NSObject *)object\n{\n    NSParameterAssert(object);\n    _object = object;\n    return self;\n}\n\n- (NSMethodSignature *)methodSignatureForSelector:(SEL)selector\n{\n    return [_object methodSignatureForSelector:selector];\n}\n\n- (void)forwardInvocation:(NSInvocation *)invocation\n{\n    @try {\n        [invocation invokeWithTarget:_object];\n    } @catch (NSException *exception) {\n        NSUncaughtExceptionHandler *handler = NSGetUncaughtExceptionHandler();\n        if (handler) {\n            handler(exception);\n        }\n    }\n}\n\n@end\n</code></pre>\n\n<p>Setup within the <code>NSXPCListener</code> listener:</p>\n\n<pre><code>- (BOOL)listener:(NSXPCListener *)listener shouldAcceptNewConnection:(NSXPCConnection *)newConnection {\n    XPC *exportedObject = [XPC new];\n    LOUncaughtExceptionHandlerProxy *proxy = [[LOUncaughtExceptionHandlerProxy alloc] initWithObject:exportedObject];\n    newConnection.exportedObject = proxy;\n    newConnection.exportedInterface = [NSXPCInterface interfaceWithProtocol:@protocol(XPCProtocol)];\n    [newConnection resume];\n    return YES;\n}\n</code></pre>\n\n<p>All details of <em>Solution A</em> apply to <em>Solution B</em>.</p>\n\n<h3>Solution Z:</h3>\n\n<p>On macOS is possible to use the <em>ExceptionHandling.framework</em>, the problems with it are very well outlined in <a href=\"https://github.com/bitstadium/HockeySDK-Mac/blob/6a6e31c3cafd4991672bcbaf1a48e135a878ae5b/Classes/CrashReporting/BITCrashExceptionApplication.h#L49-L77\" rel=\"nofollow noreferrer\">BITCrashExceptionApplication.h</a>.</p>\n\n<p><strong>Discussion</strong></p>\n\n<p>It is never a good sign when a framework is not ported to iOS. Also note <a href=\"https://stackoverflow.com/users/288405/mattie\">Matties</a> comment:</p>\n\n<blockquote>\n  <p>I've had interactions with Apple that directly indicate that ExceptionHandling.framework is no longer supported. And, in my experience while working on Crashlytics, it had some fundamental interoperability issues beyond what is indicated in that quoted <a href=\"https://github.com/bitstadium/HockeySDK-Mac/blob/6a6e31c3cafd4991672bcbaf1a48e135a878ae5b/Classes/CrashReporting/BITCrashExceptionApplication.h#L49-L77\" rel=\"nofollow noreferrer\">header</a>. </p>\n</blockquote>\n"}], "owner": {"reputation": 23592, "user_id": 23028, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c2736a497ce69cf8b7f009207d5fb02c?s=128&d=identicon&r=PG", "display_name": "catlan", "link": "https://stackoverflow.com/users/23028/catlan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1551648733, "creation_date": 1551604969, "question_id": 54967355, "link": "https://stackoverflow.com/questions/54967355/xpc-and-exception-handling", "title": "XPC and Exception handling", "body": "<p>I have an <em>LaunchAgent</em> using <em>HockeyApp</em> for crash reporting. Now I noticed that uncaught exception where not reported by <em>HockeyApp</em>, like they would have been in a normal macOS app.</p>\n\n<p>For example:</p>\n\n<pre><code>- (void)upperCaseString:(NSString *)aString withReply:(void (^)(NSString *))reply {\n    NSArray *array = [NSArray array];\n    reply([array objectAtIndex:23]);\n}\n</code></pre>\n\n<p>Never reaches <code>NSUncaughtExceptionHandler</code>, but the console logs:</p>\n\n<pre><code>&lt;NSXPCConnection: 0x7fe97dc0f110&gt; connection from pid 44573: Warning: Exception caught during invocation of received message, dropping incoming message and invalidating the connection.\n</code></pre>\n\n<p>The question is how to get unhandled exception reported with <em>HockeyApp</em>.</p>\n"}, {"tags": ["objective-c", "automatic-ref-counting", "semaphore"], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 0, "last_activity_date": 1551573667, "creation_date": 1551573667, "answer_id": 54964507, "question_id": 54964436, "link": "https://stackoverflow.com/questions/54964436/do-i-need-to-destroy-semaphores-in-objective-c-with-arc/54964507#54964507", "title": "Do I need to destroy semaphores in Objective-C with ARC?", "body": "<p>Yes, you need to destroy Mach semaphores manually. ARC does not automatically manage Mach semaphores. And, by analogy with dispatch semaphores, if ARC did manage them, it would disallow the use of <code>semaphore_destroy()</code>. If it's not disallowing that, then you can and should use it.</p>\n\n<p>Note that Mach semaphores are not reference counted. There are no retain and release operations, just create and destroy. There's no difference between a strong or unsafe unretained reference. All references are, effectively, unsafe unretained. Without reference counting, ARC can't reason about the semaphore objects as they are passed around through code.</p>\n"}], "owner": {"reputation": 71, "user_id": 8967347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1020105198128057/picture?type=large", "display_name": "Datow King", "link": "https://stackoverflow.com/users/8967347/datow-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 54964507, "answer_count": 1, "score": 0, "last_activity_date": 1551573667, "creation_date": 1551572897, "question_id": 54964436, "link": "https://stackoverflow.com/questions/54964436/do-i-need-to-destroy-semaphores-in-objective-c-with-arc", "title": "Do I need to destroy semaphores in Objective-C with ARC?", "body": "<p>I am working on iOS Core Audio following the suggestion from this post: <a href=\"https://stackoverflow.com/questions/20844429/core-audio-render-thread-and-thread-signalling\">Core Audio render thread and thread signalling</a>. </p>\n\n<p>In the updated answer, which uses <code>dispatch_semaphore_t</code>, I understand that I don't need to call <code>dispatch_release</code> when ARC is enabled after reading this post: <a href=\"https://stackoverflow.com/questions/8618632/does-arc-support-dispatch-queues\">Does ARC support dispatch queues?</a>.</p>\n\n<p>However, in the original answer when <code>semaphore_t</code> is used (<em>see below code snippets</em>), I cannot find reference for whether I need to destroy the semaphore by calling <code>semaphore_destroy</code> when ARC is enabled. Can someone please help?</p>\n\n<pre><code>semaphore_t mSemaphore;\n\nkern_return_t result = semaphore_create(mach_task_self(), &amp;mSemaphore, SYNC_POLICY_FIFO, 0);\n\n// Do stuff with semaphore wait and signal ...\n\nkern_return_t result = semaphore_destroy(mach_task_self(), mSemaphore);\n</code></pre>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1551572537, "post_id": 54964127, "comment_id": 96689468, "body": "How is a value assigned to <code>_rootView</code>?  Most likely it is <code>nil</code>"}, {"owner": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1551588049, "post_id": 54964127, "comment_id": 96691736, "body": "The my knowledge the value is assigned to _rootView from the setter getting the resultString and passing it over to the view. Am I doing it correctly?"}, {"owner": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1551595907, "post_id": 54964127, "comment_id": 96692953, "body": "Turns out that I didn&#39;t hook it up on the storyboard and that&#39;s why it wasn&#39;t working"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "edited": false, "score": 0, "creation_date": 1551570879, "post_id": 54964213, "comment_id": 96689187, "body": "Hey I don&#39;t really understand by what you mean on 1. Can you please explain it to me? I updated the code because I saw something that didn&#39;t look right I updated the displayViewController to another name because I didn&#39;t know it was a keyword. My bad"}, {"owner": {"reputation": 9387, "user_id": 333057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d68785e47303bad7826cdc0491e8c376?s=128&d=identicon&r=PG", "display_name": "Dancreek", "link": "https://stackoverflow.com/users/333057/dancreek"}, "reply_to_user": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "edited": false, "score": 0, "creation_date": 1551583720, "post_id": 54964213, "comment_id": 96691210, "body": "Right now the class of rootView is DisplayView but dateTimeString belongs to your class \u201cTheView\u201d. It\u2019s a class miss match."}, {"owner": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "edited": false, "score": 0, "creation_date": 1551588592, "post_id": 54964213, "comment_id": 96691799, "body": "I think I fixed it in the edit. Does it seem right or am I still missing something?"}], "tags": [], "owner": {"reputation": 9387, "user_id": 333057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d68785e47303bad7826cdc0491e8c376?s=128&d=identicon&r=PG", "display_name": "Dancreek", "link": "https://stackoverflow.com/users/333057/dancreek"}, "is_accepted": true, "score": 1, "last_activity_date": 1551570472, "creation_date": 1551570472, "answer_id": 54964213, "question_id": 54964127, "link": "https://stackoverflow.com/questions/54964127/how-to-pass-values-between-classes-in-objective-c/54964213#54964213", "title": "How to pass values between classes in objective C?", "body": "<ol>\n<li><p>It looks like <code>DisplayView</code> is declared in <code>TheView.h</code>. <code>DisplayView</code> should be declared in <code>DisplayView.h</code> &amp; <code>DisplayView.m</code> </p></li>\n<li><p>when you want to set the value just say <code>_rootview.dateTimeString = resultString;</code></p></li>\n<li><p>Set a break point and check for a nil <code>resultString</code> when it's being set.</p></li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 7788809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d55e1eef298c101c8adda0df778b542?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7788809/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 54964213, "answer_count": 1, "score": -1, "last_activity_date": 1551590332, "creation_date": 1551569598, "last_edit_date": 1551590332, "question_id": 54964127, "link": "https://stackoverflow.com/questions/54964127/how-to-pass-values-between-classes-in-objective-c", "title": "How to pass values between classes in objective C?", "body": "<p>I am currently stuck on figuring out why my values aren't passing in xcode. My code looks correct but for some reason it's not passing. </p>\n\n<p>Here is what TheView.h looks like</p>\n\n<pre><code>//View Header File\n#import &lt;UIKit/UIKit.h&gt;\n\nIB_DESIGNABLE\n@interface TheView : UIView\n@property NSString *dateTimeString;\n@end\n</code></pre>\n\n<p>and TheView.m </p>\n\n<pre><code>// m file of View\n#import \"TheView.h\"\n@implementation TheView\n\n// Display method here with dateTimeString in parems\n[DrawCanvas dateText: self.dateTimeString];\n\n@end\n</code></pre>\n\n<p>In my controller .h file, I have this code</p>\n\n<pre><code>// Controller File\n#import \"TheView.h\"\n\n@interface MainViewController: UIViewController\n@property (weak, nonatomic) IBOutlet TheView *rootView;\n\n@end\n</code></pre>\n\n<p>MainViewController .m file</p>\n\n<pre><code>#import \"MainViewController.h\"\n#import \"TheView.h\"\n\n@interface MainViewController ()\n@property (string, nonatomic) NSTimer *currentTime;\n@end\n\n@implementation MainViewController\n\n-(void)updateTime\n{\n  // prints date successfully\n  NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n  NSLocale time = [[NSLocale alloc] initWithLocaleIdentifier:@\"en_GB\"];\n  dateFormatter.locale = time;\n  formatString = [NSDATEFORMATTER dateFormatFromTemplate:@\"EEEE, hh:mm\" options:0 locale:[NSLocale currentLocale]];\n\n  [dateFormatter setDateFormat:formatString];\n  NSString *resultString = [dateFormatter stringFromDate:[NSDate date]];\n\n  // Current issue is that it isn't passed from here to TheView.m\n  [_rootView setdateTimeString:resultString];\n}\n</code></pre>\n\n<p>From what I understand in the debug, the string from controller is giving the result I need but it's just not setting the value.</p>\n\n<p>If it helps this code is called viewWillAppear so it will call the updateTime method and won't be nil in theory. </p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1551552330, "post_id": 54961778, "comment_id": 96684582, "body": "Did you take my advice in your <a href=\"https://stackoverflow.com/questions/54960691/save-json-response-in-nstableview\">previous question</a>? Populating a table view is quite basic stuff. You can design everything in Interface Builder, there is no need to create the table view programmatically. And do <b>not</b> use a cell based table view."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 2, "creation_date": 1551552749, "post_id": 54961778, "comment_id": 96684679, "body": "I would recommend that you go through a tutorial about Objective-C. You are missing basics like naming conventions.  SO is not an interactive tutorial. You will not get the expected result from the guys on SO."}, {"owner": {"reputation": 2385, "user_id": 1009270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33fcdc9c0604cf69abb15e17840d2a3c?s=128&d=identicon&r=PG", "display_name": "john elemans", "link": "https://stackoverflow.com/users/1009270/john-elemans"}, "edited": false, "score": 0, "creation_date": 1551597041, "post_id": 54961778, "comment_id": 96693165, "body": "The other advice is good but if you insist on this approach, you can create an array of column names. Then access them in the loop;    tCol = [[NSTableColumn alloc] initWithIdentifier:columnIdentifiers[i]];"}], "owner": {"reputation": 11, "user_id": 11140778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UAc2DFviqPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxy46R4n39XbfWC7ZDUo2wR8pDYQ/mo/photo.jpg?sz=128", "display_name": "Julie Vrellaku", "link": "https://stackoverflow.com/users/11140778/julie-vrellaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551552055, "creation_date": 1551552055, "question_id": 54961778, "link": "https://stackoverflow.com/questions/54961778/for-loop-to-update-nstableview", "title": "For loop to update NSTableView", "body": "<p>Please forgive me for the post, I am at a brick wall and cannot work this out, so any, any help at all would be highly appreciated.</p>\n\n<p>I have the following for loop code snippet:</p>\n\n<pre><code>for (int i=0; i&lt;noOfColumns; i++)\n{\n\n    tCol = [[NSTableColumn alloc] initWithIdentifier:[NSString stringWithFormat:@\"Title\"]];\n\n    [[tCol headerCell] setStringValue:[NSString stringWithFormat:@\"Column\"]];\n    [myTableView addTableColumn:tCol];\n}\n</code></pre>\n\n<p>The problem is that i need to change \"Title\" to other keys like \"id\", \"First_name\", \"Surname\", \"Address\" etc.</p>\n\n<pre><code>stringWithFormat:@\"Title\"\n</code></pre>\n\n<p>how can I update stringWithFormat: @\"\"; in this for loop?</p>\n\n<p>The first time the loop runs picks up \"Title\" then second time the loop runs it picks up \"First_Name\" in the for loop.</p>\n\n<p>Ive spent the last 3 hours trying to work this out along with learning NS</p>\n\n<p>I am trying to update an NSTableView with an array coming from JSON. If I change \"Title\" to other keys received in JSON, I can update the NSTableView, however every column is the \"Title\" and not the other keys returned in the JSON.</p>\n\n<p>Thank you for reading and if you can provide any help at all, it would be highly appreciated.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "is_accepted": true, "score": 3, "last_activity_date": 1551515968, "creation_date": 1551515968, "answer_id": 54956691, "question_id": 54956591, "link": "https://stackoverflow.com/questions/54956591/objective-c-cant-see-class-declaration/54956691#54956691", "title": "Objective-C can&#39;t see class declaration", "body": "<p>You need to <code>#import \"House.h\"</code> in your <code>main.m</code></p>\n"}], "owner": {"reputation": 8256, "user_id": 1135714, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/JGgeJ.jpg?s=128&g=1", "display_name": "Cesare", "link": "https://stackoverflow.com/users/1135714/cesare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54956691, "answer_count": 1, "score": 0, "last_activity_date": 1551515968, "creation_date": 1551514959, "question_id": 54956591, "link": "https://stackoverflow.com/questions/54956591/objective-c-cant-see-class-declaration", "title": "Objective-C can&#39;t see class declaration", "body": "<p>This is for an online course project <a href=\"https://eu.udacity.com/course/objective-c-for-swift-developers--ud1009\" rel=\"nofollow noreferrer\">Objective-C for Swift developers</a>. I created a command-line Objective-C project, and then add a class called <code>House</code> to my project using the dropdown New File > Cocoa Class menu. However, referencing the class in the main file does not work (getting \"Use of unresolved identifier House\" compile-time error):</p>\n\n<p><em>main.m</em> file:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nint main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        House *myHouse = [[House alloc] init];\n    }\n    return 0;\n}\n</code></pre>\n\n<p>House header file:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface House : NSObject\n\n@end\n</code></pre>\n\n<p>House implementation file:</p>\n\n<pre><code>#import \"House.h\"\n\n@implementation House\n\n@end\n</code></pre>\n\n<p>I've deleted the Derived Data folder and restarted the Xcode project with no success. Also, the House.m file in listed under the Compile Resources the project settings. This must be so simple. Why can't Xcode see the class?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "iphone", "ipad"], "comments": [{"owner": {"reputation": 113, "user_id": 7566973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hpm7P.jpg?s=128&g=1", "display_name": "Nirav", "link": "https://stackoverflow.com/users/7566973/nirav"}, "edited": false, "score": 0, "creation_date": 1563532202, "post_id": 54955308, "comment_id": 100740305, "body": "Kindly please check this : <a href=\"https://medium.com/if-let-swift-programming/working-with-localization-in-swift-4a87f0d393a4\" rel=\"nofollow noreferrer\">medium.com/if-let-swift-programming/&hellip;</a>  You can change language without restarting application."}], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 4806586, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-qVy9BA0TAQg/AAAAAAAAAAI/AAAAAAAAABw/rZKI2mYWiQ4/photo.jpg?sz=128", "display_name": "Rohitax Rajguru", "link": "https://stackoverflow.com/users/4806586/rohitax-rajguru"}, "edited": false, "score": 0, "creation_date": 1551675313, "post_id": 54955529, "comment_id": 96712403, "body": "But how to load the storyboard again without killing the application?"}], "tags": [], "owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "is_accepted": false, "score": 2, "last_activity_date": 1551504497, "creation_date": 1551504497, "answer_id": 54955529, "question_id": 54955308, "link": "https://stackoverflow.com/questions/54955308/terminate-ios-application/54955529#54955529", "title": "Terminate iOS application", "body": "<p><code>exit(0)</code></p>\n\n<p>you can solve your problem by this, but this is forbidden by Apple. You should set your app to your Home page when you change your language.</p>\n\n<pre><code>let viewController = HomeViewController()\nUIApplication.shared.keyWindow.rootViewController = viewController\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 736, "user_id": 8192111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02470d5b8db6ca40049e30067493b25?s=128&d=identicon&r=PG&f=1", "display_name": "Vikky", "link": "https://stackoverflow.com/users/8192111/vikky"}, "edited": false, "score": 0, "creation_date": 1590413876, "post_id": 54959420, "comment_id": 109662575, "body": "But how facebook is allowed to kill the app when language is changed."}], "tags": [], "owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1551536085, "creation_date": 1551536085, "answer_id": 54959420, "question_id": 54955308, "link": "https://stackoverflow.com/questions/54955308/terminate-ios-application/54959420#54959420", "title": "Terminate iOS application", "body": "<p>Ankur gave you the correct answer: You can use exit to terminate your app but Apple does not allow apps to terminate themselves. Your app will be rejected from the app store if you do that.</p>\n\n<p>Instead, you should refactor your app so you have the ability to tear down your entire UI and rebuild it. Delete all your view controllers and replace the root view controller as Ankur says.</p>\n"}], "owner": {"reputation": 813, "user_id": 4806586, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-qVy9BA0TAQg/AAAAAAAAAAI/AAAAAAAAABw/rZKI2mYWiQ4/photo.jpg?sz=128", "display_name": "Rohitax Rajguru", "link": "https://stackoverflow.com/users/4806586/rohitax-rajguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "closed_date": 1551536603, "answer_count": 2, "score": 0, "last_activity_date": 1551536085, "creation_date": 1551501767, "question_id": 54955308, "link": "https://stackoverflow.com/questions/54955308/terminate-ios-application", "closed_reason": "Duplicate", "title": "Terminate iOS application", "body": "<p>I'm allowing language change feature inside my application. As user select new language feature inside the application I need to quit the application and user will have to start it again. For quitting I'll show an alert to user that you have to restart the application for language change to complete.</p>\n\n<p>Now how can I use manual termination of iOS app and make it approve from Apple.</p>\n\n<p>PS: Facebook do the same for language change. They tell the user that app needs to restart for language change to take place. Some other apps also kills the application on some alert tap.</p>\n"}, {"tags": ["objective-c", "iphone", "safari", "whatsapp"], "comments": [{"owner": {"reputation": 794, "user_id": 4738302, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/LiGsC.jpg?s=128&g=1", "display_name": "Tomasz Nazarenko", "link": "https://stackoverflow.com/users/4738302/tomasz-nazarenko"}, "edited": false, "score": 2, "creation_date": 1551699077, "post_id": 54954031, "comment_id": 96722561, "body": "The official WhatsApp documentation advises to use the following URL <code>https:&#47;&#47;wa.me&#47;&lt;number&gt;</code>, however the problem you have described still exists, and I haven&#39;t managed to solve it yet."}, {"owner": {"reputation": 161, "user_id": 11138262, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3E4nOi3I2rI/AAAAAAAAAAI/AAAAAAAAAQE/VC4v3uSUT4k/photo.jpg?sz=128", "display_name": "Daniel Portugal", "link": "https://stackoverflow.com/users/11138262/daniel-portugal"}, "reply_to_user": {"reputation": 794, "user_id": 4738302, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/LiGsC.jpg?s=128&g=1", "display_name": "Tomasz Nazarenko", "link": "https://stackoverflow.com/users/4738302/tomasz-nazarenko"}, "edited": false, "score": 0, "creation_date": 1551973699, "post_id": 54954031, "comment_id": 96845723, "body": "Thanks, Tomasz. Unfortunately, I believe I&#39;ll have to think of an alternative flow. :("}, {"owner": {"reputation": 10932, "user_id": 4833705, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c30b8186fa9bab24f4f005870a55958c?s=128&d=identicon&r=PG&f=1", "display_name": "Lance Samaria", "link": "https://stackoverflow.com/users/4833705/lance-samaria"}, "edited": false, "score": 0, "creation_date": 1606330086, "post_id": 54954031, "comment_id": 114934910, "body": "this article has some information on it but not working either: <a href=\"https://www.androidpolice.com/2020/04/08/3-ways-to-message-a-number-on-whatsapp-without-adding-them-as-a-contact-first/\" rel=\"nofollow noreferrer\">androidpolice.com/2020/04/08/&hellip;</a>"}], "owner": {"reputation": 161, "user_id": 11138262, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3E4nOi3I2rI/AAAAAAAAAAI/AAAAAAAAAQE/VC4v3uSUT4k/photo.jpg?sz=128", "display_name": "Daniel Portugal", "link": "https://stackoverflow.com/users/11138262/daniel-portugal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1349, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1551602851, "creation_date": 1551486311, "last_edit_date": 1551602851, "question_id": 54954031, "link": "https://stackoverflow.com/questions/54954031/api-whatsapp-com-send-safari-cannot-open-page-because-the-address-is-invalid", "title": "api.whatsapp.com/send: Safari cannot open page because the address is invalid", "body": "<p>I'm trying to use <code>Whatsapp's</code> web API to send text to any valid number (even numbers that are not in my contacts list). If the user has the <code>Whatsapp</code> app installed, it will open. Else, the browser will open.</p>\n\n<p>In Xcode, simulating an iPhone, the problem is that when Safari opens the URL, I get a popup message <code>Safari cannot open the page because the address is invalid</code>.\nBut the address is actually correct and the correct page has loaded behind the popup. I don't understand what the problem is. What do I have to do to not get this popup?</p>\n\n<p>Here's the snippet I'm using in a view-controller:</p>\n\n<pre><code>NSString * plainString = @\"https://api.whatsapp.com/send?phone=5511123456789&amp;text=Hello\";\nNSString * encodedString = [plainString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\nNSURL * whatsappURL = [NSURL URLWithString:encodedString];\n\nif([[UIApplication sharedApplication] canOpenURL:whatsappURL]) {\n    [[UIApplication sharedApplication] openURL:whatsappURL];\n}\n</code></pre>\n\n<p>I also added <code>whatsapp</code> to the <code>LSApplicationQueriesStrings</code> in <code>Info.plist</code>.</p>\n\n<ul>\n<li>I started learning <code>Objective-C</code> last week, I have literally no idea how to use other similar answers to solve this.</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "count", "nssortdescriptor"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551471271, "post_id": 54951303, "comment_id": 96666100, "body": "Should it be <code>@&quot;title.count&quot;</code> ?"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551476673, "post_id": 54951303, "comment_id": 96668000, "body": "same error:this class is not key value coding-compliant for the key count"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551476955, "post_id": 54951303, "comment_id": 96668112, "body": "Show the code for the objects in your array?"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551477995, "post_id": 54951303, "comment_id": 96668470, "body": "They are custom objects returned from a core data fetch. I also tried returning them as dictionaries and sorting.  But perhaps this entire approach is wrong."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551478430, "post_id": 54951303, "comment_id": 96668605, "body": "OK - before you try to init the sortDescriptor, do <code>Articles *obj = (Articles *)results[0];</code> --- set a breakpoint, and inspect the properties of <code>obj</code>. See if it has a property / key that you can use for your sort descriptor."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1551478623, "post_id": 54951303, "comment_id": 96668674, "body": "Can you give an example of the array with some objects and how you want that sorted? You can just describe the objects&#39; relevant properties or use dictionaries as a stand-in. A sort descriptor&#39;s key path is applied to each object in isolation. The result is then compared to the result from another object to establish ordering between the two objects. A sort descriptor can&#39;t sort based on the overall content of the collection. Also <code>@count</code> is a collection operator. Unless the objects&#39; <code>title</code> property is a collection (and it seems it&#39;s not), you can&#39;t use <code>@count</code>."}, {"owner": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1551478844, "post_id": 54951303, "comment_id": 96668757, "body": "Not only does <code>@count</code> only work on collections, but if memory serves it goes <i>before</i> the thing you want to count, not after it. When I have used <code>@sum</code> in bindings it has always been <code>@sum.amount</code> rather than <code>amount.@sum</code>."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1551479553, "post_id": 54951303, "comment_id": 96668989, "body": "The order is correct... Just tried it with objects having <code>@property (strong, nonatomic) NSArray *arr;</code>. Using <code>initWithKey:@&quot;arr.@count&quot;</code> works as desired."}, {"owner": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1551480117, "post_id": 54951303, "comment_id": 96669172, "body": "Maybe it works in both orders <a href=\"https://nshipster.com/kvc-collection-operators/\" rel=\"nofollow noreferrer\">nshipster.com/kvc-collection-operators</a>"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1551484740, "post_id": 54951303, "comment_id": 96670364, "body": "According to <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/KeyValueCoding/CollectionOperators.html\" rel=\"nofollow noreferrer\">the docs</a>, &quot;The right key path, if present, is ignored&quot; for <code>@count</code>."}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551547855, "post_id": 54951303, "comment_id": 96683408, "body": "@DonMag there is a valid property title.  It can sort by title which groups all the identical titles together but not ranked by how many times they appear.  The error occurs when I add count"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1551547972, "post_id": 54951303, "comment_id": 96683435, "body": "@ken the title property is NSString so I guess it is not a collection."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1551552448, "post_id": 54951303, "comment_id": 96684609, "body": "It is <code>title</code>, not <code>titles</code>. If I assume that you follow the naming conventions, <code>title</code> is not a collection and <code>@count</code> is not applicable. Show the definition of the entity type."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1551552507, "post_id": 54951303, "comment_id": 96684626, "body": "What do you expect as the result of <code>@count</code> applied on a string?"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1551569718, "post_id": 54951303, "comment_id": 96688994, "body": "I was hoping to sort the array by the number of times a given value is present for title.  So if the most common title is &quot;Swift Cookbook&quot;, all the managed objects with that in their title attribute come up first.  Perhaps this is totally wrong approach. If so, I apologize for wild goose chase.  It may be better to use NSSet as in <a href=\"https://stackoverflow.com/questions/24463072/objective-c-how-to-find-the-most-common-string-in-an-array\" title=\"objective c how to find the most common string in an array\">stackoverflow.com/questions/24463072/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1551593807, "creation_date": 1551593807, "answer_id": 54966116, "question_id": 54951303, "link": "https://stackoverflow.com/questions/54951303/count-in-sort-descriptor-giving-not-key-value-compliant-error-in-objective-c/54966116#54966116", "title": "@count in sort descriptor giving &#39;not key value compliant&#39; error in Objective-C", "body": "<p>You can use <a href=\"https://developer.apple.com/documentation/foundation/nssortdescriptor/1503734-sortdescriptorwithkey?language=objc\" rel=\"nofollow noreferrer\"><code>+\\[NSSortDescriptor sortDescriptorWithKey:ascending:comparator:\\]</code></a>. That takes a block that can implement any algorithm you want. You can create an <code>NSCountedSet</code> from <code>[results valueForKey:@\"title\"]</code> before the sort operation and have the comparator block capture that. That way, you have an easy and cheap way to get the count of a given object's title. The issue is how to regenerate that counted set if/when the objects change (if they can).</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54966116, "answer_count": 1, "score": 0, "last_activity_date": 1551593807, "creation_date": 1551469365, "last_edit_date": 1551478156, "question_id": 54951303, "link": "https://stackoverflow.com/questions/54951303/count-in-sort-descriptor-giving-not-key-value-compliant-error-in-objective-c", "title": "@count in sort descriptor giving &#39;not key value compliant&#39; error in Objective-C", "body": "<p>I am trying to sort an array by the number of times a given value is present for a given attribute.</p>\n\n<p>To do this, I am using the following code:</p>\n\n<pre><code>NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@\"title.@count\" ascending:NO];\n            NSArray *descriptors = [[NSArray alloc] initWithObjects:sortDescriptor, nil];\n            NSArray *sortedArray  = [results sortedArrayUsingDescriptors:descriptors];\n</code></pre>\n\n<p>However, while the code compiles, at runtime it is giving the error:</p>\n\n<pre><code>'[&lt;__NSCFNumber 0xb00000000004e293&gt; valueForUndefinedKey:]: this class is not key value coding-compliant for the key @count.'\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The array in question actually consists of results from a core data fetch as follows:</p>\n\n<pre><code>  self.managedObjectContext = [Model sharedInstance].managedObjectContext;\n\n    [fetchRequest setPredicate:pred];\n  //  fetchRequest.resultType = NSDictionaryResultType;\n    NSArray&lt;Articles*&gt; *results = [self.managedObjectContext executeFetchRequest:fetchRequest\n                                                                error:&amp;error];\n        if ([results count]&gt;=1) {\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "macos", "cocoa"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 8999673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debc6c1d2b5949739bd82a8b2dc6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "JDBones", "link": "https://stackoverflow.com/users/8999673/jdbones"}, "edited": false, "score": 0, "creation_date": 1551485206, "post_id": 54951017, "comment_id": 96670455, "body": "Hi. That makes sense. I think what was going on was that I have another plugin project &#39;hooked&#39; up to the host application using the same framework, albeit with the older version. It seems that pluginkit is just loading in one version of the framework pulled from a random source in the host application&#39;s runtime, regardless if another plugin has a more up to date version. This might require that I will have to embed the custom framework elsewhere, or in a different manner. I will have to investigate this some more. Thank you."}, {"owner": {"reputation": 1442, "user_id": 2150405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f349e786019f40cf34a1ec79944eb5f?s=128&d=identicon&r=PG", "display_name": "seth", "link": "https://stackoverflow.com/users/2150405/seth"}, "reply_to_user": {"reputation": 265, "user_id": 8999673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debc6c1d2b5949739bd82a8b2dc6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "JDBones", "link": "https://stackoverflow.com/users/8999673/jdbones"}, "edited": false, "score": 1, "creation_date": 1551576405, "post_id": 54951017, "comment_id": 96690095, "body": "You won\u2019t be able to have the two frameworks linked simultaneously into the same process because of the symbol collisions. So either figure out how to have one or split into separate processes perhaps with XPC? Good luck."}], "tags": [], "owner": {"reputation": 1442, "user_id": 2150405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f349e786019f40cf34a1ec79944eb5f?s=128&d=identicon&r=PG", "display_name": "seth", "link": "https://stackoverflow.com/users/2150405/seth"}, "is_accepted": true, "score": 0, "last_activity_date": 1551467974, "creation_date": 1551467974, "answer_id": 54951017, "question_id": 54950810, "link": "https://stackoverflow.com/questions/54950810/macos-objects-in-custom-framework-throwing-unrecognized-selector-error/54951017#54951017", "title": "macOS - Objects in Custom Framework throwing unrecognized selector error", "body": "<p>It's likely that the memory address is pointing to some other kind of object, or chunk of deallocated memory. Perhaps due to an over-release/under-retain somewhere. Have you used NSZombies? The Address Sanitizer? I would believe the fact that this is in a plugin is actually irrelevant.</p>\n"}], "owner": {"reputation": 265, "user_id": 8999673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debc6c1d2b5949739bd82a8b2dc6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "JDBones", "link": "https://stackoverflow.com/users/8999673/jdbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54951017, "answer_count": 1, "score": 0, "last_activity_date": 1551485331, "creation_date": 1551467119, "last_edit_date": 1551485331, "question_id": 54950810, "link": "https://stackoverflow.com/questions/54950810/macos-objects-in-custom-framework-throwing-unrecognized-selector-error", "title": "macOS - Objects in Custom Framework throwing unrecognized selector error", "body": "<p>I am creating a custom framework for the first time and I plan to use it in a plug-in. Since it is not an app, I can't simply drag my custom framework in the application target's Embedded Binaries section. Scraped together from different tutorials, I have performed the following steps:</p>\n\n<ol>\n<li>Created additional copy files entry in the plugin target's build phase that adds my framework to the ./Frameworks path of my product.</li>\n<li>Added the framework in the target's Linked Binary with Libraries section</li>\n<li>Added entry in the target's framework search paths in Build Settings</li>\n</ol>\n\n<p>From there, my plugin's XCode project was able to successfully reference the classes I defined in my custom framework, as well as instantiate objects while running it in its respective host application. However, upon instantiating one of my subclassed NSViewControllers defined in the framework, it soon crashed when I tried calling one of its methods. According from the console, the reason was an <code>unrecognized selector sent to instance &lt;memory_address&gt; abort() called</code>, where the selector in question was a setter method that I called. </p>\n\n<p>I have used and defined subclassed NSViewControllers in my plugin projects before, just not from a framework. I'm not sure whether my framework setup to my plugin project is the issue, or some nib loading strangeness. Another weirdness I have observed is that, some of my NSViewController's properties were missing on random occassions, as in not listed in XCode's debugger. When this happens, that's where my plugin crashes and tells me about the unrecognized selector issue. Can anyone shed some light here? </p>\n\n<p>Thank you in advance. </p>\n"}, {"tags": ["ios", "objective-c", "dependency-injection", "typhoon"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9005222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b43dace77d6dc5f6b702cdd76d5a1bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Malaki Owja", "link": "https://stackoverflow.com/users/9005222/malaki-owja"}, "edited": false, "score": 0, "creation_date": 1551809065, "post_id": 54953827, "comment_id": 96772895, "body": "Thank you so much @JasperBlues ! I am a huge fan of your work."}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "reply_to_user": {"reputation": 57, "user_id": 9005222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b43dace77d6dc5f6b702cdd76d5a1bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Malaki Owja", "link": "https://stackoverflow.com/users/9005222/malaki-owja"}, "edited": false, "score": 0, "creation_date": 1572644381, "post_id": 54953827, "comment_id": 103635398, "body": "I&#39;m a huge fan of yours, @MalakiOwja"}], "tags": [], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "is_accepted": true, "score": 1, "last_activity_date": 1551483979, "last_edit_date": 1592644375, "creation_date": 1551483979, "answer_id": 54953827, "question_id": 54950554, "link": "https://stackoverflow.com/questions/54950554/ios-typhoon-di-framework-to-replace-singleton-in-objective-c/54953827#54953827", "title": "iOS Typhoon DI framework to replace singleton in objective-c", "body": "<blockquote>\n<p>First question is, is it still ok to use that framework? Seems a little inactive, but very amazing technology though.</p>\n</blockquote>\n<p><strong>Answer:</strong></p>\n<p>Typhoon is still the best choice of of Dependency Injection library for Objective-C. It is feature complete, so new features are generally not added, however it is maintained and supported by AppsQuick.ly.</p>\n<p>If you're working with Swift, <a href=\"https://github.com/jkolb/FieryCrucible\" rel=\"nofollow noreferrer\">Fiery Crucible</a> is an excellent DI framework. It has most of the features of Typhoon, simple to use, and without the drawbacks of some of the other Swift frameworks.</p>\n<blockquote>\n<p>To obtain the same initiated class in different views seems like I need to do the following:</p>\n<ol>\n<li>use TyphoonScopeSingleton as definition.scope in the assembly</li>\n<li>make the assembly default</li>\n</ol>\n<p>I am wondering if someone could provide me with some guidance regarding this.</p>\n</blockquote>\n<p><strong>Answer:</strong></p>\n<p>This is not the correct approach. The idea is to have <em>one</em> instance of Typhoon, create at the <a href=\"http://blog.ploeh.dk/2011/07/28/CompositionRoot/\" rel=\"nofollow noreferrer\">composition root</a>, and then it will live alongside your application for the life of the running (foreground or back-grounded) app.</p>\n<ul>\n<li>We don't ask Typhoon for dependencies, we tell it to inject the dependencies to the controller, service or other class.</li>\n<li>The only exception to this is when using the <a href=\"https://github.com/appsquickly/typhoon/wiki/Types-of-Injections#injection-with-run-time-arguments\" rel=\"nofollow noreferrer\">factory pattern</a>, where we have a mix of static dependencies, alongside runtime arguments, for example: &quot;give me the order view controller for this user&quot;. In this case we inject the assembly itself.</li>\n</ul>\n<p>For iOS, Typhoon provides a way to bootstrap your assembly on startup, either with or without storyboards. The <a href=\"https://github.com/appsquickly/Typhoon-example\" rel=\"nofollow noreferrer\">sample</a> shows how to do this, along with <a href=\"https://github.com/appsquickly/typhoon/wiki/Storyboards\" rel=\"nofollow noreferrer\">this guide</a> on storyboards.</p>\n<p>If you face another obstacle after trying the above resources, please ask another specific question.</p>\n"}], "owner": {"reputation": 57, "user_id": 9005222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b43dace77d6dc5f6b702cdd76d5a1bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Malaki Owja", "link": "https://stackoverflow.com/users/9005222/malaki-owja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 54953827, "answer_count": 1, "score": 2, "last_activity_date": 1551483979, "creation_date": 1551465874, "question_id": 54950554, "link": "https://stackoverflow.com/questions/54950554/ios-typhoon-di-framework-to-replace-singleton-in-objective-c", "title": "iOS Typhoon DI framework to replace singleton in objective-c", "body": "<p>I am working an storyboard/objective-c based iOS app with firebase authentication. I use cloud firestore to save user data - age, gender etc. When user reaches the app I check if user is logged in or not the following(similar) code </p>\n\n<pre><code>FIRUser *firUser = [FIRAuth auth].currentUser;\nif (firUser) {\n    // user logged in \n    // fetch updated user date from cloud firestore \n} else {\n    // NO logged in user \n}\n</code></pre>\n\n<p>When user is logged in, they can navigate to other section of the app, otherwise they would see a signup/login page. </p>\n\n<p>What it looks Navigating to different views usually means I have to call above code to figure out the logged in state again - which I do not want to do. I would like to create a user object with logged in user and data from firestore and pass it between view controllers. </p>\n\n<p>Singleton seemed to do the job well and kind of ideal for my situation but I came across Typhoon! </p>\n\n<p>First question is, is it still ok to use that framework? Seems a little inactive, but very amazing technology though. </p>\n\n<p>Secondly here is my implementation of it - I have an assembly that looks like this</p>\n\n<pre><code>- (AuthenticatedUser*)authenticatedUser {\n    return [TyphoonDefinition withParent:[self user] class:[AuthenticatedUser class] configuration:^(TyphoonDefinition* definition){\n\n        definition.scope = TyphoonScopeSingleton;\n    }];\n}\n</code></pre>\n\n<p>And this is how I am obtaining AuthenticatedUser instance</p>\n\n<pre><code>ModelsAssembly *modelsAssembly = [ModelsAssembly defaultAssembly];\n\n// no default ModelsAssembly set\nif( modelsAssembly == nil ){\n    modelsAssembly = [[ModelsAssembly new] activated];\n    [modelsAssembly makeDefault];\n}\n\nauthenticatedUser = [modelsAssembly authenticatedUser];\n</code></pre>\n\n<p>To obtain the same initiated class in different views seems like I need to do the following:</p>\n\n<ol>\n<li>use TyphoonScopeSingleton as definition.scope in the assembly </li>\n<li>make the assembly default </li>\n</ol>\n\n<p>I am wondering if someone could provide me with some guidance regarding this. </p>\n"}, {"tags": ["ios", "objective-c", "swift", "nsattributedstring", "kerning"], "comments": [{"owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "edited": false, "score": 0, "creation_date": 1551460392, "post_id": 54948326, "comment_id": 96661517, "body": "This question about different result of size method for attributes with and without default value for kerning."}], "answers": [{"comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1551541489, "post_id": 54956849, "comment_id": 96681688, "body": "&quot;The point is for some letters strings are equal, for some not.&quot; That&#39;s entirely expected with kerning. &quot;This value specifies the number of points by which to adjust kern-pair characters.&quot; In this font, H and e are not kern-pair characters, but W and o are. The upper example looks kerned, while the lower example appears unkerned."}], "tags": [], "owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "is_accepted": false, "score": 1, "last_activity_date": 1551517231, "creation_date": 1551517231, "answer_id": 54956849, "question_id": 54948326, "link": "https://stackoverflow.com/questions/54948326/inconsistent-behavior-of-kerning-in-nsattributedstring/54956849#54956849", "title": "Inconsistent behavior of kerning in NSAttributedString", "body": "<p>I did some tests based on your code and I confirm this behaviour which looks like a bug. The point is for some letters strings are equal, for some not. For instance strings with \"Hello Mo\" or \"Hello Oo\" are equal, but for instance \"Hello WoWoWo\" differ a lot. So we see here some kerning being added for \"W\" without any reason. It can also depend on chosen font, I did not test it though. I see here the only solution that you've used - removing <code>NSKernAttributeKey</code> if it equals to 0.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fWakR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWakR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 2, "last_activity_date": 1551543427, "last_edit_date": 1551543427, "creation_date": 1551542700, "answer_id": 54960391, "question_id": 54948326, "link": "https://stackoverflow.com/questions/54948326/inconsistent-behavior-of-kerning-in-nsattributedstring/54960391#54960391", "title": "Inconsistent behavior of kerning in NSAttributedString", "body": "<p>I believe the docs here are wrong, and it is worth opening a <a href=\"https://bugreport.apple.com\" rel=\"nofollow noreferrer\">radar</a> about that. When no value is set, it is interpreted as \"normal kerning.\" When 0 is set, it is interpreted as \"disable kerning,\" which is why the width is a little wider (kerning typically is slightly negative, bringing kern-pair character, like \"W\" and \"o\" in this font, a little closer). I don't think there's any way to explicitly request \"default kerning\" without removing the attribute.</p>\n\n<p>For your purposes, I believe you're doing the right thing by removing the value when it's zero, because you want default kerning, not to disable kerning.</p>\n\n<p>The reason your tiny negative value is working is because it's not zero, so it's not disabling kerning, but it's so small that the behavior is very, very close to the default, and you're running into the precision of Double in the intermediate calculations (or possibly the precision of Float, depending on how it's implemented internally). You should find that your test passes for any value smaller (closer to zero) than this one, not just that value. In my tests, positive 7e-15 also works, for example.</p>\n"}], "owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1552957918, "creation_date": 1551456450, "last_edit_date": 1552957918, "question_id": 54948326, "link": "https://stackoverflow.com/questions/54948326/inconsistent-behavior-of-kerning-in-nsattributedstring", "title": "Inconsistent behavior of kerning in NSAttributedString", "body": "<p>I need to use <a href=\"https://developer.apple.com/documentation/foundation/nsattributedstring/key/1527891-kern\" rel=\"nofollow noreferrer\">Kern attribute</a> of <code>NSAttributedString</code>. As I can see in the documentation, default value of that attribute is 0.0. But I faced with strange behaviour for phrase <code>Hello, world</code> (for phrase \"Hello\" all fine): </p>\n\n<pre><code>NSDictionary&lt;NSString*, id&gt;* attributes = @{NSFontAttributeName: [UIFont systemFontOfSize:12]};\nNSString* text = @\"Hello, World\";\nNSAttributedString* string = [[NSAttributedString alloc] initWithString:text attributes:attributes];\nCGSize size1 = [string size];\n\nNSMutableDictionary&lt;NSString*, id&gt;* attributesWithKernel = [attributes mutableCopy];\nattributesWithKernel[NSKernAttributeName] = @(0.0);\nNSAttributedString* stringWithKern = [[NSAttributedString alloc] initWithString:text attributes:attributesWithKernel];\nCGSize size2 = [stringWithKern size];   \nXCTAssertTrue(CGSizeEqualToSize(size1, size2)); //here test falls\n//size1 = size1 = (width = 68.8125, height = 14.3203125)\n//size2 = (width = 69.515625, height = 14.3203125)\n</code></pre>\n\n<p>To make size1 and size2 equal, kerning should be equal <code>-7.105427357601002e-15</code> , I know that this is very close to 0.0, but it is strange, because this changes the width almost a pixel.<br>\n<code>NSAttributedString</code> has same behaviour in <code>Objective-C</code> and in <code>Swift</code>, example for swift:</p>\n\n<pre><code>    let text = \"Hello, World\"\n    let attributes : [NSAttributedString.Key : Any] = [NSAttributedString.Key.font: UIFont.systemFont(ofSize: UIFont.systemFontSize)]\n    let str = NSAttributedString(string: text, attributes: attributes)\n    let size = str.size()\n\n    var attributesWithKern = attributes\n    attributesWithKern[NSAttributedString.Key.kern] = NSNumber(value: 0.0)\n    let strWithKern = NSAttributedString(string: text, attributes: attributesWithKern)\n    let sizeWithKern = strWithKern.size()\n\n    XCTAssertTrue(size == sizeWithKern)\n</code></pre>\n\n<p>How I can fix this behaviour? </p>\n\n<p><strong>P.S.</strong>\nNow I just remove <code>NSKernAttributeKey</code> from an attribute string if the key equal to 0.0, but I do not think that it is a good solution. </p>\n"}, {"tags": ["ios", "objective-c", "download", "badge", "fileprovider-extension"], "answers": [{"comments": [{"owner": {"reputation": 748, "user_id": 2187037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TkqAV.jpg?s=128&g=1", "display_name": "FrizzTheSnail", "link": "https://stackoverflow.com/users/2187037/frizzthesnail"}, "edited": false, "score": 0, "creation_date": 1568817484, "post_id": 57871278, "comment_id": 102397089, "body": "Thanks! Actually I never found a solution, but we fixed our provider now!"}], "tags": [], "owner": {"reputation": 218, "user_id": 3753338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/595ec5de8b3f9c1b563e25bdbdc39303?s=128&d=identicon&r=PG&f=1", "display_name": "MartinW1985", "link": "https://stackoverflow.com/users/3753338/martinw1985"}, "is_accepted": true, "score": 1, "last_activity_date": 1568130158, "last_edit_date": 1568130158, "creation_date": 1568120071, "answer_id": 57871278, "question_id": 54945869, "link": "https://stackoverflow.com/questions/54945869/nsfileprovideritem-download-badge-always-visible/57871278#57871278", "title": "NSFileProviderItem download badge always visible", "body": "<p>I came across the same problem and although the question is already a \"little\" old, it might help others. Setting the <code>isDownloaded</code> property to yes, gives your item the correct state as you can see in the info popup:</p>\n\n<p>[<img src=\"https://i.stack.imgur.com/ZgFLb.png\" alt=\"download information in popup]\"></p>\n\n<p>The solution is to set the property <code>isMostRecentVersionDownloaded</code> to true if the local file (if existent) is the most recent version on the server. This does not check if the file is really available on the device.</p>\n\n<p>From the docs: </p>\n\n<blockquote>\n  <p>A Boolean value that indicates whether the item is the most recent\n  version downloaded from the server.</p>\n</blockquote>\n"}], "owner": {"reputation": 748, "user_id": 2187037, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TkqAV.jpg?s=128&g=1", "display_name": "FrizzTheSnail", "link": "https://stackoverflow.com/users/2187037/frizzthesnail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 57871278, "answer_count": 1, "score": 1, "last_activity_date": 1568130158, "creation_date": 1551447744, "question_id": 54945869, "link": "https://stackoverflow.com/questions/54945869/nsfileprovideritem-download-badge-always-visible", "title": "NSFileProviderItem download badge always visible", "body": "<p>I'm developing an <strong>NSFileProvider</strong>. In the Files app, in the folder view, the download badge appears next to every file, independently by the value returned by the <strong>isDownloaded</strong> function in the corresponding file provider item, as shown in the figure below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KFxwC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KFxwC.png\" alt=\"The download badge (always visible!)\"></a></p>\n\n<p>The interesting things I noticed are:</p>\n\n<ul>\n<li>If I do not implement the isDownloaded function at all, the badge doesn't appear.</li>\n<li>If I implement the function, the badge is present no matter the return value of the <strong>isDownloaded</strong> function.</li>\n<li>Also implemented the <strong>isDownloading</strong> function and it works fine (the moving circle appears during the download operation, but then reverts to the 'download' badge instead of the white space as on the other providers).</li>\n</ul>\n\n<p>Can you help me hide the badge for the files which were downloaded?</p>\n\n<p>I checked Drive and Dropbox, and the badge works as expected, so I'm missing something for sure.</p>\n\n<p>To double check, I tried to implement isDownloaded to always return true, but the badges still appear. They disappear just when I remove the implementation.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "localization", "localizable.strings"], "comments": [{"owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "edited": false, "score": 0, "creation_date": 1551441946, "post_id": 54944283, "comment_id": 96651193, "body": "see this post, <a href=\"https://medium.com/if-let-swift-programming/working-with-localization-in-swift-4a87f0d393a4\" rel=\"nofollow noreferrer\">medium.com/if-let-swift-programming/&hellip;</a>"}, {"owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "edited": false, "score": 0, "creation_date": 1551443726, "post_id": 54944283, "comment_id": 96652239, "body": "His Please check this video it solved your query :- <a href=\"https://www.youtube.com/watch?v=b9NV81z5ojo\" rel=\"nofollow noreferrer\">youtube.com/watch?v=b9NV81z5ojo</a>"}], "owner": {"reputation": 813, "user_id": 4806586, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-qVy9BA0TAQg/AAAAAAAAAAI/AAAAAAAAABw/rZKI2mYWiQ4/photo.jpg?sz=128", "display_name": "Rohitax Rajguru", "link": "https://stackoverflow.com/users/4806586/rohitax-rajguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1551442020, "answer_count": 0, "score": 0, "last_activity_date": 1551441782, "creation_date": 1551441782, "question_id": 54944283, "link": "https://stackoverflow.com/questions/54944283/change-app-language-without-setting-iphone-languge", "closed_reason": "Duplicate", "title": "Change app language without setting iPhone languge", "body": "<p>Is there any way I change the app language from inside app only. Like if I select English the app behaves in english. If I select Hindi(from in app) than in that case my app restarts(I'll tell user with alert that app is going to restart) and storyboard loads hindi text using there strings file.</p>\n\n<p>It means I don't want to set the language according to device's but according to in app selection.</p>\n"}, {"tags": ["objective-c", "xcode10", "xcode10.1"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1551429410, "post_id": 54940728, "comment_id": 96644579, "body": "Looks like an issue in the alipay SDK.  Post your question <a href=\"https://github.com/alipay/alipay-sdk-python-all/issues\" rel=\"nofollow noreferrer\">here</a>."}], "owner": {"reputation": 61, "user_id": 11134944, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uXGNi4MYC_M/AAAAAAAAAAI/AAAAAAAAAAs/5Nzc69K2LRM/photo.jpg?sz=128", "display_name": "V587 9527", "link": "https://stackoverflow.com/users/11134944/v587-9527"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 999, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1552298915, "creation_date": 1551429192, "last_edit_date": 1551434672, "question_id": 54940728, "link": "https://stackoverflow.com/questions/54940728/ipatool-failed-with-an-exception-cmdspecnonzeroexcitexception-command-exit", "title": "ipatool failed with an exception: #&lt;CmdSpec::NonZeroExcitException: Command exited with pid 29483 exit 1:", "body": "<p><a href=\"https://i.stack.imgur.com/5NfjI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5NfjI.png\" alt=\"enter image description here\"></a></p>\n\n<p>ipatool failed with an exception: #\n\n<p>Stderr:\n    Traceback (most recent call last):\n      File \"\", line 1, in \n    AttributeError: 'str' object has no attribute 'decode'</p>\n\n<p>Xcode10.1\uff0cObjective-C</p>\n"}, {"tags": ["objective-c", "xcode", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1551393754, "post_id": 54935012, "comment_id": 96635143, "body": "I didn&#39;t downvote but what is the question? <code>%s</code> specifies type <code>char*</code> but <code>myString</code> has type <code>NSString**</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1551553125, "post_id": 54935460, "comment_id": 96684779, "body": "@Willeke At least not in a reasonable way."}], "tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 1, "last_activity_date": 1551474859, "last_edit_date": 1551474859, "creation_date": 1551393899, "answer_id": 54935460, "question_id": 54935012, "link": "https://stackoverflow.com/questions/54935012/print-value-of-a-nsstring-which-is-set-inside-a-autoreleasepool/54935460#54935460", "title": "Print value of a NSString which is set inside a autoreleasepool", "body": "<p>(I totally misread the question).</p>\n\n<p>So, yeah-- use '%@' for object types.   Pass *myString to NSLog() to convert an NSString ** to an NSString *.</p>\n\n<p>Note that you should probably be using <code>NSError</code> to encapsulate the errors and you should check to see if your pass by reference parameter is NULL before assigning to it.</p>\n\n<p>See:</p>\n\n<p><a href=\"https://nshipster.com/nserror/\" rel=\"nofollow noreferrer\">https://nshipster.com/nserror/</a></p>\n"}], "owner": {"reputation": 2921, "user_id": 870382, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1014ba58176f5e095219c3447f85285c?s=128&d=identicon&r=PG", "display_name": "Novice User", "link": "https://stackoverflow.com/users/870382/novice-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551474859, "creation_date": 1551391602, "question_id": 54935012, "link": "https://stackoverflow.com/questions/54935012/print-value-of-a-nsstring-which-is-set-inside-a-autoreleasepool", "title": "Print value of a NSString which is set inside a autoreleasepool", "body": "<p>I'm trying to <code>NSLog</code> value of a <code>NSString</code> which is references inside a <code>@autoreleasepool</code>, but XCode complains of <strong>Format specifies type 'char *' but the argument has type 'NSString *__autoreleasing **'</strong></p>\n\n<pre><code>anotherFunction {\n\nNSString *myString = nil;\n compute =  [self checkForError:data myString:&amp;myString];\n}\n\n\n- (NSDictionary *)checkForError:(NSData *)data myString:(NSString **)myString {\n\n    @autoreleasepool { \n            *myString = nil;\n            @try {\n                NSMutableString *myString1 = [[NSMutableString alloc] init];\n                // do something on myString1\n                  *myString = myString1;\n  ------&gt;              NSLog(@\"mutableString is:%s\", myString );  // Format specifies type 'char *' but the argument has type 'NSString *__autoreleasing **'\n            }\n\n    }\n\n    return myDictionary;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "variadic-functions"], "comments": [{"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 1, "creation_date": 1551393454, "post_id": 54934989, "comment_id": 96635056, "body": "Edit your question to include the declaration of type <code>LaunchTask</code>."}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "reply_to_user": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1551393759, "post_id": 54934989, "comment_id": 96635145, "body": "@robmayoff done"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1551394553, "post_id": 54934989, "comment_id": 96635414, "body": "I have used variadic methods with multiple arguments and a variable number of enum values but my enum starts at 1. Is <code>completedError</code> declared in the header as <code>-(void)completedError:(BOOL)error orTasks:(NSNumber*)arg, ... NS_REQUIRES_NIL_TERMINATION;</code>?"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1551394620, "post_id": 54934989, "comment_id": 96635437, "body": "I can&#39;t reproduce this, even running many times. Have you tried moving this into a small test project to reproduce? Is everything being compiled at the same time, or are these in different modules? (This would be strange for <code>NSInteger</code>, but it can have different sizes, and that would cause your problem. I&#39;ve had this kind of problem happen to me when someone redefined <code>BOOL</code>\u2026) I would also make sure to dumb this down to just <code>NSLog</code> the values, and use a debugger to make sure you&#39;re passing what you think you&#39;re passing."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1551394685, "post_id": 54934989, "comment_id": 96635451, "body": "It shouldn&#39;t matter, but you may also want to write your 0 as <code>(LaunchTask)0</code>. It shouldn&#39;t matter, but I&#39;m just trying to eliminate any possible 32/64-bit issues around NSInteger."}, {"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1551395551, "post_id": 54934989, "comment_id": 96635679, "body": "The code you posted isn&#39;t causing the trouble. Something else is. Have you tried running under the address sanitizer?"}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "reply_to_user": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1551472242, "post_id": 54934989, "comment_id": 96666465, "body": "@robmayoff I&#39;ve boiled this down to a super minimal example and it&#39;s still happening. Check out my update"}], "answers": [{"comments": [{"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 1, "creation_date": 1551473753, "post_id": 54952096, "comment_id": 96667004, "body": "It&#39;s absolutely expected. An uncast literal <code>0</code> is an <code>int</code>, and in a variadic argument list, smaller integral types (like <code>char</code> and <code>short</code>) are promoted to <code>int</code> but <code>int</code> is not promoted to <code>long</code>."}, {"owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "reply_to_user": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1551473858, "post_id": 54952096, "comment_id": 96667050, "body": "@robmayoff Thanks for making that explicit. I edited the answer accordingly."}, {"owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1551476735, "post_id": 54952096, "comment_id": 96668018, "body": "Thanks, I&#39;ve switched to passing <code>NSArray&lt;NSNumber*&gt;</code> instead. This variadic approach is too easy to get wrong since the compiler gives almost no help."}, {"owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "reply_to_user": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "edited": false, "score": 0, "creation_date": 1551487514, "post_id": 54952096, "comment_id": 96670863, "body": "@Max Seems reasonable. Variadic functions feel to me like very ancient magic: you can still create them if you wish and they can be quite powerful but have sharp corners, and are perhaps not an ideal fit with the modern world."}], "tags": [], "owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "is_accepted": true, "score": 3, "last_activity_date": 1551669873, "last_edit_date": 1551669873, "creation_date": 1551473356, "answer_id": 54952096, "question_id": 54934989, "link": "https://stackoverflow.com/questions/54934989/calling-variadic-obj-c-method-multiple-times-causes-invalid-arguments-to-appear/54952096#54952096", "title": "Calling variadic Obj-C method multiple times causes invalid arguments to appear", "body": "<p>Your zero termination at the end of the argument list is being passed to your function as an <code>int</code> (32-bit) value, but your <code>va_arg</code> is pulling off an <code>NSInteger</code> (aka <code>long</code>) value from the stack. So you're suctioning in an additional 32 bits off of the stack and looking at all of it as one 64-bit value, half of which is the zero you intended and half of which is whatever happened to be adjacent to it in memory at that time.</p>\n\n<p>You would have to do this to get the behavior that you want:</p>\n\n<pre><code>[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, (NSInteger)0];\n</code></pre>\n\n<p>As Rob Mayoff clarifies in comments below, an uncast zero literal, being an integer value, is treated as an <code>int</code>. Normal C integer promotion rules apply*; in a varargs list, because the arguments have no declared type, smaller integer types are promoted to-- and passed as-- <code>int</code>s. Because the compiler has no visibility into the actual types you expect to see at runtime, that <code>int</code> will not be not promoted to <code>long</code> for you, thus winds up on the stack as an <code>int</code>. </p>\n\n<p>Typically, varargs termination is either done implicitly (<code>printf</code> style foreknowledge of arg number and types) or with a constant like <code>nil</code> which will be the correct width, and those approaches avoid this issue. In the old 32-bit world where enum values were <code>int</code>s, <em>and</em> <code>NSInteger</code> was <code>int</code>, and the default integer promotion was <em>also</em> to <code>int</code>, these distinctions were hidden. </p>\n\n<p>In practice, what this might mean for your code design is that you'd perhaps reserve a special sentinel enum value (not necessarily zero) to use as a list terminator to guarantee it was of the correct type. Or you'd perhaps modify to prepend the number of arguments to the function call. </p>\n\n<p>*See C18 standard \u00a76.3.1.1 ;-) </p>\n\n<hr>\n\n<p><strong>Bonus Explainer: Why did you see the value <code>enum == 4294967296</code>?</strong> </p>\n\n<p>The decimal number 4294967296 is equal to <code>0x0000000100000000</code>. The second (lower) half of that was the 32-bit zero you put there. The upper half looks like it's just the number <code>1</code>. At first I assumed that this would be some other (valid) part of the current stack frame, but some investigation (on a 64-bit Mac using current llvm with Xcode, etc) shows that the compiler sets up the call to <code>-test:...</code> by pushing the enum args with <code>movq</code> (move quad =64bit) and the final zero arg with <code>movl</code> (move long =32bit). Because the stack is 64-bit aligned, a \"hole\" of 32-bits is left (ie, not overwritten) in the stack memory between the penultimate and terminal args. That's the spot that contained the <code>0x1</code>. So you're not reading an adjacent argument, or other value that's valid but used for something else. You're reading a ghost value from some earlier function call's workspace. In my debugging, it doesn't appear to be from the alloc/init of <code>Variable</code>-- it's something prior and unrelated to the test code at hand. </p>\n"}], "owner": {"reputation": 18079, "user_id": 503402, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/873ad707fb34aac8fbdfbfec676e02e9?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/503402/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54952096, "answer_count": 1, "score": 2, "last_activity_date": 1551669873, "creation_date": 1551391470, "last_edit_date": 1551472183, "question_id": 54934989, "link": "https://stackoverflow.com/questions/54934989/calling-variadic-obj-c-method-multiple-times-causes-invalid-arguments-to-appear", "title": "Calling variadic Obj-C method multiple times causes invalid arguments to appear", "body": "<p>I have a variadic method that I want to pass multiple enum values to:</p>\n\n<pre><code>typedef NS_ENUM(NSInteger, Enum) {\n    Enum0 = 0,\n    Enum1 = 1,\n    Enum2 = 2,\n    Enum3 = 3,\n    Enum4 = 4,\n    Enum5 = 5,\n    Enum6 = 6,\n};\n\n@interface Variadics : NSObject\n- (void)test:(Enum)enm, ...;\n@end\n</code></pre>\n\n<p>here's the implementation</p>\n\n<pre><code>@implementation Variadics\n- (void)test:(Enum)enm, ... {\n    va_list args;\n    va_start(args, enm);\n    for (; enm != 0; enm = va_arg(args, Enum))\n    {\n        NSAssert(enm &lt;= Enum6, @\"invalid enum\");\n    }\n    va_end(args);\n}\n@end\n</code></pre>\n\n<p>And here is how I call it:</p>\n\n<pre><code>Variadics* var = [[Variadics alloc] init];\n[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, 0];\n</code></pre>\n\n<p>which works fine! But if I change it to this:</p>\n\n<pre><code>Variadics* var = [[Variadics alloc] init];\n[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, 0];\n[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, 0];\n[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, 0];\n[var test:Enum1, Enum2, Enum3, Enum4, Enum5, Enum6, 0];\n</code></pre>\n\n<p>suddenly I hit that assertion and <code>enum == 4294967296</code>. Even weirder, I hit the assertion <em>on the first call</em>. The three later calls never even run.</p>\n\n<p>What is going on?</p>\n"}, {"tags": ["ios", "objective-c", "opengl", "metal", "glm-math"], "comments": [{"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1551375931, "post_id": 54930382, "comment_id": 96627213, "body": "GLM executes in CPU, not OpenGL, not Metal, not D3D, not any GPU API. The only thing to care about GLM matrices is when passing them to GPU, pay attention to if they must be transposed or not."}, {"owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "edited": false, "score": 4, "creation_date": 1551377420, "post_id": 54930382, "comment_id": 96627967, "body": "In addition to Ripi2&#39;s comment, I&#39;d note that OpenGL and Metal have differently-shaped clip spaces, so you&#39;ll need to ensure that any projection matrices you&#39;re creating take this into account."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1551428220, "post_id": 54930382, "comment_id": 96644058, "body": "@Ripi2 What matrix maths libraries <i>do</i> run on the GPU then?  I thought the best you could attain with these things was the use of simd.  If a maths library did use the GPU then wouldn&#39;t that interfere with your own use of the GPU?"}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1551444884, "post_id": 54930382, "comment_id": 96652916, "body": "@trojanfoe OpenGL, Metal, Vulkan...  must run on the same [new] hardware. So concepts like vertex buffers or shaders are similar for all APIs, perhaps with different names. Shaders are programms that run in the GPU. For OGL they use GLSL language. They can receive matrices, which are used for many things. See any OpenGL tutorial. There&#39;s some lib, like OpenCL that executes partially in the GPU, by using shaders and other features internally."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1551446144, "post_id": 54930382, "comment_id": 96653643, "body": "@Ripi2 Actually looking at your comment you <i>don&#39;t</i> imply that you should be looking for a maths library that works on the GPU.  I got the wrong end of the stick."}], "answers": [{"comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567516420, "post_id": 55260860, "comment_id": 101980055, "body": "Fantastic answer!"}], "tags": [], "owner": {"reputation": 1599, "user_id": 5548098, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b269d67e99a61f7bc9fa580b924ea2a?s=128&d=identicon&r=PG&f=1", "display_name": "ackh", "link": "https://stackoverflow.com/users/5548098/ackh"}, "is_accepted": true, "score": 9, "last_activity_date": 1553092462, "last_edit_date": 1592644375, "creation_date": 1553085098, "answer_id": 55260860, "question_id": 54930382, "link": "https://stackoverflow.com/questions/54930382/is-the-glm-math-library-compatible-with-apples-metal-shading-language/55260860#55260860", "title": "Is the GLM math library compatible with Apple&#39;s metal shading language?", "body": "<p>Overall, the answer is <strong>yes</strong>, GLM is a good fit for apps that utilize Apple's Metal. However, there are a couple of things that need to be considered. Some of those things have already been hinted at in the comments.</p>\n<p>First of all, the <a href=\"https://developer.apple.com/library/archive/documentation/Miscellaneous/Conceptual/MetalProgrammingGuide/Render-Ctx/Render-Ctx.html\" rel=\"noreferrer\">Metal Programming Guide</a> mentions that</p>\n<blockquote>\n<p>Metal defines its Normalized Device Coordinate (NDC) system as a 2x2x1 cube with its center at (0, 0, 0.5)</p>\n</blockquote>\n<p>This means that Metal NDC coordinates are different from OpenGL NDC coordinates because OpenGL defines the NDC coordinate system as a 2x2x2 cube with its center at <code>(0, 0, 0)</code>, i.e. valid OpenGL NDC coordinates must be within</p>\n<pre><code>// Valid OpenGL NDC coordinates\n-1 &lt;= x &lt;= 1\n-1 &lt;= y &lt;= 1\n-1 &lt;= z &lt;= 1\n</code></pre>\n<p>Because GLM was originally tailored for OpenGL, its <code>glm::ortho</code> and <code>glm::perspective</code> functions create projection matrices that transform coordinates into OpenGL NDC coordinates. Because of this, it is necessary to adjust those coordinates to Metal. How this could be achieved is outlined in <a href=\"https://metashapes.com/blog/opengl-metal-projection-matrix-problem/\" rel=\"noreferrer\">this</a> blog post.</p>\n<p>However, there is a more elegant way to fix those coordinates. Interestingly, <a href=\"https://en.wikipedia.org/wiki/Vulkan_(API)\" rel=\"noreferrer\">Vulkan</a> utilizes the same NDC coordinate system as Metal and GLM has already been adapted to work with Vulkan (hint for this found <a href=\"https://github.com/SaschaWillems/Vulkan/issues/45\" rel=\"noreferrer\">here</a>).</p>\n<p>By defining the C/C++ preprocessor macro <code>GLM_FORCE_DEPTH_ZERO_TO_ONE</code> the mentioned GLM projection matrix functions will transform coordinates to work with Metal's / Vulkan's NDC coordinate system. That <code>#define</code> will hence solve the problem with the different NDC coordinate systems.</p>\n<p>Next, it is important to take both the size and alignment of GLM's and Metal's data types into account when exchanging data between Metal shaders and client side (CPU) code. Apple's <a href=\"https://developer.apple.com/metal/Metal-Shading-Language-Specification.pdf\" rel=\"noreferrer\">Metal Shading Language Specification</a> lists both size and alignment for <em>some</em> of its data type.</p>\n<p>For the data types that aren't listed in there, size and alignment can be determined by utilizing C/C++'s <code>sizeof</code> and <code>alignof</code> operators. Interestingly, both operators are supported within Metal shaders. Here are a couple of examples for both GLM and Metal:</p>\n<pre><code>// Size and alignment of some GLM example data types\nglm::vec2 : size:  8, alignment: 4\nglm::vec3 : size: 12, alignment: 4\nglm::vec4 : size: 16, alignment: 4\nglm::mat4 : size: 64, alignment: 4\n\n// Size and alignment of some of Metal example data types\nfloat2        : size:  8, alignment:  8\nfloat3        : size: 16, alignment: 16\nfloat4        : size: 16, alignment: 16\nfloat4x4      : size: 64, alignment: 16\npacked_float2 : size:  8, alignment:  4\npacked_float3 : size: 12, alignment:  4\npacked_float4 : size: 16, alignment:  4\n</code></pre>\n<p>As can be seen from the above table the GLM vector data types match nicely with Metal's packed vector data types both in terms of size and alignment. Note however, that the 4x4 matrix data types don't match in terms of alignment.</p>\n<p>According to <a href=\"https://stackoverflow.com/a/21150698/5548098\">this</a> answer to another SO question, alignment means the following:</p>\n<blockquote>\n<p>Alignment is a restriction on which memory positions a value's first byte can be stored. (It is needed to improve performance on processors and to permit use of certain instructions that works only on data with particular alignment, for example SSE need to be aligned to 16 bytes, while AVX to 32 bytes.)</p>\n<p>Alignment of 16 means that memory addresses that are a multiple of 16 are the only valid addresses.</p>\n</blockquote>\n<p>Therefore we need to be careful to factor in the different alignments when sending 4x4 matrices to Metal shaders. Let's look at an example:</p>\n<p>The following Objective-C struct serves as a buffer to store uniform values to be sent to a Metal vertex shader:</p>\n<pre><code>typedef struct\n{\n  glm::mat4 modelViewProjectionMatrix;\n  glm::vec2 windowScale;\n  glm::vec4 edgeColor;\n  glm::vec4 selectionColor;\n} SolidWireframeUniforms;\n</code></pre>\n<p>This struct is defined in a header file that is included wherever it is required in client side (i.e. CPU side) code. To be able to utilize those values on the Metal vertex shader side we need a corresponding data structure. In case of this example the Metal vertex shader part looks as follows:</p>\n<pre><code>#include &lt;metal_matrix&gt;\n#include &lt;metal_stdlib&gt;\n\nusing namespace metal;\n    \nstruct SolidWireframeUniforms\n{\n  float4x4      modelViewProjectionMatrix;\n  packed_float2 windowScale;\n  packed_float4 edgeColor;\n  packed_float4 selectionColor;\n};\n\n// VertexShaderInput struct defined here...\n\n// VertexShaderOutput struct defined here...\n\nvertex VertexShaderOutput solidWireframeVertexShader(VertexShaderInput input [[stage_in]], constant SolidWireframeUniforms &amp;uniforms [[buffer(1)]])\n{\n  VertexShaderOutput output;\n  // vertex shader code\n}\n</code></pre>\n<p>To transmit data from the client side code to the Metal shader the uniform struct is packaged into a buffer. The below code shows how to create and update that buffer:</p>\n<pre><code>- (void)createUniformBuffer\n{\n  _uniformBuffer = [self.device newBufferWithBytes:(void*)&amp;_uniformData length:sizeof(SolidWireframeUniforms) options:MTLResourceCPUCacheModeDefaultCache];\n}\n\n\n- (void)updateUniforms\n{\n  dispatch_semaphore_wait(_bufferAccessSemaphore, DISPATCH_TIME_FOREVER);\n\n  SolidWireframeUniforms* uniformBufferContent = (SolidWireframeUniforms*)[_uniformBuffer contents];\n  memcpy(uniformBufferContent, &amp;_uniformData, sizeof(SolidWireframeUniforms));\n\n  dispatch_semaphore_signal(_bufferAccessSemaphore);\n}\n</code></pre>\n<p>Note the <code>memcpy</code> call that is used to update the buffer. This is where things can go wrong if the size and alignment of the GLM and Metal data types don't match. Since we simply copy every byte of the Objective-C struct to the buffer and then on Metal shader side, interpret that data again, the data will get misinterpreted on the Metal shader side if the data structures don't match.</p>\n<p>In the case of that example, the memory layout looks as follows:</p>\n<pre><code>                                              104 bytes\n           |&lt;---------------------------------------------------------------------------&gt;|\n           |                                                                             |\n           |         64 bytes              8 bytes         16 bytes         16 bytes     |\n           | modelViewProjectionMatrix   windowScale      edgeColor      selectionColor  |\n           |&lt;-------------------------&gt;|&lt;-----------&gt;|&lt;---------------&gt;|&lt;---------------&gt;|\n           |                           |             |                 |                 |\n           +--+--+--+------------+--+--+--+-------+--+--+-----------+--+--+----------+---+\nByte index | 0| 1| 2|    ...     |62|63|64|  ...  |71|72|    ...    |87|88|   ...    |103|\n           +--+--+--+------------+--+--+--+-------+--+--+-----------+--+--+----------+---+\n                                        ^             ^                 ^\n                                        |             |                 |\n                                        |             |                 +-- Is a multiple of 4, aligns with glm::vec4 / packed_float4\n                                        |             |\n                                        |             +-- Is a multiple of 4, aligns with glm::vec4 / packed_float4\n                                        |\n                                        +-- Is a multiple of 4, aligns with glm::vec2 / packed_float2\n</code></pre>\n<p>With the exception of the 4x4 matix alignment, everything matches well. The misalignment of the 4x4 matrix poses no problem here as visible in the above memory layout. However, if the uniform struct gets modified, alignment or size could become a problem and padding might be necessary in order for it to work properly.</p>\n<p>Lastly, there is something else to be aware of. The alignment of the data types has an impact on the size that needs to be allocated for the uniform buffer. Because the largest alignment that occurs in the <code>SolidWireframeUniforms</code> struct is 16, it seems that the length of the uniform buffer must also be a multiple of 16.</p>\n<p>This is not the case in the above example, where the buffer length is 104 bytes which is not a multiple of 16. When running the app directly from Xcode, a built-in assertion prints the following message:</p>\n<blockquote>\n<p>validateFunctionArguments:3478: failed assertion `Vertex Function(solidWireframeVertexShader): argument uniforms[0] from buffer(1) with offset(0) and length(104) has space for 104 bytes, but argument has a length(112).'</p>\n</blockquote>\n<p>In order to resolve this, we need to make the size of the buffer a multiple of 16 bytes. To do so we just calculate the next multiple of 16 based on the actual length we need. For 104 that would be 112, which is what the assertion above also tells us.</p>\n<p>The following function calculates the next multiple of 16 for a specified integer:</p>\n<pre><code>- (NSUInteger)roundUpToNextMultipleOf16:(NSUInteger)number\n{\n  NSUInteger remainder = number % 16;\n\n  if(remainder == 0)\n  {\n    return number;\n  }\n\n  return number + 16 - remainder;\n}\n</code></pre>\n<p>Now we calculate the length of the uniform buffer using the above function which changes the buffer creation method (posted above) as follows:</p>\n<pre><code>- (void)createUniformBuffer\n{\n  NSUInteger bufferLength = [self roundUpToNextMultipleOf16:sizeof(SolidWireframeUniforms)];\n  _uniformBuffer = [self.device newBufferWithBytes:(void*)&amp;_uniformData length:bufferLength options:MTLResourceCPUCacheModeDefaultCache];\n}\n</code></pre>\n<p>That should resolve issue detected by the mentioned assertion.</p>\n"}], "owner": {"reputation": 1599, "user_id": 5548098, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1b269d67e99a61f7bc9fa580b924ea2a?s=128&d=identicon&r=PG&f=1", "display_name": "ackh", "link": "https://stackoverflow.com/users/5548098/ackh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 3, "accepted_answer_id": 55260860, "answer_count": 1, "score": 3, "last_activity_date": 1553092462, "creation_date": 1551371924, "last_edit_date": 1551373229, "question_id": 54930382, "link": "https://stackoverflow.com/questions/54930382/is-the-glm-math-library-compatible-with-apples-metal-shading-language", "title": "Is the GLM math library compatible with Apple&#39;s metal shading language?", "body": "<p>I'm about to port an iOS app that utilizes OpenGL written in C++ to Apple's Metal. The goal is to completely get rid of OpenGL and replace it with Metal.</p>\n\n<p>The OpenGL code is layered and I'm attempting to just replace the renderer, i.e. the class that actually calls OpenGL functions. However, the entire code base utilizes the GLM math library to represent vectors and matrices.</p>\n\n<p>For example there is a camera class that provides the view and projection matrix. Both of them are of type <code>glm::mat4</code> and are simply passed to the GLSL vertex shader where they are compatible with the <code>mat4</code> data type given by GLSL. I would like to utilize that camera class as it is to send those matrices to the Metal vertex shader. Now, I'm not sure whether <code>glm::mat4</code> is compatible with Metal's <code>float4x4</code>.</p>\n\n<p>I don't have a working example where I can test this because I literally just started with Metal and can't find anything useful online.</p>\n\n<p>So my questions are as follows:</p>\n\n<ol>\n<li>Are GLM types such as <code>glm::mat4</code> and <code>glm::vec4</code> compatible with Metal's <code>float4x4</code> / <code>float4</code>?</li>\n<li>If the answer to question 1. is yes, am I having any disadvantages if I directly use GLM types in Metal shaders?</li>\n</ol>\n\n<p>The background regarding question 2. is that I came across Apple's SIMD library that provides another set of data types which I would not be able to use in such a case, right?</p>\n\n<p>The app is iOS only, I don't care about running Metal on macOS at all.</p>\n\n<p>Code snippets (preferably Objective-C (yes, no joke))  would be very welcome.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "nsnotificationcenter"], "comments": [{"owner": {"reputation": 1362, "user_id": 423646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ebeb5d78248ae027d11be953d3e724ed?s=128&d=identicon&r=PG", "display_name": "ThE uSeFuL", "link": "https://stackoverflow.com/users/423646/the-useful"}, "edited": false, "score": 3, "creation_date": 1551375508, "post_id": 54930376, "comment_id": 96626975, "body": "Check whether you are posting the notification before adding the observer."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551375694, "post_id": 54930376, "comment_id": 96627086, "body": "Should work... just did a quick, very simple test without problems. Example code is here (<code>ViewController.swift</code>, <code>MyTestClass.h</code>, <code>MyTestClass.m</code>, <code>ProjName-Bridging-Header.h</code>) if you want to compare: <a href=\"https://gist.github.com/DonMag/a6fa54512b5fb0fb8a227b996f6ff93b\" rel=\"nofollow noreferrer\">gist.github.com/DonMag/a6fa54512b5fb0fb8a227b996f6ff93b</a>"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551375845, "post_id": 54930376, "comment_id": 96627170, "body": "my code also look lis same righ ?"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551376167, "post_id": 54930376, "comment_id": 96627348, "body": "its look very same...but not sure why its not getting trigger..."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1551382647, "post_id": 54930376, "comment_id": 96630459, "body": "@david - are you sure your Swift class (I&#39;m assuming it&#39;s a <code>UIViewController</code> subclass?) has been instantiated and is in scope when the notification fires?"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 1362, "user_id": 423646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ebeb5d78248ae027d11be953d3e724ed?s=128&d=identicon&r=PG", "display_name": "ThE uSeFuL", "link": "https://stackoverflow.com/users/423646/the-useful"}, "edited": false, "score": 0, "creation_date": 1551424447, "post_id": 54930376, "comment_id": 96642509, "body": "@ThEuSeFuL i checked its correct only. also updated the code with some warning: could not execute support code to read Objective-C class data in the process. This may reduce the quality of type information available."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551424875, "post_id": 54930376, "comment_id": 96642659, "body": "is this possible to attach your project"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551424954, "post_id": 54930376, "comment_id": 96642688, "body": "Its an full project...but when i do as seperate project its working fine...."}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551424976, "post_id": 54930376, "comment_id": 96642697, "body": "i have updated the full code only"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551425068, "post_id": 54930376, "comment_id": 96642724, "body": "@Anbu.Karthik i updated my full code for ur referance"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551425231, "post_id": 54930376, "comment_id": 96642780, "body": "But ` NSLog(@&quot;Finished!&quot;);` is getting printed in my console"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551426750, "post_id": 54930376, "comment_id": 96643403, "body": "@Anbu.Karthik   i created an sample project <a href=\"https://drive.google.com/file/d/1e9_DTFL7RQY-3qtBcwTGG2uCmU3Gr8gu/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1e9_DTFL7RQY-3qtBcwTGG2uCmU3Gr8gu/&hellip;</a>"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551426763, "post_id": 54930376, "comment_id": 96643414, "body": "@Anbu.Karthik  this is also not working"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551426906, "post_id": 54930376, "comment_id": 96643479, "body": "okay give the time I will check and let u know"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551426980, "post_id": 54930376, "comment_id": 96643521, "body": "@Anbu.Karthik sure thanks u"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551445595, "post_id": 54930376, "comment_id": 96653314, "body": "@Anbu.Karthik  any luck on that ?"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551446371, "post_id": 54930376, "comment_id": 96653777, "body": "I am not seen bro"}], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551503528, "post_id": 54946790, "comment_id": 96673163, "body": "thanks for ur solution. But one small changes. I am using nsobjec class not view controller for obj c.. So i am getting some warning like <code>&#39;NSObject&#39; may not respond to &#39;viewDidLoad&#39;</code> in my view did load method. How can i make initialize for nsobject class for <code>_swiftVC = [SocreBoardVC new];</code> ?"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551504390, "post_id": 54946790, "comment_id": 96673306, "body": "And when i do <code>@property (strong, nonatomic) VidwController *swiftVC;</code> it is mandatory to do like this <code>#import &quot;notificationCenter-Swift.h&quot;</code> bec when i do that i am getting some protocal, delage issue for google sign in inside <code>#import &quot;notificationCenter-Swift.h&quot;</code>.Attached screenshots too"}, {"owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551504921, "post_id": 54946790, "comment_id": 96673393, "body": "but i used that delegate methods in my login vc already inside extensions"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "reply_to_user": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551540569, "post_id": 54946790, "comment_id": 96681427, "body": "<code>_swiftVC = [SocreBoardVC new];</code> does not need to be in <code>viewDidLoad</code> ... it can be anywhere that you want to execute it. The problem was that you never instantiated the Swift class --- you had a Swift file in your project, and expected some magic to make it do something."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "reply_to_user": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "edited": false, "score": 0, "creation_date": 1551540911, "post_id": 54946790, "comment_id": 96681528, "body": "As to your next question -- <i>&quot;cannot find protocol declaration for GIDSignInDelegate&quot;</i> --  I can&#39;t possibly know that much about your code that I have never seen. And, that&#39;s an entirely different issue from what this question was about."}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": true, "score": 0, "last_activity_date": 1551451033, "creation_date": 1551451033, "answer_id": 54946790, "question_id": 54930376, "link": "https://stackoverflow.com/questions/54930376/notificationcenter-is-not-getting-trigger-in-my-obj-c-class-utills-class-or-ob/54946790#54946790", "title": "NotificationCenter is not getting trigger in my obj c class ( utills class or object class ). Not an viewcontroller", "body": "<p>Looking at your sample project, the main problem is that you <em>never instantiate</em> the Swift <code>ViewController</code> class. So, the <code>NotificationCenter.default.addObserver</code> code never runs, and the object doesn't exist to get the notification anyway.</p>\n\n<p>In your <code>testLogin.m</code> class, you need to create a <code>ViewController</code> property, and instantiate the class. Make it a property and not a local variable so it doesn't go out of scope.</p>\n\n<p>You also need to make a couple changes to your Swift class. Presumably, you intend to load this as a <code>UIViewController</code>, so you <em>could</em> leave the <code>.addObserver</code> line in <code>viewDidLoad()</code>, but... if you haven't yet done anything to actually load the view, that won't be called either. Better to implement the <code>init</code> methods and do it there.</p>\n\n<p>In your sample project, replace <code>ViewController.swift</code> with:</p>\n\n<pre><code>//\n//  ViewController.swift\n//  notificationCenter\n//\n//  Created by SATHISH on 3/1/19.\n//  Copyright \u00a9 2019 sathish. All rights reserved.\n//\n\nimport UIKit\n\n@objc class ViewController: UIViewController {\n\n    override init(nibName nibNameOrNil: String?, bundle nibBundleOrNil: Bundle?) {\n        super.init(nibName: nibNameOrNil, bundle: nibBundleOrNil)\n        print(\"Swift ViewController class init(nibName nibNameOrNil: String?, bundle nibBundleOrNil: Bundle?) was called.\")\n        setupNotif()\n    }\n\n    required init?(coder aDecoder: NSCoder) {\n        super.init(coder: aDecoder)\n        print(\"Swift ViewController class init?(coder aDecoder) was called.\")\n        setupNotif()\n    }\n\n    init() {\n        super.init(nibName: nil, bundle: nil)\n        print(\"Swift ViewController class init() was called.\")\n        setupNotif()\n    }\n\n    func setupNotif() -&gt; Void {\n        NotificationCenter.default.addObserver(self, selector: #selector(self.openScoreBoard(notification:)), name: Notification.Name(\"openScoreBoard\"), object: nil)\n    }\n\n    @objc func openScoreBoard(notification: Notification) {\n        print(\"Swift openScoreBoard(notification: Notification) was triggered!\")\n    }\n}\n</code></pre>\n\n<p>and replace testLogin.m with this:</p>\n\n<pre><code>//\n//  testLogin.m\n//  notificationCenter\n//\n//  Created by SATHISH on 3/1/19.\n//  Copyright \u00a9 2019 sathish. All rights reserved.\n//\n\n#import \"testLogin.h\"\n#import \"notificationCenter-Swift.h\"\n\n@interface testLogin ()\n\n@property (strong, nonatomic) ViewController *swiftVC;\n\n@end\n\n@implementation testLogin\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    // instantiate an instance of the Swift ViewController\n    _swiftVC = [ViewController new];\n\n}\n\n- (IBAction)clickedAction:(id)sender {\n\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n         NSDictionary* userInfo = @{@\"gameScore\": @\"123\", @\"gameID\": @\"123\", @\"gameSkillID\": @\"123\"};\n        [[NSNotificationCenter defaultCenter] postNotificationName:@\"openScoreBoard\" object:nil userInfo:userInfo];\n        NSLog(@\"Finished!\");\n    });\n}\n\n@end\n</code></pre>\n\n<p>There are only a few changes -- if you compare your originals with these, the diffs will be obvious.</p>\n"}], "owner": {"reputation": 596, "user_id": 5203412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cf7de91abccbf5244644442040540a64?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/5203412/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 54946790, "answer_count": 1, "score": 0, "last_activity_date": 1551504889, "creation_date": 1551371912, "last_edit_date": 1551504889, "question_id": 54930376, "link": "https://stackoverflow.com/questions/54930376/notificationcenter-is-not-getting-trigger-in-my-obj-c-class-utills-class-or-ob", "title": "NotificationCenter is not getting trigger in my obj c class ( utills class or object class ). Not an viewcontroller", "body": "<p>I have one obj c class, swift file. And here is my code :</p>\n\n<pre><code>#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)\n\n#include \"InterfaceManagerInstance.h\"\n\nvoid IOSInterfaceManager::testMethod() {}\nvoid IOSInterfaceManager::initialize(){\n}\nstd::string IOSInterfaceManager::getColorPrimary(){\n    return \"\";\n}\n\n\nvoid IOSInterfaceManager::onOver(int nameID,int fameid, int nickNameID){\n\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n            [[NSNotificationCenter defaultCenter] postNotificationName:@\"openBoard\" object:nil userInfo:userInfo];\n            NSLog(@\"Finished!\");\n\n        });\n\n    }\n</code></pre>\n\n<p><code>userInfo:userInfo</code> is my NSDictionary.</p>\n\n<p>.h file code :</p>\n\n<pre><code>class IOSInterfaceManager : public InterfaceManager\n{\npublic:\nvoid onOver(int nameID,int fameid, int nickNameID);\n};\n</code></pre>\n\n<p>Now in my swift file :</p>\n\n<pre><code>override func viewDidLoad() {\n        super.viewDidLoad()\n NotificationCenter.default.addObserver(self, selector: #selector(self.openBoard(notification:)), name: Notification.Name(\"openBoard\"), object: nil)\n}\n\n    @objc func openBoard(notification: Notification) {\n\n\n    }\n</code></pre>\n\n<p>Now in my obj c class <code>NSLog(@\"Finished!\");</code> this is getting print in my console. But <code>openBoard</code> is not printing. Not sure what that the issue here. Any help would be useful.</p>\n\n<p>Thanks in advance !</p>\n\n<p>Update :</p>\n\n<p>When i add breakpoint in my <code>NSNotificationCenter</code> i am getting this warning :</p>\n\n<blockquote>\n  <p>warning: could not execute support code to read Objective-C class data\n  in the process. This may reduce the quality of type information\n  available.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/Zy17l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zy17l.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "one-time-password", "totp"], "comments": [{"owner": {"reputation": 1362, "user_id": 423646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ebeb5d78248ae027d11be953d3e724ed?s=128&d=identicon&r=PG", "display_name": "ThE uSeFuL", "link": "https://stackoverflow.com/users/423646/the-useful"}, "edited": false, "score": 0, "creation_date": 1551375650, "post_id": 54930366, "comment_id": 96627051, "body": "Share some code or names of libraries please."}, {"owner": {"reputation": 1, "user_id": 11131703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3A-a7bHfvbs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu65EJpx95nXdsXJ5XNlyo6oIuZg/mo/photo.jpg?sz=128", "display_name": "Tuncay mzd", "link": "https://stackoverflow.com/users/11131703/tuncay-mzd"}, "reply_to_user": {"reputation": 1362, "user_id": 423646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ebeb5d78248ae027d11be953d3e724ed?s=128&d=identicon&r=PG", "display_name": "ThE uSeFuL", "link": "https://stackoverflow.com/users/423646/the-useful"}, "edited": false, "score": 0, "creation_date": 1551431327, "post_id": 54930366, "comment_id": 96645468, "body": "I use this implementation : &quot;<a href=\"https://github.com/shashankvaibhav/TOTPImplementationIOS/tree/master/TOTP/Classes\" rel=\"nofollow noreferrer\">github.com/shashankvaibhav/TOTPImplementationIOS/tree/maste&zwnj;&#8203;r/&hellip;</a>&quot; but I can not find a compatible algo in java."}, {"owner": {"reputation": 1, "user_id": 11131703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3A-a7bHfvbs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu65EJpx95nXdsXJ5XNlyo6oIuZg/mo/photo.jpg?sz=128", "display_name": "Tuncay mzd", "link": "https://stackoverflow.com/users/11131703/tuncay-mzd"}, "reply_to_user": {"reputation": 1362, "user_id": 423646, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ebeb5d78248ae027d11be953d3e724ed?s=128&d=identicon&r=PG", "display_name": "ThE uSeFuL", "link": "https://stackoverflow.com/users/423646/the-useful"}, "edited": false, "score": 0, "creation_date": 1551879275, "post_id": 54930366, "comment_id": 96801710, "body": "I changed the implementation and that solved my problem : <a href=\"https://github.com/google/google-authenticator/tree/master/mobile/ios\" rel=\"nofollow noreferrer\">github.com/google/google-authenticator/tree/master/mobile/io&zwnj;&#8203;s</a>"}], "owner": {"reputation": 1, "user_id": 11131703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3A-a7bHfvbs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu65EJpx95nXdsXJ5XNlyo6oIuZg/mo/photo.jpg?sz=128", "display_name": "Tuncay mzd", "link": "https://stackoverflow.com/users/11131703/tuncay-mzd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551394368, "creation_date": 1551371877, "last_edit_date": 1551394368, "question_id": 54930366, "link": "https://stackoverflow.com/questions/54930366/how-to-implement-totp-authentication-that-is-compatible-with-java-and-objective", "title": "How to implement TOTP authentication that is compatible with java and objective-c", "body": "<p>I have a problem with TOTP authentification.</p>\n\n<p>My server (java) generates a secret key and transmits it to my android and\nios applications. At the time of authentication, my mobile application runs the TOTP algorithm, taking the secret key as parameter and sending the result to the server. The server also takes this secret key and executes the TOTP algorithm and checks if the result is identical. My current problem is that the java-side algorithm returns a different result from the iOS-rated algorithm (objective-c). Do you have an algorithm running on both sides or a solution to be able to have an identical result please?</p>\n"}, {"tags": ["objective-c", "xml", "cocoa"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 3501525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307bbd9e6e695a062b55d6f7a3d4a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Simakov", "link": "https://stackoverflow.com/users/3501525/anton-simakov"}, "edited": false, "score": 0, "creation_date": 1551447249, "post_id": 54930387, "comment_id": 96654261, "body": "What about attribute values? I believe that <code>\\n</code> in attribute values must be escaped."}, {"owner": {"reputation": 22031, "user_id": 13263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/938b7f6d039125f37271fd42104fbf37?s=128&d=identicon&r=PG", "display_name": "slf", "link": "https://stackoverflow.com/users/13263/slf"}, "reply_to_user": {"reputation": 263, "user_id": 3501525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307bbd9e6e695a062b55d6f7a3d4a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Simakov", "link": "https://stackoverflow.com/users/3501525/anton-simakov"}, "edited": false, "score": 0, "creation_date": 1551532558, "post_id": 54930387, "comment_id": 96679263, "body": "Pretty sure the same goes for attribute values"}, {"owner": {"reputation": 263, "user_id": 3501525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307bbd9e6e695a062b55d6f7a3d4a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Simakov", "link": "https://stackoverflow.com/users/3501525/anton-simakov"}, "edited": false, "score": 0, "creation_date": 1551688001, "post_id": 54930387, "comment_id": 96716659, "body": "It seems no. According to the doc <a href=\"https://www.w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping\" rel=\"nofollow noreferrer\">w3.org/TR/2000/WD-xml-c14n-20000119.html#charescaping</a> it must be escaped for XML version 1.0"}], "tags": [], "owner": {"reputation": 22031, "user_id": 13263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/938b7f6d039125f37271fd42104fbf37?s=128&d=identicon&r=PG", "display_name": "slf", "link": "https://stackoverflow.com/users/13263/slf"}, "is_accepted": false, "score": 2, "last_activity_date": 1551371945, "creation_date": 1551371945, "answer_id": 54930387, "question_id": 54930261, "link": "https://stackoverflow.com/questions/54930261/why-nsxmldocument-doesnt-escape-newline-character-n/54930387#54930387", "title": "Why NSXMLDocument doesn&#39;t escape newline character (\\n)", "body": "<p>Because <code>\\n</code> is valid xml.  If you really want values to be URL encoded, you'll need to encode them.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8088473/how-do-i-url-encode-a-string/8088484\">How do I URL encode a string</a></p>\n"}], "owner": {"reputation": 263, "user_id": 3501525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9307bbd9e6e695a062b55d6f7a3d4a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Simakov", "link": "https://stackoverflow.com/users/3501525/anton-simakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1551371945, "creation_date": 1551371485, "last_edit_date": 1551371917, "question_id": 54930261, "link": "https://stackoverflow.com/questions/54930261/why-nsxmldocument-doesnt-escape-newline-character-n", "title": "Why NSXMLDocument doesn&#39;t escape newline character (\\n)", "body": "<p>I'm running this code:</p>\n\n<pre><code>NSXMLElement *element = [NSXMLElement elementWithName:@\"name\" stringValue:@\"value\\n\"];\nNSXMLDocument *document = [[NSXMLDocument alloc] initWithRootElement:element];\nNSLog(@\"%@\", document.XMLString);\n</code></pre>\n\n<p>And I'm getting this result:</p>\n\n<pre><code>&lt;name&gt;value\n&lt;/name&gt;\n</code></pre>\n\n<p>But I'm expecting the result to be:</p>\n\n<pre><code>&lt;name&gt;value&amp;#xA;&lt;/name&gt;\n</code></pre>\n\n<p>Does anybody know why <code>NSXMLDocument</code> doesn't escape <code>\\n</code>? Is it an expected behavior?</p>\n\n<p>I also tried <code>XMLStringWithOptions:</code> with different options, e.g. <code>NSXMLNodePreserveWhitespace</code>, but with no luck.</p>\n"}, {"tags": ["objective-c", "swift", "macos", "desktop-application", "nsworkspace"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 6916338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772cfc99227b51134f866f6079aef62b?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sun", "link": "https://stackoverflow.com/users/6916338/red-sun"}, "edited": false, "score": 0, "creation_date": 1551371660, "post_id": 54930287, "comment_id": 96625041, "body": "I believe that would make the app non-AppStorable?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 149, "user_id": 6916338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772cfc99227b51134f866f6079aef62b?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sun", "link": "https://stackoverflow.com/users/6916338/red-sun"}, "edited": false, "score": 0, "creation_date": 1551372439, "post_id": 54930287, "comment_id": 96625469, "body": "I have no idea, but you said were willing to use &quot;private APIs&quot;, so the App Store is already out of the question. You can&#39;t have your cake and eat it too."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1551371573, "creation_date": 1551371573, "answer_id": 54930287, "question_id": 54930161, "link": "https://stackoverflow.com/questions/54930161/how-to-hide-fullscreen-apps-in-macos-programmatically/54930287#54930287", "title": "How to hide fullscreen apps in MacOS programmatically", "body": "<p>Assuming you can get around sandboxing, you can use AppleScript to tell System Events to tell the process in question to set its <code>attribute \"AXFullScreen\" of window 1 to false</code>.</p>\n"}], "owner": {"reputation": 149, "user_id": 6916338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772cfc99227b51134f866f6079aef62b?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sun", "link": "https://stackoverflow.com/users/6916338/red-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 54930287, "answer_count": 1, "score": 2, "last_activity_date": 1551371573, "creation_date": 1551371182, "question_id": 54930161, "link": "https://stackoverflow.com/questions/54930161/how-to-hide-fullscreen-apps-in-macos-programmatically", "title": "How to hide fullscreen apps in MacOS programmatically", "body": "<p>I'm trying to make an app that would hide other windows/apps with a certain interval, but I'm stuck with hiding fullscreen app windows using NSWorkspace and NSRunningApplication classes. </p>\n\n<p>Is there any way to exit fullscreen mode programmatically using public APIs? If not, what private APIs I need to look at to achieve this task?</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10800719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d01c2c90be485a8cb9bb588cffec13?s=128&d=identicon&r=PG&f=1", "display_name": "Sidd Mobilestyx", "link": "https://stackoverflow.com/users/10800719/sidd-mobilestyx"}, "is_accepted": true, "score": 0, "last_activity_date": 1551690317, "creation_date": 1551690317, "answer_id": 54979850, "question_id": 54929332, "link": "https://stackoverflow.com/questions/54929332/nidropdown-ios-obj-c-not-getting-selected-value/54979850#54979850", "title": "NIDropDown iOS Obj-c - Not getting selected value", "body": "<p>Ok so I don't know if how many people use <a href=\"https://github.com/BijeshNair/NIDropDown\" rel=\"nofollow noreferrer\">https://github.com/BijeshNair/NIDropDown</a> for DropDown in iOS Obj-c. It is one of the best library. </p>\n\n<p>So coming back to answer it was simple, what I did is I changed button type to \"Custom\" earlier it was \"System\".</p>\n"}], "owner": {"reputation": 1, "user_id": 10800719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d01c2c90be485a8cb9bb588cffec13?s=128&d=identicon&r=PG&f=1", "display_name": "Sidd Mobilestyx", "link": "https://stackoverflow.com/users/10800719/sidd-mobilestyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 54979850, "answer_count": 1, "score": 0, "last_activity_date": 1551690396, "creation_date": 1551368434, "last_edit_date": 1551690396, "question_id": 54929332, "link": "https://stackoverflow.com/questions/54929332/nidropdown-ios-obj-c-not-getting-selected-value", "title": "NIDropDown iOS Obj-c - Not getting selected value", "body": "<p>I am using NIDropDown:<a href=\"https://github.com/BijeshNair/NIDropDown\" rel=\"nofollow noreferrer\">https://github.com/BijeshNair/NIDropDown</a>\nWhen i click dropdown and select value it gives me value of previous selected option. I wanted to know what i am doing wrong or is there anything i am missing to do.???</p>\n\n<p>Here is my Code (.h and .m file).</p>\n\n<p>Below is the ViewController.m File</p>\n\n<pre><code>//\n//  ViewController.m\n//  NiDropDown\n//\n//  Created by ****** on 28/02/19.\n//  Copyright \u00a9 2019 *****. All rights reserved.\n//\n\n#import \"ViewController.h\"\n#import \"NIDropDown.h\"\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n\n\n- (IBAction)btn_test:(id)sender\n{\n    NSArray *arr = [[NSArray alloc] init];\n    arr = [NSArray arrayWithObjects:@\"Hello 0\", @\"Hello 1\", @\"Hello 2\", @\"Hello 3\", @\"Hello 4\", @\"Hello 5\", @\"Hello 6\", @\"Hello 7\", @\"Hello 8\", @\"Hello 9\",nil];\n    NSArray *arrImage = [[NSArray alloc] init];\n//    arrImage = [NSArray arrayWithObjects:[UIImage imageNamed:@\"apple.png\"], [UIImage imageNamed:@\"apple2.png\"], [UIImage imageNamed:@\"apple.png\"], [UIImage imageNamed:@\"apple2.png\"], [UIImage imageNamed:@\"apple.png\"], [UIImage imageNamed:@\"apple2.png\"], [UIImage imageNamed:@\"apple.png\"], [UIImage imageNamed:@\"apple2.png\"], [UIImage imageNamed:@\"apple.png\"], [UIImage imageNamed:@\"apple2.png\"], nil];\n    if(dropDown1 == nil) {\n        CGFloat f = 200;\n        dropDown1 = [[NIDropDown alloc]showDropDown:sender theHeight:&amp;f theArr:arr theImgArr:arrImage theDirection:@\"down\" withViewController:self];\n        [dropDown1 setDropDownSelectionColor:[UIColor grayColor]];\n        dropDown1.delegate = self;\n    }\n    else {\n        [dropDown1 hideDropDown:sender];\n        //        [self rel];\n    }\n}\n\n- (void) niDropDownDelegateMethod:(UIView *)sender withTitle:(NSString *)title {\n    //    [self rel];\n    UIButton *btn = (UIButton *)sender;\n    [btn setTitle:title forState:UIControlStateNormal];\n    NSLog(@\"%@\", self.btn_test.titleLabel.text);\n\n\n    //    [btnSelect setTitle:title forState:UIControlStateNormal];\n}\n\n- (void)niDropDownHidden:(NIDropDown *)sender{\n    if (sender == dropDown1) {\n        dropDown1 = nil;\n    }else if(sender == dropDown2){\n        dropDown2 = nil;\n    }else{\n        dropDown3 = nil;\n    }\n\n}\n@end\n</code></pre>\n\n<p>Below is the ViewController.h File.</p>\n\n<pre><code>//\n//  ViewController.h\n//  NiDropDown\n//\n//  Created by ******* on 28/02/19.\n//  Copyright \u00a9 2019 ******. All rights reserved.\n//\n\n#import &lt;UIKit/UIKit.h&gt;\n#import \"NIDropDown.h\"\n\n@interface ViewController : UIViewController &lt;NIDropDownDelegate&gt;\n{\n    NIDropDown *dropDown1, *dropDown2, *dropDown3;\n}\n@property (weak, nonatomic) IBOutlet UIButton *btn_test;\n- (IBAction)btn_test:(id)sender;\n\n@end\n</code></pre>\n\n<p>Here is the screenshot of the issue I am facing: <a href=\"https://imgur.com/a/B6KyBrE\" rel=\"nofollow noreferrer\">https://imgur.com/a/B6KyBrE</a></p>\n\n<p>This can be issue of delegate but I can't get through, I will appreciate if my mistake can be highlighted.</p>\n"}, {"tags": ["objective-c", "xamarin.ios", "objective-sharpie"], "comments": [{"owner": {"reputation": 1459, "user_id": 5164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/965fb63f0039221b8505ddb4f421afe2?s=128&d=identicon&r=PG&f=1", "display_name": "Yauhen Sampir", "link": "https://stackoverflow.com/users/5164252/yauhen-sampir"}, "edited": false, "score": 0, "creation_date": 1551448580, "post_id": 54926640, "comment_id": 96655047, "body": "Could you please share github repo which you want to bind?"}, {"owner": {"reputation": 81, "user_id": 5239879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuhGWorgxKU/AAAAAAAAAAI/AAAAAAAAAAA/bmRKJ9WvMvY/photo.jpg?sz=128", "display_name": "Brett Mealor", "link": "https://stackoverflow.com/users/5239879/brett-mealor"}, "reply_to_user": {"reputation": 1459, "user_id": 5164252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/965fb63f0039221b8505ddb4f421afe2?s=128&d=identicon&r=PG&f=1", "display_name": "Yauhen Sampir", "link": "https://stackoverflow.com/users/5164252/yauhen-sampir"}, "edited": false, "score": 0, "creation_date": 1552044354, "post_id": 54926640, "comment_id": 96872430, "body": "Got it working eventually. Managed to generate the bindings by using the following command and flattening the umbrella header file import references: sharpie bind -output MasterPassBindings -namespace MasterPassBindings -sdk iphoneos12.1 -scope Headers Headers/MasterPassKit.h -c -IHeaders -arch arm64."}, {"owner": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1581457144, "post_id": 54926640, "comment_id": 106438439, "body": "Hi! Thank you for your investigation! However, could you actually explain what did you mean by <b>&quot;I first had to flatten the umbrella header&#39;s import reference&quot;</b>? I am not objective-c/c dev, so have no idea about that. Just need to wrap that library for c#-project using."}, {"owner": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1581457176, "post_id": 54926640, "comment_id": 106438456, "body": "Also, you should actually answer to your question as you found the solution! It should be paid off!"}, {"owner": {"reputation": 81, "user_id": 5239879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuhGWorgxKU/AAAAAAAAAAI/AAAAAAAAAAA/bmRKJ9WvMvY/photo.jpg?sz=128", "display_name": "Brett Mealor", "link": "https://stackoverflow.com/users/5239879/brett-mealor"}, "reply_to_user": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1581596184, "post_id": 54926640, "comment_id": 106493243, "body": "Hi @Agat. I had to edit the contents of the MasterPassKit.h header file and update the references to the other header files to make them relative to the umbrella header file location (they&#39;re all stored in the same folder).   E.G. #import &lt;MasterPassKit/MPMasterPass.h&gt; gets updated to #import &quot;MPMasterPass.h&quot;  Hope that helps!"}, {"owner": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1581596294, "post_id": 54926640, "comment_id": 106493302, "body": "Yeah. Thanks for the response! Actually, it went well when I just specified the header explicitly with MyLibrary.framework/Headers/MyLibrary.h -scope MyLibrary.framework/Headers -c -F -sdk ..."}, {"owner": {"reputation": 677, "user_id": 3952573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q21gt.png?s=128&g=1", "display_name": "Pavlos", "link": "https://stackoverflow.com/users/3952573/pavlos"}, "reply_to_user": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1605019644, "post_id": 54926640, "comment_id": 114521086, "body": "@Agat what did the full command end up looking like?"}, {"owner": {"reputation": 4135, "user_id": 691660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2e75b29f877e70fa17f2a3e2808d393?s=128&d=identicon&r=PG", "display_name": "Agat", "link": "https://stackoverflow.com/users/691660/agat"}, "edited": false, "score": 0, "creation_date": 1605179598, "post_id": 54926640, "comment_id": 114574447, "body": "Please have a look at the &quot;update&quot; section."}], "owner": {"reputation": 81, "user_id": 5239879, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuhGWorgxKU/AAAAAAAAAAI/AAAAAAAAAAA/bmRKJ9WvMvY/photo.jpg?sz=128", "display_name": "Brett Mealor", "link": "https://stackoverflow.com/users/5239879/brett-mealor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1149, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1581594155, "creation_date": 1551359754, "last_edit_date": 1581594155, "question_id": 54926640, "link": "https://stackoverflow.com/questions/54926640/binding-mastercard-ios-framework-using-objective-sharpie", "title": "Binding MasterCard iOS framework using Objective Sharpie", "body": "<p>I am attempting to create a Xamarin iOS Binding project for an iOS framework library (zip available <a href=\"https://eudevnebula.blob.core.windows.net/stackoverflow/MasterpassKit_v1_32_build_10.zip?st=2018-02-28T12%3A23%3A00Z&amp;se=2022-03-01T12%3A23%3A00Z&amp;sp=r&amp;sv=2018-03-28&amp;sr=b&amp;sig=k0F7tEeZPObe7L%2BPS3H8jtt8d4RvrAbv36bKU%2FbNMjM%3D\" rel=\"nofollow noreferrer\">here</a>) supplied by MasterCard for the purpose of allowing In-App payments. Note that I am currently attempting to bind the framework supplied for the iPhoneOS platform (<code>MasterpassKit_v1_32_build_11\\iPhoneOS\\MasterPassKit.framework</code>).</p>\n\n<p>I have tried followed the \"Binding an iOS Objective-C Library\" <a href=\"https://docs.microsoft.com/en-us/xamarin/ios/platform/binding-objective-c/walkthrough?tabs=windows\" rel=\"nofollow noreferrer\">walkthrough</a> and am currently stuck with the generation of the ApiDefinition file using Objective Sharpie.</p>\n\n<p>Firstly, just to confirm that the iOS framework was valid, I created two native iOS test applications (Objective-C + Swift) and was able to embed and consume the framework successfully.</p>\n\n<p>I then attempted to run Objective Sharpie using the following commands (while in the directory containing the <code>MasterPassKit.framework</code> directory i.e. <code>\\MasterpassKit_v1_32_build_11\\iPhoneOS\\</code>):</p>\n\n<ol>\n<li><p>I tried using the -framework argument, however this resulted in no\nfiles being generated.</p>\n\n<p>Command:</p>\n\n<pre><code>sharpie bind -framework MasterPassKit.framework -sdk iphoneos12.1\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Parsing 1 header files... While building module 'MasterPassKit'\n  imported from\n  /private/var/folders/hq/z29y24gs1_g_5qvp02vr07dh0000gq/T/com.xamarin.ObjectiveSharpie/c3f67365a4014cc0a4618aa6e0caaa87.h:1:\n  In file included from :1: In file included from\n  ./MasterPassKit.framework/Headers/MasterPassKit.h:21:\n  ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: no 'assign', 'retain', or 'copy' attribute is specified -\n  'assign' is assumed [-Wobjc-property-no-attribute] @property UIView\n  *dimmingView; ^ ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: default property attribute 'assign' not appropriate for\n  non-GC object [-Wobjc-property-no-attribute]</p>\n  \n  <p>Binding... 2 warnings generated.   no types were parsed that could be\n  bound</p>\n  \n  <p>Done. Exiting with error code 1.</p>\n</blockquote></li>\n</ol>\n\n<hr>\n\n<ol start=\"2\">\n<li><p>I then tried using the explicit framework option (with scope\nspecified to the framework header folder). This resulted in a very\nsmall ApiDefinition.cs file with only some global constants defined\nand none of the actual objective-c class definitions.</p>\n\n<p>Command:</p>\n\n<pre><code>sharpie bind -output bindingscoped -sdk iphoneos12.1 -scope MasterPassKit.framework/Headers\n</code></pre>\n\n<p>MasterPassKit.framework/Headers/MasterPassKit.h -c -F .</p>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Parsing 1 header files... In file included from\n  /Users/development/Desktop/iOS/MasterpassKit_v1_32_build_11/iPhoneOS/MasterPassKit.framework/Headers/MasterPassKit.h:21:\n  ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: no 'assign', 'retain', or 'copy' attribute is specified -\n  'assign' is assumed [-Wobjc-property-no-attribute] @property UIView\n  *dimmingView; ^ ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: default property attribute 'assign' not appropriate for\n  non-GC object [-Wobjc-property-no-attribute]</p>\n  \n  <p>Binding...   [write] ApiDefinitions.cs</p>\n  \n  <p>Binding Analysis:   Automated binding is complete, but there are a few\n  APIs which have been flagged with [Verify] attributes. While the\n  entire binding should be audited for best API design practices, look\n  more closely at APIs with the following Verify attribute hints:</p>\n  \n  <p>ConstantsInterfaceAssociation (1 instance):\n      There's no foolproof way to determine with which Objective-C interface an extern variable declaration may be associated.\n  Instances\n  of these are bound as [Field] properties in a partial interface into a\n  nearby concrete interface to produce a more\n      intuitive API, possibly eliminating the 'Constants' interface altogether.</p>\n  \n  <p>Once you have verified a Verify attribute, you should remove it from\n  the binding source code. The presence of Verify attributes\n  intentionally cause build failures.\n       For more information about the Verify attribute hints above, consult the Objective Sharpie documentation by running 'sharpie\n  docs'\n  or visiting the following URL: <a href=\"http://xmn.io/sharpie-docs\" rel=\"nofollow noreferrer\">http://xmn.io/sharpie-docs</a></p>\n  \n  <p>2 warnings generated.</p>\n  \n  <p>Done.</p>\n</blockquote></li>\n</ol>\n\n<hr>\n\n<ol start=\"3\">\n<li><p>I tried using the explicit framework command similar to before,\nhowever I omitted the -scope argument. This resulted in massive\nApiDefinition.cs and StructsAndEnums.cs files containing what I\nassume is mostly referenced framework definitions (due to not being\nscoped to the target frameworks header folder). This also contains\nnumerous verify statements for the core frameworks that would be\nvery time-consuming to work through.</p>\n\n<p>Command:</p>\n\n<pre><code>sharpie bind -output bindingnoscoped -sdk iphoneos12.1 MasterPassKit.framework/Headers/MasterPassKit.h -c -F .\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Parsing 1 header files... In file included from\n  /Users/development/Desktop/iOS/MasterpassKit_v1_32_build_11/iPhoneOS/MasterPassKit.framework/Headers/MasterPassKit.h:21:\n  ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: no 'assign', 'retain', or 'copy' attribute is specified -\n  'assign' is assumed [-Wobjc-property-no-attribute] @property UIView\n  *dimmingView; ^ ./MasterPassKit.framework/Headers/MPPresentationController.h:13:1:\n  warning: default property attribute 'assign' not appropriate for\n  non-GC object [-Wobjc-property-no-attribute]</p>\n  \n  <p>Binding...   [write] ApiDefinitions.cs   [write] StructsAndEnums.cs</p>\n  \n  <p>Binding Analysis:   Automated binding is complete, but there are a few\n  APIs which have been flagged with [Verify] attributes. While the\n  entire binding should be audited for best API design practices, look\n  more closely at APIs with the following Verify attribute hints:</p>\n  \n  <p>ConstantsInterfaceAssociation (201 instances):\n      There's no foolproof way to determine with which Objective-C interface an extern variable declaration may be associated.\n  Instances\n  of these are bound as [Field] properties in a partial interface into a\n  nearby concrete interface to produce a more\n      intuitive API, possibly eliminating the 'Constants' interface altogether.</p>\n  \n  <p>MethodToProperty (192 instances):\n      An Objective-C method was bound as a C# property due to convention such as taking no parameters and returning a value\n  (non-void return).\n  Often methods like these should be bound as properties to surface a\n  nicer API, but sometimes false-positives\n      can occur and the binding should actually be a method.</p>\n  \n  <p>StronglyTypedNSArray (42 instances):\n      A native NSArray* was bound as NSObject[]. It might be possible to more strongly type the array in the binding based on\n  expectations set\n  through API documentation (e.g. comments in the header file) or by\n  examining the array contents through\n      testing. For example, an NSArray* containing only NSNumber* instances can be bound as NSNumber[] instead of NSObject[].</p>\n  \n  <p>PlatformInvoke (3251 instances):\n      In general P/Invoke bindings are not as correct or complete as Objective-C bindings (at least currently). You may need to fix up\n  the\n  library name (it defaults to '__Internal') and return/parameter types\n  manually to conform to C calling\n      conventionsfor the target platform. You may find you don't even want to expose the C API in your binding, but if you do, you'll\n  probably also want to relocate the definition to a more appropriate\n  class and expose a stronger type-safe wrapper.\n      For P/Invoke guidance, see <a href=\"http://www.mono-project.com/docs/advanced/pinvoke/\" rel=\"nofollow noreferrer\">http://www.mono-project.com/docs/advanced/pinvoke/</a>.</p>\n  \n  <p>InferredFromMemberPrefix (29 instances):\n      The name of this originally anonymous declaration was taken from a common prefix of its members.</p>\n  \n  <p>Once you have verified a Verify attribute, you should remove it from\n  the binding source code. The presence of Verify attributes\n  intentionally cause build failures.\n       For more information about the Verify attribute hints above, consult the Objective Sharpie documentation by running 'sharpie\n  docs'\n  or visiting the following URL: <a href=\"http://xmn.io/sharpie-docs\" rel=\"nofollow noreferrer\">http://xmn.io/sharpie-docs</a></p>\n  \n  <p>2 warnings generated.</p>\n  \n  <p>Done.</p>\n</blockquote></li>\n</ol>\n\n<hr>\n\n<p>Please let me know if I'm doing anything incorrectly.</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p><strong>Update</strong></p>\n\n<p>So I eventually got it working. I first had to flatten the umbrella header's import references then I ran the following command to generate a valid ApiDefinition and Struct file:</p>\n\n<pre><code>sharpie bind Headers/MasterPassKit.h -output MasterPassBindings -namespace MasterPassBindings -sdk iphoneos12.1 -scope Headers Headers/MasterPassKit.h -c -IHeaders -arch arm64\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "arabic-support", "rtl-language"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 8851116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9b0ca6a838231aae7ccaa6645a1326?s=128&d=identicon&r=PG&f=1", "display_name": "P. Tsin", "link": "https://stackoverflow.com/users/8851116/p-tsin"}, "edited": false, "score": 0, "creation_date": 1551404382, "post_id": 54926468, "comment_id": 96637657, "body": "I set the semanticContentAttribute property from application:didFinishLaunchingWithOptions: in AppDelegate.m, and that table view controller is not the root view controller. I click a button in the root view controller, then the one that contains the table view is pushed in."}], "tags": [], "owner": {"reputation": 438, "user_id": 8810022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bb06b61170efbb219c92e2636f812e?s=128&d=identicon&r=PG&f=1", "display_name": "Harjot Singh", "link": "https://stackoverflow.com/users/8810022/harjot-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1551359206, "creation_date": 1551359206, "answer_id": 54926468, "question_id": 54926418, "link": "https://stackoverflow.com/questions/54926418/how-to-change-layout-direction-ltr-rtl-inside-ios-app/54926468#54926468", "title": "How to change layout direction (LTR &amp; RTL) inside iOS app?", "body": "<p>This is because your tableview cells is being dequeued, you have to reload the tableview after this line:</p>\n\n<pre><code>[UIView appearance].semanticContentAttribute = UISemanticContentAttributeForceRightToLeft;\n[self.tableview reloadData];\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 8851116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9b0ca6a838231aae7ccaa6645a1326?s=128&d=identicon&r=PG&f=1", "display_name": "P. Tsin", "link": "https://stackoverflow.com/users/8851116/p-tsin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551359206, "creation_date": 1551359041, "question_id": 54926418, "link": "https://stackoverflow.com/questions/54926418/how-to-change-layout-direction-ltr-rtl-inside-ios-app", "title": "How to change layout direction (LTR &amp; RTL) inside iOS app?", "body": "<p>My app supports both English and Arabic. If I change the system language from English to Arabic, the layout automatically becomes right-to-left. </p>\n\n<p>However, I want to add a feature that users can change language from inside my app. Apparently, the layout will remain the same if I just reload the bundle. I googled this and people suggest that after changing language to Arabic I should call</p>\n\n<pre><code>[UIView appearance].semanticContentAttribute = UISemanticContentAttributeForceRightToLeft;\n</code></pre>\n\n<p>But this doesn't work perfectly. In my case, when I push a view controller that contains a table view, the first few lines still remain left-to-right. I have to scroll down a bit to move these cells offscreen, and then scroll them back. At this time they will become right-to-left. </p>\n\n<p>Does anyone know how to fix this?</p>\n"}, {"tags": ["objective-c", "xcode", "uiview", "uinavigationbar"], "comments": [{"owner": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "edited": false, "score": 0, "creation_date": 1551356652, "post_id": 54925506, "comment_id": 96615869, "body": "can use <code>navigationItem.titleView</code> to set custom view."}, {"owner": {"reputation": 83, "user_id": 11019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd6aa2227fb98f3cf65380a9c6348ab?s=128&d=identicon&r=PG&f=1", "display_name": "TheAlphaGhost", "link": "https://stackoverflow.com/users/11019572/thealphaghost"}, "reply_to_user": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "edited": false, "score": 0, "creation_date": 1551357127, "post_id": 54925506, "comment_id": 96616184, "body": "Have you see my code ? I have set <code>navigationItem.titleView</code>."}, {"owner": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "edited": false, "score": 0, "creation_date": 1551358405, "post_id": 54925506, "comment_id": 96616960, "body": "Add <code>UILabel</code> on your custom title view"}, {"owner": {"reputation": 83, "user_id": 11019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd6aa2227fb98f3cf65380a9c6348ab?s=128&d=identicon&r=PG&f=1", "display_name": "TheAlphaGhost", "link": "https://stackoverflow.com/users/11019572/thealphaghost"}, "reply_to_user": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "edited": false, "score": 0, "creation_date": 1551365748, "post_id": 54925506, "comment_id": 96621437, "body": "This is not working"}], "owner": {"reputation": 83, "user_id": 11019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd6aa2227fb98f3cf65380a9c6348ab?s=128&d=identicon&r=PG&f=1", "display_name": "TheAlphaGhost", "link": "https://stackoverflow.com/users/11019572/thealphaghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551356076, "creation_date": 1551356076, "question_id": 54925506, "link": "https://stackoverflow.com/questions/54925506/add-uiview-in-uinavigationbar-behind-largetitletext-title", "title": "Add &quot;UIView&quot; in &quot;UINavigationBar&quot; behind &quot;LargeTitleText&quot; title", "body": "<p>I create a Project in Xcode as \"UINavigationController\" with \"Use Large Title\" option for a bigger NavigationBar.</p>\n\n<p>In background of the title (Example: Testtitle here...) i try to add a \"UIView\" with background image (comes later, as example red colored).</p>\n\n<p>But the <code>setFrame</code>heigh from <code>500px</code> are ignored.</p>\n\n<p>My Question:\nHow i can add a \"UIView\" or \"UIImageView\" in the Background of the \"UINavigationBar\". The final image ( i will set) has a size from 50x50px and should behind the title. <strong>Not</strong> on top.</p>\n\n<p>I wouldn't use \"leftbarbuttonitem\" or \"rightbarbuttonitem\". This button's are on top side. Thats not a option.</p>\n\n<p>Please see the Screenshot as attachment.</p>\n\n<p>Thanks --Christian</p>\n\n<p><a href=\"https://i.stack.imgur.com/mxRyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxRyq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2053324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6742c23ed94d10af9d8731961d23426?s=128&d=identicon&r=PG", "display_name": "iPiyush", "link": "https://stackoverflow.com/users/2053324/ipiyush"}, "edited": false, "score": 0, "creation_date": 1551343272, "post_id": 54920703, "comment_id": 96607995, "body": "thank you kellying !!! is it necessary to have an skip or guest user button, so that user can see the app without getting registered.? as if we are not placing any such type of button, user is insist to get registered with the app"}, {"owner": {"reputation": 15, "user_id": 5667346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01Ga0.png?s=128&g=1", "display_name": "Kelly C.", "link": "https://stackoverflow.com/users/5667346/kelly-c"}, "reply_to_user": {"reputation": 1, "user_id": 2053324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6742c23ed94d10af9d8731961d23426?s=128&d=identicon&r=PG", "display_name": "iPiyush", "link": "https://stackoverflow.com/users/2053324/ipiyush"}, "edited": false, "score": 0, "creation_date": 1551344421, "post_id": 54920703, "comment_id": 96608573, "body": "It isn&#39;t a must to provide a skip or guest button, review team will login with the account you provided."}], "tags": [], "owner": {"reputation": 15, "user_id": 5667346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01Ga0.png?s=128&g=1", "display_name": "Kelly C.", "link": "https://stackoverflow.com/users/5667346/kelly-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1551339849, "creation_date": 1551339849, "answer_id": 54920703, "question_id": 54920561, "link": "https://stackoverflow.com/questions/54920561/will-apple-review-team-allow-to-live-a-native-app-on-appstore/54920703#54920703", "title": "will Apple review team allow to live a native app on AppStore", "body": "<p>You can provide apple review team a registered account when submit for review, put it in App Review Information section in app store connect.</p>\n"}, {"comments": [{"owner": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "reply_to_user": {"reputation": 1, "user_id": 2053324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6742c23ed94d10af9d8731961d23426?s=128&d=identicon&r=PG", "display_name": "iPiyush", "link": "https://stackoverflow.com/users/2053324/ipiyush"}, "edited": false, "score": 0, "creation_date": 1551350605, "post_id": 54923140, "comment_id": 96612318, "body": "@iPiyush accept the answer if works for you, it helps others too in choosing correct answer."}], "tags": [], "owner": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "is_accepted": false, "score": 0, "last_activity_date": 1551348682, "creation_date": 1551348682, "answer_id": 54923140, "question_id": 54920561, "link": "https://stackoverflow.com/questions/54920561/will-apple-review-team-allow-to-live-a-native-app-on-appstore/54923140#54923140", "title": "will Apple review team allow to live a native app on AppStore", "body": "<p>There is no issue with your app and not violating any of Apple human interface guidelines, at time of submission of app on <code>iTunes Store</code> provide testing user credentials, so review team can log-in to app and can check.</p>\n\n<p>When you <code>Prepare for Submission</code> there is option available for <code>Sign-in required</code>, check on this and fill user name and password.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YIQT8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YIQT8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 2053324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6742c23ed94d10af9d8731961d23426?s=128&d=identicon&r=PG", "display_name": "iPiyush", "link": "https://stackoverflow.com/users/2053324/ipiyush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1551348682, "creation_date": 1551339142, "question_id": 54920561, "link": "https://stackoverflow.com/questions/54920561/will-apple-review-team-allow-to-live-a-native-app-on-appstore", "title": "will Apple review team allow to live a native app on AppStore", "body": "<p>our application is accessible only after registration  through social media or signup process on the app itself.(there is no any guest user/skip button by which user can open the App). our question is are we violating the the Apple human interface guidelines? our application will be rejected during review before live on the App store?   </p>\n"}, {"tags": ["ios", "objective-c", "swift", "iphone", "cocoapods"], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 0, "creation_date": 1551349094, "post_id": 54922400, "comment_id": 96611359, "body": "Thank you for your help. I added the check to line 207 and the problem seems to persist."}, {"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "reply_to_user": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 1, "creation_date": 1551349503, "post_id": 54922400, "comment_id": 96611617, "body": "@user3233623 it shouldn&#39;t. I&#39;ve tried and tested it. Maybe our files differs, I&#39;ve checkout Card demo from GitHub today. Could you update your answer, showing where you put the check? You could also post the entire CardPlayer layout function."}, {"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "reply_to_user": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 1, "creation_date": 1551349800, "post_id": 54922400, "comment_id": 96611814, "body": "@user3233623 Yep line is 207, you have to test after the first frame.size.height settings <code>backgroundIV.frame.size.height = originalFrame.height + ( isPresenting ? move&#47;2 : 0 )</code> ;-). I&#39;ve updated my answer. Put the check under this line <code>backgroundIV.frame.size.height = originalFrame.height + ( isPresenting ? move&#47;2 : 0 )</code>"}, {"owner": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 0, "creation_date": 1551349889, "post_id": 54922400, "comment_id": 96611866, "body": "Okay. I edited with an update of the layout function."}, {"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "reply_to_user": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 1, "creation_date": 1551350188, "post_id": 54922400, "comment_id": 96612058, "body": "@user3233623 see my other comments, you have to check after, not before this line <code>backgroundIV.frame.size.height = originalFrame.height + ( isPresenting ? move&#47;2 : 0 )</code>"}, {"owner": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 0, "creation_date": 1551350340, "post_id": 54922400, "comment_id": 96612154, "body": "Thank you for the updates. I added the check to line 208 and am getting the same results."}, {"owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "reply_to_user": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "edited": false, "score": 1, "creation_date": 1551350396, "post_id": 54922400, "comment_id": 96612189, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/189186/discussion-between-shadowsheep-and-user3233623\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 10161, "user_id": 4677951, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fnR1Z.png?s=128&g=1", "display_name": "shadowsheep", "link": "https://stackoverflow.com/users/4677951/shadowsheep"}, "is_accepted": true, "score": 1, "last_activity_date": 1551396234, "last_edit_date": 1551396234, "creation_date": 1551346454, "answer_id": 54922400, "question_id": 54920415, "link": "https://stackoverflow.com/questions/54920415/cardplayer-card-not-loading/54922400#54922400", "title": "CardPlayer Card not loading", "body": "<p>The issue is on <a href=\"https://github.com/PaoloCuscela/Cards/blob/master/Cards/Sources/CardPlayer.swift\" rel=\"nofollow noreferrer\"><code>CardPlayer.swift</code></a> class, specifically under line <code>207</code> (<code>backgroundIV.frame.size.height = originalFrame.height + ( isPresenting ? move/2 : 0 )</code>)</p>\n\n<p>When <code>controller</code> loads the <code>height</code> of <code>backgroundIV</code> is set to <code>0</code>.</p>\n\n<p>Adding this check (under line <code>207</code>) should solve your problem.</p>\n\n<pre><code>// Issue is here\nlet currentHeight = backgroundIV.frame.size.height // &lt;-- new line to store current value\n/* this is line #207 */ backgroundIV.frame.size.height = originalFrame.height + ( isPresenting ? move/2 : 0 ) // This is line 207\n\n// This is the check\nif backgroundIV.frame.size.height &lt;= 0 {\n    print (\"heigh is 0\")\n    backgroundIV.frame.size.height = currentHeight\n}\n</code></pre>\n\n<p>This error instead</p>\n\n<pre><code>Failed to set (icon) user \ndefined inspected property on (Cards.CardPlayer): [&lt;Cards.CardPlayer \n0x15d7c6a0&gt; setValue:forUndefinedKey:]: this class is not key value \ncoding-compliant for the key icon.\n</code></pre>\n\n<p>is related with a User Define Runtime Attribute set to the view in the <code>Main.storyboard</code> that doesn't belong to CardPlayer (you could remove it if you want)</p>\n\n<p><a href=\"https://i.stack.imgur.com/5LjCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5LjCx.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 383, "user_id": 3233623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4b6c1307fdd4c8b515d505a8c5d92f53?s=128&d=identicon&r=PG&f=1", "display_name": "user3233623", "link": "https://stackoverflow.com/users/3233623/user3233623"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "accepted_answer_id": 54922400, "answer_count": 1, "score": 0, "last_activity_date": 1551396234, "creation_date": 1551338518, "last_edit_date": 1551351845, "question_id": 54920415, "link": "https://stackoverflow.com/questions/54920415/cardplayer-card-not-loading", "title": "CardPlayer Card not loading", "body": "<p>In the Cards project, <a href=\"https://github.com/PaoloCuscela/Cards\" rel=\"nofollow noreferrer\">https://github.com/PaoloCuscela/Cards</a> I downloaded the application and ran it and I encountered one problem with the CardPlayer Card. It is not loaded when view is loaded. \nIf one clicks in the white area where the card should be it pops up and is then visible. Seems that the card infos are not being loaded. </p>\n\n<p>When The View Loads</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bc1OS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bc1OS.png\" alt=\"enter image description here\"></a></p>\n\n<p>When the area the card should load in is tapped</p>\n\n<p><a href=\"https://i.stack.imgur.com/MLkuE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MLkuE.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what the debugger console says</p>\n\n<pre><code>Loaded!\nCARDS: Something wrong with the video source URL\nCARDS: Something wrong with the video source URL\n2019-02-27 23:08:50.208 Demo[1841:237619] Failed to set (icon) user \ndefined inspected property on (Cards.CardPlayer): [&lt;Cards.CardPlayer \n0x15d7c6a0&gt; setValue:forUndefinedKey:]: this class is not key value \ncoding-compliant for the key icon.\nLoaded!\n2019-02-27 23:08:55.120 Demo[1841:237619] &lt;UIVisualEffectView \n0x15e7da20&gt; is being asked to animate its opacity. This will cause the \neffect to appear broken until opacity returns to 1.\n</code></pre>\n\n<p>Does anyone know what could be going wrong?</p>\n\n<p>Update: Card Layout Function</p>\n\n<pre><code> override open func layout(animating: Bool = true) {\n    super.layout(animating: animating)\n\n    let gimme = LayoutHelper(rect: backgroundIV.bounds)\n\n    let aspect1016 = backgroundIV.bounds.width *  (10/16)\n    let aspect921 = backgroundIV.bounds.width *  (9/21)\n    let move = ( aspect1016 - aspect921 ) * 2\n\n    subtitleLbl.transform = isPresenting ? \nCGAffineTransform(translationX: 0, y: move) : CGAffineTransform.identity\n    backgroundIV.frame.size.height = originalFrame.height + ( \nisPresenting ? move/2 : 0 )\n    // Issue is here: Line 208\n    let currentHeigh = backgroundIV.frame.size.height\n    backgroundIV.frame.size.height = originalFrame.height + ( \nisPresenting ? move/2 : 0 )\n\n    if backgroundIV.frame.size.height &lt;= 0 {\n        print (\"heigh is 0\")\n        backgroundIV.frame.size.height = currentHeigh\n    }\n    player.view.frame.origin = CGPoint.zero\n    player.view.frame.size = CGSize(width: backgroundIV.bounds.width, \nheight: isPresenting ? aspect1016 : aspect921 )\n    playerCoverIV.frame = player.view.bounds\n\n\n    playPauseV.center = player.view.center\n    playIV.center = \nplayPauseV.contentView.center.applying(CGAffineTransform(translationX: \nLayoutHelper.Width(5, of: playPauseV), y: 0))\n\n    categoryLbl.frame.origin.y = gimme.Y(3, from: player.view)\n    titleLbl.frame.origin.y = gimme.Y(0, from: categoryLbl)\n    titleLbl.sizeToFit()\n\n    categoryLbl.frame = CGRect(x: insets,\n                               y: gimme.Y(3, from: player.view),\n                               width: gimme.X(80),\n                               height: gimme.Y(5))\n\n    titleLbl.frame = CGRect(x: insets,\n                            y: gimme.Y(0, from: categoryLbl),\n                            width: gimme.X(70),\n                            height: gimme.Y(12))\n    titleLbl.sizeToFit()\n\n    subtitleLbl.frame = CGRect(x: insets,\n                               y: gimme.RevY(0, height: gimme.Y(14)) - \ninsets,\n                               width: gimme.X(80),\n                               height: gimme.Y(12))\n}\n\n\n//MARK: - Actions\n\npublic func play() {\n\n    player.playFromCurrentTime()\n    UIView.animate(withDuration: 0.2) {\n        self.playPauseV.transform = CGAffineTransform(scaleX: 0.1, y: \n0.1)\n        self.playPauseV.alpha = 0\n    }\n}\n\npublic func pause() {\n\n    player.pause()\n    UIView.animate(withDuration: 0.1) {\n        self.playPauseV.transform = CGAffineTransform.identity\n        self.playPauseV.alpha = 1\n    }\n}\n\npublic func stop() {\n\n    pause()\n    player.stop()\n}\n\n@objc  func playTapped() {\n\n    play()\n    delegate?.cardPlayerDidPlay?(card: self)\n}\n\n@objc  func playerTapped() {\n\n    pause()\n    delegate?.cardPlayerDidPause?(card: self)\n}\n\nopen override func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: \nUIEvent?) {\n    if touches.first?.view == player.view || touches.first?.view == \nplayPauseV.contentView { playerTapped() }\n    else { super.touchesBegan(touches, with: event) }\n}\n\n}\n\n\n// Player Delegates\nextension CardPlayer: PlayerDelegate {\npublic func playerReady(_ player: Player) {\n\n    player.view.addSubview(playPauseV)\n    playPauseV.frame.size = CGSize(width: playBtnSize, height: \nplayBtnSize)\n    playPauseV.layer.cornerRadius = playPauseV.frame.height/2\n    playIV.frame.size = CGSize(width: LayoutHelper.Width(50, of: \nplayPauseV),\n                               height: LayoutHelper.Width(50, of: \nplayPauseV))\n    playPauseV.center = player.view.center\n    playIV.center = \nplayPauseV.contentView.center.applying(CGAffineTransform(translationX: \nLayoutHelper.Width(5, of: playPauseV), y: 0))\n\n    if isAutoplayEnabled {\n\n        play()\n    } else {\n        pause()\n    }\n}\n\npublic func playerPlaybackStateDidChange(_ player: Player) { }\npublic func playerBufferingStateDidChange(_ player: Player) { }\npublic func playerBufferTimeDidChange(_ bufferTime: Double) { }\n}\n\nextension CardPlayer: PlayerPlaybackDelegate {\n\npublic func playerPlaybackDidEnd(_ player: Player) {\n\n    if shouldRestartVideoWhenPlaybackEnds { player.playFromBeginning() \n}\n    else { playerTapped()  }\n\n}\n\npublic func playerPlaybackWillLoop(_ player: Player) { }\npublic func playerCurrentTimeDidChange(_ player: Player) { }\npublic func playerPlaybackWillStartFromBeginning(_ player: Player) { }\n}\n</code></pre>\n\n<p><strong>Solved</strong> Added <code>backgroundIV.frame.size.height = 300</code> to 208 of CardPlayer.swift</p>\n\n<p>Courtesy of @Shadowsheep in chat</p>\n"}, {"tags": ["objective-c", "xcode10.1"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 1, "creation_date": 1551335295, "post_id": 54919623, "comment_id": 96604630, "body": "The error signifies you are missing the Utils file from your project. You are trying to call it from the three files that are in the error, but the project cannot locate it. Are you sure you have added it to your project?"}, {"owner": {"reputation": 11, "user_id": 10784233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NstYk7FpaGQ/AAAAAAAAAAI/AAAAAAAAFWo/QMwZyO4p__U/photo.jpg?sz=128", "display_name": "Saravana Kumar", "link": "https://stackoverflow.com/users/10784233/saravana-kumar"}, "reply_to_user": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1551336185, "post_id": 54919623, "comment_id": 96604985, "body": "Thank you so much for your quick response. Yes i am damn sure those files have been added in the project. Can you please tell me to how to add the Utils file into my project ?"}, {"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1551337672, "post_id": 54919623, "comment_id": 96605584, "body": "Go to <code>Xcode-&gt;Targets-&gt;Build Phases-&gt;Compile Sources</code> and add the file manually. You might have different targets with various schemas (Debug, Release, etc)."}, {"owner": {"reputation": 11, "user_id": 10784233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NstYk7FpaGQ/AAAAAAAAAAI/AAAAAAAAFWo/QMwZyO4p__U/photo.jpg?sz=128", "display_name": "Saravana Kumar", "link": "https://stackoverflow.com/users/10784233/saravana-kumar"}, "reply_to_user": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1551346353, "post_id": 54919623, "comment_id": 96609668, "body": "Yes it seems everything was added into my project. I don&#39;t know why i am getting this build error ?"}], "owner": {"reputation": 11, "user_id": 10784233, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NstYk7FpaGQ/AAAAAAAAAAI/AAAAAAAAFWo/QMwZyO4p__U/photo.jpg?sz=128", "display_name": "Saravana Kumar", "link": "https://stackoverflow.com/users/10784233/saravana-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551335078, "creation_date": 1551335078, "question_id": 54919623, "link": "https://stackoverflow.com/questions/54919623/xcode-build-failed-due-to-undefined-symbols-for-architecture-x86-64", "title": "Xcode : build failed due to undefined symbols for architecture x86_64", "body": "<p>I am currently using Xcode 10.1.\nI am getting the below error when am taking the build in the application.\n Can anyone tell me what was the issue from this ?\n    I have been added all the frameworks and libraries. Still i am getting build error. </p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"_OBJC_CLASS_$_Utils\", referenced from:\n      objc-class-ref in BakerAPI.o\n      objc-class-ref in ARZineViewController.o\n      objc-class-ref in IssueViewController.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 2, "creation_date": 1551332210, "post_id": 54919009, "comment_id": 96603488, "body": "your question is not clear"}, {"owner": {"reputation": 14588, "user_id": 265341, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/ryRS0.jpg?s=128&g=1", "display_name": "Satyam", "link": "https://stackoverflow.com/users/265341/satyam"}, "edited": false, "score": 0, "creation_date": 1551333043, "post_id": 54919009, "comment_id": 96603770, "body": "You have to provide complete declaration of NSDictionary. One suggestion is to use NSDictionary *usernames = @{......}, where @ is missing before &#39;{&#39;"}, {"owner": {"reputation": 177, "user_id": 5787841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fN_cpX8OrnQ/AAAAAAAAAAI/AAAAAAAAB1M/o3v2X9CHd64/photo.jpg?sz=128", "display_name": "Vikas Jilla", "link": "https://stackoverflow.com/users/5787841/vikas-jilla"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551333149, "post_id": 54919009, "comment_id": 96603809, "body": "@Anbu.Karthik  I updated the question, can you check it"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1551333559, "post_id": 54919009, "comment_id": 96603975, "body": "see this for help : <a href=\"https://stackoverflow.com/questions/13294696/error-getting-valueforkey-in-an-nsdictionary-for-key-containing-character\" title=\"error getting valueforkey in an nsdictionary for key containing character\">stackoverflow.com/questions/13294696/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 4, "last_activity_date": 1551333783, "creation_date": 1551333783, "answer_id": 54919344, "question_id": 54919009, "link": "https://stackoverflow.com/questions/54919009/error-while-getting-values-from-nsdictionary/54919344#54919344", "title": "Error while Getting Values from NSDictionary", "body": "<p><strong>Never</strong> use <code>valueForKey</code> to get a single value from a dictionary unless you know what KVC is and you really need KVC.</p>\n\n<p>The dictionary is empty, the key does not exist and the leading <code>@</code> has a special meaning in KVC so <code>valueForKey</code> crashes in this case.</p>\n\n<p>The proper API is <code>objectForKey</code> but just use modern key subscripting to get at least <code>nil</code> if the key doesn't exist</p>\n\n<pre><code>testValue = userNames[@\"@&amp;\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "is_accepted": false, "score": 1, "last_activity_date": 1551333863, "creation_date": 1551333863, "answer_id": 54919362, "question_id": 54919009, "link": "https://stackoverflow.com/questions/54919009/error-while-getting-values-from-nsdictionary/54919362#54919362", "title": "Error while Getting Values from NSDictionary", "body": "<p><a href=\"https://developer.apple.com/documentation/foundation/nsdictionary/1410210-value\" rel=\"nofollow noreferrer\">Apple doc</a> </p>\n\n<blockquote>\n  <p>If key does not start with \u201c@\u201d, invokes object(forKey:). If key does start with \u201c@\u201d, strips the \u201c@\u201d and invokes [super valueForKey:] with the rest of the key.</p>\n</blockquote>\n\n<p>you may do </p>\n\n<p><code>testValue = [userNames objectForKey:@\"@&amp;\"]</code></p>\n\n<p>or </p>\n\n<p><code>testValue = [userNames valueForKey:@\"&amp;\"]</code></p>\n"}, {"tags": [], "owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "is_accepted": false, "score": 0, "last_activity_date": 1551334289, "creation_date": 1551334289, "answer_id": 54919461, "question_id": 54919009, "link": "https://stackoverflow.com/questions/54919009/error-while-getting-values-from-nsdictionary/54919461#54919461", "title": "Error while Getting Values from NSDictionary", "body": "<p>Probably you are not declaring keys and values. NSDictionary requires you to init with Values and keys. (Whether fetch them from a file or declare them while initializing.</p>\n\n<pre><code>NSDictionary * userNames = [[NSDictionary alloc] initWithObjectsAndKeys:\n                            @\"value1\", @\"key1\",\n                            @\"value2\", @\"key2\",\n                            nil];\n\nNSString * testValue = [userNames valueForKey:@\"key2\"];\nNSLog(@\"%@\", testValue);\n</code></pre>\n\n<p>Also notice that the value is written before and then key is defined. Refer to this <a href=\"https://developer.apple.com/documentation/foundation/nsdictionary/1574190-initwithobjectsandkeys?language=objc\" rel=\"nofollow noreferrer\">document</a>.</p>\n\n<p>If you want to declare the dictionary first (like you did in your question) and then add the values and keys to the dictionary, You have to use NSMutableDictionary.</p>\n\n<pre><code>NSMutableDictionary *userNames1 = [[NSMutableDictionary alloc] init];\n[userNames1 setValue:@\"firstValue\" forKey:@\"key1\"];\n[userNames1 setValue:@\"secondValue\" forKey:@\"key2\"];\n\nNSLog(@\"%@\", [userNames1 valueForKey:@\"key2\"]);\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 5787841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fN_cpX8OrnQ/AAAAAAAAAAI/AAAAAAAAB1M/o3v2X9CHd64/photo.jpg?sz=128", "display_name": "Vikas Jilla", "link": "https://stackoverflow.com/users/5787841/vikas-jilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1551334289, "creation_date": 1551332042, "last_edit_date": 1551333360, "question_id": 54919009, "link": "https://stackoverflow.com/questions/54919009/error-while-getting-values-from-nsdictionary", "title": "Error while Getting Values from NSDictionary", "body": "<p>I am tring to get value from an NSDictionary but getting an Exception that the keys is not defined.</p>\n\n<pre><code>NSDictionary *userNames=[[NSDictionary alloc] init]; \nNSString * testValue = @\"\";\ntestValue = [userNames valueForKey:@\"@&amp;\"];//crashing here when key is @&amp;\n</code></pre>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSUnknownKeyException',\n  reason: '[&lt;__NSDictionaryM 0x2831eeec0> valueForUndefinedKey:]</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "uiimage"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1551374981, "post_id": 54917352, "comment_id": 96626728, "body": "I\u2019m assuming this is a compile-time warning? If so, I suspect that although you set the base class of your progress view, it would appear that your <code>IBOutlet</code> is defined as a <code>UIView</code> rather than a <code>CustomProgress</code>/<code>CustomProgressView</code>."}, {"owner": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1551375808, "post_id": 54917352, "comment_id": 96627154, "body": "That indeed was the problem. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "edited": false, "score": 0, "creation_date": 1551471415, "post_id": 54918794, "comment_id": 96666157, "body": "Is there a reason for mixing &quot;self.&quot; and &quot;_&quot;?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "edited": false, "score": 0, "creation_date": 1551472297, "post_id": 54918794, "comment_id": 96666485, "body": "In <code>setProgress</code>, it\u2019s critical to use <code>_progress</code> (because using <code>self.progress = ...</code> inside <code>setProgress</code> will end up calling <code>setProgress</code> again, causing infinite loop). But elsewhere, it\u2019s prudent to use <code>self.progress</code> (and I have updated <code>updateProgressSubview</code>, above, accordingly)."}, {"owner": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "edited": false, "score": 0, "creation_date": 1551488809, "post_id": 54918794, "comment_id": 96671047, "body": "So using &quot;self.&quot; outside of setProgress: is a stylistic choice?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "edited": false, "score": 0, "creation_date": 1551491502, "post_id": 54918794, "comment_id": 96671484, "body": "It&#39;s best practice, IMHO. 99% of the time, <code>self.progress</code> will just retrieve the contents of <code>_progress</code>, so they\u2019re the same. But what, if at some future date, you decided to implement a custom getter that did something else/extra. If you used <code>_progress</code> ivar throughout your code, you\u2019d have to go back through it and fix all of those references. If you always use the getter where you can, you future-proof your code. Think of the analogy of our custom setter. We did that and then you had some code that update <code>_progress</code> instead, our custom setter would be for naught. Same with getters."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "edited": false, "score": 0, "creation_date": 1551491882, "post_id": 54918794, "comment_id": 96671539, "body": "See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html#//apple_ref/doc/uid/TP40011210-CH5-SW5\" rel=\"nofollow noreferrer\">Use Accessor Methods to Get or Set Property Values</a>. In fact, where they talk about the fact that you can use the synthesized ivars, they say, \u201cit\u2019s best practice for an object to access its own properties using accessor methods or dot syntax...\u201d."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1551472192, "last_edit_date": 1551472192, "creation_date": 1551330684, "answer_id": 54918794, "question_id": 54917352, "link": "https://stackoverflow.com/questions/54917352/objective-c-uiimage-concave-corner-aka-custom-progress-bar/54918794#54918794", "title": "Objective-C UIImage Concave Corner (aka Custom Progress Bar)", "body": "<p>Rather than creating any images at all, I might just apply a <code>cornerRadius</code> to the both the main progress view as well as the view that shows the progress. So, imagine the following view hierarchy:</p>\n\n<p><a href=\"https://i.stack.imgur.com/g6XL2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g6XL2.png\" alt=\"enter image description here\"></a></p>\n\n<p>The main progress view is that white bordered view in the back. That has a subview, the <code>progressSubview</code> (highlighted in blue, above), which shows the progress thus far (and will change as we update the <code>progress</code> property). And the green and blue views just fixed sized subviews of the <code>progressSubview</code> that are revealed as the <code>progressSubview</code>, which clips its subviews, changes size.</p>\n\n<p>Applying corner radii is very easy. And by avoiding any images or custom <code>drawRect</code>, we can animate changes of the <code>progressSubview</code> if we want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wg9Ua.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wg9Ua.gif\" alt=\"enter image description here\"></a></p>\n\n<p>E.g.</p>\n\n<pre><code>//  CustomProgressView.h\n\n@import UIKit;\n\nNS_ASSUME_NONNULL_BEGIN\n\nIB_DESIGNABLE\n@interface CustomProgressView : UIView\n\n@property (nonatomic) CGFloat progress;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>And</p>\n\n<pre><code>//  CustomProgressView.m\n\n#import \"CustomProgressView.h\"\n\n@interface CustomProgressView ()\n\n@property (nonatomic, weak) UIView *progressSubview;\n@property (nonatomic, weak) UIView *greenView;\n@property (nonatomic, weak) UIView *redView;\n\n@end\n\n@implementation CustomProgressView\n\n- (instancetype)init {\n    return [self initWithFrame:CGRectZero];\n}\n\n- (instancetype)initWithCoder:(NSCoder *)aDecoder {\n    if ((self = [super initWithCoder:aDecoder])) {\n        [self configure];\n    }\n    return self;\n}\n\n- (instancetype)initWithFrame:(CGRect)frame {\n    if ((self = [super initWithFrame:frame])) {\n        [self configure];\n    }\n    return self;\n}\n\n- (void)configure {\n    UIView *subview = [[UIView alloc] init];\n    subview.backgroundColor = [UIColor clearColor];\n    subview.clipsToBounds = true;\n    self.layer.borderColor = [[UIColor whiteColor] CGColor];\n    self.layer.borderWidth = 1;\n\n    UIView *redView = [[UIView alloc] init];\n    redView.backgroundColor = [UIColor redColor];\n    self.redView = redView;\n\n    UIView *greenView = [[UIView alloc] init];\n    greenView.backgroundColor = [UIColor greenColor];\n    self.greenView = greenView;\n\n    [self addSubview:subview];\n    [subview addSubview:redView];\n    [subview addSubview:greenView];\n\n    self.progressSubview = subview;\n}\n\n- (void)layoutSubviews {\n    [super layoutSubviews];\n\n    self.layer.cornerRadius = MIN(self.bounds.size.height, self.bounds.size.width) / (CGFloat)2.0;\n    self.progressSubview.layer.cornerRadius = MIN(self.bounds.size.height, self.bounds.size.width) / (CGFloat)2.0;\n    [self updateProgressSubview];\n\n    self.redView.frame = self.bounds;\n\n    CGRect rect = CGRectMake(self.bounds.origin.x, self.bounds.origin.y, self.bounds.origin.x + self.bounds.size.width / 2.0, self.bounds.origin.y + self.bounds.size.height);\n    self.greenView.frame = rect;\n}\n\n- (void)setProgress:(CGFloat)progress {\n    _progress = progress;\n    [self updateProgressSubview];\n}\n\n- (void)updateProgressSubview {\n    CGRect rect = CGRectMake(self.bounds.origin.x, self.bounds.origin.y, self.bounds.origin.x + self.bounds.size.width * self.progress, self.bounds.origin.y + self.bounds.size.height);\n    self.progressSubview.frame = rect;\n}\n\n- (void)prepareForInterfaceBuilder {\n    [super prepareForInterfaceBuilder];\n\n    self.progress = 0.75;\n}\n\n@end\n</code></pre>\n\n<p>Then you can update the progress like so:</p>\n\n<pre><code>[UIView animateWithDuration:0.25 animations:^{\n    self.progressView.progress = 0.75;\n}];\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>...I get a Property 'progress' not found on object of type 'UIView *' semantic warning</p>\n</blockquote>\n\n<p>It would appear that your <code>IBOutlet</code> is defined as a <code>UIView</code> rather than a <code>CustomProgressView</code>.</p>\n"}], "owner": {"reputation": 382, "user_id": 413606, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88c6f826620d7ceab9f8f34ea5b1a782?s=128&d=identicon&r=PG", "display_name": "DataZombies", "link": "https://stackoverflow.com/users/413606/datazombies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 54918794, "answer_count": 1, "score": 0, "last_activity_date": 1551988662, "creation_date": 1551319899, "last_edit_date": 1551988662, "question_id": 54917352, "link": "https://stackoverflow.com/questions/54917352/objective-c-uiimage-concave-corner-aka-custom-progress-bar", "title": "Objective-C UIImage Concave Corner (aka Custom Progress Bar)", "body": "<p>I need help creating this image programmatically in Objective-c. The concave radius is half the image's height.</p>\n\n<p><a href=\"https://i.stack.imgur.com/v5gjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v5gjg.png\" alt=\"Box with circle taken out, than left side taken off\"></a></p>\n\n<p>My goal is to have a progress bar where the left side is an image, the middle is the containing view background color and the right side is a stretchable image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/51jWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/51jWb.png\" alt=\"A color bar with the shape mentioned above at both ends\"></a></p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>@Rob's solution is the way to go. However, I must be implementing it incorrectly.</p>\n\n<p>I created the header and implementation files and added the class to an existing UIView, progressBarView. The CustomProgress views show up in IB and everything looks great...</p>\n\n<p><a href=\"https://i.stack.imgur.com/HXN0q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HXN0q.png\" alt=\"IB example\"></a></p>\n\n<p>...but when I try to set the value of progress with...</p>\n\n<pre><code>self.progressBarView.progress = 0.75;\n</code></pre>\n\n<p>...I get a <code>Property 'progress' not found on object of type 'UIView *'</code> semantic warning.</p>\n"}]