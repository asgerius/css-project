[{"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 123, "user_id": 5386494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57e77804fcbeee88c9f5ab6e551c2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kan Chen", "link": "https://stackoverflow.com/users/5386494/kan-chen"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562191762, "post_id": 56878455, "comment_id": 100305577, "body": "I do import objc file in bridging header. you can see <code>print(&quot;Macro \\(TEST_FLAG)&quot;)</code> runs, and print correct TEST_FLAG"}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562199506, "post_id": 56879257, "comment_id": 100307030, "body": "But that is not conditional compilation, which is what the question is about."}, {"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562203485, "post_id": 56879257, "comment_id": 100307628, "body": "Sorry, you are right, @matt.  I read the question too hurriedly.  Modified the answer."}], "tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1562210994, "last_edit_date": 1562210994, "creation_date": 1562198994, "answer_id": 56879257, "question_id": 56878455, "link": "https://stackoverflow.com/questions/56878455/swift-conditional-compiling-didnt-work-properly-when-i-use-macro-defined-in-obj/56879257#56879257", "title": "Swift conditional compiling didn&#39;t work properly when I use macro defined in objective-c", "body": "<p>Based on this Apple article, <a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/using_imported_c_macros_in_swift\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/using_imported_c_macros_in_swift</a>, simple C (and Objective-C) macros are imported into Swift as global constants.  This is demonstrated by the output from your line </p>\n\n<pre><code>print(\"Macro \\(TEST_FLAG)\")\n</code></pre>\n\n<p>The snippet</p>\n\n<pre><code>    #if TEST_FLAG\n    print(\"compiled XXXxXXXXX\")\n    #endif\n</code></pre>\n\n<p>uses a different <code>TEST_FLAG</code>, which is a Swift preprocessor flag.  You could define it under Build Settings -> Active Compilation Conditions as <code>TEST_FLAG</code> or under Build Settings -> Other Swift Flags as <code>-DTEST_FLAG</code>.</p>\n\n<p>The above explains why this happens.  I can't think of a simple way to avoid defining the same flag separately for Objective-C and Swift preprocessor in Xcode.  If you just want to control whether some Swift code is <strong>executed</strong> based on the <code>TEST_FLAG</code>, you can do something like this:</p>\n\n<pre><code>if TEST_FLAG != 0 {\n        print(\"compiled XXXxXXXXX\")\n}\n</code></pre>\n\n<p>However, if you want to control <strong>compilation</strong> of the code, then you may have to use separate <code>TEST_FLAG</code>s for Objective-C and Swift and make sure they are consistent.  To aid in making them consistent, you could set the <code>TEST_FLAG</code> used by Objective-C code in <code>Other C Flags</code>, which allow you to define different flags for different SDKs, Architectures, and build types (Release/Debug).  Active Compilation Conditions allow the same flexibility.</p>\n\n<p>Another trick to facilitate consistency between (Objective-)C and Swift compiler flags is to create a new user-defined build setting: click on <code>+</code> to the left of the search box under Build Settings.  </p>\n\n<p>Say, call it <code>COMMON_TEST_FLAG</code> and set its value to <code>TEST_FLAG</code>.  Then add <code>-D$(COMMON_TEST_FLAG)</code> to Other C Flags and Other Swift Flags.  Now when you build your code <code>TEST_FLAG</code> will be defined in both Objective-C and Swift code within your target.  If you don't want it to be defined, just change the value of <code>COMMON_TEST_FLAG</code> to something else.  A couple of things to watch for, though:</p>\n\n<ul>\n<li>You cannot make <code>COMMON_TEST_FLAG</code> empty: this will cause the other\nflags to be just -D, leading to a build error. </li>\n<li>Make sure the value of <code>COMMON_TEST_FLAG</code>does not conflict with\nmacros defined elsewhere.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1562207999, "last_edit_date": 1562207999, "creation_date": 1562207608, "answer_id": 56879957, "question_id": 56878455, "link": "https://stackoverflow.com/questions/56878455/swift-conditional-compiling-didnt-work-properly-when-i-use-macro-defined-in-obj/56879957#56879957", "title": "Swift conditional compiling didn&#39;t work properly when I use macro defined in objective-c", "body": "<p>Swift's preprocessor is (intentionally) waaaaaaay more limited than C's. Macros come with really serious draw backs.</p>\n\n<ol>\n<li><p>They define regions of code that aren't active in every build target. Because of this, your tests won't be hitting every branch (or even compiling every branch). This quickly becomes a maintenance disaster. For <code>n</code> unique flags, there are 2^n<code>possible sets of values and thus,</code>2^n` possible builds. Do you have to test each of them? Maybe, maybe not, but even just reasoning about what to test isn't easy.</p></li>\n<li><p>They can get tangled up and incredibly complex, especially with nested blocks. </p></li>\n</ol>\n\n<p>In general, try to express as much of your code in the main programming language (C, ObjC, Swift), and resort to using macros only when there's a good reason, such as:</p>\n\n<ol>\n<li>Reducing repetition in a way that can't be done with a function.</li>\n<li>Improving performance in a critical region of code (by forcing inlining of macro code, e.g. <code>#define max(a, b) ((a) &lt; (b) ? (b) : (a))</code>). Though this is exceptionally rare.</li>\n<li>Expressing a piece of logic that can't be expressed in the language. For example, there's no way to express <code>if #available(...)</code> in Swift, without using the preprocessor.</li>\n</ol>\n\n<p>Your example doesn't meet any of these criteria. It's <em>increasing</em> repetition, it's not performance-critical, and it's not doing something that can't be done in regular Swift code.</p>\n\n<p>A much better approach to this (in both Swift and Objective C), is to create a logger that is initialized with different configurations between debug and release builds. Your <code>viewDidLoad</code> method should not concern itself whether or not <code>TEST_FLAG</code> is set. View controllers should control views, not make decisions as to what things should be logged. It should just call the logger to send off whatever log messages it wants to send, and leave it up to the logger to decide how to log those messages (to an output stream, file, in-memory circular buffer, database, stream to an analytics API, ignore them, etc.)</p>\n"}], "owner": {"reputation": 123, "user_id": 5386494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57e77804fcbeee88c9f5ab6e551c2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Kan Chen", "link": "https://stackoverflow.com/users/5386494/kan-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 56879257, "answer_count": 2, "score": 2, "last_activity_date": 1562210994, "creation_date": 1562191381, "last_edit_date": 1562191843, "question_id": 56878455, "link": "https://stackoverflow.com/questions/56878455/swift-conditional-compiling-didnt-work-properly-when-i-use-macro-defined-in-obj", "title": "Swift conditional compiling didn&#39;t work properly when I use macro defined in objective-c", "body": "<p>I define a simple macro in objective-c header file, and import this header file into Swift through project bridging header. I was able to use this macro as a constant in Swift, but when I use it to do conditional compiling, it doesn't work properly.</p>\n\n<p>I create a simple project in Xcode 10.2.1 and add some code to reproduce it.\nIn ViewController.h</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#define TEST_FLAG 1\n\n@interface ViewController : UIViewController\n@end\n</code></pre>\n\n<p>In ViewController.m</p>\n\n<pre><code>#import \"testMacro-Swift.h\"\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    SwiftClass *s = [[SwiftClass alloc] init];\n    [s printMSG];\n\n#if TEST_FLAG\n    NSLog(@\"Objc works.\");\n#endif\n}\n</code></pre>\n\n<p>In testMacro-Bridging-Header.h</p>\n\n<pre><code>#import \"ViewController.h\"\n</code></pre>\n\n<p>SwiftFile</p>\n\n<pre><code>@objc class SwiftClass: NSObject {\n    @objc func printMSG() {\n        print(\"Macro \\(TEST_FLAG)\")\n        #if TEST_FLAG\n        print(\"compiled XXXxXXXXX\")\n        #endif\n    }\n}\n</code></pre>\n\n<p>Console Output</p>\n\n<pre><code>Macro 1\n2019-07-03 14:38:07.370231-0700 testMacro[71724:11911063] Objc works.\n</code></pre>\n\n<p>I expected <code>compiled XXXxXXXXX</code> to be printed after <code>Macro 1</code>, but it not.</p>\n\n<p>I am curious why this will happen.\nMy project is mixed with objc and swift. I don't want to declare a same flag in swift.</p>\n"}, {"tags": ["ios", "objective-c", "uinavigationcontroller"], "comments": [{"owner": {"reputation": 5635, "user_id": 1702077, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/oGOpj.png?s=128&g=1", "display_name": "Chris Loonam", "link": "https://stackoverflow.com/users/1702077/chris-loonam"}, "edited": false, "score": 0, "creation_date": 1562185405, "post_id": 56877392, "comment_id": 100303395, "body": "Generally, I would assign <code>self.navigationItem.titleView</code>, <code>self.navigationItem.leftBarButtonItem</code>, etc., in the view controller&#39;s <code>viewDidLoad</code> method."}, {"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1562186418, "post_id": 56877392, "comment_id": 100303812, "body": "Did you add a <code>NavigationBar</code> view to the <code>UIView</code> in the xib? If so, that is not how it works. You need to actually add <code>UINavigationItem</code> to the controller in the xib. And then you also need to initialise the controller with the nib of course."}, {"owner": {"reputation": 7637, "user_id": 1306012, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5a309f07bf7f23a6f176b8d57c22cc65?s=128&d=identicon&r=PG", "display_name": "Bruno Bieri", "link": "https://stackoverflow.com/users/1306012/bruno-bieri"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1562214011, "post_id": 56877392, "comment_id": 100309272, "body": "@ ChrisLoonam thanks for the hint. This isn&#39;t was I&#39;m looking for. See my update. @Rengers yes that&#39;s what I did and I want. I added UINavigationItem within the NavigationBar. See updated question."}], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "is_accepted": false, "score": 2, "last_activity_date": 1562207996, "creation_date": 1562207996, "answer_id": 56879993, "question_id": 56877392, "link": "https://stackoverflow.com/questions/56877392/how-to-set-navigationcontroller-navigationitem-title-from-viewcontroller-loaded/56879993#56879993", "title": "How to set NavigationController navigationItem title from ViewController loaded by Xib", "body": "<p>In <code>ViewWillAppear</code> method in your ViewController set-</p>\n\n<pre><code>      self.navigationItem.title = @\"Title name\";\n</code></pre>\n\n<p>Also in the same way you can <code>set self.navigationItem.leftBarButton</code> and RightBarButton items</p>\n"}, {"comments": [{"owner": {"reputation": 7637, "user_id": 1306012, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5a309f07bf7f23a6f176b8d57c22cc65?s=128&d=identicon&r=PG", "display_name": "Bruno Bieri", "link": "https://stackoverflow.com/users/1306012/bruno-bieri"}, "edited": false, "score": 0, "creation_date": 1562238904, "post_id": 56884841, "comment_id": 100320522, "body": "Thanks for the answer. Can you point me to the link where Apple recommends to setup the <code>navigationItem</code> in the getter?"}, {"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "reply_to_user": {"reputation": 7637, "user_id": 1306012, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5a309f07bf7f23a6f176b8d57c22cc65?s=128&d=identicon&r=PG", "display_name": "Bruno Bieri", "link": "https://stackoverflow.com/users/1306012/bruno-bieri"}, "edited": false, "score": 0, "creation_date": 1562239214, "post_id": 56884841, "comment_id": 100320667, "body": "The only thing they say is: &quot;Avoid tying the creation of bar button items in your navigation item to the creation of your view controller&#39;s view. The navigation item of a view controller may be retrieved independently of the view controller&#39;s view. (...)&quot;"}], "tags": [], "owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "is_accepted": true, "score": 1, "last_activity_date": 1562587220, "last_edit_date": 1562587220, "creation_date": 1562232597, "answer_id": 56884841, "question_id": 56877392, "link": "https://stackoverflow.com/questions/56877392/how-to-set-navigationcontroller-navigationitem-title-from-viewcontroller-loaded/56884841#56884841", "title": "How to set NavigationController navigationItem title from ViewController loaded by Xib", "body": "<p>Adding a UINavigationBar view to the main UIView doesn't do what you think it does. It merely adds a navigation bar view there in the view, it does not tie into the UINavigationController.</p>\n\n<p>If you use a storyboard, you can add the <a href=\"https://developer.apple.com/documentation/uikit/uiviewcontroller/1621851-navigationitem?language=objc\" rel=\"nofollow noreferrer\"><code>UINavigationItem</code></a> as a child of the <code>UIViewController</code>. But since you are not using a storyboard, the easiest way to do it is to update the <code>navigationItem</code> in <code>viewDidLoad</code>.</p>\n\n<hr>\n\n<p>Sidenote: Apple does not recommend using <code>viewDidLoad</code> to setup the navigation item. If you really want to do it the proper way, you can for example do it in the <code>navigationItem</code> getter.</p>\n\n<pre><code>- (UINavigationItem*)navigationItem\n{\n  // get super navigation item\n  UINavigationItem *navItem = [super navigationItem];\n\n  // do stuff \n\n  return navItem;\n}\n</code></pre>\n"}], "owner": {"reputation": 7637, "user_id": 1306012, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/5a309f07bf7f23a6f176b8d57c22cc65?s=128&d=identicon&r=PG", "display_name": "Bruno Bieri", "link": "https://stackoverflow.com/users/1306012/bruno-bieri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 56884841, "answer_count": 2, "score": 1, "last_activity_date": 1562587220, "creation_date": 1562185110, "last_edit_date": 1562214124, "question_id": 56877392, "link": "https://stackoverflow.com/questions/56877392/how-to-set-navigationcontroller-navigationitem-title-from-viewcontroller-loaded", "title": "How to set NavigationController navigationItem title from ViewController loaded by Xib", "body": "<p>I've a <code>UIViewController</code> which loads it's view form a Xib file. In my <code>AppDelegate.m</code> I would like to initiate my rootViewController with that myViewController and I would like that the title of the navigtionItem is set by taking the <code>NavigationBar</code> view which is part of the Xib file of the myViewController:</p>\n\n<pre><code>MyViewController *myViewController = [[MyViewController alloc] init];\nUINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:myViewController];\n</code></pre>\n\n<p>According to the <a href=\"https://developer.apple.com/documentation/uikit/uinavigationcontroller\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>Each time the top-level view controller changes, the navigation controller updates the navigation bar accordingly.</p>\n</blockquote>\n\n<p>In my setup this seems not to happen or I haven't indicated that my <code>NavigationBar</code> view is actually the navigationBar to consider.</p>\n\n<p>How can I tell the NavigationController to update it's navigationItem content (title, left and right bar buttons) according the <code>NavigationBar</code> view which is part of the Xib file from myViewController?</p>\n\n<p><strong>Update</strong></p>\n\n<p>My Xib layout looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jNVuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNVuJ.png\" alt=\"Xib layout\"></a></p>\n\n<p>I know I can set those items in code by:</p>\n\n<pre><code>self.navigationItem.titleView = ...;\nself.navigationItem.leftBarButtonItem = ...;\n</code></pre>\n\n<p>But I want them do design in the Xib file of the ViewController and they should be used in the NavigationController.</p>\n"}, {"tags": ["ios", "objective-c", "google-maps"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8805781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ifFUS.png?s=128&g=1", "display_name": "devangela", "link": "https://stackoverflow.com/users/8805781/devangela"}, "is_accepted": true, "score": 0, "last_activity_date": 1562749012, "creation_date": 1562749012, "answer_id": 56967041, "question_id": 56873051, "link": "https://stackoverflow.com/questions/56873051/google-places-api-search-results-refresh-on-maps/56967041#56967041", "title": "Google Places API search results refresh on Maps", "body": "<p><a href=\"https://developers.google.com/maps/documentation/ios-sdk/events\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/ios-sdk/events</a></p>\n\n<p>You will want to implement the <code>GMSMapViewDelegate</code> protocol in your ViewController so you can listen for Camera Position events. The best practice would be to wait until moving the map has stopped by listening for the <code>mapView:idleAtCameraPosition:</code> event. That way, you do not make too many unnecessary searches or re-drawing of the markers which can slow performance. Sample code at:\n<a href=\"https://developers.google.com/maps/documentation/ios-sdk/events#camera_position\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/ios-sdk/events#camera_position</a></p>\n"}], "owner": {"reputation": 45, "user_id": 1756687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8c127c007710e2fda0fa11a29256bc?s=128&d=identicon&r=PG", "display_name": "user1756687", "link": "https://stackoverflow.com/users/1756687/user1756687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56967041, "answer_count": 1, "score": 0, "last_activity_date": 1562749012, "creation_date": 1562166175, "last_edit_date": 1562166187, "question_id": 56873051, "link": "https://stackoverflow.com/questions/56873051/google-places-api-search-results-refresh-on-maps", "title": "Google Places API search results refresh on Maps", "body": "<p>I'm trying to use the Places and Maps API on iOS to search for places within a given radius and filtered by type also with a keyword.</p>\n\n<p>I already implemented the places search to get the locations result by the filter options. That's ok.\nNow I have to place these locations as a marker on the map and here comes the question.</p>\n\n<p>If I move/zoom the map, the marker list needs to be updated based on the coordinates/viewport. What is the best practice to fetch the data with places api?\nThe places api's search shows only 20 results and you have to call again with next_page_token, to get the full result list.\nObviously that's not the most effective and elegant way to update the map markers when moving...</p>\n\n<p>Sorry if it's a n00b question, I used Google Maps API long time ago, when there was no restriction on the search result number...</p>\n"}, {"tags": ["objective-c", "macos", "private"], "comments": [{"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 2, "creation_date": 1562163643, "post_id": 56871471, "comment_id": 100293068, "body": "Is everything ok with your MacOS app setup? I can instantiate <code>id object = [NSClassFromString(@&quot;_NSFullScreenWindow&quot;) new]</code> without problems."}, {"owner": {"reputation": 4376, "user_id": 959140, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/66Jhu.png?s=128&g=1", "display_name": "Robin Andersson", "link": "https://stackoverflow.com/users/959140/robin-andersson"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1562188755, "post_id": 56871471, "comment_id": 100304679, "body": "@Kamil.S I need to look at it again, I created a new Cocoa project and tested it and just got 0x0 as class back."}, {"owner": {"reputation": 4376, "user_id": 959140, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/66Jhu.png?s=128&g=1", "display_name": "Robin Andersson", "link": "https://stackoverflow.com/users/959140/robin-andersson"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 1, "creation_date": 1562225561, "post_id": 56871471, "comment_id": 100313180, "body": "@Kamil.S I just ran the same code as I have in my question today and I actually got a reference to the class, must have done some mistake yesterday when inspecting the variable. Thank you!"}, {"owner": {"reputation": 4376, "user_id": 959140, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/66Jhu.png?s=128&g=1", "display_name": "Robin Andersson", "link": "https://stackoverflow.com/users/959140/robin-andersson"}, "reply_to_user": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1562226001, "post_id": 56871471, "comment_id": 100313401, "body": "@Kamil.S I moved the code from the question to the answer since it was working as you said."}], "answers": [{"tags": [], "owner": {"reputation": 4376, "user_id": 959140, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/66Jhu.png?s=128&g=1", "display_name": "Robin Andersson", "link": "https://stackoverflow.com/users/959140/robin-andersson"}, "is_accepted": true, "score": 0, "last_activity_date": 1562225673, "creation_date": 1562225673, "answer_id": 56882822, "question_id": 56871471, "link": "https://stackoverflow.com/questions/56871471/how-to-instantiate-private-hidden-objective-c-framework-class/56882822#56882822", "title": "How to instantiate private / hidden Objective C framework class?", "body": "<p>You can access the class by name and instantiate it as following:</p>\n\n<pre><code>Class winClass = NSClassFromString(@\"_NSFullScreenWindow\");\nid win = [winClass new];\n</code></pre>\n\n<p>Win will be a pointer to an instance of _NSFullScreenWindow after running that code.</p>\n"}], "owner": {"reputation": 4376, "user_id": 959140, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/66Jhu.png?s=128&g=1", "display_name": "Robin Andersson", "link": "https://stackoverflow.com/users/959140/robin-andersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56882822, "answer_count": 1, "score": 1, "last_activity_date": 1562225968, "creation_date": 1562161089, "last_edit_date": 1562225968, "question_id": 56871471, "link": "https://stackoverflow.com/questions/56871471/how-to-instantiate-private-hidden-objective-c-framework-class", "title": "How to instantiate private / hidden Objective C framework class?", "body": "<p>If you perform a <a href=\"https://github.com/nygard/class-dump\" rel=\"nofollow noreferrer\">class-dump</a> of AppKit it reveals multiple private / hidden classes defined in that framework.</p>\n\n<p>One example is the following class:</p>\n\n<pre><code>__attribute__((visibility(\"hidden\")))\n@interface _NSFullScreenWindow : NSWindow\n{\n}\n\n- (BOOL)canBecomeKeyWindow;\n\n@end\n</code></pre>\n\n<p>How do you create an instance of a class that is intended to be private / hidden in Objective-C?</p>\n\n<p><em>I know that private / hidden classes are not meant to be accessed, so no need for moral lessons.</em> </p>\n"}, {"tags": ["objective-c", "swift", "iphone"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1562163104, "post_id": 56871388, "comment_id": 100292774, "body": "What OS is this for? iOS? macOS? Other? Show what you have tried so far and clearly explain what issues you are having."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562380892, "post_id": 56871388, "comment_id": 100365874, "body": "Those images are not gradients. You don\u2019t want a gradient, you want a pattern."}], "answers": [{"tags": [], "owner": {"reputation": 284, "user_id": 10828054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEPnX.jpg?s=128&g=1", "display_name": "ink", "link": "https://stackoverflow.com/users/10828054/ink"}, "is_accepted": true, "score": 1, "last_activity_date": 1562296369, "creation_date": 1562296369, "answer_id": 56896092, "question_id": 56871388, "link": "https://stackoverflow.com/questions/56871388/how-to-have-a-repeating-linear-gradient-in-objective-c-or-swift/56896092#56896092", "title": "How to have a repeating-linear-gradient in Objective C or Swift", "body": "<p>Are you referring to multiple alternating gradients?</p>\n\n<p>CAGradientLayer has the system's own method, by adding multiple <code>CGColorRef</code> settings, you can also set their <code>locations</code> (interval), <code>startPoint</code> <code>endPoint</code> (direction).    <a href=\"https://developer.apple.com/documentation/quartzcore/cagradientlayer/1462403-colors?language=objc\" rel=\"nofollow noreferrer\">This is the official document</a></p>\n\n<p><strong>If you want to add 5 pairs of yellow-blue gradients, you should do this:</strong></p>\n\n<pre><code>UIView *cuntomView = [[UIButton alloc] initWithFrame:CGRectMake(50, 50, 275, 500)];\n[self.view addSubview:cuntomView];\n\nCAGradientLayer *gradLayer = [CAGradientLayer layer];\ngradLayer.frame = cuntomView.bounds;\ngradLayer.locations = @[@0,@0.1,@0.2,@0.3,@0.4,@0.5,@0.6,@0.7,@0.8,@0.9,@1];\ngradLayer.colors = @[(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor];\n\n[cuntomView.layer addSublayer:gradLayer];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/bbB6G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bbB6G.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>If you want to change the direction of the gradient, you should add startPoint and endPoint to your code.</strong></p>\n\n<pre><code>UIView *cuntomView = [[UIButton alloc] initWithFrame:CGRectMake(50, 50, 275, 500)];\n[self.view addSubview:cuntomView];\n\nCAGradientLayer *gradLayer = [CAGradientLayer layer];\ngradLayer.frame = cuntomView.bounds;\ngradLayer.startPoint = CGPointMake(0, 0);\ngradLayer.endPoint = CGPointMake(1, 1);\ngradLayer.locations = @[@0,@0.1,@0.2,@0.3,@0.4,@0.5,@0.6,@0.7,@0.8,@0.9,@1];\ngradLayer.colors = @[(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor];\n\n[cuntomView.layer addSublayer:gradLayer];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nWg0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWg0m.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>If you want to control a specific gradient position, you should set the value in locations. :</strong></p>\n\n<pre><code>UIView *cuntomView = [[UIButton alloc] initWithFrame:CGRectMake(50, 50, 275, 500)];\n[self.view addSubview:cuntomView];\n\nCAGradientLayer *gradLayer = [CAGradientLayer layer];\ngradLayer.frame = cuntomView.bounds;\ngradLayer.startPoint = CGPointMake(0, 0);\ngradLayer.endPoint = CGPointMake(1, 1);\ngradLayer.locations = @[@0,@0.05,@0.1,@0.15,@0.2,@0.25,@0.3,@0.35,@0.8,@0.9,@1];\ngradLayer.colors = @[(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor,(__bridge id)[UIColor blueColor].CGColor,(__bridge id)[UIColor yellowColor].CGColor];\n\n[cuntomView.layer addSublayer:gradLayer];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nkdXD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nkdXD.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 744, "user_id": 1138974, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/11226dc0f45daac593dc4cbbc8f5bdcb?s=128&d=identicon&r=PG", "display_name": "Vinay Revankar", "link": "https://stackoverflow.com/users/1138974/vinay-revankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56896092, "answer_count": 1, "score": -3, "last_activity_date": 1562296369, "creation_date": 1562160816, "last_edit_date": 1562231603, "question_id": 56871388, "link": "https://stackoverflow.com/questions/56871388/how-to-have-a-repeating-linear-gradient-in-objective-c-or-swift", "title": "How to have a repeating-linear-gradient in Objective C or Swift", "body": "<p>I am trying to find a solution to use repeating linear gradient in Objective C/Swift for a iPhone app. For a linear gradient we generally use CAGradientLayer but for repeating linear gradient i couldn't find a solution. I am looking for gradient shown in below link</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/repeating-linear-gradient#Zebra_stripes\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/repeating-linear-gradient#Zebra_stripes</a></p>\n\n<p>Thanks for your help in advance</p>\n"}, {"tags": ["ios", "objective-c", "swift", "iphone", "xcode"], "comments": [{"owner": {"reputation": 126, "user_id": 10926378, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-msr3i8VgVF4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaI9fQmZwewhgHkxArHOfauVC7-OA/mo/photo.jpg?sz=128", "display_name": "spike04", "link": "https://stackoverflow.com/users/10926378/spike04"}, "edited": false, "score": 0, "creation_date": 1562156792, "post_id": 56869729, "comment_id": 100288836, "body": "it bit unclear. Tell us what&#39;s  your class  have, when this error is happening ."}, {"owner": {"reputation": 126, "user_id": 10926378, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-msr3i8VgVF4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaI9fQmZwewhgHkxArHOfauVC7-OA/mo/photo.jpg?sz=128", "display_name": "spike04", "link": "https://stackoverflow.com/users/10926378/spike04"}, "edited": false, "score": 0, "creation_date": 1562156960, "post_id": 56869729, "comment_id": 100288943, "body": "If you are using any pod, delete the pod folder and delete the derived data, clean and build again. If you getting same error , refer this link :  <a href=\"https://stackoverflow.com/questions/38298322/undefined-symbols-for-architecture-x86-64-objc-class-wkwebview-referenced\" title=\"undefined symbols for architecture x86 64 objc class wkwebview referenced\">stackoverflow.com/questions/38298322/&hellip;</a>"}, {"owner": {"reputation": 2368, "user_id": 3724800, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/k9ea3.jpg?s=128&g=1", "display_name": "Frank Eno", "link": "https://stackoverflow.com/users/3724800/frank-eno"}, "edited": false, "score": 0, "creation_date": 1562307650, "post_id": 56869729, "comment_id": 100340660, "body": "post some code, explain the steps you do to get that error, otherwise it&#39;s impossible to help"}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 0, "creation_date": 1564022178, "post_id": 56869729, "comment_id": 100896104, "body": "Every good question has one of these: <code>?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 4323101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7a69d904acf479ab91a68a6cf46dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "The1993", "link": "https://stackoverflow.com/users/4323101/the1993"}, "is_accepted": false, "score": 0, "last_activity_date": 1564021624, "creation_date": 1564021624, "answer_id": 57193470, "question_id": 56869729, "link": "https://stackoverflow.com/questions/56869729/swift-cocoapods-with-objective-c-files-gives-undefined-symbols/57193470#57193470", "title": "Swift Cocoapods with Objective-C files gives Undefined symbols", "body": "<p>It's minor, but don't forget to quit Xcode and run your <strong><em>yourProject.xcworkspace</em></strong> instead of <strong><em>yourProject.xcodeproj</em></strong> after installing CocoaPods</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11670410, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pwFiSqHXpp0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfJrdnSBJ_ABS992VYT5HAvfxW-sA/mo/photo.jpg?sz=128", "display_name": "Jeremias Pellegrino", "link": "https://stackoverflow.com/users/11670410/jeremias-pellegrino"}, "is_accepted": false, "score": 1, "last_activity_date": 1579637169, "creation_date": 1579637169, "answer_id": 59848449, "question_id": 56869729, "link": "https://stackoverflow.com/questions/56869729/swift-cocoapods-with-objective-c-files-gives-undefined-symbols/59848449#59848449", "title": "Swift Cocoapods with Objective-C files gives Undefined symbols", "body": "<p>Have you tried enabling dynamic frameworks? That worked for me.</p>\n\n<p>To do it go to the podfile in your workspace and open it, then: </p>\n\n<pre><code>#Uncomment the next line if you're using Swift or would like to use dynamic frameworks\nremove the hash here -&gt;  #use_frameworks!\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 4188501, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/sPspE.jpg?s=128&g=1", "display_name": "Shamil", "link": "https://stackoverflow.com/users/4188501/shamil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1579637169, "creation_date": 1562155352, "last_edit_date": 1571976112, "question_id": 56869729, "link": "https://stackoverflow.com/questions/56869729/swift-cocoapods-with-objective-c-files-gives-undefined-symbols", "title": "Swift Cocoapods with Objective-C files gives Undefined symbols", "body": "<p>I have encountered the following error message:</p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"_OBJC_CLASS_$_VTapManager\", referenced from:\n      objc-class-ref in VTapManagerHelper.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "casting", "objective-c-blocks"], "comments": [{"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1562165778, "post_id": 56869496, "comment_id": 100294452, "body": "What do you mean by <b><i>fails</i></b>? Do you get compiler error or it&#39;s not working as expected?"}, {"owner": {"reputation": 967, "user_id": 390542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d1a75d795e4550ee72726752dace8051?s=128&d=identicon&r=PG", "display_name": "Kai", "link": "https://stackoverflow.com/users/390542/kai"}, "reply_to_user": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1562169065, "post_id": 56869496, "comment_id": 100296248, "body": "@nayem the cast results in a <code>nil</code>"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1562178303, "post_id": 56869496, "comment_id": 100300520, "body": "Because of the way Swift functions are stored, you can&#39;t just pass them as objects to Objective-C. Either keep this code in Objective-C or use a generic wrapper class to box the function."}, {"owner": {"reputation": 967, "user_id": 390542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d1a75d795e4550ee72726752dace8051?s=128&d=identicon&r=PG", "display_name": "Kai", "link": "https://stackoverflow.com/users/390542/kai"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562227306, "post_id": 56869496, "comment_id": 100314076, "body": "Thanks @matt ! Can you point me to more details about why that isn&#39;t working? Not that I don&#39;t believe you, but I just want to understand. Can you please post your comment as answer?"}, {"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1562269676, "post_id": 56869496, "comment_id": 100333495, "body": "How about something like <code>as @convention(block) (GetValueForKeyPathBlock)-&gt;()</code>?"}, {"owner": {"reputation": 967, "user_id": 390542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d1a75d795e4550ee72726752dace8051?s=128&d=identicon&r=PG", "display_name": "Kai", "link": "https://stackoverflow.com/users/390542/kai"}, "reply_to_user": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1562338526, "post_id": 56869496, "comment_id": 100355344, "body": "Thanks @newacct , but unfortunately that doesn&#39;t work."}], "owner": {"reputation": 967, "user_id": 390542, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d1a75d795e4550ee72726752dace8051?s=128&d=identicon&r=PG", "display_name": "Kai", "link": "https://stackoverflow.com/users/390542/kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562169104, "creation_date": 1562154668, "last_edit_date": 1562169104, "question_id": 56869496, "link": "https://stackoverflow.com/questions/56869496/casting-objective-c-blocks-in-swift", "title": "Casting Objective C blocks in Swift", "body": "<p>There is a particular case where I can't find the correct solution on how to cast a block defined in Objective C to a closure in Swift, so that I can execute it in Swift. For other cases using <code>@escaping</code> helped when having another block/closure being passed to a closure. But unfortunately not in this case.</p>\n\n<p>Block type definitions in Objective C:</p>\n\n<pre><code>typedef void (^ViewModelUpdatedBlock)(GetValueForKeyPathBlock);\ntypedef id (^GetValueForKeyPathBlock)(NSString * keyPath);\n\n</code></pre>\n\n<p>Declaration of a block in Objective C:</p>\n\n<pre><code>someNSMutableDictionary[kViewModelUpdatedBlockKey] = ^(GetValueForKeyPathBlock getValueBlock) { ... }\n</code></pre>\n\n<p>When I try to use one of these blocks in Swift I can't find the correct way to cast it. I tried:</p>\n\n<pre><code>let viewModelUpdatedBlock = someNSMutableDictionary[kViewModelUpdatedBlockKey] as? ViewModelUpdatedBlock // = nil\n\nlet viewModelUpdatedBlock = someNSMutableDictionary[kViewModelUpdatedBlockKey] as? (GetValueForKeyPathBlock?)-&gt;() // = nil\n\nlet viewModelUpdatedBlock = someNSMutableDictionary[kViewModelUpdatedBlockKey] as? (GetValueForKeyPathBlock)-&gt;() // = nil\n\nlet viewModelUpdatedBlock = someNSMutableDictionary[kViewModelUpdatedBlockKey] as? (@escaping GetValueForKeyPathBlock)-&gt;() // = nil\n</code></pre>\n\n<p>Please help!</p>\n"}, {"tags": ["objective-c", "swift", "macos"], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 741300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUK6d.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/741300/tim"}, "is_accepted": false, "score": 3, "last_activity_date": 1571742331, "creation_date": 1571742331, "answer_id": 58502846, "question_id": 56865527, "link": "https://stackoverflow.com/questions/56865527/how-to-figure-out-that-two-apps-are-on-the-same-device-on-macosalternative-of-i/58502846#58502846", "title": "How to figure out that two apps are on the same device on macOS(Alternative of identifierForVendor in macOS)", "body": "<p>In our app we access the system serial number. We use it to try prevent multiple users using the same account + for debug purposes (so not for ads or anything, our app has none). </p>\n\n<p>We also have code to access the hardware uuid but that code isn't actually used at the moment, but it is in there, so not sure how deep Apple checks. So you might be able to use this one too. As an additional step you could hash either of these (or hash them appended or something).</p>\n\n<p>This app has been on the AppStore for a long while now, and was never rejected for this reason. So I'd say accessing this data on macOS should be ok (for now) depending on usage and safe to submit to the app store.</p>\n\n<p>Keep in mind that in some rare cases, the serial number will not be available. In that case we store a random string in UserDefaults.standard and use that cached value in the future.</p>\n\n<p>Since this information won't be available to your 'other' app(s), this workaround won't work for you though.</p>\n"}], "owner": {"reputation": 1411, "user_id": 1401067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LgB7S.jpg?s=128&g=1", "display_name": "Nuzhdin Vladimir", "link": "https://stackoverflow.com/users/1401067/nuzhdin-vladimir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571742331, "creation_date": 1562140818, "question_id": 56865527, "link": "https://stackoverflow.com/questions/56865527/how-to-figure-out-that-two-apps-are-on-the-same-device-on-macosalternative-of-i", "title": "How to figure out that two apps are on the same device on macOS(Alternative of identifierForVendor in macOS)", "body": "<p><a href=\"https://developer.apple.com/documentation/adsupport/asidentifiermanager/1614151-advertisingidentifier\" rel=\"nofollow noreferrer\">advertisingIdentifier</a> is different for apps from the same vendor.</p>\n\n<p>Of course there is an ability to add apps into group and share some \"unique string\". But I suppose that there must be some easier way.</p>\n\n<p>I also read about \"<a href=\"https://developer.apple.com/library/archive/technotes/tn1103/_index.html\" rel=\"nofollow noreferrer\">Uniquely Identifying a Macintosh Computer</a>\" but I suppose that such apps are rejected in mac AppStore.</p>\n"}, {"tags": ["ios", "objective-c", "mapkit", "mkmapview"], "comments": [{"owner": {"reputation": 1720, "user_id": 9106403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keKUY.png?s=128&g=1", "display_name": "iOS Team", "link": "https://stackoverflow.com/users/9106403/ios-team"}, "edited": false, "score": 0, "creation_date": 1562128143, "post_id": 56862889, "comment_id": 100274982, "body": "please check your MyAnnotationView object is nil or is allocated"}, {"owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "edited": false, "score": 0, "creation_date": 1562152417, "post_id": 56862889, "comment_id": 100286224, "body": "<code>viewForAnnotation </code> method is called?"}, {"owner": {"reputation": 9815, "user_id": 3570727, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8e4575a3bc0406c43a79b40ca865525b?s=128&d=identicon&r=PG&f=1", "display_name": "user3570727", "link": "https://stackoverflow.com/users/3570727/user3570727"}, "edited": false, "score": 0, "creation_date": 1562166553, "post_id": 56862889, "comment_id": 100294927, "body": "Yes the image exist with no issues. the method is called. If I do the inspection in Xcode that is the layers, I see it fine with no issues but not in the app! I am out of my wits figuring this out."}], "owner": {"reputation": 9815, "user_id": 3570727, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8e4575a3bc0406c43a79b40ca865525b?s=128&d=identicon&r=PG&f=1", "display_name": "user3570727", "link": "https://stackoverflow.com/users/3570727/user3570727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576489754, "creation_date": 1562127912, "last_edit_date": 1576489754, "question_id": 56862889, "link": "https://stackoverflow.com/questions/56862889/custom-annotationview-not-displaying-in-mkmapview-in-ios-12", "title": "Custom annotationview not displaying in MKMapView in iOS 12", "body": "<p>I have a custom annotation view class which is like </p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@interface MyAnnotationView : MKAnnotationView\n\n@property (nonatomic, strong) UIImageView *imageView;\n\n@end\n</code></pre>\n\n<p>and then I use it in the MKMapView like :</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id&lt;MKAnnotation&gt;)annotation\n{\n    MKAnnotationView *annotationView = nil;\n    MyAnnotationView *view = (MyAnnotationView *)[mapView dequeueReusableAnnotationViewWithIdentifier:MyAnnotationViewIdentifier];\n    if (view == nil) {\n        view = [[MyAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:MyAnnotationViewIdentifier];\n    }\n    view.imageView.image = myImage;\n    annotationView = view;\n    return annotationView;\n}\n</code></pre>\n\n<p>This code works as expected till iOS 11, but in iOS 12 I dont see the image anymore. What am I missing? Any tips appreciated. </p>\n"}, {"tags": ["objective-c", "node.js", "swift", "server", "reachability"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562124707, "post_id": 56862533, "comment_id": 100274267, "body": "&quot;to enter how many ever websites they want&quot;  Come again?"}, {"owner": {"reputation": 23, "user_id": 9873926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pDqIegFNLRc/AAAAAAAAAAI/AAAAAAAAAwU/XyDzwSYvc3g/photo.jpg?sz=128", "display_name": "oofmeister27", "link": "https://stackoverflow.com/users/9873926/oofmeister27"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562124935, "post_id": 56862533, "comment_id": 100274319, "body": "Sorry about the confusion. I want the user to enter a website and then the app should check if that website server is up or down."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562125185, "post_id": 56862533, "comment_id": 100274379, "body": "And what do you need <code>Reachability</code> for?  It won&#39;t tell you whether or not some URL that you point to is reachable.  It will only tell you whether or not your device is connected to the outside world."}, {"owner": {"reputation": 23, "user_id": 9873926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pDqIegFNLRc/AAAAAAAAAAI/AAAAAAAAAwU/XyDzwSYvc3g/photo.jpg?sz=128", "display_name": "oofmeister27", "link": "https://stackoverflow.com/users/9873926/oofmeister27"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562125361, "post_id": 56862533, "comment_id": 100274422, "body": "I am not sure if I would need reachability or not. What should I use instead of reachability if it does not work for what I need?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1562130082, "post_id": 56862533, "comment_id": 100275461, "body": "Why not start by just loading the website&#39;s URL? You can get smarter, but this simple approach at least won&#39;t give you any false positives."}, {"owner": {"reputation": 2066, "user_id": 4245112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ir25h.jpg?s=128&g=1", "display_name": "SM Abu Taher Asif", "link": "https://stackoverflow.com/users/4245112/sm-abu-taher-asif"}, "edited": false, "score": 0, "creation_date": 1562131406, "post_id": 56862533, "comment_id": 100275825, "body": "make a URL request and then check for response . If response code is 503 then the server is down."}, {"owner": {"reputation": 23, "user_id": 9873926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pDqIegFNLRc/AAAAAAAAAAI/AAAAAAAAAwU/XyDzwSYvc3g/photo.jpg?sz=128", "display_name": "oofmeister27", "link": "https://stackoverflow.com/users/9873926/oofmeister27"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1562201607, "post_id": 56862533, "comment_id": 100307351, "body": "@CRD I did that. google.com seemed to be loading fine."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1562221013, "post_id": 56862533, "comment_id": 100311192, "body": "So you determined Google was up. Isn&#39;t this what you are trying to do? Run the same test against a server you know is down. (You&#39;ll need a server you can control to test your app properly)"}], "answers": [{"comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562134052, "post_id": 56863452, "comment_id": 100276692, "body": "The English word &#39;below&#39; is not an adjective.  Therefore, &quot;see below code&quot; is not the right grammar."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1562220505, "post_id": 56863452, "comment_id": 100311002, "body": "Code 503 tells you the server is <i>up</i> but the web service is <i>down</i>, you won&#39;t get a 503 from the server if it itself is down..."}], "tags": [], "owner": {"reputation": 2066, "user_id": 4245112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ir25h.jpg?s=128&g=1", "display_name": "SM Abu Taher Asif", "link": "https://stackoverflow.com/users/4245112/sm-abu-taher-asif"}, "is_accepted": false, "score": 0, "last_activity_date": 1562131823, "creation_date": 1562131823, "answer_id": 56863452, "question_id": 56862533, "link": "https://stackoverflow.com/questions/56862533/reachability-module/56863452#56863452", "title": "Reachability Module", "body": "<p>make a URL request and then check for response . If response code is 503 then the server is down. you can see the list of server responses <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">HERE</a> and below code to check for responses</p>\n\n<pre><code>let url = URL(string: \"Your Server URL\")\n\nlet task = URLSession.shared.dataTask(with: url!) { _, response, _ in\n    if let httpResponse = response as? HTTPURLResponse {\n        print(httpResponse.statusCode) // if the response code is 503 then the server is down\n\n    }\n}\n\ntask.resume()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9873926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pDqIegFNLRc/AAAAAAAAAAI/AAAAAAAAAwU/XyDzwSYvc3g/photo.jpg?sz=128", "display_name": "oofmeister27", "link": "https://stackoverflow.com/users/9873926/oofmeister27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562133125, "creation_date": 1562124562, "last_edit_date": 1562133125, "question_id": 56862533, "link": "https://stackoverflow.com/questions/56862533/reachability-module", "title": "Reachability Module", "body": "<p>Sorry for all the questions regarding this app. I have been struggling on coding this app for days.</p>\n\n<p>As you might  have seen from my previous questions, I am currently trying to build an app that checks if a website server is up or down. </p>\n\n<p>I have read many old stack overflow questions and they say to use the reachability module. When I go to the apple reachability module, it seems to be outdated. </p>\n\n<p>Does anyone have any other solutions to this app? My goal is to ask the user to enter how many ever websites they want and then the app checks if they are up or down.</p>\n"}, {"tags": ["objective-c", "xcode", "memory-leaks", "avaudioplayer"], "comments": [{"owner": {"reputation": 137, "user_id": 5046086, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56cc701fd5da45ee916366a0c8bcfce5?s=128&d=identicon&r=PG&f=1", "display_name": "Swick", "link": "https://stackoverflow.com/users/5046086/swick"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1562155474, "post_id": 56861909, "comment_id": 100287999, "body": "thanks for the reply. 1, no I have not set the delegate for the player. I will do that. Next I would have to set the <code>file1Player.delegate = self;</code> correct? Do I add this statement in every audio player block? 2. I don&#39;t want to use a manual release, but I don&#39;t know how else to fix the memory issue. 3. I tried the analyzer, yes many leaks, based on the audio player setup."}, {"owner": {"reputation": 137, "user_id": 5046086, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56cc701fd5da45ee916366a0c8bcfce5?s=128&d=identicon&r=PG&f=1", "display_name": "Swick", "link": "https://stackoverflow.com/users/5046086/swick"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1562167161, "post_id": 56861909, "comment_id": 100295248, "body": "Thanks. I was using an old app to create a new one and it didn&#39;t have arc turned on. This might be the whole issue."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 5046086, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56cc701fd5da45ee916366a0c8bcfce5?s=128&d=identicon&r=PG&f=1", "display_name": "Swick", "link": "https://stackoverflow.com/users/5046086/swick"}, "edited": false, "score": 0, "creation_date": 1562183150, "post_id": 56873601, "comment_id": 100302557, "body": "Thanks. I changed to ARC and removed manual release. I think it fixed the problem."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 1, "last_activity_date": 1562168011, "creation_date": 1562168011, "answer_id": 56873601, "question_id": 56861909, "link": "https://stackoverflow.com/questions/56861909/avaudioplayer-causing-memory-leak-release-memory/56873601#56873601", "title": "AVAudioPlayer causing memory leak? Release memory?", "body": "<p>You have proposed adding <code>[file1Player release]</code>.</p>\n\n<p>If you are using automatic reference counting, that is not only not necessary, but not permitted. If you are using manual reference counting, though, it is essential. But make sure to specify the <code>delegate</code> of the <code>AVAudioPlayer</code> or else that method won\u2019t be called.</p>\n\n<p>If you are using manual reference counting, I\u2019d suggest using <kbd>shift</kbd>+<kbd>command</kbd>+<kbd>B</kbd> (or \u201cProduct\u201d \u00bb \u201cAnalyze\u201d) to perform static analysis. Especially in manual reference counting code (but even in ARC Objective-C code), this static analyzer is an extremely useful tool. There is no point in proceeding until you\u2019ve resolved all issues identified there.</p>\n\n<p>Or, as you suggest, even better, convert your manual reference counting project to automatic reference counting.</p>\n"}], "owner": {"reputation": 137, "user_id": 5046086, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/56cc701fd5da45ee916366a0c8bcfce5?s=128&d=identicon&r=PG&f=1", "display_name": "Swick", "link": "https://stackoverflow.com/users/5046086/swick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 56873601, "answer_count": 1, "score": 1, "last_activity_date": 1562168011, "creation_date": 1562118857, "last_edit_date": 1562121922, "question_id": 56861909, "link": "https://stackoverflow.com/questions/56861909/avaudioplayer-causing-memory-leak-release-memory", "title": "AVAudioPlayer causing memory leak? Release memory?", "body": "<p>My Xcode app plays many different audio files. There seems to be a memory leak that eventually crashes the app. Should I be releasing the memory of the audio players? What extra code do I need to release these? I have about 400 audio files.</p>\n\n<pre><code>NSString *file1Path = [[NSBundle mainBundle] pathForResource:@\"50\"ofType:@\"mp3\"];\nNSURL *file1URL = [[NSURL alloc] initFileURLWithPath:file1Path];\nfile1Player = [[AVAudioPlayer alloc] initWithContentsOfURL:file1URL error:nil];\n[file1Player play];\n</code></pre>\n\n<p>could I just add this code?</p>\n\n<pre><code>-(void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag\n{\n    [file1Player release];\n    file1Player=nil;\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 3, "creation_date": 1562115618, "post_id": 56861616, "comment_id": 100272845, "body": "What you&#39;re asking to do is possible but it&#39;s unSwifty. You should rethink it. You know this is a BookObject so why wouldn&#39;t it respond to <code>markdown</code>? If there&#39;s a reason, explain it by showing us more about what a BookObject is. Then we can tell you what to do. You&#39;re doing some sort of string-to-method conversion here, but Swift does like to do that and doesn&#39;t need to."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1562115819, "post_id": 56861616, "comment_id": 100272879, "body": "Also your code makes no sense so far because <code>markdown</code> is <code>nil</code>. Even in Objective-C it never takes on another value before you call <code>respondsToSelector</code>. So what did this code even do in Objective-C?"}, {"owner": {"reputation": 447, "user_id": 5660422, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650430752/picture?type=large", "display_name": "Surbhi Garg", "link": "https://stackoverflow.com/users/5660422/surbhi-garg"}, "edited": false, "score": 0, "creation_date": 1562124927, "post_id": 56861616, "comment_id": 100274314, "body": "Can you share your exact error and exact scenario"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562128738, "post_id": 56861616, "comment_id": 100275125, "body": "The usual <i>swifty</i> way is a protocol."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1562133687, "post_id": 56861616, "comment_id": 100276548, "body": "The usual swift way is not to use a force-downcast variable."}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1562178854, "post_id": 56861616, "comment_id": 100300756, "body": "I edited my question."}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562179102, "post_id": 56861616, "comment_id": 100300874, "body": "@matt, In my question I mentioned that I&#39;m new to swift, I literally just started learning it two days ago. So if it&#39;s unSwifty, I don&#39;t know what you mean. Can you explain?"}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1562181970, "last_edit_date": 1562181970, "creation_date": 1562181633, "answer_id": 56876724, "question_id": 56861616, "link": "https://stackoverflow.com/questions/56861616/convert-respondstoselector-and-performselector-from-objective-c-to-swift/56876724#56876724", "title": "Convert respondsToSelector and performSelector from Objective C to Swift", "body": "<blockquote>\n  <p>There is another object called BookTextObject which inherits from BookObject. This BookTextObject has a property called <code>markdown</code>, but the BookObject does not</p>\n</blockquote>\n\n<p>So the way to write that in Swift is to cast <code>content</code> (a BookObject) down to a BookTextObject (a BookObject subclass) safely and conditionally:</p>\n\n<pre><code>if let bookTextObject = content as? BookTextObject {\n    markdown = bookTextObject.markdown\n}\n</code></pre>\n\n<p>If that's the only thing you need to do with the cast reference, you can write it in an even more condensed way:</p>\n\n<pre><code>markdown = (content as? BookTextObject)?.markdown\n</code></pre>\n\n<p>After that line, the local <code>markdown</code> will be <code>nil</code> if we couldn't cast down.</p>\n"}], "owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 56876724, "answer_count": 1, "score": -3, "last_activity_date": 1562181970, "creation_date": 1562115283, "last_edit_date": 1562180917, "question_id": 56861616, "link": "https://stackoverflow.com/questions/56861616/convert-respondstoselector-and-performselector-from-objective-c-to-swift", "title": "Convert respondsToSelector and performSelector from Objective C to Swift", "body": "<p>As the title states, I'm having difficulty converting the following code from objective c to swift.</p>\n\n<pre><code>UIView * (^viewForContent)(BookObject *) = ^UIView*(BookObject * content) {\n    NSString * title = content.title;\n    NSString * markdown = nil;\n    if ([content respondsToSelector:@selector(markdown)]) {\n        markdown = [content performSelector:@selector(markdown)];\n    }\n    return viewForItem(title, markdown);\n};\n</code></pre>\n\n<p>Below is my attempt.</p>\n\n<pre><code>var viewForContent = { (content: BookObject) -&gt; UIView in\n    var title = content.title\n    var markdown: String? = nil\n    if content.responds(to: Selector(markdown!)) {\n        markdown = content.perform(Selector(markdown!)) //error: Cannot assign value of type 'Unmanaged&lt;AnyObject&gt;?' to type 'String?'\n    }\n    return viewForItem(title!, markdown!);\n}\n</code></pre>\n\n<p>BookObject inherits from NSObject. The issue with this code is I get an error on the <code>perform(aSelector: Selector!)</code> function. I'm very new to swift and I have been having a hard time narrowing down the issue with my code. What am I missing here?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As requested here is more information about the BookObject and what this block of code is doing. There is another object called BookTextObject which inherits from BookObject. This BookTextObject has a property called markdown, but the BookObject does not. The <code>respondsToSelector</code> and <code>performSelector</code> is there to check if markdown is a property on content, and if so to also set the value in that markdown property to this markdown variable.</p>\n\n<p>I didn't write this code, I'm just trying to convert it to swift. Furthermore, It doesn't ever seem like the result of the if statement will ever be false (i.e. it seems that content is always a BookTextObject), but since I didn't write this code, I'd rather not take out the if statement for fear of breaking something.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 0, "last_activity_date": 1562104384, "creation_date": 1562104384, "answer_id": 56860470, "question_id": 56860075, "link": "https://stackoverflow.com/questions/56860075/how-to-access-a-swift-file-from-an-objective-file-while-both-of-them-are-in-uni/56860470#56860470", "title": "How to access a swift file from an objective file, while both of them are in Unit Test?", "body": "<p>Run into the same issue, seems the <code>MyAppTests-Swift.h</code> is not very \"importable\" :)</p>\n\n<p>I had to resort to some not-so-nice workarounds to make this work. For class instantiation I used <code>NSClassFromString()</code> and then cast to a protocol visible on the Objective-C side. For your extension you could do something similar by declaring the methods in a header file, without actually implementing them.</p>\n\n<p>So assuming your <code>NSErrorExtension.swift</code> extension looks like this:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>extension NSError {\n    @objc func someFunc() -&gt; SomeResult\n}\n</code></pre>\n\n<p>, you can create a <code>NSErrorExtension.h</code> file (without a corresponding <code>.m</code> one):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@interface NSError (UnitTestExtensions)\n- (SomeResult *)someFunc;\n@end\n</code></pre>\n\n<p>This should make the function available on the Objective-C side. The downside is that you'll need to do this for every function you want to expose from the Swift side of the unit tests.</p>\n"}], "owner": {"reputation": 53, "user_id": 2829353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c93f38576d0c300ad9d6b7c831a4c5c?s=128&d=identicon&r=PG&f=1", "display_name": "user2829353", "link": "https://stackoverflow.com/users/2829353/user2829353"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562104384, "creation_date": 1562101692, "question_id": 56860075, "link": "https://stackoverflow.com/questions/56860075/how-to-access-a-swift-file-from-an-objective-file-while-both-of-them-are-in-uni", "title": "How to access a swift file from an objective file, while both of them are in Unit Test?", "body": "<p>This problem may still baffling many people, but there is no answer to this question yet.  </p>\n\n<p>I have 2 files, both are in the Unit Test directory.<br>\n1. A swift extension to NSError. Lets call it <strong>NSErrorExtension.swift</strong>. This extensions contains some static  methods.<br>\n2. an objective C test class, lets call it <strong>UnitTest1.m</strong> . </p>\n\n<p>Now, I want to access the static methods in <strong>NSErrorExtension.swift</strong> from <strong>UnitTest1.m</strong>. How do I do this? It just tells me that \"No known class methods for selector....\" I tried many solutions, none of them works.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "unit-testing"], "comments": [{"owner": {"reputation": 2369, "user_id": 3117251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f882f7e3d8cca29e88dae51aa894f3cc?s=128&d=identicon&r=PG", "display_name": "Dare", "link": "https://stackoverflow.com/users/3117251/dare"}, "edited": false, "score": 0, "creation_date": 1562101891, "post_id": 56859854, "comment_id": 100270100, "body": "What does the Obj-C file&#39;s target membership look like? Is your test target checked off?"}, {"owner": {"reputation": 781, "user_id": 1745890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fa2ff76ee6e9f39df245b04a402783?s=128&d=identicon&r=PG", "display_name": "Tony Friz", "link": "https://stackoverflow.com/users/1745890/tony-friz"}, "reply_to_user": {"reputation": 2369, "user_id": 3117251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f882f7e3d8cca29e88dae51aa894f3cc?s=128&d=identicon&r=PG", "display_name": "Dare", "link": "https://stackoverflow.com/users/3117251/dare"}, "edited": false, "score": 0, "creation_date": 1562163752, "post_id": 56859854, "comment_id": 100293151, "body": "Yes, it&#39;s checked off."}], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 1745890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fa2ff76ee6e9f39df245b04a402783?s=128&d=identicon&r=PG", "display_name": "Tony Friz", "link": "https://stackoverflow.com/users/1745890/tony-friz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562163956, "creation_date": 1562163956, "answer_id": 56872297, "question_id": 56859854, "link": "https://stackoverflow.com/questions/56859854/swift-unit-testing-in-xcode-is-not-finding-any-objective-c-types/56872297#56872297", "title": "Swift Unit Testing in Xcode is not finding any Objective-C types", "body": "<p>I figured it out. I was missing @testable in the import statement. After adding @testable, it works.</p>\n"}], "owner": {"reputation": 781, "user_id": 1745890, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50fa2ff76ee6e9f39df245b04a402783?s=128&d=identicon&r=PG", "display_name": "Tony Friz", "link": "https://stackoverflow.com/users/1745890/tony-friz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562163956, "creation_date": 1562100461, "last_edit_date": 1562100888, "question_id": 56859854, "link": "https://stackoverflow.com/questions/56859854/swift-unit-testing-in-xcode-is-not-finding-any-objective-c-types", "title": "Swift Unit Testing in Xcode is not finding any Objective-C types", "body": "<p>I'm trying to write some unit tests in Swift in Xcode. I'm needing to make use of two Swift files because they have the classes I need to utilize in this unit test.</p>\n\n<p>These two Swift files build and run properly when I normally build/run my project.</p>\n\n<p>However, when I attempt to use them in my unit test, I get errors for any types that are referenced in these two Swift files that are coming from any Objective-C file.</p>\n\n<p>See this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bWect.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWect.png\" alt=\"missing types\"></a></p>\n\n<p>These missing types are coming from an Objective-C file. Now, these Objective-C files ARE included in my bridging header file so that's not the problem.</p>\n\n<p>I have no other info to work off.</p>\n"}, {"tags": ["objective-c", "openssl", "storekit"], "comments": [{"owner": {"reputation": 2126, "user_id": 3457218, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/2GvE7.jpg?s=128&g=1", "display_name": "Jaythaking", "link": "https://stackoverflow.com/users/3457218/jaythaking"}, "edited": false, "score": 0, "creation_date": 1591372287, "post_id": 56856914, "comment_id": 110040653, "body": "Did you find something?"}], "answers": [{"tags": [], "owner": {"reputation": 30, "user_id": 5705503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa16f8eb1e6dfce3415a2dcffd4f9a57?s=128&d=identicon&r=PG&f=1", "display_name": "Munok Kim", "link": "https://stackoverflow.com/users/5705503/munok-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1602735970, "creation_date": 1602735970, "answer_id": 64364876, "question_id": 56856914, "link": "https://stackoverflow.com/questions/56856914/unable-to-purchase-contact-the-developer-for-more-information-subscription-offe/64364876#64364876", "title": "Unable to Purchase. Contact the developer for more information Subscription offer", "body": "<p>I'm doing the same thing right now.\nSo I'm not sure either, but your code snippet is missing the code below.</p>\n<pre><code>payment.applicationUsername = self.appUsernameHash\n</code></pre>\n<p>Apple is talking about \u02bbapplicationUsername` in <a href=\"https://developer.apple.com/documentation/storekit/in-app_purchase/subscriptions_and_offers/implementing_subscription_offers_in_your_app\" rel=\"nofollow noreferrer\">Official Documentation</a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 5159091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd101627d63a198769b666ed4a1b9130?s=128&d=identicon&r=PG&f=1", "display_name": "Jafar Mohammed", "link": "https://stackoverflow.com/users/5159091/jafar-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1602735970, "creation_date": 1562085812, "last_edit_date": 1562086484, "question_id": 56856914, "link": "https://stackoverflow.com/questions/56856914/unable-to-purchase-contact-the-developer-for-more-information-subscription-offe", "title": "Unable to Purchase. Contact the developer for more information Subscription offer", "body": "<p>I am adding a subscription offer to my existing in-app purchase. So I get the encoded signature, nonce, timestamp and key identifier from our server. I create a SKPaymentDiscount object and setting this to paymentDiscount of SKMutablePayment object.</p>\n\n<p>It showed me the expected offer price and actual price screen with password field. After I confirmed the subscription with password it takes me to the popup \"Unable to purchase contact the development for more information.\" with an Ok button. Next after I tap the button it shows another alert Failed Cannot connect to iTunes Store.</p>\n\n<p>I got the signature from following this tutorial using python. <a href=\"https://stackoverflow.com/questions/55414749/generating-a-signature-for-subscription-offers-xcode-swift\">Generating a Signature for Subscription Offers - Xcode - Swift</a></p>\n\n<pre><code>- (void)buyProduct:(SKProduct*)product offer:(SKPaymentDiscount*)promotionalOffer\n{\n    SKMutablePayment* payment = [ SKMutablePayment paymentWithProduct:product ];\n    payment.paymentDiscount = promotionalOffer;\n\n    [ [ SKPaymentQueue defaultQueue ] addPayment:payment ];\n}\n</code></pre>\n\n<p>I want the subscription to be purchased successfully.</p>\n"}, {"tags": ["ios", "objective-c", "screen-orientation"], "comments": [{"owner": {"reputation": 3171, "user_id": 1868207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/orxp5.jpg?s=128&g=1", "display_name": "Nirav Tukadiya", "link": "https://stackoverflow.com/users/1868207/nirav-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562076712, "post_id": 56854258, "comment_id": 100258848, "body": "Did you try on the real device?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562076997, "post_id": 56854258, "comment_id": 100259029, "body": "Curious - why only support one of the two landscape orientations? Apple frowns on such actions."}, {"owner": {"reputation": 983, "user_id": 1282993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/84fc2b91a9b15b50df25f8c7b2be0bb2?s=128&d=identicon&r=PG", "display_name": "lyptt", "link": "https://stackoverflow.com/users/1282993/lyptt"}, "edited": false, "score": 0, "creation_date": 1562088095, "post_id": 56854258, "comment_id": 100264741, "body": "Usually when dealing with iPhone * Plus devices, you&#39;ll want to ascertain what <a href=\"https://developer.apple.com/documentation/uikit/uitraitcollection\" rel=\"nofollow noreferrer\">trait collection</a> is being used. In landscape mode on these devices your horizontal trait will be <code>.regular</code>, and your vertical trait will be <code>.compact</code>. You can use these hints to adjust your UI accordingly.  It seems like you&#39;re trying to restrict the orientation of the application to landscape. I&#39;m assuming this is because this is a game and not a standard application. In which case defining your supported orientations in your plist is enough."}, {"owner": {"reputation": 983, "user_id": 1282993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/84fc2b91a9b15b50df25f8c7b2be0bb2?s=128&d=identicon&r=PG", "display_name": "lyptt", "link": "https://stackoverflow.com/users/1282993/lyptt"}, "edited": false, "score": 0, "creation_date": 1562088163, "post_id": 56854258, "comment_id": 100264774, "body": "I&#39;d recommend inspecting your target in Xcode and verifying if Xcode recognises that the Portrait orientation is disabled for your application. This might provide a hint about a potential misconfiguration issue."}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 5660422, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650430752/picture?type=large", "display_name": "Surbhi Garg", "link": "https://stackoverflow.com/users/5660422/surbhi-garg"}, "is_accepted": false, "score": 0, "last_activity_date": 1562125322, "creation_date": 1562125322, "answer_id": 56862614, "question_id": 56854258, "link": "https://stackoverflow.com/questions/56854258/orientation-method-not-working-for-iphone-plus-devices/56862614#56862614", "title": "Orientation Method not working for iPhone plus devices", "body": "<p>Try adding a notification on view </p>\n\n<pre><code>UIDeviceOrientationDidChangeNotification\n</code></pre>\n\n<p>and check if it comes in the method.</p>\n\n<p>Also you are returning No in your <code>UIDeviceOrientationDidChangeNotification</code> method try returning YES.</p>\n\n<p>Hope this helps. Do let me know if you need any more explanation. This approach has been worked for me.</p>\n"}], "owner": {"reputation": 1598, "user_id": 11724588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sp7QR.jpg?s=128&g=1", "display_name": "Dhaval Kansara", "link": "https://stackoverflow.com/users/11724588/dhaval-kansara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1562125322, "creation_date": 1562076149, "last_edit_date": 1562076239, "question_id": 56854258, "link": "https://stackoverflow.com/questions/56854258/orientation-method-not-working-for-iphone-plus-devices", "title": "Orientation Method not working for iPhone plus devices", "body": "<p>Below mentioned orientation delegate method not calling in case of iOS plus devices(iPhone 8plus/7plus/6plus...)</p>\n\n<p>My code for orientation methods is:</p>\n\n<p>Note: Landscape right checkbox is unselected by default.</p>\n\n<pre><code>- (BOOL)shouldAutorotate {\n    return NO;\n}\n\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations {\n    return UIInterfaceOrientationMaskLandscapeRight;\n}\n\n- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation{\n     return UIInterfaceOrientationLandscapeRight;\n}\n</code></pre>\n\n<p><strong>My info.plist file is:</strong></p>\n\n<pre><code>&lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;\n        &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;\n    &lt;/array&gt;\n</code></pre>\n\n<p>Please guide me on this issue.</p>\n"}, {"tags": ["ios", "objective-c", "google-maps"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1562075279, "post_id": 56853928, "comment_id": 100257955, "body": "please post this line <code>BadgerMapView.m:1784</code> for your app version that reported the crash"}, {"owner": {"reputation": 21, "user_id": 11729422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1pKCLZdGDRY/AAAAAAAAAAI/AAAAAAAAAAk/M5i_g7nFMm4/photo.jpg?sz=128", "display_name": "Arvind Patel", "link": "https://stackoverflow.com/users/11729422/arvind-patel"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1562076168, "post_id": 56853928, "comment_id": 100258504, "body": "Hey I updated my code"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1562077492, "post_id": 56853928, "comment_id": 100259339, "body": "I would recommend you  <code>if ([waypt isKindOfClass:[NSNull class]] || [waypt isEqual:nil]) {  continue;            }</code> but this shouldn&#39;t be the problem anyway, which was the last version this crashed? maybe is solved and you are overlooking"}, {"owner": {"reputation": 21, "user_id": 11729422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1pKCLZdGDRY/AAAAAAAAAAI/AAAAAAAAAAk/M5i_g7nFMm4/photo.jpg?sz=128", "display_name": "Arvind Patel", "link": "https://stackoverflow.com/users/11729422/arvind-patel"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1562132463, "post_id": 56853928, "comment_id": 100276120, "body": "this is the latest code where I got the crash"}], "owner": {"reputation": 21, "user_id": 11729422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1pKCLZdGDRY/AAAAAAAAAAI/AAAAAAAAAAk/M5i_g7nFMm4/photo.jpg?sz=128", "display_name": "Arvind Patel", "link": "https://stackoverflow.com/users/11729422/arvind-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562133587, "creation_date": 1562075095, "last_edit_date": 1592644375, "question_id": 56853928, "link": "https://stackoverflow.com/questions/56853928/ios-gmsmapview-mapviewdidtapmarker-app-crash", "title": "iOS,GMSMapView, MapView:didTapMarker app crash", "body": "<p>my app is crashed when the user tapped on a marker (GMSMapVIew: didTapMarker) and myApp works good in 99% of the time, But sometimes it shows a crash on crashlytics. And it's so random occurred.</p>\n<p>The crash report shows the following.</p>\n<pre><code>Crashed: com.apple.main-thread\nEXC_BAD_ACCESS KERN_INVALID_ADDRESS 0x00000002f6ce97f4\n\n-[BadgerMapView mapView:didTapMarker:]\n\nCrashed: com.apple.main-thread\n\n0  libobjc.A.dylib                0x1f025653c objc_msgSend + 28\n1  Badger                         0x104d3af84 -[BadgerMapView mapView:didTapMarker:] + 1784 (BadgerMapView.m:1784)\n2  CoreFoundation                 0x1f106b900 __invoking___ + 144\n3  CoreFoundation                 0x1f0f4d4d0 -[NSInvocation invoke] + 292\n4  CoreFoundation                 0x1f0f4e104 -[NSInvocation invokeWithTarget:] + 60\n5  Badger                         0x104e940e0 -[GMSDelegateForward forwardInvocation:] + 4339744992\n6  CoreFoundation                 0x1f10697c0 ___forwarding___ + 636\n7  CoreFoundation                 0x1f106b75c _CF_forwarding_prep_0 + 92\n8  Badger                         0x104ea01fc -[GMSMapView didTapMarker:] + 20436\n9  Badger                         0x104eb8a88 -[GMSMarker wasTapped] + 120928\n10 UIKitCore                      0x21d1c3868 -[UIGestureRecognizerTarget _sendActionWithGestureRecognizer:] + 64\n11 UIKitCore                      0x21d1cba70 _UIGestureRecognizerSendTargetActions + 124\n12 UIKitCore                      0x21d1c9414 _UIGestureRecognizerSendActions + 316\n13 UIKitCore                      0x21d1c8940 -[UIGestureRecognizer _updateGestureWithEvent:buttonEvent:] + 760\n14 UIKitCore                      0x21d1bca1c _UIGestureEnvironmentUpdate + 2180\n15 CoreFoundation                 0x1f0ff55f8 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 32\n16 CoreFoundation                 0x1f0ff0320 __CFRunLoopDoObservers + 412\n17 CoreFoundation                 0x1f0ff089c __CFRunLoopRun + 1228\n18 CoreFoundation                 0x1f0ff00b0 CFRunLoopRunSpecific + 436\n19 GraphicsServices               0x1f31f079c GSEventRunModal + 104\n20 UIKitCore                      0x21d59a978 UIApplicationMain + 212\n21 Badger                         0x104cb863c main + 17 (main.m:17)\n22 libdyld.dylib                  0x1f0ab58e0 start + 4\n</code></pre>\n<p>Below is my code where the app is <strong>crash</strong>.</p>\n<blockquote>\n<p>BadgerMapView.m:1784</p>\n<p>if (![waypt isKindOfClass:[NSNull class]]) <code>This is the line where i got crash</code></p>\n</blockquote>\n<pre><code>- (BOOL)mapView:(GMSMapView *)mapView didTapMarker:(GMSMarker *)marker\n{\n  CLLocationCoordinate2D markerLocation = marker.position;\n  double tappedMarkerLattitude = markerLocation.latitude;\n  double tappedMarkerLongitude = markerLocation.longitude;\n  NSArray *waypoints =[MapViewController sharedInstance].wayPointsToShowOnRouteMode;\n\n  for (PlannerWaypoint *waypt in waypoints)\n  {\n    @try {\n        if (![waypt isKindOfClass:[NSNull class]]) { \n            if (![waypt isEqual:nil]) {\n\n                [MapViewController sharedInstance].currentWaypoint = waypt;\n                \n                NSNumber *nextWayPointIndex = [MapViewController sharedInstance].currentWaypoint.modPosition;\n                NSNumber *prevWayPointIndex = [MapViewController sharedInstance].currentWaypoint.modPosition;\n                \n                int value = [nextWayPointIndex intValue];\n                nextWayPointIndex = [NSNumber numberWithInt:value + 1];\n                NSUInteger nextWayPointIndexInt = [nextWayPointIndex integerValue];\n                prevWayPointIndex = [NSNumber numberWithInt:value - 1];\n                NSUInteger prevWayPointIndexInt = [prevWayPointIndex integerValue];\n                \n                int waypointCount = (int)[waypoints count];\n                \n                if (nextWayPointIndexInt &gt; (waypointCount-1)) {\n                    [MapViewController sharedInstance].nextWaypoint = [waypoints objectAtIndex:0];\n                }\n                else {\n                    [MapViewController sharedInstance].nextWaypoint = [waypoints objectAtIndex:nextWayPointIndexInt];\n                }\n                \n                if (prevWayPointIndexInt &gt; (waypointCount-1)) {\n                    [MapViewController sharedInstance].previousWaypoint = [waypoints objectAtIndex:(waypointCount-1)];\n                }\n                else {\n                    [MapViewController sharedInstance].previousWaypoint = [waypoints objectAtIndex:prevWayPointIndexInt];\n                }\n                \n                if([Utility isIphone] == NO) {\n                    [[MapViewController sharedInstance] showMarkerSelectedAtMiddle:[MapViewController sharedInstance].currentWaypoint];\n                    UIViewController *viewcontroller = [MenuViewController sharedInstance].presentedViewController;\n                    if([viewcontroller.childViewControllers objectAtIndex:0]!=nil) {\n                        RouteModeViewController *routeModeView = [viewcontroller.childViewControllers objectAtIndex:0];\n                        [routeModeView.customerCardNameLabel setText:[MapViewController sharedInstance].waypointLabel];\n                    }\n                } else {\n                    UINavigationController *UINavController = (UINavigationController *)self.window.rootViewController.presentedViewController;\n                    UIViewController *UIViewCon = [[UINavController viewControllers] lastObject];\n                    if ([UIViewCon isKindOfClass:[MapViewController class]]) {\n                        MapViewController *mapViewController = (MapViewController *)UIViewCon;\n                        [mapViewController showMarkerSelectedAtMiddle:waypt];\n                    }\n                }\n                [waypt release];\n                waypt = nil;\n                break;\n                \n                \n            }\n        }\n    } @catch (NSException *exception) {\n        NSLog(@&quot;Exception in ProcessdidTapMarker: %@&quot;,exception);\n        [DeviceLoger log:[NSString stringWithFormat:@&quot;Exception in ProcessdidTapMarker: %@&quot;,exception]];\n    }\n }\n   return YES;\n}\n</code></pre>\n<p>Does anybody have an idea?</p>\n<p>Please help me, Because I'm facing this issue form a very long time</p>\n<p>Thanks!</p>\n"}, {"tags": ["c++", "objective-c", "xcode", "cmake"], "comments": [{"owner": {"reputation": 6583, "user_id": 2015023, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b436c40d6ac76cd76ce05aadb9fbebcf?s=128&d=identicon&r=PG", "display_name": "Mobile Ben", "link": "https://stackoverflow.com/users/2015023/mobile-ben"}, "edited": false, "score": 0, "creation_date": 1562089594, "post_id": 56853260, "comment_id": 100265370, "body": "Is your expectation that the static libs are embedded in your framework?"}, {"owner": {"reputation": 1301, "user_id": 949451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f569a2a2705ac9c7bd2ae04b4902eeb?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/949451/daniel"}, "reply_to_user": {"reputation": 6583, "user_id": 2015023, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b436c40d6ac76cd76ce05aadb9fbebcf?s=128&d=identicon&r=PG", "display_name": "Mobile Ben", "link": "https://stackoverflow.com/users/2015023/mobile-ben"}, "edited": false, "score": 0, "creation_date": 1562163533, "post_id": 56853260, "comment_id": 100292999, "body": "@MobileBen yes, that is what I want to obtain at the end!"}, {"owner": {"reputation": 6583, "user_id": 2015023, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b436c40d6ac76cd76ce05aadb9fbebcf?s=128&d=identicon&r=PG", "display_name": "Mobile Ben", "link": "https://stackoverflow.com/users/2015023/mobile-ben"}, "edited": false, "score": 0, "creation_date": 1562185264, "post_id": 56853260, "comment_id": 100303329, "body": "A few other dumb questions on my end. 1. Is the snippet above what you are using in the &quot;application&quot; that uses the framework? 2. Why don&#39;t you use static lib versus framework for iOS? Does the application itself depend on any of the libs you want to include? 3. In your list above, which ones should myLibrary embed? FWIW, I&#39;m asking because in my setup I actually use static libs v. frameworks and I opt for having the application specifically link in the libs. I can go through the reasoning, but want to better understand your use case."}], "owner": {"reputation": 1301, "user_id": 949451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f569a2a2705ac9c7bd2ae04b4902eeb?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/949451/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562073039, "creation_date": 1562073039, "question_id": 56853260, "link": "https://stackoverflow.com/questions/56853260/cmake-does-not-include-embed-linked-library", "title": "CMake does not include/embed linked library", "body": "<p>I have a CMake list file that builds a c++ library that I have, including 5 third party c++ libraries, which are also built with cmake. This project builds an android .aar library and an iOS framework.</p>\n\n<p>While android works flawlessly, I find problem after problem with iOS. I manage to build a .framework file, but it does NOT include the third party libraries (that get built correctly), so to be able to use the .framework I end up needing to manually add the third party libraries manually to my App project. </p>\n\n<p>How can I tell CMake that the libraries must be included/embedded/shipped with the .framework file?</p>\n\n<p>What I currently have is:</p>\n\n<pre><code>...\n\n# libpng\ninclude_directories(${ROOT}/thirdparties/libpng)\ninclude_directories(${CMAKE_CURRENT_BINARY_DIR}/thirdparties/libpng)\nset(PNG_PNG_INCLUDE_DIR ${ROOT}/thirdparties/libpng)\nset(PNG_LIBRARY png16_static)\nset(PNG_SHARED OFF)\nset(PNG_TESTS OFF CACHE BOOL \"skip tests for libpng\")\nadd_subdirectory(${ROOT}/thirdparties/libpng)\n\n\n... (almost the same for all third party libraries)\n\n\nif( IOS )\n    add_library(myLibrary STATIC ${SOURCES} ${SOURCES_JNI} ${SOURCES_MYSQL} ${PUBLIC_HEADER} ${RESOURCES})\nelse()\n    add_library(myLibrary SHARED ${SOURCES} ${SOURCES_JNI} ${SOURCES_MYSQL} ${PUBLIC_HEADER} ${RESOURCES})\nendif()\n\n\ntarget_link_libraries(myLibrary\n        hpdfs\n        png16_static\n        ${mysqlcppconn}\n        zlibstatic\n        ${CRYPTO_LIBRARY}\n        ${PTHREAD}\n)\n\n</code></pre>\n\n<p>Thanks in advance for your help!</p>\n"}, {"tags": ["ios", "objective-c", "uiview", "uibutton"], "comments": [{"owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "edited": false, "score": 0, "creation_date": 1562069876, "post_id": 56852222, "comment_id": 100254525, "body": "google iOS Autolayout Tutorial"}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 5660422, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650430752/picture?type=large", "display_name": "Surbhi Garg", "link": "https://stackoverflow.com/users/5660422/surbhi-garg"}, "is_accepted": false, "score": 0, "last_activity_date": 1562125643, "creation_date": 1562125643, "answer_id": 56862655, "question_id": 56852222, "link": "https://stackoverflow.com/questions/56852222/how-to-add-uibutton-as-bottomview-to-uiview/56862655#56862655", "title": "How to add UIButton as bottomView to UIView?", "body": "<p>Please find you have added button on this frame</p>\n\n<pre><code> self.bottomView = [[UIView alloc] initWithFrame:CGRectMake(0, self.MainView.bounds.size.height +30, self.MainView.bounds.size.width, 40.0)];\n</code></pre>\n\n<p>Here you have made the y as height + 30 so it is not visible to the view.</p>\n\n<p>You should use this.</p>\n\n<pre><code> self.bottomView = [[UIView alloc] initWithFrame:CGRectMake(0, self.MainView.bounds.size.height - 40, self.MainView.bounds.size.width, 40.0)];\n</code></pre>\n\n<p>Also if you want 16 pixel gap you should the view above it with the same approach.</p>\n\n<p>Please let me know if you need any more help</p>\n"}], "owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562125643, "creation_date": 1562069629, "question_id": 56852222, "link": "https://stackoverflow.com/questions/56852222/how-to-add-uibutton-as-bottomview-to-uiview", "title": "How to add UIButton as bottomView to UIView?", "body": "<p>I have a UIView class, and in xib also I have a MainView which is a UIView. I want to add UIButton as bottomView to the View.I need to give bottom space 16 between MainView and bottomView. How do I do it?</p>\n\n<pre><code> self.bottomView = [[UIView alloc] initWithFrame:CGRectMake(0, self.MainView.bounds.size.height +30, self.MainView.bounds.size.width, 40.0)];\n    [self.bottomView setBackgroundColor:[UIColor greenColor]];\nself.selectBtn= [UIButton buttonWithType: UIButtonTypeRoundedRect];\n[self.selectBtn setFrame:CGRectMake(0,20,100,40)];\n[self.selectBtn setTitle:@\"Select\" forState:UIControlStateNormal];\n[self.selectBtn addTarget:self action:@selector(selectButtonTapped:) forControlEvents:UIControlEventTouchUpInside];\n[self.bottomView addSubview:self.selectBtn];\n    [self addSubview:self.bottomView];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iynmb.png\" rel=\"nofollow noreferrer\">Expected result</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4XZpP.png\" rel=\"nofollow noreferrer\">Output from above code</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1569530010, "post_id": 56851311, "comment_id": 102637228, "body": "Related <a href=\"https://stackoverflow.com/questions/53173819/swift-and-objective-c-framework-exposes-its-internals\" title=\"swift and objective c framework exposes its internals\">stackoverflow.com/questions/53173819/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 11973277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9j8Rd.jpg?s=128&g=1", "display_name": "FahimAhmed", "link": "https://stackoverflow.com/users/11973277/fahimahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1586196317, "last_edit_date": 1586196317, "creation_date": 1566753081, "answer_id": 57648096, "question_id": 56851311, "link": "https://stackoverflow.com/questions/56851311/why-internal-classes-appear-in-productname-swift-h-may-i-change-this-file-manua/57648096#57648096", "title": "Why internal classes appear in ProductName-Swift.h? May I change this file manually?", "body": "<p>According to Swift's official documentation <a href=\"https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html\" rel=\"nofollow noreferrer\">SwiftDoc</a>, it states internal modifier as:</p>\n\n<blockquote>\n  <p>Internal access enables entities to be used within any source file\n  from their defining module, but not in any source file outside of that\n  module. You typically use internal access when defining an app\u2019s or a\n  framework\u2019s internal structure.</p>\n</blockquote>\n\n<p>Now, if you have exposed any of those internal classes to Objective-C, the automatic created bridging header would probably include that class definition.</p>\n\n<p>Because Xcode creates the bridging header for the purpose of those Swift classes to be usable from any Obejctive-C source file that you may add/write in that project.</p>\n\n<p>If those classes are never to be used from any Objective-C file ever, you can try removing <code>@objc</code> from them (if they were already exposed), or put file private access modifier.</p>\n\n<p>In this scenario, what else you can do is when you build the framework, you can check if the auto generated header file is kept as a public header from Xcode build phase settings. If it is public, make it private, and expose a custom header for your framework users, where you only put your desired swift class definitions.</p>\n\n<p>If it is not listed there as a header at all, and if you choose not to use those internal classes from any of your Objective-C files in your framework (if you decide to have any Objective-C file in your project), then sure, you can go ahead with a script to remove your unwanted class definitions from that bridging header.</p>\n\n<p>Hope this would help.</p>\n"}], "owner": {"reputation": 314, "user_id": 8258820, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3a4669295b3e48b997943af31fdf22a4?s=128&d=identicon&r=PG&f=1", "display_name": "Boris ", "link": "https://stackoverflow.com/users/8258820/boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1586196317, "creation_date": 1562066393, "question_id": 56851311, "link": "https://stackoverflow.com/questions/56851311/why-internal-classes-appear-in-productname-swift-h-may-i-change-this-file-manua", "title": "Why internal classes appear in ProductName-Swift.h? May I change this file manually?", "body": "<p>I build Swift framework that is dependent on another Objective C framework (so, the project contains bridging header file). When I open auto-generated ProductName-Swift.h file inside my framework's headers I see that classes that I would not like to expose (those with internal modifier). According to <a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_swift_into_objective-c\" rel=\"nofollow noreferrer\">Apple docs</a> it's legit:</p>\n\n<blockquote>\n  <p>By default, the generated header contains interfaces for Swift\n  declarations marked with the public or open modifier. If your app\n  target has an Objective-C bridging header, the generated header also\n  includes interfaces marked with the internal modifier.</p>\n</blockquote>\n\n<p>But why does it happen? Can anyone explain me, please? According to my logic, if I decide to make some code to be internal it shouldn't be used outside of my framework and it shouldn't be exposed in a header.</p>\n\n<p>Anyway, I can write a bash script that will delete internal classes and functions from ProductName-Swift.h after the build, but I'm not sure if it's ok to do such a thing. Will the user have any problems while using my Swift framework with \"fixed\" ProductName-Swift.h inside his Objective C project, for example?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "tvos", "airplay"], "comments": [{"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1562526943, "post_id": 56850719, "comment_id": 100392449, "body": "Take a look at <code>AVMetadataItem</code>."}], "owner": {"reputation": 51, "user_id": 11083302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce5ce0d343159ce2cebf9ac2bbb466f1?s=128&d=identicon&r=PG&f=1", "display_name": "nknr", "link": "https://stackoverflow.com/users/11083302/nknr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562064293, "creation_date": 1562064293, "question_id": 56850719, "link": "https://stackoverflow.com/questions/56850719/only-mpmediaitempropertytitle-appears-when-airplaying-on-tvos-despite-every-o", "title": "Only `MPMediaItemPropertyTitle` appears when airplaying on tvOS, despite every other info being in control center", "body": "<p>Trying to implement airplay functionality to play audio on Apple TV via airplay, the only info appearing on the tvOS UI is the title, despite every other info is present (and appears in the control center music UI without a problem).</p>\n\n<p>Working with Xcode 10.2.1, app is Objc-Swift5, supporting iOS 10+.</p>\n\n<p>This is the current code:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>NSMutableDictionary *audioObjectInfo = [[NSMutableDictionary alloc] init];\n\naudioObjectInfo[MPMediaItemPropertyTitle] = @\"Title\";\naudioObjectInfo[MPMediaItemPropertyArtist] = @\"User\";\naudioObjectInfo[MPMediaItemPropertyAlbumTitle] = @\"Collection\";\n\n[[MPNowPlayingInfoCenter defaultCenter] setNowPlayingInfo:audioObjectInfo];\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["ios", "objective-c", "swift", "alamofire", "background-process"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562052960, "post_id": 56847451, "comment_id": 100245697, "body": "did you try other qos values like background ?. and  keep note that Alamofire.SessionManager.default is shared instance so  for now every request has 900 time out"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562053257, "post_id": 56847451, "comment_id": 100245847, "body": "Yes I tried. Thanks for your note. Can you help me to tell max value of timeoutIntervalForRequest?"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562053396, "post_id": 56847451, "comment_id": 100245920, "body": "No there is no standard benchmark for timeout values what you can do is  You can keep separate session for download / upload task so it won&#39;t be conflicted with normal requests"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562053585, "post_id": 56847451, "comment_id": 100246006, "body": "use async task you are using sync"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562053651, "post_id": 56847451, "comment_id": 100246034, "body": "Okay but still it&#39;s freezing the UI."}, {"owner": {"reputation": 2263, "user_id": 1272833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39650cfa1aadc64c4bf83de56efd34c0?s=128&d=identicon&r=PG", "display_name": "HMHero", "link": "https://stackoverflow.com/users/1272833/hmhero"}, "edited": false, "score": 0, "creation_date": 1562053870, "post_id": 56847451, "comment_id": 100246145, "body": "What happens if call the function without DispatchQueue.global(qos: .userInitiated).sync { }?"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562053899, "post_id": 56847451, "comment_id": 100246155, "body": "Try one thing comment everything inside progress block and use async  also instead of sync may be issue with <code>NotificationCenter.default.post(name: Notification...</code> line"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562054117, "post_id": 56847451, "comment_id": 100246256, "body": "@PrashantTukadiyaLet me check with this, I will update you."}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562054675, "post_id": 56847451, "comment_id": 100246508, "body": "When I have commented everything inside progress block, then UI is not freezing @PrashantTukadiya"}, {"owner": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1562054706, "post_id": 56847451, "comment_id": 100246523, "body": "You need to make the network request in the background thread. DispatchQueue.global(qos: .background).async {  ...&lt;Your request&gt;...  } Only use the main thread for updating views(UI works)."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562060772, "post_id": 56847451, "comment_id": 100249730, "body": "What you are doing is continuously  firing the notification using this line `                    NotificationCenter.default.post(name: Notification.Name(rawValue: &quot;VideoDownloadProgress&quot;), object: nil, userInfo: userInfo) ` You can use trailing closure in your method and call closure when progress block executes with value. Hope you understand what I am trying to say"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562061123, "post_id": 56847451, "comment_id": 100249926, "body": "Yes @PrashantTukadiya"}], "answers": [{"comments": [{"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562053572, "post_id": 56847658, "comment_id": 100246003, "body": "I already tried changing this, but still facing the same issue."}], "tags": [], "owner": {"reputation": 4719, "user_id": 2354060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOrV4.jpg?s=128&g=1", "display_name": "nerowolfe", "link": "https://stackoverflow.com/users/2354060/nerowolfe"}, "is_accepted": false, "score": 0, "last_activity_date": 1562053516, "creation_date": 1562053516, "answer_id": 56847658, "question_id": 56847451, "link": "https://stackoverflow.com/questions/56847451/video-download-using-alamofire-is-freezing-the-ui-in-swift-ios/56847658#56847658", "title": "Video download using Alamofire is freezing the UI in Swift iOS", "body": "<p>Instead </p>\n\n<pre><code>DispatchQueue.global(qos: .userInitiated).sync { }\n</code></pre>\n\n<p>try</p>\n\n<pre><code>DispatchQueue.global(qos: .userInitiated).async { }\n</code></pre>\n\n<p>Looks like you are trying to download video as synchronized operation</p>\n"}, {"comments": [{"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562055007, "post_id": 56847991, "comment_id": 100246675, "body": "Thanks for your reply, I am facing issue with NotificationCenter.default.post(name: Notification..."}, {"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562055118, "post_id": 56847991, "comment_id": 100246721, "body": "@AnandGautam the above code avoids the use of Notifications. Look at the usage, you are getting the progress where you are calling the download function. the above code can help you achieve what you want."}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562055226, "post_id": 56847991, "comment_id": 100246780, "body": "My downloadVideoFileFromUrl method is written into View Modal class, so to update the downloading progress I am using NotificationCenter."}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562055261, "post_id": 56847991, "comment_id": 100246801, "body": "Okay @Sahil Let me test with your code. I will update you."}, {"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562060988, "post_id": 56847991, "comment_id": 100249849, "body": "@AnandGautam can you provide a sample project which can reproduces the same error?"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562061760, "post_id": 56847991, "comment_id": 100250288, "body": "I have to download back to back 8 video clips, but its getting stop after 6th Video clip. Do you have any idea why?"}, {"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562061880, "post_id": 56847991, "comment_id": 100250341, "body": "@AnandGautam there can be a number of reasons. Is it printing any error or getting failed?"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562062976, "post_id": 56847991, "comment_id": 100250890, "body": "Can I set 12000 for timeoutIntervalForRequest value?"}, {"owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562063168, "post_id": 56847991, "comment_id": 100250977, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195850/discussion-between-sahil-manchanda-and-anand-gautam\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "is_accepted": true, "score": 0, "last_activity_date": 1562054932, "creation_date": 1562054932, "answer_id": 56847991, "question_id": 56847451, "link": "https://stackoverflow.com/questions/56847451/video-download-using-alamofire-is-freezing-the-ui-in-swift-ios/56847991#56847991", "title": "Video download using Alamofire is freezing the UI in Swift iOS", "body": "<p>Try using below code:</p>\n\n<pre><code>func download(url: String,fileName: String,progressUpdate: ((_ percent: Double) -&gt; Void)? = nil, completion:@escaping (_ success: Bool, _ error: Error?,_ fileUrl: URL?) -&gt; Void) {\n        let utilityQueue = DispatchQueue.global(qos: .utility)\n        Alamofire.download(url)\n            .downloadProgress(queue: utilityQueue) { progress in\n                DispatchQueue.main.async {\n                    progressUpdate?(progress.fractionCompleted)\n                }\n            }\n            .responseData { response in\n                if let data = response.result.value {\n                    let fileURL = try! FileManager.default.url(for: .documentDirectory, in: .userDomainMask, appropriateFor: nil, create: false).appendingPathComponent(fileName)\n                    do {\n                        try data.write(to: fileURL, options: .atomic)\n                        completion(true,nil,fileURL)\n                    } catch {\n                        completion(false,error,nil)\n                    }\n                }\n        }\n\n    }\n</code></pre>\n\n<p>How to use it:</p>\n\n<pre><code>download(url: \"\", fileName: \"filName\", progressUpdate: { (progress) in\n            print(\"Progress \\(progress)\")\n        }) { (success, error, filePath) in\n            print(\"success \\(success) error \\(error?.localizedDescription ?? \"nil\") path \\(filePath?.absoluteString ?? \"nil\")\")\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562059977, "post_id": 56848783, "comment_id": 100249301, "body": "How can I check for this?"}, {"owner": {"reputation": 1, "user_id": 2985893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdbd3f80ef42b87a26506ddbd5e2abc?s=128&d=identicon&r=PG&f=1", "display_name": "oxromantic", "link": "https://stackoverflow.com/users/2985893/oxromantic"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562060110, "post_id": 56848783, "comment_id": 100249362, "body": "if new_progress - old_progress &lt; 0.01 then     return;  old_progress = new_progress"}, {"owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562060537, "post_id": 56848783, "comment_id": 100249595, "body": "I don&#39;t have reference of old_progress value, is it possible to get &#39;progress.fractionCompleted&#39; value like 0.1, 0.2, 0.3, 0.4.....0.8, 0.9, 1.0 So only ten times I will call &#39;NotificationCenter&#39; method instead of multiple time?"}, {"owner": {"reputation": 1, "user_id": 2985893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdbd3f80ef42b87a26506ddbd5e2abc?s=128&d=identicon&r=PG&f=1", "display_name": "oxromantic", "link": "https://stackoverflow.com/users/2985893/oxromantic"}, "reply_to_user": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "edited": false, "score": 0, "creation_date": 1562065967, "post_id": 56848783, "comment_id": 100252448, "body": "it&#39;s better to add one, as the progress may never be 0.1 (e.g. first 0.09, second 0.11). BTW, i think <code>vidProgress</code> is the old value you want."}], "tags": [], "owner": {"reputation": 1, "user_id": 2985893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdbd3f80ef42b87a26506ddbd5e2abc?s=128&d=identicon&r=PG&f=1", "display_name": "oxromantic", "link": "https://stackoverflow.com/users/2985893/oxromantic"}, "is_accepted": false, "score": 0, "last_activity_date": 1562057812, "creation_date": 1562057812, "answer_id": 56848783, "question_id": 56847451, "link": "https://stackoverflow.com/questions/56847451/video-download-using-alamofire-is-freezing-the-ui-in-swift-ios/56848783#56848783", "title": "Video download using Alamofire is freezing the UI in Swift iOS", "body": "<p>you may need to check the progress delta, if the progress changes less than 1%, just return and ignore it instead of call dispatch.async</p>\n"}], "owner": {"reputation": 2452, "user_id": 1903307, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/IMzng.jpg?s=128&g=1", "display_name": "Anand Gautam", "link": "https://stackoverflow.com/users/1903307/anand-gautam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 56847991, "answer_count": 3, "score": 0, "last_activity_date": 1562058246, "creation_date": 1562052770, "last_edit_date": 1562058246, "question_id": 56847451, "link": "https://stackoverflow.com/questions/56847451/video-download-using-alamofire-is-freezing-the-ui-in-swift-ios", "title": "Video download using Alamofire is freezing the UI in Swift iOS", "body": "<p>I am developing a Video editing Application in Swift. I am downloading video clips with Progress. </p>\n\n<p>My problem is when I am downloading the video using Alamofire then this freezes my UI until the process will get complete. Here is my code:</p>\n\n<pre><code>    //MARK: - \uf8ff Download Video file\n    func downloadVideoFileFromUrl(videoUrl: URL, video: VideoFileModel) {\n\n        var uniqueVideoID = \"\"\n        var uniqueID = \"\"\n\n        uniqueID = video.fileID\n\n        uniqueVideoID = uniqueID  + \".MOV\"\n\n        let destination: DownloadRequest.DownloadFileDestination = { _, _ in\n            var documentsURL = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask)[0]\n\n            // the name of the file here I kept is yourFileName with appended extension\n            documentsURL.appendPathComponent(uniqueVideoID)\n            return (documentsURL, [.removePreviousFile])\n        }\n\n        var vidProgress: Float = 0.0\n\n\n        let manager = Alamofire.SessionManager.default\n        manager.session.configuration.timeoutIntervalForRequest = 900\n        manager.session.configuration.timeoutIntervalForResource = 900\n\n        manager.download(videoUrl, to:destination)\n            .downloadProgress { (progress) in\n\n                DispatchQueue.main.async(execute: {\n\n                    vidProgress = Float(progress.fractionCompleted)\n                    video.downloadFromUrlProgress = vidProgress\n\n                    //post notification\n                    let userInfo = [ \"videoFileModel\" : video]\n                    NotificationCenter.default.post(name: Notification.Name(rawValue: \"VideoDownloadProgress\"), object: nil, userInfo: userInfo)\n\n                })\n\n            }\n            .response { defaultDownloadResponse in\n\n                DispatchQueue.main.async(execute: {\n\n                    print(defaultDownloadResponse.destinationURL as Any)\n\n                    if defaultDownloadResponse.destinationURL != nil{\n                        video.localFilePath = (defaultDownloadResponse.destinationURL?.absoluteString)!\n                        video.downloadFromUrlProgress = 1\n                        video.isVideoDownload = true\n\n                        let userInfo = [ \"videoFileModel\" : video]\n                        NotificationCenter.default.post(name: Notification.Name(rawValue: \"VideoDownloadProgress\"), object: nil, userInfo: userInfo)\n                        print(\"Completed!\")\n\n                    }\n\n                })\n        }\n    }\n</code></pre>\n\n<p>I am calling this method using </p>\n\n<p><code>DispatchQueue.global(qos: .userInitiated).sync {  }</code></p>\n\n<p>Can anyone help me how can I resolve this issue?</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562022900, "post_id": 56842928, "comment_id": 100238590, "body": "See <a href=\"https://stackoverflow.com/search?q=nsdateformatter+IST\">these search results</a>. <code>IST</code> is ambiguous."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562022950, "post_id": 56842928, "comment_id": 100238595, "body": "Related: <a href=\"https://stackoverflow.com/questions/29846879/nsdateformatterist-not-recognised?r=SearchResults&amp;s=1|67.1353\" title=\"nsdateformatterist not recognised\">stackoverflow.com/questions/29846879/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/9084980/nsdateformatter-doesnt-show-time-zone-abbreviation-for-asia-kolkata-for-the?r=SearchResults&amp;s=3|52.9345\" title=\"nsdateformatter doesnt show time zone abbreviation for asia kolkata for the\">stackoverflow.com/questions/9084980/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/21746798/ist-time-zone-not-getting-parsed?r=SearchResults&amp;s=4|51.9828\" title=\"ist time zone not getting parsed\">stackoverflow.com/questions/21746798/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/13449004/nsdateformatter-geting-null?r=SearchResults&amp;s=5|49.7545\" title=\"nsdateformatter geting null\">stackoverflow.com/questions/13449004/&hellip;</a>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562023198, "post_id": 56842928, "comment_id": 100238644, "body": "It&#39;s always best to avoid timezone abbreviations since they are not unique. Use full timezone names or offsets."}], "owner": {"reputation": 3, "user_id": 3822382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybBK4.jpg?s=128&g=1", "display_name": "RayT", "link": "https://stackoverflow.com/users/3822382/rayt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562018131, "creation_date": 1562018131, "question_id": 56842928, "link": "https://stackoverflow.com/questions/56842928/issue-with-converting-string-to-date-using-nsdataformatter-returning-nil", "title": "issue with converting string to date using nsdataformatter - returning nil", "body": "<p>I am using NSDateFormatter to convert a string date to a NSDate. </p>\n\n<p>This works.</p>\n\n<pre><code>                   NSDateFormatter * formatDate = [[NSDateFormatter alloc] init];\n                    [formatDate setDateFormat:@\"ddMMMyyyy hh:mm:ss a zzz\"];\n                    dateStr = @\"01Jul2019 08:15:00 PM EDT\";\n                    tempInv.time_of_purchase = [formatDate dateFromString:dateStr];\n</code></pre>\n\n<p>This does not work and returns nil ???</p>\n\n<pre><code>                   NSDateFormatter * formatDate = [[NSDateFormatter alloc] init];\n                    [formatDate setDateFormat:@\"ddMMMyyyy hh:mm:ss a zzz\"];\n                    dateStr = @\"01Jul2019 08:15:00 PM IST\";\n                    tempInv.time_of_purchase = [formatDate dateFromString:dateStr];\n</code></pre>\n\n<p>only difference is the TIME ZONE.  In the 2nd one its IDT.  note: it seems PST works fine. EST works fine. but others do not.</p>\n\n<p>can anyone shed some light on this ? and why nil would be getting returned.  note: the iphone it is running on is EDT.</p>\n"}, {"tags": ["ios", "objective-c", "flutter"], "comments": [{"owner": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1562016211, "post_id": 56842620, "comment_id": 100237083, "body": "I would recommend using swift instead unless you know how to use Obj C. <a href=\"https://api.flutter.dev/flutter/services/MethodChannel-class.html\" rel=\"nofollow noreferrer\">api.flutter.dev/flutter/services/MethodChannel-class.html</a>  <code>flutter create -i swift -t plugin</code>"}, {"owner": {"reputation": 51, "user_id": 10560591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iVQXI.png?s=128&g=1", "display_name": "bjmcallister", "link": "https://stackoverflow.com/users/10560591/bjmcallister"}, "reply_to_user": {"reputation": 4811, "user_id": 1462442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4da53bea02367ebc6c8fe96f4f825961?s=128&d=identicon&r=PG", "display_name": "user1462442", "link": "https://stackoverflow.com/users/1462442/user1462442"}, "edited": false, "score": 0, "creation_date": 1562016547, "post_id": 56842620, "comment_id": 100237168, "body": "Thank you, that might actually have to happen."}], "answers": [{"comments": [{"owner": {"reputation": 839, "user_id": 6437420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAtZ.jpg?s=128&g=1", "display_name": "Haroon khan", "link": "https://stackoverflow.com/users/6437420/haroon-khan"}, "edited": false, "score": 0, "creation_date": 1566124219, "post_id": 56842756, "comment_id": 101550698, "body": "You just saved me a lot of time. Thank you very much! I was looking for something like this for many days, trying different solutions and just resolved what I was stuck in through your answer."}], "tags": [], "owner": {"reputation": 31410, "user_id": 9597706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1204711a75c490c659741ef0c6dcbffc?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Heap", "link": "https://stackoverflow.com/users/9597706/richard-heap"}, "is_accepted": true, "score": 3, "last_activity_date": 1562017000, "creation_date": 1562017000, "answer_id": 56842756, "question_id": 56842620, "link": "https://stackoverflow.com/questions/56842620/how-to-pass-variable-from-flutter-to-native-objective-c/56842756#56842756", "title": "How to pass variable from flutter to native objective c", "body": "<p>Change:</p>\n\n<pre><code>NSString *filePath = call.arguments(@\"filePath\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>NSString *filePath = call.arguments[@\"filePath\"];\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 10560591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iVQXI.png?s=128&g=1", "display_name": "bjmcallister", "link": "https://stackoverflow.com/users/10560591/bjmcallister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 56842756, "answer_count": 1, "score": 2, "last_activity_date": 1562017000, "creation_date": 1562016094, "last_edit_date": 1562016239, "question_id": 56842620, "link": "https://stackoverflow.com/questions/56842620/how-to-pass-variable-from-flutter-to-native-objective-c", "title": "How to pass variable from flutter to native objective c", "body": "<p>I have found plenty of information on passing data from flutter to android using method channel but none for objective c. I understand calling functions, but not passing data. Below is an example of what I have.</p>\n\n<pre><code>  Future&lt;void&gt; _uploadImage(String filePath) async {\n    try {\n      await platform.invokeMethod('uploadImage', {\"filePath\": filePath});\n    } on PlatformException catch (e) {\n      print(\"Failed to get token: '${e.message}'.\");\n    }\n  }\n</code></pre>\n\n<pre><code>else if([@\"uploadImage\" isEqualToString:call.method]){\n      DBUserClient *client = [DBClientsManager authorizedClient];\n      NSString *filePath = call.arguments(@\"filePath\");\n      NSLog(filePath, result);\n      NSData *fileData = [filePath dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:NO];\n\n    [[[client.filesRoutes uploadData:filePath inputData:fileData]\n      setResponseBlock:^(DBFILESFileMetadata *result, DBFILESUploadError *routeError, DBRequestError *networkError) {\n          if (result)\n          {\n              NSLog(@\"%@\\n\", result);\n          } else\n          {\n              NSLog(@\"%@\\n%@\\n\", routeError, networkError);\n          }\n      }] setProgressBlock:^(int64_t bytesUploaded, int64_t totalBytesUploaded, int64_t totalBytesExpectedToUploaded) {\n          NSLog(@\"\\n%lld\\n%lld\\n%lld\\n\", bytesUploaded, totalBytesUploaded, totalBytesExpectedToUploaded);\n      }];\n    }\n\n    else{\n      result(FlutterMethodNotImplemented);\n    }\n}];\n  return [super application:application didFinishLaunchingWithOptions:launchOptions];\n}\n</code></pre>\n\n<p>To clarify, the bottom set of code written in objective-c is definitely not correct, but I've been trying to piece it out. I have the images path and I am trying to upload it to Dropbox. Main issue is that the filePath is not reaching the method channel. NSString *filePath = call.arguments(@\"filePath\") isn't an actual function call.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "protocols"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 0, "last_activity_date": 1562013057, "creation_date": 1562013057, "answer_id": 56842083, "question_id": 56840234, "link": "https://stackoverflow.com/questions/56840234/swift-protocol-called-in-objective-c-not-working/56842083#56842083", "title": "Swift protocol called in objective-c not working", "body": "<p>You're very likely creating multiple <code>KestrelDeviceConnect</code> objects. One has a delegate of <code>ViewController</code>, and likely there's another that you're actually using for anything.</p>\n\n<p>I suspect you meant this line, which creates a new KestrelDeviceConnect:</p>\n\n<pre><code>_kestrelVC = [[KestrelDeviceConnect alloc]init];\n</code></pre>\n\n<p>to be this:</p>\n\n<pre><code>_kestrelVC = [KestrelDeviceConnect singleton];\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11698697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8877ef73e589bb78ca8467955fd50e4?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/11698697/displayname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 56842083, "answer_count": 1, "score": 0, "last_activity_date": 1562013057, "creation_date": 1562003544, "last_edit_date": 1562006626, "question_id": 56840234, "link": "https://stackoverflow.com/questions/56840234/swift-protocol-called-in-objective-c-not-working", "title": "Swift protocol called in objective-c not working", "body": "<p>I am trying to get this swift protocol to work in an objective c file, but the function is not getting called for some reason. I want the <code>didConnect()</code> to be called when the device connects and <code>didDisconnect()</code> to be called when the device disconnects. I set a breakpoint in the centralManager did connect function and printed out <code>delegate</code>, it came back <code>nil</code> </p>\n\n<pre><code>@objc protocol KestrelDeviceConnectDelegate {\n       @objc func didConnect()\n       @objc func didDisconnect()\n}\n\n@objcMembers\nclass KestrelDeviceConnect: NSObject{\n\n\nstatic let singleton = KestrelDeviceConnect()\npublic var delegate: KestrelDeviceConnectDelegate?\n\n        func centralManager(_ central: CBCentralManager, didConnect peripheral: CBPeripheral) {\n                self.isInitialReading = false\n                self.kestrelIsConnected = true\n                kestrelPeripheral.discoverServices(nil)\n                self.delegate?.didConnect()\n\n        }\n\n    func centralManager(_ central: CBCentralManager, didDisconnectPeripheral peripheral: CBPeripheral, error: Error?) {\n                self.kestrelIsConnected = false\n                self.delegate?.didDisconnect()\n            }\n        }\n</code></pre>\n\n<p>in the objective c file </p>\n\n<pre><code>    @interface ViewController ()&lt;KestrelDeviceConnectDelegate&gt; {\n        KestrelDeviceConnect&lt;KestrelDeviceConnectDelegate&gt; *_kestrelVC;\n      }\n        @implementation ViewController\n\n        -(void)viewDidLoad {\n            [super viewDidLoad];\n             _kestrelVC = [[KestrelDeviceConnect alloc]init];\n             [_kestrelVC setDelegate:self];\n        }\n        -(void)didConnect{\n            [[self connectToKestrelButton] setHidden:NO];\n\n            }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1562004753, "post_id": 56839860, "comment_id": 100233215, "body": "The device token is opaque data. Converting NSData to an NSString using <code>stringWithFormat</code> or <code>description</code> has never been correct. If you need to send the data as a string, then properly encode it, typically with base64 encoding."}], "answers": [{"tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": true, "score": 1, "last_activity_date": 1562012311, "creation_date": 1562012311, "answer_id": 56841936, "question_id": 56839860, "link": "https://stackoverflow.com/questions/56839860/nsdata-description-and-nsstring-stringwithformat-have-different-return-results-w/56841936#56841936", "title": "NSData description and NSString stringWithFormat have different return results when compiled with Xcode 11 versus Xcode 10", "body": "<p>In short, you can't.</p>\n\n<p>The <code>description</code> method is used for debugging purposes.  It returns a string representation of the object and that representation is not guaranteed to be stable from release to release.</p>\n\n<p>If you need to encode the NSData into a hex string of some sort where you control the format, you'll have to do that manually.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6708731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fff485ad72f9cc39cd090e5959d715bf?s=128&d=identicon&r=PG&f=1", "display_name": "\u0111inh ng\u1ecdc d\u01b0\u01a1ng", "link": "https://stackoverflow.com/users/6708731/%c4%91inh-ng%e1%bb%8dc-d%c6%b0%c6%a1ng"}, "is_accepted": false, "score": 0, "last_activity_date": 1572597538, "creation_date": 1572597538, "answer_id": 58656275, "question_id": 56839860, "link": "https://stackoverflow.com/questions/56839860/nsdata-description-and-nsstring-stringwithformat-have-different-return-results-w/58656275#58656275", "title": "NSData description and NSString stringWithFormat have different return results when compiled with Xcode 11 versus Xcode 10", "body": "<p>It the bad approach but you can try to get the </p>\n\n<pre><code>[theToken description]\n</code></pre>\n\n<p>in iOS13 by using </p>\n\n<pre><code>[theToken debugDescription]\n</code></pre>\n\n<p>it only for debugging purposes.</p>\n"}], "owner": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 56841936, "answer_count": 2, "score": 0, "last_activity_date": 1572955115, "creation_date": 1562001772, "question_id": 56839860, "link": "https://stackoverflow.com/questions/56839860/nsdata-description-and-nsstring-stringwithformat-have-different-return-results-w", "title": "NSData description and NSString stringWithFormat have different return results when compiled with Xcode 11 versus Xcode 10", "body": "<p>All the examples I've seen of using pushes use [NSData description] to obtain the push token in order to send to the server.\nHowever when an app is built with XCode 11 the result of this is different than when built with Xcode 10, similarly for [NSString stringWithFormat].</p>\n\n<p>Example:</p>\n\n<pre><code>NSData* theToken = ...\n....\nNSString* stringWithFormat = [NSString stringWithFormat\"@\"%@\", theToken];\nNSString* description = [theToken description];\n</code></pre>\n\n<p>When compiled with Xcode 10 and run, the results for both are :</p>\n\n<pre><code>@\"&lt;44154da7 32345001 53106883 ffc1071f a59c0d24 a70871e5 aa8dbb41&gt;\"\n</code></pre>\n\n<p>However when compiled with Xcode 11 and run the results are:</p>\n\n<pre><code>@\"{length =32, bytes = 0x44154da7 32345001 53106883 ffc1071f ... a70871e5 aa8dbb41}\"\n</code></pre>\n\n<p>(This latter result does not occur if the code is compiled with Xcode 10 and then run on iOS 13.)</p>\n\n<p>How can you convert the NSData to NSString when compiled with Xcode 11 that will give the same results as XCode10, or how can you extract just the bytes section into an NSString from the return result if compiled with Xcode 10?</p>\n"}, {"tags": ["objective-c", "macos"], "answers": [{"tags": [], "owner": {"reputation": 17135, "user_id": 581190, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a503f14866aaa083332c81264860ac8e?s=128&d=identicon&r=PG", "display_name": "zrzka", "link": "https://stackoverflow.com/users/581190/zrzka"}, "is_accepted": false, "score": 0, "last_activity_date": 1597220575, "creation_date": 1597220575, "answer_id": 63372640, "question_id": 56839403, "link": "https://stackoverflow.com/questions/56839403/detect-a-user-logout-on-macos/63372640#63372640", "title": "Detect a user logout on macOS", "body": "<p>It's still available and it works (just tested on macOS Big Sur), but the value is in the <code>enumCodeValue</code> property.</p>\n<pre class=\"lang-swift prettyprint-override\"><code>func applicationShouldTerminate(_ sender: NSApplication) -&gt; NSApplication.TerminateReply {\n    let reason = NSAppleEventManager.shared()\n        .currentAppleEvent?\n        .attributeDescriptor(forKeyword: kAEQuitReason)\n    \n    switch reason?.enumCodeValue {\n    case kAELogOut, kAEReallyLogOut:\n        print(&quot;Logout&quot;)\n        return .terminateNow\n        \n    case kAERestart, kAEShowRestartDialog:\n        print(&quot;Restart&quot;)\n        return .terminateNow\n        \n    case kAEShutDown, kAEShowShutdownDialog:\n        print(&quot;Shutdown&quot;)\n        return .terminateNow\n        \n    case 0:\n        // `enumCodeValue` docs:\n        //\n        //    The contents of the descriptor, as an enumeration type,\n        //    or 0 if an error occurs.\n        print(&quot;We don't know&quot;)\n        return .terminateNow\n        \n    default:\n        print(&quot;Cmd-Q, Quit menu item, ...&quot;)\n        return .terminateNow\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3975, "user_id": 3560981, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8fa10e8d564dd93ece697b0aebe689dd?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhoegger", "link": "https://stackoverflow.com/users/3560981/nidhoegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1597220575, "creation_date": 1561999602, "last_edit_date": 1562000078, "question_id": 56839403, "link": "https://stackoverflow.com/questions/56839403/detect-a-user-logout-on-macos", "title": "Detect a user logout on macOS", "body": "<p>I am currently tryting to detect a user logout in macOS 10.14 (Mojave). I found this, which was working in the past:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24445533/catching-logoff-not-power-off-event-on-mac-using-objective-c\">Catching Logoff (not power off) event on MAC using objective C</a></p>\n\n<p>The code I use is: </p>\n\n<pre><code>NSAppleEventManager* m = [NSAppleEventManager sharedAppleEventManager];\nNSAppleEventDescriptor* desc = [m currentAppleEvent];\n\nswitch ([[desc attributeDescriptorForKeyword:kAEQuitReason] int32Value])\n{\n    case kAELogOut:\n    case kAEReallyLogOut:\n        // log out\n        break;\n    case kAEShowRestartDialog:\n    case kAERestart:\n        // system restart\n        break;\n    case kAEShowShutdownDialog:\n    case kAEShutDown:\n        // system shutdown\n        break;\n    default:\n        // ordinary quit\n        break;\n}\n</code></pre>\n\n<p>But the value I get is always zero (0).</p>\n\n<p>Did something change in Mojave or is there another mechanism? This code is called in the <code>applicationShouldTerminate</code> function in my <code>AppDelegate</code>.</p>\n"}, {"tags": ["php", "objective-c", "json"], "comments": [{"owner": {"reputation": 308, "user_id": 11482540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mWDCZ.png?s=128&g=1", "display_name": "MER", "link": "https://stackoverflow.com/users/11482540/mer"}, "edited": false, "score": 1, "creation_date": 1562000308, "post_id": 56839388, "comment_id": 100231483, "body": "What about using <a href=\"https://developer.apple.com/documentation/foundation/nsjsonserialization/1415493-jsonobjectwithdata?language=objc\" rel=\"nofollow noreferrer\">NSJSONSerialization</a>"}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1562028171, "post_id": 56839388, "comment_id": 100239449, "body": "There is already tool for this as MER mentioned, from PHP you send the JSON, then in ObjC, you just need to use NSJSONSerialization to auto decode those json strings into NSArray/NSDictionary automatically."}, {"owner": {"reputation": 3, "user_id": 11725264, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BPeW_5MPFVU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcsE3ckeM8PkwIJdNYJ9OIgwLsuMQ/photo.jpg?sz=128", "display_name": "M M", "link": "https://stackoverflow.com/users/11725264/m-m"}, "edited": false, "score": 0, "creation_date": 1562107896, "post_id": 56839388, "comment_id": 100271561, "body": "HI MER, I am trying NSJSONSerialization but am not getting an array out of it with the current code. Can you look at what might be wrong above?"}], "owner": {"reputation": 3, "user_id": 11725264, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BPeW_5MPFVU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcsE3ckeM8PkwIJdNYJ9OIgwLsuMQ/photo.jpg?sz=128", "display_name": "M M", "link": "https://stackoverflow.com/users/11725264/m-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562109327, "creation_date": 1561999516, "last_edit_date": 1562109327, "question_id": 56839388, "link": "https://stackoverflow.com/questions/56839388/return-array-in-json-as-array-or-string-for-two-dimensional-array", "title": "Return Array in JSON as Array or String for Two Dimensional Array", "body": "<p>Using an API (which I am writing) I need to return a fairly simple array from a server running PHP using JSON for use in Objective-C.</p>\n\n<p>On the phone, the code will be added to an array of the following form:</p>\n\n<pre><code>NSArray *carPics =@[@[@\"ford\",@\"ford.png\"],@[@\"bmw\",@\"bmw.png\"];\n</code></pre>\n\n<p>I can return the above in JSON as a string by escaping all the special characters--a bit tedious but possible, or replacing the special characters with magic strings like ***. and then make the string as an array using :</p>\n\n<pre><code>NSArray *arr = [str componentsSeparatedByString:@\"***\"];\n</code></pre>\n\n<p>On the other hand, I could create an array in PHP and return the array to the phone which would then have to convert the array to Objective-C. </p>\n\n<pre><code>$carpics = array(\n  array(\n    \"ford\" =&gt; \"ford.png\",\n    \"bmw\" =&gt; \"bmw.png\",\n  );\n</code></pre>\n\n<p>The downside of this is it would involve more conversions.</p>\n\n<p>Is either approach better or are they six of one, half a dozen of the other?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Currently the JSON sent by server looks like this:</p>\n\n<pre><code>{\"carpics\":{\"ford\":\"ford.png\",\"bmw\":\"bmw.png\"}}\n</code></pre>\n\n<p>I am trying to decode it on phone using:</p>\n\n<pre><code>NSDictionary* json = [NSJSONSerialization JSONObjectWithData:jsonFeed\n                                                         options:kNilOptions\n                                                           error:&amp;error];\n\n\n        NSMutableArray *carPics = [[json objectForKey:@\"carpics\"]mutableCopy];\nNSArray *myArray = carPics;\n</code></pre>\n\n<p>This works fine. I have verified that json is a dictionary. Unfortunately, I have also verified using kindOfClass that carpics or myArray is not an array as I want but a dictionary too.</p>\n\n<p>If I try to grab the first element of myArray using:</p>\n\n<pre><code> NSArray *object = myArray[i];\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>[__NSDictionaryM objectAtIndexedSubscript:]: unrecognized selector sent to instance 0x174449420'\n</code></pre>\n\n<p>I really want an array as I wish to go through each element of the array in order one at a time.</p>\n\n<p>What do I need to do for my JSON to be a proper array of arrays.  I can either change the JSON coming from the server or process the JSON differently on the phone.</p>\n\n<p>Here is the PHP code that creates the JSON:</p>\n\n<pre><code>header(\"Content-Type: application/json\");\n$ret = array(\"ford\"=&gt;\"ford.png\",\"bmw\"=&gt;\"bmw.png\");\necho json_encode(array('carpics'=&gt;$ret));\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "comments": [{"owner": {"reputation": 3300, "user_id": 2910061, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/tMKdR.jpg?s=128&g=1", "display_name": "Ilesh P", "link": "https://stackoverflow.com/users/2910061/ilesh-p"}, "edited": false, "score": 1, "creation_date": 1561976764, "post_id": 56833626, "comment_id": 100220090, "body": "when an application is not in the foreground then push notification can not awake application for execution code."}, {"owner": {"reputation": 53, "user_id": 4587689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd90a5ba938032c7393f92b17a048ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Vigneshwaran", "link": "https://stackoverflow.com/users/4587689/vigneshwaran"}, "reply_to_user": {"reputation": 3300, "user_id": 2910061, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/tMKdR.jpg?s=128&g=1", "display_name": "Ilesh P", "link": "https://stackoverflow.com/users/2910061/ilesh-p"}, "edited": false, "score": 0, "creation_date": 1561984052, "post_id": 56833626, "comment_id": 100223541, "body": "thanks llesh, is any other possible ways available to achieve vibrating a device upto 30 secs when receiving push notifications"}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 0, "creation_date": 1588686737, "post_id": 56833626, "comment_id": 108989491, "body": "Try writing the vibrateDevice method in Service Extension, and call it on notification receive."}], "owner": {"reputation": 53, "user_id": 4587689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd90a5ba938032c7393f92b17a048ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Vigneshwaran", "link": "https://stackoverflow.com/users/4587689/vigneshwaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1588671102, "creation_date": 1561975131, "question_id": 56833626, "link": "https://stackoverflow.com/questions/56833626/how-vibrate-upto-30-seconds-ios-device-in-background-while-receiving-push-notifi", "title": "How vibrate upto 30 seconds iOS device in background while receiving push notification", "body": "<p>I have implemented APNS for push notification. I am using custom sound for alert notification that will play 30 seconds siren audio file. that is working. while playing that sound I get only one time of vibration with the duration of 2 secs. I need the vibration upto 30 seconds . how can I achieve that.\nthis is the payload I am using.</p>\n\n<pre><code>{\"aps\":{\"alert\":\"alert message\",\"badge\":1,\"sound\":\"SIREN.caf\"}}\n</code></pre>\n\n<p>I have tried implementing code for vibrating upto 30 seconds. it will be call on</p>\n\n<blockquote>\n  <p>didReceiveRemoteNotification</p>\n</blockquote>\n\n<pre><code>    -(void)vibrateDevice{\n  AudioServicesPlaySystemSoundWithCompletion(kSystemSoundID_Vibrate, ^{\n    AudioServicesDisposeSystemSoundID(kSystemSoundID_Vibrate);\n  });\n  vibrateCount++;\n  if (vibrateCount&lt;30) {\n    //        [self performSelector:@selector(vibrateDevice) withObject:nil afterDelay:1.0];\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), { NSTimer* t = [NSTimer scheduledTimerWithTimeInterval:1 target:self  selector:@selector(vibrateDevice) userInfo:nil repeats:NO];\n      [[NSRunLoop currentRunLoop] addTimer:t forMode:NSDefaultRunLoopMode];\n      [[NSRunLoop currentRunLoop] run];\n    });\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>the problem is I can able to vibrate only in app foreground. when app\n  is killed or in background vibration code part is not working.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "ios13"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1561993768, "post_id": 56832969, "comment_id": 100228653, "body": "Why do you need the status bar height? What problem are you trying to solve with that?"}, {"owner": {"reputation": 81, "user_id": 7107599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee58d158c87b0adaa81aecca3ce8269d?s=128&d=identicon&r=PG&f=1", "display_name": "Sunxb", "link": "https://stackoverflow.com/users/7107599/sunxb"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562037904, "post_id": 56832969, "comment_id": 100241106, "body": "@rmaddy I need that to layout some custom view"}, {"owner": {"reputation": 14924, "user_id": 1658267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab1ae28652bdcbc172625bee7fa0c754?s=128&d=identicon&r=PG", "display_name": "Konstantin Loginov", "link": "https://stackoverflow.com/users/1658267/konstantin-loginov"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562399770, "post_id": 56832969, "comment_id": 100368067, "body": "I&#39;m having the same issue and spent days trying to workaround it. Still no luck. I don&#39;t understand why someone &quot;-1&quot; this question and voted to close it.   @rmaddy In my particular case, header&#39;s (custom) UI depends on this property being correct."}, {"owner": {"reputation": 1220, "user_id": 562298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LzGtW.jpg?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/562298/sebastian"}, "edited": false, "score": 0, "creation_date": 1563037614, "post_id": 56832969, "comment_id": 100572781, "body": "I would guess that at the time you&#39;re trying to read the statusBarFrame, the size is not clear yet. If you look at the UIApplication headers, you&#39;ll see that statusBarFrame is deprecated as of iOS 13 - does using that (in iOS 13) help? Otherwise you&#39;ll need to provide some more context &amp; code. :)"}], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 3010955, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100003631334169/picture?type=large", "display_name": "Peter Kaminski", "link": "https://stackoverflow.com/users/3010955/peter-kaminski"}, "edited": false, "score": 0, "creation_date": 1564638623, "post_id": 57088481, "comment_id": 101098141, "body": "This works okay if you just want a temporary solution, but keyWindow is a deprecated property on UIApplication.  To me it seems as though the status bar is currently buggy--my info.plist specifies that the status bar is light content, but when debugging using the comment above, it evaluates as UIStatusBarStyle.darkContent"}], "tags": [], "owner": {"reputation": 132, "user_id": 6552680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iGKmMY-2b-k/AAAAAAAAAAI/AAAAAAAAABE/juisJuBZdKU/photo.jpg?sz=128", "display_name": "Tamarous", "link": "https://stackoverflow.com/users/6552680/tamarous"}, "is_accepted": false, "score": 2, "last_activity_date": 1563432174, "creation_date": 1563432174, "answer_id": 57088481, "question_id": 56832969, "link": "https://stackoverflow.com/questions/56832969/how-to-adapt-ios13-statusbar/57088481#57088481", "title": "How to adapt ios13 statusbar?", "body": "<p>Use UIStatusBarManager to get the statusBar height in iOS13:</p>\n\n<pre><code>UIStatusBarManager *manager = [UIApplication sharedApplication].keyWindow.windowScene.statusBarManager;\n\nCGFloat height = manager.statusBarFrame.size.height;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 440, "user_id": 2806961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9dd40d0cbda2771bd3b1c4953f9a03e?s=128&d=identicon&r=PG", "display_name": "Yogesh Makwana", "link": "https://stackoverflow.com/users/2806961/yogesh-makwana"}, "is_accepted": false, "score": 0, "last_activity_date": 1566366629, "creation_date": 1566366629, "answer_id": 57585196, "question_id": 56832969, "link": "https://stackoverflow.com/questions/56832969/how-to-adapt-ios13-statusbar/57585196#57585196", "title": "How to adapt ios13 statusbar?", "body": "<p>SceneDelegate.swift file </p>\n\n<pre><code>func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {\n\n    guard let windowScene = (scene as? UIWindowScene) else { return }\n    if let statusBarFrame = windowScene.statusBarManager?.statusBarFrame {\n        print(statusBarFrame)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1459, "user_id": 445907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f463911cac6e465466f4758cc1779aaa?s=128&d=identicon&r=PG", "display_name": "Shaun", "link": "https://stackoverflow.com/users/445907/shaun"}, "is_accepted": false, "score": 0, "last_activity_date": 1569189762, "creation_date": 1569189762, "answer_id": 58053729, "question_id": 56832969, "link": "https://stackoverflow.com/questions/56832969/how-to-adapt-ios13-statusbar/58053729#58053729", "title": "How to adapt ios13 statusbar?", "body": "<p>As <em>Peter</em> noted on <em>Tamarous's</em> answer, the <em>keyWindow</em> property is deprecated, however on the assumption you're using a single window you can alternatively use:</p>\n\n<pre><code>CGSize statusBarSize = [UIApplication sharedApplication].windows.firstObject.windowScene.statusBarManager.statusBarFrame.size\n</code></pre>\n\n<p>If you needed to access the <em>nth</em> window, you could do so in a similar manner:</p>\n\n<pre><code>NSInteger i = 0;\nCGSize statusBarSize = [UIApplication sharedApplication].windows[i].windowScene.statusBarManager.statusBarFrame.size;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2295, "user_id": 12882723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I9uyY.jpg?s=128&g=1", "display_name": "aturan23", "link": "https://stackoverflow.com/users/12882723/aturan23"}, "is_accepted": false, "score": 0, "last_activity_date": 1595560986, "creation_date": 1595560986, "answer_id": 63066292, "question_id": 56832969, "link": "https://stackoverflow.com/questions/56832969/how-to-adapt-ios13-statusbar/63066292#63066292", "title": "How to adapt ios13 statusbar?", "body": "<p>Solution:</p>\n<pre><code>let window = UIApplication.shared.windows.filter {$0.isKeyWindow}.first\nlazy var statusBarHeight = window?.windowScene?.statusBarManager?.statusBarFrame.height ?? 0\n</code></pre>\n<p>Explanation :</p>\n<p>You can't use <code>window</code> in a <code>let</code> because it doesn't exist when that property is created because it belongs to self. So at <code>init</code>, <code>self</code> isn't complete yet. But if you use a <code>lazy var</code>, then <code>self</code> and its property <code>window</code> will be ready by the time you need it.</p>\n<p>Or another solution use <code>singleton</code>:</p>\n<pre><code>struct AppConstants {\n    static let window = UIApplication.shared.windows.filter {$0.isKeyWindow}.first\n    static let statusBarHeight = window?.windowScene?.statusBarManager?.statusBarFrame.height ?? 0\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7107599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee58d158c87b0adaa81aecca3ce8269d?s=128&d=identicon&r=PG&f=1", "display_name": "Sunxb", "link": "https://stackoverflow.com/users/7107599/sunxb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6377, "favorite_count": 1, "answer_count": 4, "score": 6, "last_activity_date": 1595560986, "creation_date": 1561972516, "last_edit_date": 1561973947, "question_id": 56832969, "link": "https://stackoverflow.com/questions/56832969/how-to-adapt-ios13-statusbar", "title": "How to adapt ios13 statusbar?", "body": "<p>When I run my project on ios13 xcode11 beta.</p>\n\n<p><code>[UIApplication sharedApplication].statusBarFrame.size.height</code></p>\n\n<p>the code returns 0.</p>\n\n<p>what should I do to adapt it to ios13 ?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "edited": false, "score": 0, "creation_date": 1561957796, "post_id": 56830193, "comment_id": 100212609, "body": "try to import #import &lt;UIKIT/UIKIT.h&gt;"}, {"owner": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "reply_to_user": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "edited": false, "score": 0, "creation_date": 1562030036, "post_id": 56830193, "comment_id": 100239756, "body": "@ShauketSheikh Thanks but no luck :("}, {"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "edited": false, "score": 0, "creation_date": 1562030258, "post_id": 56830193, "comment_id": 100239802, "body": "Then import you webkit in bridge header class"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "edited": false, "score": 0, "creation_date": 1562029648, "post_id": 56830417, "comment_id": 100239698, "body": "Trying to use WKWebkit-related variables etc from Objective-C/C++ code. But obviously importing WebKit.h isn&#39;t the solution.."}, {"owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "reply_to_user": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "edited": false, "score": 0, "creation_date": 1562032092, "post_id": 56830417, "comment_id": 100240114, "body": "I&#39;ve created example project and do not have problems with importing of WebKit. In Objective-C++ I use &#39;#import &lt;WebKit/WebKit.h&gt;&#39;, in Swift file I use &#39;import WebKit&#39;. All works fine. Can you add code of your imports and code where you are trying to initiate WKWebView?"}, {"owner": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "edited": false, "score": 0, "creation_date": 1562035013, "post_id": 56830417, "comment_id": 100240622, "body": "Perhaps there is circular reference or something. It&#39;s an old old project someone else wrote in ObjC and using C library. After looking at it since posting question, I think calling webview method through variable stored in AppDelegate is not a great idea, and that&#39;s where compiler can&#39;t find the protocol for WKWebView."}, {"owner": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "edited": false, "score": 1, "creation_date": 1562035091, "post_id": 56830417, "comment_id": 100240636, "body": "Thanks @Andrew I&#39;ll refactor so that I don&#39;t need to call webview method."}], "tags": [], "owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1561959150, "creation_date": 1561959150, "answer_id": 56830417, "question_id": 56830193, "link": "https://stackoverflow.com/questions/56830193/swift-objc-bridge-cannot-find-protocol-declaration-for-wknavigationdelegate/56830417#56830417", "title": "Swift &amp; ObjC bridge - cannot find protocol declaration for &quot;WKNavigationDelegate&quot;", "body": "<p>Why you are using <code>#import &lt;WebKit/WebKit.h&gt;</code> in the bridging header?<br>\nJust add in a top of swift's file: </p>\n\n<pre><code>import WebKit \n</code></pre>\n\n<p>The bridging header only for application's inner classes which written with Objective-C.<br>\n<a href=\"https://developer.apple.com/documentation/webkit/wknavigationdelegate\" rel=\"nofollow noreferrer\">WebKit</a> is a module (in swift's term).<br>\n<strong>P.S.</strong>\nAlso remove #import  from the bridging header.</p>\n"}], "owner": {"reputation": 325, "user_id": 1142137, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/050ca2c9c43ee76cec33271baefe1219?s=128&d=identicon&r=PG", "display_name": "s-t", "link": "https://stackoverflow.com/users/1142137/s-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1561959150, "creation_date": 1561957334, "question_id": 56830193, "link": "https://stackoverflow.com/questions/56830193/swift-objc-bridge-cannot-find-protocol-declaration-for-wknavigationdelegate", "title": "Swift &amp; ObjC bridge - cannot find protocol declaration for &quot;WKNavigationDelegate&quot;", "body": "<p>I saw there are many questions about Swift and Objective-C bridge including <a href=\"https://stackoverflow.com/questions/24380340/error-after-importing-swift-into-objective-c\">this one</a>, <a href=\"https://stackoverflow.com/questions/33379636/issues-with-swift-generated-header-file\">this one</a>, and <a href=\"https://stackoverflow.com/questions/24206732/cant-use-swift-classes-inside-objective-c?noredirect=1&amp;lq=1\">this one</a>.... But none of them helped me so far.</p>\n\n<p>When adding WKNavigationDelegate and WKScriptMessageHandler, compiler fails with message \"Cannot find protocol declaration\".</p>\n\n<p>Project-Brigding-Header.h</p>\n\n<pre><code>#import &lt;WebKit/WebKit.h&gt;\n#include \"xyz.h\"\n</code></pre>\n\n<p>I have added <code>WebKit.framework</code> to <code>Link Binary With Libraries</code> under <code>target &gt; Build Phases</code>. And made changes to build settings.</p>\n\n<pre><code>Defines Module : YES\nAlways Embed Swift Standard Libraries : YES\nInstall Objective-C Compatibility Header : YES\n</code></pre>\n\n<p>Do I have to do anything else to make it work?</p>\n"}, {"tags": ["ios", "c", "objective-c", "pjsip"], "answers": [{"comments": [{"owner": {"reputation": 958, "user_id": 4728835, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/818679628208139/picture?type=large", "display_name": "Anuran Barman", "link": "https://stackoverflow.com/users/4728835/anuran-barman"}, "edited": false, "score": 0, "creation_date": 1561974847, "post_id": 56830656, "comment_id": 100219148, "body": "I made an additional C file which will in turn call the library C function and added my C file into the objective C. Thanks for showing the direct direction."}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "reply_to_user": {"reputation": 958, "user_id": 4728835, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/818679628208139/picture?type=large", "display_name": "Anuran Barman", "link": "https://stackoverflow.com/users/4728835/anuran-barman"}, "edited": false, "score": 0, "creation_date": 1561974894, "post_id": 56830656, "comment_id": 100219170, "body": "@AnuranBarman You can simply write it in ObjectiveC file though. Just add the function on top and you should be all good to go..."}], "tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": true, "score": 2, "last_activity_date": 1561960844, "creation_date": 1561960844, "answer_id": 56830656, "question_id": 56829964, "link": "https://stackoverflow.com/questions/56829964/how-to-pass-address-of-objective-c-function-to-a-c-function/56830656#56830656", "title": "How to pass address of Objective C function to a C function?", "body": "<p>ObjectiveC supports pure C so why not just create a C function <code>on_incoming_call</code> which then calls ObjectiveC code. </p>\n\n<p>I am pretty sure it is doable directly with objective C though but I wouldn't go there. The problem starts with objectiveC having extra function parameters in there that are invisible to you. For instance parameter <code>self</code>.</p>\n\n<p>So try something like the following:</p>\n\n<pre><code>void on_incoming_call(pjsua_acc_id acc_id, pjsua_call_id call_id, pjsip_rx_data *rdata) {\n    [MyObjectiveCObject onIncomingCall...];\n}\n</code></pre>\n\n<p>Now you can see that you may have a bit of an issue where the <code>on_incoming_call</code> is in static context while your object may or may not be. I usually create singletons for such cases. Most simple may look like:</p>\n\n<pre><code>static MyReceiver *currentReceiver = nil;\n\n+ (MyReceiver *)current {\n    if(currentReceiver == nil) {\n        currentReceiver = [[MyReceiver alloc] init];\n        ua_cfg.cb.on_incoming_call = &amp;on_incoming_call;\n    }\n    return currentReceiver;\n}\n</code></pre>\n\n<p>In this case you would now call </p>\n\n<pre><code>void on_incoming_call(pjsua_acc_id acc_id, pjsua_call_id call_id, pjsip_rx_data *rdata) {\n    [[MyReceiver current] onIncomingCall...];\n}\n</code></pre>\n"}], "owner": {"reputation": 958, "user_id": 4728835, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/818679628208139/picture?type=large", "display_name": "Anuran Barman", "link": "https://stackoverflow.com/users/4728835/anuran-barman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56830656, "answer_count": 1, "score": 0, "last_activity_date": 1561960844, "creation_date": 1561954915, "question_id": 56829964, "link": "https://stackoverflow.com/questions/56829964/how-to-pass-address-of-objective-c-function-to-a-c-function", "title": "How to pass address of Objective C function to a C function?", "body": "<p>I am working with PJSIP for SIP calling ios application. As the library is written in C some callback C methods expecting address of a Objective C function. I have tried to do </p>\n\n<pre><code>ua_cfg.cb.on_incoming_call = &amp;[self on_incoming_call:&lt;#(pjsua_acc_id)#&gt; _:&lt;#(pjsua_call_id)#&gt; _:&lt;#(pjsip_rx_data *)#&gt;]\n</code></pre>\n\n<p>but of course it does not work as I dont know what to pass as parameters to the function, neither it's giving me the address of the function.</p>\n\n<p>How can I make it work? The C function which is expecting this looks like below</p>\n\n<pre><code>void (*on_incoming_call)(pjsua_acc_id acc_id, pjsua_call_id call_id,\n                 pjsip_rx_data *rdata);\n</code></pre>\n"}, {"tags": ["objective-c", "categories"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5345155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHve5.jpg?s=128&g=1", "display_name": "lambert.lu", "link": "https://stackoverflow.com/users/5345155/lambert-lu"}, "edited": false, "score": 0, "creation_date": 1561975668, "post_id": 56825509, "comment_id": 100219581, "body": "Thanks, your explanation made me very cheerful."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 1, "last_activity_date": 1561903851, "creation_date": 1561903851, "answer_id": 56825509, "question_id": 56825150, "link": "https://stackoverflow.com/questions/56825150/why-xcode-allows-create-duplicate-objective-c-category/56825509#56825509", "title": "Why Xcode allows create duplicate Objective-C Category?", "body": "<p>Xcode and Objective-C do allow you to create duplicate class files. What it doesn't allow you to do is create duplicate <em>classes</em>. In Objective-C, it is traditional to name the file with the same name as the class, but this is neither universal, nor enforced.</p>\n\n<p>The question I think you're asking is why does Objective-C allow multiple categories with the same name (regardless of what file they're in). The reason is because Objective-C doesn't really care very much what the name of a category is. Originally categories were a way to organize large classes into multiple files (which is why they're called \"categories\" rather than \"extensions\"). Eventually they came to be used to add new methods to existing classes. At no point along the way has the compiler really bothered very much with the category names (the part in parentheses). They're generally treated as a comment.</p>\n\n<p>I wouldn't assume there was a specific moment when the language designers decided \"it should be legal to have multiple categories with the same name.\" There's just never been checked for or prevented.</p>\n\n<p>The more interesting and important collision is that two categories can add the same <em>method</em> name. This isn't prevented by the compiler but is actually a serious problem. It's not defined which method will execute and the compiler won't tell you you've made this mistake. This is why it's important to prefix category method names to prevent collisions. It's a good idea to prefix category names, too, for consistency.</p>\n"}, {"tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": false, "score": 0, "last_activity_date": 1561912794, "creation_date": 1561912794, "answer_id": 56826473, "question_id": 56825150, "link": "https://stackoverflow.com/questions/56825150/why-xcode-allows-create-duplicate-objective-c-category/56826473#56826473", "title": "Why Xcode allows create duplicate Objective-C Category?", "body": "<p>Why should the compiler care about the <em>file</em> name? Never heard that a compiler does such a thing.</p>\n\n<p>And there might be reasons, i. e. if in Folder A resp. Folder B are different versions or configurations of the software.</p>\n"}], "owner": {"reputation": 1, "user_id": 5345155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHve5.jpg?s=128&g=1", "display_name": "lambert.lu", "link": "https://stackoverflow.com/users/5345155/lambert-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56825509, "answer_count": 2, "score": 0, "last_activity_date": 1561912794, "creation_date": 1561900820, "last_edit_date": 1561908791, "question_id": 56825150, "link": "https://stackoverflow.com/questions/56825150/why-xcode-allows-create-duplicate-objective-c-category", "title": "Why Xcode allows create duplicate Objective-C Category?", "body": "<p>Xcode does not allow you to create duplicate class file. I'm curious why it allows you to create duplicate category file in different folders.</p>\n\n<p>eg:\nA folder\n--- NSObject+Test\nB folder\n--- NSObject+Test</p>\n\n<p>The project can run normally.</p>\n"}, {"tags": ["ios", "objective-c", "audio-recording", "avassetwriter", "avasset"], "comments": [{"owner": {"reputation": 30089, "user_id": 22147, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/x74x2.png?s=128&g=1", "display_name": "Rhythmic Fistman", "link": "https://stackoverflow.com/users/22147/rhythmic-fistman"}, "edited": false, "score": 0, "creation_date": 1578537828, "post_id": 56825026, "comment_id": 105473778, "body": "The <code>CMSampleBufferCreate</code> header file comment says the <code>sampleSizeArray</code> MUST be <code>NULL</code> for non-interleaved audio. For audio it&#39;s always seemed optional, but now (iOS 13) I&#39;m seeing <code>CoreMedia</code> calls that require it for interleaved audio. WEIRD."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6077536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e02bf277ae91c4aee4f56bc395f34c?s=128&d=identicon&r=PG&f=1", "display_name": "Tali", "link": "https://stackoverflow.com/users/6077536/tali"}, "reply_to_user": {"reputation": 30089, "user_id": 22147, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/x74x2.png?s=128&g=1", "display_name": "Rhythmic Fistman", "link": "https://stackoverflow.com/users/22147/rhythmic-fistman"}, "edited": false, "score": 1, "creation_date": 1579446601, "post_id": 56836426, "comment_id": 105761273, "body": "@RhythmicFistman I was answering myself here, so didn&#39;t know if it was appropriate, but now marked as accepted as you have requested."}], "tags": [], "owner": {"reputation": 41, "user_id": 6077536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e02bf277ae91c4aee4f56bc395f34c?s=128&d=identicon&r=PG&f=1", "display_name": "Tali", "link": "https://stackoverflow.com/users/6077536/tali"}, "is_accepted": true, "score": 2, "last_activity_date": 1561987053, "creation_date": 1561987053, "answer_id": 56836426, "question_id": 56825026, "link": "https://stackoverflow.com/questions/56825026/avassetwriterinput-appendsamplebuffer-succeeds-but-logs-error-kcmsamplebufferer/56836426#56836426", "title": "AVAssetWriterInput appendSampleBuffer succeeds, but logs error kCMSampleBufferError_BufferHasNoSampleSizes from CMSampleBufferGetSampleSize", "body": "<p><B>I think we have the answer:</B></p>\n\n<p>Passing the <B>numSampleSizeEntries</B> and <B>sampleSizeArray</B>\nparameters of <B>CMSampleBufferCreate</B> as follows seem to fix it (still requires full verifications).</p>\n\n<p>To my understanding the reason is that we are at the end appending the interleaved buffer, it needs to have the sample sizes (at least in 12.4 version).</p>\n\n<pre><code>// _asbdFormat is the AudioStreamBasicDescription.\nsize_t sampleSize = _asbdFormat.mBytesPerFrame;\nOSStatus status = CMSampleBufferCreate(kCFAllocatorDefault,\n                                           NULL,\n                                           false,\n                                           NULL,\n                                           NULL,\n                                           _cmFormat,\n                                           (CMItemCount)(*inNumberFrames),\n                                           1,\n                                           &amp;timing,\n                                           1,\n                                           &amp;sampleSize,\n                                           &amp;buff);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6077536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61e02bf277ae91c4aee4f56bc395f34c?s=128&d=identicon&r=PG&f=1", "display_name": "Tali", "link": "https://stackoverflow.com/users/6077536/tali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 56836426, "answer_count": 1, "score": 2, "last_activity_date": 1561987729, "creation_date": 1561899571, "last_edit_date": 1561987729, "question_id": 56825026, "link": "https://stackoverflow.com/questions/56825026/avassetwriterinput-appendsamplebuffer-succeeds-but-logs-error-kcmsamplebufferer", "title": "AVAssetWriterInput appendSampleBuffer succeeds, but logs error kCMSampleBufferError_BufferHasNoSampleSizes from CMSampleBufferGetSampleSize", "body": "<p>Starting from iOS 12.4 beta versions, Calling <code>appendSampleBuffer</code> on an <code>AVAssetWriterInput</code> is logging the following error :</p>\n\n<blockquote>\n  <p><B>\n  CMSampleBufferGetSampleSize signalled err=-12735 (kCMSampleBufferError_BufferHasNoSampleSizes) (sbuf->numSampleSizeEntries == 0) at /BuildRoot/Library/Caches/com.apple.xbs/Sources/EmbeddedCoreMediaFramework/EmbeddedCoreMedia-2290.12/Sources/Core/FigSampleBuffer/FigSampleBuffer.c:4153\n  </B></p>\n</blockquote>\n\n<p>We don't see this error in prior version, and neither on iOS 13 beta.\nDoes anyone else encounter this, and can provide any information to help us fix it?</p>\n\n<p><B> More details </B></p>\n\n<p>Our app is recording video and audio, using two <code>AVAssetWriterInput</code> objects, one for video input (appending pixel buffers) and one for audio input - appending audio buffers created with <code>CMSampleBufferCreate</code>. (See code below.)</p>\n\n<p>Since our audio data in non-interleaved, after creation we convert it to interleaved format, and pass it to <code>appendSampleBuffer</code>.</p>\n\n<p><B> Relevant Code </B></p>\n\n<pre><code>// Creating the audio buffer:\nCMSampleBufferRef buff = NULL;\nCMSampleTimingInfo timing = {\n        CMTimeMake(1, _asbdFormat.mSampleRate),\n        currentAudioTime,\n        kCMTimeInvalid };\n\n\nOSStatus status = CMSampleBufferCreate(kCFAllocatorDefault,\n                                           NULL,\n                                           false,\n                                           NULL,\n                                           NULL,\n                                           _cmFormat,\n                                           (CMItemCount)(*inNumberFrames),\n                                           1,\n                                           &amp;timing,\n                                           0,\n                                           NULL,\n                                           &amp;buff);\n\n// checking for error... (non returned)\n\n// Converting from non-interleaved to interleaved.\n    float zero = 0.f;\n    vDSP_vclr(_interleavedABL.mBuffers[0].mData, 1, numFrames * 2);\n    // Channel L\n    vDSP_vsadd(ioData-&gt;mBuffers[0].mData, 1, &amp;zero, _interleavedABL.mBuffers[0].mData, 2, numFrames);\n    // Channel R\n    vDSP_vsadd(ioData-&gt;mBuffers[0].mData, 1, &amp;zero, (float*)(_interleavedABL.mBuffers[0].mData) + 1, 2, numFrames);\n\n    _interleavedABL.mBuffers[0].mDataByteSize =  _interleavedASBD.mBytesPerFrame * numFrames;\n    status = CMSampleBufferSetDataBufferFromAudioBufferList(buff,\n                                                            kCFAllocatorDefault,\n                                                            kCFAllocatorDefault,\n                                                            0,\n                                                            &amp;_interleavedABL);\n\n// checking for error... (non returned)\n\nif (_assetWriterAudioInput.readyForMoreMediaData) {\n\n    BOOL success = [_assetWriterAudioInput appendSampleBuffer:audioBuffer];  // THIS PRODUCES THE ERROR.\n\n// success is returned true, but the above specified error is logged - on iOS 12.4 betas (not on 12.3 or before)\n}\n</code></pre>\n\n<p><B>Before all that, here's how the <code>_assetWriterAudioInput</code> is created:</B></p>\n\n<pre><code>-(BOOL) initializeAudioWriting\n{\n    BOOL success = YES;\n\n    NSDictionary *audioCompressionSettings = // settings dictionary, see below.\n\n    if ([_assetWriter canApplyOutputSettings:audioCompressionSettings forMediaType:AVMediaTypeAudio]) {\n        _assetWriterAudioInput = [[AVAssetWriterInput alloc] initWithMediaType:AVMediaTypeAudio outputSettings:audioCompressionSettings];\n        _assetWriterAudioInput.expectsMediaDataInRealTime = YES;\n\n        if ([_assetWriter canAddInput:_assetWriterAudioInput]) {\n            [_assetWriter addInput:_assetWriterAudioInput];\n        }\n        else {\n            // return error\n        }\n    }\n    else {\n        // return error\n    }\n\n    return success;\n}\n</code></pre>\n\n<p><B> audioCompressionSettings is defined as:</B></p>\n\n<pre><code>+ (NSDictionary*)audioSettingsForRecording\n{\n    AVAudioSession *sharedAudioSession = [AVAudioSession sharedInstance];\n    double preferredHardwareSampleRate;\n\n    if ([sharedAudioSession respondsToSelector:@selector(sampleRate)])\n    {\n        preferredHardwareSampleRate = [sharedAudioSession sampleRate];\n    }\n    else\n    {\n        preferredHardwareSampleRate = [[AVAudioSession sharedInstance] currentHardwareSampleRate];\n    }\n\n    AudioChannelLayout acl;\n    bzero( &amp;acl, sizeof(acl));\n    acl.mChannelLayoutTag = kAudioChannelLayoutTag_Stereo;\n\n\n    return @{\n         AVFormatIDKey: @(kAudioFormatMPEG4AAC),\n         AVNumberOfChannelsKey: @2,\n         AVSampleRateKey: @(preferredHardwareSampleRate),\n         AVChannelLayoutKey: [ NSData dataWithBytes: &amp;acl length: sizeof( acl ) ],\n         AVEncoderBitRateKey: @160000\n         };\n}\n</code></pre>\n\n<p>The <code>appendSampleBuffer</code> logs the following error and call stack (relevant part) :</p>\n\n<blockquote>\n  <p><strong>\n  CMSampleBufferGetSampleSize signalled err=-12735 (kCMSampleBufferError_BufferHasNoSampleSizes) (sbuf->numSampleSizeEntries == 0) at /BuildRoot/Library/Caches/com.apple.xbs/Sources/EmbeddedCoreMediaFramework/EmbeddedCoreMedia-2290.6/Sources/Core/FigSampleBuffer/FigSampleBuffer.c:4153</strong></p>\n  \n  <p><strong>0   CoreMedia                           0x00000001aff75194 CMSampleBufferGetSampleSize + 268    [0x1aff34000 + 266644]</strong></p>\n  \n  <p><strong>1   My App                           0x0000000103212dfc -[MyClassName writeAudioFrames:audioBuffers:] + 1788    [0x102aec000 + 7499260]</strong>\n  ...</p>\n</blockquote>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>EDIT: Adding the following information:</strong>\nwe are passing 0 and NULL to the  <code>numSampleSizeEntries</code> and <code>sampleSizeArray</code> parameters of <code>CMSampleBufferCreate</code> - which according to the doc is what we must pass when creating a buffer of non-interleaved data (although this doc is a bit confusing to me).</p>\n\n<p>We have tried passing 1 and a pointer to a size_t parameter, such as:</p>\n\n<p><code>size_t sampleSize = 4;</code></p>\n\n<p>but it didn't help:\nIt logged an error of:</p>\n\n<p><strong>figSampleBufferCheckDataSize signalled err=-12731 (kFigSampleBufferError_RequiredParameterMissing) (bbuf vs. sbuf data size mismatch)</strong></p>\n\n<p>and we are not clear as to what value should be there (how to know the sample size of each sample),\nor whether this is the correct solution at all.</p>\n"}, {"tags": ["ios", "objective-c", "nsdate", "nscalendar"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561885825, "post_id": 56823597, "comment_id": 100199992, "body": "The difference of the first example is 3 hours that means 0 month and 0 day. The result of the second example is 1 year 0 month 1 day. You will never get month &gt; 12 if unit year is specified and day &gt; 365 if unit month is specified. And <code>dateWithString</code> API is deprecated for a long time."}, {"owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561886022, "post_id": 56823597, "comment_id": 100200023, "body": "@Vadian I want to compare based on calendar value. On the first example date1 is on May and date2 is on June so result I want is 1. Same with day"}, {"owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561886240, "post_id": 56823597, "comment_id": 100200056, "body": "Don&#39;t care about <code>dateWithString</code> too, I use it to demonstrate for <code>NSDate</code> value only"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1561886413, "post_id": 56823597, "comment_id": 100200083, "body": "You can compare two dates <a href=\"https://developer.apple.com/documentation/foundation/nscalendar/1415661-compare\" rel=\"nofollow noreferrer\">to unit granularity</a>. But you can only specify one unit and the result is greater, same of less."}, {"owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561886533, "post_id": 56823597, "comment_id": 100200102, "body": "@Vadian thank, but I want to get difference by number"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561886862, "post_id": 56823597, "comment_id": 100200153, "body": "Then you have to write your own algorithm. All (NS)Calendar based calculations will return 2 years 1 month rather than 1 year 13 months"}], "answers": [{"comments": [{"owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "edited": false, "score": 0, "creation_date": 1561908789, "post_id": 56824240, "comment_id": 100204379, "body": "Thank you. I&#39;m trying to do like your suggestion but I post this question here and hope for handful way"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "edited": false, "score": 1, "creation_date": 1561917847, "post_id": 56824240, "comment_id": 100206298, "body": "@B&#249;i\u0110\u1ee9cKh&#225;nh \u2013 I&#39;ve had another <i>guess</i> at what you&#39;re after, the algorithm produces the same results as your two examples. Of course you should really specify the definition of &quot;difference&quot; you want rather than give a couple of examples so people have to try and guess to help you. Hope this one helps."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1561917713, "last_edit_date": 1561917713, "creation_date": 1561891826, "answer_id": 56824240, "question_id": 56823597, "link": "https://stackoverflow.com/questions/56823597/calculate-difference-between-2-nsdate-in-year-month-day-ignore-time/56824240#56824240", "title": "Calculate difference between 2 NSDate in year, month, day ignore time?", "body": "<p>You could convert each <code>NSDate</code> value to an <code>NSDateComponents</code> value using <code>NSCalendar</code>'s <code>componentsInTimeZone:fromDate:</code> method. This will give you the year, month and day values for your two dates, now implement your difference algorithm, which might be:</p>\n\n<ul>\n<li>subtract the earlier date from the larger one - you can determine that based on comparing the two <code>NSDate</code> values</li>\n<li>the year difference is just simple subtraction of the year components of the <code>NSDateComponents</code> values</li>\n<li>the month difference is the difference between the month components, if this is negative add 12</li>\n<li>the day difference is similar but in the negative case you have to add the length of month, which is 28, 29, 30 or 31 - figuring which is left as an exercise :-) (<code>NSCalendar</code>/<code>NSDate</code> Methods should help here)</li>\n</ul>\n\n<p>While this guess at your required algorithm might be wrong, whatever your algorithm you should be able to implement it based on the year, month and day components. HTH</p>\n\n<p><strong>Update</strong></p>\n\n<p>So my first guess at your algorithm was wrong, my second guess is that your three differences; years, months, days; are all meant to be independent approximations of the difference in the corresponding unit. So the year difference ignores the months, days and time; the month difference ignores the days and time; and the days difference ignores the time. This is why 31 May and 1 June are \"1 month\" apart - the day is ignored. This guess may also be wrong of course but here is how to do it:</p>\n\n<ul>\n<li>order you two dates so the difference is going to be positive.</li>\n<li>get just the year, month and day components (or get them all and then discard the others) \u2013 this will discard the time component. Use one of <code>NSCalendar</code>'s methods to do this. </li>\n<li>your year difference is just the difference between the year components</li>\n<li>your month difference is the difference between your month components (which could be negative) plus 12 times your year difference</li>\n<li>your day difference can be found using <code>components:fromDateComponents:toDateComponents:options:</code> requesting <em>only</em> the day component</li>\n</ul>\n\n<p><em>[Note: be careful to use the same timezone as the original dates \u2013\u00a0this is a bit fiddly as you may need to extract it from the date strings yourself (extract the +hhmm and make a time zone). You must remember that an <code>NSDate</code> does not store the time zone, its just an absolute point in time (so equivalent times in different times zones produce the same <code>NSDate</code> value) and for your calculations you want them based on the original time zone as two times one the same day in one timezone can be on different days in a different time zone...). You can set the timezone of an <code>NSCalendar</code> instance or use methods which take timezones when converting from <code>NSDate</code> to <code>NSDateComponents</code>]</em></p>\n"}], "owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561917713, "creation_date": 1561884840, "last_edit_date": 1592644375, "question_id": 56823597, "link": "https://stackoverflow.com/questions/56823597/calculate-difference-between-2-nsdate-in-year-month-day-ignore-time", "title": "Calculate difference between 2 NSDate in year, month, day ignore time?", "body": "<p>Giving an example, I have 2 <code>NSDate</code> in the same timezone <code>UTC</code></p>\n<pre><code>NSDate *date1 = [NSDate dateWithString:@&quot;2019-05-31 22:00:00 +0000&quot;];\nNSDate *date2 = [NSDate dateWithString:@&quot;2019-06-01 01:00:00 +0000&quot;];\n</code></pre>\n<p>I want to make a function to calculate difference between them in Year, month, day ignore time part. Expect result above</p>\n<blockquote>\n<p>Year: 0</p>\n<p>Month: 1</p>\n<p>Day: 1</p>\n</blockquote>\n<p>Or another example with</p>\n<pre><code>NSDate *date1 = [NSDate dateWithString:@&quot;2019-02-28 22:00:00 +0000&quot;];\nNSDate *date2 = [NSDate dateWithString:@&quot;2020-03-01 01:00:00 +0000&quot;];\n</code></pre>\n<p>Will get result</p>\n<blockquote>\n<p>Year: 1</p>\n<p>Month: 13</p>\n<p>Day: 367</p>\n</blockquote>\n<p>I have tried answers in this question <a href=\"https://stackoverflow.com/questions/4371757/how-can-i-calculate-the-difference-between-two-dates\">How can I calculate the difference between two dates?</a></p>\n<p>But those approach using <code>NSTimeInterval</code> seems not reliable because of 365 or 366 days of year and does not ignore time. Answer like</p>\n<pre><code>NSDateComponents *components;\nNSInteger days;\n\ncomponents = [[NSCalendar currentCalendar] components: NSDayCalendarUnit \n    fromDate: date1 toDate: date2 options: 0];\ndays = [components day];\n</code></pre>\n<p>Give wrong result too.</p>\n"}, {"tags": ["ios", "objective-c", "bluetooth"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1561848820, "post_id": 56821210, "comment_id": 100195574, "body": "You shouldn&#39;t scan each time. Provide a setup screen where you scan and show available peripherals for the user to select one. Store its <code>identifier</code> and use that to connect to your target peripheral. Use <code>retrievePeripheralsWithIdentifiers</code> to get the peripheral on a subsequent run. During a run if the peripheral disconnects just call <code>connect</code> straight away"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 721404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40993e36ce9e0f8c4aca6832c030137a?s=128&d=identicon&r=PG", "display_name": "jday", "link": "https://stackoverflow.com/users/721404/jday"}, "is_accepted": false, "score": 0, "last_activity_date": 1564143304, "last_edit_date": 1564143304, "creation_date": 1561928586, "answer_id": 56828064, "question_id": 56821210, "link": "https://stackoverflow.com/questions/56821210/how-do-i-make-sure-a-bluetooth-app-will-only-connect-to-the-original-peripheral/56828064#56828064", "title": "How do I make sure a bluetooth app will only connect to the original peripheral?", "body": "<p>Paulw11</p>\n\n<p>My apologies for posting comment as an answer - too much to say.</p>\n\n<p>Thanks for the suggestions. I have used your key items, and flavored a bit for my unmentioned specifics. I believe I have a working solution based on your guidance.</p>\n\n<p>Rather than <code>retrievePeripheralWithIdentifiers</code>, I just get and save the CBUUID on first connect.</p>\n\n<p>Then when connecting, I filter the incoming peripherals to match the original CBUUID.</p>\n\n<p>I beleieve I do need to use scan, rather than just connect, because I do not know when the rider\nwill begin moving again. I don't want to ask the rider to press a button. I need to keep scanning in order to detect his motion.</p>\n\n<p>Here's the jist of my added code:</p>\n\n<pre><code>...in implementation\nbool preferredPeripheralExists = false;\n\n...in peripheral didDiscoverCharacteristicsForService\nNSString *founduuid = [NSString stringWithFormat:@\"%@\", [peripheral.identifier  UUIDString]] ;\nNSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\n[prefs setObject:founduuid forKey:@\"rememberFoundUUID\"];\n[prefs synchronize];\npreferredPeripheralExists = true ;\n\n ... in didDiscoverPeripheral   \nNSString *newuuid     = [NSString stringWithFormat:@\"%@\", [peripheral.identifier  UUIDString]] ;\nNSUserDefaults *prefs = [NSUserDefaults standardUserDefaults];\nNSString *olduuid     = [prefs objectForKey:@\"rememberFoundUUID\"]  ;\n\nif ((!preferredPeripheralExists) || (preferredPeripheralExists &amp;&amp; [newuuid isEqualToString:olduuid])){  \n  if (self.discoveredPeripheral != peripheral) {\n     self.discoveredPeripheral = peripheral;\n     [self.centralManager connectPeripheral:peripheral options:nil];\n  } // if self\n}   // if !preferred\n</code></pre>\n\n<p>With regard to your comment about a setup screen, and user selection of the peripheral - </p>\n\n<p>My flow scheme is based on the sample xcode project on the apple developer site. This makes no mention of a setup interface. Also the Ray Wenderlich bluetooth heart monitor project does not include ability for user to select a device.</p>\n\n<p>Is it considered poor practice to not include a device selection screen?</p>\n\n<p>Thanks </p>\n\n<p>J.Day</p>\n"}], "owner": {"reputation": 131, "user_id": 721404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40993e36ce9e0f8c4aca6832c030137a?s=128&d=identicon&r=PG", "display_name": "jday", "link": "https://stackoverflow.com/users/721404/jday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564143304, "creation_date": 1561846912, "question_id": 56821210, "link": "https://stackoverflow.com/questions/56821210/how-do-i-make-sure-a-bluetooth-app-will-only-connect-to-the-original-peripheral", "title": "How do I make sure a bluetooth app will only connect to the original peripheral?", "body": "<p>My current project is a simple bicycle odometer app using a bluetooth speed sensor. \nI have used 'Wahoo', Xoss', 'CycPlus' sensors (peripheral) for testing. \nApp is intended for ios - iPhones. </p>\n\n<p>The app runs well - using CoreBluetooth - simplified flow</p>\n\n<ul>\n<li><p>initialize central manager</p></li>\n<li><p>scan for peripherals with services</p></li>\n<li><p>using did discover peripheral > connect to peripheral</p></li>\n<li><p>using did connect peripheral > discover services</p></li>\n<li><p>using did discover services > discover characteristics</p></li>\n<li><p>using did discover characteristics > set notifying to yes for peripheral</p></li>\n<li><p>using did update value for characteristic >  extract my data and calculate mileage</p></li>\n</ul>\n\n<p>All works well - as long as the bicycle keeps moving. But when the peripheral (bt sensor) stops broadcasting during a several minute rest period, the peripheral disconnects  - as it should. </p>\n\n<p>The problem is that if another bluetooth equipped bicycle starts up in the vicinity, the app will attempt to connect to that other peripheral.</p>\n\n<p>How can I -</p>\n\n<ol>\n<li>Make sure to reconnect only to the original peripheral.</li>\n</ol>\n\n<p>or</p>\n\n<ol start=\"2\">\n<li>Make sure I never disconnect from the original peripheral.</li>\n</ol>\n\n<p>Thanks</p>\n\n<p>JDay</p>\n"}, {"tags": ["ios", "objective-c", "webrtc", "ios-camera"], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 2026006, "user_type": "registered", "profile_image": "https://graph.facebook.com/592203157/picture?type=large", "display_name": "Pallab Gain", "link": "https://stackoverflow.com/users/2026006/pallab-gain"}, "is_accepted": false, "score": 1, "last_activity_date": 1562321410, "creation_date": 1562321410, "answer_id": 56900994, "question_id": 56821059, "link": "https://stackoverflow.com/questions/56821059/ios-how-to-avoid-video-orientation-change-during-capture/56900994#56900994", "title": "Ios: how to avoid video orientation change during capture?", "body": "<p>Do you have access to RTCCameraVideoCapturer codebases ? Also, I am not sure which version of the WebRTC codebases you are working with. And, in your application ; is <code>landscape</code> mode is the only mode that you are intending to support ? </p>\n\n<p>There should be rotation calculation method that listen to rotation changes. You can just disabled it, or can use your preferred fixed set of rotation in spite of default.</p>\n\n<p>For example, taking from <a href=\"https://github.com/pristineio/webrtc-mirror/blob/master/webrtc/sdk/objc/Framework/Classes/PeerConnection/RTCCameraVideoCapturer.m#L198\" rel=\"nofollow noreferrer\">this sample codebase</a> ; you can just only use <code>RTCVideoRotation_90</code> to have landscape orientation only.</p>\n"}], "owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1613651383, "creation_date": 1561844778, "question_id": 56821059, "link": "https://stackoverflow.com/questions/56821059/ios-how-to-avoid-video-orientation-change-during-capture", "title": "Ios: how to avoid video orientation change during capture?", "body": "<p>I have an iOS app that only supports portrait. When rotating the device the video captured by the RTCCameraVideoCapturer (WebRTC) rotates to landscape orientation, even when the rest of the UI stays in portrait. How to avoid this?</p>\n"}, {"tags": ["objective-c", "xcode", "google-cast", "google-cast-sdk"], "comments": [{"owner": {"reputation": 924, "user_id": 4090083, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1519d8e43d5d40877a596a278940aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Naren", "link": "https://stackoverflow.com/users/4090083/naren"}, "edited": false, "score": 0, "creation_date": 1562018724, "post_id": 56819571, "comment_id": 100237777, "body": "Any reason for downvote?"}], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 6811345, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b7ef9738cfd6cd4f5be04fa7e00b4885?s=128&d=identicon&r=PG&f=1", "display_name": "Tanner H.", "link": "https://stackoverflow.com/users/6811345/tanner-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1562033824, "creation_date": 1562033824, "answer_id": 56844479, "question_id": 56819571, "link": "https://stackoverflow.com/questions/56819571/how-to-solve-objc-class-reference-error/56844479#56844479", "title": "How to solve _OBJC_CLASS_$ reference error", "body": "<p>Linker errors come when you're trying to use certain classes and the linker doesn't know where they come from. Chances are, you imported the correct header files, but you have not added linked frameworks/libraries that contain the <code>GCK*</code> classes.</p>\n\n<p>To fix this issue, you should go to your project settings, then build phases. Open the dropdown menu \"Link Binary With Libraries\", and from here you can click the plus to add the framework/library. In your case, I believe it's GoogleCast.framework. With Cast, there are a few extra steps listed here: <a href=\"https://developers.google.com/cast/docs/ios_sender\" rel=\"nofollow noreferrer\">https://developers.google.com/cast/docs/ios_sender</a></p>\n"}], "owner": {"reputation": 924, "user_id": 4090083, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1519d8e43d5d40877a596a278940aff5?s=128&d=identicon&r=PG&f=1", "display_name": "Naren", "link": "https://stackoverflow.com/users/4090083/naren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1562033824, "creation_date": 1561829918, "question_id": 56819571, "link": "https://stackoverflow.com/questions/56819571/how-to-solve-objc-class-reference-error", "title": "How to solve _OBJC_CLASS_$ reference error", "body": "<p>We have a standalone video playback app, in which we have Chromecast working fine. Now we are trying to convert this app as a framework and add it in the parent app.\nWhile building framework, reference error pops up. If I comment out the code in RNGoogleCast.m, where these classes [see attached image] are referenced then the framework builds successfully and works fine with parent app. With commented code, I don't see the chromecast button while playing video.</p>\n\n<p>In Build Setting of Framework, other linker flags set to -ObjC. If I remove it or keep the same value as an app, then frameworks build successfully but don't work with the parent app.</p>\n\n<p>Please let me know if you need more information from the app or framework.</p>\n\n<p>Can someone help me to get rid of these errors and get the chromecast button enabled while playing video?</p>\n\n<p>Also, raised issue here: <a href=\"https://github.com/react-native-google-cast/react-native-google-cast/issues/126\" rel=\"nofollow noreferrer\">https://github.com/react-native-google-cast/react-native-google-cast/issues/126</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/xStBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xStBU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "macos", "header"], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1561912223, "post_id": 56822702, "comment_id": 100205131, "body": "No, not, if you import a file. Tis can happen only, if you include a file."}], "tags": [], "owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "is_accepted": false, "score": -1, "last_activity_date": 1561873762, "creation_date": 1561873762, "answer_id": 56822702, "question_id": 56817685, "link": "https://stackoverflow.com/questions/56817685/should-objective-c-header-include-ifndef-macro/56822702#56822702", "title": "Should Objective-C header include #ifndef macro?", "body": "<p>If <code>#ifndef Types_h</code> is not present then if you import the same header multiple times in a file it will declare the same macros multiple times that are declared in Type.h file</p>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "closed_date": 1561881702, "answer_count": 1, "score": 1, "last_activity_date": 1561873762, "creation_date": 1561812730, "question_id": 56817685, "link": "https://stackoverflow.com/questions/56817685/should-objective-c-header-include-ifndef-macro", "closed_reason": "Duplicate", "title": "Should Objective-C header include #ifndef macro?", "body": "<p>Currently, if I create a header file in Xcode, it creates one with </p>\n\n<pre><code>#ifndef Types_h\n#define Types_h\n\n// .. \n</code></pre>\n\n<p>But if I create a Cocoa class, then the header generated is of the form</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n// ..\n</code></pre>\n\n<p>Is <code>#ifndef</code> not required in the later case? Does Objective-C automatically include only headers once?</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "instruments"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1561826796, "post_id": 56817609, "comment_id": 100191579, "body": "Rob Napier is right, that you should focus on the \u201cpersistent\u201d numbers, not transient or \u201ctotal\u201d numbers, which include memory that has been released. Your persistent numbers look fine."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1561827088, "post_id": 56817609, "comment_id": 100191636, "body": "As an aside, you seem to place a lot of weight on the absence of any reported leaks. Unfortunately, that captures only a very small fraction of the potential problems. The most common memory problem that plagues our projects is strong reference cycles (aka retain cycles), and those are not reported as a leak. See <a href=\"https://stackoverflow.com/questions/30992338/how-to-debug-memory-leaks-when-leaks-instrument-does-not-show-them/30993476#30993476\">How to debug memory leaks when Leaks instrument does not show them?</a> But, again, unless the \u201cpersistent\u201d numbers increasing, don\u2019t worry about it."}], "answers": [{"comments": [{"owner": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "edited": false, "score": 0, "creation_date": 1561821825, "post_id": 56818052, "comment_id": 100190559, "body": "updated question, occupied memory went up to 1.4 GB after download 3648 web pages, even I stop downloading, the occupied memory never go down for deallocation"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "edited": false, "score": 0, "creation_date": 1561822781, "post_id": 56818052, "comment_id": 100190772, "body": "What you&#39;ve posted here isn&#39;t helpful in debugging your memory issues; you&#39;ve just posted total allocations (most of which are freed). It&#39;s also very unclear what you mean by your example starting &quot;I change all code.&quot; Does usage drop from 1.4GB to 300MB with that change? Or do you mean something else? At a start, you need to dig into the memory graph in Instruments and look for what type of allocation is using most of your persistent (not transient) memory. Your screenshot is not helpful for that. Look at the stack traces on the right as you explore."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "edited": false, "score": 0, "creation_date": 1561822960, "post_id": 56818052, "comment_id": 100190802, "body": "Using <code>[NSString stringWithFormat:@&quot;someThing&quot;];</code> is very wasteful (it&#39;s equivalent to the incredibly cheaper <code>@&quot;someThing&quot;</code>), but it&#39;s unclear from your question whether you mean <code>stringWithFormat:</code> on a static string, or if you meant something else. Read over your question and think through &quot;how would I answer this question, given only the information in the question?&quot; If switching between the <code>stringWith</code> and <code>initWith</code> forms makes a big difference in your high-water mark (but the memory all comes back later), you probably have an autorelease pool you&#39;re not draining."}, {"owner": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "edited": false, "score": 0, "creation_date": 1561826505, "post_id": 56818052, "comment_id": 100191529, "body": "1.4G is not important, I just want to say the occupied memory went up to 0.4 or 1.4 GB, even I stop the download(press the stop button), the occupied memory do not go down for deallocation as I expected while there is no any memory leak"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "edited": false, "score": 0, "creation_date": 1561844443, "post_id": 56818052, "comment_id": 100195078, "body": "Likely because you&#39;re retaining it somewhere. Perhaps intentionally. Perhaps in a system cache you&#39;re not aware of (this is purgeable memory and is not relevant). You don&#39;t have to have a leak to increase memory usage; you can also keep storing things. But if you are having a memory problem, then the above comments discuss how to debug it. A snapshot of total (mostly transient) allocations doesn&#39;t help us help you. Similarly, a snapshot that just says &quot;1.41GB&quot; doesn&#39;t help us help you."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 1, "last_activity_date": 1561816385, "last_edit_date": 1561816385, "creation_date": 1561816078, "answer_id": 56818052, "question_id": 56817609, "link": "https://stackoverflow.com/questions/56817609/occupied-memory-increased-continuously-but-no-memory-leak/56818052#56818052", "title": "occupied memory increased continuously, but no memory leak", "body": "<p>This chart is the total number of allocations, not the current memory usage. The \"persistent\" column (allocations that haven't been released) is around 40MB. What it's telling you is that you have allocated at various times about 5.68GB of data and released almost all of it. That's why the red bar is almost entirely pale red, with just a little solid red on the left.</p>\n\n<p>This suggests there may be ways to improve performance by reusing more memory rather than allocating and releasing it (which is very time-consuming). Or perhaps by avoiding unnecessary temporary allocations. But if you're not having a performance issue, there's no actual problem here.</p>\n"}], "owner": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56818052, "answer_count": 1, "score": 0, "last_activity_date": 1561837061, "creation_date": 1561812038, "last_edit_date": 1561837061, "question_id": 56817609, "link": "https://stackoverflow.com/questions/56817609/occupied-memory-increased-continuously-but-no-memory-leak", "title": "occupied memory increased continuously, but no memory leak", "body": "<p>I developed an app to download web pages from a site.\nFor the huge web site, it will run a long time.\nI noticed that the occupied memory increased continuously(from 30M to 300M after download 2600 web pages), but there is no any memory leak in Instrument.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KVVFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVVFl.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Kda4j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kda4j.png\" alt=\"enter image description here\"></a></p>\n\n<p>after download 3648 web pages, its info</p>\n\n<p><a href=\"https://i.stack.imgur.com/xodfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xodfq.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/z6gXG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6gXG.png\" alt=\"enter image description here\"></a></p>\n\n<p>After I stop the download procedure, occupied memory do not decrease for memory releasing.</p>\n\n<p>I change all code</p>\n\n<pre><code>[NSString stringWithFormat:@\"someThing\"];\n</code></pre>\n\n<p>to </p>\n\n<pre><code>[[NSString alloc] initWithFormat:@\"someThing\"];\n</code></pre>\n\n<p>a little improvement, occupied memory drops to 300m</p>\n\n<p>your comment welcome</p>\n"}, {"tags": ["ios", "objective-c", "swift", "augmented-reality", "arkit"], "answers": [{"comments": [{"owner": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "edited": false, "score": 1, "creation_date": 1561807093, "post_id": 56816997, "comment_id": 100187510, "body": "I&#39;ve tried both and experience the same issue. The images are always in view of the camera and we have no interest in the planes of the world so ARImageTrackingConfiguration is ideal for us. The issue is ARKit only detects and tracks up to 4 images on screen at once (despite looking at a much larger group of markers). Are you able to track more than 4 images on screen at once?"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "edited": false, "score": 0, "creation_date": 1561807499, "post_id": 56816997, "comment_id": 100187596, "body": "What is Reference Image resolution?"}, {"owner": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "edited": false, "score": 0, "creation_date": 1561807722, "post_id": 56816997, "comment_id": 100187654, "body": "of the captured stream? 1920x1440 EDIT: Reference image resolution is 800x800, physical size ~1 inch square"}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1581166216, "last_edit_date": 1592644375, "creation_date": 1561805943, "answer_id": 56816997, "question_id": 56816333, "link": "https://stackoverflow.com/questions/56816333/only-able-to-detect-and-track-up-to-4-images-at-a-time-with-arkit-3-0/56816997#56816997", "title": "Only able to detect and track up to 4 images at a time with ARKit 3.0", "body": "<p><strong>Updated</strong>: <code>February 08, 2020</code>.</p>\n<h1>At the moment in ARKit 3.0 and ARKit 2.0 you can simultaneously track up to 4 images. Not more than four.</h1>\n<p>Even though ARKit 3.0 official documentation says that <code>.maximumNumberOfTrackedImages</code> instance property could be equals to <code>100</code>, this hundred of images is just a total number of tracked images in a session. Apple software engineers limited image tracking feature to <strong>four images at a time</strong>. This makes sense because tracking more than four images at a time is very CPU- and GPU-expensive.</p>\n<blockquote>\n<p>Also, you can read about it <strong><a href=\"https://stackoverflow.com/questions/59978435/can-i-track-more-than-4-images-at-a-time-with-arkit/59981180#59981180\">here</a></strong>.</p>\n</blockquote>\n<pre><code>- (void)viewWillAppear:(BOOL)animated {\n\n    [super viewWillAppear:animated];\n\n    ARWorldTrackingConfiguration *config = [ARWorldTrackingConfiguration new];\n    config.detectionImages = [ARReferenceImage referenceImagesInGroupNamed:@&quot;Resources&quot; bundle:nil];\n\n    config.maximumNumberOfTrackedImages = 100;       // in ARKit 3.0\n    // config.maximumNumberOfTrackedImages = 25;     // in ARKit 2.0\n\n    [self.sceneView.session runWithConfiguration:config];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "edited": false, "score": 1, "creation_date": 1562265734, "post_id": 56890125, "comment_id": 100332479, "body": "Sorry, could you give a link to that comment?"}, {"owner": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "edited": false, "score": 0, "creation_date": 1562753088, "post_id": 56890125, "comment_id": 100473373, "body": "It&#39;s not in any of the docs, but it <i>is</i> found in Apple&#39;s code:  Go to ARConfiguration.h, line 336"}], "tags": [], "owner": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "is_accepted": true, "score": 2, "last_activity_date": 1562753172, "last_edit_date": 1562753172, "creation_date": 1562250856, "answer_id": 56890125, "question_id": 56816333, "link": "https://stackoverflow.com/questions/56816333/only-able-to-detect-and-track-up-to-4-images-at-a-time-with-arkit-3-0/56890125#56890125", "title": "Only able to detect and track up to 4 images at a time with ARKit 3.0", "body": "<p>Found the official answer in a comment made to ARImageTrackingConfiguration:</p>\n\n<pre><code>@discussion Image tracking provides 6 degrees of freedom tracking of known images. Four images may be tracked simultaneously.\n</code></pre>\n\n<p>EDIT: Found in ARConfiguration.h, line 336</p>\n"}], "owner": {"reputation": 442, "user_id": 1483075, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c578e9d2c1463a77b68ac247ea89dcbc?s=128&d=identicon&r=PG", "display_name": "Elldo", "link": "https://stackoverflow.com/users/1483075/elldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 56890125, "answer_count": 2, "score": 7, "last_activity_date": 1586153654, "creation_date": 1561799041, "last_edit_date": 1586153654, "question_id": 56816333, "link": "https://stackoverflow.com/questions/56816333/only-able-to-detect-and-track-up-to-4-images-at-a-time-with-arkit-3-0", "title": "Only able to detect and track up to 4 images at a time with ARKit 3.0", "body": "<p>Using the code below I'm only able to detect and track up to 4 images at any one time when using ARKit.</p>\n\n<pre><code>ARImageTrackingConfiguration *configuration = [ARImageTrackingConfiguration new];  \nconfiguration.trackingImages = [ARReferenceImage referenceImagesInGroupNamed:@\"AR Resources\" bundle:nil];  \nconfiguration.maximumNumberOfTrackedImages = 100;  \n[self.sceneView.session runWithConfiguration:configuration]; \n</code></pre>\n\n<p>Is anyone able to confirm what I'm seeing? I need to be able to track a larger number of images/markers and was excited when I saw this offered in the ARKit 3 announcement.</p>\n\n<p>Would be great if someone is able to replicate this so I know I'm not imagining things ^^</p>\n\n<p>I hope this isn't an Apple limitation, the 3DS could detect and track more than 4 images over 8 years ago.</p>\n"}, {"tags": ["ios", "objective-c", "clbeacon"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1561795281, "post_id": 56815969, "comment_id": 100185477, "body": "You need to set assign a value to <code>closest</code> at some point before your loop or it will always be <code>nil</code> and the <code>if</code> will never be true"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "reply_to_user": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "edited": false, "score": 1, "creation_date": 1561796961, "post_id": 56815969, "comment_id": 100185757, "body": "@P4yam, I&#39;ve approved your edit, but see my subsequent edit for how to do proper code formatting."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1561806455, "post_id": 56815969, "comment_id": 100187417, "body": "I think that you could use <code>max(by:)</code> to find the Beacon with the max value, and the compare it with yours saved beacon if exists to set it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11713408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c819d56177099bd2d9107ebd4ccf9c6b?s=128&d=identicon&r=PG", "display_name": "Eshwar", "link": "https://stackoverflow.com/users/11713408/eshwar"}, "edited": false, "score": 0, "creation_date": 1561826488, "post_id": 56818747, "comment_id": 100191528, "body": "let me try and comeback to you. Here in your answer closestBeacon is beacon? or need to take another CLBeacon property. Otherwise compiler throws error."}, {"owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "reply_to_user": {"reputation": 3, "user_id": 11713408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c819d56177099bd2d9107ebd4ccf9c6b?s=128&d=identicon&r=PG", "display_name": "Eshwar", "link": "https://stackoverflow.com/users/11713408/eshwar"}, "edited": false, "score": 0, "creation_date": 1561827415, "post_id": 56818747, "comment_id": 100191678, "body": "I edited the answer.  To be consistent with the swift version, I have named the variable closestBeacon"}], "tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": false, "score": 0, "last_activity_date": 1561827384, "last_edit_date": 1561827384, "creation_date": 1561822192, "answer_id": 56818747, "question_id": 56815969, "link": "https://stackoverflow.com/questions/56815969/find-closest-beacon-in-every-second-by-using-rssi-in-objective-c/56818747#56818747", "title": "Find Closest Beacon in every second by using RSSI in Objective-C", "body": "<p>There is a bug in both versions of code as @paulw11 suggests.  Since I wrote that bug in response to another question here is a fix:</p>\n\n<p>Swift</p>\n\n<pre><code>var closestBeacon: CLBeacon? = nil\nfor beacon in beacons {\n    if closestBeacon == nil || beacon.rssi &lt; 0 &amp;&amp; beacon.rssi &gt; closestBeacon!.rssi {\n        closestBeacon = beacon as? CLBeacon\n    }\n}\n</code></pre>\n\n<p>Objective-C </p>\n\n<pre><code>CLBeacon *closestBeacon = nil;\n\nfor (CLBeacon *beacon in beacons) {\n\n    if (closestBeacon == nil || beacon.rssi &lt; 0 &amp;&amp; beacon.rssi &gt; closest.rssi) {\n\n        closestBeacon = beacon;\n\n    }\n}\n</code></pre>\n\n<p>I fixed the bug in the original post, too.</p>\n"}], "owner": {"reputation": 3, "user_id": 11713408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c819d56177099bd2d9107ebd4ccf9c6b?s=128&d=identicon&r=PG", "display_name": "Eshwar", "link": "https://stackoverflow.com/users/11713408/eshwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561827384, "creation_date": 1561794927, "last_edit_date": 1561796875, "question_id": 56815969, "link": "https://stackoverflow.com/questions/56815969/find-closest-beacon-in-every-second-by-using-rssi-in-objective-c", "title": "Find Closest Beacon in every second by using RSSI in Objective-C", "body": "<p>In Stack Overflow, I've seen answer to find closest beacon (<a href=\"https://stackoverflow.com/questions/31834641/swift-find-closest-beacon-by-rssi/56806475#56806475\">Swift find closest Beacon by rssi</a>). </p>\n\n<p>Here I tried with accuracy to find closest in Objective-C. My app finds beacon in every sec that time accuracy is not working finding closest properly. As he said RSSI will update in every 1 sec. So I'd like to filter closest beacon using RSSI. I converted your Swift code into Objective-C but it's not working fine.</p>\n\n<p>Here is Swift code:</p>\n\n<pre><code>//Swift code\nvar closestBeacon: CLBeacon? = nil\nfor beacon in beacons {\n    if beacon.rssi &lt; 0 &amp;&amp; closestBeacon != nil &amp;&amp; beacon.rssi &gt; closestBeacon!.rssi {\n        closestBeacon = beacon as? CLBeacon\n    }\n}\n</code></pre>\n\n<p>Here is Objective-C code I converted not working:</p>\n\n<pre><code>CLBeacon *closest = nil;\n\nfor (CLBeacon *beacon in beacons) {\n\n    if (beacon.rssi &lt; 0 &amp;&amp;  closest != nil &amp;&amp; beacon.rssi &gt; closest.rssi) {\n\n        closest = beacon;\n\n    }\n}\n</code></pre>\n\n<p>Here please make me perfect where I'm doing wrong.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "answers": [{"tags": [], "owner": {"reputation": 3143, "user_id": 5512384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CFi4N.jpg?s=128&g=1", "display_name": "jvarela", "link": "https://stackoverflow.com/users/5512384/jvarela"}, "is_accepted": false, "score": 2, "last_activity_date": 1561818008, "last_edit_date": 1561818008, "creation_date": 1561791850, "answer_id": 56815722, "question_id": 56815128, "link": "https://stackoverflow.com/questions/56815128/has-anybody-experience-with-the-mac-app-store-acceptance-rules-when-customising/56815722#56815722", "title": "Has anybody experience with the Mac App Store acceptance rules when customising an AppKit behaviour in an unsupported way?", "body": "<p>You should not do this at all. Apple has not exported this API for a good reason: it wants us developers to use a consistent look to keep the appearance of the OS familiar to the users. You should read Apple's <a href=\"https://developer.apple.com/design/human-interface-guidelines/\" rel=\"nofollow noreferrer\">Human Interface Guidelines</a> to understand why this is important. It is thus very likely your app will be rejected, because of this hack, unless you have a very good reason to do this.</p>\n"}, {"comments": [{"owner": {"reputation": 3143, "user_id": 5512384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CFi4N.jpg?s=128&g=1", "display_name": "jvarela", "link": "https://stackoverflow.com/users/5512384/jvarela"}, "edited": false, "score": 1, "creation_date": 1561806089, "post_id": 56816268, "comment_id": 100187371, "body": "He is targeting macOS, not iOS. ;) However, the same principle applies. Considering rejection or not, it depends how small the OP wants the window titles to be."}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": true, "score": 1, "last_activity_date": 1561798315, "creation_date": 1561798315, "answer_id": 56816268, "question_id": 56815128, "link": "https://stackoverflow.com/questions/56815128/has-anybody-experience-with-the-mac-app-store-acceptance-rules-when-customising/56816268#56816268", "title": "Has anybody experience with the Mac App Store acceptance rules when customising an AppKit behaviour in an unsupported way?", "body": "<p>I think your app will be approved, but I wouldn't do it because the view hierarchy is undocumented and can change with even a minor update of iOS. Furthermore the layout in the <code>NSTitlebarAccessoryViewController</code> is not guaranteed to be fixed, so any such future changes might cause strange clippings and other artifacts since your font differs from the original font. </p>\n"}], "owner": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56816268, "answer_count": 2, "score": -1, "last_activity_date": 1561818008, "creation_date": 1561783537, "question_id": 56815128, "link": "https://stackoverflow.com/questions/56815128/has-anybody-experience-with-the-mac-app-store-acceptance-rules-when-customising", "title": "Has anybody experience with the Mac App Store acceptance rules when customising an AppKit behaviour in an unsupported way?", "body": "<p>In my Objective-C macOS Application, I have found a way to change the font of the windows titles, with this code inserted into my <code>NSTitlebarAccessoryViewController</code>:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)viewWillLayout {\n\n    NSView *superView = [[[self.view superview] superview] superview];\n\n    for (id view in superView.subviews) {\n\n        if ([view isKindOfClass:[NSTextField class]]) {\n\n            NSTextField *titleLabel = view;\n            NSString *title = titleLabel.stringValue;\n\n            NSFont *font = [NSFont systemFontOfSize:12.0];\n\n            NSAttributedString *smallTitle = [[NSAttributedString alloc] initWithString:title attributes:@{NSFontAttributeName:font}];\n\n            titleLabel.attributedStringValue = smallTitle;\n        }\n    }\n}\n</code></pre>\n\n<p>This works very well. Do you think that Apple could find this unacceptable because it falls into the forbidden private APIs ? Thanks for any help.</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "is_accepted": false, "score": 0, "last_activity_date": 1561776929, "creation_date": 1561776929, "answer_id": 56814775, "question_id": 56814583, "link": "https://stackoverflow.com/questions/56814583/how-to-use-define-in-objective-c-in-another-define/56814775#56814775", "title": "How to use define in objective c in another define", "body": "<p>You can in the following way --</p>\n\n<pre><code>#define URL @\"www.example.com/\"\n#define UrlWithUrl [NSString stringWithFormat:@\"&lt;Login xmlns=\\\"http://%@/\\\"&gt;\",URL] \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1561847077, "creation_date": 1561847077, "answer_id": 56821230, "question_id": 56814583, "link": "https://stackoverflow.com/questions/56814583/how-to-use-define-in-objective-c-in-another-define/56821230#56821230", "title": "How to use define in objective c in another define", "body": "<p>A <code>#define</code> token will be expanded in a subsequent <code>#define</code> <em>provided</em> it is not in a string \u2013\u00a0in your case you wish to use <code>URL</code> in a string so just writing in the string will not result in it being expanded.</p>\n\n<p>However in (Objective-)C adjacent string literals are automatically concatenated by the compiler to become a single string literal, e.g.:</p>\n\n<pre><code>@\"one \" @\"two\"\n</code></pre>\n\n<p>is transformed by the compiler into:</p>\n\n<pre><code>@\"one two\"\n</code></pre>\n\n<p>Knowing that you can rewrite your definition of <code>UserLogin</code> as <em>three</em> strings which will be joined by the compiler into one:</p>\n\n<pre><code>#define UserLogin @\"&lt;Login xmlns=\\\"\" URL @\"\\\"&gt;&lt;Email&gt;%@&lt;/Email&gt;&lt;Password&gt;%@&lt;/Password&gt;&lt;/Login&gt;\"\n</code></pre>\n\n<p>and a use of <code>UserLogin</code> in your code will be replaced by the three strings which are then joined by the compiler, e.g.</p>\n\n<pre><code>NSLog(\"%@\", UserLogin);\n</code></pre>\n\n<p>becomes after preprocessing:</p>\n\n<pre><code>NSLog(\"%@\", @\"&lt;Login xmlns=\\\"\" @\"www.example.com/\" @\"\\\"&gt;&lt;Email&gt;%@&lt;/Email&gt;&lt;Password&gt;%@&lt;/Password&gt;&lt;/Login&gt;\");\n</code></pre>\n\n<p>and then the adjacent string literals are joined:</p>\n\n<pre><code>NSLog(\"%@\", @\"&lt;Login xmlns=\\\"www.example.com/\\\"&gt;&lt;Email&gt;%@&lt;/Email&gt;&lt;Password&gt;%@&lt;/Password&gt;&lt;/Login&gt;\");\n</code></pre>\n\n<p>For more complex cases you will need to read up on the <a href=\"https://gcc.gnu.org/onlinedocs/gcc-3.4.3/cpp/Macros.html#Macros\" rel=\"nofollow noreferrer\">preprocessor</a>, in particular <a href=\"https://gcc.gnu.org/onlinedocs/gcc-3.4.3/cpp/Stringification.html\" rel=\"nofollow noreferrer\">stringification</a></p>\n\n<p>In Xcode you can see the results of your macros by selecting the menu item <code>Product:Perform Action:Preprocess \"...\"</code>, this opens a window showing your source file after all the macros have been expanded, i.e. the resultant source code the compiler will compile.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 1, "user_id": 9002426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/853372e634252f7f9d895aecae233984?s=128&d=identicon&r=PG&f=1", "display_name": "Venkat", "link": "https://stackoverflow.com/users/9002426/venkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561847077, "creation_date": 1561773420, "last_edit_date": 1561778134, "question_id": 56814583, "link": "https://stackoverflow.com/questions/56814583/how-to-use-define-in-objective-c-in-another-define", "title": "How to use define in objective c in another define", "body": "<p>I need to use define inside another define to make code simple by replacing only at one place.\nProblem (Objective C code)</p>\n\n<pre><code>#define URL @\"www.example.com/\"\n#define UserLogin @\"&lt;Login xmlns=\\\"http://www.example.com/\\\"&gt;&lt;Email&gt;%@&lt;/Email&gt;&lt;Password&gt;%@&lt;/Password&gt;&lt;/Login&gt;\" \n.\n.\n.\n#define UserRegistration @\"&lt;Reg xmlns=\\\"http://www.example.com/\\\"&gt;&lt;Email&gt;%@&lt;/Email&gt;&lt;/Reg&gt;\" \n</code></pre>\n\n<p>I am having a list of statements like this can I use URL at the place of xmlns=\\\".../\\\"\ncan I use the above defined URL like xmlns=\\\"URL/\\\"\nso I can replace url at only at one place.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "swift3", "networkextension"], "comments": [{"owner": {"reputation": 185, "user_id": 4829524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJVPw.jpg?s=128&g=1", "display_name": "kileros", "link": "https://stackoverflow.com/users/4829524/kileros"}, "edited": false, "score": 0, "creation_date": 1562094256, "post_id": 56814046, "comment_id": 100267306, "body": "this error <code>startVPNTunnelWithOptions&#39; was obsoleted in Swift 3</code> means that the <code>startVPNTunnelWithOptions</code> method only works prior Swift 3, for Swift 3+ you need to use `startVPNTunnel(options:) method"}, {"owner": {"reputation": 1520, "user_id": 1015633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97d98f3f9a0efccc0869a363f7e406d1?s=128&d=identicon&r=PG", "display_name": "ikel", "link": "https://stackoverflow.com/users/1015633/ikel"}, "reply_to_user": {"reputation": 185, "user_id": 4829524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJVPw.jpg?s=128&g=1", "display_name": "kileros", "link": "https://stackoverflow.com/users/4829524/kileros"}, "edited": false, "score": 0, "creation_date": 1562283256, "post_id": 56814046, "comment_id": 100336299, "body": "hmmm are u sure it&#39;s obsolete?  <a href=\"https://developer.apple.com/documentation/networkextension/nevpnconnection/1406061-startvpntunnelwithoptions?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/networkextension/&hellip;</a>"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 0, "creation_date": 1562438206, "post_id": 56814046, "comment_id": 100376155, "body": "Could you upload the project somewhere so that we can see the issue? Is your codebase in Swift or objective-c as there is an ambiguity your screenshot shows Objective-C files and in the Question you are writing about Swift"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 0, "creation_date": 1562438290, "post_id": 56814046, "comment_id": 100376175, "body": "Also have you checked your project Settings?? I mean Build Settings -&gt; All and then filter Swift and check if nothing is Set for Swift3. Perhaps the NetworkExtension has an older target"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 4829524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJVPw.jpg?s=128&g=1", "display_name": "kileros", "link": "https://stackoverflow.com/users/4829524/kileros"}, "is_accepted": true, "score": 0, "last_activity_date": 1562688361, "creation_date": 1562688361, "answer_id": 56956624, "question_id": 56814046, "link": "https://stackoverflow.com/questions/56814046/networkextension-does-not-import-newer-version/56956624#56956624", "title": "networkextension does not import newer version", "body": "<pre><code>- (BOOL)startVPNTunnelWithOptions:(NSDictionary&lt;NSString *,NSObject *&gt; *)options \n                   andReturnError:(NSError * _Nullable *)error;\n</code></pre>\n\n<p>This method is available in objc and was obsoleted in swift 3\nObjc doc link:\n<a href=\"https://developer.apple.com/documentation/networkextension/nevpnconnection/1406061-startvpntunnelwithoptions?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/networkextension/nevpnconnection/1406061-startvpntunnelwithoptions?language=objc</a></p>\n\n<p>In swift 3+ the function was renamed to <code>func startVPNTunnel(options: [String : NSObject]? = nil) throws</code></p>\n\n<p>Swift doc link:\n<a href=\"https://developer.apple.com/documentation/networkextension/nevpnconnection/1406061-startvpntunnel\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/networkextension/nevpnconnection/1406061-startvpntunnel</a></p>\n"}], "owner": {"reputation": 1520, "user_id": 1015633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97d98f3f9a0efccc0869a363f7e406d1?s=128&d=identicon&r=PG", "display_name": "ikel", "link": "https://stackoverflow.com/users/1015633/ikel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 56956624, "answer_count": 1, "score": 1, "last_activity_date": 1562688361, "creation_date": 1561764551, "last_edit_date": 1561767378, "question_id": 56814046, "link": "https://stackoverflow.com/questions/56814046/networkextension-does-not-import-newer-version", "title": "networkextension does not import newer version", "body": "<p>I'm trying to work with networkextension in xcode 10 ios12\nbasically, I have imported it and it supposed to be from ios12 which has an extra func ( startVPNTunnelwithOptions ) i can overide it.\nbut instead, xcode seems link it to older version. Now if I try to override it, xcode keeps telling me to use startVPNTunnel </p>\n\n<pre><code>Replace 'startVPNTunnelWithOptions(' with 'startVPNTunnel(options:\n1. 'startVPNTunnelWithOptions' was obsoleted in Swift 3 (NetworkExtension.NEVPNConnection) \n</code></pre>\n\n<p>As above msg shows, xcode seems using swift3 instead of 4.2 or 5. </p>\n\n<p>but I'm using latest xcode and macOS and I even set project to development target to 12.2 and in Swift lang I set to swift5</p>\n\n<p><a href=\"https://i.stack.imgur.com/TUQ7j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUQ7j.png\" alt=\"enter image description here\"></a></p>\n\n<p>startVPNTunnelWithOptions method is in customized PacketTunnelProvider.m \nand i have a bridge header file to bridge it \nfollowing is what's in bridge file</p>\n\n<pre><code>#import \"../ConnectTunnel/PacketTunnelProvider.h\"\n</code></pre>\n\n<p>what am I missing here? </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 0, "creation_date": 1561751732, "post_id": 56812486, "comment_id": 100179300, "body": "Thanks Sulthan for your polite, simple, and speedy response. You certainly have solved my issue of using Swift syntax in Objective C. However, my code now returns the following error: <code>No visible @interface for &#39;Predictor&#39; declares the selector &#39;predict&#39;</code> (this also applies for selectors <code>predictData</code> and <code>predictdata</code>. I did describe the &#39;predict&#39; method inside of my &#39;Predictor&#39; class... Perhaps the method name in Objective-C is just different?"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 1, "creation_date": 1561751805, "post_id": 56812486, "comment_id": 100179322, "body": "@MatthewAnderson Where are you using <code>predict</code>? I used <code>predictData</code> because that&#39;s how Swift function <code>predict(data:)</code> will be transformed. Also note that the function in <code>Swift</code> should be probably <code>public</code>."}, {"owner": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 0, "creation_date": 1561752065, "post_id": 56812486, "comment_id": 100179410, "body": "I tested the use of both selectors, <code>predict</code> and <code>predictData</code>. Moreover, I changed my Swift class <code>Predictor</code> and function <code>predict</code> to <code>public</code>. I believe I did import the Swift header properly to <code>ViewController.m</code> via <code>#import &quot;SeizureSense-Swift.h&quot;</code>, which matches with my Objective-C Generated Interface Name in build settings.  I am still facing an error: <code>No visible @interface for &#39;Predictor&#39; declares the selector &#39;predictData&#39;</code>"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 0, "creation_date": 1561752702, "post_id": 56812486, "comment_id": 100179617, "body": "@MatthewAnderson That&#39;s strange. You should have code completion on <code>predictor</code> anyway, after typing <code>[_myModel</code>"}, {"owner": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 0, "creation_date": 1561752720, "post_id": 56812486, "comment_id": 100179623, "body": "Looks like <code>predict(data:)</code> would be transformed to <code>predictWithData</code> instead of <code>predictData</code>."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "edited": false, "score": 1, "creation_date": 1561752787, "post_id": 56812486, "comment_id": 100179646, "body": "Oh, that&#39;s certainly possible :) btw, you can control the name using <code>@objc(predictData)</code> if you want to change it."}], "tags": [], "owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "is_accepted": true, "score": 1, "last_activity_date": 1561752746, "last_edit_date": 1561752746, "creation_date": 1561751269, "answer_id": 56812486, "question_id": 56812354, "link": "https://stackoverflow.com/questions/56812354/when-importing-swift-class-into-obj-c-property-not-found-on-object-of-type/56812486#56812486", "title": "When importing Swift class into Obj-C: Property not found on object of type", "body": "<p><code>_myModel.predict(data: modelInputs)</code> cannot work. You are trying to use Swift syntax in Objective-C.</p>\n\n<p>In Objective-C syntax for calling methods is different. Actually, even the method names are different. Your call should be something like:</p>\n\n<pre><code>[self log:@\"%d\", [_myModel predictWithData:modelInputs]];\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 7897880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3DaTkUiSTd8/AAAAAAAAAAI/AAAAAAAAAXY/3TyM7cMYb2U/photo.jpg?sz=128", "display_name": "Matthew Anderson", "link": "https://stackoverflow.com/users/7897880/matthew-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 56812486, "answer_count": 1, "score": 0, "last_activity_date": 1561752746, "creation_date": 1561750483, "last_edit_date": 1561751190, "question_id": 56812354, "link": "https://stackoverflow.com/questions/56812354/when-importing-swift-class-into-obj-c-property-not-found-on-object-of-type", "title": "When importing Swift class into Obj-C: Property not found on object of type", "body": "<p>I'm creating an iOS app that communicates with a peripheral device via Bluetooth. The Bluetooth device's API is written in Objective-C, so I chose to write my AppDelegate and ViewController are written in Objective-C as well. I also developed a CoreML algorithm, which I chose to interact with that model from Swift (XCode autogenerate a Swift class named <code>Model</code> for me).  From there, I created a second Swift class named <code>Predictor</code>, which has a method called <code>predict</code> that returned the result of the ML algorithm contained in <code>Model.</code>  However, when I imported the <code>Predictor</code> Swift class to my Objective-C view controller, XCode couldn't seem to access its <code>predict</code> method.</p>\n\n<p>I am new to Objective-C and Swift, but I think I have a concrete understanding of class structures. I have tried so many things that at this point, I'm just guessing.  I must have a fundamental misunderstanding of Swift/Objective-C, but I cannot identify it.</p>\n\n<p>My Predictor class in Swift is exposed to Objective-C and inherits from NSObject, but does not have an init() function (I do not believe one is necessary?).</p>\n\n<pre><code>@objcMembers class Predictor: NSObject {\n\n    let model = Model();\n\n    @objc func predict(data: [Double]) -&gt; Int64 {\n        isPreictal = model.prediction(input: data)\n        return isPreictal.classLabel\n    }\n}\n</code></pre>\n\n<p>ViewController.h</p>\n\n<pre><code>@class Predictor;\n@interface ViewController : UIViewController\n&lt; IXNMuseConnectionListener, IXNMuseDataListener, IXNMuseListener, IXNLogListener&gt;\n- (IBAction)compute:(id)sender;\n- (Predictor *)returnSwiftObject;\n- (void)applicationWillResignActive;\n@end\n</code></pre>\n\n<p>ViewController.m</p>\n\n<pre><code>#import \"ViewController.h\"\n#import \"SeizureSense-Swift.h\"\n\n@interface SimpleController () &lt;CBCentralManagerDelegate&gt;\n@property (nonatomic, strong) Predictor * myModel;\n\ndouble modelInputs[30];\n\n- (void)viewDidLoad { _myModel = [Predictor new]; }\n\n- (IBAction)compute:(id)sender {\n    [self log:@\"%d\", _myModel.predict(data: modelInputs)];\n}\n@end\n</code></pre>\n\n<p>Seeing as my Swift class <code>Predictor</code> is imported to ViewController.h and my SeizureSense-Swift header is imported to ViewController.m, I would expect that I could access the <code>predict</code> method inside of <code>Predictor</code> class instance <code>myModel</code>, but the following error message is returned: <code>Property 'predict' not found on object of type 'Predictor *'</code></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "edited": false, "score": 0, "creation_date": 1561739928, "post_id": 56810192, "comment_id": 100175095, "body": "I just want to make sure is this navigation bar or the tabbar?"}, {"owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "reply_to_user": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "edited": false, "score": 0, "creation_date": 1561742255, "post_id": 56810192, "comment_id": 100176054, "body": "Navigation bar."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1561743947, "post_id": 56810192, "comment_id": 100176661, "body": "No, that&#39;s not not a navigation bar."}, {"owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "edited": false, "score": 0, "creation_date": 1561745823, "post_id": 56810192, "comment_id": 100177403, "body": "That&#39;s a navbar that I created in android. I need to implement same for iOS"}], "answers": [{"comments": [{"owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "edited": false, "score": 0, "creation_date": 1561746593, "post_id": 56811151, "comment_id": 100177680, "body": "I want the button with subtitle/text/caption below it."}, {"owner": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "reply_to_user": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "edited": false, "score": 0, "creation_date": 1561746809, "post_id": 56811151, "comment_id": 100177754, "body": "I am not really sure why the -1 really I would appreciate if there was some explanation for that."}, {"owner": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "reply_to_user": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "edited": false, "score": 0, "creation_date": 1561746962, "post_id": 56811151, "comment_id": 100177800, "body": "@goops17 You can use an image for the button which has the color and title to get this done."}], "tags": [], "owner": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "is_accepted": false, "score": -1, "last_activity_date": 1561748224, "last_edit_date": 1561748224, "creation_date": 1561743530, "answer_id": 56811151, "question_id": 56810192, "link": "https://stackoverflow.com/questions/56810192/navigation-bar-with-uiimage-button-and-subtitle/56811151#56811151", "title": "Navigation bar with UIImage Button and subtitle", "body": "<p>In iOS, this is done using tabbar controller which generally appears at the bottom of the screen and if you want to show on the top of your screen then use the toolbar.</p>\n\n<p>Look at the <a href=\"https://developer.apple.com/design/human-interface-guidelines/ios/bars/navigation-bars/\" rel=\"nofollow noreferrer\">calendar app of iPhone</a>, it has 3 buttons to the right side and that's how it will look if you add buttons in the navigation bar.</p>\n\n<p>I would prefer using the storyboard OR XIB for this and add all the barbutton items there and assign IBAction methods to it, <a href=\"https://www.andrewcbancroft.com/2016/04/14/adding-buttons-to-the-navigation-bar-with-storyboards/\" rel=\"nofollow noreferrer\">here's an example of how you can use storyboard for the same</a>.</p>\n\n<p>The buttons used in the toolbar can have images with captions to display the same look and feel.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 952, "user_id": 4036703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feNq6.jpg?s=128&g=1", "display_name": "goops17", "link": "https://stackoverflow.com/users/4036703/goops17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1561748224, "creation_date": 1561738653, "question_id": 56810192, "link": "https://stackoverflow.com/questions/56810192/navigation-bar-with-uiimage-button-and-subtitle", "title": "Navigation bar with UIImage Button and subtitle", "body": "<p>I want to recreate something like the below image which is navigation bar with UIImage buttons and subtitle.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9aHAd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9aHAd.png\" alt=\"enter image description here\"></a>\nMy current code looks something like in below \n</p>\n\n<pre><code>UIImage * cropModeImage = [UIImage imageNamed:@\"crop\"];\n    UIButton *cropModeButton = [UIButton buttonWithType:UIButtonTypeCustom];\n    [cropModeButton setImage:[cropModeImage imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate] forState:UIControlStateNormal];\n    [cropModeButton addTarget:self action:@selector(_setCropMode:) forControlEvents:UIControlEventTouchUpInside];\n    UILabel *subtitle = [[UILabel alloc]initWithFrame:CGRectMake(8, 20, 185, 30)];\n    [subtitle setBackgroundColor:[UIColor clearColor]];\n    [subtitle setFont:[UIFont fontWithName:@\"Helvetica\" size:14]];\n    subtitle.text=@\"This is the sub\";\n    [subtitle setTextColor:[UIColor blackColor]];\n    [cropModeButton  addSubview:subtitle];\n    [self.view addSubview:cropModeButton];\n    UIBarButtonItem *cropMode = [[UIBarButtonItem alloc] initWithCustomView:cropModeButton];\n</code></pre>\n\n\n\n<p>Can anyone help me with it?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uinavigationbar"], "comments": [{"owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "edited": false, "score": 0, "creation_date": 1561699176, "post_id": 56799623, "comment_id": 100156908, "body": "Try placing autolayout constraints on the title view and it\u2019s child UilabelViews"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 4081391, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a079f186b69d919266c5fcae0ac4c7?s=128&d=identicon&r=PG&f=1", "display_name": "Frost_Mourne", "link": "https://stackoverflow.com/users/4081391/frost-mourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1561945857, "creation_date": 1561945857, "answer_id": 56829272, "question_id": 56799623, "link": "https://stackoverflow.com/questions/56799623/how-to-fix-navigation-bar-item-animating-to-side-after-pushing-a-vc/56829272#56829272", "title": "How to fix Navigation Bar Item animating to side after pushing a VC?", "body": "<p>For anyone else in similar situation, It was to do with <code>intrinsicContentSize</code>. After setting it to return <code>UILayoutFittingExpandedSize</code>. The issue was gone. </p>\n"}], "owner": {"reputation": 139, "user_id": 4081391, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a079f186b69d919266c5fcae0ac4c7?s=128&d=identicon&r=PG&f=1", "display_name": "Frost_Mourne", "link": "https://stackoverflow.com/users/4081391/frost-mourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 56829272, "answer_count": 1, "score": 0, "last_activity_date": 1561945857, "creation_date": 1561680393, "question_id": 56799623, "link": "https://stackoverflow.com/questions/56799623/how-to-fix-navigation-bar-item-animating-to-side-after-pushing-a-vc", "title": "How to fix Navigation Bar Item animating to side after pushing a VC?", "body": "<p>I have an iOS app where I am creating a custom view for navigation item.\nThe navigation item works great and places itself right every time when I come to the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/F14YZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F14YZ.png\" alt=\"enter image description here\"></a>\nHowever, when a VC is pushed from this screen and I come back to the screen, the navigation item appears at the right place momentarily but is immediately shifted to the right side corner.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uCkjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCkjf.png\" alt=\"enter image description here\"></a></p>\n\n<p>I do suspect this is related to the animation of the navigation bar during the transition but even after trying multiple work around it still happens.\nBelow is the code for the navigation item view.</p>\n\n<pre><code> UIView *v = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 44)];\n    v.backgroundColor = [UIColor clearColor];\n    v.opaque = NO;\n\n    UILabel *subtitleLabel = [[UILabel alloc] initWithFrame:CGRectIntegral(CGRectMake(v.bounds.origin.x, v.bounds.origin.y + v.bounds.size.height * 0.6, v.bounds.size.width, v.bounds.size.height * 0.3))];\n    subtitleLabel.text = subtitle;\n    subtitleLabel.font = [UIFont systemFontOfSize:11];//Font adjusted to accomodate text into size\n    subtitleLabel.backgroundColor = [UIColor clearColor];\n    subtitleLabel.opaque = NO;\n    subtitleLabel.textAlignment = NSTextAlignmentCenter;\n    subtitleLabel.textColor = defaultSubtitleTextColor;\n    subtitleLabel.shadowOffset = defaultShadowOffset;\n    subtitleLabel.shadowColor = defaultShadowColor;\n\n    [v addSubview:subtitleLabel];\n\n\n    UILabel *titleLabel = [[UILabel alloc] initWithFrame:CGRectIntegral(CGRectMake(v.bounds.origin.x, v.bounds.origin.y + v.bounds.size.height * 0.1, v.bounds.size.width, v.bounds.size.height * 0.5))];\n    titleLabel.text = title;\n    titleLabel.font = [UIFont boldSystemFontOfSize:19];\n    titleLabel.backgroundColor = [UIColor clearColor];\n    titleLabel.opaque = NO;\n    titleLabel.textAlignment = NSTextAlignmentCenter;\n    titleLabel.textColor = defaultTextColor;\n    titleLabel.shadowOffset = defaultShadowOffset;\n    titleLabel.shadowColor = defaultShadowColor;\n\n    [v addSubview:titleLabel];\n\n    navItem.titleView = v;\n</code></pre>\n\n<p>Spent a lot of time already on this, any help will be highly appreciated.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1561682156, "post_id": 56799397, "comment_id": 100154213, "body": "The only preference you can open is your own app&#39;s preference.  Any other urls that  you might use to open preferences are considered private API and will lead to rejection by Apple"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1561687874, "post_id": 56799397, "comment_id": 100155017, "body": "ok, thanks for the heads up."}], "answers": [{"tags": [], "owner": {"reputation": 5801, "user_id": 3840428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eIXFW.jpg?s=128&g=1", "display_name": "Nagarjun", "link": "https://stackoverflow.com/users/3840428/nagarjun"}, "is_accepted": true, "score": 0, "last_activity_date": 1561699107, "creation_date": 1561699107, "answer_id": 56801261, "question_id": 56799397, "link": "https://stackoverflow.com/questions/56799397/link-to-the-sound-section-of-the-settings-app-from-another-app-ios/56801261#56801261", "title": "Link to the sound section of the settings app from another app ios", "body": "<p>I think Subsections inside Settings app is private. As I have made some research around it Apple rejects if you submit app for review. An Example case:</p>\n\n<blockquote>\n  <p>Your app uses the \"prefs:root=\" non-public URL scheme, which is a\n  private entity. The use of non-public APIs is not permitted on the App\n  Store because it can lead to a poor user experience should these APIs\n  change. Continuing to use or conceal non-public APIs in future\n  submissions of this app may result in the termination of your Apple\n  Developer account, as well as removal of all associated apps from the\n  App Store.</p>\n  \n  <p>Next Steps</p>\n  \n  <p>To resolve this issue, please revise your app to provide the\n  associated functionality using public APIs or remove the functionality\n  using the \"prefs:root\" or \"App-Prefs:root\" URL scheme.</p>\n  \n  <p>If there are no alternatives for providing the functionality your app\n  requires, you can file an enhancement request.</p>\n</blockquote>\n\n<p>So that means you are only allowed to use Main section like below.</p>\n\n<pre><code>UIApplication.shared.open(URL(string: UIApplication.openSettingsURLString)!, options: [:], completionHandler: nil)\n</code></pre>\n"}], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 56801261, "answer_count": 1, "score": 0, "last_activity_date": 1561699107, "creation_date": 1561677318, "question_id": 56799397, "link": "https://stackoverflow.com/questions/56799397/link-to-the-sound-section-of-the-settings-app-from-another-app-ios", "title": "Link to the sound section of the settings app from another app ios", "body": "<p>I know similar questions have been asked before about how to open the settings app from another app. However this seems to only allow you to jump to the privacy settings of the sender app within the settings app. I need a way to jump directly to the sound settings menu of the settings app. Can this be done in objective-c specifically, I'm not interested in a swift solution. Thanks.</p>\n"}, {"tags": ["objective-c", "nsurlsession", "completionhandler"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 2, "creation_date": 1561652411, "post_id": 56793507, "comment_id": 100144902, "body": "Please don&#39;t, don&#39;t, don&#39;t. Learn to understand how asynchronous data processing works. You <b><i>don&#39;t</b> need to synchronous call</i>. There is always an asynchronous way."}, {"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561652494, "post_id": 56793507, "comment_id": 100144935, "body": "@vadian - any modification u can just in above code ?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561652615, "post_id": 56793507, "comment_id": 100144997, "body": "Yes, remove the semaphore stuff and the horrible <code>while</code> loop and replace <code>dispatch_semaphore_signal(sem); </code> with the code  which is supposed to run after the data is available."}, {"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561652973, "post_id": 56793507, "comment_id": 100145151, "body": "@vadian - replace dispatch_semaphore_signal(sem);- i don&#39;t want to continue to other part of code once data is available. Can I put check if(rError != nil) return nil; when there is error."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561653102, "post_id": 56793507, "comment_id": 100145201, "body": "That&#39;s exactly what asynchronous data processing is about. The code in the <code>completionHandler</code> block is executed (much later) when the data <b>is</b> available."}, {"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1561653178, "post_id": 56793507, "comment_id": 100145233, "body": "@vadian - I want it to execute synchronously NSURLSessionDataTask"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 5, "creation_date": 1561653197, "post_id": 56793507, "comment_id": 100145240, "body": "Please read my first comment. Forcing data task to be synchronous is very very bad practice."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1561654364, "post_id": 56793507, "comment_id": 100145741, "body": "Bad idea to use synchronous datatasks. Why do you absolutely need to do so? You might want to change architecture, it&#39;s usually bad practice."}, {"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1561658088, "post_id": 56793507, "comment_id": 100147275, "body": "@Larme,@Vadian - I do agree it is bad practice and we do hv plan to re-architecture it, but now to give fix.. using this method."}], "answers": [{"comments": [{"owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "edited": false, "score": 0, "creation_date": 1562066981, "post_id": 56803223, "comment_id": 100252953, "body": "with completion handler will it be synchronous ?"}, {"owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "reply_to_user": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "edited": false, "score": 0, "creation_date": 1562067731, "post_id": 56803223, "comment_id": 100253385, "body": "When you call startSessionDataTaskWithCompletionHandler, it will execute the completion handler once the dataTask is completed, so you can use the received data"}], "tags": [], "owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "is_accepted": false, "score": 1, "last_activity_date": 1561709496, "creation_date": 1561709496, "answer_id": 56803223, "question_id": 56793507, "link": "https://stackoverflow.com/questions/56793507/synchronous-nsurlsessiondatatask-using-objective-c/56803223#56803223", "title": "synchronous NSURLSessionDataTask using objective-c", "body": "<p>I understand that what you want to do is wait for the DataTask to be completed before continue with you code, the best way is to put your request in a function with a completionHandler.</p>\n\n<p>First create a function that will return a NSURLSessionDataTask with a completion handler:</p>\n\n<pre><code>-(NSURLSessionDataTask*)startSessionDataTaskWithCompletionHandler:(void (^)(NSData *myData))completionBlock {\n    //Set your request\n    NSString *dataURL = @\"www.yoururl.com\";\n    NSURL *url = [NSURL URLWithString:dataURL];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:1 timeoutInterval:30];\n\n    // I recommend to use sharedSession because is a simple request, so its not needed a specific session configuration.\n    NSURLSessionDataTask *dataTask = [[NSURLSession sharedSession] dataTaskWithRequest: request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n        if (!error) {\n            if (completionBlock){\n                completionBlock(data);\n                return;\n                //When you call this function, the completionBlock will use this data\n            }\n        } else {\n            //Error handle\n            return;\n        }\n    }];\n    [dataTask resume];\n    return dataTask;\n}\n</code></pre>\n\n<p>Then you can call this function from anywhere:</p>\n\n<pre><code>NSURLSessionTask *task = [self startSessionDataTaskWithCompletionHandler:^(NSData *myData) {\n    // put whatever code you want to perform when the asynchronous data task finish, for example:\n    rData = [NSData dataWithData:myData];\n}];\nif (!task) {\n    // handle failure to create task any way you want\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": false, "score": 1, "last_activity_date": 1561816727, "last_edit_date": 1561816727, "creation_date": 1561815831, "answer_id": 56818031, "question_id": 56793507, "link": "https://stackoverflow.com/questions/56793507/synchronous-nsurlsessiondatatask-using-objective-c/56818031#56818031", "title": "synchronous NSURLSessionDataTask using objective-c", "body": "<p>You can make <code>NSURLSessionDataTask</code> synchronous with <a href=\"https://github.com/mxcl/PromiseKit\" rel=\"nofollow noreferrer\">PromiseKit</a>. Install it manually or add the following line to the Podfile if you use CocoaPods (tested with CocoaPods 1.7.3):</p>\n\n<pre><code>pod \"PromiseKit\", \"6.10.0\"\n</code></pre>\n\n<p>Add the following line to the top of the code file:</p>\n\n<pre><code>@import PromiseKit;\n</code></pre>\n\n<p>Then create a wrapper for your task:</p>\n\n<pre><code>- (AnyPromise*)promiseToLoadData:(NSString*)dataURL {\n    return [AnyPromise promiseWithResolverBlock:^(PMKResolver _Nonnull resolver) {\n        NSURL *url = [NSURL URLWithString:dataURL];\n        NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:1 timeoutInterval:30];\n        NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration ephemeralSessionConfiguration] delegate:nil delegateQueue:nil];\n        NSURLSessionDataTask *taskData = [session dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n            if (error != nil) {\n                resolver([error copy]);\n            } else {\n                resolver([NSData dataWithData:data]);\n            }\n        }];\n        [taskData resume];\n    }];\n}\n</code></pre>\n\n<p>Use <code>wait</code> to resolve the promise synchronously:</p>\n\n<pre><code>id value = [self promiseToLoadData:@\"http://your.url\"].wait;\nif ([value isKindOfClass:[NSData class]]) {\n    NSLog(@\"%@\", [[NSString alloc] initWithData:value encoding:NSUTF8StringEncoding]);\n}\n</code></pre>\n"}], "owner": {"reputation": 1674, "user_id": 3382670, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EFvr5.jpg?s=128&g=1", "display_name": "sia", "link": "https://stackoverflow.com/users/3382670/sia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1561816727, "creation_date": 1561646485, "last_edit_date": 1561652202, "question_id": 56793507, "link": "https://stackoverflow.com/questions/56793507/synchronous-nsurlsessiondatatask-using-objective-c", "title": "synchronous NSURLSessionDataTask using objective-c", "body": "<p>I'm try to do synchronous NSURLSessionDataTask with the below code but unable to proceed.</p>\n\n<pre><code>__block NSData *rData = nil;\n  __block BOOL taskDone = NO;\n __block NSData *rError = nil;\n\n\n    NSURL *url = [NSURL URLWithString:dataURL];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:1 timeoutInterval:30];\n\n    NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration ephemeralSessionConfiguration] delegate:nil delegateQueue:nil];\n    NSURLSessionDataTask *taskData = [session dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n        rData = [NSData dataWithData:data];\n        rError = [error copy];\n\n        taskDone = YES;\n    }];\n\n    [taskData resume];\n\n    while (taskDone == NO) {\n        if (_close == YES) {\n            [taskData cancel];\n            return nil;\n        }\n        usleep(20000);\n    }\n</code></pre>\n\n<p>I need to synchronous call so that I can remove the while loop which is not needed.\nBelow is my code with synchronous call using semaphore</p>\n\n<pre><code> dispatch_semaphore_t sem;\n   __block NSData *rData = nil;\n   __block BOOL taskDone = NO;\n  __block NSData *rError = nil;\n\n\n    NSURL *url = [NSURL URLWithString:dataURL];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url cachePolicy:1 timeoutInterval:30];\n\n    // creating semaphore\n\u00a0 \u00a0 sem = dispatch_semaphore_create(0);\n    NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration ephemeralSessionConfiguration] delegate:nil delegateQueue:nil];\n    NSURLSessionDataTask *taskData = [session dataTaskWithRequest:request completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n        rData = [NSData dataWithData:data];\n        rError = [error copy];\n\n        taskDone = YES;\n\n        //call semaphore\n\u00a0 \u00a0 \u00a0 \u00a0 dispatch_semaphore_signal(sem); \n    }];\n\n    [taskData resume];\n    dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER);\n    dispatch_release(sema);\n\n\n   // THIS part not sure...  how can we accommodate this below code\n    while (taskDone == NO) {\n        if (_close == YES) {\n            [taskData cancel];\n            return nil;\n        }\n        usleep(20000);\n    }\n</code></pre>\n\n<p>above code could be correct ?</p>\n"}, {"tags": ["ios", "objective-c", "github", "frameworks", "cocoapods"], "comments": [{"owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1561653936, "post_id": 56792904, "comment_id": 100145564, "body": "Please fix the formatting, but it looks like the s.source_files line is commented out."}, {"owner": {"reputation": 13, "user_id": 6345065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25c91b052595a63efdde533f7800c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Rabia", "link": "https://stackoverflow.com/users/6345065/rabia"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1561655440, "post_id": 56792904, "comment_id": 100146167, "body": "s.source_files = &quot;VboardFramework/**/*&quot; s.resources = &quot;VboardFramework/**/*.{png,jpeg,jpg,storyboard,xib,xcassets}&zwnj;&#8203;&quot;"}, {"owner": {"reputation": 13, "user_id": 6345065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25c91b052595a63efdde533f7800c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Rabia", "link": "https://stackoverflow.com/users/6345065/rabia"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1561655869, "post_id": 56792904, "comment_id": 100146301, "body": "in my code it was not commented, above i have added how i am adding source and resource files, but still issue appears."}], "owner": {"reputation": 13, "user_id": 6345065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25c91b052595a63efdde533f7800c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Rabia", "link": "https://stackoverflow.com/users/6345065/rabia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561653524, "creation_date": 1561644470, "last_edit_date": 1561653524, "question_id": 56792904, "link": "https://stackoverflow.com/questions/56792904/the-podspec-specification-does-not-validate", "title": "The `podspec` specification does not validate", "body": "<blockquote>\n  <p>ERROR | [iOS] unknown: Encountered an unknown error (Unable to find other source ref for /private/var/folders/bb/z6vn13c50099chk1ff861s8m0000gn/T/CocoaPods-Lint-20190627-13964-tnz1yj-Vboard/Pods/Vboard/VboardFramework/Assets.xcassets/30x30.imageset/30x30.png for target Vboard.) during validation. [!] The <code>Vboard.podspec</code> specification does not validate. </p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/gK9Hn.png%20\" width=\"500\"></p>\n\n<p>This image was in my repository but now i have deleted this image form everywhere, i dont know why this error is appearing. Here is my Podspec code: </p>\n\n<pre><code>    Pod::Spec.new do |s|\n # 1\n s.platform = :ios \ns.ios.deployment_target = '9.0'\n s.name = \"Vboard\"\n s.summary = \"VBoard. is video at your fingertips! Add videos from everywhere to your conversations anywhere.\"\n s.requires_arc = true s.version = \"1.0\" \n# 3 \ns.license = { :type =&gt; \"MIT\", :file =&gt; \"LICENSE\" } \n# 4 - Replace with your name and e-mail address \ns.author = { \"Rabia\" =&gt; \"rabia.dastgir@argonteq.com\" } \n# 5 - Replace this URL with your own GitHub page's URL (from the address bar) \ns.homepage = \"https://github.com/ArgonTech/Vboard\" \n# 6 - Replace this URL with your own Git URL from \"Quick Setup\" s.source = { :git =&gt; \"https://github.com/ArgonTech/Vboard.git\", :tag =&gt; \"#{s.version}\" } \n# 7 s.framework = \"UIKit\" s.dependency 'SDWebIma## \n</code></pre>\n\n<p>##ge', '~>3.7' s.dependency \"YoutubePlayer-in-WKWebView\", \"~> 0.2.0\" # 8 s.source_files = \"VboardFramework/<strong>/<em>\" # 9 s.resources = \"VboardFramework/</strong>/</em>.{jpeg,jpg,storyboard,xib,xcassets}\" end Please let me know, where i am wrong? I will be thankful to you.</p>\n"}, {"tags": ["ios", "objective-c", "nsdata", "xcode11", "ios13"], "comments": [{"owner": {"reputation": 62182, "user_id": 1445366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1073cfb4a1d76b3ac49e08eff6379a63?s=128&d=identicon&r=PG", "display_name": "Aaron Brager", "link": "https://stackoverflow.com/users/1445366/aaron-brager"}, "edited": false, "score": 2, "creation_date": 1561642299, "post_id": 56792123, "comment_id": 100138811, "body": "You shouldn\u2019t be using <code>description</code>, you should convert the data to a string properly."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1561642483, "post_id": 56792123, "comment_id": 100138941, "body": "It&#39;s not recommended to use <code>description</code>, not at all. Apple could decide to change the output, and tomorrow it might print <code>&lt;NSData: pointerAddress&gt; &lt;hexData&gt;</code> and break your code. Instead look how to convert NSData to Hex String: <a href=\"https://stackoverflow.com/questions/1305225/best-way-to-serialize-an-nsdata-into-a-hexadeximal-string\" title=\"best way to serialize an nsdata into a hexadeximal string\">stackoverflow.com/questions/1305225/&hellip;</a> etc."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1561642569, "post_id": 56792123, "comment_id": 100139012, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1305225/best-way-to-serialize-an-nsdata-into-a-hexadeximal-string\">Best way to serialize an NSData into a hexadeximal string</a>"}, {"owner": {"reputation": 635, "user_id": 4102523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Jpj5u.jpg?s=128&g=1", "display_name": "tww0003", "link": "https://stackoverflow.com/users/4102523/tww0003"}, "edited": false, "score": 0, "creation_date": 1561656537, "post_id": 56792123, "comment_id": 100146564, "body": "I highly doubt that calling <code>[data description]</code> is causing your <code>NSData</code> object to be nil. I&#39;d look more into where you&#39;re getting that <code>NSData</code> from and set a break point immediately after you&#39;re <code>NSData</code> object gets created to ensure that it actually exists and if it doesn&#39;t look into why the object is being set to nil."}], "answers": [{"tags": [], "owner": {"reputation": 5415, "user_id": 3066714, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b94ce75de58048089385c67f54beaddc?s=128&d=identicon&r=PG", "display_name": "xaphod", "link": "https://stackoverflow.com/users/3066714/xaphod"}, "is_accepted": false, "score": 1, "last_activity_date": 1568768857, "creation_date": 1568768857, "answer_id": 57983731, "question_id": 56792123, "link": "https://stackoverflow.com/questions/56792123/nsdata-description-returning-nil/57983731#57983731", "title": "NSDATA description returning nil", "body": "<p>See <a href=\"https://twitter.com/steipete/status/1174111017900503040\" rel=\"nofollow noreferrer\">https://twitter.com/steipete/status/1174111017900503040</a> - iOS 13 behavior (written at time of GM seed 2).</p>\n\n<p>As others have said, you should not be using [NSData description] this way.</p>\n"}], "owner": {"reputation": 47, "user_id": 3208393, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b315162a734624488804570130516dd6?s=128&d=identicon&r=PG&f=1", "display_name": "JC Castano", "link": "https://stackoverflow.com/users/3208393/jc-castano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1568768857, "creation_date": 1561642038, "last_edit_date": 1561731735, "question_id": 56792123, "link": "https://stackoverflow.com/questions/56792123/nsdata-description-returning-nil", "title": "NSDATA description returning nil", "body": "<p><code>NSData</code> description returning nil and making the <code>NSData</code> object nil. My code has stopped working and I would like to get this working again.</p>\n\n<p>If I compile my code in <code>Xcode</code> 10 it will get the <code>NSData</code> description fine. But if I use <code>Xcode</code> 11 it will give me nil as the description and it will make the <code>NSData</code> nil as well. I'm confused as to how this is happening. Is this because it's still a beta release? Is this kind of thing normal in beta releases? I just want to make sure my code still works before the new iOS 13 an iPAD OS 13 come out.</p>\n\n<p><code>NSString *result = [[data description] stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];</code></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "comments": [{"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "reply_to_user": {"reputation": 544, "user_id": 4689580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7XkJl.png?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/4689580/rajesh"}, "edited": false, "score": 0, "creation_date": 1561720616, "post_id": 56791700, "comment_id": 100165841, "body": "@Rajesh replace with?"}, {"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "reply_to_user": {"reputation": 544, "user_id": 4689580, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/7XkJl.png?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/4689580/rajesh"}, "edited": false, "score": 0, "creation_date": 1561721477, "post_id": 56791700, "comment_id": 100166184, "body": "isn&#39;t it looks same?"}], "answers": [{"comments": [{"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561642516, "post_id": 56791953, "comment_id": 100138975, "body": "objective c only please"}, {"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561642589, "post_id": 56791953, "comment_id": 100139030, "body": "have implemented code in both of them but not working, can&#39;t even check whether they are called or not."}, {"owner": {"reputation": 95, "user_id": 11170539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add13e12cb783be57bb1442b7760d5cf?s=128&d=identicon&r=PG", "display_name": "Friend", "link": "https://stackoverflow.com/users/11170539/friend"}, "reply_to_user": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561642795, "post_id": 56791953, "comment_id": 100139177, "body": "They are called , to check simply goto your app target  -&gt;Edit Scheme -&gt; Wait for executable to be launched. Add breakpoints in these methods and click on your notification"}, {"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561712886, "post_id": 56791953, "comment_id": 100162261, "body": "when to launch the app. App is closed, then push received, then tap on notification panel. So, when to launch the app."}, {"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561712970, "post_id": 56791953, "comment_id": 100162301, "body": "First, please let me know is the possible to redirect in app to any screen from notification tap when app closed?"}, {"owner": {"reputation": 95, "user_id": 11170539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add13e12cb783be57bb1442b7760d5cf?s=128&d=identicon&r=PG", "display_name": "Friend", "link": "https://stackoverflow.com/users/11170539/friend"}, "reply_to_user": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1561713607, "post_id": 56791953, "comment_id": 100162610, "body": "When user clicks on notification then ,if your app is not running it will launch your app and you will get the control in designated push notification delegate method. Then using the data in notification playload/dictionary , you can open any controller of your choice. Wanna see it in action download &quot;The tribune&quot; ios app"}], "tags": [], "owner": {"reputation": 95, "user_id": 11170539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/add13e12cb783be57bb1442b7760d5cf?s=128&d=identicon&r=PG", "display_name": "Friend", "link": "https://stackoverflow.com/users/11170539/friend"}, "is_accepted": false, "score": 1, "last_activity_date": 1561642170, "last_edit_date": 1561642170, "creation_date": 1561641540, "answer_id": 56791953, "question_id": 56791700, "link": "https://stackoverflow.com/questions/56791700/how-to-redirect-to-particular-view-controller-from-push-notification-when-app-is/56791953#56791953", "title": "How to redirect to particular view controller from push notification when app is in terminated mode", "body": "<pre><code>@available(iOS 10.0, *)\nfunc userNotificationCenter(_ center: UNUserNotificationCenter, willPresent notification: UNNotification, withCompletionHandler completionHandler: @escaping (UNNotificationPresentationOptions) -&gt; Void) {\n\n// Called when App is in Foreground // Using the data received in the notification you can call the desired view controller\n\n    completionHandler([.alert, .badge, .sound])\n}\n</code></pre>\n\n<p>and,</p>\n\n<pre><code>@available(iOS 10.0, *)\nfunc userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -&gt; Void) {\n\n// Called when App is not in  Foreground // Using the data received in the notification you can call the desired view controller\n    completionHandler()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561753113, "last_edit_date": 1561753113, "creation_date": 1561737756, "answer_id": 56810005, "question_id": 56791700, "link": "https://stackoverflow.com/questions/56791700/how-to-redirect-to-particular-view-controller-from-push-notification-when-app-is/56810005#56810005", "title": "How to redirect to particular view controller from push notification when app is in terminated mode", "body": "<p>You should do it both in didFinishLaunchingWithOptions and didReceiveRemoteNotification, they are called at different times.  The first is called when the app is completely closed when the notification is clicked, the second is called when the app is open and in use.</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    if (launchOptions != nil)\n    {\n        NSDictionary *dictionary = [launchOptions objectForKey:UIApplicationLaunchOptionsRemoteNotificationKey];\n        if (dictionary != nil)\n        {\n\n            self.animal_id = [dictionary objectForKey:@\"animal_id\"];\n            self.notificationText = [dictionary objectForKey:@\"alert\"];\n            self.soundFile = [dictionary objectForKey:@\"sound\"];\n\n            if ([self.animal_id length] &gt; 0) {\n\n                NSInteger numberOfBadges = [UIApplication sharedApplication].applicationIconBadgeNumber;\n                numberOfBadges -=1;\n\n                if (numberOfBadges &lt; 0) {\n                    numberOfBadges = 0;\n                }\n\n                [[UIApplication sharedApplication] setApplicationIconBadgeNumber:numberOfBadges];\n\n                doNotShowAlert = YES;\n                [self showPetDetails:self.animal_id];\n            } else {\n                doNotShowAlert = NO;\n            }\n\n        }\n\n    }\n\n    return YES;\n}\n</code></pre>\n\n<p>And Here:</p>\n\n<pre><code>-(void)application:(UIApplication *)app didReceiveRemoteNotification:(NSDictionary *)userInfo\n{\n\n    NSInteger numberOfBadges = [UIApplication sharedApplication].applicationIconBadgeNumber;\n    numberOfBadges -=1;\n\n    if (numberOfBadges &lt; 0) {\n        numberOfBadges = 0;\n    }\n\n    [[UIApplication sharedApplication] setApplicationIconBadgeNumber:numberOfBadges];\n\n    self.animal_id  = [userInfo objectForKey:@\"animal_id\"];\n\n    NSDictionary *aps = [userInfo objectForKey:@\"aps\"];\n\n    self.notificationText = [aps objectForKey:@\"alert\"];\n    self.soundFile = [aps objectForKey:@\"sound\"];\n\n   [self showPetDetails:self.animal_id];\n}\n</code></pre>\n\n<p>showPetDetails goes out to the database to get the detail information to display.  When it has it, it calls another method to display the detail view:</p>\n\n<pre><code>PetDetailViewController *notificationController = [self.rootNavigationController.storyboard instantiateViewControllerWithIdentifier:@\"petdetail\"];\nnotificationController.petDetail = petDetail;\nnotificationController.currentImage = nil;\n\n[self.rootNavigationController pushViewController:notificationController animated:YES];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1340, "user_id": 3611084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f63qi.jpg?s=128&g=1", "display_name": "NSDumb", "link": "https://stackoverflow.com/users/3611084/nsdumb"}, "is_accepted": false, "score": 1, "last_activity_date": 1561739469, "creation_date": 1561739469, "answer_id": 56810369, "question_id": 56791700, "link": "https://stackoverflow.com/questions/56791700/how-to-redirect-to-particular-view-controller-from-push-notification-when-app-is/56810369#56810369", "title": "How to redirect to particular view controller from push notification when app is in terminated mode", "body": "<p>I did something very recently, but it's in <code>Swift</code> but should be very similar if you want to do this in OC.</p>\n\n<p><strong>Hint:</strong> <code>didReceiveRemoteNotification</code>  will not get called if your app is terminated, the only method that gets called is <code>didFinishLaunchingWithOptions</code></p>\n\n<p>Inside the <code>didFinishLaunchingWithOptions</code> you can do something like this</p>\n\n<pre><code>if let launchOpts = launchOptions as [UIApplication.LaunchOptionsKey: Any]? {\n            if let notificationPayload = launchOpts[UIApplication.LaunchOptionsKey.remoteNotification] as? NSDictionary {\n\n                 let apsBody = notificationPayload[\"aps\"] as? NSDictionary\n                 if(apsBody != nil){\n                 // here you can either read value from the `apsBody` dictionary \n                //OR just push the respective controller you want to push\n                 }\n            }\n        }else{\n           //go with the regular flow\n        }\n</code></pre>\n\n<p>Do know this when your app is terminated you have no instance of <code>navigationController</code> so you might want to make sure you have an instance of a navigation controller to push your view.</p>\n\n<p>Hope that helps</p>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 701797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qojlb.jpg?s=128&g=1", "display_name": "Michael Henry", "link": "https://stackoverflow.com/users/701797/michael-henry"}, "is_accepted": false, "score": 0, "last_activity_date": 1561740113, "creation_date": 1561740113, "answer_id": 56810504, "question_id": 56791700, "link": "https://stackoverflow.com/questions/56791700/how-to-redirect-to-particular-view-controller-from-push-notification-when-app-is/56810504#56810504", "title": "How to redirect to particular view controller from push notification when app is in terminated mode", "body": "<p>When the app has killed, You can find the push notification payload from the <code>launchOptions</code></p>\n\n<p>Here is the reference for more info: \n<a href=\"https://developer.apple.com/documentation/uikit/uiapplication/launchoptionskey/1622967-remotenotification\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiapplication/launchoptionskey/1622967-remotenotification</a></p>\n"}], "owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1561753113, "creation_date": 1561640715, "question_id": 56791700, "link": "https://stackoverflow.com/questions/56791700/how-to-redirect-to-particular-view-controller-from-push-notification-when-app-is", "title": "How to redirect to particular view controller from push notification when app is in terminated mode", "body": "<p>I need to redirect the app to particular view controller from push notification received. But yet, i am not able to get which delegate method will be called. Please guide.</p>\n\n<p>Below is the code i have tried so far. i have tried in didFinishLaunchingWithOptions but doesn't working.</p>\n\n<pre><code> if (launchOptions) { //launchOptions is not nil\n    NSDictionary *userInfo = [launchOptions valueForKey:UIApplicationLaunchOptionsRemoteNotificationKey];\n    NSDictionary *apsInfo = [userInfo objectForKey:@\"aps\"];\n\n    if (apsInfo) { //apsInfo is not nil\n        [self performSelector:@selector(notificationClickedInNotificationPanel:)\n                   withObject:userInfo\n                   afterDelay:1];\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11708704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca043436b6894323622ce7088b7b95f3?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/11708704/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1561728682, "creation_date": 1561728682, "answer_id": 56807892, "question_id": 56791537, "link": "https://stackoverflow.com/questions/56791537/how-to-draw-the-text-exactly-the-same-as-what-they-are-in-the-nstextview/56807892#56807892", "title": "how to draw the text exactly the same as what they are in the NSTextView", "body": "<p>i have found the answer.<br>\n[string drawAtPoint:point] - uses NSTypesetterBehavior_10_2_WithCompatibility, but NSTextView uses NSTypesetterLatestBehavior by default.</p>\n\n<p>i use the code bellow to solve the problem:</p>\n\n<pre><code>[[textView layoutManager] setTypesetterBehavior:NSTypesetterBehavior_10_2_WithCompatibility];\n</code></pre>\n\n<p>set the TypesetterBehavier the same as NSString draw functions, then the problem disapears.</p>\n\n<p>the origin link is here:</p>\n\n<p><a href=\"https://zachwaugh.com/posts/nstextview-and-nsstring-differences-in-text-rendering\" rel=\"nofollow noreferrer\">https://zachwaugh.com/posts/nstextview-and-nsstring-differences-in-text-rendering</a></p>\n\n<p>so the last code is:</p>\n\n<pre><code>    NSTextView* textView = [[NSTextView alloc]init];\n    [[self contentView] addSubview:textView positioned:NSWindowAbove relativeTo:myView];\n    [textView setAutoresizingMask:NSViewWidthSizable];\n    [textView setMinSize:NSMakeSize(25, 25)];\n    [textView setMaxSize:NSMakeSize(FLT_MAX, FLT_MAX)];\n    [textView setDrawsBackground:NO];\n\n    [[textView textContainer] setContainerSize:NSMakeSize(FLT_MAX, FLT_MAX)];\n    [[textView textContainer] setWidthTracksTextView:NO];\n\n    [textView setVerticallyResizable:YES];\n    [textView setHorizontallyResizable:YES];\n    [textView setTextColor:[NSColor redColor]]; \n    [textView setFrame: NSMakeRect(200, 200, 25, 25)];  //the textView will auto resize when typing\n    [textView setFont:[NSFont fontWithName:@\"Arial\" size:16.0f];\n    [textView setHidden:NO];\n    [[textView layoutManager] setTypesetterBehavior:NSTypesetterBehavior_10_2_WithCompatibility];\n</code></pre>\n\n<p>and drawing code:</p>\n\n<pre><code>    NSRect rct = textView.frame;\n    [textView setHidden: YES];\n    NSAttributedString textDraw = textView.attributedString;        \n    [textDraw drawInRect:rct];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11708704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca043436b6894323622ce7088b7b95f3?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/11708704/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561728682, "creation_date": 1561640175, "last_edit_date": 1561649078, "question_id": 56791537, "link": "https://stackoverflow.com/questions/56791537/how-to-draw-the-text-exactly-the-same-as-what-they-are-in-the-nstextview", "title": "how to draw the text exactly the same as what they are in the NSTextView", "body": "<p>I used <code>NSTextView</code> for text editing, setting font color and size, without set <code>NSParagraphStyle</code>.\nNow I want to hide <code>NStextView</code> and take out <code>NSString</code> or <code>NSAttributedString</code> from <code>NSTextView</code> and draw it on the <code>NSView</code> behind the <code>NSTextView</code> object.\nI want the rendered text to be exactly the same as in <code>NSTextView</code>, including fonts, word spacing, line height, line spacing.</p>\n\n<p>What methods should be used to do this?</p>\n\n<p>My current approach is as follows, but the effect is not good.\nLine height is not consistent with that in <code>NSTextView</code>. There is also a problem with other details.</p>\n\n<pre><code>NSTextView* textView = [[NSTextView alloc]init];\n        [[self contentView] addSubview:textView positioned:NSWindowAbove relativeTo:myView];\n        [textView setAutoresizingMask:NSViewWidthSizable];\n        [textView setMinSize:NSMakeSize(25, 25)];\n        [textView setMaxSize:NSMakeSize(FLT_MAX, FLT_MAX)];\n        [textView setDrawsBackground:NO];\n\n    [[textView textContainer] setContainerSize:NSMakeSize(FLT_MAX, FLT_MAX)];\n    [[textView textContainer] setWidthTracksTextView:NO];\n\n    [textView setVerticallyResizable:YES];\n    [textView setHorizontallyResizable:YES];\n    [textView setTextColor:[NSColor redColor]]; \n    [textView setFrame: NSMakeRect(200, 200, 25, 25)];  //the textView will auto resize when typing\n    [textView setFont:[NSFont fontWithName:@\"Arial\" size:16.0f];\n    [textView setHidden:NO];\n</code></pre>\n\n<p>//after typing, i will hide the textView and draw the attributedString in myView's drawInRect function. </p>\n\n<pre><code>    NSRect rct = textView.frame;\n    [textView setHidden: YES];\n    NSMutableAttributedString *textDraw = [[NSMutableAttributedString alloc] initWithAttributedString: textView.attributedString];\n    //i get the defaultParagraphStyle to set to NSMutableAttributedString\n    [textDraw setAttributes:textView.defaultParagraphStyle range:NSMakeRange(0, textDraw.length)];\n\n    NSMutableDictionary *md = [NSMutableDictionary dictionary];\n    [md setObject:[NSColor redColor] forKey:NSForegroundColorAttributeName];            \n    [textDraw setAttributes:md range:NSMakeRange(0, textDraw.length)];\n\n    [textDraw drawInRect:rct];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1561638624, "post_id": 56791010, "comment_id": 100136354, "body": "There&#39;s no photo in the question (?)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11630206"}, "reply_to_user": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1561638719, "post_id": 56791010, "comment_id": 100136424, "body": "@MatteoPacini There is  link &quot;XIB&quot; after code :)"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1561639341, "post_id": 56791010, "comment_id": 100136841, "body": "What you are seeing is by design. Easiest way to avoid that (since you&#39;re using a custom cell anyway) is to use a <code>UIImageView</code> with your own selected / unselected checkmark images instead of the <code>.accessoryType</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11630206"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1561639640, "post_id": 56791010, "comment_id": 100137026, "body": "@DonMag mm ok I understood the problem. how can i shine? do I have to work on the costraints?"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1561641119, "post_id": 56791010, "comment_id": 100138027, "body": "@Stefano -- are you currently using a custom cell, or a standard cell? If custom, can you show an image of your prototype cell?"}], "owner": {"user_type": "does_not_exist", "display_name": "user11630206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561638945, "creation_date": 1561638455, "last_edit_date": 1561638945, "question_id": 56791010, "link": "https://stackoverflow.com/questions/56791010/resize-content-tableview-custom-obj-c", "title": "resize content tableview custom obj c", "body": "<p>I have to solve this problem, as you can see from the photo.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V7EsZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V7EsZl.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I click on one of the two lines, the icon pops up and the <code>label</code> and <code>imageView</code> gets smaller. </p>\n\n<p>I must be able to select and deselect without the content being reduced.</p>\n\n<p>I'm trying with <code>sizeToFit</code> but without success...</p>\n\n<p>The other thing is that I use the custom .xib in this way</p>\n\n<pre><code>-(MultiIbanTableCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    NSString *idCell = @\"MultiIbanTableCell\";\n\n    MultiIbanTableCell *cell;\n    DtoInstrument *account = (DtoInstrument *)[self.bankSelected.dtoBank.instruments objectAtIndex:indexPath.row];\n    cell = [tableView dequeueReusableCellWithIdentifier:idCell];\n\n    if (cell) {\n        [cell setBankCellWithBankData:account];\n    }\n    else {\n        cell = [MultiIbanTableCell getBankCellWithBankData:account];\n\n    }\n\n    [cell.logoImage sd_setImageWithURL:[NSURL URLWithString:self.bankSelected.logo_search]\n                      placeholderImage:nil\n                             completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) {\n                             }];\n\n    cell.selectionStyle = UITableViewCellSelectionStyleNone;\n    cell.textLabel.adjustsFontSizeToFitWidth = YES;\n    cell.contentView.sizeToFit;\n\n    return cell;\n}\n\n- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n    //link store vuoto\n    [tableView cellForRowAtIndexPath:indexPath].accessoryType = UITableViewCellAccessoryCheckmark;\n    self.selectedInstrument = (DtoInstrument *)[self.bankSelected.dtoBank.instruments objectAtIndex:indexPath.row];\n    self.confirmButton.enabled = YES;\n    tableView.sizeToFit;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "deprecated"], "answers": [{"tags": [], "owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "is_accepted": false, "score": 0, "last_activity_date": 1565443086, "creation_date": 1565443086, "answer_id": 57442512, "question_id": 56790974, "link": "https://stackoverflow.com/questions/56790974/how-to-treat-deprecations-as-errors-based-on-their-message-in-xcode/57442512#57442512", "title": "How to treat deprecations as errors based on their message in Xcode?", "body": "<p>I have a script run at the build phase which I think will do what you want called 'todoToWarning.sh' :</p>\n\n<pre><code>TAGS=\"TODO:|FIXME:\"\necho \"searching ${SRCROOT} for ${TAGS}\"\nfind \"${SRCROOT}\" \\( -name \"*.h\" -or -name \"*.m\" \\) -print0 | xargs -0 egrep --with-filename --line-number --only-matching \"($TAGS).*\\$\" | perl -p -e \"s/($TAGS)/ warning: \\$1/\"\n</code></pre>\n\n<p>This tags all my \"TODO:\" as Warnings in Xcode. So simply replace the TAGS with your identifiers and change the 'warning' to 'error' on the last line. Then add the \"Run Script\" to your build phase and build the project!</p>\n"}], "owner": {"reputation": 4147, "user_id": 1015049, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/42b938253f502e32bef8642c2d61cf17?s=128&d=identicon&r=PG", "display_name": "raistlin", "link": "https://stackoverflow.com/users/1015049/raistlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565443086, "creation_date": 1561638316, "question_id": 56790974, "link": "https://stackoverflow.com/questions/56790974/how-to-treat-deprecations-as-errors-based-on-their-message-in-xcode", "title": "How to treat deprecations as errors based on their message in Xcode?", "body": "<p>I was wondering if I can treat a deprecation with a specific message as an error? Say I'm trying to cut out some part of the codebase so I added <code>DEPRECATED_MSG_ATTRIBUTE(\"my custom message\")</code>. Now I'd like to treat only these custom deprecations as errors.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "memory-leaks"], "comments": [{"owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1561633571, "post_id": 56788726, "comment_id": 100133494, "body": "You should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the leaking code within the question, so we might be able to help."}, {"owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "reply_to_user": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1561633691, "post_id": 56788726, "comment_id": 100133570, "body": "That&#39;s the problem. I have no idea where this leak is coming from"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1561650177, "post_id": 56788726, "comment_id": 100143789, "body": "Can you at least post the relevant parts from the owner class, in a compilable form, then?"}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1561901258, "post_id": 56788726, "comment_id": 100202697, "body": "Please show the obj-c source relevant for <code>RPScreenRecorder.shared().delegate = self</code>"}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1590158252, "last_edit_date": 1590158252, "creation_date": 1590157215, "answer_id": 61957113, "question_id": 56788726, "link": "https://stackoverflow.com/questions/56788726/memory-leak-with-swift-object-used-from-objc/61957113#61957113", "title": "Memory leak with swift object used from ObjC", "body": "<p>If the graph is showing this object without any strong references (i.e. no arrow pointing to it), the problem is probably not this Swift code, but rather the manual reference counting in the Objective-C code. </p>\n\n<p>There are a few things you can do to diagnose this:</p>\n\n<ol>\n<li><p>Use the static analyzer (<kbd>shift</kbd>+<kbd>command</kbd>+<kbd>B</kbd> or \u201cProduct\u201d \u00bb \u201cAnalyze\u201d), which is surprisingly good at analyzing the memory use patterns in Objective-C manual retain counting code.</p></li>\n<li><p>Often the malloc stack feature can be helpful (<kbd>command</kbd>+<kbd>&lt;</kbd> or \u201cProduct\u201d \u00bb \u201cScheme\u201d \u00bb \u201cEdit Scheme...\u201d and then go to \u201cRun\u201d \u00bb \u201cDiagnostics\u201d and check \u201cMalloc Stack\u201d). If you do this, then the debug graph will also show you precisely where the object was instantiated (in case there might be some confusion about where the object was instantiated.)</p></li>\n<li><p>The \u201cAllocations\u201d tool in Instruments can show you the full malloc/retain/release history of the object. So fire up Instruments (<kbd>command</kbd>+<kbd>i</kbd> or \u201cProduct Profile\u201d), choose the \u201cLeaks\u201d instrument (which brings in the \u201cAllocations\u201d tool, too), start recording, exercise the app, stop recording, and now you can analyze the allocations related to this object. For example, if the Object was called <code>Foo</code>, you\u2019d search for that in the search bar at the bottom of the screen. When you find <code>Foo</code> allocations, you can tap the little arrow next to it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WpbEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WpbEz.png\" alt=\"enter image description here\"></a></p>\n\n<p>That will show you the list of allocations for that type, and you can again click on the little arrow next to the memory address to see the details:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SUUcH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SUUcH.png\" alt=\"enter image description here\"></a></p>\n\n<p>That shows you every allocation, retain, and release. From that, you can diagnose where the additional <code>retain</code> or where the missing <code>release</code> is. </p>\n\n<p>In my example, I can see that I created it in <code>viewDidLoad</code>, that <code>Foo</code> did its own balanced <code>retain</code> and <code>release</code>, but that there is no final <code>release</code> in <code>dealloc</code>. Your scenario will likely be different, but this shows how you can diagnose what\u2019s going on.</p></li>\n</ol>\n"}], "owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1590158252, "creation_date": 1561630107, "last_edit_date": 1590157257, "question_id": 56788726, "link": "https://stackoverflow.com/questions/56788726/memory-leak-with-swift-object-used-from-objc", "title": "Memory leak with swift object used from ObjC", "body": "<p>I have a swift object that is instantiated from and Objective C class that does not use ARC. It is instantiated from the init and in the dealloc method is release it (it's stored in a @property so I send release to it's backing variable). However in the memory graph I see that whenever I instantiate this object (it's used whenever a users accesses a screen in the app) it never gets released. It just appears as a lone object in the memory graph. I saw that inside it it was creating a retain cycle in a closure but I made it weak there yet the problem persists.\nAny suggestions on how to further debug this issue? </p>\n\n<p>The only coulprit I could think of was this closure, but it uses weak self now, yet the leak persists:</p>\n\n<pre><code>var observerToken : NSObjectProtocol?\n\n@objc public override init() {\n    self.accessToken = \"\"\n\n    super.init()\n    RPScreenRecorder.shared().delegate = self\n\n    if #available(iOS 12.0, *) {\n        self.observerToken = NotificationCenter.default.addObserver(forName: UIScreen.capturedDidChangeNotification, object: UIScreen.main, queue: OperationQueue.main) { [weak self] (notification)  in\n\n            guard let strongSelf = self else { return }\n            if strongSelf.broadcastPickerView != nil &amp;&amp; strongSelf.screenTrack == nil {\n                let isCaptured = UIScreen.main.isCaptured\n\n                strongSelf.updateScreenSharingIcon(screenIsShared: isCaptured)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 0, "creation_date": 1563951759, "post_id": 56788590, "comment_id": 100865938, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47457127/is-there-a-way-to-get-iphone-chargers-information-in-ios-10-using-private-api\">Is there a way to get iPhone charger&#39;s information in iOS 10+ using private API?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 242, "user_id": 4827148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6253f8ba95fbbd1f818fffa1683e1e2f?s=128&d=identicon&r=PG&f=1", "display_name": "Abilash Bansal", "link": "https://stackoverflow.com/users/4827148/abilash-bansal"}, "edited": false, "score": 0, "creation_date": 1564038923, "post_id": 57193396, "comment_id": 100901071, "body": "I have already checked into this library. It is using IOKit which is private API and also it doesn&#39;t provide charging status for iOS 12"}], "tags": [], "owner": {"reputation": 458, "user_id": 4323101, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7a69d904acf479ab91a68a6cf46dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "The1993", "link": "https://stackoverflow.com/users/4323101/the1993"}, "is_accepted": false, "score": 0, "last_activity_date": 1564021056, "creation_date": 1564021056, "answer_id": 57193396, "question_id": 56788590, "link": "https://stackoverflow.com/questions/56788590/how-to-get-device-charging-type-in-ios-app/57193396#57193396", "title": "How to get device charging type in iOS app?", "body": "<p>Have a look at this library on GitHub,\n<a href=\"https://github.com/eldade/EEIOKitListener\" rel=\"nofollow noreferrer\">https://github.com/eldade/EEIOKitListener</a>.</p>\n\n<p>It provides a lot of information related to charging.</p>\n"}], "owner": {"reputation": 242, "user_id": 4827148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6253f8ba95fbbd1f818fffa1683e1e2f?s=128&d=identicon&r=PG&f=1", "display_name": "Abilash Bansal", "link": "https://stackoverflow.com/users/4827148/abilash-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1564021056, "creation_date": 1561629551, "last_edit_date": 1563951525, "question_id": 56788590, "link": "https://stackoverflow.com/questions/56788590/how-to-get-device-charging-type-in-ios-app", "title": "How to get device charging type in iOS app?", "body": "<p>I need to get the type of charging method used to charge the device in my application (e.g. if device is getting charged using USB or wireless charger)</p>\n\n<p>I am aware that we can know whether the device is being charged, but how can we get the method of charging?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "encoding", "character-encoding", "encode", "urlencode"], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561620164, "post_id": 56785890, "comment_id": 100125972, "body": "it&#39;s not work perfectly. it&#39;s return same &#39; &#239; &#39; , not return unicode. basically i want to convert latin character into unicode."}, {"owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561625275, "post_id": 56785890, "comment_id": 100128690, "body": "thanks, it work fine. But my actual requirement is that if my string is &#39;This &#239;s &#226; ball&#39; in that case currently i get &#39;This \\357s \\342 ball&#39; using my above encoding logic but i want to get &#39;This \\u00EFs \\u00E2 ball&#39; . please help me if you have any solution"}, {"owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "reply_to_user": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561626071, "post_id": 56785890, "comment_id": 100129219, "body": "Plz check it now. Hope it helps man. You can change this part if (numVal&gt;&#39;z&#39;) as your requirement"}, {"owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561627707, "post_id": 56785890, "comment_id": 100130127, "body": "Nice, it&#39;s work perfect. But it will return &#39;\\U&#39; instead of &#39;\\u&#39;. please correct it if you have any solution."}, {"owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "reply_to_user": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561628317, "post_id": 56785890, "comment_id": 100130513, "body": "Corrected . Plz check."}, {"owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1561630525, "post_id": 56785890, "comment_id": 100131820, "body": "Thanks a lot. if you have any other solution without for loop then please help me"}], "tags": [], "owner": {"reputation": 963, "user_id": 8717854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3d320496454bb03ebb5b82bfdd46422?s=128&d=identicon&r=PG&f=1", "display_name": "lazyTank", "link": "https://stackoverflow.com/users/8717854/lazytank"}, "is_accepted": true, "score": 1, "last_activity_date": 1561628295, "last_edit_date": 1561628295, "creation_date": 1561619798, "answer_id": 56785890, "question_id": 56784912, "link": "https://stackoverflow.com/questions/56784912/how-to-encode-%c3%af-letter-into-unicode-u00ef-in-objective-c/56785890#56785890", "title": "How to Encode &#39; &#239; &#39; letter into unicode &#39; \\u00EF &#39; in objective-c?", "body": "<p>Use NSUTF8StringEncoding instead of NSNonLossyASCIIStringEncoding</p>\n\n<pre><code>NSData *data = [StrToEncode dataUsingEncoding:NSUTF8StringEncoding];\nNSString *text = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<blockquote>\n  <p>Updated:unicode str printing</p>\n</blockquote>\n\n<pre><code>NSString * a = @\"This \u00efs \u00e2 ball\";\nNSMutableString * finalStr = [[NSMutableString alloc] initWithString:@\"\"];\nfor (int i=0; i&lt;a.length; i++) {\n    unichar ch = [a characterAtIndex:i];\n    int numVal = (int)ch;\n\n    if (numVal&gt;'z') {\n        [finalStr appendString:[NSString stringWithFormat:@\"\\\\u%@\",[[NSString stringWithFormat:@\"%04x\", ch] uppercaseString]]];\n    }else{\n        [finalStr appendString:[NSString stringWithFormat:@\"%c\", ch] ];\n    }\n\n\n}\nNSLog(@\"finalStr %@\",finalStr);\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 56785890, "answer_count": 1, "score": 0, "last_activity_date": 1561628295, "creation_date": 1561615793, "last_edit_date": 1561625595, "question_id": 56784912, "link": "https://stackoverflow.com/questions/56784912/how-to-encode-%c3%af-letter-into-unicode-u00ef-in-objective-c", "title": "How to Encode &#39; &#239; &#39; letter into unicode &#39; \\u00EF &#39; in objective-c?", "body": "<p>In my app I have to encode a string for Emoji using below code:</p>\n\n<pre><code>NSData *data = [StrToEncode dataUsingEncoding:NSNonLossyASCIIStringEncoding];\nNSString *text = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>Using above code when I encode <code>\u00ef</code> then get result <code>\\357</code> but I want Unicode <code>\\u00EF</code>.</p>\n\n<p>Entered string:-</p>\n\n<p>StrToEncode = \"This \u00efs \u00e2 ball\"</p>\n\n<p>Current output:-</p>\n\n<p>text = \"This \\357s \\342 ball\"</p>\n\n<p>Required output:-</p>\n\n<p>text = \"This \\u00EFs \\u00E2 ball\"</p>\n"}, {"tags": ["objective-c", "regex"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1561604889, "post_id": 56783045, "comment_id": 100121208, "body": "FYI - the call to <code>uppercasedString</code> is being done of the <code>@&quot;$1&quot;</code> literal before being passed as an argument to <code>withTemplate</code>. In other words, it&#39;s not what you need."}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 1, "last_activity_date": 1561605281, "creation_date": 1561605281, "answer_id": 56783403, "question_id": 56783045, "link": "https://stackoverflow.com/questions/56783045/regular-expression-substitution-problem-in-objective-c/56783403#56783403", "title": "Regular expression substitution problem in Objective-C", "body": "<p><code>stringByReplacingMatchesInString:options:range:withTemplate:</code> doesn't work like that, the type of the last argument is just <code>NSString</code> and the string you are passing is the result of the expression <code>@\"$1\".uppercaseString</code> \u2013\u00a0which is just <code>@\"$1\"</code>.</p>\n\n<p>A possible algorithm (pseudo code):</p>\n\n<pre><code>for NSTextCheckingResult *match in [regex matchesInString:... options:... range:...] do\n   extract the substring at match.range from modified string\n   uppercase it\n   replace the substring at match.range with uppercased result\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 911867, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/3c466b028b8e4a2eb191bb29476673c9?s=128&d=identicon&r=PG", "display_name": "Jeffery Jones", "link": "https://stackoverflow.com/users/911867/jeffery-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56783403, "answer_count": 1, "score": 1, "last_activity_date": 1561605281, "creation_date": 1561601848, "last_edit_date": 1561604717, "question_id": 56783045, "link": "https://stackoverflow.com/questions/56783045/regular-expression-substitution-problem-in-objective-c", "title": "Regular expression substitution problem in Objective-C", "body": "<p>Trying to capitalize all tags and running into trouble with substitution. Any idea why \"upperCaseString\" method isn't working?</p>\n\n<pre><code>NSError *error = nil;\nNSMutableString *stringToCap = [NSMutableString stringWithString:@\"&lt;kaboom&gt;stuff&lt;/kaboom&gt;\"];\nNSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@\"(&lt;/?[a-zA-Z].*?&gt;)\" options:NSRegularExpressionCaseInsensitive error:&amp;error];\nNSMutableString *modifiedString = [NSMutableString stringWithString:[regex stringByReplacingMatchesInString:stringToCap options:0 range:NSMakeRange(0, [stringToCap length]) withTemplate:@\"$1\".uppercaseString]];\n\nNSLog(@\"%@\", modifiedString);\n</code></pre>\n\n<p>Produces: <code>&lt;kaboom&gt;stuff&lt;/kaboom&gt;</code> when I expect <code>&lt;KABOOM&gt;stuff&lt;/KABOOM&gt;</code></p>\n"}]