[{"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1537409187, "post_id": 52413819, "comment_id": 91776443, "body": "I don&#39;t know if this is a reason, but the version with <code>run</code> could potentially be confusing if you&#39;d want to call the method <code>getString(int)</code> from the fragment itself. With <code>let</code> you have the <code>it</code> variable to help out understanding that the method being called belongs to the <code>Bundle</code> class."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1537467774, "post_id": 52413819, "comment_id": 91805789, "body": "No reason, they just like <code>it</code>. They aren&#39;t as fun in code review though. I&#39;d name it <code>.let { args -&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "edited": false, "score": 0, "creation_date": 1537390435, "post_id": 52413866, "comment_id": 91771863, "body": "they also return a value"}, {"owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "reply_to_user": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "edited": false, "score": 0, "creation_date": 1537412964, "post_id": 52413866, "comment_id": 91777228, "body": "Alright, technically yes, what I meant is the last value of the <i>lambda</i> isn&#39;t used. Like you use <code>let</code> or <code>run</code> if you want to do some operation and then &quot;return&quot; the last value of the block."}], "tags": [], "owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1537389558, "creation_date": 1537389558, "answer_id": 52413866, "question_id": 52413819, "link": "https://stackoverflow.com/questions/52413819/why-android-studio-uses-let-instead-of-run-when-creating-fragment/52413866#52413866", "title": "Why Android Studio uses let instead of run when creating Fragment", "body": "<p>FWIW, neither of these really make sense, since they both return a value.</p>\n\n<p>Since you don't want to return a value in this case:</p>\n\n<ul>\n<li>If you want to use <code>it</code>, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"nofollow noreferrer\"><code>also</code></a> instead of <code>let</code>.</li>\n<li>If you want to use the receiver, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> instead of <code>run</code>.</li>\n</ul>\n\n<p>And...no, I don't know why Android Studio would use <code>let</code> instead of <code>run</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "is_accepted": false, "score": 0, "last_activity_date": 1537393753, "last_edit_date": 1592644375, "creation_date": 1537393753, "answer_id": 52414635, "question_id": 52413819, "link": "https://stackoverflow.com/questions/52413819/why-android-studio-uses-let-instead-of-run-when-creating-fragment/52414635#52414635", "title": "Why Android Studio uses let instead of run when creating Fragment", "body": "<p>You saw those 'it' on let mate? This is the only thing that these two are different about. But, because of that, they have different uses. First of, on run, calling 'this' will point out to the object that called run. thus, primarily, all properties or methods that the object has will be called. As an example:</p>\n<pre><code>...\nmObject?.run {\n    hello();\n}\n...\n</code></pre>\n<p>This will call the hello method of the object. But, lets say its the same scenario but you want to call a function with the same name as the method of the object. As an example:</p>\n<pre><code>...\nfun hello() = print(&quot;not the hello from that object&quot;)\n...\nmObject?.run {\n    hello();\n}\n...\n</code></pre>\n<p>This will still work, but, you will still run the hello from the object. Which to as, when you use let, you could choose wether to use the method the object has or the function.\n<br/>\n<em><strong>P.S. run can run along on its own while let needs to be accessed from a variable etc.</strong></em></p>\n<h1>Bonus</h1>\n<p>There are two more to this option which are apply and also. Now, what differs these two from let and run? let and run can return themselves or anything else, or fairly non at all. While apply and also will always return the object used. And the counterpart of let is also and apply is run.</p>\n<h2>Second bonus</h2>\n<p>lets say you want to check if an object is null before using it, then set its properties that are not in the constructor.</p>\n<pre><code>var mObject: MObject = mObjectUndecided?.also {\n    // Do Something\n}\n</code></pre>\n<p>But, what if mObjectUndecided is null?</p>\n<pre><code>val mObjectUndecided: MObject? = null\nvar mObject: MObject = mObjectUndecided?.apply{\n    // Do Something\n} ?: run {\n    MObject().also {\n        // Do Something\n    }\n}\n</code></pre>\n<p>But, what if you need to call a function / variable that is the same as a mathod / property of the object?</p>\n<pre><code>val mObjectUndecided: MObject? = null\nvar mObject: MObject = mObjectUndecided?.let{\n    // Do Something\n    it // return it if its not null\n} ?: run {\n    MObject().also {\n        // Do Something\n    }\n}\n</code></pre>\n<p>But, what if MObject is constructed like this:</p>\n<pre><code>class MObject {\n    var name: String? = null\n    var mObjectNext: MObject? = null\n}\n</code></pre>\n<p>Then, you will have to nest it(run, let, apply, also). But, somewhere within the nest, you want to call an object from the higher heirarchy?</p>\n<pre><code>var mObject: MObject = mObjectUndecided?.let{ mObject1 -&gt;\n    // Do Something\n    mObject1.mObjectNext?.let { mObject2 -&gt;\n        // Do Something\n        mObject2.mObjectNext?.let { mObject3 -&gt;\n            // Do Something\n        }\n        // Do Something\n    }\n    // Do Something\n    it // return it if its not null\n} ?: run {\n    MObject().also {\n        // Do Something\n    }\n}\n</code></pre>\n<p><em><strong>P.P.S. there is another one called with, it doesn't matter enough for this context as i talked about the extension functions here, but it's something worth reading.</strong></em></p>\n"}], "owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1537393753, "creation_date": 1537389341, "question_id": 52413819, "link": "https://stackoverflow.com/questions/52413819/why-android-studio-uses-let-instead-of-run-when-creating-fragment", "title": "Why Android Studio uses let instead of run when creating Fragment", "body": "<p>Android Studio creates this code when you create a <code>Fragment</code> using File -> New -> Fragment</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n        param1 = it.getString(ARG_PARAM1)\n        param2 = it.getString(ARG_PARAM2)\n    }\n}\n</code></pre>\n\n<p>Isn't it better to use <code>run</code> on <code>arguments</code> since you can omit <code>it</code>? I know you use <code>let</code> for null-safety but <code>run</code> also gives you <code>Bundle</code>, not <code>Bundle?</code></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.run {\n        param1 = getString(ARG_PARAM1)\n        param2 = getString(ARG_PARAM2)\n    }\n}\n</code></pre>\n\n<p>Is there a particular reason why it uses <code>let</code> instead of <code>run</code>?</p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview"], "comments": [{"owner": {"reputation": 753, "user_id": 3522327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f2b8b81b6ecfb144182ed8fcc270ac8?s=128&d=identicon&r=PG", "display_name": "JediBurrell", "link": "https://stackoverflow.com/users/3522327/jediburrell"}, "edited": false, "score": 0, "creation_date": 1537392839, "post_id": 52413386, "comment_id": 91772713, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44777869/hide-show-bottomnavigationview-on-scroll\">Hide/Show bottomNavigationView on Scroll</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "is_accepted": false, "score": 0, "last_activity_date": 1537389576, "creation_date": 1537389576, "answer_id": 52413872, "question_id": 52413386, "link": "https://stackoverflow.com/questions/52413386/kotlin-hide-show-bottomnavigationview-on-scroll/52413872#52413872", "title": "Kotlin: Hide/show BottomNavigationView on scroll", "body": "<p>Jetbrains IDE can convert Java to Kotlin automatically when you paste the code there. Try to use Java code or try this <a href=\"https://stackoverflow.com/questions/44777869/hide-show-bottomnavigationview-on-scroll\">Hide/Show bottomNavigationView on Scroll</a></p>\n"}], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537389576, "creation_date": 1537387193, "question_id": 52413386, "link": "https://stackoverflow.com/questions/52413386/kotlin-hide-show-bottomnavigationview-on-scroll", "title": "Kotlin: Hide/show BottomNavigationView on scroll", "body": "<p>I have implemented a <strong>BottomNavigationView</strong> and I would like to hide the menu on scroll. </p>\n\n<p>In the MainActivity </p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_home -&gt; {\n                switchFragment(ActivitiesFragment.newInstance(), ActivitiesFragment.TAG)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_dashboard -&gt; {\n                switchFragment(FavoritesFragment.newInstance(), FavoritesFragment.TAG)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_notifications -&gt; {\n                switchFragment(MapFragment.newInstance(), MapFragment.TAG)\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n</code></pre>\n\n<p>My xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/navigation\"\n        android:layout_below=\"@+id/main\"/&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/navigation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"0dp\"\n        android:layout_marginStart=\"0dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/navigation\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>So far I have found how to implement the the functionality using java but I would like to know what would be the right process to implement this kind of animation.</p>\n\n<blockquote>\n  <p>Note: Android support version 27.1.1</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "dagger-2", "androidx"], "comments": [{"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1537548948, "post_id": 52413078, "comment_id": 91839141, "body": "Please file a bug to the Kotlin issue tracker: <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>."}, {"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "reply_to_user": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1537549119, "post_id": 52413078, "comment_id": 91839225, "body": "@yanex Chris Banes somehow did this. &gt; <a href=\"https://github.com/google/dagger/issues/1245#issuecomment-421694325\" rel=\"nofollow noreferrer\">github.com/google/dagger/issues/1245#issuecomment-421694325</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "is_accepted": true, "score": 2, "last_activity_date": 1537554270, "last_edit_date": 1537554270, "creation_date": 1537433135, "answer_id": 52420993, "question_id": 52413078, "link": "https://stackoverflow.com/questions/52413078/cannot-access-activitycompatapi23-kotlin-androidx-dagger-2-17/52420993#52420993", "title": "Cannot access ActivityCompatApi23 - Kotlin - AndroidX - Dagger 2.17", "body": "<ul>\n<li><p>First, set <code>databinding</code> to false, to see is there any resources/layout errors or not. (Which in my case, it was for the first error. Yes, there came other errors which I didn't paste it in the question anymore).  </p></li>\n<li><p>Set <code>multiDexEnabled true</code> in your app module's <code>build.gradle</code>, inside of <code>defaultConfig</code> scope (Or in <code>data</code> and <code>presentation</code> modules' <code>build.gradle</code> files if you're following a Clean Architecture, like me).  </p></li>\n<li><p>Add below snippet code to <code>data</code> and <code>presentation</code>'s <code>build.gradle</code> files:  </p>\n\n<pre><code>android {    \n...\ncompileOptions {\n    targetCompatibility 1.8\n    sourceCompatibility 1.8\n}\n</code></pre></li>\n<li><p>Don't forget to set <code>databinding</code> to true again.</p></li>\n<li>Change Build Gradle Tools version to <code>classpath 'com.android.tools.build:gradle:3.3.0-alpha11'</code></li>\n<li>Adding this line to your <code>local.properties</code> file: <code>org.gradle.jvmargs=-XX\\:MaxHeapSize\\=512m -Xmx512m</code>; Of course, according to your hardware config.</li>\n<li>Use Gradle distributation version upper than 4.4. Like: <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10-all.zip</code>. (Inside <code>gradle-wrapper.properties</code> file).</li>\n<li><p>Add below snippet code to your CustomMyApplication:  </p>\n\n<pre><code>override fun attachBaseContext(base: Context) {\n    super.attachBaseContext(base)\n    MultiDex.install(this)\n}\n</code></pre></li>\n<li><p>Add below lines to your <code>gradle.properties</code> file:  </p>\n\n<pre><code>android.useAndroidX=true\n# Automatically convert third-party libraries to use AndroidX\nandroid.enableJetifier=true\n</code></pre></li>\n<li>Change supportVersion key to <code>supportVersion = '1.0.0-rc02'//'1.0.0-alpha1'</code></li>\n<li><strong>Change daggerVersion key to</strong> <code>daggerVersion = '2.16'//2.17</code></li>\n<li>Change roomVersion key to <code>roomVersion = '2.0.0-alpha1'//'2.0.0-beta01'</code></li>\n</ul>\n\n<p>Sources:<br>\n<a href=\"https://github.com/google/dagger/issues/1245\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/1245</a><br>\n<a href=\"https://stackoverflow.com/questions/51459728/androidx-and-databinding\">Androidx and databinding</a><br>\n<a href=\"https://stackoverflow.com/a/41100670/421467\">https://stackoverflow.com/a/41100670/421467</a><br>\n<a href=\"https://stackoverflow.com/a/48531191/421467\">https://stackoverflow.com/a/48531191/421467</a><br>\n<a href=\"https://stackoverflow.com/a/49525685/421467\">https://stackoverflow.com/a/49525685/421467</a><br>\n<a href=\"https://developer.android.com/studio/build/multidex\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex</a><br>\n<a href=\"https://developer.android.com/topic/libraries/support-library/refactor\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/support-library/refactor</a><br>\n<a href=\"https://developer.android.com/topic/libraries/architecture/adding-components\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/adding-components</a><br>\n<a href=\"https://developer.android.com/jetpack/docs/release-notes#july_2_2018\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/release-notes#july_2_2018</a><br>\n<a href=\"https://github.com/JakeWharton/butterknife/issues/1270#issuecomment-388449463\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/butterknife/issues/1270#issuecomment-388449463</a></p>\n"}], "owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 52420993, "answer_count": 1, "score": 2, "last_activity_date": 1537554929, "creation_date": 1537385716, "last_edit_date": 1537554929, "question_id": 52413078, "link": "https://stackoverflow.com/questions/52413078/cannot-access-activitycompatapi23-kotlin-androidx-dagger-2-17", "title": "Cannot access ActivityCompatApi23 - Kotlin - AndroidX - Dagger 2.17", "body": "<p><strong>Short error log</strong>:  </p>\n\n<pre><code>&gt; :presentation:transformDataBindingWithDataBindingMergeArtifactsForDebug\n&gt; e: E:\\MVVM\\presentation\\build\\tmp\\kapt3\\stubs\\debug\\com\\example\\mvvm\\ui\\base\\BaseActivity.java:9: error: cannot access ActivityCompatApi23\npublic abstract class BaseActivity extends dagger.android.support.DaggerAppCompatActivity {\n                ^\n  class file for android.support.v4.app.ActivityCompatApi23 not found\ne: java.lang.IllegalStateException: failed to analyze: java.lang.AssertionError: annotation tree hasn't been attributed yet: @kotlin.Metadata(mv = {1, 1, 11}, bv = {1, 0, 2}, k = 1, d1 = {\"\\u0000\\f\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0002\\b&amp;\\u0018\\u00002\\u00020\\u0001B\\u0005\\u00a2\\u0006\\u0002\\u0010\\u0002\\u00a8\\u0006\\u0003\"}, d2 = {\"Lcom/example/mvvm/ui/base/BaseActivity;\", \"Ldagger/android/support/DaggerAppCompatActivity;\", \"()V\", \"presentation_debug\"})\n</code></pre>\n\n<p><strong>Libraries' verions</strong>:</p>\n\n<pre><code>ext{\nminSdkVersion = 14\ntargetSdkVersion = 28\nandroidCompileSdkVersion = 28\ntestInstrumentationRunner = \"android.support.test.runner.AndroidJUnitRunner\"\nandroidPluginVersion = '3.1.4'\nkotlinVersion = '1.2.70'\nsupportVersion = '1.0.0-alpha1'\ndaggerVersion = '2.17'\nroomVersion = '2.0.0-beta01'\nlifecycleVersion = '2.0.0-beta01'\nrxJavaVersion = '2.2.2'\nrxAndroidVersion = '2.1.0'\nsupportTest = '1.1.0-alpha1'\nmultidexVersion = '2.0.0'\n...\n}\n\nkotlin: \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:${kotlinVersion}\",\nrxJava: \"io.reactivex.rxjava2:rxjava:${rxJavaVersion}\",\nrxAndroid: \"io.reactivex.rxjava2:rxandroid:$rxAndroidVersion\",\nappCompat: \"androidx.appcompat:appcompat:$supportVersion\",\nmaterial: \"com.google.android.material:material:$supportVersion\",\nsupportv4: \"androidx.legacy:legacy-support-v4:$supportVersion\",\nappcompatv7: \"androidx.appcompat:appcompat:$supportVersion\",\nrecyclerview: \"androidx.recyclerview:recyclerview:$supportVersion\",\ncardview: \"androidx.cardview:cardview:$supportVersion\",\nannotation: \"androidx.annotation:annotation:$supportVersion\",\njavaxInject: \"javax.inject:javax.inject:$javaxInjectVersion\",\ndagger: \"com.google.dagger:dagger:${daggerVersion}\",\ndaggerAndroid: \"com.google.dagger:dagger-android:${daggerVersion}\",\ndaggerAndroidSupport: \"com.google.dagger:dagger-android-support:${daggerVersion}\",\ndaggerAndroidProcessor: \"com.google.dagger:dagger-android-    processor:${daggerVersion}\",\ndaggerCompiler: \"com.google.dagger:dagger-compiler:${daggerVersion}\",\nroom: \"androidx.room:room-runtime:$roomVersion\",\nroomCompiler: \"androidx.room:room-compiler:$roomVersion\",\nroomCommon: \"androidx.room:room-common:$roomVersion\",\nconstraintLayout: \"androidx.constraintlayout:constraintlayout:$constraintLayoutVersion\",\nmultidex: \"androidx.multidex:multidex:$multidexVersion\",\nlifecycleExtensions: \"androidx.lifecycle:lifecycle-extensions:$lifecycleVersion\",\nlifecycleCommon: \"androidx.lifecycle:lifecycle-common-java8:$lifecycleVersion\"\n...\n</code></pre>\n\n<p><strong>Android Studio version</strong>: 3.1.4  </p>\n\n<p><strong>BaseActivity</strong>:  </p>\n\n<pre><code>abstract class BaseActivity : DaggerAppCompatActivity()\n</code></pre>\n\n<p><strong>MyApplication</strong>:  </p>\n\n<pre><code>class MyApplication : DaggerApplication() {\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n\n        return DaggerAppComponent.builder().create(this)\n    }\n}\n</code></pre>\n\n<p><strong>AppComponent</strong>:  </p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    AndroidSupportInjectionModule::class,\n    ViewModelBuilder::class,\n    AppModule::class,\n    BaseModule::class\n])\ninterface AppComponent : AndroidInjector&lt;MyApplication&gt; {\n    @Component.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;MyApplication&gt;()\n}\n</code></pre>\n\n<p><strong>AppModule</strong>:  </p>\n\n<pre><code>@Module(includes = [NetModule::class, DbModule::class])\nabstract class AppModule {\n\n    @ApplicationContext\n    @Binds\n    abstract fun provideApplicationContext(myApplication: MyApplication): Context\n}\n</code></pre>\n\n<p><strong>Full error log</strong>:  </p>\n\n<pre>\n:presentation:transformDataBindingWithDataBindingMergeArtifactsForDebug\n> e: E:\\MVVM\\presentation\\build\\tmp\\kapt3\\stubs\\debug\\com\\example\\mvvm\\ui\\base\\BaseActivity.java:9: error: cannot access ActivityCompatApi23\npublic abstract class BaseActivity extends dagger.android.support.DaggerAppCompatActivity {\n                ^\n  class file for android.support.v4.app.ActivityCompatApi23 not found\ne: java.lang.IllegalStateException: failed to analyze: java.lang.AssertionError: annotation tree hasn't been attributed yet: @kotlin.Metadata(mv = {1, 1, 11}, bv = {1, 0, 2}, k = 1, d1 = {\"\\u0000\\f\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0002\\b&\\u0018\\u00002\\u00020\\u0001B\\u0005\\u00a2\\u0006\\u0002\\u0010\\u0002\\u00a8\\u0006\\u0003\"}, d2 = {\"Lcom/example/mvvm/ui/base/BaseActivity;\", \"Ldagger/android/support/DaggerAppCompatActivity;\", \"()V\", \"presentation_debug\"})\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:56)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:125)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:441)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:101)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1020)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:101)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1062)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1019)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:440)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.AssertionError: annotation tree hasn't been attributed yet: @kotlin.Metadata(mv = {1, 1, 11}, bv = {1, 0, 2}, k = 1, d1 = {\"\\u0000\\f\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0002\\b&\\u0018\\u00002\\u00020\\u0001B\\u0005\\u00a2\\u0006\\u0002\\u0010\\u0002\\u00a8\\u0006\\u0003\"}, d2 = {\"Lcom/example/mvvm/ui/base/BaseActivity;\", \"Ldagger/android/support/DaggerAppCompatActivity;\", \"()V\", \"presentation_debug\"})\n    at com.sun.tools.javac.util.Assert.error(Assert.java:133)\n    at com.sun.tools.javac.util.Assert.checkNonNull(Assert.java:118)\n    at com.sun.tools.javac.comp.Check.validateTypeAnnotation(Check.java:2745)\n    at com.sun.tools.javac.comp.Attr$TypeAnnotationsValidator.visitAnnotation(Attr.java:4484)\n    at com.sun.tools.javac.tree.JCTree$JCAnnotation.accept(JCTree.java:2317)\n    at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n    at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:57)\n    at com.sun.tools.javac.tree.TreeScanner.visitModifiers(TreeScanner.java:315)\n    at com.sun.tools.javac.tree.JCTree$JCModifiers.accept(JCTree.java:2343)\n    at com.sun.tools.javac.tree.TreeScanner.scan(TreeScanner.java:49)\n    at com.sun.tools.javac.comp.Attr$TypeAnnotationsValidator.visitClassDef(Attr.java:4566)\n    at com.sun.tools.javac.tree.JCTree$JCClassDecl.accept(JCTree.java:693)\n    at com.sun.tools.javac.comp.Attr.validateTypeAnnotations(Attr.java:4473)\n    at com.sun.tools.javac.code.TypeAnnotations$2.run(TypeAnnotations.java:142)\n    at com.sun.tools.javac.comp.Annotate.flush(Annotate.java:155)\n    at com.sun.tools.javac.comp.Annotate.enterDone(Annotate.java:129)\n    at com.sun.tools.javac.comp.Enter.complete(Enter.java:512)\n    at com.sun.tools.javac.comp.Enter.main(Enter.java:471)\n    at com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:982)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:47)\n    at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:27)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:213)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:178)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:95)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:105)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:366)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:120)\n    ... 30 more\n\n > :presentation:kaptDebugKotlin FAILED\n\n > FAILURE: Build failed with an exception.\n\n > * What went wrong:\nExecution failed for task ':presentation:kaptDebugKotlin'.\n> Internal compiler error. See log for more details\n</pre>\n\n<p>I've read all of related questions such as:  </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46928223/cannot-access-activitycompatapi23-class\">Cannot access ActivityCompatApi23 class</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45677543/cannot-acces-activitycompatapi23-when-trying-to-use-fragmentactivity\">Cannot acces ActivityCompatApi23 when trying to use FragmentActivity</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48072953/error59-8-error-cannot-access-activitycompatapi23-class-file-for-android-su?rq=1\">Error:(59, 8) error: cannot access ActivityCompatApi23 class file for android.support.v4.app.ActivityCompatApi23 not found</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51016661/cannot-access-activitycompatapi23-class-file\">cannot access ActivityCompatApi23 class file</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51463834/cannot-access-activitycompatapi23-class-file-for-activitycompatapi23-not-found\">cannot access ActivityCompatApi23 class file for ActivityCompatApi23 not found</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48072953/error59-8-error-cannot-access-activitycompatapi23-class-file-for-android-su\">Error:(59, 8) error: cannot access ActivityCompatApi23 class file for android.support.v4.app.ActivityCompatApi23 not found</a></li>\n<li>...</li>\n</ul>\n\n<p>All of them say that the support libraries' versions are not the same; Or the <code>compileSdkVersion</code> have to be <strong>28</strong>.  </p>\n\n<p>I've considered all of these but the error still exists!</p>\n\n<p>I think there is something wrong/missed with using <strong>androidx</strong>, <strong>kotlin</strong>, and <strong>dagger</strong>; But I'm not sure what it is.</p>\n"}, {"tags": ["java", "android", "kotlin", "spinner", "android-spinner"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1537384374, "post_id": 52412668, "comment_id": 91769156, "body": "Are you using a default spinner?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1537384611, "post_id": 52412668, "comment_id": 91769260, "body": "Swap the adapter to a new adapter with less elements. how to: <a href=\"https://stackoverflow.com/questions/5988447/spinner-delete-items\">stackoverflow.com/questions/5988447/spinner-delete-items</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 6315778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-L8XFud_X4/AAAAAAAAAAI/AAAAAAAAAD8/Vj0x_rE8MaE/photo.jpg?sz=128", "display_name": "junaid amjad", "link": "https://stackoverflow.com/users/6315778/junaid-amjad"}, "is_accepted": false, "score": -1, "last_activity_date": 1537384958, "creation_date": 1537384958, "answer_id": 52412917, "question_id": 52412668, "link": "https://stackoverflow.com/questions/52412668/how-to-hide-first-item-from-string-resources-file-and-display-in-a-spinner/52412917#52412917", "title": "How to hide first item from string resources file and display in a spinner", "body": "<p>Use spinner adapter to show the items you want to show in the dropdown.\n<a href=\"https://developer.android.com/guide/topics/ui/controls/spinner#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/controls/spinner#java</a></p>\n"}], "owner": {"reputation": 251, "user_id": 8898641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4c9285c2f5b467146006ca937a66043?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulrahman", "link": "https://stackoverflow.com/users/8898641/abdulrahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "closed_date": 1537387098, "answer_count": 1, "score": 0, "last_activity_date": 1537385727, "creation_date": 1537383909, "question_id": 52412668, "link": "https://stackoverflow.com/questions/52412668/how-to-hide-first-item-from-string-resources-file-and-display-in-a-spinner", "closed_reason": "Duplicate", "title": "How to hide first item from string resources file and display in a spinner", "body": "<p>How can I hide the first Item in a spinner?</p>\n\n<p>My entries:</p>\n\n<pre><code>string-array name=\"super_spinner\"&gt;\n        &lt;item&gt;Select&lt;/item&gt;\n        &lt;item&gt;1&lt;/item&gt;\n        &lt;item&gt;2&lt;/item&gt;\n        &lt;item&gt;3&lt;/item&gt;\n        &lt;item&gt;4&lt;/item&gt;\n        &lt;item&gt;5&lt;/item&gt;\n    &lt;/string-array&gt;\n</code></pre>\n\n<p>I want the spinner to show the first item but not when he opens the spinner options.</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537382901, "post_id": 52412104, "comment_id": 91768500, "body": "This looks like an incremental compilation bug, indeed. Does the problem persist if you upgrade to Kotlin 1.2.70 (the latest released version)?"}, {"owner": {"reputation": 123, "user_id": 138213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0fcb370803b3a070884c22c350358d?s=128&d=identicon&r=PG", "display_name": "Jim E-H", "link": "https://stackoverflow.com/users/138213/jim-e-h"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537392856, "post_id": 52412104, "comment_id": 91772719, "body": "I&#39;ll try it. It&#39;s definitely existed through a few Kotlin version updates, though I can&#39;t say exactly when it started."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 138213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0fcb370803b3a070884c22c350358d?s=128&d=identicon&r=PG", "display_name": "Jim E-H", "link": "https://stackoverflow.com/users/138213/jim-e-h"}, "edited": false, "score": 0, "creation_date": 1549492862, "post_id": 54542612, "comment_id": 95926183, "body": "Good thought, but there&#39;s only one function with that name. It seems to have gone away, but I can&#39;t say why. I have updated Android Studio, so that may have fixed it."}], "tags": [], "owner": {"reputation": 1929, "user_id": 4934446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3M2hK.jpg?s=128&g=1", "display_name": "J&#246;cker", "link": "https://stackoverflow.com/users/4934446/j%c3%b6cker"}, "is_accepted": false, "score": 2, "last_activity_date": 1549398880, "creation_date": 1549398880, "answer_id": 54542612, "question_id": 52412104, "link": "https://stackoverflow.com/questions/52412104/getting-conflicting-overloads-for-every-function-in-one-kotlin-file-whenever-i/54542612#54542612", "title": "Getting &quot;Conflicting overloads&quot; for every function in one Kotlin file whenever I change it", "body": "<p>This is normally happening, when you have two functions with the same names but different annotations.</p>\n\n<p>For Example:</p>\n\n<pre><code>@PrePersist\npublic fun loadExclusions(assetIds: List){\n}\n\n@PreUpdate\npublic fun loadExclusions(assetIds: List){\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 138213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a0fcb370803b3a070884c22c350358d?s=128&d=identicon&r=PG", "display_name": "Jim E-H", "link": "https://stackoverflow.com/users/138213/jim-e-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2788, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1549398880, "creation_date": 1537381604, "last_edit_date": 1537416314, "question_id": 52412104, "link": "https://stackoverflow.com/questions/52412104/getting-conflicting-overloads-for-every-function-in-one-kotlin-file-whenever-i", "title": "Getting &quot;Conflicting overloads&quot; for every function in one Kotlin file whenever I change it", "body": "<p>For one Kotlin file in my project, almost every time I make changes to it and rebuild, I get \"Conflicting overload\" messages for every function. There aren't two conflicting functions; each error message lists exactly the same function twice. If I do a clean build, it builds fine.</p>\n\n<blockquote>\n  <p>e: ContentApi.kt: (220, 1): Conflicting overloads: \n  public fun loadExclusions(assetIds: List): Unit defined in com.foo.bar in file ContentApi.kt, \n  public fun loadExclusions(assetIds: List): Unit defined in com.foo.bar in file ContentApi.kt</p>\n</blockquote>\n\n<p>Changes to other Kotlin files don't produce the same problem. I can create a function in another Kotlin file, build with no trouble, then cut and paste it into this file, and boom.</p>\n\n<p>Has anyone else seen something like this? My best guess is that it's some kind of bug with the compiled code cache where the newly compiled code doesn't replace the previous version, so they conflict with each other.</p>\n\n<p>Android Studio/Gradle version 3.2 RC 3\nKotlin version 1.2.61</p>\n"}, {"tags": ["java", "concurrency", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537382810, "post_id": 52411940, "comment_id": 91768448, "body": "Can you please show the code that calls the <code>extractTar</code> function?"}, {"owner": {"reputation": 11, "user_id": 5469665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c65c12f1a6211f64edf62691d222b3?s=128&d=identicon&r=PG&f=1", "display_name": "asdfjhjalshdf", "link": "https://stackoverflow.com/users/5469665/asdfjhjalshdf"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537391836, "post_id": 52411940, "comment_id": 91772369, "body": "IntStream.range(0, count).parallel().forEach{extractTar(tarPath, extractPath)}  called from a Java file"}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1537394871, "post_id": 52411940, "comment_id": 91773370, "body": "The java method is static but the Kotlin method isn&#39;t. And they&#39;re both synchronized (although on different monitors) so it&#39;s not clear what benefits you are thinking to achieve by running them with parallel streams a only one thread at a time can be in the method. (Unless you are invoking the nothin method on different objects )"}, {"owner": {"reputation": 11, "user_id": 5469665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c65c12f1a6211f64edf62691d222b3?s=128&d=identicon&r=PG&f=1", "display_name": "asdfjhjalshdf", "link": "https://stackoverflow.com/users/5469665/asdfjhjalshdf"}, "edited": false, "score": 0, "creation_date": 1537396861, "post_id": 52411940, "comment_id": 91773893, "body": "Sorry, the extract method is actually being called from within a different unsynchronized method. Have edited the question to reflect this more clearly"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537423058, "post_id": 52411940, "comment_id": 91780109, "body": "I don&#39;t see how it matters that you&#39;re calling it from an unsynchronized method. The method itself is synchronized, so the operations will not be performed in parallel."}, {"owner": {"reputation": 11, "user_id": 5469665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c65c12f1a6211f64edf62691d222b3?s=128&d=identicon&r=PG&f=1", "display_name": "asdfjhjalshdf", "link": "https://stackoverflow.com/users/5469665/asdfjhjalshdf"}, "edited": false, "score": 0, "creation_date": 1537458447, "post_id": 52411940, "comment_id": 91801184, "body": "The problem persists even when removing synchronized from the extract method"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5469665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c65c12f1a6211f64edf62691d222b3?s=128&d=identicon&r=PG&f=1", "display_name": "asdfjhjalshdf", "link": "https://stackoverflow.com/users/5469665/asdfjhjalshdf"}, "is_accepted": true, "score": 0, "last_activity_date": 1537476611, "creation_date": 1537476611, "answer_id": 52433104, "question_id": 52411940, "link": "https://stackoverflow.com/questions/52411940/poor-performance-with-concurrent-shell-commands-in-kotlin-compared-to-java/52433104#52433104", "title": "Poor performance with concurrent shell commands in Kotlin compared to Java", "body": "<p>Fixed by moving extract into </p>\n\n<pre><code>companion object {}\n</code></pre>\n\n<p>Not sure why this fixed the problem, but it did</p>\n"}], "owner": {"reputation": 11, "user_id": 5469665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c65c12f1a6211f64edf62691d222b3?s=128&d=identicon&r=PG&f=1", "display_name": "asdfjhjalshdf", "link": "https://stackoverflow.com/users/5469665/asdfjhjalshdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 52433104, "answer_count": 1, "score": 0, "last_activity_date": 1537476611, "creation_date": 1537380894, "last_edit_date": 1537396818, "question_id": 52411940, "link": "https://stackoverflow.com/questions/52411940/poor-performance-with-concurrent-shell-commands-in-kotlin-compared-to-java", "title": "Poor performance with concurrent shell commands in Kotlin compared to Java", "body": "<p>I have a strange problem in which I am seeing very poor performance from Kotlin code running concurrent shell commands to extract a file. However, when running the same shell commands using Java code, the performance is as expected.</p>\n\n<p>The difference is VERY significant, with the Java code running in 10-20 seconds, and the Kotlin code running in about 13 minutes.</p>\n\n<p>The particular use case is a function that spawns 15 threads, which all call this extract function to unpack the same tar.gz file. When the call is to the Kotlin function, the performance is poor; when it is Java, the performance is as expected.</p>\n\n<p>The Kotlin code that I have decompiled to Java is nearly identical to the Java code that is performant, with the only difference being the addition of Kotlin Intrinsics, which should not affect performance.</p>\n\n<p>Kotlin Code:</p>\n\n<pre><code>@Synchronized\n@Throws(IOException::class)\nfun extractTar(tarFile: Path, extractPath: Path) {\n    logger.info(\"Extracting file: \" + tarFile.toString())\n    logger.info(\"Destination path: \" + extractPath.toString())\n    val start = System.currentTimeMillis()\n    val untarCommand = Arrays.asList(\"tar\", \"-xzf\", tarFile.toString(), \"-C\", extractPath.toString())\n    val untarProcess = ProcessBuilder()\n            .command(untarCommand)\n            .redirectErrorStream(true)\n            .start()\n    waitAndCheckProcessOutput(untarProcess, \"tar -xzf ${tarFile.toString()} -C ${extractPath.toString()}\", 15)\n\n    logger.info(\"Running chmod on folder:\" + extractPath.toString())\n    val chmodCommand = Arrays.asList(\"chmod\", \"-R\", \"0777\", extractPath.toString())\n    val chmodProcess = ProcessBuilder()\n            .command(chmodCommand)\n            .redirectErrorStream(true)\n            .start()\n    waitAndCheckProcessOutput(chmodProcess, \"chmod -R 0777 ${extractPath.toString()}\", 15)\n\n    logger.info(\"Extracted in \" + printTime(System.currentTimeMillis() - start))\n}\n\nfun waitAndCheckProcessOutput(process: Process, command: String, timeoutInMinutes: Long) {\n    try {\n        val finished = process.waitFor(timeoutInMinutes, TimeUnit.MINUTES)\n        if (!finished) {\n            logger.info(\"Timed out running command $command\")\n        }\n        val output = BufferedReader(InputStreamReader(process.inputStream))\n                .lines()\n                .collect(Collectors.joining())\n        val exitCode = process.exitValue()\n        if (exitCode != 0) {\n            logger.info(\"Got exit code \" + exitCode + \" running command \" + command\n                    + \"\\nGot output:\\n\" + output)\n        }\n    } catch (e: InterruptedException) {\n        logger.info(\"Interrupted running command $command\" + e)\n    }\n}\n\nfun printTime(timeInMillis: Long): String {\n    var duration = Duration.ofMillis(timeInMillis)\n    val minutes = duration.toMinutes()\n    duration = duration.minusMinutes(minutes)\n    val seconds = duration.seconds\n    duration = duration.minusSeconds(seconds)\n    val millis = duration.toMillis()\n    return minutes.toString() + \"m \" + seconds + \".\" + millis + \"s\"\n}\n</code></pre>\n\n<p>Kotlin code decompiled to Java:</p>\n\n<pre><code>public final synchronized void extractTar(@NotNull Path tarFile, @NotNull Path extractPath) throws IOException {\n  Intrinsics.checkParameterIsNotNull(tarFile, \"tarFile\");\n  Intrinsics.checkParameterIsNotNull(extractPath, \"extractPath\");\n\n  logger.info(\"Extracting file: \" + tarFile.toString());\n  logger.info(\"Destination path: \" + extractPath.toString());\n  long start = System.currentTimeMillis();\n  List untarCommand = Arrays.asList(\"tar\", \"-xzf\", tarFile.toString(), \"-C\", extractPath.toString());\n  Process untarProcess = (new ProcessBuilder(new String[0]))\n      .command(untarCommand)\n      .redirectErrorStream(true)\n      .start();\n  Intrinsics.checkExpressionValueIsNotNull(untarProcess, \"untarProcess\");\n  this.waitAndCheckProcessOutput(untarProcess, \"tar -xzf \" + tarFile.toString() + \" -C \" + extractPath.toString(), 15L);\n\n  logger.info(\"Running chmod on folder:\" + extractPath.toString());\n  List chmodCommand = Arrays.asList(\"chmod\", \"-R\", \"0777\", extractPath.toString());\n  Process chmodProcess = (new ProcessBuilder(new String[0]))\n      .command(chmodCommand)\n      .redirectErrorStream(true)\n      .start();\n  Intrinsics.checkExpressionValueIsNotNull(chmodProcess, \"chmodProcess\");\n  this.waitAndCheckProcessOutput(chmodProcess, \"chmod -R 0777 \" + extractPath.toString(), 15L);\n  logger.info(\"Extracted in \" + this.printTime(System.currentTimeMillis() - start));\n}\n\npublic final void waitAndCheckProcessOutput(@NotNull Process process, @NotNull String command, long timeoutInMinutes) {\n  Intrinsics.checkParameterIsNotNull(process, \"process\");\n  Intrinsics.checkParameterIsNotNull(command, \"command\");\n  try {\n      boolean finished = process.waitFor(timeoutInMinutes, TimeUnit.MINUTES);\n      if (!finished) {\n        logger.info(\"Timed out running command \" + command);\n      }\n      String output = new BufferedReader(new InputStreamReader(process.getInputStream()))\n        .lines()\n        .collect(Collectors.joining());\n      int exitCode = process.exitValue();\n      if (exitCode != 0) {\n        logger.info(\"Got exit code \" + exitCode + \" running command \" + command + \"\\nGot output:\\n\" + output);\n      }\n  } catch (InterruptedException var8) {\n      logger.info(\"Interrupted running command \" + command + var8);\n  }\n\n}\n\n@NotNull\npublic final String print(long timeInMillis) {\n  Duration duration = Duration.ofMillis(timeInMillis);\n  long minutes = duration.toMinutes();\n  duration = duration.minusMinutes(minutes);\n  long seconds = duration.getSeconds();\n  duration = duration.minusSeconds(seconds);\n  long millis = duration.toMillis();\n  return minutes + \"m \" + seconds + \".\" + millis + \"s\";\n}\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>public static synchronized Path untarFile(Path tarFile, Path extractPath) throws IOException {\n    logger.info(\"Extracting file: \" + tarFile.toString());\n    logger.info(\"Destination path: \" + extractPath.toString());\n    long start = System.currentTimeMillis();\n    List&lt;String&gt; untarCommand = Arrays.asList(\"tar\", \"-xzf\", tarFile.toString(), \"-C\", extractPath.toString());\n    Process untarProcess = new ProcessBuilder()\n        .command(untarCommand)\n        .redirectErrorStream(true)\n        .start();\n    ProcessUtil.waitAndCheckProcessOutput(untarProcess, \"tar -xzf \" + tarFile.toString() + \" -C \" + extractPath.toString());\n\n    logger.info(\"Running chmod on folder:\" + extractPath.toString());\n    List&lt;String&gt; chmodCommand = Arrays.asList(\"chmod\", \"-R\", \"0777\", extractPath.toString());\n    Process chmodProcess = new ProcessBuilder()\n        .command(chmodCommand)\n        .redirectErrorStream(true)\n        .start();\n    ProcessUtil.waitAndCheckProcessOutput(chmodProcess, \"chmod -R 0777 \" + extractPath.toString());\n\n    logger.info(\"Extracted in \" + TimeUtil.print(System.currentTimeMillis() - start));\n    return extractPath;\n}\n\n// In ProcessUtil.java\npublic static void waitAndCheckProcessOutput(Process process, String command, long timeoutInMinutes) {\n    try {\n        boolean finished = process.waitFor(timeoutInMinutes, TimeUnit.MINUTES);\n        if (!finished) {\n            logger.info(\"Timed out running command \" + command);\n        }\n        String output = new BufferedReader(new InputStreamReader(process.getInputStream()))\n            .lines()\n            .collect(Collectors.joining());\n        int exitCode = process.exitValue();\n        if (exitCode != 0) {\n            logger.info(\"Got exit code \" + exitCode + \" running command \" + command\n                                            + \"\\nGot output:\\n\" + output);\n        }\n    } catch (InterruptedException e) {\n        logger.info(\"Interrupted running command \" + command, e);\n    }\n}\n\n// in TimeUtil.java\npublic static String print(long timeInMillis) {\n    Duration duration = Duration.ofMillis(timeInMillis);\n    long minutes = duration.toMinutes();\n    duration = duration.minusMinutes(minutes);\n    long seconds = duration.getSeconds();\n    duration = duration.minusSeconds(seconds);\n    long millis = duration.toMillis();\n    return minutes + \"m \" + seconds + \".\" + millis + \"s\";\n}\n</code></pre>\n\n<p>It is called like this:</p>\n\n<pre><code>IntStream.range(0, count).parallel().forEach{ unsynchronizedMethod() }\n</code></pre>\n\n<p>where extractTar is called within this unsynchronizedMethod.</p>\n\n<p>I'm 95% sure that the slowdown is not occurring in the Intrinsic library calls, as none of the values checked should ever be null.</p>\n\n<p>It is also interesting to note that the slowdown does not occur for small amounts of threads, such as 2. As the number of threads increases, the performance deteriorates, which leads me to suspect that this is actually a concurrency problem.</p>\n\n<p>I have also tried running the Kotlin-decompiled-to-Java code, stripping out the Intrinsic library calls, and that code has the same performance as the native Java code.</p>\n"}, {"tags": ["android", "kotlin", "derived-class"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1537378435, "post_id": 52411341, "comment_id": 91766374, "body": "Add the <code>@JvmField</code> annotation to the <code>clickHandler</code> in your constructor, or rename it."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1537385320, "post_id": 52411341, "comment_id": 91769598, "body": "@TheWnaderer,  class DerivedViewDelegate(@JvmField clickHandler2: View.OnClickListener) : BaseDelegate(clickHandler2)  does not work, same error"}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537383226, "post_id": 52412435, "comment_id": 91768646, "body": "thanks Zoe, but cannot make change to the interface, it from other lib."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537383304, "post_id": 52412435, "comment_id": 91768682, "body": "I&#39;ll see if I can find another alternative then."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537383575, "post_id": 52412435, "comment_id": 91768800, "body": "Is the library written in Kotlin originally?"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537384486, "post_id": 52412435, "comment_id": 91769200, "body": "yes, the baseDelegate is actually from the sdk as well,  just want to override it.  I guess the @JvmField is there for Java app to override it."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537442728, "post_id": 52412435, "comment_id": 91790809, "body": "a 3rd part library (i call it sdk, not android library/sdk)"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537443466, "post_id": 52412435, "comment_id": 91791277, "body": "I am highly aware, and I&#39;m not asking if it&#39;s the android SDK or not; I&#39;m asking which library/framework/sdk/whatever you wanna call it you&#39;re using"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537445505, "post_id": 52412435, "comment_id": 91792476, "body": "sorry, these are the sdk/lib config the app is using:  compileSdkVersion 27 buildToolsVersion \u201c28.0.2\u201d   &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:12.6.1\u201d"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537447559, "post_id": 52412435, "comment_id": 91793808, "body": "I can&#39;t find view delegate in the Kotlin stdlib"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1537453020, "post_id": 52412435, "comment_id": 91797722, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180458/discussion-between-zoe-and-lannyf\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1537384655, "last_edit_date": 1537384655, "creation_date": 1537382945, "answer_id": 52412435, "question_id": 52411341, "link": "https://stackoverflow.com/questions/52411341/why-do-i-get-an-inherited-platform-declaration-clash-error-in-a-derived-class/52412435#52412435", "title": "Why do I get an &quot;inherited platform declaration clash&quot; error in a derived class?", "body": "<p>The main problem becomes visible if you remove <code>@JvmField</code>; if you remove it from BaseDelegate, you get the same error there.</p>\n\n<p>What's happening is the field creates its own getters and setters, which conflict with the methods in the parent class. Using @JvmField on the derived class doesn't work; it still shows the same error. </p>\n\n<p>So, instead of declaring getters and setters, there's a relatively easy solution. Interfaces in Kotlin can have fields. Kind of anyways, they get compiled to getters and setters from what I can tell. Anyways, the main point is that it allows for an easy way to deal with required variables in interfaces.</p>\n\n<p>So, change your interface to this:</p>\n\n<pre><code>interface ViewDelegate {\n    var clickHandler: View.OnClickListener\n\n    fun getDataType() : String\n    fun getItemViewType() : Int\n\n    fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder\n    fun onBindViewHolder(holder: RecyclerView.ViewHolder, data: ClipData.Item, position: Int)\n\n}\n</code></pre>\n\n<p>Notice that I removed the getters and setters, and just replaced it with a variable instead.</p>\n\n<p>Now, in the BaseDelegate class, you have to override the variable:</p>\n\n<pre><code>class BaseDelegate(override var clickHandler: View.OnClickListener) : ViewDelegate\n</code></pre>\n\n<p>@JvmField is gone. Also remember to remove your getter and setter in the class, you won't need them any more. Once you've removed @JvmField, the getter and setter in BaseDelegate and in ViewDelegate, in addition to adding the field, it should compile. </p>\n\n<hr>\n\n<p>Since you can't change the interface (which is the best option you have btw), there is another option. Private fields don't use getters and setters unless they're explicitly defined. Take this example:</p>\n\n<pre><code>class Test(){\n    var x: Int = 0\n    fun something(){\n        x = 3\n    }\n}\n</code></pre>\n\n<p>It compiles to:</p>\n\n<pre><code>public final class Test {\n   private int x;\n\n   public final int getX() {\n      return this.x;\n   }\n\n   public final void setX(int var1) {\n      this.x = var1;\n   }\n\n   public final void something() {\n      this.x = 3;\n   }\n}\n</code></pre>\n\n<p>Notice how x is referenced directly. Now, if I make it private:</p>\n\n<pre><code>class Test(){\n    private var x: Int = 0\n    fun something(){\n        x = 3\n    }\n}\n</code></pre>\n\n<p>This happens:</p>\n\n<pre><code>public final class Test {\n   private int x;\n\n   public final void something() {\n      this.x = 3;\n   }\n}\n</code></pre>\n\n<p>The getter and setter is gone. However, if I explicitly declare them:</p>\n\n<pre><code>class Test(){\n    private var x: Int = 0\n        get() = field\n        set(v) {\n            field = v;\n        }\n    fun something(){\n        x = 3\n    }\n}\n</code></pre>\n\n<p>It produces:</p>\n\n<pre><code>public final class Test {\n   private int x;\n\n   private final int getX() {\n      return this.x;\n   }\n\n   private final void setX(int v) {\n      this.x = v;\n   }\n\n   public final void something() {\n      this.setX(3);\n   }\n}\n</code></pre>\n\n<p>The same happens with a public var; if the getter is declared and it's custom (not just <code>get set</code>), it uses <code>.setX(v)</code> instead of <code>this.x = v</code>.</p>\n\n<p>How does this apply to your situation?</p>\n\n<p>You have clashing declarations of a generated getter and a getter declared by a library. So, since private fields don't create a getter and/or setter unless one is explicitly defined, change your var to be private:</p>\n\n<pre><code>open class BaseDelegate(private var clickHandler: View.OnClickListener) : ViewDelegate\n</code></pre>\n\n<p><strong><em>Note that this breaks property access syntax;</em></strong> you will not be able to call <code>derivedViewDelegateInst.clickHandler</code>, and you'll need to use the getter, even in Kotlin. </p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537384655, "creation_date": 1537378281, "last_edit_date": 1537384403, "question_id": 52411341, "link": "https://stackoverflow.com/questions/52411341/why-do-i-get-an-inherited-platform-declaration-clash-error-in-a-derived-class", "title": "Why do I get an &quot;inherited platform declaration clash&quot; error in a derived class?", "body": "<p>Having an interface (defined from a dependent SDK and cannot making change, the BaseDelegate is from the sdk as well) and a base class:</p>\n\n<pre><code>interface ViewDelegate {\n\n    fun getDataType() : String\n    fun getItemViewType() : Int\n\n    fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder\n    fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: Data, position: Int)\n\n    fun getClickHandler() : View.OnClickListener\n    fun setClickHandler(clickHanlder: View.OnClickListener)\n}\n\nopen class BaseDelegate(@JvmField var clickHandler: View.OnClickListener) : ViewDelegate {\n\n    @JvmField var layoutId = R.layout.base_view\n\n    override fun getClickHandler(): View.OnClickListener {\n        return clickHandler\n    }\n\n    override fun setClickHandler(clickHanlder: View.OnClickListener) {\n        clickHandler = clickHanlder\n    }\n\n    override fun getDataType(): String {\n        return \"Base_TYPE\"\n    }\n\n    override fun getItemViewType(): Int {\n        return 1000\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder {\n        return BaseViewHolder(parent.inflate(layoutId, false), clickHandler)\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: IData, position: Int) {\n        (holder as? BaseViewHolder)?.bindView(item, position)\n    }\n}\n</code></pre>\n\n<p>It is fine.</p>\n\n<p>But if making a derived class from the base one, it gets error</p>\n\n<pre><code>class DerivedViewDelegate(clickHandler: View.OnClickListener) : BaseDelegate(clickHandler){\n\n    init {\n        layoutId = R.layout.child_view\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder {\n        val vw = LayoutInflater.from(parent.getContext()).inflate(layoutId, parent, false)\n        return ChildViewHolder(vw, clickHandler)\n    }\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: Data, position: Int) {\n        (holder as? ChildViewHolder)?.bindView(item, position)\n    }\n}\n</code></pre>\n\n<p>The error says:</p>\n\n<pre><code>inherited platform declaration clash: The following declarations have same JVM signature (getClickHandler()Landroid/view$OnClickListner;)  fun &lt;get-clickHandler&gt;(): View.OnClickListener defined in DerivedViewDelegate fun getClickHandler(): View.OnClickListener defined in DerivedViewDelegate\n\ninherited platform declaration clash: The following declarations have same JVM signature (setClickHandler(Landroid/view$OnClickListner;)V)  fun &lt;set-clickHandler&gt;(&lt;set-?&gt;: View.OnClickListener): Unit  defined in DerivedViewDelegate fun setClickHandler(clickHandler: View.OnClickListener): Unit defined in DerivedViewDelegate\n</code></pre>\n\n<p>In Java it is fine:</p>\n\n<pre><code>class DerivedViewDelegate extends BaseDelegate {\n\n    public DerivedViewDelegate(View.OnClickListener clickHandler) {\n            super(clickHandler);\n            layoutId = R.layout.child_view;\n        }\n        @Override\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, Data item, int position) {\n            ((ChildViewHolder )holder).onBindViewHolder(item, position);\n}\n\n@NotNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\n\n    View vw = LayoutInflater.from(parent.getContext()).inflate(layoutId, parent, false);\n    return new ChildViewHolder(vw, clickHandler);\n\n}\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "jvm", "overloading"], "comments": [{"owner": {"reputation": 591, "user_id": 4988345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2517afc431338fa4835c9b0643db73a6?s=128&d=identicon&r=PG&f=1", "display_name": "aiguy", "link": "https://stackoverflow.com/users/4988345/aiguy"}, "edited": false, "score": 0, "creation_date": 1537378328, "post_id": 52411108, "comment_id": 91766321, "body": "if you also make a call to the doSomething function in kotlin and decompile the whole thing it might shed a little more light."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1537379179, "creation_date": 1537379179, "answer_id": 52411538, "question_id": 52411108, "link": "https://stackoverflow.com/questions/52411108/explain-the-java-code-generated-from-using-jvmoverloads-on-kotlin-method/52411538#52411538", "title": "Explain the Java code generated from using @JvmOverloads on Kotlin method", "body": "<p><code>var3</code> is a bit mask indicating which parameters need to be substituted with default values. If bit 0 is set, the first parameter (<code>var1</code>, or <code>a</code> in the source code) is substituted with the default value 200. If bit 1 is set, <code>var2</code> takes the default value 300. The 1-parameter overload passes 2 as the bit mask (so only bit 1 is set), and the 0-parameter overload passes 3 (bits 0 and 1 are set).</p>\n"}], "owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537379179, "creation_date": 1537377312, "question_id": 52411108, "link": "https://stackoverflow.com/questions/52411108/explain-the-java-code-generated-from-using-jvmoverloads-on-kotlin-method", "title": "Explain the Java code generated from using @JvmOverloads on Kotlin method", "body": "<p>I tried using @JvmOverloads to created overloaded methods for Kotlin function.\nJust out of curiosity I tried to look at the bytecode and decompiled Java code. But, I could not make much sense of the Java code. </p>\n\n<p>Here, is a simple Kotlin code </p>\n\n<pre><code>class MyClass {\n\n        @JvmOverloads\n        fun doSomething(a : Int = 200, b : Int = 300){\n\n        }\n    }\n</code></pre>\n\n<p>Below is the decompiled java code : </p>\n\n<pre><code>public final class MyClass {\n   @JvmOverloads\n   public final void doSomething(int a, int b) {\n   }\n\n   // $FF: synthetic method\n   // $FF: bridge method\n   @JvmOverloads\n   public static void doSomething$default(MyClass var0, int var1, int var2, int var3, Object var4) {\n      if((var3 &amp; 1) != 0) { // What does this do ?\n         var1 = 200;\n      }\n\n      if((var3 &amp; 2) != 0) { //Where did var3 come from ? \n         var2 = 300;\n      }\n\n      var0.doSomething(var1, var2);\n   }\n\n   @JvmOverloads\n   public final void doSomething(int a) {\n      doSomething$default(this, a, 0, 2, (Object)null);\n   }\n\n   @JvmOverloads\n   public final void doSomething() {\n      doSomething$default(this, 0, 0, 3, (Object)null);\n   }\n}\n</code></pre>\n\n<p>Please explain or point me to the right resources which could help me learn more about the same. Thanks.</p>\n"}, {"tags": ["java", "kotlin", "copy", "immutability"], "comments": [{"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "edited": false, "score": 1, "creation_date": 1537376572, "post_id": 52410264, "comment_id": 91765475, "body": "No, i don&#39;t think there is any other way"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1537379477, "post_id": 52410264, "comment_id": 91766834, "body": "As of Kotlin 1.3 there is no possibility to customize the generation of data class methods."}, {"owner": {"reputation": 2331, "user_id": 5922757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5fdb2ccceacfda01288f0b95a6cfdf?s=128&d=identicon&r=PG", "display_name": "Jezor", "link": "https://stackoverflow.com/users/5922757/jezor"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537391641, "post_id": 52410264, "comment_id": 91772300, "body": "@yole I&#39;m looking at the changelogs and can&#39;t find any mention of this. Could you please add a link?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1537422933, "post_id": 52410264, "comment_id": 91780059, "body": "Any mention of what? There was never a possibility to customize this; nothing changed in 1.3. I&#39;m just specifying a version number in my comment in case the possibility is added later"}, {"owner": {"reputation": 2331, "user_id": 5922757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5fdb2ccceacfda01288f0b95a6cfdf?s=128&d=identicon&r=PG", "display_name": "Jezor", "link": "https://stackoverflow.com/users/5922757/jezor"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1537439563, "post_id": 52410264, "comment_id": 91789031, "body": "@yole oh, okay, I misunderstood, sorry!"}], "answers": [{"comments": [{"owner": {"reputation": 2331, "user_id": 5922757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5fdb2ccceacfda01288f0b95a6cfdf?s=128&d=identicon&r=PG", "display_name": "Jezor", "link": "https://stackoverflow.com/users/5922757/jezor"}, "edited": false, "score": 0, "creation_date": 1565006201, "post_id": 55565487, "comment_id": 101202982, "body": "If I wanted to write everything by hand I wouldn&#39;t be using Kotlin (;"}], "tags": [], "owner": {"reputation": 41, "user_id": 10232123, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkOkMnAZFq8/AAAAAAAAAAI/AAAAAAAAAAw/kTinj5ewUOs/photo.jpg?sz=128", "display_name": "Chiang Xingbing", "link": "https://stackoverflow.com/users/10232123/chiang-xingbing"}, "is_accepted": false, "score": 2, "last_activity_date": 1554690448, "creation_date": 1554690448, "answer_id": 55565487, "question_id": 52410264, "link": "https://stackoverflow.com/questions/52410264/is-it-possible-to-add-jvmoverloads-to-the-generated-copy-method-in-kotlin/55565487#55565487", "title": "Is it possible to add @JvmOverloads to the generated copy(...) method in Kotlin?", "body": "<p>No. But we can override the copy method by ourselves. Like this:</p>\n\n<pre><code>data class CustomTextInfo(\n    val text: String,\n    val textColor: Int,\n    val backgroundColor: Int,\n    val fontId: Int\n) {\n    fun copy(): CustomTextInfo {\n        return CustomTextInfo(text, textColor, backgroundColor, fontId)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2331, "user_id": 5922757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb5fdb2ccceacfda01288f0b95a6cfdf?s=128&d=identicon&r=PG", "display_name": "Jezor", "link": "https://stackoverflow.com/users/5922757/jezor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554690448, "creation_date": 1537373928, "question_id": 52410264, "link": "https://stackoverflow.com/questions/52410264/is-it-possible-to-add-jvmoverloads-to-the-generated-copy-method-in-kotlin", "title": "Is it possible to add @JvmOverloads to the generated copy(...) method in Kotlin?", "body": "<p>Suppose I have the following Kotlin class:</p>\n\n<pre><code>data class Person(val firstName: String, val lastName: String)\n</code></pre>\n\n<p>Because this is a <code>data</code> class, a method with the following signature will be automatically generated:</p>\n\n<pre><code>fun copy(firstName: String = this.firstName, lastName: String = this.lastName): Person\n</code></pre>\n\n<p>Now, I'd like to call this method from Java code, like:</p>\n\n<pre><code>Person john = new Person(\"John\", \"Smith\");\nPerson adam = john.copy(\"Adam\");\n</code></pre>\n\n<p>I am expecting to have two <code>Person</code> objects now: \"John Smith\" and \"Adam Smith\".</p>\n\n<p>Sadly, the <code>copy</code> method does not have overloaded variants and I don't see any way to add them via <code>@JvmOverloads</code>.</p>\n\n<p>So far I've tried to overload it and create an extension, but it is shadowed and works like a static method in Java (plus there's a lot of boilerplate):</p>\n\n<pre><code>@JvmOverloads\nfun Person.copy(firstName: String = this.firstName, lastName: String = this.lastName): Person {\n    return this.copy(firstName = firstName, lastName = lastName)\n}\n</code></pre>\n\n<p>Is it possible to do in a way that doesn't require too much code to be written?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1537374067, "post_id": 52410140, "comment_id": 91764216, "body": "Not the last time I checked, but the method can still be used as if it were a property from Kotlin."}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1537375598, "post_id": 52410140, "comment_id": 91765003, "body": "Though you can use `override val authorities:Collection = listOf( /* ... */ )"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "edited": false, "score": 2, "creation_date": 1537460002, "post_id": 52410666, "comment_id": 91802049, "body": "Yeah, this is apparently a <a href=\"https://youtrack.jetbrains.com/issue/KT-6653\" rel=\"nofollow noreferrer\">deep rooted issue</a> within language design. Thank you for answering."}], "tags": [], "owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1537377532, "last_edit_date": 1537377532, "creation_date": 1537375592, "answer_id": 52410666, "question_id": 52410140, "link": "https://stackoverflow.com/questions/52410140/kotlin-override-interface-method-named-getauthorities-with-val-authorities/52410666#52410666", "title": "Kotlin: Override interface method named &#39;getAuthorities()&#39; with &#39;val authorities&#39;", "body": "<p>No, you cannot replace a method(Behavior), from an interface, with a property.</p>\n\n<p>Its not possible to override JVM methods with Kotlin properties  </p>\n"}], "owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 52410666, "answer_count": 1, "score": 1, "last_activity_date": 1537377532, "creation_date": 1537373462, "question_id": 52410140, "link": "https://stackoverflow.com/questions/52410140/kotlin-override-interface-method-named-getauthorities-with-val-authorities", "title": "Kotlin: Override interface method named &#39;getAuthorities()&#39; with &#39;val authorities&#39;", "body": "<p>In Kotlin I\u2019m implementing a Java interface that contains method:</p>\n\n<pre><code>Collection&lt;? extends GrantedAuthority&gt; getAuthorities();\n</code></pre>\n\n<p>Now, of course I can just go ahead and override the method directly, but I\u2019m wondering if there is a way to implement this with a Kotlin property, along the lines of:</p>\n\n<pre><code>/* Broken code, does not compile */\noverride val authorities = listOf( /* ... */ )\n</code></pre>\n\n<p>Or does Kotlin simply not support this kind of thing?</p>\n"}, {"tags": ["jenkins", "gradle", "intellij-idea", "kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1538499805, "post_id": 52409910, "comment_id": 92160587, "body": "The issue is that gradle itself doesn&#39;t support anything other than basic test layout. This is being addressed in gradle, and (hopefully) should be fixed soon (although it was 4.9 then 4.10 then ....). Perhaps kotlintest should offer its own HTML report option."}], "owner": {"reputation": 41, "user_id": 7888532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcd032d5d345d49f2ccc54109dd70da2?s=128&d=identicon&r=PG&f=1", "display_name": "Zealot", "link": "https://stackoverflow.com/users/7888532/zealot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537372627, "creation_date": 1537372627, "question_id": 52409910, "link": "https://stackoverflow.com/questions/52409910/generate-complete-kotlintest-report-in-a-jenkins-pipeline", "title": "Generate complete kotlintest report in a Jenkins pipeline?", "body": "<p>I am using <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">kotlintest</a> with gradle. When I run my tests in IntelliJ I get to see the <a href=\"https://i.stack.imgur.com/6jC8T.png\" rel=\"nofollow noreferrer\">whole Given/When/Then</a> structure. This is also reflected in the <a href=\"https://i.stack.imgur.com/afa7N.png\" rel=\"nofollow noreferrer\">report</a> I can generate using the IntelliJ Export Test Results function. This works perfectly and does exactly what I want.</p>\n\n<p>Sadly, when I run the tests using <code>gradlew test</code> it only picks up the Then blocks. That means that while all tests are run correctly, the generated report looks <a href=\"https://i.stack.imgur.com/eMxDg.png\" rel=\"nofollow noreferrer\">ugly</a>.</p>\n\n<p>The problem is that I want to generate an HTML report automatically in a Jenkins pipeline. At the moment the result is useless, because it does not contain the Given and When blocks.</p>\n\n<p>Is it possible to somehow generate a complete HTML report, with all Given/When/Then blocks in a Jenkins pipeline?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-livedata", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 2279240, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/9xKCy.png?s=128&g=1", "display_name": "Bam", "link": "https://stackoverflow.com/users/2279240/bam"}, "is_accepted": false, "score": 0, "last_activity_date": 1547811609, "creation_date": 1547811609, "answer_id": 54253268, "question_id": 52409458, "link": "https://stackoverflow.com/questions/52409458/how-do-i-use-rxjava-to-make-a-retrofit-request-in-a-repository-and-pass-it-to-a/54253268#54253268", "title": "How do i use rxjava to make a retrofit request in a repository and pass it to a ViewModel using LiveData?", "body": "<p>The issue is with the need for a Lifecycle Owner used for observations of LiveData in the Repository.</p>\n\n<p>First, you don't want to do all networking actions inside the ViewModel. I think you have the right idea with the <code>Repository</code>, but you have to remember that the Repository will have to communicate only with the <code>ViewModel</code>.  Best case, you would want the function <code>getSimilarData(...)</code> do some something like this:</p>\n\n<pre><code>Repository{\n    val repositoryItems = BehaviorSubject.create&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt;()\n\n    fun observeRepositoryItems(): Observable&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt; {\n        return repositoryItems \n    }\n\n    fun getSimilarData(map: LinkedHashMap&lt;String, String&gt;){\n        // Pseudo code for actually items\n\n        // Result goes into repositoryItems.onNext(...)\n    }\n}\n</code></pre>\n\n<p>However, you will have the issue of observing the status from the ViewModel as it itself is not a Lifecycle implementation, so it cannot easily observe the LiveData from the Repository.</p>\n\n<p>My suggestion would be something like this:</p>\n\n<pre><code>Repository{\n    val repositoryItems = BehaviorSubject.create&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt;()\n\n    fun observeRepositoryItems(): Observable&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt; {\n        return repositoryItems \n    }\n\n    fun getSimilarData(map: LinkedHashMap&lt;String, String&gt;){\n        // Pseudo code for actually items\n\n        // Result goes into repositoryItems.onNext(...)\n    }\n}\n\nViewModel{\n    val items: MutableLiveData&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt;\n\n    init{\n        repository.observeRepositoryItems()\n            .subscribe( items -&gt; items.postValue(items ))\n    }\n\n    fun getData(){\n        repository.getSimilarData(someMap)\n    }\n}\n\nFragment{\n    viewModel.items.observe() // &lt;-- Here you observe items loaded\n}\n</code></pre>\n\n<p>Note that you will have to dispose the subscription in the ViewModel onCleared.<br>\nNote that all of this is pseudo code and it should be done a lot cleaner than this.</p>\n"}], "owner": {"reputation": 1, "user_id": 10386479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f307a1021667909011a82854914c5bc?s=128&d=identicon&r=PG&f=1", "display_name": "JWilliams", "link": "https://stackoverflow.com/users/10386479/jwilliams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547811609, "creation_date": 1537371130, "last_edit_date": 1537371653, "question_id": 52409458, "link": "https://stackoverflow.com/questions/52409458/how-do-i-use-rxjava-to-make-a-retrofit-request-in-a-repository-and-pass-it-to-a", "title": "How do i use rxjava to make a retrofit request in a repository and pass it to a ViewModel using LiveData?", "body": "<p>I'm trying to make an Android app that uses Google's architecture components. I'm making a request to the TasteDive API using retrofit and rxjava in a Repository class. The problem that I'm facing is that I can't find a way to pass the outcome of the retrofit request to the ViewModel using LiveData. What I'm currently doing is I have a sealed class called Outcome that keeps track of the state of the request and in this sealed class i have a data class that holds the data of a successful request. However, since rxjava's observable is a callback, I can't figure out a way to assign the outcome of the request to LiveData and pass it to the ViewModel. When I try to assign the outcome to LiveData, it returns null, unsurprisingly, since the observable is a callback. Can any of you help me figure out a way to store the outcome of the retrofit request into LiveData in order to pass it to the ViewModel? I have looked all over the internet for a solution to this and have not found anything helpful. Here's my repository class:</p>\n\n<pre><code>class GetSimilarDataRepository {\n    private var mAdapter: TasteDiveAdapter? = null\n    private lateinit var mResultsList: ArrayList&lt;Result&gt;\n\n    private var observable: Observable&lt;Response&lt;TasteDive&gt;&gt;? = null\n\n    private var liveData = MutableLiveData&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt;()\n\n    fun getSimilarData(map: LinkedHashMap&lt;String, String&gt;): LiveData&lt;Outcome&lt;List&lt;Result&gt;&gt;&gt; {\n        mAdapter?.clear()\n\n        val builder = Retrofit.Builder()\n                .baseUrl(\"https://www.tastedive.com/api/\")\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create())\n\n        val retrofit = builder.build()\n\n\n        val client = retrofit.create(TasteDiveClient::class.java)\n\n        observable = client.getSimilarData(map)\n\n        observable?.filter { it.code() == 200 }\n                ?.map { Observable.just(it.body()) }\n                ?.subscribeOn(Schedulers.io())\n                ?.observeOn(AndroidSchedulers.mainThread())\n                ?.doOnNext {\n                    liveData.value = Outcome.loading(true)\n                }?.doOnError {\n                    liveData.value = Outcome.failure(it)\n                }?.subscribeBy (\n                        onError = {\n                            liveData.value = Outcome.failure(it)\n                        },\n\n                        onNext = {\n                            it.subscribe {\n                                var similar = it?.Similar\n                                var results = similar?.Results\n                                if(results!!.isEmpty()) {\n                                    liveData.value = Outcome.failure(Throwable(\"No results for that request\"))\n                                } else {\n                                    mResultsList = ArrayList(results)\n                                    liveData.value = Outcome.success(mResultsList)\n                                }\n                            }\n                        },\n\n                        onComplete = { Log.v(\"onComplete\", \"onComplete\")}\n                )\n\n        observable?.filter{ it.code() == 403 }\n                ?.map { Observable.just(it.body()) }\n                ?.subscribeBy(\n                        onNext = {\n                            liveData.value = Outcome.failure(Throwable(\"403 Response Code\"))\n                        },\n                        onError = { Log.v(\"onError403\", \"onError403\") },\n                        onComplete = { Log.v(\"onComplete403\", \"onComplete403\") }\n                )\n\n        observable?.filter{ it.code() == 404 }\n                ?.map { Observable.just(it.body()) }\n                ?.subscribeBy(\n                        onNext = {\n                            liveData.value = Outcome.failure(Throwable(\"404 Response Code\"))\n                        },\n                        onError = { Log.v(\"onError404\", \"onError404\") },\n                        onComplete = { Log.v(\"onComplete404\", \"onComplete404\") }\n                )\n\n        observable?.filter{ it.code() == 400 }\n                ?.map { Observable.just(it.body()) }\n                ?.subscribeBy(\n                        onNext = {\n                            liveData.value = Outcome.failure(Throwable(\"400 Response Code\"))\n                        },\n                        onError = { Log.v(\"onError400\", \"onError400\") },\n                        onComplete = { Log.v(\"onComplete400\", \"onComplete400\") }\n                )\n\n        observable?.filter{ it.code() == 500 }\n                ?.map { Observable.just(it.body()) }\n                ?.subscribeBy(\n                        onNext = {\n                            liveData.value = Outcome.failure(Throwable(\"500 Response Code\"))\n                        },\n                        onError = { Log.v(\"onError500\", \"onError500\") },\n                        onComplete = { Log.v(\"onComplete500\", \"onComplete500\") }\n                )\n        return liveData\n    }\n}\n</code></pre>\n\n<p>The request is working, because mResultsList is giving me the correct results, but LiveData is returning null.</p>\n\n<p>Here is the sealed class Outcome:</p>\n\n<pre><code>sealed class Outcome&lt;T&gt; {\n    data class Progress&lt;T&gt;(var loading: Boolean) : Outcome&lt;T&gt;()\n    data class Success&lt;T&gt;(var data: T) : Outcome&lt;T&gt;()\n    data class Failure&lt;T&gt;(val e: Throwable) : Outcome&lt;T&gt;()\n\n    companion object {\n        fun &lt;T&gt; loading(isLoading: Boolean): Outcome&lt;T&gt; = Progress(isLoading)\n\n        fun &lt;T&gt; success(data: T): Outcome&lt;T&gt; = Success(data)\n\n        fun &lt;T&gt; failure(e: Throwable): Outcome&lt;T&gt; = Failure(e)\n    }\n}\n</code></pre>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["inheritance", "design-patterns", "kotlin"], "comments": [{"owner": {"reputation": 424, "user_id": 9006779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3yF6.png?s=128&g=1", "display_name": "Nikky", "link": "https://stackoverflow.com/users/9006779/nikky"}, "edited": false, "score": 0, "creation_date": 1537370724, "post_id": 52407581, "comment_id": 91762320, "body": "so should eg: GOLD allow obbjects of type Budle that have the listed values and nothing else ? maybe its just me but its hard to follow what you actually want to achieve / model this looks like it could be a good usecase for sealed classes"}, {"owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "reply_to_user": {"reputation": 424, "user_id": 9006779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3yF6.png?s=128&g=1", "display_name": "Nikky", "link": "https://stackoverflow.com/users/9006779/nikky"}, "edited": false, "score": 0, "creation_date": 1537371856, "post_id": 52407581, "comment_id": 91762991, "body": "@Nikky - instead of &quot;GOLD allow objects of type Bundle&quot;, it should read &quot;You can select a Bundle of type GOLD or SILVER&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "edited": false, "score": 0, "creation_date": 1537371977, "post_id": 52409502, "comment_id": 91763058, "body": "I was thinking <code>sealed classes</code> too and so far have what your answer shows. I am just struggling with the relationship between <code>Bundle</code> and the <code>MembershipTypes</code>. Basically, I allow user to select Bundle which is of Type GOLD or SILVER, only these two. Should <code>OtherInterface</code> be something like <code>BundleOption</code> and have type <code>GOLD</code> and <code>SILVER</code> implement it? when I construct <code>Bundle</code>, I am looking to populate one of the <code>excess</code> and one of the <code>values</code>"}, {"owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "edited": false, "score": 0, "creation_date": 1537372418, "post_id": 52409502, "comment_id": 91763305, "body": "Construct the <code>Selection</code> class"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1537422831, "post_id": 52409502, "comment_id": 91780013, "body": "<code>MembershipType</code> in your case could be generic to support different options types. But there is still problem with <code>SIlVER</code> that should contain 2 types."}, {"owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "edited": false, "score": 0, "creation_date": 1537453043, "post_id": 52409502, "comment_id": 91797736, "body": "<code>SILVER</code> can implement the other type interface ?"}, {"owner": {"reputation": 424, "user_id": 9006779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3yF6.png?s=128&g=1", "display_name": "Nikky", "link": "https://stackoverflow.com/users/9006779/nikky"}, "edited": false, "score": 0, "creation_date": 1537485791, "post_id": 52409502, "comment_id": 91812696, "body": "sure it can implement multiple interfaces and compose that parts that it needs"}], "tags": [], "owner": {"reputation": 424, "user_id": 9006779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3yF6.png?s=128&g=1", "display_name": "Nikky", "link": "https://stackoverflow.com/users/9006779/nikky"}, "is_accepted": false, "score": 0, "last_activity_date": 1537371300, "creation_date": 1537371300, "answer_id": 52409502, "question_id": 52407581, "link": "https://stackoverflow.com/questions/52407581/some-derived-classes-with-pre-defined-values-whilst-others-not/52409502#52409502", "title": "Some derived classes with pre-defined values whilst others not", "body": "<p>maybe this can give you a starting point</p>\n\n<pre><code>sealed class MembershipType(val label: String) {\n    abstract val excessOptions: List&lt;Int&gt;\n    object GOLD: MembershipType(\"GOLD\"), OtherInterface {\n        override val excessOptions= listOf(100, 200, 3000)\n        override val foo = \"bar\"\n    }\n    object SILVER: MembershipType(\"SILVER\"), OtherInterface {\n        override val excessOptions= listOf(4000, 5000)\n        override val foo = \"baz\"\n    }\n}\n\ninterface OtherInterface {\n    val foo: String\n}\n</code></pre>\n\n<p>sealed classes are like classes and enums combined,\nyou cannot extend the sealed class from outside anymore and each object can extend different interfaces</p>\n\n<p>more about that can be found on the docs: <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/sealed-classes.html</a></p>\n"}], "owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537445991, "creation_date": 1537365324, "last_edit_date": 1537445991, "question_id": 52407581, "link": "https://stackoverflow.com/questions/52407581/some-derived-classes-with-pre-defined-values-whilst-others-not", "title": "Some derived classes with pre-defined values whilst others not", "body": "<p>In my Kotlin application, I deal with some membership types. For example:</p>\n\n<pre><code>interface MembershipType {\n    fun getExcessOptions(): List \n}\n</code></pre>\n\n<p>The derived types are <code>GOLD</code>, <code>SILVER</code>, <code>BRONZE</code>, <code>PLATNIUM</code></p>\n\n<p>All 4 types have list of excess options. For example: </p>\n\n<pre><code>enum class MembershipType(val name: String) : IValueOptions {\n    SILVER(\"silver\") {\n        override fun getExcessOptions() = listOf(300,200,100)\n    }, //for GOLD, BRONZE, PLATNIUM etc\n</code></pre>\n\n<p>For <code>GOLD</code> and <code>SILVER</code> types, they can be selected as a <code>Bundle</code> and so they must have list of pre-defined <code>valueOptions</code> which one can pick from. </p>\n\n<p>For <code>BRONZE</code>, <code>PLATNIUM</code>, they can only be <code>Named</code>, so user inputs their own value, they have a choice..</p>\n\n<p>Basically I want to represent the following:</p>\n\n<pre><code>MemeberShip Type || Options           || Value Options\nGOLD             || Bundle            || 100, 200, 3000\nSILVER           || Bundle and Named  || 4000, 5000\nPLATINUM         || Named\nBRONZE           || Named\n\n\ndata class Bundle (\n        val excess: Int\n        val value: Int\n) \n\ndata class Named (\n        val excess: Int\n        val value: Int\n) \n\ndata class Selection(val bundle : Bundle?, val items : List&lt;Named&gt;)\n</code></pre>\n\n<p>How can I represent this in terms of classes and inheritence in Kotlin or even as enums as two of the types are unique in the sense they have pre-defined <code>valueOptions</code> property? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1134, "user_id": 9543983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f139bbe639fb31015fdfaf4f8e006?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/9543983/jay"}, "edited": false, "score": 0, "creation_date": 1537361911, "post_id": 52406337, "comment_id": 91756571, "body": "Can you share your code here."}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1537362143, "post_id": 52406337, "comment_id": 91756723, "body": "You can make use of constructor, or static, or shared prefs etc."}, {"owner": {"reputation": 151, "user_id": 3582580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b0315e20d03744364a10772a3dba03b?s=128&d=identicon&r=PG&f=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/3582580/nitish"}, "edited": false, "score": 0, "creation_date": 1537363565, "post_id": 52406337, "comment_id": 91757615, "body": "don&#39;t want to save data out of view."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7550078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cc8cefd3f909f624d585ba978758b6?s=128&d=identicon&r=PG&f=1", "display_name": "codebeast", "link": "https://stackoverflow.com/users/7550078/codebeast"}, "is_accepted": false, "score": -1, "last_activity_date": 1537361924, "creation_date": 1537361924, "answer_id": 52406445, "question_id": 52406337, "link": "https://stackoverflow.com/questions/52406337/remove-and-add-view-without-losing-its-properties-in-android/52406445#52406445", "title": "Remove and add view without losing its properties in Android", "body": "<p>try sharedprefrence. It stores data in the phone cache memory </p>\n"}], "owner": {"reputation": 151, "user_id": 3582580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b0315e20d03744364a10772a3dba03b?s=128&d=identicon&r=PG&f=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/3582580/nitish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537446038, "creation_date": 1537361579, "last_edit_date": 1537446038, "question_id": 52406337, "link": "https://stackoverflow.com/questions/52406337/remove-and-add-view-without-losing-its-properties-in-android", "title": "Remove and add view without losing its properties in Android", "body": "<p>I have a custom view in which I am adding an image showing some data about that image. When I click on that I remove that custom view from its parent and add it to DailogFragment. But after adding that view in DailogFragment, the custom view lost the data related to the image. Is there any way to preserve that custom view. I don't want to store that data anywhere else. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1537358078, "post_id": 52404965, "comment_id": 91754283, "body": "you should return the calculation result to the activity and update the UI in the activity. Don&#39;t use broadcasts"}, {"owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1537364180, "post_id": 52404965, "comment_id": 91758027, "body": "Thank you for the feedbacks. Based on the documentation ASyncTask seems to be the correct method to use in my case."}], "answers": [{"tags": [], "owner": {"reputation": 1709, "user_id": 1294982, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fb2a35340cf7b991a942773d3f5247c3?s=128&d=identicon&r=PG&f=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/1294982/maurice"}, "is_accepted": true, "score": 3, "last_activity_date": 1537357569, "last_edit_date": 1537357569, "creation_date": 1537357119, "answer_id": 52405022, "question_id": 52404965, "link": "https://stackoverflow.com/questions/52404965/proper-way-to-update-ui-from-a-class-in-kotlin/52405022#52405022", "title": "Proper way to update UI from a class in Kotlin", "body": "<p>Here the documentation to <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a>. </p>\n\n<p>It will help you to do some background tasks, and publish the result when finished to the main UI. </p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>AsyncTask enables proper and easy use of the UI thread. This class\n  allows you to perform background operations and publish results on the\n  UI thread without having to manipulate threads and/or handlers.</p>\n</blockquote>\n\n<p><strong>Example of code:</strong> from <a href=\"https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin\">Stack Answer</a></p>\n\n<pre><code>inner class someTask() : AsyncTask&lt;Void, Void, String&gt;() {\n    override fun doInBackground(vararg params: Void?): String? {\n        // ...\n    }\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        // ...\n    }\n\n    override fun onPostExecute(result: String?) {\n        super.onPostExecute(result)\n        // UPDATE UI HERE\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9782202"}, "is_accepted": false, "score": 0, "last_activity_date": 1537359696, "creation_date": 1537359696, "answer_id": 52405774, "question_id": 52404965, "link": "https://stackoverflow.com/questions/52404965/proper-way-to-update-ui-from-a-class-in-kotlin/52405774#52405774", "title": "Proper way to update UI from a class in Kotlin", "body": "<p>Using <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a>:</p>\n\n<pre><code>object MyClass {\n    fun performCalculation(): Single&lt;Int&gt; {\n        return Single.fromCallable {\n            //perform calculation\n            1\n        }\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n    }\n}\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        MyClass.performCalculation().subscribe { result -&gt;\n            //update ui\n        }\n    }\n}\n</code></pre>\n\n<p>Using <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a>:</p>\n\n<pre><code>object MyClass {\n    fun performCalculation(): Deferred&lt;Int&gt; {\n        return async(CommonPool) {\n            //your calculation\n            1\n        }\n    }\n}\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        launch(UI) {\n            val result = MyClass.performCalculation().await()\n            //update ui\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2046, "favorite_count": 0, "accepted_answer_id": 52405022, "answer_count": 2, "score": 0, "last_activity_date": 1537361254, "creation_date": 1537356960, "last_edit_date": 1537361254, "question_id": 52404965, "link": "https://stackoverflow.com/questions/52404965/proper-way-to-update-ui-from-a-class-in-kotlin", "title": "Proper way to update UI from a class in Kotlin", "body": "<p>I'm new to Android development and I would like to know what is the best practice to update the UI from another class. </p>\n\n<p>Example: When I enter an activity I start a function <code>myClass.PerformCalculation()</code> which takes some time, when the calculation is over I want to update the UI with the result of the calculation. \nThis generates the following error:</p>\n\n<pre><code>CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n</code></pre>\n\n<p>I was thinking about using a Broadcast Receiver in the activity and perform a <code>SendBroadcast</code> at the end of <code>myClass.PerformCalculation()</code>, is it a good practice?</p>\n"}, {"tags": ["kotlin", "classcastexception"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537354843, "post_id": 52403975, "comment_id": 91752343, "body": "where do you get this error message? I assume that it is thrown rather in the <code>getOrThrow</code>-function..."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 1, "creation_date": 1537354865, "post_id": 52403975, "comment_id": 91752360, "body": "The Java runtime discards all generic type information. This means that there won&#39;t be any class cast exception in the method that could be catched. Please show us the complete stack trace"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1537355578, "post_id": 52403975, "comment_id": 91752706, "body": "Why do you using <code>try-catch</code> block? You can use safe cast <code>as?</code> and then just check if it null."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1537356650, "post_id": 52403975, "comment_id": 91753422, "body": "@Ircover <code>as?</code> worked a treat! Add this as a solution and I&#39;ll accept."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537356982, "post_id": 52403975, "comment_id": 91753620, "body": "are you kidding? How can that be better than <code>as</code> itself? are you sure you didn&#39;t touch/alter anything else?"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537357026, "post_id": 52403975, "comment_id": 91753639, "body": "@Roland I refactored the whole thing using <code>as?</code>"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537357316, "post_id": 52405051, "comment_id": 91753830, "body": "I don&#39;t think so... try <code>responseOrFail</code> with a <code>ResponseEntity&lt;AssetResponseMessage&gt;</code>..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537387440, "post_id": 52405051, "comment_id": 91770622, "body": "Try it with any <code>ResponseEntity&lt;..&gt;</code>.. it will always call <code>fail</code>.. except if you pass anything that isn&#39;t a <code>ResponseEntity</code>.. then it will give you a <code>ClassCastException</code>.."}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537399382, "post_id": 52405051, "comment_id": 91774451, "body": "@Roland it\u2019s only ever called in two cases, one is <code>ResponseEntity&lt;ErrorResponseMessage&gt;</code>, the other is <code>ResponseEntity&lt;TResult&gt;</code>, and it works!"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537417861, "post_id": 52405051, "comment_id": 91778315, "body": "What do you mean by &quot;it works&quot;? You tried both <code>ResponseEntity</code> and one fails and the other is returned? Or does <code>fail</code> just return if error is empty? It just can&#39;t be your cast why it works...and if it isn&#39;t your cast, you should better adapt your code so that you understand why it works..."}], "tags": [], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "is_accepted": true, "score": -1, "last_activity_date": 1537357215, "creation_date": 1537357215, "answer_id": 52405051, "question_id": 52403975, "link": "https://stackoverflow.com/questions/52403975/kotlin-classcastexception-isnt-being-caught/52405051#52405051", "title": "Kotlin - ClassCastException isn&#39;t being caught", "body": "<p>Thanks to lrcover for suggesting <code>as?</code> I have now come up with this as a solution</p>\n\n<pre><code>private fun &lt;TResult&gt; responseOrFail(response: Any): ResponseEntity&lt;TResult&gt; {\n    val errorResponse = response as? ResponseEntity&lt;ErrorResponseMessage&gt;\n\n    if (errorResponse != null) {\n        fail(errorResponse.body.error)\n    }\n\n    return response as ResponseEntity&lt;TResult&gt;\n}\n</code></pre>\n\n<p>Then in my method:</p>\n\n<p><code>return responseOrFail(response)</code></p>\n\n<p>And now I have the desired result.</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1537357237, "creation_date": 1537357237, "answer_id": 52405056, "question_id": 52403975, "link": "https://stackoverflow.com/questions/52403975/kotlin-classcastexception-isnt-being-caught/52405056#52405056", "title": "Kotlin - ClassCastException isn&#39;t being caught", "body": "<p>Generic type information is erased at runtime. That being said, the following:</p>\n\n<pre><code>response as ResponseEntity&lt;AssetResponseMessage&gt;\n</code></pre>\n\n<p>will probably already have shown you a compiler warning (unchecked cast) and is in fact the same as if you write:</p>\n\n<pre><code>response as ResponseEntity&lt;*&gt;\n</code></pre>\n\n<p>or to confuse you a bit more another unchecked cast again, which will also work, even if you put an <code>AssetResponseMessage</code> inside the <code>ResponseEntity</code>:</p>\n\n<pre><code>response as ResponseEntity&lt;ErrorResponseMessage&gt;\n</code></pre>\n\n<p>That's also why I asked where that specific error message was thrown exactly. It can not have been thrown inside the <code>try</code> and it can not have been thrown inside the <code>catch</code>. So the only missing piece is <code>getOrThrow</code> itself.</p>\n\n<p>Note also that you may rather want to use <code>is</code> and benefit from smart casts instead of casting directly and hoping for a <code>ClassCastException</code> (programming against exceptions is an anti-pattern).</p>\n\n<p>Here is a sample:</p>\n\n<pre><code>fun getOrThrow(issueAsset : Any /* I don't mind the actual type for now */) = when (issueAsset) {\n    is AssetResponseMessage -&gt; TODO(\"ResponseEntity&lt;AssetResponseMessage&gt; up to you\")\n    else -&gt; TODO(\"error? up to you\")\n}\n</code></pre>\n\n<p>Alternatively you may use the safe cast operator (<code>as?</code>). The safe cast operator basically sets a value to <code>null</code> in case the cast doesn't succeed, e.g.:</p>\n\n<pre><code> val sample = \"test\" as? Int\n // now sample has the type Int? and is actually null\n</code></pre>\n\n<p>Note: Casting or safe casting to a class with generic type will not ensure that the object actually contains that generic type, e.g. <code>someObj as List&lt;Int&gt;</code> will not ensure that you have actually a list of ints, but rather just ensures that you have a <code>List</code> only. Just remember: generic type information is erased at runtime.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 1, "accepted_answer_id": 52405051, "answer_count": 2, "score": 1, "last_activity_date": 1537357237, "creation_date": 1537353639, "question_id": 52403975, "link": "https://stackoverflow.com/questions/52403975/kotlin-classcastexception-isnt-being-caught", "title": "Kotlin - ClassCastException isn&#39;t being caught", "body": "<p>Consider the following function</p>\n\n<pre><code>fun issueAssetOrThrow(): ResponseEntity&lt;AssetResponseMessage&gt; {\n    val response = getOrThrow(controller.issueAsset(ASSET_REQUEST_MESSAGE))\n\n    return try {\n        response as ResponseEntity&lt;AssetResponseMessage&gt;\n    } catch (classCastException: ClassCastException) {\n        val errorResponse = response as ResponseEntity&lt;ErrorResponseMessage&gt;\n        fail(errorResponse.body.error)\n    }\n}\n</code></pre>\n\n<p>In the event of a successful response, <code>getOrThrow(controller.issueAsset(ASSET_REQUEST_MESSAGE))</code> will return <code>ResponseEntity&lt;AssetResponseMessage&gt;</code>.</p>\n\n<p>In the event of an unsuccessful response it will return <code>ResponseEntity&lt;ErrorResponseMessage&gt;</code>, unless there is some catastrophic failure, in which case it throws an exception. </p>\n\n<p>Since the generic part of the response is unknown at this point, the function should first <code>try</code> to cast the response to <code>ResponseEntity&lt;AssetResponseMessage&gt;</code>. </p>\n\n<p>If it can't perform this cast, it will throw a <code>ClassCastException</code> and then tries to cast the response to <code>ResponseEntity&lt;ErrorResponseMessage&gt;</code>. </p>\n\n<p>It should then extract the error message and <code>fail</code> with this message, throwing an <code>AssertionError</code></p>\n\n<p>The problem is that I actually get this output</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException:\n  com.demo.api.messages.ErrorResponseMessage cannot be cast to\n  com.demo.api.messages.AssetResponseMessage</p>\n</blockquote>\n\n<p>It looks like <code>catch(classCastException: ClassCastException)</code> gets ignored completely! Why is this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1537351876, "post_id": 52403281, "comment_id": 91750441, "body": "how do tyou show your listview on screen in non-activity class?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1537352282, "post_id": 52403281, "comment_id": 91750743, "body": "@VladyslavMatviienko Simply by using <code>list_view</code> without anything else. And just using that import."}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537352321, "post_id": 52403281, "comment_id": 91750766, "body": "Please, show full code. And where you want to call this list_view"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1537352397, "post_id": 52403281, "comment_id": 91750816, "body": "@VladyslavMatviienko This is my full code. I just use that import and it simply find my <code>ListView</code> without using <code>findViewById</code> or anything else."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537352440, "post_id": 52403281, "comment_id": 91750842, "body": "@Ashvinsolanki What do you mean through &quot;achieved with interfaces&quot;?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537352555, "post_id": 52403281, "comment_id": 91750907, "body": "okk.... sir what u want to do with listview in non-activity class u want to update it or etc.........."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537352701, "post_id": 52403281, "comment_id": 91750997, "body": "pass the main root view into non-activity class using constructor"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537352702, "post_id": 52403281, "comment_id": 91750998, "body": "@Ashvinsolanki First I just want to simply find it and then to update or anything else."}, {"owner": {"reputation": 1231, "user_id": 2143225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ614.jpg?s=128&g=1", "display_name": "Markus Penguin", "link": "https://stackoverflow.com/users/2143225/markus-penguin"}, "edited": false, "score": 0, "creation_date": 1537352863, "post_id": 52403281, "comment_id": 91751111, "body": "You can refer to the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">documentation about synthetic properties</a> to find out how they work."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537353120, "post_id": 52403281, "comment_id": 91751275, "body": "check <a href=\"https://stackoverflow.com/questions/10996479/how-to-update-a-textview-of-an-activity-from-another-class\" title=\"how to update a textview of an activity from another class\">stackoverflow.com/questions/10996479/&hellip;</a>"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 1231, "user_id": 2143225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ614.jpg?s=128&g=1", "display_name": "Markus Penguin", "link": "https://stackoverflow.com/users/2143225/markus-penguin"}, "edited": false, "score": 0, "creation_date": 1537353326, "post_id": 52403281, "comment_id": 91751420, "body": "@MarkusPenguin Thanks but do you know how to solve my case?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "edited": false, "score": 0, "creation_date": 1537353358, "post_id": 52403281, "comment_id": 91751441, "body": "@Ashvinsolanki Is the same as kelalaka&#39;s answer."}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537354670, "post_id": 52403281, "comment_id": 91752253, "body": "@Ioana P. We can&#39;t understand your problem. Just show full code of your non-activity class and describe where are you want to call this list_view"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537355800, "post_id": 52403281, "comment_id": 91752858, "body": "@AndreyTurkovsky Please see my updated question. I want to simply use: <code>list_view</code> as I do in my activity, ok?"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537356001, "post_id": 52403281, "comment_id": 91752980, "body": "Ok, I understand exactly place, but i have to see your non-activity class. What is it? EpoxyModel or View or something else?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537356829, "post_id": 52403281, "comment_id": 91753541, "body": "@AndreyTurkovsky It&#39;s a simple plain kotlin class that contains a simple function, that in my updated answer."}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537357031, "post_id": 52403281, "comment_id": 91753645, "body": "If it&#39;s just simple class - you can&#39;t find your list_view event with findViewById. And I don&#39;t understand the reason of placing this function inside such class"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537357196, "post_id": 52403281, "comment_id": 91753748, "body": "@AndreyTurkovsky It&#39;s a helper class, in which I define that function that will be called from within 4-5 activity classes. I know I can use <code>findViewById</code> but my question was in the first place, how I can achieve the same thing without using it. In my MainActivity I&#39;m not using <code>findViewById</code> at all, just simply use <code>list_view</code> and that&#39;s it."}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1537359624, "post_id": 52403281, "comment_id": 91755176, "body": "I said you can&#39;t use even findViewById. If it&#39;s just helper, which you call from different activities - it can&#39;t find any view. Could you show the constructor of this helper?"}], "answers": [{"comments": [{"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537352337, "post_id": 52403452, "comment_id": 91750775, "body": "I don&#39;t want to use <code>findViewById</code>, I just want to simply find my <code>ListView</code> as I do in the <code>MainActivity</code>. Is it possible?"}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1537352914, "post_id": 52403452, "comment_id": 91751146, "body": "are you using listviewActivity that extend the activity?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537354015, "post_id": 52403452, "comment_id": 91751832, "body": "No, I&#39;m simply using a single activity."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537355094, "post_id": 52403452, "comment_id": 91752488, "body": "Can you write how you find? @B.M&#39;s solution is another one."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537355644, "post_id": 52403452, "comment_id": 91752751, "body": "This is the problem, I don&#39;t find, I just use that import and simply use: <code>list_view</code> anywhere in my activity."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537357966, "post_id": 52403452, "comment_id": 91754223, "body": "are you using &lt;layout&gt; in your xml?"}], "tags": [], "owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1537360818, "last_edit_date": 1537360818, "creation_date": 1537351931, "answer_id": 52403452, "question_id": 52403281, "link": "https://stackoverflow.com/questions/52403281/how-to-find-a-listview-from-a-non-activity-class-with-kotlin/52403452#52403452", "title": "How to find a ListView from a non-activity class with Kotlin?", "body": "<p>As said <a href=\"https://stackoverflow.com/questions/10996479/how-to-update-a-textview-of-an-activity-from-another-class\">here</a>;</p>\n\n<p>You have to pass the Context reference via constructor.</p>\n\n<pre><code>public class ClassB {\n   Context context;\n   public ClassB(Context context){\n     this.context=context;\n   }\n\n   public void Update(){\n        TextView txtView = (TextView) ((Activity)context).findViewById(R.id.text);\n        txtView.setText(\"Hello\");\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1510, "user_id": 9478932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5309fe486019d5e1deb0da3b81a9b5?s=128&d=identicon&r=PG&f=1", "display_name": "B.M", "link": "https://stackoverflow.com/users/9478932/b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1537354235, "last_edit_date": 1537354235, "creation_date": 1537353419, "answer_id": 52403900, "question_id": 52403281, "link": "https://stackoverflow.com/questions/52403281/how-to-find-a-listview-from-a-non-activity-class-with-kotlin/52403900#52403900", "title": "How to find a ListView from a non-activity class with Kotlin?", "body": "<p>You can pass The <code>listView</code> as <code>constuctor</code> argument of your class like this:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ListView listView = findViewById(R.id.listview);\n\n        ClassExample classExample = new ClassExample(listView);\n\n    }\n</code></pre>\n\n<p>And :</p>\n\n<pre><code>class ClassExample {\n\n        ListView listView;\n        public ClassExample(ListView listView){\n            this.listView = listView;\n        }\n\n    }\n</code></pre>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1537360187, "post_id": 52404996, "comment_id": 91755482, "body": "Good explanation. Thanks!"}], "tags": [], "owner": {"reputation": 1231, "user_id": 2143225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ614.jpg?s=128&g=1", "display_name": "Markus Penguin", "link": "https://stackoverflow.com/users/2143225/markus-penguin"}, "is_accepted": true, "score": 0, "last_activity_date": 1537357021, "creation_date": 1537357021, "answer_id": 52404996, "question_id": 52403281, "link": "https://stackoverflow.com/questions/52403281/how-to-find-a-listview-from-a-non-activity-class-with-kotlin/52404996#52404996", "title": "How to find a ListView from a non-activity class with Kotlin?", "body": "<p>You can access views without <code>findViewById</code> by using the <code>kotlin-android-extensions</code> plugin and the <code>LayoutContainer</code> interface.</p>\n\n<p>In your <code>build.gradle</code> file make sure that you apply the plugin and set the experimental flag:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n\nandroidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p>The class from which you want to access the <code>list_view</code> needs to implement the <code>LayoutContainer</code> interface. Implementing that interface means that you need to provide a container view in which your <code>ListView</code> can be found.</p>\n\n<p>Now let's assume we have a simple layout that we use for the <code>MainActivity</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>In our <code>MainActivity</code> we use this file with <code>setContentView</code>.</p>\n\n<p>Now you can write a class that is not an activity but is able to use a view (the <code>TextView</code> in this example) without using <code>findViewById</code>:</p>\n\n<pre><code>package com.example.playground\n\nimport android.view.View\nimport kotlinx.android.extensions.LayoutContainer\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass Demo(override val containerView: View?) : LayoutContainer {\n\n    fun setTextViewText(text: String) {\n        text_view.text = text\n    }\n\n}\n</code></pre>\n\n<p>The class implements <code>LayoutContainer</code> (this is only possible if you first enable the experimental features) and therefore needs to provide the <code>containerView</code> property which it gets via the constructor.</p>\n\n<p>Now to use this class e.g. from an activity you will need to instantiate it and give it the view in which <code>text_view</code> exists (the <code>LinearLayout</code> with the id <code>container</code> in my case):</p>\n\n<pre><code>val demo = Demo(container)\ndemo.setTextViewText(\"Magic!\")\n</code></pre>\n\n<p>You will not be able to use <code>kotlinx.android.synthetic</code>-magic without providing a container. Because essentially what happens in the background is that if you access <code>list_view</code> the extension does a <code>findViewById</code>.</p>\n\n<p>Online you can find additional information from <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin about the Android plugin</a> and about <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">how to use the Android extensions</a>.</p>\n"}], "owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 52404996, "answer_count": 3, "score": 0, "last_activity_date": 1537360818, "creation_date": 1537351452, "last_edit_date": 1537355751, "question_id": 52403281, "link": "https://stackoverflow.com/questions/52403281/how-to-find-a-listview-from-a-non-activity-class-with-kotlin", "title": "How to find a ListView from a non-activity class with Kotlin?", "body": "<p>In my <code>MainActivity</code>, if I import:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>I can simply find my <code>ListView</code> and set <code>onItemClickListener</code> like this:</p>\n\n<pre><code>list_view.onItemClickListener\n</code></pre>\n\n<p>But how can I do the same thing in non-activity class?</p>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>fun setListViewElements() {\n    list_view.adapter = arrayAdapter\n    list_view.onItemClickListener = AdapterView.OnItemClickListener {}\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin", "bottomnavigationview"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1537351398, "post_id": 52403121, "comment_id": 91750143, "body": "Thanks a lot, it worked. I am farily new and copied the code I used from another one. I am still wondering why it worked all the time for my other 2 activities but not this one. Thanks a lot"}, {"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "reply_to_user": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1537351619, "post_id": 52403121, "comment_id": 91750292, "body": "Glad to hear that. Please remember not to using the same id twice. I&#39;ve already seen such strange behavior from Android Studio too and it&#39;s probably because of added Kotlin which might have strange behaviors sometimes."}], "tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": true, "score": 1, "last_activity_date": 1537351284, "last_edit_date": 1537351284, "creation_date": 1537350975, "answer_id": 52403121, "question_id": 52403017, "link": "https://stackoverflow.com/questions/52403017/how-to-get-my-bottom-navigation-view-to-work/52403121#52403121", "title": "How to get my Bottom Navigation View to work?", "body": "<p>It's probably because you never initialized <code>BottomNavigationView</code> inside the <code>onCreate()</code> method.</p>\n\n<p>Inside the <code>onCreate()</code> method:</p>\n\n<pre><code>BottomNavigationView navigation = (BottomNavigationView) findViewById(R.id.navigation);\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener) \n</code></pre>\n\n<p>Also, don't use the same id twice : <code>android:id=\"@+id/navigation\"</code></p>\n\n<p>Here is a good sample of using <code>BottomNavigationView</code>: <a href=\"https://github.com/hitherejoe/BottomNavigationViewSample/\" rel=\"nofollow noreferrer\">https://github.com/hitherejoe/BottomNavigationViewSample/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1231, "user_id": 2143225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJ614.jpg?s=128&g=1", "display_name": "Markus Penguin", "link": "https://stackoverflow.com/users/2143225/markus-penguin"}, "is_accepted": false, "score": 1, "last_activity_date": 1537351160, "creation_date": 1537351160, "answer_id": 52403182, "question_id": 52403017, "link": "https://stackoverflow.com/questions/52403017/how-to-get-my-bottom-navigation-view-to-work/52403182#52403182", "title": "How to get my Bottom Navigation View to work?", "body": "<p>I think there's a problem with your import statements.</p>\n\n<p>It seems that an element with id <code>navigation</code> is found both in <code>abfahrtsmonitor.xml</code> and <code>activity_fahrplanmap.xml</code>. As both of them are imported resolution of your <code>BottomNavigationView</code> is not possible (resolution ambiguity).</p>\n\n<p>If you need both <code>abfahrtsmonitor.xml</code> and <code>activity_fahrplanmap.xml</code> to be imported you should rename the element with id <code>navigation</code> in one of these files.</p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 1, "accepted_answer_id": 52403121, "answer_count": 2, "score": -1, "last_activity_date": 1537351284, "creation_date": 1537350670, "question_id": 52403017, "link": "https://stackoverflow.com/questions/52403017/how-to-get-my-bottom-navigation-view-to-work", "title": "How to get my Bottom Navigation View to work?", "body": "<p>I am using the BottomNavigationView in my project and it works fine. Except I added the BottomNavigationView now on my 3. Activity and only there it throws an exception and I cannot find the problem with my code.</p>\n\n<p>Here my code from my Activity:</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {                                                            //when Bottom Navigationbar is clicked\n        R.id.navigation_Auskunft -&gt; { //Different Activities can be opened\n            val intent = Intent(this, fahrplanmap::class.java)        //Opens fahrplanmap Class\n            startActivity(intent)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Abfahrtsmonitor -&gt; {\n            val intent = Intent(this, Abfahrtsmonitor::class.java)        //Opens fahrplanmap Class\n            startActivity(intent)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Karte -&gt; {\n            val intent = Intent(this, MapsAnzeigeActivity::class.java)        //Opens fahrplanmap Class\n            startActivity(intent)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Meldungen -&gt; {\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_weiteres -&gt; {\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.abfahrtsmonitor)\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener) //Here it is red undlerined with the error \n....\n}\n</code></pre>\n\n<p>my xml file for this code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout     xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".Abfahrtsmonitor\"&gt;\n\n\n&lt;EditText\n    android:id=\"@+id/editText\"\n    android:layout_width=\"360dp\"\n    android:layout_height=\"47dp\"\n    android:ems=\"10\"\n    android:hint=\"Suche\"\n    android:inputType=\"textPersonName\"\n    tools:layout_editor_absoluteX=\"16dp\"\n    tools:layout_editor_absoluteY=\"7dp\" /&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/Recycleview\"\n    android:layout_width=\"370dp\"\n    android:layout_height=\"441dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"4dp\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/navigation\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText\" /&gt;\n\n&lt;android.support.design.widget.BottomNavigationView\n    android:layout_width=\"368dp\"\n    android:layout_height=\"48dp\"\n    tools:layout_editor_absoluteX=\"8dp\"\n    tools:layout_editor_absoluteY=\"511dp\"\n    android:id=\"@+id/navigation\"\n    android:layout_marginEnd=\"0dp\"\n    android:layout_marginStart=\"0dp\"\n    android:background=\"?android:attr/windowBackground\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:menu=\"@menu/navigation\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>and the xml file from the other activity:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout     xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".fahrplanmap\"&gt;\n\n&lt;android.support.design.widget.BottomNavigationView\n    android:id=\"@+id/navigation\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"0dp\"\n    android:layout_marginStart=\"0dp\"\n    android:background=\"?android:attr/windowBackground\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:menu=\"@menu/navigation\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>In my other Activities I defined them exactly the same way and it works there without a problem at all.</p>\n\n<p>I uploaded a picture with the error from the mouseover</p>\n\n<p><a href=\"https://i.stack.imgur.com/nm6NI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nm6NI.png\" alt=\"MY Error\"></a></p>\n"}, {"tags": ["android", "kotlin", "annotations", "annotation-processing"], "answers": [{"tags": [], "owner": {"reputation": 11920, "user_id": 6769908, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xCiwB.jpg?s=128&g=1", "display_name": "Amir Ziarati", "link": "https://stackoverflow.com/users/6769908/amir-ziarati"}, "is_accepted": true, "score": 0, "last_activity_date": 1537351141, "creation_date": 1537351141, "answer_id": 52403174, "question_id": 52402521, "link": "https://stackoverflow.com/questions/52402521/why-companion-object-modifier-is-always-private-when-i-assess-it-in-annotation-p/52403174#52403174", "title": "why companion object modifier is always private when i assess it in annotation processor?", "body": "<p>I found the problem. when i decompiled kotlin code bytecode i got this java code:</p>\n\n<pre><code>public final class MainActivity extends AppCompatActivity {\n  @Nullable\n  private static String str;\n\n  .\n  .\n  .\n public static final class Companion {\n  @Nullable\n  public String getStr() {\n     return MainActivity.str;\n  }\n\n  public void setStr(@Nullable String var1) {\n     MainActivity.str = var1;\n  }\n\n  private Companion() {\n  }\n\n  // $FF: synthetic method\n  public Companion(DefaultConstructorMarker $constructor_marker) {\n     this();\n  }\n }\n}\n</code></pre>\n\n<p>as you see the variable changes to a <code>private static</code>. I just needed to use <code>@JvmField</code> to fix this issue and now the decompiled byte code is like below:</p>\n\n<pre><code>public final class MainActivity extends AppCompatActivity {\n  @JvmField\n  @Nullable\n  public static String str;\n\n  .\n  .\n  .\n   public static final class Companion {\n  private Companion() {\n  }\n\n  // $FF: synthetic method\n  public Companion(DefaultConstructorMarker $constructor_marker) {\n     this();\n  }\n  }\n  }\n</code></pre>\n"}], "owner": {"reputation": 11920, "user_id": 6769908, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xCiwB.jpg?s=128&g=1", "display_name": "Amir Ziarati", "link": "https://stackoverflow.com/users/6769908/amir-ziarati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52403174, "answer_count": 1, "score": 0, "last_activity_date": 1537446118, "creation_date": 1537349166, "last_edit_date": 1537446118, "question_id": 52402521, "link": "https://stackoverflow.com/questions/52402521/why-companion-object-modifier-is-always-private-when-i-assess-it-in-annotation-p", "title": "why companion object modifier is always private when i assess it in annotation processor?", "body": "<p>i have a custom annotation which its <code>Retention</code> is <code>AnnotationRetention.SOURCE</code> and i want to make sure that the annotated variable is a <code>public static</code> but im having problem with kotlin companion objects and they seem to be <code>private</code> even when i explicitly declare them <code>public</code>.</p>\n\n<p>here is my annotated code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\n\ncompanion object {\n    @AZNEncryptor(\"the raw string\")\n    public var str: String? = null\n}\n}\n</code></pre>\n\n<p>and my annotation processor code is:</p>\n\n<pre><code>    override fun process(set: Set&lt;TypeElement&gt;, roundEnvironment: RoundEnvironment): Boolean {        roundEnvironment.getElementsAnnotatedWith(AZNEncryptor::class.java).forEach { element -&gt;\n\n        if (element.getKind() != ElementKind.FIELD) {\n            processingEnv.messager.printMessage(Diagnostic.Kind.ERROR, \"this annotation can only be applied to the variables.\")\n            return true\n        }\n\n\n        val variableElement = element as VariableElement\n\n        for(modifier in variableElement.modifiers)\n        {\n            processingEnv.messager.printMessage(Diagnostic.Kind.WARNING,  modifier.name)\n        }\n\n        if (!variableElement.modifiers.contains(Modifier.STATIC) || !variableElement.modifiers.contains(Modifier.PUBLIC)) {\n            processingEnv.messager.printMessage(Diagnostic.Kind.ERROR, \"the annotated variable must be a \\\"public static\\\"\")\n            return true\n        }\n\n        generateClass(\"constants\", variableElement.simpleName.toString())\n\n    return true\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1537347837, "post_id": 52401740, "comment_id": 91747934, "body": "Maybe this question will be helpful: <a href=\"https://stackoverflow.com/questions/44589153/how-are-gradle-extra-properties-set-in-the-kotlin-dsl\" title=\"how are gradle extra properties set in the kotlin dsl\">stackoverflow.com/questions/44589153/&hellip;</a>"}, {"owner": {"reputation": 1113, "user_id": 7864001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wDPFF.png?s=128&g=1", "display_name": "V&#237;t Kota\u010dka", "link": "https://stackoverflow.com/users/7864001/v%c3%adt-kota%c4%8dka"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 1, "creation_date": 1537348587, "post_id": 52401740, "comment_id": 91748386, "body": "@Opal I read the question you are mentioning, but although it tackles very similar topic, it doesn&#39;t ask, nor answer my issue. However, there is alternative solution in <i>Kotlin DSL</i> (<code>mapOf</code> -&gt; <code>forEach</code> -&gt; <code>extra.set()</code>), but IMHO it obfuscates the purpose (it is less readable)."}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1542877821, "post_id": 52401740, "comment_id": 93728819, "body": "Maybe something like this?      <code>extra.properties.putAll(pairs = listOf( \t    &quot;comp&quot; to &quot;filebeat&quot;, \t    &quot;compVersion&quot; to &quot;6.4.0&quot;     ))</code>"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1542878700, "post_id": 52401740, "comment_id": 93729316, "body": "or just a series of <code>extra[&quot;key&quot;] = &quot;value&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 38714, "user_id": 45668, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4288118e4836464de401d53b60466dd?s=128&d=identicon&r=PG", "display_name": "Malcolm", "link": "https://stackoverflow.com/users/45668/malcolm"}, "is_accepted": false, "score": 0, "last_activity_date": 1547501921, "creation_date": 1547501921, "answer_id": 54189556, "question_id": 52401740, "link": "https://stackoverflow.com/questions/52401740/how-to-efficiently-populate-extra-properties-in-the-gradle-kotlin-dsl/54189556#54189556", "title": "How to efficiently populate extra properties in the Gradle Kotlin DSL?", "body": "<p>You don't have to use delegation, just write <code>extra.set(\"propertyName\", \"propertyValue\")</code>. You can do this with an <code>apply</code> block if you want:</p>\n\n<pre><code>extra.apply {\n    set(\"propertyName\", \"propertyValue\")\n    set(\"propertyName2\", \"propertyValue2\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 7864001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wDPFF.png?s=128&g=1", "display_name": "V&#237;t Kota\u010dka", "link": "https://stackoverflow.com/users/7864001/v%c3%adt-kota%c4%8dka"}, "is_accepted": true, "score": 4, "last_activity_date": 1550589737, "last_edit_date": 1592644375, "creation_date": 1550589737, "answer_id": 54769626, "question_id": 52401740, "link": "https://stackoverflow.com/questions/52401740/how-to-efficiently-populate-extra-properties-in-the-gradle-kotlin-dsl/54769626#54769626", "title": "How to efficiently populate extra properties in the Gradle Kotlin DSL?", "body": "<p>According the current (<code>5.2.1</code>) documentation:</p>\n<blockquote>\n<p>All enhanced objects in Gradle\u2019s domain model can hold extra user-defined properties. This includes, but is not limited to, projects, tasks, and source sets.</p>\n<p>Extra properties can be added, read and set via the owning object\u2019s <code>extra</code> property. Alternatively, they can be addressed via Kotlin delegated properties using <code>by extra</code>.</p>\n</blockquote>\n<p>Here is an example of using extra properties on the <code>Project</code> and <code>Task</code> objects:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val kotlinVersion by extra { &quot;1.3.21&quot; }\nval kotlinDslVersion by extra(&quot;1.1.3&quot;)\nextra[&quot;isKotlinDsl&quot;] = true\n\ntasks.register(&quot;printExtProps&quot;) {\n    extra[&quot;kotlinPositive&quot;] = true\n\n    doLast {\n        // Extra properties defined on the Project object\n        println(&quot;Kotlin version: $kotlinVersion&quot;)\n        println(&quot;Kotlin DSL version: $kotlinDslVersion&quot;)\n        println(&quot;Is Kotlin DSL: ${project.extra[&quot;isKotlinDsl&quot;]}&quot;)\n        // Extra properties defined on the Task object\n        // this means the current Task\n        println(&quot;Kotlin positive: ${this.extra[&quot;kotlinPositive&quot;]}&quot;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1113, "user_id": 7864001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/wDPFF.png?s=128&g=1", "display_name": "V&#237;t Kota\u010dka", "link": "https://stackoverflow.com/users/7864001/v%c3%adt-kota%c4%8dka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2903, "favorite_count": 2, "accepted_answer_id": 54769626, "answer_count": 2, "score": 9, "last_activity_date": 1550589737, "creation_date": 1537346664, "question_id": 52401740, "link": "https://stackoverflow.com/questions/52401740/how-to-efficiently-populate-extra-properties-in-the-gradle-kotlin-dsl", "title": "How to efficiently populate extra properties in the Gradle Kotlin DSL?", "body": "<p>I'm migrating <em>Gradle</em> build scripts from <em>Groovy</em> to <em>Kotlin DSL</em> and one of the things which is not really documented is how to populate <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.plugins.ExtraPropertiesExtension.html\" rel=\"noreferrer\">extra properties</a>.</p>\n\n<p>In <em>Groovy</em>, I can write:</p>\n\n<pre><code>ext {\n    comp = 'node_exporter'\n    compVersion = '0.16.0'\n    compProject = 'prometheus'\n    arch = 'linux-amd64'\n    tarball = \"v${compVersion}/${comp}-${compVersion}.${arch}.tar.gz\"\n    downloadSrc = \"https://github.com/${compProject}/${comp}/releases/download/${tarball}\"\n    unzipDir = \"${comp}-${compVersion}.${arch}\"\n}\n</code></pre>\n\n<p>I figured out that in the <em>Kotlin DSL</em>, I can achive the same functionality with:</p>\n\n<pre><code>val comp by extra { \"filebeat\" }\nval compVersion by extra { \"6.4.0\" }\nval arch by extra { \"linux-x86_64\" }\nval tarball by extra { \"${comp}-${compVersion}-${arch}.tar.gz\" }\nval downloadSrc by extra { \"https://artifacts.elastic.co/downloads/beats/${comp}/${tarball}\" }\nval unzipDir by extra { \"${comp}-${compVersion}-${arch}\" }\n</code></pre>\n\n<p>which looks pretty repetitive.</p>\n\n<p>Implementation of <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/plugins/ExtraPropertiesExtension.html\" rel=\"noreferrer\">ExtraPropertiesExtension</a> in <em>Kotlin</em> is a little bit complex, but at the end, it holds just plain old <code>Map&lt;String, Object&gt;</code>.</p>\n\n<p>So, my question: <strong>is it possible to populate <code>extra</code> object with multiple properties more easily, than just repeating <code>val myProp by extra { \"myValue\"}</code>?</strong></p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "edited": false, "score": 1, "creation_date": 1537345165, "post_id": 52400620, "comment_id": 91746369, "body": "This is a breaking change in 1.2.70, please follow <a href=\"https://youtrack.jetbrains.com/issue/KT-26834\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-26834</a> for updates/workarounds."}], "owner": {"reputation": 4405, "user_id": 631814, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8f02294f1d1e1c578542deff566367?s=128&d=identicon&r=PG", "display_name": "Stepango", "link": "https://stackoverflow.com/users/631814/stepango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537344753, "creation_date": 1537342784, "last_edit_date": 1537344753, "question_id": 52400620, "link": "https://stackoverflow.com/questions/52400620/cant-compile-project-on-linux-using-kotlin-1-2-70", "title": "Can&#39;t compile project on Linux using Kotlin 1.2.70", "body": "<p>After updtate Kotlin from 1.2.61 to 1.2.70 I get this error when try to comlipe the project Android Gradle plugin v3.1.4</p>\n\n<pre><code> Could not resolve all dependencies for configuration \n ':app:debugImplementationDependenciesMetadata'.\n  &gt; Could not resolve project :appstart.\n Required by:\n     project :app\n  &gt; Unable to find a matching variant of project :appstart:\n      - Variant 'debugApiElements':\n          - Found com.android.build.api.attributes.BuildTypeAttr 'debug' but wasn't required.\n          - Found com.android.build.api.attributes.VariantAttr 'debug' but wasn't required.\n          - Found com.android.build.gradle.internal.dependency.AndroidTypeAttr 'Aar' but wasn't required.\n          - Found org.gradle.usage 'java-api' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'androidJvm'.\n      - Variant 'debugRuntimeElements':\n          - Found com.android.build.api.attributes.BuildTypeAttr 'debug' but wasn't required.\n          - Found com.android.build.api.attributes.VariantAttr 'debug' but wasn't required.\n          - Found com.android.build.gradle.internal.dependency.AndroidTypeAttr 'Aar' but wasn't required.\n          - Found org.gradle.usage 'java-runtime' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'androidJvm'.\n      - Variant 'releaseApiElements':\n          - Found com.android.build.api.attributes.BuildTypeAttr 'release' but wasn't required.\n          - Found com.android.build.api.attributes.VariantAttr 'release' but wasn't required.\n          - Found com.android.build.gradle.internal.dependency.AndroidTypeAttr 'Aar' but wasn't required.\n          - Found org.gradle.usage 'java-api' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'androidJvm'.\n      - Variant 'releaseRuntimeElements':\n          - Found com.android.build.api.attributes.BuildTypeAttr 'release' but wasn't required.\n          - Found com.android.build.api.attributes.VariantAttr 'release' but wasn't required.\n          - Found com.android.build.gradle.internal.dependency.AndroidTypeAttr 'Aar' but wasn't required.\n          - Found org.gradle.usage 'java-runtime' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' and found incompatible value 'androidJvm'.\n</code></pre>\n\n<p>I'm able to compile this project on Mac OS without any problem. And I have 0 common modules.</p>\n\n<p>Anything I could do to workaround this problem?</p>\n\n<p>UPD:\nAfterupdating Android Studio Gradle plugin to 3.2.0-rc03 I have a bit different stack trace</p>\n\n<pre><code>* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Could not resolve all dependencies for configuration \n':app:debugImplementationDependenciesMetadata'.\n&gt; Could not resolve project :appstart.\n Required by:\n     project :app\n  &gt; Cannot choose between the following variants of project :appstart:\n      - kapt\n      - kaptAndroidTest\n      - kaptAndroidTestDebug\n      - kaptDebug\n      - kaptRelease\n      - kaptTest\n      - kaptTestDebug\n      - kaptTestRelease\n    All of them match the consumer attributes:\n      - Variant 'kapt':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptAndroidTest':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptAndroidTestDebug':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptDebug':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptRelease':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptTest':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptTestDebug':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n      - Variant 'kaptTestRelease':\n          - Found artifactType 'processed-jar' but wasn't required.\n          - Required org.jetbrains.kotlin.platform.type 'common' but no value provided.\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "linearlayoutmanager"], "comments": [{"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 5, "creation_date": 1537342323, "post_id": 52400455, "comment_id": 91744820, "body": "If you have given width to <code>match_parent</code> in row item xml file then you need to change it by <code>wrap_content</code>."}, {"owner": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "edited": false, "score": 1, "creation_date": 1537342370, "post_id": 52400455, "comment_id": 91744844, "body": "Please add your Array initialisation code and Adapter Code. Maybe there are some empty elements or some problem is Adapter."}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1537342393, "post_id": 52400455, "comment_id": 91744862, "body": "you need to change your widget&#39;s width to <code>wrap_content</code> as suggested by piyush."}, {"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 0, "creation_date": 1537342488, "post_id": 52400455, "comment_id": 91744912, "body": "Setup the <code>layoutManager</code> first then set the <code>Adapter</code> and change width to <code>wrap_content</code> in the list row."}, {"owner": {"reputation": 630, "user_id": 4575069, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nptlr.jpg?s=128&g=1", "display_name": "Syed Hamza Hassan", "link": "https://stackoverflow.com/users/4575069/syed-hamza-hassan"}, "edited": false, "score": 0, "creation_date": 1537342508, "post_id": 52400455, "comment_id": 91744927, "body": "show your code Model Adapter Code and While updating in list code."}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1537342564, "post_id": 52400455, "comment_id": 91744964, "body": "@Umair I have changed, doesn&#39;t help"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1537342614, "post_id": 52400455, "comment_id": 91744995, "body": "@TigranBabajanyan then please post your adapter&#39;s xml and code here :)"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1537343058, "post_id": 52400455, "comment_id": 91745241, "body": "@Piyush No, there wrap_content already"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 1, "creation_date": 1537343816, "post_id": 52400455, "comment_id": 91745631, "body": "@Piyush, there I has one hidden loader element, which has with match_parent, I have changed it and it helped, now it works, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 3986, "user_id": 3962972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgSjU.jpg?s=128&g=1", "display_name": "Aryeetey Solomon Aryeetey", "link": "https://stackoverflow.com/users/3962972/aryeetey-solomon-aryeetey"}, "is_accepted": false, "score": 0, "last_activity_date": 1553111654, "creation_date": 1553111654, "answer_id": 55269149, "question_id": 52400455, "link": "https://stackoverflow.com/questions/52400455/empty-space-at-the-end-of-recyclerview/55269149#55269149", "title": "Empty space at the end of RecyclerView", "body": "<p>Change the <code>match_parent</code> in the xml to <code>wrap_content</code>.</p>\n\n<p><code>match_parent</code> is supposed to fill the whole with of the screen. </p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553111654, "creation_date": 1537342191, "last_edit_date": 1553111340, "question_id": 52400455, "link": "https://stackoverflow.com/questions/52400455/empty-space-at-the-end-of-recyclerview", "title": "Empty space at the end of RecyclerView", "body": "<p>I use LinearLayoutManager to show RecyclerView list horizontally</p>\n\n<p>XML</p>\n\n<pre><code>    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/dailyOffersList\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>dailyOffersList.adapter = DailyOffersListAdapter(dailyOffer)\ndailyOffersList.layoutManager = LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false)\n</code></pre>\n\n<p>It is XML of item and it has width as wrap_content\n<a href=\"https://codeshare.io/5XnldM\" rel=\"nofollow noreferrer\">https://codeshare.io/5XnldM</a></p>\n\n<p>But there empty space int the end of list, and it happens only if it horizontally, like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/5po7F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5po7F.png\" alt=\"enter image description here\"></a></p>\n\n<p>in the end</p>\n\n<p><a href=\"https://i.stack.imgur.com/ok6MH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ok6MH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "login", "kotlin"], "comments": [{"owner": {"reputation": 353, "user_id": 4856025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4376e26d767e84e16351315f48b3ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Tepits", "link": "https://stackoverflow.com/users/4856025/tepits"}, "edited": false, "score": 1, "creation_date": 1537339928, "post_id": 52399772, "comment_id": 91743587, "body": "Use <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">SharedPreferences</a>"}, {"owner": {"reputation": 4863, "user_id": 3141231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mCtac.png?s=128&g=1", "display_name": "Qasim", "link": "https://stackoverflow.com/users/3141231/qasim"}, "edited": false, "score": 0, "creation_date": 1537339940, "post_id": 52399772, "comment_id": 91743595, "body": "how are you navigating away from login activity ?"}, {"owner": {"reputation": 938, "user_id": 7311269, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wPxgt.png?s=128&g=1", "display_name": "Nero", "link": "https://stackoverflow.com/users/7311269/nero"}, "edited": false, "score": 0, "creation_date": 1537339965, "post_id": 52399772, "comment_id": 91743606, "body": "If I understand your question correctly, you want to basically save the login details on the phone and update them when the user clicks the login button. If that&#39;s the case, look at serialization and/or saving the information into shared preferences."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1537340126, "post_id": 52399772, "comment_id": 91743703, "body": "<code>have a problem with saving the data</code> show how you tried to save the data, and what is the problem?"}, {"owner": {"reputation": 283, "user_id": 5119753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RQR3J0LYXBA/AAAAAAAAAAI/AAAAAAAAAKs/dKt1BJmB9LU/photo.jpg?sz=128", "display_name": "Abilash", "link": "https://stackoverflow.com/users/5119753/abilash"}, "edited": false, "score": 0, "creation_date": 1537340197, "post_id": 52399772, "comment_id": 91743739, "body": "Try to read about activity life cycle and the method onSaveInstance"}], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 7209822, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S9pgTKVpxbo/AAAAAAAAAAI/AAAAAAAAACo/urMuYFFy-m8/photo.jpg?sz=128", "display_name": "Tejas Dhawale", "link": "https://stackoverflow.com/users/7209822/tejas-dhawale"}, "is_accepted": false, "score": 0, "last_activity_date": 1537341595, "last_edit_date": 1592644375, "creation_date": 1537340889, "answer_id": 52400061, "question_id": 52399772, "link": "https://stackoverflow.com/questions/52399772/save-data-when-change-activity/52400061#52400061", "title": "Save Data when change activity", "body": "<p>Just as @Teptis and @Nero said , you can use shared preferences to save your data at time of login.\nData stored using Shared preferences is available even after the application is completely closed. This is how you store data in shared preferences</p>\n<pre><code>     val pref: SharedPreferences = getSharedPreferences(&quot;RandomNameForKey&quot;,Context.MODE_PRIVATE)\n                    val editor: SharedPreferences.Editor = pref.edit()//You need editor for writing something to shared preferences\n                    editor.putBoolean(&quot;user_logged_In&quot;, true)//You can put Boolean ,String ,etc whatever you want (boolean in my case)\n                    editor.putString(&quot;login_access_token&quot;,response.body()?.data?.access_token)//String example\n                    editor.commit()//Commit to make changes\n</code></pre>\n<p>Once stored ,now access it like this</p>\n<pre><code>     val pref: SharedPreferences = getSharedPreferences(&quot;sameKeyAsAbove&quot;, Context.MODE_PRIVATE)//Same Key name used while storing values(Important)\n    accessToken = pref.getString(&quot;login_access_token&quot;, &quot;DEFAULT&quot;)//Same key name as above while storing string(Access token is a string variable)\n</code></pre>\n<p>One more thing ,you wont be needing editor while accessing data from shared preferences ,you just need it while storing data</p>\n<p>just dont mess up with keys,else everything will go wrong</p>\n<h1>HappyCoding</h1>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": false, "score": 0, "last_activity_date": 1537341320, "creation_date": 1537341320, "answer_id": 52400181, "question_id": 52399772, "link": "https://stackoverflow.com/questions/52399772/save-data-when-change-activity/52400181#52400181", "title": "Save Data when change activity", "body": "<p><a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">SharedPreferences</a> is what you are looking for. It would look like something like this.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val pref = this.getSharedPreferences(\"myPrefs\", Context.MODE_PRIVATE)\n\n    if (!pref.getString(\"login\", \"\").isEmpty()) {\n        portText.setText(pref.getString(\"login\", \"\"))\n    }\n\n\n    loginButton.setOnClickListener {\n        val login = portText.text.toString()\n        pref.edit().putString(\"login\", login).apply()\n        startActivity(Intent(this, SecondActivity::class.java))\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 630, "user_id": 4575069, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nptlr.jpg?s=128&g=1", "display_name": "Syed Hamza Hassan", "link": "https://stackoverflow.com/users/4575069/syed-hamza-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1537341752, "creation_date": 1537341752, "answer_id": 52400309, "question_id": 52399772, "link": "https://stackoverflow.com/questions/52399772/save-data-when-change-activity/52400309#52400309", "title": "Save Data when change activity", "body": "<p>//First Activity when button clicked.</p>\n\n<pre><code>SharedPreferences prefs = getSharedPreferences(\"MyPref\", MODE_PRIVATE);\nSharedPreferences.Editor editor = Constant.prefs.edit();\neditor.putString(\"loginvalue\", portText.getText.toString());\neditor.commit();\n</code></pre>\n\n<p>//Second activity</p>\n\n<pre><code>SharedPreferences prefs = getSharedPreferences(\"MyPref\", MODE_PRIVATE);\nif(prefs.contains(\"loginvalue\")){youtextview.setText(prefs \n.getString(\"loginvalue\",\"\"));}\n</code></pre>\n\n<p>Try this, tell if it helped ?</p>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 7836336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-OmolpOrdcUY/AAAAAAAAAAI/AAAAAAAAAis/HrWWkbF7ufw/photo.jpg?sz=128", "display_name": "Sarthak Grover", "link": "https://stackoverflow.com/users/7836336/sarthak-grover"}, "is_accepted": false, "score": 0, "last_activity_date": 1537344830, "creation_date": 1537344830, "answer_id": 52401180, "question_id": 52399772, "link": "https://stackoverflow.com/questions/52399772/save-data-when-change-activity/52401180#52401180", "title": "Save Data when change activity", "body": "<p>Use SharedPreferences for your use case. The following is a sample code to implement what you are looking for.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_main)\n\nval sharedPref = this.getSharedPreferences(\"myPrefs\", Context.MODE_PRIVATE)\n\nif (!sharedPref.getString(\"login\", \"\").isEmpty()) {\n    portText.setText(sharedPref.getString(\"login\", \"\"))\n}\n\n\nloginButton.setOnClickListener {\n    val login = portText.text.toString()\n    sharedPref.edit().putString(\"login\", login).apply()\n    startActivity(Intent(this, SecondActivity::class.java))\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9972995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a35ab25b8d46dc362cb4783fe6eae2?s=128&d=identicon&r=PG&f=1", "display_name": "essetwopoints", "link": "https://stackoverflow.com/users/9972995/essetwopoints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1537344830, "creation_date": 1537339745, "question_id": 52399772, "link": "https://stackoverflow.com/questions/52399772/save-data-when-change-activity", "title": "Save Data when change activity", "body": "<p>I have a problem with saving the data when I change the activity. </p>\n\n<p>I have a initial login with EditText, where the people can write the parameters for login.</p>\n\n<p>Attach the xml code:</p>\n\n<pre><code> &lt;EditText\n    android:id=\"@+id/portText\"\n    android:layout_width=\"300dp\"\n    android:layout_height=\"30dp\"\n    android:layout_marginRight=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"4dp\"\n    android:background=\"@drawable/shape\"\n    android:hint=\"  Port Tcp\"\n    android:lineSpacingExtra=\"8sp\"\n    android:singleLine=\"true\"\n    android:textAlignment=\"textStart\"\n    android:textColorLink=\"@android:color/background_dark\"\n    android:textSize=\"10sp\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/idText\" /&gt;\n</code></pre>\n\n<p>When the user press the login button, the activity change.\nHow is possible to save and show the initial data insert to user, when he returns in login page?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1537338553, "post_id": 52399443, "comment_id": 91742882, "body": "How are you obtaining the result? Are you looking at it through the debugger?"}, {"owner": {"reputation": 107, "user_id": 5174571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4724907443f64b0483d48abf9da2eb7d?s=128&d=identicon&r=PG&f=1", "display_name": "Daya Nithi", "link": "https://stackoverflow.com/users/5174571/daya-nithi"}, "reply_to_user": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1537338590, "post_id": 52399443, "comment_id": 91742903, "body": "Yes. I am looking through debugger only."}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1537338642, "post_id": 52399443, "comment_id": 91742920, "body": "the 48 is just the debugger being helpful and telling you the how 0 is actually encoded."}], "answers": [{"tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": false, "score": 2, "last_activity_date": 1537339274, "last_edit_date": 1537339274, "creation_date": 1537338925, "answer_id": 52399555, "question_id": 52399443, "link": "https://stackoverflow.com/questions/52399443/i-have-string-with-numbers-when-getting-the-char-from-string-it-shows-048-in-k/52399555#52399555", "title": "I have String with numbers when getting the char from string it shows &#39;0&#39;48 in kotlin. How to get the char alone in kotlin", "body": "<p>The result is displayed as 48 as 48 is the ascii value of 0.\nConverting to integer would help.</p>\n\n<p>Try:</p>\n\n<pre><code>temBits.elementAt(0).toString().toInt()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "is_accepted": false, "score": 0, "last_activity_date": 1537338990, "creation_date": 1537338990, "answer_id": 52399576, "question_id": 52399443, "link": "https://stackoverflow.com/questions/52399443/i-have-string-with-numbers-when-getting-the-char-from-string-it-shows-048-in-k/52399576#52399576", "title": "I have String with numbers when getting the char from string it shows &#39;0&#39;48 in kotlin. How to get the char alone in kotlin", "body": "<p>48 is the ASCII (and others which are compatible to ASCII in the lower ranges) encoding of the character '0'.\nIt's your tool through which you obtain the result which formats the result (which is what you actually expect) to give you more information.</p>\n"}], "owner": {"reputation": 107, "user_id": 5174571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4724907443f64b0483d48abf9da2eb7d?s=128&d=identicon&r=PG&f=1", "display_name": "Daya Nithi", "link": "https://stackoverflow.com/users/5174571/daya-nithi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1537339274, "creation_date": 1537338360, "last_edit_date": 1537338429, "question_id": 52399443, "link": "https://stackoverflow.com/questions/52399443/i-have-string-with-numbers-when-getting-the-char-from-string-it-shows-048-in-k", "title": "I have String with numbers when getting the char from string it shows &#39;0&#39;48 in kotlin. How to get the char alone in kotlin", "body": "<p>Here we initialize a variable and get the first element but the expected result is not obtained</p>\n\n<pre><code>var temBits = \"00000000000000000001\"\ntemBits.elementAt(0)`\nResult = '0' 48\nexpected = 0\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1537374310, "post_id": 52399259, "comment_id": 91764358, "body": "Do you mean that without <code>addRating</code> you get no error, but after adding it you do get one?"}, {"owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1537405028, "post_id": 52399259, "comment_id": 91775533, "body": "yes , when trying ro add rating i&#39;m getting <code>Found conflicting getters for name getRatingDetail on class UserRatingSong</code>"}], "owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537337551, "creation_date": 1537337551, "question_id": 52399259, "link": "https://stackoverflow.com/questions/52399259/why-firestore-giving-found-conflicting-getters-for-name-error-even-if-there-i", "title": "Why firestore giving: `Found conflicting getters for name error` even if there is no confliction?", "body": "<p>I have tried similar questions like <a href=\"https://stackoverflow.com/questions/49308719/firestore-found-conflicting-getters-for-name-istext\">firestore-found-conflicting-getters-for-name-istext</a> but not helping, My actual error is<br>\n<code>Found conflicting getters for name getRatingDetail on class UserRatingSong</code><br>\nmy class structure is like this</p>\n\n<pre><code>interface UserRating&lt;T : Rating&gt; {\n    val ratingDetail: T\n    val userDetail: User\n}  \ndata class UserRatingSong(override val ratingDetail: SongRating,override val userDetail: User) : UserRating&lt;SongRating&gt; {\n    constructor() : this(SongRating(), User())\n}  \ninterface Rating {\n    var averageOfCategories: Float\n}  \n\ndata class SongRating(override var averageOfCategories: Float,var singerRating: Float,var musicRating: Float,var lyricsRating: Float) : Rating {\n    constructor() : this(0f, 0f, 0f, 0f)\n}  \ndata class User(val userName: String, val userId: String, val profilePic: String) {\n    constructor() : this(\"\", \"\", \"\")\n}\n</code></pre>\n\n<p>i am getting this error when trying adding new rating  </p>\n\n<pre><code>fun addRating(userRating:UserRatingSong){\n    firestore.collection(\"myCollection\")\n                .document(\"docId\")\n                .collection(\"userRatings\")\n                .document(userRating.userDetail.userId)\n                .set(userRating)//error occurs here\n}  \n</code></pre>\n\n<p>as i have checked any of class memeber doesnot have similar names, i even also tried to change <code>ratingDetail</code> field name but also getting same error with changed field name</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 713, "user_id": 7940360, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wgm3JDOIwug/AAAAAAAAAAI/AAAAAAAAAIs/w9lxhYS4oUc/photo.jpg?sz=128", "display_name": "Kishan Viramgama", "link": "https://stackoverflow.com/users/7940360/kishan-viramgama"}, "edited": false, "score": 0, "creation_date": 1537335382, "post_id": 52398620, "comment_id": 91741535, "body": "use <code>.add()</code> fragment method"}, {"owner": {"reputation": 11, "user_id": 5536387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e50ee87363c9aacbbed9c6ce7fc261?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/5536387/oasis"}, "reply_to_user": {"reputation": 713, "user_id": 7940360, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wgm3JDOIwug/AAAAAAAAAAI/AAAAAAAAAIs/w9lxhYS4oUc/photo.jpg?sz=128", "display_name": "Kishan Viramgama", "link": "https://stackoverflow.com/users/7940360/kishan-viramgama"}, "edited": false, "score": 0, "creation_date": 1537336149, "post_id": 52398620, "comment_id": 91741805, "body": "@KishanViramgama add() method does work. But when i use this, different layouts of different fragments are overlayed. Any suggestion to fix this please?"}, {"owner": {"reputation": 11, "user_id": 5536387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e50ee87363c9aacbbed9c6ce7fc261?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/5536387/oasis"}, "reply_to_user": {"reputation": 713, "user_id": 7940360, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wgm3JDOIwug/AAAAAAAAAAI/AAAAAAAAAIs/w9lxhYS4oUc/photo.jpg?sz=128", "display_name": "Kishan Viramgama", "link": "https://stackoverflow.com/users/7940360/kishan-viramgama"}, "edited": false, "score": 0, "creation_date": 1537336337, "post_id": 52398620, "comment_id": 91741871, "body": "I solved layout overlaying problem by adding background color to fragments. Is that an okay solution? @KishanViramgama"}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1537341812, "post_id": 52398620, "comment_id": 91744560, "body": "I have answered something like that before. I think it helps you: <a href=\"https://stackoverflow.com/questions/52172060/bottomnavigationview-lags-on-fragment-transaction/52180578#52180578\" title=\"bottomnavigationview lags on fragment transaction\">stackoverflow.com/questions/52172060/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 2021663, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9CJV2.png?s=128&g=1", "display_name": "Abdel", "link": "https://stackoverflow.com/users/2021663/abdel"}, "edited": false, "score": 0, "creation_date": 1539777769, "post_id": 52401296, "comment_id": 92623943, "body": "is it working good even when clicking the back button? is it gonna work for this case <a href=\"https://stackoverflow.com/questions/21665346/android-reorder-fragment-backstack\" title=\"android reorder fragment backstack\">stackoverflow.com/questions/21665346/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 5536387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e50ee87363c9aacbbed9c6ce7fc261?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/5536387/oasis"}, "is_accepted": false, "score": 0, "last_activity_date": 1537345183, "creation_date": 1537345183, "answer_id": 52401296, "question_id": 52398620, "link": "https://stackoverflow.com/questions/52398620/fragments-resume-show-and-hide-transactions-dont-work/52401296#52401296", "title": "Fragments Resume: Show and hide transactions don&#39;t work", "body": "<p>With the help of <a href=\"https://stackoverflow.com/users/7940360/kishan-viramgama\">Kishan Viramgama</a> comment's, i solved my problem. I used \"add\" method instead of \"replace\". This is my code for resuming fragments: `</p>\n\n<pre><code>fun replaceFragment(fragment: Fragment) {\n    var nameOfFragment: String? = fragment::class.simpleName\n    var fragmentTransaction = supportFragmentManager.beginTransaction()\n    var fm: FragmentManager = supportFragmentManager\n    if (supportFragmentManager.findFragmentByTag(nameOfFragment) == null) {\n        fragmentTransaction.add(R.id.root_fragments, fragment, nameOfFragment)      //if fragment is not added to the backstack,add it/ don't use replace because it creates new fragment emptying fragment container\n        fragmentTransaction.addToBackStack(nameOfFragment)\n        fragmentTransaction.commit()\n    } else {\n        var fragmentToShow:Fragment = supportFragmentManager.findFragmentByTag(nameOfFragment) //if fragment is already in backstack,show it and hide all other fragments.\n        for (i in 0 until fm.backStackEntryCount) {\n            var fragmentToHide: Fragment = fm.findFragmentByTag(fm.getBackStackEntryAt(i).name)\n            if (fragmentToHide::class.simpleName != fragment::class.simpleName)\n                fragmentTransaction.hide(fragmentToHide)\n        }\n        fragmentTransaction.show(fragmentToShow)\n        fragmentTransaction.commit()\n    }\n\n}\n</code></pre>\n\n<p>`</p>\n"}], "owner": {"reputation": 11, "user_id": 5536387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e50ee87363c9aacbbed9c6ce7fc261?s=128&d=identicon&r=PG&f=1", "display_name": "Oasis", "link": "https://stackoverflow.com/users/5536387/oasis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537345183, "creation_date": 1537334468, "last_edit_date": 1537336694, "question_id": 52398620, "link": "https://stackoverflow.com/questions/52398620/fragments-resume-show-and-hide-transactions-dont-work", "title": "Fragments Resume: Show and hide transactions don&#39;t work", "body": "<p>I want to resume android fragments that are in the backstack. When switching between different tabs on bottomnavigation,i don't want the views of fragments to be recreated.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/questions/42795611/fragmenttransaction-hide-show-doesnt-work-sometimes/46676381#46676381\">this</a>, <a href=\"https://stackoverflow.com/questions/14347588/show-hide-fragment-in-android?rq=1\">this</a>,<a href=\"https://stackoverflow.com/questions/18305945/how-to-resume-fragment-from-backstack-if-exists\">this</a> and some other questions on stackoverflow related to this. Common suggestions are to use show and hide method of fragment transactions but it is not working. Here is my kotlin code:</p>\n\n<pre><code>    bottomnavigation.setOnNavigationItemSelectedListener {\n        item -&gt;\n        when(item.itemId){\n            R.id.first_fragment_item -&gt; {\n                var fragment:Fragment = FirstFragment.newInstance()\n                replaceFragment(fragment)\n                return@setOnNavigationItemSelectedListener true\n            }\n            R.id.second_fragment_item -&gt; {\n                var fragment:Fragment = SecondFragment.newInstance()\n                replaceFragment(fragment)\n                return@setOnNavigationItemSelectedListener true\n            }\n\n        }\n        return@setOnNavigationItemSelectedListener false\n\n    }\n\n}\n\n  fun replaceFragment(fragment:Fragment) {\n\n    var fragmentName:String = fragment::class.simpleName!!\n\n    if(supportFragmentManager.findFragmentByTag(fragmentName)==null) {\n        val fragmentTransaction = supportFragmentManager.beginTransaction()\n        fragmentTransaction.replace(R.id.fragment_container, fragment, fragmentName)\n        fragmentTransaction.addToBackStack(fragmentName)\n        fragmentTransaction.commit()\n    }\n    else{\n        if(fragmentName == \"FirstFragment\") {\n            supportFragmentManager.beginTransaction().\n                     hide(supportFragmentManager.findFragmentByTag(\"SecondFragment\"))\n                    .show(supportFragmentManager.findFragmentByTag(\"FirstFragment\"))\n                    .commit()\n        }\n        else{\n            supportFragmentManager.beginTransaction()\n                    .hide(supportFragmentManager.findFragmentByTag(\"FirstFragment\"))\n                    .show(supportFragmentManager.findFragmentByTag(\"SecondFragment\"))\n                    .commit()\n        }\n    }\n\n}\n</code></pre>\n\n<p>The last fragment of backstack is always shown. When i want to hide it and show \nthe other fragment, that fragment screen becomes white with nothing on it.</p>\n\n<p>My bottomnavigation has four items but for testing purpose i am only using two. Two of fragments are FirstFragment and SecondFragment. I am using v4.app.fragments.</p>\n"}, {"tags": ["android", "kotlin", "android-actionbar"], "answers": [{"tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": false, "score": 0, "last_activity_date": 1537332331, "last_edit_date": 1537332331, "creation_date": 1537332005, "answer_id": 52398164, "question_id": 52398115, "link": "https://stackoverflow.com/questions/52398115/how-to-inflate-menu-on-actionbar-on-the-left/52398164#52398164", "title": "How to inflate menu on actionbar on the left", "body": "<p>How about this: <code>setDisplayHomeAsUpEnabled()</code></p>\n\n<pre><code>R.id.editBio -&gt; {\n            editProfileBio()\n            supportActionBar?.setDisplayHomeAsUpEnabled(true)\n            true\n        }\n</code></pre>\n\n<p>To handle when pressed:</p>\n\n<pre><code>override fun onBackPressed() {\n        super.onBackPressed()\n        // do your stuff when pressed the back Button\n    }\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>I'd also be okay with just replacing the menu on the right with an\n  arrow or a \"&lt;\" as well, although <strong>I don't like that idea as much</strong>.</p>\n</blockquote>\n\n<p>Don't like that idea either. By enabling back <code>Button</code> when <code>editbio</code> clicked, you'll have access to the current menu and there will be a back <code>Button</code> too so this seems to be the perfect way to do that.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537338505, "post_id": 52398279, "comment_id": 91742860, "body": "I tried implementing this and I get unresolved references on <code>setSupportActionBar</code> and <code>actionBar</code>.  I didn&#39;t mention that this is inside a fragment if that makes a difference.  Also I do have <code>lateinit var toolbar: ActionBar</code>."}, {"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "reply_to_user": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537340414, "post_id": 52398279, "comment_id": 91743854, "body": "I have updated the answer for fragment scenario please check"}, {"owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537344144, "post_id": 52398279, "comment_id": 91745796, "body": "What is <code>tb_main_toolbar</code>?  Is that a menu layout item?"}, {"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "reply_to_user": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537347266, "post_id": 52398279, "comment_id": 91747589, "body": "It is the id of the toolbar which is present in the layout file of activity"}, {"owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537495161, "post_id": 52398279, "comment_id": 91814577, "body": "I am getting this error: <code>This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.</code>"}, {"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "reply_to_user": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537497269, "post_id": 52398279, "comment_id": 91814958, "body": "Ok, Use AppCompatActivity and for this issue you should see this answer <a href=\"https://stackoverflow.com/a/26515159/6393514\">stackoverflow.com/a/26515159/6393514</a>"}], "tags": [], "owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1537341666, "last_edit_date": 1537341666, "creation_date": 1537332591, "answer_id": 52398279, "question_id": 52398115, "link": "https://stackoverflow.com/questions/52398115/how-to-inflate-menu-on-actionbar-on-the-left/52398279#52398279", "title": "How to inflate menu on actionbar on the left", "body": "<p>You just have to listen for the R.id.home option</p>\n\n<ol>\n<li>Add a toolbar to activity layout.</li>\n<li><p>In your fragment declare that it needs to redraw the toolbar. </p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/Fragment.html#setHasOptionsMenu(boolean)\" rel=\"nofollow noreferrer\">setHasOptionsMenu</a>(true);</p></li>\n<li><p>Set toolbar as action bar </p>\n\n<pre><code>private fun setActionBar() {\n    val toolbar = getActivity().findViewById(R.id.tb_main_toolbar)\n\n    if (toolbar != null) {\n        (getActivity() as AppCompatActivity).setSupportActionBar(toolbar)\n    }\n    val actionBar = (getActivity() as AppCompatActivity).supportActionBar\n    if (null != actionBar) {\n        customizeActionBar(actionBar)\n    }\n}\n\nprivate fun customizeActionBar(actionBar: ActionBar) {\n    actionBar.setDisplayHomeAsUpEnabled(true)\n    actionBar.setTitle(R.string.logout)\n    actionBar.setDisplayHomeAsUpEnabled(true)\n    actionbar.setDisplayShowHomeEnabled(true)\n    actionBar.setHomeAsUpIndicator(R.drawable.logout)\n}\n</code></pre></li>\n<li><p>Override onOptionItemSelected and do your functionality</p>\n\n<pre><code>override fun onOptionsItemSelected(item: MenuItem): Boolean {\n    when (item.itemId) {\n        android.R.id.home -&gt;  \n            FirebaseAuth.getInstance().signOut()\n            val i = Intent(context, Login::class.java)\n            startActivity(i)\n            true\n    }\n    return true\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1537341666, "creation_date": 1537331663, "question_id": 52398115, "link": "https://stackoverflow.com/questions/52398115/how-to-inflate-menu-on-actionbar-on-the-left", "title": "How to inflate menu on actionbar on the left", "body": "<p>I have a menu inside the top actionbar that allows for changing a password, editing their profile, and logging out.  What I need is, once they click the \"edit bio\" option, I want to add an arrow or a \"&lt;\" to the actionbar on the left side to allow the user a \"go back\" option if they want to exit editing the profile as well as hiding the right side menu option while they are editing.  Here's my code for inflating the menu on the right:</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n        inflater!!.inflate(R.menu.profiletoolbar, menu)\n        super.onCreateOptionsMenu(menu, inflater)\n    }\n\n    //get the actionbar selction when pressed\n    override fun onOptionsItemSelected(item: MenuItem): Boolean = when (item.itemId) {\n        R.id.userLogout -&gt; {\n            FirebaseAuth.getInstance().signOut()\n            val i = Intent(context, Login::class.java)\n            startActivity(i)\n            true\n        }\n        R.id.editBio -&gt; {\n            editProfileBio()\n            true\n        }\n        else -&gt; super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p>I really want to understand what the process is behind how this works.  Can someone help me?  I'd also be okay with just replacing the menu on the right with an arrow or a \"&lt;\" as well, although I don't like that idea as much.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "edited": false, "score": 0, "creation_date": 1537328978, "post_id": 52397578, "comment_id": 91739766, "body": "post recyclerview adapter and activity code if you need more help."}], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 10383379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c16ef1624fd3e125734763aeb0f670?s=128&d=identicon&r=PG&f=1", "display_name": "Miras Temirbay", "link": "https://stackoverflow.com/users/10383379/miras-temirbay"}, "edited": false, "score": 0, "creation_date": 1537346312, "post_id": 52397693, "comment_id": 91747028, "body": "When I call function <code>setAdapter</code> in <code>onCreateView</code> studio tells me <code>recyclerView is null</code>, so I guess I can&#39;t call it. When I use <code>onViewCreated</code> <code>notifyDataSetChanged</code> not working. Could you help me?"}], "tags": [], "owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "is_accepted": true, "score": 1, "last_activity_date": 1537328614, "creation_date": 1537328614, "answer_id": 52397693, "question_id": 52397578, "link": "https://stackoverflow.com/questions/52397578/last-days-i-was-trying-to-add-api-pagination-for-my-recycler-view-but-i-faced-a/52397693#52397693", "title": "Last days I was trying to add api pagination for my recycler view. But I faced a problem such", "body": "<p>In your activitie's <code>onCreate</code> or fragment's <code>onCreateView</code> create initialize your adapter with empty <code>ArrayList</code> and later when you fetch your data add items to your arraylist and call <code>adapter.notifyDataSetChanged()</code></p>\n"}], "owner": {"reputation": 48, "user_id": 10383379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c16ef1624fd3e125734763aeb0f670?s=128&d=identicon&r=PG&f=1", "display_name": "Miras Temirbay", "link": "https://stackoverflow.com/users/10383379/miras-temirbay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52397693, "answer_count": 1, "score": 1, "last_activity_date": 1537338886, "creation_date": 1537327746, "last_edit_date": 1537338886, "question_id": 52397578, "link": "https://stackoverflow.com/questions/52397578/last-days-i-was-trying-to-add-api-pagination-for-my-recycler-view-but-i-faced-a", "title": "Last days I was trying to add api pagination for my recycler view. But I faced a problem such", "body": "<pre><code>override fun setAdapter() {\n    adapter = WaybillAdapter(items, activity!!, this, recyclerView)\n    recyclerView.adapter = adapter\n}\n</code></pre>\n\n<p>I am updating my adapter when I should add items for my recycler like</p>\n\n<pre><code>override fun addWaybills(list: ArrayList&lt;Data&gt;) {\n     items.addAll(list)\n     adapter.setLoaded(true)\n}\n</code></pre>\n\n<p>Add my position of an recycler is jumping to start.\nMy question is how should update adapter by not changing current position?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537339885, "post_id": 52397555, "comment_id": 91743560, "body": "So you are basically saying that the anonymous authentication is successful but you cannot see the user in your Firebase Console / Authentication section?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537373063, "post_id": 52397555, "comment_id": 91763681, "body": "Yes, it even shows the uid I sent to Database, but nothing in Authentication section."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537377026, "post_id": 52397555, "comment_id": 91765692, "body": "Are you sure you are looking at the correct project?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537385377, "post_id": 52397555, "comment_id": 91769630, "body": "Yes. I only have 1 project on there, and I&#39;ve tested it multiple times with the same result. As I mentioned It works as intended when there&#39;s a sign in button that I click on, Without it, the console doesn&#39;t create the user for me."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537385651, "post_id": 52397555, "comment_id": 91769764, "body": "Can please you add a screenshot from your console?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537387743, "post_id": 52397555, "comment_id": 91770736, "body": "I added the screenshots to my question above."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537389527, "post_id": 52397555, "comment_id": 91771465, "body": "Have you enabled anonymous authentication in your Firebase Console?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537390776, "post_id": 52397555, "comment_id": 91771986, "body": "Yes. I enabled it when i test with sign in button"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537391001, "post_id": 52397555, "comment_id": 91772067, "body": "task.getException() print anything?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537391452, "post_id": 52397555, "comment_id": 91772243, "body": "It doesn&#39;t print anything."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537391933, "post_id": 52397555, "comment_id": 91772416, "body": "So you say that this message is printed <code>signInAnonymously:success</code>, right?"}, {"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537392132, "post_id": 52397555, "comment_id": 91772480, "body": "Yes. Everything in the listener is success except for the console don&#39;t create user."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537393182, "post_id": 52397555, "comment_id": 91772817, "body": "I see, I&#39;ll write you an answer right now."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1537394313, "post_id": 52397555, "comment_id": 91773200, "body": "Please see my answer below. Pff, didn&#39;t see it from the beginning. Voted up."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "edited": false, "score": 1, "creation_date": 1537396486, "post_id": 52414634, "comment_id": 91773796, "body": "Thanks for the help. Though this is not exactly the solution as the onComepleteListener object is redundant, I indirectly found the reason why Firebase wasn&#39;t creating user. The reason is that before I tried this automatic sign in, the user (firebaseAuth.currentUser) already exists. So when I sign out explicitly using FirebaseAuth.getInstance.signOut() this way the user becomes null and firebase will create another for me. Up voted though :)"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1537393749, "creation_date": 1537393749, "answer_id": 52414634, "question_id": 52397555, "link": "https://stackoverflow.com/questions/52397555/why-doesnt-firebase-console-create-anonymous-user-when-sign-in-anonymously-unde/52414634#52414634", "title": "Why doesn&#39;t Firebase Console create anonymous user when sign in anonymously under Android onCreate?", "body": "<p>The fact that you aren't writing the <code>email</code> and <code>name</code> in your database, isn't an issue because when you are trying to authenticate an user anonymous, the <code>FirebaseUser</code> object does not contain any values for those properties. So this is the reason why those properties are empty in your database. If you want to have them populated, you should link the anonymous account with a real account as explained <a href=\"https://firebase.google.com/docs/auth/android/anonymous-auth#convert-an-anonymous-account-to-a-permanent-account\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The reason that you get no user added in your Firebase Console is because you aren't passing to the Task's <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#addOnCompleteListener(android.app.Activity,%20com.google.android.gms.tasks.OnCompleteListener%3CTResult%3E)\" rel=\"nofollow noreferrer\">addOnCompleteListener</a> method an activity and and a <code>OnCompleteListener</code> object you are only passing <code>this</code>, which is not correct. To solve this, please use the following code:</p>\n\n<pre><code>firebaseAuth!!.signInAnonymously()\n        .addOnCompleteListener(this, OnCompleteListener&lt;AuthResult&gt; { task -&gt;\n            if (task.isSuccessful) {\n                // Sign in success, update UI with the signed-in user's information\n                Log.d(TAG, \"signInAnonymously:success\")\n                Toast.makeText(this, \"Authentication succeeded.\",\n                        Toast.LENGTH_SHORT).show()\n\n                /* Assign 'user' */\n                user = firebaseAuth!!.currentUser\n\n                // Write a message to the database\n                val database = FirebaseDatabase.getInstance()\n                val uidPath: String? = user?.uid\n\n                val uidRef = database.getReference(\"users\")\n                val nameRef = database.getReference(\"users/$uidPath/name\")\n                val emailRef = database.getReference(\"users/$uidPath/email\")\n                val authProviderRef = database.getReference(\"users/$uidPath/authProvider\")\n\n                uidRef.setValue(\"${user?.uid}\")\n                nameRef.setValue(\"${user?.displayName}\")\n                emailRef.setValue(\"${user?.email}\")\n                user?.providerData?.forEach {\n                    authProviderRef.setValue(it.providerId)\n                }\n            } else {\n                // If sign in fails, display a message to the user.\n                Log.w(TAG, \"signInAnonymously:failure\", task.exception)\n                Toast.makeText(this, \"Authentication failed.\",\n                        Toast.LENGTH_SHORT).show()\n            }\n        })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "is_accepted": true, "score": 0, "last_activity_date": 1537396564, "creation_date": 1537396564, "answer_id": 52415062, "question_id": 52397555, "link": "https://stackoverflow.com/questions/52397555/why-doesnt-firebase-console-create-anonymous-user-when-sign-in-anonymously-unde/52415062#52415062", "title": "Why doesn&#39;t Firebase Console create anonymous user when sign in anonymously under Android onCreate?", "body": "<p>The reason is that before I tried this automatic sign in, the user (firebaseAuth.currentUser) already exists. So when I sign out explicitly using FirebaseAuth.getInstance.signOut() this way the user becomes null and firebase will create a user.</p>\n"}], "owner": {"reputation": 115, "user_id": 9040498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e017b3aad0d9740581906957ba1538?s=128&d=identicon&r=PG&f=1", "display_name": "Jay N", "link": "https://stackoverflow.com/users/9040498/jay-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 52415062, "answer_count": 2, "score": 3, "last_activity_date": 1537396564, "creation_date": 1537327545, "last_edit_date": 1537393795, "question_id": 52397555, "link": "https://stackoverflow.com/questions/52397555/why-doesnt-firebase-console-create-anonymous-user-when-sign-in-anonymously-unde", "title": "Why doesn&#39;t Firebase Console create anonymous user when sign in anonymously under Android onCreate?", "body": "<p>First of all, I've implemented Firebase authentication anonymous sign in without an issue when there's a sign in button. But when I put the sign in code under <code>onCreate()</code> to simulate automatic sign in, it does show sign in anonymously success and I'm able to read and write but the Console doesn't create the user. Why is it? Here's my code:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val config = AndroidApplicationConfiguration()\n    initialize(Main(this), config)\n\n    mAuth = FirebaseAuth.getInstance()\n\n    mAuth.signInAnonymously()\n            .addOnCompleteListener(this) { task -&gt;\n                if (task.isSuccessful) {\n                    // Sign in success, update UI with the signed-in user's information\n                    Log.d(TAG, \"signInAnonymously:success\")\n                    Toast.makeText(this, \"Authentication succeeded.\",\n                            Toast.LENGTH_SHORT).show()\n\n                    /* Assign 'user' */\n                    user = mAuth.currentUser\n\n                    // Write a message to the database\n                    val database = FirebaseDatabase.getInstance()\n                    val uidPath: String? = user?.uid\n\n                    val uidRef = database.getReference(\"users\")\n                    val nameRef = database.getReference(\"users/$uidPath/name\")\n                    val emailRef = database.getReference(\"users/$uidPath/email\")\n                    val authProviderRef = database.getReference(\"users/$uidPath/authProvider\")\n\n                    uidRef.setValue(\"${user?.uid}\")\n                    nameRef.setValue(\"${user?.displayName}\")\n                    emailRef.setValue(\"${user?.email}\")\n                    user?.providerData?.forEach {\n                        authProviderRef.setValue(it.providerId)\n                    }\n                } else {\n                    // If sign in fails, display a message to the user.\n                    Log.w(TAG, \"signInAnonymously:failure\", task.exception)\n                    Toast.makeText(this, \"Authentication failed.\",\n                            Toast.LENGTH_SHORT).show()\n                }\n\n            }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NuO89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuO89.png\" alt=\"Auth\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LXN0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LXN0v.png\" alt=\"database\"></a></p>\n"}, {"tags": ["java", "kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1043, "user_id": 6809386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6yetp.gif?s=128&g=1", "display_name": "Alexander Anikin", "link": "https://stackoverflow.com/users/6809386/alexander-anikin"}, "edited": false, "score": 0, "creation_date": 1537349211, "post_id": 52397195, "comment_id": 91748785, "body": "Kotlin is using non-blocking io for network operations. Also no one prevents libraries from creating as many threads as needed. Wiki it: Non-blocking I/O (Java)"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537346668, "post_id": 52397516, "comment_id": 91747246, "body": "Hi Raymond, thank you for your reply. Could you please elaborate on the differences between the examples you gave above. I checked the document and it seems to me that the &#39;await&#39; call means waiting for the coroutine to complete without blocking the current thread(I did not find any doc for &#39;bg&#39; through). However, as I put it in the question, how is it possible for two coroutines to run concurrently if they do not know when to yield, without introducing multiple threads?"}, {"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537346859, "post_id": 52397516, "comment_id": 91747357, "body": "Specifically in your  example, even though the &#39;downloadBigFileUsingNetwork&#39; is explicitly executed as a coroutine, I would expect it to continue consume the current thread unless it explicitly yield to the parent coroutine, which is responsible for rendering the UI. Ideally, it should yield when it is waiting for the download to complete. But as you mentioned, it doesn&#39;t know it is performing I/O operations, which means it will not yield automatically. Under such a case, I suppose it still blocks the current thread, isn`t it?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537374505, "post_id": 52397516, "comment_id": 91764486, "body": "Your question can be simplified to the following: does <code>downloadBigFileUsingNetwork</code> use blocking on non-blocking network calls? All Android network libraries are async, so you just have to use their callbacks to resume the coroutine. If you somehow still use a blocking API, then you must use <code>withContext(Default) { blockingCall() }</code>, which turns the blocking call into a suspending one."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537424116, "post_id": 52397516, "comment_id": 91780485, "body": "Nothing in your answer demonstrates the suspension of coroutines. Your code has exactly the same form and behavior as if all calls were blocking. You can implement your <code>async { task() }</code> with something like <code>val future = threadPool.submit { task() }</code> and <code>task.await()</code> with <code>future.get()</code>"}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537450552, "post_id": 52397516, "comment_id": 91795982, "body": "@MarkoTopolnik sorry, maybe I&#39;m misunderstanding the point of this question, interlingual barriers can be hard to overcome."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537450752, "post_id": 52397516, "comment_id": 91796121, "body": "I was commenting the point of your answer, though. The code you wrote doesn&#39;t demonstrate anything interesting about coroutines. It doesn&#39;t show suspension/resumption or how some other code executes on the same thread while a coroutine is suspended."}, {"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537451538, "post_id": 52397516, "comment_id": 91796692, "body": "Previously I thought one must explicitly call something like &#39;yield&#39; to suspend Kotlin coroutines, mostly because my previous experience with python&#39;s similar library. But as it turns out, that is done automatically when calling a function marked as &#39;suspend&#39;. The only task left is to define where to resume, that is why a callback is needed. Of course, here I&#39;m assuming an asynchronous call is used. That`s the way I see it now."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537452323, "post_id": 52397516, "comment_id": 91797226, "body": "No, it&#39;s not done automatically. <code>suspend</code> just means the function is <i>allowed</i> to suspend itself, but it must explicitly request suspension by calling <code>suspendCoroutine</code>."}, {"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539770128, "post_id": 52397516, "comment_id": 92619462, "body": "@Marko, thank you for pointing this out. I&#39;ve been crazy busy at work in the past few weeks and I don`t want to reply without further investigation. Now I have time to look into this again, and yes, you are absolutely right about how a coroutine is suspended. This call is underthehood of many library functions."}], "tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 3, "last_activity_date": 1537450220, "last_edit_date": 1537450220, "creation_date": 1537327193, "answer_id": 52397516, "question_id": 52397195, "link": "https://stackoverflow.com/questions/52397195/how-does-kotlin-coroutines-know-when-to-yield-when-making-network-calls/52397516#52397516", "title": "How does Kotlin coroutines know when to yield when making network calls?", "body": "<p>The answer is: Coroutine does not know about network calls or I/O operations. You have to write the code according to what you want, enclosing heavy work into different coroutines, so they can be executed concurrently, because the default behavior is sequentially.</p>\n\n<p>For example:</p>\n\n<pre><code>suspend fun doSomethingUsefulOne(): Int {\n    delay(1000L) // pretend we are doing something useful here (maybe I/O)\n    return 13\n}\n\nsuspend fun doSomethingUsefulTwo(): Int {\n    delay(1000L) // pretend we are doing something useful here (maybe I/O), too\n    return 29\n}\n\nfun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n        val time = measureTimeMillis {\n            val one = doSomethingUsefulOne()\n            val two = doSomethingUsefulTwo()\n            println(\"The answer is ${one + two}\")\n        }\n    println(\"Completed in $time ms\")\n}\n</code></pre>\n\n<p>will produce something like this:</p>\n\n<pre><code>The answer is 42\nCompleted in 2017 ms\n</code></pre>\n\n<p>and doSomethingUsefulOne() and doSomethingUsefulTwo() will be executed sequentially.\nIf you want concurrent execution you must write instead:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    val time = measureTimeMillis {\n        val one = async { doSomethingUsefulOne() }\n        val two = async { doSomethingUsefulTwo() }\n        println(\"The answer is ${one.await() + two.await()}\")\n    }\n    println(\"Completed in $time ms\")\n}\n</code></pre>\n\n<p>that will produce:</p>\n\n<pre><code>The answer is 42\nCompleted in 1017 ms\n</code></pre>\n\n<p>as doSomethingUsefulOne() and doSomethingUsefulTwo() will be executed concurrently.</p>\n\n<p>Source: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#composing-suspending-functions\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#composing-suspending-functions</a></p>\n\n<p><strong>UPDATE:</strong>\nAbout where the coroutines are executed we can read in the github project guide <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#thread-local-data\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#thread-local-data</a>:</p>\n\n<blockquote>\n  <p>Sometimes it is convenient to have an ability to pass some thread-local data, but, for coroutines, which are not bound to any particular thread, it is hard to achieve it manually without writing a lot of boilerplate.</p>\n  \n  <p>For ThreadLocal, asContextElement extension function is here for the rescue. It creates an additional context element, which keep the value of the given ThreadLocal and restores it every time the coroutine switches its context.</p>\n  \n  <p>It is easy to demonstrate it in action:</p>\n</blockquote>\n\n<pre><code>val threadLocal = ThreadLocal&lt;String?&gt;() // declare thread-local variable\nfun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    threadLocal.set(\"main\")\n    println(\"Pre-main, current thread: ${Thread.currentThread()}, threadlocal value: '${threadLocal.get()}'\")\n    val job = launch(Dispatchers.Default + threadLocal.asContextElement(value = \"launch\")) {\n        println(\"Launch start, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'\")\n        yield()\n        println(\"After yield, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'\")\n    }\n    job.join()\n    println(\"Post-main, current thread: ${Thread.currentThread()}, thread local value: '${threadLocal.get()}'\")\n}\n</code></pre>\n\n<blockquote>\n  <p>In this example we launch new coroutine in a background thread pool using Dispatchers.Default, so it works on a different threads from a thread pool, but it still has the value of thread local variable, that we've specified using threadLocal.asContextElement(value = \"launch\"), no matter on what thread the coroutine is executed. Thus, output (with debug) is:</p>\n</blockquote>\n\n<pre><code>Pre-main, current thread: Thread[main @coroutine#1,5,main], thread local value: 'main'\nLaunch start, current thread: Thread[CommonPool-worker-1 @coroutine#2,5,main], thread local value: 'launch'\nAfter yield, current thread: Thread[CommonPool-worker-2 @coroutine#2,5,main], thread local value: 'launch'\nPost-main, current thread: Thread[main @coroutine#1,5,main], thread local value: 'main'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537429202, "post_id": 52401208, "comment_id": 91783074, "body": "Thank you for clarifying. Your answer made me rethink my question. I also found this link helpful <a href=\"https://stackoverflow.com/questions/22177722/java-nio-non-blocking-channels-vs-asynchronouschannels\">link</a>."}, {"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 3, "creation_date": 1537429208, "post_id": 52401208, "comment_id": 91783079, "body": "So here is my understanding now, 1. Using Kotlin coroutines does not automatically turns blocking calls into non-blocking ones, it just provides an easier and more natural way for writing asynchronous code(by providing a mechanism for suspend and resume coroutines). 2. To get the most out of it, we&#39;d better use some kind of async libraries, such as Java NIO, or CompletableFuture which has callbacks. 3. On the other hand, if blocking calls are used, we`d still get blocked unless we use more threads. @Marko, could you please verify whether my new understanding is correct or not? Thanks!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 3, "creation_date": 1537436865, "post_id": 52401208, "comment_id": 91787400, "body": "Yes, pretty much on the target. Blocking calls always end up in <code>native</code> methods, there&#39;s no way you can patch them from the outside to turn them into non-blocking ones. Python is very different here because its IO has always been based on non-blocking IO and the IO event loop. That&#39;s something you <i>can</i> patch to get coroutine-like behavior."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537437178, "post_id": 52401208, "comment_id": 91787595, "body": "However, I wouldn&#39;t recommend you to get involved with Java NIO directly, it&#39;s very low-level and quite awkward APIs. You should use a library like Netty that turns it into something more convenient."}, {"owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "edited": false, "score": 0, "creation_date": 1537451222, "post_id": 52401208, "comment_id": 91796471, "body": "thanks. I read your first answer again and now I understand it much better. Actually I believe it answered my question in the first place, just that I failed to get it at that time."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 7, "last_activity_date": 1537347622, "last_edit_date": 1537347622, "creation_date": 1537344899, "answer_id": 52401208, "question_id": 52397195, "link": "https://stackoverflow.com/questions/52397195/how-does-kotlin-coroutines-know-when-to-yield-when-making-network-calls/52401208#52401208", "title": "How does Kotlin coroutines know when to yield when making network calls?", "body": "<blockquote>\n  <p>a coroutine works preemptively</p>\n</blockquote>\n\n<p>Nope. With coroutines you can only implement cooperative multithreading, where you suspend and resume coroutines with explicit method calls. The coroutine singles out just the concern of suspending and resuming on demand, whereas the <em>coroutine dispatcher</em> is in charge of ensuring it starts and resumes on the appropriate thread.</p>\n\n<p>Studying this code will help you see the essence of Kotlin coroutines:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.*\nimport kotlin.coroutines.experimental.*\n\nfun main(args: Array&lt;String&gt;) {\n    var continuation: Continuation&lt;Unit&gt;? = null\n    println(\"main(): launch\")\n    GlobalScope.launch(Dispatchers.Unconfined) {\n        println(\"Coroutine: started\")\n        suspendCoroutine&lt;Unit&gt; {\n            println(\"Coroutine: suspended\")\n            continuation = it\n        }\n        println(\"Coroutine: resumed\")\n    }\n    println(\"main(): resume continuation\")\n    continuation!!.resume(Unit)\n    println(\"main(): back after resume\")\n}\n</code></pre>\n\n<p>Here we use the most trivial <code>Unconfined</code> dispatcher, which doesn't do any dispatching, it runs the coroutine right there where you call <code>launch { ... }</code> and <code>continuation.resume()</code>. The coroutine suspends itself by calling <code>suspendCoroutine</code>. This function runs the block you supply by passing it the object you can use later to resume the coroutine. Our code saves it to the <code>var continuation</code>. Control returns to the code after <code>launch</code>, where we use the continuation object to resume the coroutine.</p>\n\n<p>The entire program executes on the main thread and prints this:</p>\n\n<pre><code>main(): launch\nCoroutine: started\nCoroutine: suspended\nmain(): resume continuation\nCoroutine: resumed\nmain(): back after resume\n</code></pre>\n\n<blockquote>\n  <p>We could launch one coroutine to make REST API calls to get the data, while having another coroutine paint the rest of the UI which have no dependency on the data.</p>\n</blockquote>\n\n<p>This actually describes what you'd do with plain threads. The advantage of coroutines is that you can make a \"blocking\" call in the middle of GUI-bound code and it won't freeze the GUI. In your example you'd write a single coroutine that makes the network call and then updates the GUI. While the network request is in progress, the coroutine is suspended and other event handlers run, keeping the GUI live. The handlers aren't coroutines, they are just regular GUI callbacks.</p>\n\n<p>In the simplest terms, you can write this Android code:</p>\n\n<pre><code>activity.launch(Dispatchers.Main) {\n    textView.text = requestStringFromNetwork()\n}\n\n...\n\nsuspend fun requestStringFromNetwork() = suspendCancellableCoroutine&lt;String&gt; {\n    ...\n}\n</code></pre>\n\n<p><code>requestStringFromNetwork</code> is the equivalent of \"patching the IO layer\", but you don't actually patch anything, you just write wrappers around the IO library's public API. Pretty much all Kotlin IO libraries are adding these wrappers and there are extension libs for Java IO libs as well. It's also very straightforward to write your own if you follow <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#wrapping-callbacks\" rel=\"noreferrer\">these instructions</a>.</p>\n"}], "owner": {"reputation": 143, "user_id": 7324343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3dc72316594f8bf84528d30b61f420?s=128&d=identicon&r=PG&f=1", "display_name": "Rafoul", "link": "https://stackoverflow.com/users/7324343/rafoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3423, "favorite_count": 6, "accepted_answer_id": 52401208, "answer_count": 2, "score": 14, "last_activity_date": 1552980751, "creation_date": 1537324464, "last_edit_date": 1552980751, "question_id": 52397195, "link": "https://stackoverflow.com/questions/52397195/how-does-kotlin-coroutines-know-when-to-yield-when-making-network-calls", "title": "How does Kotlin coroutines know when to yield when making network calls?", "body": "<p>I`m new to Kotlin coroutines and one thing I failed to figure out is, how does the coroutines know when to yield to others when making network calls.</p>\n\n<p>If I understand it right, a coroutine works preemptively, which means it knows when to yield to other coroutines when it has some time-consuming tasks(typically I/O operations) to perform.</p>\n\n<p>For example, let`s say we want to paint some UI which will display data from a remote server, and we have only one thread to schedule our coroutines. We could launch one coroutine to make REST API calls to get the data, while having another coroutine paint the rest of the UI which have no dependency on the data. However, since we have only one thread, there could only be one coroutine running at a time. And unless the coroutine which is used to fetch data preemptively yields while it is waiting for data to arrive, the two coroutines would be executed sequentially.</p>\n\n<p>As far as I know, Kotlin's coroutine implementation does not patch any of existing JVM implementation or JDK network libraries. So if a coroutine is calling a REST API, it should block just like this is done using a Java thread. I'm saying this because I've seem similar concepts in python which are called green threads. And in order for it to work with python`s built-in network library, one must 'monkey-patch' the network library first. And to me this makes sense because only the network library itself knows when to yield.</p>\n\n<p>So could anyone explain how Kotlin coroutine knows when to yield when calling blocking Java network APIs? Or if it does not, then does it mean the tasks mentioned in the example above could not be performed concurrently give a single thread?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "seekbar"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 3637559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1047daab4ae1275875b547d494baa248?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3637559/artem"}, "is_accepted": true, "score": 0, "last_activity_date": 1537330211, "creation_date": 1537330211, "answer_id": 52397898, "question_id": 52395087, "link": "https://stackoverflow.com/questions/52395087/seekbar-remove-one-selection/52397898#52397898", "title": "SeekBar remove one selection", "body": "<p>Easy way to do it</p>\n\n<pre><code>bar.setOnSeekBarChangeListener(object : SeekBar.OnSeekBarChangeListener{\n\n        var previousProgress = 0\n        val disabled = intArrayOf(3,5,7)\n\n        override fun onProgressChanged(seekBar: SeekBar?, progress: Int, fromUser: Boolean) {\n            if (disabled.contains(progress)) seekBar?.progress = previousProgress\n\n        }\n\n        override fun onStartTrackingTouch(seekBar: SeekBar?) {\n            previousProgress = seekBar?.progress ?: 0\n        }\n\n        override fun onStopTrackingTouch(seekBar: SeekBar?) {\n        }\n\n    })\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10262210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c1ad459369cbad89bd041e1dd7b965b?s=128&d=identicon&r=PG&f=1", "display_name": "ejkeebler", "link": "https://stackoverflow.com/users/10262210/ejkeebler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 52397898, "answer_count": 1, "score": 0, "last_activity_date": 1537330211, "creation_date": 1537307515, "question_id": 52395087, "link": "https://stackoverflow.com/questions/52395087/seekbar-remove-one-selection", "title": "SeekBar remove one selection", "body": "<p>I have a seekbar that goes from 0-12, but I'd like to make it not possible to select one of the values based on some other criteria.  Is that possible?  i.e. they can slide through 0-12 but it skips 5?  Is there a better selection method maybe?  I like how minimal the seekbar is to perform this function, but open to other ideas, if removing a selection is not an option.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 1, "creation_date": 1537304049, "post_id": 52394416, "comment_id": 91734012, "body": "Would you paste the logcat which crash occured? Not just a line of error? Thanks. However I&#39;m suspecting that this might cause the issue: <code>public WordViewModel(Application application)</code>"}, {"owner": {"reputation": 63, "user_id": 7982964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831c4f68e31b566737eda026eae74858?s=128&d=identicon&r=PG&f=1", "display_name": "Mwen Rele", "link": "https://stackoverflow.com/users/7982964/mwen-rele"}, "reply_to_user": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 0, "creation_date": 1537305020, "post_id": 52394416, "comment_id": 91734369, "body": "Posted the whole error."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1537305209, "post_id": 52394416, "comment_id": 91734452, "body": "The error seems unrelated to ViewModels: <code>Caused by: java.lang.RuntimeException: cannot find implementation for com.meme.archcompwordlist.room.WordRoomDatabase. WordRoomDatabase_Impl</code>"}, {"owner": {"reputation": 63, "user_id": 7982964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831c4f68e31b566737eda026eae74858?s=128&d=identicon&r=PG&f=1", "display_name": "Mwen Rele", "link": "https://stackoverflow.com/users/7982964/mwen-rele"}, "edited": false, "score": 0, "creation_date": 1537307722, "post_id": 52394416, "comment_id": 91735315, "body": "Yeah, thanks. I was curious why you asked for the whole trace and so look deeper into the scary stuff and found that I needed some gradle dependencies to start:      <b>annotationProcessor  &quot;android.arch.persistence.room:compiler:$lifecycle_version&quot;     kapt &quot;android.arch.persistence.room:compiler:$lifecycle_version&quot;</b> My code is in a better state now"}], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 5978486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c57b4a3422a5cea4fdf53623d5fde2?s=128&d=identicon&r=PG&f=1", "display_name": "humanheima", "link": "https://stackoverflow.com/users/5978486/humanheima"}, "is_accepted": false, "score": 5, "last_activity_date": 1583993556, "creation_date": 1583993556, "answer_id": 60648506, "question_id": 52394416, "link": "https://stackoverflow.com/questions/52394416/cannot-create-an-instance-of-subclass-of-androidviewmodel/60648506#60648506", "title": "Cannot create an instance of subclass of AndroidViewModel", "body": "<p>I met the same problem and find resolution from this <a href=\"https://stackoom.com/question/3ohNE/%E5%A6%82%E4%BD%95%E4%BF%AE%E5%A4%8D-%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BAViewModel%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B\" rel=\"noreferrer\">blog</a>.</p>\n\n<p>You should pass a <code>ViewModelProvider.AndroidViewModelFactory</code> to <code>ViewModelProvider</code> as follow:</p>\n\n<pre><code>WordViewModel model = new ViewModelProvider(this, new ViewModelProvider.AndroidViewModelFactory(getApplication())).get(WordViewModel.class);\n\n\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7982964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831c4f68e31b566737eda026eae74858?s=128&d=identicon&r=PG&f=1", "display_name": "Mwen Rele", "link": "https://stackoverflow.com/users/7982964/mwen-rele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1583993556, "creation_date": 1537303746, "last_edit_date": 1537304965, "question_id": 52394416, "link": "https://stackoverflow.com/questions/52394416/cannot-create-an-instance-of-subclass-of-androidviewmodel", "title": "Cannot create an instance of subclass of AndroidViewModel", "body": "<p>My ViewModel class is in Java and my Activity class is in Kotlin. I am getting the error </p>\n\n<blockquote>\n  <p>09-18 14:01:32.737 14082-14082/com.meme.archcompwordlist\n  E/AndroidRuntime: FATAL EXCEPTION: main Process:\n  com.meme.archcompwordlist, PID: 14082 java.lang.RuntimeException:\n  Unable to start activity\n  ComponentInfo{com.meme.archcompwordlist/com.meme.archcompwordlist.MainActivity}:\n  java.lang.RuntimeException: Cannot create an instance of class\n  com.meme.archcompwordlist.WordViewModel\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n      at android.os.Handler.dispatchMessage(Handler.java:102)\n      at android.os.Looper.loop(Looper.java:154)\n      at android.app.ActivityThread.main(ActivityThread.java:6119)\n      at java.lang.reflect.Method.invoke(Native Method)\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)  Caused by: java.lang.RuntimeException: Cannot create an instance of\n  class com.meme.archcompwordlist.WordViewModel\n      at android.arch.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:207)\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:134)\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:102)\n      at com.meme.archcompwordlist.MainActivity.onCreate(MainActivity.kt:37)\n      at android.app.Activity.performCreate(Activity.java:6679)\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n      at android.os.Looper.loop(Looper.java:154)\u00a0\n      at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0  Caused by: java.lang.reflect.InvocationTargetException\n      at java.lang.reflect.Constructor.newInstance0(Native Method)\n      at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\n      at android.arch.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:199)\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:134)\u00a0\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:102)\u00a0\n      at com.meme.archcompwordlist.MainActivity.onCreate(MainActivity.kt:37)\u00a0\n      at android.app.Activity.performCreate(Activity.java:6679)\u00a0\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\u00a0\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\u00a0\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n      at android.os.Looper.loop(Looper.java:154)\u00a0\n      at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0  Caused by: java.lang.RuntimeException: cannot find implementation for\n  com.meme.archcompwordlist.room.WordRoomDatabase. WordRoomDatabase_Impl\n  does not exist\n      at android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:93)\n      at android.arch.persistence.room.RoomDatabase$Builder.build(RoomDatabase.java:630)\n      at com.meme.archcompwordlist.room.WordRoomDatabase.getRoomDatabase(WordRoomDatabase.java:22)\n      at com.meme.archcompwordlist.WordRepository.(WordRepository.java:21)\n      at com.meme.archcompwordlist.WordViewModel.(WordViewModel.java:22)\n      at java.lang.reflect.Constructor.newInstance0(Native Method)\u00a0\n      at java.lang.reflect.Constructor.newInstance(Constructor.java:430)\u00a0\n      at android.arch.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:199)\u00a0\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:134)\u00a0\n      at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:102)\u00a0\n      at com.meme.archcompwordlist.MainActivity.onCreate(MainActivity.kt:37)\u00a0\n      at android.app.Activity.performCreate(Activity.java:6679)\u00a0\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\u00a0\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\u00a0\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n      at android.os.Looper.loop(Looper.java:154)\u00a0\n      at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)</p>\n</blockquote>\n\n<p>Here is my AndroidViewModel class</p>\n\n<pre><code>public class WordViewModel extends AndroidViewModel {\n\n    private WordRepository repository;\n\n    private LiveData&lt;List&lt;WordEntity&gt;&gt; allWords;\n\n    public WordViewModel(Application application){\n        super(application);\n        repository = new WordRepository(application);\n        allWords = repository.getAllWords();\n    }\n\n    public LiveData&lt;List&lt;WordEntity&gt;&gt; getAllWords(){\n        return allWords;\n    }\n\n    public void insert(WordEntity word){\n        repository.insert(word);\n    }\n\n    public void deleteAllWords() {\n        repository.deleteAllWords();\n    }\n}\n</code></pre>\n\n<p>And here is my activity class</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var wordViewModel:WordViewModel\n    private lateinit var newWord:EditText\n    private lateinit var recyclerView:RecyclerView\n    private lateinit var adapter:WordAdapter\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        adapter= WordAdapter()\n        recyclerView= findViewById&lt;RecyclerView&gt;(R.id.wordList)\n        recyclerView.adapter=adapter\n\n        //establish a connection to the current ViewModel\n        wordViewModel= ViewModelProviders.of(this).get(WordViewModel::class.java)\n\n        newWord = findViewById&lt;EditText&gt;(R.id.insertWord);\n        findViewById&lt;Button&gt;(R.id.submitWord).setOnClickListener {\n             fun onClick(v:View?){\n                if(!TextUtils.isEmpty(newWord.getText())){\n                    wordViewModel.insert(WordEntity(newWord.getText().toString()))\n                }\n            }\n        }\n        findViewById&lt;Button&gt;(R.id.deleteWords).setOnClickListener{\n            fun onClick(v:View?){\n                wordViewModel.deleteAllWords()\n            }\n        }\n\n\n        wordViewModel.getAllWords().observe(this,Observer&lt;List&lt;WordEntity&gt;&gt;(){\n            fun onChanged(words:List&lt;WordEntity&gt;){\n            adapter.setWords(words)\n        }\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>Could someone please help me identify what I am doing wrong? I am trying to pick-up Architecture Components after a long time away from Android. I am not entirely clear how to proceed.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 0, "last_activity_date": 1537341678, "creation_date": 1537341678, "answer_id": 52400278, "question_id": 52393599, "link": "https://stackoverflow.com/questions/52393599/how-to-handle-auth-while-showing-loading-screen/52400278#52400278", "title": "How to handle auth while showing loading screen?", "body": "<p>You are replacing the <code>AuthView</code> with the <code>LoadingView</code> and then the <code>LoadingView</code> with the <code>MainView</code> in the same pulse, so that's not going to give you what you want. Normally you'd want to change to the <code>LoadingView</code> on the UI thread before you evaluate the auth information. Using this approach, your code works, but it might not be what you want. </p>\n\n<pre><code>class AuthController : Controller() {\n    val authView : AuthView by inject()\n    val loadingView : LoadingView by inject()\n\n    fun tryAuth(login: String, password: String) {\n        authView.replaceWith(loadingView, ViewTransition.Fade(0.5.seconds))\n\n        runAsync {\n            // Simulate db access or http call\n            Thread.sleep(2000)\n            login == \"admin\" &amp;&amp; password == \"admin\"\n        } ui { successful -&gt;\n\n            if (successful) {\n                // doesn't work\n                loadingView.replaceWith(MainView::class, ViewTransition.Metro(0.5.seconds))\n            } else {\n                // doesn't work\n                loadingView.replaceWith(AuthView::class, ViewTransition.Fade(0.5.seconds))\n            }\n\n        }\n    }\n}\n\nclass AuthView : View(\"Auth\") {\n    val authController: AuthController by inject()\n\n    override val root = stackpane {\n        button(title).action {\n            authController.tryAuth(\"admin\", \"admin\")\n        }\n    }\n}\n\nclass LoadingView : View(\"Loading...\") {\n    override val root = stackpane {\n        label(title)\n    }\n}\n\nclass MainView : View(\"Main View\") {\n    override val root = stackpane {\n        label(title)\n    }\n}\n</code></pre>\n\n<p>You must keep in mind that replacing a view will not resize the window (though you could access the stage and ask it to resize to the current view), so you might be better off with opening each view in a separate window instead.</p>\n"}], "owner": {"reputation": 105, "user_id": 7419831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/08m5U.jpg?s=128&g=1", "display_name": "lisovskey", "link": "https://stackoverflow.com/users/7419831/lisovskey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 52400278, "answer_count": 1, "score": 0, "last_activity_date": 1537341678, "creation_date": 1537299942, "last_edit_date": 1537300331, "question_id": 52393599, "link": "https://stackoverflow.com/questions/52393599/how-to-handle-auth-while-showing-loading-screen", "title": "How to handle auth while showing loading screen?", "body": "<p>How to show a loading screen and handle authorization at the same time?</p>\n\n<p>Can I switch to <code>LoadingView</code> and return back to <code>AuthView</code> in <code>AuthController</code> or I need to move auth logic to <code>LoadingController</code>?</p>\n\n<pre><code>class AuthController : Controller() {\n    val authView : AuthView by inject()\n    val loadingView : LoadingView by inject()\n\n    fun tryAuth(login: String, password: String) {\n        runAsync {\n            login == \"admin\" &amp;&amp; password == \"admin\"\n        } ui { successful -&gt;\n            authView.replaceWith(loadingView, ViewTransition.Fade(0.5.seconds))\n\n            if (successful) {\n                // doesn't work\n                loadingView.replaceWith(MainView::class, ViewTransition.Metro(0.5.seconds))\n            } else {\n                // doesn't work\n                loadingView.replaceWith(AuthView::class, ViewTransition.Fade(0.5.seconds))\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines", "kotlin-js"], "answers": [{"comments": [{"owner": {"reputation": 3467, "user_id": 1249664, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d3953712d5da8a78f5fe5a6f6b37ef4d?s=128&d=identicon&r=PG", "display_name": "auser", "link": "https://stackoverflow.com/users/1249664/auser"}, "edited": false, "score": 0, "creation_date": 1537368722, "post_id": 52401688, "comment_id": 91760985, "body": "I don&#39;t think GlobalScope::launch is part of the Kotlin js coroutine library - this code won&#39;t compile if the target is JS"}, {"owner": {"reputation": 3467, "user_id": 1249664, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d3953712d5da8a78f5fe5a6f6b37ef4d?s=128&d=identicon&r=PG", "display_name": "auser", "link": "https://stackoverflow.com/users/1249664/auser"}, "edited": false, "score": 0, "creation_date": 1537370977, "post_id": 52401688, "comment_id": 91762472, "body": "Also, I&#39;m trying to avoid adding &quot;suspend&quot; to the &quot;request&quot; method&#39;s signature because that mean the call site has to be wrapped in a coroutine"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 3467, "user_id": 1249664, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d3953712d5da8a78f5fe5a6f6b37ef4d?s=128&d=identicon&r=PG", "display_name": "auser", "link": "https://stackoverflow.com/users/1249664/auser"}, "edited": false, "score": 0, "creation_date": 1537374183, "post_id": 52401688, "comment_id": 91764285, "body": "<code>GlobalScope</code> is in <code>kotlinx.coroutines.experimental</code> so it must be available on any platform, however I don&#39;t know if it&#39;s the best option on JS. You can&#39;t avoid <code>suspend</code> and launching coroutines because that&#39;s the essence of how this works."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 3467, "user_id": 1249664, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d3953712d5da8a78f5fe5a6f6b37ef4d?s=128&d=identicon&r=PG", "display_name": "auser", "link": "https://stackoverflow.com/users/1249664/auser"}, "edited": false, "score": 0, "creation_date": 1537374668, "post_id": 52401688, "comment_id": 91764585, "body": "Ah, one important note: my code is written against version <code>0.26</code> of <code>kotlinx-coroutines-experimental</code>, recently released. It deprecates several key mechanisms like the global <code>launch</code> without a receiver."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1537347791, "last_edit_date": 1537347791, "creation_date": 1537346487, "answer_id": 52401688, "question_id": 52393252, "link": "https://stackoverflow.com/questions/52393252/using-runblocking-in-kotlin-coroutines-when-targeting-javascript/52401688#52401688", "title": "Using runBlocking in Kotlin Coroutines when targeting JavaScript?", "body": "<p>Your main problem is that you aren't asking for the thing you actually need. The code you wrote starts a coroutine, suspends it, then blocks until it's done. This is exactly equivalent to having no coroutines at all and just making a blocking network request, which is something you can't possibly expect JavaScript to allow you.</p>\n\n<p>What you actually have to do is step back to the call site of <code>request()</code> and wrap it in a <code>launch</code>:</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.Default) {\n    val result: A = request(...)\n    // work with the result\n}\n</code></pre>\n\n<p>With this in place you can rewrite your request function to</p>\n\n<pre><code>suspend fun &lt;A: Any&gt; request(request: Any): A = suspendCancellableCoroutine {\n    sendAsync(request, it::resume)\n}\n</code></pre>\n"}], "owner": {"reputation": 3467, "user_id": 1249664, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d3953712d5da8a78f5fe5a6f6b37ef4d?s=128&d=identicon&r=PG", "display_name": "auser", "link": "https://stackoverflow.com/users/1249664/auser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 1, "accepted_answer_id": 52401688, "answer_count": 1, "score": 1, "last_activity_date": 1552980744, "creation_date": 1537298211, "last_edit_date": 1552980744, "question_id": 52393252, "link": "https://stackoverflow.com/questions/52393252/using-runblocking-in-kotlin-coroutines-when-targeting-javascript", "title": "Using runBlocking in Kotlin Coroutines when targeting JavaScript?", "body": "<p>Is there a way to write the Kotlin code below so that it compiles and works the same way on the JVM and in JavaScript?</p>\n\n<pre><code>fun &lt;A: Any&gt; request(request: Any): A  = runBlocking {\n    suspendCoroutine&lt;A&gt; { cont -&gt;\n        val subscriber = { response: A -&gt;\n                cont.resume(response)\n        }\n        sendAsync(request, subscriber)\n    }\n}\n\n\nfun &lt;Q : Any, A : Any&gt; sendAsync(request: Q, handler: (A) -&gt; Unit) {\n\n    // request is sent to a remote service,\n    // when the result is available it is passed to handler(... /* result */)\n\n}\n</code></pre>\n\n<p>The code compiles and works fine when compiled to target the JVM. \nA compilation error is emitted when targeting JavaScript due to non-existent function runBlocking</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "edited": false, "score": 0, "creation_date": 1537299079, "post_id": 52393098, "comment_id": 91731966, "body": "because the input is a String, I tough that the iterator value stayed as string; thanks =)"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 4, "last_activity_date": 1537297497, "creation_date": 1537297497, "answer_id": 52393098, "question_id": 52393028, "link": "https://stackoverflow.com/questions/52393028/how-to-convert-character-to-its-integer-value-in-kotlin/52393098#52393098", "title": "How to convert character to its integer value in kotlin?", "body": "<p>In your loop, <code>value</code> is a <code>Char</code>, and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/to-int.html\" rel=\"nofollow noreferrer\"><code>toInt()</code> on Char returns its character number</a>. Therefore, you'll have to convert it to a <code>String</code> in order to get its integer representation:</p>\n\n<pre><code>var v = value.toString().toInt() * 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1576506104, "last_edit_date": 1576506104, "creation_date": 1547378906, "answer_id": 54168386, "question_id": 52393028, "link": "https://stackoverflow.com/questions/52393028/how-to-convert-character-to-its-integer-value-in-kotlin/54168386#54168386", "title": "How to convert character to its integer value in kotlin?", "body": "<p>If you are targeting the JVM, you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#getNumericValue(char)\" rel=\"nofollow noreferrer\">Character.getNumericValue</a>:</p>\n\n<pre><code>val v = Character.getNumericValue(value) * 2\n</code></pre>\n\n<p>so there is no need to do two casts.</p>\n\n<p>If you want to be platform independent, go with Todd's answer.</p>\n"}], "owner": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2260, "favorite_count": 1, "accepted_answer_id": 52393098, "answer_count": 2, "score": 2, "last_activity_date": 1576506104, "creation_date": 1537297215, "last_edit_date": 1537309159, "question_id": 52393028, "link": "https://stackoverflow.com/questions/52393028/how-to-convert-character-to-its-integer-value-in-kotlin", "title": "How to convert character to its integer value in kotlin?", "body": "<p>I'm trying to convert an string to its integer value in Kotlin, using the <code>toInt()</code> function that i found in this <a href=\"https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin\">answer</a>, but I'm getting the ascii value instead.</p>\n\n<p>What I'm doing wrong?</p>\n\n<pre><code>var input = \"8569 2478 0383 3437\"\n\nval regex = \"[^0-9]\".toRegex()\nvar value = regex.replace(input, \"\")\n\nval iterator = value.iterator()\n\nvar sum : Int = 0\nvar v : Int\nfor((index, value) in iterator.withIndex()){\n    if(index % 2 == 0){\n        var v = value.toInt() * 2 \n        if(v &gt; 9) v -= 9\n\n        print(\"$v:$value \")\n        sum += v\n    }else{\n        print(\"$value \")\n        sum += value.toInt()\n    }\n}\n</code></pre>\n\n<p>executing this code above, this is the printed numbers</p>\n\n<pre><code>103:8 5 99:6 9 91:2 4 101:7 8 87:0 3 103:8 3 93:3 4 93:3 7\n</code></pre>\n\n<p>and I was expecting some like this</p>\n\n<pre><code>8:8 5 6:6 9 2:2 4 7:7 8 0:0 3 8:8 3 3:3 4 3:3 7\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson"], "comments": [{"owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1537297169, "post_id": 52392982, "comment_id": 91731115, "body": "Is <code>CategoryJsonData</code> a class you wrote?"}, {"owner": {"reputation": 53, "user_id": 6315778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-L8XFud_X4/AAAAAAAAAAI/AAAAAAAAAD8/Vj0x_rE8MaE/photo.jpg?sz=128", "display_name": "junaid amjad", "link": "https://stackoverflow.com/users/6315778/junaid-amjad"}, "reply_to_user": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1537297626, "post_id": 52392982, "comment_id": 91731312, "body": "this is the json data which i am trying to get in android"}, {"owner": {"reputation": 53, "user_id": 6315778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-L8XFud_X4/AAAAAAAAAAI/AAAAAAAAAD8/Vj0x_rE8MaE/photo.jpg?sz=128", "display_name": "junaid amjad", "link": "https://stackoverflow.com/users/6315778/junaid-amjad"}, "reply_to_user": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1537297632, "post_id": 52392982, "comment_id": 91731313, "body": "{             &quot;_id&quot;: &quot;5b80393f7fca491488980fe1&quot;,             &quot;category_name&quot;: &quot;electrical&quot;,             &quot;sub_category_name&quot;: &quot;switches meters and fuses&quot;,             &quot;price&quot;: 300         }"}, {"owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 2, "creation_date": 1537297672, "post_id": 52392982, "comment_id": 91731339, "body": "Change the <code>_id</code> field in your Category class to a <code>String</code> and you should be good."}, {"owner": {"reputation": 53, "user_id": 6315778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-L8XFud_X4/AAAAAAAAAAI/AAAAAAAAAD8/Vj0x_rE8MaE/photo.jpg?sz=128", "display_name": "junaid amjad", "link": "https://stackoverflow.com/users/6315778/junaid-amjad"}, "reply_to_user": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1537298134, "post_id": 52392982, "comment_id": 91731526, "body": "thanks alot it worked!"}], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 3, "last_activity_date": 1537298962, "creation_date": 1537298962, "answer_id": 52393423, "question_id": 52392982, "link": "https://stackoverflow.com/questions/52392982/java-lang-numberformatexception-invalid-double-5b80393f7fca491488980fe1-in-a/52393423#52393423", "title": "java.lang.NumberFormatException: Invalid double: &quot;5b80393f7fca491488980fe1&quot; in android", "body": "<p>In your JSON, this is a String <code>\"_id\": \"5b80393f7fca491488980fe1\"</code></p>\n\n<p>In your class, you defined it as a Double <code>val _id:Double</code></p>\n\n<p>You need to change that to be a String since you have non-numerical characters in the JSON value</p>\n"}], "owner": {"reputation": 53, "user_id": 6315778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i-L8XFud_X4/AAAAAAAAAAI/AAAAAAAAAD8/Vj0x_rE8MaE/photo.jpg?sz=128", "display_name": "junaid amjad", "link": "https://stackoverflow.com/users/6315778/junaid-amjad"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "closed_date": 1537414309, "answer_count": 1, "score": 2, "last_activity_date": 1537300880, "creation_date": 1537297014, "last_edit_date": 1537300880, "question_id": 52392982, "link": "https://stackoverflow.com/questions/52392982/java-lang-numberformatexception-invalid-double-5b80393f7fca491488980fe1-in-a", "closed_reason": "Duplicate", "title": "java.lang.NumberFormatException: Invalid double: &quot;5b80393f7fca491488980fe1&quot; in android", "body": "<p>I have this Kotlin class </p>\n\n<pre><code>class CategoryJsonData(val category: List&lt;Category&gt;) \ndata class Category(val _id:Double, val category_name:String, val sub_category_name:String, val price:Int)\n</code></pre>\n\n<p>At this line, I get an error</p>\n\n<pre><code>val jsonData = gson.fromJson(body, CategoryJsonData::class.java)\n</code></pre>\n\n<p>When I parse this JSON</p>\n\n<pre><code>{ \"_id\": \"5b80393f7fca491488980fe1\", \"category_name\": \"electrical\", \"sub_category_name\": \"switches meters and fuses\", \"price\": 300 }\n</code></pre>\n\n<blockquote>\n  <p>java.lang.NumberFormatException: Invalid double: \"5b80393f7fca491488980fe1\"</p>\n</blockquote>\n\n<p><code>5b80393f7fca491488980fe1(_id)</code> is generated by mongoose using nodejs.\nshowing this error while trying to hit API.</p>\n\n<pre><code>09-18 23:26:47.026 18264-18542/com.hiretheskill.skill E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\n    Process: com.hiretheskill.skill, PID: 18264\n    java.lang.NumberFormatException: Invalid double: \"5b80393f7fca491488980fe1\"\n        at java.lang.StringToReal.invalidReal(StringToReal.java:63)\n        at java.lang.StringToReal.initialParse(StringToReal.java:164)\n        at java.lang.StringToReal.parseDouble(StringToReal.java:282)\n        at java.lang.Double.parseDouble(Double.java:301)\n        at com.google.gson.stream.JsonReader.nextDouble(JsonReader.java:909)\n        at com.google.gson.Gson$2.read(Gson.java:284)\n        at com.google.gson.Gson$2.read(Gson.java:278)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:129)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:220)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:41)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:82)\n        at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:129)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:220)\n        at com.google.gson.Gson.fromJson(Gson.java:887)\n        at com.google.gson.Gson.fromJson(Gson.java:852)\n        at com.google.gson.Gson.fromJson(Gson.java:801)\n        at com.google.gson.Gson.fromJson(Gson.java:773)\n        at com.hiretheskill.skill.SubCategories$fetchJsonData$client$1.onResponse(SubCategories.kt:45)\n        at okhttp3.RealCall$AsyncCall.execute(RealCall.java:153)\n        at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n        at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 696, "user_id": 9045244, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ae53hOhX_XQ/AAAAAAAAAAI/AAAAAAAAANw/ZVPuBIiUv_k/photo.jpg?sz=128", "display_name": "Harsh Jatinder", "link": "https://stackoverflow.com/users/9045244/harsh-jatinder"}, "edited": false, "score": 0, "creation_date": 1569872735, "post_id": 52392842, "comment_id": 102729421, "body": "Thats not the correct way to declare variables in Kotlin, Data type should be after the name of variable followed by &#39;colon&#39; e.g. <code>private var string : String = &quot;my_string&quot;</code>,  also no-need to put semi-colons at end of a single-statement"}], "answers": [{"tags": [], "owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "is_accepted": true, "score": 1, "last_activity_date": 1569871958, "last_edit_date": 1569871958, "creation_date": 1537298809, "answer_id": 52393384, "question_id": 52392842, "link": "https://stackoverflow.com/questions/52392842/kotlin-compiler-error-expecting-member-declaration/52393384#52393384", "title": "Kotlin compiler error: expecting member declaration", "body": "<p>In general, in <em>Kotlin</em>, such a view declaration should be used with <code>lateinit var</code> in order to avoid the <code>expecting member declaration</code> error. E.g.:</p>\n\n<pre><code>private lateinit var b1: Button\nprivate lateinit var b2: Button\nprivate lateinit var tx1: TextView\netc...\n</code></pre>\n\n<p>But the most convenient part here is that when importing <code>kotlinx.android.synthetic.main.activity_calendar.*</code>, you do not have to instantiate views defined in <code>activity_calendar.xml</code> programmatically. Those views will be \"instantiated for you\". Just refer to the views by their names defined by <code>@+id/...</code>. E.g.:</p>\n\n<pre><code>etUserName.text = \"Enter name\"\n</code></pre>\n\n<p>Note that in <em>Kotlin</em> semicolons are optional and should not be used.</p>\n\n<p>A starting point for further <em>Kotlin</em> learning: <a href=\"https://developer.android.com/kotlin/get-started#kotlin\" rel=\"nofollow noreferrer\">Get Started with Kotlin on Android</a></p>\n"}], "owner": {"reputation": 244, "user_id": 5549153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc07282ef46ff159e88e800815aaff42?s=128&d=identicon&r=PG&f=1", "display_name": "Katrina", "link": "https://stackoverflow.com/users/5549153/katrina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8532, "favorite_count": 0, "accepted_answer_id": 52393384, "answer_count": 1, "score": -2, "last_activity_date": 1569871958, "creation_date": 1537296382, "last_edit_date": 1549691934, "question_id": 52392842, "link": "https://stackoverflow.com/questions/52392842/kotlin-compiler-error-expecting-member-declaration", "title": "Kotlin compiler error: expecting member declaration", "body": "<p>I'm new to <em>Android Studio</em> and <em>Java</em>. Trying to write a log in. Can someone help me understand what's going on with the code?</p>\n\n<pre><code>package com.example.XXX.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView;\nimport android.widget.Button;\nimport android. widget.EditText;\nimport android.widget.Toast;\n\nimport kotlinx.android.synthetic.main.activity_calendar.*\n\nclass Calendar : AppCompatActivity() {\n    Button b1,b2; // Log in page** - b1 = log in; b2 - sign up;\n    TextView tx1, tx2,tx3; // tx1 = username; tx2 = password;\n    EditText ed1, ed2; // ed1 = username; ed2 = password inputs;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_calendar)\n\n        // Example of a call to a native method\n        b1 = (Button)findViewById(R.id.bt1LogIn);\n        b2 = (Button)findViewById(R.id.bt2SignUp);\n        ed1 = (EditText)findViewById(R.id.etUserName);\n        ed2 = (EditText)findViewById(R.id.etPassword);\n        tx1 = (TextView)findViewById(R.id.tvUserName);\n        tx2 = (TextView)findViewById(R.id.tvPassword);\n        tx3 = (TextView)findViewById(R.id.tvattempts);\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mvp"], "comments": [{"owner": {"reputation": 335, "user_id": 5489898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ccf4fe92dd0bfa05c091647bb01e4a07?s=128&d=identicon&r=PG&f=1", "display_name": "Namnodorel", "link": "https://stackoverflow.com/users/5489898/namnodorel"}, "edited": false, "score": 0, "creation_date": 1537297239, "post_id": 52392813, "comment_id": 91731146, "body": "Does your VIEW1 actually contain the data/react to the user itself? Or is the Intent sent through VIEW1, but actually triggered by PRESENT1?"}, {"owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "reply_to_user": {"reputation": 335, "user_id": 5489898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ccf4fe92dd0bfa05c091647bb01e4a07?s=128&d=identicon&r=PG&f=1", "display_name": "Namnodorel", "link": "https://stackoverflow.com/users/5489898/namnodorel"}, "edited": false, "score": 0, "creation_date": 1537298523, "post_id": 52392813, "comment_id": 91731712, "body": "VIEW 1 actually contains the input data from user, yes. And it sends it, through an Intent, to VIEW 2."}], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "edited": false, "score": 0, "creation_date": 1537299525, "post_id": 52393505, "comment_id": 91732212, "body": "Thanks for your quick reply!"}], "tags": [], "owner": {"reputation": 335, "user_id": 5489898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ccf4fe92dd0bfa05c091647bb01e4a07?s=128&d=identicon&r=PG&f=1", "display_name": "Namnodorel", "link": "https://stackoverflow.com/users/5489898/namnodorel"}, "is_accepted": false, "score": 0, "last_activity_date": 1537299373, "creation_date": 1537299373, "answer_id": 52393505, "question_id": 52392813, "link": "https://stackoverflow.com/questions/52392813/pass-data-from-a-view-to-a-another-model-view-in-android-mvp/52393505#52393505", "title": "Pass data from a view to a another model view in Android MVP", "body": "<p>This is one of the unfortunate disadvantages on Android - due to the way Activities and Co. work, <strong>it is not possible to seperate the View from logic 100%</strong>. \nYou can't send an Intent without having to meddle with some View stuff as well.</p>\n\n<p>However, your model could still be made cleaner by making it more strictly MVP. Generally, the View should not contain any logic at all. That means it should also not decide what to do when an event - such as the user clicking some input button - occours. With that said, a cleaner approach to your situation would be</p>\n\n<p>VIEW 1 [user action] => PRESENTER 1 => VIEW 1 [method to send intent]--{ Intent }--> VIEW 2 => PRESENTER 2 => MODEL 2</p>\n\n<p>But the restriction of having to go through the View to send Intents is unfortunately one that is forced by Android.</p>\n"}], "owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537299373, "creation_date": 1537296276, "last_edit_date": 1537298838, "question_id": 52392813, "link": "https://stackoverflow.com/questions/52392813/pass-data-from-a-view-to-a-another-model-view-in-android-mvp", "title": "Pass data from a view to a another model view in Android MVP", "body": "<p>In my MVP App, I have two activities (Views). The first get the input data from user, which will need the model of the second activity to get data from repo.</p>\n\n<p>Currently, I have the following chain:</p>\n\n<p><em>Data</em> in <strong>VIEW 1</strong> --{ Intent }--> <strong>VIEW 2</strong> => <strong>PRESENTER 2</strong> => <strong>MODEL 2</strong></p>\n\n<p>I would like to know whether is another cleaner or better way to get the same result. Data is optional - so it may not always be passed thru.</p>\n"}, {"tags": ["android", "login", "kotlin", "retrofit2", "okhttp3"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 1570772, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0fb54b8683aa6c0d0db139c1252eba77?s=128&d=identicon&r=PG", "display_name": "Umut", "link": "https://stackoverflow.com/users/1570772/umut"}, "is_accepted": false, "score": 0, "last_activity_date": 1546208208, "last_edit_date": 1546208208, "creation_date": 1546207800, "answer_id": 53981837, "question_id": 52392380, "link": "https://stackoverflow.com/questions/52392380/how-do-i-make-a-login-with-basic-auth-in-kotlin-with-a-get-requet-api/53981837#53981837", "title": "How do I make a Login with Basic Auth in Kotlin with a GET requet API?", "body": "<p>If you want to do basic authentication with the retrofit, you should add interceptor. You could find the simple implementation at the below</p>\n\n<p>Create retrofit client</p>\n\n<pre><code>val okHttpClient = OkHttpClient().newBuilder()\n    .addInterceptor(AuthenticationInterceptor(BuildConfig.API_USERNAME, BuildConfig.API_PASSWORD))\n    .build()\n\nval retrofit = Retrofit.Builder()\n    .client(okHttpClient)\n    .baseUrl(BuildConfig.API_URL)\n    .build()\n</code></pre>\n\n<p>Sample interceptor </p>\n\n<pre><code>class AuthenticationInterceptor(user: String, password: String) : Interceptor {\n\n    private val credentials: String = Credentials.basic(user, password)\n\n    @Throws(IOException::class)\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val request = chain.request()\n        val authenticatedRequest = request.newBuilder()\n            .header(\"Authorization\", credentials).build()\n        return chain.proceed(authenticatedRequest)\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 5427884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA1hS.jpg?s=128&g=1", "display_name": "Dimitri Schultheis", "link": "https://stackoverflow.com/users/5427884/dimitri-schultheis"}, "is_accepted": false, "score": 2, "last_activity_date": 1604672488, "creation_date": 1604672488, "answer_id": 64716325, "question_id": 52392380, "link": "https://stackoverflow.com/questions/52392380/how-do-i-make-a-login-with-basic-auth-in-kotlin-with-a-get-requet-api/64716325#64716325", "title": "How do I make a Login with Basic Auth in Kotlin with a GET requet API?", "body": "<p>Use this:</p>\n<pre><code>val client = OkHttpClient()\nval credential = Credentials.basic(&quot;username&quot;, &quot;secret&quot;)\nval request = Request.Builder()\n        .url(&quot;https://yourserver.com/api&quot;)\n        .addHeader(&quot;Authorization&quot;, credential)\n        .build()\n\nclient.newCall(request).enqueue(object : Callback{\n    override fun onFailure(call: Call, e: IOException) {\n        TODO(&quot;Not yet implemented&quot;)\n    }\n\n    override fun onResponse(call: Call, response: Response) {\n        println(response.body()?.string())\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 10381749, "user_type": "registered", "profile_image": "https://graph.facebook.com/2011489165581120/picture?type=large", "display_name": "Jo&#227;o Martins", "link": "https://stackoverflow.com/users/10381749/jo%c3%a3o-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5947, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1604672488, "creation_date": 1537294237, "last_edit_date": 1537295684, "question_id": 52392380, "link": "https://stackoverflow.com/questions/52392380/how-do-i-make-a-login-with-basic-auth-in-kotlin-with-a-get-requet-api", "title": "How do I make a Login with Basic Auth in Kotlin with a GET requet API?", "body": "<p>I'm trying to make a Login screen I've made in Android Studio to work with Kotlin but I'm having troubles making a class that will \"attach\" the Basic Authentication to all the requests. To do this I am using Retrofit2 and OkHttp3.</p>\n\n<p>These are the relevant classes in my code:</p>\n\n<p><strong>GET_LOGIN.kt</strong></p>\n\n<pre><code>package com.joaomartins.srodkitrwale\n\nimport okhttp3.OkHttpClient\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.GET\nimport retrofit2.http.Header\nimport retrofit2.http.Headers\n\ninterface GET_LOGIN {\n    @GET(\"login\")\n    fun getAccessToken() : Call&lt;String&gt;\n}\n</code></pre>\n\n<p><strong>RetrofitClient.kt</strong></p>\n\n<pre><code>package com.joaomartins.srodkitrwale\n\nimport android.app.Application\nimport android.util.Base64\nimport kotlinx.android.synthetic.main.activity_login.*\nimport okhttp3.Interceptor\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport okhttp3.OkHttpClient\nimport okhttp3.Request\nimport okhttp3.Response\nimport okhttp3.logging.HttpLoggingInterceptor\n\n    val username = Login().userTxt.text\n    val password = Login().passTxt.text\n    val credentials = username + \":\" + password\n    val AUTH = \"Basic \" + Base64.encodeToString(credentials.toByteArray(Charsets.UTF_8), Base64.DEFAULT).replace(\"\\n\", \"\")\n\n    val retrofit = RetrofitClient().init()\n            //.getBytes(), Base64.DEFAULT).replace(\"\\n\", \"\")\n//val AUTH2 = java.util.Base64.getEncoder().encode((username + \":\" + password).toByteArray()).toString(Charsets.UTF_8)\n\nclass RetrofitClient {\n    // Initializing Retrofit\n    fun init() : Retrofit{\n\n        // Creating the instance of an Interceptor\n        val logging = HttpLoggingInterceptor()\n        logging.level = HttpLoggingInterceptor.Level.BODY\n\n\n        // Creating the OkHttp Builder\n        val client = OkHttpClient().newBuilder()\n\n\n        // Creating the custom Interceptor with Headers\n        val interceptor = Interceptor { chain -&gt;\n            val request = chain?.request()?.newBuilder()?.addHeader(\"Authorization\", AUTH)?.build()\n            chain?.proceed(request)\n        }\n        client.addInterceptor(interceptor) // Attaching the Interceptor\n\n        // Creating the instance of a Builder\n        return Retrofit.Builder()\n                .baseUrl(\"https://srodki.herokuapp.com/\")   // The API server\n                .client(client.build())                                     // Adding Http Client\n                .addConverterFactory(GsonConverterFactory.create()) // Object Converter\n                .build()\n    }\n\n    fun providesGetLogin(): GET_LOGIN = retrofit.create(GET_LOGIN::class.java)\n}\n</code></pre>\n\n<p><strong>Login.kt</strong></p>\n\n<pre><code>package com.joaomartins.srodkitrwale\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.Editable\nimport android.util.Base64\nimport android.util.Log\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_login.*\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport retrofit2.Retrofit\n\nclass Login : AppCompatActivity() {\n\n    val apiLogin = RetrofitClient().providesGetLogin().getAccessToken()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n\n        loginBtn.setOnClickListener {\n            val user = userTxt.text\n            val pass = passTxt.text\n\n            if (validateLogin(user, pass)){\n                login(user, pass)\n            }\n        }\n    }\n\n    fun validateLogin(user: Editable, pass: Editable): Boolean {\n        if (user == null || user.trim().isEmpty()){\n            Toast.makeText(this, \"Missing Username or Password\", Toast.LENGTH_SHORT).show()\n            return false\n        }\n        if (pass == null || pass.trim().isEmpty()){\n            Toast.makeText(this, \"Missing Username or Password\", Toast.LENGTH_SHORT).show()\n            return false\n        }\n        return true\n    }\n\n    fun login(user: Editable, pass: Editable) {\n        /*val intent = Intent(this, List_users::class.java)\n        startActivity(intent)*/\n        apiLogin.enqueue(object : Callback&lt;String&gt; {\n            override fun onResponse(call: Call&lt;String&gt;, response: Response&lt;String&gt;) {\n                Log.d(\"check\", \"Reached this place\")\n                if(!response.isSuccessful)\n                    Log.d(\"failed\", \"No Success\")\n                Toast.makeText(this@Login, \"Login Successful!\", Toast.LENGTH_SHORT).show()\n                val intent = Intent(this@Login, List_users::class.java)\n                startActivity(intent)\n            }\n\n            override fun onFailure(call: Call&lt;String&gt;, t: Throwable) {\n                Toast.makeText(this@Login, \"Login Failed.\", Toast.LENGTH_SHORT).show()\n            }\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>The class that would be responsible for the creation of the request with the encrypted authentication is the <em>RetrofitClient</em> class.</p>\n\n<p>I believe the error lies within the following lines of code:</p>\n\n<pre><code>val username = Login().userTxt.text\nval password = Login().passTxt.text\nval credentials = username + \":\" + password\nval AUTH = \"Basic \" + Base64.encodeToString(credentials.toByteArray(Charsets.UTF_8), Base64.DEFAULT).replace(\"\\n\", \"\")\n</code></pre>\n\n<p>There should be an easier way to do this but I am still learning Android and Kotlin.</p>\n"}, {"tags": ["syntax", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1537291523, "post_id": 52391699, "comment_id": 91728559, "body": "There isn&#39;t special syntax for this, you&#39;d just have to assign these values yourself, as shown in your question."}], "answers": [{"tags": [], "owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1537295753, "creation_date": 1537295753, "answer_id": 52392707, "question_id": 52391699, "link": "https://stackoverflow.com/questions/52391699/is-there-a-kotlin-esque-way-to-assign-fun-parameters-to-a-class/52392707#52392707", "title": "Is there a Kotlin-esque way to assign fun parameters to a class?", "body": "<p><strong>No</strong>, there is no such way to do this for functions. You have to explicitly assign values to the class level properties. </p>\n\n<pre><code>MyClass(val myValue:Double)\n</code></pre>\n\n<p>this is a constructor and the compiler understands that we are assigning the properties to the class.</p>\n\n<p>Whereas functions might not always have any side effect.</p>\n\n<p><a href=\"https://stackoverflow.com/a/529714/6393514\">Class members should represent state of the class object. They are not temporary locations for method parameters (that's what method parameters are for)</a>.</p>\n\n<p>Take a look at following links for <a href=\"https://softwareengineering.stackexchange.com/a/40314\">side effects</a> and <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">pure functions.</a></p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 52392707, "answer_count": 1, "score": 1, "last_activity_date": 1537331464, "creation_date": 1537291288, "last_edit_date": 1537331464, "question_id": 52391699, "link": "https://stackoverflow.com/questions/52391699/is-there-a-kotlin-esque-way-to-assign-fun-parameters-to-a-class", "title": "Is there a Kotlin-esque way to assign fun parameters to a class?", "body": "<p>I really like how Kotlin wraps up constructors with <code>MyClass(val myValue:Double)</code> to avoid all the excess constructor assignments.</p>\n\n<p>Is there a similar way to shortcut things in a function call in a class?  Something that bundles up </p>\n\n<pre><code>fun updateLocations(newX: Double, newY: Double) {\n    x = newX\n    y = newY\n</code></pre>\n\n<p>into</p>\n\n<pre><code>fun updateLocations(magicupdate x, magicupdate y) {\n    // internal x and y are already updated...\n</code></pre>\n"}, {"tags": ["android", "kotlin", "coordinate-systems", "arcore", "sceneform"], "answers": [{"tags": [], "owner": {"reputation": 1141, "user_id": 385536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8750465d0a6539f86ba7a3f3f5c7acff?s=128&d=identicon&r=PG", "display_name": "Steven Mohr", "link": "https://stackoverflow.com/users/385536/steven-mohr"}, "is_accepted": true, "score": 0, "last_activity_date": 1537335878, "creation_date": 1537335878, "answer_id": 52398881, "question_id": 52391408, "link": "https://stackoverflow.com/questions/52391408/arcoresceneform-worldposition-after-phone-rotation/52398881#52398881", "title": "[ARCore][SceneForm] worldPosition after phone rotation", "body": "<p>If you rotate the camera the world position of the camera does not change but only its rotation. </p>\n\n<p>In order to also account for the rotation you should use either the <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/Camera\" rel=\"nofollow noreferrer\">camera pose</a> from the AR frame or use <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/sceneform/Camera.html#screenPointToRay(float,%20float)\" rel=\"nofollow noreferrer\">Sceneform's camera</a> to create a ray from the center of your screen and position the node along that ray.</p>\n"}], "owner": {"reputation": 3, "user_id": 8615059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uXKYo.jpg?s=128&g=1", "display_name": "Anoki", "link": "https://stackoverflow.com/users/8615059/anoki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 1, "accepted_answer_id": 52398881, "answer_count": 1, "score": 0, "last_activity_date": 1537335878, "creation_date": 1537289971, "question_id": 52391408, "link": "https://stackoverflow.com/questions/52391408/arcoresceneform-worldposition-after-phone-rotation", "title": "[ARCore][SceneForm] worldPosition after phone rotation", "body": "<p>I am trying to create a node in front of the camera.</p>\n\n<p>However, when I rotate the phone first (for example to 90\u00b0 along the Y axis), and then create the node at the position (cameraPosition.x, cameraPosition.y, cameraPosition.z - distancetoNode), it creates the node in front of the old position of the camera, as if the phone did not rotate.</p>\n\n<p>As I understand it, the coordinate system didn't move with the phone.\nHow can I make the node to be created in front the new position of the camera?</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1537295074, "post_id": 52391828, "comment_id": 91730161, "body": "I don&#39;t think this is a feasible implementation at all. The number of click listeners to be added is enormous. Do you intend on writing  manual when statement for ~600 grid items?"}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "reply_to_user": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1537300428, "post_id": 52391828, "comment_id": 91732575, "body": "There is only one listener, the activity on the top level. Could you tell, what will do with each of the buttons? Adding such amount of button would be very slow."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "reply_to_user": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1537301511, "post_id": 52391828, "comment_id": 91732990, "body": "Long time ago, I used this technique with a private member each extended button to correctly function."}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1537343385, "post_id": 52391828, "comment_id": 91745401, "body": "I agree. Your implementation makes it so that instead of applying numerous click listeners, only a single listener will suffice. But, you would have to apply &#39;n&#39; number of cases in your <code>when</code> statement. In this particular instance, ~600. Not a good implementation. However, if the number of objects click able are limited, I believe this is quite alright. As for your thought of adding those many buttons being slow, yes, I agree. Going with a gridlayout would be better."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "reply_to_user": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1537343647, "post_id": 52391828, "comment_id": 91745543, "body": "Overload the button class so that let do their work and this eliminate the when case as I told. That is object orientation, right."}], "tags": [], "owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "is_accepted": false, "score": -2, "last_activity_date": 1537301407, "last_edit_date": 1537301407, "creation_date": 1537291752, "answer_id": 52391828, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52391828#52391828", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>You can listen onClick on your activity</p>\n\n<pre><code>class MyActivity:Activity(), OnClickListener {\n  fun onClick(v:View) {\n    R.id.Button1\n    run({\n      //...\n      break })\n    R.id.Button2\n    run({\n      //..\n      break })\n  }\n}\n</code></pre>\n\n<p>If you plan to change some behavior according to ID's, you don't need the case here. Extend the Button class as GridButton and make sure that the class type is GridButton by</p>\n\n<pre><code>if (obj is C)\n{\n  //your code\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 991200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5ebbf205fc133cfe1223c633a024fd2?s=128&d=identicon&r=PG", "display_name": "Nelson Almendra", "link": "https://stackoverflow.com/users/991200/nelson-almendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1537292144, "creation_date": 1537292144, "answer_id": 52391911, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52391911#52391911", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>I'm not sure if I understood right but you can try to encapsulate the id and the listener in a <code>Square</code> object.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class Square(context: Context?, id: String) : Button(context) {\n\n    override fun setOnClickListener(l: OnClickListener?) {\n        super.setOnClickListener(l)\n        //TODO: use your id to something\n    }\n}\n</code></pre>\n\n<p>You will have to change your <code>listOfSquares</code> to be a <code>MutableList&lt;Square&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 7783665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceee046f40209de9774e90c49098f74e?s=128&d=identicon&r=PG&f=1", "display_name": "oldmanB", "link": "https://stackoverflow.com/users/7783665/oldmanb"}, "edited": false, "score": 0, "creation_date": 1537316051, "post_id": 52391912, "comment_id": 91737211, "body": "This sounds like it might work for me, but I&#39;m so damn new at this that I&#39;ll have to do some research. I&#39;m mostly experienced in C/C++/C# programming for microcontrollers, so I&#39;m just getting a grasp of Java/Kotlin syntax and flow. I&#39;ll report back and let you know how it goes, thanks!"}], "tags": [], "owner": {"reputation": 7948, "user_id": 1650336, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/db1fc360be7877635daf2304d285c62d?s=128&d=identicon&r=PG&f=1", "display_name": "C0D3LIC1OU5", "link": "https://stackoverflow.com/users/1650336/c0d3lic1ou5"}, "is_accepted": false, "score": 1, "last_activity_date": 1537292146, "creation_date": 1537292146, "answer_id": 52391912, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52391912#52391912", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>You do not need a new <code>ClickListener</code> object for every button. Just make ONE click listener instance (have your activity implement it or make a new class for it or use an anonymous class). You can pass that instance into your button's <code>setOnClickListener</code> method. You can tell which button was clicked by using <code>view.getId()</code> method and comparing it against your button id's. </p>\n"}, {"tags": [], "owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "is_accepted": false, "score": 0, "last_activity_date": 1537292360, "creation_date": 1537292360, "answer_id": 52391961, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52391961#52391961", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>If each <code>button</code> needs to have the same functionality in its <code>setOnClickListener</code>, then this is what you can do. </p>\n\n<pre><code>listOf(listOfSquares).forEach {\n            it?.setOnClickListener {\n               // Do something\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "is_accepted": false, "score": 2, "last_activity_date": 1537292367, "creation_date": 1537292367, "answer_id": 52391964, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52391964#52391964", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>why not just set an on item listener on the entire grid layout and then have a listener for inside of that like </p>\n\n<pre><code>gridView.setOnItemClickListener(object:OnItemClickListener() {\n   fun onItemClick(parent:AdapterView&lt;*&gt;, v:View,\n              position:Int, id:Long) {\n      // DO something\n   }\n})\n</code></pre>\n\n<p>this way you wouldn't need to have the id's of everything inside the grid view then you could just change where you going basted on the position:Int clicked inside of the grid view or am i not understanding what your trying to do?</p>\n"}, {"tags": [], "owner": {"reputation": 937, "user_id": 7200713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824da8819a5321da18cf2770593cb489?s=128&d=identicon&r=PG&f=1", "display_name": "Kaveri", "link": "https://stackoverflow.com/users/7200713/kaveri"}, "is_accepted": false, "score": 0, "last_activity_date": 1537292551, "creation_date": 1537292551, "answer_id": 52392007, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin/52392007#52392007", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>One of the direct method to achieve this would be by creating one funtion to be called on click event for all the buttons and inside the function you can identify the button pressed by getting its id and using a <code>when</code> operator to perform different operations in different button clicks.</p>\n\n<p>inside the layout add the add <code>Button</code> like this:-</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Button\"\n    android:onClick=\"toastMe\"\n    tools:layout_editor_absoluteX=\"95dp\"\n    tools:layout_editor_absoluteY=\"216dp\" /&gt;\n&lt;Button\n    android:id=\"@+id/button2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Button\"\n    android:onClick=\"toastMe\"\n    tools:layout_editor_absoluteX=\"95dp\"\n    tools:layout_editor_absoluteY=\"216dp\" /&gt;\n\n  &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and inside you kotlin code , put your function like the following:-</p>\n\n<pre><code> fun toastMe(view : View) {\n   when (view.id) {\n       R.id.button -&gt; print(\"x == 1\")\n       R.id.button2 -&gt; print(\"x == 2\")\n       else -&gt; { // Note the block\n           print(\"x is neither 1 nor 2\")\n       }\n   }\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">when </a>replaces the switch operator of java language.</p>\n"}], "owner": {"reputation": 1, "user_id": 7783665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceee046f40209de9774e90c49098f74e?s=128&d=identicon&r=PG&f=1", "display_name": "oldmanB", "link": "https://stackoverflow.com/users/7783665/oldmanb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "answer_count": 6, "score": 0, "last_activity_date": 1537301407, "creation_date": 1537287994, "question_id": 52390930, "link": "https://stackoverflow.com/questions/52390930/android-creating-multiple-onclicklisteners-in-a-for-loop-kotlin", "title": "Android - Creating Multiple onClickListeners in a for loop (Kotlin)", "body": "<p>I'm trying to instantiate a large number (~600) onclick listeners for a large grid of buttons. I've created a function that stores the id's of each square in a list called squareList, in which each square is assigned a string value id (sq000, sq001, sq002)</p>\n\n<p>I'd like to create a for loop that pulls the id of each square and then creates an onClicklistener, sort of like:</p>\n\n<pre><code>fun createSquareListeners(listOfSquares: MutableList&lt;String&gt;)\n{\n    for(square in listOfSquares)\n    {\n       square.setOnClickListener{ //Do Something}\n    }\n}\n</code></pre>\n\n<p>The other way I thought of implementing this was to write a single onClick function, and attach it to each button in the xml file, but I'm not really sure what's possible as I'm quite new to Kotlin/Java </p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "edited": false, "score": 1, "creation_date": 1537290429, "post_id": 52390716, "comment_id": 91728070, "body": "What do you mean by <code>I can&#39;t access KFunction1 directly</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1537294621, "creation_date": 1537294621, "answer_id": 52392463, "question_id": 52390716, "link": "https://stackoverflow.com/questions/52390716/how-to-store-a-list-of-kfunction1-for-kotlin/52392463#52392463", "title": "How to store a list of KFunction1 for kotlin?", "body": "<p>If you just want to register and call them, use the normal function types: <code>(P) -&gt; R</code>, not <code>KFunction1&lt;P, R&gt;</code>. </p>\n\n<p>But the real issue is that <code>(P) -&gt; R</code> is not a subtype of <code>(IParam) -&gt; IResponse</code> (and can't be because its <code>invoke</code> method doesn't accept any <code>IParam</code>) and so can't be stored in <code>routeMap</code>. </p>\n\n<p>How to fix this will depend on what you want to happen when types don't match.</p>\n"}], "owner": {"reputation": 63, "user_id": 7144739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5707655efa5aed478a3e4482594e02?s=128&d=identicon&r=PG&f=1", "display_name": "Xyten", "link": "https://stackoverflow.com/users/7144739/xyten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537294621, "creation_date": 1537287193, "question_id": 52390716, "link": "https://stackoverflow.com/questions/52390716/how-to-store-a-list-of-kfunction1-for-kotlin", "title": "How to store a list of KFunction1 for kotlin?", "body": "<p>Basically I want to create a router that can be used in the following way</p>\n\n<pre><code>router.register(someInstance::getData)\nrouter.register(someInstance::submitData)\n</code></pre>\n\n<p>where both getData and submitData is an instance of  </p>\n\n<pre><code>getParam : KFunction1&lt;GetParam, GetResponse&gt; \nsubmitData : KFunction1&lt;SubmitParam, SubmitResponse&gt;\n</code></pre>\n\n<p>where GetParam, GetResponse, SubmitParam, SubmitResponse is a class that implements respective interfaces (IParam, IResponse)</p>\n\n<p>inside the register it would look like</p>\n\n<pre><code>val routeMap = mutableMapOf&lt;String, KFunction1&lt;IParam, IResponse&gt;\nfun register&lt;P : IParam, R : IResponse&gt;(func : KFunction1&lt;P, R&gt;) {\n    routeMap[\"abc\"] = func\n}\n</code></pre>\n\n<p>only problem right now is that it seems that I can't access KFunction1 directly (so I cannot store them)</p>\n\n<p>the idea is to basically create some sort of router that can register and call the registered functions later on. If anyone has any other idea on how to implement this, feel free to give suggestions</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-contacts", "contactscontract"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1537287298, "post_id": 52390198, "comment_id": 91726542, "body": "You didn&#39;t share adapter initialization. Are you sure it it refers to the same list as the activity? Maybe you&#39;re creating new list for it?"}, {"owner": {"reputation": 627, "user_id": 7118110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzVRIJUYrOA/AAAAAAAAAAI/AAAAAAAACqY/z1BM7b5NG6U/photo.jpg?sz=128", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/7118110/deepak-kumar"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1537287579, "post_id": 52390198, "comment_id": 91726677, "body": "@Pawel I have added the adapter and recyclerview code"}, {"owner": {"reputation": 627, "user_id": 7118110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzVRIJUYrOA/AAAAAAAAAAI/AAAAAAAACqY/z1BM7b5NG6U/photo.jpg?sz=128", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/7118110/deepak-kumar"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1537338767, "post_id": 52390198, "comment_id": 91742991, "body": "My bad, Thanks @Pawel I wasn&#39;t setting the adapter correctly and I was reassigning the adapter to the recyclerview. After correcting this It&#39;s now working properly. Thanks again"}], "owner": {"reputation": 627, "user_id": 7118110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzVRIJUYrOA/AAAAAAAAAAI/AAAAAAAACqY/z1BM7b5NG6U/photo.jpg?sz=128", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/7118110/deepak-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537287475, "creation_date": 1537285271, "last_edit_date": 1537287475, "question_id": 52390198, "link": "https://stackoverflow.com/questions/52390198/read-contacts-and-display-it-in-a-recyclerview-in-kotlin", "title": "Read contacts and display it in a recyclerview in Kotlin", "body": "<p>I am trying to read contacts from ContactsContract in Kotin. But <strong>it's not showing any of the contact in the recyclerview</strong>. The noticeable thing is that the <strong><em>java version of this code is working fine</em></strong>.</p>\n\n<p>So, I here is my Kotlin code for reading the contact:</p>\n\n<pre><code>private var adapter: ContactsAdapter? = null\nprivate var myContacts : MutableList&lt;MyContacts&gt; = ArrayList()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // code for recyclerview and adapter and checkPermission\n    val itemDecoration = DividerItemDecoration(this, DividerItemDecoration.VERTICAL)\n    recycler_view.layoutManager = LinearLayoutManager(this)\n    recycler_view.addItemDecoration(itemDecoration)\n    adapter = ContactsAdapter(myContacts)\n    recycler_view.hasFixedSize()\n    recycler_view.adapter = ContactsAdapter(myContacts)\n\n    checkPermission()\n}\n\nprivate fun loadContactFromProvider() {\n    showProgressBar()\n    val contentResolver = contentResolver\n    val cursor = contentResolver.query(CONTENT_URI, null, null, null, DISPLAY_NAME)\n\n    if (cursor != null &amp;&amp; cursor.count &gt; 0) {\n        while (cursor.moveToNext()) {\n            val id = cursor.getString(cursor.getColumnIndex(ID))\n            val name = cursor.getString(cursor.getColumnIndex(DISPLAY_NAME))\n            val hasPhoneNumber = cursor.getInt(cursor.getColumnIndex(HAS_PHONE_NUMBER))\n            val contacts = MyContacts()\n\n            if (hasPhoneNumber &gt; 0) {\n                contacts.contactName = name\n                val phoneCursor = contentResolver.query(PHONE_URI, arrayOf(NUMBER), \"$PHONE_ID = ?\", arrayOf(id), null)\n                val phoneNumbers = ArrayList&lt;String&gt;()\n                phoneCursor!!.moveToFirst()\n                while (!phoneCursor.isAfterLast) {\n                    val phoneNumber = phoneCursor.getString(phoneCursor.getColumnIndex(NUMBER)).replace(\" \", \"\")\n                    phoneNumbers.add(phoneNumber)\n                    phoneCursor.moveToNext()\n                }\n                contacts.contactNumber = phoneNumbers\n                phoneCursor.close()\n            }\n            val inputStream = ContactsContract.Contacts.openContactPhotoInputStream(contentResolver, ContentUris.withAppendedId(CONTENT_URI, id.toLong()))\n            if (inputStream != null) {\n                val bitmap = BitmapFactory.decodeStream(inputStream)\n                contacts.contactImage = bitmap?.toString()\n            } else {\n                contacts.contactImage = vectorDrawableToBitmap(R.drawable.ic_person)?.toString()\n            }\n\n            log(contacts.contactName + \" \" + contacts.contactNumber.toString() + \" \" + contacts.contactImage.toString())\n            myContacts.add(contacts)\n        }\n        adapter?.notifyDataSetChanged()\n        cursor.close()\n    }\n}\n</code></pre>\n\n<p>The log details are also fine, they are showing the full contact list. But I am unable to see it in the recyclerview. The constant field like ID, DISPLAY_NAME etc. are already defined in the companion object.</p>\n\n<p>Kotlin code for RecyclerViewAdapter is:</p>\n\n<pre><code>class ContactsAdapter(private val contactList: MutableList&lt;MyContacts&gt;): RecyclerView.Adapter&lt;ContactsAdapter.ContactViewHolder&gt;() {\n\noverride fun onCreateViewHolder(viewGroup: ViewGroup, position: Int): ContactViewHolder {\n    val view = LayoutInflater.from(viewGroup.context).inflate(R.layout.contact_item_layout,viewGroup,false)\n    return ContactViewHolder(view)\n}\n\noverride fun onBindViewHolder(holder: ContactViewHolder, position: Int) {\n    val contact = contactList[position]\n    holder.name!!.text = contact.contactName\n    holder.mobile!!.text = contact.contactNumber[0]\n    Glide.with(holder.itemView.context)\n            .load(contact.contactImage)\n            .into(holder.image)\n}\n\noverride fun getItemCount(): Int = contactList.size\n\nclass ContactViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    var image : ImageView = itemView.find(R.id.contact_image) as ImageView\n    var name : TextView? = itemView.find(R.id.contact_name) as TextView\n    var mobile : TextView? = itemView.find(R.id.contact_mobile) as TextView\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thankyou</p>\n"}, {"tags": ["java", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 3, "creation_date": 1537283945, "post_id": 52389727, "comment_id": 91724556, "body": "Apparently there is an issue with nullable types... see here: <a href=\"https://medium.com/@elye.project/befriending-kotlin-and-mockito-1c2e7b0ef791\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}, {"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "reply_to_user": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 2, "creation_date": 1537294707, "post_id": 52389727, "comment_id": 91729956, "body": "Thank you @GiacomoAlzetta you are right it is a null type issue, I&#39;m able to solve following the medium post."}], "answers": [{"comments": [{"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1594771273, "post_id": 62899641, "comment_id": 111241768, "body": "Hi, thank you for the answer, could you give more details?"}, {"owner": {"reputation": 39, "user_id": 3420237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fec7677003f04230e24533e27565d392?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity_zhang", "link": "https://stackoverflow.com/users/3420237/infinity-zhang"}, "reply_to_user": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1594971942, "post_id": 62899641, "comment_id": 111318796, "body": "@ademar111190 simply put that you should change your function like this: target(filter: String?, mapper: (String?) -&gt; R)...Then it can accept null type argument"}, {"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1594996661, "post_id": 62899641, "comment_id": 111331063, "body": "@user3120237 In my tests it does not work. Look, I did upload the code of the question ready to run on GitHub: <a href=\"https://github.com/ademar111190/soq-test-mockito\" rel=\"nofollow noreferrer\">github.com/ademar111190/soq-test-mockito</a> if you run the tests you can see the java passing and the kotlin failing, doing the changes you propose did not solve the problem. Fell free to try that by yourself."}, {"owner": {"reputation": 39, "user_id": 3420237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fec7677003f04230e24533e27565d392?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity_zhang", "link": "https://stackoverflow.com/users/3420237/infinity-zhang"}, "reply_to_user": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1599155000, "post_id": 62899641, "comment_id": 112693830, "body": "@ademar111190  For your example, maybe you should change your function like that <code>fun &lt;R&gt; target(filter: String?, mapper: ((String?) -&gt; R)?): R? = mapper?.let { it(filter) }</code>, I&#39;m sorry there is something error, I can&#39;t run. But for this change, It doesn&#39;t throw IllegalStateException"}], "tags": [], "owner": {"reputation": 39, "user_id": 3420237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fec7677003f04230e24533e27565d392?s=128&d=identicon&r=PG&f=1", "display_name": "Infinity_zhang", "link": "https://stackoverflow.com/users/3420237/infinity-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1599154842, "last_edit_date": 1599154842, "creation_date": 1594743901, "answer_id": 62899641, "question_id": 52389727, "link": "https://stackoverflow.com/questions/52389727/mockitos-argthat-returning-null-when-in-kotlin/62899641#62899641", "title": "Mockito&#39;s argThat returning null when in Kotlin", "body": "<p>I also faced the same problem.</p>\n<p>And finally, I found <code>argThat()</code> will return null, and normally the argument in the function in kotlin, does not accept null type.</p>\n<p>The source code of <code>argThat</code> from <code>ArgumentMatchers.java</code></p>\n<pre><code>public static &lt;T&gt; T argThat(ArgumentMatcher&lt;T&gt; matcher) {\n    reportMatcher(matcher);\n    return null;\n}\n</code></pre>\n<p>You can see that it <code>return null</code>. So when we mock the function, it will throw IllegalStateException, because <code>argThat</code> <strong>returns null</strong> and argument can't be null.</p>\n<p>It mean that if your function is:</p>\n<pre><code>fun doSomething(arg1: String): Int {\n    // do something\n}\n</code></pre>\n<p>When you mock it like that:</p>\n<pre><code>Mockito.`when`(\n    doSomething(Mockito.argThat&lt;String&gt; { true })\n).thenReturn(100)\n</code></pre>\n<p>It will throw IllegalStateException</p>\n<p>So you should change your function like that:</p>\n<pre><code>fun doSomething(arg1: String?): Int {\n    // do something\n}\n</code></pre>\n<p><strong>Change the &quot;String&quot; to &quot;String?&quot;, make it accept null type.</strong></p>\n<p>My solution is to define the argument with class? so that it can accept null, but I don't know if it is a great solution</p>\n"}, {"tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1602890763, "creation_date": 1602890763, "answer_id": 64397638, "question_id": 52389727, "link": "https://stackoverflow.com/questions/52389727/mockitos-argthat-returning-null-when-in-kotlin/64397638#64397638", "title": "Mockito&#39;s argThat returning null when in Kotlin", "body": "<p>As of this writing, mockito-kotlin hasn't been updated for more than a year. As with all of these libraries, there's always a constant need for keeping them up-to-date, and I didn't want to get stuck with an unmaintained library.</p>\n<p>So I came up with another way to solve the null issue with <code>argThat</code> without using any other libraries.</p>\n<p>Say we've an interface <code>UuidRepository</code> as follows:</p>\n<pre><code>interface UuidRepository {\n    suspend fun Entity save(entity: Entity): Entity\n}\n</code></pre>\n<p>class <code>Entity</code> has two properties, <code>userId: String</code> and <code>uuid: String</code>.</p>\n<p>The following code fails:</p>\n<pre><code>Mockito.verify(uuidRepository).save(argThat { it.userId == someValue &amp;&amp; it.uuid == &quot;test&quot; })\n</code></pre>\n<p>with the error:</p>\n<blockquote>\n<p>argThat { it.userId == someValue &amp;&amp; it.uuid == &quot;test&quot; } must not be null</p>\n</blockquote>\n<p>To solve this, we get all the invocation on the mock and then verify the ones we want:</p>\n<pre><code>val invocations = Mockito.mockingDetails(uuidRepository).invocations\n    .filter { setOf(&quot;findById&quot;, &quot;save&quot;).contains(it.method.name) }\n    .map { it.method.name to it.arguments }\n    .toMap()\n\nassertThat(invocations).containsKey(&quot;save&quot;)\nval first = invocations[&quot;save&quot;]?.first()\nassertThat(first).isNotNull\nval entity = first as Entity\nassertThat(entity.userId).isEqualTo(someValue)\nassertThat(entity.uuid).isEqualTo(&quot;test&quot;)\n</code></pre>\n"}], "owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2298, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1602890763, "creation_date": 1537283565, "question_id": 52389727, "link": "https://stackoverflow.com/questions/52389727/mockitos-argthat-returning-null-when-in-kotlin", "title": "Mockito&#39;s argThat returning null when in Kotlin", "body": "<p>Given the following class (written in kotlin):</p>\n\n<pre><code>class Target {\n     fun &lt;R&gt; target(filter: String, mapper: (String) -&gt; R): R = mapper(filter)\n}\n</code></pre>\n\n<p>I'm able to test in java, the test code:</p>\n\n<pre><code>@Test\npublic void testInJava() {\n    Target mockTarget = Mockito.mock(Target.class);\n    Mockito.when(mockTarget.target(\n            argThat(it -&gt; true),\n            Mockito.argThat(it -&gt; true)\n    )).thenReturn(100);\n    assert mockTarget.target(\"Hello World\", it -&gt; 1) == 100;\n}\n</code></pre>\n\n<p>The java test pass as expected, but the same test is written in kotlin:</p>\n\n<pre><code>@Test\nfun test() {\n    val mockTarget = Mockito.mock(Target::class.java)\n    Mockito.`when`(mockTarget.target(\n            Mockito.argThat&lt;String&gt; { true },\n            mapper = Mockito.argThat&lt;Function1&lt;String, Int&gt;&gt;({ true }))\n    ).thenReturn(100)\n    assert(mockTarget.target(\"Hello World\") { 1 } == 100)\n}\n</code></pre>\n\n<p>The kotlin version I receive the following exception:</p>\n\n<pre><code>java.lang.IllegalStateException: Mockito.argThat&lt;String&gt; { true } must not be null\n</code></pre>\n\n<p>Why is it happening and how can I test that using kotlin?</p>\n"}, {"tags": ["android", "kotlin", "admob"], "comments": [{"owner": {"reputation": 2363, "user_id": 4850553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/orIVt.jpg?s=128&g=1", "display_name": "Mikhail Sharin", "link": "https://stackoverflow.com/users/4850553/mikhail-sharin"}, "edited": false, "score": 0, "creation_date": 1537283744, "post_id": 52389492, "comment_id": 91724410, "body": "Did you change test ad units to associated with your AdMob account ad units? <a href=\"https://developers.google.com/admob/android/test-ads\" rel=\"nofollow noreferrer\">developers.google.com/admob/android/test-ads</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1537284199, "post_id": 52389492, "comment_id": 91724715, "body": "Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 3, "user_id": 10381014, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8Sar2Cm8RmE/AAAAAAAAAAI/AAAAAAAAABI/9Q0-tBcGLCw/photo.jpg?sz=128", "display_name": "Webmaster WM", "link": "https://stackoverflow.com/users/10381014/webmaster-wm"}, "edited": false, "score": 0, "creation_date": 1537284214, "post_id": 52389492, "comment_id": 91724728, "body": "Yes, i used my own AdMob account ad units."}], "owner": {"reputation": 3, "user_id": 10381014, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8Sar2Cm8RmE/AAAAAAAAAAI/AAAAAAAAABI/9Q0-tBcGLCw/photo.jpg?sz=128", "display_name": "Webmaster WM", "link": "https://stackoverflow.com/users/10381014/webmaster-wm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537282840, "creation_date": 1537282840, "question_id": 52389492, "link": "https://stackoverflow.com/questions/52389492/admob-test-ads-showing-on-real-device", "title": "Admob Test Ads showing On Real Device", "body": "<p>I added <strong>AdMob Banner</strong> (with Firebase) to my <strong>Kotlin Android</strong> app. And i publish my app. On Real Device, I see Test Ads.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": true, "score": 1, "last_activity_date": 1537350169, "creation_date": 1537350169, "answer_id": 52402860, "question_id": 52389446, "link": "https://stackoverflow.com/questions/52389446/how-to-mock-match-lambda-in-kotlin-method-signature/52402860#52402860", "title": "how to mock/match lambda in kotlin method signature", "body": "<p>I think you just need to specify they type that your mapper is expected to return when setting up the session mock - in your case looks to be <code>Function1&lt;Row, MyObject&gt;</code></p>\n\n<pre><code>val session = mock&lt;Session&gt; {\n    on { select(sql = anyString(), parameters = anyMap(), options = any(), mapper = any&lt;Function1&lt;Row, MyObject&gt;&gt;())}.thenReturn(listOf(MyObject(foo=\"test-foo\")))\n}\n</code></pre>\n"}], "owner": {"reputation": 7501, "user_id": 1641868, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZpYnA.jpg?s=128&g=1", "display_name": "David Karlsson", "link": "https://stackoverflow.com/users/1641868/david-karlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "accepted_answer_id": 52402860, "answer_count": 1, "score": 0, "last_activity_date": 1537350169, "creation_date": 1537282711, "question_id": 52389446, "link": "https://stackoverflow.com/questions/52389446/how-to-mock-match-lambda-in-kotlin-method-signature", "title": "how to mock/match lambda in kotlin method signature", "body": "<p>I have some code on the follwing form: </p>\n\n<pre><code>@Language(\"SQL\")\nval someSql = \"\"\"\n    SELECT foo\n    FROM bar \n    WHERE foo = :foo\n    \"\"\"\nreturn session.select(some, mapOf(\"foo\" to foo)) {\n    MyObject(\n            foo = it.string(\"foo\"),\n    )\n}.firstOrNull()\n</code></pre>\n\n<p>which use the below from <em>com.github.andrewoma.kwery.core</em>. Note the lambda in the method signature: </p>\n\n<pre><code>fun &lt;R&gt; select(@Language(\"SQL\") sql: String,\n               parameters: Map&lt;String, Any?&gt; = mapOf(),\n               options: StatementOptions = defaultOptions,\n               mapper: (Row) -&gt; R): List&lt;R&gt; \n</code></pre>\n\n<p>I use mockitokotlin2.</p>\n\n<p><strong>I need to return an instance of MyObject when the session select method is called with a select query (containing \"SELECT foo\").</strong></p>\n\n<p>I was thinking I could pass a mock into the lambda as below (but then it wont match the method call I am trying to mock). The below code is an attempt. But it never matches in <code>eq(function2)</code>:</p>\n\n<pre><code>val function2: (Row) -&gt; Int = mock {\n    onGeneric { invoke(any()) }.thenReturn(MyObject(foo=\"test-foo\"))\n}\n\nval session = mock&lt;Session&gt; {\n    on { select(sql = any(), parameters = any(), options = any(), mapper = eq(function2))}.thenReturn(listOf(MyObject(foo=\"test-foo\")))\n} \n</code></pre>\n\n<p>function2 in my case is not really a mapper, it is not eq to what I am trying to mock, it never matches and the mock is never called.</p>\n\n<p>So what do I put in the mock of <code>session, select</code> instead of <em>eq(function2)</em> in the code above to get MyObject object returned?</p>\n"}, {"tags": ["android", "kotlin", "oncreate", "applicationcontext"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1537282607, "post_id": 52389355, "comment_id": 91723658, "body": "Because <code>applicationContext</code> isn&#39;t intialized until <code>onCreate()</code> is called, and can only be called from a Context object."}, {"owner": {"reputation": 101, "user_id": 10320361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMDeLs6gz_A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP6ZjlGncW7UimHkTM2xjcZRvxbig/mo/photo.jpg?sz=128", "display_name": "John Paoletto", "link": "https://stackoverflow.com/users/10320361/john-paoletto"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1537283503, "post_id": 52389355, "comment_id": 91724261, "body": "@TheWanderer Lovely! thanks :) hopefully one day documentation will be simple enough for us beginner to get this ourselves! Hopefully an AI you can just ask :P"}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "is_accepted": true, "score": 0, "last_activity_date": 1537285302, "creation_date": 1537285302, "answer_id": 52390208, "question_id": 52389355, "link": "https://stackoverflow.com/questions/52389355/kotlin-why-some-code-only-works-within-oncreate-of-activity/52390208#52390208", "title": "Kotlin : Why some code only works within OnCreate of Activity", "body": "<p>It happens because the applicationContext is not initialized before the onCreate() method get called. In other classes you can't get the applicationContext because only the classes who represents a context, like an activity class or a service, returns it to you</p>\n"}], "owner": {"reputation": 101, "user_id": 10320361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMDeLs6gz_A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP6ZjlGncW7UimHkTM2xjcZRvxbig/mo/photo.jpg?sz=128", "display_name": "John Paoletto", "link": "https://stackoverflow.com/users/10320361/john-paoletto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 52390208, "answer_count": 1, "score": 0, "last_activity_date": 1559514405, "creation_date": 1537282454, "last_edit_date": 1559514405, "question_id": 52389355, "link": "https://stackoverflow.com/questions/52389355/kotlin-why-some-code-only-works-within-oncreate-of-activity", "title": "Kotlin : Why some code only works within OnCreate of Activity", "body": "<p>I'm a beginner in dev trying to get my head around some concepts. Could someone awesome please help me the below? It's driving me nuts!!</p>\n\n<p>Please take a look at this piece of code:</p>\n\n<pre><code>    val csvRawText = applicationContext.assets.open(\"sgsraagadata.csv\").bufferedReader().use {\n        it.readText()\n    }\n</code></pre>\n\n<p>This is how I'm reading my csv file that I've imported into Assets. <strong>Can you please help me understand</strong>:</p>\n\n<ol>\n<li>Why this code doesn't work (fatal null pointer error) when I run it outside of OnCreate along with my other variable declarations and initialisations? </li>\n<li>And why it also doesn't work inside a separate class that is not an Activity? I have a separate class called csvFile which I wanted to house this code, and no matter where I put it, it doesn't work.</li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-livedata", "calendarview"], "comments": [{"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1537506438, "post_id": 52389235, "comment_id": 91816849, "body": "Hi Luke, did you check my answer?"}], "answers": [{"comments": [{"owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1537530097, "post_id": 52402099, "comment_id": 91828620, "body": "So we have to implement something that&#39;s supposed to be out of the box since binding for <code>android:data</code> is useless. I gave up two way binding and just simply used listener to build a date from year / month /day. Thanks for posting."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "edited": false, "score": 0, "creation_date": 1537530258, "post_id": 52402099, "comment_id": 91828730, "body": "Yes, data binding is used for ease, if we are facing some bug, then we have old weapons too. :)"}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": true, "score": 3, "last_activity_date": 1537348665, "last_edit_date": 1537348665, "creation_date": 1537347946, "answer_id": 52402099, "question_id": 52389235, "link": "https://stackoverflow.com/questions/52389235/using-calendarview-with-databinding/52402099#52402099", "title": "Using CalendarView with databinding", "body": "<h3>There are bunch of bugs, which I found after tracking all classes.</h3>\n\n<h3>Bug 1</h3>\n\n<p>This is bug of Android Documentation. See <a href=\"https://android.googlesource.com/platform/frameworks/data-binding/+/3b920788e90bb0abe615a5d5c899915f0014444b/extensions/baseAdapters/src/main/java/android/databinding/adapters/CalendarViewBindingAdapter.java\" rel=\"nofollow noreferrer\">CalendarViewBindingAdapter</a> class.</p>\n\n<p>You can see they have created binding adapter for <code>android:date</code>, but there is no <code>@InverseBindingAdapter</code>.</p>\n\n<pre><code>@BindingAdapter({\"android:date\"})\npublic static void setDate(CalendarView view, long date) {\n    if (view.getDate() != date) {\n        view.setDate(date);\n    }\n}\n\n// no @InverseBindingAdapter written\n</code></pre>\n\n<p>But on <a href=\"https://developer.android.com/topic/libraries/data-binding/two-way\" rel=\"nofollow noreferrer\">documentation</a>, they have written that <code>CalendarView</code> supports two-way binding.</p>\n\n<p>Perhaps we will get this in next updates.</p>\n\n<p>I also tried to add <code>@InverseBindingAdapter</code> but that was not working too. </p>\n\n<pre><code>@InverseBindingAdapter(attribute = \"android:date\", event = \"android:dateAttrChanged\")\npublic static long getDateLong(CalendarView view) {\n    return view.getDate();\n}\n</code></pre>\n\n<h3>Bug 2</h3>\n\n<p>Try setting <code>setOnDateChangeListener</code> on <code>CalendarView</code>, you will get same date always.</p>\n\n<p><strong>Below does not work</strong> </p>\n\n<pre><code>binding.cal.setOnDateChangeListener((view, year, month, dayOfMonth) -&gt; {\n     Log.d(TAG, \"aLong: \" + new Date(view.getDate()).toString());\n});\n</code></pre>\n\n<p><strong>Below works</strong></p>\n\n<pre><code>binding.cal.setOnDateChangeListener((view, year, month, dayOfMonth) -&gt; {\n    Log.d(TAG, \"aLong: \" + new Date(year, month, dayOfMonth).toString());\n});\n</code></pre>\n\n<h3>That's why my <code>@InverseBindingAdapter</code> does not work.</h3>\n\n<p>Because <code>calendarView.getDate()</code> is not giving correct date.</p>\n\n<h1>Fix</h1>\n\n<p>You can fix this by creating your adapter till they don't fix this issue. Just put below class in your project, and everything will work well.</p>\n\n<pre><code>public class CalendarViewBindingAdapter {\n    @BindingAdapter(value = {\"android:onSelectedDayChange\", \"android:dateAttrChanged\"},\n            requireAll = false)\n    public static void setListeners(CalendarView view, final CalendarView.OnDateChangeListener onDayChange,\n                                    final InverseBindingListener attrChange) {\n        if (attrChange == null) {\n            view.setOnDateChangeListener(onDayChange);\n        } else {\n            view.setOnDateChangeListener(new CalendarView.OnDateChangeListener() {\n                @Override\n                public void onSelectedDayChange(CalendarView view, int year, int month,\n                                                int dayOfMonth) {\n                    if (onDayChange != null) {\n                        onDayChange.onSelectedDayChange(view, year, month, dayOfMonth);\n                    }\n                    Calendar instance = Calendar.getInstance();\n                    instance.set(year, month, dayOfMonth);\n                    view.setDate(instance.getTimeInMillis());\n                    attrChange.onChange();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n\n<h3>What I fixed</h3>\n\n<p>I just set date to CalendarView (<code>view.setDate()</code>), which was 0 previously. </p>\n"}], "owner": {"reputation": 2286, "user_id": 2870138, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GKw2N.png?s=128&g=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/2870138/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 1, "accepted_answer_id": 52402099, "answer_count": 1, "score": 2, "last_activity_date": 1537348665, "creation_date": 1537282070, "question_id": 52389235, "link": "https://stackoverflow.com/questions/52389235/using-calendarview-with-databinding", "title": "Using CalendarView with databinding", "body": "<p>I want to use two-way databinding with Android <code>LiveData</code> components (<a href=\"https://android.jlelse.eu/android-architecture-components-livedata-with-data-binding-7bf85871bbd8\" rel=\"nofollow noreferrer\">as an alternative for Observable fields</a>. Here's code for simple project with <code>CalendarView</code> and <code>EditText</code> that displays both info on button clicked. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout&gt;\n&lt;data&gt;\n    &lt;variable\n        name=\"testDate\"\n        type=\"android.arch.lifecycle.MutableLiveData&amp;lt;Long&amp;gt;\" /&gt;\n    &lt;variable\n        name=\"testString\"\n        type=\"android.arch.lifecycle.MutableLiveData&amp;lt;String&amp;gt;\" /&gt;\n&lt;/data&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onButtonClick\"\n        android:text=\"Show data\"/&gt;\n\n    &lt;CalendarView\n        android:id=\"@+id/cal\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:date=\"@={testDate}\"/&gt;\n\n    &lt;EditText\n        android:id=\"@+id/str\"\n        android:text=\"@={testString}\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n&lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>And activity code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nval liveDate = MutableLiveData&lt;Long&gt;().apply { value = System.currentTimeMillis() }\nval liveString = MutableLiveData&lt;String&gt;().apply { value = \"Date: \" }\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n            .also {\n                it.testDate = liveDate\n                it.testString = liveString\n\n                it.cal.setOnDateChangeListener { view, year, month, dayOfMonth -&gt;\n                    Toast.makeText(applicationContext, \"${view.date}\", Toast.LENGTH_SHORT).show()\n                }\n\n            }\n}\n\n@TargetApi(Build.VERSION_CODES.O)\nfun onButtonClick(view: View) {\n    Toast.makeText(this, liveString.value +\n            Instant.ofEpochMilli(liveDate.value!!).atZone(ZoneId.systemDefault()).toLocalDate()\n            , Toast.LENGTH_SHORT)\n            .show()\n}\n}\n</code></pre>\n\n<p>Two-way binding works fine for String, but not for the date. I found <a href=\"https://stackoverflow.com/questions/46144150/calendarview-getdate-method-returns-current-date-not-selected-date-what-am-i\">this post</a>, which says that selected date is actually something different from the date used by <code>android:date</code>... Fair enough, you can capture this action of changing the date in the listener. The problem is that listener <code>setOnDateChangeListener</code> (applied in <code>also {}</code> above) is not triggered at all, when there is a two-way binding setup. </p>\n\n<p>Correct me if I'm wrong, but if I want to get the selected date <em>I have to</em> use <code>OnDateChangeListener</code>. It also appears to be incompatible with <code>android:date@={...}</code> because using two-way binding seems to override our listener. It would make sense if <code>android:date@={...}</code> provided the same functionality as <code>OnDateChangeListener</code>, but it does not. </p>\n\n<p>So the final question is: is it possible to get the selected date somehow with two-way databinding? </p>\n"}, {"tags": ["android", "serialization", "kotlin", "realm", "gson"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1537333958, "post_id": 52387949, "comment_id": 91741057, "body": "How do you know if it&#39;s an endless loop and not just taking time? Do you get a stack overflow exception or something similar?"}, {"owner": {"reputation": 1, "user_id": 10380569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zzr3npNcILI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPriC5GT9wEW9PuTm1Sxq2oDIUi8A/mo/photo.jpg?sz=128", "display_name": "Stanley", "link": "https://stackoverflow.com/users/10380569/stanley"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1537338802, "post_id": 52387949, "comment_id": 91743010, "body": "It&#39;s a very long time and log read EOF in GSON, if I didn&#39;t kill the app. And if I use val personJSON = gson.toJson(realm.copyFromRealm(person)), it&#39;s done very quickly."}], "owner": {"reputation": 1, "user_id": 10380569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zzr3npNcILI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPriC5GT9wEW9PuTm1Sxq2oDIUi8A/mo/photo.jpg?sz=128", "display_name": "Stanley", "link": "https://stackoverflow.com/users/10380569/stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537318010, "creation_date": 1537278061, "last_edit_date": 1537318010, "question_id": 52387949, "link": "https://stackoverflow.com/questions/52387949/realm-serializing-entity-by-using-kotlin-and-gson-endless-loop", "title": "Realm serializing entity by using Kotlin and GSON endless loop", "body": "<p>Entity defined</p>\n\n<pre><code>open class Person : RealmObject() {\n    var age: Int = 0\n    var name: String = \"\"\n}\n\n\nclass PersonSerializer : JsonSerializer&lt;Person&gt; {\n    override fun serialize(src: Person, typeOfSrc: Type, context: JsonSerializationContext): JsonElement {\n        val jsonObject = JsonObject()\n        jsonObject.addProperty(\"name\", src.name)\n        jsonObject.addProperty(\"age\", src.age)\n        return jsonObject\n    }\n}\n</code></pre>\n\n<p>Serialize by GSON</p>\n\n<pre><code>        val realm = Realm.getDefaultInstance()\n        val person = realm.where(Person::class.java).findFirst()\n        val gson = GsonBuilder()\n                .setExclusionStrategies(object : ExclusionStrategy {\n                    override fun shouldSkipField(f: FieldAttributes): Boolean {\n                        return f.declaringClass == RealmObject::class.java\n                    }\n\n                    override fun shouldSkipClass(clazz: Class&lt;*&gt;): Boolean {\n                        return false\n                    }\n                })\n                .registerTypeAdapter(Person::class.java, PersonSerializer())\n                .create()\n\n        val personJSON = gson.toJson(person)\n        Log.d(\"MainActivity\", \"$personJSON\")\n        realm.close()\n</code></pre>\n\n<p>It cause a endless loop. But if I change to</p>\n\n<pre><code>  val personJSON = gson.toJson(realm.copyFromRealm(person))\n</code></pre>\n\n<p>The entity serialized fine.\nI just translate the realm gson demo from java to kotlin with the official document \n<a href=\"https://gist.github.com/cmelchior/ddac8efd018123a1e53a\" rel=\"nofollow noreferrer\">https://gist.github.com/cmelchior/ddac8efd018123a1e53a</a></p>\n\n<p>I don't know what happened in my Kotlin</p>\n"}, {"tags": ["android", "kotlin", "drawerlayout", "rx-kotlin", "epoxy"], "answers": [{"tags": [], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "is_accepted": true, "score": 1, "last_activity_date": 1540829535, "creation_date": 1540829535, "answer_id": 53049617, "question_id": 52387704, "link": "https://stackoverflow.com/questions/52387704/mvrx-drawerlayout-generally-more-examples-wanted/53049617#53049617", "title": "MvRX DrawerLayout + generally more examples wanted", "body": "<p>So the question you're really trying to ask is how to set up drawer layout with epoxy, since MvRx has nothing to do with layouts, but it's actually used for state management.</p>\n\n<p>Epoxy makes it easy to setup dynamic views, and scrolling screens but for all of the stuff like toolbars, bottom navigation views, drawers etc. you need to set it up exactly the same as before. </p>\n\n<p>What I usually do in my projects is set up a drawer layout in activity and frame layout for my fragments and all of my fragments have only one EpoxyRecyclerView in them and I just insert them into the frame layout of my activity upon a click from navigation drawer.</p>\n"}], "owner": {"reputation": 447, "user_id": 2333802, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6koqb.png?s=128&g=1", "display_name": "J&#248;rgen Svennevik Notland", "link": "https://stackoverflow.com/users/2333802/j%c3%b8rgen-svennevik-notland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "accepted_answer_id": 53049617, "answer_count": 1, "score": 0, "last_activity_date": 1540829535, "creation_date": 1537277266, "last_edit_date": 1537338944, "question_id": 52387704, "link": "https://stackoverflow.com/questions/52387704/mvrx-drawerlayout-generally-more-examples-wanted", "title": "MvRX DrawerLayout + generally more examples wanted", "body": "<p>I'm trying to set up a DrawerLayout in the MvRx sample project but i am kind of stuck.</p>\n\n<p>Totally new to both epoxy and MvRx in general and i have been playing around for a week now learning about the framework and testing components i need to convert our app to MvRx.</p>\n\n<p><strong>What i am wondering is how you setup a DrawerLayout view using MvRx.</strong></p>\n\n<p>Also the current examples are very comprehensive for noobs. Anyone has a minimalist starter available?</p>\n\n<p>// JQ</p>\n"}, {"tags": ["java", "android", "reflection", "kotlin", "annotations"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3110253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2Jtt.jpg?s=128&g=1", "display_name": "rygelouv", "link": "https://stackoverflow.com/users/3110253/rygelouv"}, "edited": false, "score": 0, "creation_date": 1537280592, "post_id": 52387892, "comment_id": 91722241, "body": "Thank you the insight @Dean. I didn&#39;t know about AOP i&#39;ll check it out and give a feedback."}], "tags": [], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1537277875, "creation_date": 1537277875, "answer_id": 52387892, "question_id": 52387446, "link": "https://stackoverflow.com/questions/52387446/annotate-a-function-and-detect-when-it-is-called-at-runtime-kotlin-java/52387892#52387892", "title": "Annotate a function and detect when it is called at Runtime - Kotlin/Java", "body": "<p>What you are looking to do happens a lot in the Java ecosystem, particularly with Spring projects. What you will want to look at is <a href=\"https://flowframework.readthedocs.io/en/stable/TheDefinitiveGuide/PartIII/AspectOrientedProgramming.html\" rel=\"nofollow noreferrer\">Aspect Orientated Programming</a> and most particularly how aspect orientated programming is achieved in <a href=\"https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">spring</a>. </p>\n\n<p>As you suspected this entails reflection to wrap the methods that are annotated, so additional logic can be preformed before or after calling the method. In the case you are interested in, an aspect can be written to check if the user is logged in before invoking the wrapped method.</p>\n"}], "owner": {"reputation": 11, "user_id": 3110253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o2Jtt.jpg?s=128&g=1", "display_name": "rygelouv", "link": "https://stackoverflow.com/users/3110253/rygelouv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537280524, "creation_date": 1537276394, "last_edit_date": 1537280524, "question_id": 52387446, "link": "https://stackoverflow.com/questions/52387446/annotate-a-function-and-detect-when-it-is-called-at-runtime-kotlin-java", "title": "Annotate a function and detect when it is called at Runtime - Kotlin/Java", "body": "<p>Hello let me try to make this clear: I want to do almost the same thing the Android annotations do. For example :</p>\n\n<pre><code>@RequiresApi(Build.VERSION_CODES.LOLLIPOP)\npublic void someFunction() {\n}\n</code></pre>\n\n<p>I would like to make something similar but at Runtime. Annotate a function and when that function is called, i make a treatment (probably using reflection) and depending on the result i proceed to run or not the annotated function. Something like:</p>\n\n<pre><code>@IsLoggedIn()\npublic void someFunction() {\n}\n</code></pre>\n\n<p>The someFunction() function will be executed only if the user is logged in.</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 971, "user_id": 9976846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxw7E.png?s=128&g=1", "display_name": "Nambi_0915", "link": "https://stackoverflow.com/users/9976846/nambi-0915"}, "edited": false, "score": 0, "creation_date": 1537275752, "post_id": 52387095, "comment_id": 91718879, "body": "Are you asking an alternate regex to match the a and b?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 971, "user_id": 9976846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxw7E.png?s=128&g=1", "display_name": "Nambi_0915", "link": "https://stackoverflow.com/users/9976846/nambi-0915"}, "edited": false, "score": 1, "creation_date": 1537275869, "post_id": 52387095, "comment_id": 91718947, "body": "@ran_0315 no, he is asking an alternative (more concise) way to access the value of the first group"}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1537276279, "post_id": 52387308, "comment_id": 91719226, "body": "also <code>[1]</code> instead of <code>.get(1)</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1537276496, "post_id": 52387308, "comment_id": 91719409, "body": "@TimCastelijns Yeah, save even more space :) Also, added the rationale behind <code>^</code> and <code>$</code> (no need for <code>matcherForIds.matchEntire(line)</code> check)."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1537276834, "post_id": 52387308, "comment_id": 91719631, "body": "The [1] is sure going the most in direction of what I am looking for. But Still, the overall answer is cool, too."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1537276478, "last_edit_date": 1537276478, "creation_date": 1537275995, "answer_id": 52387308, "question_id": 52387095, "link": "https://stackoverflow.com/questions/52387095/nicer-way-to-access-match-results/52387308#52387308", "title": "Nicer way to access match results?", "body": "<p>You may get the result without a separate function:</p>\n\n<pre><code>val line = s.replace(\"\"\"^(.*\\.messageid=)[XY]\\d{4,6}E$\"\"\".toRegex()) { \n    \"${it.groupValues[1]}Z%05dE\".format(messageCounter++) \n}\n</code></pre>\n\n<p>However, as you need to <code>format</code> the <code>messageCounter</code> into the result, you cannot just use a string replacement pattern and you cannot get rid of <code>${it.groupValues[1]}</code>.</p>\n\n<p>Also, note:</p>\n\n<ul>\n<li>You may get rid of double backslashes by means of the triple-quoted string literal</li>\n<li>There is no need adding <code>.messageid=</code> to the replacement if you capture that part into Group 1 (see <code>(.*\\.messageid=)</code>)</li>\n<li>There is no need capturing <code>X</code> or <code>Y</code> since you are not using them later, thus, <code>(X|Y)</code> can be replaced with a more efficient character class <code>[XY]</code>.</li>\n<li>The <code>^</code> and <code>$</code> make sure the pattern should match the entire string, else, there will be no match and the string will be returned as is, without any modification.</li>\n</ul>\n\n<p>See the <a href=\"http://rextester.com/JISQKI13045\" rel=\"nofollow noreferrer\">Kotlin demo online</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1537278672, "post_id": 52387398, "comment_id": 91720913, "body": "Very nice, too."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1537279951, "last_edit_date": 1537279951, "creation_date": 1537276269, "answer_id": 52387398, "question_id": 52387095, "link": "https://stackoverflow.com/questions/52387095/nicer-way-to-access-match-results/52387398#52387398", "title": "Nicer way to access match results?", "body": "<p>Maybe not really what you are looking for, but maybe it is. What if you first ensure (filter) the lines of interest and just replace what needs to be replaced instead, e.g. use the following transformation function:</p>\n\n<pre><code>val matcherForIds = Regex(\"(.*)\\\\.messageid=(X|Y)\\\\d{4,6}E\")\nval idRegex = Regex(\"[XY]\\\\d{4,6}E\")\nvar idCounter = 5\n\nfun transformIds(line: String) = idRegex.replace(line) {\n  \"Z%05dE\".format(idCounter++)\n}\n</code></pre>\n\n<p>with the following filter:</p>\n\n<pre><code>\"a.messageid=X0001E\\nb.messageid=Y0001E\"\n  .lineSequence()\n  .filter(matcherForIds::matches)\n  .map(::transformIds)\n  .forEach(::println)\n</code></pre>\n\n<p>In case there are also other strings that are relevant which you want to keep then the following is also possible but not as nice as the solution at the end:</p>\n\n<pre><code>\"a.messageid=X0001E\\nnot interested line, but required in the output!\\nb.messageid=Y0001E\"\n  .lineSequence()\n  .map {\n    when {\n      matcherForIds.matches(it) -&gt; transformIds(it)\n      else -&gt; it\n    }\n  }\n  .forEach(::println)\n</code></pre>\n\n<p>Alternatively (now just copying Wiktors regex, as it already contains all we need (complete match from begin of line <code>^</code> upto end of line <code>$</code>, etc.)):</p>\n\n<pre><code>val matcherForIds = Regex(\"\"\"^(.*\\.messageid=)[XY]\\d{4,6}E$\"\"\")\nfun transformIds(line: String) = matcherForIds.replace(line) {\n  \"${it.groupValues[1]}Z%05dE\".format(idCounter++)\n}\n</code></pre>\n\n<p>This way you ensure that lines that completely match the desired input are replaced and the others are kept but not replaced.</p>\n"}], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537279951, "creation_date": 1537275317, "question_id": 52387095, "link": "https://stackoverflow.com/questions/52387095/nicer-way-to-access-match-results", "title": "Nicer way to access match results?", "body": "<p>My requirement is to transform some textual message ids. Input is </p>\n\n<pre><code>a.messageid=X0001E\nb.messageid=Y0001E\n</code></pre>\n\n<p>The task is to turn that into</p>\n\n<pre><code>a.messageid=Z00001E\nb.messageid=Z00002E\n</code></pre>\n\n<p>In other words: fetch the first part each line (like: <code>a.</code>), and append a  slightly different id.</p>\n\n<p>My current solution:</p>\n\n<pre><code>val matcherForIds = Regex(\"(.*)\\\\.messageid=(X|Y)\\\\d{4,6}E\")  \nvar idCounter = 5\n\nfun transformIds(line: String): String {\n    val result = matcherForIds.matchEntire(line) ?: return line\n    return \"${result.groupValues.get(1)}.messageid=Z%05dE\".format(messageCounter++)\n}\n</code></pre>\n\n<p>This <em>works</em>, but find the way how I get to first match <code>\"${result.groupValues.get(1)}</code> to be not very elegant.</p>\n\n<p>Is there a nicer to read/more concise way to access that first match?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 2, "creation_date": 1537274090, "post_id": 52386690, "comment_id": 91717770, "body": "Can you just reference <code>someAdapter</code> without prefixing it with <code>this</code>?"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1537274632, "post_id": 52386690, "comment_id": 91718131, "body": "@MFazio23, yes, but <code>isInitialized</code> is unresolved."}, {"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "edited": false, "score": 0, "creation_date": 1537275071, "post_id": 52386690, "comment_id": 91718418, "body": "Can you show the outer class code"}], "answers": [{"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537274429, "post_id": 52386770, "comment_id": 91717984, "body": "Thanks, but now I can&#39;t get a state: <code>this@SomeFragment.someAdapter.isInitialized</code> (<code>isInitialized</code> is unresolved)."}, {"owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537274606, "post_id": 52386770, "comment_id": 91718110, "body": "I don&#39;t know how <code>SomeAdapter</code> looks like, but that error says that <code>isInitialized</code> is not there, or is private."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537274820, "post_id": 52386770, "comment_id": 91718254, "body": "It is an inline function, see <a href=\"https://stackoverflow.com/questions/37618738/how-to-check-if-a-lateinit-variable-has-been-initialized\" title=\"how to check if a lateinit variable has been initialized\">stackoverflow.com/questions/37618738/&hellip;</a>. It checks whether <code>lateinit var</code> variable has already been initialized."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537276314, "post_id": 52386770, "comment_id": 91719257, "body": "Thanks, it helped me in another case, when I accessed a view from nested <code>run</code>."}], "tags": [], "owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "is_accepted": false, "score": 3, "last_activity_date": 1537274251, "creation_date": 1537274251, "answer_id": 52386770, "question_id": 52386690, "link": "https://stackoverflow.com/questions/52386690/how-to-access-variable-isinitialized-from-apply-in-kotlin/52386770#52386770", "title": "How to access variable.isInitialized from `apply` in Kotlin?", "body": "<p>You can access it via <code>this@YourClass.adapter</code>. It's called qualified this, you can have a look at the documentation <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537275708, "post_id": 52387058, "comment_id": 91718847, "body": "Agree with you, that&#39;s why I sometimes prefer <code>lateinit var</code>: it shows, when an application has a problem of events sequence."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 2, "last_activity_date": 1537275162, "creation_date": 1537275162, "answer_id": 52387058, "question_id": 52386690, "link": "https://stackoverflow.com/questions/52386690/how-to-access-variable-isinitialized-from-apply-in-kotlin/52387058#52387058", "title": "How to access variable.isInitialized from `apply` in Kotlin?", "body": "<p>Not direct answer, but rather design opinion: <code>lateinit var</code>s are supposed to be used when you're guaranteed to have them set before use. </p>\n\n<p><code>isInitialized</code> was not even present before Kotlin 1.2, it was only added (opinion ahead) as an error fallback.</p>\n\n<p>If you're getting <code>notInitializedException</code> thats good indicator you're not properly initializing the field, if you explicitly initialize it later  then you should use nullable field instead: <code>SomeAdapter?</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1537280327, "post_id": 52387098, "comment_id": 91722057, "body": "Welcome @CoolMind"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537286291, "post_id": 52387098, "comment_id": 91726007, "body": "I must have been blind... I didn&#39;t see that <code>::someAdapter.isInitialized</code> on the page yet... until now :-) however I don&#39;t think that your comment there is valid... if <code>someAdapter</code> would be in any of the outer classes, it will still be accessible as long as there doesn&#39;t exist any other member that has the same name. And then it might just catch the wrong ;-)"}, {"owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1537294098, "post_id": 52387098, "comment_id": 91729699, "body": "Yes @Roland, I agree. What i meant was that it will resolve to the variable it finds in the immediate outer scope. But I see your point that it can actually cause confusion"}], "tags": [], "owner": {"reputation": 1206, "user_id": 6393514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J7U5Cf5gTnM/AAAAAAAAAAI/AAAAAAAAAUM/S-QL3OQBvJ0/photo.jpg?sz=128", "display_name": "Jitendra A", "link": "https://stackoverflow.com/users/6393514/jitendra-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1537275322, "creation_date": 1537275322, "answer_id": 52387098, "question_id": 52386690, "link": "https://stackoverflow.com/questions/52386690/how-to-access-variable-isinitialized-from-apply-in-kotlin/52387098#52387098", "title": "How to access variable.isInitialized from `apply` in Kotlin?", "body": "<p>You can use one of the following.</p>\n\n<pre><code>recycler_view.apply {\n    this.layoutManager = LinearLayoutManager(context)\n    if (this@OuterClass::someAdapter.isInitialized) { //qualified\n        this.adapter = someAdapter\n    }\n}\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>recycler_view.apply {\n    this.layoutManager = LinearLayoutManager(context)\n    if (::someAdapter.isInitialized) { // qualified works for immediate outer scope\n        this.adapter = someAdapter\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1537286030, "creation_date": 1537286030, "answer_id": 52390412, "question_id": 52386690, "link": "https://stackoverflow.com/questions/52386690/how-to-access-variable-isinitialized-from-apply-in-kotlin/52390412#52390412", "title": "How to access variable.isInitialized from `apply` in Kotlin?", "body": "<p>Accessing the outer <code>this</code> is possible via <code>this@OuterClass</code>. But, if you do not have any other <code>someAdapter</code> you can also just omit the <code>this@YourOuterClass</code> and simply use the following instead:</p>\n\n<pre><code>if (::someAdapter.isInitialized) {\n</code></pre>\n\n<p>So given the following, it is clear that <code>someVar</code> of <code>Outer</code> is meant:</p>\n\n<pre><code>class Outer&lt;T&gt; where T : Any {\n  lateinit var someVar : T\n  inner class Inner {\n    fun isItInitialized() = ::someVar.isInitialized\n  }\n}\n</code></pre>\n\n<p>Given the following however:</p>\n\n<pre><code>class Outer&lt;T&gt; where T : Any {\n  lateinit var someVar : T\n  inner class Inner {\n    lateinit var someVar : T\n    fun isItInitialized() = ::someVar.isInitialized // now someVar of Inner is used\n  }\n}\n</code></pre>\n\n<p>you need to specify <code>this@Outer::someVar.isInitialized</code> if you want to access the outer <code>someVar</code>.</p>\n"}], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 52387098, "answer_count": 4, "score": 2, "last_activity_date": 1537286030, "creation_date": 1537273977, "last_edit_date": 1537275489, "question_id": 52386690, "link": "https://stackoverflow.com/questions/52386690/how-to-access-variable-isinitialized-from-apply-in-kotlin", "title": "How to access variable.isInitialized from `apply` in Kotlin?", "body": "<p>Let you have some variable and <code>apply</code>, <code>run</code>, <code>let</code>, <code>also</code>, <code>takeIf</code> or <code>with</code> function:</p>\n\n<pre><code>// private lateinit var someAdapter: SomeAdapter\n\nrecycler_view.apply {\n    this.layoutManager = LinearLayoutManager(context)\n    if (this::someAdapter.isInitialized) { // Compilation error.\n        this.adapter = someAdapter\n    }\n}\n</code></pre>\n\n<p>How to access a value or state of <code>someAdapter</code>?</p>\n"}, {"tags": ["android", "performance", "kotlin", "lazy-evaluation"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 3, "last_activity_date": 1537272523, "creation_date": 1537272523, "answer_id": 52386280, "question_id": 52386152, "link": "https://stackoverflow.com/questions/52386152/better-declaration-of-a-constant-with-generated-value/52386280#52386280", "title": "Better declaration of a constant with generated value", "body": "<p>If the static bytes are the same, adding a lazy delegate isn't going to buy you anything. Lazy is useful if the value being calculated requires some computational effort (time and/or space), or possibly isn't required in some cases. So you'd only want to initialize it when you really need it, not every time.</p>\n\n<p>In fact, if you do need it every time, adding the lazy delegate is going to just add overhead. I would do the easiest thing and only go for the lazy delegate if I find it would help through benchmarking or testing.</p>\n\n<p>TLDR: Stick with initializing the array directly, unless you don't need it every time AND it requires serious resources to create.</p>\n"}], "owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 52386280, "answer_count": 1, "score": 0, "last_activity_date": 1537272523, "creation_date": 1537272090, "question_id": 52386152, "link": "https://stackoverflow.com/questions/52386152/better-declaration-of-a-constant-with-generated-value", "title": "Better declaration of a constant with generated value", "body": "<p>What declaration would be better in Kotlin and why?</p>\n\n<p><code>Key</code> here is always same value </p>\n\n<pre><code>private val key: ByteArray by lazy {\n    byteArrayOf(some static bytes)\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>private val key = byteArrayOf(some static bytes)\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "thymeleaf"], "owner": {"reputation": 21, "user_id": 10380047, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nElicfXKbUw/AAAAAAAAAAI/AAAAAAAAACI/uxBgxrqd-UU/photo.jpg?sz=128", "display_name": "Kes Williams", "link": "https://stackoverflow.com/users/10380047/kes-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1537339221, "creation_date": 1537271253, "last_edit_date": 1537339221, "question_id": 52385912, "link": "https://stackoverflow.com/questions/52385912/how-can-i-access-a-thobjects-list-and-iterate-through-it-with-theach", "title": "How can I access a th:objects list and iterate through it with th:each?", "body": "<p>I am trying to get access to my thymeleaf objects list and iterate through it. </p>\n\n<p>The item class I am attempting to access looks like this:</p>\n\n<pre><code>data class Orders(val orders: List&lt;Order&gt;)\ndata class Order(val orderNumber: Long,\n                 val time: String,\n                 val name: String,\n                 val zipCode: Int,\n                 val recipientType: String?,\n                 val recipientName: String?,\n                 val recipientZipCode: String?,\n                 val recipientCity: String?,\n                 val shoppingNote: String?,\n                 val id: Int,\n                 val orderRows: List&lt;OrderRow&gt;)\n\ndata class OrderRow(val id: Int,\n                    val variantTitle: String,\n                    val productTitle: String,\n                    val amount: Int,\n                    val units: List&lt;Unit&gt;)\n\ndata class Unit(val code: String,\n                val redeemed: Boolean?)\n</code></pre>\n\n<p>And the controller I am using to give the list of orders to my template is as follows:</p>\n\n<pre><code>@RequestMapping(\"/user\")\n    fun welcome(model: Model, principal: Principal): String {\n        val user = userService.getUserInfo(principal.name)\n        val listOfOrders = supplierService.getOrders(email, apiKey).orders\n\n        model.addAttribute(\"user\", user)\n        model.addAttribute(\"listOfOrders\", listOfOrders)\n\n        return \"user\"\n    }\n</code></pre>\n\n<p>and my template that I am using looks like this</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;table class=\"table\" th:object=\"${listOfOrders}\"&gt;\n        &lt;thead&gt;\n        &lt;th&gt;#&lt;/th&gt;\n        &lt;th&gt;Navn&lt;/th&gt;\n        &lt;th&gt;ID&lt;/th&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;th:block th:each=\"order: ${listOfOrders}\"&gt;\n            &lt;tr class=\"accordion-toggle\"\n                data-toggle=\"collapse\"\n                th:data-target=\"'#accordion_'+${order.id}\"&gt;\n                &lt;td th:text=\"${order.orderNumber}\"&gt;&lt;/td&gt;\n                &lt;td th:text=\"${order.name}\"&gt;&lt;/td&gt;\n                &lt;td th:text=\"${order.id}\"&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td colspan=\"6\"&gt;\n                    &lt;div th:id=\"'accordion_'+${order.id}\" class=\"collapse in\"&gt;\n                        &lt;table class=\"table\"&gt;\n                            &lt;thead&gt;\n                            &lt;th&gt;#&lt;/th&gt;\n                            &lt;th&gt;Navn&lt;/th&gt;\n                            &lt;th&gt;ID&lt;/th&gt;\n                            &lt;/thead&gt;\n                            &lt;tbody&gt;\n                            &lt;th:block th:each=\"row: ${order.orderRows}\"&gt;\n                                &lt;tr class=\"accordion-toggle\"\n                                    data-toggle=\"collapse\"\n                                    th:data-target=\"'#accordion_'+${row.id}\"&gt;\n                                    &lt;td th:text=\"${row.amount}\"&gt;&lt;/td&gt;\n                                    &lt;td th:text=\"${row.productTitle}\"&gt;&lt;/td&gt;\n                                    &lt;td th:text=\"${row.id}\"&gt;&lt;/td&gt;\n                                &lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;&lt;/td&gt;\n                                    &lt;td colspan=\"6\"&gt;\n                                        &lt;div th:id=\"'accordion_'+${row.id}\" class=\"collapse in\"&gt;\n                                            Nothing to show yet.\n                                        &lt;/div&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/th:block&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/th:block&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and the first block where I use the listOfOrders as the th:object works perfectly, but for the second iteration where I try to access the orderRows of the Order fails with the two following messages</p>\n\n<blockquote>\n  <p>org.thymeleaf.exceptions.TemplateProcessingException: Exception\n  evaluating SpringEL expression: \"order.orderRows\" (template: \"user\" -\n  line 50, col 39)</p>\n  \n  <p>org.springframework.expression.spel.SpelEvaluationException: EL1007E:\n  Property or field 'orderRows' cannot be found on null</p>\n</blockquote>\n\n<p>I am currently stuck with this, because I also need to iterate through the orderRows Units once I can iterate through the Orders orderRows.</p>\n\n<p>And I have verified that the listOfOrders added to the model does indeed have both orderRows and orderRows.units.</p>\n\n<p>Any suggestion as to what I am missing or suggestions to get this to work?</p>\n"}, {"tags": ["android", "kotlin", "access-modifiers"], "comments": [{"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 1, "creation_date": 1537268938, "post_id": 52385189, "comment_id": 91714419, "body": "Same as in Java"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 4, "creation_date": 1537269090, "post_id": 52385189, "comment_id": 91714519, "body": "<a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">kotlin reference # visibility modifiers</a> probably contains everything you need to know... if not, then please be more specific..."}, {"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "reply_to_user": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 0, "creation_date": 1537270619, "post_id": 52385189, "comment_id": 91715510, "body": "@AntonA. this is not correct. see my answer."}, {"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "reply_to_user": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "edited": false, "score": 1, "creation_date": 1537271076, "post_id": 52385189, "comment_id": 91715792, "body": "@homerman and what is different from Java??"}, {"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "reply_to_user": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 0, "creation_date": 1537271754, "post_id": 52385189, "comment_id": 91716258, "body": "@AntonA. Java doesn&#39;t support <code>private</code> for top-level declarations."}, {"owner": {"reputation": 317, "user_id": 3193776, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003606250641/picture?type=large", "display_name": "tieskedh", "link": "https://stackoverflow.com/users/3193776/tieskedh"}, "reply_to_user": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 1, "creation_date": 1537277531, "post_id": 52385189, "comment_id": 91720122, "body": "@AntonA. also in java protected includes package-local, in Kotlin it doensn&#39;t"}], "answers": [{"tags": [], "owner": {"reputation": 13821, "user_id": 5137352, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/852863871429825/picture?type=large", "display_name": "Nabin Bhandari", "link": "https://stackoverflow.com/users/5137352/nabin-bhandari"}, "is_accepted": false, "score": 0, "last_activity_date": 1537269018, "last_edit_date": 1592644375, "creation_date": 1537269018, "answer_id": 52385270, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385270#52385270", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"nofollow noreferrer\">Kotlin doc</a>:</p>\n<blockquote>\n<p>private \u2014 means visible inside this class only (including all its members);</p>\n<p>protected \u2014 same as private + visible in subclasses too;</p>\n</blockquote>\n<p>By visible, it means the field or method can be accessed or used.</p>\n"}, {"tags": [], "owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1537269047, "creation_date": 1537269047, "answer_id": 52385276, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385276#52385276", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p>As official <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">documentatin</a> says:</p>\n\n<blockquote>\n  <p><code>private</code> means visible inside this class only (including all its\n  members);</p>\n  \n  <p><code>protected</code> \u2014 same as <code>private</code> + visible in subclasses too;</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 7961311, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431612043523834/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7961311/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1537269330, "creation_date": 1537269330, "answer_id": 52385367, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385367#52385367", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p>As in most OOP languages there are several modifiers in Kotlin:</p>\n\n<p><code>public</code> - class, function or property can be reached from anywhere in the project.\nIn Kotlin by default the class, property or function are public</p>\n\n<p><code>protected</code> - class, function or property can be reached only by the current class subclasses</p>\n\n<p><code>private</code> - class, function or property can be reached only in the current class</p>\n\n<p><code>internal</code> - class, function or property can be reached from anywhere in the current module</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 6313364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PZ5YVvLHtUg/AAAAAAAAAAI/AAAAAAAACH4/x5ZQI0cPoes/photo.jpg?sz=128", "display_name": "Anuroop Pendela", "link": "https://stackoverflow.com/users/6313364/anuroop-pendela"}, "is_accepted": false, "score": 0, "last_activity_date": 1537269718, "creation_date": 1537269718, "answer_id": 52385473, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385473#52385473", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p>Check <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">this</a> for detailed description. </p>\n\n<p>If you want to understand the protected concept you need a basic understanding of subclasses and inheritance. </p>\n\n<p>Variables or Functions with protected access specifier can be seen from child classes. But private will binds the scope within the class. </p>\n\n<p>consider this basic code:</p>\n\n<pre><code>\n\n    open class Outer {\n        private val a = 1 // visible only for instance of class Outer\n        protected open val b = 2 // visible for instance of Outer and another subclass which inherits Outer.\n        val d = 4  // public by default\n        protected class Nested {\n            public val e: Int = 5\n        }\n    }\n\n    public class Subclass : Outer() {\n        // a is not visible\n        // b, d are visible\n        // Nested and e are visible\n\n        override val b = 5   // 'b' is protected\n    }\n\n</code>\n</pre>\n\n<p>Note: The above code is from docs.</p>\n"}, {"tags": [], "owner": {"reputation": 1049, "user_id": 5191371, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-ot9rjGa7uA8/AAAAAAAAAAI/AAAAAAAAABU/koPCcazBpTA/photo.jpg?sz=128", "display_name": "Milad Bahmanabadi", "link": "https://stackoverflow.com/users/5191371/milad-bahmanabadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1537270424, "creation_date": 1537270424, "answer_id": 52385682, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385682#52385682", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p><strong>Classes and Interfaces</strong></p>\n\n<p>For members declared inside a class:</p>\n\n<p><strong>private</strong> means visible inside this class only (including all its members);</p>\n\n<p><strong>protected</strong> - same as private + visible in subclasses too;</p>\n\n<p><strong>internal</strong> - any client inside this module who sees the declaring class sees its internal members;</p>\n\n<p><strong>public</strong> - any client who sees the declaring class sees its public members.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\"><strong>KotlinLang</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "is_accepted": false, "score": 0, "last_activity_date": 1537273284, "last_edit_date": 1537273284, "creation_date": 1537270543, "answer_id": 52385713, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k/52385713#52385713", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<h3>As it relates to class members:</h3>\n\n<ul>\n<li>items marked <code>protected</code> are visible within the class and subclasses</li>\n<li>items marked <code>private</code> are visible within the class</li>\n</ul>\n\n<h3>As it relates to top-level declarations:</h3>\n\n<ul>\n<li>(<code>protected</code> is not applicable)</li>\n<li>items marked <code>private</code> are visible within the same file</li>\n</ul>\n"}], "owner": {"reputation": 785, "user_id": 6544777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7da980c664467a7bd3f60dc07522ea5?s=128&d=identicon&r=PG&f=1", "display_name": "Virendra Varma", "link": "https://stackoverflow.com/users/6544777/virendra-varma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1469, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1537273284, "creation_date": 1537268769, "last_edit_date": 1537268871, "question_id": 52385189, "link": "https://stackoverflow.com/questions/52385189/what-are-the-differences-between-private-and-protected-visibility-modifiers-in-k", "title": "What are the differences between private and protected visibility modifiers in Kotlin?", "body": "<p>I just started to learn the kotlin and got confused with the protected access modifier my doubt is what is the exact differences between private and protected access modifier in kotlin. I have searched on the google but didn't get any satisfactory answer.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10379729, "user_type": "registered", "profile_image": "https://graph.facebook.com/701455186894095/picture?type=large", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/10379729/taha-malas"}, "edited": false, "score": 0, "creation_date": 1537306276, "post_id": 52394340, "comment_id": 91734796, "body": "Thanks for your precise response.. But isn&#39;t doOnError enough for error handling?"}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "reply_to_user": {"reputation": 23, "user_id": 10379729, "user_type": "registered", "profile_image": "https://graph.facebook.com/701455186894095/picture?type=large", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/10379729/taha-malas"}, "edited": false, "score": 0, "creation_date": 1537338979, "post_id": 52394340, "comment_id": 91743102, "body": "@TahaMalas, no, it&#39;s not enough. <code>doOnError</code> only allow to trigger additional action when error happened. According to observable contract, when error happened your source will be terminated. So when you call <code>subscribe</code>  with <code>onError</code> parameter, you are sure that properly handle termination of your source (in case of throwing exception)."}, {"owner": {"reputation": 23, "user_id": 10379729, "user_type": "registered", "profile_image": "https://graph.facebook.com/701455186894095/picture?type=large", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/10379729/taha-malas"}, "edited": false, "score": 0, "creation_date": 1537433224, "post_id": 52394340, "comment_id": 91785163, "body": "Thank you so much it worked like a charm.. So should I move doOnNext, doOnError, doOnComplete and doOnSubscribe and pass them in the subscribe parameters?"}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "reply_to_user": {"reputation": 23, "user_id": 10379729, "user_type": "registered", "profile_image": "https://graph.facebook.com/701455186894095/picture?type=large", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/10379729/taha-malas"}, "edited": false, "score": 0, "creation_date": 1537443800, "post_id": 52394340, "comment_id": 91791463, "body": "I recommend you pass you observer directly in <code>subscribe()</code> and return <code>Subscription</code> back from your method, because in some cases you should manually trigger Subscription.unsubbscribe() to free up occupied resources. And by the way, you can extract you switch/case block in <code>map</code> operator. In my opinion, it will be more Rx idiomatic."}], "tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": true, "score": 0, "last_activity_date": 1537303410, "creation_date": 1537303410, "answer_id": 52394340, "question_id": 52384443, "link": "https://stackoverflow.com/questions/52384443/error-while-trying-to-fetch-data-from-internet-without-wifi-connection-using-rxj/52394340#52394340", "title": "Error while trying to fetch data from Internet without Wifi connection using RxJava and Kotlin", "body": "<p>That problem is connected with the way you subscribing to observable. According to\n documentation when using <code>subscribe()</code> without passing action for handling errors, you should receive <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/exceptions/OnErrorNotImplementedException.html\" rel=\"nofollow noreferrer\"><code>OnErrorNotImplementedException</code></a> when source throws exceptions - that's because default exception handler from RxJavaPlugins is used.</p>\n\n<p>To resolve that problem use one of overloaded <code>subscribe</code> methods with <code>onError</code> parameter. For example, <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#subscribe-io.reactivex.functions.Consumer-io.reactivex.functions.Consumer-\" rel=\"nofollow noreferrer\">public final Disposable subscribe(Consumer onNext,\n        Consumer onError)</a></p>\n"}], "owner": {"reputation": 23, "user_id": 10379729, "user_type": "registered", "profile_image": "https://graph.facebook.com/701455186894095/picture?type=large", "display_name": "Taha Malas", "link": "https://stackoverflow.com/users/10379729/taha-malas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 52394340, "answer_count": 1, "score": 1, "last_activity_date": 1537303410, "creation_date": 1537266301, "question_id": 52384443, "link": "https://stackoverflow.com/questions/52384443/error-while-trying-to-fetch-data-from-internet-without-wifi-connection-using-rxj", "title": "Error while trying to fetch data from Internet without Wifi connection using RxJava and Kotlin", "body": "<p>Hello guys I have in my BaseActivity the following function.</p>\n\n<pre><code>override fun &lt;T&gt; subscribeToInternet(observable: Observable&lt;Response&lt;BaseResponse&lt;T&gt;&gt;&gt;, observer: Observer&lt;BaseResponse&lt;T&gt;&gt;) {\n    observable.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .doOnSubscribe { observer.onSubscribe(it) }\n            .doOnError {\n                Log.d(TAG, it.message)\n                observer.onError(it)\n            }\n            .doOnComplete { observer.onComplete() }\n            .doOnNext {\n                Log.d(TAG, \"${it.body() ?: \"no body\"}\")\n                Log.d(TAG, \"${it.errorBody()?.string() ?: \"no error body\"}\")\n                Log.d(TAG, it.code().toString())\n                when {\n                    it.code() == 401 -&gt; {\n                        view.userUnauthenticated()\n                        observer.onNext(BaseResponse(false, \"unauthenticated\", null))\n                        Log.d(TAG, \"UNAUTHENTICATED\")\n                    }\n                    it.code() == 423 -&gt; {\n                        view.userBlocked()\n                        observer.onNext(BaseResponse(false, \"blocked\", null))\n                        Log.d(TAG, \"BLOCKED\")\n                    }\n                    it.isSuccessful -&gt; observer.onNext(it.body()!!)\n                    it.code() == 429 -&gt; observer.onNext(BaseResponse(false, \"Too many attempts\", null))\n                    it.code() == 400 -&gt; observer.onNext(BaseResponse(false, \"Invalid Email or password\", null))\n                    else -&gt; observer.onNext(BaseResponse(false, \"\", null))\n                }\n            }\n            .subscribe()\n}\n</code></pre>\n\n<p>And I handle the error in the observer's onNext() if the server returns a response, but the problem when there's no Internet connection on the device at all!! It throws the following exception</p>\n\n<pre><code>at io.reactivex.internal.operators.observable.ObservableDoOnEach$DoOnEachObserver.onError(ObservableDoOnEach.java:119)\n    at io.reactivex.internal.observers.DisposableLambdaObserver.onError(DisposableLambdaObserver.java:64)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.checkTerminated(ObservableObserveOn.java:276)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.drainNormal(ObservableObserveOn.java:172)\n    at io.reactivex.internal.operators.observable.ObservableObserveOn$ObserveOnObserver.run(ObservableObserveOn.java:252)\n</code></pre>\n\n<p>And this is the usage of the previously mentioned function</p>\n\n<pre><code>override fun sendLoginRequest(email: String, password: String, fcm_token: String) {\n    subscribeToInternet(dataManager.sendLoginRequest(email, password, fcm_token), this)\n}\n\noverride fun onComplete() {\n\n}\n\noverride fun onSubscribe(d: Disposable) {\n    DisposableManager.add(d)\n}\n\noverride fun onNext(t: BaseResponse&lt;LoginData&gt;) {\n    if(t.status) {\n        Log.d(TAG, \"${t.data}\")\n        dataManager.createLoginSession(t.data!!)\n        view.loginSuccess()\n    } else {\n        Log.d(TAG, t.message)\n        view.showError(t.message)\n    }\n}\n\noverride fun onError(e: Throwable) {\n    view.showToastError()\n    Log.d(TAG, e.message)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-workmanager"], "comments": [{"owner": {"reputation": 410, "user_id": 1444774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f2ed5a755a53511208b8c5e70c62aec?s=128&d=identicon&r=PG", "display_name": "Evgen", "link": "https://stackoverflow.com/users/1444774/evgen"}, "edited": false, "score": 0, "creation_date": 1537361860, "post_id": 52384317, "comment_id": 91756534, "body": "Hi, please show your MyLoggerWork class and place where you write this code. Also please specify version of WorkManager. I faced similar issue some time ago. But it was issue in my code, after I fixed it the issue has gone."}, {"owner": {"reputation": 731, "user_id": 1144369, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/29056f029d32c004951bf7422aba166b?s=128&d=identicon&r=PG", "display_name": "hellaandrew", "link": "https://stackoverflow.com/users/1144369/hellaandrew"}, "edited": false, "score": 2, "creation_date": 1538596724, "post_id": 52384317, "comment_id": 92202806, "body": "I am experiencing a similar issue. However, in my case, my Worker class runs twice, even though I only run it once. I tested it with printing Logs. I put a log for when I enqueue the Worker, and a log at the start of doWork(). The log in doWork() gets printed twice."}, {"owner": {"reputation": 567, "user_id": 2252679, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E3eWZ.jpg?s=128&g=1", "display_name": "alena_fox_spb", "link": "https://stackoverflow.com/users/2252679/alena-fox-spb"}, "edited": false, "score": 0, "creation_date": 1540811088, "post_id": 52384317, "comment_id": 92987524, "body": "Have you solved this issue?  I have a same problem - my worker called about 10 times at one moment.. I&#39;m using &#39;alpha10&#39; version"}, {"owner": {"reputation": 480, "user_id": 6333971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7585e678f4fcf5a484f46285da9994?s=128&d=identicon&r=PG&f=1", "display_name": "b devloper", "link": "https://stackoverflow.com/users/6333971/b-devloper"}, "edited": false, "score": 0, "creation_date": 1542281974, "post_id": 52384317, "comment_id": 93517236, "body": "In my case I set 15 minute time  for test and then first 3 times worker class called twice then only once I&#39;m using  <code>1.0.0-alpha11</code>. Any solution ? And I have another <a href=\"https://stackoverflow.com/q/53301908/6333971\">Question ?</a> please look It and tell me something about it. please."}, {"owner": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1542286848, "post_id": 52384317, "comment_id": 93520096, "body": "In my case the result varies, all between one (1) and 10 calls on initial start. It seems som kind of race condition. I am using a Samsung S5 Active with API 21 (5.01) as testdevice. Will test more on emulator soon."}, {"owner": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1542287578, "post_id": 52384317, "comment_id": 93520538, "body": "It seems that the timer also is arbitrary,  sometimes it aims well at 15 minutes, but sometimes it triggers on 4 minutes with several subsequent calls. Is something not cleaning up the scheduler here ? I am using <code>1.0.0-alpha11</code>"}, {"owner": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1542287816, "post_id": 52384317, "comment_id": 93520662, "body": "Has anyone considering reporting this on <a href=\"https://issuetracker.google.com\" rel=\"nofollow noreferrer\">issuetracker.google.com</a> ?"}, {"owner": {"reputation": 567, "user_id": 2252679, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E3eWZ.jpg?s=128&g=1", "display_name": "alena_fox_spb", "link": "https://stackoverflow.com/users/2252679/alena-fox-spb"}, "reply_to_user": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1542870525, "post_id": 52384317, "comment_id": 93725228, "body": "@RoarGr&#248;nmo no, I haven&#39;t report about this. Worker is in alpha, so I think &#39;report&#39; will not make any sense"}, {"owner": {"reputation": 352, "user_id": 7721510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OSWcB.jpg?s=128&g=1", "display_name": "CeH9", "link": "https://stackoverflow.com/users/7721510/ceh9"}, "reply_to_user": {"reputation": 567, "user_id": 2252679, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E3eWZ.jpg?s=128&g=1", "display_name": "alena_fox_spb", "link": "https://stackoverflow.com/users/2252679/alena-fox-spb"}, "edited": false, "score": 2, "creation_date": 1542882946, "post_id": 52384317, "comment_id": 93732044, "body": "@alena_fox_spb you are completely wrong. Alpha means that you can help devs in testing via finding and reporting bugs, therefore make project more stable. Btw i have same issue with multiple runs and fill corresponding issue <a href=\"https://issuetracker.google.com/issues/119886476\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/119886476</a>"}, {"owner": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1543049688, "post_id": 52384317, "comment_id": 93785245, "body": "Here is my issuetracker reference. There is i remedy in there. It&#39;s dirty, but it works though. <a href=\"https://issuetracker.google.com/issues/119582502\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/119582502</a>"}, {"owner": {"reputation": 2910, "user_id": 501223, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/09f5355238055f0485146d8ec160de5d?s=128&d=identicon&r=PG", "display_name": "a.p.", "link": "https://stackoverflow.com/users/501223/a-p"}, "edited": false, "score": 0, "creation_date": 1551432969, "post_id": 52384317, "comment_id": 96646350, "body": "I am facing the same problem. I have two different periodic tasks in my app and the problem happens only on one of the two. The difference is that that one that does not have the problem does not have any constraints and the backoff criteria is set as the following: .setBackoffCriteria(BackoffPolicy.LINEAR,0, TimeUnit.MINUTES). The job that has the problem requires internet connection and the backoff criteria are set as .setBackoffCriteria(BackoffPolicy.LINEAR, WorkRequest.MIN_BACKOFF_MILLIS, TimeUnit.MILLISECONDS). This should be what is causing the problem."}, {"owner": {"reputation": 318, "user_id": 8820190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec6e6b8cd6acc6d024162ee31d1d4d58?s=128&d=identicon&r=PG&f=1", "display_name": "Robotec", "link": "https://stackoverflow.com/users/8820190/robotec"}, "edited": false, "score": 0, "creation_date": 1593369910, "post_id": 52384317, "comment_id": 110750397, "body": "I&#39;m having this problem with version androidx.work:work-runtime:2.3.4"}, {"owner": {"reputation": 1921, "user_id": 3109401, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VK6In.jpg?s=128&g=1", "display_name": "Kimi Chiu", "link": "https://stackoverflow.com/users/3109401/kimi-chiu"}, "edited": false, "score": 0, "creation_date": 1594474120, "post_id": 52384317, "comment_id": 111141724, "body": "Same here with <code>androidx.work:work-runtime:2.3.4</code>. It got called 46 times in two seconds."}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 7551432, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1581660608514874/picture?type=large", "display_name": "Bipin Gawand", "link": "https://stackoverflow.com/users/7551432/bipin-gawand"}, "edited": false, "score": 0, "creation_date": 1558889833, "post_id": 56315017, "comment_id": 99240291, "body": "thank you, Rahul, I asked this question 8 months ago, that time 2.0.1 wasn&#39;t available"}], "tags": [], "owner": {"reputation": 13962, "user_id": 304533, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/23fcaec3eee6cf382d17daaf0fc5e893?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/304533/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1558885535, "creation_date": 1558885535, "answer_id": 56315017, "question_id": 52384317, "link": "https://stackoverflow.com/questions/52384317/work-manager-with-periodic-request-called-multiple-times/56315017#56315017", "title": "Work Manager with periodic request called multiple times", "body": "<p>You are using a very old version of WorkManager. You should switch to the latest stable version. You can try using <code>1.0.1</code> or better yet, switch to <code>2.0.1</code> which includes <code>androidx</code> dependencies.</p>\n"}], "owner": {"reputation": 431, "user_id": 7551432, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1581660608514874/picture?type=large", "display_name": "Bipin Gawand", "link": "https://stackoverflow.com/users/7551432/bipin-gawand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2157, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1558885535, "creation_date": 1537265880, "last_edit_date": 1537504740, "question_id": 52384317, "link": "https://stackoverflow.com/questions/52384317/work-manager-with-periodic-request-called-multiple-times", "title": "Work Manager with periodic request called multiple times", "body": "<p>I'm using work manager for periodic task. I've to \nexecute single instance of worker</p>\n\n<p>my code is below</p>\n\n<pre><code>  val workManager = WorkManager.getInstance()\n  val callDataRequest = PeriodicWorkRequest.Builder(MyLoggerWork::class.java,\n                15, TimeUnit.MINUTES)\n                .addTag(worker)\n                .build()\n   workManager.enqueueUniquePeriodicWork(worker, ExistingPeriodicWorkPolicy.KEEP, callDataRequest)\n</code></pre>\n\n<p>and my worker logs as follows</p>\n\n<pre><code>18/09/2018 03:18:19\n18/09/2018 03:18:19\n18/09/2018 03:18:19\n18/09/2018 03:18:19\n\n18/09/2018 03:37:18\n18/09/2018 03:37:18\n18/09/2018 03:37:18\n18/09/2018 03:37:18\n</code></pre>\n\n<p>here is my MyLoggerWork class</p>\n\n<pre><code>public class MyLoggerWork: Worker(){\n\n\noverride fun doWork(): Result {\n    addlog()\n    return Worker.Result.SUCCESS\n}\n\nprivate fun addlog() {\n\n    try {\n\n        val directory = File(Environment.getExternalStorageDirectory().path + \"/\", \"Jobs\")\n        if (!directory.exists()) {\n            directory.mkdir()\n        }\n        val file = File(directory.path, \"jobs_.txt\")\n        if (!file.exists() &amp;&amp; directory.exists()) {\n            file.createNewFile()\n        }\n        try {\n            val text = SimpleDateFormat(\"dd/MM/yyyy hh:mm:ss\").format(Date())\n            val stream = FileOutputStream(file, true)\n            stream.write(\"\\r\\n\".toByteArray())\n            stream.write(text.toByteArray())\n            stream.close()\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n}\n</code></pre>\n\n<p>i am using following dependency</p>\n\n<pre><code> implementation 'android.arch.work:work-runtime:1.0.0-alpha08'\n</code></pre>\n\n<p>why my work gets called 4 times???</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 971, "user_id": 9976846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxw7E.png?s=128&g=1", "display_name": "Nambi_0915", "link": "https://stackoverflow.com/users/9976846/nambi-0915"}, "edited": false, "score": 1, "creation_date": 1537265714, "post_id": 52384200, "comment_id": 91712474, "body": "just use <code>.{3,100}</code> not <code>\\.{3,100}</code>"}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 971, "user_id": 9976846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxw7E.png?s=128&g=1", "display_name": "Nambi_0915", "link": "https://stackoverflow.com/users/9976846/nambi-0915"}, "edited": false, "score": 0, "creation_date": 1537266814, "post_id": 52384200, "comment_id": 91713135, "body": "@ran_0315 omg, my bad. Really stupid mistake from my. Thank you!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1537272342, "post_id": 52384200, "comment_id": 91716644, "body": "@abbath0767 <code>.</code> may match across any <code>]</code> and <code>#[</code> chars, use <code>[^\\]\\[]</code> instead of a <code>.</code>. See my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1537272306, "last_edit_date": 1537272306, "creation_date": 1537265856, "answer_id": 52384311, "question_id": 52384200, "link": "https://stackoverflow.com/questions/52384200/split-with-a-multicharacter-regex-pattern-and-keep-delimiters/52384311#52384311", "title": "Split with a multicharacter regex pattern and keep delimiters", "body": "<p>To fix your issue, you may replace your regex with</p>\n\n<pre><code>val regex = \"\"\"((?&lt;=( #\\[[^\\]\\[]{3,100}] ))|(?=( #\\[[^\\]\\[]{3,100}] )))\"\"\"\n</code></pre>\n\n<p>The <code>\\w</code> can be replaced with <code>[^\\]\\[]</code> that matches any char but <code>[</code> and <code>]</code>.</p>\n\n<p>Note the use of a raw string literal, <code>\"\"\"...\"\"\"</code>, that allows the use of a single backslash as a regex escape.</p>\n\n<p>See the <a href=\"http://rextester.com/TEOY19586\" rel=\"nofollow noreferrer\">Kotlin online demo</a>.</p>\n\n<p>Alternatively, you may use the following method to split and keep delimiters:</p>\n\n<pre><code>private fun splitKeepDelims(s: String, rx: Regex, keep_empty: Boolean = true) : MutableList&lt;String&gt; {\n    var res = mutableListOf&lt;String&gt;() // Declare the mutable list var\n    var start = 0                     // Define var for substring start pos\n    rx.findAll(s).forEach {           // Looking for matches     \n        val substr_before = s.substring(start, it.range.first()) // // Substring before match start\n        if (substr_before.length &gt; 0 || keep_empty) {\n            res.add(substr_before)      // Adding substring before match start\n        }\n        res.add(it.value)               // Adding match          \n        start = it.range.last()+1       // Updating start pos of next substring before match\n    }\n    if ( start != s.length ) res.add(s.substring(start))  // Adding text after last match if any\n    return res\n}\n</code></pre>\n\n<p>Then, just use it like</p>\n\n<pre><code>val str = \"this is #[loc_75acca83-a39b-4df1-8c3c-b690df00db62] sparta\"\nval regex = \"\"\"#\\[[\\]\\[]+]\"\"\".toRegex()\nprint(splitKeepDelims(str, regex))\n// =&gt; [this is , #[loc_75acca83-a39b-4df1-8c3c-b690df00db62],  sparta]\n</code></pre>\n\n<p>See the <a href=\"http://rextester.com/OHNP94148\" rel=\"nofollow noreferrer\">Kotlin demo</a>.</p>\n\n<p>The <code>\\[[^\\]\\[]+]</code> pattern matches</p>\n\n<ul>\n<li><code>\\[</code> - a <code>[</code> char</li>\n<li><code>[^\\]\\[]+</code> - 1+ chars other than <code>[</code> and <code>]</code></li>\n<li><code>]</code> - a <code>]</code> char.</li>\n</ul>\n"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 52384311, "answer_count": 1, "score": 2, "last_activity_date": 1537272306, "creation_date": 1537265517, "last_edit_date": 1537269172, "question_id": 52384200, "link": "https://stackoverflow.com/questions/52384200/split-with-a-multicharacter-regex-pattern-and-keep-delimiters", "title": "Split with a multicharacter regex pattern and keep delimiters", "body": "<p>I have next string and regex for splitting it: </p>\n\n<pre><code>val str = \"this is #[loc] sparta\"\nval regex = \"((?&lt;=( #\\\\[\\\\w{3,100}\\\\] ))|(?=( #\\\\[\\\\w{3,100}\\\\] )))\"\nprint(str.split(Regex(regex)))\n\n//print - [this is,  #[loc] , sparta]\n</code></pre>\n\n<p>Works fine. But in develop I did not realize when in #[***] block must be a not only text (\\w) - he have and \"-\" and numbers (UUID), and my correct blocks is - </p>\n\n<pre><code>val str = \"this is #[loc_75acca83-a39b-4df1-8c3c-b690df00db62]\"\n</code></pre>\n\n<p>and in this case regex don't work.</p>\n\n<p>How to change this part - \"\\w{3,100}\" for new requirements?</p>\n\n<p>I try change to any - \"\\.{3,100}\" - not work</p>\n"}, {"tags": ["intellij-idea", "kotlin", "set", "code-inspection", "intellij-inspections"], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "edited": false, "score": 3, "creation_date": 1537264628, "post_id": 52383361, "comment_id": 91711814, "body": "Thanks, I created an issue about this: <a href=\"https://youtrack.jetbrains.com/issue/KT-26926\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-26926</a>."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 2, "creation_date": 1538397304, "post_id": 52383361, "comment_id": 92117130, "body": "I haven&#39;t seen the usage of <code>mapTo</code> a lot. Is it somewhere mentioned as an idiom? Especially the shown use case if a great example"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 15, "last_activity_date": 1537262962, "creation_date": 1537262962, "answer_id": 52383361, "question_id": 52383212, "link": "https://stackoverflow.com/questions/52383212/why-does-intellij-suggest-to-convert-a-call-chain-into-a-sequence/52383361#52383361", "title": "Why does IntelliJ suggest to convert a call chain into a Sequence?", "body": "<p>In this case the suggestion is suboptimal. The correct way to rewrite this code (which also doesn't result in any IntelliJ warnings) is:</p>\n\n<pre><code>src.mapTo(hashSetOf()) { it.length }\n</code></pre>\n\n<p>This will avoid the creation of an intermediate list that will be subsequently converted to a set; the data will be added to the resulting set right away.</p>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 1849769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bd80cd843b2791a1312106d13d4fc10?s=128&d=identicon&r=PG", "display_name": "Pezo", "link": "https://stackoverflow.com/users/1849769/pezo"}, "is_accepted": false, "score": 11, "last_activity_date": 1537263022, "creation_date": 1537263022, "answer_id": 52383378, "question_id": 52383212, "link": "https://stackoverflow.com/questions/52383212/why-does-intellij-suggest-to-convert-a-call-chain-into-a-sequence/52383378#52383378", "title": "Why does IntelliJ suggest to convert a call chain into a Sequence?", "body": "<p><code>Set.map</code> returns a list, which you then immediately throw away after converting it to a set. The benefit of <code>asSequence</code> is that the sequence does the conversion, presumably without a temporary list.</p>\n"}], "owner": {"reputation": 800, "user_id": 8176827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-63AittdAhNw/AAAAAAAAAAI/AAAAAAAAC30/7ACJoYQ7F8Q/photo.jpg?sz=128", "display_name": "Andreas Sch&#246;rgenhumer", "link": "https://stackoverflow.com/users/8176827/andreas-sch%c3%b6rgenhumer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3252, "favorite_count": 2, "accepted_answer_id": 52383361, "answer_count": 2, "score": 27, "last_activity_date": 1537263022, "creation_date": 1537262557, "question_id": 52383212, "link": "https://stackoverflow.com/questions/52383212/why-does-intellij-suggest-to-convert-a-call-chain-into-a-sequence", "title": "Why does IntelliJ suggest to convert a call chain into a Sequence?", "body": "<p>Assume the following Kotlin example that maps the source set <code>src</code> to a destination set <code>dst</code>:</p>\n\n<pre><code>private val src: Set&lt;String&gt; = setOf(\"hello\", \"world\")\nprivate val dst: Set&lt;Int&gt; = src.map { it.length }.toSet()\n</code></pre>\n\n<p>This works fine. However, IntelliJ's code inspection suggests: <strong><em>Call chain on collection should be converted into 'Sequence':</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/GsV2T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GsV2T.png\" alt=\"Call chain on collection should be converted into &#39;Sequence&#39;\"></a></p>\n\n<p>Applying this suggestion results in</p>\n\n<pre><code>private val dst: Set&lt;Int&gt; = src.asSequence().map { it.length }.toSet()\n</code></pre>\n\n<p>What is the benefit of this?</p>\n"}, {"tags": ["android", "kotlin", "menu", "toolbar"], "answers": [{"tags": [], "owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "is_accepted": false, "score": 1, "last_activity_date": 1537257397, "creation_date": 1537257397, "answer_id": 52381634, "question_id": 52381430, "link": "https://stackoverflow.com/questions/52381430/menu-problems-in-toolbar/52381634#52381634", "title": "Menu problems in toolbar", "body": "<p>You have to set <code>supportActionBar</code> in your <code>activity</code></p>\n\n<p>Add this in the <code>onCreate()</code> of your <code>activity</code>:</p>\n\n<pre><code>setSupportActionBar(my_toolbar_home)\nsupportActionBar?.setDisplayShowTitleEnabled(false)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9972995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a35ab25b8d46dc362cb4783fe6eae2?s=128&d=identicon&r=PG&f=1", "display_name": "essetwopoints", "link": "https://stackoverflow.com/users/9972995/essetwopoints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537261559, "creation_date": 1537256709, "last_edit_date": 1537261559, "question_id": 52381430, "link": "https://stackoverflow.com/questions/52381430/menu-problems-in-toolbar", "title": "Menu problems in toolbar", "body": "<p>I have many fragments in my app, each fragment has a menu and icon button in toolbar. </p>\n\n<p>After, I use action bar and the icon work, but when I replace the action bar with a toolbar, the menu is not working.</p>\n\n<p>My toolbar is composed with: a menu and one button. </p>\n\n<p>The xml code:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/my_toolbar_home\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"?attr/colorPrimary\"\n    android:elevation=\"4dp\"\n    android:theme=\"@style/AppTheme.NoTitle\"\n    app:popupTheme=\"@style/AppTheme\"&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/toolbar_button\"\n        android:src=\"@drawable/login\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"40dp\"\n        style=\"@style/Widget.AppCompat.Button.Borderless\"\n        android:layout_alignParentEnd=\"true\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:text=\"Maintenance\"\n            android:textColor=\"@color/WHITE\" /&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Please help me, I don't found the error.</p>\n\n<p>I attach the code: </p>\n\n<pre><code>class FragmentDiagnosticsTableViewController : Fragment(), SwipeRefreshLayout.OnRefreshListener {\n\nlateinit var mSwipeRefreshLayout: SwipeRefreshLayout\nlateinit var elementList: ListView\nlateinit var elementListAdapter: FragmentDiagnosticsTableViewController.ElementAdapter\nlateinit var toolbarTopDiagnostic : Toolbar\n\n\ncompanion object {\n\n    fun newInstance(): Fragment {\n        var fb: FragmentDiagnosticsTableViewController = FragmentDiagnosticsTableViewController()\n        return fb\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val rootView = inflater.inflate(R.layout.fragment_diagnostic, container,\n            false)\n\n    var builder = StrictMode.VmPolicy.Builder()\n    StrictMode.setVmPolicy(builder.build())\n\n    mContext = activity as MaintenanceTableViewController\n    mSwipeRefreshLayout = rootView.findViewById&lt;SwipeRefreshLayout&gt;(R.id.swipeRefresh)\n    mSwipeRefreshLayout.setOnRefreshListener(this)\n    elementList = rootView.findViewById&lt;ListView&gt;(R.id.elementList)\n    toolbarTopDiagnostic = rootView.findViewById(R.id.my_toolbar_diagnostic) as Toolbar\n    toolbarTopDiagnostic.inflateMenu(R.menu.men_search)\n\n    val activity = activity as AppCompatActivity?\n\n    if (activity != null) {\n\n        activity.setSupportActionBar(toolbarTopDiagnostic)\n        activity.setTitle(\"\")\n\n\n    }\n\n\n    var title = rootView.findViewById&lt;TextView&gt;(R.id.toolbar_title)\n    title.setText(\"Diagnostic\")\n\n\n\n    val btn_diagnostic= toolbarTopDiagnostic.findViewById(R.id.toolbar_button_diagnostic) as ImageButton\n\n\n    //(activity as AppCompatActivity).supportActionBar?.title = \"Diagnostics\"\n    setHasOptionsMenu(true)\n\n    DiagnosticsTableViewController().loadFileCsv(mContext)\n    elementListAdapter = ElementAdapter(context!!, totalDiagnosticEntries)\n    elementList.adapter = elementListAdapter\n\n    return rootView\n\n}\n\noverride fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\n\n    inflater.inflate(R.menu.men_search, menu)\n\n    val searchItem = menu.findItem(R.id.action_search)\n    val searchView = searchItem.actionView as SearchView\n    searchView.setQueryHint(\"Search View Hint\")\n\n    searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n\n        override fun onQueryTextSubmit(query: String): Boolean {\n            //Task HERE\n            return false\n        }\n\n        override fun onQueryTextChange(newText: String): Boolean {\n\n\n            if (TextUtils.isEmpty(newText)) {\n                elementListAdapter.filter(\"\")\n                elementList.clearTextFilter()\n            } else {\n                elementListAdapter.filter(newText)\n            }\n\n            return false\n        }\n    })\n\n    return super.onCreateOptionsMenu(menu, inflater)\n\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n\n    try {\n        if (item.itemId == R.id.shareButton) {\n            var intentShareFile = Intent(Intent.ACTION_SEND)\n            val fileWithinMyDir = filePathMessageLogger\n            try {\n                if (fileWithinMyDir != null) {\n                    if (fileWithinMyDir.exists()) {\n                        intentShareFile.setType(\"text/plain\")\n                        val fileURI = FileProvider.getUriForFile(activity!!, \"com.example.saradalmonte.pocketserviceandroid\", fileWithinMyDir!!)\n                        intentShareFile.putExtra(Intent.EXTRA_STREAM, fileURI)\n                        intentShareFile.putExtra(Intent.EXTRA_TEXT, \"File Csv\")\n                        startActivity(Intent.createChooser(intentShareFile, \"Share file\"))\n                        onStop()\n                        return true\n                    } else {\n                        Toast.makeText(activity, \"Error File not Exist\", Toast.LENGTH_SHORT).show()\n                    }\n                }\n            } catch (e: Exception) {\n                Toast.makeText(activity, \"Error File not Exist\", Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        else if (item.itemId == R.id.delete) {\n\n            val fileWithinMyDir = filePathMessageLogger\n            if (fileWithinMyDir != null) {\n                if (fileWithinMyDir.exists()) {\n                    fileWithinMyDir.delete()\n                    totalDiagnosticEntries.clear()\n                    elementListAdapter = ElementAdapter(context!!,totalDiagnosticEntries )\n                    elementList.adapter = elementListAdapter\n\n                }\n            }\n        }\n        else if(item.itemId == R.id.toolbar_button_diagnostic){\n\n\n            var intent = Intent(activity, LoginIn::class.java)\n            startActivity(intent)\n            onDestroy()\n\n        }\n    } catch (e: Exception) {\n        Toast.makeText(activity, \"Error File not present\", Toast.LENGTH_SHORT).show()\n    }\n    return true\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n    if (view != null) {\n        super.onViewCreated(view, savedInstanceState)\n        elementListAdapter = ElementAdapter(context!!, totalDiagnosticEntries)\n        elementList.adapter = elementListAdapter\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-service", "job-scheduling", "android-jobscheduler"], "comments": [{"owner": {"reputation": 953, "user_id": 1353438, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/MA8Fd.jpg?s=128&g=1", "display_name": "David Christopher Reynolds", "link": "https://stackoverflow.com/users/1353438/david-christopher-reynolds"}, "edited": false, "score": 1, "creation_date": 1537256157, "post_id": 52381211, "comment_id": 91706817, "body": "Do you have to give the service it&#39;s full name (including the package) in the manifest?"}, {"owner": {"reputation": 214, "user_id": 8873676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7Vb7anlskac/AAAAAAAAAAI/AAAAAAAAOQc/_AmTXHcUOYo/photo.jpg?sz=128", "display_name": "Tiferet Cohen", "link": "https://stackoverflow.com/users/8873676/tiferet-cohen"}, "reply_to_user": {"reputation": 953, "user_id": 1353438, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/MA8Fd.jpg?s=128&g=1", "display_name": "David Christopher Reynolds", "link": "https://stackoverflow.com/users/1353438/david-christopher-reynolds"}, "edited": false, "score": 0, "creation_date": 1537256347, "post_id": 52381211, "comment_id": 91706922, "body": "@DavidChristopherReynolds otherwise it won&#39;t recognize the class"}], "answers": [{"comments": [{"owner": {"reputation": 7609, "user_id": 2401535, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/BImS2.jpg?s=128&g=1", "display_name": "Marian Pa\u017adzioch", "link": "https://stackoverflow.com/users/2401535/marian-pa%c5%badzioch"}, "edited": false, "score": 0, "creation_date": 1537259409, "post_id": 52382153, "comment_id": 91708680, "body": "how come this is a solution for the problem? this makes no sense at all!"}], "tags": [], "owner": {"reputation": 214, "user_id": 8873676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7Vb7anlskac/AAAAAAAAAAI/AAAAAAAAOQc/_AmTXHcUOYo/photo.jpg?sz=128", "display_name": "Tiferet Cohen", "link": "https://stackoverflow.com/users/8873676/tiferet-cohen"}, "is_accepted": false, "score": 1, "last_activity_date": 1537259280, "last_edit_date": 1537259280, "creation_date": 1537259151, "answer_id": 52382153, "question_id": 52381211, "link": "https://stackoverflow.com/questions/52381211/an-android-service-is-not-recognized-as-a-registered-service-although-it-is/52382153#52382153", "title": "An Android service is not recognized as a registered service although it is", "body": "<p>Well, after literally an entire day that I'm on it with no success (before posting this question), I found the problem!\nI was missing </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n</code></pre>\n\n<p>in the manifest. found it by accident :)</p>\n"}], "owner": {"reputation": 214, "user_id": 8873676, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7Vb7anlskac/AAAAAAAAAAI/AAAAAAAAOQc/_AmTXHcUOYo/photo.jpg?sz=128", "display_name": "Tiferet Cohen", "link": "https://stackoverflow.com/users/8873676/tiferet-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537259280, "creation_date": 1537255971, "last_edit_date": 1537256292, "question_id": 52381211, "link": "https://stackoverflow.com/questions/52381211/an-android-service-is-not-recognized-as-a-registered-service-although-it-is", "title": "An Android service is not recognized as a registered service although it is", "body": "<p>I created a <code>NetworkSchedulerService</code> which extends <code>JobService</code> using Kotlin.\nOf course I registered it in the manifest, but for some reason AndroidStudio marks it with warning:</p>\n\n<pre><code>the &lt;service&gt; project.services.network.NetworkSchedulerService is not registered in the manifest\n</code></pre>\n\n<p>When I run the app, it crashes (no surprises) with the error:</p>\n\n<pre><code>09-18 03:18:56.271 22289-22289/project E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: project, PID: 22289\njava.lang.RuntimeException: Unable to start activity ComponentInfo{project/project.ui.home.HomeScreenActivity}: java.lang.IllegalArgumentException: No such service ComponentInfo{projectt/project.services.network.NetworkSchedulerService}\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p>Mt manifest registration:</p>\n\n<pre><code>    &lt;service\n        android:name=\"services.network.NetworkSchedulerService\"\n        android:exported=\"true\"\n        android:permission=\"android.permission.BIND_JOB_SERVICE\"/&gt;\n</code></pre>\n\n<p>How I call it (from the <code>onCreate()</code> of the main activity):</p>\n\n<pre><code>fun scheduleJob() {\n        val myJob = JobInfo.Builder(0, ComponentName(this, NetworkSchedulerService::class.java))\n                .setRequiresCharging(true)\n                .setMinimumLatency(1000)\n                .setOverrideDeadline(2000)\n                .setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)\n                .setPersisted(true)\n                .build()\n\n        val jobScheduler = getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler\n        jobScheduler.schedule(myJob)\n}\n</code></pre>\n\n<p>My <code>NetworkSchedulerService</code> class:</p>\n\n<pre><code>open class NetworkSchedulerService : JobService(), ConnectivityReceiver.ConnectivityReceiverListener {\n\n    private val TAG = NetworkSchedulerService::class.java.simpleName\n    private lateinit var mConnectivityReceiver: ConnectivityReceiver\n\n    override fun onCreate() {\n        super.onCreate()\n        Log.i(TAG, \"onCreate\")\n        mConnectivityReceiver = ConnectivityReceiver(this)\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        Log.i(TAG, \"onStartCommand\")\n        return Service.START_NOT_STICKY\n    }\n\n    override fun onStopJob(params: JobParameters?): Boolean {\n        Log.i(TAG, \"onStopJob $mConnectivityReceiver\")\n        unregisterReceiver(mConnectivityReceiver)\n        return true\n    }\n\n    override fun onStartJob(params: JobParameters?): Boolean {\n        Log.i(TAG, \"onStartJob $mConnectivityReceiver\")\n        registerReceiver(mConnectivityReceiver, IntentFilter(CONNECTIVITY_ACTION))\n        return true\n    }\n\n    override fun onNetworkConnectionChanged(isConnected: Boolean) {\n        val message = if (isConnected) \"Good! Connected to Internet\" else \"Sorry! Not connected to internet\"\n        Toast.makeText(applicationContext, message, Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>I tried to open the NetworkSchedulerService class (since it's static and final by default), tried to clean the project and so many other things.\nCan anyone assist, please?</p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 71, "user_id": 4941247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13eae89ae755c484b4c5c7c1ba5b2d86?s=128&d=identicon&r=PG&f=1", "display_name": "yhongm", "link": "https://stackoverflow.com/users/4941247/yhongm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537260323, "creation_date": 1537255173, "last_edit_date": 1537260323, "question_id": 52380980, "link": "https://stackoverflow.com/questions/52380980/when-i-use-kapt-com-android-databindingcompiler3-1-4-in-my-project-i-have-a", "title": "When I use kapt &#39;com.android.databinding:compiler:3.1.4&#39; in my project,i have a problem that is DataBinderMapperImpl() do not find class", "body": "<p>I use Google databing library in my Android project. I wrote one module with  Kotlin language and another module in Java language.</p>\n\n<p>When i use kapt <code>com.android.databinding:compiler:3.1.4</code> in my project, I found an error that is <code>DataBinderMapperImpl()</code> do not find class, but use kapt <code>com.android.databinding:compiler:3.0.1</code> do not have above-mentioned error. Why is that?</p>\n"}, {"tags": ["android", "kotlin", "proguard"], "answers": [{"comments": [{"owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "edited": false, "score": 0, "creation_date": 1537279593, "post_id": 52384819, "comment_id": 91721544, "body": "That&#39;s not it. Even when I do <code>-keep class cz.x.ui.BaseFragment { *; }</code>, I get the warnings."}], "tags": [], "owner": {"reputation": 195, "user_id": 6478337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nFTyi.jpg?s=128&g=1", "display_name": "Joan", "link": "https://stackoverflow.com/users/6478337/joan"}, "is_accepted": false, "score": 0, "last_activity_date": 1537267533, "creation_date": 1537267533, "answer_id": 52384819, "question_id": 52380670, "link": "https://stackoverflow.com/questions/52380670/kotlin-abstract-generic-with-proguard/52384819#52384819", "title": "Kotlin abstract generic with ProGuard", "body": "<p>I guess you want it not to be obfuscated, so in that case you should keep the methods in the abstract class:</p>\n\n<pre><code>-keep public class {path to your class}.BaseFragment{\n   private &lt;methods&gt;;\n}\n</code></pre>\n\n<p>There's a really usefull ProguardGuide in <a href=\"https://jebware.com/blog/?p=418\" rel=\"nofollow noreferrer\">this link</a>\nAfter reading it you should be more confident on which rules you should use.</p>\n\n<p>I hope it helps, otherwise let me know!</p>\n"}], "owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537267533, "creation_date": 1537254015, "question_id": 52380670, "link": "https://stackoverflow.com/questions/52380670/kotlin-abstract-generic-with-proguard", "title": "Kotlin abstract generic with ProGuard", "body": "<p>I have the following base class:</p>\n\n<pre><code>abstract class BaseFragment&lt;T : BaseViewModel&gt; : Fragment(), JobHolder {\n    protected lateinit var viewModel: T\n        private set\n\n    protected fun provideViewModel(type: Class&lt;T&gt;) {\n        viewModel = ViewModelProviders.of(this).get(type)\n    }\n}\n</code></pre>\n\n<p>and the following class:</p>\n\n<pre><code>class SubjectEditor : BaseFragment&lt;SubjectEditorViewModel&gt;() {\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        provideViewModel(SubjectEditorViewModel::class.java)\n    }\n}\n</code></pre>\n\n<p>But ProGuard is complaining:</p>\n\n<pre><code>Warning: cz.x.ui.subjects.SubjectEditor: can't find referenced method 'void setViewModel(cz.x.ui.BaseViewModel)' in program class cz.x.ui.subjects.SubjectEditor\n</code></pre>\n\n<p>I tried some <code>-keep</code> rules for ProGuard, but nothing worked. What's the correct solution?</p>\n"}, {"tags": ["php", "android", "authentication", "networking", "kotlin"], "comments": [{"owner": {"reputation": 2180, "user_id": 2568563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/769be571eee8c8af8ff71c4ee9a3b70a?s=128&d=identicon&r=PG", "display_name": "toti08", "link": "https://stackoverflow.com/users/2568563/toti08"}, "edited": false, "score": 0, "creation_date": 1537254491, "post_id": 52380287, "comment_id": 91705865, "body": "Hi, could you please make your question complete by posting the code you&#39;ve tried so far?"}, {"owner": {"reputation": 1, "user_id": 10374609, "user_type": "registered", "profile_image": "https://graph.facebook.com/1920483958045034/picture?type=large", "display_name": "Mateusz Kolbusz", "link": "https://stackoverflow.com/users/10374609/mateusz-kolbusz"}, "reply_to_user": {"reputation": 2180, "user_id": 2568563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/769be571eee8c8af8ff71c4ee9a3b70a?s=128&d=identicon&r=PG", "display_name": "toti08", "link": "https://stackoverflow.com/users/2568563/toti08"}, "edited": false, "score": 1, "creation_date": 1537266274, "post_id": 52380287, "comment_id": 91712799, "body": "There you go. I have no idea how to parse body to object."}], "owner": {"reputation": 1, "user_id": 10374609, "user_type": "registered", "profile_image": "https://graph.facebook.com/1920483958045034/picture?type=large", "display_name": "Mateusz Kolbusz", "link": "https://stackoverflow.com/users/10374609/mateusz-kolbusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537256360, "creation_date": 1537252472, "last_edit_date": 1537256360, "question_id": 52380287, "link": "https://stackoverflow.com/questions/52380287/kotlin-authentication-using-sql", "title": "Kotlin authentication using SQL", "body": "<p>i looking for right way to create login system in my android app.\nI already have accounts stored in mysql base on my vps.\nI'm using kotlin lang and Fuel http module.\nI looking for sample basic auth in kotlin and controler in PHP.\nAlso if you know better way to include authentication for my app tell me advice, tutorial,sample!</p>\n\n<p>PHP</p>\n\n<pre><code>&lt;?php\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"haslo\";\n$myDb =\"users\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $myDb);\n\n// Check connection\nif ($conn-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn-&gt;connect_error);\n}else{\n\n//echo \"dziala\";\n//print_r($_POST);\n}\n//echo $_POST['0'];\n\nif($_POST[0]=='aa'&amp;&amp;$_POST[1]=='bb'){\n\n//echo \"Zalogowano!\";\n}\n\n\n$conn-&gt;query(\"SET CHARACTER SET 'utf8'\");\n$conn-&gt;query(\"SET NAMES 'utf8'\");\n\n\n$sql = \"SELECT * FROM `products` \";\n$result = $conn-&gt;query($sql);\n\n    if($_POST[0]=='aa'&amp;&amp;$_POST[1]=='bb'){\n    foreach( $result-&gt;fetch_all(MYSQLI_ASSOC) as $r){\n    //echo $r['pid'];\n    echo json_encode($r);   \n    }\n    }\n    //$pytanie = ' where imie like(\"%'.$_GET[osoba].'%\")';\n\n    //$users = $mysql-&gt;wykonaj('select imie from dynamics.pracownik'.$pytanie);\n        //print_r($result);\n        //echo json_encode($r);\n\n    ?&gt; \n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>fun auth(user: User){\n            FuelManager.instance.baseParams = listOf(\"0\" to user.login, \"1\" to user.password)\n            //FuelManager.instance.baseParams = listOf(\"password\" to \"1\")\n            FuelManager.instance.basePath= \"http://10.1.67.185/\"\n            \"plik.php/\".httpPost().responseJson() { request, response, result -&gt;\n                //make a GET to https://httpbin.org/get and do something with response\n                val (data, error) = result\n                if (error == null) {\n                    //Log.d(TAG,\"It works!\")\n                    Log.d(TAG,\"Result\\n ${result.get()} \\n Result\")\n                    Log.d(TAG,\"#Response \\n $response \\n#Response\")\n                    //Log.d(TAG,\"Request \\n $request \\n Request\")\n                } else {\n                    //error handling\n                    //Json = result.get().obj()\n                    Log.d(TAG,\"doesn't work\")\n                }\n        }\n\n        }\n</code></pre>\n\n<p>then </p>\n\n<pre><code>09-18 07:27:55.236 7486-7486/com.example.mkolbusz.intraservapp D/tag: Result\n     com.github.kittinunf.fuel.android.core.Json@77cbb7f \n     Result\n    [B@476b74c 09-18 07:27:55.238 7486-7486/com.example.mkolbusz.intraservapp D/tag: #Response \n     &lt;-- 200 (http://10.1.67.185//plik.php/)\n    Response : OK\n    Length : 145\n    Body : (\n    {\"pid\":\"1\",\"name\":\"asdasd\",\"price\":\"11.00\",\"description\":\"sdafsdfsdf\",\"created_at\":\"2018-09-17 11:39:12\",\"updated_at\":\"0000-00-00 00:00:00\"})\n    Headers : (11)\n    Connection : [Keep-Alive]\n    Content-Length : [145]\n    Content-Type : [text/html; charset=UTF-8]\n    Date : [Tue, 18 Sep 2018 07:27:55 GMT]\n    Keep-Alive : [timeout=5, max=100]\n    Server : [Apache/2.4.34 (Win32) OpenSSL/1.1.0i PHP/7.2.9]\n    X-Android-Received-Millis : [1537255674903]\n    X-Android-Response-Source : [NETWORK 200]\n    X-Android-Selected-Protocol : [http/1.1]\n    X-Android-Sent-Millis : [1537255674857]\n    X-Powered-By : [PHP/7.2.9]\n\n    #Response\n</code></pre>\n\n<p>Now idk how to get result</p>\n"}, {"tags": ["kotlin", "blockchain", "corda", "smartcontracts"], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 9762714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6304febda4b0455067d49973ea449ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kshitiz Sharma", "link": "https://stackoverflow.com/users/9762714/kshitiz-sharma"}, "edited": false, "score": 0, "creation_date": 1537255571, "post_id": 52381004, "comment_id": 91706454, "body": "Thanks a lot dan. :)"}], "tags": [], "owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "is_accepted": true, "score": 2, "last_activity_date": 1537255670, "last_edit_date": 1537255670, "creation_date": 1537255239, "answer_id": 52381004, "question_id": 52380212, "link": "https://stackoverflow.com/questions/52380212/transaction-verification-failed-while-using-different-types-of-states-as-input/52381004#52381004", "title": "Transaction Verification failed. while using different types of states as input and output", "body": "<p>The problem is the <code>requireSingleCommand</code>. When you create a transaction with input states, the command that the input state was included within another transaction will load here as well. To solve this use <code>tx.commandsOfType&lt;YourType&gt;()</code> or whatever the syntax is. This will not throw an exception.</p>\n\n<p>The exception is due to <code>single</code> being called in <code>requireSingleCommand</code>.</p>\n"}], "owner": {"reputation": 594, "user_id": 9762714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6304febda4b0455067d49973ea449ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kshitiz Sharma", "link": "https://stackoverflow.com/users/9762714/kshitiz-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 52381004, "answer_count": 1, "score": 0, "last_activity_date": 1537255670, "creation_date": 1537252156, "question_id": 52380212, "link": "https://stackoverflow.com/questions/52380212/transaction-verification-failed-while-using-different-types-of-states-as-input", "title": "Transaction Verification failed. while using different types of states as input and output", "body": "<p>I am facing an issue while creating a Cordapp.\nI have two types of states Policy State and Claim State and their respective contracts.\nNow I am writing a Claim Flow in which a Policy state will be taken as input and a claim state should be produced as output.</p>\n\n<p>But I am facing this error while doing so-</p>\n\n<pre><code>java.util.concurrent.ExecutionException: net.corda.core.contracts.TransactionVerificationException$ContractRejection: Contract verification failed: Required com.example.contract.PolicyContract.Commands.Create command, contract: com.example.contract.PolicyContract, transaction: B6F0A0B895B477153530F060B264FE85BAA8F29BA922A546BEC6300A255667C7\n</code></pre>\n\n<p>I am enclosing my Policy Contract, ClaimContract and ClaimFlow-</p>\n\n<p>PolicyContract- <a href=\"https://ideone.com/giz7uX\" rel=\"nofollow noreferrer\">https://ideone.com/giz7uX</a></p>\n\n<p>ClaimContract-<a href=\"https://ideone.com/3GM4UF\" rel=\"nofollow noreferrer\">https://ideone.com/3GM4UF</a></p>\n\n<p>ClaimFlow-<a href=\"https://ideone.com/BobTsy\" rel=\"nofollow noreferrer\">https://ideone.com/BobTsy</a></p>\n"}, {"tags": ["android", "kotlin", "qr-code", "barcode-scanner", "aapt"], "comments": [{"owner": {"reputation": 427, "user_id": 6606937, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ue414aq90e8/AAAAAAAAAAI/AAAAAAAAAFk/sm52oXgZZlI/photo.jpg?sz=128", "display_name": "Jan Feyen", "link": "https://stackoverflow.com/users/6606937/jan-feyen"}, "edited": false, "score": 0, "creation_date": 1542781314, "post_id": 52377378, "comment_id": 93687389, "body": "same problem here. Did you find a solution?"}], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 6606937, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ue414aq90e8/AAAAAAAAAAI/AAAAAAAAAFk/sm52oXgZZlI/photo.jpg?sz=128", "display_name": "Jan Feyen", "link": "https://stackoverflow.com/users/6606937/jan-feyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1542781834, "creation_date": 1542781834, "answer_id": 53406399, "question_id": 52377378, "link": "https://stackoverflow.com/questions/52377378/aapt-error-resource-style-zxing-capturetheme-aka-appstyle-zxing-capturet/53406399#53406399", "title": "AAPT: error: resource style/zxing_CaptureTheme (aka.....app:style/zxing_CaptureTheme) not found", "body": "<p>You can find the missing style in the repo <a href=\"https://github.com/journeyapps/zxing-android-embedded/blob/master/zxing-android-embedded/res/values/zxing_themes.xml\" rel=\"nofollow noreferrer\">zxing-android-embedded/zxing-android-embedded</a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;resources&gt;\n  &lt;style name=\"zxing_CaptureTheme\" parent=\"android:Theme.Holo.NoActionBar.Fullscreen\"&gt;\n  &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>I've added the style manually to the existing file base/res/values/styles.xml:</p>\n\n<p><a href=\"https://i.stack.imgur.com/e4KrC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4KrC.png\" alt=\"enter image description here\"></a></p>\n\n<p>This resolved it for me.</p>\n"}], "owner": {"reputation": 5278, "user_id": 3074508, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6bbb9b3baf8440bc7a00e3147378bcf2?s=128&d=identicon&r=PG", "display_name": "CESCO", "link": "https://stackoverflow.com/users/3074508/cesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1542781834, "creation_date": 1537231027, "question_id": 52377378, "link": "https://stackoverflow.com/questions/52377378/aapt-error-resource-style-zxing-capturetheme-aka-appstyle-zxing-capturet", "title": "AAPT: error: resource style/zxing_CaptureTheme (aka.....app:style/zxing_CaptureTheme) not found", "body": "<p>I am using </p>\n\n<pre><code>implementation ('com.journeyapps:zxing-android-embedded:3.6.0') { transitive = false }\nimplementation 'com.google.zxing:core:3.3.0'\n</code></pre>\n\n<p>I all works just fine. I can build signed APK and run them from within Android Studio. I can run the project both on a emulator and on a real device. things just work.</p>\n\n<p>But I am trying to setup Fastlane on this project, so I need to run <code>gradle assembleRelease</code>. Thats when I get the title error.</p>\n\n<blockquote>\n  <p>Android resource linking failed\n    /home/cescoferraro/go/src/github.com/onnidev/astaff/base/build/intermediates/merged_manifests/releaseFeature/AndroidManifest.xml:118: AAPT: error: resource style/zxing_CaptureTheme (aka live.onni.astaff.app:style/zxing_CaptureTheme) not found.</p>\n</blockquote>\n\n<p>this is how i am starting the scan process, I am using a customActivity so i can setup a flash button on the camera screen</p>\n\n<pre><code>override fun scan() {\n    IntentIntegrator(this@DashboardActivity)\n            .setCaptureActivity(QRCodeScannerActivity::class.java)\n            .setOrientationLocked(false)\n            .setDesiredBarcodeFormats(IntentIntegrator.QR_CODE)\n            .initiateScan()\n}\n</code></pre>\n\n<p>on the manifest I declare the activiy like this</p>\n\n<pre><code>    &lt;activity\n        android:name=\".dashboard.QRCodeScannerActivity\"\n        android:screenOrientation=\"portrait\" /&gt;\n</code></pre>\n\n<p>if I happen to add the zxing theme to the activiy. I get to see to error twice</p>\n\n<pre><code>    &lt;activity\n        android:theme=\"@style/zxing_CaptureTheme\"\n        android:name=\".dashboard.QRCodeScannerActivity\"\n        android:screenOrientation=\"portrait\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>Android resource linking failed    /home/cescoferraro/go/src/github.com/onnidev/astaff/base/build/intermediates/merged_manifests/releaseFeature/AndroidManifest.xml:91: AAPT: error: resource style/zxing_CaptureTheme (aka live.onni.astaff.app:style/zxing_CaptureTheme) not found.    /home/cescoferraro/go/src/github.com/onnidev/astaff/base/build/intermediates/merged_manifests/releaseFeature/AndroidManifest.xml:119: AAPT: error: resource style/zxing_CaptureTheme (aka live.onni.astaff.app:style/zxing_CaptureTheme) not found.</p>\n</blockquote>\n\n<p>the custom activity scanner code looks like this</p>\n\n<p>class QRCodeScannerActivity : CaptureActivity(), DecoratedBarcodeView.TorchListener {</p>\n\n<pre><code>private var capture: CaptureManager? = null\nprivate var barcodeScannerView: DecoratedBarcodeView? = null\nprivate var switchFlashlightButton: Button? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_custom_scanner)\n    barcodeScannerView = findViewById&lt;View&gt;(R.id.zxing_barcode_scanner) as DecoratedBarcodeView\n    barcodeScannerView!!.setTorchListener(this)\n    switchFlashlightButton = findViewById&lt;View&gt;(R.id.switch_flashlight) as Button\n    if (!hasFlash()) {\n        switchFlashlightButton!!.visibility = View.GONE\n    }\n    capture = CaptureManager(this, barcodeScannerView!!)\n    capture!!.initializeFromIntent(intent, savedInstanceState)\n    capture!!.decode()\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n    val result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data)\n    Log.i(\" whatever\", result.contents)\n}\n\noverride fun onResume() {\n    super.onResume()\n    capture!!.onResume()\n}\n\noverride fun onPause() {\n    super.onPause()\n    capture!!.onPause()\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    capture!!.onDestroy()\n}\n\noverride fun onSaveInstanceState(outState: Bundle) {\n    super.onSaveInstanceState(outState)\n    this.capture!!.onSaveInstanceState(outState)\n}\n\noverride fun onKeyDown(keyCode: Int, event: KeyEvent): Boolean {\n    return barcodeScannerView!!.onKeyDown(keyCode, event) || super.onKeyDown(keyCode, event)\n}\n\nprivate fun hasFlash(): Boolean {\n    return applicationContext.packageManager\n            .hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)\n}\n\nfun switchFlashlight(view: View) {\n    println(view.alpha)\n    if (this.getString(R.string.turn_on_flashlight)!!.contentEquals(switchFlashlightButton!!.text)) {\n        barcodeScannerView!!.setTorchOn()\n    } else {\n        barcodeScannerView!!.setTorchOff()\n    }\n}\n\noverride fun onTorchOn() {\n    switchFlashlightButton!!.setText(R.string.turn_off_flashlight)\n}\n\noverride fun onTorchOff() {\n    switchFlashlightButton!!.setText(R.string.turn_on_flashlight)\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "facebook", "kotlin", "account-kit"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10272842"}, "is_accepted": true, "score": 0, "last_activity_date": 1537232133, "creation_date": 1537232133, "answer_id": 52377488, "question_id": 52377160, "link": "https://stackoverflow.com/questions/52377160/android-kotlin-accountkit-cant-get-ot-to-work/52377488#52377488", "title": "Android kotlin accountkit - can&#39;t get ot to work", "body": "<p>Halleluja I got it:</p>\n\n<p><a href=\"https://github.com/evollu/react-native-fcm/issues/998\" rel=\"nofollow noreferrer\">https://github.com/evollu/react-native-fcm/issues/998</a></p>\n\n<p>added googlePlayServicesVersion=12.0.1 to gradle.properties (I guess it's unnecessary)\nadded following to android/build.gradle:</p>\n\n<pre><code> allprojects {\n    repositories {\n    //start here\n    configurations.all {\n resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n   def requested = details.requested\n       if (requested.group == 'com.google.android.gms') {\n          details.useVersion '12.0.1'\n       }\n       if (requested.group == 'com.google.firebase') {\n          details.useVersion '12.0.1'\n         }\n       }\n     }\n    //end\n     jcenter()\n       maven {\n         url \"https://maven.google.com\"\n       }\n     }\n }\n</code></pre>\n\n<p>This was the 1000000th fix which I tried and I was 99.999% sure it will not work but it did :D</p>\n"}, {"comments": [{"owner": {"reputation": 5134, "user_id": 931328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/08237261a86c5eccfe2b2fc149fe17a2?s=128&d=identicon&r=PG", "display_name": "Nicolas Greni&#233;", "link": "https://stackoverflow.com/users/931328/nicolas-greni%c3%a9"}, "edited": false, "score": 0, "creation_date": 1539107129, "post_id": 52726365, "comment_id": 92378470, "body": "Hi Ph\u01b0\u01a1ng, Welcome to StackOverflow! You should probably point out where to add those lines in the project. Is it in a config file?"}], "tags": [], "owner": {"reputation": 31, "user_id": 7357879, "user_type": "registered", "profile_image": "https://graph.facebook.com/1263592770369143/picture?type=large", "display_name": "Ph\u01b0\u01a1ng \u0110inh", "link": "https://stackoverflow.com/users/7357879/ph%c6%b0%c6%a1ng-%c4%90inh"}, "is_accepted": false, "score": 0, "last_activity_date": 1539320769, "last_edit_date": 1539320769, "creation_date": 1539105974, "answer_id": 52726365, "question_id": 52377160, "link": "https://stackoverflow.com/questions/52377160/android-kotlin-accountkit-cant-get-ot-to-work/52726365#52726365", "title": "Android kotlin accountkit - can&#39;t get ot to work", "body": "<p>Add to your <code>build.gradle</code> file:    </p>\n\n<pre><code>implementation 'com.facebook.android:account-kit-sdk:4.37.0'\nimplementation \"com.google.android.gms:play-services-auth-api-phone:16.0.0\"\nimplementation 'com.google.android.gms:play-services-auth:16.0.1'\nimplementation 'com.google.android.gms:play-services-base:16.0.1'\n</code></pre>\n\n<p>Then it works.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10272842"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 52377488, "answer_count": 2, "score": 1, "last_activity_date": 1539320769, "creation_date": 1537228958, "question_id": 52377160, "link": "https://stackoverflow.com/questions/52377160/android-kotlin-accountkit-cant-get-ot-to-work", "title": "Android kotlin accountkit - can&#39;t get ot to work", "body": "<p>I already tried it in JAVA and kotlin from multiple tutorials and examples like: <a href=\"https://github.com/fbsamples/account-kit-samples-for-android/tree/master/samples/AccountKitSimpleSample\" rel=\"nofollow noreferrer\">https://github.com/fbsamples/account-kit-samples-for-android/tree/master/samples/AccountKitSimpleSample</a> and I just can't get it to work! </p>\n\n<p>This is the latest code how I try it:</p>\n\n<pre><code>fun startRequest(){\n\n    val intent = Intent(this, AccountKitActivity::class.java)\n    val builder = AccountKitConfiguration.AccountKitConfigurationBuilder(LoginType.PHONE, AccountKitActivity.ResponseType.TOKEN)\n\n    intent.putExtra(AccountKitActivity.ACCOUNT_KIT_ACTIVITY_CONFIGURATION, builder.build())\n\n    startActivityForResult(intent, ACCOUNTKIT_REQUEST_CODE)\n    Log.d(\"letsSee\", \"pikaboo1\") // this is shown in the log\n}\n\n\npublic override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    Log.d(\"letsSee\", \"pikaboo2\") // this not\n    if (requestCode == ACCOUNTKIT_REQUEST_CODE){\n        val loginResult: AccountKitLoginResult = data!!.getParcelableExtra(AccountKitLoginResult.RESULT_KEY)\n\n        if(loginResult.getError() != null)\n        {\n            Log.d(\"letsSee\", \"error: \" + loginResult.getError().toString())\n        }\n        else if(loginResult.wasCancelled())\n        {\n            Log.d(\"letsSee\", \"cancelled\")\n        }\n        else\n        {\n            if(loginResult.getAccessToken() != null){\n                val accountid = loginResult.getAccessToken()!!.getAccountId()\n                Log.d(\"letsSee\", \"Success: \" + accountid.toString())\n            }else{\n                Log.d(\"letsSee\", \"FAIL: \" + loginResult.getAuthorizationCode()!!.substring(0,10))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the error log:</p>\n\n<pre><code>09-18 02:00:51.014 1102-1102/com.amoflirt.amoflirt E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.amoflirt.amoflirt, PID: 1102\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/common/api/Api$zzf;\n        at com.google.android.gms.auth.api.Auth.&lt;clinit&gt;(Unknown Source:0)\n        at com.facebook.accountkit.ui.AccountKitActivity.onCreate(AccountKitActivity.java:281)\n        at android.app.Activity.performCreate(Activity.java:7174)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.common.api.Api$zzf\" on path: DexPathList[[zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/base.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_resources_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/lib/arm64, /system/lib64, /system/vendor/lib64]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.android.gms.auth.api.Auth.&lt;clinit&gt;(Unknown Source:0)\u00a0\n        at com.facebook.accountkit.ui.AccountKitActivity.onCreate(AccountKitActivity.java:281)\u00a0\n        at android.app.Activity.performCreate(Activity.java:7174)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6944)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\u00a0\n        Suppressed: java.io.IOException: No original dex files found for dex location (arm64) /data/app/com.amoflirt.amoflirt-wtMOEQEYlPaxtL74SS3EhA==/split_lib_resources_apk.apk\n        at dalvik.system.DexFile.openDexFileNative(Native Method)\n        at dalvik.system.DexFile.openDexFile(DexFile.java:353)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:100)\n        at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:74)\n        at dalvik.system.DexPathList.loadDexFile(DexPathList.java:374)\n        at dalvik.system.DexPathList.makeDexElements(DexPathList.java:337)\n        at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:157)\n        at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:65)\n        at dalvik.system.PathClassLoader.&lt;init&gt;(PathClassLoader.java:64)\n        at com.android.internal.os.PathClassLoaderFactory.createClassLoader(PathClassLoaderFactory.java:43)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:69)\n        at android.app.ApplicationLoaders.getClassLoader(ApplicationLoaders.java:36)\n        at android.app.LoadedApk.createOrUpdateClassLoaderLocked(LoadedApk.java:678)\n        at android.app.LoadedApk.getClassLoader(LoadedApk.java:711)\n        at android.app.LoadedApk.getResources(LoadedApk.java:944)\n09-18 02:00:51.015 1102-1102/com.amoflirt.amoflirt E/AndroidRuntime:     at android.app.ContextImpl.createAppContext(ContextImpl.java:2303)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5943)\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n                ... 6 more\n</code></pre>\n\n<p>I'm totally desperate with this awful garbage, already wasted 2 days on that</p>\n"}, {"tags": ["generics", "kotlin", "mockito", "variadic-functions"], "answers": [{"comments": [{"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1537273394, "post_id": 52380298, "comment_id": 91717339, "body": "Amazing answer! The simplicity of the named argument never occurs in my mind! Thank you very much!"}], "tags": [], "owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "is_accepted": true, "score": 2, "last_activity_date": 1537252508, "creation_date": 1537252508, "answer_id": 52380298, "question_id": 52376086, "link": "https://stackoverflow.com/questions/52376086/kotlin-and-mockito-type-mismatch-when-using-vararg-on-the-begin-of-the-function/52380298#52380298", "title": "Kotlin and mockito: Type mismatch when using vararg on the begin of the function", "body": "<p>Use named argument. Add <code>mapper =</code> before your lambda, like this:</p>\n\n<pre><code>@Test\nfun test() {\n    val mockTarget = Mockito.mock(Target::class.java)\n    Mockito.`when`(\n        mockTarget.target&lt;Int&gt;(\n            \"Hello World\",\n            mapper = Mockito.any&lt;(String) -&gt; Int&gt;()\n        )\n   ).thenReturn(1)\n}\n</code></pre>\n"}], "owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 52380298, "answer_count": 1, "score": 2, "last_activity_date": 1537252508, "creation_date": 1537220700, "question_id": 52376086, "link": "https://stackoverflow.com/questions/52376086/kotlin-and-mockito-type-mismatch-when-using-vararg-on-the-begin-of-the-function", "title": "Kotlin and mockito: Type mismatch when using vararg on the begin of the function", "body": "<p>Given a class such as the \"Target\" class below:</p>\n\n<pre><code>class Target {\n\nfun &lt;R&gt; target(vararg filter: String, mapper: (String) -&gt; R): R {\n    println(filter.contentDeepToString())\n    return mapper(\"target\")\n}\n\n}\n</code></pre>\n\n<p>And a test such as below:</p>\n\n<pre><code>@Test\nfun test() {\n    val mockTarget = mock(Target::class.java)\n    Mockito.`when`(mockTarget.target&lt;Int&gt;(\"Hello World\", any&lt;(String) -&gt; Int&gt;()))\n           .thenReturn(1)\n}\n</code></pre>\n\n<p>I'm getting the <code>Type mismatch: inferred type is ((String) -&gt; Int)! but String was expected</code>.</p>\n\n<p>I know the vararg usually goes to the end of the function, in fact if you move the vararg to the end it compiles. </p>\n\n<p>Once mockito looks to the bytecode, I'm wondering if it is possible to use mockito in such odd method.</p>\n\n<h1>Edit</h1>\n\n<p>The code runs as expected, the problem happens only when you try to mock.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val result = Target().target(\"Hello World\") {\n        123\n    }\n    println(\"$result == 123? ${result == 123}\")\n}\n// out:\n// [Hello World]\n// 123 == 123? true\n</code></pre>\n"}, {"tags": ["javafx", "printing", "kotlin"], "comments": [{"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1537233885, "post_id": 52375012, "comment_id": 91699936, "body": "What is invoiceBox.run?"}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "reply_to_user": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1537238338, "post_id": 52375012, "comment_id": 91700778, "body": "It is Kotlin contract extensions. There are 4: &#39;run&#39;, &#39;let&#39;, &#39;also&#39;, and &#39;apply&#39;"}, {"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1537242179, "post_id": 52375012, "comment_id": 91701581, "body": "Don&#39;t think that helped, but I am going to guess it&#39;s similar to a thread. If so, try not using it."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1537293793, "post_id": 52375012, "comment_id": 91729559, "body": "@Sedrick No, it isn&#39;t: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html</a>."}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1537568670, "post_id": 52375012, "comment_id": 91846801, "body": "It turns out not to be JavaFX print API&#39;s fault. The node just need to be present when printing dialog is showing. In this case, PopOver can&#39;t be auto-hidden. Thanks for your concern and someone should close this."}], "owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537215001, "creation_date": 1537215001, "question_id": 52375012, "link": "https://stackoverflow.com/questions/52375012/javafx-app-become-unusable-after-print-dialog", "title": "JavaFX app become unusable after print dialog", "body": "<p>I'm displaying a <a href=\"https://github.com/hendraanggrian/openpss/blob/master/app/src/com/hendraanggrian/openpss/control/popover/ViewInvoicePopover.kt\" rel=\"nofollow noreferrer\">ControlsFX PopOver</a> for invoice, naturally its content must be printable. I have successfully print it using this code:</p>\n\n<pre><code>val printer = Printer.getDefaultPrinter()\nval layout = printer.createPageLayout(PAPER_INVOICE, PORTRAIT, 0.0, 0.0, 0.0, 0.0)\nprinter.printerAttributes\nval job = PrinterJob.createPrinterJob()\ninvoiceBox.run {\n    border = null\n    transforms += Scale(\n        layout.printableWidth / invoiceBox.boundsInParent.width,\n        layout.printableHeight / invoiceBox.boundsInParent.height\n    )\n}\nif (job != null &amp;&amp; job.showPrintDialog(invoiceBox.scene.window)) {\n    val success = job.printPage(layout, invoiceBox)\n    if (success) {\n        job.endJob()\n    }\n}\n</code></pre>\n\n<p>However, the whole application becomes unusable after the printing process (even after canceling the print dialog). The main window is still there, it just can't be focused while clicking on it (or the app in the Windows taskbar) just produces error sound. Is this a known bug?</p>\n\n<p>I have only tested this on Windows since I don't believe the printer I'm working with (Epson LX-310) are compatible with Mac/Linux.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 1, "creation_date": 1537212634, "post_id": 52374208, "comment_id": 91693817, "body": "Because I use the same button to call insert or update in the DBHelper my small brain overthought the idea that we needed to get the Int id. I am guessing that the id made the trip over because it is in the ArrayList associated with the data Model. Binding and RecyclerAdapter configurations seem to be able to created various ways So we deleted the id to String and life is great Thanks"}, {"owner": {"reputation": 320, "user_id": 2869749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9e6bf0c161920d3eca2ad8c0338505?s=128&d=identicon&r=PG&f=1", "display_name": "rexar5", "link": "https://stackoverflow.com/users/2869749/rexar5"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1537299705, "post_id": 52374208, "comment_id": 91732285, "body": "Yeah, the ID in the arraylist will stay around in the list activity (as long as the activity and it&#39;s locals are not destroyed.  Then it would need to fetch it from the data model).  And the edit activity gets it from the bundle that you pass to it.  Glad it&#39;s working!"}], "tags": [], "owner": {"reputation": 320, "user_id": 2869749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9e6bf0c161920d3eca2ad8c0338505?s=128&d=identicon&r=PG&f=1", "display_name": "rexar5", "link": "https://stackoverflow.com/users/2869749/rexar5"}, "is_accepted": true, "score": 1, "last_activity_date": 1537210884, "creation_date": 1537210884, "answer_id": 52374208, "question_id": 52373978, "link": "https://stackoverflow.com/questions/52373978/kotlin-recycleradapter-bindviewholder/52374208#52374208", "title": "kotlin recycleradapter bindviewholder", "body": "<p>Maybe I'm not understanding things, but let me give it a shot.  Comment if I am confused.</p>\n\n<p>So you want to have a recyclerview with a list of items.  Each item has an edit button and you would like this to launch a new activity that allows the user to edit that item's name.  Then you would like to return to the previous activity and update the list.  </p>\n\n<p>If this is correct, you'll need to make a couple of changes.  First, in your on click listener, you are manually setting the item's text field to the item's id.  </p>\n\n<pre><code>holder.item.text = items.id.toString();\n</code></pre>\n\n<p>There doesn't seem to be any good reason to do this.  I would recommend removing it.  </p>\n\n<p>Second, you'll want to start the edit activity for a result.  <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result</a> \nWhen you get the OnActivityResult callback in your list activity, you can get the id of the item and the new name from the bundle.  You'll then go into your list and find the item with that id, change the name to the new name, and call adapter.notifyDataSetChanged();  This will tell your adapter that its data has changed and it should re-populate the list with new data.  </p>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 52374208, "answer_count": 1, "score": 0, "last_activity_date": 1537210884, "creation_date": 1537209861, "question_id": 52373978, "link": "https://stackoverflow.com/questions/52373978/kotlin-recycleradapter-bindviewholder", "title": "kotlin recycleradapter bindviewholder", "body": "<p>We have a RecylerAdapter that has a onClickListener for a RelativeLayout that contains a ImageView. When the view is clicked the data is transferred to another activity for editing this works great. The problem we are having is when the ImageView is clicked on in the corresponding Activity just before navigating to the  new Activity the id replaces the text to be edited. Our question is how to get the id without the process replacing flashing the id? Our Inflated view XML and RecyclerAdapter code posted below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"16dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:textColor=\"@color/color_Black\"\n        android:textSize=\"18sp\"\n        android:textStyle=\"bold\" /&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/click\"\n    android:layout_width=\"60dp\"\n    android:layout_height=\"60dp\"\n    android:layout_marginLeft=\"370dp\"\n    android:paddingLeft=\"6dp\"\n    android:paddingRight=\"6dp\"\n    android:paddingTop=\"12dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/ivEdit\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"30dp\"\n        android:src=\"@drawable/ic_edit\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>class PersonRecyclerAdapter(contactList: List&lt;Contact&gt;, internal var context: Context) : RecyclerView.Adapter&lt;PersonRecyclerAdapter.ViewHolder&gt;() {\n\ninternal var contactList: List&lt;Contact&gt; = ArrayList()\ninit { this.contactList = contactList }\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(context).inflate(R.layout.new_single_card,parent,false)\n    return ViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return contactList.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val items = contactList[position]\n    holder.item.text = items.name\n\n    holder.click.setOnClickListener {\n\n        val i = Intent(context, MainActivity::class.java)\n        holder.item.text = items.id.toString()\n        i.putExtra(\"Mode\", \"E\")\n        i.putExtra(\"MainActId\",items.id)\n        i.putExtra(\"ET\",items.name)\n        i.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        context.startActivity(i)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1537209299, "post_id": 52373783, "comment_id": 91692415, "body": "A read-only property is only initialised once."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1979441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5002b9696defb4ef01dd664f7500a4?s=128&d=identicon&r=PG&f=1", "display_name": "BluePen", "link": "https://stackoverflow.com/users/1979441/bluepen"}, "edited": false, "score": 0, "creation_date": 1537258931, "post_id": 52375726, "comment_id": 91708435, "body": "Thank you for the response"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1537218555, "creation_date": 1537218555, "answer_id": 52375726, "question_id": 52373783, "link": "https://stackoverflow.com/questions/52373783/derived-class-initialisation-order/52375726#52375726", "title": "Derived class initialisation order", "body": "<p>You're initializing <code>Base</code> only once.<br>\nFor that reason you're also initialising <code>size</code> only once.<br>\nFor that reason you'll execute your <code>also</code> block only once.</p>\n\n<p>Or, to answer your question in a different manner, it doesn't print <code>Initializing size in Base</code> second time, because it doesn't executes <code>name.length.also { println(\"Initializing size in Base: $it\") }</code> second time.</p>\n"}], "owner": {"reputation": 45, "user_id": 1979441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5002b9696defb4ef01dd664f7500a4?s=128&d=identicon&r=PG&f=1", "display_name": "BluePen", "link": "https://stackoverflow.com/users/1979441/bluepen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 52375726, "answer_count": 1, "score": 1, "last_activity_date": 1537218555, "creation_date": 1537209035, "last_edit_date": 1537209389, "question_id": 52373783, "link": "https://stackoverflow.com/questions/52373783/derived-class-initialisation-order", "title": "Derived class initialisation order", "body": "<p>I'm currently working my way through the Kotlin docs for this section where they cover <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">Derived class initialization order</a>.</p>\n\n<p>For the following snippet...</p>\n\n<pre><code>open class Base(val name: String) {\n\n  init { println(\"Initializing Base\") }\n\n  open val size: Int = name.length.also { println(\"Initializing size in Base: $it\") }\n}\n\nclass Derived(\n    name: String,\n    val lastName: String\n  ) : Base(name.capitalize().also { println(\"Argument for Base: $it\") }) {\n\n  init { println(\"Initializing Derived\") }\n\n  override val size: Int =\n    (super.size + lastName.length).also { println(\"Initializing size in Derived: $it\") }\n}\n\nfun main(args: Array&lt;String&gt;) {\n  println(\"Constructing Derived(\\\"hello\\\", \\\"world\\\")\")\n  val d = Derived(\"hello\", \"world\")\n}\n</code></pre>\n\n<p>when executed it prints this:</p>\n\n<p><code>Constructing Derived(\"hello\", \"world\")\nArgument for Base: Hello\nInitializing Base\nInitializing size in Base: 5\nInitializing Derived\nInitializing size in Derived: 10</code></p>\n\n<p>My question is, why when <code>override val size: Int = (super.size + lastName.length).also { println(\"Initializing size in Derived: $it\") }</code>\nis executed does it not print <code>Initializing size in Base: 5</code> again?</p>\n\n<p>I would have thought it would print something like this:</p>\n\n<p><code>Constructing Derived(\"hello\", \"world\")\nArgument for Base: Hello\nInitializing Base\nInitializing size in Base: 5\nInitializing Derived\nInitializing size in Base: 5 // Print because .also is called again ?\nInitializing size in Derived: 10\n</code></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1537210218, "post_id": 52372029, "comment_id": 91692829, "body": "You should be able to use a BroadcastReceiver for this"}], "answers": [{"tags": [], "owner": {"reputation": 3373, "user_id": 1860982, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/12d75b23931631552d853349ea182409?s=128&d=identicon&r=PG", "display_name": "Tosin Onikute", "link": "https://stackoverflow.com/users/1860982/tosin-onikute"}, "is_accepted": false, "score": 0, "last_activity_date": 1537212377, "creation_date": 1537212377, "answer_id": 52374475, "question_id": 52372029, "link": "https://stackoverflow.com/questions/52372029/how-do-i-call-a-method-on-a-different-activity/52374475#52374475", "title": "How do I call a method on a different activity?", "body": "<p>As said by a commenter, just use BroadcastReceiver </p>\n\n<p>NotificationPreferenceFragment.java</p>\n\n<pre><code>class NotificationPreferenceFragment : PreferenceFragment() {\n\n    val broadcaster: LocalBroadcastManager? = null;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        broadcaster = LocalBroadcastManager.getInstance(this);\n    }\n\n    // Inside your onPreferenceChangeListener, depends on when you want to call it, either ON or OFF\n    Intent intent = new Intent(\"YOUR_DATA_STRING\");\n    intent.putExtra(ANY_EXTRAS_STRING, DATA_ITSELF);\n    broadcaster.sendBroadcast(intent);\n}\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>import android.support.v4.content.LocalBroadcastManager;\n\n\n\n\n    override fun onStart() {\n        super.onStart()\n        LocalBroadcastManager.getInstance(this).registerReceiver(MYReceiver,\n                IntentFilter(\"YOUR_DATA_STRING\")\n        )\n    }\n\n    private val MYReceiver = object : BroadcastReceiver() {\n        fun onReceive(context: Context, intent: Intent) {\n            if (intent.extras != null) {\n                // get any extras if neccessary\n                // intent.extras!!.getString(\"ANY_EXTRAS_STRING\")\n                cancelAlarm()\n            }\n        }\n    }\n\n    override fun onStop() {\n        super.onStop()\n        LocalBroadcastManager.getInstance(this).unregisterReceiver(MYReceiver)\n    }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 10375961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89ccdeed1cba627157435324fecc753?s=128&d=identicon&r=PG&f=1", "display_name": "AmirArbel", "link": "https://stackoverflow.com/users/10375961/amirarbel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537212377, "creation_date": 1537201254, "last_edit_date": 1537209497, "question_id": 52372029, "link": "https://stackoverflow.com/questions/52372029/how-do-i-call-a-method-on-a-different-activity", "title": "How do I call a method on a different activity?", "body": "<p>Im working on an android app which uses notifications frequently.</p>\n\n<p>I chose to set the alarms via setting activity rather then Main Activity but I couldn't manage to find out how to cancel the Alarm Manager via the settingActivity immediately after pressing the switch. </p>\n\n<p>I only found out how to cancel the notifications on the MainActivity, which stops them only after closing and opening the app.</p>\n\n<p>what is the preferred way to do it?</p>\n\n<p>from SettingActivity.kt:</p>\n\n<pre><code>class NotificationPreferenceFragment : PreferenceFragment() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        addPreferencesFromResource(R.xml.pref_notification)\n        setHasOptionsMenu(false)\n\n        var switchPref: Preference = findPreference(getString(R.string.pref_notifications_switch_key))\n\n        switchPref.onPreferenceChangeListener = OnPreferenceChangeListener { preference, isChecked -&gt;\n            var toast: Toast = if (isChecked as Boolean) {\n                Toast.makeText(activity, \"switch is ON\", Toast.LENGTH_SHORT)\n\n            } else {\n                Toast.makeText(activity, \"notifications is OFF\", Toast.LENGTH_SHORT)\n\n            }\n            toast.show()\n            true\n        }\n    }\n</code></pre>\n\n<p>cancel method from MainActivity:</p>\n\n<pre><code>fun cancelAlarm() {\n    alarmMgr = applicationContext.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n    val intent1 = Intent(applicationContext, AlarmReceiver::class.java)\n    alarmIntent = PendingIntent.getBroadcast(applicationContext, 0, intent1, PendingIntent.FLAG_UPDATE_CURRENT)\n    alarmMgr!!.cancel(alarmIntent)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1537200361, "last_edit_date": 1537200361, "creation_date": 1537199835, "answer_id": 52371678, "question_id": 52371561, "link": "https://stackoverflow.com/questions/52371561/how-to-pass-is-operator-parameter-through-function-in-kotlin/52371678#52371678", "title": "How to pass is operator parameter through function in Kotlin", "body": "<p>Like this:</p>\n\n<pre><code>inline fun &lt;reified T&gt; testType(k: Any) {\n   if(k is T) {\n     println(\"is a ${T::class.simpleName}\")\n   } else {\n     println(\"is not a ${T::class.simpleName}\")\n   }\n}\n</code></pre>\n\n<p>Call it like this:</p>\n\n<pre><code>test&lt;String&gt;(\"Hello\") // is a String\ntest&lt;String&gt;(1) // is no String\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">Here</a> some further reading.</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 2, "last_activity_date": 1537200647, "last_edit_date": 1537200647, "creation_date": 1537200014, "answer_id": 52371729, "question_id": 52371561, "link": "https://stackoverflow.com/questions/52371561/how-to-pass-is-operator-parameter-through-function-in-kotlin/52371729#52371729", "title": "How to pass is operator parameter through function in Kotlin", "body": "<p>You can either use a predicate, e.g.:</p>\n\n<pre><code>fun testIt(predicate: (Any?) -&gt; Boolean) {\n  if (predicate(k)) {\n    println(\"matches!\")\n  } else println(\"nope\")\n}\n</code></pre>\n\n<p>and call it as follows:</p>\n\n<pre><code>testIt { it is String }\ntestIt { it is Int }\n</code></pre>\n\n<p>Or you can use a reified type:</p>\n\n<pre><code>inline fun &lt;reified T&gt; testIt() {\n  when (k) {\n    is T -&gt; println(\"matches!\")\n    else -&gt; println(\"nope\")\n  }\n}\n</code></pre>\n\n<p>and call it like:</p>\n\n<pre><code>testIt&lt;String&gt;()\ntestIt&lt;Int&gt;()\n</code></pre>\n\n<p>For simplicity I kept your current variable inside the <code>testIt</code>-method... you may want to redesign that ;-)</p>\n\n<p>I basically assumed a member variable as follows: <code>var k : Any? = null</code></p>\n"}, {"tags": [], "owner": {"reputation": 23460, "user_id": 1117415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icExy.jpg?s=128&g=1", "display_name": "Benito Bertoli", "link": "https://stackoverflow.com/users/1117415/benito-bertoli"}, "is_accepted": false, "score": 1, "last_activity_date": 1537200139, "creation_date": 1537200139, "answer_id": 52371761, "question_id": 52371561, "link": "https://stackoverflow.com/questions/52371561/how-to-pass-is-operator-parameter-through-function-in-kotlin/52371761#52371761", "title": "How to pass is operator parameter through function in Kotlin", "body": "<pre><code>inline fun &lt;reified T&gt; isType(obj: Any): Boolean {\n    return obj is T\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val test = \"This is a String\"\n    if (isType&lt;String&gt;(test)) {\n        println(\"Success\")\n    } else {\n        println(\"Failure\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "is_accepted": false, "score": 2, "last_activity_date": 1537200203, "creation_date": 1537200203, "answer_id": 52371776, "question_id": 52371561, "link": "https://stackoverflow.com/questions/52371561/how-to-pass-is-operator-parameter-through-function-in-kotlin/52371776#52371776", "title": "How to pass is operator parameter through function in Kotlin", "body": "<p>There are two possibilities, depending on your needs.</p>\n\n<h1>1. Use <code>inline</code> and a <code>reified</code> type parameter</h1>\n\n<p>You can use the <code>reified</code> keyword on the type parameter in combination with an <code>inline</code> function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; test(k: Any) {\n    if (k is T) {\n        println(\"k is a T!\")\n    }\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">See the documentation on <code>reified</code></a>.</p>\n\n<h1>2. Use <code>KClass&lt;T&gt;</code></h1>\n\n<p>If you do not want to or cannot make your function <code>inline</code> you can use a <code>KClass</code> parameter:</p>\n\n<pre><code>fun &lt;T : Any&gt; test(k: Any, type: KClass&lt;T&gt;) {\n    if (type.isInstance(k)) {\n        println(\"k is a T!\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 4785957, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/X9U3w.png?s=128&g=1", "display_name": "deaddroid", "link": "https://stackoverflow.com/users/4785957/deaddroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 52371678, "answer_count": 4, "score": 1, "last_activity_date": 1537200647, "creation_date": 1537199420, "question_id": 52371561, "link": "https://stackoverflow.com/questions/52371561/how-to-pass-is-operator-parameter-through-function-in-kotlin", "title": "How to pass is operator parameter through function in Kotlin", "body": "<pre><code>val k = \" asdfasdf \"\nfun test() {\n    if(k is String) {\n     // Do something\n    }\n}\n</code></pre>\n\n<p>So, how do I pass that String through the function calls\neg:</p>\n\n<pre><code>fun test(xxxx) {\n    if(k is xxxx) {\n    // do something\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "validation", "kotlin", "android-databinding", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "is_accepted": false, "score": 0, "last_activity_date": 1537203808, "creation_date": 1537203808, "answer_id": 52372612, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding/52372612#52372612", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>What you have in mind is right, actually. The viewmodel should not know anything about the android system and will only work with pure java/kotlin. Thus, doing what you are thinking of is right. ViewModel's shouldn't know about the android system as all view interactions should be handled on the View. But, their properties can be bounded to the view.</p>\n\n<h1>TL;DR</h1>\n\n<p>This will work</p>\n\n<pre><code>fun signUp() {\n\n    if (name.value == null || name.value!!.length &lt; 2 ) {\n        isNameError.set(true)\n    }\n\n    auth.createUser(email.value!!, password.value!!)\n}\n</code></pre>\n\n<p><br/></p>\n\n<h3><em>Suggestion</em></h3>\n\n<p>I would suggest, if you would like to dig in deeper, you could use Custom Binding Adapters. This way you:</p>\n\n<ul>\n<li>won't need additional variables to your view model</li>\n<li>have a cleaner view model since the error handling is on the custom binding adapter </li>\n<li>would easier read on your XML views as you could define there the validations you need</li>\n</ul>\n\n<p>I'll let your imagination fly on how you could make the custom binding adapter only have the validations. For now, it's better to understand the basics of custom binding adapters.<br/><br/>\n<strong>Cheers</strong></p>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1537248068, "creation_date": 1537248068, "answer_id": 52379424, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding/52379424#52379424", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>Yes, you can use your validation logic from <strong><code>ViewModel</code></strong>, because you're having your observable variables from <strong><code>ViewModel</code></strong> &amp; your xml is also deriving data from <strong><code>ViewModel</code></strong> class also.</p>\n\n<p>So, Solution :</p>\n\n<ul>\n<li><p>You can create <strong><code>@BindingAdapter</code></strong> in ViewModel and bind your\nbutton click with it. Check your validation there and do some other\nstuffs also.</p></li>\n<li><p>You can create <strong><code>Listener</code></strong>, and implement it on <strong><code>ViewModel</code></strong> to receive clicks from button and bind that listener to <code>xml</code>.</p></li>\n<li><p>You can use <a href=\"https://developer.android.com/topic/libraries/data-binding/two-way\" rel=\"nofollow noreferrer\">Two-Way data binding</a> also <em>(Be aware of infinite loops though)</em>.</p>\n\n<pre><code>//Let's say it's your binding adapter from ViewModel\nfun signUp() {\n   if (check validation logic) {\n      // Produce errors\n   }\n   // Further successful stuffs\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": true, "score": 20, "last_activity_date": 1537261816, "last_edit_date": 1537261816, "creation_date": 1537255493, "answer_id": 52381076, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding/52381076#52381076", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>There can be many ways to implement this. I am telling you two solutions, both works well, you can use which you find suitable for you.</p>\n\n<p>I use <code>extends BaseObservable</code> because I find that easy than converting all fields to <code>Observers</code>. You can use <code>ObservableFields</code> too.</p>\n\n<h2>Solution 1 (Using custom <code>BindingAdapter</code>)</h2>\n\n<p><strong>In xml</strong></p>\n\n<pre><code>&lt;variable\n    name=\"model\"\n    type=\"sample.data.Model\"/&gt;\n\n&lt;EditText\n    passwordValidator=\"@{model.password}\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@={model.password}\"/&gt;\n</code></pre>\n\n<p><strong>Model.java</strong></p>\n\n<pre><code>public class Model extends BaseObservable {\n    private String password;\n\n    @Bindable\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n        notifyPropertyChanged(BR.password);\n    }\n}\n</code></pre>\n\n<p><strong>DataBindingAdapter.java</strong></p>\n\n<pre><code>public class DataBindingAdapter {\n    @BindingAdapter(\"passwordValidator\")\n    public static void passwordValidator(EditText editText, String password) {\n        // ignore infinite loops\n        int minimumLength = 5;\n        if (TextUtils.isEmpty(password)) {\n            editText.setError(null);\n            return;\n        }\n        if (editText.getText().toString().length() &lt; minimumLength) {\n            editText.setError(\"Password must be minimum \" + minimumLength + \" length\");\n        } else editText.setError(null);\n    }\n}\n</code></pre>\n\n<h2>Solution 2 (Using custom <code>afterTextChanged</code>)</h2>\n\n<p><strong>In xml</strong></p>\n\n<pre><code>&lt;variable\n    name=\"model\"\n    type=\"com.innovanathinklabs.sample.data.Model\"/&gt;\n\n&lt;variable\n    name=\"handler\"\n    type=\"sample.activities.MainActivityHandler\"/&gt;\n\n&lt;EditText\n    android:id=\"@+id/etPassword\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:afterTextChanged=\"@{(edible)-&gt;handler.passwordValidator(edible)}\"\n    android:text=\"@={model.password}\"/&gt;\n</code></pre>\n\n<p><strong>MainActivityHandler.java</strong></p>\n\n<pre><code>public class MainActivityHandler {\n    ActivityMainBinding binding;\n\n    public void setBinding(ActivityMainBinding binding) {\n        this.binding = binding;\n    }\n\n    public void passwordValidator(Editable editable) {\n        if (binding.etPassword == null) return;\n        int minimumLength = 5;\n        if (!TextUtils.isEmpty(editable.toString()) &amp;&amp; editable.length() &lt; minimumLength) {\n            binding.etPassword.setError(\"Password must be minimum \" + minimumLength + \" length\");\n        } else {\n            binding.etPassword.setError(null);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n        binding.setModel(new Model());\n        MainActivityHandler handler = new MainActivityHandler();\n        handler.setBinding(binding);\n        binding.setHandler(handler);\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>You can also replace </p>\n\n<pre><code>android:afterTextChanged=\"@{(edible)-&gt;handler.passwordValidator(edible)}\"\n</code></pre>\n\n<p>with </p>\n\n<pre><code>android:afterTextChanged=\"@{handler::passwordValidator}\"\n</code></pre>\n\n<p>Because parameter are same of <code>android:afterTextChanged</code> and <code>passwordValidator</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1042, "user_id": 3574669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/f4KEu.jpg?s=128&g=1", "display_name": "Ajay", "link": "https://stackoverflow.com/users/3574669/ajay"}, "edited": false, "score": 2, "creation_date": 1572294792, "post_id": 57542760, "comment_id": 103508599, "body": "Very nice. Thanks"}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1599256853, "post_id": 57542760, "comment_id": 112728981, "body": "Oh my god, thank you so much. I love you for providing this code. I&#39;ve tried to implement it my own and wrote over 100 lines and it didn&#39;t work. This works like a charm!!! Just one question: How can I get from my strings and put it inside the xml app:errorText?"}, {"owner": {"reputation": 183, "user_id": 4521163, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qPj0Xp0I8gM/AAAAAAAAAAI/AAAAAAAAAFU/r7n36g9iOpU/photo.jpg?sz=128", "display_name": "ben khedher mahmoud", "link": "https://stackoverflow.com/users/4521163/ben-khedher-mahmoud"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1603715021, "post_id": 57542760, "comment_id": 114114365, "body": "@Andrew   the <b>context</b> variable is generated for use in binding expressions  you dont have to import it, just import  <b>R</b>  &lt;import type=&quot;your_package.R&quot; /&gt; and used it like that app:errorText=@{ context.getString(R.string.email_required) }"}, {"owner": {"reputation": 1786, "user_id": 6842292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L5qGqKN0Ho4/AAAAAAAAAAI/AAAAAAAAyKs/NQxQ_UyyHcM/photo.jpg?sz=128", "display_name": "Vin Norman", "link": "https://stackoverflow.com/users/6842292/vin-norman"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1603983327, "post_id": 57542760, "comment_id": 114213384, "body": "@Andrew and @ben-khedher-mahmoud it&#39;s actually even easier than that. You can access your string resources directly in xml, so it may look a little like <code>app:errorText=&#39;@{viewModel.formErrors.contains(FormErrors.MI&zwnj;&#8203;SSING_NAME) ? @string&#47;your_error_string : &quot;&quot;}&#39;</code>"}], "tags": [], "owner": {"reputation": 1786, "user_id": 6842292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L5qGqKN0Ho4/AAAAAAAAAAI/AAAAAAAAyKs/NQxQ_UyyHcM/photo.jpg?sz=128", "display_name": "Vin Norman", "link": "https://stackoverflow.com/users/6842292/vin-norman"}, "is_accepted": false, "score": 8, "last_activity_date": 1566115585, "creation_date": 1566115585, "answer_id": 57542760, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding/57542760#57542760", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>This approach uses TextInputLayouts, a custom binding adapter, and creates an enum for form errors. The result I think reads nicely in the xml, and keeps all validation logic inside the ViewModel.</p>\n\n<p>The ViewModel:</p>\n\n<pre><code>class SignUpViewModel() : ViewModel() {\n\n   val name: MutableLiveData&lt;String&gt; = MutableLiveData()\n   // the rest of your fields as normal\n\n   val formErrors = ObservableArrayList&lt;FormErrors&gt;()\n\n   fun isFormValid(): Boolean {\n      formErrors.clear()\n      if (name.value?.isNullOrEmpty()) {\n          formErrors.add(FormErrors.MISSING_NAME)\n      }\n      // all the other validation you require\n      return formErrors.isEmpty()\n   }\n\n   fun signUp() {\n      auth.createUser(email.value!!, password.value!!)\n   }\n\n   enum class FormErrors {\n      MISSING_NAME,\n      INVALID_EMAIL,\n      INVALID_PASSWORD,\n      PASSWORDS_NOT_MATCHING,\n   }\n\n}\n</code></pre>\n\n<p>The BindingAdapter:</p>\n\n<pre><code>@BindingAdapter(\"app:errorText\")\nfun setErrorMessage(view: TextInputLayout, errorMessage: String) {\n    view.error = errorMessage\n}\n</code></pre>\n\n<p>The XML:</p>\n\n<pre><code>&lt;layout&gt;\n\n  &lt;data&gt;\n\n        &lt;import type=\"com.example.SignUpViewModel.FormErrors\" /&gt;\n\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.example.SignUpViewModel\" /&gt;\n\n  &lt;/data&gt;\n\n&lt;!-- The rest of your layout file etc. --&gt;\n\n       &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=\"@+id/text_input_name\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:errorText='@{viewModel.formErrors.contains(FormErrors.MISSING_NAME) ? \"Required\" : \"\"}'&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"Name\"\n                android:text=\"@={viewModel.name}\"/&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;!-- Any other fields as above format --&gt;\n</code></pre>\n\n<p>And then, the ViewModel can be called from activity/fragment as below:</p>\n\n<pre><code>class YourActivity: AppCompatActivity() {\n\n   val viewModel: SignUpViewModel\n  // rest of class\n\n  fun onFormSubmit() {\n     if (viewModel.isFormValid()) {\n        viewModel.signUp()\n        // the rest of your logic to proceed to next screen etc.\n     }\n     // no need for else block if form invalid, as ViewModel, Observables\n     // and databinding will take care of the UI\n  }\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 1810027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba458bd639b0a0c2e2ecc7c619fb595?s=128&d=identicon&r=PG", "display_name": "Thalis Vilela", "link": "https://stackoverflow.com/users/1810027/thalis-vilela"}, "is_accepted": false, "score": 1, "last_activity_date": 1568374932, "creation_date": 1568374932, "answer_id": 57923009, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding/57923009#57923009", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>I've written a <a href=\"https://github.com/thalisvilela/ObservableValidator\" rel=\"nofollow noreferrer\">library</a> for validating bindable fields of an Observable object. </p>\n\n<p>Setup your Observable model:</p>\n\n<pre><code>class RegisterUser:BaseObservable(){\n@Bindable\nvar name:String?=\"\"\n    set(value) {\n        field = value\n        notifyPropertyChanged(BR.name)\n    }\n\n@Bindable\nvar email:String?=\"\"\n    set(value) {\n        field = value\n        notifyPropertyChanged(BR.email)\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Instantiate and add rules</p>\n\n<pre><code>class RegisterViewModel : ViewModel() {\n\nvar user:LiveData&lt;RegisterUser&gt; = MutableLiveData&lt;RegisterUser&gt;().also {\n    it.value = RegisterUser()\n}\n\nvar validator = ObservableValidator(user.value!!, BR::class.java).apply {\n    addRule(\"name\", ValidationFlags.FIELD_REQUIRED, \"Enter your name\")\n\n    addRule(\"email\", ValidationFlags.FIELD_REQUIRED, \"Enter your email\")\n    addRule(\"email\", ValidationFlags.FIELD_EMAIL, \"Enter a valid email\")\n\n    addRule(\"age\", ValidationFlags.FIELD_REQUIRED, \"Enter your age (Underage or too old?)\")\n    addRule(\"age\", ValidationFlags.FIELD_MIN, \"You can't be underage!\", limit = 18)\n    addRule(\"age\", ValidationFlags.FIELD_MAX, \"You sure you're still alive?\", limit = 100)\n\n    addRule(\"password\", ValidationFlags.FIELD_REQUIRED, \"Enter your password\")\n\n    addRule(\"passwordConfirmation\", ValidationFlags.FIELD_REQUIRED, \"Enter password confirmation\")\n    addRule(\"passwordConfirmation\", ValidationFlags.FIELD_MATCH, \"Passwords don't match\", \"password\")\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And setup your xml file:</p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\nstyle=\"@style/textFieldOutlined\"\nerror='@{viewModel.validator.getValidation(\"email\")}'\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:id=\"@+id/email\"\n    style=\"@style/myEditText\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"Your email\"\n    android:imeOptions=\"actionNext\"\n    android:inputType=\"textEmailAddress\"\n    android:text=\"@={viewModel.user.email}\" /&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 195, "user_id": 4634277, "user_type": "registered", "profile_image": "https://graph.facebook.com/631173266982964/picture?type=large", "display_name": "Maxim Drobonog", "link": "https://stackoverflow.com/users/4634277/maxim-drobonog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15918, "favorite_count": 10, "accepted_answer_id": 52381076, "answer_count": 5, "score": 18, "last_activity_date": 1605359942, "creation_date": 1537198758, "last_edit_date": 1537328728, "question_id": 52371374, "link": "https://stackoverflow.com/questions/52371374/how-to-implement-validation-using-viewmodel-and-databinding", "title": "How to implement validation using ViewModel and Databinding?", "body": "<p>What is the best approach to validate form data using ViewModel and Databinding?</p>\n\n<p>I have a simple Sign-Up activity that links binding layout and ViewModel</p>\n\n<pre><code>class StartActivity : AppCompatActivity() {\n\n    private lateinit var binding: StartActivityBinding\n    private lateinit var viewModel: SignUpViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        viewModel = ViewModelProviders.of(this, SignUpViewModelFactory(AuthFirebase()))\n                .get(SignUpViewModel::class.java);\n\n        binding = DataBindingUtil.setContentView(this, R.layout.start_activity)\n        binding.viewModel = viewModel;\n\n        signUpButton.setOnClickListener {\n\n        }\n    }\n}\n</code></pre>\n\n<p><code>ViewModel</code> with 4 <code>ObservableFields</code> and <code>signUp()</code> method that should validate data before submitting data to the server.</p>\n\n<pre><code>class SignUpViewModel(val auth: Auth) : ViewModel() {\n    val name: MutableLiveData&lt;String&gt; = MutableLiveData()\n    val email: MutableLiveData&lt;String&gt; = MutableLiveData()\n    val password: MutableLiveData&lt;String&gt; = MutableLiveData()\n    val passwordConfirm: MutableLiveData&lt;String&gt; = MutableLiveData()\n\n    fun signUp() {\n\n        auth.createUser(email.value!!, password.value!!)\n    }\n}\n</code></pre>\n\n<p>I guess we can add four boolean ObservableFields for each input, and in <code>signUp()</code> we can check inputs and change state of boolean ObservableField that will produce an appearing error on layout </p>\n\n<pre><code>val isNameError: ObservableField&lt;Boolean&gt; = ObservableField()\n\n\nfun signUp() {\n\n        if (name.value == null || name.value!!.length &lt; 2 ) {\n            isNameError.set(true)\n        }\n\n        auth.createUser(email.value!!, password.value!!)\n    }\n</code></pre>\n\n<p>But I am not sure that <code>ViewModel</code> should be responsible for validation and showing an error for a user and we will have boilerplate code</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n\n        &lt;import type=\"android.view.View\" /&gt;\n\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.maximdrobonoh.fitnessx.SignUpViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/colorGreyDark\"\n        android:orientation=\"vertical\"\n        android:padding=\"24dp\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/appTitle\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"@string/app_title\"\n            android:textColor=\"@color/colorWhite\"\n            android:textSize=\"12sp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/screenTitle\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:orientation=\"horizontal\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/appTitle\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"4dp\"\n                android:text=\"@string/sign\"\n                android:textColor=\"@color/colorWhite\"\n                android:textSize=\"26sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/up\"\n                android:textColor=\"@color/colorWhite\"\n                android:textSize=\"26sp\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/form\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:orientation=\"vertical\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/screenTitle\"&gt;\n\n            &lt;android.support.v7.widget.AppCompatEditText\n                style=\"@style/SignUp.InputBox\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/sign_up_name\"\n                android:inputType=\"textPersonName\"\n                android:text=\"@={viewModel.name}\" /&gt;\n\n            &lt;android.support.v7.widget.AppCompatEditText\n                style=\"@style/SignUp.InputBox\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/sign_up_email\"\n                android:inputType=\"textEmailAddress\"\n                android:text=\"@={viewModel.email}\"\n               /&gt;\n\n            &lt;android.support.v7.widget.AppCompatEditText\n                style=\"@style/SignUp.InputBox\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/sign_up_password\"\n                android:inputType=\"textPassword\"\n                android:text=\"@={viewModel.password}\" /&gt;\n\n            &lt;android.support.v7.widget.AppCompatEditText\n                style=\"@style/SignUp.InputBox\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/sign_up_confirm_password\"\n                android:inputType=\"textPassword\"\n                android:text=\"@={viewModel.passwordConfirm}\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/signUpButton\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"16dp\"\n                android:background=\"@drawable/button_gradient\"\n                android:text=\"@string/sign_up_next_btn\"\n                android:textAllCaps=\"true\"\n                android:textColor=\"@color/colorBlack\" /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "is_accepted": false, "score": 0, "last_activity_date": 1537283547, "creation_date": 1537283547, "answer_id": 52389721, "question_id": 52371173, "link": "https://stackoverflow.com/questions/52371173/concurrency-issue-with-livedata-on-android/52389721#52389721", "title": "Concurrency issue with LiveData on Android", "body": "<p>I have solved the issue. </p>\n\n<pre><code>    val withdrawals = model.getTransactions(\"withdrawals\")\n    val deposits = model.getTransactions(\"deposits\")\n    zipLiveData(withdrawals, deposits).observe(this, Observer {\n        if(it.first.getError() == null){\n            dataAdapter = ArrayList(it.first.getTransaction()?.data)\n            if (dataAdapter.size == 0) {\n                // no withdrawal\n                withdrawSum = 0\n            }  else {\n                it.first.getTransaction()?.data?.forEachIndexed { _, element -&gt;\n                    withdrawSum += Math.abs(element.attributes.amount)\n                }\n            }\n        } else {\n            // Error\n        }\n        if(it.second.getError() == null){\n            dataAdapter = ArrayList(it.second.getTransaction()?.data)\n            if (dataAdapter.size == 0) {\n                // no deposit\n                depositSum = 0\n            }  else {\n                it.second.getTransaction()?.data?.forEachIndexed { _, element -&gt;\n                    depositSum += Math.abs(element.attributes.amount)\n                }\n            }\n        } else {\n            // Error\n        }\n        difference = depositSum - withdrawSum\n    })\n</code></pre>\n\n<p>The function <code>zipLiveData</code> is taken from <a href=\"https://github.com/magneticflux-/kotlin-livedata-utils/blob/5f46c1664af597faf070dbbbc4ae8300c3ab0f7c/kotlin-livedata-utils/src/main/java/com/github/magneticflux/livedata/LiveDataUtils.kt\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>fun &lt;A, B&gt; zipLiveData(a: LiveData&lt;A&gt;, b: LiveData&lt;B&gt;): LiveData&lt;Pair&lt;A, B&gt;&gt; {\n    return MediatorLiveData&lt;Pair&lt;A, B&gt;&gt;().apply {\n        var lastA: A? = null\n        var lastB: B? = null\n\n        fun update() {\n            val localLastA = lastA\n            val localLastB = lastB\n            if (localLastA != null &amp;&amp; localLastB != null)\n                this.value = Pair(localLastA, localLastB)\n        }\n\n        addSource(a) {\n            lastA = it\n            update()\n        }\n        addSource(b) {\n            lastB = it\n            update()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537283547, "creation_date": 1537198116, "question_id": 52371173, "link": "https://stackoverflow.com/questions/52371173/concurrency-issue-with-livedata-on-android", "title": "Concurrency issue with LiveData on Android", "body": "<p>I am trying to manipulate the data pulled from an API using retrofit and LiveData. Below is my code</p>\n\n<pre><code>  viewModel.getTransactions(\"withdrawals\").observe(this, Observer {\n            if (it.getError() == null) {\n                dataAdapter = ArrayList(it.getTransaction()?.data)\n                if (dataAdapter.size == 0) {\n                    // no withdrawal\n                    withdrawSum = 0\n\n                } else {\n                    it.getTransaction()?.data?.forEachIndexed { _, element -&gt;\n                        withdrawSum += Math.abs(element.attributes.amount)\n                    }\n\n                }\n            } else {\n                // Error\n            }\n        })\n\nviewModel.getTransactions(\"deposits\").observe(this, Observer {\n        if(it.getError() == null){\n            dataAdapter = ArrayList(it.getTransaction()?.data)\n            if(dataAdapter.size == 0){\n                // no deposit\n                depositSum = 0\n\n            }else {\n                it.getTransaction()?.data?.forEachIndexed{ _, element -&gt;\n                    depositSum+=Math.abs(element.attributes.amount)\n                }\n\n            }\n        } else {\n            // Error\n        }\n\n    })\n    // difference will be 0 since deposit = 0 and withdrawal = 0\n    difference = deposit - withdrawal\n</code></pre>\n\n<p>What I am having issue is with this line <code>difference = deposit - withdrawal</code>. This is called immediately as opposed to waiting for Retrofit calls to complete before doing subtraction. What can i do to solve this issue? A horrible solution would be to nest the deposit code inside withdrawal's <code>it.getError() == null</code>, is there a cleaner solution?</p>\n"}, {"tags": ["file", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1537195982, "post_id": 52370076, "comment_id": 91685469, "body": "Just use it directly. Nothing requires the declaration of a variable to use it elsewhere. <code>[...].printWriter().use { File(fname).bufferedReader().lineSequence().flatMap { transform(it) } }</code>"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1537196032, "post_id": 52370076, "comment_id": 91685510, "body": "@Zoe Feel free to put that into an answer. Would be easier to read, and earn you an upvote + accept."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1537196050, "post_id": 52370076, "comment_id": 91685521, "body": "joinToString() and File.writeText?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1537196589, "post_id": 52370076, "comment_id": 91685911, "body": "The code i posted in the comment is wrong. The return type doesn&#39;t match, and it doesn&#39;t actually write anything. Anyways, what does transform return?"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1537199410, "last_edit_date": 1537199410, "creation_date": 1537196814, "answer_id": 52370745, "question_id": 52370076, "link": "https://stackoverflow.com/questions/52370076/how-to-write-to-text-file-after-reading-from-input/52370745#52370745", "title": "How to write to text file - after reading from input?", "body": "<p>Note that your reading code (<code>File().bufferedReader().lineSequence()</code>) can already be simplified to:</p>\n\n<pre><code>File(fname).useLines {\n  it.flatMap(::transform)\n}\n</code></pre>\n\n<p>Now regarding writing without putting it in an intermediate variable...</p>\n\n<pre><code>File(\"writeTo\").bufferedWriter().use { writer -&gt;\n  File(\"readFrom\").useLines { lines -&gt;\n    lines.flatMap(::transform)\n         .forEach { \n           writer.appendln(it)\n         }\n  }\n}\n</code></pre>\n\n<p>But I am not yet really convinced about it... I don't really like it ;-)\nI rather like something like:</p>\n\n<pre><code>File(\"readFrom\").useLines {\n   ..\n}.writeTo(\"writeTo\")\n</code></pre>\n\n<p>but that is not going to work as long as I use <code>useLines</code> ;-)</p>\n\n<p>But here is something similar:</p>\n\n<pre><code>File(\"readFrom\").useLines {\n  it.flatMap(::transform)\n    .writeTo(File(\"writeTo\"))\n}\n</code></pre>\n\n<p>But this requires the following extension function then:</p>\n\n<pre><code>fun Sequence&lt;String&gt;.writeTo(file: File) {\n  file.bufferedWriter().use { writer -&gt; forEach { writer.appendln(it) } }\n}\n</code></pre>\n\n<p>On the other hand... I always wanted to have a sequence.toFile-writer ;-) adapted it already to use a delimiter as parameter... </p>\n"}], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 52370745, "answer_count": 1, "score": 2, "last_activity_date": 1537270093, "creation_date": 1537194621, "last_edit_date": 1537212132, "question_id": 52370076, "link": "https://stackoverflow.com/questions/52370076/how-to-write-to-text-file-after-reading-from-input", "title": "How to write to text file - after reading from input?", "body": "<p>Alternative title: how does one \"nicely\" \"update\" the contents of text files with Kotlin?</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/35444264/how-do-i-write-to-a-file-in-kotlin/35445704\">how do i write to a file in kotlin</a>.</p>\n\n<p>Basically, the suggested solution there is based on creating a File object, to then write to it: <code>File(\"somefile.txt\").printWriter().use ...</code></p>\n\n<p>But well: I already have code like this:</p>\n\n<pre><code>File(fname).bufferedReader().lineSequence().flatMap { transform(it) }\n</code></pre>\n\n<p>where <code>transform()</code> is my own method that either returns the original line, or some updates lines when some specific match matched. (its signature is <code>transform(line : String) : Sequence&lt;String&gt;</code>)</p>\n\n<p>Sure: I could assign the result of <code>flatMap()</code> to some temporary variable, to then use that with <code>printWriter().use</code>. </p>\n\n<p>But is there a nice, canonical way that works <strong>without</strong> a temporary variable?</p>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1537193342, "post_id": 52369508, "comment_id": 91683754, "body": "I&#39;m not sure how you could possibly get either of those values. 12 + 23 = 35. How in the world you are getting 421 &amp; 606 is beyond me. Maybe confirm what you typed in your question and then I&#39;ll see if I can help. Await on an async is typically replaced with &quot;withContext(yourProviderThread){} and then no await is required, but either way async { someMethod }.await() is acceptable, if you don&#39;t await in line, then you can easily do one.await() + two.await() and that should give the same value as well. But hard to speculate when your output doesn&#39;t line up."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 5, "creation_date": 1537193436, "post_id": 52369508, "comment_id": 91683813, "body": "the 421/606 were the milliseconds it took to run variant one and variant two ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1537208596, "post_id": 52370483, "comment_id": 91692085, "body": "It&#39;s not so much about it <i>knowing</i>; it&#39;s more about you <i>telling</i>.  In the second variant, you&#39;re telling the compiler to await the execution of the first coroutine before moving on (before creating the second coroutine).  <code>await</code> is a non-suspending function."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537255634, "post_id": 52370483, "comment_id": 91706495, "body": "<code>await</code> is actually a suspending function."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537256293, "post_id": 52370483, "comment_id": 91706891, "body": "ok... &quot;knowing&quot; maybe was the wrong word... one coroutine does not know anything about the other...  just meant to say something similar... e.g. all coroutines that were spawned (I like that formulation much better) are known by the &quot;coroutine executor&quot; and can therefore be run as soon as the first await is hit... this will not work for coroutines that are not known by then... e.g. that are initialized after the await..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 4, "last_activity_date": 1537260456, "last_edit_date": 1537260456, "creation_date": 1537195991, "answer_id": 52370483, "question_id": 52369508, "link": "https://stackoverflow.com/questions/52369508/kotlin-coroutines-async-await-sequence/52370483#52370483", "title": "Kotlin Coroutines Async Await Sequence", "body": "<p>In the first variant you get a <code>Deferred&lt;Int&gt;</code> for both async-calls. As <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-deferred/index.html\" rel=\"nofollow noreferrer\">the documentation of <code>Deferred</code></a> shows so nicely there are several states the deferred object might be in. From the outside that state is now either <code>new</code> or <code>active</code> but surely not completed yet. On your second variant however the first async-await needs a <code>completed</code> state already otherwise you could not have any value there. However on your <code>async{one()}.await()</code> the second <code>async</code> is not known yet. \nNote also that the return value of <code>await()</code> is now <code>Int</code> and not <code>Deferred</code> anymore, so the coroutine must have been executed by then. Check also <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-deferred/await.html\" rel=\"nofollow noreferrer\">the documentation of <code>await()</code></a>.</p>\n\n<p>In other words:</p>\n\n<pre><code>val one = async { one() }\nval two = async { two() }\n</code></pre>\n\n<p>Both <code>one</code> and <code>two</code> are now <code>Deferred&lt;Int&gt;</code>. None has been called yet (or might have been called yet). As soon as you call <code>one.await()</code> it may start already both <code>one</code> and <code>two</code>, just because it has the resources for it (even if you didn't use <code>two.await()</code> anywhere in your code).</p>\n\n<p>On the second variant however:</p>\n\n<pre><code>val one = async { one() }.await()\nval two = async { two() }.await()\n</code></pre>\n\n<p>Even though it creates a coroutine for <code>async {one()}</code> it must set a value to <code>one</code> immediately, because you are calling <code>await()</code> on it. The types of <code>one</code> and <code>two</code> are both <code>Int</code>. So as soon as the first of those lines is hit, the async code needs to be executed immediately. By then nobody knows that another asynchronous call has to be executed as we wait for the value of the first. If the first wouldn't have an <code>await</code>, the coroutine would again be executed in parallel, e.g.:</p>\n\n<pre><code>val one = async { one() }\nval two = async { two() }.await()\n</code></pre>\n\n<p>will execute <code>one()</code> and <code>two()</code> in parallel.</p>\n\n<p>So maybe this can be summarized to: only those coroutines can be executed in parallel on an await, that are known/spawned by then.</p>\n"}, {"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1537208863, "post_id": 52372823, "comment_id": 91692209, "body": "What&#39;s the difference between that <code>withContext</code> snippet and simply <code>val one = one(); val two = two()</code>?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 4, "creation_date": 1537255504, "post_id": 52372823, "comment_id": 91706420, "body": "We assume <code>one()</code> and <code>two()</code> are blocking functions and the calling thread has an event loop (most typcially, it&#39;s the UI thread). Writing just <code>one()</code>  blocks the current thread and writing <code>withContext(Default) { one() }</code> transfers the blocking call to a threadpool while the current thread can go on processing other events until the result of <code>withContext()</code> is ready."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1537256103, "post_id": 52372823, "comment_id": 91706779, "body": "Note that, even though the code is executing sequentially, it&#39;s not executing on the same thread all the time. A coroutine jumping between threads like this is in close analogy to a thread jumping between CPU cores. Threads are to coroutines what CPU cores are to threads (modulo preemptive scheduling)."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 34, "last_activity_date": 1537255980, "last_edit_date": 1537255980, "creation_date": 1537204702, "answer_id": 52372823, "question_id": 52369508, "link": "https://stackoverflow.com/questions/52369508/kotlin-coroutines-async-await-sequence/52372823#52372823", "title": "Kotlin Coroutines Async Await Sequence", "body": "<pre><code>val one = async { one() }\nval two = async { two() }\nval int1 = one.await()\nval int2 = two.await()\n</code></pre>\n\n<p>What this does:</p>\n\n<ol>\n<li>spawn task one</li>\n<li>spawn task two</li>\n<li>await on task one</li>\n<li>await on task two</li>\n</ol>\n\n<hr>\n\n<pre><code>val one = async { one() }.await()\nval two = async { two() }.await()\n</code></pre>\n\n<p>What this does:</p>\n\n<ol>\n<li>spawn task one</li>\n<li>await on task one</li>\n<li>spawn task two</li>\n<li>await on task two</li>\n</ol>\n\n<p>There's no concurrency here, it's purely sequential code. In fact, for sequential execution you shouldn't even use <code>async</code>. The proper idiom is</p>\n\n<pre><code>val one = withContext(Dispatchers.Default) { one() }\nval two = withContext(Dispatchers.Default) { two() }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1537255856, "post_id": 52380221, "comment_id": 91706634, "body": "When you wrote <code>measureTimeMillis { async { one(3) }; async { two(3) } }</code>, you allowed your main thread to complete before the async tasks have completed. As soon as it dies, there are no more non-daemon threads left in the JVM so it exits while the tasks are still running on the <code>CommonPool</code>."}], "tags": [], "owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "is_accepted": false, "score": 0, "last_activity_date": 1537252194, "creation_date": 1537252194, "answer_id": 52380221, "question_id": 52369508, "link": "https://stackoverflow.com/questions/52369508/kotlin-coroutines-async-await-sequence/52380221#52380221", "title": "Kotlin Coroutines Async Await Sequence", "body": "<p>After Marko Topolnik's answer, I tried different variation and I think its accepted answer. But one interesting thing is, if i start coroutine and not call await, function starts but not ends. Below is my code.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking {\n\n    var time = measureTimeMillis {\n        val one = async { one(1) }\n        val two = async { two(1) }\n        val int1 = one.await()\n        val int2 = two.await()\n    }\n\n    println(\"time: $time\")\n\n\n    time = measureTimeMillis {\n        val one = async { one(2) }.await()\n        val two = async { two(2) }.await()\n    }\n\n    println(\"time: $time\")\n\n    time = measureTimeMillis {\n        val one = async { one(3) }\n        val two = async { two(3) }\n    }\n\n    println(\"time: $time\")\n\n\n\n}\n\nsuspend fun one(iteration: Int): Int {\n    println(\"func1 start, iteration $iteration\")\n    delay(200)\n    println(\"func1 end, iteration $iteration\")\n    return 12\n}\n\nsuspend fun two(iteration: Int): Int {\n    println(\"func2 start, iteration $iteration\")\n    delay(400)\n    println(\"func2 end, iteration $iteration\")\n    return 23\n}\n</code></pre>\n\n<p>And outputs are,</p>\n\n<p>func1 start, iteration 1<br>\nfunc2 start, iteration 1<br>\nfunc1 end, iteration 1<br>\nfunc2 end, iteration 1<br>\ntime: 430<br>\nfunc1 start, iteration 2<br>\nfunc1 end, iteration 2<br>\nfunc2 start, iteration 2<br>\nfunc2 end, iteration 2<br>\ntime: 607<br>\nfunc1 start, iteration 3<br>\ntime: 2<br>\nfunc2 start, iteration 3  </p>\n\n<p>Process finished with exit code 0</p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 13321079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcdb7a849ebcba5bdffc47cb4a9e2d55?s=128&d=identicon&r=PG&f=1", "display_name": "MohamedHarmoush", "link": "https://stackoverflow.com/users/13321079/mohamedharmoush"}, "is_accepted": false, "score": 0, "last_activity_date": 1618136860, "creation_date": 1618136860, "answer_id": 67043881, "question_id": 52369508, "link": "https://stackoverflow.com/questions/52369508/kotlin-coroutines-async-await-sequence/67043881#67043881", "title": "Kotlin Coroutines Async Await Sequence", "body": "<p>The thumb-rules:</p>\n<ul>\n<li>Use <em>withContext</em> when you do not need the parallel execution.</li>\n<li>Use <em>async</em> only when you need the parallel execution. Both <em>withContext</em> and    <em>async</em> can be used to get the result which is not possible with the launch.</li>\n<li>Use <em>withContext</em> to return the result of a single task.'</li>\n<li>Use async for results from multiple tasks that run in parallel.</li>\n</ul>\n<p>Check <a href=\"https://blog.mindorks.com/kotlin-withcontext-vs-async-await#:%7E:text=Use%20async%20only%20when%20you,tasks%20that%20run%20in%20parallel.\" rel=\"nofollow noreferrer\">this</a> for more details</p>\n"}], "owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17121, "favorite_count": 4, "accepted_answer_id": 52372823, "answer_count": 4, "score": 16, "last_activity_date": 1618136860, "creation_date": 1537192740, "last_edit_date": 1552980761, "question_id": 52369508, "link": "https://stackoverflow.com/questions/52369508/kotlin-coroutines-async-await-sequence", "title": "Kotlin Coroutines Async Await Sequence", "body": "<p>Can you please explain me what is the difference between these two blocks of code. First time prints 421, but second prints 606. Why first one is parallel and second one is sequential? </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking {\n\n    var time = measureTimeMillis {\n        val one = async { one() }\n        val two = async { two() }\n        val int1 = one.await()\n        val int2 = two.await()\n        println(int1 + int2)\n\n    }\n\n    println(time)\n\n\n    time = measureTimeMillis {\n        val one = async { one() }.await()\n        val two = async { two() }.await()\n        println(one + two)\n\n    }\n\n    print(time)\n}\n\nsuspend fun one(): Int {\n    delay(200)\n    return 12\n}\n\nsuspend fun two(): Int {\n    delay(400)\n    return 23\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-navigation", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1537192774, "post_id": 52369414, "comment_id": 91683374, "body": "Activities are usually paused when the screen turns off, or get paused if the screen is turned off. It might be pausing at a weird point, which messes up the flow."}, {"owner": {"reputation": 1685, "user_id": 3891038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXlsK.png?s=128&g=1", "display_name": "Julio E. Rodr&#237;guez Caba&#241;as", "link": "https://stackoverflow.com/users/3891038/julio-e-rodr%c3%adguez-caba%c3%b1as"}, "edited": false, "score": 0, "creation_date": 1574621717, "post_id": 52369414, "comment_id": 104287851, "body": "I&#39;m running into the same issue. Did you ever find a solution?"}, {"owner": {"reputation": 650, "user_id": 3024878, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e6d0018aaae16921b2f0d2597b946f68?s=128&d=identicon&r=PG", "display_name": "Miguel Sesma", "link": "https://stackoverflow.com/users/3024878/miguel-sesma"}, "edited": false, "score": 0, "creation_date": 1599218230, "post_id": 52369414, "comment_id": 112713158, "body": "Same problem here. I have tried adquiring a partial wake lock, but it did not work. In My case is a navigation that happens when a quick process ends in bkg, but if the user press the power button during it, the navigation is called but does not happens."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8923785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lac91.jpg?s=128&g=1", "display_name": "Osvaldo", "link": "https://stackoverflow.com/users/8923785/osvaldo"}, "is_accepted": false, "score": 0, "last_activity_date": 1584613313, "creation_date": 1584613313, "answer_id": 60755136, "question_id": 52369414, "link": "https://stackoverflow.com/questions/52369414/android-navigation-architecture-not-navigating-when-phone-screen-is-off/60755136#60755136", "title": "Android Navigation Architecture not navigating when phone screen is OFF", "body": "<p>I am exactly in the same situation. I didn't find a clean solution yet, and the only workaround for me it's to skip the navigation if screen is off. Then in \"onStart\", I perform the previously skipped navigation.</p>\n"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1584613313, "creation_date": 1537192418, "question_id": 52369414, "link": "https://stackoverflow.com/questions/52369414/android-navigation-architecture-not-navigating-when-phone-screen-is-off", "title": "Android Navigation Architecture not navigating when phone screen is OFF", "body": "<p>I have the following architecture in my project:</p>\n\n<p><code>MainActivity</code> layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;fragment\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/my_nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        app:navGraph=\"@navigation/nav_graph\"\n        app:defaultNavHost=\"true\"\n        /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><code>nav_graph</code> design:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2aaWI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2aaWI.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>nav_graph</code> xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:id=\"@+id/nav_graph\"\n    app:startDestination=\"@id/loginFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/loginFragment\"\n        android:name=\"com.example.LoginFragment\"\n        android:label=\"LoginFragment\" &gt;\n        &lt;action\n            android:id=\"@+id/loginToContentAction\"\n            app:destination=\"@id/contentFragment\" /&gt;\n    &lt;/fragment&gt;\n    &lt;fragment\n        android:id=\"@+id/contentFragment\"\n        android:name=\"com.example.ContentFragment\"\n        android:label=\"ContentFragment\" /&gt;\n&lt;/navigation&gt;\n</code></pre>\n\n<p>In the <code>LoginFragment</code>, I have the following logic:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    if(presenter.isUserLogged()) {\n        // getNav() returns NavController from the MainActivity\n        getNav().navigateTo(R.id.loginToContentAction)\n        return\n    }\n\n    // init login views etc\n}\n</code></pre>\n\n<p>It works perfectly if the phone screen is turned ON, but (for example) if I deploy build via Android Studio, and phone screen is OFF, it will not navigate to <code>ContentFragment</code> and stay in the <code>LoginFragment</code>. I debugged the situation, and code enters <code>NavController.navigate(R.id.loginToContentAction)</code> and steps into it, but it doesn't actually navigate. Any ideas what might be a cause of this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 479, "user_id": 3254810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b1a785e5b98cb2711b630e40e859436?s=128&d=identicon&r=PG&f=1", "display_name": "BareMetalCoder", "link": "https://stackoverflow.com/users/3254810/baremetalcoder"}, "edited": false, "score": 1, "creation_date": 1537190968, "post_id": 52368817, "comment_id": 91682107, "body": "Android Studio&#39;s style guide also proposes to use an equality check here instead. Not sure what I think of its readability, but it&#39;s an option: <code>val x: Boolean = a?.let {           it.contains(&quot;maybe&quot;) } == true</code>"}, {"owner": {"reputation": 479, "user_id": 3254810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b1a785e5b98cb2711b630e40e859436?s=128&d=identicon&r=PG&f=1", "display_name": "BareMetalCoder", "link": "https://stackoverflow.com/users/3254810/baremetalcoder"}, "edited": false, "score": 0, "creation_date": 1537191274, "post_id": 52368817, "comment_id": 91682307, "body": "From a software engineering standpoint, does anyone know if the OP should be using <code>it</code> or <code>a</code> in side the <code>let</code> curly braces? Android Studio also points out that the <code>a</code> inside the braces is &quot;Smart Cast&quot; so I guess it technically hides the &quot;outer scope&quot; <code>a</code> when it is used in the <code>let</code> scope?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 479, "user_id": 3254810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b1a785e5b98cb2711b630e40e859436?s=128&d=identicon&r=PG&f=1", "display_name": "BareMetalCoder", "link": "https://stackoverflow.com/users/3254810/baremetalcoder"}, "edited": false, "score": 1, "creation_date": 1537191675, "post_id": 52368817, "comment_id": 91682571, "body": "while I did use that <code>== true</code> suggestion in the past, I can&#39;t really recommend it anymore. As you mentioned already: it isn&#39;t as readable. Regarding <code>it</code> vs <code>a</code> I didn&#39;t get what you mean. Usually you would rather use <code>it</code> instead of the outer <code>a</code>, but I didn&#39;t touch that, as the next suggestion would probably be to just omit the <code>let</code> ;-) that&#39;s why I just concentrated on the <code>?:</code> instead..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 479, "user_id": 3254810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b1a785e5b98cb2711b630e40e859436?s=128&d=identicon&r=PG&f=1", "display_name": "BareMetalCoder", "link": "https://stackoverflow.com/users/3254810/baremetalcoder"}, "edited": false, "score": 1, "creation_date": 1537192588, "post_id": 52368817, "comment_id": 91683224, "body": "<code>a</code> is <code>String?</code> and as <code>?.let {</code> is called on <code>a</code> the compiler &quot;knows&quot; that <code>a</code> inside the let-block is not-null. That&#39;s why there was written something about &quot;smart cast to String&quot;. If that variable would be a member variable instead, this wouldn&#39;t compile, as then this variable might have been changed to <code>null</code> by the time it is accessed... So while it doesn&#39;t really matter for local variables it is rather convenient to use <code>it</code> for member variables, etc."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 479, "user_id": 3254810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b1a785e5b98cb2711b630e40e859436?s=128&d=identicon&r=PG&f=1", "display_name": "BareMetalCoder", "link": "https://stackoverflow.com/users/3254810/baremetalcoder"}, "edited": false, "score": 1, "creation_date": 1537192805, "post_id": 52368817, "comment_id": 91683396, "body": "no problem... to be honest I was a bit confused by your question, but I hope the answer is clear nonetheless ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 10, "last_activity_date": 1537190630, "creation_date": 1537190630, "answer_id": 52368817, "question_id": 52368752, "link": "https://stackoverflow.com/questions/52368752/why-does-let-returns-nullable-even-if-it-evaluates-to-a-non-null/52368817#52368817", "title": "Why does ?.let returns nullable even if it evaluates to a non-null", "body": "<p><code>a?.let</code> returns whatever you do inside the given let-block, BUT as <code>a</code> might be <code>null</code> you are not sure whether the <code>let</code>-block is even called. That's why <code>x</code> must be either <code>Boolean?</code> or you need to specify what should be returned if <code>a</code> is <code>null</code>, e.g.:</p>\n\n<pre><code>val x: Boolean = a?.let { a.contains(\"maybe\") }\n                  ?: false // this is used if `a` is null\n</code></pre>\n"}], "owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 52368817, "answer_count": 1, "score": 6, "last_activity_date": 1537190660, "creation_date": 1537190390, "question_id": 52368752, "link": "https://stackoverflow.com/questions/52368752/why-does-let-returns-nullable-even-if-it-evaluates-to-a-non-null", "title": "Why does ?.let returns nullable even if it evaluates to a non-null", "body": "<p>Kotlin's standard function <code>let</code> is defined like this:</p>\n\n<pre><code>public inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R\n</code></pre>\n\n<p>Doesn't this mean the return type of let will be whatever the block returns?</p>\n\n<p>Why doesn't this work?</p>\n\n<pre><code>var a: String? = \"maybe null\" \nval x: Boolean = a?.let { \n    a.contains(\"maybe\") // note that contains returns Boolean, not Boolean?\n}\n</code></pre>\n\n<p>This complains: <em>Type missmatch: Required <code>Boolean</code>, Found <code>Boolean?</code></em> Shouldn't it return a <code>Boolean</code> since <code>contains</code> function returns a <code>Boolean</code> ?</p>\n\n<p>I'm sure I've misunderstood something. Maybe someone can help me and other newbies to understand better.</p>\n"}, {"tags": ["kotlin", "junit4", "android-room", "koin"], "comments": [{"owner": {"reputation": 206, "user_id": 1382250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc96a92b0b62434d2e7945d96985b1e?s=128&d=identicon&r=PG", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1382250/eduardo"}, "edited": false, "score": 0, "creation_date": 1537264122, "post_id": 52368720, "comment_id": 91711497, "body": "I ended up querying the database for a <code>Cursor</code> and checking if it contains the expected data object. No need of test code in the production code (no <code>TestDatabase</code> no test query in the DAO neither)"}], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 1382250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc96a92b0b62434d2e7945d96985b1e?s=128&d=identicon&r=PG", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1382250/eduardo"}, "edited": false, "score": 0, "creation_date": 1537251258, "post_id": 52369937, "comment_id": 91704242, "body": "Thanks! See my answer (it was to long to put it in a comment)"}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": true, "score": 1, "last_activity_date": 1537194111, "creation_date": 1537194111, "answer_id": 52369937, "question_id": 52368720, "link": "https://stackoverflow.com/questions/52368720/room-test-database-implementation-not-found/52369937#52369937", "title": "Room test database implementation not found", "body": "<p>Have you included all the necessary TestDepenedencies for the test build to recognize Room content as well as the kapt and other necessary components? I see what you are trying to do, haven't personally done it, but you are extending generated code, so that seems potentially unreliable.</p>\n\n<p>Whats the reason you don't just add a \"getAll\" to the standard DAO class and just only use it in tests. If you are concerned about others' touching it, you could always throw a deprecated tag over it, but the interface that exposes it all would seem like a better place for this to live with more reliable access.</p>\n\n<p>However, if you feel the query doesn't belong to either table, you could make a DAO specifically for your custom query needs. You can specify the query that the fun does. like</p>\n\n<pre><code>@Query ( \"SELECT * FROM firstTable UNION SELECT * FROM secondTable\")\nfun myCombiningQueryMethod() : MyEntityArray\n</code></pre>\n\n<p>You aren't forced to query the content of your own table as far as I know. So write as nice of query as you want and make a class for it.</p>\n\n<p>Then if you are worried about having that class in your production code, simply make a flavor. Split out the Database implementation, one flavor is for production and one is for testing where it includes the additional table.</p>\n\n<p>Hope that helps. happy coding.</p>\n"}, {"comments": [{"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1537291568, "post_id": 52379974, "comment_id": 91728575, "body": "Makes sense. Sounds like flavors May be your best recourse than. Best of luck and if you find something more creative, do share :)."}], "tags": [], "owner": {"reputation": 206, "user_id": 1382250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc96a92b0b62434d2e7945d96985b1e?s=128&d=identicon&r=PG", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1382250/eduardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1537251533, "last_edit_date": 1537251533, "creation_date": 1537251148, "answer_id": 52379974, "question_id": 52368720, "link": "https://stackoverflow.com/questions/52368720/room-test-database-implementation-not-found/52379974#52379974", "title": "Room test database implementation not found", "body": "<p>Thank you for your answer Sam!</p>\n\n<p>Regarding your comment </p>\n\n<p><code>Have you included all the necessary TestDepenedencies for the test build to recognize Room content as well as the kapt and other necessary components?</code> </p>\n\n<p>-> Yes I did. As I wrote before, my problem is not related to the kapt or any lacking component since putting my <code>TestDatabase</code> in another folder out of my test folder path works and the <code>TestDatabase_Impl</code> is generated.</p>\n\n<p>I am not <code>extending generated code</code> though, but replacing my database with a test in-memory one that provides access to extended DAOs with testing methods like <code>getAll()</code>. Since I am not testing how Room generates its components I think it is save enough to replace the database as long as I keep the DAOs.</p>\n\n<p>As you pointed out, I don't have a query <code>getAll()</code> because I don't need it in my production code and I didn't want to create it for the sake of testing (in order to check if inserting in the database is working and be able to check the stored data for example)</p>\n\n<p>For now I think I will do as you suggest and put a get method in my DAOs since I am not seeing another \"fast\" alternative, but I'll keep in mind your idea of using flavours and will try it in the nearest future.</p>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 206, "user_id": 1382250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc96a92b0b62434d2e7945d96985b1e?s=128&d=identicon&r=PG", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1382250/eduardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 52369937, "answer_count": 2, "score": 2, "last_activity_date": 1537251533, "creation_date": 1537190299, "last_edit_date": 1537192140, "question_id": 52368720, "link": "https://stackoverflow.com/questions/52368720/room-test-database-implementation-not-found", "title": "Room test database implementation not found", "body": "<p>I am testing a DAO and in order to do so, I need to extend it with a <code>getAll()</code> method not existing in the production code. </p>\n\n<p>The only way I could think about to achieve this, is to extend my database implementation with an extended DAO containing the <code>getAll()</code> I need. The code looks like the following:</p>\n\n<pre><code>@Database(\n                entities = [\n                    OneEntity::class,\n                    AnotherEntity::class\n                ],\n                version = 1,\n                exportSchema = false\n        )\n        abstract class TestDatabase : RoomDatabase() {\n            abstract fun getOneEntityDao(): OneEntityDao\n            abstract fun getAnotherEntityDao(): TestAnotherEntityDao\n        }\n\n@Dao\nabstract class TestAnotherEntityDao : AnotherEntityDao {\n\n        @Query(\"\"\"select * from $ANOTHER_ENTITY_TABLE\"\"\")\n        abstract fun getAll() : Single&lt;List&lt;AnotherEntity&gt;&gt;\n    }\n</code></pre>\n\n<p>But when I run the tests I get the following error:</p>\n\n<pre><code>`java.lang.RuntimeException: cannot find implementation for com.example.persistence.TestDatabase. TestDatabase_Impl does not exist`\n</code></pre>\n\n<p>I already checked other answers and the only thing that worked for me is to move the <code>Testdatabase</code> class out of the test directory but I'd rather prefer not to have a test class in my production code.\nAny ideas why is this happening and how to solve it?</p>\n"}, {"tags": ["android", "kotlin", "push-notification"], "answers": [{"tags": [], "owner": {"reputation": 1130, "user_id": 9584778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dp3b0.jpg?s=128&g=1", "display_name": "sandhya sasane", "link": "https://stackoverflow.com/users/9584778/sandhya-sasane"}, "is_accepted": true, "score": 2, "last_activity_date": 1537539405, "last_edit_date": 1537539405, "creation_date": 1537378283, "answer_id": 52411342, "question_id": 52368109, "link": "https://stackoverflow.com/questions/52368109/android-notification-how-to-create-a-system-based-on-model-properties/52411342#52411342", "title": "Android Notification - How to create a system based on model properties", "body": "<p>Well.., I am not going in details of your programming problems and will not help you to find the error.. But i have read your question keenly neatly and got the problem and its solution too..!! It is a bit theoretical.. But as i can see your programming skills are good .. so you just needs the direction and concept clearance. </p>\n\n<h2>Here we go :</h2>\n\n<blockquote>\n  <p>It works if I purposely display the notification as soon as it is created, but I get a NullPointerException whenever the user, for example, <code>reboots</code> his device or <code>kills</code> the process.</p>\n</blockquote>\n\n<p>This is the main cause of the problem. Whenever system reboots or whenever system kills the app.</p>\n\n<blockquote>\n  <p>What causing it...?</p>\n</blockquote>\n\n<p>Whenever system is rebooted \"All the alarms set by <code>AlarmManager</code> are no more preserved and needs to be re-scheduled again by the application\"</p>\n\n<blockquote>\n  <p>What is work around then...?</p>\n</blockquote>\n\n<p>Maintain a table of scheduled alarms. As soon as system fires <code>ON_BOOT_COMPLETE</code> re-schedule all again.</p>\n\n<blockquote>\n  <p>Most of the devices in market not triggering my <code>ON_BOOT_COMPLETE</code> receiver..!!</p>\n</blockquote>\n\n<p>Yes most of the devices now a days are keeping only major companies services like <code>google</code>, <code>facebook</code>, <code>whatsapp</code>, <code>twitter</code>, <code>instagram</code> and rest all others are discarded at boot time.</p>\n\n<blockquote>\n  <p>Why mobile manufacturers does this?</p>\n</blockquote>\n\n<p>As it is a business and it also improves performance and speed of the overall device. And if they do not allow said companies services on reboot .., then no one will take such phones..!!</p>\n\n<blockquote>\n  <p>Any solution for this..?</p>\n</blockquote>\n\n<p>Use firebase job dispatcher. Let Google play services handle your service.</p>\n\n<p>I hope it helps you and correct me if i am wrong or if need any further clarification over the issue. Thanks</p>\n\n<h2>EDIT 2</h2>\n\n<p>I would suggest create a job schedular job via your mainactivity <code>context</code> and let it handle google play services which will start executing job on <code>every reboot</code>. That job should call a foreground service with a proper notification. And via that foreground service again call to an <code>intentservice</code> which will <code>re-schedule</code> all the <code>alarms</code> by reading from Sqlite table one by one.</p>\n\n<h2>Edit : 3</h2>\n\n<p>Even if you follow these all paradigms suggested here... There is another problem you will notice..</p>\n\n<blockquote>\n  <p>Google play not starting My foreground service on reboot..!!</p>\n</blockquote>\n\n<p>Yes..., As Post <code>Marshmallow</code> and <code>modified ROMs</code> ( including stock android and mobile manufacturers modified OS like OxygenOs, FunTouchOs, ColorOs,.. This list never ends as well) As battery is optimised and no private apps processes can come in memory on reboot..!!</p>\n\n<blockquote>\n  <p>Now is there any way i can tackle this problem too...?</p>\n</blockquote>\n\n<p>Yes .. Show user a bold and bright alert :</p>\n\n<pre><code>If You want to perform this app normally, \nyou must stop optimising battery for this \napp from settings..!!\n</code></pre>\n\n<blockquote>\n  <p>That what the ways we can tackle these many problems.. Yes i\n  understand it has no well documentation from google and no sample codes too, Still in case if you require any help regarding implementing any <code>sub-point</code> I will help you in implementing these all sub-points as well</p>\n</blockquote>\n\n<p>Thanks you as it helped you</p>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 52411342, "answer_count": 1, "score": 1, "last_activity_date": 1537539405, "creation_date": 1537188384, "last_edit_date": 1537193641, "question_id": 52368109, "link": "https://stackoverflow.com/questions/52368109/android-notification-how-to-create-a-system-based-on-model-properties", "title": "Android Notification - How to create a system based on model properties", "body": "<p>I've been trying to implement Notifications in my app without effectively succeeding. The following are my observations:</p>\n\n<p><strong>Requirements:</strong></p>\n\n<ol>\n<li>After scheduling a Notification it has to be repeated on a monthly basis.</li>\n<li>The notification will be inflated with some model object data, so the object needs to be passed to the notification builder.</li>\n</ol>\n\n<p><strong>How I tackled the problem so far:</strong></p>\n\n<p>I created a <code>NotificationScheduler</code> object that basically creates a <code>PendingIntent</code> for the notification to be fired.</p>\n\n<pre><code>object NotificationScheduler {\n    fun scheduleNotification(context: Context, model: Model, cal: Calendar) {\n        cal.set(Calendar.HOUR_OF_DAY, 11)\n        val notificationIntent = Intent(context, NotificationPublisher::class.java)\n        notificationIntent.putExtra(\"model\", Utils.parcelToBytes(model))\n\n        val pendingIntent = PendingIntent.getBroadcast(context, 1, notificationIntent,\n                PendingIntent.FLAG_UPDATE_CURRENT)\n        val alarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarmManager.set(AlarmManager.RTC_WAKEUP, cal.timeInMillis, pendingIntent)\n    }\n}\n</code></pre>\n\n<p>Then I have a <code>NotificationPublisher</code> class that should show the notification and set the next one by calling <code>NotificationScheduler</code> again.</p>\n\n<pre><code>class NotificationPublisher: BroadcastReceiver() {\n    var model: Model? = null\n\n    override fun onReceive(context: Context?, intent: Intent?) {\n        val modelBytes = intent?.getByteArrayExtra(\"model\")\n\n        if (modelBytes != null) {\n            model = Utils.bytesToParcel(modelBytes, Model.CREATOR)\n        }\n\n        val notificationBuilder = NotificationBuilder(context!!, model!!)\n        val notification = notificationBuilder.buildNotification()\n\n        val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        notificationManager.notify(1, notification)\n\n        //schedules the next notification\n\nNotificationScheduler.scheduleNotification(context, model!!, Calendar.getInstance())\n        }\n    }\n</code></pre>\n\n<p>Where the <code>NotificationBuilder</code> class just takes the <code>context</code> and the <code>model</code> and builds the notification</p>\n\n<pre><code>class NotificationBuilder(val context: Context, val model: Model) {\n\n    fun buildNotification(): Notification {\n        generateNotificationChannel(context)\n\n        val builder = NotificationCompat.Builder(context, \"ID\")\n                .setSmallIcon(R.drawable.sub)\n                .setContentTitle(model.title)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n\n        return builder.build()\n    }\n\n    private fun generateNotificationChannel(context: Context) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val name = \"Test\"\n            val description = \"description\"\n            val importance = NotificationManager.IMPORTANCE_DEFAULT\n\n            val channel = NotificationChannel(\"ID\", name, importance)\n            channel.description = description\n\n            val notificationManager = context.getSystemService(NotificationManager::class.java)\n            notificationManager?.createNotificationChannel(channel)\n        }\n    }\n</code></pre>\n\n<p><strong>My problem with this approach:</strong></p>\n\n<p>It works if I purposely display the notification as soon as it is created, but I get a NullPointerException whenever the user, for example, reboots his device or kills the process. While debugging I found out that the data I store in the <code>notificationIntent</code> in <code>NotificationScheduler</code>, once the device is rebooted, isn't available anymore in the <code>onReceive()</code> of the <code>NotificationPublisher</code> and therefore will generate a NPE. </p>\n\n<p>I think I am doing something conceptually wrong with this approach, and I'd like you to help me figure out how to achieve the above mentioned requirements.</p>\n"}, {"tags": ["java", "inheritance", "design-patterns", "kotlin", "abstraction"], "owner": {"reputation": 1467, "user_id": 2781389, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4c4a555c9080ea83580d13541743e633?s=128&d=identicon&r=PG&f=1", "display_name": "M06H", "link": "https://stackoverflow.com/users/2781389/m06h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537198043, "creation_date": 1537186296, "last_edit_date": 1537198043, "question_id": 52367467, "link": "https://stackoverflow.com/questions/52367467/representing-many-unique-categories-that-can-grow", "title": "representing many unique categories that can grow", "body": "<pre><code>data class SpecialTypeContract(\n        val value: BigDecimal,\n        val excess: BigDecimal\n)\n\ndata class CustomerContract(\n        val name: String,\n        val value: BigDecimal,\n        val specialType:  SpecialTypeContract?,\n        val itemContracts: List&lt;ItemContract&gt;\n)\n\ndata class ItemContract(\n        val name: String,\n        val value: BigDecimal,\n        val excess: BigDecimal\n)\n\n\nCategory  |  options\nTypeA  |  Special\nTypeB  |  item and special\nTypeC  |  item \nTypeD  |  item\n</code></pre>\n\n<p>In my application, I allow customers to purchase <code>CustomerContract</code> which can have a collection of <code>ItemContract</code> and/or <code>SpecialTypeContract</code>. </p>\n\n<p>I support many categroies A...D and this can grow. For each of the categories I define whether they are available as <code>SpecialTypeContract</code> or as <code>ItemContract</code>. </p>\n\n<p>For each of the above categories, there is a set of <code>excess</code>  options to choose from i.e. 300, 800, 1000. The categories can also have <code>rate/interest</code> levels e.g. 0.1, 2.1 etc. </p>\n\n<p>My question is, is there a design pattern I can use to represent this relationship between the categories and the contracts I have <code>Special</code> and <code>Item</code> ? </p>\n\n<p>How should I represent these <code>categories types A...D</code> and provide what options they are available to customers? Should I use a data structure or some class hierarchy given that the list of types could grow later and have properties such as set of excess available and the rate/interest? </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 267, "user_id": 8064640, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213182533306764/picture?type=large", "display_name": "Bayar \u015eahintekin", "link": "https://stackoverflow.com/users/8064640/bayar-%c5%9eahintekin"}, "edited": false, "score": 0, "creation_date": 1537184543, "post_id": 52366685, "comment_id": 91677996, "body": "you must first create a recyclerview and add one more recyclerview to its cell. The adapters of these two recycler views should be different. but vertical scrolling is not recommended for in-user 2-user experience"}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1537184549, "post_id": 52366685, "comment_id": 91678003, "body": "What you actually want is an expandable recyclerview."}], "owner": {"reputation": 31, "user_id": 9399887, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1rOTUys4t0U/AAAAAAAAAAI/AAAAAAAAAAc/uRnR88HzySo/photo.jpg?sz=128", "display_name": "Arjun R", "link": "https://stackoverflow.com/users/9399887/arjun-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1537184504, "creation_date": 1537183663, "last_edit_date": 1537184504, "question_id": 52366685, "link": "https://stackoverflow.com/questions/52366685/how-to-implement-vertical-recyclerview-inside-another-vertical-recyclerview", "title": "How to implement vertical recyclerview inside another vertical recyclerview", "body": "<p>I'm new to android development. I'm developing an app which needs vertical <code>RecyclerView</code> inside another vertical <code>RecyclerView</code> . I created it but the problem is that I want to group the inner <code>RecyclerView</code> elements according to the outer <code>RecyclerView</code> elements. </p>\n\n<p>I have attached the code for reference!</p>\n\n<pre><code>private fun ResponsibilityExpListFun() {\n\n        CommonFunctions.hideSoftKeyboard(this@DailyTasksPage)\n        builder = AlertDialog.Builder(this@DailyTasksPage)\n        inflater = layoutInflater\n        dialogView = inflater!!.inflate(R.layout.expandable_list_dialog, null)\n        dialog = builder!!.create()\n        expandableListView = dialogView!!.findViewById(R.id.expandablelistview) as ExpandableListView\n        dialog!!.setView(dialogView)\n        expandableListView?.setAdapter(TaskResponsibiltyExpandableAdapter(this, expandableListView!!, header, body))\n        dialog!!.show()\n        dialog!!.setCancelable(true)\n    }\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_daily_tasks)\n        setSupportActionBar(daily_task_toolbar)\n\n        daily_task_toolbar.navigationIcon = resources.getDrawable(R.drawable.back_icon)\n        daily_task_toolbar.setNavigationOnClickListener { finish() }\n\n        /* daily_Task_Refresh.setOnRefreshListener {\n             try {\n                 onStart()\n             } catch (e: Exception) {\n                 e.printStackTrace()\n             }\n         }*/\n        daily_Task_Refresh.isEnabled = false\n        val sharedPreferences = getSharedPreferences(\"App_Details\", Context.MODE_PRIVATE)\n        strMobileIdentifier = sharedPreferences.getString(\"IMEI_NUMBER\", null)\n        strTokenSecret = sharedPreferences.getString(\"TOKEN_SECRET\", null)\n\n        var linearLayoutManager = LinearLayoutManager(this)\n\n        Daily_Tasks_recyclerview?.layoutManager = linearLayoutManager\n        ahowalltaskadapter = AllTaskAdapter(slotIDarrayList)\n        Daily_Tasks_recyclerview.adapter = ahowalltaskadapter\n        cayyoverslotadapter = CarryOverSlotAdapter(previousSlotarrayList)\n\n\n        //ahowalltaskadapter = ahowalltaskadapter(slotIDarrayList)\n\n\n        /* preplan_Image_Toggle.setOnClickListener {\n             preplan_Image_ToggleUp.visibility = View.VISIBLE\n             preplan_Image_Toggle.visibility = View.GONE\n             PrePlanTaskRecyclerView.visibility = View.VISIBLE\n         }\n\n         preplan_Image_ToggleUp.setOnClickListener {\n             preplan_Image_Toggle.visibility = View.VISIBLE\n             preplan_Image_ToggleUp.visibility = View.GONE\n             PrePlanTaskRecyclerView.visibility = View.GONE\n         }*/\n\n        fab_btn_DailyTask.setOnClickListener { it -&gt;\n            builder = AlertDialog.Builder(this)\n            inflater = layoutInflater\n            dialogView = inflater!!.inflate(R.layout.edit_curremt_slot, null)\n            dialog = builder!!.create()\n            layout = dialogView!!.findViewById(R.id.edit_current_slot_cardview) as CardView\n            taskName = dialogView!!.findViewById(R.id.edit_content) as TextInputEditText\n            taskResp = dialogView!!.findViewById(R.id.edit_resp_content) as TextView\n            taskPackage = dialogView!!.findViewById(R.id.edit_prod_content) as TextView\n            taskPriority = dialogView!!.findViewById(R.id.edit_priority_content) as TextView\n            SaveBtn = dialogView!!.findViewById(R.id.SaveEditSlot) as Button\n            CancelBtn = dialogView!!.findViewById(R.id.cancelEditSlot) as Button\n            layout!!.setOnClickListener {\n                CommonFunctions.hideSoftKeyboard(activity = this@DailyTasksPage)\n            }\n\n            CancelBtn!!.setOnClickListener {\n                dialog!!.dismiss()\n            }\n            // expandableListView = dialogView!!.findViewById(R.id.expandablelistview) as ExpandableListView\n\n            dialog!!.show()\n            taskResp!!.setOnClickListener {\n                count = 1\n                ResponsibilityExpListFun()\n            }\n            taskPackage!!.setOnClickListener {\n                count = 2\n                PackageExpListFun()\n            }\n            taskPriority!!.setOnClickListener {\n                PriorityFun()\n            }\n\n            SaveBtn!!.setOnClickListener {\n                strTaskName = taskName!!.text.toString()\n                if (strTaskName.isNullOrEmpty()) {\n                    Snackbar.make(dialogView!!, \"Task Name field is empty\", Snackbar.LENGTH_LONG).show()\n                    return@setOnClickListener\n                }\n                if (taskResp!!.text.isNullOrEmpty()) {\n                    Snackbar.make(dialogView!!, \"Task Responsibility field is empty\", Snackbar.LENGTH_LONG).show()\n                    return@setOnClickListener\n                }\n\n                if (taskPriority!!.text.isNullOrEmpty()) {\n                    Snackbar.make(dialogView!!, \"Task Priority field is empty\", Snackbar.LENGTH_LONG).show()\n                    return@setOnClickListener\n                }\n                AddTaskFunction()\n                dialog!!.dismiss()\n            }\n\n            // expandableListView?.setAdapter(TaskResponsibiltyExpandableAdapter(this, expandableListView!!, header, body))\n            dialog!!.setView(dialogView)\n            dialog!!.show()\n            //  dialog!!.setCancelable(false)\n\n\n        }\n    }\n    inner class AllTaskAdapter(val alltaskList: ArrayList&lt;SlotIDClass&gt;) : RecyclerView.Adapter&lt;AllTaskAdapter.ViewHolderAdapter&gt;() {\n        var slotName: String? = null\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AllTaskAdapter.ViewHolderAdapter {\n            val View = LayoutInflater.from(parent.context).inflate(R.layout.previous_slot_format, parent, false)\n            val sharedPreferences = View.context.getSharedPreferences(\"App_Details\", Context.MODE_PRIVATE)\n            slotName = sharedPreferences.getString(\"SlotName\", null)\n            return ViewHolderAdapter(View)\n        }\n\n        override fun getItemCount(): Int {\n            return alltaskList.size\n        }\n\n        override fun onBindViewHolder(holder: AllTaskAdapter.ViewHolderAdapter, position: Int) {\n\n            val layoutManager = CustomLinearLayoutManager(holder.itemView.context)\n            taskinnerAdapter = RunningTaskAdapter(currTaskarrayList)\n            holder.DailyTasks_Recyclerview!!.setLayoutManager(layoutManager)\n            holder.DailyTasks_Recyclerview!!.addItemDecoration(DividerItemDecoration(holder.DailyTasks_Recyclerview!!.context, DividerItemDecoration.VERTICAL))\n\n            holder.DailyTasks_Recyclerview!!.adapter = taskinnerAdapter\n            println(\"Running tASK aDaPtEr------------------------------\" + ahowalltaskadapter.toString())\n            holder.SlotName!!.text = alltaskList.get(position).SlotName\n\n            if (holder.SlotName!!.text.equals(slotName)) {\n                holder.title_prev_slot!!.setBackgroundColor(holder.itemView.resources.getColor(R.color.dark_orange))\n                holder.strShowime!!.visibility = View.VISIBLE\n\n                var SlotTime = (ToMilliseconds!! - CurrentMilliseconds!!).toLong()\n                object : CountDownTimer(SlotTime.toLong(), 1000) {\n\n                    override fun onTick(millisUntilFinished: Long) {\n                        strShowime = String.format(Locale.getDefault(), \"Time Remaining %02d hour %02d min %02d sec\",\n                                TimeUnit.MILLISECONDS.toHours(millisUntilFinished),\n                                TimeUnit.MILLISECONDS.toMinutes(millisUntilFinished) % 60,\n                                TimeUnit.MILLISECONDS.toSeconds(millisUntilFinished) % 60)\n                        holder.strShowime!!.setText(strShowime)\n                    }\n\n                    override fun onFinish() {\n                        onStart()\n                        GetCurrentSlot()\n                    }\n                }.start()\n\n\n                Toast.makeText(holder.itemView.context.applicationContext, strShowime, Toast.LENGTH_LONG).show()\n            }\n\n        }\n\n        inner class ViewHolderAdapter(view: View) : RecyclerView.ViewHolder(view), View.OnClickListener {\n            override fun onClick(v: View?) {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n\n            var DailyTasks_Recyclerview: RecyclerView? = null\n            var SlotName: TextView? = null\n            var title_prev_slot: RelativeLayout? = null\n            var strShowime: TextView? = null\n\n            init {\n                this.DailyTasks_Recyclerview = view.findViewById(R.id.Daily_Tasks_recyclerview) as RecyclerView\n                this.SlotName = view.findViewById(R.id.prev_SlotName) as TextView\n                this.title_prev_slot = view.findViewById(R.id.title_prev_slot) as RelativeLayout\n                this.strShowime = view.findViewById(R.id.strShowime) as TextView\n            }\n        }\n\n    }\n\n    inner class RunningTaskAdapter(val runningtaskList: ArrayList&lt;TaskDetailsDataClass&gt;) : RecyclerView.Adapter&lt;RunningTaskAdapter.RunningTaskViewHolder&gt;() {\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RunningTaskAdapter.RunningTaskViewHolder {\n            val view = LayoutInflater.from(parent.context).inflate(R.layout.runningtasks_format, parent, false)\n            return RunningTaskViewHolder(view)\n        }\n\n        override fun getItemCount(): Int {\n            return runningtaskList.size\n        }\n\n        override fun onBindViewHolder(holder: RunningTaskAdapter.RunningTaskViewHolder, position: Int) {\n            holder.tasknameText?.text = runningtaskList.get(position).strTaskName\n            holder.respnameText?.text = runningtaskList.get(position).strRespName\n            holder.priorityIDText?.text = runningtaskList.get(position).intPriorityID.toString()\n            holder.TaskStatusText?.text = runningtaskList.get(position).intTaskStatusID.toString()\n            holder.PackageText?.text = runningtaskList.get(position).PackageName\n            holder.intTaskID?.text = runningtaskList.get(position).intTaskID.toString()\n            holder.intTimeElapsed?.text = runningtaskList.get(position).intTimeElapsed.toString()\n            holder.intinitial_time_elapsed?.text = runningtaskList.get(position).intinitial_time_elapsed.toString()\n            holder.strRemarks?.text = runningtaskList.get(position).strRemarks\n            //  holder.ResumeTime?.text = runningtaskList.get(position).ResumeTime\n\n            if (holder.TaskStatusText!!.text.equals(\"1\")) {\n                holder.running_task_Image!!.visibility = View.VISIBLE\n            } else {\n                holder.running_task_Image!!.visibility = View.INVISIBLE\n            }\n            holder.RunningTaskCardView!!.setOnClickListener {\n\n                holder.itemView.context.startActivity(Intent(holder.itemView.context, CurrentTaskDetails::class.java)\n                        .putExtra(\"Task_Name\", holder.tasknameText?.text.toString())\n                        .putExtra(\"Responsibility_Name\", holder.respnameText?.text.toString())\n                        .putExtra(\"Package_Name\", holder.PackageText?.text.toString())\n                        .putExtra(\"TaskStatusID\", holder.TaskStatusText?.text.toString())\n                        .putExtra(\"Task_ID\", holder.intTaskID?.text.toString())\n                        .putExtra(\"Time_Elapsed\", holder.intTimeElapsed?.text.toString())\n                        .putExtra(\"Initial_Time_Elapsed\", holder.intinitial_time_elapsed?.text.toString())\n                        .putExtra(\"PriorityID\", holder.priorityIDText?.text.toString())\n                        .putExtra(\"Remarks\", holder.strRemarks?.text.toString()))\n\n                // val activity = holder.itemView.getContext() as AppCompatActivity\n                // val fragment = CurrentTaskDetails()\n                // val arguments = Bundle()\n                // arguments.putString(\"Task_Name\", holder.tasknameText?.text.toString())\n                // arguments.putString(\"Responsibility_Name\", holder.respnameText?.text.toString())\n                // fragment.setArguments(arguments)\n                // activity.supportFragmentManager.beginTransaction().replace(R.id.daily_task_layout, fragment).addToBackStack(null).commit()\n\n            }\n\n        }\n\n        inner class RunningTaskViewHolder(v: View) : RecyclerView.ViewHolder(v), View.OnClickListener {\n            override fun onClick(v: View?) {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n\n            var running_task_Image: ImageView? = null\n            var tasknameText: TextView? = null\n            var respnameText: TextView? = null\n            var priorityIDText: TextView? = null\n            var TaskStatusText: TextView? = null\n            var RunningTaskCardView: CardView? = null\n            var PackageText: TextView? = null\n            var intTaskID: TextView? = null\n            var intTimeElapsed: TextView? = null\n            var intinitial_time_elapsed: TextView? = null\n            var strRemarks: TextView? = null\n\n\n            init {\n                this.tasknameText = v.findViewById(R.id.task_name_rt_format) as TextView\n                this.respnameText = v.findViewById(R.id.task_responsibilty_rt_format) as TextView\n                this.running_task_Image = v.findViewById(R.id.running_task_Image) as ImageView\n                this.priorityIDText = v.findViewById(R.id.priority_id_rt_format) as TextView\n                this.TaskStatusText = v.findViewById(R.id.task_status_rt) as TextView\n                this.PackageText = v.findViewById(R.id.task_package_rt_format) as TextView\n                this.RunningTaskCardView = v.findViewById(R.id.running_task_cardview) as CardView\n                this.intTaskID = v.findViewById(R.id.intTaskID) as TextView\n                this.intTimeElapsed = v.findViewById(R.id.intTimeElapsed) as TextView\n                this.intinitial_time_elapsed = v.findViewById(R.id.intinitial_time_elapsed) as TextView\n                this.strRemarks = v.findViewById(R.id.strRemarks) as TextView\n\n\n            }\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "multiplication"], "comments": [{"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 3, "creation_date": 1537183876, "post_id": 52366661, "comment_id": 91677604, "body": "The value <code>176362 * 1000000</code> does not fit in a 32-bit <code>Int</code> so you get integer overflow."}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 4, "last_activity_date": 1537183965, "creation_date": 1537183965, "answer_id": 52366770, "question_id": 52366661, "link": "https://stackoverflow.com/questions/52366661/kotlin-unexpected-value-for-2-int-multiplication/52366770#52366770", "title": "Kotlin: Unexpected value for 2 Int multiplication", "body": "<p>What you are experiencing is an <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">integer overflow</a>.</p>\n\n<p><code>Double.MAX_VALUE</code> is <code>1.7976931348623157E308</code>.</p>\n\n<p><code>Int.MAX_VALUE</code> is <code>2147483647</code>. Your number in the calculation (i.e. <code>176362000000</code>) exceeds that.</p>\n"}], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 52366770, "answer_count": 1, "score": 0, "last_activity_date": 1537183965, "creation_date": 1537183571, "last_edit_date": 1592644375, "question_id": 52366661, "link": "https://stackoverflow.com/questions/52366661/kotlin-unexpected-value-for-2-int-multiplication", "title": "Kotlin: Unexpected value for 2 Int multiplication", "body": "<p>I've written a function to round a value in billion, here is my code:</p>\n<pre><code>private fun roundBillion(value: Double): Int {\n    val a = (value / 1000000).toInt()\n    val res = a * 1000000\n    return res\n}\n</code></pre>\n<p>but when I execute the function I get an unexpected value in <code>res</code> variable. here is variables inspection when the break point is on return statement:</p>\n<blockquote>\n<p>value = 1.7636265135946954E11</p>\n<p>a = 176362</p>\n<p>res = 268340864</p>\n</blockquote>\n<p>I can't figure out where the problem is!</p>\n<p><a href=\"https://i.stack.imgur.com/o6rbw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o6rbw.png\" alt=\"Screen Shot\" /></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1537182975, "post_id": 52366481, "comment_id": 91677077, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-function.html\" rel=\"nofollow noreferrer\">Documentation</a> doesn&#39;t show any invoke() method, so yes, it is correct."}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1537183357, "last_edit_date": 1537183357, "creation_date": 1537182985, "answer_id": 52366511, "question_id": 52366481, "link": "https://stackoverflow.com/questions/52366481/functionunit-does-not-have-invoke-method/52366511#52366511", "title": "Function&lt;Unit&gt; does not have invoke method?", "body": "<p>What you are looking for is rather <code>Function0&lt;Unit&gt;</code> then.</p>\n\n<p>Note that all functions <code>Function0</code>, <code>Function1</code>, ... <code>FunctionN</code> extend from <code>Function</code>.</p>\n"}], "owner": {"reputation": 292, "user_id": 3540391, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b044997df81e424de2fd8d37ea9428c1?s=128&d=identicon&r=PG&f=1", "display_name": "Jacques Giraudel", "link": "https://stackoverflow.com/users/3540391/jacques-giraudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 52366511, "answer_count": 1, "score": 1, "last_activity_date": 1537183357, "creation_date": 1537182870, "question_id": 52366481, "link": "https://stackoverflow.com/questions/52366481/functionunit-does-not-have-invoke-method", "title": "Function&lt;Unit&gt; does not have invoke method?", "body": "<p>I want to use an anonymous function with no argument and without return type so I use <code>Function&lt;Unit&gt;</code> as type. When I want to call invoke() on it, the compiler says that the function cannot be invoked as a function and that the function invoke is not found. It works with <code>Function1&lt;Unit, Unit&gt;</code>.</p>\n\n<p>I use kotlin plugin 1.2.41.</p>\n\n<p>Is it normal ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1537182685, "post_id": 52366368, "comment_id": 91676927, "body": "I can&#39;t see any setTitle code in the above snippet for setting title to toobar"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1537182757, "post_id": 52366368, "comment_id": 91676962, "body": "@Nick, are you sure that your <b><code>toolbar</code></b> is not null ?"}, {"owner": {"reputation": 1829, "user_id": 1848157, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1M65m.jpg?s=128&g=1", "display_name": "Radhey", "link": "https://stackoverflow.com/users/1848157/radhey"}, "edited": false, "score": 0, "creation_date": 1537184633, "post_id": 52366368, "comment_id": 91678060, "body": "<code>if (toolbar != null) {         toolbar.title = (getActivityTitle() != null)      setSupportActionBar(toolbar) }</code> remove rest of the statement inside your if condition."}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1537185010, "post_id": 52366368, "comment_id": 91678291, "body": "@VivekMishra this.title = getActivityTitle(), and this = the actionbar"}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1537185944, "post_id": 52366368, "comment_id": 91678854, "body": "@JeelVankhede Yes it is not null"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1537186097, "post_id": 52366368, "comment_id": 91678948, "body": "@Nick Are you using kotlin extensions? if yes then can you tell me where your toolbar is loaded, is it in <code>BaseActivity</code> or in <code>ChildActivity</code>?"}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "edited": false, "score": 0, "creation_date": 1537187227, "post_id": 52366368, "comment_id": 91679611, "body": "Yes, it is loaded in the base activity and that was the intent in order to set the toolbar in one place. Also when as set the title on the child activity I have tried: supportActionBar.title, activity.title and (activity as BaseActivity).title...None of them worked."}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1537193846, "post_id": 52366368, "comment_id": 91684066, "body": "Can you show your <code>style.xml</code> file?"}], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537182910, "creation_date": 1537182460, "question_id": 52366368, "link": "https://stackoverflow.com/questions/52366368/change-baseactivity-toolbar-title-from-child-activity", "title": "Change BaseActivity&#39; Toolbar Title From Child Activity", "body": "<p>I have a BaseActivity which gets inherited from all the other child activities and in that BaseActivity I set the toolbar:</p>\n\n<pre><code>   override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(getLayoutId())\n\n        if (toolbar != null) {\n            setSupportActionBar(toolbar)\n            supportActionBar?.apply {\n                setDisplayShowTitleEnabled(getActivityTitle() != null)\n                setDisplayHomeAsUpEnabled(getActivityTitle() != null)\n                getActivityTitle()?.let {\n                    this.title = getActivityTitle()\n                }\n            }\n        }\n    }\n\n\nopen fun getActivityTitle(): String? = null\n</code></pre>\n\n<p>And on the ChildActitivy I have the following code:</p>\n\n<pre><code>    override fun getActivityTitle(): String? {\n        return getString(R.string.gen_everyone_is_watching)\n    }\n</code></pre>\n\n<p>Here is the layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.AppBarLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/toolbar_logo\"\n            android:layout_width=\"120dp\"\n            android:layout_height=\"wrap_content\"\n            android:adjustViewBounds=\"true\"\n            android:src=\"@drawable/ic_logo\" /&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p>The problem is that I can not display the title when I want to do that in a child activity and the only way I have found to display the title is to not set the toolbar on the BaseActivity. Have you encountered anything similar?</p>\n"}, {"tags": ["android", "xml", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1537181425, "post_id": 52365960, "comment_id": 91676211, "body": "Use a <code>StyleSpan(Typeface.BOLD)</code> and apply it to a <code>SpannableStringBuilder</code>?"}, {"owner": {"reputation": 753, "user_id": 3522327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f2b8b81b6ecfb144182ed8fcc270ac8?s=128&d=identicon&r=PG", "display_name": "JediBurrell", "link": "https://stackoverflow.com/users/3522327/jediburrell"}, "edited": false, "score": 0, "creation_date": 1537181567, "post_id": 52365960, "comment_id": 91676283, "body": "Can you post the <code>listadapter</code> code?"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1537181653, "post_id": 52365960, "comment_id": 91676332, "body": "Listadapter is updated"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1537181688, "post_id": 52365960, "comment_id": 91676355, "body": "Can you give an example @Michael, I am fairly new to kotlin."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 1, "creation_date": 1537182075, "post_id": 52365960, "comment_id": 91676593, "body": "This is solution, you will implement like this. <a href=\"https://stackoverflow.com/a/46390973/6891563\">stackoverflow.com/a/46390973/6891563</a>"}], "answers": [{"tags": [], "owner": {"reputation": 753, "user_id": 3522327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f2b8b81b6ecfb144182ed8fcc270ac8?s=128&d=identicon&r=PG", "display_name": "JediBurrell", "link": "https://stackoverflow.com/users/3522327/jediburrell"}, "is_accepted": true, "score": 1, "last_activity_date": 1537182044, "creation_date": 1537182044, "answer_id": 52366241, "question_id": 52365960, "link": "https://stackoverflow.com/questions/52365960/how-to-make-part-of-recycler-view-bold/52366241#52366241", "title": "How to make part of recycler View bold?", "body": "<p>In <code>onBindViewHolder</code>, where you're setting the text, you can use <code>SpannableStringBuilder</code> to bold the first letter:</p>\n\n<pre><code>holder?.haltestellenliste?.text = SpannableStringBuilder(items[position]).apply{\n    setSpan(StyleSpan(Typeface.BOLD), 0, 1, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 52366241, "answer_count": 1, "score": 0, "last_activity_date": 1537182044, "creation_date": 1537181097, "last_edit_date": 1537181638, "question_id": 52365960, "link": "https://stackoverflow.com/questions/52365960/how-to-make-part-of-recycler-view-bold", "title": "How to make part of recycler View bold?", "body": "<p>I have one EditText and one recyclerview. I add a List to my recyclerview and now I want to make the first letters bold of the recycleview. But I want to make only the letters bold which are written in my editText, so I cannot define it just in xml. How can I make part of my List in bold, like</p>\n\n<p><strong>Bo</strong>ld1</p>\n\n<p><strong>Bo</strong>ld2</p>\n\n<p>Here is my layout File:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".Abfahrtsmonitor\"&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText\"\n    android:layout_width=\"360dp\"\n    android:layout_height=\"47dp\"\n    android:ems=\"10\"\n    android:hint=\"Suche\"\n    android:inputType=\"textPersonName\"\n    tools:layout_editor_absoluteX=\"16dp\"\n    tools:layout_editor_absoluteY=\"7dp\" /&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/Recycleview\"\n    android:layout_width=\"370dp\"\n    android:layout_height=\"494dp\"\n    android:layout_marginEnd=\"4dp\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And here is part of my kotlin code:</p>\n\n<pre><code>class Abfahrtsmonitor : AppCompatActivity() {\n override fun onCreate(savedInstanceState: Bundle?) {\n super.onCreate(savedInstanceState)\n    setContentView(R.layout.abfahrtsmonitor)\n    Recycleview.layoutManager = LinearLayoutManager(this)\nHaltestellenEingabe_dummy.add(helpname)\nRecycleview.adapter = listadapter(HaltestellenEingabe_dummy, this)\n  var textview = findViewById&lt;TextView&gt;(R.id.editText)\n    textview.addTextChangedListener(object : TextWatcher {\n\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n        }\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n        }\n        override fun afterTextChanged(s: Editable) {\n            println(\"1\")\n            HaltestellenEingabe_dummy.clear()\n            for(i in 0..Haltestellen.size-1){\n                var inttext=0\n                var inteingabe=0\n                if(textview.text.toString()==Haltestellen[i].subSequence(0,textview.length()).toString()){     //If the same letters are used\n                    HaltestellenEingabe_dummy.add(Haltestellen[i]) // Here I would like to define the layout of my Segments.\n                }\n            }\n            Recycleview.adapter.notifyDataSetChanged()\n        }\n    })\n</code></pre>\n\n<p>Here the ListAdapter:</p>\n\n<pre><code>class listadapter(val items : ArrayList&lt;String&gt;, val context: Context) : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\n// Gets the number of animals in the list\noverride fun getItemCount(): Int {\n    return items.size\n}\n\n// Inflates the item views\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    return     ViewHolder(LayoutInflater.from(context).inflate(R.layout.listviewfile, parent, false))\n}\n\n// Binds each animal in the ArrayList to a view\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder?.haltestellenliste?.text = items.get(position)\n}\n}\nclass ViewHolder (view: View) : RecyclerView.ViewHolder(view) {\n// Holds the TextView that will add each animal to\nval haltestellenliste = view.aufzaehlunghaltestellen\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1537176010, "post_id": 52364340, "comment_id": 91673011, "body": "you have to pass the <code>::class.java</code> like <code>MainActivity::class.java</code> to the function, the parameter can be <code>theIntent: Class&lt;*&gt;</code>"}, {"owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1537177677, "post_id": 52364340, "comment_id": 91674088, "body": "Please add this as an answer so I can credit you for the answer."}, {"owner": {"reputation": 753, "user_id": 3522327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f2b8b81b6ecfb144182ed8fcc270ac8?s=128&d=identicon&r=PG", "display_name": "JediBurrell", "link": "https://stackoverflow.com/users/3522327/jediburrell"}, "edited": false, "score": 0, "creation_date": 1537178830, "post_id": 52364340, "comment_id": 91674862, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity\">Kotlin Android start new activity</a>"}, {"owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "edited": false, "score": 0, "creation_date": 1537181966, "post_id": 52364340, "comment_id": 91676529, "body": "No, that question is sending the intent to a method.  Plus it is adding a <code>.putExtra</code> to the intent.  Not at all the same thing."}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "is_accepted": false, "score": 0, "last_activity_date": 1537182094, "creation_date": 1537182094, "answer_id": 52366259, "question_id": 52364340, "link": "https://stackoverflow.com/questions/52364340/starting-a-intent-programmatically-in-kotlin/52366259#52366259", "title": "Starting a intent programmatically in Kotlin", "body": "<p>Here's the proper code tha works in Kotlin:</p>\n\n<pre><code>if (userInfo?.isEmailVerified == false) {\n                                        startIntent(ResendEmailVerification::class.java)\n                                    } else {\n                                        if (userInfo?.displayName != null) {\n                                            startIntent(MainActivity::class.java)\n                                        } else {\n                                            startIntent(NewUserLayoutProfile::class.java)\n                                        }\n                                    }\n</code></pre>\n\n<p>And</p>\n\n<pre><code>private fun startIntent (theIntent: Class&lt;*&gt;) {\n\n            val i = Intent(this, theIntent)\n            startActivity(i)\n    }\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1537184923, "creation_date": 1537175628, "last_edit_date": 1537184923, "question_id": 52364340, "link": "https://stackoverflow.com/questions/52364340/starting-a-intent-programmatically-in-kotlin", "title": "Starting a intent programmatically in Kotlin", "body": "<p>I'm trying to send a user to an activity based off of if their email is verified and then if they have a username.  My code looks like this so far:</p>\n\n<pre><code>if (isEmailVerified == true) {                                                    \n    if (user.displayName == null) {                                                        \n        startIntent(NewUserLayoutProfile)\n        } else {\n         startIntent(MainActivity)\n    }\n}\nif (isEmailVerified == false) {                                                    \nstartIntent(ResendEmailVerification)\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>private fun startIntent (theIntent: Activity) {\n\n            val i = Intent(this, theIntent::class.java)\n            startActivity(i)\n    }\n</code></pre>\n\n<p>How do I pass across the activity?  I tried passing it as a String and that didn't work.  What am I doing wrong here?</p>\n"}, {"tags": ["spring", "kotlin", "spring-batch"], "answers": [{"tags": [], "owner": {"reputation": 16703, "user_id": 5019386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18b9001fd20c1e089d19f4a1e994bcdc?s=128&d=identicon&r=PG", "display_name": "Mahmoud Ben Hassine", "link": "https://stackoverflow.com/users/5019386/mahmoud-ben-hassine"}, "is_accepted": true, "score": 1, "last_activity_date": 1537180314, "creation_date": 1537180314, "answer_id": 52365730, "question_id": 52363472, "link": "https://stackoverflow.com/questions/52363472/spring-batch-two-steps-with-one-decider/52365730#52365730", "title": "Spring Batch two Steps with one Decider", "body": "<p>You need to define the flow starting from <code>validateCsvHeaderStep</code> to the decider on <code>COMPLETED</code> like follows:</p>\n\n<pre><code>.start(validateCsvHeaderStep)\n.on(ExitStatus.COMPLETED.exitCode).to(processCsvStep)\n.from(validateCsvHeaderStep)on(\"*\").to(decider())\n</code></pre>\n\n<blockquote>\n  <p>here are two steps that can fail validateCsvHeaderStep and processCsvStep. I would like to have a flow when error in processing will go to markCsvAsFailedStep and moveFailedCsvStep, but when everything works fine it should go to moveCsvStep.</p>\n</blockquote>\n\n<p>Here is an example:</p>\n\n<pre><code>import org.springframework.batch.core.ExitStatus;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.repeat.RepeatStatus;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class MyJob {\n\n    @Autowired\n    private JobBuilderFactory jobs;\n\n    @Autowired\n    private StepBuilderFactory steps;\n\n    @Bean\n    public Step validateCsvHeaderStep() {\n        return steps.get(\"validateCsvHeaderStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"validateCsvHeaderStep\");\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n\n    @Bean\n    public Step processCsvStep() {\n        return steps.get(\"processCsvStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"processCsvStep\");\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n\n    @Bean\n    public Step markCsvAsFailedStep() {\n        return steps.get(\"markCsvAsFailedStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"markCsvAsFailedStep\");\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n\n    @Bean\n    public Step moveFailedCsvStep() {\n        return steps.get(\"moveFailedCsvStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"moveFailedCsvStep\");\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n\n    @Bean\n    public Step moveCsvStep() {\n        return steps.get(\"moveCsvStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"moveCsvStep\");\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n\n    @Bean\n    public Job job() {\n\n        return jobs.get(\"job\")\n                .flow(validateCsvHeaderStep())\n                    .on(ExitStatus.FAILED.getExitCode()).to(markCsvAsFailedStep())\n                    .from(validateCsvHeaderStep()).on(\"*\").to(processCsvStep())\n\n                    .from(processCsvStep()).on(ExitStatus.FAILED.getExitCode()).to(markCsvAsFailedStep())\n                    .from(processCsvStep()).on(\"*\").to(moveCsvStep())\n\n                    .from(markCsvAsFailedStep()).on(\"*\").to(moveFailedCsvStep())\n\n                    .from(moveFailedCsvStep()).end()\n                    .build();\n    }\n\n    public static void main(String[] args) throws Exception {\n        ApplicationContext context = new AnnotationConfigApplicationContext(MyJob.class);\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\n        Job job = context.getBean(Job.class);\n        jobLauncher.run(job, new JobParameters());\n    }\n\n}\n</code></pre>\n\n<p>it prints:</p>\n\n<pre><code>validateCsvHeaderStep\nprocessCsvStep\nmoveCsvStep\n</code></pre>\n\n<p>If for example <code>validateCsvHeaderStep</code> fails:</p>\n\n<pre><code>    @Bean\n    public Step validateCsvHeaderStep() {\n        return steps.get(\"validateCsvHeaderStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"validateCsvHeaderStep\");\n                    chunkContext.getStepContext().getStepExecution().setExitStatus(ExitStatus.FAILED);\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n</code></pre>\n\n<p>It prints:</p>\n\n<pre><code>validateCsvHeaderStep\nmarkCsvAsFailedStep\nmoveFailedCsvStep\n</code></pre>\n\n<p>If <code>processCsvStep</code> fails:</p>\n\n<pre><code>    @Bean\n    public Step processCsvStep() {\n        return steps.get(\"processCsvStep\")\n                .tasklet((contribution, chunkContext) -&gt; {\n                    System.out.println(\"processCsvStep\");\n                    chunkContext.getStepContext().getStepExecution().setExitStatus(ExitStatus.FAILED);\n                    return RepeatStatus.FINISHED;\n                })\n                .build();\n    }\n</code></pre>\n\n<p>it prints:</p>\n\n<pre><code>validateCsvHeaderStep\nprocessCsvStep\nmarkCsvAsFailedStep\nmoveFailedCsvStep\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "accepted_answer_id": 52365730, "answer_count": 1, "score": 0, "last_activity_date": 1607430054, "creation_date": 1537172288, "last_edit_date": 1607430054, "question_id": 52363472, "link": "https://stackoverflow.com/questions/52363472/spring-batch-two-steps-with-one-decider", "title": "Spring Batch two Steps with one Decider", "body": "<p>I'm having following job:</p>\n\n<pre><code>@Bean\nfun createCsvJob(\n    jobs: JobBuilderFactory,\n    validateCsvHeaderStep: Step,\n    processCsvStep: Step,\n    moveCsvStep: Step,\n    markCsvAsFailedStep: Step,\n    moveFailedCsvStep: Step\n) = jobs.get(PROCESS_CSV_JOB)\n    .start(validateCsvHeaderStep)\n    .next(processCsvStep)\n    .on(\"*\").to(decider())\n    .from(decider()).on(ExitStatus.COMPLETED.exitCode).to(moveCsvStep)\n    .from(decider()).on(ExitStatus.FAILED.exitCode).to(markCsvAsFailedStep).next(moveFailedCsvStep)\n    .build()\n    .build()!!\n</code></pre>\n\n<p>There are two steps that can fail <code>validateCsvHeaderStep</code> and <code>processCsvStep</code>. I would like to have a flow when error in processing will go to <code>markCsvAsFailedStep</code> and <code>moveFailedCsvStep</code>, but when everything works fine it should go to <code>moveCsvStep</code>.</p>\n\n<p>Currently if <code>validateCsvHeaderStep</code> fails, the whole job fails.</p>\n\n<p>When I try to add decider like this:</p>\n\n<pre><code>    .start(validateCsvHeaderStep)\n    .on(ExitStatus.FAILED.exitCode).to(decider())\n    .on(ExitStatus.COMPLETED.exitCode).to(processCsvStep)\n    .on(\"*\").to(decider())\n    .from(decider()).on(ExitStatus.COMPLETED.exitCode).to(moveCsvStep)\n    .from(decider()).on(ExitStatus.FAILED.exitCode).to(markCsvAsFailedStep).next(moveFailedCsvStep)\n</code></pre>\n\n<p>I'm getting:</p>\n\n<p><code>Next state not found in flow=myJob for state=myJob.validateCsvStep with exit status=COMPLETED</code></p>\n\n<p>Is there a way to achieve error handling for both steps without duplicating logic?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1537172435, "creation_date": 1537172435, "answer_id": 52363510, "question_id": 52363312, "link": "https://stackoverflow.com/questions/52363312/how-can-i-stop-kotlin-creating-multiple-overloaded-java-methods-out-of-one-kotli/52363510#52363510", "title": "How can I stop Kotlin creating multiple overloaded Java methods out of one Kotlin function with optional parameters", "body": "<p>For such a function, if you don't use the <code>@JvmOverloads</code> annotation, Kotlin creates exactly two methods, regarding of the number of optional parameters. One method has the regular signature, and another one additionally accepts a bit mask of parameters that have been passed. There is no way to avoid creating multiple methods. </p>\n\n<p>What I would do in this case is simply create two separate functions, \"when trying to login or register without email\" and \"when trying to login or register with email address &lt;email&gt;\".</p>\n"}], "owner": {"reputation": 1163, "user_id": 869377, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51e996a9ff96df8f3b977c6519af490d?s=128&d=identicon&r=PG", "display_name": "nepa", "link": "https://stackoverflow.com/users/869377/nepa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 52363510, "answer_count": 1, "score": 1, "last_activity_date": 1537172435, "creation_date": 1537171681, "question_id": 52363312, "link": "https://stackoverflow.com/questions/52363312/how-can-i-stop-kotlin-creating-multiple-overloaded-java-methods-out-of-one-kotli", "title": "How can I stop Kotlin creating multiple overloaded Java methods out of one Kotlin function with optional parameters", "body": "<p>I have a function with annotations like that in my code:</p>\n\n<pre><code>@When(\"^trying to login or register with email address \\\"([^\\\"]*)\\\"$\")\nfun whenLoginOrRegister(email: String? = null) {\n    email?.let { user.email = it }\n    loginViewModel.whenLoggingIn()\n}\n</code></pre>\n\n<p>What Kotlin does here is that it creates two or more overloads of the function depending on the number of optional parameters. How can I force Kotlin to just create one method instead of multiple? The optimum would be to just have one method which simply accepts <code>null</code>.</p>\n\n<p>Background: I use Cucumber and it searches for these annotated functions by means of reflexion. But two functions with the same annotation lead to an exception as there are no ambiguities allowed. If I can't force Kotlin to create multiple methods, maybe there is a different workaround that can help in this situation?</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 4330, "user_id": 6271180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEiRn.png?s=128&g=1", "display_name": "Benoit", "link": "https://stackoverflow.com/users/6271180/benoit"}, "edited": false, "score": 0, "creation_date": 1537170451, "post_id": 52362994, "comment_id": 91670126, "body": "Can you show the code of your espresso test ?"}, {"owner": {"reputation": 9, "user_id": 10373759, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oaqizxB0yWM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNRfS-AEj_7ew8lrryPPxHl-SpXKg/mo/photo.jpg?sz=128", "display_name": "Tariful Islam", "link": "https://stackoverflow.com/users/10373759/tariful-islam"}, "reply_to_user": {"reputation": 4330, "user_id": 6271180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEiRn.png?s=128&g=1", "display_name": "Benoit", "link": "https://stackoverflow.com/users/6271180/benoit"}, "edited": false, "score": 0, "creation_date": 1537170788, "post_id": 52362994, "comment_id": 91670316, "body": "val noOfItem = getCountFromRecyclerView(R.id.RecyclerView)         for (i in 0 until noOfItem) {             val RowValues=getText(onView(getElementFromMatchAtPosition(withI&zwnj;&#8203;d(R.id.rowNumber), i))) }       where getCountFromRecyclerView method is to get the count from recyclerView and Its returning 25"}, {"owner": {"reputation": 9, "user_id": 10373759, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oaqizxB0yWM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNRfS-AEj_7ew8lrryPPxHl-SpXKg/mo/photo.jpg?sz=128", "display_name": "Tariful Islam", "link": "https://stackoverflow.com/users/10373759/tariful-islam"}, "reply_to_user": {"reputation": 4330, "user_id": 6271180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TEiRn.png?s=128&g=1", "display_name": "Benoit", "link": "https://stackoverflow.com/users/6271180/benoit"}, "edited": false, "score": 0, "creation_date": 1537265473, "post_id": 52362994, "comment_id": 91712344, "body": "Hi Team...Any updates on the above question"}], "answers": [{"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": false, "score": 0, "last_activity_date": 1537347995, "creation_date": 1537347995, "answer_id": 52402119, "question_id": 52362994, "link": "https://stackoverflow.com/questions/52362994/how-to-get-the-values-from-the-recyclerview-using-espresso/52402119#52402119", "title": "How to get the values from the RecyclerView using Espresso", "body": "<p>You need to remember how <code>RecyclerView</code> really works. It optimizes showing scrollable elements, by displaying only items that are currently within the visible range. </p>\n\n<p>In other words: <em>before you scroll to items below, they are no <code>Views</code> within the <code>RecyclerView</code> to represent those items. Just the data in the <code>Adapter</code>.</em></p>\n\n<p>So the way you should be probably doing your test is to:</p>\n\n<ol>\n<li>Verify proper state of currently visible items.</li>\n<li>Scroll the <code>RecyclerView</code> (using one of the <a href=\"https://developer.android.com/reference/android/support/test/espresso/contrib/RecyclerViewActions\" rel=\"nofollow noreferrer\"><code>RecyclerViewActions.scrollTo</code></a> methods)</li>\n<li>Verify proper state of currently visible items.</li>\n<li>Scroll the <code>RecyclerView</code>.</li>\n<li>...</li>\n</ol>\n"}], "owner": {"reputation": 9, "user_id": 10373759, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oaqizxB0yWM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNRfS-AEj_7ew8lrryPPxHl-SpXKg/mo/photo.jpg?sz=128", "display_name": "Tariful Islam", "link": "https://stackoverflow.com/users/10373759/tariful-islam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537347995, "creation_date": 1537170308, "question_id": 52362994, "link": "https://stackoverflow.com/questions/52362994/how-to-get-the-values-from-the-recyclerview-using-espresso", "title": "How to get the values from the RecyclerView using Espresso", "body": "<p>I want to get the all values from the RecyclerView using Espresso. I am able to get only the visible values from the recyclerView. But not able to get the values which are visible when scrolling.\nEx. In RecyclerView 25 items are there and Only 7 items are visible. Others are visible when we scroll it. I am able to get the values of 7 items. But want to get all the values\nCan Anyone please tell me how to get this</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2754, "user_id": 9134576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nIuMX.jpg?s=128&g=1", "display_name": "Letsintegreat", "link": "https://stackoverflow.com/users/9134576/letsintegreat"}, "is_accepted": true, "score": 2, "last_activity_date": 1537168071, "last_edit_date": 1537168071, "creation_date": 1537167530, "answer_id": 52362317, "question_id": 52362237, "link": "https://stackoverflow.com/questions/52362237/getting-an-unresolved-reference-firebaseerror/52362317#52362317", "title": "Getting an unresolved reference: FirebaseError", "body": "<p>Just change <code>FirebaseError</code> to <code>DatabaseError</code>. And make sure that auto-import is enabled.</p>\n\n<p>Then your problem will be eradicated!</p>\n"}], "owner": {"reputation": 75, "user_id": 10241794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df61e46078bf01964abf7a898a592abc?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff McBride", "link": "https://stackoverflow.com/users/10241794/jeff-mcbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 52362317, "answer_count": 1, "score": 0, "last_activity_date": 1537168723, "creation_date": 1537167219, "last_edit_date": 1537168723, "question_id": 52362237, "link": "https://stackoverflow.com/questions/52362237/getting-an-unresolved-reference-firebaseerror", "title": "Getting an unresolved reference: FirebaseError", "body": "<p>Here is my code:</p>\n\n<pre><code>override fun onCancelled(firebaseError: FirebaseError) {}\n</code></pre>\n\n<p>I am getting <code>unresolved reference: FirebaseError</code>  </p>\n\n<p>I am importing:</p>\n\n<pre><code>import com.google.firebase.database.DataSnapshot\nimport com.google.firebase.database.ValueEventListener\n</code></pre>\n\n<p>Here's the full code:</p>\n\n<pre><code>usernameDatabase.child(username).addListenerForSingleValueEvent(object : ValueEventListener {\n                override fun onDataChange(snapshot: DataSnapshot) {\n                    if (snapshot.exists()) {\n                        // TODO: handle the case where the data already exists\n                    } else {\n                        // TODO: handle the case where the data does not yet exist\n                    }\n                }\n\n                override fun onCancelled(firebaseError: FirebaseError) {}\n            })\n</code></pre>\n\n<p>This is written in Kotlin</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1537165561, "post_id": 52361839, "comment_id": 91667889, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9886266/is-there-a-way-to-instantiate-a-class-by-name-in-java\">Is there a way to instantiate a class by name in Java?</a>."}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1537166041, "post_id": 52361839, "comment_id": 91668080, "body": "@Tim Same error nothing works, i got thus error &quot; Caused by: java.lang.ClassNotFoundException: Invalid name: com.crypto.wallet.data.AppDatabase_Impl@1056420&quot; i tried ths way  &quot; val kClass = Class.forName(appDatabase1)   val object1 = kClass.newInstance() as AppDatabase&quot;"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1537166364, "post_id": 52361839, "comment_id": 91668204, "body": "You would need to use just the fully qualified class name, that is <code>com.crypto.wallet.data.AppDatabase_Impl</code>."}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1537166733, "post_id": 52361839, "comment_id": 91668364, "body": "my fully qualtfied class path name is &quot;com.crypto.wallet.data.AppDatabase&quot; here where i can pass my string value for converting my string value to class type??"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537181387, "post_id": 52361839, "comment_id": 91676198, "body": "what are you trying to accomplish exactly?"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537184852, "post_id": 52361839, "comment_id": 91678186, "body": "@Roland I need to pass the values to Main.kt to activityTwo.kt so here i use ShardPref for handling the data. Above the values are not String type so i need to convert this to string values and pass to ActivityTwo.kt class.  Important: ActivityTwo.kt file have a one method, it will support args types are ClassA,ClassB, and ClassC  e.g for  MyFunctionSample(ClassA,ClassB,ClassC)  but i have a values in String Type so i need to convert the type to String to ClassA type. Here is i struck."}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1537187759, "post_id": 52361839, "comment_id": 91679950, "body": "Any one guide me plz"}, {"owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "edited": false, "score": 0, "creation_date": 1550611804, "post_id": 52361839, "comment_id": 96330457, "body": "I don&#39;t understand what you&#39;re requirements are. It would be helpful if you could share information about what you&#39;re trying to achieve here."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1537166550, "post_id": 52361936, "comment_id": 91668297, "body": "my class name is &quot;com.crypto.wallet.data.AppDatabase&#39;i tried this but not wkkroing i got error found Class&lt;*&gt; any but required Appdatabase"}], "tags": [], "owner": {"reputation": 154, "user_id": 7610711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c01fb5924a6162a6c38b936834d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrahim", "link": "https://stackoverflow.com/users/7610711/ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1537165964, "creation_date": 1537165964, "answer_id": 52361936, "question_id": 52361839, "link": "https://stackoverflow.com/questions/52361839/how-to-convert-a-string-to-class-type-in-kotlin/52361936#52361936", "title": "How to convert a string to class type in Kotlin?", "body": "<p>You can use this:</p>\n\n<pre><code>val classType = Class.forName(\"packageName.class\")\n</code></pre>\n\n<p>in your case </p>\n\n<pre><code>val classType = Class.forName(\"com.crypto.wallet.data.AppDatabase_Impl\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1550328348, "creation_date": 1550328348, "answer_id": 54724252, "question_id": 52361839, "link": "https://stackoverflow.com/questions/52361839/how-to-convert-a-string-to-class-type-in-kotlin/54724252#54724252", "title": "How to convert a string to class type in Kotlin?", "body": "<pre><code>val str = \"com.crypto.wallet.data.AppDatabase_Impl@14731a42\"\n</code></pre>\n\n<p>For my common understanding to Java (yes, Java, not Kotlin), this implies:</p>\n\n<ul>\n<li>There is an interface or abstract class <code>com.crypto.wallet.data.AppDatabase</code>,</li>\n<li>There is a non-static non-abstract class <code>com.crypto.wallet.data.AppDatabase_Impl</code> which <code>implements</code> <code>com.crypto.wallet.data.AppDatabase</code>,</li>\n<li>There is an instance of <code>com.crypto.wallet.data.AppDatabase_Impl</code> that called something, with a \"hashcode\" <code>14731a42</code> (this hashcode is meaningless for most time).</li>\n<li>Neither this interface nor this implementation has <code>@Override</code> the <code>toString()</code> call.</li>\n<li>When called <code>toString()</code> on this \"something\" object, it <em>happens</em> to be <code>\"com.crypto.wallet.data.AppDatabase_Impl@14731a42\"</code></li>\n</ul>\n\n<p>This results to the <code>val str</code> mentioned in the original question.</p>\n\n<p>There maybe some important content inside this instance, however it is <strong>missing</strong> if you call <code>toString()</code> directly.</p>\n\n<p>To achieve your target, you should better implement a serializer and deserializer for your \"AppDatabase\" data structure, an easy way is to use JSON.</p>\n"}], "owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2935, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550328348, "creation_date": 1537165408, "last_edit_date": 1537185542, "question_id": 52361839, "link": "https://stackoverflow.com/questions/52361839/how-to-convert-a-string-to-class-type-in-kotlin", "title": "How to convert a string to class type in Kotlin?", "body": "<p>I want to convert this string into <code>AppDatabase</code> type, I tried this <code>Class.forName()</code> but this is not working properly.</p>\n\n<pre><code>val str = \"com.crypto.wallet.data.AppDatabase_Impl@14731a42\"\n</code></pre>\n\n<p>my class path is \"<strong>com.crypto.wallet.data.AppDatabase</strong>\"</p>\n\n<p>I am new to Kotlin environment, please guide me.</p>\n\n<p><strong>Foot Note:</strong></p>\n\n<blockquote>\n  <p>I need to pass the values to Main.kt to activityTwo.kt so here i use ShardPref for handling the data. Above the values are not String type so i need to convert this to string values and pass to ActivityTwo.kt class. Important: ActivityTwo.kt file have a one method, it will support args types are ClassA,ClassB, and ClassC e.g for MyFunctionSample(ClassA,ClassB,ClassC) but i have a values in String Type so i need to convert the type to String to ClassA type. Here is i struck.</p>\n</blockquote>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1537158826, "post_id": 52360787, "comment_id": 91665884, "body": "Please tag your question with the language."}, {"owner": {"reputation": 87, "user_id": 8489399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23532d581d2719292c44d23f00846519?s=128&d=identicon&r=PG&f=1", "display_name": "\uae40\ud0dc\ud615", "link": "https://stackoverflow.com/users/8489399/%ea%b9%80%ed%83%9c%ed%98%95"}, "reply_to_user": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1537158880, "post_id": 52360787, "comment_id": 91665897, "body": "sorry, now added tag"}, {"owner": {"reputation": 971, "user_id": 9976846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uxw7E.png?s=128&g=1", "display_name": "Nambi_0915", "link": "https://stackoverflow.com/users/9976846/nambi-0915"}, "edited": false, "score": 0, "creation_date": 1537159210, "post_id": 52360787, "comment_id": 91665963, "body": "Why using <code>text.split()</code>.Try <code>urlMatcher.find(text)</code>"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1537159214, "post_id": 52360787, "comment_id": 91665967, "body": "<i>It is not working well</i> isn&#39;t an informative statement. Please show us what you get from that lines of code."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1537170085, "post_id": 52360787, "comment_id": 91669963, "body": "maybe you rather want a parser instead e.g. something like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">jsoup</a>..."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8489399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23532d581d2719292c44d23f00846519?s=128&d=identicon&r=PG&f=1", "display_name": "\uae40\ud0dc\ud615", "link": "https://stackoverflow.com/users/8489399/%ea%b9%80%ed%83%9c%ed%98%95"}, "edited": false, "score": 1, "creation_date": 1537159768, "post_id": 52360871, "comment_id": 91666090, "body": "but, I want to find string that&#39;s inside double quotes, so I used urlMatcher.find(text)?.groupValues?.getOrNull(0) statement."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 5, "last_activity_date": 1537159367, "creation_date": 1537159367, "answer_id": 52360871, "question_id": 52360787, "link": "https://stackoverflow.com/questions/52360787/how-to-match-string-in-double-quotes-in-kotlin-by-regex/52360871#52360871", "title": "how to match string in double quotes in kotlin by regex", "body": "<p>Use parenthesis to group a certain part of regex matched text:</p>\n\n<pre><code>val urlMatcher = \"\\\"(.+)\\\"\".toRegex()\n</code></pre>\n\n<p>And then use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html\" rel=\"noreferrer\"><code>find</code></a> to extract text matching your regex from a string like so:</p>\n\n<pre><code>urlMatcher.find(text)?.groupValues?.getOrNull(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 0, "last_activity_date": 1537181897, "last_edit_date": 1537181897, "creation_date": 1537181037, "answer_id": 52365939, "question_id": 52360787, "link": "https://stackoverflow.com/questions/52360787/how-to-match-string-in-double-quotes-in-kotlin-by-regex/52365939#52365939", "title": "how to match string in double quotes in kotlin by regex", "body": "<p>You may use</p>\n\n<pre><code>val page1 = \"&lt;a href=\\\"http://weqweqwewqewqeqwe\\\"&gt;\"\nval urlMatcher = \"\\\"([^\\\"]*)\\\"\".toRegex()\n// Or, you may reduce escaping with a triple-quoted string literal:\n// val urlMatcher = \"\"\"\"([^\"]*)\"\"\"\".toRegex()\nprintln(urlMatcher.find(page1)?.value)  // =&gt; \"http://weqweqwewqewqeqwe\"\nprintln(urlMatcher.find(page1)?.groupValues?.getOrNull(1)) // =&gt; http://weqweqwewqewqeqwe\n</code></pre>\n\n<p>See the <a href=\"http://rextester.com/HBY96805\" rel=\"nofollow noreferrer\">Kotlin demo</a>. Note the <code>Regex#find(String)</code> syntax. After you get a match, <code>.value</code> will fetch you the whole match value (no need of <code>.groupValues?.getOrNull(0)</code>) and <code>.groupValues?.getOrNull(1)</code> will fetch the value inside Group 1.</p>\n\n<p>The <code>\"([^\"]*)\"</code> pattern matches a <code>\"</code>, then  captures 1 or more chars other than <code>\"</code> into Group 1 (with <code>[^\"]*</code>) and then matches the closing double quotation mark.</p>\n\n<p>Whenever you need to match a <code>\"...\"</code> substring that may contain <strong>escaped double quotes</strong> use</p>\n\n<pre><code>val urlMatcher = \"\"\"(?s)(?&lt;!\\\\)(?:\\\\{2})*(\"[^\\\\\"]*(?:\\\\.[^\"\\\\]*)*\")\"\"\".toRegex()\n</code></pre>\n\n<p>To capture just the substring between double quotes move the capturing parentheses as shown below:</p>\n\n<pre><code>\"\"\"(?s)(?&lt;!\\\\)(?:\\\\{2})*\"(([^\\\\\"]*(?:\\\\.[^\"\\\\]*)*))\"\"\"\"\n                         ^                        ^\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/zb9oNQ/1\" rel=\"nofollow noreferrer\">this regex demo</a>. </p>\n\n<p><strong>Pattern details</strong></p>\n\n<ul>\n<li><code>(?s)</code> - a <code>.</code> now matches any char</li>\n<li><code>(?&lt;!\\\\)</code> - no <code>\\</code> char can be present immediately to the left of the current position</li>\n<li><code>(?:\\\\{2})*</code> - 0 or more sequences of double backslashes (thus, all escaped quotes will get ignored)</li>\n<li><code>\"</code>  - a double quote</li>\n<li><code>([^\\\\\"]*(?:\\\\.[^\"\\\\]*)*)</code> - Capturing group 1:\n\n<ul>\n<li><code>[^\\\\\"]*</code> - 0+ chars other than <code>\\</code> and <code>\"</code></li>\n<li><code>(?:\\\\.[^\"\\\\]*)*</code> - 0+ occurrences of\n\n<ul>\n<li><code>\\\\.</code> - a <code>\\</code> followed with any char</li>\n<li><code>[^\\\\\"]*</code> - 0+ chars other than <code>\\</code> and <code>\"</code></li>\n</ul></li>\n</ul></li>\n<li><code>\"</code> - a double quote.</li>\n</ul>\n"}], "owner": {"reputation": 87, "user_id": 8489399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23532d581d2719292c44d23f00846519?s=128&d=identicon&r=PG&f=1", "display_name": "\uae40\ud0dc\ud615", "link": "https://stackoverflow.com/users/8489399/%ea%b9%80%ed%83%9c%ed%98%95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2414, "favorite_count": 0, "accepted_answer_id": 52360871, "answer_count": 2, "score": 2, "last_activity_date": 1537181897, "creation_date": 1537158670, "last_edit_date": 1537159364, "question_id": 52360787, "link": "https://stackoverflow.com/questions/52360787/how-to-match-string-in-double-quotes-in-kotlin-by-regex", "title": "how to match string in double quotes in kotlin by regex", "body": "<hr>\n\n<p>I want to find string that's inside double quotes.</p>\n\n<pre><code>text : &lt;a href = \"http://weqweqwewqewqeqwe\"&gt;\n\nexpected : http://weqweqwewqewqeqwe\n</code></pre>\n\n<p>how to get string using regex.</p>\n\n<pre><code>val page1 = \"&lt;a href=\\\"http://weqweqwewqewqeqwe\\\"&gt;\"\nval urlMatcher = \"\\\".+\\\"\".toRegex()\nprintln(page1.split(urlMatcher))\n</code></pre>\n\n<p>above code is my thinking. but, It is not working well. </p>\n"}, {"tags": ["java", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537185127, "post_id": 52366177, "comment_id": 91678365, "body": "Thanks for the answer @msrd0. I did what you said on step 1 and for my surprise it seems now I am using Kotlin 1.2 (at least the <code>arrayOf</code> method is working now). So just to get things right: I am now using Kotlin Compiler 1.1.1 (<code>kotlin-gradle-plugin</code>) to compile kotlin 1.2 language to Java 6. Is that it? If so, what would be different if I could use <code>kotlin-gradle-plugin 1.2.70</code>? Maybe optimized code?"}, {"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537185157, "post_id": 52366177, "comment_id": 91678386, "body": "Im asking all of this because I want to know what kind of problem I may run into for using <code>kotlin-gradle-plugin 1.1.1</code>... Thanks again!"}], "tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": false, "score": 2, "last_activity_date": 1537181823, "creation_date": 1537181823, "answer_id": 52366177, "question_id": 52359686, "link": "https://stackoverflow.com/questions/52359686/configure-gradle-for-kotlin-with-java-1-7/52366177#52366177", "title": "Configure Gradle for Kotlin with Java 1.7", "body": "<ol>\n<li><p>Kotlin can target either Java 6 or Java 8 and I don't think this has changed. However, it is quite likely that the default has changed from Java 6 to Java 8, so try as <a href=\"https://stackoverflow.com/a/42276271/3755692\">suggested here</a>:</p>\n\n<pre><code>compileKotlin {\n    sourceCompatibility = JavaVersion.VERSION_1_6\n    targetCompatibility = JavaVersion.VERSION_1_6\n\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n        apiVersion = \"1.2\"\n        languageVersion = \"1.2\"\n    }\n}\n</code></pre></li>\n<li><p>The version of <code>kotlin-gradle-plugin</code> is the version of the Kotlin compiler used to compile your code. The version of the stdlib is the version of your runtime library. It is highly recommended to use the same version here.</p></li>\n<li><p>The <code>apply plugin: kotlin</code> adds some tasks under the hood - just continue using the java tasks like <code>gradle assemble</code>, <code>gradle build</code> and <code>gradle run</code> as they will invoke the kotlin specific tasks</p></li>\n<li><p><code>kotlin-stdlib-jdk7</code> adds very little value - unless you use features of the java library that were introduced in java 7 <strong>and</strong> that have extensions from Kotlin's stdlib, you'll be fine to just use the default stdlib (which targets Java 6 and is a dependency of <code>kotlin-stdlib-jdk7</code> anyways).</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537314501, "post_id": 52395624, "comment_id": 91736941, "body": "Thanks for the answer Ilya! If I understood right, like this I can use lastest version of <code>kotlin-gradle-plugin</code>, right? I just need to run it with Java 8 Will do some testing! Thanks!"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537370821, "post_id": 52395624, "comment_id": 91762382, "body": "@Jo&#227;oMenighin Yes, you can and should use the latest Kotlin Gradle plugin version with such setup."}, {"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537377209, "post_id": 52395624, "comment_id": 91765757, "body": "I think I made it. Being new to gradle I didnt knew the power of <code>targetCompatibility</code> and etc. Basically I set them to <code>1.7</code> and the kotlin target to <code>1.6</code>. Checking the <code>.class</code>es generated, I can see they are compatible with Java 7. My point is: I didnt set the JDK7 anywhere. I used the JDK8 to compile to Java 7. I also didnt set up that fork option of yours. It seems to be working everything... Do you think its necessery to set the jdkHome to java 7?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537382166, "post_id": 52395624, "comment_id": 91768147, "body": "Yes, you should set <code>jdkHome</code>, otherwise you risk using JDK 8 APIs accidentally and that will crash in runtime."}, {"owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "edited": false, "score": 0, "creation_date": 1537382655, "post_id": 52395624, "comment_id": 91768366, "body": "Thanks! I will do it just in case. But I have tested, and trying to use <code>stream</code> already give me a markup error on IntelliJ"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 4, "last_activity_date": 1537311086, "creation_date": 1537311086, "answer_id": 52395624, "question_id": 52359686, "link": "https://stackoverflow.com/questions/52359686/configure-gradle-for-kotlin-with-java-1-7/52395624#52395624", "title": "Configure Gradle for Kotlin with Java 1.7", "body": "<p>Currently the <em>compiler</em> of the Kotlin language requires JDK 8 to run. A <em>project</em> compiled with Kotlin can target any Java starting from Java 6.</p>\n\n<p>A recipe to setup Gradle build of a project that runs on Java 7 is following:</p>\n\n<ul>\n<li>run Gradle with Java 8 or later</li>\n<li>for all Kotlin compile tasks\n\n<ul>\n<li>specify <code>jvmTarget = \"1.6\"</code> in <code>kotlinOptions</code></li>\n<li>specify path to JDK 7 in <code>jdkHome</code> in <code>kotlinOptions</code></li>\n</ul></li>\n<li>if your project contains java code specify <code>sourceCompatibility</code>, <code>targetCompatibility</code> convention properties of the Java plugin</li>\n<li>specify the following <code>options</code> of all java compile tasks:\n\n<ul>\n<li><code>isFork = true</code></li>\n<li><code>forkOptions.javaHome = \"&lt;path to JDK 7&gt;\"</code></li>\n</ul></li>\n<li>for all Test tasks specify <code>executable</code> as <code>\"&lt;path to JDK 7&gt;/bin/java\"</code></li>\n</ul>\n\n<p>The full sample:</p>\n\n<pre><code>sourceCompatibility = 1.7\ntargetCompatibility = 1.7\n\ndef JDK_7 = System.getenv(\"JDK_7\") // or some other way to get path to JDK 7 installation\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n        jdkHome = JDK_7\n    }\n}\n\ntasks.withType(JavaCompile) {\n    options.fork = true\n    options.forkOptions.javaHome = file(JDK_7)\n}\n\ntest {\n    executable = \"$JDK_7/bin/java\"\n}\n</code></pre>\n"}], "owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2318, "favorite_count": 1, "accepted_answer_id": 52395624, "answer_count": 2, "score": 2, "last_activity_date": 1550601943, "creation_date": 1537147135, "question_id": 52359686, "link": "https://stackoverflow.com/questions/52359686/configure-gradle-for-kotlin-with-java-1-7", "title": "Configure Gradle for Kotlin with Java 1.7", "body": "<p>Ok, so I'm new to Gradle and Kotlin and I am having a hard time understanding how things glue together here...</p>\n\n<p>I need to configure a project that should run on Java 7 (client limitations -_-) and I want to use Kotlin with it.</p>\n\n<p>Right now I have the following <code>build.gradle</code> file that is working but I want to ask a few things that I couldn't find anywhere else:</p>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.15.RELEASE'\n        kotlin_version = '1.1.1'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'idea'\napply plugin: 'org.springframework.boot'\n\ngroup = 'com.springkotlin'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-data-rest')\n    compile('org.springframework.boot:spring-boot-starter-security')\n    compile('com.onelogin:java-saml:2.3.0')\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7\"\n    runtime('org.springframework.boot:spring-boot-devtools')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    testCompile('org.springframework.security:spring-security-test')\n    testCompile group: 'javax.inject', name: 'javax.inject', version: '1'\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\n</code></pre>\n\n<p>Now the questions:</p>\n\n<ol>\n<li><p>I have tried using <code>kotlin_version = '1.2.70'</code> (released last few days!) and I got the error <code>KotlinPluginWrapper : Unsupported major.minor version 52.0</code>. I'm guessing then this is due to Kotlin 1.2.X only being able to \"compile\" (is that the word?) with Java 8+. Is that right? Is <code>1.1.1</code> the right version to use here or is there a way to use <code>1.2.70</code> that would work with Java 7? Will I be missing a lot of stuff for using it?</p></li>\n<li><p>I want to understand the 3 kotlin stuff I had to setup on the script. Correct me please: </p>\n\n<ul>\n<li><code>kotlin-gradle-plugin</code>: Is used to define which version of Kotlin I will be using(?)</li>\n<li><code>apply plugin: 'kotlin'</code>: As far as I know from Gradle, this should add tasks to work with Kotlin but running <code>gradle tasks</code> I didn't see anything different... So what is it really for?</li>\n<li><code>kotlin-stdlib-jdk7</code>: I'm guessing this is Kotlin lib of functions, classes, etc. What I don't understand though is the difference between <code>stdlib</code> and <code>stdlib-jdk7</code>. The <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">documentation</a> says it contains \"addition extension functions\". But which ones? Also, should I define a version for this guy? Or does it automatically picks up the <code>kotlin-gradle-plugin</code> version?</li>\n</ul></li>\n</ol>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1537140695, "post_id": 52359112, "comment_id": 91662838, "body": "<code>ImageView.getDrawable()</code> should return a <code>BitmapDrawable</code> from which a <code>Bitmap</code> can be retrieved."}, {"owner": {"reputation": 35, "user_id": 7926952, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/76c51cca92488b4c0cd9ecd31ef3da1a?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepyfalcon", "link": "https://stackoverflow.com/users/7926952/sleepyfalcon"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537140976, "post_id": 52359112, "comment_id": 91662905, "body": "sadly I&#39;ve tried that but i keep getting an &quot;unresolved reference&quot; for both read and close for the InputStream."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1537141042, "post_id": 52359112, "comment_id": 91662923, "body": "Why do you need an <code>InputStream</code> for writing? Your question is a bit hard to understand. What do you want to read?"}, {"owner": {"reputation": 35, "user_id": 7926952, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/76c51cca92488b4c0cd9ecd31ef3da1a?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepyfalcon", "link": "https://stackoverflow.com/users/7926952/sleepyfalcon"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537141353, "post_id": 52359112, "comment_id": 91662981, "body": "I&#39;m sorry for that. I just want to write this imageView&#39;s image to a File. Then send that File to a sever with the &quot;myOutput.flush()&quot;"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1537141401, "post_id": 52359112, "comment_id": 91662995, "body": "If you have <code>Bitmap</code> and an open <code>OutputStream</code> there is <code>Bitmap.compress()</code> to write the file."}, {"owner": {"reputation": 35, "user_id": 7926952, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/76c51cca92488b4c0cd9ecd31ef3da1a?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepyfalcon", "link": "https://stackoverflow.com/users/7926952/sleepyfalcon"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537142092, "post_id": 52359112, "comment_id": 91663098, "body": "Thats what i was working with for a while but i have having really bad quality issues. Either way thanks a bunch for the help my man."}], "owner": {"reputation": 35, "user_id": 7926952, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/76c51cca92488b4c0cd9ecd31ef3da1a?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepyfalcon", "link": "https://stackoverflow.com/users/7926952/sleepyfalcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537141167, "creation_date": 1537139329, "last_edit_date": 1537141167, "question_id": 52359112, "link": "https://stackoverflow.com/questions/52359112/imageview-to-inputstream", "title": "Imageview to InputStream", "body": "<p>I need help trying to convert an imageView's image to be sent to a OutPutFile but needs to be read in before being sent. </p>\n\n<p>This code is using a static image. Instead of this, I want to use the imageView to be the picture I send. </p>\n\n<pre><code>        val imageFileName: String = globals.sampN.toString() + \"-\" + globals.dayNo.toString() + \"-\" + globals.pictureCount.toString() + \".jpg\"\n        val storageDir: File = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        if(!storageDir.exists()) storageDir.mkdirs()\n\n        val imageFile = File(storageDir, imageFileName)\n\n\n        val myOutput:OutputStream = FileOutputStream(imageFile)\n        val buffer = ByteArray(1024)\n        val myInput = getAssets().open(\"NoPhoto.jpg\") // &lt;- This is the place where it needs\n        var length: Int = myInput.read(buffer)        // to be replaced with imageView\n        while (length &gt; 0) {\n            myOutput.write(buffer, 0, length)\n            length = myInput.read(buffer)\n        }\n        myInput.close()\n        myOutput.flush()\n        myOutput.close()\n        mailBitmap = setScaledBitmap(imageFile.absolutePath)\n        println(\"mailBitmap \" + mailBitmap.toString())\n</code></pre>\n\n<p>so far I have gotten the Bitmap to work with this string of code but I'm still stuck on the part where it sends the image file to somewhere meaningful </p>\n\n<pre><code>        val imageFileName: String = globals.sampN.toString() + \"-\" + globals.dayNo.toString() + \"-\" + globals.pictureCount.toString() + \".jpg\"\n        val storageDir: File = getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        if(!storageDir.exists()) storageDir.mkdirs()\n\n        photoImageView.buildDrawingCache()\n        val imageFile = File(storageDir, imageFileName)\n\n\n        val myOutput:OutputStream = FileOutputStream(imageFile)\n       /* val buffer = ByteArray(1024)\n        val myInput = photoImageView.getDrawable() as Bitmap\n        var length: Int = myInput.read(buffer)\n        while (length &gt; 0) {\n            myOutput.write(buffer, 0, length)\n            length = myInput.read(buffer)\n        }\n        myInput.close()\n        myOutput.flush()\n        myOutput.close()*/\n        mailBitmap = photoImageView.getDrawingCache()\n        println(\"mailBitmap \" + mailBitmap.toString())\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9493805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81baa4737c54c976a3e50527bb9cbe0a?s=128&d=identicon&r=PG&f=1", "display_name": "K.S.", "link": "https://stackoverflow.com/users/9493805/k-s"}, "edited": false, "score": 0, "creation_date": 1537138950, "post_id": 52359049, "comment_id": 91662542, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 3, "last_activity_date": 1537138651, "creation_date": 1537138651, "answer_id": 52359049, "question_id": 52359040, "link": "https://stackoverflow.com/questions/52359040/cannot-resolve-constructor-in-intent/52359049#52359049", "title": "Cannot resolve constructor in intent", "body": "<p>View doesn't extend the Context class, which Intent's constructor needs for what you're doing.</p>\n\n<p>Use </p>\n\n<pre><code>Intent i = new Intent(getContext(), result.class);\n</code></pre>\n\n<p>in your View class.</p>\n"}], "owner": {"reputation": 21, "user_id": 9493805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81baa4737c54c976a3e50527bb9cbe0a?s=128&d=identicon&r=PG&f=1", "display_name": "K.S.", "link": "https://stackoverflow.com/users/9493805/k-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1537138651, "creation_date": 1537138582, "question_id": 52359040, "link": "https://stackoverflow.com/questions/52359040/cannot-resolve-constructor-in-intent", "title": "Cannot resolve constructor in intent", "body": "<p>I am trying to edit this game code and call a second activity in <em>//Show Result</em> in order to go to another screen when the game is over.\nThere's an error \"cannot resolve contructor\".\n<a href=\"https://i.stack.imgur.com/FcDCn.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>I think the problem is with the intent but I am not really sure about where I can put it. \nCan you help me?\nThank you </p>\n\n<p>This is the GameView code</p>\n\n<pre><code>import android.annotation.SuppressLint;\nimport android.app.Activity;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Typeface;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.content.Intent;\n\n\npublic class GameView extends View {\n\n    // Canvas\n    private int canvasWidth;\n    private int canvasHeight;\n\n    // J\n    //private Bitmap j;\n    private Bitmap j[] = new Bitmap[2];\n    private int jX = 10;\n    private int jY;\n    private int jSpeed;\n\n    // Blue Ball\n    private int blueX;\n    private int blueY;\n    private int blueSpeed = 15;\n    private Paint bluePaint = new Paint();\n\n    // Black Ball\n    private int blackX;\n    private int blackY;\n    private int blackSpeed = 20;\n    private Paint blackPaint = new Paint();\n\n    // Background\n    private Bitmap bgImage;\n\n\n\n\n    // Score\n    private Paint scorePaint = new Paint();\n    private int score;\n\n    // Level\n    private Paint levelPaint = new Paint();\n\n    // Life\n    private Bitmap life[] = new Bitmap[2];\n    private int life_count;\n\n    // Status Check\n    private boolean touch_flg = false;\n\n\n    public GameView(Context context) {\n        super(context);\n\n        j[0] = BitmapFactory.decodeResource(getResources(), R.drawable.jun1);\n        j[1] = BitmapFactory.decodeResource(getResources(), R.drawable.jun2);\n\n        bgImage = BitmapFactory.decodeResource(getResources(), R.drawable.bg);\n\n        bluePaint.setColor(Color.BLUE);\n        bluePaint.setAntiAlias(false);\n\n        blackPaint.setColor(Color.BLACK);\n        blackPaint.setAntiAlias(false);\n\n        scorePaint.setColor(Color.BLACK);\n        scorePaint.setTextSize(32);\n        scorePaint.setTypeface(Typeface.DEFAULT_BOLD);\n        scorePaint.setAntiAlias(true);\n\n        levelPaint.setColor(Color.DKGRAY);\n        levelPaint.setTextSize(32);\n        levelPaint.setTypeface(Typeface.DEFAULT_BOLD);\n        levelPaint.setTextAlign(Paint.Align.CENTER);\n        levelPaint.setAntiAlias(true);\n\n        life[0] = BitmapFactory.decodeResource(getResources(), R.drawable.heart);\n        life[1] = BitmapFactory.decodeResource(getResources(), R.drawable.heart_g);\n\n        // First position.\n        jY = 500;\n        score = 0;\n        life_count = 3;\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n\n        canvasWidth = canvas.getWidth();\n        canvasHeight = canvas.getHeight();\n\n        canvas.drawBitmap(bgImage, 0, 0, null);\n\n        // Bird\n        int minBirdY = j[0].getHeight();\n        int maxBirdY = canvasHeight - j[0].getHeight() * 3;\n\n        jY += jSpeed;\n        if (jY &lt; minBirdY) jY = minBirdY;\n        if (jY &gt; maxBirdY) jY = maxBirdY;\n        jSpeed += 2;\n\n        if (touch_flg) {\n            // Flap wings.\n            canvas.drawBitmap(j[1], jX, jY, null);\n            touch_flg = false;\n        } else {\n            canvas.drawBitmap(j[0], jX, jY, null);\n        }\n\n\n        // Blue\n        blueX -= blueSpeed;\n        if (hitCheck(blueX, blueY)) {\n            score += 10;\n            blueX = -100;\n        }\n        if (blueX &lt; 0) {\n            blueX = canvasWidth + 20;\n            blueY = (int) Math.floor(Math.random() * (maxBirdY - minBirdY)) + minBirdY;\n        }\n        canvas.drawCircle(blueX, blueY, 10, bluePaint);\n\n\n        // Black\n        blackX -= blackSpeed;\n        if (hitCheck(blackX, blackY)) {\n            blackX = -100;\n            life_count--;\n            if (life_count == 0) {\n\n                // Show Result\n                Intent i = new Intent(this, result.class);\n                i.putExtra(\"SCORE\", score);\n               }\n        }\n        if (blackX &lt; 0) {\n            blackX = canvasWidth + 200;\n            blackY = (int) Math.floor(Math.random() * (maxBirdY - minBirdY)) + minBirdY;\n        }\n        canvas.drawCircle(blackX, blackY, 20, blackPaint);\n\n\n        // Score\n        canvas.drawText(\"Score : \" + score, 20, 60, scorePaint);\n\n        // Level\n        canvas.drawText(\"Lv.1\", canvasWidth / 2, 60, levelPaint);\n\n        // Life\n        for (int i = 0; i &lt; 3; i++) {\n            int x = (int) (560 + life[0].getWidth() * 1.5 * i);\n            int y = 30;\n\n            if (i &lt; life_count) {\n                canvas.drawBitmap(life[0], x, y, null);\n            } else {\n                canvas.drawBitmap(life[1], x, y, null);\n            }\n        }\n    }\n\n    public boolean hitCheck(int x, int y) {\n        if (jX &lt; x &amp;&amp; x &lt; (jX + j[0].getWidth()) &amp;&amp;\n                jY &lt; y &amp;&amp; y &lt; (jY + j[0].getHeight())) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            touch_flg = true;\n            jSpeed = -20;\n        }\n        return true;\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1537138288, "post_id": 52359013, "comment_id": 91662423, "body": "What? You show a truncated picture of a NullPointerException, your title implies ClassCastException, then you paste some lines of code. We need complete examples, and copy/pasted logs."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1537138499, "post_id": 52359013, "comment_id": 91662459, "body": "Very hard to understand what the problem is.  You need to post more code and the full log cat / stacktrace."}, {"owner": {"reputation": 1, "user_id": 10322817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oy2-VNrYI_c/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOf04hsWLlbGXUBNXZEzQ2MykG7zA/mo/photo.jpg?sz=128", "display_name": "mola", "link": "https://stackoverflow.com/users/10322817/mola"}, "edited": false, "score": 0, "creation_date": 1537139404, "post_id": 52359013, "comment_id": 91662623, "body": "sorry,i update my question"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1537140804, "post_id": 52359013, "comment_id": 91662863, "body": "Show code and error message as properly formatted text in the question, not as image."}], "owner": {"reputation": 1, "user_id": 10322817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oy2-VNrYI_c/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOf04hsWLlbGXUBNXZEzQ2MykG7zA/mo/photo.jpg?sz=128", "display_name": "mola", "link": "https://stackoverflow.com/users/10322817/mola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537139264, "creation_date": 1537138185, "last_edit_date": 1537139264, "question_id": 52359013, "link": "https://stackoverflow.com/questions/52359013/how-to-cast-sliderview-in-kotlin", "title": "how to cast sliderView in Kotlin?", "body": "<p><a href=\"https://i.stack.imgur.com/Am1bd.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/zH42C.png\" rel=\"nofollow noreferrer\">enter image description here</a>i did recyclerView consist of photos,when i click on one it's going to move you to rather information about it and more photos shown in sliderView\nthe problem is i cant not handle array list in \"Adapter\"</p>\n\n<p>this line of code suppose to show only one photo in recyclerView \"ViewHolder\"</p>\n\n<pre><code>val photo = view.photo.getChildAt(0) as ImageView\n</code></pre>\n\n<p>this line in code should display the first photo in recyclerView </p>\n\n<pre><code>Glide.with(context).load(data.urlList).into(p0.photo)\n</code></pre>\n\n<p>================\nhelp!</p>\n"}]