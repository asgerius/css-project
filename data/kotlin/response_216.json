[{"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551307330, "post_id": 54915478, "comment_id": 96597567, "body": "how does this provide the expected constructor and where did the embedded classes go?"}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551307696, "post_id": 54915478, "comment_id": 96597692, "body": "I have only changed the primary constructor, the other field are still available at the class"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551307980, "post_id": 54915478, "comment_id": 96597775, "body": "sorry, but I cannot identify any constructor there; only one typo <code>String){</code>. ah... now I see what you&#39;re trying to do... but theses annotations on the constructor&#39;s arguments most likely won&#39;t be processed... and <code>Room</code> expects an empty constructor."}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551308198, "post_id": 54915478, "comment_id": 96597858, "body": "@EpicPandaForce try again"}], "tags": [], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "is_accepted": false, "score": 0, "last_activity_date": 1551308160, "last_edit_date": 1551308160, "creation_date": 1551306250, "answer_id": 54915478, "question_id": 54915410, "link": "https://stackoverflow.com/questions/54915410/room-android-entities-and-pojos-must-have-a-usable-public-constructor-kotli/54915478#54915478", "title": "Room Android :Entities and Pojos must have a usable public constructor Kotli", "body": "<p>you can do it like that</p>\n\n<pre><code>@Entity(tableName = \"events\")\nclass Event(\n        @ColumnInfo(name = \"name\")\n        @SerializedName(\"name\")\n        @Expose\n        var name: String,\n\n        @PrimaryKey\n        @ColumnInfo(name = \"id\")\n        @SerializedName(\"id\")\n        @Expose\n        var id: String){\n\n        var images: List&lt;Image&gt;? = null\n        var dates: Dates? = null\n        var venues: Venues? = null\n        var favorite: Boolean = false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1551308643, "last_edit_date": 1551308643, "creation_date": 1551306806, "answer_id": 54915580, "question_id": 54915410, "link": "https://stackoverflow.com/questions/54915410/room-android-entities-and-pojos-must-have-a-usable-public-constructor-kotli/54915580#54915580", "title": "Room Android :Entities and Pojos must have a usable public constructor Kotli", "body": "<p>you need to add a default constructor, which looks alike this in <code>Kotlin</code> (the primary constructor of the class already is the first one line; keyword <code>constructor</code> be omitted in most cases; see the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">docs</a>):</p>\n\n<pre><code>@Entity(tableName = \"events\")\nclass Event() {\n    ...\n}\n</code></pre>\n\n<p>or explicitly, without having omitted the <code>constructor</code> keyword:</p>\n\n<pre><code>@Entity(tableName = \"events\")\nclass Event constructor() {\n\n}\n</code></pre>\n\n<p><code>var favorite</code> lacks an annotation and those <code>@Expose</code> annotations might be useless. make sure that the embedded classes also feature a primary constructor. when having several constructors in a class, one has to add <code>@Ignore</code> annotation to all but one, so that it will know which one to use... and it always has to be an empty constructor, which does not take any argument.</p>\n"}], "owner": {"reputation": 167, "user_id": 8815576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a3d2aea19498370c222e5976b0214f8b?s=128&d=identicon&r=PG&f=1", "display_name": "dddddrrrrrr", "link": "https://stackoverflow.com/users/8815576/dddddrrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551308643, "creation_date": 1551305986, "question_id": 54915410, "link": "https://stackoverflow.com/questions/54915410/room-android-entities-and-pojos-must-have-a-usable-public-constructor-kotli", "title": "Room Android :Entities and Pojos must have a usable public constructor Kotli", "body": "<p>I am getting this error <code>Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type)</code> when I implemented ROOM.\nAnd i tried to add an empty constructor but i didn't works. So only I can avoid this problem removing <code>embedded</code>, but i would like to find another solution if its possible.</p>\n\n<p>This is my Entity</p>\n\n<pre><code> @Entity(tableName = \"events\")\nclass Event(\n        @ColumnInfo(name = \"name\")\n        @SerializedName(\"name\")\n        @Expose\n        var name: String,\n\n        @PrimaryKey\n        @ColumnInfo(name = \"id\")\n        @SerializedName(\"id\")\n        @Expose\n        var id: String,\n\n        @Embedded\n        var images: List&lt;Image&gt;,\n\n        @Embedded\n        var dates: Dates,\n\n        @Embedded\n        var venues: Venues,\n        var favorite: Boolean\n)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-asynctask", "android-graphview"], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551306721, "post_id": 54914760, "comment_id": 96597341, "body": "First, thanks for your Answer. The for loops are now inside doInBackground() at first it looked like it worked but after about 30s the same warning occurred. The Skipped frames went up to over 300.  I&#39;m debugging on a 1-Year-old Tablet so there should be no Problem."}, {"owner": {"reputation": 471, "user_id": 2093246, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d226387c511f6d87e68a14040683608b?s=128&d=identicon&r=PG", "display_name": "Andres S", "link": "https://stackoverflow.com/users/2093246/andres-s"}, "reply_to_user": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551309444, "post_id": 54914760, "comment_id": 96598216, "body": "Is the draw happening on the main thread? It looks a bit complex for what it should do. Ideally you should try to calculate what you should draw outside the main thread (or outside the draw method) and the draw method should <i>only</i> draw, there should be no logic in the draw method."}, {"owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551310430, "post_id": 54914760, "comment_id": 96598489, "body": "Hm, that&#39;s right it may take some time to get all the coordinates to sort them and add them to DataPoints. My Idea now is to Calculate the Coordinates in an AsyncTask and return a LineSeries that can then be added to the View.   Or is there a better way than an Async Task?"}, {"owner": {"reputation": 471, "user_id": 2093246, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d226387c511f6d87e68a14040683608b?s=128&d=identicon&r=PG", "display_name": "Andres S", "link": "https://stackoverflow.com/users/2093246/andres-s"}, "reply_to_user": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551311941, "post_id": 54914760, "comment_id": 96598850, "body": "Unsure as to the best way since there&#39;s some code missing. But the things to stick with are these: your drawing logic should just be reading variables from your instance and drawing them (no complex logic here!); the variables should be calculated once until a refresh is needed; where you calculate what you need to draw is up to you but try to keep it away from the main thread if it is intense and only do it when needed; draw should be able to be called n number of times regardless if you&#39;ve updated the object or not. Look up game logic on when to draw/update your elements."}], "tags": [], "owner": {"reputation": 471, "user_id": 2093246, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d226387c511f6d87e68a14040683608b?s=128&d=identicon&r=PG", "display_name": "Andres S", "link": "https://stackoverflow.com/users/2093246/andres-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1551302814, "creation_date": 1551302814, "answer_id": 54914760, "question_id": 54914697, "link": "https://stackoverflow.com/questions/54914697/android-application-my-be-doing-too-much-work-on-its-main-thread/54914760#54914760", "title": "Android: Application my be doing too much work on its main thread", "body": "<p><code>onPostExecute(jsonObject: JsonObject)</code> is called on the main thread, it looks like you're doing a lot of work there (for loops and db saving). Try to do that in the background and then return only what needs to be done in the main thread. </p>\n\n<p>Other than that those errors (which are actually warnings) can mostly be ignored, especially if working on an older phone or an emulator. If it doesn't actually cause any visible lag you should be fine as long as the lag time isn't major and constantly happening.</p>\n"}], "owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551302814, "creation_date": 1551302508, "question_id": 54914697, "link": "https://stackoverflow.com/questions/54914697/android-application-my-be-doing-too-much-work-on-its-main-thread", "title": "Android: Application my be doing too much work on its main thread", "body": "<p>So I get this error even when Debugging on a Connected Device.</p>\n\n<p>My App reads a JSON File via an HTTP connection stores it and notifies all Observers to get their new data. One of the Observers is a Plotter using the grapView Lib.</p>\n\n<p>As I searched for some Solutions I ended up to implement the JSON Parser as an AsyncTask.</p>\n\n<p>But the Same error still occurs.</p>\n\n<p>My Question now is: What else can I do so Main Thread blocked?</p>\n\n<p>Main:</p>\n\n<pre><code>class MainScreen : AppCompatActivity() {\n\n//define variables\nprivate lateinit var start: Button\n\nprivate lateinit var graphView: GraphView\n\nprivate lateinit var engineTempText: TextView\nprivate lateinit var speedText: TextView\n\nprivate val timer = Timer(\"schedule\", true)\n\nprivate var started = false\n\n//find GUI fields/buttons\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main_screen)\n\n    start = findViewById(R.id.startButton)\n\n    graphView = findViewById(R.id.graphView)\n\n    engineTempText = findViewById(R.id.engineTempText)\n    speedText = findViewById(R.id.speedText)\n\n    //Register Observers at DataWarehouse\n    val engineTempObserver = EngineTempObserver(engineTempText)\n    val speedObserver = SpeedObserver(speedText)\n    val plotter = Plotter(graphView)\n\n    //Wait till Button is pressed to start\n    start.setOnClickListener(View.OnClickListener {\n\n        //end\n        if (started) {\n            timer.cancel()\n            timer.purge()\n            started = false\n        }\n\n        //start\n        else {\n            started = true\n\n            val timer = Timer(\"schedule\", true)\n            timer.scheduleAtFixedRate(500,500) {\n\n                Handler(Looper.getMainLooper()).post {\n                    //Start\n                    start()\n                }\n            }\n        }\n\n    })\n}\n\n//start monitoring\nprivate fun start() {\n    val jsonParser = JsonParser()\n    jsonParser.execute()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>JSON Parser:</p>\n\n<pre><code>class JsonParser : AsyncTask&lt;Void, Void, JsonObject&gt;() {\n\n//connect to URL get Json File Data\noverride fun doInBackground(vararg params: Void): JsonObject {\n\n    val response = URL(\"https://api.myjson.com/bins/14oooa\").readText()\n    //http://10.0.2.2:80/test.json\n\n    //create Parser\n    val parser = Parser()\n    val stringBuilder = StringBuilder(response)\n\n    //Read Json File + get Data\n    val jsonObject: JsonObject = parser.parse(stringBuilder) as JsonObject\n\n    return jsonObject\n\n}\n\n//Parse Json File extract Data and store them in DataWarehouse\noverride fun onPostExecute(jsonObject: JsonObject) {\n\n    //Arrays to Store Coordinates saved in Cone class\n    val blueConeArray = arrayListOf&lt;Cone&gt;()\n    val yellowConeArray = arrayListOf&lt;Cone&gt;()\n\n\n    //Get Cones from JsonObject\n    val blueCoordinates: JsonArray&lt;JsonObject&gt;? = jsonObject.array(\"BlueCoordinates\")\n    val yellowCoordinates: JsonArray&lt;JsonObject&gt;? = jsonObject.array(\"YellowCoordinates\")\n\n    //Store Blue Cones\n    for (coordinate in blueCoordinates!!) {\n        val x_blue = coordinate.double(\"x\")\n        val y_blue = coordinate.double(\"y\")\n\n        val blueCone = BlueCone(x_blue!!, y_blue!!)\n        blueConeArray.add(blueCone)\n    }\n\n    //Store Yellow Cones\n    for (coordinate in yellowCoordinates!!) {\n        val x_yellow = coordinate.double(\"x\")\n        val y_yellow = coordinate.double(\"y\")\n        val yellowCone = YellowCone(x_yellow!!, y_yellow!!)\n        yellowConeArray.add(yellowCone)\n    }\n\n    //Store everything in Data Warehouse\n    DataWarehouse.setValues(\n        newEngineTemp = jsonObject.string(\"engineTemp\"),\n        newSpeed = jsonObject.string(\"speed\"),\n        newBlueCones = blueConeArray,\n        newYellowCones = yellowConeArray\n    )\n    blueConeArray.clear()\n    yellowConeArray.clear()\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Plotter:</p>\n\n<pre><code>class Plotter(graphView: GraphView) : Observer {\n\nprivate var graphView = graphView\n\nprivate lateinit var sortedBlueCones: MutableList&lt;Cone&gt;\nprivate lateinit var sortedYellowCones: MutableList&lt;Cone&gt;\n\nprivate var blueConeArrayList = ArrayList&lt;DataPoint&gt;()\nprivate var yellowConeArrayList = ArrayList&lt;DataPoint&gt;()\n\nprivate var blueLines = LineGraphSeries&lt;DataPoint&gt;()\nprivate var yellowLines = LineGraphSeries&lt;DataPoint&gt;()\n\nprivate var blueIterator = 0\nprivate var yellowIterator = 0\n\ninit {\n\n    //First Values so resetData works\n    yellowLines.appendData((DataPoint(0.toDouble(), 0.toDouble())), true, 1000)\n    blueLines.appendData((DataPoint(0.toDouble(), 0.toDouble())), true, 1000)\n\n    register()\n}\n\n//Register at Data Warehouse\noverride fun register() {\n    DataWarehouse.registerObserver(this)\n}\n\n//Get new Cones from Data Warehouse and sort them by X Values\noverride fun update() {\n\n    sortedBlueCones = DataWarehouse.getBlueCones().sortedWith(compareBy({ it.xCoordinate })) as MutableList&lt;Cone&gt;\n    sortedYellowCones = DataWarehouse.getYellowCones().sortedWith(compareBy({ it.xCoordinate })) as MutableList&lt;Cone&gt;\n\n    draw()\n}\n\n//Draw Line Graph and Point Graph\nprivate fun draw() {\n\n        //Blue Cones\n        for (i in sortedBlueCones) {\n\n            var x: Double = sortedBlueCones.get(blueIterator).xCoordinate\n            var y: Double = sortedBlueCones.get(blueIterator).yCoordinate\n\n            var dataPoint = DataPoint(x, y)\n            blueConeArrayList.add(dataPoint)\n            val blueConeArray = arrayOfNulls&lt;DataPoint&gt;(blueConeArrayList.size)\n            blueConeArrayList.toArray(blueConeArray)\n\n            blueLines.resetData(blueConeArray)\n\n            blueIterator++\n        }\n\n\n        //Yellow Cones\n        for (i in sortedYellowCones) {\n            var x: Double = sortedYellowCones.get(yellowIterator).xCoordinate\n            var y: Double = sortedYellowCones.get(yellowIterator).yCoordinate\n\n            var dataPoint = DataPoint(x, y)\n            yellowConeArrayList.add(dataPoint)\n            val yellowConeArray = arrayOfNulls&lt;DataPoint&gt;(yellowConeArrayList.size)\n            yellowConeArrayList.toArray(yellowConeArray)\n\n            yellowLines.resetData(yellowConeArray)\n\n            yellowIterator++\n        }\n\n    //Set Values of Lines\n    blueLines.setColor(Color.BLUE)\n    blueLines.setDrawDataPoints(true)\n    blueLines.setDataPointsRadius(10.toFloat())\n\n    yellowLines.setColor(Color.YELLOW)\n    yellowLines.setDrawDataPoints(true)\n    yellowLines.setDataPointsRadius(10.toFloat())\n\n    //Draw\n    graphView.addSeries(blueLines)\n    graphView.addSeries(yellowLines)\n\n    blueIterator = 0\n    yellowIterator = 0\n\n    blueConeArrayList.clear()\n    yellowConeArrayList.clear()\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "android-viewpager"], "answers": [{"tags": [], "owner": {"reputation": 8637, "user_id": 295675, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/87e88914cdf7334ec989fbf8a13a520c?s=128&d=identicon&r=PG", "display_name": "David Liu", "link": "https://stackoverflow.com/users/295675/david-liu"}, "is_accepted": true, "score": 1, "last_activity_date": 1551743630, "creation_date": 1551743630, "answer_id": 54993396, "question_id": 54914483, "link": "https://stackoverflow.com/questions/54914483/nested-viewpagers-letting-the-outer-swipe-but-not-the-inner/54993396#54993396", "title": "nested viewpagers: letting the outer swipe but not the inner", "body": "<p>The issue here is caused by the outer ViewPager sensing that it has scrollable content that can scroll in the same direction, so the outer ViewPager refuses to scroll in that direction.</p>\n\n<p>This can be resolved by overriding <code>canScrollHorizontally(int direction)</code> in the inner ViewPager to return false.</p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 54993396, "answer_count": 1, "score": 0, "last_activity_date": 1551743630, "creation_date": 1551301555, "question_id": 54914483, "link": "https://stackoverflow.com/questions/54914483/nested-viewpagers-letting-the-outer-swipe-but-not-the-inner", "title": "nested viewpagers: letting the outer swipe but not the inner", "body": "<p><strong>In a nutshell:</strong></p>\n\n<p>I have a <code>ViewPager</code>, <code>vpOuter</code> that displays a fragment that has another <code>ViewPager</code>, <code>vpInner</code>.</p>\n\n<p>The user is supposed to be able to swipe between fragments of <code>vpOuter</code> but the fragments displayed with <code>vpInner</code> can only be swapped programmatically.</p>\n\n<p>Right now, swiping on <code>vpInner</code> does nothing, while swiping outside <code>vpInner</code> switches between <code>vpOuter</code>'s fragments.</p>\n\n<p>How can I make it so that swiping on <code>vpInner</code> is recognised as swiping between <code>vpOuter</code>?</p>\n\n<p>(the two <code>ViewPager</code>s have no knowledge of each other)</p>\n\n<p><strong>The full story:</strong></p>\n\n<p>Alright so I have an activity that has a view pager with three fragments.</p>\n\n<p>Let's call them A, B and C.</p>\n\n<p>Now the user can swipe between them or use a bottom navigation.</p>\n\n<p><code>A</code> is our \"viewer fragment\" and it displays either something if there's something to display or nothing if there's nothing to display, but it will only ever display a single thing at a time.</p>\n\n<p><code>A</code> contains a non-swipable view pager.</p>\n\n<p>The reasoning behind that is that we want to display text and images and who-knows-what and we create a view fragment for each media type that we want to display. So when we have something to display, we check what that something is, switch to the corresponding fragment and populate it with the data.</p>\n\n<p>As a result, A will look something like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;[...].android.ui.widgets.NonswipableViewPager\n            android:id=\"@+id/view_container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;!--irrrelevant floating action button here--&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>where</p>\n\n<pre><code>/**A view pager that disables swiping to switch between pages.\n * Switching must happen programmatically.*/\nclass NonswipableViewPager:ViewPager{\n    constructor(context:Context):super(context)\n    constructor(context: Context,attributeSet: AttributeSet):super(context,attributeSet)\n\n    override fun onInterceptTouchEvent(ev: MotionEvent?): Boolean {\n        return false\n    }\n\n    override fun onTouchEvent(ev: MotionEvent?): Boolean {\n        return false\n    }\n}\n</code></pre>\n\n<p>Let's for a moment pretend that there are only text contents that we want to display.</p>\n\n<p>Then we have two fragments:</p>\n\n<pre><code>class NoContentView : AbstractContentView() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val fragmentView = inflater.inflate(R.layout.fragment_A_component_text_view, container, false)\n        fragmentView.content.text = Html.fromHtml(getString(R.string.A_nothingToShow))\n        return fragmentView\n    }\n\n    //more irrelevant stuff here\n}\n</code></pre>\n\n<p>which we display when we have nothing to show, and </p>\n\n<pre><code>class TextContentView:AbstractContentView(){\n    @Volatile private var displayedData:String? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_A_component_text_view, container, false)\n        displayedData?.let { view.content.text = it }\n        return view\n    }\n\n    override fun display(c: IDisplayableContent) {\n        displayedData = String(c.data, Charsets.UTF_8)\n        content?.text = displayedData\n    }\n}\n</code></pre>\n\n<p>and they both inflate this here layout:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.widget.LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    &gt;\n\n    &lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:scrollbars=\"vertical\"\n        android:layout_gravity=\"center\"\n        android:fillViewport=\"true\"\n        &gt;\n        &lt;TextView\n            android:id=\"@+id/content\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:textAlignment=\"center\"\n            android:gravity=\"center\"\n            tools:text=\"PLACEHOLDER\" /&gt;\n    &lt;/ScrollView&gt;\n&lt;/android.widget.LinearLayout&gt;\n</code></pre>\n\n<p>If there's a <code>TextContentView</code> being displayed, everything works fine and I can swipe between fragments <code>A</code>, <code>B</code> and <code>C</code> without issues.</p>\n\n<p>However, when the <code>NoContentView</code> is being displayed, I need to make a conscious effort to avoid the text content when swiping or else it just won't do anything.</p>\n\n<p>How can I make it always behave as if the unswipable view pager just wasn't there?</p>\n"}, {"tags": ["java", "mongodb", "kotlin"], "comments": [{"owner": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 0, "creation_date": 1551301455, "post_id": 54914265, "comment_id": 96595178, "body": "Yes. if you add some query find(findQuery) then Mongo will no longer be able to use your index to sort query results and will be forced to sort it on the fly."}, {"owner": {"reputation": 1247, "user_id": 3432487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5442d872380407360872c50f323dcb54?s=128&d=identicon&r=PG&f=1", "display_name": "Mani", "link": "https://stackoverflow.com/users/3432487/mani"}, "edited": false, "score": 0, "creation_date": 1551303309, "post_id": 54914265, "comment_id": 96595990, "body": "what is the outout you are getting for the below query in mongo shell db.Urls.find({&quot;proc&quot;: 0}).sort({&quot;level&quot;: 1}).explain(&quot;executionStats&quot;);"}, {"owner": {"reputation": 15461, "user_id": 2934579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eT1BM.png?s=128&g=1", "display_name": "Wan Bachtiar", "link": "https://stackoverflow.com/users/2934579/wan-bachtiar"}, "reply_to_user": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 0, "creation_date": 1551338289, "post_id": 54914265, "comment_id": 96605870, "body": "@GovindParashar, that&#39;s not correct. See <a href=\"https://docs.mongodb.com/manual/tutorial/sort-results-with-indexes/#sort-and-non-prefix-subset-of-an-index\" rel=\"nofollow noreferrer\">Sort and Non-prefix Subset of an Index</a>. As @Mani has mentioned, please provide the output of the query explain, and MongoDB server version. Also, could you clarify what do you mean by <code>it feels like the code below</code> i.e. how do you know ?"}], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551300686, "creation_date": 1551300686, "question_id": 54914265, "link": "https://stackoverflow.com/questions/54914265/mongodb-java-retrieve-records-ordered-by-an-index", "title": "MongoDB &amp; Java : Retrieve records ordered by an index", "body": "<p>So I am pulling records from my MongoDB, but I want them to be coming back from the database in order from an Index.</p>\n\n<p>So I want records where \"proc\" = 0 and sorted by \"level\", lowest first.  It feels like the code below is getting x amount of records from inserted order, then sorting them.</p>\n\n<pre><code>val mongoClient = MongoClients.create(Mongo)\nval database = mongoClient.getDatabase(Database)\nval urlsCollection = database.getCollection(Urls)\n\nval findQuery = Document()\nfindQuery.append(\"proc\", 0)\nval cursor = urlsCollection.find(findQuery).sort(Document(\"level\", 1)).iterator()\n</code></pre>\n\n<p>In the DB, I have an index called proc_1_level_1</p>\n\n<pre><code>{\n    \"proc\" : 1.0,\n    \"level\" : 1.0\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 10418137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b7d600152d87e55ee0feeb8767d6b1?s=128&d=identicon&r=PG&f=1", "display_name": "purcha", "link": "https://stackoverflow.com/users/10418137/purcha"}, "edited": false, "score": 0, "creation_date": 1551384224, "post_id": 54916129, "comment_id": 96631228, "body": "with this, I have still null :("}], "tags": [], "owner": {"reputation": 9, "user_id": 9262541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7bZ0d2Ctd7U/AAAAAAAAAAI/AAAAAAAAACE/2Fvoctytnk8/photo.jpg?sz=128", "display_name": "mories deo", "link": "https://stackoverflow.com/users/9262541/mories-deo"}, "is_accepted": false, "score": 0, "last_activity_date": 1551310287, "creation_date": 1551310287, "answer_id": 54916129, "question_id": 54914030, "link": "https://stackoverflow.com/questions/54914030/object-injected-by-dagger-into-fragment-is-null/54916129#54916129", "title": "Object injected by Dagger into fragment is null", "body": "<p>Missing</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)//this missing\n    }\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 10418137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b7d600152d87e55ee0feeb8767d6b1?s=128&d=identicon&r=PG&f=1", "display_name": "purcha", "link": "https://stackoverflow.com/users/10418137/purcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551310287, "creation_date": 1551299604, "last_edit_date": 1551300698, "question_id": 54914030, "link": "https://stackoverflow.com/questions/54914030/object-injected-by-dagger-into-fragment-is-null", "title": "Object injected by Dagger into fragment is null", "body": "<p>I have no idea why my object Coffee is null after inject. In java code, this same code worked.</p>\n\n<p>class app:</p>\n\n<pre><code>    @Singleton\n    @Component(modules = [AndroidSupportInjectionModule::class, ContributesBuilder::class,\n    FirstModule::class])\n    interface ApplicationComponent {\n\n        @Component.Builder\n        interface Builder{\n\n\n     @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): ApplicationComponent\n    }\n\n    fun inject(app: LocationPickerApplication)\n}\n</code></pre>\n\n<p>contributes class: </p>\n\n<pre><code>@Module\nabstract class ContributesBuilder{\n\n    @ContributesAndroidInjector\n    abstract fun bindFirstFragment(): FirstFragment\n\n    @ContributesAndroidInjector\n    abstract fun bindSecondFragment(): SecondFragment\n\n}\n</code></pre>\n\n<p>my module with return coffee</p>\n\n<pre><code>@Module\nclass FirstModule {\n\n    @Provides\n    fun getCoffee(): Coffee{\n        return Coffee()\n    }\n\n}\n</code></pre>\n\n<p>and class Coffee:</p>\n\n<pre><code>class Coffee (name: String = \"name\")\n</code></pre>\n\n<p>What can be wrong here ?</p>\n\n<p>and here is my Fragment, coffee here is null:</p>\n\n<pre><code>class FirstFragment : Fragment() {\n\n    @Inject\n    lateinit var coffee: Coffee\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_first, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        Toast.makeText(activity, \"a $coffee\", Toast.LENGTH_LONG).show()\n\n    }\n\n    companion object {\n        @JvmStatic\n        fun newInstance() =\n            FirstFragment()\n    }\n}\n</code></pre>\n\n<p>too many time wasted, and I still don't know what is wrong</p>\n"}, {"tags": ["android", "kotlin", "android-dialogfragment", "android-dialog", "onitemclicklistener"], "comments": [{"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1551299018, "post_id": 54913843, "comment_id": 96594119, "body": "Just use your Activity as context."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1551299163, "post_id": 54913843, "comment_id": 96594181, "body": "@RaymondArteaga Do you mean to use <code>getActivity</code> somewhere?"}, {"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "edited": false, "score": 0, "creation_date": 1551300221, "post_id": 54913843, "comment_id": 96594647, "body": "Setting listener in onBindViewHolder() is not a good idea.  You should set in creation of ViewHolder instead. In the constructor of ViewHolder or onCreateViewHolder(). There you will have <code>View</code> and you can use <code>view.context</code>"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "edited": false, "score": 0, "creation_date": 1551301208, "post_id": 54913843, "comment_id": 96595062, "body": "@underoid see my latest code edit for <b>current code</b>"}, {"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551307689, "post_id": 54913843, "comment_id": 96597691, "body": "Why are you creating <code>AlertDialog </code> in <code>onBindViewHolder</code> or creating <code>adapter</code> object? <code>onBindViewHolder</code> serves as binder for <code>Views</code> and data. That means your dialog and adapter will be created as many times as your list size is"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551307958, "post_id": 54913843, "comment_id": 96597767, "body": "@Yupi I did follow a tutorial for this one. How can I access the button from <code>onCreateViewHolder</code>?"}, {"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551308461, "post_id": 54913843, "comment_id": 96597940, "body": "Ah sorry, my bad, I didn&#39;t pay attention this is inside <code>OnClickListener</code>, I thought you put that directly inside <code>onBindViewHolder</code>. That code right now should work if you just use this line <code>customView = View.inflate(holder.itemView.context, R.layout.fragment_dialog, null)</code>. But better practice is to set click listeners inside <code>ViewHolder</code> where you connected your button with <code>id</code>: <code>val myButton = itemView.findViewById&lt;Button&gt;(R.id.btn_A)!!</code>"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551308749, "post_id": 54913843, "comment_id": 96598012, "body": "@Yupi Ok so would I do something like <code>myButton.setOnClickListener{...}</code> or something else?"}, {"owner": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551309798, "post_id": 54913843, "comment_id": 96598312, "body": "@MacaronLover Yes"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 4386, "user_id": 4507927, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/47bcb40aceb9761c65dbf9d1012b60f1?s=128&d=identicon&r=PG&f=1", "display_name": "Yupi", "link": "https://stackoverflow.com/users/4507927/yupi"}, "edited": false, "score": 0, "creation_date": 1551309903, "post_id": 54913843, "comment_id": 96598344, "body": "@Yupi Using that code returns this error: <code>Expecting Member Declaration</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1551301746, "post_id": 54914434, "comment_id": 96595307, "body": "Which one those is better or the most recommended? The <code>ViewHolder</code> constructor or <code>onCreateViewHolder()</code>?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1551302149, "post_id": 54914434, "comment_id": 96595500, "body": "I already created my button in a <code>viewHolder</code> class so how can that be accessed for <code>onCreateViewHolder()</code>?"}, {"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1551304274, "post_id": 54914434, "comment_id": 96596430, "body": "You get the created <code>ViewHolder</code> object in <code>onCreateViewHolder()</code> and you have access to <code>itemView</code> only. So constructor is better."}], "tags": [], "owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "is_accepted": true, "score": 0, "last_activity_date": 1551301377, "creation_date": 1551301377, "answer_id": 54914434, "question_id": 54913843, "link": "https://stackoverflow.com/questions/54913843/how-to-access-dialogs-view-without-creating-additional-class/54914434#54914434", "title": "How to access Dialog&#39;s view without creating additional class", "body": "<p>To solve your problem you can use <code>View.inflate()</code>. </p>\n\n<p>Change this line:</p>\n\n<p><code>customView = holder.itemView.context.this.layoutInflater.inflate(R.layout.fragment_dialog, null)</code></p>\n\n<p>to this: </p>\n\n<p><code>customView = View.inflate(holder.itemView.context, R.layout.fragment_dialog, null)</code></p>\n\n<p>But you should set listeners on creation of ViewHolder instead. In the constructor of ViewHolder or <code>onCreateViewHolder()</code>.</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 54914434, "answer_count": 1, "score": 0, "last_activity_date": 1551307822, "creation_date": 1551298820, "last_edit_date": 1551307822, "question_id": 54913843, "link": "https://stackoverflow.com/questions/54913843/how-to-access-dialogs-view-without-creating-additional-class", "title": "How to access Dialog&#39;s view without creating additional class", "body": "<p>Does anyone know which context (if that) would I need to use for a click listener in a RecyclerView adapter without having to create a new DialogFragment class? I will need to access and use the dialog's view in future. The <strong>previously used code</strong> is what I've used in the past for my RecyclerView adapter but it's now redundant when needing to use the custom view.</p>\n\n<blockquote>\n  <p>Unresolved reference: 'layoutInflater'</p>\n</blockquote>\n\n<p><strong>previously used code</strong></p>\n\n<pre><code>    holder.myButton.setOnClickListener {\n        val builder = android.app.AlertDialog.Builder(holder.itemView.context)\n        builder.setIconAttribute(R.attr.ivInfo)\n        builder.setTitle(R.string.dialog_title)\n        builder.setMessage(R.string.dialog_message)\n        builder.setView(R.layout.custom_view)\n        builder.setPositiveButton(android.R.string.ok){ dialog, _ -&gt; dialog.dismiss() }\n\n        val dialog: android.app.AlertDialog = builder.create()\n        dialog.show()\n    }\n</code></pre>\n\n<p><strong>current code</strong></p>\n\n<pre><code>class MyRVAdapter() : RecyclerView.Adapter&lt;MyRVAdapter.ViewHolder&gt;() {\n    override fun getItemCount(): Int {\n        return myList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.myButton.setOnClickListener {\n            customView = holder.itemView.context.this.layoutInflater.inflate(R.layout.fragment_dialog, null)\n\n                val builder = AlertDialog.Builder(holder.itemView.context)\n                 builder.setIconAttribute(R.attr.imgNight)\n                 builder.setTitle(R.string.dialog_title)\n                 builder.setView(customView)\n                 builder.setPositiveButton(android.R.string.ok){ dialog, _ -&gt; dialog.dismiss() }\n                 builder.show()\n\n                tabLayout = customView.findViewById(R.id.mTabLayout)\n                viewPager = customView.findViewById(R.id.mViewPager)\n\n                val adapter = TabbedDialogAdapter(childFragmentManager)\n                adapter.addFragment(\"Tab A\", TabbedDialogFragment.createInstance(\"Description A\"))\n                adapter.addFragment(\"Tab B\", TabbedDialogFragment.createInstance(\"Description B\"))\n                adapter.addFragment(\"Tab C\", TabbedDialogFragment.createInstance(\"Description C\"))\n\n                customView.mViewPager.adapter = adapter\n                customView.mTabLayout.setupWithViewPager(customView.mViewPager)\n            }\n        }\n     }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.my_cv, parent, false)\n        return ViewHolder(v)\n    }\n\n    class ViewHolder (itemView : View):RecyclerView.ViewHolder(itemView) {\n        val myButton = itemView.findViewById&lt;Button&gt;(R.id.btn_A)!!\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1551297190, "post_id": 54913325, "comment_id": 96593286, "body": "Check this SO:  <a href=\"https://stackoverflow.com/questions/54729144/why-does-room-delete-operationwith-rxjava-gives-ui-thread-error-even-specifyin\" title=\"why does room delete operationwith rxjava gives ui thread error even specifyin\">stackoverflow.com/questions/54729144/&hellip;</a>"}, {"owner": {"reputation": 2209, "user_id": 4904995, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/JxR9x.jpg?s=128&g=1", "display_name": "Tung Tran", "link": "https://stackoverflow.com/users/4904995/tung-tran"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551297969, "post_id": 54913325, "comment_id": 96593629, "body": "@Zoe No duplicate, this is combine rxjava and room"}, {"owner": {"reputation": 4302, "user_id": 1281180, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/XssiM.jpg?s=128&g=1", "display_name": "blackkara", "link": "https://stackoverflow.com/users/1281180/blackkara"}, "edited": false, "score": 0, "creation_date": 1551307548, "post_id": 54913325, "comment_id": 96597642, "body": "Worth to check, <a href=\"https://stackoverflow.com/questions/54729144/why-does-room-delete-operationwith-rxjava-gives-ui-thread-error-even-specifyin\" title=\"why does room delete operationwith rxjava gives ui thread error even specifyin\">stackoverflow.com/questions/54729144/&hellip;</a>"}], "owner": {"reputation": 2209, "user_id": 4904995, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/JxR9x.jpg?s=128&g=1", "display_name": "Tung Tran", "link": "https://stackoverflow.com/users/4904995/tung-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1551602154, "answer_count": 0, "score": 0, "last_activity_date": 1551602309, "creation_date": 1551296622, "last_edit_date": 1551298057, "question_id": 54913325, "link": "https://stackoverflow.com/questions/54913325/rxjava2-room-get-illegalstateexception", "closed_reason": "Duplicate", "title": "Rxjava2 + Room : get IllegalStateException", "body": "<p>I use rxjava and room for below code, but I always get the error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Cannot access database on the main\n  thread since it may potentially lock the UI for a long period of time.</p>\n</blockquote>\n\n<pre><code>compositeDisposable.add(dataManager.deleteAllNotes()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                getMvpView()!!.deleteOldDataFromOldUserSuccess()\n            }, {\n                it.printStackTrace()\n            }))\n\noverride fun deleteAllNotes(): Completable = mDbHelper.deleteAllNotes()\n</code></pre>\n\n<p>Please help me.</p>\n"}, {"tags": ["java", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1551295678, "post_id": 54912963, "comment_id": 96592603, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18478258/android-retrofit-parameterized-headers\">Android Retrofit Parameterized @Headers</a>"}, {"owner": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "edited": false, "score": 0, "creation_date": 1551312374, "post_id": 54912963, "comment_id": 96598943, "body": "Try to look at <a href=\"https://stackoverflow.com/a/29885004/6235974\">stackoverflow.com/a/29885004/6235974</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1551881837, "post_id": 55025052, "comment_id": 96803274, "body": "There are two issues with the <code>@Header</code> annotation. One: It&#39;s impossible to add multiple headers with the same name. Two: It requires that the full header value is provided as a string value. So in your example, the <code>&quot;jwt&quot;</code> needs be changed to <code>&quot;authorization&quot;</code> and the <code>jwt:String</code> must ACTUALLY contain <code>&quot;Bearer &quot; + jwtToken</code>"}, {"owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "reply_to_user": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1551887806, "post_id": 55025052, "comment_id": 96807105, "body": "As stated in the documentation, the Header annotation also supports List and array types, i.e: fun something(@Header(&quot;jwt&quot;) jwt: List&lt;String&gt;,...)  Regarding the second problem, yes, it think there is no support for templating. You would have to parse this yourself."}], "tags": [], "owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1551881340, "creation_date": 1551881340, "answer_id": 55025052, "question_id": 54912963, "link": "https://stackoverflow.com/questions/54912963/retrofit-is-there-an-path-equivalent-for-headers/55025052#55025052", "title": "Retrofit - is there an `@Path` equivalent for headers?", "body": "<p>According to the documentation: <a href=\"https://square.github.io/retrofit/2.x/retrofit/index.html?retrofit2/http/Header.html\" rel=\"nofollow noreferrer\">https://square.github.io/retrofit/2.x/retrofit/index.html?retrofit2/http/Header.html</a>\nthere is the <code>@Header</code> annotation.</p>\n\n<p>So in your case it would be:</p>\n\n<pre><code>fun something(@Header(\"jwt\")jwt:String, @Body somethingRequest:JsonObject):Call&lt;JsonObject&gt;\n</code></pre>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551881340, "creation_date": 1551295190, "question_id": 54912963, "link": "https://stackoverflow.com/questions/54912963/retrofit-is-there-an-path-equivalent-for-headers", "title": "Retrofit - is there an `@Path` equivalent for headers?", "body": "<p>Or how else would you write something like this?</p>\n\n<pre><code>@Headers(\n        \"$CONTENT_TYPE:${BodyContentType.JSON}\",\n        \"$AUTHORIZATION:Bearer {jwt}\"\n)\n@POST(\"/some/where\")\nfun something(@Path(\"jwt\")jwt:String, @Body somethingRequest:JsonObject):Call&lt;JsonObject&gt;\n</code></pre>\n\n<p>(which results in </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: URL \"/some/where\" does not contain \"{jwt}\". (parameter #1)</p>\n</blockquote>\n\n<p>)</p>\n"}, {"tags": ["java", "kotlin", "interface", "visibility"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1551295664, "post_id": 54912499, "comment_id": 96592599, "body": "I think this is a Kotlin thing. Java would usually allow it. The crux of the issue here is that you have a public method which exposes a package private type. <code>public void registerListener(MyListener listener)</code>. Either <code>MyListener</code> should be public, or this method should be package private. <b>Anything else</b> is bad design."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 2, "last_activity_date": 1551444233, "last_edit_date": 1551444233, "creation_date": 1551297088, "answer_id": 54913433, "question_id": 54912499, "link": "https://stackoverflow.com/questions/54912499/increase-visibility-of-interface/54913433#54913433", "title": "Increase visibility of interface", "body": "<p>Kotlin does not like exposing internal API's in public methods, and actually go as far as giving compiler errors if you do this. This also affects Java code if you call the code from Kotlin, but it throws an exception at runtime rather than at compile time.</p>\n\n<p>As for solutions, Kotlin has <code>internal</code>, but this is a really special keyword: unlike Java's package private (no modifier), internal makes it visible everywhere in the module. </p>\n\n<p>That's also one solution: convert to Kotlin and use <code>internal</code>. If you're making a library, it won't be visible outside the module, but you'll be able to declare it internally at least. </p>\n\n<p>The second is converting the interface to a class and using a <code>sealed class</code>. Note that this requires all children to be declared in the same file. See <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">this</a> for more info on sealed classes.</p>\n\n<p>And the final solution: make it public. I <strong>highly</strong> recommend you go with this over the other alternatives, mainly because it's the easiest option and the one that doesn't require hackish design. Also, if you're planning on accessing the interface somewhere else, you'd have to use specific implementations rather than the general superclass, which isn't always feasible (depends on your use though).</p>\n\n<p>And there's also the option of only using Java, but I assume you'd prefer mixing since you're already doing that. But as <a href=\"https://stackoverflow.com/questions/54912499/increase-visibility-of-interface#comment96592599_54912499\">Michael mentioned</a>, you should really avoid this kind of design: it's bad design. If I were you, I'd make it public either way. </p>\n"}], "owner": {"reputation": 2622, "user_id": 2509453, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83630742111abce16e8e104158644bc2?s=128&d=identicon&r=PG", "display_name": "Johannes", "link": "https://stackoverflow.com/users/2509453/johannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 54913433, "answer_count": 1, "score": 1, "last_activity_date": 1557089978, "creation_date": 1551293228, "last_edit_date": 1557089978, "question_id": 54912499, "link": "https://stackoverflow.com/questions/54912499/increase-visibility-of-interface", "title": "Increase visibility of interface", "body": "<p>I have two packages:</p>\n\n<p><strong>1.</strong> <code>com.test.hidden</code>:</p>\n\n<p>Contains an <strong>protected</strong> interface <code>MyListener</code> and a public class <code>FancyClass</code> with a public method for registering <code>MyListener</code> objects:</p>\n\n<pre><code>package com.test.hidden;\npublic class FancyClass {\n    public void registerListener(MyListener listener) {\n        // ...\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package com.test.hidden;\ninterface MyListener {\n    void doSomething();\n}\n</code></pre>\n\n<p><strong>2.</strong> <code>com.test.myapp</code>:</p>\n\n<p>Here I have an instance of <code>FancyClass</code> and I want to register a new <code>MyListener</code> object to it.</p>\n\n<p>Obviously this will not work since <code>MyListener</code> is not visible in <code>com.test.myapp</code>. My intuition was to create a new interface in <code>com.test.hidden</code> that extends <code>MyListener</code> and is public:</p>\n\n<pre><code>package com.test.hidden;\npublic interface MyListenerWrapper extends MyListener {\n    @Override\n    void doSomething();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package com.test.myapp\nimport com.test.hidden.FancyClass\nimport com.test.hidden.MyListenerWrapper\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        val fc = FancyClass()\n        fc.registerListener(object : MyListenerWrapper {\n            override fun doSomething() {\n                // ...\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>But I get an <code>IllegalAccessError</code>:</p>\n\n<pre><code>java.lang.IllegalAccessError: Illegal class access: 'com.test.myapp.MainActivity' attempting to access 'com.test.hidden.MyListener' (declaration of 'com.test.myapp.MainActivity' appears in /data/app/com.test.myapp-ZzNlHhuBCCdAEV4QsZHspw==/base.apk)\n        at com.test.myapp.MainActivity.onCreate(MainActivity.kt:15)\n        at android.app.Activity.performCreate(Activity.java:7136)\n        at android.app.Activity.performCreate(Activity.java:7127)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2899)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3054)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1814)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:280)\n        at android.app.ActivityThread.main(ActivityThread.java:6710)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n\n<p>When I change the visibility of <code>MyListener</code> to public it works just fine, so I suspect Java does not like increasing the visibility of interfaces in subinterfaces. Why doesn't this work and how to solve this?</p>\n"}, {"tags": ["regex", "kotlin", "multiline"], "answers": [{"comments": [{"owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "edited": false, "score": 1, "creation_date": 1551294975, "post_id": 54912471, "comment_id": 96592302, "body": "val regex = &quot;(?s)($chart:.*?version: )(.*?)\\n&quot;.toRegex(MULTILINE) - Works as well. But thanks for answering. Any comments on which is to be preferred?"}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "reply_to_user": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "edited": false, "score": 0, "creation_date": 1551295088, "post_id": 54912471, "comment_id": 96592351, "body": "@user672009: You can use either. Both are just two ways of achieving same thing."}, {"owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "reply_to_user": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "edited": false, "score": 1, "creation_date": 1551295811, "post_id": 54912471, "comment_id": 96592672, "body": "However, performance wise this <code>(web-env:\\s+version: )(\\S+)</code> is better <a href=\"https://regex101.com/r/hEmgYW/3\" rel=\"nofollow noreferrer\">Demo1</a> (30 steps) than <code>(web-env.*?version: )(.*?)\\n</code> <a href=\"https://regex101.com/r/hEmgYW/2\" rel=\"nofollow noreferrer\">Demo2</a> (50 steps)"}], "tags": [], "owner": {"reputation": 17840, "user_id": 2102956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b347220471064a3cb72d768ec2314e6?s=128&d=identicon&r=PG", "display_name": "Pushpesh Kumar Rajwanshi", "link": "https://stackoverflow.com/users/2102956/pushpesh-kumar-rajwanshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1551293450, "last_edit_date": 1551293450, "creation_date": 1551293060, "answer_id": 54912471, "question_id": 54912173, "link": "https://stackoverflow.com/questions/54912173/replace-version-in-multiline-string/54912471#54912471", "title": "Replace version in multiline string", "body": "<p>Your <code>MULTILINE</code> in the code is giving error and not working. May be its because of some missing import but I have no knowledge of Kotlin at all. But seems like that <code>MULTILINE</code> is like <code>DOTALL</code> to enable dot matching newlines too. The <code>.*</code> in your regex is greedy so even if I make your regex work, it will replace the second version in your text, hence you should use non-greedy version in your regex <code>[\\\\w\\\\W]*?</code> and <code>\\\\S+</code> matches one or more non-space characters and will match <code>1.7.0</code> although you can even write it as <code>\\\\d+(\\\\.\\\\d+)*</code> if you want to be precisely matching only digit version.</p>\n\n<p>I have removed <code>MULTILINE</code> from your code and corrected regex, which seems to be working fine. Check out this modified code,</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val content = \"\"\"releases:\n      web-env:\n        version: 1.7.0\n        enabled: true\n      web-app:\n        enabled: true\n        version: 1.39.0\n    \"\"\"\n\n    val chart = \"web-env\"\n    val version = \"new version\"\n\n    val regex = \"($chart:[\\\\w\\\\W]*?version: )(\\\\S+)\".toRegex()\n    val replace = content.replaceFirst(regex, \"$1$version\")\n    println(replace)\n}\n</code></pre>\n\n<p>Note: <code>[\\\\w\\\\W]</code> is another way to enable matching any character including newline.</p>\n\n<p>This prints following output which is what I guess you expect,</p>\n\n<pre><code>releases:\n      web-env:\n        version: new version\n        enabled: true\n      web-app:\n        enabled: true\n        version: 1.39.0\n</code></pre>\n\n<p><strong><a href=\"https://pl.kotl.in/rJ6loU4UN\" rel=\"nofollow noreferrer\">Kotlin Code Demo</a></strong></p>\n\n<p>Hope this works fine and let me know for any issues.</p>\n"}], "owner": {"reputation": 3277, "user_id": 672009, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/610b54d5481a46c3d8717d110b831fd4?s=128&d=identicon&r=PG", "display_name": "user672009", "link": "https://stackoverflow.com/users/672009/user672009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 54912471, "answer_count": 1, "score": 0, "last_activity_date": 1551293450, "creation_date": 1551291939, "question_id": 54912173, "link": "https://stackoverflow.com/questions/54912173/replace-version-in-multiline-string", "title": "Replace version in multiline string", "body": "<p>I'm trying to replace the version of a chart name in a file and have constructed the following trimmed down example. But nothing gets replaced. Any idea about what I'm doing wrong?</p>\n\n<pre><code>val content = \"\"\"releases:\n  web-env:\n    version: 1.7.0\n    enabled: true\n  web-app:\n    enabled: true\n    version: 1.39.0\n\"\"\"\n\nval chart = \"web-env\"\nval version = \"new version\"\n\nval regex = \"($chart:.*version: )(.*)\\n\".toRegex(MULTILINE)\nval replace = content.replaceFirst(regex, \"$1$version\")\nprintln(replace)\n</code></pre>\n"}, {"tags": ["php", "kotlin"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1551301819, "post_id": 54912032, "comment_id": 96595340, "body": "You can&#39;t represent the decimal number 1.57 exactly in binary. Your very approach is flawed therefore, you need a decimal type if you want to round to decimal places. Or, better, you don&#39;t round until you convert the number to text, where you do that implicitly via the format specification. Btw: &quot;is not working&quot; is not a useful problem description, see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1551293922, "creation_date": 1551293922, "answer_id": 54912660, "question_id": 54912032, "link": "https://stackoverflow.com/questions/54912032/convert-php-function-to-kotlin/54912660#54912660", "title": "Convert php function to kotlin", "body": "<p>It was nearly correct:</p>\n\n<ul>\n<li>Use <code>Double</code> and not <code>Float</code>, because this is the default floating point number in Kotlin. </li>\n<li>Define a type for the <code>precision</code> parameter, e.g. Int</li>\n<li>Define a return type, e.g. Double </li>\n</ul>\n\n<pre><code>fun round_up(number: Double, precision: Int = 2): Double {\n    val fig = pow(10.0, precision.toDouble())\n    return ceil(number * fig) / fig\n}\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 7771545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TmMPXnIpzBc/AAAAAAAAAAI/AAAAAAAAABc/5fjz56hpjBs/photo.jpg?sz=128", "display_name": "Rafael Guimar&#227;es", "link": "https://stackoverflow.com/users/7771545/rafael-guimar%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 54912660, "answer_count": 1, "score": 0, "last_activity_date": 1551293922, "creation_date": 1551291395, "question_id": 54912032, "link": "https://stackoverflow.com/questions/54912032/convert-php-function-to-kotlin", "title": "Convert php function to kotlin", "body": "<p>How to convert this php function to kotlin?</p>\n\n<pre><code>function round_up($number, $precision = 2)\n{\n    $fig = pow(10, $precision);\n    return (ceil($number * $fig) / $fig);\n}\n</code></pre>\n\n<p>I try to do this but is not working</p>\n\n<pre><code> fun round_up(number: Float, precision = 2){\n    val fig = pow(10,precision)\n    return (ceil(number * fig) / fig)\n }\n</code></pre>\n\n<p>Expected usage:</p>\n\n<pre><code>    val currentFloatValue = 1.568\n    val finalValue = round_up(currentFloatValue)\n    // result should be\n    // 1.57\n</code></pre>\n"}, {"tags": ["gradle", "groovy", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 4, "last_activity_date": 1598712190, "last_edit_date": 1598712190, "creation_date": 1551295506, "answer_id": 54913046, "question_id": 54911188, "link": "https://stackoverflow.com/questions/54911188/test-classes-in-groovy-dont-see-test-classes-in-kotlin/54913046#54913046", "title": "Test classes in Groovy don&#39;t see test classes in Kotlin", "body": "<p>The issue is that by default <code>compileTestGroovy</code> doesn't include <code>build/classes/kotlin/test</code> folder, so your Kotlin util class cannot be seen from Groovy tests.</p>\n<p>In order to fix it you can manually add Kotlin test sources to <code>compileTestGroovy</code>'s classpath. Add the following to your <code>build.gradle</code>:</p>\n<pre><code>compileTestGroovy.classpath += files(compileTestKotlin.destinationDir)\n</code></pre>\n<p>If your build file is <code>build.gradle.kts</code>, add the following</p>\n<pre><code>// make groovy test code depend on kotlin test code\ntasks.named&lt;GroovyCompile&gt;(&quot;compileTestGroovy&quot;) {\n    classpath += files(tasks.compileTestKotlin)\n}\n</code></pre>\n"}], "owner": {"reputation": 3602, "user_id": 20391, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/26a659183b1f5de95b06bf365bf9836b?s=128&d=identicon&r=PG", "display_name": "Pavel Bernshtam", "link": "https://stackoverflow.com/users/20391/pavel-bernshtam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 54913046, "answer_count": 1, "score": 3, "last_activity_date": 1598712190, "creation_date": 1551288289, "question_id": 54911188, "link": "https://stackoverflow.com/questions/54911188/test-classes-in-groovy-dont-see-test-classes-in-kotlin", "title": "Test classes in Groovy don&#39;t see test classes in Kotlin", "body": "<p>I have gradle project with Kotlin plugin.</p>\n\n<p>In my project I uses groovy and Spock for tests.\nOne of utility classes used in tests in written in Kotlin and I put it to src/test/kotlin</p>\n\n<p>I'm trying to use this class from groovy tests (Spock specification), I see that \"compileTestKotlin\" task runs first and compiles my utility class, but still \"compileTestGroovy\" fails, because it does not see it.</p>\n\n<p>How can I fix this situation?\nHow to add build/classes/kotlin/test/ to the compilation classpath of groovy tests?</p>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "system.reactive", "dagger"], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 2851275, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2ed02ae34b98fc93cbf1007e7f152647?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Tereshchenko", "link": "https://stackoverflow.com/users/2851275/serhii-tereshchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1551296323, "creation_date": 1551296323, "answer_id": 54913253, "question_id": 54911158, "link": "https://stackoverflow.com/questions/54911158/dagger-cant-inject-some-instances-of-same-class/54913253#54913253", "title": "Dagger can&#39;t @Inject some instances of same class", "body": "<p>So, after some time of researching I found solution. In Kotlin with @Inject while using @Named you should do this in other way. You inject should look like this:</p>\n\n<pre><code>@field:[Inject Named(Keys.SCHEDULER_UI)]\nlateinit var uiScheduler: Scheduler\n@field:[Inject Named(Keys.SCHEDULER_ASYNC)]\nlateinit var asyncScheduler: Scheduler\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 2851275, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/2ed02ae34b98fc93cbf1007e7f152647?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Tereshchenko", "link": "https://stackoverflow.com/users/2851275/serhii-tereshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551296323, "creation_date": 1551288170, "question_id": 54911158, "link": "https://stackoverflow.com/questions/54911158/dagger-cant-inject-some-instances-of-same-class", "title": "Dagger can&#39;t @Inject some instances of same class", "body": "<p>I ran into strange problem.\nI need to inject two schedulers. For ui and async operations. I have RxModule class:</p>\n\n<pre><code>@Module\nclass RxModule {\n\n@Named(Keys.SCHEDULER_UI)\n@Provides\n@Singleton\nfun provideUiScheduler(): Scheduler = AndroidSchedulers.mainThread()\n\n@Named(Keys.SCHEDULER_ASYNC)\n@Provides\n@Singleton\nfun provideAsyncScheduler(): Scheduler = Schedulers.io()\n}\n</code></pre>\n\n<p>And I inject them into my presenter as </p>\n\n<pre><code>@Named(Keys.SCHEDULER_UI)\n@Inject\nlateinit var uiScheduler: Scheduler\n\n@Named(Keys.SCHEDULER_ASYNC)\n@Inject\nlateinit var asyncScheduler: Scheduler\n</code></pre>\n\n<p>But Dagger falls down with exception:</p>\n\n<pre><code>io.reactivex.Scheduler cannot be provided without an @Provides- or @Produces-annotated method\n</code></pre>\n\n<p>Injections looks simple:</p>\n\n<pre><code>ApplicationLoader.instance.getApplicationComponent().inject(presenter)\n</code></pre>\n\n<p>My AppComponent:</p>\n\n<pre><code>@Component(modules = [RxModule::class, ApplicationModule::class, WebModule::class, RepositoryModule::class])\n@Singleton\ninterface AppComponent {\n    fun inject(presenter: MainPresenter)\n    fun inject(presenter: AppDetailsPresenter)\n}\n</code></pre>\n\n<p>Does anyone faced the same issue? Thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "tensorflow-lite", "firebase-mlkit"], "comments": [{"owner": {"reputation": 551, "user_id": 11031154, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yc7uq0wKZiU/AAAAAAAAAAI/AAAAAAAAPE4/ERmwY4OsJ_U/photo.jpg?sz=128", "display_name": "Sachin Joglekar", "link": "https://stackoverflow.com/users/11031154/sachin-joglekar"}, "edited": false, "score": 0, "creation_date": 1551398678, "post_id": 54911149, "comment_id": 96636443, "body": "What format does your model take inputs in? The pre-processing steps depend on whether its int8/uint8 or float."}, {"owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "reply_to_user": {"reputation": 551, "user_id": 11031154, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Yc7uq0wKZiU/AAAAAAAAAAI/AAAAAAAAPE4/ERmwY4OsJ_U/photo.jpg?sz=128", "display_name": "Sachin Joglekar", "link": "https://stackoverflow.com/users/11031154/sachin-joglekar"}, "edited": false, "score": 0, "creation_date": 1551561860, "post_id": 54911149, "comment_id": 96687161, "body": "@SachinJoglekar float32"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5090876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dd9fc9bc63499d88417c32b2df7fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Cheung", "link": "https://stackoverflow.com/users/5090876/kevin-cheung"}, "is_accepted": false, "score": 0, "last_activity_date": 1553118011, "creation_date": 1553118011, "answer_id": 55270597, "question_id": 54911149, "link": "https://stackoverflow.com/questions/54911149/inaccurate-prediction-in-mlkit-custom-model/55270597#55270597", "title": "Inaccurate prediction in MLKit custom model", "body": "<p>I think <code>(Color.red(px) - 127) / 255.0f</code> scales to [-0.5, 0.5]. Does <code>(Color.red(px) - 127) / 128.0f</code> produce better results?</p>\n"}], "owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553118011, "creation_date": 1551288145, "last_edit_date": 1551748227, "question_id": 54911149, "link": "https://stackoverflow.com/questions/54911149/inaccurate-prediction-in-mlkit-custom-model", "title": "Inaccurate prediction in MLKit custom model", "body": "<p>Trying to use a retrained MobileNet model to predict dog breeds, but when using the model through Firebase MLKit, it is unable to correctly predict the dog breed. The desktop model and the <code>tflite</code> model are both able to correctly predict the breed, but using the same image <a href=\"https://www.petplan.co.uk/images/breed-info/pug/common-health-conditions-carousel-m7a7729-cutout.webp\" rel=\"nofollow noreferrer\">of a pug</a>, the desktop model and the <code>tflite</code> model (on desktop) are 87.8% confident that it is a pug; whereas on MLKit, the confidence is 1.47x10-2% confident.</p>\n\n<p>I'm suspecting the issue is in my preprocessing of the image in the app code. <a href=\"https://firebase.google.com/docs/ml-kit/android/use-custom-models\" rel=\"nofollow noreferrer\">The docs</a> show how to scale the pixels in the range -1.0, 1.0; which according to the code for the keras image preprocessing function is what is required.</p>\n\n<p>Here is my <code>infer(iStream)</code> function where I think the error may lie. Any help is greatly appreciated, this is driving me crazy.</p>\n\n<pre><code>private fun infer(iStream: InputStream?) {\n    Log.d(\"ML_TAG\", \"infer\")\n    val bmp = Bitmap.createScaledBitmap(BitmapFactory.decodeStream(iStream), 224, 224, true)\n    i.setImageBitmap(bmp)\n    val bNum = 0\n    val input = Array(1) { Array(224) { Array(224) { FloatArray(3) } } }\n    for (x in 0..223) {\n        for (y in 0..223) {\n            val px = bmp.getPixel(x, y)\n            input[bNum][x][y][0] = (Color.red(px) - 127) / 255.0f\n            input[bNum][x][y][1] = (Color.green(px) - 127) / 255.0f\n            input[bNum][x][y][2] = (Color.blue(px) - 127) / 255.0f\n        }\n    }\n\n    val inputs = FirebaseModelInputs.Builder()\n        .add(input)\n        .build()\n\n    interpreter.run(inputs, ioOpts).addOnSuccessListener { res -&gt;\n        val o = res.getOutput&lt;kotlin.Array&lt;FloatArray&gt;&gt;(0)\n        val prob = o[0]\n\n        val r = BufferedReader(InputStreamReader(assets.open(\"retrained_labels.txt\")))\n        val arrToSort = arrayListOf&lt;Pair&lt;String, Float&gt;&gt;()\n        val rArr = r.readLines()\n        for (i in prob.indices) {\n            val p = Pair(rArr[i], prob[i])\n            arrToSort.add(p)\n        }\n        val sortedList = arrToSort.sortedWith(compareByDescending {it.second})\n        val topFive = sortedList.slice(0..4)\n        arrToSort.forEach {\n            if (it.first == \"pug\") {\n                Log.i(\"ML_TAG\", \"Pug: ${it.second}\")\n            }\n        }\n        sortedList.forEach {\n            if(it.first == \"pug\") {\n                Log.i(\"ML_TAG\", \"Pug: ${it.second}\")\n            }\n        }\n        topFive.forEach {\n            Log.i(\"ML_TAG\", \"${it.first}: ${it.second}\")\n        }\n    }\n        .addOnFailureListener { res -&gt;\n            Log.e(\"ML_TAG\", res.message)\n        }\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-test"], "comments": [{"owner": {"reputation": 606, "user_id": 2464172, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/48fbf0f80c9d98d6b6beec90468cf12f?s=128&d=identicon&r=PG", "display_name": "Gopi", "link": "https://stackoverflow.com/users/2464172/gopi"}, "edited": false, "score": 0, "creation_date": 1551288281, "post_id": 54910942, "comment_id": 96589131, "body": "The problem could be of improperly Autowired interface or your testclass is not in the same package as that of your components or missing specification of context to load or type of Autowired object is abstract class etc..  Look for these possibilities."}, {"owner": {"reputation": 1938, "user_id": 1099093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbb34059dbba60ef1621a8a8aa1d3904?s=128&d=identicon&r=PG", "display_name": "Sterling Duchess", "link": "https://stackoverflow.com/users/1099093/sterling-duchess"}, "reply_to_user": {"reputation": 606, "user_id": 2464172, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/48fbf0f80c9d98d6b6beec90468cf12f?s=128&d=identicon&r=PG", "display_name": "Gopi", "link": "https://stackoverflow.com/users/2464172/gopi"}, "edited": false, "score": 0, "creation_date": 1551290213, "post_id": 54910942, "comment_id": 96590064, "body": "None of it really."}, {"owner": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 0, "creation_date": 1551293076, "post_id": 54910942, "comment_id": 96591433, "body": "Give a try with add the @ContextConfiguration annotation in your test class"}, {"owner": {"reputation": 1938, "user_id": 1099093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbb34059dbba60ef1621a8a8aa1d3904?s=128&d=identicon&r=PG", "display_name": "Sterling Duchess", "link": "https://stackoverflow.com/users/1099093/sterling-duchess"}, "edited": false, "score": 0, "creation_date": 1551294520, "post_id": 54910942, "comment_id": 96592071, "body": "I resolved the issue by using @MockBean on my repositories."}, {"owner": {"reputation": 1938, "user_id": 1099093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbb34059dbba60ef1621a8a8aa1d3904?s=128&d=identicon&r=PG", "display_name": "Sterling Duchess", "link": "https://stackoverflow.com/users/1099093/sterling-duchess"}, "reply_to_user": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 0, "creation_date": 1551295112, "post_id": 54910942, "comment_id": 96592361, "body": "@GovindParashar Now I can&#39;t autowire <code>@Configuration</code> class : ("}, {"owner": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 0, "creation_date": 1551299980, "post_id": 54910942, "comment_id": 96594543, "body": "annotation @ContextConfiguration(classes = {YourBeans.class})"}], "owner": {"reputation": 1938, "user_id": 1099093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbb34059dbba60ef1621a8a8aa1d3904?s=128&d=identicon&r=PG", "display_name": "Sterling Duchess", "link": "https://stackoverflow.com/users/1099093/sterling-duchess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551287432, "creation_date": 1551287432, "question_id": 54910942, "link": "https://stackoverflow.com/questions/54910942/springboot-no-qualifying-bean-of-type", "title": "SpringBoot: No qualifying bean of type", "body": "<p>Trying to run my tests I get <code>No qualifying bean of type</code> exception for one of my repository dependencies.</p>\n\n<p>I have the following setup:  </p>\n\n<pre><code>@Repository  \ninterface UserRepository : CrudRepository&lt;User, Long&gt; {}\n\n@Service\npublic class UserService(val userRepository: UserRepository) {}\n\n@Configuration\npublic class SomeConfig {}\n\n@SpringBootTest\n@RunWith(SpringRunner::class)\nclass SomeConfigTest {}\n</code></pre>\n\n<p>No qualifying bean exception is thrown for <code>UserService</code>'s <code>UserRepository</code> dependency. </p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 21, "user_id": 7949522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8818c08d9cb374ec0ddfb5af0e8a495?s=128&d=identicon&r=PG&f=1", "display_name": "PyGuy121", "link": "https://stackoverflow.com/users/7949522/pyguy121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551286620, "creation_date": 1551286620, "question_id": 54910696, "link": "https://stackoverflow.com/questions/54910696/android-studio-and-kotlin-repl-trouble-importing-classes-in-repl", "title": "Android Studio and Kotlin REPL &gt; Trouble importing classes in REPL", "body": "<p>I am writing Kotlin classes that I wish to test in the Kotlin REPL on Android. When I start up the REPL and try to import my class I'm getting an \"Unresolved Reference\" error. I'm struggling to figure out what path needs to be put in front of the class name. </p>\n\n<p>My path is \"C:\\Users\\Odidn\\AndroidStudioProjects\\GDC\" (GDC being the project name), and The package on all of these files in my app is \"com.odidn.gdc\" however when I try import com.odidn.gdc.Dungeon, import gdc.Dungeon, (or any length/combination of the words in the package/my path) I still get an Unresolved Reference error. Is there something simple I'm missing?</p>\n"}, {"tags": ["json", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1551292241, "post_id": 54910851, "comment_id": 96591006, "body": "thanks @cghislai,  it is on android so would like to see if with org.json.JSONObject or Gson (has already dependency on it) could do it.  and dont want add another dependency on &quot;javax.json:javax.json-api:1.1.4&quot;"}], "tags": [], "owner": {"reputation": 1599, "user_id": 3074381, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/34b5e7c4980ffa89bae21daf59654680?s=128&d=identicon&r=PG&f=1", "display_name": "cghislai", "link": "https://stackoverflow.com/users/3074381/cghislai"}, "is_accepted": false, "score": 1, "last_activity_date": 1551287118, "creation_date": 1551287118, "answer_id": 54910851, "question_id": 54910559, "link": "https://stackoverflow.com/questions/54910559/how-to-get-key-from-the-json-and-preserve-the-order/54910851#54910851", "title": "How to get key from the json and preserve the order", "body": "<p>you could use jsonparser rather than jsonreader so you control the event flow.\nSee <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/stream/JsonParser.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/json/stream/JsonParser.html</a></p>\n\n<p>Note that your question is neither kotlin nor gson specific.</p>\n"}, {"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1551357014, "post_id": 54915928, "comment_id": 96616108, "body": "thanks @Micha\u0142 Ziober for the good explanation. two questions: 1.   will the solution work for different/arbitrary type json, meaning if the json starts from a array i.e. json = &quot;[......]&quot; or json=&quot;{data: [...]}; 2. any thought about using <code>com.google.gson.stream.JsonReader(StringReader(jsonStr))</code>, traverse with checking the JsonToken = reader.peek()? both are loading into a Reader so the performance might be similar."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1551357277, "post_id": 54915928, "comment_id": 96616267, "body": "<code>1.</code> Yes, order in array will be the same as in <code>JSON</code>. <code>2.</code> Traversing manually will be much complicated but could be faster. If <code>JSON</code> is not enormously big it is not worth of it."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1551358300, "post_id": 54915928, "comment_id": 96616897, "body": "hmm, the json data is large (over a meg is normal case) here. thx!"}], "tags": [], "owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "is_accepted": true, "score": 2, "last_activity_date": 1551309330, "last_edit_date": 1551309330, "creation_date": 1551308809, "answer_id": 54915928, "question_id": 54910559, "link": "https://stackoverflow.com/questions/54910559/how-to-get-key-from-the-json-and-preserve-the-order/54915928#54915928", "title": "How to get key from the json and preserve the order", "body": "<p><code>org.json.JSONObject</code> internally uses <code>HashMap</code>. They even added some comment to it:</p>\n\n<blockquote>\n  <p><code>HashMap</code> is used on purpose to ensure that elements are unordered by\n  the specification. <code>JSON</code> tends to be a portable transfer format to\n  allows the container implementations to rearrange their items for a\n  faster element retrieval based on associative access. Therefore, an\n  <strong>implementation mustn't rely on the order of the item</strong>.</p>\n</blockquote>\n\n<p>Use <code>Gson</code>. It uses <code>com.google.gson.internal.LinkedTreeMap</code> implementation for <code>Map</code>. From it's documentation:</p>\n\n<blockquote>\n  <p>A map of comparable keys to values. Unlike <code>TreeMap</code>, this class\n  uses <strong>insertion</strong> order for iteration order. Comparison order is only\n  used as an optimization for efficient insertion and removal.<br>\n  This implementation was derived from Android 4.1's TreeMap class.</p>\n</blockquote>\n\n<p>So, for below <code>JSON</code> <code>payload</code>:</p>\n\n<pre><code>{\n  \"status\": \"status\",\n  \"date\": \"01/10/2019\",\n  \"abc\": {\n    \"Field1\": \"value1\",\n    \"key\": \"value2\"\n  },\n  \"rgj\": {\n    \"key\": \"value2\",\n    \"Field1\": \"value3\"\n  },\n  \"name\": \"Rick\"\n}\n</code></pre>\n\n<p>This example app:</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.reflect.TypeToken;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.lang.reflect.Type;\nimport java.util.Map;\n\npublic class GsonApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(\"./resource/test.json\").getAbsoluteFile();\n        Gson gson = new GsonBuilder().create();\n\n        Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {\n        }.getType();\n        Map&lt;String, Object&gt; map = gson.fromJson(new FileReader(jsonFile), type);\n        map.forEach((k, v) -&gt; {\n            if (v instanceof Map) {\n                System.out.println(k);\n                ((Map) v).forEach((k1, v1) -&gt; System.out.println(\"   \" + k1 + \" =&gt; \" + v1));\n            } else {\n                System.out.println(k + \" =&gt; \" + v);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>status =&gt; status\ndate =&gt; 01/10/2019\nabc\n   Field1 =&gt; value1\n   key =&gt; value2\nrgj\n   key =&gt; value2\n   Field1 =&gt; value3\nname =&gt; Rick\n</code></pre>\n\n<p>Notice that <code>key</code> and <code>Field1</code> are in different order in <code>abc</code> and <code>rgj</code> objects.</p>\n"}, {"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1552562501, "post_id": 55150229, "comment_id": 97061418, "body": "the problem is based on what to rebuild the order.  dont know what data it will be look like but only know it has key value pair."}], "tags": [], "owner": {"reputation": 41, "user_id": 832267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1f9d35155b4b4d45851415923c6493?s=128&d=identicon&r=PG", "display_name": "Lorenzo", "link": "https://stackoverflow.com/users/832267/lorenzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1552506952, "creation_date": 1552506952, "answer_id": 55150229, "question_id": 54910559, "link": "https://stackoverflow.com/questions/54910559/how-to-get-key-from-the-json-and-preserve-the-order/55150229#55150229", "title": "How to get key from the json and preserve the order", "body": "<p>Another thing you can do is refer to the String jsonData in your example and rebuild the order. </p>\n\n<p>Something like:</p>\n\n<pre><code>JSONObject json = new JSONObject(jsonData);\nIterator&lt;String&gt; keys = json.keys();\nList&lt;KeyOrder&gt; ordering = new ArrayList();\nwhile(keys.hasNext()) {\n    String key = keys.next();\n    int loc = jsonData.indexOf('\"' + key + '\"');\n    ordering.add(new KeyOrder(loc, key));\n}\nCollections.sort(ordering);\nfor(KeyOrder order: ordering) {\n    Object value = json.get(order.getKey());\n    // process the key and value\n}\n\npublic class KeyOrder implements Comparable&lt;KeyOrder&gt; {\n    private int order;\n    private String key;\n\n    public KeyOrder(int order, String key) {\n        this.order = order;\n        this.key = key;\n    }\n\n    @Override\n    public int compareTo(KeyOrder o) {\n        return order - o.getOrder();\n    }\n\n    private int getOrder() {\n        return order;\n    }\n\n    public String getKey() {\n        return key;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 0, "accepted_answer_id": 54915928, "answer_count": 3, "score": 0, "last_activity_date": 1552506952, "creation_date": 1551286198, "last_edit_date": 1551309100, "question_id": 54910559, "link": "https://stackoverflow.com/questions/54910559/how-to-get-key-from-the-json-and-preserve-the-order", "title": "How to get key from the json and preserve the order", "body": "<p>I have a <code>JSON</code> with some <code>key-value</code> pairs. I need to pick up by name and process it's value differently. The oder of the process should be same order as the keys listed in the <code>JSON</code> (<code>JSON</code> is unknown, only knows it will have some key and corresponding value, so cant not know the order outside of the <code>JSON</code>).</p>\n\n<p>Simplified sample usage:</p>\n\n<pre><code>String jsonData = \"{key1:{some other data}, key2:{sub-key:sub-value}}\";\nval jsonObject = JSONObject(jsonData)\nval names = jsonObject.keys()\nif (names.hasNext()) {\n val key = names.next()\n val valueJson = jsonData.optString(key)\n val gson = Gson()\n\n val resultList = ArrayList&lt;Data&gt; () // result should keep the order as the keys in the json\n if (key == \"key1\") {\n  val parsedResult = gson.fromJson &lt;POJO_1&gt; (valueJson, POJO_1::class.java)\n  resultList.add(processDataFromKey1(parsedResult))\n } else if (key == \"key2\") {\n  val parsedResult = gson.fromJson &lt;POJO_2&gt; (valueJson, POJO_2::class.java)\n  resultList.add(processDataFromKey2(parsedResult))\n }\n}\n</code></pre>\n\n<p>The problem is the <code>jsonObject.keys()</code> the order of the keys is <code>undefined</code>.</p>\n\n<p>So how to preserve the order of the keys from the <code>JSON</code> string (don't want to add dependency <code>javax.json:javax.json-api</code>)</p>\n"}, {"tags": ["java", "android", "kotlin", "junit4"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1551295369, "last_edit_date": 1551295369, "creation_date": 1551294837, "answer_id": 54912869, "question_id": 54909959, "link": "https://stackoverflow.com/questions/54909959/unit-test-cases-for-callbacks-using-junit/54912869#54912869", "title": "Unit test cases for Callbacks using Junit", "body": "<p>The problem is that the test finishes before the callback is invoked and the <code>assert</code> is in the wrong thread.\nYou have to copy the result from the callback back to the main thread. Use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\"><code>CompletableFuture</code></a>. \nIf you like to fail the test after a period of time you can use the <code>get</code> method with a timeout value:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass NetworkApiTest {\n    var networkApi: NetworkApi? = null\n\n    @Test\n    fun testEmptyToken() {\n        val future = CompletableFuture&lt;String&gt;()\n        networkApi = NetworkApi(\"\")\n        networkApi?.getToken {\n            future.complete(it)\n        }\n        val result = future.get(3,TimeUnit.SECONDS)\n        Assert.assertThat(it, isEmptyOrNullString())\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4410516, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-lTkrIzrC8II/AAAAAAAAAAI/AAAAAAAAABM/gM0E9L50SJs/photo.jpg?sz=128", "display_name": "MaheshGupta", "link": "https://stackoverflow.com/users/4410516/maheshgupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 54912869, "answer_count": 1, "score": 0, "last_activity_date": 1551295369, "creation_date": 1551284514, "question_id": 54909959, "link": "https://stackoverflow.com/questions/54909959/unit-test-cases-for-callbacks-using-junit", "title": "Unit test cases for Callbacks using Junit", "body": "<p>I'm trying to write some unit-test cases for a class with functions that has callbacks as arguments (Please see code below)</p>\n\n<pre><code>class NetworkApi(private val url: String) {\n\n    fun getToken(listener: (String) -&gt; Unit) {\n        Thread(Runnable {\n            Thread.sleep(2000)\n            if (TextUtils.isEmpty(url)) listener(\"\")\n            else listener(\"Dummy token\")\n        }).start()\n    }\n}\n</code></pre>\n\n<p>and the unit test case is </p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass NetworkApiTest {\n\n    var networkApi: NetworkApi? = null\n\n    @Test\n    fun testEmptyToken() {\n        networkApi = NetworkApi(\"\")\n        networkApi?.getToken {\n            Assert.assertThat(it, isEmptyOrNullString())\n        }\n    }\n\n}\n</code></pre>\n\n<p>And whenever I run this test case, I do get success all the time, no matter what values I send. I know that I'm not doing exact way.\nCan someone please help me writing unit test cases for classes in JUnit.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "edited": false, "score": 0, "creation_date": 1551284424, "post_id": 54909916, "comment_id": 96586841, "body": "Did you try to convert those <code>String</code> to <code>Date</code> then get their timestamp and divide it by 1000 * 60?"}, {"owner": {"reputation": 31, "user_id": 9155449, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lblHHyMHYGU/AAAAAAAAAAI/AAAAAAAAABo/3Og0rO5VHs0/photo.jpg?sz=128", "display_name": "Manigandan S", "link": "https://stackoverflow.com/users/9155449/manigandan-s"}, "reply_to_user": {"reputation": 25722, "user_id": 2192903, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/mNrNH.png?s=128&g=1", "display_name": "Arnaud Denoyelle", "link": "https://stackoverflow.com/users/2192903/arnaud-denoyelle"}, "edited": false, "score": 0, "creation_date": 1551284520, "post_id": 54909916, "comment_id": 96586902, "body": "@ArnaudDenoyelle that leads huge steps i&#39;m afraid"}, {"owner": {"reputation": 13223, "user_id": 4391450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db407436e19be13dbdd4b49fe224d3a?s=128&d=identicon&r=PG&f=1", "display_name": "AxelH", "link": "https://stackoverflow.com/users/4391450/axelh"}, "edited": false, "score": 0, "creation_date": 1551284870, "post_id": 54909916, "comment_id": 96587097, "body": "You mean to get the amount of time between those two, in minute or the difference in minute between the two. ?"}, {"owner": {"reputation": 31, "user_id": 9155449, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lblHHyMHYGU/AAAAAAAAAAI/AAAAAAAAABo/3Og0rO5VHs0/photo.jpg?sz=128", "display_name": "Manigandan S", "link": "https://stackoverflow.com/users/9155449/manigandan-s"}, "reply_to_user": {"reputation": 13223, "user_id": 4391450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db407436e19be13dbdd4b49fe224d3a?s=128&d=identicon&r=PG&f=1", "display_name": "AxelH", "link": "https://stackoverflow.com/users/4391450/axelh"}, "edited": false, "score": 0, "creation_date": 1551284928, "post_id": 54909916, "comment_id": 96587142, "body": "@AxelH Difference in minutes sir"}], "answers": [{"comments": [{"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 1, "creation_date": 1551503316, "post_id": 54909983, "comment_id": 96673124, "body": "Good Answer, except that <code>Instant</code> would me more appropriate that <code>ZonedDateTime</code> as no time zone is indicated, only an offset-from-UTC of zero (or UTC itself). The <code>Z</code> at the end means UTC, an offset of zero. In contrast, a time zone is a name in the format of <code>Continent&#47;Region</code> such as <code>America&#47;Montreal</code>. Example: <code>Duration.between( Instant.parse( &quot;2019-02-18T06:37:00.000Z&quot; ) , Instant.parse( &quot;2019-02-18T11:46:00.000Z&quot; ) ).toMinutes()</code>"}], "tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1551284571, "creation_date": 1551284571, "answer_id": 54909983, "question_id": 54909916, "link": "https://stackoverflow.com/questions/54909916/get-minutes-between-two-iso-format-time-in-kotlin/54909983#54909983", "title": "Get minutes between two ISO format time in kotlin", "body": "<p>You can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> and <code>toMinutes()</code> method:</p>\n\n<pre><code>ZonedDateTime dt1 = ZonedDateTime.parse(\"2019-02-18T06:37:00.000Z\");\nZonedDateTime dt2 = ZonedDateTime.parse(\"2019-02-18T11:46:00.000Z\");\nSystem.out.println(Duration.between(dt1, dt2).toMinutes()); // 309\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9155449, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lblHHyMHYGU/AAAAAAAAAAI/AAAAAAAAABo/3Og0rO5VHs0/photo.jpg?sz=128", "display_name": "Manigandan S", "link": "https://stackoverflow.com/users/9155449/manigandan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551284571, "creation_date": 1551284374, "last_edit_date": 1551284450, "question_id": 54909916, "link": "https://stackoverflow.com/questions/54909916/get-minutes-between-two-iso-format-time-in-kotlin", "title": "Get minutes between two ISO format time in kotlin", "body": "<p>I need to get minutes between to ISO format date in java/kotlin\nExample :\nNeed to know minutes between below two iso times</p>\n\n<blockquote>\n  <p>2019-02-18T06:37:00.000Z\n  2019-02-18T11:46:00.000Z</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "androidx", "android-jetpack"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 10183294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a477b2577b1b97a844e693be1732464?s=128&d=identicon&r=PG&f=1", "display_name": "SVK", "link": "https://stackoverflow.com/users/10183294/svk"}, "edited": false, "score": 0, "creation_date": 1552109532, "post_id": 54910238, "comment_id": 96895957, "body": "Thank You for you feedback Cristan. Could you please help with the question below:<a href=\"https://stackoverflow.com/q/54987476/10183294\">stackoverflow.com/q/54987476/10183294</a>"}], "tags": [], "owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "is_accepted": false, "score": 1, "last_activity_date": 1551285310, "creation_date": 1551285310, "answer_id": 54910238, "question_id": 54909870, "link": "https://stackoverflow.com/questions/54909870/how-to-get-instance-in-kotlin-with-context-getsystemserviceclass/54910238#54910238", "title": "How to get instance in Kotlin with Context.getSystemService(Class)", "body": "<p>Use the following:</p>\n\n<pre><code>context.getSystemService(AppOpsManager::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1551434216, "post_id": 54917996, "comment_id": 96647092, "body": "While the docs say that <code>getSystemService (Class&lt;T&gt; serviceClass)</code> has been added in API level 23, it actually works in older Android versions as long as your <code>targetSdkVersion</code> is 23 or higher."}, {"owner": {"reputation": 313, "user_id": 10183294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a477b2577b1b97a844e693be1732464?s=128&d=identicon&r=PG&f=1", "display_name": "SVK", "link": "https://stackoverflow.com/users/10183294/svk"}, "edited": false, "score": 0, "creation_date": 1551771636, "post_id": 54917996, "comment_id": 96751334, "body": "Dear Tommy, Could you please answer below as well <a href=\"https://stackoverflow.com/q/54987476/10183294\">stackoverflow.com/q/54987476/10183294</a>"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1551788249, "post_id": 54917996, "comment_id": 96760562, "body": "Sure I will take a look and let you know if I have the answer."}, {"owner": {"reputation": 313, "user_id": 10183294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a477b2577b1b97a844e693be1732464?s=128&d=identicon&r=PG&f=1", "display_name": "SVK", "link": "https://stackoverflow.com/users/10183294/svk"}, "edited": false, "score": 0, "creation_date": 1552108989, "post_id": 54917996, "comment_id": 96895857, "body": "Hi Tommy, Did you get a chance to look at this question.<a href=\"https://stackoverflow.com/q/54987476/10183294\">stackoverflow.com/q/54987476/10183294</a>"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1552110809, "post_id": 54917996, "comment_id": 96896183, "body": "Yeah I did and I&#39;m trying to find a solution."}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 1, "last_activity_date": 1551324937, "creation_date": 1551324937, "answer_id": 54917996, "question_id": 54909870, "link": "https://stackoverflow.com/questions/54909870/how-to-get-instance-in-kotlin-with-context-getsystemserviceclass/54917996#54917996", "title": "How to get instance in Kotlin with Context.getSystemService(Class)", "body": "<p>From <a href=\"https://developer.android.com/reference/android/app/AppOpsManager\" rel=\"nofollow noreferrer\">Android Developer</a> documentation:</p>\n\n<blockquote>\n  <p><strong>AppOpsManager</strong></p>\n  \n  <p>API for interacting with \"application operation\" tracking.</p>\n  \n  <p>This API is not generally intended for third party application\n  developers; most features are only available to system applications.</p>\n  \n  <p>Instances of this class must be obtained using\n  <code>Context.getSystemService(Class)</code> with the argument\n  <code>AppOpsManager.class</code> or <code>Context.getSystemService(String)</code> with the\n  argument <code>Context.APP_OPS_SERVICE</code>.</p>\n</blockquote>\n\n<p>To create an instance of this class you must use <code>getSystemService</code> from a context instance.</p>\n\n<pre><code>val appOpsManager: AppOpsManager? = getSystemService(Context.APP_OPS_SERVICE) as AppOpsManager?\n</code></pre>\n\n<p>If your <code>minSdkVersion</code> is 23 then you can use this code instead.</p>\n\n<pre><code>val appOpsManager: AppOpsManager? = getSystemService(AppOpsManager::class.java)\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 10183294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a477b2577b1b97a844e693be1732464?s=128&d=identicon&r=PG&f=1", "display_name": "SVK", "link": "https://stackoverflow.com/users/10183294/svk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4957, "favorite_count": 0, "accepted_answer_id": 54917996, "answer_count": 2, "score": 2, "last_activity_date": 1551324937, "creation_date": 1551284224, "last_edit_date": 1551292309, "question_id": 54909870, "link": "https://stackoverflow.com/questions/54909870/how-to-get-instance-in-kotlin-with-context-getsystemserviceclass", "title": "How to get instance in Kotlin with Context.getSystemService(Class)", "body": "<p>In Google Android Kotlin documentation, \nEvery now and then there is a below line present in android documentation that:\n<strong>Instances of this class must be obtained using Context.getSystemService(Class)</strong> </p>\n\n<p>For example:</p>\n\n<blockquote>\n  <p>Instances of this class must be obtained using Context.getSystemService(Class) with the argument AppOpsManager.class or Context.getSystemService(String) with the argument Context.APP_OPS_SERVICE.</p>\n</blockquote>\n\n<p>Can someone please clarify what this is and how do I create a instance for class <code>AppOpsManager</code>.</p>\n\n<p>Usually we can create instance like:\n<code>val use = AppOpsManager()</code></p>\n\n<p>Please help and explain the above <code>Context.getSystemService()</code>.</p>\n\n<p>Thank You.</p>\n"}, {"tags": ["java", "kotlin", "augmented-reality", "arcore", "sceneform"], "answers": [{"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1551356430, "last_edit_date": 1551356430, "creation_date": 1551353985, "answer_id": 54924881, "question_id": 54909482, "link": "https://stackoverflow.com/questions/54909482/how-to-translate-object-in-arcore-and-sceneform/54924881#54924881", "title": "How to translate object in ARCore and Sceneform?", "body": "<blockquote>\n  <p>You can translate a 3D object between two anchors using a button and the <a href=\"https://stackoverflow.com/questions/51337504/how-to-move-object-from-anchor-to-anchor\">following approach</a>.</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>For translating your object along the surface you should use <a href=\"https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener\" rel=\"nofollow noreferrer\">OnGestureListener</a> interface with its useful public methods such as:     </p>\n</blockquote>\n\n<ul>\n<li>onDown(MotionEvent e)</li>\n<li>onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY)</li>\n<li>onLongPress(MotionEvent e)</li>\n<li>onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY)</li>\n<li>onShowPress(MotionEvent e)</li>\n<li>onSingleTapUp(MotionEvent e)</li>\n</ul>\n\n<p>Here's an example on how you can redraw an object in <code>onScroll()</code> method:</p>\n\n<pre><code>android.view.GestureDetector.OnGestureListener\n\n@Override\npublic boolean onScroll(MotionEvent e1, MotionEvent e2, float distX, float distY) {\n   if (ptrCount &lt; 2) {\n       queuedSingleTaps.offer(motionEvent);\n       return true;\n   } else {\n       return false;\n   }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 55, "user_id": 11045855, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bu-KsvowCTo/AAAAAAAAAAI/AAAAAAAAAAo/xTQ9rs4gfX0/photo.jpg?sz=128", "display_name": "Dmytro Melnyk", "link": "https://stackoverflow.com/users/11045855/dmytro-melnyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556339406, "creation_date": 1551282964, "last_edit_date": 1556339406, "question_id": 54909482, "link": "https://stackoverflow.com/questions/54909482/how-to-translate-object-in-arcore-and-sceneform", "title": "How to translate object in ARCore and Sceneform?", "body": "<p>I build an AR application on Android, using ARCore and Sceneform, and I want to translate object on <code>x</code>, <code>y</code> or <code>z</code> axis when user clicks a button. </p>\n\n<p>How can I do that? </p>\n\n<p>I try to do that, when user press the button, I'm compose object Pose with translate Pose, remove object and create new one with translation. But after some clicks, I have SIG 9 (kill app). </p>\n\n<p>Is there the other way?</p>\n"}, {"tags": ["android", "json", "kotlin", "gson", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1551283682, "post_id": 54909393, "comment_id": 96586342, "body": "<code>This can of course be minified like this</code> What you are doing is <b>not</b> minifying. Want to know what minifying is? Read more here: <a href=\"https://en.wikipedia.org/wiki/Minification_(programming)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Minification_(programming)</a>"}], "tags": [], "owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "is_accepted": false, "score": 0, "last_activity_date": 1551282713, "creation_date": 1551282713, "answer_id": 54909393, "question_id": 54909227, "link": "https://stackoverflow.com/questions/54909227/retrofit2-and-gson-deserialize-data-inside-a-certain-json-element/54909393#54909393", "title": "Retrofit2 and Gson, deserialize data inside a certain json element", "body": "<p>Yes, when you get the object, instead of converting it straight away, convert it like this </p>\n\n<pre><code>val jsonObject = JSONObject(\"data\")\nval innerObject = jsonObject.getJSONObject(\"status\")\n</code></pre>\n\n<p>and then convert inner object with gson.</p>\n\n<p>This can of course be minified like this:</p>\n\n<pre><code>val object = Gson().fromJson(JSONObject(\"response\").getJSONObject(\"status\"), MyResponseClass::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 354, "user_id": 3053987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa9a3612ff115dc28e39f6c6cf14dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/3053987/manu"}, "is_accepted": true, "score": 1, "last_activity_date": 1551285037, "creation_date": 1551285037, "answer_id": 54910126, "question_id": 54909227, "link": "https://stackoverflow.com/questions/54909227/retrofit2-and-gson-deserialize-data-inside-a-certain-json-element/54910126#54910126", "title": "Retrofit2 and Gson, deserialize data inside a certain json element", "body": "<p>From the title of your question I am assuming that you want to automatically parse the json response to the to the simpler <code>MyResponseClass</code></p>\n\n<p>You can achieve this by using a type adapter for gson. In your case the adapter class will look similar to the following. </p>\n\n<pre><code>class MyResponseClassAdapter : JsonDeserializer&lt;MyResponseClass&gt; {\n   override fun deserialize(jsonElement: JsonElement, p1: Type?, p2: JsonDeserializationContext?): MyResponseClass {\n  val content = jsonElement.asJsonObject[\"response\"]\n  return  Gson().fromJson(content , MyResponseClass::class.java)\n}\n}\n</code></pre>\n\n<p>Then add this adapter to a gson instance and use that  gson instance with your retrofit instance.</p>\n\n<pre><code> val gson = GsonBuilder()\n            .registerTypeAdapter(MyResponseClass::class.java, MyResponseClassAdapter ())\n            .create()\n\n Retrofit.Builder()\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .baseUrl(\"{base_url}\")\n            .client(okHttp)\n            .build()\n</code></pre>\n"}], "owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 54910126, "answer_count": 2, "score": 0, "last_activity_date": 1551285037, "creation_date": 1551282205, "last_edit_date": 1551283556, "question_id": 54909227, "link": "https://stackoverflow.com/questions/54909227/retrofit2-and-gson-deserialize-data-inside-a-certain-json-element", "title": "Retrofit2 and Gson, deserialize data inside a certain json element", "body": "<p>Inside my app i call some remote APIs that give me a response wrapped into a useless \"root\" json element. I Paste you an example of json response </p>\n\n<pre><code>{\n \"response\": {\n     \"status\": {\n         //here status fields, common to all responses\n      },\n      \"configuration\": {\n          //here configurations fields\n      }\n  }\n}\n</code></pre>\n\n<p>I'm using an Android studio extension for generate kotlin data classes (JsonToKotlinClass) and i obtain four kotlin classes: </p>\n\n<p>-MyResponseClass, Response, Status, Configuration</p>\n\n<p>where MyResponseClass is like</p>\n\n<pre><code>data class MyResponseClass(\n    val response: Response\n)\n</code></pre>\n\n<p>there's a way to avoid creation of \"Response\" class by parsing only it's relative json content and get a MyResponseClass look like like</p>\n\n<pre><code>data class MyResponseClass(\n    val status:Status,\n    val configuration: Configuration\n)\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["kotlin", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": true, "score": 5, "last_activity_date": 1551280080, "creation_date": 1551280080, "answer_id": 54908529, "question_id": 54908440, "link": "https://stackoverflow.com/questions/54908440/micronaut-access-application-yml-with-value/54908529#54908529", "title": "Micronaut access application.yml with @Value", "body": "<p>You need to escape <code>$</code> char using a backslash, because dollar is used by kotlin for template espressions.</p>\n\n<pre><code>@Value(\"\\${pref.msg}\")\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5459158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df944dfda091175d5a32cc31bfca23dd?s=128&d=identicon&r=PG&f=1", "display_name": "Corinzio", "link": "https://stackoverflow.com/users/5459158/corinzio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1283, "favorite_count": 0, "accepted_answer_id": 54908529, "answer_count": 1, "score": 0, "last_activity_date": 1551280080, "creation_date": 1551279836, "question_id": 54908440, "link": "https://stackoverflow.com/questions/54908440/micronaut-access-application-yml-with-value", "title": "Micronaut access application.yml with @Value", "body": "<p>Hello i have a micronaut application with this application.yml</p>\n\n<pre><code>micronaut:\n    application:\n        name: hello-world\npref:\n    msg: Luca\n</code></pre>\n\n<p>inside a class i want to set the value of a variable :</p>\n\n<pre><code>@Value(\"${pref.msg}\")\nprivate lateinit var text : String\n</code></pre>\n\n<p>but the IDE complains saying that annotation argument must be a compile time constants</p>\n\n<p>i also tried with</p>\n\n<pre><code>@Property(name = \"pref.msg\" )\n</code></pre>\n\n<p>but it compiles but do not read the property.</p>\n\n<p>Anyone could help?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551278511, "post_id": 54907715, "comment_id": 96582970, "body": "why are you nesting all of this in a companion object? <code>this</code> refers to the Companion itself, which is not a subclass of Context"}, {"owner": {"reputation": 13, "user_id": 8062627, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207561563031089/picture?type=large", "display_name": "Javiseeker", "link": "https://stackoverflow.com/users/8062627/javiseeker"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551278955, "post_id": 54907715, "comment_id": 96583233, "body": "I nested the companion for extra variables for the service, I don&#39;t understand really well the context, should i put all of the data outside the companion?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8062627, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207561563031089/picture?type=large", "display_name": "Javiseeker", "link": "https://stackoverflow.com/users/8062627/javiseeker"}, "edited": false, "score": 0, "creation_date": 1551288996, "post_id": 54908856, "comment_id": 96589474, "body": "I tried doing this but no result :( Any other ideas?"}], "tags": [], "owner": {"reputation": 3847, "user_id": 4399414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qcmua.jpg?s=128&g=1", "display_name": "Sdghasemi", "link": "https://stackoverflow.com/users/4399414/sdghasemi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551281109, "creation_date": 1551281109, "answer_id": 54908856, "question_id": 54907715, "link": "https://stackoverflow.com/questions/54907715/how-to-add-context-class-within-another-class/54908856#54908856", "title": "How to add Context class within another class?", "body": "<p>Try</p>\n\n<pre><code> this@LocationTrackingService\n</code></pre>\n\n<p>to get <code>LocationTrackingService</code> class <code>this</code> object.</p>\n\n<p>More about <code>this</code> object <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8062627, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207561563031089/picture?type=large", "display_name": "Javiseeker", "link": "https://stackoverflow.com/users/8062627/javiseeker"}, "edited": false, "score": 0, "creation_date": 1551288918, "post_id": 54908892, "comment_id": 96589439, "body": "Hi, I was scared that I would not be able to run this on Android O (8 API 26)+ but then I remembered that I am debugging on  a device with Android O. So I started checking thoroughly and this is not my case. I am NOT doing an implicit broadcast since i&#39;m not even touching my manifest file. Since im using the intent-filter this case is considered a Broadcasts that require a signature permission.  Heres the link: <a href=\"https://stackoverflow.com/questions/51221680/broadcast-receiver-not-working-in-android-oreo\" title=\"broadcast receiver not working in android oreo\">stackoverflow.com/questions/51221680/&hellip;</a>  Still thanks for the reply, I will look at EventBus later"}], "tags": [], "owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "is_accepted": false, "score": -1, "last_activity_date": 1551281179, "creation_date": 1551281179, "answer_id": 54908892, "question_id": 54907715, "link": "https://stackoverflow.com/questions/54907715/how-to-add-context-class-within-another-class/54908892#54908892", "title": "How to add Context class within another class?", "body": "<p>I will suggest you to not use <strong>LocalBroadcastManager</strong> as it won't be helpful in <strong>android O</strong> and <strong>Later</strong> android versions.</p>\n\n<p>You can read it here <a href=\"https://developer.android.com/guide/components/broadcast-exceptions\" rel=\"nofollow noreferrer\">Implicit-broadcast-exceptions</a></p>\n\n<p>I will recommend using <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">EventBus</a> as it is the <strong>best solution</strong> to <strong>transfer</strong> data anywhere within the app - <strong>Without use of context</strong> object, and also work in <strong>all android versions</strong>.</p>\n"}], "owner": {"reputation": 13, "user_id": 8062627, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207561563031089/picture?type=large", "display_name": "Javiseeker", "link": "https://stackoverflow.com/users/8062627/javiseeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551328272, "creation_date": 1551277693, "last_edit_date": 1551279410, "question_id": 54907715, "link": "https://stackoverflow.com/questions/54907715/how-to-add-context-class-within-another-class", "title": "How to add Context class within another class?", "body": "<p>I'm trying to use Localbroadcast to send latitude and longitude over to the main activity. But the parameter of <code>this</code> within <code>getInstance()</code> isn't working. I tried adding the context class but it is still wrong. Any ideas? Thanks.</p>\n\n<pre><code>companion object {\n    val TAG = \"LocationTrackingService\"\n\n    val INTERVAL = 5000.toLong() // In milliseconds\n    val DISTANCE = 0.toFloat() // In meters\n\n    val locationListeners = arrayOf(\n        LTRLocationListener(LocationManager.GPS_PROVIDER),\n        LTRLocationListener(LocationManager.NETWORK_PROVIDER)\n    )\n    private fun sendRequest() {\n        // The string \"GPS_not_activaded\" will be used to filer the intent\n        val intentRequest = Intent(\"Sending_location_coordinates\")\n        LocalBroadcastManager.getInstance(this).sendBroadcast(intentRequest)\n        Log.d(TAG,\"Se enviaron las coordenadas\")\n    }\n\n    class LTRLocationListener(provider: String) : android.location.LocationListener {\n\n        val lastLocation = Location(provider)\n\n\n        override fun onLocationChanged(location: Location?) {\n            lastLocation.set(location)\n            Log.d(TAG, \"======================= New Data =======================\")\n            Log.d(TAG,\"latitud: \"+ lastLocation.latitude)\n            Log.d(TAG,\"longitud: \"+ lastLocation.longitude)\n            sendRequest()\n        }\n</code></pre>\n"}, {"tags": ["kotlin", "immutability"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1551278944, "post_id": 54907371, "comment_id": 96583226, "body": "What do you mean by reusable? How would you like it to be reused? Can you show an example? I don&#39;t see right now what your problem is with <code>toEmployeeNotReusable()</code>."}, {"owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1551279142, "post_id": 54907371, "comment_id": 96583348, "body": "@Joffrey the issue is that I have to specify every attribute twice, so at some point in the future I will forget to add a new attribute in one of the two functions"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1551279186, "post_id": 54907371, "comment_id": 96583373, "body": "What exactly is the goal? Why isn&#39;t the method <code>toEmployee</code> defined as <code>fun toEmployee() = Employee(firstName, lastName, jobType)</code>? I think answering this question would help me understand what you&#39;re trying to achieve"}, {"owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1551279269, "post_id": 54907371, "comment_id": 96583420, "body": "@Fred because if code changes, new attributes will be forgotten to add to one of the two functions (<code>copyEmployee</code> / <code>toEmployee</code>)"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 2, "creation_date": 1551279366, "post_id": 54907371, "comment_id": 96583486, "body": "@Shyro Your <code>Employee</code> constructor only has mandatory fields, without default values. If something is changed, it will be detected at compile time in the <code>toEmployeeNotReusable()</code> method, so you will have to update the form accordingly. Isn&#39;t this what you want?"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1551279479, "post_id": 54907371, "comment_id": 96583561, "body": "not true in my opinion. If you add more attributes to <code>Employee</code> you&#39;ll have 2 options. Either make it optional by giving it a default value. In the case you make it optional, then you do have to look for instances of it&#39;s creation, but in the case you don&#39;t make it optional, then wherever you construct an <code>Employee</code> object you need to pass the value for the attribute or the code won&#39;t build. Also, I don&#39;t understand why reusable code means that you won&#39;t have to change it if you add more things to your data classes."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1551279570, "post_id": 54907371, "comment_id": 96583623, "body": "@Fred same here, I think he just misused the word &quot;reusable&quot;, OP probably meant resilient or robust, or something along these lines."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1551279687, "post_id": 54907371, "comment_id": 96583698, "body": "@Shyro Your edit is incorrect. If you add an attribute, you don&#39;t need to change your <code>copy()</code> call, because copy doesn&#39;t require all attributes to be passed in, that&#39;s the whole point of it. Unless you meant you added an attribute to the form class as well?"}, {"owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "edited": false, "score": 0, "creation_date": 1551280545, "post_id": 54907371, "comment_id": 96584256, "body": "Yes if i added it to the form class as well. The issue really  only occurs with new attributes that have a default value as you&#39;ve said. Mandatory ones will give a compiler error which is fine, but with optional ones it&#39;d be easy to add it in one function and miss it in the other. That&#39;s why i&#39;d want to re-use some code between the two. And yeah sorry about my unclear wording. (Also I realized i left out some context when trying to create a minimal repro, will add back later)"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1551280708, "post_id": 54907371, "comment_id": 96584358, "body": "@Shyro ok I think I see what you mean, now"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "edited": false, "score": 0, "creation_date": 1551283704, "post_id": 54908812, "comment_id": 96586364, "body": "Interesting idea, but as you mentioned it doesn&#39;t work if the form doesn&#39;t have the same fields (I edited the question accordingly with more a accurate representation of my situation).   Listing it twice would also be my go-to way if there&#39;s no other solution. I was just hoping there would be a clear, straight forward way to do this.Unfortunately this also means that both functions need to be tested instead of just one ;)"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1551286060, "post_id": 54908812, "comment_id": 96587894, "body": "I think you forgot to use <code>employee</code> in <code>copyEmployee(employee: Employee)</code>. The method is effectively doing the same as just <code>toEmployee()</code>. I&#39;m still not sure what the OP meant, but I suppose we want a &quot;copy&quot; method from employee to employee form and vice versa, that gets auto-updated everytime we add fields in one of the classes?"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1551286248, "post_id": 54908812, "comment_id": 96588014, "body": "@Fred I think the OP wants to use the given employee as base and override only the fields that the form supports. But with my solution, the form must implement all employees fields and thus it makes no sense to have the <code>copyEmployee()</code> method in the first place, because we would override all the fields of the given <code>employee</code>. In fact, in the end, this solution is useless I must admit."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1551286357, "post_id": 54908812, "comment_id": 96588076, "body": "Anyway, I don&#39;t like the fact that the <code>EmployeeForm</code> implements <code>Employee</code> anyway, because a form is not an employee. I wrote this solution for the sake of the exercise only, but I would turn away from it anyway for this use case."}], "tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1551280959, "creation_date": 1551280959, "answer_id": 54908812, "question_id": 54907371, "link": "https://stackoverflow.com/questions/54907371/re-use-mapping-code-for-immutable-data-class-in-kotlin/54908812#54908812", "title": "Re-use mapping code for immutable data class in Kotlin", "body": "<p>One way to avoid listing the attributes 4 times would be to declare <code>Employee</code> as an interface instead, and use the \"mutable\" version, the form, as the only data class implementing it. You would have the \"read-only\" view using the interface, but you would technically only use the mutable instance behind the scenes.</p>\n\n<p>This would follow what Kotlin designers have done for <code>List</code> vs <code>MutableList</code>.</p>\n\n<pre><code>interface Employee {\n    val firstName: String\n    val lastName: String\n    val jobType: Int\n}\n\ndata class EmployeeForm(\n    override var firstName: String = \"\",\n    override var lastName: String = \"\",\n    override var jobType: Int = 0\n): Employee {\n\n    fun toEmployee(): Employee = this.copy()\n\n    fun copyEmployee(employee: Employee): Employee = this.copy(\n            firstName = firstName,\n            lastName = lastName,\n            jobType = jobType\n    )\n}\n</code></pre>\n\n<p>However, this implies that the form has all fields of an employee, which you probably don't want.</p>\n\n<p>Also, I would personally prefer what you had done in the beginning, listing twice the field would not be a problem, just write tests for your functions, and when you want to add functionality, you'll add tests for that functionality anyway.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "edited": false, "score": 0, "creation_date": 1551293781, "post_id": 54911415, "comment_id": 96591730, "body": "Thanks for the creative idea, but I&#39;d rather refrain from using reflection for such a minor inconvenience. I see now that there is no straight forward, obvious way to do what I intended (which is fine) so I&#39;ll just stick to having the two methods. Thanks anyway"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1551289951, "last_edit_date": 1551289951, "creation_date": 1551289170, "answer_id": 54911415, "question_id": 54907371, "link": "https://stackoverflow.com/questions/54907371/re-use-mapping-code-for-immutable-data-class-in-kotlin/54911415#54911415", "title": "Re-use mapping code for immutable data class in Kotlin", "body": "<p>You should be able to do this using reflection: check list of properties in <code>Employee</code> and <code>EmployeeForm</code>, call the constructor by the matching names (using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/call-by.html#kotlin.reflect.KCallable%24callBy%28kotlin.collections.Map%28%28kotlin.reflect.KParameter%2C+kotlin.Any%29%29%29\" rel=\"nofollow noreferrer\"><code>callBy</code></a> to handle default parameters). The drawback, of course, is that you won't get compile-time errors if any properties are missing (but for this case, any test would probably fail and tell you about the problem).</p>\n\n<p>Approximate and untested (don't forget to add the <code>kotlin-reflect</code> dependency):</p>\n\n<pre><code>inline fun &lt;reified T&gt; copy(x: Any): T {\n    val construct = T::class.primaryConstructor\n    val props = x::class.memberProperties.associate { \n        // assumes all properties on x are valid params for the constructor\n        Pair(construct.findParameterByName(it.name)!!,\n             it.call(x))\n    }\n    return construct.callBy(props)\n}\n\n// in EmployeeForm\nfun toEmployee() = copy&lt;Employee&gt;(this)\n</code></pre>\n\n<p>You can make an equivalent which <em>is</em> compile-time checked with Scala macros, but I don't think it's possible in Kotlin.</p>\n"}], "owner": {"reputation": 53, "user_id": 4463023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00c2c79375454467e61d81596673d3?s=128&d=identicon&r=PG&f=1", "display_name": "markus-wa", "link": "https://stackoverflow.com/users/4463023/markus-wa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551289951, "creation_date": 1551276657, "last_edit_date": 1551283595, "question_id": 54907371, "link": "https://stackoverflow.com/questions/54907371/re-use-mapping-code-for-immutable-data-class-in-kotlin", "title": "Re-use mapping code for immutable data class in Kotlin", "body": "<p>Updated: added some clarifications from the comments</p>\n\n<p>I would like to use the same 'mapping' code for the primary constructor and <code>copy()</code> method of an immutable <code>data class</code>. How can I do this without creating an empty object first, and then using <code>copy()</code> on it?</p>\n\n<p>The issue with how it is now is that if I add a new attribute with default value to <code>Employee</code> and <code>EmployeeForm</code> it would be easy to only add it in one of the two mapping functions and forget about the other (<code>toEmployeeNotReusable</code> / <code>copyEmployee</code>).</p>\n\n<p>These are the data classes I'd like to map between:</p>\n\n<pre><code>@Entity\ndata class Employee(\n    val firstName: String,\n    val lastName: String,\n    val jobType: Int,\n\n    @OneToMany(mappedBy = \"employee\", cascade = [CascadeType.ALL], fetch = FetchType.EAGER)\n    private val _absences: MutableSet&lt;Absence&gt; = mutableSetOf(),\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long = 0 // prevents @Joffrey's answer from working\n) {\n    init {\n        _absences.forEach { it.employee = this }\n    }\n\n    val absences get() = _absences.toSet()\n\n    fun addAbsence(newAbsence: Absence) {\n        newAbsence.employee = this\n        _absences += newAbsence\n    }\n\n    @Entity\n    @Table(name = \"absence\")\n    data class Absence(\n        // ... omitted fields\n    ) {\n        @ManyToOne(fetch = FetchType.EAGER)\n        @JoinColumn(name = \"employee_id\")\n        lateinit var employee: Employee\n    }\n}\n\n\ndata class EmployeeForm(\n    var firstName: String = \"\",\n    var lastName: String = \"\",\n    var jobType: Int = 0\n) {\n    // not reusable\n    fun toEmployeeNotReusable(): Employee {\n        return Employee(firstName, lastName, jobType)\n    }\n\n    // works but hacky\n    fun toEmployee(): Employee {\n        return copyEmployee(Employee(\"\", \"\", 0))\n    }\n\n    fun copyEmployee(employee: Employee): Employee {\n        return employee.copy(\n            firstName = firstName,\n            lastName = lastName,\n            jobType = jobType\n        )\n    }\n}\n</code></pre>\n\n<p>While mutability would be fine, in my case, I'd be interested to know how this would be possible.</p>\n"}, {"tags": ["swift", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1551278866, "post_id": 54907372, "comment_id": 96583183, "body": "Actually, a <code>Java</code> countepart would probably be <code>assert false : &quot;$bar is uknown&quot;</code>. Not sure how that would be written in Kotlin, something like <code>assert(false) { &quot;$bar is uknown&quot; }</code> probably."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1551276658, "creation_date": 1551276658, "answer_id": 54907372, "question_id": 54907326, "link": "https://stackoverflow.com/questions/54907326/whats-the-equivalent-of-swifts-fatalerror-in-kotlin/54907372#54907372", "title": "What&#39;s the equivalent of Swift&#39;s fatalError() in Kotlin", "body": "<p>You could throw an exception. This will bubble up the call stack until somebody handles it or you run out of stack frames and the application crashes.</p>\n\n<pre><code>val foo = when(bar) {\n   \"one\" -&gt; true\n   \"two\" -&gt; false\n   else -&gt; throw IllegalArgumentException(\"$bar is Unknown\")\n}\n</code></pre>\n\n<p>I just used <code>IllegalArgumentException</code> here, but you might want to define your own.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1556207525, "last_edit_date": 1556207525, "creation_date": 1551278180, "answer_id": 54907871, "question_id": 54907326, "link": "https://stackoverflow.com/questions/54907326/whats-the-equivalent-of-swifts-fatalerror-in-kotlin/54907871#54907871", "title": "What&#39;s the equivalent of Swift&#39;s fatalError() in Kotlin", "body": "<p>Throwing an exception (or, better still, an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Error.html\" rel=\"nofollow noreferrer\">Error</a>) is one way, but it may not shut down the current thread: any of the calling functions could catch the exception, or an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.UncaughtExceptionHandler.html\" rel=\"nofollow noreferrer\">UncaughtExceptionHandler</a> could have been set for the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> (or its <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html\" rel=\"nofollow noreferrer\">ThreadGroup</a>).</p>\n\n<p>Nor will it shut down any other threads that may be running.\u00a0 (Even if you haven't started any yourself, they're used by coroutines, GUI toolkits, and other execution frameworks.)</p>\n\n<p>To shut down the whole app, you should use the Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.system/exit-process.html\" rel=\"nofollow noreferrer\"><code>exitProcess()</code></a> function, or in Kotlin/JVM the equivalent <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit(int)\" rel=\"nofollow noreferrer\"><code>System.exit()</code></a> method.\u00a0 That will terminate all threads.</p>\n\n<p>But even that will do a \u2018graceful\u2019 shutdown, running any shutdown hooks, finalizers, &amp;c.\u00a0 If you need to forcibly kill a Kotlin/JVM app <em>immediately</em>, call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#halt(int)\" rel=\"nofollow noreferrer\"><code>Runtime.getRuntime().halt()</code></a>.</p>\n\n<p>(And of course, it's probably good practice to first display something to stdout or the logging framework you're using, to indicate what the problem was.)</p>\n"}, {"comments": [{"owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "edited": false, "score": 0, "creation_date": 1600693379, "post_id": 62467924, "comment_id": 113158888, "body": "While this is still technically correct, since implementing this myself it poses an issue with crash reporting since all crashes that hit the fatalError show as the same crash in Firebase etc, making it hard to keep track of individual issues."}], "tags": [], "owner": {"reputation": 1503, "user_id": 3142672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WdnN8.jpg?s=128&g=1", "display_name": "Kane Cheshire", "link": "https://stackoverflow.com/users/3142672/kane-cheshire"}, "is_accepted": false, "score": 1, "last_activity_date": 1592561205, "creation_date": 1592561205, "answer_id": 62467924, "question_id": 54907326, "link": "https://stackoverflow.com/questions/54907326/whats-the-equivalent-of-swifts-fatalerror-in-kotlin/62467924#62467924", "title": "What&#39;s the equivalent of Swift&#39;s fatalError() in Kotlin", "body": "<p>If you look at the <code>TODO()</code> global function in Kotlin:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>public inline fun TODO(): Nothing = throw NotImplementedError()\n</code></pre>\n\n<p>You can see that it is a function that returns <code>Nothing</code> (similar to Swift's<code>Never</code>), and it <code>throw</code>s a <code>NotImplementedError</code>.</p>\n\n<p>With this, we can create our own <code>fatalError</code> function to mimic Swift:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>public fun fatalError(message: String = \"\"): Nothing = throw NotImplementedError(message)\n</code></pre>\n\n<p>And because it returns <code>Nothing</code> you can use it the same way you would in Swift:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getValue(): Boolean = when(this) {\n  \"true\" -&gt; true\n  \"false\" -&gt; false\n  else -&gt; fatalError(\"Cannot determine value for $this\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 657720, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/00d265a8b73c82e09db86074c0701192?s=128&d=identicon&r=PG", "display_name": "Maciej Trybi\u0142o", "link": "https://stackoverflow.com/users/657720/maciej-trybi%c5%82o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 54907372, "answer_count": 3, "score": 5, "last_activity_date": 1592561205, "creation_date": 1551276530, "question_id": 54907326, "link": "https://stackoverflow.com/questions/54907326/whats-the-equivalent-of-swifts-fatalerror-in-kotlin", "title": "What&#39;s the equivalent of Swift&#39;s fatalError() in Kotlin", "body": "<p>Say I want to do sth like</p>\n\n<pre><code>val foo = when(bar) {\n   \"one\" -&gt; true\n   \"two\" -&gt; false\n   else -&gt; // in Swift it would be `fatalError()`\n}\n</code></pre>\n\n<p>How do I do it? </p>\n\n<p>I'm aware that there are generally better approaches to this kind of problem, but I want to know how to easily induce a crash in Kotlin too :)</p>\n"}, {"tags": ["android", "firebase", "kotlin", "filenotfoundexception", "firebase-admin"], "answers": [{"comments": [{"owner": {"reputation": 48, "user_id": 9511346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df999de238c6e3884fae3a8940d23dc4?s=128&d=identicon&r=PG&f=1", "display_name": "lupin", "link": "https://stackoverflow.com/users/9511346/lupin"}, "edited": false, "score": 0, "creation_date": 1551360494, "post_id": 54909148, "comment_id": 96618173, "body": "I checked that and found that FirebaseCredentials is already removed. So, I have to use &#39;GoogleCredentials&#39; firebase.google.com/docs/admin/migrate-admin Anyway, This problem seems to occur when applied to Android, not Java. I&#39;m try to keep credential json into res/raw or something folder."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 0, "last_activity_date": 1551281985, "creation_date": 1551281985, "answer_id": 54909148, "question_id": 54906899, "link": "https://stackoverflow.com/questions/54906899/java-io-filenotfoundexception-serviceaccountkey-json-no-such-file-or-directory/54909148#54909148", "title": "java.io.FileNotFoundException: ServiceAccountKey.json (No such file or directory)", "body": "<p>There's the way I initialize the Admin SDK in my Java project:</p>\n\n<pre><code>FileInputStream serviceAccount = new FileInputStream(\"project-credentials.json\");\n\nFirebaseOptions options = new FirebaseOptions.Builder()\n        .setCredential(FirebaseCredentials.fromCertificate(serviceAccount))\n        .setDatabaseUrl(\"https://mydatabase.firebaseio.com/\")\n        .build();\n</code></pre>\n\n<p>I keep the JSON file in the same directory as I've set as the <em>working directory</em> for the application.</p>\n"}, {"comments": [{"owner": {"reputation": 5314, "user_id": 5190886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YLo4CPWOOeA/AAAAAAAAAAI/AAAAAAAAAAA/NEX8mDWN_F0/photo.jpg?sz=128", "display_name": "Hiranya Jayathilaka", "link": "https://stackoverflow.com/users/5190886/hiranya-jayathilaka"}, "edited": false, "score": 1, "creation_date": 1551291819, "post_id": 54909366, "comment_id": 96590806, "body": "You absolutely should not be using Admin SDK in an Android app. It is for server-side use only."}, {"owner": {"reputation": 48, "user_id": 9511346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df999de238c6e3884fae3a8940d23dc4?s=128&d=identicon&r=PG&f=1", "display_name": "lupin", "link": "https://stackoverflow.com/users/9511346/lupin"}, "edited": false, "score": 0, "creation_date": 1551360441, "post_id": 54909366, "comment_id": 96618147, "body": "Hiranya Jayathilaka, Martin Zeitler // That&#39;s no problem. because that admin SDK in android will be used by only me. anyway, Maybe I know why this problem is happening. I appreciate you."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": true, "score": 1, "last_activity_date": 1551283317, "last_edit_date": 1551283317, "creation_date": 1551282642, "answer_id": 54909366, "question_id": 54906899, "link": "https://stackoverflow.com/questions/54906899/java-io-filenotfoundexception-serviceaccountkey-json-no-such-file-or-directory/54909366#54909366", "title": "java.io.FileNotFoundException: ServiceAccountKey.json (No such file or directory)", "body": "<p>This is an Android project and not a Java project - therefore the location of the file should be <code>res/raw</code> or <code>assets</code> (which both are directories, which are being copied instead of being processed)... else that file won't ever make it into the built package, resulting in error <code>15</code>.</p>\n\n<p>just be aware, that it might be worth a consideration, to put a file called <code>ServiceAccountKey.json</code> into directories which are being copied 1:1... because that key can be easily extracted from there.</p>\n\n<p>this behaves way different than with the <code>google-services.json</code>, because that file doesn't have to make it into the built package, because it is processed by the plugin and then added into the string resources.</p>\n"}], "owner": {"reputation": 48, "user_id": 9511346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df999de238c6e3884fae3a8940d23dc4?s=128&d=identicon&r=PG&f=1", "display_name": "lupin", "link": "https://stackoverflow.com/users/9511346/lupin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1974, "favorite_count": 0, "accepted_answer_id": 54909366, "answer_count": 2, "score": -1, "last_activity_date": 1551283317, "creation_date": 1551275086, "last_edit_date": 1551281476, "question_id": 54906899, "link": "https://stackoverflow.com/questions/54906899/java-io-filenotfoundexception-serviceaccountkey-json-no-such-file-or-directory", "title": "java.io.FileNotFoundException: ServiceAccountKey.json (No such file or directory)", "body": "<p>I just tried to import firebase amdin sdk in my project.</p>\n\n<p>I'm getting these following messages in android studio.</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main</p>\n  \n  <p>Process: com.lupin.ganzp.ticketfireauthmanager, PID: 7883</p>\n  \n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.lupin.ganzp.ticketfireauthmanager/com.lupin.ganzp.ticketfireauthmanager.MainActivity}: java.io.FileNotFoundException: /ServiceAccountKey.json (No such file or directory)</p>\n</blockquote>\n\n<p>This is may simple code</p>\n\n<pre><code>const val relativePath = \"/ServiceAccountKey.json\"\n\nclass MainActivity : AppCompatActivity() \n{\n    override fun onCreate(savedInstanceState: Bundle?) \n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        SDK_Init()\n        Access_DB(\"newDB\")\n    }\n\n    fun SDK_Init()\n    {\n        var serviceAccount = FileInputStream(relativePath)\n        val options = FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"https://&lt;HiDE&gt;.firebaseio.com/\")\n            .build()\n\n        FirebaseApp.initializeApp(options)\n    }       \n}\n</code></pre>\n\n<p>I already did almost things that I can do...</p>\n\n<p>I tried like that</p>\n\n<ol>\n<li>Path-1 = \"c:\\~to~ \\.json\"</li>\n<li>Path-2 = \"ServiceAccountKey.json\"</li>\n<li>Path-3 = \"./ServiceAccountKey.json\"</li>\n<li>Path-4 = \"com/lupin/ganzp/ticketfireauthmanager/ServiceAccountKey.json\"</li>\n</ol>\n\n<p>But, this code can not find my json file, although it really exists as you see this pic.</p>\n\n<p><img src=\"https://i.stack.imgur.com/h1zJm.png\" alt=\"enter image description here\"></p>\n\n<p>Below code shows the created file does not exist.</p>\n\n<pre><code>val name = File(\".\").canonicalPath\n    println(\"Test $name\")\n    val file = File(name, \"/\" + \"ServiceAccountKey.json\")\n    println(\"file path : \" + file)\n    println(file.exists())\n\n    println(file.exists())  //false\n    println(file.canRead())  //false\n</code></pre>\n\n<p>anyone who knows a solution for this problem?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11124235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a07c3ab34dfb568060d996fecdff404?s=128&d=identicon&r=PG&f=1", "display_name": "Matthijs van Hest", "link": "https://stackoverflow.com/users/11124235/matthijs-van-hest"}, "is_accepted": true, "score": 1, "last_activity_date": 1551283872, "last_edit_date": 1551283872, "creation_date": 1551281947, "answer_id": 54909127, "question_id": 54906370, "link": "https://stackoverflow.com/questions/54906370/firebase-firestore-permission-denied-in-kotlin/54909127#54909127", "title": "Firebase firestore permission denied in Kotlin", "body": "<p>I deleted google service accounts (in the cloud platform) when creating the project. Was trying to begin from scratch, turns out the SDK uses these service accounts.</p>\n\n<p><strong>Solution:</strong> do not delete automatically generated service accounts!</p>\n\n<p>Be aware, adding these service accounts manually is possible, but you can't select the roles they get when creating a project, you have to make them owner or pick specific permissions by trial and error to find out what they need.</p>\n\n<p><em>Another alternative way to query</em></p>\n\n<pre><code>.addOnCompleteListener { task -&gt;\n    if (task.isSuccessful) {\n        for (document in task.result!!) {\n            Log.d(\"1\", document.id + \" =&gt; \" + document.data)\n        }\n    } else {\n        Log.w(\"1\", \"Error getting documents.\", task.exception)\n    }\n}\n</code></pre>\n\n<p>The code from the original post works too now! (and is neater imo)</p>\n"}], "owner": {"reputation": 41, "user_id": 11124235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a07c3ab34dfb568060d996fecdff404?s=128&d=identicon&r=PG&f=1", "display_name": "Matthijs van Hest", "link": "https://stackoverflow.com/users/11124235/matthijs-van-hest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 54909127, "answer_count": 1, "score": 1, "last_activity_date": 1551283872, "creation_date": 1551273286, "question_id": 54906370, "link": "https://stackoverflow.com/questions/54906370/firebase-firestore-permission-denied-in-kotlin", "title": "Firebase firestore permission denied in Kotlin", "body": "<p>I have this Android Kotlin project where I'm trying to retrieve a list of all documents from a collection (in the root) called 'environments' in firebase firestore. This is all new to me, but I can't get it to work. Research online didn't give me the correct answers on my situation so far.</p>\n\n<h3>Firestore structure:</h3>\n\n<pre><code>ROOT\n- environments (is a collection)\n  - fMzUHbiK7QMsyEdnLmmfksu0j5L2 (is a document)\n    - name: \"number1\" (is a field)\n  - rgeEwg7RhWgWaqlmhwg46dWSfowl (another document, etc.)\n    - name: \"number2\"\n- users\n- etc.\n</code></pre>\n\n<h3>Security rules:</h3>\n\n<p><em>(I'm sure the 2nd part (unsafe) would be enough, but I just tried explicitly)</em></p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n\n    match /environments/{document=**} {\n      allow read, write: if true;\n    }\n\n    match /{document=**} {\n      allow read, write: if true;\n    }\n  }\n}\n</code></pre>\n\n<p>I've used the Firebase assistent to link my application to firebase. Also tried the manual method. So I've got this:</p>\n\n<h3>root-level <code>build.gradle</code></h3>\n\n<pre><code>buildscript {\n    // ...\n    dependencies {\n        // ...\n        classpath 'com.google.gms:google-services:4.2.0' // google-services plugin\n    }\n}\n\nallprojects {\n    // ...\n    repositories {\n        google() // Google's Maven repository\n        // ...\n    }\n}\n</code></pre>\n\n<h3><code>app/build.gradle</code></h3>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n  // ...\n}\n\ndependencies{\n  // ..\n  implementation 'com.google.firebase:firebase-core:16.0.7'\n  implementation 'com.google.firebase:firebase-firestore:18.0.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I have the <code>google-services.json</code> file in the same directory as the root-level <code>build.gradle</code> as mentioned in the documentation.</p>\n\n<p>I created a Kotlin project with 1 button (just to control when the functions fire, this function triggering will be automated later). <em>Note that I do not authenticate any users, I'm trying to create a happy flow for everyone, authentication and security come later.</em></p>\n\n<h3>Kotlin</h3>\n\n<p>Now the following code is mostly from the official documentation</p>\n\n<pre><code>lateinit var db: FirebaseFirestore\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n  // ...\n  db = FirebaseFirestore.getInstance()\n\n  button.setOnClickListener {\n  db.collection(\"environments\")\n   .get()\n     .addOnSuccessListener { result -&gt;\n       for (document in result) {\n         Log.d(\"success\", document.id + \" =&gt; \" + document.data)\n       }\n     }\n     .addOnFailureListener { exception -&gt;\n         Log.d(\"fail\", \"Error getting documents: \", exception)\n       }\n     }\n   }\n}\n</code></pre>\n\n<h3>Debug/log</h3>\n\n<pre><code>I/Firestore: (0.6.6-dev) [FirestoreClient]: Initializing. user=null\nI/Firestore: (0.6.6-dev) [Persistence]: Starting transaction: Start MutationQueue\nI/Firestore: (0.6.6-dev) [Persistence]: Starting transaction: Allocate query\nW/eldingenish_cw: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\nI/Firestore: (0.6.6-dev) [WatchStream]: (e57e2f1) Stream sending: # com.google.firestore.v1.ListenRequest@d97c49a6\n    add_target {\n      query {\n        parent: \"projects/[projectname-hidden]/databases/(default)/documents\"\n        structured_query {\n          from {\n            collection_id: \"environments\"\n          }\n          order_by {\n            direction: ASCENDING\n            direction_value: 1\n            field {\n              field_path: \"__name__\"\n            }\n          }\n        }\n      }\n      target_id: 2\n    }\n    database: \"projects/[projectname-hidden]/databases/(default)\"\n\nI/Firestore: (0.6.6-dev) [FirestoreCallCredentials]: Successfully fetched token.\nI/Firestore: (0.6.6-dev) [WatchStream]: (e57e2f1) Stream is ready\nI/Firestore: (0.6.6-dev) [WatchStream]: (e57e2f1) Stream received headers: {date=Wed, 27 Feb 2019 12:34:34 GMT}\nI/Firestore: (0.6.6-dev) [WatchStream]: (e57e2f1) Stream received: # com.google.firestore.v1.ListenResponse@72b77077\n    target_change {\n      target_change_type: ADD\n      target_change_type_value: 1\n      target_ids: 2\n    }\nI/Firestore: (0.6.6-dev) [WatchStream]: (e57e2f1) Stream received: # com.google.firestore.v1.ListenResponse@d3efdcbe\n    target_change {\n      cause {\n        code: 7\n        message: \"Missing or insufficient permissions.\"\n      }\n      target_change_type: REMOVE\n      target_change_type_value: 2\n      target_ids: 2\n    }\nI/Firestore: (0.6.6-dev) [Persistence]: Starting transaction: Release query\nW/Firestore: (0.6.6-dev) [Firestore]: Listen for Query(environments) failed: Status{code=PERMISSION_DENIED, description=Missing or insufficient permissions., cause=null}\n\nD/fail: Error getting documents:\ncom.google.firebase.firestore.FirebaseFirestoreException: PERMISSION_DENIED: Missing or insufficient permissions.\n\nCaused by: io.grpc.StatusException: PERMISSION_DENIED: Missing or insufficient permissions.\n</code></pre>\n\n<h3>Experiment</h3>\n\n<p>I started to believe my code was faulty, so I experimented some..</p>\n\n<p><strong>Alternative</strong></p>\n\n<pre><code>.addSnapshotListener { querySnapshot, firebaseFirestoreException -&gt;\n  if(firebaseFirestoreException != null) {\n    Log.d(\"main\", \"Error ggetting documents\")\n    return@addSnapshotListener\n  }\n\n  querySnapshot?.documents?.forEach {document -&gt;\n    Log.d(\"main\", document.id + \" =&gt; \" + document.data)\n  }\n}\n</code></pre>\n\n<p><strong>Adding document</strong></p>\n\n<pre><code>val item = HashMap&lt;String, Any&gt;()\nitem[\"name\"] = \"test\"\ndb.collection(\"environments\")\n  .add(item)\n    .addOnSuccessListener { documentReference -&gt;\n      Log.d(\"main\", \"DocumentSnapshot written with ID: \" + \n      documentReference.id)\n    }\n    .addOnFailureListener { e -&gt;\n      Log.w(\"main\", \"Error adding document\", e)\n    }\n</code></pre>\n\n<p>Nothing seems to have permission, while my security rules are good imo? (I can't test get collection in simulator, it only works with document paths) I can see that the application is linked to the project in the console. Also the usage of firestore reads is counting.</p>\n\n<p>Can anyone help me?</p>\n\n<p><em>Note that I'm behind a Zscaler firewall. I've imported the certificate into Android Studio. My emulator has internet access but all SSL certificates are evaluated as invalid. I've also tried to run the app on my actual phone with 4G internet connection (no Zscaler).</em></p>\n"}, {"tags": ["android", "kotlin", "tess-two"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 5434602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5fweVHh7-YM/AAAAAAAAAAI/AAAAAAAACgc/6qBocIXOd-w/photo.jpg?sz=128", "display_name": "Axel Eriksson", "link": "https://stackoverflow.com/users/5434602/axel-eriksson"}, "is_accepted": true, "score": 1, "last_activity_date": 1551738465, "creation_date": 1551738465, "answer_id": 54992554, "question_id": 54905387, "link": "https://stackoverflow.com/questions/54905387/how-do-i-properly-extract-text-and-boxrects-from-tess-two/54992554#54992554", "title": "How do I properly extract text and boxRects from tess-two?", "body": "<p>I solved it!</p>\n\n<pre><code>// As before\nval tesseract = TessBaseAPI()\ntesseract.init(\"/storage/emulated/0/com.ubft/\", \"eng\")\ntesseract.setImage(bm)\n\n// Call utF8Text. Otherwise iterator returns null\ntesseract.utF8Text\n\n// Initiate an iterator\nval iterator = tesseract.getResultIterator()\n\niterator.begin()\ndo {\n    val text = iterator.getUTF8Text(TessBaseAPI.PageIteratorLevel.RIL_TEXTLINE)\n    val boundingBox = iterator.getBoundingRect(TessBaseAPI.PageIteratorLevel.RIL_TEXTLINE)\n\n    // Do what you want with the result...\n\n    } while (iterator.next(TessBaseAPI.PageIteratorLevel.RIL_TEXTLINE))\n\niterator.delete()\n</code></pre>\n\n<p>The TessbaseAPI.PageIteratorLevel can be specified to the type of text structure you want returned (paragraph, words, lines or by character).</p>\n"}], "owner": {"reputation": 105, "user_id": 5434602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5fweVHh7-YM/AAAAAAAAAAI/AAAAAAAACgc/6qBocIXOd-w/photo.jpg?sz=128", "display_name": "Axel Eriksson", "link": "https://stackoverflow.com/users/5434602/axel-eriksson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 1, "accepted_answer_id": 54992554, "answer_count": 1, "score": 2, "last_activity_date": 1551738465, "creation_date": 1551270065, "question_id": 54905387, "link": "https://stackoverflow.com/questions/54905387/how-do-i-properly-extract-text-and-boxrects-from-tess-two", "title": "How do I properly extract text and boxRects from tess-two?", "body": "<p>I have a TessBaseAPI() object with a returned object. I want to extract the words with their bounding box but can't seem to get it working.</p>\n\n<pre><code>val Text = tesseract.getUTF8Text()\n</code></pre>\n\n<p>gives me the text.</p>\n\n<pre><code>val Words = tesseract.getWords.boxRects\n</code></pre>\n\n<p>gives me the bounding boxes that I can loop through but they don't match with getUTF8Text().</p>\n\n<p>Looping through the data object in tesseract.getWords and trying to convert it to string gives me jibberish.</p>\n\n<pre><code>val Words = tesseract.getWords\nfor(i in Words) {\n    Log.i(TAG, i.data.toString())\n}\n</code></pre>\n\n<p>I found a really bad workaround by using .getHOCRText and doing regex on the produced content to get the text and the boxes.</p>\n\n<pre><code>val result = tesseract.getHOCRText(0)\n\nval BoxPattern = Pattern.compile(\"(?&lt;=title='bbox ).*?(?=; x_wconf)\")\nval BoxMatch = BoxPattern.matcher(result)\nwhile(BoxMatch.find()) {\n    Log.i(TAG, BoxMatch.group().toString())\n}\n\nval TextPattern = Pattern.compile(\"(?&lt;='&gt;).*?(?=&lt;\\\\/span&gt;)\")\nval TextMatch = TextPattern.matcher(result)\nwhile(TextMatch.find()) {\n    Log.i(TAG, TextMatch.group().toString())\n}\n</code></pre>\n\n<p>So, how can I properly extract the text and boxRects from tess-two?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1551268901, "post_id": 54904688, "comment_id": 96577084, "body": "You can take a look at what <code>SomeObject</code> compiles into from a Java perspective by opening that source file and using Tools -&gt; Kotlin -&gt; Show Kotlin bytecode -&gt; Decompile."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551270677, "post_id": 54904688, "comment_id": 96578090, "body": "Because you added <code>internal</code>. And you didn&#39;t add <code>@JvmStatic</code>."}], "answers": [{"comments": [{"owner": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "edited": false, "score": 0, "creation_date": 1551269681, "post_id": 54905086, "comment_id": 96577528, "body": "This makes sense as the code proved to have some errors. Was a java to kotlin conversion gone wrong :)"}, {"owner": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "edited": false, "score": 0, "creation_date": 1551269806, "post_id": 54905086, "comment_id": 96577600, "body": "To be exact, it had been made internal from default in java."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "edited": false, "score": 0, "creation_date": 1551270191, "post_id": 54905086, "comment_id": 96577839, "body": "Yes, the converter seems to like to turn things with for example package visibility to explicitly <code>internal</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1551269041, "creation_date": 1551269041, "answer_id": 54905086, "question_id": 54904688, "link": "https://stackoverflow.com/questions/54904688/why-do-we-get-a-weird-method-name-when-calling-kotlin-object-from-java/54905086#54905086", "title": "Why do we get a weird method name when calling kotlin object from java?", "body": "<p>You get that postfix because of the <code>internal</code> visibility modifer, which makes the property visible only within its module (<code>app</code>) when using it from Kotlin.</p>\n\n<p>There isn't such a visibility in Java / on the bytecode level, so instead the identifier gets \"mangled\" with this this postfix, which is supposed to signal to Java clients that they shouldn't be using it, at least if they aren't sure they know what they're doing.</p>\n"}], "owner": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 1, "accepted_answer_id": 54905086, "answer_count": 1, "score": 2, "last_activity_date": 1551269041, "creation_date": 1551267736, "question_id": 54904688, "link": "https://stackoverflow.com/questions/54904688/why-do-we-get-a-weird-method-name-when-calling-kotlin-object-from-java", "title": "Why do we get a weird method name when calling kotlin object from java?", "body": "<p>In kotlin I have a class that was converted to an object and now when I call it from java the method name is appended with $app. What does this mean?</p>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>object SomeObject {\n    internal val standardRetroService: WebPredictionService\n        get() = getCustomBaseRetroService(CloudUtil.doStuff)\n}\n</code></pre>\n\n<p><strong>Java</strong></p>\n\n<pre><code>SomeObject.INSTANCE.getStandardRetroService$app().dostuff();\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1551267530, "post_id": 54904538, "comment_id": 96576333, "body": "what is <code>CancelStrategy</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 0, "last_activity_date": 1551270114, "creation_date": 1551270114, "answer_id": 54905396, "question_id": 54904538, "link": "https://stackoverflow.com/questions/54904538/kotlin-override-parent-job-of-coroutine/54905396#54905396", "title": "Kotlin: Override parent job of coroutine", "body": "<p>Your second example is correct. You can use <code>plus</code> to add the job as a parent job for the new coroutine.</p>\n\n<pre><code>fun launchUI(strategy: CancelStrategy, block: suspend CoroutineScope.() -&gt; Unit): Job {\n    return GlobalScope.launch(context = Dispatchers.Main + strategy.jobs, block = block)\n}\n</code></pre>\n\n<p>But the usage of <code>GlobalScope</code> is discouraged. It would be better to create an own <code>CoroutineScope</code>. Your <code>CancelStrategy</code> looks like a good candidate.</p>\n\n<pre><code>class CancelStrategy(owner: LifecycleOwner, val jobs: Job) : LifecycleObserver, CoroutineScope {\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + jobs\n\n    init {\n        owner.lifecycle.addObserver(this)\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    fun onDestroy() {\n        jobs.cancel()\n    }\n}\n</code></pre>\n\n<p>Now you can start your coroutines like this:</p>\n\n<pre><code>cancelStrategy.launch { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1551270122, "creation_date": 1551270122, "answer_id": 54905400, "question_id": 54904538, "link": "https://stackoverflow.com/questions/54904538/kotlin-override-parent-job-of-coroutine/54905400#54905400", "title": "Kotlin: Override parent job of coroutine", "body": "<p>What you want to have is called \"structured concurrency\" by aligning the lifecycle of your coroutines to some UI component. </p>\n\n<p>Have a look at this documentation: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md#structured-concurrency-lifecycle-and-coroutine-parent-child-hierarchy\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md#structured-concurrency-lifecycle-and-coroutine-parent-child-hierarchy</a></p>\n\n<p>Instead of using <code>GlobalScope</code>, you should consider implementing your own scope and maintaining a <code>Job</code> their, which you can cancel to cancel all your children as well.</p>\n\n<p>Here's a simplified example:</p>\n\n<pre><code>class Activity : CoroutineScope {\n    lateinit var job: Job //tied to lifecycle of Activity\n    fun create() {\n        job = Job()\n    }\n\n    fun destroy() {\n        //will cancel all child jobs as well\n        println(\"cancel $job and all ${job.children.toList().size} children\")\n        job.cancel()\n    }\n\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Default + job + CoroutineName(\"MyActivityContext\")\n\n    fun doSomething() {\n       //we launch in the outer scope of Activity\n       launch {\n          //...\n       }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5326, "user_id": 614065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f164c6c3b709c97862a0d14f7725830b?s=128&d=identicon&r=PG", "display_name": "Olcay Erta\u015f", "link": "https://stackoverflow.com/users/614065/olcay-erta%c5%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 54905396, "answer_count": 2, "score": 0, "last_activity_date": 1552170445, "creation_date": 1551267237, "last_edit_date": 1552170445, "question_id": 54904538, "link": "https://stackoverflow.com/questions/54904538/kotlin-override-parent-job-of-coroutine", "title": "Kotlin: Override parent job of coroutine", "body": "<p>I am trying to migrate the following function to new <code>Coroutine</code> of <code>Kotlin 1.3</code>:</p>\n\n<pre><code>fun launchUI(strategy: CancelStrategy, block: suspend CoroutineScope.() -&gt; Unit): Job {\n    return launch(context = UI, parent = strategy.jobs, block = block)\n}\n</code></pre>\n\n<p>But new <code>GlobalScope.launch</code> function doesn't have <code>parent</code> parameter. Documentation says:</p>\n\n<blockquote>\n  <p>The parent job is inherited from a <code>CoroutineScope</code> as well, but it\n  can also be overridden with corresponding <code>coroutineContext</code> element.</p>\n</blockquote>\n\n<p>But I don't know how to override parent job. I have implemented it like this for now but I am not sure if it will work the same way:</p>\n\n<pre><code>fun launchUI(strategy: CancelStrategy, block: suspend CoroutineScope.() -&gt; Unit): Job {\n    val job = GlobalScope.launch(context = Dispatchers.Main, block = block)\n    strategy.jobs.invokeOnCompletion {\n        job.cancel()\n    }\n    return job\n}\n</code></pre>\n\n<p>Can anyone help me?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>class CancelStrategy(owner: LifecycleOwner, val jobs: Job) : LifecycleObserver {\n\n    init {\n        owner.lifecycle.addObserver(this)\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    fun onDestroy() {\n        jobs.cancel()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1551285526, "post_id": 54904330, "comment_id": 96587545, "body": "this sounds more complicated than it needs to be... what are you trying to accomplish? Do you really need a label? what&#39;s the purpose of that label? If you really need that label, then you probably only want it to display your data (labels are usually read-only to the user)... so you can keep your actual date-object and work with that... when need arises you just update (or your binding framework of choice updates) your label/view..."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1551268065, "creation_date": 1551268065, "answer_id": 54904799, "question_id": 54904330, "link": "https://stackoverflow.com/questions/54904330/subtract-days-from-a-calendar-time-stored-as-text-in-kotlin/54904799#54904799", "title": "subtract days from a Calendar time stored as text in Kotlin", "body": "<p>I would use the new time API which is available since JDK 8 and can be found in <code>java.time</code>. You should also agree on a format that is being used:</p>\n\n<pre><code>val format = DateTimeFormatter.ISO_DATE_TIME\nval current = LocalDateTime.now()\nval currentAsText = current.format(format)\nprintln(currentAsText) // e.g. 2019-02-27T12:00:00.000\n\nval fromText = LocalDateTime.parse(currentAsText, format)\nval twoDaysAgo = fromText.minusDays(2)\nprintln(twoDaysAgo) // 2019-02-27T12:00:00.000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1551270464, "last_edit_date": 1551270464, "creation_date": 1551268475, "answer_id": 54904921, "question_id": 54904330, "link": "https://stackoverflow.com/questions/54904330/subtract-days-from-a-calendar-time-stored-as-text-in-kotlin/54904921#54904921", "title": "subtract days from a Calendar time stored as text in Kotlin", "body": "<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">Date</a> class:</p>\n\n<blockquote>\n  <p>public String toString() <br/>\n  Converts this Date object to a String of the form: <br/> \n  dow mon dd hh:mm:ss zzz yyyy <br/></p>\n</blockquote>\n\n<p>this results in this format:</p>\n\n<pre><code>Fri Feb 22 11:45:35 EET 2019\n</code></pre>\n\n<p>You need <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a> to parse this format, like this: </p>\n\n<pre><code>val date = ZonedDateTime \n    .parse(time, DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss zzz yyyy\", Locale.ENGLISH))\n    .toLocalDate()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 10331614, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xCGUZADzuCA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNiwx6Y8M7ywQNyd2FRDCkRm0hd6Q/mo/photo.jpg?sz=128", "display_name": "Sami", "link": "https://stackoverflow.com/users/10331614/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 54904799, "answer_count": 2, "score": 0, "last_activity_date": 1551270464, "creation_date": 1551266536, "question_id": 54904330, "link": "https://stackoverflow.com/questions/54904330/subtract-days-from-a-calendar-time-stored-as-text-in-kotlin", "title": "subtract days from a Calendar time stored as text in Kotlin", "body": "<p>So I take the current date in Kotlin:</p>\n\n<pre><code>val calendar = Calendar.getInstance()\ncalendar.add(Calendar.DAY_OF_YEAR, -daysAgo)\n</code></pre>\n\n<p>I store it as text on a label: time = calendar.time.toString()</p>\n\n<p>Next, I want to subtract 2 days from the label text:</p>\n\n<pre><code>            val date = LocalDate.parse(time)    \n            val cal = Calendar.getInstance()\n            cal.time = java.sql.Date.valueOf(date.toString())\n            cal.add(Calendar.DAY_OF_YEAR, -daysAgo)\n</code></pre>\n\n<p>Method threw 'java.time.format.DateTimeParseException' exception after this line:       LocalDate.parse(time) any thoughts?</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551264823, "post_id": 54903726, "comment_id": 96574722, "body": "Have you added <code>apply plugin: &#39;com.google.gms.google-services&#39;</code> as the last line in your gradle file?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551264913, "post_id": 54903726, "comment_id": 96574764, "body": "the google service plugin must be applied at the very bottom of the gradle file"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551265201, "post_id": 54903726, "comment_id": 96574947, "body": "@AlexMamo yes it did it automatically at the top"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551265299, "post_id": 54903726, "comment_id": 96575007, "body": "@TimCastelijns you&#39;re talking about this line correct? <code>apply plugin: &#39;com.google.gms.google-services&#39;</code> The assistant placed it there automatically, but anyway I&#39;ve moved it to the bottom and it still crashes."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551265710, "post_id": 54903726, "comment_id": 96575246, "body": "@Tsabary Pleas also add the content of the other build.gradle (Project) file."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551266016, "post_id": 54903726, "comment_id": 96575422, "body": "@AlexMamo added."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551266421, "post_id": 54903726, "comment_id": 96575653, "body": "do you have a google-services.json file in the root folder of the project? I assume the assistant created it but just making sure"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1551266665, "post_id": 54903726, "comment_id": 96575801, "body": "@TimCastelijns yes I do. Looks like the problem is solved after Faysal&#39;s advice to update the service version."}], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 1, "creation_date": 1551266543, "post_id": 54904261, "comment_id": 96575724, "body": "Looks like it did.. Thanks for noticing that Faysal!"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551266651, "post_id": 54904261, "comment_id": 96575789, "body": "@TimCastelijns For recent update of Android Studio to <code>3.3.1</code> that have a problem with <code>com.google.gms:google-services (Below 4.2.0)</code>. That&#39;s why <code>FirebaseApp</code>  not initialized properly."}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 2, "last_activity_date": 1551266255, "creation_date": 1551266255, "answer_id": 54904261, "question_id": 54903726, "link": "https://stackoverflow.com/questions/54903726/default-firebaseapp-is-not-initialized-in-this-process-on-a-completely-empty-a/54904261#54904261", "title": "&quot;Default FirebaseApp is not initialized in this process&quot; on a completely empty app", "body": "<p>Update google service version to <code>4.2.0</code>.</p>\n\n<p>Use this </p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.2.0'\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.1.0'\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 54904261, "answer_count": 1, "score": 1, "last_activity_date": 1551297939, "creation_date": 1551264569, "last_edit_date": 1551297939, "question_id": 54903726, "link": "https://stackoverflow.com/questions/54903726/default-firebaseapp-is-not-initialized-in-this-process-on-a-completely-empty-a", "title": "&quot;Default FirebaseApp is not initialized in this process&quot; on a completely empty app", "body": "<p>I'm just trying to learn how to use Firebase, so I've created a completely empty app and wanted to set a base to start trying stuff, but I am getting this error.</p>\n\n<p>I've implemented Firebase using the assistant and only put in the two lines of code the intro guide in Firebase is instruting to input. No idea what I can change as I've literally put nothing inside.</p>\n\n<p>this is the line that's causing the crash</p>\n\n<pre><code>val database = FirebaseDatabase.getInstance()\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>I've looked at other threads where people have asked this question but it seems that their code had much more that could have been changed, or what the answers have instructed was already tru for my case.</p>\n\n<p>This is my mainActivity</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        FirebaseApp.initializeApp(this)\n\n        val database = FirebaseDatabase.getInstance()\n        val myRef = database.getReference(\"message\")\n\n\n    }\n}\n</code></pre>\n\n<p>That's my app Gradle build</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"co.getdere.firebaseexperiments\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.google.firebase:firebase-core:16.0.7'\n    implementation 'com.google.firebase:firebase-database:16.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p>And this is the project Gradle Build file</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.21'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.1.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["kotlin", "mockito", "android-espresso", "android-viewmodel"], "owner": {"reputation": 1080, "user_id": 2114018, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/XKzo8.jpg?s=128&g=1", "display_name": "Selva", "link": "https://stackoverflow.com/users/2114018/selva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 861, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551272812, "creation_date": 1551263267, "last_edit_date": 1551272812, "question_id": 54903289, "link": "https://stackoverflow.com/questions/54903289/mocking-viewmodel-in-espresso", "title": "Mocking ViewModel in Espresso", "body": "<p>I'm writing Espresso UI test which mocks viewModel, referring <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/androidTest/java/com/android/example/github/ui/user/UserFragmentTest.kt\" rel=\"nofollow noreferrer\">GithubBrowserSample</a> </p>\n\n<p>what is the use of \"<code>TaskExecutorWithIdlingResourceRule</code>\", declaring Junit Rule will take care of IdlingResource?</p>\n\n<p>Even after referring this \"<code>TaskExecutorWithIdlingResourceRule</code>\" class in my project whenever I build, compiler doesn't throw any error but when I run the test case it shows the <strong>Unresolved Error(s)</strong>  </p>\n\n<p><strong>TaskExecutorWithIdlingResourceRule.kt</strong></p>\n\n<pre><code>import androidx.arch.core.executor.testing.CountingTaskExecutorRule\nimport androidx.test.espresso.IdlingRegistry\nimport androidx.test.espresso.IdlingResource\nimport org.junit.runner.Description\nimport java.util.UUID\nimport java.util.concurrent.CopyOnWriteArrayList\nimport java.util.concurrent.TimeUnit\n\nclass TaskExecutorWithIdlingResourceRule : CountingTaskExecutorRule() {\n    // give it a unique id to workaround an espresso bug where you cannot register/unregister\n    // an idling resource w/ the same name.\n\n    private val id = UUID.randomUUID().toString()\n    private val idlingResource: IdlingResource = object : IdlingResource {\n        override fun getName(): String {\n            return \"architecture components idling resource $id\"\n        }\n\n        override fun isIdleNow(): Boolean {\n            return this@TaskExecutorWithIdlingResourceRule.isIdle\n        }\n\n        override fun registerIdleTransitionCallback(callback: IdlingResource.ResourceCallback) {\n            callbacks.add(callback)\n        }\n    }\n    private val callbacks = CopyOnWriteArrayList&lt;IdlingResource.ResourceCallback&gt;()\n    override fun starting(description: Description?) {\n        IdlingRegistry.getInstance().register(idlingResource)\n        super.starting(description)\n    }\n\n    override fun finished(description: Description?) {\n        drainTasks(10, TimeUnit.SECONDS)\n        callbacks.clear()\n        IdlingRegistry.getInstance().unregister(idlingResource)\n        super.finished(description)\n    }\n\n    override fun onIdle() {\n        super.onIdle()\n        for (callback in callbacks) {\n            callback.onTransitionToIdle()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Mocktest</strong></p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass MockTest {\n\n    @Rule\n    @JvmField\n    var activityRule = IntentsTestRule(SingleFragmentActivity::class.java, true, true)\n\n    @Rule\n    @JvmField\n    val executorRule = TaskExecutorWithIdlingResourceRule()\n\n    private lateinit var viewModel: SeriesFragmentViewModel\n    private val uiModelList = mutableListOf&lt;SeriesBaseUIModel&gt;()\n    private val seriesMutableLiveData = MutableLiveData&lt;List&lt;SeriesBaseUIModel&gt;&gt;()\n    private val seriesFragment = SeriesFragment()\n\n    @Before\n    fun init(){\n        viewModel = mock(SeriesFragmentViewModel::class.java)\n        `when`(viewModel.seriesLiveData).thenReturn(seriesMutableLiveData)\n\n        ViewModelUtil.createFor(viewModel)\n\n        activityRule.activity.setFragment(seriesFragment)\n        EspressoTestUtil.disableProgressBarAnimations(activityRule)\n    }\n\n\n    @Test\n    fun testLoading()\n    {\n        //Thread.sleep(3000)\n\n        uiModelList.add(ProgressUIModel())\n        seriesMutableLiveData.postValue(uiModelList.toList())\n\n        onView(withId(R.id.pod_series_recycler_view))\n            .check(selectedDescendantsMatch(withId(R.id.pod_adapter_series_header_title), isDisplayed()))\n\n        onView(withId(R.id.pod_series_recycler_view))\n            .check(selectedDescendantsMatch(withId(R.id.pod_adapter_series_header_title), withText(R.string.pod_series_header_title_text)))\n\n        onView(withId(R.id.pod_series_recycler_view))\n            .check(selectedDescendantsMatch(withId(R.id.pod_adapter_series_header_description), isDisplayed()))\n\n\n        onView(withId(R.id.pod_series_recycler_view))\n            .check(selectedDescendantsMatch(withId(R.id.pod_adapter_series_header_title), withText(\"Hello\")))\n\n\n        Thread.sleep(5000)\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DvtQc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DvtQc.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/bl1rf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bl1rf.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "service", "android-mediaplayer"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "is_accepted": false, "score": 0, "last_activity_date": 1551268033, "creation_date": 1551268033, "answer_id": 54904794, "question_id": 54903284, "link": "https://stackoverflow.com/questions/54903284/let-mediaplayer-select-a-random-file-automatically-when-ended/54904794#54904794", "title": "Let MediaPlayer select a random file automatically when ended", "body": "<p>Okay, I solved this using some more boilerplate code, releasing and re-creating each MediaPlayer instance with its own function, so I didn\u00b4t have to set a new data source.</p>\n"}], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551268033, "creation_date": 1551263260, "question_id": 54903284, "link": "https://stackoverflow.com/questions/54903284/let-mediaplayer-select-a-random-file-automatically-when-ended", "title": "Let MediaPlayer select a random file automatically when ended", "body": "<p>I want to create a kind of soundscape. For this I have a service in which three instances of MediaPlayer are created. On completion they should select a new file for playback, play that file and repeat that process. </p>\n\n<p>The following code only plays the files from <code>.create()</code> but then does not seem to do anything else. At runtime, \"selectstarted\" and \"playstarted\" are printed, so I can only guess that the mistake is somewhere in the <code>selectBordun()</code> or the <code>play()</code> function, but I have no idea where.</p>\n\n<p>Please note that I have shortened the code for readability. Every time, <code>mPlayer</code> is mentioned, I have the same code two more times, just with <code>mPlayer2</code> and <code>mPlayer3</code>. But the basic principle should be the same with just one instance.</p>\n\n<pre><code>open class BordunService : Service() {\n\nprivate lateinit var mPlayer: MediaPlayer\n\noverride fun onCreate() {\n    mPlayer = MediaPlayer.create(this, R.raw.fping)\n}\n\noverride fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n\n    if (intent.hasExtra(\"Play\")) {\n                    playBordun()\n                }\n}\n\nprivate fun playBordun() {\n        fun playMPlayer() {\n\n            mPlayer.setOnCompletionListener(object: MediaPlayer.OnCompletionListener  {\n                override fun onCompletion(p0: MediaPlayer?) {\n                    println(\"completem\")\n                    selectBordun(mPlayer)\n                }\n            })\n\n             mPlayer.setOnPreparedListener(object:MediaPlayer.OnPreparedListener {\n                override fun onPrepared(p0: MediaPlayer?) {\n                    println(\"preparedm\")\n                    mPlayer.start()\n                }\n            })\n        }\n\n        GlobalScope.launch {\n            playMPlayer()\n        }\n    }\n\nfun selectBordun(player: MediaPlayer) {\n    println(\"selectstarted\")\n    player.reset()\n    val randomGenerator = Random()\n    val bordunInt = randomGenerator.nextInt(3) + 1\n    when (bordunInt) {\n        1 -&gt; {\n            val afd = this.getResources().openRawResourceFd(R.raw.cping)\n            afd.close()\n            player.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength())\n//                player.prepareAsync()\n            play(player)\n        }\n        2 -&gt; {\n            val afd = this.getResources().openRawResourceFd(R.raw.ebping)\n            afd.close()\n            player.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength())\n//              player.prepareAsync()\n            play(player)\n        }\n        3 -&gt; {\n            val afd = this.getResources().openRawResourceFd(R.raw.gping)\n            afd.close()\n            player.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(), afd.getLength())\n//            player.prepareAsync()\n            play(player)\n        }\n    }\n}\n\nfun play(player: MediaPlayer) {\n   println(\"playstarted\")\n   player.setOnPreparedListener(object:MediaPlayer.OnPreparedListener {\n        override fun onPrepared(p0: MediaPlayer?) {\n            println(\"preparedplayer\")\n            player.start()\n        }\n    })\n\n\n    player.setOnCompletionListener(object: MediaPlayer.OnCompletionListener  {\n        override fun onCompletion(p0: MediaPlayer?) {\n            println(\"completeplayer\")\n            selectBordun(player)\n        }\n    })\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "edited": false, "score": 0, "creation_date": 1551263999, "post_id": 54903220, "comment_id": 96574133, "body": "what exactly do you want to do., i am unable to get your problem, and why didn&#39;t you  requested your data from bundle inside fragment?"}, {"owner": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "reply_to_user": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "edited": false, "score": 0, "creation_date": 1551264198, "post_id": 54903220, "comment_id": 96574273, "body": "I&#39;ve used &quot; var dataBundle: Bundle? = this.arguments         tv_one.text = dataBundle!!.getString(BOARDSTATE)&quot; inside my fragment to set Textview data from activity but but it set a text: android.suppert.v7......app:id/board_status"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551282562, "post_id": 54903220, "comment_id": 96585552, "body": "...<code>mArgs</code>? That&#39;s no member field"}], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 0, "creation_date": 1551264624, "post_id": 54903669, "comment_id": 96574596, "body": "Yes, working well. So, do you have some suggestion about buttons?"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 0, "creation_date": 1551264722, "post_id": 54903669, "comment_id": 96574656, "body": "are you facing same issue for button?"}, {"owner": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 0, "creation_date": 1551265316, "post_id": 54903669, "comment_id": 96575022, "body": "I don&#39;t know how to replace button actions (on activity) from activity to fragment properly"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 0, "creation_date": 1551265412, "post_id": 54903669, "comment_id": 96575078, "body": "i am sorry my friend, i am unable to understand the exact issue, can you elaborate more on this?"}, {"owner": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 0, "creation_date": 1551266947, "post_id": 54903669, "comment_id": 96575989, "body": "e.g.  Activity: pressing  custom Button A i set on textView: &quot;Hello&quot;. Fragment: i want to replace custom Button A from activity with Button B and onclicking it i will set on fragment textview: &quot;Hello&quot;. How could I set the same button action from activity to fragment?"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "edited": false, "score": 1, "creation_date": 1551267286, "post_id": 54903669, "comment_id": 96576192, "body": "i am unable to figure out still, But you can request button text and set button text similarly like you do in textview, and also setOnClickListener Function anywhere you want, multiple time too. just check out here. <a href=\"https://developer.android.com/reference/android/widget/Button\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/Button</a>"}], "tags": [], "owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "is_accepted": true, "score": 1, "last_activity_date": 1551264388, "creation_date": 1551264388, "answer_id": 54903669, "question_id": 54903220, "link": "https://stackoverflow.com/questions/54903220/kotlin-how-to-set-textviews-and-buttons-setting-from-activity-to-fragment/54903669#54903669", "title": "KOTLIN - How to set TextViews and buttons setting from Activity to fragment", "body": "<p>Please note that you will need to get Text before converting it to string, like that in second line.</p>\n\n<p>board_status_tv <strong>.getText().</strong> toString()</p>\n\n<pre><code> val textFragment = MyFragment()\n val mytostring = board_status_tv.getText().toString()\n val mArgs = Bundle()\n mArgs.putString(BOARDSTATE, mytostring)\n textFragment.setArguments(mArgs)\n</code></pre>\n\n<p>Hope this will resolve your problem</p>\n"}], "owner": {"reputation": 492, "user_id": 10191400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f308a914f7d068af5f4974fde85bf0c?s=128&d=identicon&r=PG&f=1", "display_name": "DoctorWho", "link": "https://stackoverflow.com/users/10191400/doctorwho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 54903669, "answer_count": 1, "score": 0, "last_activity_date": 1551264388, "creation_date": 1551263098, "question_id": 54903220, "link": "https://stackoverflow.com/questions/54903220/kotlin-how-to-set-textviews-and-buttons-setting-from-activity-to-fragment", "title": "KOTLIN - How to set TextViews and buttons setting from Activity to fragment", "body": "<p>I'm new on Android, in particular on Kotlin development.</p>\n\n<p>How from title, i'm trying to understand how to achieve this: \nI have an Activity with some buttons and textviews. I would to implement an hidden fragment opened after 5 clicks on UI. That fragment work look like the activity. I'm able to open the fragment properly and set the layout properly. I don't know how to replace buttons activity settings from activity to fragment. I have same problem with the textview. How could I achieve it? \nThanks in Advance.</p>\n\n<p>Here Activity Kotlin part that open fragment:</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent): Boolean {\n        var eventaction = event.getAction()\n        if (eventaction == MotionEvent.ACTION_UP) {\n\n            //get system current milliseconds\n            var time = System.currentTimeMillis()\n\n\n            //if it is the first time, or if it has been more than 3 seconds since the first tap ( so it is like a new try), we reset everything\n            if (startMillis == 0L || (time-startMillis&gt; 3000) ) {\n                startMillis=time\n                count=1\n            }\n\n            //it is not the first, and it has been  less than 3 seconds since the first\n            else{ //  time-startMillis&lt; 3000\n                count++\n            }\n\n            if (count==5) { \n\n//            Log.d(\"tag\",\"start hidden layout\")\n\n                // Get the text fragment instance\n                val textFragment = MyFragment()\n\n                val mytostring =board_status_tv.toString()\n                val mArgs = Bundle()\n                mArgs.putString(BOARDSTATE, mytostring)\n\n                textFragment.setArguments(mArgs)\n\n\n                // Get the support fragment manager instance\n                val manager = supportFragmentManager\n\n                // Begin the fragment transition using support fragment manager\n                val transaction = manager.beginTransaction()\n\n                // Replace the fragment on container\n                transaction.replace(R.id.fragment_container,textFragment)\n                transaction.addToBackStack(null)\n                // Finishing the transition\n                transaction.commit()\n\n\n\n            }\n            return true\n        }\n        return false\n\n    }\n</code></pre>\n\n<p>Fragment Kotlin class:</p>\n\n<pre><code>class MyFragment : Fragment(){\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val parentViewGroup = linearLayout\n        parentViewGroup?.removeAllViews()\n\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        // Get the custom view for this fragment layout\n        val view = inflater!!.inflate(R.layout.my_own_fragment,container,false)\n\n        // Get the text view widget reference from custom layout\n        val tv = view.findViewById&lt;TextView&gt;(R.id.text_view)\n//        val tv1 = view.findViewById&lt;TextView&gt;(R.id.board_status_tv1)\n\n\n\n\n        // Set a click listener for text view object\n        tv.setOnClickListener{\n            // Change the text color\n            tv.setTextColor(Color.RED)\n\n            // Show click confirmation\n            Toast.makeText(view.context,\"TextView clicked.\",Toast.LENGTH_SHORT).show()\n        }\n\n        // Return the fragment view/layout\n        return view\n    }\n\n    override fun onPause() {\n        super.onPause()\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n    }\n\n    override fun onStart() {\n        super.onStart()\n    }\n\n    override fun onStop() {\n        super.onStop()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "image", "kotlin", "retrofit", "android-image"], "comments": [{"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1551268456, "post_id": 54901781, "comment_id": 96576847, "body": "You can use glide to handle that image and display it."}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "edited": false, "score": 0, "creation_date": 1551267955, "post_id": 54902444, "comment_id": 96576558, "body": "I want to show on preview first, if you can help me with this I would be very grateful :) Thank you for the answer anyway @Ravi Kumar"}, {"owner": {"reputation": 206, "user_id": 9305922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6AXb.jpg?s=128&g=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/9305922/ravi-kumar"}, "reply_to_user": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "edited": false, "score": 0, "creation_date": 1551268721, "post_id": 54902444, "comment_id": 96576996, "body": "Camera app itself gives you the ability to review/retake the image after capturing the image, and once an image is accepted, then you can able to crop the image if you wish. If you still need to show preview after that open a separate activity and show this result image  in that activity"}], "tags": [], "owner": {"reputation": 206, "user_id": 9305922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6AXb.jpg?s=128&g=1", "display_name": "Ravi Kumar", "link": "https://stackoverflow.com/users/9305922/ravi-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577691324, "last_edit_date": 1577691324, "creation_date": 1551260859, "answer_id": 54902444, "question_id": 54901781, "link": "https://stackoverflow.com/questions/54901781/show-image-on-preview-before-uploading-to-server-in-android/54902444#54902444", "title": "Show image on preview before uploading to server in android", "body": "<p>To preview image after selecting an image from the gallery or by capturing an image from phone camera can be done using various libraries like Picasso, Glide, Fresco etc or else you can convert it into bitmap image and set directly to ImageView</p>\n\n<pre><code>  override fun onActivityResult(requestCode: Int, resultCode: Int, data: \n   Intent?) {\n       super.onActivityResult(requestCode, resultCode, data)\n\n       if (resultCode == Activity.RESULT_OK)\n       when(requestCode){\n          GALLERY -&gt; {\n            val selectedImage: Uri = data!!.data\n            Picasso.get().load(selectedImage).into(imageView2);//Using Picasso            \n            Glide.with(this).load(selectedImage).into(imageView2);//Using Glide\n\n          }\n\n         }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551268678, "creation_date": 1551268678, "answer_id": 54904979, "question_id": 54901781, "link": "https://stackoverflow.com/questions/54901781/show-image-on-preview-before-uploading-to-server-in-android/54904979#54904979", "title": "Show image on preview before uploading to server in android", "body": "<p>If you want to display thumbnail image just for preview you can get it using below code.</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    if (requestCode == REQUEST_IMAGE_CAPTURE &amp;&amp; resultCode == RESULT_OK) {\n        val imageBitmap = data.extras.get(\"data\") as Bitmap\n        imageView.setImageBitmap(imageBitmap)\n    }\n}\n</code></pre>\n\n<p>You can refer to complete implementation <a href=\"https://developer.android.com/training/camera/photobasics#kotlin\" rel=\"nofollow noreferrer\">here</a> on android developers site.</p>\n"}], "owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 717, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577691324, "creation_date": 1551258815, "last_edit_date": 1551267900, "question_id": 54901781, "link": "https://stackoverflow.com/questions/54901781/show-image-on-preview-before-uploading-to-server-in-android", "title": "Show image on preview before uploading to server in android", "body": "<p>I'm working with images in kotlin and I'm trying to upload an image to server using retrofit. But before uploading I wanted to show image on preview. I've been reading about how to do this but still didn't find the right solution. \nhere is my code until this moment</p>\n\n<pre><code>fun chooseImageFromGallery() {\n    val galleryIntent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n    startActivityForResult(galleryIntent, GALLERY)\n}\n\nprivate fun takePhotoFromCamera() {\n    val cameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    startActivityForResult(cameraIntent, CAMERA)\n}\n\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (resultCode == Activity.RESULT_OK)\n        when(requestCode){\n            GALLERY -&gt; {\n                val selectedImage: Uri = data!!.data\n\n\n\n            }\n        }\n}\n</code></pre>\n\n<p>Please help me!</p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin", "onactivityresult"], "comments": [{"owner": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "edited": false, "score": 0, "creation_date": 1551254846, "post_id": 54900533, "comment_id": 96568861, "body": "Try to remove the line from all places intent.putExtra (&quot;bitmap&quot;, bitmap) and see the logs longToast (&quot;It get the result from Activity B&quot;).  If log message &quot;It get the result from Activity B&quot; will appear then the problem is that the bitmap parameter is too large for Bundle.  Or Try to log onActivityResult in your host fragment activity."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "reply_to_user": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "edited": false, "score": 0, "creation_date": 1551255137, "post_id": 54900533, "comment_id": 96568988, "body": "@SergeyBukarev you&#39;re right, I get the Toast now, but how to pass bitmap?"}, {"owner": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "edited": false, "score": 0, "creation_date": 1551255575, "post_id": 54900533, "comment_id": 96569157, "body": "Pass it through a static variable or save bitmap to a file and pass file name from bundle. Bundle parameter has a size limit."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "reply_to_user": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "edited": false, "score": 0, "creation_date": 1551255730, "post_id": 54900533, "comment_id": 96569227, "body": "@SergeyBukarev let me try"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1551257140, "post_id": 54900533, "comment_id": 96569886, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6147884/onactivityresult-is-not-being-called-in-fragment\">onActivityResult is not being called in Fragment</a>"}], "answers": [{"tags": [], "owner": {"reputation": 888, "user_id": 3157020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lasgr.jpg?s=128&g=1", "display_name": "SergeyBukarev", "link": "https://stackoverflow.com/users/3157020/sergeybukarev"}, "is_accepted": true, "score": 1, "last_activity_date": 1551256638, "creation_date": 1551256638, "answer_id": 54901175, "question_id": 54900533, "link": "https://stackoverflow.com/questions/54900533/onactivityresult-not-getting-called-in-fragment-from-activity/54901175#54901175", "title": "OnActivityResult not getting called in Fragment from Activity", "body": "<p>As one of the simplest options pass it through a static variable</p>\n\n<p>In the Fragment A create a static field </p>\n\n<pre><code>    companion object {\n        public var globalBitmap: Bitmap? = null\n    }\n</code></pre>\n\n<p>and in Fragment A in <code>onActivityResult</code> method save bitmap to static variable like that </p>\n\n<pre><code>...\n    if (requestCode == CAMERA_CAPTURE &amp;&amp; resultCode == Activity.RESULT_OK) {\n                val extras = data?.extras\n                if (extras != null) {\n                    globalBitmap = extras.get(\"data\") as Bitmap\n\n                    startActivityForResult(intent, 12)\n                }\n            }\n...\n</code></pre>\n\n<p>In Activity B read result bitmap from Fragment A static variablelike that </p>\n\n<pre><code>FragmentA.globalBitmap\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551257234, "post_id": 54901265, "comment_id": 96569942, "body": "can you explain how your answer helped ?"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551257279, "post_id": 54901265, "comment_id": 96569970, "body": "You are passing an activity as a reference of alertdialog, so dialog will run on FragmentActivity. and any result requested will be dispatched to the activity instead of where you requested from. using context is more friendly to startActivityForResult.  it dispatches result to calling context."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551257965, "post_id": 54901265, "comment_id": 96570333, "body": "<code>OnActivityResult</code> not getting called is because the parameter bitmap is too large."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551258366, "post_id": 54901265, "comment_id": 96570575, "body": "Have you tried captured an image and display it on next Activity, then call onActivityResult again ?"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551259018, "post_id": 54901265, "comment_id": 96570957, "body": "i think you are doing it in a wrong way. First, capture image, and once you get an URI back in onActivityResult, try opening it in another activity to display if you want so. otherwise, camera intent will already display and request to accept or deny for using captured image."}, {"owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "edited": false, "score": 0, "creation_date": 1551274445, "post_id": 54901265, "comment_id": 96580384, "body": "ya, the reason is because the bitmap parameter"}], "tags": [], "owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "is_accepted": false, "score": 0, "last_activity_date": 1551258169, "last_edit_date": 1551258169, "creation_date": 1551256988, "answer_id": 54901265, "question_id": 54900533, "link": "https://stackoverflow.com/questions/54900533/onactivityresult-not-getting-called-in-fragment-from-activity/54901265#54901265", "title": "OnActivityResult not getting called in Fragment from Activity", "body": "<p>See i tried it a quick and added a breakpoint, and received callback in fragment.</p>\n\n<p><a href=\"https://i.stack.imgur.com/teiPn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/teiPn.png\" alt=\"enter image description here\"></a>use <strong><em>context</em></strong></p>\n\n<pre><code> val builder = android.support.v7.app.AlertDialog.Builder(context)\n</code></pre>\n\n<p>instead of <strong><em>activity</em></strong></p>\n\n<pre><code> val builder = android.support.v7.app.AlertDialog.Builder(activity)\n</code></pre>\n"}], "owner": {"reputation": 1781, "user_id": 5257704, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/34f9dfd2df35241769bec4262a946de2?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/5257704/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 54901175, "answer_count": 2, "score": 1, "last_activity_date": 1551258169, "creation_date": 1551253914, "question_id": 54900533, "link": "https://stackoverflow.com/questions/54900533/onactivityresult-not-getting-called-in-fragment-from-activity", "title": "OnActivityResult not getting called in Fragment from Activity", "body": "<p>My flow of activity is like this.</p>\n\n<p>In <code>Fragment</code> A, it allow user to capture image, and the image will be displayed on <code>Activity B</code> for user to do some editing.</p>\n\n<p><strong>Fragment A</strong></p>\n\n<pre><code>mImageListAdapter.mAddImageClickListener = object : ImageListAdapter.AddImageClickListener {\n            override fun addImageClicked() {\n                val options = arrayOf&lt;CharSequence&gt;(\"Take Photo\", \"Choose From Gallery\", \"Cancel\")\n                val builder = android.support.v7.app.AlertDialog.Builder(activity)\n                builder.setTitle(\"Select Option\")\n                builder.setItems(options) { dialog, item -&gt;\n                    if (options[item] == \"Take Photo\") {\n                        dialog.dismiss()\n                        val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n                        startActivityForResult(intent, CAMERA_CAPTURE)\n                    } \n                }\n                builder.show()\n            }\n        }\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        var bitmap: Bitmap? = null\n        if (requestCode == CAMERA_CAPTURE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            val extras = data?.extras\n            if (extras != null) {\n                bitmap = extras.get(\"data\") as Bitmap\n                val intent = Intent(activity, ActivityB::class.java)\n                intent.putExtra(\"bitmap\", bitmap)\n                startActivityForResult(intent, 12)\n            }\n        } else if (requestCode == 12 &amp;&amp; resultCode == Activity.RESULT_OK) {\n            longToast(\"It get result from Activity B\")\n        } else {\n            longToast(\"Nothing\")\n        }\n    }\n</code></pre>\n\n<p>In Activity B,once the done button is clicked, the edited image suppose to be return to Fragment A, where I expect \"<code>It get result from Activity B</code>\" will be displayed, but <strong>nothing get displayed</strong>!</p>\n\n<p><strong>Activity B</strong></p>\n\n<pre><code>doneBtn.setOnClickListener {\n            image.buildDrawingCache()\n            val bitmap = image.getDrawingCache()\n            val resultIntent = Intent()\n            resultIntent.putExtra(\"bitmap\", bitmap)\n            setResult(Activity.RESULT_OK, resultIntent)\n            finish()\n        }\n</code></pre>\n"}, {"tags": ["spring-boot", "junit", "kotlin", "wiremock"], "comments": [{"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1551253639, "post_id": 54900364, "comment_id": 96568348, "body": "Looks like you are mocking wrong port. WireMock uses 8081 while error complains about 8080."}, {"owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1551254404, "post_id": 54900364, "comment_id": 96568669, "body": "8080 port is used by spring-boot application. If I remove the WireMock.verify part, test is passed."}], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 1948612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34c6b0ea04f6a6d1a35d2a35bb379b69?s=128&d=identicon&r=PG", "display_name": "Henrik Hermansson", "link": "https://stackoverflow.com/users/1948612/henrik-hermansson"}, "is_accepted": true, "score": 10, "last_activity_date": 1551873032, "creation_date": 1551873032, "answer_id": 55022446, "question_id": 54900364, "link": "https://stackoverflow.com/questions/54900364/unit-testing-wiremock-verify-failing-with-connection-error/55022446#55022446", "title": "Unit Testing - Wiremock verify failing with connection error", "body": "<p>You need to perform the verify call on your specific server with something like <code>wireMockServer.verify()</code> instead of <code>WireMock.verify()</code>.</p>\n"}], "owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2937, "favorite_count": 0, "accepted_answer_id": 55022446, "answer_count": 1, "score": 3, "last_activity_date": 1551873032, "creation_date": 1551253331, "question_id": 54900364, "link": "https://stackoverflow.com/questions/54900364/unit-testing-wiremock-verify-failing-with-connection-error", "title": "Unit Testing - Wiremock verify failing with connection error", "body": "<p>I'm testing a spring-boot application and using wiremock stubs to mock external API. In one test case I want to make sure that my stub gets called exactly once but it's failing with connection error.</p>\n\n<p>My Test File:</p>\n\n<pre><code>@SpringBootTest\n@AutoConfigureWebTestClient\n@ActiveProfiles(\"test\")\nclass ControllerTest {\n\n    @Autowired\n    private lateinit var webClient: WebTestClient\n\n    private lateinit var wireMockServer: WireMockServer\n\n    @BeforeEach\n    fun setup() {\n        wireMockServer = WireMockServer(8081)\n        wireMockServer.start()\n        setupStub()\n    }\n\n    @AfterEach\n    fun teardown() {\n        wireMockServer.stop()\n    }\n\n    // Stub for external API\n    private fun setupStub() {\n        wireMockServer.stubFor(\n        WireMock.delete(WireMock.urlEqualTo(\"/externalApiUrl\"))\n            .willReturn(\n                WireMock.aResponse()\n                    .withHeader(\"Content-Type\", \"application/json\")\n                    .withStatus(204)\n                    .withBodyFile(\"file.json\")\n            )\n    )\n    }\n\n    @Test\n    fun test_1() {\n\n        val email = \"some-email\"\n        val Id = 123\n\n        webClient.post()\n        .uri { builder -&gt;\n            builder.path(\"/applicationUrl\")\n                .queryParam(\"email\", email)\n                .queryParam(\"id\", Id)\n                .build()\n        }\n        .exchange()\n        .expectStatus().isOk\n\n        WireMock.verify(exactly(1), WireMock.deleteRequestedFor(WireMock.urlEqualTo(\"/externalApiUrl\")))\n}\n</code></pre>\n\n<p>When I run this test I'm getting the following error:</p>\n\n<blockquote>\n  <p>org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)</p>\n</blockquote>\n\n<p>Please let me know where I'm doing wrong. Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 2, "creation_date": 1551253761, "post_id": 54900268, "comment_id": 96568403, "body": "read this <a href=\"https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a>"}, {"owner": {"reputation": 416, "user_id": 8355689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-_YsHalJxC4g/AAAAAAAAAAI/AAAAAAAABgU/ZMR23it-1Kk/photo.jpg?sz=128", "display_name": "Amr916", "link": "https://stackoverflow.com/users/8355689/amr916"}, "reply_to_user": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1551254224, "post_id": 54900268, "comment_id": 96568599, "body": "@PraveenP Thanks ,but this is bit difficult to follow. Is there any code samples?"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1551255920, "post_id": 54900268, "comment_id": 96569313, "body": "Use retrofit with enqueue(..) method"}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "reply_to_user": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 1, "creation_date": 1551255978, "post_id": 54900268, "comment_id": 96569338, "body": "@PraveenP That&#39;s an outdated article and not so relevant for Kotlin since modern alternatives exist."}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 1, "creation_date": 1551256198, "post_id": 54900268, "comment_id": 96569444, "body": "@ZUNJAE it just a basic android way  to perform asynchronous tasks for beginner"}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 8355689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-_YsHalJxC4g/AAAAAAAAAAI/AAAAAAAABgU/ZMR23it-1Kk/photo.jpg?sz=128", "display_name": "Amr916", "link": "https://stackoverflow.com/users/8355689/amr916"}, "edited": false, "score": 0, "creation_date": 1551253574, "post_id": 54900398, "comment_id": 96568325, "body": "Thanks, will try that out"}], "tags": [], "owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "is_accepted": true, "score": 2, "last_activity_date": 1551253584, "last_edit_date": 1551253584, "creation_date": 1551253450, "answer_id": 54900398, "question_id": 54900268, "link": "https://stackoverflow.com/questions/54900268/how-to-develop-an-android-application-separating-data-and-view-layer/54900398#54900398", "title": "How to develop an android application separating data and view layer", "body": "<p>This is the Android <a href=\"https://codelabs.developers.google.com/codelabs/android-lifecycles/#0\" rel=\"nofollow noreferrer\">lifecycle-aware components codelab</a>. It will do exatelly what you ask for. Here is the <a href=\"https://developer.android.com/topic/libraries/architecture/index.html\" rel=\"nofollow noreferrer\">Architecture components</a> part of the Android Jetpack and it is a set of Android libraries that help you structure your app in a way that is robust, testable, and maintainable.</p>\n\n<p>Here is also the <a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\">android-sunflower</a> A gardening app illustrating Android development best practices with Android Jetpack.</p>\n"}, {"comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 3, "creation_date": 1551256081, "post_id": 54900957, "comment_id": 96569390, "body": "There&#39;s a lot of useless information in this reply. The text formatting isn&#39;t nice either. Please update your reply and be to the point with what you want to share."}, {"owner": {"reputation": 416, "user_id": 8355689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-_YsHalJxC4g/AAAAAAAAAAI/AAAAAAAABgU/ZMR23it-1Kk/photo.jpg?sz=128", "display_name": "Amr916", "link": "https://stackoverflow.com/users/8355689/amr916"}, "edited": false, "score": 0, "creation_date": 1551257020, "post_id": 54900957, "comment_id": 96569832, "body": "@Z3R0 Thanks for your anwer. I know Java too, so I can convert to Kotlin but could you be specific so that I can get a clear understanding. I just want to separate the data and view layer. If possible do help"}, {"owner": {"reputation": 507, "user_id": 9993413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXc1u.png?s=128&g=1", "display_name": "Z3R0", "link": "https://stackoverflow.com/users/9993413/z3r0"}, "reply_to_user": {"reputation": 416, "user_id": 8355689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-_YsHalJxC4g/AAAAAAAAAAI/AAAAAAAABgU/ZMR23it-1Kk/photo.jpg?sz=128", "display_name": "Amr916", "link": "https://stackoverflow.com/users/8355689/amr916"}, "edited": false, "score": 0, "creation_date": 1551257533, "post_id": 54900957, "comment_id": 96570112, "body": "@Amrutha J Raj as I said in the answer you need to use AsyncTask to do the networking operations (or other data operations) in another thread different from the activity. Also you can start a new thread using: &quot; Thread( Runnable(...)).start() &quot;, but I suggest you to use AsyncTasks (: I think , if I understood what you&#39;re searching, in the answer you can fin all the things you need (I am at work so I haven&#39;t too much time, I was just looking for a thing about bluetooth pairing and I saw your post so I decided to answer because I had all the code at hand ^^). hope this is helpful"}, {"owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "edited": false, "score": 2, "creation_date": 1551258647, "post_id": 54900957, "comment_id": 96570740, "body": "This does not answer the question since the <code>AsyncTask</code> run in the <code>Activity</code>. What was asked for was a way to decouple the work from the <code>Activity</code>, An MVC or MVP approach  will do that as  I suggested in my answer using the Android Jetpack"}, {"owner": {"reputation": 507, "user_id": 9993413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXc1u.png?s=128&g=1", "display_name": "Z3R0", "link": "https://stackoverflow.com/users/9993413/z3r0"}, "edited": false, "score": 0, "creation_date": 1551265415, "post_id": 54900957, "comment_id": 96575079, "body": "No.. AsyncTask work in a thread out of the Activity Thread (UIThread)... The code is in the activity, but it works in another thread, you get the result through the callback in the uithread after the asynctask&#39;s thread ended...  That&#39;s all. To Have a thread out of the UIThread you have to do that. For me &quot;a way to decouple the work from the Activity&quot; means &quot;do, in this case, networking operations in a thread out of the UIThread. No?&quot;"}, {"owner": {"reputation": 507, "user_id": 9993413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXc1u.png?s=128&g=1", "display_name": "Z3R0", "link": "https://stackoverflow.com/users/9993413/z3r0"}, "edited": false, "score": 0, "creation_date": 1551265782, "post_id": 54900957, "comment_id": 96575287, "body": "At the end he wrote: &quot;But I don&#39;t want to put all the work in the activity thread&quot;, so the AsyncTask or start a new Thread do what he is asked. I&#39;m wrong? If he is asking to do UI changes out LiveData, Observable ecc (as you answered) is the right choiche, but as he wrote I understood that he was asking a way to do networking operations in a different thread"}, {"owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "edited": false, "score": 1, "creation_date": 1551274506, "post_id": 54900957, "comment_id": 96580417, "body": "In your code the AsyncTask has a Composition type of relation to the Activity. Your correct in the way that AsyncTask is not running in the Activity thread in it&#180;s own thread, but still it lives in the Activity &quot;Composition&quot;, The LiveData decouple stuff and makes it an <a href=\"https://www.youtube.com/watch?v=UI6lqHOVHic\" rel=\"nofollow noreferrer\">Aggregation</a> type"}, {"owner": {"reputation": 507, "user_id": 9993413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXc1u.png?s=128&g=1", "display_name": "Z3R0", "link": "https://stackoverflow.com/users/9993413/z3r0"}, "edited": false, "score": 0, "creation_date": 1551282428, "post_id": 54900957, "comment_id": 96585474, "body": "Ok thanks, but you can use the LiveData to return the networking operation answer... To do the networking operations you still need to use a Thread or an AsyncTask... Personally I normally use callback interfaces to return data from a networking operations, I use LiveData if I have multiple activities or fragments running together, or if I need to update the UI directly by using MutableLiveData and Observers... Anyway I though he was asking for a way to do networking outside of the activity (as he wrote in the &quot;getAppList()&quot; method), so sorry if my answer is useless"}, {"owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "edited": false, "score": 1, "creation_date": 1551289122, "post_id": 54900957, "comment_id": 96589529, "body": "I think we are both right, i just took it a bit further, and yes the AsyncTask  is needed in both approaches. Forgot to mention that it is the <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">Android Jetpack Viewmodel</a> in combination with the LIveData that creates the abstraction decoupling"}], "tags": [], "owner": {"reputation": 507, "user_id": 9993413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXc1u.png?s=128&g=1", "display_name": "Z3R0", "link": "https://stackoverflow.com/users/9993413/z3r0"}, "is_accepted": false, "score": 0, "last_activity_date": 1551256206, "last_edit_date": 1551256206, "creation_date": 1551255827, "answer_id": 54900957, "question_id": 54900268, "link": "https://stackoverflow.com/questions/54900268/how-to-develop-an-android-application-separating-data-and-view-layer/54900957#54900957", "title": "How to develop an android application separating data and view layer", "body": "<p>to do networking I suggest you to use Retrofit2: <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a></p>\n\n<p>Anyway to do networking operation in another thread you need to start a new AsyncTask from you activity and do the networking operations inside it.\nIn retrofit all this is much more simple!</p>\n\n<p>(Sorry but I don't have Kotlin example for that below!)</p>\n\n<h1>Java Example without Retrofit:</h1>\n\n<p>( This was a my old project, so it isn't so good ^^)</p>\n\n<pre><code>/* Really Simple Class I made to do networking operations (so use Retrofit or make a better one (: (I suggest you, again, to use Retrofit!) */\npublic class DBConnection {\n\n    public String  performPostCall(String requestURL, HashMap&lt;String, String&gt; postDataParams )\n    {\n\n        URL url;\n        String response = \"\";\n        try {\n            url = new URL(requestURL);\n\n            HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n            conn.setReadTimeout(15000);\n            conn.setConnectTimeout(15000);\n            conn.setDoInput(true);\n            conn.setDoOutput(true);\n\n            conn.setHostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            });\n            conn.setSSLSocketFactory((SSLSocketFactory) SSLSocketFactory.getDefault());\n            conn.connect();\n\n            DataOutputStream dStream = new DataOutputStream(conn.getOutputStream());\n            dStream.writeBytes(getPostDataString(postDataParams));\n            dStream.flush();\n            dStream.close();\n\n            int responseCode = conn.getResponseCode();\n            if (responseCode == HttpsURLConnection.HTTP_OK) {\n                String line;\n                BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n                while ((line=br.readLine()) != null) {\n                    response += line;\n                }\n            } else {\n                response = \"\";\n            }\n            conn.disconnect();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return response;\n    }\n\n    private String getPostDataString(HashMap&lt;String, String&gt; params) throws UnsupportedEncodingException\n    {\n        StringBuilder result = new StringBuilder();\n        boolean first = true;\n        for(Map.Entry&lt;String, String&gt; entry : params.entrySet()){\n            if (first) {\n                first = false;\n            } else {\n                result.append(\"&amp;\");\n            }\n\n            result.append(entry.getKey());\n            result.append(\"=\");\n            result.append(entry.getValue());\n        }\n\n        return result.toString();\n    }\n\n}\n\n// AsyncTask to do Async Networking operations:\n\npublic class YourTask extends AsyncTask&lt;String, Void, String&gt; {\n\n    private String yourData...;\n\n    public YourTask(String token){\n        // Set Your Data\n    }\n// \"String...\" is an array of arguments so you get the arguments usign: params[i]\n    @Override\n    protected String doInBackground(String... params)\n    {\n        DBConnection dbConn = new DBConnection();\n        String stampAnswer;\n        try{\n\n            Integer param1 = Integer.parseInt(params[0]);\n            Integer param2 = Integer.parseInt(params[1]);\n            answer = dbConn.netwokirngOperation([..]);\n        }catch(NumberFormatException nfe){\n            nfe.getStackTrace();\n            stampAnswer = \"\";\n            Log.e(\"YourTask\", \" NumberFormatException:\");\n        }\n        return answer;\n    }\n\n    protected void onPostExecute(String result) {\n        Log.e(\"YourTask =&gt; \", \" Result:\" + result);\n    }\n\n}\n\n// To call the task do in your activity and do async networking operation without wait for result (this mean you need to save the data inside Realm DB [REALM][2] or using SQLite DB and then get them when the networking operations ended (you can use an Observable and set it when the networking operation end, send a broadcast message and set a receiver in you activity, or any other method):\n\nnew YourTask(&lt;put_here_your_asynctask_constructor_args&gt;).execute(params);\n\n// To call the task and do async networking operation but wait to get the result returned by the \"doInBackground\" method of the AsyncTask:\n\nnew YourTask(&lt;put_here_your_asynctask_constructor_args&gt;).execute(params).get();\n</code></pre>\n\n<p>But is better if you use interface and callback to return the result from the AsyncTask when it ended, example:</p>\n\n<pre><code>/** in You Activity. Because in the Interface you use generic types (the 'T') you can specific the type of object returned by the interface inside the '&lt;T&gt;' if the interface WILL ALWAYS RETURN THE SAME OBJECT TYPE! \nIf it WILL RETURN DIFFERENT OBJECT TYPES you MUST don't specific the type inside the '&lt;T&gt;', but you have to cast the return inside a switch statement to know which object is returned (to do that you can add a 'int requestCase' to the interface so you know which case returned!) **/\n\npublic class YourActivity extends AppCompatActivity \n    implements IYourCallback&lt;YourObjectTypesReturned&gt;{\n\n     public interface IYourCallback&lt;T&gt;{\n          onNetOperationSuccess(List&lt;T&gt; answer)\n          onNetOperationError(Throwable t)\n     }\n\n     /** IMPLEMENTS HERE YOUR ACTIVITY BODY WITH THE INTERFACE METHODS ! **/\n\n     // Then call your AsyncTask where you want and pass it your context which implements the interface ( because you are in activity your context with the interface is \"this\"!\n\n     new YourTask(this).execute(params);\n\n// Then inside your AsyncTask:\n\npublic class YourTask extends AsyncTask&lt;String, Void, String&gt; {\n\n        private IYourCallback mCallback;\n\n        public YourTask(Context context){\n            try{\n               mCallback = (IYourCallback) mCallback;\n            } catch(ClassCastException e){\n                  onException(e);  // Manage the exception and stop the operation\n             }\n        }\n\n        /** THEN IMPLEMENT YOU IN BACKGROUND... AND WHEN THE NETWORKING OPERATION IS FINISHED USE THE CALLBACK TO RETURN BACK YOUR RESULT, SO THE METHOD IN YOUR ACTIVITY WILL GET TRIGGERED AND YOU CAN CONTINUE TO DO YOUR OPERATIONS! So do: **/\n\nif(success)\n   mCallback.onNetOperationSuccess(myListAnswer)\nelse\n   mCallback.onNetOperationError(error) // Throwable or exception\n</code></pre>\n\n<p>( Kotlin for the implementation of Retrofit! I started use Kotlin 5 days ago, so I don't know if this is the best use (: )</p>\n\n<h1>Example with Retrofit:</h1>\n\n<pre><code>/* This is a RetrofitHelper which init the Retrofit instance and where you should put your networking methods. Then to do a networking operation you have to get this instance using (RetrofitHelper.getInstance().yourNetworkingOperation(...) ).\nAnyway here there isn't the asynchronous part, you can get it in the link of my other comment below! \n</code></pre>\n\n<p>I don't have complete this class yet! */\n    class RetrofitHelper(baseUrl: String){</p>\n\n<pre><code>    private val TAG = this.javaClass.name\n    // Timeouts\n    private val CONNECT_TIMEOUT = \"CONNECT_TIMEOUT\"\n    private val READ_TIMEOUT = \"READ_TIMEOUT\"\n    private val WRITE_TIMEOUT = \"WRITE_TIMEOUT\"\n    // Header Names\n    private val BASE_REQ_HEADER_NAME = \"BLEDataBinder\"\n    private val REQ_HEADER_NAME = \"$BASE_REQ_HEADER_NAME.Request\"\n    private val REQ_HEADER_VERSION_NAME = \"$BASE_REQ_HEADER_NAME.VersionName\"\n    private val REQ_HEADER_VERSION_CODE = \"$BASE_REQ_HEADER_NAME.VersionCode\"\n    private val REQ_HEADER_DEVICE_IMEI = \"$BASE_REQ_HEADER_NAME.DeviceIMEI\"\n    private val REQ_HEADER_DEVICE_UNIQUE_ID = \"$BASE_REQ_HEADER_NAME.DeviceUniqueID\"\n    private val REQ_HEADER_DEVICE_MODEL = \"$BASE_REQ_HEADER_NAME.DeviceModel\"\n    private val REQ_HEADER_ANDROID_RELEASE = \"$BASE_REQ_HEADER_NAME.AndroidRelease\"\n    // Header Values\n    private val REQ_HEADER_VALUE = \"emax\"\n    // Labels\n    private val LABEL_INIT = \"Init RetrofitHelper\"\n\n    private var mBaseUrl: String\n    private var mGson: Gson\n    private var mRetrofit: Retrofit\n\n    companion object {\n        @Volatile private var mInstance: RetrofitHelper? = null\n\n        fun getInstance() = mInstance\n\n        fun initInstance(baseUrl: String): RetrofitHelper =\n            mInstance ?: synchronized(this){\n                mInstance ?: newInstance(baseUrl).also { mInstance = it }\n            }\n\n        private fun newInstance(baseUrl: String) = RetrofitHelper(baseUrl)\n    }\n\n    init {\n        LogUtils.iLog(TAG, \"START $LABEL_INIT\")\n        val httpClient = OkHttpClient.Builder()\n        httpClient.addInterceptor( getInterceptor() )\n        httpClient.addInterceptor( getLoggingInterceptor() )\n        this.mBaseUrl = baseUrl\n        mGson = getGson()\n        mRetrofit = getRetrofit(httpClient.build())\n        LogUtils.iLog(TAG, \"END $LABEL_INIT\")\n    }\n\n    /* START Private Methods */\n    private fun getRetrofit(httpClient: OkHttpClient): Retrofit{\n        return Retrofit.Builder()\n            .baseUrl(mBaseUrl)\n            .addConverterFactory(GsonConverterFactory.create(mGson))\n            .client(httpClient)\n            .build()\n    }\n\n    private fun getGson(): Gson{\n        return GsonBuilder()\n            .setDateFormat(Constants.DATETIME_FORMAT_DB)\n            .registerTypeAdapter(Boolean::class.javaObjectType, BooleanDeserializer())\n            .create()\n    }\n\n    private fun getLoggingInterceptor() =\n        HttpLoggingInterceptor {\n            getLoggingInterceptorLogger()\n        }.also { it.level = HttpLoggingInterceptor.Level.BODY }\n\n    private fun getLoggingInterceptorLogger() =\n        HttpLoggingInterceptor.Logger {\n                message -&gt; HyperLog.v(TAG, message)\n        }\n\n    private fun getInterceptor(): Interceptor =\n        Interceptor {\n            buildInterceptorResponse(it)\n        }\n\n    private fun buildInterceptorResponse(chain: Interceptor.Chain): Response {\n        val builder: Request.Builder = chain.request().newBuilder().addHeader(REQ_HEADER_NAME, REQ_HEADER_VALUE)\n        setRequestHeaderVersionName(builder)\n        setRequestHeaderVersionCode(builder)\n        setRequestHeaderDeviceIMEI(builder)\n        setRequestHeaderDeviceUniqueID(builder)\n        setRequestHeaderDeviceModel(builder)\n        setRequestHeaderAndroidRelease(builder)\n\n        /* This part let you set custom timeout for different api call inside the \"RetrofitAPI\" interface using that labels: (example inside the RetrofitAPI interface)\n\npublic interface RetrofitAPI {\n\n@Headers({RetrofitHelper.CONNECT_TIMEOUT + \":100000\", RetrofitHelper.READ_TIMEOUT + \":100000\"})\n    @FormUrlEncoded\n    @POST\n    Call&lt;JsonObject&gt; doBaseJsonRequest(@Url String url, @Field(\"params\") String params);\n\n}\n*/\n        var connectTimeout = chain.connectTimeoutMillis()\n        var readTimeout = chain.readTimeoutMillis()\n        var writeTimeout = chain.writeTimeoutMillis()\n        val request = chain.request()\n        if(!TextUtils.isEmpty(request.header(CONNECT_TIMEOUT))){\n            connectTimeout = request.header(CONNECT_TIMEOUT)!!.toInt()\n        }\n        if(!TextUtils.isEmpty(request.header(READ_TIMEOUT))){\n            readTimeout = request.header(READ_TIMEOUT)!!.toInt()\n        }\n        if(!TextUtils.isEmpty(request.header(WRITE_TIMEOUT))){\n            writeTimeout = request.header(WRITE_TIMEOUT)!!.toInt()\n        }\n        builder.removeHeader(CONNECT_TIMEOUT)\n        builder.removeHeader(READ_TIMEOUT)\n        builder.removeHeader(WRITE_TIMEOUT)\n        return chain\n            .withConnectTimeout(connectTimeout, TimeUnit.MILLISECONDS)\n            .withReadTimeout(readTimeout, TimeUnit.MILLISECONDS)\n            .withWriteTimeout(writeTimeout, TimeUnit.MILLISECONDS)\n            .proceed(builder.build())\n    }\n\n    /*private fun setRequestHeaders(builder: Request.Builder): Request.Builder{\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mVersionName)){\n            builder.addHeader(REQ_HEADER_VERSION_NAME, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mVersionCode.toString())){\n            builder.addHeader(REQ_HEADER_VERSION_CODE, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceIMEI)){\n            builder.addHeader(REQ_HEADER_DEVICE_IMEI, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceUniqueID)){\n            builder.addHeader(REQ_HEADER_DEVICE_UNIQUE_ID, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceModel)){\n            builder.addHeader(REQ_HEADER_DEVICE_MODEL, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mAndroidRelease)){\n            builder.addHeader(REQ_HEADER_ANDROID_RELEASE, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n        return builder\n    }*/\n\n    private fun setRequestHeaderVersionName(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mVersionName)){\n            builder.addHeader(REQ_HEADER_VERSION_NAME, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n\n    private fun setRequestHeaderVersionCode(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mVersionCode.toString())){\n            builder.addHeader(REQ_HEADER_VERSION_CODE, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n\n    private fun setRequestHeaderDeviceIMEI(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceIMEI)){\n            builder.addHeader(REQ_HEADER_DEVICE_IMEI, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n\n    private fun setRequestHeaderDeviceUniqueID(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceUniqueID)){\n            builder.addHeader(REQ_HEADER_DEVICE_UNIQUE_ID, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n\n    private fun setRequestHeaderDeviceModel(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mDeviceModel)){\n            builder.addHeader(REQ_HEADER_DEVICE_MODEL, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n\n    private fun setRequestHeaderAndroidRelease(builder: Request.Builder){\n        if(!TextUtils.isEmpty(AppEnvironment.getInstance()!!.mAndroidRelease)){\n            builder.addHeader(REQ_HEADER_ANDROID_RELEASE, AppEnvironment.getInstance()!!.mVersionName!!)\n        }\n    }\n    /* END Private Methods */\n\n}\n</code></pre>\n\n<h1>LINK TO MY COMMENT FOR ASYNC RETROFIT USAGE WITH GENERIC TYPES METHODS AND CALLBACK INTERFACES:</h1>\n\n<p><a href=\"https://stackoverflow.com/a/54480807/9993413\">RETROFIT ASYNC WITH GENERIC TYPES</a>\n(This is in java but you can easily translate it in Kotlin! Also I suggest you to learn Java too because Kotlin is a scripting language built up Java so it translates the code in Java operations whose sometimes are really bigger (and sometimes slower) than if you wrote the code in Java! So, now I am learning Kotlin after learned Java for android applications, Kotlin is a really good, smart, beautiful and fast programming language for apps and I will use it to do fast and smart scripts inside my applications or for simple applications, but I will use Java too because with it you can generate faster code. </p>\n\n<p>Hope this is helpful,\nBye and Good Coding! (:</p>\n"}], "owner": {"reputation": 416, "user_id": 8355689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-_YsHalJxC4g/AAAAAAAAAAI/AAAAAAAABgU/ZMR23it-1Kk/photo.jpg?sz=128", "display_name": "Amr916", "link": "https://stackoverflow.com/users/8355689/amr916"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 54900398, "answer_count": 2, "score": 2, "last_activity_date": 1551256206, "creation_date": 1551252963, "last_edit_date": 1551253258, "question_id": 54900268, "link": "https://stackoverflow.com/questions/54900268/how-to-develop-an-android-application-separating-data-and-view-layer", "title": "How to develop an android application separating data and view layer", "body": "<p>I am new to Android development. have an android application in koltin wherein  I have to make an http post request to get a list of data as response.\nI have done that in activity class as follows.\nMainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), {\n\n    private fun getAppList() {\n        var builder = AlertDialog.Builder(this@MainActivity)\n        builder.setTitle(\"App Response\")\n        doAsync {\n            sslCertficate.disableSSLCertificateChecking()\n            var headers = HashMap&lt;String, String&gt;()\n\n            headers[\"Content-type\"] = \"application/json; charset=UTF-8\"\n            val res = HTTPClient(\"https://sample-myapi-launcher.prod.com/list\")\n                    .setMethod(\"POST\")\n                    .setHeaders(headers)\n                    .setBody(getRequestBody(userInfo.toString()))\n                    .getResponse()\n                    .response\n            uiThread {\n                builder.setMessage(res)\n                var dialog: AlertDialog = builder.create()\n                dialog.show()\n            }\n\n            Log.e(\"Response List\", res)\n\n        } \n    }\n\n    private fun getRequestBody(userInfo: String): String {\n   //code for geting request body\n\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_navigator)\n        setSupportActionBar(toolbar)\n      //calling api request method\n        getAppList()\n\n    }\n}\n</code></pre>\n\n<p>I could achieve my result through this, But I don't want to put all the work in the activity thread. Can someone guide on the correct approach to achieve this?\nOr help me with some documentation.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-paging"], "comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1551234944, "post_id": 54897008, "comment_id": 96563028, "body": "can you please post your adapter code? because ideally whatever the number of items, list should not crash as ViewHolder is efficient enough to handle that."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551235111, "post_id": 54897008, "comment_id": 96563058, "body": "The type of datasource depends on how the API supports pagination."}, {"owner": {"reputation": 419, "user_id": 4958351, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZxzO7OcPByw/AAAAAAAAAAI/AAAAAAAAAXw/9TL_toKfeOo/photo.jpg?sz=128", "display_name": "AIMIN PAN", "link": "https://stackoverflow.com/users/4958351/aimin-pan"}, "edited": false, "score": 1, "creation_date": 1551235207, "post_id": 54897008, "comment_id": 96563076, "body": "Why worry? RecyclerView makes sure only visible items are loaded. Your Glide load should be in onBind, which is only called when it is becoming visible."}, {"owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1551235535, "post_id": 54897008, "comment_id": 96563138, "body": "I post my adapter code."}, {"owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1551236075, "post_id": 54897008, "comment_id": 96563257, "body": "By the way, when Glide didn&#39;t add a placeholder, it would often crash."}, {"owner": {"reputation": 2099, "user_id": 5328680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CbHR0.png?s=128&g=1", "display_name": "PushpikaWan", "link": "https://stackoverflow.com/users/5328680/pushpikawan"}, "edited": false, "score": 0, "creation_date": 1551236995, "post_id": 54897008, "comment_id": 96563453, "body": "Try it by removing the whole image thing. Check whether it is still crashing while loading data?"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1551238157, "post_id": 54897008, "comment_id": 96563708, "body": "what is your ItemHolder class? can you please post the code for that too?"}, {"owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1551239302, "post_id": 54897008, "comment_id": 96563929, "body": "Update my question."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1551245062, "post_id": 54897008, "comment_id": 96565211, "body": "Can you please add the log message which contains the exception for the crash?"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1551249588, "post_id": 54897008, "comment_id": 96566743, "body": "show the crash log"}], "answers": [{"comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 1, "creation_date": 1551251049, "post_id": 54899380, "comment_id": 96567330, "body": "ListAdapter extends Recyclerview.Adapter with DIFF feature. So it works same as Recyclerview.Adapter with some added functionality. <a href=\"https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v7/recyclerv&zwnj;&#8203;iew/&hellip;</a>"}, {"owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "reply_to_user": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1551255211, "post_id": 54899380, "comment_id": 96569015, "body": "Thank you so much for updating my knowledge about new ListAdapter. :) @rafa"}], "tags": [], "owner": {"reputation": 708, "user_id": 8144663, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ap-YVEZ3kUY/AAAAAAAAAAI/AAAAAAAAAGg/aPu6SSHSeWQ/photo.jpg?sz=128", "display_name": "Sandip Savaliya", "link": "https://stackoverflow.com/users/8144663/sandip-savaliya"}, "is_accepted": true, "score": 1, "last_activity_date": 1551255169, "last_edit_date": 1551255169, "creation_date": 1551249142, "answer_id": 54899380, "question_id": 54897008, "link": "https://stackoverflow.com/questions/54897008/recyclerview-load-10000-image-from-backend-api/54899380#54899380", "title": "RecyclerView load 10000+ image from backend api", "body": "<p><strong>inject</strong> <em>GlideApp</em>, instead of creating new instance every-time, which will make your app more smooth.</p>\n\n<p>And also if you are using <strong><em>Paging Library</em></strong>, then use <strong>PagedListAdapter</strong>.</p>\n"}], "owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 54899380, "answer_count": 1, "score": 0, "last_activity_date": 1551256114, "creation_date": 1551233586, "last_edit_date": 1551256114, "question_id": 54897008, "link": "https://stackoverflow.com/questions/54897008/recyclerview-load-10000-image-from-backend-api", "title": "RecyclerView load 10000+ image from backend api", "body": "<p>I get JSON data in my back-end API.</p>\n\n<pre><code>[\n  {\n    id: \"is random\"\n    image: \"my url\"\n  },\n  ......10000+\n]\n</code></pre>\n\n<p>My id is random number without continuity.</p>\n\n<p>Each json object has image.</p>\n\n<p>I call api and put data in <code>RecyclerView</code> .</p>\n\n<p>But when <code>RecyclerView</code> is displayed, it will get stuck or crash.</p>\n\n<p>I use Glide load image.</p>\n\n<pre><code>GlideApp.with(context).load(myUrl).placeholder(myPlaceholder).into(uiImage)\n</code></pre>\n\n<p>How can I let <code>RecyclerView</code> read it smoothly?</p>\n\n<p>Can I use Paging Library to let it display five data at the beginning?</p>\n\n<p>But I don't know which kind of <code>DataSource</code> is suitable for my json format.</p>\n\n<p><code>ItemKeyedDataSource</code>? or <code>PageKeyedDataSource</code>? or <code>PositionalDataSource</code>?</p>\n\n<p>Update:</p>\n\n<pre><code>class MyAdapter(): ListAdapter&lt;Item, ItemHolder&gt;(Item.DIFF_CALLBACK){\n   override fun onCreateViewHolder(parent: ViewGroup, type: Int): ItemHolder=\n        ItemHolder(LayoutInflater.from(parent.context), parent).also {}\n\n   override fun onBindViewHolder(holder: ItemHolder, position: Int): Unit = \n     with(holder) {\n        val item = getItem(position)\n        uiTextView.text = item.id\n        GlideApp.with(context).load(item.image).placeholder(myPlaceholder).into(uiImage)\n    }\n}\n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>class ItemHolder(inflater: LayoutInflater, parent: ViewGroup)\n    : RecyclerView.ViewHolder(inflater.inflate(R.layout.my_Item, parent, false)) {\n    val uiTextView: TextView = itemView.findViewById(R.id.my_textView)\n    val uiImage: ImageView = itemView.findViewById(R.id.my_image)\n}\n</code></pre>\n\n<p>Sometimes it crashes if I remove the placeholder.</p>\n\n<pre><code>GlideApp.with(context).load(myUrl).into(uiImage)\n</code></pre>\n\n<p>Log message: </p>\n\n<pre><code>I/Choreographer: Skipped 3660 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n"}, {"tags": ["kotlin", "annotations"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551258639, "post_id": 54898929, "comment_id": 96570733, "body": "It&#39;s not work.  I used your code, and it still show the exception of <code>An exception occurs during Evaluate Expression Action : org.jetbrains.eval4j.VOID_VALUE cannot be cast to org.jetbrains.eval4j.AbstractValue</code>  when execute <code>${it.desc}</code>"}, {"owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551258819, "post_id": 54898929, "comment_id": 96570833, "body": "My Android Studio version is <code>3.3.1</code> and kotlin version is <code>1.3.20</code>.  Did you add  dependencies extra?"}, {"owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551259450, "post_id": 54898929, "comment_id": 96571191, "body": "It show me another exception of <code>com.sun.jdi.InternalException : Unexpected JDWP Error: 103</code> when running on another device."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551260216, "post_id": 54898929, "comment_id": 96571679, "body": "I&#39;ve runned it on clear IntelliJ Idea with Kotlin 1.3. Are you sure your problem is getting property from annotation, not some other code (like invoking via reflection?)"}, {"owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551315062, "post_id": 54898929, "comment_id": 96599590, "body": "Of cause it&#39;s getting annotation&#39;s property. And you can see the property&#39;s value on the <code>Debugger panel</code>.  It&#39;s so weird. I&#39;ll retry it in Idea."}, {"owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "edited": false, "score": 0, "creation_date": 1551333518, "post_id": 54898929, "comment_id": 96603960, "body": "I retried the code in <code>kotlin&#47;JVM</code> project with <code>Idea</code> and there&#39;s no exception out. But the exception comes out every time in <code>android project</code> no matter use <code>Idea(Kotlin (Mobile Android&#47;iOS))</code> or <code>Android Studio</code>."}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 0, "last_activity_date": 1551246943, "creation_date": 1551246943, "answer_id": 54898929, "question_id": 54896843, "link": "https://stackoverflow.com/questions/54896843/get-value-from-annotation-failed/54898929#54898929", "title": "Get value from annotation failed", "body": "<p>As I understand you just want to see annotation value for given property.</p>\n\n<p>First, let's declare an annotation.</p>\n\n<pre><code>@Target(PROPERTY)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class PropertyAnnotation(val desc: String)\n\n</code></pre>\n\n<p>Container:</p>\n\n<pre><code>class Container {\n\n    @PropertyAnnotation(\"Name\")\n    var name: String? = null\n\n    @PropertyAnnotation(\"Age\")\n    var age: Int = -1\n\n    var notAnnotatedProperty: String = \"not annotated\"\n}\n</code></pre>\n\n<p>And finally, code responsible for get all declared properties, then find a properties annotated as <code>PropertyAnnotation</code>, cast it to it, and get value from it.</p>\n\n<pre><code>fun main() {\n\n    val container = Container()\n\n    container::class.declaredMemberProperties.forEach { property -&gt;\n        (property.annotations.find {\n            it is PropertyAnnotation\n        } as? PropertyAnnotation)?.let {\n            println(\"Property: `$property` is ${it.desc}\")\n        }\n    }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Property: `var Container.age: kotlin.Int` is Age\nProperty: `var Container.name: kotlin.String?` is Name\n</code></pre>\n\n<p>Kind ugly. But, let's use more Kotlin pro-dev-features.</p>\n\n<p>Let's create extension function for any not-null type which returns all member property of given type:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Any.getMemberProperty(): List&lt;T&gt; {\n    return this::class.declaredMemberProperties.mapNotNull { prop -&gt;\n        (prop.annotations.find { ann -&gt; ann is T }) as? T\n    }\n}\n</code></pre>\n\n<p>And now usage:</p>\n\n<pre><code>fun main() {\n\n    val container = Container()\n\n    container.getMemberProperty&lt;PropertyAnnotation&gt;().forEach {\n        println(it.desc)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 5237012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/M1c0e.jpg?s=128&g=1", "display_name": "archerLj", "link": "https://stackoverflow.com/users/5237012/archerlj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551246943, "creation_date": 1551232389, "question_id": 54896843, "link": "https://stackoverflow.com/questions/54896843/get-value-from-annotation-failed", "title": "Get value from annotation failed", "body": "<p>This is annotation definition:</p>\n\n<pre><code>@Target(AnnotationTarget.PROPERTY)\n@Retention(AnnotationRetention.RUNTIME)\n@MustBeDocumented\nannotation class MyAnno(val desc: String, val comment: String) { }\n</code></pre>\n\n<p>And below is where the <code>MyAnno</code> used:</p>\n\n<pre><code>class MyAnnoUser {\n    @MyAnno(desc = \"name\", comment = \"name comment\")\n    lateinit var name: String\n\n    @MyAnno(desc = \"age\", comment = \"age comment\")\n    var age: Int = 0\n\n    @MyAnno(desc =  \"money\", comment = \"money comment\")\n    var money: Double = 0.0\n\n    @MyAnno(desc =  \"gender\", comment = \"gender comment\")\n    var gender: Boolean = false\n\n    override fun toString(): String {\n        return \"(name: $name; age: $age; money: $money; gender: ${if (gender) \"men\" else \"women\"})\"\n    }\n}\n</code></pre>\n\n<p>Here's code to read the value in <code>MyAnno</code>:</p>\n\n<pre><code>class MyAnnoExpression(val obj: Any, val context: Context) {\n\n    val numTypeSet = setOf(\"Int\", \"Double\", \"Byte\")\n\n    fun expression() {\n\n        val clazz = obj::class\n\n        clazz.declaredMemberProperties.forEach { prop -&gt;\n            val mutableProp = try {\n                prop as KMutableProperty&lt;*&gt;\n            } catch (e: Exception) {\n                null\n            } ?: return@forEach\n\n            val desc = mutableProp.findAnnotation&lt;MyAnno&gt;()\n            desc?.let {\n                val propClassName = mutableProp.returnType.toString().removePrefix(\"kotlin.\")\n                when (propClassName) {\n                    in numTypeSet -&gt; mutableProp.setter.call(obj, (readProp(it, context) as kotlin.String).toNum(propClassName))\n                    \"String\" -&gt; mutableProp.setter.call(obj, (readProp(it, context) as kotlin.String))\n                    \"Boolean\" -&gt; mutableProp.setter.call(obj, (readProp(it, context) as kotlin.String).toBoolean())\n                }\n            }\n        }\n    }\n\n    private fun readProp(value: MyAnno, context: Context): Any? {\n        val prop = Properties()\n        val input = context.assets.open(\"app.properties\")\n        prop.load(InputStreamReader(input, \"utf-8\"))\n        return prop.get(value.desc)\n    }\n}\n</code></pre>\n\n<p>Now the Debugger shows me following info of <code>value</code> in <code>readProp(...)</code> function:</p>\n\n<pre><code>@com.demo.basekotlin.MyAnno(comment=age comment, desc=age)\n</code></pre>\n\n<p>But i got exception when read <code>desc</code> from <code>value</code>:</p>\n\n<pre><code>An exception occurs during Evaluate Expression Action : org.jetbrains.eval4j.VOID_VALUE cannot be cast to org.jetbrains.eval4j.AbstractValue\n</code></pre>\n\n<p>I can't find any thing wrong in my code, is there another program setting needed?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 9262541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7bZ0d2Ctd7U/AAAAAAAAAAI/AAAAAAAAACE/2Fvoctytnk8/photo.jpg?sz=128", "display_name": "mories deo", "link": "https://stackoverflow.com/users/9262541/mories-deo"}, "is_accepted": false, "score": 0, "last_activity_date": 1551233245, "creation_date": 1551233245, "answer_id": 54896959, "question_id": 54895926, "link": "https://stackoverflow.com/questions/54895926/edit-sharedpreferences-tags-in-android-using-kotlin/54896959#54896959", "title": "Edit SharedPreferences tags in Android using Kotlin", "body": "<p>changes this code</p>\n\n<pre><code>private var savedFeeds: SharedPreferences? = null\n</code></pre>\n\n<p>to</p>\n\n<pre><code>private val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(contex)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 394842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f635789c47f734898a6e8dd16052dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Genevieve", "link": "https://stackoverflow.com/users/394842/genevieve"}, "is_accepted": true, "score": 0, "last_activity_date": 1551395427, "creation_date": 1551395427, "answer_id": 54935702, "question_id": 54895926, "link": "https://stackoverflow.com/questions/54895926/edit-sharedpreferences-tags-in-android-using-kotlin/54935702#54935702", "title": "Edit SharedPreferences tags in Android using Kotlin", "body": "<p>What I did was that you can't call refreshButtons(null) right in the current constraint layout.</p>\n\n<p>You have to add and remove things from SharedPreferences using .remove and update the current GUI.</p>\n"}], "owner": {"reputation": 945, "user_id": 394842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f635789c47f734898a6e8dd16052dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Genevieve", "link": "https://stackoverflow.com/users/394842/genevieve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 54935702, "answer_count": 2, "score": 1, "last_activity_date": 1551395427, "creation_date": 1551224659, "last_edit_date": 1551395269, "question_id": 54895926, "link": "https://stackoverflow.com/questions/54895926/edit-sharedpreferences-tags-in-android-using-kotlin", "title": "Edit SharedPreferences tags in Android using Kotlin", "body": "<p>I'm making an app that takes both a query and a tag. Each time someone presses the save button it creates a new button titled with the tag containing the query. There's an option to edit the query and save it.</p>\n\n<p>Each time I try to edit the button's name I get a new button instead of changing the name. I'm using SharedPreferences to store this information and I'm trying to edit it but I'm still unsure if it contains the exact information like an array so I can update the GUI.\nI feel that I'm missing something obvious but I just can't put my finger on it.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    //contain the user's saved feeds\n    private var savedFeeds: SharedPreferences? = null\n    var tagName:String = \"\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        savedFeeds = this.getSharedPreferences(\"feeds\", Context.MODE_PRIVATE)\n\n        //register listeners for the Save and Clear Tags buttons\n        saveButton.setOnClickListener{handleSaveButtonClick()}\n        clearTagsButton.setOnClickListener{handleClearTagsButtonClick()}\nLog.d(\"tag\", \"logging\")\n        //add previously saved feeds to the GUI\n        refreshButtons(null)\n    }\n\n    fun copyTag (tag:String): String {\n        tagName = tag\n        Log.d(\"TAGClass\",tagName)\n        return tagName\n    }\n    //recreate search tag and edit buttons for all saved feeds\n    //pass null to create all of them\n    private fun refreshButtons(newTag:String?) {\n        //store the saved tags in the tags array\n        val tags: Array&lt;String&gt; = savedFeeds!!.all.keys.toTypedArray()\n        tags.sortWith(String.CASE_INSENSITIVE_ORDER) //sort by tag\n        //if a new tag is being added, insert into the GUI at the appropriate location\n        if (newTag != null &amp;&amp; newTag != tagName) {\n            var index = tags.binarySearch(newTag!!)\n            if (index &lt; 0) index = -index-1\n            makeTagGUI(newTag!!, index)\n        }\n        else{\n            //display all feeds\n            for (index in tags.indices)\n                makeTagGUI(tags[index],index)\n        }\n    }\n\n    //add a new search to the saved feeds, then refresh all the button\n    private fun makeTag(query:String, tag:String) {\n        //original query will be \"\" if we have a new search\n        //getString looks up the previous value associated with tag if any\n        //if no value is found, the second arg is returned\n        val originalQuery = savedFeeds!!.getString(tag,\"\")\n\n        //get a SharedPreferences.Editor so we can store the new tag/query or\n        //the updated one\n        val editor = savedFeeds!!.edit()\n        editor.putString(tag, query)\n        editor.apply() //store the preferences - updates the file\n\n\n\n        //or\n        //savedFeeds!!.edit().putString(tag,query).apply()\n\n        //if new query add to GUI\n        if (originalQuery == \"\") {\n            refreshButtons(tag)\n        }\n\n    } //makeTag\n\n    //add a new button and corresponding edit button to the GUI\n    private fun makeTagGUI(tag:String, index: Int) {\n        //inflate new_tag_view layout\n        val inflater = LayoutInflater.from(applicationContext)\n        val newTagView = inflater.inflate(R.layout.new_tag_view,null,false)\n\n        //get newTagButton and set its text and register listener\n        val newTagButton = newTagView.findViewById&lt;Button&gt;(R.id.newTagButton)\n        newTagButton.text = tag\n\n\n        newTagButton.setOnClickListener(object: View.OnClickListener{\n            override fun onClick(v: View?) {\n                handleQueryButtonClicked(v!! as Button)\n            }\n        })\n\n        //get newTagButton and set its text and register listener\n        val newEditButton = newTagView.findViewById&lt;Button&gt;(R.id.newEditButton)\n        newEditButton.setText(R.string.edit)\n        newEditButton.setOnClickListener(object: View.OnClickListener{\n            override fun onClick(v: View?) {\n                handleEditButtonClicked(v!! as Button)\n                //val tagValue = copyTag(tag)\n                Log.d(\"Buttontag\", tagName)\n            }\n        })\n\n        //add them to the layout\n        queryLinearLayout.addView(newTagView,index)\n\n\n    } //maketaggui\n\n    //remove all the saved searches\n    private fun clearButtons() {\n        queryLinearLayout.removeAllViews()\n    }\n\n    //for save button clicks\n    private fun handleSaveButtonClick() {\n        //create a tag if both the queryEditText and tagEditText are not empty\n        if (queryEditText.text.length &gt; 0 &amp;&amp;\n                tagEditText.text.length &gt; 0 ) {\n\n            makeTag(queryEditText.text.toString(),\n                    tagEditText.text.toString())\n            //val copiedTag = copyTag(tagEditText.text.toString())\n            Log.d(\"TAGGED\", tagName + \"saveButtonClick\")\n\n            //clear text\n            queryEditText.setText(\"\")\n            tagEditText.setText(\"\")\n\n            //dismiss the keyboard\n            (getSystemService(Activity.INPUT_METHOD_SERVICE) as\n                    InputMethodManager).hideSoftInputFromWindow(tagEditText.windowToken,0)\n\n        }\n        else if (queryEditText.text.length &lt; 0 &amp;&amp;\n                tagEditText.text.toString() == tagName)\n        {\n\n        }\n        else {\n            //display a message\n            val builder = AlertDialog.Builder(this@MainActivity)\n            builder.setTitle(R.string.missingTitle) //title bar\n\n            //ok button to dismiss the alert\n            builder.setPositiveButton(R.string.OK,null)\n\n            builder.setMessage(R.string.missingMessage) //message\n\n            //create the dialog\n            val errorDialog:AlertDialog = builder.create()\n            errorDialog.show()\n\n        }\n    }\n\n    //for each of the tag buttons, open a browser to view the feed\n    private fun handleQueryButtonClicked(v: Button) {\n\n        //get query\n        val buttonText = v.text.toString()\n        //val copiedTag = copyTag(v.text.toString())\n        Log.d(\"TAG\", tagName + \"handleQuery\")\n        val query = savedFeeds!!.getString(buttonText,\"\")\n\n        //create the url\n        val urlString = getString(R.string.searchURL)+query\n        Log.d(\"TAG\",urlString)\n\n        //create an intent to launch a browser\n        val webIntent = Intent(Intent.ACTION_VIEW,\n                    Uri.parse(urlString))\n\n        startActivity(webIntent) //execute the intent\n    }\n\n    //handle edit button\n    private fun handleEditButtonClicked(v: Button) {\n        //get all necessary GUI components\n        val buttonRow = v.parent as ConstraintLayout\n        val searchButton = buttonRow.findViewById&lt;Button&gt;(R.id.newTagButton)\n        val tag = searchButton.text.toString()\n\n        val copiedTag = copyTag(tag)\n        Log.d(\"TAG\", tagName + \"handleEdit\")\n\n\n        //set the edittexts to match the chosen tag and query\n        tagEditText.setText(tag)\n        queryEditText.setText(savedFeeds!!.getString(tag,\"\"))\n    }\n\n    //handle the clear button\n    private fun handleClearTagsButtonClick() {\n        val builder = AlertDialog.Builder(this@MainActivity)\n        builder.setTitle(R.string.confirmTitle)\n\n        builder.setPositiveButton(R.string.erase) { dialog, which -&gt;\n            clearButtons()\n            savedFeeds!!.edit().clear().apply()\n        }\n\n        builder.setCancelable(true)\n        builder.setNegativeButton(R.string.cancel, null)\n\n        builder.setMessage(R.string.confirmMessage)\n\n        builder.create().show()\n    }\n\n} //class\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n    &lt;EditText\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPersonName\"\n            android:ems=\"10\"\n            android:id=\"@+id/queryEditText\"\n            android:hint=\"@string/queryPrompt\" android:imeOptions=\"actionNext\" android:layout_marginEnd=\"8dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginStart=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n    &lt;EditText\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPersonName\"\n            android:ems=\"10\"\n            android:id=\"@+id/tagEditText\"\n            android:hint=\"@string/tagPrompt\" android:imeOptions=\"actionDone\"\n            android:layout_marginStart=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/queryEditText\"/&gt;\n    &lt;Button\n            android:text=\"@string/save\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/saveButton\" android:textStyle=\"bold\"\n            android:textSize=\"18sp\" app:layout_constraintStart_toEndOf=\"@+id/tagEditText\"\n            android:layout_marginStart=\"8dp\" android:layout_marginEnd=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginTop=\"8dp\" app:layout_constraintTop_toBottomOf=\"@+id/queryEditText\"/&gt;\n    &lt;Button\n            android:text=\"@string/clearTags\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/clearTagsButton\" app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"8dp\"\n            android:layout_marginBottom=\"8dp\" app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n    &lt;ScrollView\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tagEditText\" android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/clearTagsButton\" android:background=\"@color/light_orange\"&gt;\n        &lt;LinearLayout\n                    android:id=\"@+id/queryLinearLayout\"\n                    android:layout_width=\"match_parent\"\n                      android:layout_height=\"match_parent\"\n                      android:orientation=\"vertical\"/&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>new_tagview.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                                   xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                                   xmlns:tools=\"http://schemas.android.com/tools\"\n                                                   android:layout_width=\"match_parent\"\n                                                   android:layout_height=\"wrap_content\" android:id=\"@+id/newTagRow\"\n                                                   android:background=\"@android:color/transparent\"&gt;\n\n    &lt;Button\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/newTagButton\"\n            app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintEnd_toStartOf=\"@+id/newEditButton\"\n            app:layout_constraintHorizontal_chainStyle=\"spread_inside\" app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n    &lt;Button\n            android:text=\"@string/edit\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/newEditButton\"\n            app:layout_constraintStart_toEndOf=\"@+id/newTagButton\" app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1551230920, "post_id": 54896508, "comment_id": 96562117, "body": "I appreciate the time you spent to reply. So if I understood correctly, I need to manipulate the item (Foo) that is being sent to the bind method instead of having the network call inside of the Binder or ViewHolder? right? if so, it is not going to work for me as I want to have the items flowable as well, my data is changing regularly by server and as it is streaming it should reflect the changes, getting all data before initializing adapter does not work, also I am not sending list to adapter I am sending Foo (my class) one by one and add it to adapter items"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1551232660, "post_id": 54896508, "comment_id": 96562495, "body": "If you can observe &#39;timing of changing data from server&#39;, it can be resolved in this way.  1. Initialize adapter. 2. observe &#39;timing of changing data&#39; in Activity. when data has come, getting change data from the server. 3. update item and notify to the adapter by <code>notifyItemChanged(position)</code>. it can reflect changes from the server.  I think this method is better than managing the Disposable object in RecyclerView&#39;s adapter."}], "tags": [], "owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "is_accepted": false, "score": 0, "last_activity_date": 1551229703, "creation_date": 1551229703, "answer_id": 54896508, "question_id": 54895866, "link": "https://stackoverflow.com/questions/54895866/flowable-inside-of-viewholder/54896508#54896508", "title": "Flowable inside of ViewHolder", "body": "<p><code>bind</code> methods (originally, <code>onBindViewHolder</code>) called every time when view try to show to the user. (Indeed, this methods called again when the user had scroll to the bottom and to up)</p>\n\n<p>So, <strong>called network process on onBindViewHolder is a bad idea</strong> in terms of lifecycle issues or performance.</p>\n\n<p>I suggested this way to achieve this.</p>\n\n<ol>\n<li>getting all data associated <code>item.id</code> before initializing adapter. </li>\n<li>Matching data with Foo and retrieved data</li>\n<li>Initialize adapter with the result of Step 2.</li>\n<li>In <code>onBindViewHolder</code>, <code>holder.itemView.foo_content_like_count.text = item.count</code> instead subscribe retrieveFooFavoriteCountUseCase.</li>\n</ol>\n\n<p>Example code, it's may not working well. I just give how it works.)</p>\n\n<pre><code>  val items = ...\n  retrieveFooFavoriteCountUseCase\n      .execute(items.map { it.id }) // 1)\n      .applyComputationScheduler()\n      .subscribe { counts -&gt; \n          for ((index, count) in counts.indexed()) { // 2)\n              items[index] = items[index].apply { this.count = count } // 3)\n          }\n\n          // TODO: initialize adapter with items\n      }.addTo(compositeDisposable)\n</code></pre>\n\n<p>1) you should implement execute methods with List? I don't know the specific type of Foo.</p>\n\n<p>2) counts contains List of count you need. In this example code, I used for-each to matching data. but you can use own matching code.</p>\n\n<p>3) Same as above, you can use own matching code.</p>\n\n<p>As a result, subscribe will be called only once during the entire process.</p>\n"}, {"comments": [{"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1551309052, "post_id": 54905608, "comment_id": 96598120, "body": "Thank you @Than, the way you describe is very helpful and give me the idea but could you please explain more or even show me an example if you have about items 3 and 5?"}, {"owner": {"reputation": 2599, "user_id": 2762154, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6u0we.jpg?s=128&g=1", "display_name": "Than", "link": "https://stackoverflow.com/users/2762154/than"}, "reply_to_user": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1551349100, "post_id": 54905608, "comment_id": 96611364, "body": "@navid_gh as for the point 5 it&#39;s tricky one, I&#39;ve provided you some articles about this thingy as it requires some more knowledge about threading in Rx and Android. However you can try to implement it without it, proposed solution by me is for streams that emits multiple values per each list item and the rotation glitch is not that much visible. So you might not need everything in your project"}], "tags": [], "owner": {"reputation": 2599, "user_id": 2762154, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6u0we.jpg?s=128&g=1", "display_name": "Than", "link": "https://stackoverflow.com/users/2762154/than"}, "is_accepted": false, "score": 2, "last_activity_date": 1551348997, "last_edit_date": 1551348997, "creation_date": 1551270792, "answer_id": 54905608, "question_id": 54895866, "link": "https://stackoverflow.com/questions/54895866/flowable-inside-of-viewholder/54905608#54905608", "title": "Flowable inside of ViewHolder", "body": "<p>The best thing you can do is:</p>\n\n<ol>\n<li>Rely on <code>onViewAttachedToWindow</code> and <code>onViewDetachedToWindow</code> to control your subscription lifecycle (subscribe/dispose).</li>\n<li>Create/retrieve your observables on <code>onBindViewHolder</code></li>\n<li>Nullify your adapter on recycler in parent view (fragment/activity) to force adapter to call <code>onViewDetachedToWindow</code> for all of the windows to make sure you're not leaking anything (example for fragment, in <code>onDestoryView</code> call <code>list.adapter = null</code>)</li>\n<li>Add <code>delaySubscription</code>(400ms for example) to your observables to reduce lagging while scrolling fast (you don't want to subscribe to anything while list is sliding on animation)</li>\n<li>Make sure your observables' first emission is synchronous, so the cached data can be delivered before layout after screen rotation. This way you will avoid animation glitches during rotation and Android will be able to restore the View state properly.</li>\n</ol>\n\n<p>Point 5 might be a little bit confusing so there is some resources explaining this more broadly:</p>\n\n<ul>\n<li><a href=\"http://nabling%20Android%20Teams:%20Where%20the%20Reactive%20Rubber%20Meets%20the%20Road%20by%20Ray%20Ryan\" rel=\"nofollow noreferrer\">Enabling Android Teams: Where the Reactive Rubber Meets the Road by Ray Ryan</a></li>\n<li><a href=\"https://medium.com/@ZacSweers/rxandroids-new-async-api-4ab5b3ad3e93\" rel=\"nofollow noreferrer\">RxAndroid new async api</a></li>\n<li><a href=\"https://medium.com/@dimezis/android-scroll-position-restoring-done-right-cff1e2104ac7\" rel=\"nofollow noreferrer\">Article about restoring view state properly</a></li>\n<li><a href=\"https://github.com/ReactiveX/RxAndroid/pull/228\" rel=\"nofollow noreferrer\">RxAndroid Github issue providing some more insights</a></li>\n</ul>\n\n<p>So basically synchronous emission means that item is going to be emitted while subscribing to observable, before subscribe method returns. For example this behaviour might be achieved with some kind of caching (like replay(1), startWith() etc) in a chain that is not modifying subscription emission threads after the cache.</p>\n\n<p>Example: </p>\n\n<pre><code>Observable.create(2)\n    .subscribeOn(Schedulers.computation())\n    .observeOn(AndroidSchedulers.mainThread())\n    .startWith(0)\n    .subscribe(println(it))\n\nprintln(\"after subscribe\")\n</code></pre>\n\n<p>Let say we subscribe on a main thread. In that case we are going to print:</p>\n\n<pre><code>    0\n    after subscribe\n    2\n</code></pre>\n\n<p>So as you can see, even though both items are going to be emitted on a main thread, one of those is going to arrive immediately while subscribing, whereas second one is going to be posted on a looper.</p>\n"}], "owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551348997, "creation_date": 1551224213, "question_id": 54895866, "link": "https://stackoverflow.com/questions/54895866/flowable-inside-of-viewholder", "title": "Flowable inside of ViewHolder", "body": "<p>I have been started programming in android again and since it has been changed a lot in the last 4 years I got a little bit confused. I am trying to load my data from the server asynchronously with RxJava and Flowable inside of my ViewHolder. I am using a third-party library to handle my views in adaptor <a href=\"https://github.com/DevAhamed/MultiViewAdapter\" rel=\"nofollow noreferrer\">MultiViewAdaptor</a>. Here is my code in my <strong>Binder</strong></p>\n\n<pre><code>class FooBinder : ItemBinder&lt;Foo, FooBinder.ViewHolder&gt;() {\n\n        @Inject\n        protected lateinit var requestFavoriteUseCase: SendFooFavoriteUseCase\n\n        @Inject\n        protected lateinit var compositeDisposable: CompositeDisposable\n\n        @Inject\n        protected lateinit var retrieveFooFavoriteCountUseCase: RetrieveFooFavoriteCountUseCase\n\n        override fun create(inflater: LayoutInflater, parent: ViewGroup) =\n            ViewHolder(inflater.inflate(R.layout.item_foo_content, parent, false))\n\n        override fun bind(holder: ViewHolder, item: Foo) {\n            holder.itemView.foo_content_creator.text = with(item.creator) { \"$firstName $lastName\" }\n\n            GlideApp.with(holder.itemView)\n                .load(item.creator.avatar)\n                .dontAnimate()\n                .placeholder(R.drawable.ic_action_person)\n                .error(R.drawable.ic_action_person)\n                .into(holder.itemView.foo_content_profile)\n\n            retrieveFooFavoriteCountUseCase\n                    .execute(item.id)\n                    .applyComputationScheduler()\n                    .subscribe { count -&gt;\n                        holder.itemView.foo_content_like_count.text = \"$count\"\n                    }\n                    .addTo(compositeDisposable)\n        }\n\n        inner class ViewHolder(view: View) : ViewHolder&lt;Foo&gt;(view) {\n\n            private var favorite = false\n\n            init {\n\n                view\n                    .foo_content_button_layout\n                    .clicks()\n                    .flatMap {\n                        favorite = !favorite\n                        requestFavoriteUseCase.execute(FavoriteVM(item.id, favorite)).toObservable()\n                    }\n                    .subscribe {\n                        view.foo_content_like_count.text = it.toString()\n\n                        var res = R.drawable.ic_action_like_default\n                        if (favorite) {\n                            res = R.drawable.ic_action_like_enabled\n                        }\n                        view.foo_content_like_icon.setImageResource(res)\n                    }\n                    .addTo(compositeDisposable)\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>As you see I have to call server in <strong>bind</strong> method which is not ideal and it is being called every time user scrolls also I cannot unsubscibe them till the Activity is destored and <strong>compositeDisposable</strong> is called which means I am going to have multi disposable for one view :( </p>\n\n<p>My question is, how can I use observable inside of ViewHolder and stop feeding it when it is not shown in screen?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1551217042, "post_id": 54894413, "comment_id": 96558094, "body": "Are you asking how the generic type parameters are inferred, in general?"}, {"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "edited": false, "score": 1, "creation_date": 1551217992, "post_id": 54894413, "comment_id": 96558501, "body": "For the p.s. It&#39;s a data class so that setters and getting, equals, hashcode etc is all generated for the class and properties. So first and second have setters and getters without defining them. As for the rest of your question I really don&#39;t understand"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1551257359, "post_id": 54894935, "comment_id": 96570005, "body": "type parameters, not type definitions."}], "tags": [], "owner": {"reputation": 4056, "user_id": 635075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KsEUG.jpg?s=128&g=1", "display_name": "Rob Pridham", "link": "https://stackoverflow.com/users/635075/rob-pridham"}, "is_accepted": false, "score": 3, "last_activity_date": 1551258903, "last_edit_date": 1551258903, "creation_date": 1551218851, "answer_id": 54894935, "question_id": 54894413, "link": "https://stackoverflow.com/questions/54894413/targeting-the-first-and-second-values-in-a-classint-int/54894935#54894935", "title": "Targeting the first and second values in a Class&lt;Int, Int&gt;", "body": "<p>A and B are <em>not</em> properties, they are type parameters. The type parameters are then used to define properties.</p>\n\n<p>This is the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/util/Tuples.kt\" rel=\"nofollow noreferrer\">source code</a> for Pair:</p>\n\n<pre><code>public data class Pair&lt;out A, out B&gt;(\n    public val first: A,\n    public val second: B\n) : Serializable {\n\n    /**\n     * Returns string representation of the [Pair] including its [first] and [second] values.\n     */\n    public override fun toString(): String = \"($first, $second)\"\n}\n</code></pre>\n\n<p>You target the properties (<code>first</code> and <code>second</code>), not the type parameters.</p>\n\n<p>Suppose for example you have <code>Pair&lt;Int, String&gt;</code>. This means <code>A</code> is <code>Int</code>, <code>B</code> is <code>String</code>.</p>\n\n<p><code>first</code> is a property of type <code>A</code>, <code>second</code> is a property of type <code>B</code>, therefore <code>first</code> is an <code>Int</code> and <code>second</code> is a <code>String</code>.</p>\n\n<p>In answer to your 'PS', Pair is a data class because of the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">usual benefits</a> this confers, e.g. a generated equals() method.</p>\n"}, {"tags": [], "owner": {"reputation": 875, "user_id": 6698273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29c77a7034e4def459c75c7fa1ee5e7d?s=128&d=identicon&r=PG&f=1", "display_name": "BlooB", "link": "https://stackoverflow.com/users/6698273/bloob"}, "is_accepted": false, "score": 1, "last_activity_date": 1551221239, "creation_date": 1551221239, "answer_id": 54895417, "question_id": 54894413, "link": "https://stackoverflow.com/questions/54894413/targeting-the-first-and-second-values-in-a-classint-int/54895417#54895417", "title": "Targeting the first and second values in a Class&lt;Int, Int&gt;", "body": "<p><code>Pair</code> repersents a generic pair of two values, think of it as a box with a divider in the middle. It doesn't care what you put in each side of the divider.</p>\n\n<p><strong>What are First and Second:</strong></p>\n\n<p>If you look at Robs Answer you'll see that Pair class has two public values, one is \n name \"first\" and the other is named \"second\". It basically means that every box(Pair) \n has two sides and it does not care what you put in either side, by default I have named \n one side as \"first\" and the other side as \"second\" if you want something from left just \n refer to it as first and if you want something from right side refer to it as second. </p>\n\n<p>Doing <code>Pair(\"Some Words\", 99)</code> simply means you want a box that one side holds a string and the other side holds an integer.</p>\n\n<p>Doing <code>myPair = Pair(\"value 1\", 100)</code> simply means you want a box that one side holds a string(value 1) and the other side holds an integer(100) and you have named this box myPair.</p>\n\n<p>Since Kotlin does not care about the type of things that your putting in the box, than it is perfectly okay to add a null value to a pair, like <code>myPair=Pair(null, 99)</code>, its your job to check if there is a null value being added or extracted from the pair.</p>\n\n<p><strong>Retrieving values:</strong></p>\n\n<p>Say you do something like var <code>myPair = Pair(\"value 1\", 100)</code>\n  If you want to see what you are holding in myPair you can do:</p>\n\n<pre><code>println(myPair.first) -&gt; \"value 1\"\nprintln(myPair.second) -&gt; 100\n</code></pre>\n\n<p><strong>Why is Pair a data class and not a regular class?</strong></p>\n\n<p>The main purpose of a data class is to hold data.\nData classes have some restrictions so the compiler can add some standard functionality to all data classes, like eaquls(), hashCode()</p>\n\n<p>Pair class is meant to hold a pair of data, therefore in can benefit from some standard functionality, like toString().</p>\n\n<p>You can read the details <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">HERE</a></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1551254108, "creation_date": 1551254108, "answer_id": 54900572, "question_id": 54894413, "link": "https://stackoverflow.com/questions/54894413/targeting-the-first-and-second-values-in-a-classint-int/54900572#54900572", "title": "Targeting the first and second values in a Class&lt;Int, Int&gt;", "body": "<p>If you take a look at how <code>Pair</code> is implemented, you see that it's a simple data class with two properties: <code>first</code> and <code>second</code>. </p>\n\n<pre><code>public data class Pair&lt;out A, out B&gt;(\n    public val first: A,\n    public val second: B\n)\n</code></pre>\n\n<p>As a result, you can obviously access these properties with this syntax: <code>pair.first</code> and <code>pair.second</code>. The names first and second are no special keywords but simply property names. </p>\n\n<p>Note that there's something special about pairs and data classes in general though, which can be observed here:</p>\n\n<pre><code>val p = Pair(1, 2)\n\nval (f: Int, s: Int) = p\nprintln(f) //1\nprintln(s) //2\n</code></pre>\n\n<p>This technique is called <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\"><em>destructuring</em></a> and is made possible through <code>componentX</code> operators which are automatically generated for you if you use <code>data</code> classes. </p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1551258903, "creation_date": 1551216575, "question_id": 54894413, "link": "https://stackoverflow.com/questions/54894413/targeting-the-first-and-second-values-in-a-classint-int", "title": "Targeting the first and second values in a Class&lt;Int, Int&gt;", "body": "<p>In Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html\" rel=\"nofollow noreferrer\">Pair</a> data class it takes 2 values:</p>\n\n<pre><code>Pair&lt;out A, out B&gt;\n</code></pre>\n\n<p>and those values are targeted via <code>first</code> and <code>second</code> named properties:</p>\n\n<pre><code>Pair(first: A, second: B)\n</code></pre>\n\n<p>However, how are the first and properties targeted if these properties didn't exist (e.g. for other classes with two parameters <code>OtherClass&lt;Int, Int&gt;</code>? - Is there another way to target them?)</p>\n\n<p>PS: Why is <code>Pair</code> a data class and not a regular class?</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "answers": [{"comments": [{"owner": {"reputation": 1238, "user_id": 2515701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTJnt.jpg?s=128&g=1", "display_name": "Olga Konoreva", "link": "https://stackoverflow.com/users/2515701/olga-konoreva"}, "edited": false, "score": 1, "creation_date": 1551351652, "post_id": 54901044, "comment_id": 96612986, "body": "Huge thanks, ARGeo! The answer is really useful. Could you advice, please, if I can set the projection matrix using Sceneform sdk. Sceneform&#39;s camera (<code>arFragment.arSceneView.scene.camera</code>) lets set <code>projectionMatrix</code> only for tests. Your answer would be really helpful, because I&#39;m trying to solve exactly the same issue right now."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 1238, "user_id": 2515701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTJnt.jpg?s=128&g=1", "display_name": "Olga Konoreva", "link": "https://stackoverflow.com/users/2515701/olga-konoreva"}, "edited": false, "score": 0, "creation_date": 1551356753, "post_id": 54901044, "comment_id": 96615929, "body": "Hi Olga. Please, publish it as a question. And supply it with your code. I&#39;ll try to answer."}, {"owner": {"reputation": 1238, "user_id": 2515701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTJnt.jpg?s=128&g=1", "display_name": "Olga Konoreva", "link": "https://stackoverflow.com/users/2515701/olga-konoreva"}, "edited": false, "score": 1, "creation_date": 1551359801, "post_id": 54901044, "comment_id": 96617755, "body": "Done - <a href=\"https://stackoverflow.com/questions/54926644/sceneform-arcore-rendering-objects-50m-far-from-camera\" title=\"sceneform arcore rendering objects 50m far from camera\">stackoverflow.com/questions/54926644/&hellip;</a>. Thank you!"}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 3, "last_activity_date": 1551266190, "last_edit_date": 1551266190, "creation_date": 1551256207, "answer_id": 54901044, "question_id": 54894108, "link": "https://stackoverflow.com/questions/54894108/placing-an-object-30-meters-above-a-person/54901044#54901044", "title": "Placing an object 30 meters above a person", "body": "<p>It is <code>frustum culling</code> issue in ARCore \u2013 objects that aren't within the viewable area of camera frustum won't be rendered. Typically <code>FoV</code> (field of view) in Android devices is around 60 degrees horizontally (vertical aperture depends on aspect ratio). <code>Viewing frustum culling</code> is the process of removing objects that lie completely outside the viewing frustum from the rendering process, thus significantly decreasing CPU's and GPU's computational burden. And don't forget that near and far clipping planes are also parts of frustum.</p>\n\n<blockquote>\n  <p>To setup your objects' visibility properly just use the following recommendation that you can find <a href=\"https://stackoverflow.com/questions/49439991/figuring-out-if-anchor-is-visible-in-current-screen/49458993#49458993\">HERE</a> and <a href=\"https://stackoverflow.com/questions/8212130/how-to-resize-viewable-area-to-show-all-objects-coordiantes/8230136#8230136\">HERE</a>.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/rVRNH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVRNH.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>To know more about <code>frustum culling</code> read <a href=\"https://cesium.com/blog/2017/02/02/tighter-frustum-culling-and-why-you-may-want-to-disregard-it/\" rel=\"nofollow noreferrer\">this useful article</a>.</p>\n</blockquote>\n\n<p>For returning a projection matrix for rendering content use the following java method:</p>\n\n<pre><code>public void getProjectionMatrix (float[] dest, \n                                 int offset, \n                                 float near, \n                                 float far);\n</code></pre>\n\n<p>I can use it this way in <code>MainActivity.java</code> file:</p>\n\n<pre><code>// Getting Projection Matrix\nfloat[] projectionMtx = new float[16];\narSession.getProjectionMatrix(projectionMtx, 0, 0.5f, 201.0f);\n\n// Setting Projection Matrix\narRenderer.setProjectionMatrix(projectionMtx);\n</code></pre>\n\n<p>...or this way in <code>MainActivity.kt</code> file:</p>\n\n<pre><code>// Getting Projection Matrix\nprivate fun computeProjectionMatrix(): FloatArray {\n    val projectionMtx = FloatArray(16)\n    session.getProjectionMatrix(projectionMtx, 0, 0.5f, 201.0f)\n    return projectionMtx\n}\n\n// Setting Projection Matrix\nrenderer.setProjectionMatrix(computeProjectionMatrix())\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 76, "user_id": 1841912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KccV9.png?s=128&g=1", "display_name": "serbeys", "link": "https://stackoverflow.com/users/1841912/serbeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1583957716, "creation_date": 1551215254, "last_edit_date": 1583957716, "question_id": 54894108, "link": "https://stackoverflow.com/questions/54894108/placing-an-object-30-meters-above-a-person", "title": "Placing an object 30 meters above a person", "body": "<p>Is it possible to place an object right above a person that is 30 or 50 meters higher?</p>\n\n<p>When I try to place an object linked to anchor it is visible in 20 meters and not visible in 40 meters?</p>\n\n<p>Why this happens and how can I configure this?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-security", "kubernetes"], "answers": [{"tags": [], "owner": {"reputation": 493, "user_id": 2988780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297752998a62f43cba76112e34e6e2?s=128&d=identicon&r=PG&f=1", "display_name": "Creamstout10", "link": "https://stackoverflow.com/users/2988780/creamstout10"}, "is_accepted": false, "score": 2, "last_activity_date": 1551250076, "creation_date": 1551250076, "answer_id": 54899590, "question_id": 54893338, "link": "https://stackoverflow.com/questions/54893338/variable-from-kubernetes-yaml-causes-could-not-resolve-placeholder-actuator-pa/54899590#54899590", "title": "Variable from kubernetes yaml causes: Could not resolve placeholder &#39;ACTUATOR_PASSWORD&#39; in value &quot;${ACTUATOR_PASSWORD}&quot;", "body": "<p>Usually for secrets you will mount it outside of the deployment yaml.  </p>\n\n<p>Here you could run <code>kubectl create secret generic &lt;secret_name&gt; --from-literal &lt;secret_key&gt; ='&lt;password&gt;'</code> under the k8 context where the nodes are going to be running.  </p>\n\n<p>This will create a secret there and the deployment yaml you have above will map it to an environment variable.</p>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 1887912, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cb3aa8025d2e06f2adac3f3a8a6388de?s=128&d=identicon&r=PG", "display_name": "JonB", "link": "https://stackoverflow.com/users/1887912/jonb"}, "is_accepted": false, "score": 1, "last_activity_date": 1551271374, "creation_date": 1551271374, "answer_id": 54905779, "question_id": 54893338, "link": "https://stackoverflow.com/questions/54893338/variable-from-kubernetes-yaml-causes-could-not-resolve-placeholder-actuator-pa/54905779#54905779", "title": "Variable from kubernetes yaml causes: Could not resolve placeholder &#39;ACTUATOR_PASSWORD&#39; in value &quot;${ACTUATOR_PASSWORD}&quot;", "body": "<p>this does the trick in the <code>application.properties</code> file</p>\n\n<blockquote>\n  <p>security.user.password=${ACTUATOR_PASSWORD:admin123}</p>\n</blockquote>\n\n<p>where <code>admin123</code> will be used if the env var is not provided</p>\n"}], "owner": {"reputation": 662, "user_id": 1887912, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cb3aa8025d2e06f2adac3f3a8a6388de?s=128&d=identicon&r=PG", "display_name": "JonB", "link": "https://stackoverflow.com/users/1887912/jonb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1600988365, "creation_date": 1551211822, "question_id": 54893338, "link": "https://stackoverflow.com/questions/54893338/variable-from-kubernetes-yaml-causes-could-not-resolve-placeholder-actuator-pa", "title": "Variable from kubernetes yaml causes: Could not resolve placeholder &#39;ACTUATOR_PASSWORD&#39; in value &quot;${ACTUATOR_PASSWORD}&quot;", "body": "<p>When I run my application from IntelliJ, I get a <code>warning / error</code> though application builds fine and runs all tests through, is this something that I should ignore, or can this be handled fixed?</p>\n\n<p>Kubernetes secret is used to create a random password, therefor I have a placeholder for that particular variable.</p>\n\n<pre><code>2019-02-26 19:45:29.600  INFO 38918 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-02-26 19:45:29.684  WARN 38918 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'actuatorSecurity': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'ACTUATOR_PASSWORD' in value \"${ACTUATOR_PASSWORD}\"\n2019-02-26 19:45:29.685  INFO 38918 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2019-02-26 19:45:29.685  INFO 38918 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2019-02-26 19:45:29.707  INFO 38918 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2019-02-26 19:45:29.713  INFO 38918 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n</code></pre>\n\n<p><code>qronicle-deployment.yaml</code></p>\n\n<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: actuator\n  namespace: {{ .Release.Namespace }}\ntype: Opaque\ndata:\n  actuator-password: {{ randAlphaNum 10 | b64enc | quote }}\n....\n- name: ACTUATOR_PASSWORD\n  valueFrom:\n    secretKeyRef:\n      name: actuator\n      key: actuator-password\n</code></pre>\n\n<p><code>application.properties</code></p>\n\n<pre><code># spring boot actuator access control\nmanagement.endpoints.web.exposure.include=*\nsecurity.user.actuator-username=admin\nsecurity.user.actuator-password=${ACTUATOR_PASSWORD}\n</code></pre>\n\n<p><code>ACTUATOR_PASSWORD</code> is consumed here</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\nclass ActuatorSecurity : WebSecurityConfigurerAdapter() {\n    @Value(\"\\${security.user.actuator-username}\")\n    private val actuatorUsername: String? = null\n\n    @Value(\"\\${security.user.actuator-password}\")\n    private val actuatorPassword: String? = null\n\n    ....\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551211978, "post_id": 54893323, "comment_id": 96555781, "body": "I would think a library should expose suspending functions and let the user handle the threading execution context for then, but who knows for sure."}, {"owner": {"reputation": 25076, "user_id": 207524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f7204a1f9d3a10e3b044e2e8ca58c877?s=128&d=identicon&r=PG", "display_name": "Crystal", "link": "https://stackoverflow.com/users/207524/crystal"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551212444, "post_id": 54893323, "comment_id": 96556019, "body": "@EpicPandaForce. Thanks. I was wondering if that was also a &quot;best practice&quot; of having the functions be suspending functions for the client to use as appropriate."}], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": true, "score": 3, "last_activity_date": 1551214889, "creation_date": 1551214889, "answer_id": 54894036, "question_id": 54893323, "link": "https://stackoverflow.com/questions/54893323/basic-coroutine-network-call-in-a-library/54894036#54894036", "title": "Basic coroutine network call in a library", "body": "<p>You can create a suspending function, and this will enforce that the user calls this from a coroutine themselves.\nIf your method uses <code>withContext</code> you don't have to worry about <code>GlobalScope</code> or configuring the scope. <code>withContext</code> simply tells the coroutine which context to use (for networking, you'll want <code>IO</code>. And the scope is determined now by however the user launches it.</p>\n\n<p>The way I'd construct your method would be:</p>\n\n<pre><code>suspend fun myMethod() = withContext(Dispatchers.IO) {\n    // do some networking code\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1551222142, "creation_date": 1551222142, "answer_id": 54895564, "question_id": 54893323, "link": "https://stackoverflow.com/questions/54893323/basic-coroutine-network-call-in-a-library/54895564#54895564", "title": "Basic coroutine network call in a library", "body": "<p>Depending on what you are trying to achieve, you can use different patterns even inside a library.</p>\n\n<p>If your function is supposed to <strong>immediately return</strong> after launching some coroutines, the \"best practice\" is to declare your function as an extension of the <code>CoroutineScope</code>, that way you don't have to use the global scope:</p>\n\n<pre><code>fun CoroutineScope.launchesAndReturnsImmediately() {\n    // launch can be called because we are extending CoroutineScope\n    launch {\n        // some work\n    }\n}\n</code></pre>\n\n<p>That being said, you often <strong>don't need to return immediately</strong> when in a library, so you can declare your functions <code>suspend</code> instead, which is easier to grasp on the consumer side. Multiple options there:</p>\n\n<ul>\n<li>do some work in the background by using <code>withContext</code> to run on appropriate thread pool, or call other suspending functions</li>\n<li>use <code>coroutineScope</code> to launch child coroutines and decompose the work, but still suspend until all child coroutines are done</li>\n<li>\"create\" a suspension by wrapping callback-based asynchronous code, using <code>suspendCoroutine</code> or <code>suspendCancellableCoroutine</code></li>\n</ul>\n"}], "owner": {"reputation": 25076, "user_id": 207524, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f7204a1f9d3a10e3b044e2e8ca58c877?s=128&d=identicon&r=PG", "display_name": "Crystal", "link": "https://stackoverflow.com/users/207524/crystal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 54894036, "answer_count": 2, "score": 3, "last_activity_date": 1551608927, "creation_date": 1551211761, "last_edit_date": 1551608927, "question_id": 54893323, "link": "https://stackoverflow.com/questions/54893323/basic-coroutine-network-call-in-a-library", "title": "Basic coroutine network call in a library", "body": "<p>I'm just reading and learning about coroutines in Kotlin to use in a small library for fun/learning purposes. In the documentation, you can do something like</p>\n\n<pre><code>GlobalScope.launch {\n\n}\n</code></pre>\n\n<p>So in my method,</p>\n\n<pre><code>fun myMethod() {\n    GlobalScope.launch {\n        // do some networking code\n    }   \n}\n</code></pre>\n\n<p>Is it best practice to use <code>GlobalScope</code> to launch a coroutine for a library? In the docs it says</p>\n\n<blockquote>\n  <p>Application code usually should use application-defined CoroutineScope, using async or launch on the instance of GlobalScope is highly discouraged.</p>\n</blockquote>\n\n<p>This is obviously a library and not necessarily app code. But I wasn't sure if that was the best way to do networking in the background with coroutines.</p>\n\n<p>I also tried</p>\n\n<pre><code>runBlocking {\n    async {\n        // do some networking code\n    }\n}\n</code></pre>\n\n<p>Thinking that <code>runBlocking</code> introduces a new coroutine scope, but I think in this case it inherits the scope from its parents which is the main thread so then I get an exception about no networking on the main UI thread.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-actionbar", "androidx"], "answers": [{"tags": [], "owner": {"reputation": 640, "user_id": 7966313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXcL5.jpg?s=128&g=1", "display_name": "Enzo Lizama", "link": "https://stackoverflow.com/users/7966313/enzo-lizama"}, "is_accepted": false, "score": 0, "last_activity_date": 1551211416, "creation_date": 1551211416, "answer_id": 54893233, "question_id": 54893039, "link": "https://stackoverflow.com/questions/54893039/get-actionbar-inside-fragment-using-androidx/54893233#54893233", "title": "get actionBar inside fragment using androidx", "body": "<p>Probably in your XML view you are defining an actionBar that is not AndroidX.</p>\n\n<p>The translated error means that in that function you are wanting to return an object <code>androidx.appcompat.action.ActionBar</code> but <code>activity.actionBar</code> is an <code>android.app.ActionBar!</code> . You must take that into account and modify it in the corresponding styles. </p>\n\n<p>I hope you find it useful.</p>\n"}, {"tags": [], "owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "is_accepted": true, "score": 3, "last_activity_date": 1551213511, "creation_date": 1551213511, "answer_id": 54893709, "question_id": 54893039, "link": "https://stackoverflow.com/questions/54893039/get-actionbar-inside-fragment-using-androidx/54893709#54893709", "title": "get actionBar inside fragment using androidx", "body": "<p>The  <code>activity</code> property of <code>androidx.fragment.app.Fragment</code> gives you the <code>androidx.fragment.app.FragmentActivity</code> \"this fragment is currently associated with\" (quoted from the documentation available in Android Studio)</p>\n\n<p>The <code>actionBar</code> property of <code>FragmentActivity</code> on the other hand will give you an <code>android.app.ActionBar</code> which is not compatible with the legacy <code>android.support.v7.app.ActionBar</code> or its AndroidX equivalent <code>androidx.appcompat.app.ActionBar</code> </p>\n\n<p>Since <code>FragmentActivity</code> does not have a <code>supportActionBar</code> property, you'll have to cast the <code>FragmentActivity</code> to <code>androidx.appcompat.app.AppCompatActivity</code>:</p>\n\n<pre><code>import androidx.appcompat.app.ActionBar\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.fragment.app.Fragment\n\nclass TestFragment: Fragment() {\n\n    fun getActionbar() : ActionBar?\n    {\n        return (activity as AppCompatActivity).supportActionBar\n    }\n}\n</code></pre>\n\n<p>Note: I added the \"?\" because <code>supportActionBar</code> may be <code>null</code></p>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 8496352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0dPYs.jpg?s=128&g=1", "display_name": "Mukta", "link": "https://stackoverflow.com/users/8496352/mukta"}, "is_accepted": false, "score": 0, "last_activity_date": 1578562673, "last_edit_date": 1578562673, "creation_date": 1578562285, "answer_id": 59660891, "question_id": 54893039, "link": "https://stackoverflow.com/questions/54893039/get-actionbar-inside-fragment-using-androidx/59660891#59660891", "title": "get actionBar inside fragment using androidx", "body": "<p>First make sure you import androidx\n<strong><em>import androidx.appcompat.app.ActionBar;</em></strong></p>\n\n<p>initial <em>private ActionBar actionBar;</em></p>\n\n<p>Then add this inside the protected void onCreate calss</p>\n\n<pre><code>    actionBar = getSupportActionBar();\n    actionBar.setTitle(\"Your Tittle\");\n</code></pre>\n\n<p>That's all.</p>\n"}], "owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4463, "favorite_count": 0, "accepted_answer_id": 54893709, "answer_count": 3, "score": 2, "last_activity_date": 1578562673, "creation_date": 1551210649, "last_edit_date": 1551274751, "question_id": 54893039, "link": "https://stackoverflow.com/questions/54893039/get-actionbar-inside-fragment-using-androidx", "title": "get actionBar inside fragment using androidx", "body": "<p>I just want to get actionBar in a fragment with a function and I am using Kotlin language and AndroidX.</p>\n\n<p>this is my code:</p>\n\n<pre><code>import androidx.appcompat.app.ActionBar\nimport androidx.fragment.app.Fragment\n\nclass TestFragment : Fragment() {\n\n    fun getActiobar() : ActionBar\n    {\n        return  activity.actionBar\n    }\n}\n</code></pre>\n\n<p>but I am getting this error:</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is android.app.ActionBar! but androidx.appcompat.app.ActionBar was expected.</p>\n</blockquote>\n\n<p>any help?</p>\n"}, {"tags": ["arrays", "kotlin", "compare"], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1551217064, "last_edit_date": 1551217064, "creation_date": 1551212540, "answer_id": 54893506, "question_id": 54892950, "link": "https://stackoverflow.com/questions/54892950/compare-numbers-and-save-them-in-a-array-in-kotlin/54893506#54893506", "title": "compare numbers and save them in a array in Kotlin", "body": "<p>You can ask from the user for the number of the array's items like this:</p>\n\n<pre><code>var n = 0\n\nprintln(\"Number of items in the array = \")\ntry {\n    n = readLine()!!.toInt()\n} catch (e: Exception) {\n}\n</code></pre>\n\n<p>Now the array will be initialized if <code>n</code> is a positive integer and then filled with random non repeating integer numbers:</p>\n\n<pre><code>if (n &gt; 0) {\n    val array = IntArray(n) // initialize an array of n items all being 0\n\n    val r = Random() // create a random numbers generator\n    array.indices.forEach {\n        var newInt = 0\n        while (array.contains(newInt)) { newInt = r.nextInt() }\n        array[it] = newInt\n    }\n    array.forEach { print(\"$it \") }\n}\n</code></pre>\n\n<p>With <code>contains()</code> you can check if the new generated random number already exists in the array (this means that the array will be filled with non zero integers).<br/>\nIf you want the random numbers to be in a specific range then instead of:</p>\n\n<pre><code>newInt = r.nextInt()\n</code></pre>\n\n<p>use:</p>\n\n<pre><code>newInt = r.nextInt((upperBound + 1) - lowerBound) + lowerBound\n</code></pre>\n\n<p>or for Kotlin version 1.3+:</p>\n\n<pre><code>newInt = (lowerBound..upperBound).random()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 1, "last_activity_date": 1551215314, "creation_date": 1551215314, "answer_id": 54894119, "question_id": 54892950, "link": "https://stackoverflow.com/questions/54892950/compare-numbers-and-save-them-in-a-array-in-kotlin/54894119#54894119", "title": "compare numbers and save them in a array in Kotlin", "body": "<p>One thing to keep in mind is, if you're trying to generate random numbers within a range, but have no duplicates, you need to ensure that the range of random numbers is at least equal to the size of the destination array. </p>\n\n<p>For instance, if you're trying to generate an array of size 12 with a range from 0..10, it can't be done as there are only 11 possibilities. </p>\n\n<p>Depending on your requirements (is the range just 0 till the size of the array?) if the space of numbers is small you could simplify this quite a bit by shuffling a list from <code>rangeStart..rangeEnd</code>:</p>\n\n<pre><code>/**\n * Generates an array of unique random numbers between zero and the larger of\n * arraySize or upperBound. If upperBound is not specified, it defaults to be\n * arraySize.\n *\n * @param arraySize the size of the returned integer array\n * @param upperBound an optional upper bound for the range of random numbers\n */\nfun generateArray(arraySize: Int, upperBound: Int = size): IntArray {\n  return (0..Math.max(upperBound, arraySize)).shuffled().take(arraySize).toIntArray()\n}\n</code></pre>\n\n<p>This also avoids wasteful generation of discarded duplicate random numbers and ensures that the function call takes a deterministic amount of time to execute.</p>\n"}], "owner": {"reputation": 33, "user_id": 10946137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CVkRTmEs1uY/AAAAAAAAAAI/AAAAAAAAAJE/8rvMTpP7P40/photo.jpg?sz=128", "display_name": "Pedro Parreira", "link": "https://stackoverflow.com/users/10946137/pedro-parreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551217064, "creation_date": 1551210290, "question_id": 54892950, "link": "https://stackoverflow.com/questions/54892950/compare-numbers-and-save-them-in-a-array-in-kotlin", "title": "compare numbers and save them in a array in Kotlin", "body": "<p>2 part question</p>\n\n<p>First part - I wanted to ask the user to give a number and then create an array with as many positions as the number introduced, how can i do this?</p>\n\n<p>Second Part - The array is to be filled with random numbers but i <strong>don't want duplicate numbers</strong> . This is my code and it keeps registering duplicate numbers</p>\n\n<pre><code>var A = intArrayOf(0,0,0,0,0,0)\nfor (i in 0..A.size - 1) {\n    val rnd = (0..10).random()\n    for (j in 0..A.size-1) {\n        if (rnd == A[j]){\n            break\n        }\n        else{\n            A[i] = rnd\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>what am i doing wrong?</p>\n"}, {"tags": ["java", "android", "kotlin", "enums"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 2, "creation_date": 1551210285, "post_id": 54892823, "comment_id": 96555078, "body": "Kotlin runs on the same JVM that Java does and compiles to similar byte code, so I can&#39;t imagine that enums in Kotlin behave any differently than enums in Java."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1551210500, "post_id": 54892823, "comment_id": 96555164, "body": "That being said, eliminating enums from your Android code falls under the category of micro-optimizations, meaning unless your app is going to be large and you know the memory footprint is going to be a problem, it&#39;s not worth fussing over. Besides, the only thing you really need to do anyway is configure ProGuard to convert your enums to integer constants at compile time."}, {"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "reply_to_user": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1551210804, "post_id": 54892823, "comment_id": 96555290, "body": "@Abion47 I didn&#39;t know ProGuard could do that!"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551256473, "post_id": 54893141, "comment_id": 96569552, "body": "I&#39;d expect &quot;a sealed class where each implementation is an object&quot; to be worse if anything (more classes to load and keep in memory)."}, {"owner": {"reputation": 354, "user_id": 3053987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa9a3612ff115dc28e39f6c6cf14dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/3053987/manu"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551257089, "post_id": 54893141, "comment_id": 96569869, "body": "true and we use it everywhere :)"}, {"owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "edited": false, "score": 1, "creation_date": 1551272769, "post_id": 54893141, "comment_id": 96579395, "body": "So.. In Kotlin, choosing between enum and @IntDef/@StringDef, you prefer to use Enums right?"}], "tags": [], "owner": {"reputation": 354, "user_id": 3053987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa9a3612ff115dc28e39f6c6cf14dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/3053987/manu"}, "is_accepted": true, "score": 3, "last_activity_date": 1551211040, "creation_date": 1551211040, "answer_id": 54893141, "question_id": 54892823, "link": "https://stackoverflow.com/questions/54892823/are-enum-classes-in-kotlin-expensive-for-android-as-in-java/54893141#54893141", "title": "Are Enum classes in Kotlin &quot;expensive&quot; for Android as in Java?", "body": "<ol>\n<li><em>Are Enum classes in Kotlin \"expensive\" for Android as Java?.</em> Could be. I doubt whether kotlin will be able to do any optimization that java cannot.</li>\n<li><em>Is it still stand to use @IntDefs or @StringDefs in Kotlin?.</em> - Not really. This is a polarising subject and many in the Android world(including me) believe that using enums should be the preferred way. I encourage you to read the following links to get a better idea. </li>\n</ol>\n\n<p><a href=\"https://twitter.com/jakewharton/status/551876948469620737?lang=en\" rel=\"nofollow noreferrer\">Twitter thread by Jake Wharton</a> </p>\n\n<p><a href=\"https://plus.google.com/+DianneHackborn/posts/YDykw2hstUu\" rel=\"nofollow noreferrer\">An article by Diane Hackborn and the comments</a></p>\n\n<p><a href=\"https://www.reddit.com/r/androiddev/comments/7so7ne/you_should_strictly_avoid_using_enums_on_android/\" rel=\"nofollow noreferrer\"> Somwhat witty reddit thread talking about optimization of enums and such</a></p>\n\n<p>And the following answers by Jake Wharton are interesting. </p>\n\n<blockquote>\n  <p>Does lint support kotlin typedefs? (Lint for Kotlin won't be fully\n  supported until AS 3.1, and we're on 3.0 still)</p>\n  \n  <p>Do you mean typealias? If so, yes.</p>\n  \n  <p>Will I get a lint warning for an exhaustive when when I do a return\n  when(intDef) { .. } and accidentally omit one of the the possible\n  types?</p>\n  \n  <p>An else will always be required here. Not sure about the lint warning\n  though.</p>\n  \n  <p>Does AS have an intention (alt + enter to quickly add all variants of\n  the intDef?</p>\n  \n  <p>Yes.</p>\n  \n  <p>Like right now, instead of shipping features, we're discussing when\n  this micro-optimization should be used!</p>\n  \n  <p>Summation of the entire enum conversation since about 2012!</p>\n  \n  <p>I'm also wondering if a sealed class where each implementation is an\n  object has some perf gains over an enum</p>\n  \n  <p>None. It's effectively the exact same thing as an enum.</p>\n</blockquote>\n"}], "owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 2, "accepted_answer_id": 54893141, "answer_count": 1, "score": 3, "last_activity_date": 1614931053, "creation_date": 1551209663, "last_edit_date": 1614931053, "question_id": 54892823, "link": "https://stackoverflow.com/questions/54892823/are-enum-classes-in-kotlin-expensive-for-android-as-in-java", "title": "Are Enum classes in Kotlin &quot;expensive&quot; for Android as in Java?", "body": "<ul>\n<li>Are <strong>Enum</strong> classes in Kotlin \"expensive\" for Android as Java?.</li>\n<li>Is it still stand to use <code>@IntDefs</code> or <code>@StringDefs</code> in Kotlin?.</li>\n</ul>\n\n<p>When I decompile Kotlin Enum class to Java class, there still used Java Enums in the low level, which are not recommended for use in Android Development, and this made me think about this.</p>\n"}, {"tags": ["intellij-idea", "kotlin", "jvm", "manifest", "manifest.mf"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9306627, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n6yKEyhOolQ/AAAAAAAAAAI/AAAAAAAAACk/6N_GFVa2QrA/photo.jpg?sz=128", "display_name": "Laurin Neff", "link": "https://stackoverflow.com/users/9306627/laurin-neff"}, "edited": false, "score": 0, "creation_date": 1551370260, "post_id": 54894502, "comment_id": 96624276, "body": "Thanks, it worked! I marked your answer as accepted answer I took the gradle route using this page: <a href=\"https://www.mkyong.com/gradle/gradle-create-a-jar-file-with-dependencies/\" rel=\"nofollow noreferrer\">mkyong.com/gradle/gradle-create-a-jar-file-with-dependencies</a>"}], "tags": [], "owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1551217462, "last_edit_date": 1551217462, "creation_date": 1551216981, "answer_id": 54894502, "question_id": 54892529, "link": "https://stackoverflow.com/questions/54892529/no-main-manifest-attribute-when-creating-kotlin-jar-using-intellij-idea/54894502#54894502", "title": "&quot;No main manifest attribute&quot; when creating Kotlin jar using IntelliJ IDEA", "body": "<p>If any of the dependent jars has a <code>MANIFEST.MF</code> file, it will override your custom one which defines the <code>Main-Class</code>.</p>\n\n<p>In order to address this problem you should do the following:</p>\n\n<ul>\n<li>Disable the <a href=\"https://i.imgur.com/VYCY4jt.png\" rel=\"nofollow noreferrer\">alphabetical ordering</a></li>\n<li><a href=\"https://i.imgur.com/USnfiup.png\" rel=\"nofollow noreferrer\">Change items ordering</a> so that item which has <code>META-INF/MANIFEST.MF</code> file is the first in the list</li>\n<li>Your custom <code>MANIFEST.MF</code> will be picked up by IntelliJ IDEA and <a href=\"https://i.imgur.com/kHuoIoT.png\" rel=\"nofollow noreferrer\">displayed for the jar</a> artifact.</li>\n</ul>\n\n<p>See the <a href=\"https://youtrack.jetbrains.com/issue/IDEA-116209\" rel=\"nofollow noreferrer\">related issue</a> for more details.</p>\n\n<p>You can also use Gradle or Maven to generate the fat jar instead.</p>\n"}, {"tags": [], "owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "is_accepted": false, "score": 2, "last_activity_date": 1587581276, "creation_date": 1587581276, "answer_id": 61372806, "question_id": 54892529, "link": "https://stackoverflow.com/questions/54892529/no-main-manifest-attribute-when-creating-kotlin-jar-using-intellij-idea/61372806#61372806", "title": "&quot;No main manifest attribute&quot; when creating Kotlin jar using IntelliJ IDEA", "body": "<p>I got this error with Gradle and Kotlin.\nI had to add in my <code>build.gradle.kts</code> an explicit manifest attribute:</p>\n\n<pre><code>tasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[\"Main-Class\"] = \"com.example.MainKt\"\n    }\n}\n</code></pre>\n\n<p>From the <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\" rel=\"nofollow noreferrer\">gradle documentation</a>, it's better to create a fatJar task to englobe all of the runtime dependencies in case you encounter <code>java.lang.NoClassDefFoundError</code> errors</p>\n"}, {"tags": [], "owner": {"reputation": 6113, "user_id": 4418897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fff1ff90d8926cf3a82823f66943c5?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Pillai", "link": "https://stackoverflow.com/users/4418897/santosh-pillai"}, "is_accepted": false, "score": 0, "last_activity_date": 1618889239, "creation_date": 1618889239, "answer_id": 67172049, "question_id": 54892529, "link": "https://stackoverflow.com/questions/54892529/no-main-manifest-attribute-when-creating-kotlin-jar-using-intellij-idea/67172049#67172049", "title": "&quot;No main manifest attribute&quot; when creating Kotlin jar using IntelliJ IDEA", "body": "<p>1.Add the following task definition in the build script</p>\n<pre><code>tasks.jar {\nmanifest {\n    attributes[&quot;Main-Class&quot;] = &quot;MainKt&quot;\n}\nconfigurations[&quot;compileClasspath&quot;].forEach { file: File -&gt;\n    from(zipTree(file.absoluteFile))\n}\n}\n</code></pre>\n<ol start=\"2\">\n<li>Then the jar tasks (Tasks | build | jar) again from the right hand sidebar.</li>\n</ol>\n"}], "owner": {"reputation": 53, "user_id": 9306627, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n6yKEyhOolQ/AAAAAAAAAAI/AAAAAAAAACk/6N_GFVa2QrA/photo.jpg?sz=128", "display_name": "Laurin Neff", "link": "https://stackoverflow.com/users/9306627/laurin-neff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3346, "favorite_count": 0, "accepted_answer_id": 54894502, "answer_count": 3, "score": 3, "last_activity_date": 1618889239, "creation_date": 1551208419, "question_id": 54892529, "link": "https://stackoverflow.com/questions/54892529/no-main-manifest-attribute-when-creating-kotlin-jar-using-intellij-idea", "title": "&quot;No main manifest attribute&quot; when creating Kotlin jar using IntelliJ IDEA", "body": "<p>When creating a jar from my Kotlin code and running it, it says \"No main manifest attribute\".\nWhen looking at the manifest.mf, it has this content:</p>\n\n<pre><code>Manifest-Version: 1.0\n</code></pre>\n\n<p>When looking at the file in the source, it has this content:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: MyMainClass\n</code></pre>\n\n<p>When manually copying the source manifest to the jar, it runs perfectly. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CDHfF.png\" rel=\"nofollow noreferrer\">Screenshot of my artifact settings</a></p>\n"}, {"tags": ["android", "function", "kotlin", "repeat"], "comments": [{"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "edited": false, "score": 0, "creation_date": 1551214048, "post_id": 54892381, "comment_id": 96556815, "body": "What&#39;s the crash you&#39;re getting? Show the stack trace"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1551239954, "post_id": 54892381, "comment_id": 96564050, "body": "Show your full code and stacktrace where crash occurs as well."}, {"owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551269857, "post_id": 54892381, "comment_id": 96577630, "body": "Hi, I edited the Post with almost the full Code and stack trace."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "edited": false, "score": 0, "creation_date": 1551269687, "post_id": 54899037, "comment_id": 96577532, "body": "Yes, it looks like a Problem with graphView and a weird way it behaves when called multiple times. I will try your solution and give you feedback if it worked.  I edited the Post maybe you can see what the Problem is (it&#39;s my first time working with graphView)"}], "tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1551247479, "creation_date": 1551247479, "answer_id": 54899037, "question_id": 54892381, "link": "https://stackoverflow.com/questions/54892381/android-repeat-function-until-button-is-pressed/54899037#54899037", "title": "Android: Repeat Function until Button is pressed", "body": "<p>1) Timer schedules the task on worker thread. I guess the error happens because <em>start()</em> function is updating the GraphView(UI) on worker thread. so try wrapping the start function inside the UI/Main handler like below.</p>\n\n<pre><code>private val timer = Timer(\"schedule\", true)\ntimer.scheduleAtFixedRate(1000,1000)\n{\n  Handler(Looper.getMainLooper()).post {\n            start()\n        }\n}\n</code></pre>\n\n<p>2) But again if it takes time to read json file, better to just wrap the Grapview update code inside Handler instead of whole start() function. Hence code inside your <em>start()</em> function has to be like below</p>\n\n<pre><code>fun start()\n{\n    // your code to read the json file\n\n    // wrap the notify grapview plotter inside Handler\n    Handler(Looper.getMainLooper()).post {\n        // code to notify Grapview plotter \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551269534, "creation_date": 1551207693, "last_edit_date": 1551269534, "question_id": 54892381, "link": "https://stackoverflow.com/questions/54892381/android-repeat-function-until-button-is-pressed", "title": "Android: Repeat Function until Button is pressed", "body": "<p>So I want the function \"start()\" to be called every second until I press a Button.</p>\n\n<p>The function reads a JSON File and notifies a Plotter to Print a Line graph with the help of <code>GraphView</code> Library.</p>\n\n<p>I tried this but the App keeps Crashing:</p>\n\n<pre><code>private val timer = Timer(\"schedule\", true)\ntimer.scheduleAtFixedRate(1000,1000)\n{\n   start()\n}\n</code></pre>\n\n<p>Json Parser: Connecting to URL, pull json and extract Data from it.</p>\n\n<pre><code>object JsonParser {\n\nvar blueConeArray = arrayListOf&lt;Cone&gt;()\nvar yellowConeArray = arrayListOf&lt;Cone&gt;()\n\n//Parse Json File extract Data and store them in DataWarehouse\nfun parse(url: String) {\n\n    getRequest(url, success = { response -&gt;\n\n        //create Parser\n        val parser = Parser()\n        val stringBuilder = StringBuilder(response)\n\n        //Read Json File + get Data\n        val jsonObject : JsonObject = parser.parse(stringBuilder) as JsonObject\n\n        //Get Cones from JsonObject\n        val blueCoordinates : JsonArray&lt;JsonObject&gt;? = jsonObject.array(\"BlueCoordinates\")\n        val yellowCoordinates : JsonArray&lt;JsonObject&gt;? = jsonObject.array(\"YellowCoordinates\")\n\n        //Store Blue Cones\n        for(coordinate in blueCoordinates!!)\n        {\n            var x_blue = coordinate.double(\"x\")\n            var y_blue = coordinate.double(\"y\")\n\n            var blueCone =  BlueCone(x_blue!!, y_blue!!)\n            blueConeArray.add(blueCone)\n        }\n\n        //Store Yellow Cones\n        for(coordinate in yellowCoordinates!!)\n        {\n            var x_yellow = coordinate.double(\"x\")\n            var y_yellow = coordinate.double(\"y\")\n            var yellowCone = YellowCone(x_yellow!!, y_yellow!!)\n            yellowConeArray.add(yellowCone)\n        }\n\n        //Store everything in Data Warehouse\n       DataWarehouse.setValues(newEngineTemp = jsonObject.string(\"engineTemp\"),\n                                newSpeed = jsonObject.string(\"speed\"),\n                                newBlueCones = blueConeArray,\n                                newYellowCones = yellowConeArray)\n        blueConeArray.clear()\n        yellowConeArray.clear()\n\n    }, failure = { error -&gt;\n        println(error)\n    })\n}\n\n//connect to URL pull Json File\nprivate fun getRequest(url: String, success: (String) -&gt; Unit, failure: (FuelError) -&gt; Unit) {\n\n    Fuel.get(url).responseString { request, response, result -&gt;\n\n        val (data, error) = result\n        if (error != null) {\n            Log.v(\"Error\", error.toString())\n            failure(error)\n        } else {\n            val onSuccess = data ?: return@responseString\n            success(onSuccess)\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>DataWarehouse: Stores Data from Json Parser and notifies Observers</p>\n\n<pre><code>object DataWarehouse : Subject {\n\n//List of Observers\nprivate val MAXOBSERVER = 100\nprivate var amountOfObservers = 0\nprivate var observerList = arrayListOf&lt;Observer&gt;()\n\n//Data from car\nprivate var engineTemp: String? = \"\"\nprivate var speed: String? = \"\"\nprivate lateinit var blueCones : ArrayList&lt;Cone&gt;\nprivate lateinit var yellowCones : ArrayList&lt;Cone&gt;\n\n//register Observers + save them in Array\noverride fun registerObserver(DataObserver: Observer) {\n\n    if (amountOfObservers &lt; MAXOBSERVER) {\n        observerList.add(DataObserver)\n        amountOfObservers++\n    }\n}\n\n//notify Observer from Array, that needs the new Value\noverride fun notifyObservers() {\n    for (observer in observerList) {\n        observer.update()\n    }\n}\n\n//set values from parsed Jason File\nfun setValues(newEngineTemp: String?, newSpeed: String? ,newBlueCones: ArrayList&lt;Cone&gt;, newYellowCones: ArrayList&lt;Cone&gt;) {\n\n    //set new Values\n    engineTemp = newEngineTemp\n    speed = newSpeed\n    blueCones = newBlueCones\n    yellowCones = newYellowCones\n\n    //notify all Observers\n    notifyObservers()\n}\n\n//Return values to Observers\nfun getEngineTemp(): String? {\n    return engineTemp\n}\n\nfun getSpeed(): String? {\n    return speed\n}\n\nfun getBlueCones(): ArrayList&lt;Cone&gt; {\n\n    return blueCones\n}\n\nfun getYellowCones(): ArrayList&lt;Cone&gt; {\n\n    return yellowCones\n}\n</code></pre>\n\n<p>}</p>\n\n<p>GraphView Plotter: first create DataPoints at (0/0) so \"resetData()\" works.</p>\n\n<pre><code>class Plotter(graphView: GraphView) : Observer {\n\nprivate var graphView = graphView\n\nprivate lateinit var sortedBlueCones: MutableList&lt;Cone&gt;\nprivate lateinit var sortedYellowCones: MutableList&lt;Cone&gt;\n\nprivate var blueConeArrayList = ArrayList&lt;DataPoint&gt;()\nprivate var yellowConeArrayList = ArrayList&lt;DataPoint&gt;()\n\nprivate var blueLines = LineGraphSeries&lt;DataPoint&gt;()\nprivate var yellowLines = LineGraphSeries&lt;DataPoint&gt;()\n\nprivate var blueIterator = 0\nprivate var yellowIterator = 0\n\nprivate var firstDraw = true\n\ninit {\n\n    //First Values so resetData works\n    yellowLines.appendData((DataPoint(0.toDouble(), 0.toDouble())), true, 1000)\n    blueLines.appendData((DataPoint(0.toDouble(), 0.toDouble())), true, 1000)\n\n    register()\n}\n\n//Register at Data Warehouse\noverride fun register() {\n    DataWarehouse.registerObserver(this)\n}\n\n//Get new Cones from Data Warehouse and sort them by X Values\noverride fun update() {\n\n    sortedBlueCones = DataWarehouse.getBlueCones().sortedWith(compareBy({ it.xCoordinate })) as MutableList&lt;Cone&gt;\n    sortedYellowCones = DataWarehouse.getYellowCones().sortedWith(compareBy({ it.xCoordinate })) as MutableList&lt;Cone&gt;\n\n    draw()\n}\n\n//Draw Line Graph and Point Graph\nprivate fun draw() {\n\n        //Blue Cones\n        for (i in sortedBlueCones) {\n\n            var x: Double = sortedBlueCones.get(blueIterator).xCoordinate\n            var y: Double = sortedBlueCones.get(blueIterator).yCoordinate\n\n            var dataPoint = DataPoint(x, y)\n            blueConeArrayList.add(dataPoint)\n            val blueConeArray = arrayOfNulls&lt;DataPoint&gt;(blueConeArrayList.size)\n            blueConeArrayList.toArray(blueConeArray)\n\n            blueLines.resetData(blueConeArray)\n\n            blueIterator++\n        }\n\n\n        //Yellow Cones\n        for (i in sortedYellowCones) {\n            var x: Double = sortedYellowCones.get(yellowIterator).xCoordinate\n            var y: Double = sortedYellowCones.get(yellowIterator).yCoordinate\n\n            var dataPoint = DataPoint(x, y)\n            yellowConeArrayList.add(dataPoint)\n            val yellowConeArray = arrayOfNulls&lt;DataPoint&gt;(yellowConeArrayList.size)\n            yellowConeArrayList.toArray(yellowConeArray)\n\n            yellowLines.resetData(yellowConeArray)\n\n            yellowIterator++\n        }\n\n    //Set Values of Lines\n    blueLines.setColor(Color.BLUE)\n    blueLines.setDrawDataPoints(true)\n    blueLines.setDataPointsRadius(10.toFloat())\n\n    yellowLines.setColor(Color.YELLOW)\n    yellowLines.setDrawDataPoints(true)\n    yellowLines.setDataPointsRadius(10.toFloat())\n\n    //Draw\n    graphView.addSeries(blueLines)\n    graphView.addSeries(yellowLines)\n\n    blueIterator = 0\n    yellowIterator = 0\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Error Stack: It looks like a Problem of graphView, but when I trigger the function manually with a Button it just works fine. Whenever i wrap \"start()\" or \"readJson()\" in a timer the App crashes.</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.tobias.infinity_racing_driverless, PID: 16341\njava.lang.IllegalArgumentException: The order of the values is not correct. X-Values have to be ordered ASC. First the lowest x value and at least the highest x value.\n    at com.jjoe64.graphview.series.BaseSeries.checkValueOrder(BaseSeries.java:532)\n    at com.jjoe64.graphview.series.BaseSeries.resetData(BaseSeries.java:412)\n    at com.example.tobias.infinity_racing_driverless.Plotter.draw(Plotter.kt:69)\n    at com.example.tobias.infinity_racing_driverless.Plotter.update(Plotter.kt:52)\n    at com.example.tobias.infinity_racing_driverless.DataWarehouse.notifyObservers(DataWarehouse.kt:32)\n    at com.example.tobias.infinity_racing_driverless.DataWarehouse.setValues(DataWarehouse.kt:46)\n    at com.example.tobias.infinity_racing_driverless.JsonParser$parse$1.invoke(JsonParser.kt:55)\n    at com.example.tobias.infinity_racing_driverless.JsonParser$parse$1.invoke(JsonParser.kt:14)\n    at com.example.tobias.infinity_racing_driverless.JsonParser$getRequest$1.invoke(JsonParser.kt:78)\n    at com.example.tobias.infinity_racing_driverless.JsonParser$getRequest$1.invoke(JsonParser.kt:14)\n    at com.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Deserializable.kt:105)\n    at com.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Unknown Source:4)\n    at com.github.kittinunf.fuel.core.DeserializableKt$response$asyncRequest$1$1.invoke(Deserializable.kt:192)\n    at com.github.kittinunf.fuel.core.DeserializableKt$response$asyncRequest$1$1.invoke(Unknown Source:0)\n    at com.github.kittinunf.fuel.core.RequestExecutionOptionsKt$sam$java_lang_Runnable$0.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551207110, "post_id": 54892101, "comment_id": 96553625, "body": "It&#39;s either Java or it&#39;s Kotlin. It&#39;s not both."}], "answers": [{"tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": false, "score": 0, "last_activity_date": 1551206902, "creation_date": 1551206902, "answer_id": 54892215, "question_id": 54892101, "link": "https://stackoverflow.com/questions/54892101/how-to-access-array-elements-from-derrived-class/54892215#54892215", "title": "How to access array elements from derrived class", "body": "<pre><code>MutableList&lt;B&gt; array1 = mutableListOf()\n</code></pre>\n\n<p>contains <code>B</code> elements.</p>\n\n<pre><code>class Ba : B { MutableList&lt;C&gt; array2 = mutableListOf() }\n</code></pre>\n\n<p>The <code>array2</code> list is defined for <code>Ba</code>.<br>\nThe signature of <code>B</code> <strong>doesn't expose members or methods</strong>, so you cannot expect this to work.</p>\n\n<pre><code>val itemBa = Ba()\nitemBa.array2.add(C(\"name\"))\n</code></pre>\n\n<p>Here insertion works fine because you're working with <code>Ba</code> signature, which exposes its member <code>array2</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 6745380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec624abef9f581a1de13a2ec49b6c52?s=128&d=identicon&r=PG&f=1", "display_name": "stefan-0905", "link": "https://stackoverflow.com/users/6745380/stefan-0905"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1551207072, "creation_date": 1551206484, "last_edit_date": 1551207072, "question_id": 54892101, "link": "https://stackoverflow.com/questions/54892101/how-to-access-array-elements-from-derrived-class", "title": "How to access array elements from derrived class", "body": "<p>I have classes:</p>\n\n<pre><code>class A { MutableList&lt;B&gt; array1 = mutableListOf() }\n\nclass B { }\n\nclass Ba : B { MutableList&lt;C&gt; array2 = mutableListOf() }\n\nclass C { var name: String }\n</code></pre>\n\n<p>In my main function i did:</p>\n\n<pre><code>val itemA = A()\nval itemBa = Ba()\nitemBa.array2.add(C(\"name\"))\nitemA.array1.add(ItemBa)\n\nfor(arr1 in itemA.array1)\n   for(arr2el in arr1.array2)\n      print(arr2el.name)\n</code></pre>\n\n<p>But when i try to print elements from array2 through itemA element i get error Unresolved Reference, as if i can't get array2. But adding element to array2 worked fine. Is it possible to do it this way or whats the best approach to do something like this?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551253904, "post_id": 54892022, "comment_id": 96568479, "body": "Please add your database strucutre and please responde with @AlexMamo"}, {"owner": {"reputation": 1, "user_id": 11121080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ed225548d10de600ab5aecac884d4d?s=128&d=identicon&r=PG&f=1", "display_name": "StevenD", "link": "https://stackoverflow.com/users/11121080/stevend"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551357443, "post_id": 54892022, "comment_id": 96616371, "body": "@alexMamo I have updated the post with the databae rules. My structure is a user nodes, with uid, username, and profileimageurl"}, {"owner": {"reputation": 1, "user_id": 11121080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ed225548d10de600ab5aecac884d4d?s=128&d=identicon&r=PG&f=1", "display_name": "StevenD", "link": "https://stackoverflow.com/users/11121080/stevend"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1551373766, "post_id": 54892022, "comment_id": 96626161, "body": "@AlexMamo see the above msg"}], "owner": {"reputation": 1, "user_id": 11121080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2ed225548d10de600ab5aecac884d4d?s=128&d=identicon&r=PG&f=1", "display_name": "StevenD", "link": "https://stackoverflow.com/users/11121080/stevend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551357400, "creation_date": 1551206195, "last_edit_date": 1551357400, "question_id": 54892022, "link": "https://stackoverflow.com/questions/54892022/get-a-photo-associated-with-the-current-user", "title": "Get a photo associated with the current user", "body": "<p>I am trying to return a user a photo from Firebase node to the respected authenticated user. I have the Firebase set up so that when you register it, it creates a child record for the user, stores the UID there and also stores the image URL. As well as storing the image in Firebase storage.</p>\n\n<p>I can get back the users email address they registered with but I cannot get the information related to the authenticated user in Firebase.</p>\n\n<p>I want to return the users photo as a profile image qhen they login, currently just the email returns. I am using the below code:</p>\n\n<pre><code>val user = FirebaseAuth.getInstance().currentUser\n        user?.let {\n            for (profile in it.providerData) {\n                // Id of the provider (ex: google.com)\n                val providerId = profile.providerId\n\n                // UID specific to the provider\n                val uid = profile.uid\n\n                // Name, email address, and profile photo Url\n                val name = profile.displayName\n                val email = profile.email\n                val photoUrl = profile.photoUrl\n\n                Log.d(\"photo\", \"${profile.photoUrl} + ${profile.uid}\")\n</code></pre>\n\n<p>Rules for firebase:</p>\n\n<pre><code>{\n    \"rules\": {\n        \".read\": true,\n        \".write\": true,\n        \"users\":\n        {\n            \"$userId\":\n            {\n                \".read\": \"auth.uid === $userId\",\n                \".write\": \"auth.uid === $userId\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I print out to console to see what is returning and each time i get null for photoUrl</p>\n"}, {"tags": ["java", "kotlin", "collections", "iterable"], "comments": [{"owner": {"reputation": 19059, "user_id": 2563754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4357beb6de2712b6b2171ebe4c499b?s=128&d=identicon&r=PG", "display_name": "Seelenvirtuose", "link": "https://stackoverflow.com/users/2563754/seelenvirtuose"}, "edited": false, "score": 0, "creation_date": 1551204247, "post_id": 54891539, "comment_id": 96552178, "body": "Why do you want to do this?"}, {"owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "reply_to_user": {"reputation": 19059, "user_id": 2563754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4357beb6de2712b6b2171ebe4c499b?s=128&d=identicon&r=PG", "display_name": "Seelenvirtuose", "link": "https://stackoverflow.com/users/2563754/seelenvirtuose"}, "edited": false, "score": 0, "creation_date": 1551204283, "post_id": 54891539, "comment_id": 96552200, "body": "To add a custom selector to a list."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1551204507, "post_id": 54891539, "comment_id": 96552327, "body": "@AVEbrahimi I&#39;m a bit ignorant on Kotlin, could you describe it by words? What does it do?"}], "answers": [{"tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": true, "score": 2, "last_activity_date": 1551205409, "last_edit_date": 1551205409, "creation_date": 1551205085, "answer_id": 54891779, "question_id": 54891539, "link": "https://stackoverflow.com/questions/54891539/kotlin-like-selector-in-java/54891779#54891779", "title": "Kotlin like selector in Java", "body": "<p>Well unfortunately Java doesn't have type aliases.<br>\nAnd I think the best you can have is</p>\n\n<pre><code>resolutions.stream()\n           .max(Comparator.comparingInt(Resolution::getArea));\n</code></pre>\n\n<hr>\n\n<p><code>Stream#max</code> does accept a <code>Comparator&lt;? super T&gt; comparator</code>, which you can build ahead of time and then pass as input.</p>\n\n<p>So you could store a <em>lambda function</em> such as</p>\n\n<pre><code>final Comparator&lt;Resolution&gt; resolutionComparator = (r1, r2) -&gt; /* Comparison logic */;\n</code></pre>\n\n<p><em>Edit: the example I had posted with <code>var</code> couldn't work, because the compiler couldn't infer the actual type of the variable.</em></p>\n"}], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 54891779, "answer_count": 1, "score": 1, "last_activity_date": 1551205409, "creation_date": 1551204151, "question_id": 54891539, "link": "https://stackoverflow.com/questions/54891539/kotlin-like-selector-in-java", "title": "Kotlin like selector in Java", "body": "<p>I have this code in Kotlin, how do I write it Java?</p>\n\n<pre><code>typealias ResolutionSelector = Iterable&lt;Resolution&gt;.() -&gt; Resolution?\n\n/**\n * @return Selector function which always provides the biggest resolution.\n */\nfun highestResolution(): ResolutionSelector = { maxBy(Resolution::area) }\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 0, "last_activity_date": 1551204423, "last_edit_date": 1551204423, "creation_date": 1551203812, "answer_id": 54891465, "question_id": 54890860, "link": "https://stackoverflow.com/questions/54890860/kotlin-reflection-change-instance-and-all-members-that-use-the-instance/54891465#54891465", "title": "Kotlin reflection change instance and all members that use the instance", "body": "<p>Ideally, if you're using a dependency injection framework (e.g. Dagger) you would want the test classes to just inject the <code>Environment</code> (which would allow referencing the environment path only after it's provided), for example:</p>\n\n<pre><code>class TestClass {\n  @Inject lateinit var environment: Environment\n  private lateinit var path: String\n\n  @Before fun setup() {\n    // do injection here\n    path = environment.path\n  }\n}\n</code></pre>\n\n<p>Otherwise, I think interface delegation could be a good option here and avoids reflection entirely. For instance, create an <code>EnvironmentHost</code> which surfaces an <code>environment</code> and <code>path</code> property:</p>\n\n<pre><code>interface EnvironmentHost {\n  var environment: Environment\n  val path: String\n}\n</code></pre>\n\n<p>Create an implementation here for test classes:</p>\n\n<pre><code>class TestEnvironmentHost : EnvironmentHost {\n  override var environment: Environment = generateEnvironment(\"jUnit\")\n  override val path: String\n    get() = environment.path\n}\n</code></pre>\n\n<p>Test classes now can look like:</p>\n\n<pre><code>class TestClass : EnvironmentHost by TestEnvironmentHost() {\n  @Test fun myTest() {\n    val myPath = path\n    val myEnvironment = environment\n  }\n}\n</code></pre>\n\n<p>And your test factory can be simplified to:</p>\n\n<pre><code>@TestFactory\nfun generateTests(): List&lt;DynamicTests&gt; = classList.flatMap { testClass -&gt;\n  val instance = testClass.createInstance()\n\n  // Assign an environment if the test is an EnvironmentHost. If not,\n  // you could choose to treat that as a failure and require the test\n  // class to be an EnvironmentHost.\n  (instance as? EnvironmentHost)?.environment = postgresEnv\n\n  ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11120652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nT0tr0QS41k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBQd6pE1cF3RjVBCWTen4gvEsuuw/mo/photo.jpg?sz=128", "display_name": "Nussbam", "link": "https://stackoverflow.com/users/11120652/nussbam"}, "is_accepted": true, "score": 0, "last_activity_date": 1551449221, "creation_date": 1551449221, "answer_id": 54946294, "question_id": 54890860, "link": "https://stackoverflow.com/questions/54890860/kotlin-reflection-change-instance-and-all-members-that-use-the-instance/54946294#54946294", "title": "Kotlin reflection change instance and all members that use the instance", "body": "<p>I ended up creating a new test-task in gradle for each environment:</p>\n\n<pre><code>task postgresqlIntegrationTest(type: Test, group: \"Verification\", description: \"Runs integration tests on postgresql.\") {\n    dependsOn compileTestKotlin\n    mustRunAfter test\n\n    environment \"env\", \"postgresql\"\n\n    useJUnitPlatform {\n        filter {\n            includeTestsMatching \"*IT\"\n        }\n    }\n}\n</code></pre>\n\n<p>where my testclass just loads the environment like this:</p>\n\n<pre><code>class TestClass {\n  val environment: Environment = generateEnvironment(System.getenv(\"env\") ?: \"junit\")\n  //Do test stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11120652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nT0tr0QS41k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBQd6pE1cF3RjVBCWTen4gvEsuuw/mo/photo.jpg?sz=128", "display_name": "Nussbam", "link": "https://stackoverflow.com/users/11120652/nussbam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54946294, "answer_count": 2, "score": 1, "last_activity_date": 1551449221, "creation_date": 1551201409, "question_id": 54890860, "link": "https://stackoverflow.com/questions/54890860/kotlin-reflection-change-instance-and-all-members-that-use-the-instance", "title": "Kotlin reflection change instance and all members that use the instance", "body": "<p>We are using reflection to enable our tests to be started in different environments.</p>\n\n<p>A typical test would look like this: </p>\n\n<pre><code>class TestClass {\n  val environment: Environment = generateEnvironment(\"jUnit\")\n  val path: String = environment.path\n\n  //Do test stuff\n}\n</code></pre>\n\n<p>We are using reflection like this:</p>\n\n<pre><code>class PostgresqlTest{\n  val classList: List&lt;KClass&lt;*&gt;&gt; = listOf(TestClass::class)\n  val postgresEnv = generateEnvironment(\"postgres\")\n\n  @TestFactory\n  fun generateTests(): List&lt;DynamicTest&gt; = classList.flatMap { testClass -&gt;\n    val instance = testClass.createInstance()\n    environmentProperty(testclass).setter.call(instance, postgresEnv)\n\n    //&lt;&lt;generate the dynamic tests&gt;&gt;\n\n  }\n\n  fun environmentProperty(testClass: KClass&lt;*&gt;) = \n    testClass.memberProperties.find {\n      it.returnType.classifier == Environment::class\n  } as KMutableProperty&lt;*&gt;\n}\n</code></pre>\n\n<p>Now we have the issue that <code>path != environment.path</code> in the PostgresqlTest</p>\n\n<p>I know this can be solved in the TestClass with lazy or get() like this</p>\n\n<pre><code>class TestClass {\n  val environment: Environment = generateEnvironment(\"jUnit\")\n\n  val path: String by lazy { environment.path }\n\n  // OR\n\n  val path: String get() = environment.path\n}\n</code></pre>\n\n<p>However this seems like a potential pitfall for future developers, especially since the first code snippet will work in TestClass and only fail for the tests where the environment is overwritten.</p>\n\n<p>What is the cleanest way to ensure that <code>path == environment.path</code> when overwritting the property?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-boot-actuator", "mockmvc"], "comments": [{"owner": {"reputation": 708, "user_id": 1515570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68aa073a21af43d184b2cbeab2129b8d?s=128&d=identicon&r=PG", "display_name": "X Tian", "link": "https://stackoverflow.com/users/1515570/x-tian"}, "edited": false, "score": 0, "creation_date": 1551203278, "post_id": 54890781, "comment_id": 96551677, "body": "You get a http 404 error"}, {"owner": {"reputation": 662, "user_id": 1887912, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cb3aa8025d2e06f2adac3f3a8a6388de?s=128&d=identicon&r=PG", "display_name": "JonB", "link": "https://stackoverflow.com/users/1887912/jonb"}, "reply_to_user": {"reputation": 708, "user_id": 1515570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68aa073a21af43d184b2cbeab2129b8d?s=128&d=identicon&r=PG", "display_name": "X Tian", "link": "https://stackoverflow.com/users/1515570/x-tian"}, "edited": false, "score": 0, "creation_date": 1551203472, "post_id": 54890781, "comment_id": 96551778, "body": "That endpoint surely exists, so I don&#39;t get this error!"}], "owner": {"reputation": 662, "user_id": 1887912, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cb3aa8025d2e06f2adac3f3a8a6388de?s=128&d=identicon&r=PG", "display_name": "JonB", "link": "https://stackoverflow.com/users/1887912/jonb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551201144, "creation_date": 1551201144, "question_id": 54890781, "link": "https://stackoverflow.com/questions/54890781/kotlin-testing-authentication-to-actuator-api", "title": "Kotlin testing authentication to /actuator api", "body": "<p>I have a <code>ActuatorSecurity</code> class which I use for authentication for <code>/actuator</code> actions.</p>\n\n<pre><code>package com.netapp.qronicle.config\n\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.boot.actuate.autoconfigure.security.servlet.EndpointRequest\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.authentication.AuthenticationManager\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories\n\n@Configuration\n@EnableWebSecurity\nclass ActuatorSecurity : WebSecurityConfigurerAdapter() {\n    @Value(\"\\${security.user.actuator-username}\")\n    private val actuatorUsername: String? = null\n\n    @Value(\"\\${security.user.actuator-password}\")\n    private val actuatorPassword: String? = null\n\n    @Throws(Exception::class)\n    override fun configure(http: HttpSecurity) {\n        http.csrf().disable().requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests()\n            .anyRequest().hasRole(\"USER\")\n            .and()\n            .httpBasic()\n    }\n\n    @Throws(Exception::class)\n    override fun configure(auth: AuthenticationManagerBuilder) {\n        val passwordEncoder = PasswordEncoderFactories.createDelegatingPasswordEncoder()\n        val encodedPassword = passwordEncoder.encode(actuatorPassword)\n\n        auth.inMemoryAuthentication()\n            .withUser(actuatorUsername).password(encodedPassword).roles(\"USER\")\n    }\n\n    @Bean\n    @Throws(Exception::class)\n    override fun authenticationManagerBean(): AuthenticationManager {\n        // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\n        // IT'S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\n        return super.authenticationManagerBean()\n    }\n}\n</code></pre>\n\n<p>I have everything configured in my <code>application.properties</code> file</p>\n\n<pre><code># spring boot actuator access control\nmanagement.endpoints.web.exposure.include=*\nsecurity.user.actuator-username=admin\nsecurity.user.actuator-password=admin123\n</code></pre>\n\n<p>I would like to just to do basic <code>authentication</code> api tests for <code>/actuator/**</code> but have not been able to do so, here is my test class</p>\n\n<pre><code>package com.netapp.qronicle.web\n\nimport com.netapp.qronicle.config.ActuatorSecurity\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest\nimport org.springframework.test.context.ContextConfiguration\nimport org.springframework.test.context.junit.jupiter.SpringExtension\nimport org.springframework.test.web.servlet.MockMvc\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers\nimport javax.inject.Inject\n\n@ExtendWith(SpringExtension::class)\n@WebMvcTest(ActuatorSecurity::class)\n@ContextConfiguration(classes = [ActuatorSecurity::class])\n\nclass ActuatorTest {\n\n    @Inject\n    lateinit var mockMvc: MockMvc\n\n    @Test\n    fun `Basic authentication actuator test`() {\n        val result = mockMvc.perform(\n            MockMvcRequestBuilders.get(\"/actuator\"))\n            .andExpect(MockMvcResultMatchers.status().isOk)\n        Assertions.assertNotNull(result)\n    }\n}\n</code></pre>\n\n<p>The error thrown is:</p>\n\n<pre><code>2019-02-26 17:07:26.062  INFO 34766 --- [           main] com.netapp.qronicle.web.ActuatorTest     : Starting ActuatorTest on jmasson-mac-0 with PID 34766 (started by jonma in /Users/jonma/Development/java/report-generator)\n2019-02-26 17:07:26.099  INFO 34766 --- [           main] com.netapp.qronicle.web.ActuatorTest     : No active profile set, falling back to default profiles: default\n2019-02-26 17:07:29.324  INFO 34766 --- [           main] com.netapp.qronicle.web.ActuatorTest     : Started ActuatorTest in 4.468 seconds (JVM running for 6.427)\n\nMockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /actuator\n       Parameters = {}\n          Headers = {}\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {}\n\nHandler:\n             Type = org.springframework.web.servlet.resource.ResourceHttpRequestHandler\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 404\n    Error message = null\n          Headers = {}\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "covariance"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551198938, "post_id": 54890067, "comment_id": 96549317, "body": "&quot;Kotlin provides a complementary variance annotation: in. It makes a type parameter contravariant: it can only be consumed and never produced&quot;"}, {"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551199382, "post_id": 54890067, "comment_id": 96549572, "body": "@TimCastelijns Thanks but I want to understand the reasoning behind it. Again, It looks like a safe operation to me. Or I&#39;m wrong on this but in that case I really need to an example that visualise how this usage breaks type-safety dynamics of the language."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1551265754, "post_id": 54892166, "comment_id": 96575274, "body": "&quot;Your second function, with a MutableList&lt;in Shape&gt; parameter, is the opposite: it can accept a list of Shapes, or a list of any superclass of Shape&quot; - Having read your post, I exactly thought the same thing. So, you can pass a list of Any, or maybe list of Foo (assuming Shape extends a Foo class) through that parameter. None of them represent Shape objects which would break the type safety."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 5, "last_activity_date": 1551259164, "last_edit_date": 1551259164, "creation_date": 1551206743, "answer_id": 54892166, "question_id": 54890067, "link": "https://stackoverflow.com/questions/54890067/understanding-one-usage-of-in-keyword-in-kotlin/54892166#54892166", "title": "Understanding one usage of &quot;in&quot; keyword in Kotlin", "body": "<p>Variance is always a tough concept to work through\u2026</p>\n\n<p>If you're using the terms \u2018producer\u2019 and \u2018consumer\u2019, note that they refer to your interaction with the item in question \u201a in this case, the <code>MutableList</code> parameter.</p>\n\n<p>Your first function, with a <code>MutableList&lt;out Shape&gt;</code> parameter, can accept a list of <code>Shape</code>s, or a list of any subclass of <code>Shape</code>.\u00a0 (<code>out</code> means roughly \u2018or any subclass\u2019.)</p>\n\n<p>In each case, if you're consuming the list, whatever you pull out of the list will always be a <code>Shape</code> (as the IDE confirms).</p>\n\n<p>But if you want to put something <em>into</em> the list (as a producer), you can't tell what would be safe to add, as that would depend on whether it's a subclass, and which one.</p>\n\n<p>Your second function, with a <code>MutableList&lt;in Shape&gt;</code> parameter, is the opposite: it can accept a list of <code>Shape</code>s, or a list of any <em>superclass</em> of <code>Shape</code>.\u00a0 (<code>in</code> means roughly \u2018or any superclass\u2019.)</p>\n\n<p>In each case, it's always safe to put a <code>Shape</code> into the list (as a producer).\u00a0 But you can't tell anything about the type of what you pull <em>out</em> of it (as a consumer): it could be called with a <code>MutableList&lt;Any?&gt;</code>, which could contain <code>String</code>s or <code>File</code>s or whatever.\u00a0 So the compiler will give it the universal type, <code>Any?</code> (as the IDE confirms).</p>\n"}], "owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 54892166, "answer_count": 1, "score": 0, "last_activity_date": 1604328620, "creation_date": 1551198665, "last_edit_date": 1604328620, "question_id": 54890067, "link": "https://stackoverflow.com/questions/54890067/understanding-one-usage-of-in-keyword-in-kotlin", "title": "Understanding one usage of &quot;in&quot; keyword in Kotlin", "body": "<p>I'm trying to understand Kotlin take of generics especially with the <code>in</code> and <code>out</code> keywords. I've written this simple piece to hopefully illustrate my point of confusion.</p>\n<p>This is the method that looks and works OK;</p>\n<p><a href=\"https://i.stack.imgur.com/M5cWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M5cWc.png\" alt=\"enter image description here\" /></a></p>\n<p>Here, IDE gives a hint saying that the type of the item the for loop is iterating over is a <code>Shape</code>. This is good.</p>\n<p>Another version of the method above that doesn't seem quite right at first glance (since it's a &quot;consumer&quot;). But all I want to do is to read a list of shapes and that's all what's in this <code>from</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/K3hiL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K3hiL.png\" alt=\"enter image description here\" /></a></p>\n<p>That doesn't work which is maybe right according to the rules but I am not able to connect the dots here. It seems like a safe operation. I can also see Kotlin downs the type to &quot;Any?&quot; which explains why this gives a compiler error already. Can someone explain the potential type unsafety here please?</p>\n"}, {"tags": ["rest", "spring-boot", "kotlin", "boolean"], "comments": [{"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1551200487, "post_id": 54889656, "comment_id": 96550197, "body": "I think the problem is somewhere else. I tried it on my own, and it works fine."}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1551200558, "post_id": 54889656, "comment_id": 96550228, "body": "You should just add a default value for the field <code>name</code> too, since it can&#39;t be null. I think it&#39;s a good practice."}, {"owner": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "reply_to_user": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1551214436, "post_id": 54889656, "comment_id": 96556975, "body": "I dont want a default value for <code>name</code> field, if no value passed then the response should be a bad request status code"}, {"owner": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1551343440, "post_id": 54889656, "comment_id": 96608069, "body": "As you wish. Did you eventually fixed your problem?"}, {"owner": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "reply_to_user": {"reputation": 396, "user_id": 10663762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQiUK.jpg?s=128&g=1", "display_name": "Ctorres", "link": "https://stackoverflow.com/users/10663762/ctorres"}, "edited": false, "score": 0, "creation_date": 1551365159, "post_id": 54889656, "comment_id": 96621036, "body": "currently I declared <code>enabledProfile</code> as optional then check its value in the mapper ad set it to true if it is == null"}], "owner": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551197262, "creation_date": 1551197262, "question_id": 54889656, "link": "https://stackoverflow.com/questions/54889656/kotlin-spring-boot-post-request-default-boolean-value", "title": "Kotlin +spring boot post request default boolean value", "body": "<p>Currently I am working on spring boot restful web app with Kotlin.\nI want to add a boolean flag to the body of a post request and its default value is true if is not passed in </p>\n\n<p>DTO:</p>\n\n<pre><code>data class PersonDTO(\n\n    @field:NotNull\n    val name: String,\n\n    val enabledProfile: Boolean = true // setting this to true is not working\n)\n</code></pre>\n\n<p>How can I set the flag <code>enabledProfile</code> to true by default?</p>\n"}, {"tags": ["android", "serialization", "kotlin", "kotlinx.serialization"], "answers": [{"tags": [], "owner": {"reputation": 634, "user_id": 3024623, "user_type": "registered", "profile_image": "https://graph.facebook.com/775847240/picture?type=large", "display_name": "Webdma", "link": "https://stackoverflow.com/users/3024623/webdma"}, "is_accepted": false, "score": 1, "last_activity_date": 1551198982, "creation_date": 1551198982, "answer_id": 54890158, "question_id": 54889083, "link": "https://stackoverflow.com/questions/54889083/kotlinx-serialization-serialize-arraylistdate-as-data-class-variable-with-cu/54890158#54890158", "title": "kotlinx.serialization - Serialize ArrayList&lt;Date&gt; as data class variable with custom DateSerializer", "body": "<pre><code>@Serializable\nclass TestDates(\n    @Optional @Serializable(with = DatesArraySerializer::class) var dates: ArrayList&lt;Date&gt;? = null\n)\n\nobject DatesArraySerializer : KSerializer&lt;ArrayList&lt;Date&gt;&gt; {\n\n    override val descriptor = ArrayClassDesc(DateSerializer.descriptor)\n\n    override fun serialize(encoder: Encoder, obj: ArrayList&lt;Date&gt;) {\n        encoder.encodeSerializableValue(ArrayListSerializer(DateSerializer), obj)\n    }\n\n    override fun deserialize(decoder: Decoder): ArrayList&lt;Date&gt; {\n        val dates = decoder.decodeSerializableValue(ArrayListSerializer(DateSerializer))\n\n        return dates.toList() as ArrayList&lt;Date&gt;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 634, "user_id": 3024623, "user_type": "registered", "profile_image": "https://graph.facebook.com/775847240/picture?type=large", "display_name": "Webdma", "link": "https://stackoverflow.com/users/3024623/webdma"}, "edited": false, "score": 0, "creation_date": 1551201019, "post_id": 54890544, "comment_id": 96550484, "body": "An interesting solution, I did not know that you can assign a serializer at the file level, i will try, thanks."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 7, "last_activity_date": 1551200661, "last_edit_date": 1551200661, "creation_date": 1551200244, "answer_id": 54890544, "question_id": 54889083, "link": "https://stackoverflow.com/questions/54889083/kotlinx-serialization-serialize-arraylistdate-as-data-class-variable-with-cu/54890544#54890544", "title": "kotlinx.serialization - Serialize ArrayList&lt;Date&gt; as data class variable with custom DateSerializer", "body": "<p>Probably easier then your current approach is to just specify the <code>DateSerializer</code> on file level of your <code>SearchBundle</code>-class via <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/custom_serializers.md#useserializers-annotation\" rel=\"noreferrer\"><code>UseSerializers</code>-annotation</a>, e.g.:</p>\n\n<pre><code>@file:UseSerializers(DateSerializer::class)\n\nimport kotlinx.serialization.*\nimport java.util.*\n\n@Serializable\ndata class SearchBundle(\n        var startDate: List&lt;Date&gt;? = null)\n</code></pre>\n\n<p>That way you can keep your <code>DateSerializer</code> as is and the rest of your code just works, i.e. it will automatically use <code>DateSerializer</code> for all <code>Date</code>-types within that file.</p>\n"}], "owner": {"reputation": 634, "user_id": 3024623, "user_type": "registered", "profile_image": "https://graph.facebook.com/775847240/picture?type=large", "display_name": "Webdma", "link": "https://stackoverflow.com/users/3024623/webdma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1621, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1551200661, "creation_date": 1551195404, "question_id": 54889083, "link": "https://stackoverflow.com/questions/54889083/kotlinx-serialization-serialize-arraylistdate-as-data-class-variable-with-cu", "title": "kotlinx.serialization - Serialize ArrayList&lt;Date&gt; as data class variable with custom DateSerializer", "body": "<p>I need to serialize ArrayList as data class variable with custom DateSerializer,\nwith single date variable i use annotation:</p>\n\n<pre><code>@Serializable\n      data class SearchBundle(\n      @Serializable(with = DateSerializer::class) var startDate: Date? = null)\n</code></pre>\n\n<p>Somebody know how to do it for arrayList of dates?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5998, "user_id": 684650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e13add6ecaea20c8257dd04bed1e55?s=128&d=identicon&r=PG", "display_name": "ditkin", "link": "https://stackoverflow.com/users/684650/ditkin"}, "edited": false, "score": 1, "creation_date": 1551191211, "post_id": 54887603, "comment_id": 96544457, "body": "If you can you should show your code in the post.  A small bit of code which exhibits the error.   I&#39;ve posted an answer but I&#39;m kind of guessing at the exact problem without seeing some code and error message."}, {"owner": {"reputation": 8345, "user_id": 2032561, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/J7ULL.jpg?s=128&g=1", "display_name": "Bharatesh", "link": "https://stackoverflow.com/users/2032561/bharatesh"}, "edited": false, "score": 1, "creation_date": 1551191327, "post_id": 54887603, "comment_id": 96544547, "body": "a piece of code might help... let us know what you have tried."}], "answers": [{"tags": [], "owner": {"reputation": 5998, "user_id": 684650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e13add6ecaea20c8257dd04bed1e55?s=128&d=identicon&r=PG", "display_name": "ditkin", "link": "https://stackoverflow.com/users/684650/ditkin"}, "is_accepted": false, "score": 4, "last_activity_date": 1551191409, "last_edit_date": 1551191409, "creation_date": 1551191095, "answer_id": 54887694, "question_id": 54887603, "link": "https://stackoverflow.com/questions/54887603/kotlin-any-as-parameter/54887694#54887694", "title": "Kotlin Any as parameter", "body": "<p>Change the parameter type to </p>\n\n<p><code>Any?</code></p>\n\n<p>This allows possible null values to be passed.  More information about Any vs Any? and interaction with java is shown in this post: <a href=\"https://discuss.kotlinlang.org/t/kotlin-any-or-kotlin-any-which-is-equivalent-java-lang-object/8614\" rel=\"nofollow noreferrer\">kotlin any or kotlin any?</a></p>\n"}], "owner": {"reputation": 2512, "user_id": 3247551, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/7fc60a39232222edc0378f937b5101bc?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Vyas", "link": "https://stackoverflow.com/users/3247551/jay-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551191409, "creation_date": 1551190825, "question_id": 54887603, "link": "https://stackoverflow.com/questions/54887603/kotlin-any-as-parameter", "title": "Kotlin Any as parameter", "body": "<p>I am working on Retrofit in Kotlin.</p>\n\n<p>Now, I want to create only one function ( API ) which accepts different pojos as the parameter.</p>\n\n<p>I have created a function with \"Any\" as parameter.\nNow If I try to pass one Model, it gives me compile time error of MyModel cannot convert to Any.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["spring-boot", "kotlin", "here-api", "spring-ws"], "comments": [{"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1551303055, "post_id": 54887449, "comment_id": 96595892, "body": "Maybe response from server depends from <a href=\"https://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type\"><code>Content Type</code></a> or some other headers? Play with <code>postman</code> and try to find why it returns other response. Do you have an access to <code>REST</code> <code>API</code> method implementation you invoke?"}, {"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "reply_to_user": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1551342437, "post_id": 54887449, "comment_id": 96607633, "body": "There is no Content-Type since <a href=\"https://developer.here.com/documentation/geocoder/topics/what-is.html\" rel=\"nofollow noreferrer\">Here&#39;s geocoder API</a> uses url parameters. The only header restTemplate adds is <code>Accept=[application&#47;json, application&#47;*+json]</code>. Giving this parameter to postman doen&#39;t change its (correct) response. About response headers, postman gets an additional one: <code>Content-Encoding \u2192 gzip</code> (and of course `Content"}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1551343374, "post_id": 54887449, "comment_id": 96608039, "body": "If you are sure everything is the same, you can do a <code>Unit Test</code> where you try to deserialise example response to object using <code>ObjectMapper</code>. It will prove that <code>POJO</code> structure fits <code>JSON</code> payload."}, {"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "reply_to_user": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1551345181, "post_id": 54887449, "comment_id": 96608951, "body": "As I stated in my update, if I ask the response as a String, rest API responds with the quoted string and <code>View</code> is already empty, so I don&#39;t think it&#39;s a POJO problem"}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1551874772, "post_id": 54887449, "comment_id": 96799149, "body": "Try GSON, I tried it with GSON. It works perfectly."}, {"owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1551882737, "post_id": 54887449, "comment_id": 96803820, "body": "@Moinkhan the issue is <b>not</b> about jackson vs. gson or others since even getting the body as a string I get empty <code>View</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6669, "user_id": 3505695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ni0YL.png?s=128&g=1", "display_name": "HERE Developer Support", "link": "https://stackoverflow.com/users/3505695/here-developer-support"}, "is_accepted": false, "score": 0, "last_activity_date": 1579275783, "creation_date": 1579275783, "answer_id": 59790531, "question_id": 54887449, "link": "https://stackoverflow.com/questions/54887449/why-here-api-reponds-with-empty-view-on-valid-url-request/59790531#59790531", "title": "Why HERE API reponds with empty &quot;View&quot; on valid url request?", "body": "<p>The issue might be ,the query parameter searchtext is not being URL encoded when requesting via the UriComponentsBuilder interface. Try encoding the string being passed and check the response. </p>\n\n<pre><code>.queryParam(\"searchtext\", URLEncoder.encode(\"10 Downing Street, London\",\"UTF-8\"))\n</code></pre>\n"}], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1579275783, "creation_date": 1551190349, "last_edit_date": 1551347333, "question_id": 54887449, "link": "https://stackoverflow.com/questions/54887449/why-here-api-reponds-with-empty-view-on-valid-url-request", "title": "Why HERE API reponds with empty &quot;View&quot; on valid url request?", "body": "<p>I'm trying to call HERE geocoder API, but on a valid url call the response body isn't fully initialized.</p>\n\n<p>As shown below, I simply call a the API providing a valid url:</p>\n\n<pre><code>val url = UriComponentsBuilder.fromUriString(properties.geocodeUrl)\n    .queryParam(\"app_id\", properties.appId)\n    .queryParam(\"app_code\", properties.appCode)\n    .queryParam(\"searchtext\", \"10 Downing Street, London\")\n    .toUriString()\n\nlogger.debug(\"calling geocoder rest service: $url\")\n\nval geocoderResponse = RestTemplate().getForObject&lt;GeocoderResponse&gt;(url)\n</code></pre>\n\n<p><strong>GeocoderResponse</strong></p>\n\n<pre><code>package com.gudjob.geolocation\n\nimport com.fasterxml.jackson.annotation.JsonProperty\nimport com.gudjob.core.domain.Coordinates\nimport java.io.Serializable\n\n/**\n * @author Elia Sgolmin\n */\ninternal data class GeocoderResponse(\n    @field:JsonProperty(\"Response\")\n    var response: Response?\n) : Serializable {\n\n    data class Response(\n        @field:JsonProperty(\"View\")\n        var views: List&lt;View&gt;\n    ) : Serializable {\n\n        data class View(\n            @field:JsonProperty(\"Result\")\n            var results: List&lt;Result&gt;\n        ) : Serializable {\n\n            data class Result(\n                @field:JsonProperty(\"Location\")\n                var location: Location?\n            ) : Serializable {\n\n                data class Location(\n                    @field:JsonProperty(\"DisplayPosition\")\n                    var displayPosition: DisplayPosition?\n                ) : Serializable {\n\n                    data class DisplayPosition(\n                        @field:JsonProperty(\"Latitude\")\n                        var latitude: Double?,\n\n                        @field:JsonProperty(\"Longitude\")\n                        var longitude: Double?\n                    ) : Serializable {\n\n                        fun toCoordinates(): Coordinates {\n                            val lat = latitude\n                            val lon = longitude\n                            return if (lat == null || lat.isNaN() || lon == null || lon.isNaN())\n                                Coordinates.Unavailable\n                            else\n                                Coordinates.Available(lat, lon)\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If I copy the logged url and use it in browser or postman I get the following <strong>expected</strong> response</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{  \n   \"Response\":{  \n      \"MetaInfo\":{  \n         \"Timestamp\":\"2019-02-26T14:03:09.236+0000\"\n      },\n      \"View\":[  \n         {  \n            \"_type\":\"SearchResultsViewType\",\n            \"ViewId\":0,\n            \"Result\":[  \n               {  \n                  \"Relevance\":1,\n                  \"MatchLevel\":\"houseNumber\",\n                  \"MatchQuality\":{  \n                     \"City\":1,\n                     \"Street\":[  \n                        1\n                     ],\n                     \"HouseNumber\":1\n                  },\n                  \"MatchType\":\"pointAddress\",\n                  \"Location\":{  \n                     \"LocationId\":\"NT_lWsc8knsFwVitNTFX88zmA_xAD\",\n                     \"LocationType\":\"point\",\n                     \"DisplayPosition\":{  \n                        \"Latitude\":51.50341,\n                        \"Longitude\":-0.12765\n                     },\n                     \"NavigationPosition\":[  \n                        {  \n                           \"Latitude\":51.50322,\n                           \"Longitude\":-0.12767\n                        }\n                     ],\n                     \"MapView\":{  \n                        \"TopLeft\":{  \n                           \"Latitude\":51.5045342,\n                           \"Longitude\":-0.129456\n                        },\n                        \"BottomRight\":{  \n                           \"Latitude\":51.5022858,\n                           \"Longitude\":-0.125844\n                        }\n                     },\n                     \"Address\":{  \n                        \"Label\":\"10 Downing Street, London, SW1A 2AA, United Kingdom\",\n                        \"Country\":\"GBR\",\n                        \"State\":\"England\",\n                        \"County\":\"London\",\n                        \"City\":\"London\",\n                        \"District\":\"Westminster\",\n                        \"Street\":\"Downing Street\",\n                        \"HouseNumber\":\"10\",\n                        \"PostalCode\":\"SW1A 2AA\",\n                        \"AdditionalData\":[  \n                           {  \n                              \"value\":\"United Kingdom\",\n                              \"key\":\"CountryName\"\n                           },\n                           {  \n                              \"value\":\"England\",\n                              \"key\":\"StateName\"\n                           },\n                           {  \n                              \"value\":\"London\",\n                              \"key\":\"CountyName\"\n                           }\n                        ]\n                     }\n                  }\n               }\n            ]\n         }\n      ]\n   }\n}\n</code></pre>\n\n<p>As you can see, \"View\" attribute of \"Response\" object is an array with one object containing latitude and longitude of the given address.</p>\n\n<p>What I get instead is</p>\n\n<blockquote>\n  <p>GeocoderResponse(response = Response(views = []))</p>\n</blockquote>\n\n<p>where <code>response</code> has been initialized, but <code>views</code> is empty.</p>\n\n<p>Changing my code to get JSON response as plain text with</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>restTemplate().getForObject&lt;String&gt;(url)\n</code></pre>\n\n<p>it results in the following json</p>\n\n<blockquote>\n  <p>{\"Response\":{\"MetaInfo\":{\"Timestamp\":\"2019-02-26T13:35:37.851+0000\"},\"View\":[]}}</p>\n</blockquote>\n\n<p>Even here <code>\"View\"</code> property is empty so I don't think the issue is about JSON deserialization.</p>\n\n<p>Any suggestion?</p>\n\n<h1>UPDATE</h1>\n\n<p>I've checked <code>RestTemplate</code> request headers vs. browsers and postman ones, but couldn't find any relevant difference.</p>\n\n<p>The only think I can point out is postman <strong>response</strong> header <em>Content-Encoding \u2192 gzip</em>, which is missing in Spring response.</p>\n"}, {"tags": ["kotlin", "mutex", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551450222, "creation_date": 1551450222, "answer_id": 54946556, "question_id": 54886479, "link": "https://stackoverflow.com/questions/54886479/how-to-achieve-mutex-on-method-in-kotlin-and-prioritize-one-thread-before-anothe/54946556#54946556", "title": "How to achieve mutex on method in Kotlin and prioritize one thread before another?", "body": "<p>You could create two <code>Channel</code>s for your high and low priority tasks. Then to consume the events from the channels, use coroutines' <a href=\"https://kotlinlang.org/docs/reference/coroutines/select-expression.html\" rel=\"nofollow noreferrer\">select</a> expression and put the high priority task channel first.</p>\n\n<p>Example (the String is the even):</p>\n\n<pre><code>fun process(value: String) {\n    // do what you want with the event\n}\n\nsuspend fun selectFromHighAndLow(highPriorityChannel: ReceiveChannel&lt;String&gt;, lowPriorityChannel: ReceiveChannel&lt;String&gt;): String =\n        select&lt;String&gt; {\n            highPriorityChannel.onReceive { value -&gt;\n                value\n            }\n            lowPriorityChannel.onReceive { value -&gt;\n                value\n            }\n        }\n\n\nval highPriorityChannel = Channel&lt;String&gt;()\nval lowPriorityChannel = Channel&lt;String&gt;()\nwhile (true) {\n    process(selectFromHighAndLow(highPriorityChannel, lowPriorityChannel))\n}\n</code></pre>\n\n<p>To send stuff to those channels, you can use <code>channel.send(event)</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 4482266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37d4c3b86bd3caa5fac015f7ad22b6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Agfjord", "link": "https://stackoverflow.com/users/4482266/martin-agfjord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551450222, "creation_date": 1551187173, "last_edit_date": 1551191150, "question_id": 54886479, "link": "https://stackoverflow.com/questions/54886479/how-to-achieve-mutex-on-method-in-kotlin-and-prioritize-one-thread-before-anothe", "title": "How to achieve mutex on method in Kotlin and prioritize one thread before another?", "body": "<p>I have two kafka topics <code>my_priorized_topic</code> and <code>my_not_so_priorized_topic</code>. I want to have mutex on <code>EventProcessor.doLogic</code>, and always prioritize on handle messages from <code>my_prioritized_topic</code> before messages from <code>my_not_so_prioritized_topic</code></p>\n\n<p>Can anyone give me some pointers how to solve this with Kotlin, maybe with coroutines?</p>\n\n<pre><code>class EventProcessor {\n  fun doLogic(message: String) {\n    ... // code which cannot be parallelized\n  }\n}\n</code></pre>\n\n<pre><code>class KafkaConsumers(private val eventProcessor: EventProcessor) {\n  @KafkaConsumer(topic = \"my_priorized_topic\")\n  fun consumeFromPriorizedTopic(message: String) {\n    eventProcessor.doLogic(message)\n  }\n\n  @KafkaConsumer(topic = \"my_not_so_priorized_topic\")\n  fun consumeFromNotSoPrioritizedTopic(message: String) {\n    eventProcessor.doLogic(message)  \n  }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1551186397, "post_id": 54885640, "comment_id": 96541390, "body": "doesn&#39;t it suffice to just do the following here: <code>dir.walk().filter { &#47;* if that should be a filter *&#47; it.name == &quot;TestSourceClass.java&quot; }.forEach { it.writeText(it.readText().replace(....)) }</code>? It&#39;s generated code after all... but the more interesting question is probably: what are you trying to accomplish?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1551186598, "post_id": 54885640, "comment_id": 96541519, "body": "maybe you are also interested in schema bindings instead?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1551186848, "post_id": 54885640, "comment_id": 96541681, "body": "maybe you also need to wrap such a code as shown above into a <code>doLast {</code>..."}, {"owner": {"reputation": 1509, "user_id": 3699261, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/fqJKs.jpg?s=128&g=1", "display_name": "eszik.k", "link": "https://stackoverflow.com/users/3699261/eszik-k"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1551346825, "post_id": 54885640, "comment_id": 96609961, "body": "With your first solution its working. But <code>doLast</code> didn&#39;t help."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1551347601, "post_id": 54885640, "comment_id": 96610458, "body": "thanks for your feedback. Added the first comment as an answer. I used the <code>doLast</code> once in combination with another task to ensure that it is called at the end of that task... thought you may require something like that too..."}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1551347343, "creation_date": 1551347343, "answer_id": 54922701, "question_id": 54885640, "link": "https://stackoverflow.com/questions/54885640/replace-file-content-in-kotlin-dsl/54922701#54922701", "title": "Replace file content in Kotlin DSL", "body": "<p>As also mentioned in the comments and as it worked, you can do the following instead:</p>\n\n<pre><code>val replaceImports by creating(Copy::class) {\n  dir.walk()\n     .filter { /* if that should be a filter */ it.name == \"TestSourceClass.java\" }\n     .forEach { it.writeText(it.readText().replace(\"package com.test;\",\"package com.test;\\n\\nimport com.test2.AaaClass;\")) }\n}\n</code></pre>\n\n<p>Note that you may also be interested in schema bindings, depending on how you generate your code. Scanning through all the files that are just previously generated to adapt them again may not really be the fastest choice, whereas giving the generator the appropriate bindings will already generate you the code as required.</p>\n"}], "owner": {"reputation": 1509, "user_id": 3699261, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/fqJKs.jpg?s=128&g=1", "display_name": "eszik.k", "link": "https://stackoverflow.com/users/3699261/eszik-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1551347343, "creation_date": 1551184242, "question_id": 54885640, "link": "https://stackoverflow.com/questions/54885640/replace-file-content-in-kotlin-dsl", "title": "Replace file content in Kotlin DSL", "body": "<p>I want to create gradle task which is replace my imports. I have created this so far.</p>\n\n<pre><code>val replaceImports by creating(Copy::class) {\n    val dir = \"${project.buildDir}/generated-sources/xjc/com/test/dto/\"\n    from(dir){\n        include(\"TestSourceClass.java\")\n        filter{ line -&gt; line.replace(\"package com.test;\",\"package com.test;\\n\\nimport com.test2.AaaClass;\")}\n    }\n    into(dir)\n}\n</code></pre>\n\n<p>This code works only if the <code>from</code> and <code>into</code> is different directory.</p>\n"}, {"tags": ["android", "database", "kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 130, "user_id": 7009494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435fc2c95c9b4e002b74ede49408bde5?s=128&d=identicon&r=PG&f=1", "display_name": "tommy", "link": "https://stackoverflow.com/users/7009494/tommy"}, "edited": false, "score": 0, "creation_date": 1551268068, "post_id": 54887788, "comment_id": 96576618, "body": "Thank you, but in this case, after 100 ms, the server job is cancelled. What I would like to achieve in this situation is returning the local value, but also save the data from the server in the database when it arrives."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 130, "user_id": 7009494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435fc2c95c9b4e002b74ede49408bde5?s=128&d=identicon&r=PG&f=1", "display_name": "tommy", "link": "https://stackoverflow.com/users/7009494/tommy"}, "edited": false, "score": 0, "creation_date": 1551279634, "post_id": 54887788, "comment_id": 96583664, "body": "I would recommend making both jobs contribute to the <code>Channel&lt;Document&gt;</code>, so that it will deliver results instantly to the requestor, otherwise, the callee will not have results after 2 seconds if server request runs slower that that"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1551191381, "creation_date": 1551191381, "answer_id": 54887788, "question_id": 54884794, "link": "https://stackoverflow.com/questions/54884794/kotlin-coroutines-start-another-task-if-after-some-time-the-first-one-doesnt/54887788#54887788", "title": "Kotlin coroutines - start another task if after some time the first one doesn&#39;t finish", "body": "<p>I recommend using the <code>select</code> expression from the <code>kotlinx.coroutines</code> library.<br>\n<a href=\"https://kotlinlang.org/docs/reference/coroutines/select-expression.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines/select-expression.html</a></p>\n\n<pre><code>\n\nfun CoroutineScope.getDocumentsRemote(): Deferred&lt;List&lt;Document&gt;&gt;\nfun CoroutineScope.getDocumentsLocal(): Deferred&lt;List&lt;Document&gt;&gt;\n\n@UseExperimental(ExperimentalCoroutinesApi::class)\nfun CoroutineScope.getDocuments(): Deferred&lt;List&lt;Document&gt;&gt; = async {\n    supervisorScope {\n        val documents = getDocumentsRemote()\n        select&lt;List&lt;Document&gt;&gt; {\n            onTimeout(100) {\n                documents.cancel()\n                getDocumentsLocal().await()\n            }\n            documents.onAwait {\n                it\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The select expression resumes either with the <code>onAwait</code> signal from the network or with the timeout. We return the local data in that case.</p>\n\n<p>You may want to load documents in chunks as well, for that <code>Channel</code>s may help too\n<a href=\"https://kotlinlang.org/docs/reference/coroutines/channels.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines/channels.html</a></p>\n\n<p>And lastly, we use an Experimental API of kotlinx.coroutines in the example, the function <code>onTimeout</code> may change in the future versions of the library</p>\n"}], "owner": {"reputation": 130, "user_id": 7009494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435fc2c95c9b4e002b74ede49408bde5?s=128&d=identicon&r=PG&f=1", "display_name": "tommy", "link": "https://stackoverflow.com/users/7009494/tommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1551191381, "creation_date": 1551181448, "last_edit_date": 1551182759, "question_id": 54884794, "link": "https://stackoverflow.com/questions/54884794/kotlin-coroutines-start-another-task-if-after-some-time-the-first-one-doesnt", "title": "Kotlin coroutines - start another task if after some time the first one doesn&#39;t finish", "body": "<p>I am using Kotlin coroutines to get data from the server, I am passing the deferred over to other functions. In case the server doesn't give an answer in 2000 ms I would like to retrive the object from a local Room DB (if it exists in a local database), but if I finally receive data from the server I would like to save in in a local DB for future calls. How can I acheive that? I thought about using withTimeout, but in this situation, there is no waiting for a response from the server after timeout. </p>\n\n<pre><code>override fun getDocument(): Deferred&lt;Document&gt; {\n    return GlobalScope.async {\n        withTimeoutOrNull(timeOut) {\n            serverC.getDocument().await()\n        } ?: dbC.getDocument().await()\n    }\n}\n</code></pre>\n\n<p>An idea I came up with:</p>\n\n<pre><code>fun getDocuments(): Deferred&lt;Array&lt;Document&gt;&gt; {\n    return GlobalScope.async {\n        val s = serverC.getDocuments()\n        delay(2000)\n        if (!s.isCompleted) {\n            GlobalScope.launch {\n                dbC.addDocuments(s.await())\n            }\n            val fromDb = dbC.getDocuments().await()\n            if (fromDb != null) {\n                fromDb\n            } else {\n                s.await()\n            }\n        } else {\n            s.await()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1551178464, "post_id": 54883720, "comment_id": 96536642, "body": "In this way you are sending implicit <code>Intent</code> to show your image with any app on device. Did you mean that? Or did you really need to show image in <code>ImageView</code> component inside your app?"}], "answers": [{"comments": [{"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551181853, "post_id": 54884721, "comment_id": 96538699, "body": "please check your file exists in path"}, {"owner": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551181946, "post_id": 54884721, "comment_id": 96538750, "body": "&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;   &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551182131, "post_id": 54884721, "comment_id": 96538835, "body": "i mean file exist not permission check, by the way check my edited code. and if it don&#39;t work tell me which android you test in it"}, {"owner": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551182260, "post_id": 54884721, "comment_id": 96538914, "body": "var path: String = &quot;sdcard/MyPhoto/flap.png&quot;     var file: File = File(path)     if(file.exists()) {     Toast.makeText(this, &quot;Yes!&quot;, Toast.LENGTH_SHORT).show()     var bitmap: Bitmap = BitmapFactory.decodeFile(file.absolutePath)     imageView1.setImageBitmap(bitmap)    }"}, {"owner": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551182301, "post_id": 54884721, "comment_id": 96538940, "body": "file NOT exists in path"}, {"owner": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "edited": false, "score": 0, "creation_date": 1551182799, "post_id": 54884721, "comment_id": 96539246, "body": "Card/MyPhoto/flap.png - really, in code - var path: String = &quot;/mnt/sdcard/MyPhoto/flap.png&quot;"}], "tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1551182009, "last_edit_date": 1551182009, "creation_date": 1551181228, "answer_id": 54884721, "question_id": 54883720, "link": "https://stackoverflow.com/questions/54883720/dont-show-image-in-imageview/54884721#54884721", "title": "Don&#39;t show image in ImageView", "body": "<p>if you want only this image you can use below code</p>\n\n<pre><code>File imgFile = new  File(\"/mnt/sdcard/MyPhoto/flap.png\");\nif(imgFile.exists()){\n    Bitmap bm = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\n    imageView1.setImageBitmap(bm);\n}else{\n    Log.e(\"tag\",\"FILE NOT EXIST\")\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6136604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cdf24473122ad9ad0839bc5a33d0f5?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/6136604/anton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551254801, "creation_date": 1551178053, "last_edit_date": 1551254801, "question_id": 54883720, "link": "https://stackoverflow.com/questions/54883720/dont-show-image-in-imageview", "title": "Don&#39;t show image in ImageView", "body": "<p>I have in my phone two folders <strong>Card</strong> and <strong>Phone</strong>. I create folder <strong>MyPhone</strong> in the folder <strong>Card</strong> and added in her an image <strong>flap.png</strong>. This image I want to show in the element ImageView. I want to use this variant. What am I doing wrong? Thank you. </p>\n\n<pre><code>button1.setOnClickListener {\n var intent: Intent = Intent(Intent.ACTION_VIEW)\n intent.setDataAndType(Uri.parse(\"/mnt/sdcard/MyPhoto/flap.png\"),\"image/*\")\n imageView1.setImageURI(intent.data)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "simple-framework"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1551190485, "post_id": 54882744, "comment_id": 96543927, "body": "When I had this problem, I converted the Kotlin code to Java."}, {"owner": {"reputation": 2199, "user_id": 5444665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207932386087454/picture?type=large", "display_name": "David Jarvis", "link": "https://stackoverflow.com/users/5444665/david-jarvis"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551190823, "post_id": 54882744, "comment_id": 96544176, "body": "I ended up resolving this by taking the raw response message as a string, parsing it to JSON then using moshi to serialize into an object, thanks though!"}, {"owner": {"reputation": 2199, "user_id": 5444665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207932386087454/picture?type=large", "display_name": "David Jarvis", "link": "https://stackoverflow.com/users/5444665/david-jarvis"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551440799, "post_id": 54882744, "comment_id": 96650598, "body": "updated my answer below"}], "answers": [{"tags": [], "owner": {"reputation": 2199, "user_id": 5444665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207932386087454/picture?type=large", "display_name": "David Jarvis", "link": "https://stackoverflow.com/users/5444665/david-jarvis"}, "is_accepted": true, "score": 1, "last_activity_date": 1551440735, "creation_date": 1551440735, "answer_id": 54944008, "question_id": 54882744, "link": "https://stackoverflow.com/questions/54882744/serializing-retrofit-xml-response-with-simplexml-in-kotlin/54944008#54944008", "title": "Serializing retrofit xml response with SimpleXML in kotlin", "body": "<p>Found a way round this, not necessarily the answer but it works for me...</p>\n\n<p>I took the <strong>XML</strong> response as a string, converted it to <strong>JSON</strong> then used my usual JSON serializing library (<strong>moshi</strong>) to serialize the JSON into an object.</p>\n\n<pre><code>private fun parseXmlToJsonObject(xml: String) : String {\n    var jsonObj: JSONObject? = null\n    try {\n        jsonObj = XML.toJSONObject(xml)\n    } catch (e: JSONException) {\n        Log.e(\"JSON exception\", e.message)\n        e.printStackTrace()\n    }\n\n    return jsonObj.toString()\n}\n\nfun&lt;T&gt; parseResponse(xml: String, clazz: Class&lt;T&gt;) : T {\n    try {\n        return initializeMoshi().adapter(clazz).fromJson(parseXmlToJsonObject(xml))!!\n    }catch (e: IOException){\n        throw IllegalArgumentException(\"Could not deserialize: $xml into class: $clazz\")\n    }\n}\n\nprivate fun initializeMoshi(): Moshi {\n    return Moshi.Builder()\n        .add(KotlinJsonAdapterFactory())\n        .build()\n}\n</code></pre>\n\n<p>And called it like so:</p>\n\n<pre><code>val myObject = parseResponse(response.body()!!.string(), MyJsonClass::class.java)\n</code></pre>\n"}], "owner": {"reputation": 2199, "user_id": 5444665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207932386087454/picture?type=large", "display_name": "David Jarvis", "link": "https://stackoverflow.com/users/5444665/david-jarvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1407, "favorite_count": 0, "accepted_answer_id": 54944008, "answer_count": 1, "score": 4, "last_activity_date": 1551440735, "creation_date": 1551174849, "last_edit_date": 1551175658, "question_id": 54882744, "link": "https://stackoverflow.com/questions/54882744/serializing-retrofit-xml-response-with-simplexml-in-kotlin", "title": "Serializing retrofit xml response with SimpleXML in kotlin", "body": "<p>I'm attempting to serialize a retrofit xml response into an object using SimpleXML. </p>\n\n<p>However the following exception occurs:</p>\n\n<blockquote>\n  <p><strong>org.simpleframework.xml.core.ValueRequiredException: Unable to satisfy @org.simpleframework.xml.ElementList(data=false, empty=true, entry=, inline=true, name=ALLFile, required=true, type=void) on field 'files''</strong></p>\n</blockquote>\n\n<p><strong>Example of response:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;LIST&gt; \r\n   &lt;ALLFile&gt;\r\n      &lt;File&gt;\r\n         &lt;NAME&gt;SOME FILE NAME&lt;/NAME&gt;\r\n         &lt;FPATH&gt;SOME FILE PATH&lt;/FPATH&gt;\r\n         &lt;SIZE&gt;160053622&lt;/SIZE&gt;\r\n         &lt;TIMECODE&gt;1299673239&lt;/TIMECODE&gt;\r\n         &lt;TIME&gt;2018/11/23 14:04:46&lt;/TIME&gt;\r\n         &lt;ATTR&gt;33&lt;/ATTR&gt;\r\n      &lt;/File&gt;\r\n   &lt;/ALLFile&gt;\r\n   &lt;ALLFile&gt; \r\n      &lt;File&gt; \r\n\t &lt;NAME&gt;SOME FILE NAME&lt;/NAME&gt;\r\n         &lt;FPATH&gt;SOME FILE PATH&lt;/FPATH&gt;\r\n         &lt;SIZE&gt;160053622&lt;/SIZE&gt;\r\n         &lt;TIMECODE&gt;1299673559&lt;/TIMECODE&gt;\r\n         &lt;TIME&gt;2018/11/23 14:14:46&lt;/TIME&gt;\r\n         &lt;ATTR&gt;33&lt;/ATTR&gt;\r\n      &lt;/File&gt;\r\n   &lt;/ALLFile&gt;\r\n&lt;/LIST&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Objects:</strong></p>\n\n<pre><code>@Root(name = \"LIST\", strict = false)\ndata class ListResponse @JvmOverloads constructor(\n    @field:ElementList(name = \"ALLFile\", inline = true) var files: List&lt;GetVideosResponse&gt;? = null\n)\n\n@Root(strict = false, name = \"File\")\ndata class GetVideosResponse @JvmOverloads constructor(\n    @field:Element(name = \"NAME\", required = false) var name: String? = null,\n    @field:Element(name = \"FPATH\", required = false) var fPath: String? = null,\n    @field:Element(name = \"SIZE\", required = false) var size: Int? = null,\n    @field:Element(name = \"TIMECODE\", required = false) var timeCode: Long? = null,\n    @field:Element(name = \"TIME\", required = false) var time: String? = null,\n    @field:Element(name = \"ATTR\", required = false) var attr: Int? = null)\n</code></pre>\n\n<p>I'm receiving a 200 response from the server, so can rule out my request logic as the problem. Which leads me to believe the issue lies with serializing the objects, any ideas? </p>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1551176211, "post_id": 54881691, "comment_id": 96535398, "body": "What do you mean with <code>use existing one</code> fragment? Use same fragment for all navigation items? Or just create fragments once and not create them again after navigation changes?"}, {"owner": {"reputation": 11, "user_id": 10176274, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQEm_TOx0wA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rRZ4xkBfA2TvFbroMVN2dgISu48Q/mo/photo.jpg?sz=128", "display_name": "Arif Mahmic", "link": "https://stackoverflow.com/users/10176274/arif-mahmic"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1551178499, "post_id": 54881691, "comment_id": 96536665, "body": "Create fragments once and not create them again"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1551179264, "post_id": 54881691, "comment_id": 96537142, "body": "Guess it is because of <code>navController.popBackStack</code>. Did you try to use some <a href=\"https://developer.android.com/reference/androidx/navigation/NavController.html#navigate&#40;int&#41;\" rel=\"nofollow noreferrer\">navigate</a> method instead?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10176274, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQEm_TOx0wA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rRZ4xkBfA2TvFbroMVN2dgISu48Q/mo/photo.jpg?sz=128", "display_name": "Arif Mahmic", "link": "https://stackoverflow.com/users/10176274/arif-mahmic"}, "edited": false, "score": 0, "creation_date": 1551253401, "post_id": 54888309, "comment_id": 96568246, "body": "I am using ViewModels, and the problem for me is with the state of the fragment, not with the data."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551267814, "post_id": 54888309, "comment_id": 96576482, "body": "It&#39;s not beta. It&#39;s RC1"}], "tags": [], "owner": {"reputation": 319, "user_id": 8354184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59455048f2e2107501eaf626640004c7?s=128&d=identicon&r=PG&f=1", "display_name": "Onur D.", "link": "https://stackoverflow.com/users/8354184/onur-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1551193016, "creation_date": 1551193016, "answer_id": 54888309, "question_id": 54881691, "link": "https://stackoverflow.com/questions/54881691/navigation-component-with-bottom-nav-always-creates-new-fragment/54888309#54888309", "title": "Navigation component with bottom nav always creates new fragment", "body": "<p>I'm afraid it is not possible for now. Since navigation component is still in a beta stage, unfortunately it lacks the ability to adapt to all cases.</p>\n\n<p>One solution would be to keep all your data in a viewmodel, and use this data each time navcontroller creates a new instance of the fragment. This way, you can hold on to the data you have already fetched. Plus, your business logic will be separated from your UI logic, so your data can also survive configuration changes.</p>\n\n<p>More information on Viewmodels <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?gclid=Cj0KCQiA5NPjBRDDARIsAM9X1GLYJpqlmNvYDUD5KQSMACMPtwacE_6-X-01MwEQmRLxld17nTQxJosaAqE1EALw_wcB\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 11, "user_id": 10176274, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZQEm_TOx0wA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rRZ4xkBfA2TvFbroMVN2dgISu48Q/mo/photo.jpg?sz=128", "display_name": "Arif Mahmic", "link": "https://stackoverflow.com/users/10176274/arif-mahmic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551193016, "creation_date": 1551171514, "last_edit_date": 1551191866, "question_id": 54881691, "link": "https://stackoverflow.com/questions/54881691/navigation-component-with-bottom-nav-always-creates-new-fragment", "title": "Navigation component with bottom nav always creates new fragment", "body": "<p>Is it possible to make my Navigation component not create new fragment (but use existing one) when clicked on bottom nav item ?</p>\n\n<p>I want to use only navigation component.</p>\n\n<pre><code>binding.bottomNavBar.setOnNavigationItemSelectedListener {\n        when (it.itemId) {\n            R.id.currentWeatherFragment -&gt; {\n                navController.popBackStack(R.id.currentWeatherFragment, false)\n                return@setOnNavigationItemSelectedListener true\n            }\n\n            R.id.futureListWeatherFragment -&gt; {\n                if (futureNumber &gt; 0) {\n                    Log.d(\"test\", \"popbackstack\")\n                    navController.popBackStack(R.id.futureListWeatherFragment, false)\n                } else {\n                    navController.navigate(navController.graph.findNode(R.id.futureListWeatherFragment)!!.id)\n                    futureNumber++\n                    Log.d(\"test\", \"navigate\")\n                }\n                return@setOnNavigationItemSelectedListener true\n            }\n\n            R.id.settingsFragment -&gt; {\n                if (settingsNumber &gt; 0) {\n                    navController.popBackStack(R.id.settingsFragment, false)\n                } else {\n                    navController.navigate(navController.graph.findNode(R.id.settingsFragment)!!.id)\n                    settingsNumber++\n                }\n                return@setOnNavigationItemSelectedListener true\n            }\n\n        }\n        false\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "edited": false, "score": 0, "creation_date": 1551171575, "post_id": 54881674, "comment_id": 96532540, "body": "This function located in file (.kt), not a class, so I cant add this annotation, because only members in named objects and companion objects can be annotated with &#39;@JvmStatic"}, {"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "reply_to_user": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "edited": false, "score": 0, "creation_date": 1588771820, "post_id": 54881674, "comment_id": 109026889, "body": "@Strangelove consider using an object to solve that issue"}], "tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": false, "score": 4, "last_activity_date": 1588771357, "last_edit_date": 1588771357, "creation_date": 1551171469, "answer_id": 54881674, "question_id": 54881641, "link": "https://stackoverflow.com/questions/54881641/databinding-cant-call-static-function-with-string-function/54881674#54881674", "title": "Databinding can&#39;t call static function with String.function()", "body": "<p>Create an <code>object</code> named <code>ExtKt</code> (or anything you want) and define your extension function in it and annotate it with <code>@JvmStatic</code> like below</p>\n\n<pre><code>@JvmStatic\nfun String.formatTo(): String {\n    if (this.isNotEmpty()) {\n        val value = this.toDouble()\n        return \"%.02f\".format(value)\n    }\n    return \"\"\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<pre><code>android:text=\"@{ExtKt.formatTo()}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 2, "last_activity_date": 1551176866, "creation_date": 1551176866, "answer_id": 54883349, "question_id": 54881641, "link": "https://stackoverflow.com/questions/54881641/databinding-cant-call-static-function-with-string-function/54883349#54883349", "title": "Databinding can&#39;t call static function with String.function()", "body": "<p>Databinding is still Java modules, so some features of kotlin like extension functions can't be used there. The only thing you can do here - create specific function in your <code>ViewModel</code> class.</p>\n\n<pre><code>class ViewModel {\n    val text: String\n    ...\n    fun getDisplayText(): String = text.formatTo()\n}\n</code></pre>\n\n<p>May be you want to use calculated properties.</p>\n\n<pre><code>val displayText: String get() = text.formatTo()\n</code></pre>\n\n<p>Anyway, your xml call will look like following:</p>\n\n<pre><code>android:text=\"@{viewModel.displayText}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8147450, "user_type": "registered", "profile_image": "https://graph.facebook.com/1592272150814472/picture?type=large", "display_name": "Roi Peretz", "link": "https://stackoverflow.com/users/8147450/roi-peretz"}, "is_accepted": false, "score": 0, "last_activity_date": 1588791690, "last_edit_date": 1588791690, "creation_date": 1588769914, "answer_id": 61635820, "question_id": 54881641, "link": "https://stackoverflow.com/questions/54881641/databinding-cant-call-static-function-with-string-function/61635820#61635820", "title": "Databinding can&#39;t call static function with String.function()", "body": "<p>Consider use MediatorLiveData:</p>\n\n<pre><code>class ViewModel(\n    val list: MutableLiveData&lt;List&lt;String&gt;&gt; = MutableLiveData&lt;List&lt;String&gt;&gt;()\n) {\n\n    val listStr = MediatorLiveData&lt;String&gt;()\n\n    init {\n        listStr .addSource(list, Observer {\n            listStr .postValue(ViewModel.joinList(it))\n        })\n    }\n\n    companion object {\n        @JvmStatic fun joinList(list: List&lt;String&gt;): String {\n            return list.joinToString(separator = \", \")\n        }\n    }\n}\n</code></pre>\n\n<p>And than in the xml:</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/items\"\n    android:text=\"@{viewModel.listStr}\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1588791690, "creation_date": 1551171373, "question_id": 54881641, "link": "https://stackoverflow.com/questions/54881641/databinding-cant-call-static-function-with-string-function", "title": "Databinding can&#39;t call static function with String.function()", "body": "<p>I have a function which formats some text</p>\n\n<pre><code>fun String.formatTo(): String {\n    if (this.isNotEmpty()) {\n        val value = this.toDouble()\n        return \"%.02f\".format(value)\n    }\n    return \"\"\n}\n</code></pre>\n\n<p>And I want to apply this fun to my textView, using databinding, so I called in textView <code>android:text=\"@{viewModel.text.formatTo()}\"</code>, importing class in <code>data</code> of my layout</p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"com.project.utils.extensions.ExtKt\"/&gt;\n\n    &lt;variable\n        name=\"viewModel\"\n        type=\"com.project.ViewModel\" /&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>But I've got an error throw building:</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****msg:cannot find method formatTo() in class java.lang.String\n</code></pre>\n\n<p>What is a problem?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 264, "user_id": 7592495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-I0Z7Qd8okGM/AAAAAAAAAAI/AAAAAAAAAA0/eo9fLVBnKHk/photo.jpg?sz=128", "display_name": "Murat Ceven", "link": "https://stackoverflow.com/users/7592495/murat-ceven"}, "edited": false, "score": 2, "creation_date": 1551174214, "post_id": 54881397, "comment_id": 96534147, "body": "I bet you have your library also as a jar file in your lib folder? Check <code>your_project&#47;your_module&#47;lib</code>and delete corresponding jar file"}, {"owner": {"reputation": 3247, "user_id": 2068732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mMeD8.jpg?s=128&g=1", "display_name": "matdev", "link": "https://stackoverflow.com/users/2068732/matdev"}, "reply_to_user": {"reputation": 264, "user_id": 7592495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-I0Z7Qd8okGM/AAAAAAAAAAI/AAAAAAAAAA0/eo9fLVBnKHk/photo.jpg?sz=128", "display_name": "Murat Ceven", "link": "https://stackoverflow.com/users/7592495/murat-ceven"}, "edited": false, "score": 0, "creation_date": 1588756141, "post_id": 54881397, "comment_id": 109017854, "body": "Thanks @MuratCeven ! your comment should be the accepted answer"}], "answers": [{"tags": [], "owner": {"reputation": 264, "user_id": 7592495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-I0Z7Qd8okGM/AAAAAAAAAAI/AAAAAAAAAA0/eo9fLVBnKHk/photo.jpg?sz=128", "display_name": "Murat Ceven", "link": "https://stackoverflow.com/users/7592495/murat-ceven"}, "is_accepted": false, "score": 0, "last_activity_date": 1615540709, "creation_date": 1615540709, "answer_id": 66597180, "question_id": 54881397, "link": "https://stackoverflow.com/questions/54881397/error-program-type-already-present-com-example-library-buildconfig/66597180#66597180", "title": "Error: Program type already present: com.example.library.BuildConfig", "body": "<p>Duplicate library, also as a jar file in your lib folder.\nCheck <code>your_project/your_module/lib</code> and delete corresponding jar file</p>\n"}], "owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1158, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1615540709, "creation_date": 1551170449, "last_edit_date": 1551171013, "question_id": 54881397, "link": "https://stackoverflow.com/questions/54881397/error-program-type-already-present-com-example-library-buildconfig", "title": "Error: Program type already present: com.example.library.BuildConfig", "body": "<p>I've startet to write a library project in Kotlin with the package <code>com.example.library</code> .. This library is free of any android stuff and I use there libraries like:</p>\n\n<ul>\n<li>Moshi</li>\n<li>Fuel</li>\n<li>Mockito</li>\n<li>JUnit</li>\n</ul>\n\n<p>Including this library in my example app, leads to</p>\n\n<blockquote>\n  <p>Program type already present: com.example.library.BuildConfig\n  Message{kind=ERROR, text=Program type already present:\n  com.example.library.BuildConfig, sources=[Unknown source file], tool\n  name=Optional.of(D8)}</p>\n</blockquote>\n\n<p>I've read os far, the cause is a redundand definition for <code>com.example.library.BuildConfig</code>.. </p>\n\n<p>In project view I go External Libraries and browse to <code>mylib</code> and unfold until I reach <code>BuildConfig</code> with decompiled:</p>\n\n<pre><code>package com.example.library;\n\npublic final class BuildConfig {\n    public static final String VERSION = \"0.0.0-rc.126.37\";\n    public static final String NAME = \"mylib-api\";\n\n    private BuildConfig() {\n    }\n}\n</code></pre>\n\n<p>How can I find the other redundant part? How can I solve this?</p>\n\n<p>Info1:</p>\n\n<p>The gradle.properties of my lib says: \n<code>group=com.example.library</code></p>\n\n<p>The gradle.properties of my app says:\n<code>group=com.example.mylib-demo</code></p>\n"}, {"tags": ["android", "api", "post", "kotlin", "request"], "comments": [{"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 1, "creation_date": 1551168511, "post_id": 54880874, "comment_id": 96530990, "body": "Post your &#39;VolleyError&#39; object by   <code>Log.d(TAG, &quot;Error: &quot; + it.getMessage());</code> inside of ErrorListener. and, nim_editText.text will return present state of EditText. if you want to send entered data, you should make JSONObject when user click Button."}, {"owner": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "reply_to_user": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 0, "creation_date": 1551168785, "post_id": 54880874, "comment_id": 96531131, "body": "Thanks, i&#39;ll try it. But in the bottom of the code, there is an OnClickListener to execute the request"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 0, "creation_date": 1551168890, "post_id": 54880874, "comment_id": 96531188, "body": "I mean this way -&gt; <a href=\"https://gist.github.com/WindSekirun/4f26929857983e8ff5f61731973639a4\" rel=\"nofollow noreferrer\">Gist</a>"}, {"owner": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "reply_to_user": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 0, "creation_date": 1551171638, "post_id": 54880874, "comment_id": 96532569, "body": "I copy your code but it still the same &quot;Error Occured&quot;"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 0, "creation_date": 1551178385, "post_id": 54880874, "comment_id": 96536596, "body": "Can you debug it? it must contain some information about errors."}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1551190169, "post_id": 54880874, "comment_id": 96543739, "body": "Double check internet permission in android manifest ...."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "edited": false, "score": 0, "creation_date": 1551239865, "post_id": 54893542, "comment_id": 96564031, "body": "my php file was fine when i run it on postman, it can pass data from postman. But i confused when i want to input the data from kotlin app."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "edited": false, "score": 0, "creation_date": 1551240678, "post_id": 54893542, "comment_id": 96564193, "body": "That&#39;s what I&#39;m saying when you run those tests such as postman ect.... it will test good. When you connect from android to a url that points to a php file the headers and request method are sent differently than they used to. Unsure why. Your never getting a response code 200 because to your php file its reading blank. So it sends error code everytime since there is nothing to put into database. Post your php code and I&#39;ll try to help. I went through this for a gruelling week or two before I figured it out."}, {"owner": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "edited": false, "score": 0, "creation_date": 1551260808, "post_id": 54893542, "comment_id": 96572067, "body": "Thank you. And I&#39;ve posted my php code on my edited question."}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1551213172, "last_edit_date": 1551213172, "creation_date": 1551212729, "answer_id": 54893542, "question_id": 54880874, "link": "https://stackoverflow.com/questions/54880874/kotlin-post-request/54893542#54893542", "title": "Kotlin POST request", "body": "<p>Make sure it's your php file you are reading the document, for done reason most totals don't add this but php no longer sees android post and get headers.\nI'll update with a link for reference here in about 15 min when I go on break. </p>\n\n<p><a href=\"https://stackoverflow.com/a/39508364/6915690\">https://stackoverflow.com/a/39508364/6915690</a></p>\n"}, {"tags": [], "owner": {"reputation": 2141, "user_id": 1101425, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/0Zqel.jpg?s=128&g=1", "display_name": "moallemi", "link": "https://stackoverflow.com/users/1101425/moallemi"}, "is_accepted": false, "score": 3, "last_activity_date": 1551212734, "creation_date": 1551212734, "answer_id": 54893545, "question_id": 54880874, "link": "https://stackoverflow.com/questions/54880874/kotlin-post-request/54893545#54893545", "title": "Kotlin POST request", "body": "<pre><code>    fun post(url: String, body: String): String {\n    return URL(url)\n        .openConnection()\n        .let {\n            it as HttpURLConnection\n        }.apply {\n            setRequestProperty(\"Content-Type\", \"application/json; charset=utf-8\")\n            requestMethod = \"POST\"\n\n            doOutput = true\n            val outputWriter = OutputStreamWriter(outputStream)\n            outputWriter.write(body)\n            outputWriter.flush()\n        }.let {\n            if (it.responseCode == 200) it.inputStream else it.errorStream\n        }.let { streamToRead -&gt;\n            BufferedReader(InputStreamReader(streamToRead)).use {\n                val response = StringBuffer()\n\n                var inputLine = it.readLine()\n                while (inputLine != null) {\n                    response.append(inputLine)\n                    inputLine = it.readLine()\n                }\n                it.close()\n                response.toString()\n            }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10578618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-niIQTtA0AT4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB76wDSPV50XGCbGwukgpmraoLLLw/mo/photo.jpg?sz=128", "display_name": "Faris Nurrachman", "link": "https://stackoverflow.com/users/10578618/faris-nurrachman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6252, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1551260685, "creation_date": 1551168358, "last_edit_date": 1551260685, "question_id": 54880874, "link": "https://stackoverflow.com/questions/54880874/kotlin-post-request", "title": "Kotlin POST request", "body": "<p>I'm new in Kotlin. I wanna ask about POST request.</p>\n\n<p>I want to pass \"nim\", \"nama\", and \"address\" edittext.text to database. But on my code, the Toast \"Error Occured\" is still appear and database didn't get any data. What should i do then?</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val jsonobj = JSONObject()\n\n    jsonobj.put(\"nim\", nim_editText.text)\n    jsonobj.put(\"nama\", nama_editText.text)\n    jsonobj.put(\"address\", address_editText.text)\n\n    val queue = Volley.newRequestQueue(this)\n    val url = \"http://192.168.100.7/simplecrud/create.php\"\n\n    val req = JsonObjectRequest(Request.Method.POST,url,jsonobj,\n        Listener {\n            Toast.makeText(this@MainActivity, \"Success\", Toast.LENGTH_SHORT).show()\n        },\n        ErrorListener {\n            Toast.makeText(this@MainActivity, \"Error Occured\", Toast.LENGTH_SHORT).show()\n        })\n\n\n    val btn = findViewById&lt;Button&gt;(R.id.button1)\n\n    btn.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(v: View?) {\n            queue.add(req)\n        }\n    })\n</code></pre>\n\n<p>this is my create.php code</p>\n\n<pre><code>    &lt;?php\n\nrequire_once('connection.php');\n\n$nim        = $_POST['nim'];\n$name       = $_POST['name'];\n$address    = $_POST['address'];\n$gender     = $_POST['gender'];\n\nif(!$nim || !$name || !$address || !$gender ){\n    echo json_encode(array('message'=&gt;'required field is empty.'));\n}\n    else{\n        $query = mysqli_query($CON, \"INSERT INTO tb_student VALUES ('$nim','$name','$address','$gender')\");\n\n    if($query){\n        echo json_encode(array('message'=&gt;'student data successfully added.'));\n    }\n        else{\n            echo json_encode(array('message'=&gt;'student data failed to add.'));\n        }\n}\n\n?&gt;\n</code></pre>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551169680, "post_id": 54880492, "comment_id": 96531517, "body": "What&#39;s the point of the second <code>&lt;T&gt;</code> then if the first <code>&lt;T&gt;</code>  allows any MutableList&lt;*&gt;?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1551170111, "post_id": 54880492, "comment_id": 96531765, "body": "Right. In principle the compiler could be written so it&#39;d handle <code>fun MutableList&lt;String&gt;.swap&lt;String&gt;</code> by not trying to resolve the first use of <code>String</code> until the opening <code>(</code>, but there&#39;s no real benefit from doing that and it makes code less readable for a human as well."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1551170228, "post_id": 54880492, "comment_id": 96531820, "body": "@Zorgan Because this isn&#39;t really a good example for generics, you normally need more than one use of <code>T</code> in the signature (it may be in the inferred type)."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551170357, "post_id": 54880492, "comment_id": 96531876, "body": "I&#39;m abit confused why <code>fun MutableList&lt;Any&gt;.swap(index1: Int, index2: Int)</code> can&#39;t be used to allow for any <code>MutableList&lt;*&gt;</code> - as opposed to using &quot;generics&quot; which I&#39;m still wrapping my head around."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551170748, "post_id": 54880492, "comment_id": 96532103, "body": "Also the syntax just doesn&#39;t make sense to me - how can <code>String</code> be the keyword used to allow all types? <code>fun &lt;String&gt; MutableList&lt;String&gt;.swap(index1: Int, index2: Int)</code>?"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551170975, "post_id": 54880492, "comment_id": 96532218, "body": "@Zorgan generics don&#39;t have to be named <code>T</code> they can be named anything. E.g.<code>&lt;VeryLongNamesThatHasNumbersLike1234InItAreAlsoAllowed&gt;</code> is also allowed and would also allow every value. As generics without a bound are implicitly extending <code>Any?</code> so <code>&lt;T&gt;</code> can be infact written as <code>&lt;T: Any?&gt;</code> and can be read as: &quot;Any type <code>T</code> that extends <code>Any</code> and can be <code>null</code>&quot;"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1551171100, "post_id": 54880492, "comment_id": 96532282, "body": "@Zorgan that is why that <code>&lt;String&gt; MutableList&lt;String&gt;.swap()</code> is not any different than <code>MutableList&lt;Any?&gt;.swap()</code> in your example. But as mentioned in other comments, generic may also be used in different parts and not just the signature, e.g. arguments or return types, like <code>&lt;T, R&gt; Any?.doSomething(t: T): R</code>"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551172297, "post_id": 54880492, "comment_id": 96532928, "body": "Yeah I completely understand Generics in arguments and return types. I just don&#39;t get the <code>&lt;T&gt;</code> used before <code>MutableList&lt;String&gt;</code>. So as I understand it, <code>fun &lt;AllowAllTypes&gt; MutableList&lt;String&gt;.swap()</code> would allow any type of <code>MutableList&lt;&gt;</code> to be passed through? (not just <code>&lt;String&gt;</code>)?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551172392, "post_id": 54880492, "comment_id": 96532981, "body": "Also why did you use the possible null-type <code>MutableList&lt;Any?&gt;.swap()</code> instead of <code>MutableList&lt;Any&gt;.swap()</code>? @Lino"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551172511, "post_id": 54880492, "comment_id": 96533056, "body": "@Zorgan no, the <code>&lt;T&gt;</code> defines that a generic is used, if you <b>don&#39;t define</b> it then kotlin will not know what <code>T</code> is. <code>fun &lt;AllowAllTypes&gt; MutableList&lt;String&gt;.swap()</code> will only work for <code>MutableList&lt;String&gt;</code> because you don&#39;t use the generic <code>AllowAllTypes</code> you&#39;ve defined, <i>anywhere</i>."}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551172565, "post_id": 54880492, "comment_id": 96533085, "body": "@Zorgan I would recommend that you read more about generics, a decent tutorial can probably explain it better than I am currently."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1551173339, "post_id": 54880492, "comment_id": 96533575, "body": "&quot;that is why that <code>&lt;String&gt; MutableList&lt;String&gt;.swap()</code> is not any different than <code>MutableList&lt;Any?&gt;.swap()</code> in your example&quot; It <i>is</i> different: you can pass e.g. a <code>MutableList&lt;Int&gt;</code> to the first one but not to the second. To understand this you need to read about variance in docs, but I strongly suggest delaying it until you understand the basics."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551175497, "post_id": 54880492, "comment_id": 96534976, "body": "The only part I&#39;m not getting is the Left hand side generic type. I will look further into it - but are you able to give a practical example of a generic type function like the one I posted: <code>fun &lt;T&gt; MutableList&lt;T&gt;.funcName()...</code> ?"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551175782, "post_id": 54880492, "comment_id": 96535159, "body": "@Zorgan I don&#39;t really understand what you don&#39;t understand... If you create an object of type <code>String</code> or <code>Int</code> then you reference the <code>class String&#47;Int</code>. If you don&#39;t really care what the actual class is though, then you can use generics. So you could say that you &quot;create&quot; an placeholder <code>T</code> (it is not created as an actual type) when writing <code>fun &lt;T&gt;</code> and you then reference said placeholder whenever you do something like <code>MutableList&lt;T&gt;.swap()</code> when calling the method <code>swap()</code> with a <code>MutableList&lt;String&gt;</code> you can think about it like this that every occurance of <code>T</code> is replaced with <code>String</code>."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177000, "post_id": 54880492, "comment_id": 96535845, "body": "That&#39;s the bit I understand perfectly. What I don&#39;t understand is the first <code>&lt;T&gt;</code> (for example the first <code>&lt;T&gt;</code> in this: <code>fun &lt;T&gt; MutableList&lt;T&gt;.funcName()...</code>)"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177119, "post_id": 54880492, "comment_id": 96535929, "body": "@Zorgan oh, that is just syntax, I guess to probably make it easier for the compiler to distinguish between real classes and generic parameters."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177179, "post_id": 54880492, "comment_id": 96535967, "body": "Thanks. Can you just confirm - the first <code>&lt;T&gt;</code> will always be the same as the 2nd <code>&lt;T&gt;</code>?"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177364, "post_id": 54880492, "comment_id": 96536074, "body": "@Zorgan it is by definition so, though I can&#39;t find the specs confirming this"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177931, "post_id": 54880492, "comment_id": 96536345, "body": "Thanks - one last question. Is there a performance upgrade when doing <code>fun &lt;T&gt; sort(para: T){}</code> over <code>fun sort(para: Any){}</code>?"}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 2, "creation_date": 1551178095, "post_id": 54880492, "comment_id": 96536430, "body": "@Zorgan as generics are only used at compile time you will not find any performance issues. I suggest reading about <i>type erasure</i> to learn more about this"}], "tags": [], "owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "is_accepted": true, "score": 10, "last_activity_date": 1551167447, "last_edit_date": 1551167447, "creation_date": 1551166630, "answer_id": 54880492, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name/54880492#54880492", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>It is used to indicate that generics are used and not some type <code>T</code> is referenced. </p>\n\n<p>Have a look at this completly valid example </p>\n\n<pre><code>fun &lt;String&gt; MutableList&lt;String&gt;.swap(index1: Int, index2: Int)\n</code></pre>\n\n<p>Now this can be called on any <code>MutableList&lt;*&gt;</code> and not only <code>MutableList&lt;String&gt;</code>. If you would not write <code>&lt;String&gt;</code> after the <code>fun</code> keyword, how would kotlin know that in fact you were referencing a generic and not <code>kotlin.String</code>?</p>\n\n<p>The same goes for the example you've shown. The <code>&lt;&gt;</code> after the <code>fun</code> just introduces a new generic parameter, else kotlin would complain that it wouldn't know the type <code>T</code></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5285002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ce5bb57e59c7c24b699afa9b878abf5?s=128&d=identicon&r=PG&f=1", "display_name": "skyxanxus", "link": "https://stackoverflow.com/users/5285002/skyxanxus"}, "is_accepted": false, "score": 0, "last_activity_date": 1551166665, "creation_date": 1551166665, "answer_id": 54880504, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name/54880504#54880504", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>\"T\" representing generic type/class you passing to the function. Your question is about the \"T\" at returning of the function. So it suppose return the type/class based on what you passing in to function.</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551170513, "post_id": 54881121, "comment_id": 96531951, "body": "The syntax just doesn&#39;t make sense to me. What is the point of generic type if <code>fun MutableList&lt;Any&gt;.swap(index1: Int, index2: Int)</code> already allows for any <code>MutableList&lt;*&gt;</code>?"}], "tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1551169374, "creation_date": 1551169374, "answer_id": 54881121, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name/54881121#54881121", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>The first <code>&lt;T&gt;</code> introduces a <em>generic type parameter</em> to the function, as you know. The second <code>&lt;T&gt;</code> it's part of <code>MutableList&lt;T&gt;</code>, the <em>receiver</em> of the <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\"><em>extension function</em></a> that your code is defining: an extension function is defined as</p>\n\n<p>fun [GenericTypeList] ReceiverType.FunctionName([ParametersList]) [: ReturnType] { ... }</p>\n\n<p>as you can see in the official documentation I linked above. The <em>receiver type</em> is the type you add the <em>extension function</em> to (<em>extension functions</em> are <em>syntactic sugar</em> for something like (Java's) <code>static</code> method invocations). In you example you're adding an extension function to <em>generic</em> <code>MutableList&lt;T&gt;</code>, so defining the <em>receiver</em> you provides a generic type specification (which requires the <em>generic type parameter</em> represented by the first <code>&lt;T&gt;</code>).</p>\n\n<p>I hope my explanation can bel clear and exaustive for you!</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1551173131, "last_edit_date": 1551173131, "creation_date": 1551170838, "answer_id": 54881492, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name/54881492#54881492", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>To add to Lino's answer, imagine this definition has invisible braces after type parameter declaration:</p>\n\n<pre><code>fun &lt;T&gt; \\*{*\\ MutableList&lt;T&gt;.swap(index1: Int, index2: Int) {...} \\*}*\\\n</code></pre>\n\n<p>So it's properly <a href=\"https://stackoverflow.com/questions/1047454/what-is-lexical-scope\">lexically scoped</a>. If that <code>&lt;T&gt;</code> went after function name, you'd lose this property, complicate the parser, and only make code less readable for humans.</p>\n\n<p>It would also be hard to remember to put <code>&lt;T&gt;</code> before name for extension functions, but after it for member functions. Bad enough that it has to be done for classes!</p>\n\n<p>Scala does put <code>[T]</code> after the method name, but that's because it has a very different syntax for the feature corresponding to extension methods. Scala 3 will <a href=\"https://dotty.epfl.ch/docs/reference/contextual/extension-methods.html#generic-extensions\" rel=\"nofollow noreferrer\">go for the complicated parser approach</a>, probably because Kotlin-like syntax would not fit with any other syntax.</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551177308, "post_id": 54883347, "comment_id": 96536050, "body": "Thanks. I understand they&#39;re type parameters, what I don&#39;t understand is when there are 2 blocks of type parameters like this: <code>fun &lt;T&gt; MutableList&lt;T&gt;.swap()</code> - why does the first <code>&lt;T&gt;</code> need to be there?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 3, "creation_date": 1551178341, "post_id": 54883347, "comment_id": 96536566, "body": "The first <code>&lt;T&gt;</code> is saying \u201cThis is the type parameter you have to pass\u201d, and the second is saying \u201cthe MutableList must be of type T\u201d.  The first is <i>declaring</i> the type parameter, the second is <i>using</i> it \u2014 just like value parameters must be declared in the function declaration, before they&#39;re used in the body."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551178784, "post_id": 54883347, "comment_id": 96536831, "body": "Thanks. So the first <code>&lt;T&gt;</code> should be the same type as the 2nd <code>&lt;T&gt;</code> (first T is declaration, 2nd T is the actual instance). However, doesn&#39;t this make the first <code>&lt;T&gt;</code>) redundant? It&#39;s like in Java when declaring a variable: <code>Class test = new Class()</code> - Kotlin removed the requirement for the first <code>Class</code> (variable type) because it&#39;s redundant."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 2, "creation_date": 1551179675, "post_id": 54883347, "comment_id": 96537408, "body": "It&#39;s not redundant, for two reasons.  First, it&#39;s a place to specify constraints, variance, &amp;c (e.g. <code>&lt;T : Number&gt;</code>, <code>&lt;out T&gt;</code>).  And second, it provides a namespace, identifying <code>T</code> as a type parameter and not the name of a class or interface.  (Type parameters are usually a single upper-case letter, partly to avoid clashes; but there&#39;s nothing stopping you from declaring a <code>class T</code>, or declaring <code>&lt;String&gt;</code> as a type parameter.  Without the declaration, the compiler would have no way to be sure what you meant.)"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551245059, "post_id": 54883347, "comment_id": 96565210, "body": "@Zorgan Translate to non-generic functions as suggested by this answer: does using <code>a</code> inside the body of <code>myFun</code> make the <code>a: Int</code> parameter redundant because it should be the same value?"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 5, "last_activity_date": 1551259546, "last_edit_date": 1551259546, "creation_date": 1551176863, "answer_id": 54883347, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name/54883347#54883347", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>(Here's another approach.)</p>\n\n<p>Consider a normal, non-generic function:</p>\n\n<pre><code>fun myFun(a: Int, b: String) {\n    // \u2026use a and b\u2026\n}\n</code></pre>\n\n<p>What are <code>a</code> and <code>b</code>?\u00a0 They don't mean anything yet.\u00a0 They're simply saying \u2018When you call this function, you must pass these values\u2019.\u00a0 You'd expect the body of the function to refer to them in some way; that's when they get used.</p>\n\n<p>Now consider a generic function:</p>\n\n<pre><code>fun &lt;T, U&gt; myFun(/* \u2026use T and U\u2026 */) {\n    // \u2026\n}\n</code></pre>\n\n<p>It's the same with <code>T</code> and <code>U</code>.\u00a0 Those are parameters, too \u2014 <em>type</em> parameters.\u00a0 Just like with value parameters, declaring type parameters doesn't mean anything by itself, but gives placeholders for types that must be passed (explicitly or inferred) when calling the function.\u00a0 (The <code>&lt;\u2026&gt;</code> declaration also gives a place to specify any constraints or variance, e.g. <code>&lt;T : Number&gt;</code> or <code>&lt;out T&gt;</code>.)\u00a0 And you'd normally use those type parameters later on \u2014 in this case, in the rest of the function signature.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 2, "accepted_answer_id": 54880492, "answer_count": 5, "score": 5, "last_activity_date": 1551259546, "creation_date": 1551166397, "question_id": 54880432, "link": "https://stackoverflow.com/questions/54880432/generic-type-t-parameter-before-the-function-name", "title": "Generic type &lt;T&gt; parameter BEFORE the function name", "body": "<p>What is the usage of the <code>&lt;T&gt;</code> type parameter <em>before</em> the function name in Kotlin?</p>\n\n<p>Example:</p>\n\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.swap(index1: Int, index2: Int) {\n    val tmp = this[index1] \n    this[index1] = this[index2]\n    this[index2] = tmp\n}\n</code></pre>\n\n<p>Referring to the first <code>&lt;T&gt;</code> above.</p>\n\n<p>I've tried to look through the <a href=\"http://kotlinlang.org/docs/reference/generics.html\" rel=\"noreferrer\">Kotlin docs</a> regarding generics as well as the <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"noreferrer\">Java Generics</a> however they mostly just touch on the 2nd <code>&lt;T&gt;</code> not the first. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1551178208, "post_id": 54879042, "comment_id": 96536497, "body": "You can use reflection to call hided functions. In this way you can keep compile time check. But it could be not better solution then mentioned reflection check. :)"}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1551179638, "post_id": 54879042, "comment_id": 96537383, "body": "Implementing <code>Cloneable</code> does not make the <code>clone</code> method public; see the Javadoc: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1551163281, "post_id": 54879513, "comment_id": 96528688, "body": "That&#39;s what I mean by reflection being my only option. I can check at runtime that an  <code>Any?</code> is a data type with that property or if it implements <code>Cloneable</code> with <code>is</code>, but I&#39;d rather use a generic constraint of some kind to ensure that the map type I&#39;m passing to the function is only a valid cloneable values <i>at compile time</i>. If that isn&#39;t possible, I&#39;ll just incur the minute runtime cost of reflection like in your answer."}], "tags": [], "owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "is_accepted": false, "score": 1, "last_activity_date": 1551162067, "creation_date": 1551162067, "answer_id": 54879513, "question_id": 54879042, "link": "https://stackoverflow.com/questions/54879042/generic-constraint-for-data-class-objects/54879513#54879513", "title": "Generic constraint for &quot;data&quot; class objects", "body": "<p>I don't know whether this is the best way or not, but how about you to use property like below.</p>\n\n<pre><code>SomeClass::class.isData\n</code></pre>\n\n<p>Kdoc says </p>\n\n<blockquote>\n  <p><code>true</code> if this class is a data class.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1551233916, "post_id": 54884096, "comment_id": 96562807, "body": "Interesting, thanks for the reading material. what I was looking for was a deep clone which <code>.clone()</code> doesn&#39;t always have to fit the bill for anyway. Looking into that, it looks like the only good way to deep clone is via serialization? Seems kinda slow but I found some articles that had suggested performance improvements. That will likely not be the bottle neck of what I&#39;m trying to do. Now I intend to semantically constrain to <code>Serializable</code> types, which technically makes sense since I&#39;m serializing data as a message between threads. Thanks for pointing me in the right direction."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1551259713, "post_id": 54884096, "comment_id": 96571360, "body": "Using serialisation is also ugly.  If these types are under your control, how about writing your own interface with a <code>deepCopy()</code> method?  You can implement that to do the right thing, and your map can specify it."}, {"owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "edited": false, "score": 0, "creation_date": 1551283139, "post_id": 54884096, "comment_id": 96585959, "body": "I would definitely do that, but I don&#39;t have control over the objects passed in. It also needs to accept primitives and any other data pojo."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1551179148, "creation_date": 1551179148, "answer_id": 54884096, "question_id": 54879042, "link": "https://stackoverflow.com/questions/54879042/generic-constraint-for-data-class-objects/54884096#54884096", "title": "Generic constraint for &quot;data&quot; class objects", "body": "<blockquote>\n  <p>I thought implementing the Cloneable interface made your clone method public?</p>\n</blockquote>\n\n<p>No, it's simply a marker interface, which tells the protected <code>Object.clone()</code> method not to throw a <code>CloneNotSupportedException</code>.\u00a0 In practice, classes that implement <code>Cloneable</code> will usually override <code>clone()</code> and make it public, but that's not necessary.\u00a0 And of course that's no help when you don't know the exact type!</p>\n\n<p>The cloning mechanism was an early part of Java, and not very well-designed.\u00a0 (<a href=\"https://www.amazon.co.uk/Effective-Java-Joshua-Bloch/dp/0134685997\" rel=\"nofollow noreferrer\">Effective Java</a> calls it \u201ca highly atypical use of interfaces and not one to be emulated\u201d.)\u00a0 But it's still used, so we're stuck with it\u2026</p>\n\n<p>(See also <a href=\"https://stackoverflow.com/questions/4081858/about-java-cloneable\">these</a> <a href=\"https://stackoverflow.com/questions/13285029/marker-interfaces/46110569\">related</a> answers.)</p>\n"}], "owner": {"reputation": 2938, "user_id": 1191020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5ce80185030a0922f13a04584f080960?s=128&d=identicon&r=PG", "display_name": "FatalCatharsis", "link": "https://stackoverflow.com/users/1191020/fatalcatharsis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 54884096, "answer_count": 2, "score": 1, "last_activity_date": 1551179148, "creation_date": 1551159475, "question_id": 54879042, "link": "https://stackoverflow.com/questions/54879042/generic-constraint-for-data-class-objects", "title": "Generic constraint for &quot;data&quot; class objects", "body": "<p>I would like to semantically constrain a map to only accept \"data\" class object types as the value in kotlin like so:</p>\n\n<pre><code>class Test(\n    val test : Int\n)\n\ndata class Test2 (\n    val test : Int\n)\n\nfun test(map : Map&lt;String, /* compile error on Test, but accept Test2 or any other data class */&gt;) {\n}\n</code></pre>\n\n<p>I'm mainly trying to do this so that I can keep everything in the map cloneable, but when I do this:</p>\n\n<pre><code>fun &lt;T: Cloneable&gt; test(map : Map&lt;String, T&gt;) {\n     // test clone\n     map.map { it.key.uuid to it.value.clone() } .toMap() // error on .clone() Cannot access 'clone': it is protected in 'Cloneable'\n}\n</code></pre>\n\n<p>but I thought implementing the <code>Cloneable</code> interface made your clone method public? Essentially I'm looking for a compile time guarantee that all data is copyable in that method invocation, (is a primitive type, a data class that I can call <code>.copy()</code> on, or any object that has implemented <code>Cloneable</code>). Is my only option reflection and runtime assertions?</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener", "android-recyclerview"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1551155890, "post_id": 54878494, "comment_id": 96526501, "body": "I don&#39;t see any Singleton Class in this code ."}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1551156086, "post_id": 54878494, "comment_id": 96526539, "body": "You can use an <code>Observable</code> like <code>LiveData</code> for <code>ChannelName</code> and whenever you change the value inside the adapter, the <code>Observer</code> inside the activity will get notified"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1551156315, "post_id": 54878494, "comment_id": 96526595, "body": "@ADM the singleton is in a separate file, I&#39;ve edited the question to show it. If there are other missing parts for my question please let me know and I&#39;ll add them"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1551156422, "post_id": 54878494, "comment_id": 96526619, "body": "@Mosius I&#39;ve never used one before. I&#39;ll do some reading thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1551174614, "post_id": 54878828, "comment_id": 96534410, "body": "Lifa saver! Spent all day trying to figure this out. I still can&#39;t say that I fully understand what is going on here, but now I have a working code I can try to dissect. Thanks again."}], "tags": [], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "is_accepted": true, "score": 1, "last_activity_date": 1551158100, "creation_date": 1551158100, "answer_id": 54878828, "question_id": 54878494, "link": "https://stackoverflow.com/questions/54878494/cant-assign-new-value-to-a-simple-singleton-using-an-onclickelistener-for-a-rec/54878828#54878828", "title": "Can&#39;t assign new value to a simple Singleton using an onClickeListener for a RecyclerView", "body": "<p>You can rewrite the <code>setter</code> for <code>activeChanell</code> variable and call a listener that has been added before to notify your <code>Activity</code>:</p>\n\n<pre><code>object ChannelName {\n    private val listeners = ArrayList&lt;(Channel?) -&gt; Unit&gt;()\n\n    fun addChannelNameChangedListener(listener: (Channel?) -&gt; Unit) {\n        listeners.add(listener)\n    }\n\n    fun removeChannelNameChangedListener(listener: (Channel?) -&gt; Unit) {\n        listeners.remove(listener)\n    }\n\n    var activeChannel: Channel? = null\n        set(value) {\n            field = value\n            listeners.forEach { it.invoke(value) }\n        }\n}\n</code></pre>\n\n<p>And inside the <code>Activity</code> add a listener like this:</p>\n\n<pre><code>ChannelName.addChannelNameChangedListener { \n    // Do your operation\n}\n</code></pre>\n\n<p><strong>The alternative</strong> solution is to use <code>Observable</code> utils like <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\"><code>LiveData</code></a>, so you shouldn't worry about the Android life cycle any more:</p>\n\n<pre><code>object ChannelName {\n    val activeChannel: MutableLiveData&lt;ChannelName&gt; = MutableLiveData()\n}\n</code></pre>\n\n<p>To change the value inside your adapter simply call:</p>\n\n<pre><code>ChannelName.activeChannel.value = channels[position]\n</code></pre>\n\n<p>And inside your activity <code>Observe</code> to the variable by calling:</p>\n\n<pre><code>ChannelName.activeChannel.observe(this, Observer { \n    // Do your operation\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1551159764, "creation_date": 1551159764, "answer_id": 54879098, "question_id": 54878494, "link": "https://stackoverflow.com/questions/54878494/cant-assign-new-value-to-a-simple-singleton-using-an-onclickelistener-for-a-rec/54879098#54879098", "title": "Can&#39;t assign new value to a simple Singleton using an onClickeListener for a RecyclerView", "body": "<pre><code>class ChannelsAdapter(val context: Context, val channels: ArrayList&lt;Channel&gt;) :\n        RecyclerView.Adapter&lt;ChannelsAdapter.Holder&gt;() {\n\n    private var itemClickListener: OnItemClickListener? = null\n\n    fun setItemClickListener(itemClickListener: OnItemClickListener) {\n        this.itemClickListener = itemClickListener\n    }\n\n    interface OnItemClickListener {\n        fun onItemClick(position: Int)\n    }\n\n    inner class Holder(itemView: View) : RecyclerView.ViewHolder(itemView), View.OnClickListener {\n\n        val singleChannel = itemView.findViewById&lt;TextView&gt;(R.id.single_channel)\n\n        val mainLayout = LayoutInflater.from(context).inflate(R.layout.activity_main, null)\n\n        fun bindText(textVar: String, context: Context) {\n            singleChannel.text = textVar\n        }\n\n        override fun onClick(v: View?) {\n            val position = adapterPosition\n            itemClickListener?.let {\n                if (position != RecyclerView.NO_POSITION) {\n                    it.onItemClick(position)\n                }\n            }\n        }\n    }\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n        holder.bindText(channels[position].toString(), context)\n    }\n\n    override fun getItemCount(): Int {\n        return channels.count()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ChannelsAdapter.Holder {\n        val view = LayoutInflater.from(parent.context)\n                .inflate(R.layout.channel_list_layout, parent, false)\n        return Holder(view)\n    }\n}\n</code></pre>\n\n<p>This way you can setItemClickListener to the adapter in your activity and get callback from your recyclerView. \nYou should not set listener in onBind() method since it will be called more than your items' count.</p>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 54878828, "answer_count": 2, "score": 0, "last_activity_date": 1551159764, "creation_date": 1551155704, "last_edit_date": 1551156244, "question_id": 54878494, "link": "https://stackoverflow.com/questions/54878494/cant-assign-new-value-to-a-simple-singleton-using-an-onclickelistener-for-a-rec", "title": "Can&#39;t assign new value to a simple Singleton using an onClickeListener for a RecyclerView", "body": "<p>I am trying to build a Slack-like chat app following a tutorial in a course I am taking online.</p>\n\n<p>In the tutorial the instructor is using a ListView and the OnItemClickListener method, but I am trying to do it with recycler view, and I am stuck with the onClickListener in the adapter.</p>\n\n<p>I have tried to find answers in other questions but couldn't find one that solves my problem. The closest ones were <a href=\"https://stackoverflow.com/questions/47377929/how-to-add-a-onclick-listener-on-a-recyclerview-in-android-studio-with-kotlin\">this</a> and <a href=\"https://stackoverflow.com/questions/42937209/recyclerview-adapter-onclick-parameter\">this</a> </p>\n\n<p>My two problems are:<br>\n1. The app's main activity has on the top of the screen a title that states what channel is currently active. I have created a singleton that holds the \"current channel\" and the title's text is being pulled from that singleton.\nI am having a hard time changing the value of that singleton on click.</p>\n\n<ol start=\"2\">\n<li>The main activity also has all the channels in a list view in a drawer.\nI am trying to close the drawer when a channel is clicked but that isn't happening either.</li>\n</ol>\n\n<p>This is my current adapter:</p>\n\n<pre><code>class ChannelsAdapter(val context: Context, val channels: ArrayList&lt;Channel&gt;) :\n    RecyclerView.Adapter&lt;ChannelsAdapter.Holder&gt;() {\n\n\n    inner class Holder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val singleChannel = itemView.findViewById&lt;TextView&gt;(R.id.single_channel)\n\n        val mainLayout = LayoutInflater.from(context).inflate(R.layout.activity_main, null)\n\n        fun bindText(textVar: String, context: Context) {\n            singleChannel.text = textVar\n        }\n    }\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n        holder.bindText(channels[position].toString(), context)\n\n        holder.itemView.setOnClickListener {\n\n            ChannelName.activeChannel = channels[position]\n\n            holder.mainLayout.drawer_layout.closeDrawer(GravityCompat.START)\n\n        }\n\n    }\n\n    override fun getItemCount(): Int {\n        return channels.count()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ChannelsAdapter.Holder {\n\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.channel_list_layout, parent, false)\n        return Holder(view)\n\n    }\n\n}\n</code></pre>\n\n<p>This is the singleton</p>\n\n<pre><code>object ChannelName {\n\nvar activeChannel : Channel? = null\n\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "javadoc", "actions-on-google"], "answers": [{"tags": [], "owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "is_accepted": true, "score": 0, "last_activity_date": 1551191133, "creation_date": 1551191133, "answer_id": 54887714, "question_id": 54878364, "link": "https://stackoverflow.com/questions/54878364/inconsistencies-in-the-action-on-google-javadoc-and-samples/54887714#54887714", "title": "Inconsistencies in the Action on Google Javadoc and samples", "body": "<p>It looks like <a href=\"https://github.com/actions-on-google/actions-on-google-java/blob/f25eed0397f38331c38d651897f4058843ccd8bf/src/main/kotlin/com/google/actions/api/response/ResponseBuilder.kt#L35\" rel=\"nofollow noreferrer\">the examples</a> are written in Java, although it is definitely possible that the comments are outdated or based on an earlier version of the code.</p>\n\n<p>You can file an issue on the library <a href=\"https://github.com/actions-on-google/actions-on-google-java/issues/new\" rel=\"nofollow noreferrer\">through GitHub</a>.</p>\n"}], "owner": {"reputation": 17249, "user_id": 283837, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b6a1613d264fbc700b317490b59494e0?s=128&d=identicon&r=PG", "display_name": "Simeon Leyzerzon", "link": "https://stackoverflow.com/users/283837/simeon-leyzerzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54887714, "answer_count": 1, "score": 0, "last_activity_date": 1551191133, "creation_date": 1551154532, "last_edit_date": 1551186935, "question_id": 54878364, "link": "https://stackoverflow.com/questions/54878364/inconsistencies-in-the-action-on-google-javadoc-and-samples", "title": "Inconsistencies in the Action on Google Javadoc and samples", "body": "<p>I'm reading <a href=\"https://github.com/actions-on-google/actions-on-google-java\" rel=\"nofollow noreferrer\">Java Actions on Google</a> <a href=\"https://actions-on-google.github.io/actions-on-google-java/com/google/actions/api/response/ResponseBuilder.html\" rel=\"nofollow noreferrer\">JavaDocs</a> where the mentions of this pattern are shown:</p>\n\n<p>ResponseBuilder builder = getResponseBuilder()</p>\n\n<p>whereas the <a href=\"https://actions-on-google.github.io/actions-on-google-java/com/google/actions/api/DialogflowApp.html\" rel=\"nofollow noreferrer\">reference for the DialogflowApp</a> only mentions the following getter:</p>\n\n<pre><code>ResponseBuilder getResponseBuilder(ActionRequest request) \n</code></pre>\n\n<p>but not the one without a parameter.</p>\n\n<p>Also, note a missing semicolon in the former <code>getResponseBuilder()</code> call.  Are these samples given in Java or in Kotlin?  </p>\n\n<p>Are the above examples a normal behavior, inconsistencies, or simple omissions?</p>\n"}, {"tags": ["kotlin", "api-design", "spring-webflux"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3543537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6314e22bd5adc327a2ef05552c725441?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/3543537/emmanuel"}, "edited": false, "score": 0, "creation_date": 1551282195, "post_id": 54888557, "comment_id": 96585322, "body": "Using <code>doOnNext</code> does make it possible to make subsequent API calls while flux items are emitted, but my entire situation is a bit more complicated than that. I&#39;ll revise make question to better layout my situation."}], "tags": [], "owner": {"reputation": 2210, "user_id": 2148365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da38693fd3d6696d529bbfa360fc4be?s=128&d=identicon&r=PG", "display_name": "Michiel", "link": "https://stackoverflow.com/users/2148365/michiel"}, "is_accepted": true, "score": 1, "last_activity_date": 1551194466, "last_edit_date": 1551194466, "creation_date": 1551193743, "answer_id": 54888557, "question_id": 54878066, "link": "https://stackoverflow.com/questions/54878066/is-it-possible-to-make-subsequent-webclient-calls-when-emitting-flux-items/54888557#54888557", "title": "Is it possible to make subsequent WebClient calls when emitting flux items?", "body": "<p><code>doOnNext</code> is an intermediate operation. Without a terminal operation (such as <code>subscribe</code>), the stream isn't consumed.</p>\n"}], "owner": {"reputation": 33, "user_id": 3543537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6314e22bd5adc327a2ef05552c725441?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/3543537/emmanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 54888557, "answer_count": 1, "score": 0, "last_activity_date": 1551198940, "creation_date": 1551151946, "last_edit_date": 1551198940, "question_id": 54878066, "link": "https://stackoverflow.com/questions/54878066/is-it-possible-to-make-subsequent-webclient-calls-when-emitting-flux-items", "title": "Is it possible to make subsequent WebClient calls when emitting flux items?", "body": "<p>I'm working with an API that only displays an event's venue id in the response when performing an event search API call. I'm looking to see if there's a way to make a Spring WebClient request to fetch the venue information as Flux items are being emitted.</p>\n\n<pre><code>val events =  eventService.fetchEventsByLocation(lat,lon,radius)\n            .flatMapIterable { eventResponse -&gt;  EventTransformer.map(eventResponse)}\n            .doOnNext { transformedEvent -&gt; this.repository.save(transformedEvent) }\n\n\nfun fetchEventsByLocation(lat:Double?,lon:Double?,radius:Double?): Mono&lt;EventResponse&gt; {\n\n    val builder = UriComponentsBuilder.fromPath(SEARCH_EVENTS)\n            .queryParam(\"categories\", \"103\")\n            .queryParam(\"location.within\", 20.toString() + \"mi\")\n            .queryParam(\"location.latitude\", lat)\n            .queryParam(\"location.longitude\", lon)\n            .queryParam(\"token\",apiKey)\n\n    return this.webClient.get()\n            .uri(builder.toUriString())\n            .accept(MediaType.APPLICATION_JSON_UTF8)\n            .exchange()\n            .flatMap { response -&gt; response.bodyToMono(String::class.java) }\n            .map { response -&gt; transform(response) }\n}\n\n fun fetchEventVenue(id:String?): Mono&lt;Venue&gt; {\n    val builder = UriComponentsBuilder.fromPath(VENUES + id)\n            .queryParam(\"token\",apiKey)\n\n    return this.webClient.get()\n            .uri(builder.toUriString())\n            .accept(MediaType.APPLICATION_JSON_UTF8)\n            .exchange()\n            .flatMap { response -&gt; response.bodyToMono(Venue::class.java) }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "service", "push-notification", "android-8.0-oreo"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1551153742, "post_id": 54877679, "comment_id": 96526075, "body": "You can not do this . Since you are using a Foreground Service ."}, {"owner": {"reputation": 1467, "user_id": 4826038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMrmV.jpg?s=128&g=1", "display_name": "HeyAlex", "link": "https://stackoverflow.com/users/4826038/heyalex"}, "edited": false, "score": 0, "creation_date": 1551185460, "post_id": 54877679, "comment_id": 96540802, "body": "make custom notification that will be friendly for users. that&#39;s all that you can do in this situation"}, {"owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "reply_to_user": {"reputation": 1467, "user_id": 4826038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMrmV.jpg?s=128&g=1", "display_name": "HeyAlex", "link": "https://stackoverflow.com/users/4826038/heyalex"}, "edited": false, "score": 0, "creation_date": 1551194354, "post_id": 54877679, "comment_id": 96546547, "body": "@HeyAlex Do you have any example of that?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1562260316, "last_edit_date": 1562260316, "creation_date": 1562257801, "answer_id": 56891697, "question_id": 54877679, "link": "https://stackoverflow.com/questions/54877679/oreo-disable-programmatically-your-app-is-running/56891697#56891697", "title": "Oreo - disable programmatically &quot; your app&quot; is running", "body": "<p>The only options I had was to migrate to <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">Firebase Cloud Messaging</a>. Android OS force you to do that in order to improve the user experience and manage resources.  </p>\n"}], "owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 56891697, "answer_count": 1, "score": 0, "last_activity_date": 1562260316, "creation_date": 1551149103, "question_id": 54877679, "link": "https://stackoverflow.com/questions/54877679/oreo-disable-programmatically-your-app-is-running", "title": "Oreo - disable programmatically &quot; your app&quot; is running", "body": "<p>Is there anyway to hide/disable programmatically from notification bar that notification that says \"your app is running\"? It looks really uncomfortable to my users. </p>\n\n<p>I know it would appear becase i am using a sticky service, but I really need it. Hope somebody could help me</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "edited": false, "score": 0, "creation_date": 1551194511, "post_id": 54877447, "comment_id": 96546676, "body": "Thank you for sharing this. I have applied your code and tested multiple times on all devices. The outcome is interesting. The Nexus 5 is displaying the <code>AlarmActivity</code> accurately. The LG Harmony and Samsung Galaxy are not displaying the <code>AlarmActivity</code> until user turns on the screen. Any thoughts on why?"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "reply_to_user": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "edited": false, "score": 0, "creation_date": 1551221282, "post_id": 54877447, "comment_id": 96559730, "body": "First, you should throw Galaxy II because nowadays we have S10. (it almost 8 years). Second, I can check this code in almost LG flagship device such as G3~G7, so I think code hasn&#39;t any problem."}, {"owner": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "edited": false, "score": 0, "creation_date": 1551278003, "post_id": 54877447, "comment_id": 96582642, "body": "I understand what you are saying about throwing away the Galaxy II, however my app is geared especially for older devices. :/"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "reply_to_user": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "edited": false, "score": 0, "creation_date": 1551278335, "post_id": 54877447, "comment_id": 96582841, "body": "Hmm... If so, my answer will not be so helpful. In my case, this was not a problem because I targeted the latest devices. (It has been around for more than five months.)"}, {"owner": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "edited": false, "score": 0, "creation_date": 1551831162, "post_id": 54877447, "comment_id": 96781773, "body": "I upvoted your answer, but unfortunately I don&#39;t have enough reputation for it to actually reflect. Thank you for your time and help!"}], "tags": [], "owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "is_accepted": false, "score": 0, "last_activity_date": 1551147023, "creation_date": 1551147023, "answer_id": 54877447, "question_id": 54877390, "link": "https://stackoverflow.com/questions/54877390/alarm-activity-does-not-launch-when-screen-is-off/54877447#54877447", "title": "Alarm Activity does not launch when screen is off", "body": "<p>I used this code in my medicine reminder project.</p>\n\n<p><strong>Permission</strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;uses-permission android:name=\"android.permission.DISABLE_KEYGUARD\" /&gt; \n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>@Suppress(\"DEPRECATION\")\nfun Activity.setTurnScreenOnLock() {\n    val keyguardManager = getSystemService(Context.KEYGUARD_SERVICE) as? KeyguardManager?\n    when {\n        android.os.Build.VERSION.SDK_INT &gt;= 27 -&gt; {\n            setShowWhenLocked(true)\n            setTurnScreenOn(true)\n            keyguardManager?.requestDismissKeyguard(this, null)\n        }\n        android.os.Build.VERSION.SDK_INT == 26 -&gt; {\n            window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED)\n            window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\n            keyguardManager?.requestDismissKeyguard(this, null)\n        }\n        else -&gt; {\n            window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED)\n            window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\n            window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD)\n        }\n    }\n\n    window.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON)\n}\n</code></pre>\n\n<p><strong>Usages</strong> (It's Java, acutally.)</p>\n\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Utils.setTurnScreenOnLock(this);\n        setContentView(R.layout.some_activity);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "is_accepted": true, "score": 0, "last_activity_date": 1551831103, "last_edit_date": 1551831103, "creation_date": 1551830770, "answer_id": 55013559, "question_id": 54877390, "link": "https://stackoverflow.com/questions/54877390/alarm-activity-does-not-launch-when-screen-is-off/55013559#55013559", "title": "Alarm Activity does not launch when screen is off", "body": "<p>After investigating Google's own codebase for their previous alarm - <a href=\"https://android.googlesource.com/platform/packages/apps/AlarmClock\" rel=\"nofollow noreferrer\">AlarmClock</a> - I figured out how to answer this issue using WakeLock.<br>\nThe <code>AlarmBroadcastReceiver</code> acquires a partial wakelock in <code>onReceive()</code>. This is then released in the <code>onDestroy()</code> of my <code>AlarmActivity</code>.<br>\nA new class, <code>AlertWakeLock</code>, handles all the wakelock functionality.<br>\nThere were no changes to the manifest, see original question for permissions.<br>\nThis code has no successfully triggered the alarm on multiple devices with multiple tests with downtimes of 12+ hours.</p>\n\n<p>To give credit I still found WindSekirun code helpful and suggest considering it if you find you have a similar problem.</p>\n\n<p>See code below:</p>\n\n<h2>AlarmBroadcastReceiver</h2>\n\n<pre><code>class AlarmBroadcastReceiver : BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent?) \n\n        AlertWakeLock.acquireWakeLock(context)\n\n        val newIntent = Intent(context, AlarmActivity::class.java)\n        newIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        ContextCompat.startActivity(context, newIntent, null)\n    }\n\n}\n</code></pre>\n\n<h2>AlarmActivity</h2>\n\n<pre><code>class AlarmActivity : AppCompatActivity() {\n\n    override fun onDestroy() {\n        super.onDestroy()\n        AlertWakeLock.releaseWakeLock()\n    }\n\n}\n</code></pre>\n\n<h2>AlertWakeLock</h2>\n\n<pre><code>class AlertWakeLock {\n\n    companion object {\n\n        private var wakeLock: PowerManager.WakeLock? = null\n\n        fun acquireWakeLock(context: Context) {\n            Log.d(TAG,\"Acquiring cpu wake lock\")\n            if (wakeLock != null) {\n                return\n            }\n\n            val pm = context.getSystemService(Context.POWER_SERVICE) as PowerManager\n\n            wakeLock = pm.newWakeLock(\n                PowerManager.PARTIAL_WAKE_LOCK or\n                    PowerManager.ACQUIRE_CAUSES_WAKEUP or\n                    PowerManager.ON_AFTER_RELEASE, \"ToddlerTimer:WakeLock\"\n            )\n            wakeLock!!.acquire()\n        }\n\n        fun releaseWakeLock() {\n            Log.d(TAG,\"Releasing cpu wake lock\")\n            if (wakeLock != null) {\n                wakeLock!!.release()\n                wakeLock = null\n            }\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3064510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d1d8599ec744334b69a67b90e2a70d?s=128&d=identicon&r=PG&f=1", "display_name": "MrSagro", "link": "https://stackoverflow.com/users/3064510/mrsagro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 55013559, "answer_count": 2, "score": 0, "last_activity_date": 1551831103, "creation_date": 1551146414, "last_edit_date": 1551156217, "question_id": 54877390, "link": "https://stackoverflow.com/questions/54877390/alarm-activity-does-not-launch-when-screen-is-off", "title": "Alarm Activity does not launch when screen is off", "body": "<p>I am working on an alarm app with the <code>Intent</code> of launching and displaying an <code>Activity</code> when the alarm fires, even if the device screen is off. The app is targeting SDK 16+.<br>\nI can confirm through custom logging that the <code>AlarmBroadcastReceiver</code> is firing on time, and this in turn launches an <code>AlarmActivity</code>. Through custom logging the <code>AlarmActivity</code> is not luanching at the right time. Instead it either launches late or when the screen is turned on again by the user. </p>\n\n<p>I am at a loss as to why this is happening. I have tried multiple solutions from other similar problems posted on SO.</p>\n\n<p>Do you have any suggestions as to my issue? Thank you for any help!<br>\nSee code below for <code>AlarmBroadcastReceiver</code>, <code>AlarmActivity</code>, and <code>AndroidManifest</code>.</p>\n\n<p>I am testing on the following devices:<br>\nSamsung Galaxy II, Android 4.1.2, API 16 - (This is the worst at never triggering the AlarmActivity or waiting until the screen is turned on.)<br>\nLG Nexus 5, Android 6.0.1, API 23<br>\nLG Harmony, Android 7.0, API 24  </p>\n\n<h2>AndroidManifest</h2>\n\n<pre><code>...\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.DISABLE_KEYGUARD\" /&gt;\n\n    &lt;application\n            android:allowBackup=\"true\"\n            android:icon=\"@mipmap/ic_launcher\"\n            android:label=\"@string/app_name\"\n            android:roundIcon=\"@mipmap/ic_launcher_round\"\n            android:supportsRtl=\"true\"\n            android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".view.AlarmActivity\"&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".view.TimerActivity\"&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".view.MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt; \n\n        &lt;!-- Register the BroadcastReceiver --&gt;\n        &lt;receiver android:name=\".AlarmBroadcastReceiver\"/&gt;\n        &lt;receiver android:name=\".TimerBroadcastReceiver\"/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<h2>AlarmBroadcastReceiver</h2>\n\n<pre><code>class AlarmBroadcastReceiver : BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent?) {\n\n        // ***** CUSTOM LOGGING HERE *****\n        // This code logs at the correct alarm time\n\n        val newIntent = Intent(context, AlarmActivity::class.java)\n        newIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        ContextCompat.startActivity(context, newIntent, null)\n    }\n\n}\n</code></pre>\n\n<h2>AlarmActivity</h2>\n\n<pre><code>class AlarmActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(com.devbygc.toddlertimer.R.layout.activity_alarm)\n\n        // ***** CUSTOM LOGGING HERE *****\n        // This code does NOT log until either\n        // - user turns on the devices screen\n        // - some lapse in time making the alarm \"late\" by 1 min to 1+ \n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n            setTurnScreenOn(true)\n            setShowWhenLocked(true)\n            val k = this.getSystemService(Context.KEYGUARD_SERVICE) as KeyguardManager\n            k.requestDismissKeyguard(this, null)\n        } else {\n            @Suppress(\"DEPRECATION\")\n            window.addFlags(\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY or\n                    WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED or\n                    WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD or\n                    WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON or\n                    WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON or\n                    WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON\n            )\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "material-design"], "comments": [{"owner": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "edited": false, "score": 0, "creation_date": 1551137703, "post_id": 54876310, "comment_id": 96522691, "body": "Have you tried using FF in the alpha hex numbers? that should remove the transparency \ud83e\udd14"}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "reply_to_user": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "edited": false, "score": 0, "creation_date": 1551137763, "post_id": 54876310, "comment_id": 96522709, "body": "Yep, I tried with 0xFFB00020  value, but Android Studio in Kotlin throws me error"}, {"owner": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "edited": false, "score": 0, "creation_date": 1551137804, "post_id": 54876310, "comment_id": 96522720, "body": "Interesting, what does the error say exactly?"}, {"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "reply_to_user": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "edited": false, "score": 0, "creation_date": 1551137946, "post_id": 54876310, "comment_id": 96522756, "body": "Throw this: <code>None of the following functions can be called with the arguments supplied. setCardBackgroundColor(ColorStateList?) defined in com.google.android.material.card.MaterialCardView setCardBackgroundColor(Int) defined in com.google.android.material.card.MaterialCardView</code>"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "edited": false, "score": 1, "creation_date": 1551139255, "post_id": 54876554, "comment_id": 96523145, "body": "Thanks, work this <code>node.setCardBackgroundColor(0xFF7903DAC6.toInt())</code> for me."}, {"owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "reply_to_user": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "edited": false, "score": 2, "creation_date": 1551139292, "post_id": 54876554, "comment_id": 96523149, "body": "No problem, glad to help you even you have found your problem."}], "tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551139160, "creation_date": 1551139160, "answer_id": 54876554, "question_id": 54876310, "link": "https://stackoverflow.com/questions/54876310/set-background-color-to-materialcardview-in-kotlin/54876554#54876554", "title": "Set Background Color to MaterialCardView in kotlin?", "body": "<p>Try something like this because it need to parse the color.\nThe color which I added it is <code>RED</code></p>\n\n<pre><code>node.setCardBackgroundColor(Color.parseColor(\"#ffff0000\"));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "edited": false, "score": 0, "creation_date": 1551139770, "post_id": 54876592, "comment_id": 96523282, "body": "thanks for the help!, I didn&#39;t try with your way, I&#39;ll try it. Thanks!"}], "tags": [], "owner": {"reputation": 950, "user_id": 3257814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1082874780/picture?type=large", "display_name": "amilcar-sr", "link": "https://stackoverflow.com/users/3257814/amilcar-sr"}, "is_accepted": false, "score": 2, "last_activity_date": 1551158472, "last_edit_date": 1551158472, "creation_date": 1551139387, "answer_id": 54876592, "question_id": 54876310, "link": "https://stackoverflow.com/questions/54876310/set-background-color-to-materialcardview-in-kotlin/54876592#54876592", "title": "Set Background Color to MaterialCardView in kotlin?", "body": "<p>I just tested creating a resource for the color and passing it as param like this, and it didn't apply any transparency:</p>\n\n<pre><code>val cardColor = ContextCompat.getColor(context!!, R.color.card_background)\nnode.setCardBackgroundColor(cardColor)\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551158472, "creation_date": 1551137410, "last_edit_date": 1551138818, "question_id": 54876310, "link": "https://stackoverflow.com/questions/54876310/set-background-color-to-materialcardview-in-kotlin", "title": "Set Background Color to MaterialCardView in kotlin?", "body": "<p>I try to set background color to my MaterialCardView, but I dont have the result that I expected, I tryied with the following ways: </p>\n\n<pre><code>card.setBackground = R.color.red_color\n</code></pre>\n\n<p>I thought because the alpha hex numbers my MaterialCardView shows without background:</p>\n\n<pre><code>card.setCardBackgroundColor(0xB00020)\n</code></pre>\n\n<p>The only way that I can display my cards with color is with this, but the MaterialCardView shows with transparency, if I put for example 0xFFB00020, Android Studio throws me error, because the function expects an Integer, but I can't understand, why my ide throws me error?, if is supposed that I pass hexadecimal number as param: </p>\n\n<pre><code>card.setcardBackgroundColor(0x79B00020)\n</code></pre>\n\n<p>This is my code: </p>\n\n<pre><code> override fun onBindViewHolder(holder: TableHolder, position: Int) {\n        if (position &lt; tableList.size) {\n            val table = tableList[position]\n            val node = holder.table\n            //Log.e(\"NODE\", node.toString())\n            holder.guestNumber.text = table.people.toString()\n            holder.tableName.text = table.description\n            if (node is MaterialCardView) {\n                when (table.status) {\n                    \"A\" -&gt; {\n                        holder.descriptionTable.text = \"ABIERTA\"\n                        node.setCardBackgroundColor(0xFF7903DAC6)\n                    }\n                    \"D\" -&gt; {\n                        holder.descriptionTable.text = \"DISPONIBLE\"\n                        node.setCardBackgroundColor(0x79CA4B02)\n                    }\n                    \"C\" -&gt; {\n                        holder.descriptionTable.text = \"CERRADA\"\n                        node.setCardBackgroundColor(0x79FF0266)\n                    }\n                    else -&gt; {\n                        holder.descriptionTable.text = node.context.getString(R.string.error_label)\n                        node.setCardBackgroundColor(0x79B00020)\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>The first case throws me error for the 0xFF...</p>\n\n<p><strong>EDIT</strong></p>\n\n<p><strong><em>I Found the solution!</em></strong>\nFor set background color to MaterialCardView in Kotlin is necessary parse the hexadecimal value to Int, for example: <code>0xFFCA4B02.toInt()</code>\nBut someone can explain me why this is necessary in kotlin?</p>\n\n<p>I hope someone can help me, regards.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 5132867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf1e456acb107a260e2bfa236d6b7ee?s=128&d=identicon&r=PG", "display_name": "Grzegorz Osak", "link": "https://stackoverflow.com/users/5132867/grzegorz-osak"}, "is_accepted": false, "score": 4, "last_activity_date": 1551139742, "creation_date": 1551139742, "answer_id": 54876640, "question_id": 54876167, "link": "https://stackoverflow.com/questions/54876167/handling-empty-lists-in-idiomatic-function-chaining/54876640#54876640", "title": "Handling empty lists in idiomatic function chaining", "body": "<ul>\n<li><p>ifEmpty is available since Kotlin 1.3 (kotlin.collections). </p></li>\n<li><p>ifNotEmpty</p></li>\n</ul>\n\n<p>Looks like useless function, most often we iterate over the lists and if that lists are empty our code won't execute. So, e.g. </p>\n\n<pre><code>list.ifNotEmpty { do sth with whole list. sth like iteration? mapping? }\n</code></pre>\n\n<p>has same effect like</p>\n\n<pre><code>list.forEach { do sth with only one element and nothing if list is empty }\nlist.map { map every element to other object } \n</code></pre>\n\n<p>And if it is not enough then You can just write sth like this:</p>\n\n<pre><code>list.takeIf { it.isNotEmpty() }?.apply|let // unfortunately it looks ugly\n</code></pre>\n\n<ul>\n<li><p>mapIfNotEmpty\nSame story, for e.g.</p>\n\n<pre><code> listOf&lt;String&gt;(\"ab\", \"cd\").mapIfNotEmpty { it.reversed() } \n listOf&lt;String&gt;(\"ab\", \"cd\").map { it.reversed() }\n</code></pre></li>\n</ul>\n\n<p>has exactly same result.</p>\n"}], "owner": {"reputation": 87, "user_id": 2254149, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3b706f6aa68a7d3dde17884d92ea2523?s=128&d=identicon&r=PG", "display_name": "1174", "link": "https://stackoverflow.com/users/2254149/1174"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551139742, "creation_date": 1551136646, "question_id": 54876167, "link": "https://stackoverflow.com/questions/54876167/handling-empty-lists-in-idiomatic-function-chaining", "title": "Handling empty lists in idiomatic function chaining", "body": "<p>I am roughly 2 weeks fresh into Kotlin, I had been heavily interested in functional programming and I was not sure on this part if I miss a fundamental idiom in FP as I wanted to handle boilerplate like retrieving results from a repository, if the result is an empty list then I want a log statement and want other chained calls to stop. In general, why are there (at least not obvious to me) not functions that deal with empty lists? Like below? Asking the question, I probably can leave out the \"this\" null check.</p>\n\n<pre><code>fun &lt;E : Any, T : List&lt;E&gt;&gt; T?.ifEmpty(func: () -&gt; Unit): List&lt;E&gt; {\n    if (this == null || this.isEmpty()) {\n        func()\n        return emptyList()\n    }\n    return this\n}\n\nfun &lt;E : Any, T : List&lt;E&gt;&gt; T?.ifNotEmpty(func: (List&lt;E&gt;) -&gt; Unit): List&lt;E&gt; {\n    if (this != null &amp;&amp; !this.isEmpty()) {\n        func(this)\n        return this\n    }\n    return emptyList()\n}\n\nfun &lt;E : Any, F: Any, T : List&lt;E&gt;&gt; T?.mapIfNotEmpty(func: (List&lt;E&gt;) -&gt; (List&lt;F&gt;)): List&lt;F&gt; {\n    if (this != null &amp;&amp; !this.isEmpty()) {\n        return func(this)\n    }\n    return emptyList()\n}\n</code></pre>\n"}, {"tags": ["java", "maven", "intellij-idea", "kotlin", "junit5"], "answers": [{"tags": [], "owner": {"reputation": 3651, "user_id": 5572007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9dbf6f0e74d31d3cd3300365e899733?s=128&d=identicon&r=PG&f=1", "display_name": "amseager", "link": "https://stackoverflow.com/users/5572007/amseager"}, "is_accepted": false, "score": 10, "last_activity_date": 1551134530, "creation_date": 1551134530, "answer_id": 54875805, "question_id": 54875767, "link": "https://stackoverflow.com/questions/54875767/intellij-runs-kotlin-tests-annotated-with-ignore/54875805#54875805", "title": "IntelliJ runs Kotlin tests annotated with @Ignore", "body": "<p>In JUnit 5 you need to use <a href=\"https://junit.org/junit5/docs/5.0.0-M2/api/org/junit/jupiter/api/Disabled.html\" rel=\"noreferrer\">@Disabled</a> annotation for that purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 328, "user_id": 1399534, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71bfcb67bbbe3875b13cc73611518688?s=128&d=identicon&r=PG", "display_name": "Adenverd", "link": "https://stackoverflow.com/users/1399534/adenverd"}, "is_accepted": false, "score": 3, "last_activity_date": 1551134544, "creation_date": 1551134544, "answer_id": 54875811, "question_id": 54875767, "link": "https://stackoverflow.com/questions/54875767/intellij-runs-kotlin-tests-annotated-with-ignore/54875811#54875811", "title": "IntelliJ runs Kotlin tests annotated with @Ignore", "body": "<p>Figured out the answer: JUnit5 replaces JUnit4's <code>@Ignore</code> with <code>@Disabled</code>.</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions.assertEquals\nimport org.junit.jupiter.api.Disabled\nimport org.junit.jupiter.api.Test\n\nclass ExampleTests {\n\n    @Test fun runMe() {\n        assertEquals(1, 1)\n    }\n\n    @Test @Disabled fun dontRunMe() {\n        assertEquals(1, 0)\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xhncy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhncy.png\" alt=\"IDEA test runner\"></a></p>\n"}], "owner": {"reputation": 328, "user_id": 1399534, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71bfcb67bbbe3875b13cc73611518688?s=128&d=identicon&r=PG", "display_name": "Adenverd", "link": "https://stackoverflow.com/users/1399534/adenverd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1987, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1551134544, "creation_date": 1551134313, "question_id": 54875767, "link": "https://stackoverflow.com/questions/54875767/intellij-runs-kotlin-tests-annotated-with-ignore", "title": "IntelliJ runs Kotlin tests annotated with @Ignore", "body": "<p>I have a Kotlin project that uses JUnit 5.2.0. When I use IntelliJ to run tests, it runs all tests, even those annotated with <code>@org.junit.Ignore</code>.</p>\n\n<pre><code>package my.package\n\nimport org.junit.Ignore\nimport org.junit.jupiter.api.Assertions.assertEquals\nimport org.junit.jupiter.api.Test\n\nclass ExampleTests {\n\n    @Test fun runMe() {\n        assertEquals(1, 1)\n    }\n\n    @Test @Ignore fun dontRunMe() {\n        assertEquals(1, 0)\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4OM3q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4OM3q.png\" alt=\"IntelliJ Test Runner\"></a></p>\n\n<p>Can anyone explain to me why this might be happening?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "androidx"], "comments": [{"owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "edited": false, "score": 0, "creation_date": 1551135608, "post_id": 54875667, "comment_id": 96522048, "body": "Have you tried to add <code>kapt &quot;com.android.databinding:compiler:$gradleVersion&quot;</code>?"}, {"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "reply_to_user": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "edited": false, "score": 0, "creation_date": 1551168700, "post_id": 54875667, "comment_id": 96531085, "body": "@AntonHolovin I tried now, but it didn&#39;t help. I assume I have to add it to the build.gradle of the app project? And the version should be the same as the one of &#39;com.android.tools.build:gradle:&#39; right? That didn&#39;t work for me. But maybe I did something wrong. I pushed it to GitHub you can find it under the link <a href=\"https://github.com/findusl/OneNightComps/blob/feature/register/Android/app/build.gradle\" rel=\"nofollow noreferrer\">github.com/findusl/OneNightComps/blob/feature/register/Andro&zwnj;&#8203;id/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1551203574, "post_id": 54891148, "comment_id": 96551832, "body": "Sadly this doesn&#39;t solve the problem. The error message is now on a different line because the TextInputEditText is on a different line but the rest is the same."}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1551202467, "creation_date": 1551202467, "answer_id": 54891148, "question_id": 54875667, "link": "https://stackoverflow.com/questions/54875667/android-binding-adapter-is-not-found/54891148#54891148", "title": "Android Binding Adapter is not found", "body": "<p>Try using</p>\n\n<pre><code>fun bindErrorText(textInputEditText: TextInputEditText, errorText: String) {\n textInputEditText.error = errorText }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1551214549, "post_id": 54892465, "comment_id": 96557023, "body": "You madman. Thank you so much for the idea that the string literal is the problem. I don&#39;t understand why I can&#39;t pass a string literal, but I don&#39;t care since string literals aren&#39;t good anyway. I just had it there because I thought it would be easier to test. When I referenced a variable of the viewmodel it finally compiled and worked. I&#39;ll mark your answer as correct, you might want to update it for others, your exact solution gives an error <code>data binding error ****msg:Syntax error: no viable alternative at input &#39;&lt;EOF&gt;&#39;</code>"}], "tags": [], "owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "is_accepted": true, "score": 21, "last_activity_date": 1551208416, "last_edit_date": 1551208416, "creation_date": 1551208088, "answer_id": 54892465, "question_id": 54875667, "link": "https://stackoverflow.com/questions/54875667/android-binding-adapter-is-not-found/54892465#54892465", "title": "Android Binding Adapter is not found", "body": "<p>The problem is connected with the way you pass String value to <code>app:errorText</code>. </p>\n\n<p>Use @{``} to pass this value. </p>\n\n<p>Fixed part of fragment_login.xml: </p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:hint=\"@string/username\"\n    app:hintEnabled=\"true\"\n    app:errorText=\"@{`Please provide a username.`}\"\n    app:errorEnabled=\"@{!viewModel.usernameValid}\"&gt;\n</code></pre>\n\n<p>Having <code>apply plugin: 'kotlin-kapt'</code> in <code>app/build.gradle</code> is mandatory. </p>\n"}], "owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3541, "favorite_count": 0, "accepted_answer_id": 54892465, "answer_count": 2, "score": 4, "last_activity_date": 1551208416, "creation_date": 1551133655, "question_id": 54875667, "link": "https://stackoverflow.com/questions/54875667/android-binding-adapter-is-not-found", "title": "Android Binding Adapter is not found", "body": "<p>Please someone help me! I am going crazy, this should work. I have the following error message when I try to build my Android project:</p>\n\n<pre><code>Android resource linking failed\n/Users/slehrbaum/StudioProjects/OneNightComps/Android/app/build/intermediates/incremental/mergeDebugResources/stripped.dir/layout/fragment_login.xml:17: error: attribute errorText (aka lehrbaum.de.onenightcomps:errorText) not found.\nerror: failed linking file resources.\n</code></pre>\n\n<p>the error message does mention the errorText attribute. I use the errorText attribute in the xml this way (<a href=\"https://github.com/findusl/OneNightComps/blob/feature/register/Android/app/src/main/res/layout/fragment_login.xml\" rel=\"nofollow noreferrer\">full xml here</a>):</p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=\"@+id/usernameField\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"@string/username\"\n        app:hintEnabled=\"true\"\n        app:errorEnabled=\"true\"\n        app:errorText=\"Hi\"\n        &gt;\n        &lt;!--app:errorText=\"Please provide a username.\"--&gt;\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:autofillHints=\"username\"\n            android:inputType=\"text\"\n            android:text=\"@={viewModel.username}\"\n            /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p>This is the way I have defined errorText in my Kotlin file (<a href=\"https://github.com/findusl/OneNightComps/blob/feature/register/Android/app/src/main/java/lehrbaum/de/onenightcomps/view/ViewDataBindingExtensions.kt\" rel=\"nofollow noreferrer\">full file here</a>):</p>\n\n<pre><code>object ViewDataBindingExtensions {\n    @JvmStatic\n    @BindingAdapter(\"errorText\")\n    fun bindErrorText(textInputLayout: TextInputLayout, errorText: String) {\n        textInputLayout.error = errorText\n    }\n}\n</code></pre>\n\n<p>I just don't understand why this happens. Is there some sort of import that I can put in the layout file saying where the BindingAdapter is? Do I have some wrong with my Gradle files? I compared it to the GitHub project in  <a href=\"https://stackoverflow.com/questions/51418542/android-binding-adapter-not-working\">this question</a> which apparently got solved and I do not see the difference to my project. According to the answer I should add the Kotlin-kapt plugin to my Gradle build, which I did. I also looked through the rest of the project and compared. To no avail. You can find my whole <a href=\"https://github.com/findusl/OneNightComps/blob/feature/register/Android/app/build.gradle\" rel=\"nofollow noreferrer\">build.gradle file here</a> as well as the rest of the project.</p>\n\n<p>Please help me!</p>\n"}, {"tags": ["generics", "kotlin", "extension-function"], "comments": [{"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 1, "creation_date": 1551134921, "post_id": 54875614, "comment_id": 96521822, "body": "The short answer is probably no... however, one approach I could think of is: if your generated code lives in a separate library module, you could put your dummy method in a separate module as well (let&#39;s call it <code>DummyModule</code> and <code>GenModule</code>). Set up <code>DummyModule</code> as a <code>compileOnly</code> dependency, and <code>GenModule</code> as a <code>runtimeOnly</code> dependency. That way, only the dummy method is used at compile time, but at runtime the real generated method would be used."}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 1, "creation_date": 1551135175, "post_id": 54875614, "comment_id": 96521927, "body": "The downside to that being, if a builder failed to be generated, you&#39;d just crash at runtime rather than failing to compile."}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 1, "creation_date": 1551179467, "post_id": 54875614, "comment_id": 96537279, "body": "You could do your code generation as a plugin to the kotlin compiler. <a href=\"https://speakerdeck.com/kevinmost/writing-your-first-kotlin-compiler-plugin\" rel=\"nofollow noreferrer\">speakerdeck.com/kevinmost/&hellip;</a> Or you could generate the code before you compile the code that uses the generated code. If you generate code based on other code, then you&#39;ll need to split your code into before-generation and after-generation code."}, {"owner": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "reply_to_user": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 1, "creation_date": 1551193784, "post_id": 54875614, "comment_id": 96546200, "body": "@kcoppock I&#39;ll have a look at that when I get home, looks promising. Thanks :) I&#39;m aware of the downside in your second comment, but I think I would still prefer it. Especially since I could give some useful error messages in my dummy method, like where you probably forgot to add an annotation."}, {"owner": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "reply_to_user": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1551194121, "post_id": 54875614, "comment_id": 96546388, "body": "@ErwinBolwidt Unfortunately I don&#39;t know anything about compiler plugins, and I&#39;m not sure it&#39;s currently worth it, to invest the time, to learn about it. This is only a tiny side project I do for fun. I do generate the code before I compile it. It is an annotation processor, so that&#39;s a given. I just wanted the nicety of getting some code completion, and no squiggly lines before I build it. Anyways thanks :)"}], "owner": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551133374, "creation_date": 1551133374, "question_id": 54875614, "link": "https://stackoverflow.com/questions/54875614/disambiguating-kotlin-generic-functions", "title": "Disambiguating kotlin generic functions", "body": "<p>Background:</p>\n\n<p>I'm working on a small code generator. I would like to avoid the usual problem of no code hints before the code is actually generated.\nTo solve this I created a general generic dummy method of the sort I intend to generate.</p>\n\n<pre><code>inline fun &lt;R: Any&gt; Any.into(block: MorphBuilder&lt;R&gt;.() -&gt; Unit): MorphBuilder&lt;R&gt; {\n    throw IllegalStateException(\"Didn't generate extension method\")\n}\n</code></pre>\n\n<p>This would provide the hints in the ide. After the actual specific methods would be generated</p>\n\n<pre><code>class FooMorphBuilder(\n    var a: String?,\n    var b: Double?,\n    var c: Int?,\n    var d: Float?,\n    var e: List&lt;String&gt;?\n) : MorphBuilder&lt;Foo&gt; {\n    override fun morph(): Foo = Foo(a!!, b!!, c!!, d!!, e!!)\n}\n\ninline fun &lt;Foo&gt; Boo.into(block: FooMorphBuilder.() -&gt; Unit): FooMorphBuilder =\n        FooMorphBuilder(this.a, this.b, this.c, this.d, this.e)\n</code></pre>\n\n<p>they should be used.</p>\n\n<p>Problem:</p>\n\n<p>Unfortunately this causes the following error.</p>\n\n<pre><code> Overload resolution ambiguity: \npublic inline fun &lt;Foo&gt; Boo.into(block: FooMorphBuilder.() -&gt; Unit): FooMorphBuilder defined in com.example.morph\npublic inline fun &lt;R : Any&gt; Any.into(block: MorphBuilder&lt;com.example.morph.Foo&gt;.() -&gt; Unit): MorphBuilder&lt;com.example.morph.Foo&gt; defined in com.example.morph\n\n</code></pre>\n\n<p>I was hoping the compiler would choose the most specific implementation, but this doesn't seem to be the case.</p>\n\n<p>Is there a way to disambiguate between those signatures?</p>\n"}, {"tags": ["java", "kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 480, "user_id": 9514208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158721469590341/picture?type=large", "display_name": "Nicholas Rogers", "link": "https://stackoverflow.com/users/9514208/nicholas-rogers"}, "edited": false, "score": 0, "creation_date": 1551280194, "post_id": 54902237, "comment_id": 96584014, "body": "This worked! Thanks Mike. What does this compiler option actually do? For reference, I had to add it to all of the referencing build.gradle files."}], "tags": [], "owner": {"reputation": 1253, "user_id": 2248578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5684497366deaa0b727ca8a662bf59?s=128&d=identicon&r=PG", "display_name": "Mike Hearn", "link": "https://stackoverflow.com/users/2248578/mike-hearn"}, "is_accepted": true, "score": 1, "last_activity_date": 1551260257, "creation_date": 1551260257, "answer_id": 54902237, "question_id": 54875562, "link": "https://stackoverflow.com/questions/54875562/why-is-my-subflow-throwing-an-error-java-lang-verifyerror-bad-local-variable/54902237#54902237", "title": "Why is my Subflow throwing an error? (Java.lang.VerifyError: Bad local variable type)", "body": "<p>Can you try putting</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xnormalize-constructor-calls=enable\"]\n    }\n}\n</code></pre>\n\n<p>in your workflows JAR and see if it helps?</p>\n"}], "owner": {"reputation": 480, "user_id": 9514208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158721469590341/picture?type=large", "display_name": "Nicholas Rogers", "link": "https://stackoverflow.com/users/9514208/nicholas-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 54902237, "answer_count": 1, "score": 0, "last_activity_date": 1551260257, "creation_date": 1551133078, "last_edit_date": 1551231729, "question_id": 54875562, "link": "https://stackoverflow.com/questions/54875562/why-is-my-subflow-throwing-an-error-java-lang-verifyerror-bad-local-variable", "title": "Why is my Subflow throwing an error? (Java.lang.VerifyError: Bad local variable type)", "body": "<p>I've created an Oracle service to return a random dice roll and sign a transaction including that data. The Oracle keeps track of the unique identifier of a specific state and will only create a random dice roll once for any given UUID. </p>\n\n<p>When I trigger the initial flow, which should send and receive data with the Oracle - I get this error. </p>\n\n<p>Here is the link to the repo: <a href=\"https://github.com/rogersanick/SettlersOfCordan\" rel=\"nofollow noreferrer\">https://github.com/rogersanick/SettlersOfCordan</a></p>\n\n<p>Steps to reproduce</p>\n\n<ol>\n<li><p>Open the project (do not import)</p></li>\n<li><p>Run the test - oracleReturnsARandomDiceRoll in the oracleClient/src/test directory \n(make sure you include -ea -javaagent:PATH/TO/QUASAR.jar in the runtime config)</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java.lang.VerifyError: Bad local variable type\r\nException Details:\r\n  Location:\r\n    com/oracleClient/flows/RollDiceFlow.call()Lnet/corda/core/transactions/SignedTransaction; @937: aload\r\n  Reason:\r\n    Type top (current frame, locals[19]) is not assignable to reference type\r\n  Current Frame:\r\n    bci: @937\r\n    flags: { }\r\n    locals: { 'com/oracleClient/flows/RollDiceFlow', 'net/corda/core/flows/FlowSession', 'com/oracleService/state/DiceRollState', 'net/corda/core/identity/Party', 'net/corda/core/transactions/TransactionBuilder', 'net/corda/core/transactions/SignedTransaction', 'net/corda/core/transactions/FilteredTransaction', 'net/corda/core/crypto/TransactionSignature', 'net/corda/core/transactions/SignedTransaction', 'java/lang/Iterable', 'java/lang/Iterable', 'java/util/Collection', 'java/util/Iterator', 'java/lang/Object', 'net/corda/core/identity/Party', integer, top, top, 'com/oracleClient/flows/RollDiceFlow', top, top, 'net/corda/core/transactions/SignedTransaction', 'java/util/Collection', top, 'co/paralleluniverse/fibers/Stack', integer, null }\r\n    stack: { }\r\n  Bytecode:\r\n    0x0000000: 013a 1ab8 0132 593a 18c6 003e 1918 0436\r\n    0x0000010: 19b6 0136 aa00 0000 0000 0028 0000 0001\r\n    0x0000020: 0000 0006 0000 0056 0000 00a7 0000 00f4\r\n    0x0000030: 0000 022b 0000 03bc 0000 058e 1918 b601\r\n    0x0000040: 399a 0006 013a 1803 3619 2a2a b400 1219\r\n    0x0000050: 18c6 002b 1918 0405 b601 3d19 1804 b801\r\n    0x0000060: 4119 1803 b801 4103 3619 1918 03b6 0145\r\n    0x0000070: c000 0219 1804 b601 45c0 0053 b600 164c\r\n    0x0000080: 2b05 bd00 1859 032a b400 1c53 5904 2ab4\r\n    0x0000090: 0020 b600 2653 b800 2c19 18c6 003c 1918\r\n    0x00000a0: 0506 b601 3d19 1804 b801 4119 1803 b801\r\n    0x00000b0: 412b 1918 05b8 0141 0336 1919 1805 b601\r\n    0x00000c0: 45c0 002e 4c19 1803 b601 45c0 002e 1918\r\n    0x00000d0: 04b6 0145 c000 c7b6 0032 2b4e 2d12 3419\r\n    0x00000e0: 18c6 004d 1918 0607 b601 3d19 1804 b801\r\n    0x00000f0: 4119 1803 b801 412b 1918 05b8 0141 2d19\r\n    0x0000100: 1806 b801 4103 3619 1918 05b6 0145 c000\r\n    0x0000110: 2e4c 1918 06b6 0145 c000 2e4e 1918 03b6\r\n    0x0000120: 0145 c000 2e19 1804 b601 45c0 0147 b600\r\n    0x0000130: 384e 002d b600 3dc0 0034 3a04 0336 0519\r\n    0x0000140: 0400 4d2a b600 41b9 0047 0100 b900 4d01\r\n    0x0000150: 00b8 0051 c000 534e bb00 5559 2db7 0059\r\n    0x0000160: 3a04 1904 2c03 0301 0105 bd00 5359 032a\r\n    0x0000170: b600 5d53 5904 2ab4 0012 53b8 002c 100f\r\n    0x0000180: 01b8 0061 c000 6312 6501 0701 b800 6957\r\n    0x0000190: 1904 bb00 6b59 b700 6ec0 0070 05bd 0072\r\n    0x00001a0: 5903 2ab6 005d b600 7653 5904 2ab4 0012\r\n    0x00001b0: b600 7653 b800 2cb6 007a 5719 042a b600\r\n    0x00001c0: 41b6 007e 2ab6 0041 1904 b900 8202 003a\r\n    0x00001d0: 0519 05bb 0084 592a b700 87c0 0089 b600\r\n    0x00001e0: 8f3a 062a bb00 9159 2ab4 0012 1906 b700\r\n    0x00001f0: 94c0 0005 1918 c600 9c19 1807 1008 b601\r\n    0x0000200: 3d19 1804 b801 4119 1803 b801 412b 1918\r\n    0x0000210: 05b8 0141 2c19 1806 b801 412d 1918 07b8\r\n    0x0000220: 0141 1904 1918 08b8 0141 1905 1918 1006\r\n    0x0000230: b801 4119 0619 1810 07b8 0141 0336 1919\r\n    0x0000240: 1805 b601 45c0 002e 4c19 1806 b601 45c0\r\n    0x0000250: 0034 4d19 1807 b601 45c0 0053 4e19 1808\r\n    0x0000260: b601 45c0 0055 3a04 1918 1006 b601 45c0\r\n    0x0000270: 008b 3a05 1918 1007 b601 45c0 00ed 3a06\r\n    0x0000280: 1918 03b6 0145 c000 0219 1804 b601 45c0\r\n    0x0000290: 0005 b600 98c0 009a 3a07 1905 1907 b600\r\n    0x00002a0: 9e3a 082a bb00 a059 1908 2ab4 0020 b600\r\n    0x00002b0: a3c0 00a5 b800 a9c0 00a5 3a09 3a15 3a14\r\n    0x00002c0: 3a13 3a12 1909 3a0a bb00 ab59 1909 100a\r\n    0x00002d0: b800 afb7 00b2 c000 b43a 0b19 0ab9 00b8\r\n    0x00002e0: 0100 3a0c 190c b900 be01 0099 01eb 190c\r\n    0x00002f0: b900 c101 003a 0d19 0b19 0dc0 0053 3a0e\r\n    0x0000300: 3a16 0336 0f2a 190e 1918 c601 ba19 1808\r\n    0x0000310: 1015 b601 3d19 1804 b801 4119 1803 b801\r\n    0x0000320: 412b 1918 05b8 0141 2c19 1806 b801 412d\r\n    0x0000330: 1918 07b8 0141 1904 1918 08b8 0141 1905\r\n    0x0000340: 1918 1006 b801 4119 0619 1810 07b8 0141\r\n    0x0000350: 1907 1918 1008 b801 4119 0819 1810 09b8\r\n    0x0000360: 0141 1909 1918 100a b801 4119 0a19 1810\r\n    0x0000370: 0bb8 0141 190b 1918 100c b801 4119 0c19\r\n    0x0000380: 1810 0db8 0141 190d 1918 100e b801 4119\r\n    0x0000390: 0e19 1810 0fb8 0141 150f 1918 03b8 014a\r\n    0x00003a0: 1912 1918 1010 b801 4119 1319 1810 11b8\r\n    0x00003b0: 0141 1914 1918 1012 b801 4119 1519 1810\r\n    0x00003c0: 13b8 0141 1916 1918 1014 b801 4103 3619\r\n    0x00003d0: 1918 05b6 0145 c000 2e4c 1918 06b6 0145\r\n    0x00003e0: c000 344d 1918 07b6 0145 c000 534e 1918\r\n    0x00003f0: 08b6 0145 c000 553a 0419 1810 06b6 0145\r\n    0x0000400: c000 8b3a 0519 1810 07b6 0145 c000 ed3a\r\n    0x0000410: 0619 1810 08b6 0145 c000 9a3a 0719 1810\r\n    0x0000420: 09b6 0145 c000 8b3a 0819 1810 0ab6 0145\r\n    0x0000430: c000 a53a 0919 1810 0bb6 0145 c000 a53a\r\n    0x0000440: 0a19 1810 0cb6 0145 c000 b43a 0b19 1810\r\n    0x0000450: 0db6 0145 c000 ba3a 0c19 1810 0eb6 0145\r\n    0x0000460: 3a0d 1918 100f b601 45c0 0053 3a0e 1918\r\n    0x0000470: 03b6 014e 360f 1918 1010 b601 45c0 0002\r\n    0x0000480: 3a12 1918 1011 b601 45c0 00a0 3a13 1918\r\n    0x0000490: 1012 b601 45c0 00a0 3a14 1918 1013 b601\r\n    0x00004a0: 45c0 008b 3a15 1918 1014 b601 45c0 00b4\r\n    0x00004b0: 3a16 1918 03b6 0145 c000 0219 1804 b601\r\n    0x00004c0: 45c0 0053 b600 163a 1719 1619 17b9 00c5\r\n    0x00004d0: 0200 57a7 fe11 190b c000 c73a 1619 1219\r\n    0x00004e0: 1319 1419 1519 16c0 00b4 0107 01b7 00ca\r\n    0x00004f0: c000 0519 18c6 0184 1918 1006 1013 b601\r\n    0x0000500: 3d19 1804 b801 4119 1803 b801 412b 1918\r\n    0x0000510: 05b8 0141 2c19 1806 b801 412d 1918 07b8\r\n    0x0000520: 0141 1904 1918 08b8 0141 1905 1918 1006\r\n    0x0000530: b801 4119 0619 1810 07b8 0141 1907 1918\r\n    0x0000540: 1008 b801 4119 0819 1810 09b8 0141 1909\r\n    0x0000550: 1918 100a b801 4119 0a19 1810 0bb8 0141\r\n    0x0000560: 190b 1918 100c b801 4119 0c19 1810 0db8\r\n    0x0000570: 0141 1912 1918 100e b801 4119 1319 1810\r\n    0x0000580: 0fb8 0141 1914 1918 1010 b801 4119 1519\r\n    0x0000590: 1810 11b8 0141 1916 1918 1012 b801 4103\r\n    0x00005a0: 3619 1918 05b6 0145 c000 2e4c 1918 06b6\r\n    0x00005b0: 0145 c000 344d 1918 07b6 0145 c000 534e\r\n    0x00005c0: 1918 08b6 0145 c000 553a 0419 1810 06b6\r\n    0x00005d0: 0145 c000 8b3a 0519 1810 07b6 0145 c000\r\n    0x00005e0: ed3a 0619 1810 08b6 0145 c000 9a3a 0719\r\n    0x00005f0: 1810 09b6 0145 c000 8b3a 0819 1810 0ab6\r\n    0x0000600: 0145 c000 a53a 0919 1810 0bb6 0145 c000\r\n    0x0000610: a53a 0a19 1810 0cb6 0145 c000 b43a 0b19\r\n    0x0000620: 1810 0db6 0145 c000 ba3a 0c19 1810 0eb6\r\n    0x0000630: 0145 c000 023a 1219 1810 0fb6 0145 c000\r\n    0x0000640: a03a 1319 1810 10b6 0145 c000 a03a 1419\r\n    0x0000650: 1810 11b6 0145 c000 8b3a 1519 1810 12b6\r\n    0x0000660: 0145 c000 c73a 1619 1803 b601 45c0 0002\r\n    0x0000670: 1918 04b6 0145 c000 05b6 0098 c000 8b19\r\n    0x0000680: 18c6 000a 1918 1015 b601 51b0 59b6 0157\r\n    0x0000690: c101 2899 0009 b601 57a7 000f 1918 c600\r\n    0x00006a0: 0a19 1810 15b6 0151 bf                 \r\n  Exception Handler Table:\r\n    bci [71, 1676] =&gt; handler: 1704\r\n    bci [71, 1676] =&gt; handler: 1704\r\n    bci [71, 1676] =&gt; handler: 1676\r\n    bci [71, 1676] =&gt; handler: 1692\r\n  Stackmap Table:\r\n    full_frame(@60,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@71,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Top,Null},{})\r\n    full_frame(@106,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@124,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{Object[#2],Object[#83]})\r\n    same_frame(@187)\r\n    full_frame(@215,{Object[#2],Object[#46],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{Object[#46],Object[#199]})\r\n    full_frame(@264,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@302,{Object[#2],Object[#46],Top,Object[#46],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{Object[#46],Object[#327]})\r\n    full_frame(@575,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@658,{Object[#2],Object[#46],Object[#52],Object[#83],Object[#85],Object[#139],Object[#237],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{Object[#2],Object[#5]})\r\n    full_frame(@740,{Object[#2],Object[#46],Object[#52],Object[#83],Object[#85],Object[#139],Object[#237],Object[#154],Object[#139],Object[#165],Object[#165],Object[#180],Object[#186],Top,Top,Top,Top,Top,Object[#2],Top,Top,Object[#139],Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@976,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@1220,{Object[#2],Object[#46],Object[#52],Object[#83],Object[#85],Object[#139],Object[#237],Object[#154],Object[#139],Object[#165],Object[#165],Object[#180],Object[#186],Object[#345],Object[#83],Integer,Top,Top,Object[#2],Top,Top,Object[#139],Object[#180],Top,Object[#302],Integer,Null},{Object[#2],Object[#83]})\r\n    full_frame(@1238,{Object[#2],Object[#46],Object[#52],Object[#83],Object[#85],Object[#139],Object[#237],Object[#154],Object[#139],Object[#165],Object[#165],Object[#180],Object[#186],Top,Top,Top,Top,Top,Object[#2],Top,Top,Object[#139],Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@1442,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Integer,Null},{})\r\n    full_frame(@1657,{Object[#2],Object[#46],Object[#52],Object[#83],Object[#85],Object[#139],Object[#237],Object[#154],Object[#139],Object[#165],Object[#165],Object[#180],Object[#186],Top,Top,Top,Top,Top,Object[#2],Top,Top,Object[#139],Object[#199],Top,Object[#302],Integer,Null},{Object[#2],Object[#5]})\r\n    same_locals_1_stack_item_frame(@1675,Object[#139])\r\n    full_frame(@1676,{Object[#2],Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Top,Object[#302],Top,Null},{Object[#300]})\r\n    same_locals_1_stack_item_frame(@1692,Object[#339])\r\n    same_locals_1_stack_item_frame(@1704,Object[#339])\r\n\r\n\r\n\tat com.flowTests.OracleClientIntegrationTest.oracleReturnsARandomDiceRoll(OracleClientIntegrationTest.kt:103)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["kotlin", "spring-jdbc"], "answers": [{"comments": [{"owner": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "edited": false, "score": 0, "creation_date": 1551132665, "post_id": 54875348, "comment_id": 96520981, "body": "Thanks, I knew it would be something like that but I couldn&#39;t find any examples of people using JdbcTemplate (and I didn&#39;t know what to search for the general syntax...)"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1551132070, "creation_date": 1551132070, "answer_id": 54875348, "question_id": 54875181, "link": "https://stackoverflow.com/questions/54875181/inline-rowmappert-calling-jdbctemplate-querystring-rowmappert-vararg-a/54875348#54875348", "title": "Inline RowMapper&lt;T&gt; calling JdbcTemplate.query(String!, RowMapper&lt;T!&gt;!, vararg Any!)", "body": "<p>You may help the compiler to infer the type of the lambda in the middle, by saying <code>RowMapper { .. }</code>:</p>\n\n<pre><code>fun translates(field: String) = template.query(\"SELECT key, value FROM table\", RowMapper { rs: ResultSet, _: Int -&gt;\n    Pair(rs.getString(\"key\"), rs.getString(\"value\"))\n  }, field)\n</code></pre>\n\n<p>Adding the <code>RowMapper</code> made Kotlin SAM work\n<a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html</a></p>\n"}], "owner": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1950, "favorite_count": 0, "accepted_answer_id": 54875348, "answer_count": 1, "score": 1, "last_activity_date": 1551132070, "creation_date": 1551131325, "question_id": 54875181, "link": "https://stackoverflow.com/questions/54875181/inline-rowmappert-calling-jdbctemplate-querystring-rowmappert-vararg-a", "title": "Inline RowMapper&lt;T&gt; calling JdbcTemplate.query(String!, RowMapper&lt;T!&gt;!, vararg Any!)", "body": "<p>I can't get the <code>vararg</code> to work with <code>JdbcTemplate.query(String!, RowMapper&lt;T!&gt;!, vararg Any!)</code>.  If I leave the variable arguments off, it seems to work.  For example:</p>\n\n<p>This works:</p>\n\n<pre><code>fun translates(field: String) = template.query(\"SELECT key, value FROM table\", {\n    rs: ResultSet, _: Int -&gt; Pair(rs.getString(\"key\"), rs.getString(\"value\"))\n})\n</code></pre>\n\n<p>or this works:</p>\n\n<pre><code>fun translates(field: String) = template.query(\"SELECT key, value FROM table\") {\n    rs: ResultSet, _: Int -&gt; Pair(rs.getString(\"key\"), rs.getString(\"value\"))\n}\n</code></pre>\n\n<p>But this <strong><em>doesn't</em></strong> work (I've added <code>, field</code> at the end of the function call which should match the function <code>query(String!, RowMapper&lt;T!&gt;!, vararg Any!)</code>):</p>\n\n<pre><code>fun translates(field: String) = template.query(\"SELECT key, value FROM table WHERE field = ?\", {\n    rs: ResultSet, _: Int -&gt; Pair(rs.getString(\"key\"), rs.getString(\"value\"))\n}, field)\n</code></pre>\n\n<p>This is the relevant part of the error message:</p>\n\n<pre><code>query(String!, RowMapper&lt;T!&gt;!, vararg Any!)\n  where T cannot be inferred for\n\u00a0\u00a0fun &lt;T : Any!&gt; query(sql: String!, rowMapper: RowMapper&lt;T!&gt;!, vararg args: Any!): (Mutable)List&lt;T!&gt;!\n</code></pre>\n"}, {"tags": ["kotlin", "annotations"], "answers": [{"comments": [{"owner": {"reputation": 846, "user_id": 1405125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa473626b2eb332039bfed158d09ba6?s=128&d=identicon&r=PG", "display_name": "jbunting", "link": "https://stackoverflow.com/users/1405125/jbunting"}, "edited": false, "score": 1, "creation_date": 1551179504, "post_id": 54875462, "comment_id": 96537294, "body": "Thanks. That certainly works but it&#39;s ugly. I found a related bug-ticket, but doesn&#39;t seem like it&#39;s gotten any action. <a href=\"https://youtrack.jetbrains.com/issue/KT-22463\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22463</a>"}], "tags": [], "owner": {"reputation": 891, "user_id": 9902802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcirJ.png?s=128&g=1", "display_name": "Joe Bloggs", "link": "https://stackoverflow.com/users/9902802/joe-bloggs"}, "is_accepted": true, "score": 4, "last_activity_date": 1551132617, "creation_date": 1551132617, "answer_id": 54875462, "question_id": 54874819, "link": "https://stackoverflow.com/questions/54874819/how-to-annotate-an-annotation-property-in-kotlin/54875462#54875462", "title": "How to annotate an annotation property in kotlin?", "body": "<p>For some reason annotations of annotation properties don't make their way into the bytecode. However, you can annotate property getters instead:</p>\n\n<pre><code>class AnnotationIssueTest {\n    @Test\n    fun testAnnotations() {\n        Assertions.assertNotNull(MyTestAnnotation::value.getter.findAnnotation&lt;PropertyMarker&gt;())\n    }\n\n    @Test\n    fun testRegularClass() {\n        Assertions.assertNotNull(MyTestClass::value.getter.findAnnotation&lt;PropertyMarker&gt;())\n    }\n}\n\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.PROPERTY_GETTER)\nannotation class PropertyMarker\n\nannotation class MyTestAnnotation(\n        @get:PropertyMarker val value: String\n)\n\nclass MyTestClass(\n        @get:PropertyMarker val value: String\n)\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 1405125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa473626b2eb332039bfed158d09ba6?s=128&d=identicon&r=PG", "display_name": "jbunting", "link": "https://stackoverflow.com/users/1405125/jbunting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 54875462, "answer_count": 1, "score": 1, "last_activity_date": 1551132617, "creation_date": 1551129503, "question_id": 54874819, "link": "https://stackoverflow.com/questions/54874819/how-to-annotate-an-annotation-property-in-kotlin", "title": "How to annotate an annotation property in kotlin?", "body": "<p>I am attempting to place an annotation on an annotation property. My understanding is that I should be able to access it in code -- but I am not able to. What am I missing?</p>\n\n<pre><code>package com.example.annotations\n\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\nimport kotlin.reflect.full.findAnnotation\n\nclass AnnotationIssueTest {\n    @Test\n    fun testAnnotations() {\n        Assertions.assertNotNull(MyTestAnnotation::value.findAnnotation&lt;PropertyMarker&gt;())\n    }\n\n    @Test\n    fun testRegularClass() {\n        Assertions.assertNotNull(MyTestClass::value.findAnnotation&lt;PropertyMarker&gt;())\n    }\n}\n\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.PROPERTY)\nannotation class PropertyMarker\n\nannotation class MyTestAnnotation(\n        @PropertyMarker val value: String\n)\n\nclass MyTestClass(\n        @PropertyMarker val value: String\n)\n</code></pre>\n\n<p>When I run the given test, <code>testAnnotations</code> fails while <code>testRegularClass</code> passes. Is this a bug or am I doing something wrong?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1551139897, "creation_date": 1551139897, "answer_id": 54876668, "question_id": 54874684, "link": "https://stackoverflow.com/questions/54874684/what-do-the-common-jvm-js-and-jvm-tags-indicate-in-the-kotlin-docs/54876668#54876668", "title": "What do the &#39;Common&#39;, &#39;JVM&#39;, &#39;JS&#39;, and &#39;JVM&#39; tags indicate in the kotlin docs?", "body": "<p>These are the target platforms where the corresponding standard library declarations are available. <em>Common</em> means that a declaration may be used in code shared between all platforms in <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">Kotlin Multiplatform projects</a>.</p>\n\n<p>If a declaration is not available on some platform, like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/read-line.html\" rel=\"nofollow noreferrer\"><code>readLine</code></a> (JVM and Native only, but no JS), you won't be able to compile its usage for that specific platform.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551139897, "creation_date": 1551128905, "question_id": 54874684, "link": "https://stackoverflow.com/questions/54874684/what-do-the-common-jvm-js-and-jvm-tags-indicate-in-the-kotlin-docs", "title": "What do the &#39;Common&#39;, &#39;JVM&#39;, &#39;JS&#39;, and &#39;JVM&#39; tags indicate in the kotlin docs?", "body": "<p>At the top of each class in the docs, for example on the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/index.html\" rel=\"nofollow noreferrer\"><code>Number</code> class</a> these 4 tags exist at the top and each function has one or more of the tags. </p>\n\n<p>What do they indicate?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 6, "last_activity_date": 1551129476, "creation_date": 1551129476, "answer_id": 54874814, "question_id": 54874675, "link": "https://stackoverflow.com/questions/54874675/spread-operator-function-call-ambiguity/54874814#54874814", "title": "spread operator function call ambiguity", "body": "<p>The issue isn't disambiguation but rather an incorrect type. In Kotlin, an <code>Array&lt;Char&gt;</code> is equivalent to a Java <code>Character[]</code>. That means that when you use <code>*delim</code>, you're actually creating a <code>vararg Character</code> (instead of <code>vararg Char</code>). </p>\n\n<p>Instead, you should prefer the primitive-specific <code>CharArray</code>:</p>\n\n<pre><code>val delim: CharArray = charArrayOf('(', ')', '{', '}')\nsourceExpr.split(delimiters = *delim, ignoreCase = false, limit = 0)\n</code></pre>\n"}], "owner": {"reputation": 3012, "user_id": 432426, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7678cd40147880958079e76859784665?s=128&d=identicon&r=PG", "display_name": "Tegiri Nenashi", "link": "https://stackoverflow.com/users/432426/tegiri-nenashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54874814, "answer_count": 1, "score": 3, "last_activity_date": 1551129476, "creation_date": 1551128874, "question_id": 54874675, "link": "https://stackoverflow.com/questions/54874675/spread-operator-function-call-ambiguity", "title": "spread operator function call ambiguity", "body": "<p>When converting java StringTokenizer to kotlin split I'm unable to supply a list of character delimiters:</p>\n\n<pre><code>val delim : Array&lt;Char&gt; = arrayOf('(',')','{','}','[',/*many more...*/)\nsourceExpr.split(delimiters=*delim,ignoreCase=false,limit=0)\n</code></pre>\n\n<p>Here kotlin compiler for some reason is unable to disambiguate between <code>split(vararg String,...)</code> and <code>split(vararg Char,...)</code>. Questions:</p>\n\n<ol>\n<li>Is is a bug?</li>\n<li>Is there cast workaround?</li>\n<li>How did ancient pre-Collection era vararg concept infiltrated modern programming language? </li>\n</ol>\n"}, {"tags": ["kotlin", "kotlin-reified-type-parameters"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1551128777, "post_id": 54874423, "comment_id": 96519393, "body": "<a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/delegation.html</a>, <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#type-erasure-and-generic-type-checks\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1551129096, "post_id": 54874690, "comment_id": 96519535, "body": "thx! do not know use &#39;by&#39; for the implementation of a passing param, great!"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 2, "last_activity_date": 1551128920, "creation_date": 1551128920, "answer_id": 54874690, "question_id": 54874423, "link": "https://stackoverflow.com/questions/54874423/why-there-is-by-for-the-extended-class-and-reified-in-function-define/54874690#54874690", "title": "why there is &#39;by&#39; for the extended class and reified in function define", "body": "<p>(Since you are asking two questions, I'm going to answer them separately)</p>\n\n<p>The <code>by</code> keyword in Kolin is used for delegation. There are two kinds of delegation:</p>\n\n<p>1) <a href=\"https://kotlinlang.org/docs/reference/delegation.html#implementation-by-delegation\" rel=\"nofollow noreferrer\">Implementation by Delegation</a> (sometimes called Class Delegation)</p>\n\n<p>This allows you to implement an interface and delegate calls to that interface to a concrete object. This is helpful if you want to extend an interface but not implement every single part of it. For example, we can extend <code>List</code> by delegating to it, and allowing our caller to give us an implementation of <code>List</code></p>\n\n<pre><code>class ExtendedList(someList: List) : List by someList {\n   // Override anything from List that you need\n   // All other calls that would resolve to the List interface are \n   // delegated to someList   \n}\n</code></pre>\n\n<p>2) <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">Property Delegation</a></p>\n\n<p>This allows you to do similar work, but with properties. My favorite example is <code>lazy</code>, which lets you lazily define a property. Nothing is created until you reference the property, and the result is cached for quicker access in the future. </p>\n\n<p>From the Kotlin documentation:</p>\n\n<pre><code>val lazyValue: String by lazy {\n    println(\"computed!\")\n    \"Hello\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1551129462, "creation_date": 1551129462, "answer_id": 54874811, "question_id": 54874423, "link": "https://stackoverflow.com/questions/54874423/why-there-is-by-for-the-extended-class-and-reified-in-function-define/54874811#54874811", "title": "why there is &#39;by&#39; for the extended class and reified in function define", "body": "<blockquote>\n  <p>why the <code>reified</code> is required in the <code>inline fun &lt;reified T&gt; getDataItem()</code>? If someone could give a sample to explain the reified?</p>\n</blockquote>\n\n<p>There is some good <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">documentation on reified type parameters</a>, but I'll try to boil it down a bit.</p>\n\n<p>The <code>reified</code> keyword in Kotlin is used to get around the fact that the JVM uses type erasure for generic. That means at runtime whenever you refer to a generic type, the JVM has <em>no</em> idea what the actual type is. It is a compile-time thing only. So that <code>T</code> in your example... the JVM has no idea what it means (without reification, which I'll explain).</p>\n\n<p>You'll notice in your example that you are also using the <code>inline</code> keyword. That tells Kotlin that rather than call a function when you reference it, to just insert the body of the function <code>inline</code>. This can be more efficient in certain situations. So, if Kotlin is already going to be copying the body of our function at compile time, why not just copy the class that <code>T</code> represents as well? This is where <code>reified</code> is used. This tells Kotlin to refer to the actual concrete type of <code>T</code>, and only works with <code>inline</code> functions.</p>\n\n<p>If you were to remove the <code>reified</code> keyword from your example, you would get an error: \"Cannot check for instance of erased type: T\". By reifying this, Kotlin knows what actual type <code>T</code> is, letting us do this comparison (and the resulting smart cast) safely.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 54874811, "answer_count": 2, "score": -1, "last_activity_date": 1551129462, "creation_date": 1551127598, "last_edit_date": 1551128086, "question_id": 54874423, "link": "https://stackoverflow.com/questions/54874423/why-there-is-by-for-the-extended-class-and-reified-in-function-define", "title": "why there is &#39;by&#39; for the extended class and reified in function define", "body": "<p>coming across a sample with a class and a function and trying to understand the koltin syntax there, </p>\n\n<ol>\n<li><p>what does this <code>IMeta by dataItem</code>  do?  looked at <a href=\"https://kotlinlang.org/docs/reference/classes.html#classes\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html#classes</a> and dont see how to use <code>by</code> in the derived class</p></li>\n<li><p>why the <code>reified</code>  is required in the <code>inline fun &lt;reified T&gt; getDataItem()</code>?  If someone could give a sample to explain the <code>reified</code>?</p>\n\n<pre><code>class DerivedStreamItem(private val dataItem: IMeta, private val dataType: String?) :\n    IMeta by dataItem {\n\noverride fun getType(): String = dataType ?: dataItem.getType()\nfun getData(): DerivedData? = getDataItem()\n\nprivate inline fun &lt;reified T&gt; getDataItem(): T? = if (dataItem is T) dataItem else null\n</code></pre>\n\n<p>}</p></li>\n</ol>\n\n<p>for the reference, copied the related defines here:</p>\n\n<pre><code>interface IMeta {\n    fun getType() : String\n    fun getUUIDId() : String\n    fun getDataId(): String?\n}\n\nclass DerivedData : IMeta {\n    override fun getType(): String {\n        return \"\"  // stub\n    }\n\n    override fun getUUIDId(): String {\n        return \"\"  // stub\n    }\n\n    override fun getDataId(): String? {\n        return \"\"  // stub\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-button", "android-progressbar"], "comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1551124920, "post_id": 54873771, "comment_id": 96517610, "body": "I don&#39;t think Kotlin doesn&#39;t have access to findViewById. Maybe you&#39;re doing something wrong."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1551133205, "post_id": 54873771, "comment_id": 96521197, "body": "I updated again... it&#39;s really &quot;weird&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "is_accepted": false, "score": 0, "last_activity_date": 1551125122, "creation_date": 1551125122, "answer_id": 54873831, "question_id": 54873771, "link": "https://stackoverflow.com/questions/54873771/how-to-get-a-progressbar-or-a-button-into-class-in-android-through-koltin/54873831#54873831", "title": "How to get a ProgressBar (or a button...) into class in android through koltin?", "body": "<p>Firstly, it works the same way in Kotlin.</p>\n\n<p>But there's a better way in Kotlin:</p>\n\n<p>Add the following line to your apps build.gradle:\n<code>apply plugin: 'kotlin-android-extensions'</code></p>\n\n<p>Now, you can access the View by its id:</p>\n\n<p>e.g. <code>myProgressBar.progress = 30</code></p>\n\n<p>More: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126109, "post_id": 54873832, "comment_id": 96518115, "body": "Yes, it works in all functions inside my MainActivity.kt... However it doesn&#39;t work in my &quot;CustomClass.kt&quot; file"}, {"owner": {"reputation": 1215, "user_id": 10007682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQ0dG.png?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/10007682/dylan"}, "reply_to_user": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126165, "post_id": 54873832, "comment_id": 96518147, "body": "does CustomClass extend Activity? does it say <b>class CustomClass : Activity()</b>? It <b>must</b> extend Activity for that to work."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126659, "post_id": 54873832, "comment_id": 96518370, "body": "Actually it doesn&#39;t. I created a custom class to handle the DownloadManager. Inside it I created a thread to keep track of the download % and now my goal is to send those values to my progressBar"}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126765, "post_id": 54873832, "comment_id": 96518420, "body": "I just added a contructor with :Activity() (as you suggested) and now it works"}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126971, "post_id": 54873832, "comment_id": 96518521, "body": "Ok, it seems my app crashes now... I think there must be maybe different problems inside Thanks a lot anyway"}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551127299, "post_id": 54873832, "comment_id": 96518699, "body": "the error is this: Process: com.example.myapplication, PID: 20468     java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.Window.findViewById(int)&#39; on a null object reference"}], "tags": [], "owner": {"reputation": 1215, "user_id": 10007682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OQ0dG.png?s=128&g=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/10007682/dylan"}, "is_accepted": false, "score": 0, "last_activity_date": 1551125122, "creation_date": 1551125122, "answer_id": 54873832, "question_id": 54873771, "link": "https://stackoverflow.com/questions/54873771/how-to-get-a-progressbar-or-a-button-into-class-in-android-through-koltin/54873832#54873832", "title": "How to get a ProgressBar (or a button...) into class in android through koltin?", "body": "<p>add the following line to build.gradle: <code>apply plugin: 'kotlin-android-extensions</code></p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\nclass MyActivity : Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Instead of findViewById&lt;TextView&gt;(R.id.textView)\n        textView.setText(\"Hello, world!\")\n    }\n}\n</code></pre>\n\n<p>This can be done outside of onCreate as well.</p>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126191, "post_id": 54873834, "comment_id": 96518157, "body": "It seems it keeps to gimme a mark as &quot;unresolved&quot;. I tried and I can call the progressBar in every function in main activity, however I need it in another class.kt file"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551126606, "post_id": 54873834, "comment_id": 96518335, "body": "@MicheleRava are you sure you&#39;re using the correct SDK version?"}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551127282, "post_id": 54873834, "comment_id": 96518689, "body": "I added the :Activity() constructor. Now it can see the myProgressBar, as it happens in MainActivity.kt... However it causes a crash with this error now: Process: com.example.myapplication, PID: 20468     java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.Window.findViewById(int)&#39; on a null object reference"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551127595, "post_id": 54873834, "comment_id": 96518837, "body": "@MicheleRava the Activity is fully constructed only after calling setContentView inside onCreate. You cannot use findViewById prior to that"}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551127748, "post_id": 54873834, "comment_id": 96518905, "body": "My DownloadManager custom class execute later... in theory. It seems that, instead, when i activate the download the Activity has not been fully constructed... how can I do to make it right?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "reply_to_user": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551127819, "post_id": 54873834, "comment_id": 96518939, "body": "@MicheleRava maybe post more code, because I can&#39;t guess."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551128625, "post_id": 54873834, "comment_id": 96519310, "body": "I updated the question... however now it doesn&#39;t crash ( i solved an error I didn&#39;t see before...) and the progressBar doesn&#39;t get any update :/ Thanks for help, I think I must study a bit more my code"}, {"owner": {"reputation": 336, "user_id": 8302360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea74cd3d1dd78d60c903b51520c4813?s=128&d=identicon&r=PG&f=1", "display_name": "Kashifa", "link": "https://stackoverflow.com/users/8302360/kashifa"}, "reply_to_user": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551168503, "post_id": 54873834, "comment_id": 96530985, "body": "@MicheleRava Use LocalBroadcastReceiver to send your Download percentage to your activity or fragment and update progressbar there according to it."}, {"owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "edited": false, "score": 0, "creation_date": 1551186786, "post_id": 54873834, "comment_id": 96541645, "body": "Thank to all, I solved just sending the progressBar as a var into the Downloader Class. I will post it as soon as I can. I hope it&#39;s not a &quot;wasting resources way&quot;, since I&#39;m not sure yet about stopptig threads (Is it right that Kotlin does it by itself?)"}], "tags": [], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "is_accepted": true, "score": 0, "last_activity_date": 1551125128, "creation_date": 1551125128, "answer_id": 54873834, "question_id": 54873771, "link": "https://stackoverflow.com/questions/54873771/how-to-get-a-progressbar-or-a-button-into-class-in-android-through-koltin/54873834#54873834", "title": "How to get a ProgressBar (or a button...) into class in android through koltin?", "body": "<p><code>findViewById</code> now returns a generic type which extends <code>View</code> (<a href=\"https://developer.android.com/reference/android/view/View.html#findViewById(int)\" rel=\"nofollow noreferrer\">docs)</a>.</p>\n\n<pre><code>final &lt;T extends View&gt; T findViewById(...)\n</code></pre>\n\n<p>You can use</p>\n\n<pre><code>val progressBar = findViewById&lt;ProgressBar&gt;(R.id.myProgressBar)\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 10374260, "user_type": "registered", "profile_image": "https://graph.facebook.com/346004202802938/picture?type=large", "display_name": "Michele Rava", "link": "https://stackoverflow.com/users/10374260/michele-rava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 54873834, "answer_count": 3, "score": 0, "last_activity_date": 1551133166, "creation_date": 1551124774, "last_edit_date": 1551133166, "question_id": 54873771, "link": "https://stackoverflow.com/questions/54873771/how-to-get-a-progressbar-or-a-button-into-class-in-android-through-koltin", "title": "How to get a ProgressBar (or a button...) into class in android through koltin?", "body": "<p>I need to know how to call a ProgressBar (or any other kind of button) into a class, outside of \"onCreate\" method.\nI saw in Java I can do it calling findViewById(), however it's been rid of in Kotlin.\nFor example I was trying a thing like this:</p>\n\n<pre><code> var myProgressBar = findViewById(R.id.myProgressBar) as ProgressBar\n</code></pre>\n\n<p>But it gives me the unresolved reference for the find view method.</p>\n\n<p>Thanks in advance for help</p>\n\n<p>______________UPDATE____________________</p>\n\n<p>Here's my DownloadManager custom class</p>\n\n<pre><code>class DownloadSoundController(context: Context): Activity() {\n\nval downloadManager = context.getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n.....\n.....\n      Thread(Runnable{\n        while (starter) {\n            var query = DownloadManager.Query()\n            query.setFilterById(refid)\n            var c = downloadManager.query(query)\n\n            if (c.moveToFirst()) {\n                var totalSizeIndex = c.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES)\n                var downloadedIndex = c.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR)\n                val fileSize = c.getLong(c.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES))\n                var totalSize = c.getInt(totalSizeIndex)\n                var downloaded = c.getInt(downloadedIndex)\n                var progress = 0.0\n                var raffronto: Long = -1\n\n                if (fileSize != raffronto) {\n                    progress = downloaded * 100.0 / totalSize\n                    //println(\"myTag - downloaded % :$progress, downloaded var: $downloaded\")\n                    myProgressBar.progress = progress.toInt()\n                    if (progress == 100.0) {\n                        starter = false\n                    }\n                } else {\n                    //println(\"myTag - downloaded = 100 progress: $progress, $downloaded\")\n                    myProgressBar.progress = progress.toInt()\n                    if (progress == 100.0) {\n                        starter = false\n                    }\n                }\n            }\n        }\n    }).start()\n</code></pre>\n\n<p>Here's my manifest:</p>\n\n<pre><code>&lt;application\n        android:hardwareAccelerated=\"true\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n    &lt;activity\n            android:name=\"com.journeyapps.barcodescanner.CaptureActivity\"\n            android:screenOrientation=\"fullSensor\"\n            tools:replace=\"screenOrientation\" /&gt;\n\n    &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\"\n            android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n//ATTENTION\n   &lt;activity android:name=\"com.example.myapplication.DownloadSoundController\"/&gt; \n// here it returns ERROR, on default constructor\n\n    &lt;receiver android:name=\".DownloadBroadcastManager\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.DOWNLOAD_COMPLETE\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>_________UPDATE_2__________</p>\n\n<p>I polished the code and I found several issues that sound really \"weird\" to me:</p>\n\n<p>1) to stop the nullpoint exception about myProgressBar.progress = value, I found out I have to initialize myProgressBar.progress = 0</p>\n\n<p>2) With println() my thread stamps into the log exactly, step by step, the downloaded amount of my file, but if I add the myProgressBar.progress = progress.toInt() (progress var is THE SAME I stamp into the println()!) in the Thread... it starts to be async in a way it EVEN STARTS BEFORE the download has begun.. leading to several errors and <b>multiple</b> downloads\"</p>\n\n<p>I really don't know what's going on</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1551125589, "post_id": 54873628, "comment_id": 96517890, "body": "In a Fragment, Views are not inflated in onCreate(). They will be inflated in onCreateView(), so this is the earliest possibility to access them See also the <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">documentation for Fragment</a>"}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1551125655, "post_id": 54873628, "comment_id": 96517924, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23653778/nullpointerexception-accessing-views-in-oncreate\">NullPointerException accessing views in onCreate()</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1551163496, "creation_date": 1551163496, "answer_id": 54879789, "question_id": 54873628, "link": "https://stackoverflow.com/questions/54873628/switch-to-display-contrained-layout-not-working/54879789#54879789", "title": "Switch to Display Contrained Layout not working", "body": "<p>Move your logic to <code>onViewCreated</code> function, <code>availabilitiesSwitch</code> should be not null there:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    (activity as BaseActivity).run {\n\n        availabilitiesSwitch?.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n            if(isChecked) {\n                showShifts()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 5559990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91abaf38ab0d688dfd1426e3fb61152b?s=128&d=identicon&r=PG&f=1", "display_name": "ksenia", "link": "https://stackoverflow.com/users/5559990/ksenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 54879789, "answer_count": 1, "score": 0, "last_activity_date": 1551167817, "creation_date": 1551124089, "last_edit_date": 1551167817, "question_id": 54873628, "link": "https://stackoverflow.com/questions/54873628/switch-to-display-contrained-layout-not-working", "title": "Switch to Display Contrained Layout not working", "body": "<p>I am trying to build a simple Android switch (availabilitiesSwitch) t display the content of a Constrained Layout.</p>\n\n<p><strong>The switch looks like this:</strong></p>\n\n<pre><code>&lt;Switch\n            android:id=\"@+id/availabilitiesSwitch\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"24dp\"\n            android:layout_marginEnd=\"16dp\"\n            android:showText=\"false\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p><strong>and the code in the Fragment is such:</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        (activity as BaseActivity).run {\n\n            availabilitiesSwitch?.let {\n                it?.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n                    if(isChecked) {\n                        showShifts()\n                    }\n                }\n            }\n\n        }\n    }\n</code></pre>\n\n<p>where showShifts is as follows <strong>(setupAvailabilities is the constrained layout I want to toggle)</strong>:</p>\n\n<pre><code>fun showShifts() {\n    setupAvailabilities.visibility = View.VISIBLE\n}\n</code></pre>\n\n<p>Currently, availabilitiesSwitch is evaluated to null. Can anyone think of a reason?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "multipartform-data", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5618593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7cf1e98544d85172c3fec9f7f202d5a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/5618593/jade"}, "edited": false, "score": 0, "creation_date": 1551121226, "post_id": 54872902, "comment_id": 96516022, "body": "my god...I tried every kind of Content-type but nothing worked. Now I completely delete the Content-type and it works. You saved my day! Thank you"}], "tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": true, "score": 1, "last_activity_date": 1551120825, "creation_date": 1551120825, "answer_id": 54872902, "question_id": 54872712, "link": "https://stackoverflow.com/questions/54872712/invalid-query-parameters-invalid-encoding/54872902#54872902", "title": "invalid query parameters: invalid %-encoding", "body": "<p>Your header is not correct.</p>\n\n<p>You can delete the headers <code>Content-type: application/x-www-form-urlencoded</code></p>\n\n<p>or you should change to <code>Content-type: multipart/form-data</code></p>\n"}], "owner": {"reputation": 73, "user_id": 5618593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7cf1e98544d85172c3fec9f7f202d5a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/5618593/jade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 54872902, "answer_count": 1, "score": 0, "last_activity_date": 1551120825, "creation_date": 1551119974, "question_id": 54872712, "link": "https://stackoverflow.com/questions/54872712/invalid-query-parameters-invalid-encoding", "title": "invalid query parameters: invalid %-encoding", "body": "<p>I try to upload a picture(jpg) via Retrofit / Multipart. The Api always returns code 400 with \"invalid query parameters: invalid %-encoding\"\nI don't know whats wrong.</p>\n\n<p>My interface: </p>\n\n<pre><code>@Headers(\"Content-type: application/x-www-form-urlencoded\", \"Accept: application/vnd.mypb+json; version=7\")\n@POST(\"/alerts/actions/unknown_pid\")\n@Multipart\nfun uploadPhoto(@Part body: MultipartBody.Part): Call&lt;String?&gt;\n</code></pre>\n\n<p>My webservice upload photo method:</p>\n\n<pre><code>fun uploadPhoto(bitmap: Bitmap) {\n    val imageFile = File(context.cacheDir, \"image.jpg\")\n\n    val baos = ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 15, baos)\n    val byteArray = baos.toByteArray()\n\n    val fos = FileOutputStream(imageFile)\n    fos.write(byteArray)\n    fos.flush()\n    fos.close()\n\n    val filePart = RequestBody.create(MediaType.parse(\"image/*\"), imageFile)\n    val body = MultipartBody.Part.createFormData(\"document[file]\", \"photo.jpg\", filePart)\n\n    service.uploadPhoto(body).enqueue(object : LoggingCallback&lt;String?&gt;() {\n        override fun onSuccess(responseBody: String?) {\n            EventBus.getDefault().post(OnPhotoUploadSuccessfulEvent())\n        }\n\n        override fun onFailure(response: Response&lt;String?&gt;) {\n            EventBus.getDefault().post(OnPhotoUploadFailedEvent())\n        }\n    })\n}\n</code></pre>\n\n<p>Charles response:\n<a href=\"https://i.stack.imgur.com/8p3ta.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8p3ta.png\" alt=\"Charles response\"></a></p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551115365, "post_id": 54871469, "comment_id": 96513470, "body": "GlobalScope is totally OK if your jobs are non-cancellable by design. Although it&#39;s true that you probably shouldn&#39;t want to show toasts from it."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1551121320, "last_edit_date": 1551121320, "creation_date": 1551115114, "answer_id": 54871469, "question_id": 54871313, "link": "https://stackoverflow.com/questions/54871313/why-should-i-define-background-task-as-suspend-function/54871469#54871469", "title": "Why should I define background task as suspend function", "body": "<p>You should define your function with <code>suspend</code> modifier if you invoke another <code>suspend</code> function from there. For example consider the following case:</p>\n\n<pre><code>suspend fun backTask(): Int = withContext(Dispatchers.IO) {\n   // Might take a few seconds, runs in background thread.\n   10\n}\n</code></pre>\n\n<p>Here we invoke <code>suspend fun withContext()</code> and add <code>suspend</code> modifier to the <code>backTask</code> function. If we don't do that compiler will give an error <strong>Suspend function <code>withContext</code> should be called only from a coroutine or another suspend function</strong>. In that case using a coroutine we can invoke <code>backTask</code> function without blocking the Main Thread:</p>\n\n<pre><code>GlobalScope.launch(Dispatcher.Main) {\n   val num = backTask() // not blocking the Main Thread\n   toast(\"Number: $num\")\n}\n</code></pre>\n\n<p>Note: <code>GlobalScope.launch</code> <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-global-scope/\" rel=\"nofollow noreferrer\">is not recommended to use</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1551116023, "creation_date": 1551116023, "answer_id": 54871708, "question_id": 54871313, "link": "https://stackoverflow.com/questions/54871313/why-should-i-define-background-task-as-suspend-function/54871708#54871708", "title": "Why should I define background task as suspend function", "body": "<p>If you try to use that suspend function anywhere else, it'll force you to use a coroutine. This means no accidental blocking on the main thread :) \u2013</p>\n"}], "owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 54871469, "answer_count": 2, "score": 0, "last_activity_date": 1551121320, "creation_date": 1551114569, "question_id": 54871313, "link": "https://stackoverflow.com/questions/54871313/why-should-i-define-background-task-as-suspend-function", "title": "Why should I define background task as suspend function", "body": "<p>I have a background task in a function which returns a value. I use <strong>Kotlin coroutines</strong>.<br>\nI can do it like this:</p>\n\n<pre><code>fun backTask(): Int {\n   // Might take a few seconds\n   return 10\n}\n</code></pre>\n\n<pre><code>GlobalScope.launch(Dispatcher.Main){\n   val num = withContext(Dispatcher.IO) { backTask() }\n   toast(\"Number: $num\")\n}\n</code></pre>\n\n<p>So it works. What exactly is making me define my background task function, a <code>suspend function</code></p>\n"}, {"tags": ["kotlin", "first-class-functions"], "comments": [{"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 2, "creation_date": 1551114405, "post_id": 54871235, "comment_id": 96512974, "body": "kotlin can&#39;t infer the type directly, remember thaz it is still statically typed: use <code>var bar: (String) -&gt; Int = ::foo</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 4, "last_activity_date": 1551114726, "last_edit_date": 1551114726, "creation_date": 1551114390, "answer_id": 54871262, "question_id": 54871235, "link": "https://stackoverflow.com/questions/54871235/are-kotlin-functions-really-first-class-types/54871262#54871262", "title": "Are Kotlin functions really first class types?", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type\" rel=\"nofollow noreferrer\">reference to the function</a> <code>::</code>:</p>\n\n<pre><code>fun foo(s: String): Int = s.length\n\nval bar = ::foo\n</code></pre>\n\n<p>And then invoke it:</p>\n\n<pre><code>bar(\"some string\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 772, "user_id": 1347608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4000c63f6078bce4c47f66b26686ec?s=128&d=identicon&r=PG", "display_name": "F. P. Freely", "link": "https://stackoverflow.com/users/1347608/f-p-freely"}, "edited": false, "score": 0, "creation_date": 1551379648, "post_id": 54871349, "comment_id": 96629121, "body": "What about static methods in Java, e.g. <code>Files.IsDirectory</code>? I can&#39;t seem to get this to work in the same way."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 6, "last_activity_date": 1551115164, "last_edit_date": 1551115164, "creation_date": 1551114723, "answer_id": 54871349, "question_id": 54871235, "link": "https://stackoverflow.com/questions/54871235/are-kotlin-functions-really-first-class-types/54871349#54871349", "title": "Are Kotlin functions really first class types?", "body": "<blockquote>\n  <p>Does the fact that this doesn't compile mean that they're not quite first class types?</p>\n</blockquote>\n\n<p>No, it doesn't. </p>\n\n<p>In Kotlin, to reference a function or a property as a value, you need to use <a href=\"https://kotlinlang.org/docs/reference/reflection.html#callable-references\" rel=\"noreferrer\">callable references</a>, but it is just a syntax form for <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type\" rel=\"noreferrer\">obtaining a value</a> of a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"noreferrer\">function type</a>:</p>\n\n<pre><code>fun foo(s: String): Int = s.length\n\nval bar = ::foo // `bar` now contains a value of a function type `(String) -&gt; Int`\n</code></pre>\n\n<p>Once you get that value, you are not limited in how you work with it, which is what first-class functions are about.</p>\n"}], "owner": {"reputation": 772, "user_id": 1347608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f4000c63f6078bce4c47f66b26686ec?s=128&d=identicon&r=PG", "display_name": "F. P. Freely", "link": "https://stackoverflow.com/users/1347608/f-p-freely"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1551115164, "creation_date": 1551114261, "question_id": 54871235, "link": "https://stackoverflow.com/questions/54871235/are-kotlin-functions-really-first-class-types", "title": "Are Kotlin functions really first class types?", "body": "<p>Does the fact that this doesn't compile mean that they're not quite first class types?</p>\n\n<pre><code>fun foo(s: String): Int = s.length\n// This won't compile.\nval bar = foo\n</code></pre>\n\n<p>Is there a way to do this without resorting to OO?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "unirest"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551116214, "post_id": 54871026, "comment_id": 96513833, "body": "Sounds like version mismatch, are you sure you can&#39;t use Retrofit instead?"}, {"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551196898, "post_id": 54871026, "comment_id": 96548167, "body": "@EpicPandaForce I am indeed looking into Retrofit, thank you for the suggestion. I&#39;ll keep the question up, though, as am still very much interested in getting a more meaningful error message out of something like this."}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551113450, "creation_date": 1551113450, "question_id": 54871026, "link": "https://stackoverflow.com/questions/54871026/how-do-you-get-a-more-detailed-error-message-than-error-program-type-already-p", "title": "how do you get a more detailed error message than &quot;Error: Program type already present: &lt;type&gt;&quot;?", "body": "<p>Right, so I want to use Unirest on Android for some quick testing because it's more lightweight than, say, Volley.</p>\n\n<p>(need to run it in <code>androidTest</code> because I want to test some android-reliant features)</p>\n\n<p>So ...</p>\n\n<pre><code>androidTestImplementation 'com.mashape.unirest:unirest-java:1.4.9'\n</code></pre>\n\n<p>results in </p>\n\n<pre><code>java.lang.NoSuchFieldError: No field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of 'org.apache.http.conn.ssl.AllowAllHostnameVerifier' appears in /system/framework/framework.jar:classes3.dex)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:144)\n</code></pre>\n\n<p>Right, whatever. So I do a bit of googling and end up finding <a href=\"https://stackoverflow.com/a/27398616/3322533\">this answer</a> here.</p>\n\n<p>sounds simple enough ...</p>\n\n<pre><code>androidTestImplementation'org.apache.httpcomponents:httpclient-android:4.3.5'\nandroidTestImplementation('com.mashape.unirest:unirest-java:1.4.9'){\n    exclude group: 'org.apache.httpcomponents', module:'httpclient'\n}\n</code></pre>\n\n<p>which gives me</p>\n\n<blockquote>\n  <p>Error: Program type already present: org.apache.http.Consts</p>\n</blockquote>\n\n<p>So given that without the <code>exclude group: 'org.apache.httpcomponents', module:'httpclient'</code>, it gives me a </p>\n\n<pre><code>Error: Program type already present: org.apache.http.auth.AuthOption\n</code></pre>\n\n<p>I would imagine that I \"just\" have to keep excluding modules until I've excluded everything that would've resulted in a conflict.</p>\n\n<p>But <strong>how do I find out which modules these are?</strong></p>\n\n<p>Oh, and no, I cannot simply exclude the entire group</p>\n\n<pre><code>androidTestImplementation'org.apache.httpcomponents:httpclient-android:4.3.5'\nandroidTestImplementation('com.mashape.unirest:unirest-java:1.4.9'){\n    exclude group: 'org.apache.httpcomponents'\n}\n</code></pre>\n\n<p>Because that results in </p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/http/impl/nio/reactor/DefaultConnectingIOReactor;\n    at com.mashape.unirest.http.options.Options.refresh(Options.java:85)\n    at com.mashape.unirest.http.options.Options.&lt;clinit&gt;(Options.java:46)\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-manifest"], "comments": [{"owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "edited": false, "score": 0, "creation_date": 1551112164, "post_id": 54870646, "comment_id": 96511696, "body": "Does SplashActivity extend Activity?"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "edited": false, "score": 2, "creation_date": 1551112199, "post_id": 54870646, "comment_id": 96511717, "body": "@JoshuaBest It extends <code>AppCompatActivity()</code>"}, {"owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "edited": false, "score": 0, "creation_date": 1551112245, "post_id": 54870646, "comment_id": 96511742, "body": "Does your IDE behave this way for other projects?"}, {"owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "edited": false, "score": 0, "creation_date": 1551112297, "post_id": 54870646, "comment_id": 96511768, "body": "@Elynad very stange, have you tried using androidx whilst using kotlin?"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "edited": false, "score": 0, "creation_date": 1551112364, "post_id": 54870646, "comment_id": 96511811, "body": "@TaslimOseni yes, it does"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "edited": false, "score": 0, "creation_date": 1551112367, "post_id": 54870646, "comment_id": 96511812, "body": "@JoshuaBest No, I don&#39;t know this. Is this an implementation I should add in my gradle file ?"}, {"owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "edited": false, "score": 0, "creation_date": 1551112391, "post_id": 54870646, "comment_id": 96511823, "body": "The problem is definitely with your IDE then."}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "edited": false, "score": 0, "creation_date": 1551112473, "post_id": 54870646, "comment_id": 96511866, "body": "@TaslimOseni Sure, but how to fix it ? Even after an uninstall / reinstall it kept bugging. Might it be caused by the last version of Android Studio ?"}, {"owner": {"reputation": 662, "user_id": 1759327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bd235ca563a6de322f9661c254b41b0?s=128&d=identicon&r=PG", "display_name": "dastan", "link": "https://stackoverflow.com/users/1759327/dastan"}, "edited": false, "score": 1, "creation_date": 1551150727, "post_id": 54870646, "comment_id": 96525487, "body": "I think you should update your plugin like kotlin and build tools in Project build.gradle. might help"}], "answers": [{"tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": true, "score": 0, "last_activity_date": 1551172535, "creation_date": 1551172535, "answer_id": 54881976, "question_id": 54870646, "link": "https://stackoverflow.com/questions/54870646/error-launching-app-default-activity-not-found-one-out-of-two-times/54881976#54881976", "title": "Error launching app : Default activity not found - One out of two times", "body": "<p>Problem solved !\nHere is what I did :</p>\n\n<ul>\n<li>Uninstalled Android Studio, (ticked the box \"Remove user data\")</li>\n<li>Reinstalled it</li>\n<li>Updated <code>ext.kotlin_version</code> to <code>1.3.21</code> as suggested dastan</li>\n<li>Removed <code>app/build</code> directory</li>\n<li>Clean project</li>\n<li>Rebuild project</li>\n</ul>\n\n<p>I think it was the kotlin version that was threwing me this exception. Thanks dastan for your answer !</p>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54881976, "answer_count": 1, "score": 0, "last_activity_date": 1551172535, "creation_date": 1551112045, "question_id": 54870646, "link": "https://stackoverflow.com/questions/54870646/error-launching-app-default-activity-not-found-one-out-of-two-times", "title": "Error launching app : Default activity not found - One out of two times", "body": "<p>I am using Android Studio.\nWhen I launch my app, I get the error <code>Default activity not found</code>.<br>\nI know the <code>Sync Project with Gradle Files</code> method, it works, but I need to use it each time I want to launch my app.</p>\n\n<p>I also tried <code>Invalidate Cache and Restart</code>, but it did not solve anything.</p>\n\n<p>Here is a part of my <code>AndroidManifest.xml</code> :</p>\n\n<pre><code>&lt;activity android:name=\"com.discodery.android.discoderyapp.SplashActivity\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>Is there a way to definitively solve this problem ?</p>\n\n<p>I also have weird errors (that does not cancel build) like this one :</p>\n\n<pre><code>companion object {\n    fun getStartIntent(context: Context) : Intent = Intent(context, MessageSentActivity::class.java)\n}\n</code></pre>\n\n<p>Well in this example, the <code>java</code> word at the end of the line is red, and say <code>Unresolved reference : java</code>.</p>\n\n<p>I guess my editor is broken, but I uninstalled it this afternoon and it kept giving me these errors.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 15, "last_activity_date": 1551125671, "creation_date": 1551125671, "answer_id": 54873952, "question_id": 54870443, "link": "https://stackoverflow.com/questions/54870443/how-to-ignore-jobcancellationexception/54873952#54873952", "title": "How to ignore JobCancellationException?", "body": "<p>You try to catch the super-class <code>CancellationException</code> instead, which is a part of the public API.</p>\n\n<p>Do note that if something throws <code>CancellationException</code> you are generally expected to rethrow it so upstream objects are notified about the cancellation. See <a href=\"https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#cancellation-is-cooperative\" rel=\"noreferrer\">Cancellation is Cooperative</a></p>\n"}], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4513, "favorite_count": 0, "accepted_answer_id": 54873952, "answer_count": 1, "score": 8, "last_activity_date": 1551125671, "creation_date": 1551111359, "question_id": 54870443, "link": "https://stackoverflow.com/questions/54870443/how-to-ignore-jobcancellationexception", "title": "How to ignore JobCancellationException?", "body": "<p>Recently, I've upgraded Kotlin Coroutines from experimental to 1.1.1 and faced the problem that <code>job.cancel()</code> in new version works differently.</p>\n\n<p>Here's the code with Experimental Coroutines:</p>\n\n<pre><code>fun &lt;R : Any, T : Deferred&lt;R&gt;&gt; T.runAsync(\n        job: Job,\n        onSuccess: (result: R) -&gt; Unit,\n        onFailed: (errorMsg: String?) -&gt; Unit) {\n    launch(UI, parent = job) {\n        try {\n            val result = this@runAsync.await()\n            onSuccess(result)\n        } catch (e: Exception) {\n            onFailed(e.message)\n        }\n    }\n}\n</code></pre>\n\n<p>Here's with 1.1.1:</p>\n\n<pre><code>fun &lt;R : Any, T : Deferred&lt;R&gt;&gt; T.runAsync(\n        job: Job,\n        onSuccess: (result: R) -&gt; Unit,\n        onFailed: (errorMsg: String?) -&gt; Unit) {\n    GlobalScope.launch(Dispatchers.Main + job) {\n        try {\n            val result = withContext(Dispatchers.IO) {\n                this@runAsync.await()\n            }\n            onSuccess(result)\n        } catch (e: Exception) {\n            onFailed(e.message)\n        }\n    }\n}\n</code></pre>\n\n<p>For example: </p>\n\n<p>My fragment destroyed and called <code>job.cancel()</code> during coroutine is running.</p>\n\n<p>In experimental coroutines neither <code>onSuccess()</code> nor <code>onFailed()</code> will be called.</p>\n\n<p>In 1.1.1: <code>onFailed()</code> called because caught of <code>JobCancellationException</code></p>\n\n<p>I figured out to add <code>catch (e: JobCancellationException)</code>, but it's impossible:</p>\n\n<pre><code>/**\n * @suppress **This an internal API and should not be used from general code.**\n */\ninternal expect class JobCancellationException(\n</code></pre>\n\n<p>So, the question is: How to handle/ignore <code>JobCancellationException</code> ?</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "answers": [{"comments": [{"owner": {"reputation": 508, "user_id": 6809926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddfa267c1e01adac5419b774e1175b5?s=128&d=identicon&r=PG&f=1", "display_name": "Zenocode", "link": "https://stackoverflow.com/users/6809926/zenocode"}, "edited": false, "score": 1, "creation_date": 1551173051, "post_id": 54875635, "comment_id": 96533399, "body": "Thank you very much @ARGeo, I totally understand the FaceDetection now ! I was looking for the <code>Trackable</code> on <code>AugmentedFaces</code> because that&#39;s why I thought it&#39;s was possible to decline it to all kinds of custom objects / body parts. I could create my own Hand Landmarks Detector like the FaceDetection, and do the same as <code>AugmentedFaces</code> class extends <code>Trackable</code>, then be able to generate a mesh to apply filter on it ?"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 508, "user_id": 6809926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddfa267c1e01adac5419b774e1175b5?s=128&d=identicon&r=PG&f=1", "display_name": "Zenocode", "link": "https://stackoverflow.com/users/6809926/zenocode"}, "edited": false, "score": 0, "creation_date": 1551173591, "post_id": 54875635, "comment_id": 96533744, "body": "I suppose Google gives full access to unique tools and classes for ARCore developers in some time. Let&#39;s wait for it. At the moment even documentation isn&#39;t ready. )))"}, {"owner": {"reputation": 442, "user_id": 2614528, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/324a959d1c3154c7797813e9a36b4f4b?s=128&d=identicon&r=PG", "display_name": "Maulik Kundaliya", "link": "https://stackoverflow.com/users/2614528/maulik-kundaliya"}, "edited": false, "score": 0, "creation_date": 1561112451, "post_id": 54875635, "comment_id": 99966597, "body": "is augmented faces supporting ios?"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "edited": false, "score": 0, "creation_date": 1561117815, "post_id": 54875635, "comment_id": 99969049, "body": "I don&#39;t know. I haven&#39;t tried Augmented Faces for iOS."}, {"owner": {"reputation": 508, "user_id": 6809926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddfa267c1e01adac5419b774e1175b5?s=128&d=identicon&r=PG&f=1", "display_name": "Zenocode", "link": "https://stackoverflow.com/users/6809926/zenocode"}, "reply_to_user": {"reputation": 442, "user_id": 2614528, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/324a959d1c3154c7797813e9a36b4f4b?s=128&d=identicon&r=PG", "display_name": "Maulik Kundaliya", "link": "https://stackoverflow.com/users/2614528/maulik-kundaliya"}, "edited": false, "score": 0, "creation_date": 1562153722, "post_id": 54875635, "comment_id": 100286973, "body": "@MaulikKundaliya Apple realize their own Face tracking for ARKit, take a look at <a href=\"https://developer.apple.com/documentation/arkit/tracking_and_visualizing_faces\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/arkit/&hellip;</a>"}, {"owner": {"reputation": 311, "user_id": 4596212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ac414d33e904b8a3185f33382a294?s=128&d=identicon&r=PG&f=1", "display_name": "Sonam Gupta", "link": "https://stackoverflow.com/users/4596212/sonam-gupta"}, "edited": false, "score": 0, "creation_date": 1578312584, "post_id": 54875635, "comment_id": 105386736, "body": "Can you tell how i can set depth of a object like should show on face"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 311, "user_id": 4596212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ac414d33e904b8a3185f33382a294?s=128&d=identicon&r=PG&f=1", "display_name": "Sonam Gupta", "link": "https://stackoverflow.com/users/4596212/sonam-gupta"}, "edited": false, "score": 0, "creation_date": 1578313352, "post_id": 54875635, "comment_id": 105387092, "body": "@SonamGupta Please, formulate your question more specifically."}, {"owner": {"reputation": 311, "user_id": 4596212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ac414d33e904b8a3185f33382a294?s=128&d=identicon&r=PG&f=1", "display_name": "Sonam Gupta", "link": "https://stackoverflow.com/users/4596212/sonam-gupta"}, "edited": false, "score": 1, "creation_date": 1578377432, "post_id": 54875635, "comment_id": 105408818, "body": "When we add 3d object like spects frames on face. It does not show in correct depth.Please look on screensort.                                                                                  <a href=\"https://drive.google.com/file/d/1NBAu64LpRLgfJ7M7UU8DDh0iuIzwUhKB/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1NBAu64LpRLgfJ7M7UU8DDh0iuIzwUhKB/&hellip;</a>"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "edited": false, "score": 0, "creation_date": 1578378061, "post_id": 54875635, "comment_id": 105409028, "body": "Create a new question, please, I&#39;ll answer it."}, {"owner": {"reputation": 311, "user_id": 4596212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374ac414d33e904b8a3185f33382a294?s=128&d=identicon&r=PG&f=1", "display_name": "Sonam Gupta", "link": "https://stackoverflow.com/users/4596212/sonam-gupta"}, "edited": false, "score": 0, "creation_date": 1578464626, "post_id": 54875635, "comment_id": 105442396, "body": "As you said. i created new question   <a href=\"https://stackoverflow.com/questions/59640401/object-does-not-show-in-correct-depth-in-face-augumentation-in-ar-core\" title=\"object does not show in correct depth in face augumentation in ar core\">stackoverflow.com/questions/59640401/&hellip;</a>     Please help me on this"}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": true, "score": 9, "last_activity_date": 1597743623, "last_edit_date": 1597743623, "creation_date": 1551133496, "answer_id": 54875635, "question_id": 54869965, "link": "https://stackoverflow.com/questions/54869965/augmented-faces-api-how-facial-landmarks-generated/54875635#54875635", "title": "Augmented Faces API \u2013 How facial landmarks generated?", "body": "<blockquote>\n<ol>\n<li>ARCore's new <strong>Augmented Faces API</strong>, that is working on the front-facing camera without depth sensor, offers a high quality, <code>468-point</code> <strong>3D canonical mesh</strong> that allows users attach such effects to their faces as animated masks, glasses, skin retouching, etc. The mesh provides <strong>coordinates and region specific anchors</strong> that make it possible to add these effects.</li>\n</ol>\n<p><strong>I firmly believe that a facial landmarks detection is generated with a help of computer vision algorithms under the hood of ARCore 1.7</strong>. It's also important to say that you can get started in Unity or in Sceneform by creating an ARCore session with the &quot;front-facing camera&quot; and Augmented Faces &quot;mesh&quot; mode enabled. Note that other AR features such as plane detection aren't currently available when using the front-facing camera. <strong><code>AugmentedFace</code> extends <code>Trackable</code>, so faces are detected and updated just like planes, Augmented Images, and other Trackables</strong>.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/JAbxu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JAbxu.jpg\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>As you know, 2+ years ago Google released <code>Face API</code> that performs face detection, which locates faces in pictures, along with their position (where they are in the picture) and orientation (which way they\u2019re facing, relative to the camera). Face API allows you detect landmarks (points of interest on a face) and perform classifications to determine whether the eyes are open or closed, and whether or not a face is smiling. The Face API also detects and follows faces in moving images, which is known as face tracking.</p>\n</blockquote>\n<p><strong>So, ARCore 1.7 just borrowed some <em>architectural elements</em> from Face API and now it's not only detects facial landmarks and generates 468 points for them but also tracks them in real time at 60 fps and sticks 3D facial geometry to them</strong>.</p>\n<p>See Google's <a href=\"https://developers.google.com/vision/face-detection-concepts#classification\" rel=\"nofollow noreferrer\">Face Detection Concepts Overview</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/GmXjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GmXjX.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li><p>To calculate a depth channel in a video, shot by moving RGB camera, is not a rocket science. You just need to apply a parallax formula to tracked features. So if a translation's amplitude of a feature on a static object is quite high \u2013 the tracked object is closer to a camera, and if an amplitude of a feature on a static object is quite low \u2013 the tracked object is farther from a camera. These approaches for calculating a depth channel is quite usual for such compositing apps as <a href=\"https://learn.foundry.com/nuke/8.0/content/user_guide/depthgenerator/generating_depth_maps.html\" rel=\"nofollow noreferrer\">The Foundry NUKE</a> and <a href=\"https://www.blackmagicdesign.com/products/fusion/\" rel=\"nofollow noreferrer\">Blackmagic Fusion</a> for more than 10 years. Now the same principles are accessible in ARCore.</p>\n</li>\n<li><p>You cannot decline the Face detection/tracking algorithm to a custom object or another part of the body like a hand. <strong>Augmented Faces API</strong> developed for just faces.</p>\n</li>\n</ol>\n<p>Here's how Java code for activating Augmented Faces feature looks like:</p>\n<pre><code>// Create ARCore session that supports Augmented Faces\npublic Session createAugmentedFacesSession(Activity activity) throws \n                                                      UnavailableException {\n\n    // Use selfie camera\n    Session session = new Session(activity, \n                                  EnumSet.of(Session.Feature.FRONT_CAMERA));\n\n    // Enabling Augmented Faces\n    Config config = session.getConfig();\n    config.setAugmentedFaceMode(Config.AugmentedFaceMode.MESH3D);\n    session.configure(config);\n    return session;\n}\n</code></pre>\n<p>Then get a list of detected faces:</p>\n<pre><code>Collection&lt;AugmentedFace&gt; faceList = session.getAllTrackables(AugmentedFace.class);\n</code></pre>\n<p>And at last rendering the effect:</p>\n<pre><code>for (AugmentedFace face : faceList) {\n\n    // Create a face node and add it to the scene.\n    AugmentedFaceNode faceNode = new AugmentedFaceNode(face);\n    faceNode.setParent(scene);\n\n    // Overlay the 3D assets on the face\n    faceNode.setFaceRegionsRenderable(faceRegionsRenderable);\n\n    // Overlay a texture on the face\n    faceNode.setFaceMeshTexture(faceMeshTexture);\n    \n    // .......\n}\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 6809926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ddfa267c1e01adac5419b774e1175b5?s=128&d=identicon&r=PG&f=1", "display_name": "Zenocode", "link": "https://stackoverflow.com/users/6809926/zenocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3419, "favorite_count": 2, "accepted_answer_id": 54875635, "answer_count": 1, "score": 9, "last_activity_date": 1597743623, "creation_date": 1551109867, "last_edit_date": 1583952109, "question_id": 54869965, "link": "https://stackoverflow.com/questions/54869965/augmented-faces-api-how-facial-landmarks-generated", "title": "Augmented Faces API \u2013 How facial landmarks generated?", "body": "<p>I'm an IT student, and would like to know (understand) more about the <a href=\"https://developers.google.com/ar/develop/unity/augmented-faces/\" rel=\"nofollow noreferrer\">Augmented Faces API</a> in ARCore.</p>\n\n<p>I just saw the <a href=\"https://github.com/google-ar/arcore-unity-sdk/releases/tag/v1.7.0\" rel=\"nofollow noreferrer\">ARCore V1.7 release</a>, and the new <a href=\"https://developers.google.com/ar/develop/unity/augmented-faces/\" rel=\"nofollow noreferrer\">Augmented Faces API</a>. I get the enormous potential of this API. But I didn't see any questions or articles on this subject. So I'm questioning myself, and here are some assumptions / questions which come to my mind about this release.</p>\n\n<h2>Assumption</h2>\n\n<ul>\n<li>ARCore team are using (Like Instagram and Snapchat) machine learning, to generate landmarks all over the face. Probably <a href=\"http://sklin93.github.io/hog.html\" rel=\"nofollow noreferrer\">HOG Face Detection</a>..</li>\n</ul>\n\n<h2>Questions</h2>\n\n<ul>\n<li>How does ARCore generate 468 points all over the user face's on a Smartphone ? Impossible to find any response on that, even in the source code.</li>\n<li>How they can have the depth from a simple smartphone camera ?</li>\n<li>How to decline the Face detection / tracking, to a custom object or another part of the body like a Hand ?</li>\n</ul>\n\n<p>So if you have any advices or remarks on this subject, let's share ! </p>\n"}, {"tags": ["android", "gradle", "kotlin", "libraries"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551111465, "post_id": 54869425, "comment_id": 96511294, "body": "<i>When using api it works just fine</i> any reason you don&#39;t want to use <code>api</code>? Not sure what the issue is here"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1551111302, "creation_date": 1551111302, "answer_id": 54870424, "question_id": 54869425, "link": "https://stackoverflow.com/questions/54869425/adding-a-library-as-an-aar-file-in-gradle-not-able-to-implement-interfaces/54870424#54870424", "title": "Adding a library as an aar file in gradle not able to implement interfaces", "body": "<p>This is quite as expected: declarations from <code>implementation</code> dependencies of a library are not visible during compilation of the library usages and are only available at runtime.</p>\n\n<p>On contrary, <code>api</code> dependencies are visible during compilation of the library usages, too.</p>\n\n<p>You should only use the <code>implementation</code> configuration if you don't want the library users to see the declaration from a dependency, which is certainly not the case if you expect the user to implement an interface from the dependency.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/47365119/gradle-dependency-configuration-implementation-vs-api-vs-runtimeonly-vs-compil\">Gradle dependency configuration: implementation vs api vs runtimeonly vs compileonly</a></p>\n"}], "owner": {"reputation": 141, "user_id": 3551922, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1251849718/picture?type=large", "display_name": "Kyle Wolff", "link": "https://stackoverflow.com/users/3551922/kyle-wolff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551111386, "creation_date": 1551108093, "last_edit_date": 1551111386, "question_id": 54869425, "link": "https://stackoverflow.com/questions/54869425/adding-a-library-as-an-aar-file-in-gradle-not-able-to-implement-interfaces", "title": "Adding a library as an aar file in gradle not able to implement interfaces", "body": "<p>It would be easier for me to show you but the long story short. </p>\n\n<ol>\n<li>Main Application </li>\n<li>Created a Library lets call it SECOND </li>\n<li>Created a Shopping List Library call it THIRD</li>\n</ol>\n\n<p>When I add my THIRD dependency to my SECOND library when using implementation in the gradle file, I am not able to implement interfaces for some reason. When using api it works just fine.</p>\n\n<p>Also, we are adding this by importing the aar and pom file manually. </p>\n\n<p>Project Level Gradle For SECOND</p>\n\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"$projectDir/../THIRD\" }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Only way to actually allow access to the interfaces is to use API \n    api('com.THIRD.@aar')</p>\n"}]