[{"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5646316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a844db42a1c8392017e6695201f43356?s=128&d=identicon&r=PG", "display_name": "Liam Lime", "link": "https://stackoverflow.com/users/5646316/liam-lime"}, "edited": false, "score": 1, "creation_date": 1476915099, "post_id": 40140946, "comment_id": 67554638, "body": "Wow, I actually did not expect this would be a REPL specific problem. The null check does in-fact work when used in a function. So <code>var d = a + if(c != null) {c} else {0};</code> does work in a function. I&#39;ve been using the REPL to test things and find various quirks of Kotlin. I guess I should do that in a proper program instead. Thank you."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476916630, "post_id": 40140946, "comment_id": 67555202, "body": "^^ exactly. There are tons of REPL -specific bugs and problems just because REPL is not involved in a typical production workflow"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 2, "last_activity_date": 1476908878, "creation_date": 1476908878, "answer_id": 40140946, "question_id": 40140720, "link": "https://stackoverflow.com/questions/40140720/adding-int-and-int-in-kotlin/40140946#40140946", "title": "Adding int and int? in Kotlin", "body": "<p>The problem is that kotlin can only assume a variable is never null after a null check if there is no way that variable can change value between operations.</p>\n\n<p>I don't exactly know how the REPL is implemented but my guess is that variables are inserted as members into a context class. This means the compiler cannot assume no changes can happen since another thread might change the value between operations.</p>\n\n<p>So it looks like this feature does not work in the REPL, but the elvis operator is a pretty clean alternative.</p>\n"}], "owner": {"reputation": 113, "user_id": 5646316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a844db42a1c8392017e6695201f43356?s=128&d=identicon&r=PG", "display_name": "Liam Lime", "link": "https://stackoverflow.com/users/5646316/liam-lime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "accepted_answer_id": 40140946, "answer_count": 1, "score": 1, "last_activity_date": 1476908878, "creation_date": 1476908080, "question_id": 40140720, "link": "https://stackoverflow.com/questions/40140720/adding-int-and-int-in-kotlin", "title": "Adding int and int? in Kotlin", "body": "<p>I ran into a problem, which seems so simple that everyone should have ran into it at some point or another, yet failed to find a solution anywhere.</p>\n\n<p>Copied from the REPL:</p>\n\n<pre><code>var a : Int = 1\nvar c : Int? = 3\n\na + if (c != null) {c} else {0}\nERROR: None of the following functions can be called with supplied argument (followed by the various implementations of kotlin.int.plus())\n</code></pre>\n\n<p>So what I'm trying to do is add together an Int and an Int? and I'd like the result to be an Int. Very simple. I'm of course aware of the <code>!!</code> operator, however I want to avoid using this whenever possible, as it is not change-safe\u2020. </p>\n\n<pre><code>a + if (c != null) {c!!} else {0}\n4  \n</code></pre>\n\n<p>I am aware of the following solution, which handles null-safety and avoids the use of the <code>!!</code> operator.</p>\n\n<pre><code>a + (c ?: 0)\n4\n</code></pre>\n\n<p>My question is the following: Is there a way to do addition with the use of an if-else block and/or a when block, which does not require the use of the <code>!!</code> operator. My reason for preferring the use of if-else and not the Elvis operator is intelligibility for people from languages without an Elvis operator. So I'd like to get as close to <code>a + if (c != null) {c} else {0}</code> as possible.</p>\n\n<p>Thank you, if my problem or motivation is unclear or contrary to the design or intent of Kotlin, please let me know.</p>\n\n<p>\u2020 Sure, I may be able to assert that some variable is safe at the time when it's added, but this assertion will remain there even as code around it changes, possibly making the assertion invalid, thus negating one of Kotlin's points: null safety.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 33, "last_activity_date": 1476901787, "creation_date": 1476901787, "answer_id": 40139018, "question_id": 40138923, "link": "https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics/40139018#40139018", "title": "Difference between &quot;*&quot; and &quot;Any&quot; in Kotlin generics", "body": "<p>In the context I think you imply, <code>SomeGeneric&lt;*&gt;</code> is equivalent to <code>SomeGeneric&lt;out Any?&gt;</code>. The Java equivalent is <code>SomeGeneric&lt;? extends Object&gt;</code>.</p>\n\n<p>The syntax called \"star-projections\". Here are the official docs: <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/generics.html#star-projections</a></p>\n"}, {"comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 93, "creation_date": 1477066981, "post_id": 40139892, "comment_id": 67630005, "body": "Nice answer, for some it may be helpful to add that List&lt;*&gt; can contain objects of <i>any</i> type, but <i>only</i> that type, so it can contain Strings (but only Strings), while List&lt;Any&gt; can contain Strings and Integers and whatnot, all in the same list."}, {"owner": {"reputation": 1396, "user_id": 1147930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ca5fec77a58359de97da1a9069aee8?s=128&d=identicon&r=PG", "display_name": "croc", "link": "https://stackoverflow.com/users/1147930/croc"}, "edited": false, "score": 1, "creation_date": 1531816767, "post_id": 40139892, "comment_id": 89725169, "body": "Here an interesting article with a similar explanation: <a href=\"https://typealias.com/guides/star-projections-and-how-they-work/\" rel=\"nofollow noreferrer\">typealias.com/guides/star-projections-and-how-they-work</a>"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 1, "creation_date": 1616110981, "post_id": 40139892, "comment_id": 117908140, "body": "@fweigl I don&#39;t think it&#39;s correct to make the distinction this way. <code>List&lt;*&gt;</code> can very much contain mixed types as well. Here: <code>val list: List&lt;*&gt; = listOf(42, &quot;Bob&quot;)</code>. You just don&#39;t know what <code>*</code> is, and <code>*</code> may very well be any parent type you like, including <code>Any</code> itself (like in my example). The only important difference is that for contravariant or invariant types like <code>MutableList&lt;T&gt;</code>, the &quot;<code>in</code> operations&quot; are forbidden when using <code>*</code> because you don&#39;t statically know what the type parameter is, so the compiler can&#39;t make any assumption."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1616165391, "post_id": 40139892, "comment_id": 117924947, "body": "@Joffrey Yes, you&#39;re absolutely right. Weird that it took 5 years for someone to notice that!"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 182, "last_activity_date": 1559742840, "last_edit_date": 1559742840, "creation_date": 1476904983, "answer_id": 40139892, "question_id": 40138923, "link": "https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics/40139892#40139892", "title": "Difference between &quot;*&quot; and &quot;Any&quot; in Kotlin generics", "body": "<p>It may be helpful to think of the <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">star projection</a> as a way to represent not just any type, but some fixed type which you don't know what is exactly.</p>\n\n<p>For example, the type <code>MutableList&lt;*&gt;</code> represents the list of <em>something</em> (you don't know what exactly). So if you try to add something to this list, you won't succeed. It may be a list of <code>String</code>s, or a list of <code>Int</code>s, or a list of something else. The compiler won't allow to put any object in this list at all because it cannot verify that the list accepts objects of this type. However, if you attempt to get an element out of such list, you'll surely get an object of type <code>Any?</code>, because all objects in Kotlin inherit from <code>Any</code>.</p>\n\n<p><em>From <a href=\"https://stackoverflow.com/users/804967/asco\">asco</a> comment below:</em> </p>\n\n<blockquote>\n  <p>Additionally <code>List&lt;*&gt;</code> can contain objects of any type, but only that\n  type, so it can contain Strings (but only Strings), while <code>List&lt;Any&gt;</code>\n  can contain Strings and Integers and whatnot, all in the same list.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "edited": false, "score": 3, "creation_date": 1609792585, "post_id": 65534086, "comment_id": 115928514, "body": "Incredible answer! Thanks for your writeup!"}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 14, "last_activity_date": 1609538699, "creation_date": 1609538699, "answer_id": 65534086, "question_id": 40138923, "link": "https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics/65534086#65534086", "title": "Difference between &quot;*&quot; and &quot;Any&quot; in Kotlin generics", "body": "<p>The key to understanding the star projection(<code>*</code>) is to properly understand the other two type projections <code>in</code> and <code>out</code> first. After that, the star projection becomes self-explanatory.</p>\n<hr />\n<h2>Understanding the problem</h2>\n<p>Let's say that you have this generic class <code>Crate</code> that you intend to use for storing fruits. This class is invariant in <code>T</code>. This means, this class can consume as well as produce <code>T</code> (fruits). In other words, this class has functions that take <code>T</code> as argument(consume) as well as return <code>T</code>(produce). The <code>size()</code> function is T-independent, it neither takes <code>T</code> nor does it return <code>T</code>:</p>\n<pre><code>class Crate&lt;T&gt; {\n    private val items = mutableListOf&lt;T&gt;()\n    fun produce(): T = items.last()\n    fun consume(item: T) = items.add(item)\n    fun size(): Int = items.size\n}\n</code></pre>\n<p>But what if you want to use this already existing class just as a producer(<code>out T</code>) or just as a consumer(<code>in T</code>) or not want to use <code>T</code> but just its T-independent functions like <code>size()</code>? Without worrying about the accidental use of the unwanted functionality?</p>\n<p>The solution is, we project the types by using variance modifiers <code>out</code>, <code>in</code> and <code>*</code> at the use-site. <em>Use-site</em> simply means wherever we use the <code>Crate</code> class.</p>\n<hr />\n<h2><code>out</code> projection is a producer of <code>T</code></h2>\n<p>By projecting the <code>Crate</code> as <code>out</code>, you are telling the compiler: &quot;give me an error when I accidentally use the <code>Crate</code> class as a consumer of <code>T</code> because I just want to safely use that class as a producer <code>T</code>&quot;:</p>\n<pre><code>fun useAsProducer(producer: Crate&lt;out Fruit&gt;) {\n\n    // T is known to be out Fruit, so produces Fruit and its subtypes.\n    val fruit = producer.produce()           // OK\n\n    // Fruit is guaranteed. Can use functions and properties of Fruit.\n    fruit.getColor()                         // OK\n    \n    // Consumer not allowed because you don't want to accidentally add\n    // oranges, if this is a Crate&lt;Apple&gt;\n    producer.consume(Orange())               // Error             \n}\n</code></pre>\n<hr />\n<h2><code>in</code> projection is a consumer of <code>T</code></h2>\n<p>By projecting the <code>Crate</code> as <code>in</code>, you are telling the compiler: &quot;give me an error when I accidentally use the <code>Crate</code> class as a producer of <code>T</code> because I just want to safely use that class as a consumer of <code>T</code>&quot;:</p>\n<pre><code>fun useAsConsumer(consumer: Crate&lt;in Orange&gt;) {\n\n    // Produces Any?, no guarantee of Orange because this could\n    // be a Crate&lt;Fruit&gt; with apples in it.\n    val anyNullable = consumer.produce()     // Not useful\n    \n    // Not safe to call functions of Orange on the produced items.\n    anyNullable.getVitaminC()                // Error\n\n    // T is known to be in Orange, so consumes Orange and its subtypes.\n    consumer.consume(MandarinOrange())       // OK\n}\n</code></pre>\n<hr />\n<h2>Star projection is no producer, no consumer of <code>T</code></h2>\n<p>By projecting the <code>Crate</code> as <code>*</code>, you are telling the compiler: &quot;give me an error when I accidentally use the <code>Crate</code> class as a producer or consumer of <code>T</code> because I don't want to use the functions or properties that consume and produce <code>T</code>. I just want to safely use the T-independent functions and properties like <code>size()</code>&quot;:</p>\n<pre><code>fun useAsStar(star: Crate&lt;*&gt;) {\n\n    // T is unknown, so the star produces the default supertype Any?.\n    val anyNullable = star.produce()         // Not useful\n\n    // T is unknown, cannot access its properties and functions.\n    anyNullable.getColor()                   // Error\n\n    // Cannot consume because you don't know the type of Crate.\n    star.consume(Fruit())                    // Error\n\n    // Only use the T-independent functions and properties.\n    star.size()                              // OK\n}\n</code></pre>\n<hr />\n<h2><code>Any</code> is not a projection</h2>\n<p>When you say <code>Crate&lt;Any&gt;</code>, you are not projecting, you are simply using the original invariant class <code>Crate&lt;T&gt;</code> as it is, which can <em>produce</em> as well as <em>consume</em> <code>Any</code>:</p>\n<pre><code>fun useAsAny(any: Crate&lt;Any&gt;) {\n\n    // T is known to be Any. So, an invariant produces Any.\n    val anyNonNull = any.produce()           // OK\n\n    // T is known to be Any. So, an invariant consumes Any.\n    any.consume(Fruit())                     // OK\n\n    // Can use the T-independent functions and properties, of course.\n    any.size()                               // OK\n}\n</code></pre>\n<p>The same is true for <code>Crate&lt;Apple&gt;</code> or any other similar type without a variance modifier <code>in</code>, <code>out</code>, or <code>*</code>, it will consume and produce that type (<code>Apple</code> in that case). It's not a projection. This explains the difference between <code>SomeGeneric&lt;*&gt;</code> and <code>SomeGeneric&lt;Any&gt;</code>, you can compare the two code snippets above, side by side.</p>\n<hr />\n<h2>Star projection for declaration-site producer</h2>\n<p>So far, we saw the type projections <code>out</code>, <code>in</code> and <code>*</code> for the <code>Crate</code> class that was invariant at declaration-site: <code>Crate&lt;T&gt;</code>. From here on, let's find out how the star projection behaves with the classes that are already <code>in</code> and <code>out</code> at the declaration-site with type parameter bounds:</p>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class ProducerCrate&lt;out T : Fruit&gt; {\n    private val fruits = listOf&lt;T&gt;()\n    fun produce() : T = fruits.last()\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useProducer(star: ProducerCrate&lt;*&gt;) {\n\n    // Even though we project * here, it is known to be at least a Fruit\n    // because it's an upper bound at the declaration-site.\n    val fruit = star.produce()               // OK\n\n    // Fruit is guaranteed. Can use functions and properties of Fruit.\n    fruit.getColor()                         // OK\n}\n</code></pre>\n<hr />\n<h2>Star projection for declaration-site consumer</h2>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class ConsumerCrate&lt;in T&gt; {\n    private val items = mutableListOf&lt;T&gt;()\n    fun consume(item: T) = items.add(item)\n    fun size(): Int = items.size\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useConsumer(consumer: ConsumerCrate&lt;*&gt;) {\n\n    // Cannot consume anything, because the lower bound is not supported\n    // in Kotlin and T is unknown\n    consumer.consume(Orange())               // Error\n\n    // Only useful for T-independent functions and properties.\n    consumer.size()                          // OK\n}\n</code></pre>\n<p>Note that the lower bound is not supported in Kotlin. So, in the <code>ConsumerCrate</code> class above, we cannot have something like <code>in T super Orange</code>(lower bound) like we have <code>out T : Orange</code>(upper bound).</p>\n<hr />\n<h2>Star projection for declaration-site invariant</h2>\n<p><strong>Declaration-site</strong></p>\n<pre><code>class ProducerConsumerCrate&lt;T : Fruit&gt; {\n    private val fruits = mutableListOf&lt;T&gt;()\n    fun produce(): T = fruits.last()\n    fun consume(fruit: T) = fruits.add(fruit)\n}\n</code></pre>\n<p><strong>Use-site</strong></p>\n<pre><code>fun useProducerConsumer(producerConsumer: ProducerConsumerCrate&lt;*&gt;) {\n\n    // Even though we project * here, T is known to be at least a Fruit\n    // because it's the upper bound at the declaration-site.\n    val fruit = producerConsumer.produce()   // OK\n\n    // Fruit is guaranteed. Can use functions and properties of Fruit.\n    fruit.getColor()                         // OK\n\n    // Consumer not allowed because you don't want to accidentally add\n    // oranges, if this crate is a Crate&lt;Apple&gt;.\n    producerConsumer.consume(Fruit())        // Error\n}\n</code></pre>\n<hr />\n<h2>Conclusion</h2>\n<p>Type projections for the invariant <code>Crate&lt;T&gt;</code>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Projections</th>\n<th style=\"text-align: left;\">Produces</th>\n<th style=\"text-align: left;\">Consumes</th>\n<th style=\"text-align: left;\">Behaviour</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Crate&lt;Fruit&gt;</code></td>\n<td style=\"text-align: left;\"><code>Fruit</code></td>\n<td style=\"text-align: left;\"><code>Fruit</code></td>\n<td style=\"text-align: left;\">Producer and Consumer</td>\n</tr>\n<tr>\n<td><code>Crate&lt;out Fruit&gt;</code></td>\n<td style=\"text-align: left;\"><code>Fruit</code></td>\n<td style=\"text-align: left;\"><code>Nothing</code></td>\n<td style=\"text-align: left;\">Producer only</td>\n</tr>\n<tr>\n<td><code>Crate&lt;in Fruit&gt;</code></td>\n<td style=\"text-align: left;\"><code>Any?</code></td>\n<td style=\"text-align: left;\"><code>Fruit</code></td>\n<td style=\"text-align: left;\">Consumer only</td>\n</tr>\n<tr>\n<td><code>Crate&lt;*&gt;</code></td>\n<td style=\"text-align: left;\"><code>Any?</code></td>\n<td style=\"text-align: left;\"><code>Nothing</code></td>\n<td style=\"text-align: left;\">No Producer and No Consumer</td>\n</tr>\n</tbody>\n</table>\n</div><hr />\n<p>That's it! Hope that helps.</p>\n"}], "owner": {"reputation": 2525, "user_id": 3439919, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cv1Eg.png?s=128&g=1", "display_name": "Wheel Builder", "link": "https://stackoverflow.com/users/3439919/wheel-builder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19969, "favorite_count": 23, "accepted_answer_id": 40139892, "answer_count": 3, "score": 125, "last_activity_date": 1609538699, "creation_date": 1476901467, "last_edit_date": 1580997114, "question_id": 40138923, "link": "https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics", "title": "Difference between &quot;*&quot; and &quot;Any&quot; in Kotlin generics", "body": "<p>I am not sure I fully understand the difference between <code>SomeGeneric&lt;*&gt;</code> and <code>SomeGeneric&lt;Any&gt;</code>.  I think <code>*</code> represents anything (wild card) and <code>Any</code> represents the object which <strong>ALL</strong> objects inherit from.  So it seems they should be the same, but are they?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 4, "creation_date": 1476896851, "post_id": 40137323, "comment_id": 67544762, "body": "Wow... I just realized that all of those local variables can even be inlined if you don&#39;t want them. e.g. <code>... return AnswerResponseUi(userAnswer.id ?: return null, answerResponse.answer?.id ?: return null, ...</code>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476902134, "post_id": 40137323, "comment_id": 67547961, "body": "Readability is key, so do not try to inline everything ;) But this is impressive indeed!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1476899238, "last_edit_date": 1495541204, "creation_date": 1476895929, "answer_id": 40137323, "question_id": 40136912, "link": "https://stackoverflow.com/questions/40136912/convert-object-with-nullable-fields-to-an-object-with-non-nullable-fields-or-nul/40137323#40137323", "title": "Convert object with nullable fields to an object with non-nullable fields or null", "body": "<p>If your classes <code>AnswerGson</code> and <code>AnswerResponseGson</code> have their properties declared as <code>val</code>, you can convert your code to something like this:</p>\n\n<pre><code>fun convertAnswer(userAnswer: AnswerGson, answerResponse: AnswerResponseGson,\n                  correctAnswerText: String): AnswerResponseUi? {\n    if (userAnswer.id == null ||\n        userAnswer.text == null ||\n        answerResponse.discount == null ||\n        answerResponse.points == null ||\n        answerResponse.booster == null ||\n        answerResponse.answer == null ||\n        answerResponse.answer.id == null\n    ) return null\n\n    return AnswerResponseUi(userAnswer.id, answerResponse.answer.id, userAnswer.text,\n                            correctAnswerText, answerResponse.points,\n                            answerResponse.discount, answerResponse.booster.name ?: \"\")\n}\n</code></pre>\n\n<p><sup></sup></p>\n\n<p>This example uses <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart casts</a>: the compiler analyses the control flow and proves that if the last statement is reached then none of the values checked above are <code>null</code>.</p>\n\n<p>These checks are not applied to safe dereference chains, and I had to check first <code>answerResponse.answer</code> and only then <code>answerResponse.answer.id</code>.</p>\n\n<hr>\n\n<p>If you have <code>var</code> properties, smart casts cannot be applied because the value might change after it is checked.</p>\n\n<p>In this case, you can still reduce the nesting in your code by extracting the values into local variables and checking them at the same time:</p>\n\n<pre><code>fun convertAnswer(userAnswer: AnswerGson, answerResponse: AnswerResponseGson,\n                  correctAnswerText: String): AnswerResponseUi? {\n    val answerId = userAnswer.id ?: return null\n    val correctAnswerId = answerResponse.answer?.id ?: return null\n    val userAnswerText = userAnswer.text ?: return null\n    val points = answerResponse.points ?: return null\n    val discount = answerResponse.discount ?: return null\n    val booster = answerResponse.booster ?: return null\n\n    return AnswerResponseUi(answerId, correctAnswerId, userAnswerText,\n                            correctAnswerText, points,\n                            discount, booster.name ?: \"\")\n}\n</code></pre>\n\n<p>And, as <a href=\"https://stackoverflow.com/users/3255152/mfulton26\">@mfulton26</a> noticed, you can even inline these variables (works for <code>val</code>s as well):</p>\n\n<pre><code>fun convertAnswer(userAnswer: AnswerGson, answerResponse: AnswerResponseGson,\n                  correctAnswerText: String): AnswerResponseUi? {\n    return AnswerResponseUi(userAnswer.id ?: return null, \n                            answerResponse.answer?.id ?: return null, \n                            userAnswer.text ?: return null,\n                            correctAnswerText, \n                            answerResponse.points ?: return null,\n                            answerResponse.discount ?: return null, \n                            (answerResponse.booster ?: return null).name ?: \"\")\n}\n</code></pre>\n"}], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 40137323, "answer_count": 1, "score": 2, "last_activity_date": 1476899238, "creation_date": 1476894488, "question_id": 40136912, "link": "https://stackoverflow.com/questions/40136912/convert-object-with-nullable-fields-to-an-object-with-non-nullable-fields-or-nul", "title": "Convert object with nullable fields to an object with non-nullable fields or null", "body": "<p>I have a object returned by an API, that has different nullable fields.\nI want to create a another object with non-nullable fields or return null if it is not possible. What is the language idiom that suits that scenario best? Currently I'm using <code>?.let {}</code> and it looks pretty ugly:</p>\n\n<pre><code>fun convertAnswer(userAnswer: AnswerGson, answerResponse: AnswerResponseGson,\n                  correctAnswerText: String): AnswerResponseUi? {\n    return userAnswer.id?.let { userAnswerId -&gt;\n        userAnswer.text?.let { userAnswerText -&gt;\n            answerResponse.answer?.id?.let { correctAnswerId -&gt;\n                answerResponse.points?.let { points -&gt;\n                    answerResponse.discount?.let { discount -&gt;\n                        answerResponse.booster?.let { booster -&gt;\n                            return AnswerResponseUi(userAnswerId, correctAnswerId, userAnswerText,\n                                    correctAnswerText, points, discount, booster.name ?: \"\")\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 3358889, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000512468144/picture?type=large", "display_name": "Muklas", "link": "https://stackoverflow.com/users/3358889/muklas"}, "edited": false, "score": 0, "creation_date": 1590012642, "post_id": 40135635, "comment_id": 109524304, "body": "im using this@ClassName?.isAlive()?.let {  some alerdialog } in onPostExecute still got exception BadTokenException: Unable to add window"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1476894519, "last_edit_date": 1476894519, "creation_date": 1476890615, "answer_id": 40135635, "question_id": 40135180, "link": "https://stackoverflow.com/questions/40135180/how-to-properly-do-null-checks-using-kotlin-extension-functions-on-an-android-ac/40135635#40135635", "title": "How to properly do null checks using Kotlin extension functions on an Android Activity", "body": "<p>I suppose you get NPE not in the <code>isAlive()</code> function but somewhere after, when the <code>Activity</code> is referenced. This is likely caused by the fact that <code>.isAlive()</code> returns <code>true</code> on <code>null</code> receiver.</p>\n\n<p>That's because if the receiver is <code>null</code>, <code>this?.isFinishing ?: false</code> chooses the right branch <code>false</code>, thus <code>!(this?.isFinishing ?: false)</code> is <code>true</code>.</p>\n\n<p>Try changing your function in either way so that it returns <code>false</code> on <code>null</code> receiver, for example:</p>\n\n<pre><code>fun Activity?.isAlive(): Boolean = !(this?.isFinishing ?: true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 0, "last_activity_date": 1476951687, "creation_date": 1476951687, "answer_id": 40149102, "question_id": 40135180, "link": "https://stackoverflow.com/questions/40135180/how-to-properly-do-null-checks-using-kotlin-extension-functions-on-an-android-ac/40149102#40149102", "title": "How to properly do null checks using Kotlin extension functions on an Android Activity", "body": "<p>I would suggest writing</p>\n\n<pre><code>fun Activity?.isAlive(): Boolean = this != null &amp;&amp; !this.isFinishing \n</code></pre>\n\n<p>I find the separate null check and condition easier to read than the combined versions.</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 4144974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pXJYy.png?s=128&g=1", "display_name": "Emil S.", "link": "https://stackoverflow.com/users/4144974/emil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1535011512, "creation_date": 1535011512, "answer_id": 51981016, "question_id": 40135180, "link": "https://stackoverflow.com/questions/40135180/how-to-properly-do-null-checks-using-kotlin-extension-functions-on-an-android-ac/51981016#51981016", "title": "How to properly do null checks using Kotlin extension functions on an Android Activity", "body": "<p>While the accepted answer works fine I'd suggest using an equality check instead, since it results in far more readable code:</p>\n\n<pre><code>fun Activity?.isAlive(): Boolean = this?.isFinishing == false\n</code></pre>\n"}], "owner": {"reputation": 4711, "user_id": 951722, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/no8Kh.jpg?s=128&g=1", "display_name": "Henrique", "link": "https://stackoverflow.com/users/951722/henrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "accepted_answer_id": 40135635, "answer_count": 3, "score": 3, "last_activity_date": 1535011512, "creation_date": 1476889463, "last_edit_date": 1502765100, "question_id": 40135180, "link": "https://stackoverflow.com/questions/40135180/how-to-properly-do-null-checks-using-kotlin-extension-functions-on-an-android-ac", "title": "How to properly do null checks using Kotlin extension functions on an Android Activity", "body": "<p>I'm new to Kotlin and trying to convert one of the many Android Util methods we have in our existing codebase into a Kotlin extension function.</p>\n\n<p>This is the Kotlin code:</p>\n\n<pre><code>fun Activity?.isAlive(): Boolean {\n    return !(this?.isFinishing ?: false)\n}\n</code></pre>\n\n<p>Which is meant to be the equivalent of this Java method:</p>\n\n<pre><code>public static boolean isAlive(Activity activity) {\n    return activity != null &amp;&amp; !activity.isFinishing();\n}\n</code></pre>\n\n<p>However, I'm still getting <code>NPEs</code> in the Kotlin code whenever an <code>Activity</code> is <code>null</code>. Any thoughts on where I'm going wrong?</p>\n"}, {"tags": ["maven", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1477226205, "post_id": 40131527, "comment_id": 67670573, "body": "Hi Frigo, I tried to do the same here, but then with Gradle, but you&#39;re not missing anything, it&#39;s just unsupported right now. The state of .kts files is a bit unclear anyway at the moment, I wouldn&#39;t expect too much of it."}, {"owner": {"reputation": 87, "user_id": 1980375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/09tUU.jpg?s=128&g=1", "display_name": "frigo", "link": "https://stackoverflow.com/users/1980375/frigo"}, "reply_to_user": {"reputation": 11714, "user_id": 323221, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/036bc6990a7ba39ac82cbfa266b7d326?s=128&d=identicon&r=PG", "display_name": "Erik Pragt", "link": "https://stackoverflow.com/users/323221/erik-pragt"}, "edited": false, "score": 0, "creation_date": 1477303512, "post_id": 40131527, "comment_id": 67695127, "body": "I just find it weird that the dependencies are &quot;added to the module&quot; (I am not sure what the right term is), that is they show up in the Module settings and the editor does code completion and all, but running the script is not possible. Like running a marathon and stopping few meters in front of the finish line. Something you just don&#39;t do.Anyways, thanks for your input, fun main it is!"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1499341871, "post_id": 40131527, "comment_id": 76871099, "body": "See <a href=\"https://stackoverflow.com/questions/36210011/kotlin-kotlin-script-kts-cannot-use-regular-code\" title=\"kotlin kotlin script kts cannot use regular code\">stackoverflow.com/questions/36210011/&hellip;</a> as well."}], "owner": {"reputation": 87, "user_id": 1980375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/09tUU.jpg?s=128&g=1", "display_name": "frigo", "link": "https://stackoverflow.com/users/1980375/frigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1713, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476880394, "creation_date": 1476880394, "question_id": 40131527, "link": "https://stackoverflow.com/questions/40131527/intellij-idea-does-not-add-maven-dependencies-to-kotlin-script-classpath", "title": "Intellij IDEA does not add maven dependencies to kotlin script classpath", "body": "<p>I am trying to run a Kotlin script from Intellij Idea but the dependencies defined in the pom.xml are not added to the classpath. On the <strong>Run configuration</strong> page there is no <strong>Use classpath of module</strong> option like it is for Kotlin or Java. I would expect the IDE to pass a <code>-classpath</code> parameter to the <code>org.jetbrains.kotlin.cli.jvm.K2JVMCompiler</code> because if I do it manually all is working fine.  </p>\n\n<p>Is this a bug or am I missing something?</p>\n\n<p><em>noclasspath.kts</em></p>\n\n<pre><code>import org.slf4j.MDC\n\nval osf = MDC.getMDCAdapter()\nval a = \"Monkey\"\nprintln(\"$a is big\")\n</code></pre>\n\n<p><em>pom.xml</em></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.whatever&lt;/groupId&gt;\n    &lt;artifactId&gt;whyunowork&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.0.4&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;&lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;&lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;&lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;&lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This is what I get when I run it from IDEA:</p>\n\n<pre><code>/usr/lib/jvm/jdk1.8.0_92/bin/java -Dfile.encoding=UTF-8 -classpath /home/Development/.IdeaIC2016.2/config/plugins/Kotlin/kotlinc/lib/kotlin-compiler.jar:/home/Development/.IdeaIC2016.2/config/plugins/Kotlin/kotlinc/lib/kotlin-reflect.jar:/home/Development/.IdeaIC2016.2/config/plugins/Kotlin/kotlinc/lib/kotlin-runtime.jar org.jetbrains.kotlin.cli.jvm.K2JVMCompiler -script /home/Development/project/src/main/kotlin/noclasspath.kts\nnoclasspath.kts:1:12: error: unresolved reference: slf4j\nimport org.slf4j.MDC\n           ^\nonyad.kts:3:11: error: unresolved reference: MDC\nval osf = MDC.getMDCAdapter()\n          ^\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>IDEA about page:</p>\n\n<pre><code>IntelliJ IDEA 2016.2.5\nBuild #IC-162.2228.15, built on October 14, 2016\nJRE: 1.8.0_112-release-287-b2 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\n</code></pre>\n\n<p>Kotlin plugin version</p>\n\n<pre><code>1.0.4-release-IJ2016.1-112\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476884972, "post_id": 40120625, "comment_id": 67536381, "body": "Do you have a use case in mind that requires this instead of generics on the class itself?  What is the purpose of generics that do not constrain anything in the constructor?"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476896921, "post_id": 40120625, "comment_id": 67544799, "body": "@JaysonMinard That was a pared-down example to try and keep things simple, but apparently I went too far. I&#39;ve changed the example to something a bit more realistic that hopefully illustrates why I might want constructor type parameters that do not turn into class type parameters."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476907895, "post_id": 40120625, "comment_id": 67551278, "body": "I think @yole&#39;s suggestion covers your case, factory method.,"}], "answers": [{"comments": [{"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1476851851, "post_id": 40122182, "comment_id": 67514964, "body": "Sorry, I had an error in the Java code I&#39;d posted originally. I just corrected it. You don&#39;t need type parameters on the class in Java, as you can put type parameters on the constructor."}, {"owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "reply_to_user": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1476854771, "post_id": 40122182, "comment_id": 67516007, "body": "@LaurenceGonsalves Just checked the kotlin <a href=\"https://kotlinlang.org/docs/reference/grammar.html#secondaryConstructor\" rel=\"nofollow noreferrer\">grammer</a> There is no way to do so."}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1476897028, "post_id": 40122182, "comment_id": 67544853, "body": "Is Kotlin&#39;s <code>Map&lt;*, *&gt;</code> really like a raw <code>Map</code> in Java, or is it more like the wildcard <code>Map&lt;?, ?&gt;</code>?"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1476897211, "post_id": 40122182, "comment_id": 67544948, "body": "If it&#39;s really true that Kotlin can&#39;t do this -- that seems unfortunate. Any ideas on how to convert the new example code I just posted?"}], "tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 4, "last_activity_date": 1476855404, "last_edit_date": 1476855404, "creation_date": 1476851534, "answer_id": 40122182, "question_id": 40120625, "link": "https://stackoverflow.com/questions/40120625/how-does-one-specify-type-parameters-to-the-primary-constructor-in-kotlin/40122182#40122182", "title": "How does one specify type parameters to the primary constructor in Kotlin?", "body": "<p>In Java</p>\n\n<pre><code>public class Bar&lt;K,V&gt; {\n  public final int x;\n\n  public Bar(Map&lt;K, V&gt; map) {\n    x = map.hashCode();\n  }\n}\n</code></pre>\n\n<p>equivalent in Kotlin</p>\n\n<pre><code>class Bar &lt;K,V&gt; constructor (map: Map&lt;K,V&gt;) {\n    val x = map.hashCode()\n}\n</code></pre>\n\n<p>In Java</p>\n\n<pre><code>public class Bar {\n  public final int x;\n\n  public Bar(Map map) {\n    x = map.hashCode();\n  }\n}\n</code></pre>\n\n<p>equivalent in Kotlin</p>\n\n<pre><code>class Bar constructor (map: Map&lt;*, *&gt;) {\n    val x = map.hashCode()\n}\n</code></pre>\n\n<p>In Java</p>\n\n<pre><code>public class Bar {\n  public final int x;\n\n  public &lt;K, V&gt;Bar(Map&lt;K, V&gt; map) {\n    x = map.hashCode();\n  }\n}\n</code></pre>\n\n<p>equivalent in Kotlin</p>\n\n<pre><code>// no way to do so\n</code></pre>\n\n<p>According to Kotlin <a href=\"https://kotlinlang.org/docs/reference/grammar.html#primaryConstructor\" rel=\"nofollow\">garmmer</a>, there is no equivalent in implementation in Kotlin because we cannot define Type Parameters in primary nor secondary constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1476898338, "creation_date": 1476898338, "answer_id": 40137981, "question_id": 40120625, "link": "https://stackoverflow.com/questions/40120625/how-does-one-specify-type-parameters-to-the-primary-constructor-in-kotlin/40137981#40137981", "title": "How does one specify type parameters to the primary constructor in Kotlin?", "body": "<p>Kotlin does not support type parameters for constructors, so you can define a factory function instead:</p>\n\n<pre><code>class Foo private constructor(val s: String) {\n     companion object {\n         fun &lt;K&gt; create(list: List&lt;K&gt;, map: Map&lt;K, String&gt;) =\n               Foo(list.map { map[it] }.joinToString(\"\"))\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 40137981, "answer_count": 2, "score": 1, "last_activity_date": 1476898338, "creation_date": 1476840659, "last_edit_date": 1476896769, "question_id": 40120625, "link": "https://stackoverflow.com/questions/40120625/how-does-one-specify-type-parameters-to-the-primary-constructor-in-kotlin", "title": "How does one specify type parameters to the primary constructor in Kotlin?", "body": "<p>In Java I can do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\n\nclass Foo {\n    public final String s;\n\n    // Parameters to constructor are generic, but constrained\n    public &lt;K&gt; Foo(List&lt;K&gt; list, Map&lt;K, String&gt; map) {\n        // Compute something from those parameters where result\n        // has type independent of input type parameters.\n        StringBuilder sb = new StringBuilder();\n        for (K k : list) {\n            sb.append(map.get(k));\n        }\n        s = sb.toString();\n    }\n}\n</code></pre>\n\n<p>Note that the <code>Foo</code> class has no type parameters, but its constructor has type parameters. Can something equivalent be done in Kotlin?</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1476819465, "post_id": 40116244, "comment_id": 67504772, "body": "From what I read it should be the same but does prefixing <code>Exclude</code> with &quot;field:&quot; make any difference? <code>data class User(val name: String = &quot;&quot;, @field:Exclude val age: Int = 0)</code>"}, {"owner": {"reputation": 325, "user_id": 6422865, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/452b18e05c7b6c5636181177ce633951?s=128&d=identicon&r=PG&f=1", "display_name": "Dan S", "link": "https://stackoverflow.com/users/6422865/dan-s"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1476820654, "post_id": 40116244, "comment_id": 67505447, "body": "Nope, doesn&#39;t make any difference, but @get:Exclude works (found it thanks to you). If you want post it as an answer and I&#39;ll accept it."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 2, "creation_date": 1476821432, "post_id": 40116244, "comment_id": 67505897, "body": "Ah, and that makes sense now that you mention it too. Team effort!"}], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 60, "last_activity_date": 1476821763, "creation_date": 1476821763, "answer_id": 40117301, "question_id": 40116244, "link": "https://stackoverflow.com/questions/40116244/firebase-exclude-with-kotlin-data-class/40117301#40117301", "title": "Firebase @Exclude with kotlin data class", "body": "<p>Placing <code>@Exclude</code> on a property targets its generated field and not its generated get accesor method. To do the latter you'll need to prefix \"Exclude\" with \"get:\". e.g.:</p>\n\n<pre><code>data class User(val name: String = \"\", @get:Exclude val age: Int = 0)\n</code></pre>\n\n<p>See <a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\">Annotation Use-site Targets</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "is_accepted": false, "score": 7, "last_activity_date": 1530678426, "creation_date": 1530678426, "answer_id": 51165762, "question_id": 40116244, "link": "https://stackoverflow.com/questions/40116244/firebase-exclude-with-kotlin-data-class/51165762#51165762", "title": "Firebase @Exclude with kotlin data class", "body": "<p>Actually you don't need to add only <code>@get:Exclude</code> but you need <strong>all 3 Exclude</strong>,</p>\n\n<p>@Exclude @set:Exclude @get:Exclude.</p>\n\n<p>I did it for <code>imageUrl</code> and <code>providerId</code></p>\n\n<pre><code>data class FirebaseChatModel(\n        @get:PropertyName(\"message\")\n        @set:PropertyName(\"message\")\n        var message: String = \"\",\n        @get:PropertyName(\"type\")\n        @set:PropertyName(\"type\")\n        var type: Int = 1,\n        @get:PropertyName(\"senderId\")\n        @set:PropertyName(\"senderId\")\n        var senderId: Int = 0,\n        @get:PropertyName(\"receiverId\")\n        @set:PropertyName(\"receiverId\")\n        var receiverId: Int = 0,\n        @Exclude @set:Exclude @get:Exclude var imageUrl: String? = \"\",\n        @Exclude @set:Exclude @get:Exclude var providerId: Int = 0\n)\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 6422865, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/452b18e05c7b6c5636181177ce633951?s=128&d=identicon&r=PG&f=1", "display_name": "Dan S", "link": "https://stackoverflow.com/users/6422865/dan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3424, "favorite_count": 1, "accepted_answer_id": 40117301, "answer_count": 2, "score": 26, "last_activity_date": 1601943129, "creation_date": 1476818030, "last_edit_date": 1483616676, "question_id": 40116244, "link": "https://stackoverflow.com/questions/40116244/firebase-exclude-with-kotlin-data-class", "title": "Firebase @Exclude with kotlin data class", "body": "<p>I have this data class in Kotlin (example):</p>\n\n<pre><code>import com.google.firebase.database.Exclude\n\ndata class User(val name: String = \"\", @Exclude val age: Int = 0)\n</code></pre>\n\n<p>And I don't want to save the age property in firebase. @Exclude should do this but it does not work, age is still saved.</p>\n\n<p>Are there any workarounds?</p>\n"}, {"tags": ["android", "compilation", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1476812425, "post_id": 40108647, "comment_id": 67500787, "body": "Please run your build with the --stacktrace option and edit your question to include the stacktrace; this will help understand which problem exactly you&#39;ve encountered."}, {"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1477127674, "post_id": 40108647, "comment_id": 67647226, "body": "@yole can you please check. I have added the stack trace"}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1477420490, "post_id": 40108647, "comment_id": 67756760, "body": "Hi, it seems to that your arraylist is empty, check this line <code>org.iq80.snappy.SnappyDecompressor.readUncompressedLength(Sn&zwnj;&#8203;appyDecompressor.jav&zwnj;&#8203;a:410)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1908478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495f1d3d0b11b8991bff101738083315?s=128&d=identicon&r=PG", "display_name": "user1908478", "link": "https://stackoverflow.com/users/1908478/user1908478"}, "is_accepted": false, "score": 0, "last_activity_date": 1478982362, "creation_date": 1478982362, "answer_id": 40567301, "question_id": 40108647, "link": "https://stackoverflow.com/questions/40108647/kotlin-android-compile/40567301#40567301", "title": "Kotlin Android Compile", "body": "<p>I had this error recently out of the blue as well. After far too long searching for an answer, I eventually tried Build | Rebuild Project, and it worked. It doesn't seem like a compiler problem, but rather a project setup one (since Kotlin works on my other project).</p>\n"}, {"tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": true, "score": 2, "last_activity_date": 1480665405, "creation_date": 1480665405, "answer_id": 40927304, "question_id": 40108647, "link": "https://stackoverflow.com/questions/40108647/kotlin-android-compile/40927304#40927304", "title": "Kotlin Android Compile", "body": "<p>Go to Files > Settings and turn off completely Instant Run, I mean all checkboxes should be unchecked.</p>\n\n<p>Clean and rebuild project.</p>\n\n<p>Also, check your Gradle configuration and update Gradle and Android Studio if you're not using the latest.</p>\n\n<p>According to this issue, changing Gradle plugin version from <code>2.10</code> to <code>2.14.1</code> may help.</p>\n\n<p><strong>Protip:</strong> Use combination <strong>Ctrl+Shift+A</strong> to find commands like</p>\n\n<ul>\n<li>Configure Kotlin in Project </li>\n<li>Configure Kotlin Updates </li>\n<li>Convert Java\nFile to Kotlin</li>\n</ul>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 0, "accepted_answer_id": 40927304, "answer_count": 2, "score": 1, "last_activity_date": 1480665405, "creation_date": 1476794637, "last_edit_date": 1477127662, "question_id": 40108647, "link": "https://stackoverflow.com/questions/40108647/kotlin-android-compile", "title": "Kotlin Android Compile", "body": "<p>I'm getting this error and can't figure out why:</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugKotlin'.\n&gt; java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0\n</code></pre>\n\n<p>I think it has to do with android gradle plugin version not being compatible with kotlin gradle plugin version. I didn't upgrade anything, it worked before. But suddenly, this just started to appear and prevent the compilation process.</p>\n\n<p>Is there any public place where i can find the latest android studio plugin based on the latest Kotlin plugin?</p>\n\n<p>thanks in advances,\nJ</p>\n\n<pre><code>StackTrade:\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:66)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\nCaused by: org.gradle.api.UncheckedIOException: java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0\n        at org.gradle.internal.UncheckedException.throwAsUncheckedException(UncheckedException.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:78)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:245)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:221)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:232)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:210)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n        ... 14 more\nCaused by: java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile.loadChunk(CompressedAppendableFile.java:207)\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile.access$700(CompressedAppendableFile.java:36)\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile$FileChunkReadCache.get(CompressedAppendableFile.java:482)\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile$SegmentedChunkInputStream.read(CompressedAppendableFile.java:522)\n        at org.jetbrains.kotlin.com.intellij.util.io.PersistentHashMapValueStorage.readBytes(PersistentHashMapValueStorage.java:376)\n        at org.jetbrains.kotlin.com.intellij.util.io.PersistentHashMap.doGet(PersistentHashMap.java:510)\n        at org.jetbrains.kotlin.com.intellij.util.io.PersistentHashMap.get(PersistentHashMap.java:464)\n        at org.jetbrains.kotlin.incremental.storage.LazyStorage.get(LazyStorage.kt:67)\n        at org.jetbrains.kotlin.incremental.IncrementalCacheImpl$SourceToClassesMap.get(IncrementalCacheImpl.kt:558)\n        at org.jetbrains.kotlin.incremental.IncrementalCacheImpl.classesBySources(IncrementalCacheImpl.kt:128)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler(Tasks.kt:445)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler(Tasks.kt:151)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:117)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        ... 20 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 0\n        at org.iq80.snappy.SnappyDecompressor.readUncompressedLength(SnappyDecompressor.java:410)\n        at org.iq80.snappy.SnappyDecompressor.uncompress(SnappyDecompressor.java:38)\n        at org.iq80.snappy.Snappy.uncompress(Snappy.java:37)\n        at org.jetbrains.kotlin.com.intellij.util.CompressionUtil.readCompressedWithoutOriginalBufferLength(CompressionUtil.java:97)\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile.decompress(CompressedAppendableFile.java:370)\n        at org.jetbrains.kotlin.com.intellij.util.io.CompressedAppendableFile.loadChunk(CompressedAppendableFile.java:191)\n        ... 33 more\n\n\nBUILD FAILED\n</code></pre>\n"}, {"tags": ["rx-java", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1476795332, "post_id": 40108386, "comment_id": 67488932, "body": "is your observable complete ? (it shoudn&#39;t according to your code)"}, {"owner": {"reputation": 1581, "user_id": 2087161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e5YGG.png?s=128&g=1", "display_name": "Felipe R. Saruhashi", "link": "https://stackoverflow.com/users/2087161/felipe-r-saruhashi"}, "reply_to_user": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1476795365, "post_id": 40108386, "comment_id": 67488966, "body": "It runs the subscribe once."}, {"owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1476795929, "post_id": 40108386, "comment_id": 67489385, "body": "try to debug this by adding a log in the click observable : <code>val buttonObservable = RxView.clicks(btnRequest).doonNext { it -&gt;  Log.debug(&quot;click !&quot;) }</code> and add a onComplete call back in your subscribe :   <code>.subscribe({it -&gt; &#47;* onNext *&#47; }, {it -&gt; &#47;* onError *&#47;}, { () -&gt; Log.d(&quot;onCompleted&quot;) })</code>"}, {"owner": {"reputation": 1581, "user_id": 2087161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e5YGG.png?s=128&g=1", "display_name": "Felipe R. Saruhashi", "link": "https://stackoverflow.com/users/2087161/felipe-r-saruhashi"}, "reply_to_user": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1476796295, "post_id": 40108386, "comment_id": 67489652, "body": "runs the click log, but not the onComplete."}, {"owner": {"reputation": 1581, "user_id": 2087161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e5YGG.png?s=128&g=1", "display_name": "Felipe R. Saruhashi", "link": "https://stackoverflow.com/users/2087161/felipe-r-saruhashi"}, "reply_to_user": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1476796600, "post_id": 40108386, "comment_id": 67489909, "body": "I just notice something, it runs the error block, it will not run any click anymore, but when it runs successfull, still run the click"}, {"owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 1, "creation_date": 1476798892, "post_id": 40108386, "comment_id": 67491666, "body": "This is expected. Once your got an error, the observable is in a terminal state and won&#39;t emit anymore."}, {"owner": {"reputation": 7287, "user_id": 258848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2Ckug.jpg?s=128&g=1", "display_name": "dimsuz", "link": "https://stackoverflow.com/users/258848/dimsuz"}, "edited": false, "score": 0, "creation_date": 1476799387, "post_id": 40108386, "comment_id": 67492050, "body": "You can use <code>.onErrorResumeNext()</code> or <code>.onErrorReturn()</code> or other operators to decide what to do in case you need to fallback from error state..."}], "owner": {"reputation": 1581, "user_id": 2087161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e5YGG.png?s=128&g=1", "display_name": "Felipe R. Saruhashi", "link": "https://stackoverflow.com/users/2087161/felipe-r-saruhashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476803833, "creation_date": 1476794009, "last_edit_date": 1476803833, "question_id": 40108386, "link": "https://stackoverflow.com/questions/40108386/rx-java-retrofit-with-flatmap-runs-only-once", "title": "Rx Java Retrofit with flatMap runs only once", "body": "<p>I'm trying to get a observable from a stream of button click then flatmap with another observable from retrofit to request an endpoint, but it only run once! When I click again, don't pass through the flat map method.</p>\n\n<p>It's strange cause when the flatmap return others observables it runs okay, but with the retrofit one it only runs once.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    var retrofit:Retrofit = Retrofit.Builder()\n            .baseUrl(\"&lt;SERVER_IP&gt;\") \n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJavaCallAdapterFactory.createWithScheduler(Schedulers.io()))\n            .build()\n\n    var testService:TestService = retrofit.create(TestService::class.java)\n\n    var buttonObservable:Observable&lt;Void&gt; = RxView.clicks(btnRequest)\n\n    buttonObservable\n            .observeOn(Schedulers.newThread())\n            .subscribeOn(AndroidSchedulers.mainThread())\n            .flatMap {\n                Log.i(\"debug\", \"run flatmap\")\n                var request:Request = Request()\n                request.accessToken = \"&lt;acess_token&gt;\"\n                testService.test(request)\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ user -&gt;\n                Log.i(\"debug\", \"user \")\n            },\n            { err -&gt;\n                Log.d(\"debug\", \"err: ${err.message}\")\n            })\n}\n</code></pre>\n\n<p>Test Interface :</p>\n\n<pre><code>interface TestService {\n@POST(\"protected\")\n   fun test(@Body request: Request) : Observable&lt;User&gt;\n}\n</code></pre>\n\n<p>Request Class:</p>\n\n<pre><code>class Request {\n    var accessToken:String = \"\"\n}\n</code></pre>\n\n<p>Thanks in advance!!!!</p>\n\n<p>EDIT:\nIn the end, what was happening was that the onError was trigger, which stops the stream.</p>\n\n<p>The following code solve it:</p>\n\n<pre><code>buttonObservable\n            .observeOn(Schedulers.newThread())\n            .subscribeOn(AndroidSchedulers.mainThread())\n            .flatMap {\n\n\n                try {\n                    Log.i(\"debug\", \"run flatmap\")\n\n\n                    var blaService = retrofit.create(TestService::class.java)\n\n                    var request: Request = Request()\n\n                    blaService.test(request)\n\n                } catch(t:Throwable) {\n                    Observable.empty&lt;Void&gt;()\n                }\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ user -&gt;\n                Log.i(\"debug\", \"user \")\n            },\n            { err -&gt;\n                Log.d(\"debug\", \"err: ${err.message}\")\n            }, {\n               Log.i(\"debug\", \"onComplete\")\n            })\n</code></pre>\n\n<p>But it's not the better way to do it, there's an correct way to continue the stream after hit the onError or onComplete?</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476885479, "post_id": 40101277, "comment_id": 67536825, "body": "If you change all your <code>Comparable&lt;Something&gt;</code> to <code>Comparable&lt;Any&gt;</code> you could do this, and you would override it with same signature in <code>ClassAB</code> ... but then you have to type check the compare and decide what to do if not the same class type."}], "answers": [{"comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 2, "creation_date": 1476776177, "post_id": 40102198, "comment_id": 67476262, "body": "+1. the <code>compareTo</code>-implementation simply does not belong into an interface. it&#39;s &quot;wrong&quot; to compare things that are not concrete"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1476885528, "post_id": 40102198, "comment_id": 67536870, "body": "@Lovis I wouldn&#39;t say that, conceptually the interface can say that it can be compared based on the state it expects and it provides a default implementation based on that state.  Like any default implementation in an interface it can be overridden by concrete implementations that want to differ.  But I do agree in this case it is odd and will cause weird implementation problems."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476887119, "post_id": 40102198, "comment_id": 67538221, "body": "@JaysonMinard that&#39;s why I wrote &quot;wrong&quot; in <i>&quot;</i> ;-)"}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 4, "last_activity_date": 1476776072, "creation_date": 1476776072, "answer_id": 40102198, "question_id": 40101277, "link": "https://stackoverflow.com/questions/40101277/platform-declaration-clash-with-comparable/40102198#40102198", "title": "Platform Declaration Clash with Comparable", "body": "<p>Either you have to get rid of one of those comparables or you could use composition. It depends on you use case.</p>\n\n<p>Here is example for composition.</p>\n\n<pre><code>data class ClassAB(val x: Int, val y: String): Comparable&lt;ClassAB&gt;\n{\n    val classA: ClassA\n    val classB: ClassB\n\n    override fun compareTo(other: ClassAB): Int {\n        // do compare\n        classA.compareTo(other.classA)\n        classB.compareTo(other.classB)\n        throw UnsupportedOperationException(\"not implemented\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 4437573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ca3a87a89d3d4aaef64b82d74a15ef6?s=128&d=identicon&r=PG&f=1", "display_name": "desilvai", "link": "https://stackoverflow.com/users/4437573/desilvai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 40102198, "answer_count": 1, "score": 1, "last_activity_date": 1476776072, "creation_date": 1476773061, "question_id": 40101277, "link": "https://stackoverflow.com/questions/40101277/platform-declaration-clash-with-comparable", "title": "Platform Declaration Clash with Comparable", "body": "<p>I'm getting a Platform Declaration Clash error from the compiler resulting from multiple default implementations of the Comparable interfaces (demonstrated below).</p>\n\n<pre><code>interface ClassA: Comparable&lt;ClassA&gt;\n{\n    val x: Int\n        get\n\n    override fun compareTo(other: ClassA): Int = this.x.compareTo(other.x)\n}\n\ninterface ClassB: Comparable&lt;ClassB&gt;\n{\n    val y: String\n        get\n\n    override fun compareTo(other: ClassB): = this.y.compareTo(other.t)\n}\n\ndata class ClassAB(val x: Int, val y: String): ClassA, ClassB\n{\n     ...\n}\n</code></pre>\n\n<p>I understand why I'm getting this error; both default implementations of <code>compareTo</code> map to <code>compareTo(Object)</code> in Java.  Thus, in the child, Kotlin doesn't know which one to use.  </p>\n\n<p>Is there a mechanism that will allow me to select the one to use, or, better yet, let me override <code>compareTo(Object)</code>?  I've tried defining <code>compareTo(Any)</code>, but that wasn't right.  Another posting suggested using <code>@JvmName</code>, but the annotation doesn't apply here (per the compiler).</p>\n\n<p>Any help would be greatly appreciated.  Thanks!</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 7129, "user_id": 118268, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a9091e392a6c86f372075a4bf1aea538?s=128&d=identicon&r=PG", "display_name": "KevinS", "link": "https://stackoverflow.com/users/118268/kevins"}, "edited": false, "score": 0, "creation_date": 1476830200, "post_id": 40101046, "comment_id": 67509757, "body": "That looks like it should work but I get an error. I think it could be a bug. Logged it here: <a href=\"https://discuss.gradle.org/t/in-gradle-script-kotlin-tasks-getbyname-with-closure-errors-with-value-is-null/20065/1\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/&hellip;</a>"}, {"owner": {"reputation": 238, "user_id": 2491459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4yEW.jpg?s=128&g=1", "display_name": "varcharmander", "link": "https://stackoverflow.com/users/2491459/varcharmander"}, "edited": false, "score": 0, "creation_date": 1572496439, "post_id": 40101046, "comment_id": 103580401, "body": "See the answer by @SoBeRich for a cleaner answer <a href=\"https://stackoverflow.com/a/48241682/2491459\">stackoverflow.com/a/48241682/2491459</a>"}, {"owner": {"reputation": 101, "user_id": 1533966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/048d19d485066d3e927a0d25b8ff64dd?s=128&d=identicon&r=PG", "display_name": "NCrash", "link": "https://stackoverflow.com/users/1533966/ncrash"}, "edited": false, "score": 0, "creation_date": 1612356327, "post_id": 40101046, "comment_id": 116740191, "body": "It was helpful.  I&#39;d like someone to make an groovy to kotlin-dsl converter!"}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 9, "last_activity_date": 1504922184, "last_edit_date": 1504922184, "creation_date": 1476772169, "answer_id": 40101046, "question_id": 40096007, "link": "https://stackoverflow.com/questions/40096007/how-to-configure-the-processresources-task-in-a-gradle-kotlin-build/40101046#40101046", "title": "How to configure the processResources task in a Gradle Kotlin build", "body": "<p>I think task should look like:</p>\n\n<p><strong>Edit</strong>: According this <a href=\"https://github.com/gradle/kotlin-dsl/issues/34#issuecomment-247497512\" rel=\"noreferrer\">comment</a> in <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"noreferrer\">gradle/kotlin-dsl</a> repository. Task configuration should work this way:</p>\n\n<pre><code>import org.gradle.language.jvm.tasks.ProcessResources\n\napply {\n    plugin(\"java\")\n}\n\n(tasks.getByName(\"processResources\") as ProcessResources).apply {\n    filesMatching(\"application.properties\") {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p>Which is pretty ugly. So i suggest following utility function for this purpose, until one upstream done:</p>\n\n<pre><code>configure&lt;ProcessResources&gt;(\"processResources\") {\n    filesMatching(\"application.properties\") {\n        expand(project.properties)\n    }\n}\n\ninline fun &lt;reified C&gt; Project.configure(name: String, configuration: C.() -&gt; Unit) {\n    (this.tasks.getByName(name) as C).configuration()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "edited": false, "score": 0, "creation_date": 1572510382, "post_id": 46126491, "comment_id": 103584465, "body": "This is also IMO anti-pattern to get reference to <code>TaskProvider&lt;..&gt;</code> when you are not using that reference.  aslo with &quot;newer release&quot; (after time of your anserwer) you can just do <code>tasks.processResources {}</code> or <code>tasks { processResources {} }</code> generated accessors are &quot;lazy&quot; so it has all the benefits and do downsides."}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": false, "score": 8, "last_activity_date": 1504922311, "creation_date": 1504922311, "answer_id": 46126491, "question_id": 40096007, "link": "https://stackoverflow.com/questions/40096007/how-to-configure-the-processresources-task-in-a-gradle-kotlin-build/46126491#46126491", "title": "How to configure the processResources task in a Gradle Kotlin build", "body": "<p>With updates to the APIs in newer release of the Kotlin DSL and Gradle, you can do something like:</p>\n\n<pre><code>import org.gradle.language.jvm.tasks.ProcessResources\n\nplugins {\n  java\n}\n\ntasks {\n  \"processResources\"(ProcessResources::class) {\n    filesMatching(\"application.properties\") {\n      expand(project.properties)\n    }\n  }\n}\n</code></pre>\n\n<p>And also:</p>\n\n<pre><code>val processResources by tasks.getting(ProcessResources::class) {\n  filesMatching(\"application.properties\") {\n    expand(project.properties)\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238, "user_id": 2491459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4yEW.jpg?s=128&g=1", "display_name": "varcharmander", "link": "https://stackoverflow.com/users/2491459/varcharmander"}, "edited": false, "score": 0, "creation_date": 1572496321, "post_id": 48241682, "comment_id": 103580386, "body": "This should honestly be the correct answer. You would only need <code>&quot;processResources&quot;(ProcessResources::class)</code> if you weren&#39;t in a context where the Java plugin is applied."}, {"owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "reply_to_user": {"reputation": 238, "user_id": 2491459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g4yEW.jpg?s=128&g=1", "display_name": "varcharmander", "link": "https://stackoverflow.com/users/2491459/varcharmander"}, "edited": false, "score": 0, "creation_date": 1572510053, "post_id": 48241682, "comment_id": 103584326, "body": "@varcharmander also note what often escapes attention that in configures all tasks with such type for all <code>sourceSets</code> (e.g. also for <code>test</code> and any custom one). Which is a common mistake when people do <code>compileJava {}</code> it only affects <code>JavaCompile</code> task for <code>main</code> <code>sourceSet</code>, so it always should be <code>withType&lt;...&gt;</code> for any type of tasks which has their instances run for different <code>sourceSets</code>"}], "tags": [], "owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "is_accepted": false, "score": 14, "last_activity_date": 1577961258, "last_edit_date": 1577961258, "creation_date": 1515859906, "answer_id": 48241682, "question_id": 40096007, "link": "https://stackoverflow.com/questions/40096007/how-to-configure-the-processresources-task-in-a-gradle-kotlin-build/48241682#48241682", "title": "How to configure the processResources task in a Gradle Kotlin build", "body": "<p>Why not to just use \"withType\" ?\nI just mean (IMHO) </p>\n\n<pre><code>tasks {\n  withType&lt;ProcessResources&gt; {\n.. \n}\n</code></pre>\n\n<p>looks much better than </p>\n\n<pre><code>tasks {\n  \"processResources\"(ProcessResources::class) {\n.. \n}\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>tasks.withType&lt;ProcessResources&gt; {\n    //from(\"${project.projectDir}src/main/resources\")\n    //into(\"${project.buildDir}/whatever/\")\n    filesMatching(\"*.cfg\") {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>With newer release you can just do:</p>\n\n<pre><code>tasks.processResources {}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>tasks { processResources {} }\n</code></pre>\n\n<p>generated accessors are \"lazy\" so it has all the benefits and no downsides.</p>\n"}], "owner": {"reputation": 7129, "user_id": 118268, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a9091e392a6c86f372075a4bf1aea538?s=128&d=identicon&r=PG", "display_name": "KevinS", "link": "https://stackoverflow.com/users/118268/kevins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5516, "favorite_count": 0, "accepted_answer_id": 40101046, "answer_count": 3, "score": 6, "last_activity_date": 1577961258, "creation_date": 1476739911, "last_edit_date": 1504920839, "question_id": 40096007, "link": "https://stackoverflow.com/questions/40096007/how-to-configure-the-processresources-task-in-a-gradle-kotlin-build", "title": "How to configure the processResources task in a Gradle Kotlin build", "body": "<p>I have the following in a groovy-based build script. How do I do the same in a kotlin-based script?</p>\n\n<pre><code>processResources {\n\n    filesMatching('application.properties'){\n        expand(project.properties)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476725572, "post_id": 40091691, "comment_id": 67457443, "body": "Are you sure this is the real problem, which function being called?  Did you log from the functions or add something else that can verify which is being called?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476725638, "post_id": 40091691, "comment_id": 67457480, "body": "Also, you can omit the <code>?</code> on the <code>Menu?</code> if you are sure it is always passed as a non null value.  Overridden functions are allowed to further define the nullability of a Java method."}, {"owner": {"reputation": 175, "user_id": 5740851, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/028ca1819e0ba73cbf774215dd482e72?s=128&d=identicon&r=PG&f=1", "display_name": "MediaPortal", "link": "https://stackoverflow.com/users/5740851/mediaportal"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476725684, "post_id": 40091691, "comment_id": 67457502, "body": "I debug it. Yeah, function from extended activity is not calling."}], "owner": {"reputation": 175, "user_id": 5740851, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/028ca1819e0ba73cbf774215dd482e72?s=128&d=identicon&r=PG&f=1", "display_name": "MediaPortal", "link": "https://stackoverflow.com/users/5740851/mediaportal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476725351, "creation_date": 1476722957, "last_edit_date": 1476725351, "question_id": 40091691, "link": "https://stackoverflow.com/questions/40091691/oncreateoptionsmenu-called-from-abstract-class", "title": "OnCreateOptionsMenu called from abstract class", "body": "<p>I have abstract class for my app. <code>AbstractToolbarActivity</code> and extended class <code>AboutActivity</code>. And in my abstract activity I override <code>onCreateOptionsMenu()</code></p>\n\n\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n    menuInflater.inflate(R.menu.menu_options, menu)\n    return true\n}\n</code></pre>\n\n<p>Its Kotlin.</p>\n\n<p>And i override this function in extended activity <code>AboutActivity</code>:</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n    menu?.clear()\n    return false\n}\n</code></pre>\n\n<p>But when i start my <code>AboutActivity</code> it calls the function from the parent class. I override it, so why is it calling the implementation in the abstract class? How I can clear menu items?</p>\n"}, {"tags": ["kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 1363742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1f0e3371f4ec5080c73f9cd7e2e41a0?s=128&d=identicon&r=PG", "display_name": "luca992", "link": "https://stackoverflow.com/users/1363742/luca992"}, "edited": false, "score": 0, "creation_date": 1476744016, "post_id": 40088544, "comment_id": 67466276, "body": "Same here, changing the order does not help."}, {"owner": {"reputation": 1307, "user_id": 1363742, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a1f0e3371f4ec5080c73f9cd7e2e41a0?s=128&d=identicon&r=PG", "display_name": "luca992", "link": "https://stackoverflow.com/users/1363742/luca992"}, "edited": false, "score": 4, "creation_date": 1476746659, "post_id": 40088544, "comment_id": 67466985, "body": "I put a kotlin bug report up <a href=\"https://youtrack.jetbrains.com/issue/KT-14417\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-14417</a>"}, {"owner": {"reputation": 131, "user_id": 3281959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5XZz.jpg?s=128&g=1", "display_name": "Dharmendra Jadon", "link": "https://stackoverflow.com/users/3281959/dharmendra-jadon"}, "edited": false, "score": 4, "creation_date": 1507528804, "post_id": 40088544, "comment_id": 80228456, "body": "Binding look for static method and on providing @JvmStatic inside companion object fixes the problem"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573326355, "post_id": 40088544, "comment_id": 103848866, "body": "Why do we have to have <b>companion object</b>?"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573559365, "post_id": 40088544, "comment_id": 103913527, "body": "@IgorGanapolsky nobody said you <i>have to</i> (see accepted answer), but that&#39;s how the question was asked."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573568003, "post_id": 40088544, "comment_id": 103917937, "body": "@Lovis Then there is no need for <code>@JvmStatic</code>"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 37, "last_activity_date": 1476713080, "creation_date": 1476713080, "answer_id": 40088544, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/40088544#40088544", "title": "Kotlin custom attribute databinding", "body": "<p>Try switching the order of the annotations. It seems to fix the issue:</p>\n\n<pre><code>class Utils {\n    companion object {\n        @JvmStatic @BindingAdapter(\"imageUrl\")\n        fun loadImage(view: ImageView, url:String) { ... } \n    }\n} \n</code></pre>\n\n<p>The problem is that the databindng compiler uses <code>getCompanion().loadImage</code> otherwise<sup>*</sup>.<br>\nYou can verify this in the generated <code>com.your.package.databinding.*Binding</code> class</p>\n\n<p><sup>*</sup> After playing around a bit I noticed that this has nothing to do with the order of the annotations, but seems to be random. It seems to change whenever I hit \"rebuild\". It might be a bug in <code>kapt</code> or in the kotlin compiler</p>\n"}, {"comments": [{"owner": {"reputation": 3535, "user_id": 1725428, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5ee9bb9900d2713d80b49014179ed41d?s=128&d=identicon&r=PG", "display_name": "omerjerk", "link": "https://stackoverflow.com/users/1725428/omerjerk"}, "edited": false, "score": 2, "creation_date": 1505806553, "post_id": 40099633, "comment_id": 79551592, "body": "This answer is still giving me error. Lovis&#39; answer worked for me."}, {"owner": {"reputation": 1128, "user_id": 4710549, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh6.googleusercontent.com/-4wgiZ21V-s4/AAAAAAAAAAI/AAAAAAAAADI/q8hYvoEldtU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0428\u0438\u0440\u043e\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4710549/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d0%bc%d0%b8%d1%80-%d0%a8%d0%b8%d1%80%d0%be%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1509092249, "post_id": 40099633, "comment_id": 80888212, "body": "What about lambdas? How can I assign lambda function in xml layout for custom BindingAdapter in Kotlin?"}, {"owner": {"reputation": 4405, "user_id": 631814, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8f02294f1d1e1c578542deff566367?s=128&d=identicon&r=PG", "display_name": "Stepango", "link": "https://stackoverflow.com/users/631814/stepango"}, "reply_to_user": {"reputation": 1128, "user_id": 4710549, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh6.googleusercontent.com/-4wgiZ21V-s4/AAAAAAAAAAI/AAAAAAAAADI/q8hYvoEldtU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0428\u0438\u0440\u043e\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4710549/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d0%bc%d0%b8%d1%80-%d0%a8%d0%b8%d1%80%d0%be%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1509698491, "post_id": 40099633, "comment_id": 81132272, "body": "@\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0428\u0438\u0440\u043e\u043a\u043e\u0432 yes you can, same as <code>onClick</code> works for Views in XML, you&#39;ll just need proper SAM class/interface <a href=\"https://developer.android.com/reference/android/databinding/BindingAdapter.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/databinding/&hellip;</a>"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573326325, "post_id": 40099633, "comment_id": 103848854, "body": "What about the use of <code>@JvmStatic</code>?"}, {"owner": {"reputation": 4405, "user_id": 631814, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8f02294f1d1e1c578542deff566367?s=128&d=identicon&r=PG", "display_name": "Stepango", "link": "https://stackoverflow.com/users/631814/stepango"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1573372034, "post_id": 40099633, "comment_id": 103855870, "body": "@IgorGanapolsky all top-level functions is <code>static</code> so you don&#39;t need to declare it as <code>@JvmStatic</code>"}], "tags": [], "owner": {"reputation": 4405, "user_id": 631814, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8f02294f1d1e1c578542deff566367?s=128&d=identicon&r=PG", "display_name": "Stepango", "link": "https://stackoverflow.com/users/631814/stepango"}, "is_accepted": true, "score": 112, "last_activity_date": 1601175713, "last_edit_date": 1601175713, "creation_date": 1476765616, "answer_id": 40099633, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/40099633#40099633", "title": "Kotlin custom attribute databinding", "body": "<p>Just keep function on the top level, no class or companion object needed, it will work since top-level functions in Kotlin translated to static member functions of Class named as <code>FileNameKt</code> unless overridden by <code>@file:JvmName</code> annotation</p>\n<pre><code>@BindingAdapter(&quot;imageUrl&quot;)\nfun loadImage(view: ImageView, url:String) { ... }\n</code></pre>\n<p>One more option is to annotate Extension Function as <code>@BindingAdapter</code>, it will work since in bytecode signature will exactly match signature expected by DataBindings(generated method will still accept an object of the extended class as the first argument), the function should remain top level as well</p>\n<pre><code>@BindingAdapter(&quot;imageUrl&quot;)\nfun ImageView.loadImage(url:String) { ... }\n</code></pre>\n<p>One more option is to combine <code>BindingAdapter</code> with the extension property like following:</p>\n<pre><code>@set:BindingAdapter(&quot;visible&quot;)\nvar View.visible\n    get() = visibility == VISIBLE\n    set(value) {\n        visibility = if (value) VISIBLE else GONE\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3105, "user_id": 1829281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b211518f35a1640f992b6b44e738594?s=128&d=identicon&r=PG", "display_name": "Andrii Kovalchuk", "link": "https://stackoverflow.com/users/1829281/andrii-kovalchuk"}, "is_accepted": false, "score": 10, "last_activity_date": 1572807740, "last_edit_date": 1572807740, "creation_date": 1515089556, "answer_id": 48101192, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/48101192#48101192", "title": "Kotlin custom attribute databinding", "body": "<p>Adding <code>@JvmStatic</code> after <code>@BindingAdapter(\"imageUrl\")</code> fixed my problem.</p>\n\n<p>For ex:</p>\n\n<pre><code>    @BindingAdapter(\"android:visibility\")\n    @JvmStatic\n    fun setVisibility(view: View, visible: Boolean) {\n        view.visibility = if (visible) View.VISIBLE else View.GONE\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573326399, "post_id": 49415850, "comment_id": 103848879, "body": "You need @JvmStatic"}, {"owner": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1573471347, "post_id": 49415850, "comment_id": 103880979, "body": "@IgorGanapolsky you need &#39;@JvmStatic&#39; only if you are going to call it from Java code, it&#39;s for interop only. <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-to-kotlin-interop.html</a>"}], "tags": [], "owner": {"reputation": 5306, "user_id": 1210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LS4Qt.jpg?s=128&g=1", "display_name": "Yazazzello", "link": "https://stackoverflow.com/users/1210841/yazazzello"}, "is_accepted": false, "score": 3, "last_activity_date": 1521663747, "creation_date": 1521663747, "answer_id": 49415850, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/49415850#49415850", "title": "Kotlin custom attribute databinding", "body": "<p>Or using extension:</p>\n\n<pre><code>@BindingAdapter(\"imageUrl\")\nfun ImageView.setImageUrl(url: String?) {\n    Picasso.with(context).load(url).into(this)\n}\n</code></pre>\n\n<p>Now you can use this function anywhere else</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573326415, "post_id": 53270596, "comment_id": 103848881, "body": "This requires companion object"}, {"owner": {"reputation": 360, "user_id": 8558850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nSFgiy-W07U/AAAAAAAAAAI/AAAAAAAAAOA/M9gitV3twwE/photo.jpg?sz=128", "display_name": "Fidan Bacaj", "link": "https://stackoverflow.com/users/8558850/fidan-bacaj"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1573578501, "post_id": 53270596, "comment_id": 103923767, "body": "&#39;@JvmStatic&#39; handle that, &#39;@JvmStatic&#39; its like companion object !"}], "tags": [], "owner": {"reputation": 360, "user_id": 8558850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nSFgiy-W07U/AAAAAAAAAAI/AAAAAAAAAOA/M9gitV3twwE/photo.jpg?sz=128", "display_name": "Fidan Bacaj", "link": "https://stackoverflow.com/users/8558850/fidan-bacaj"}, "is_accepted": false, "score": 2, "last_activity_date": 1542059298, "creation_date": 1542059298, "answer_id": 53270596, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/53270596#53270596", "title": "Kotlin custom attribute databinding", "body": "<p>The function(loadImage) need to put in object(Singleton in java) not in class and set <code>@JvmStatic</code> before <code>@BindingAdapter(\"imageUrl\")</code> like this :</p>\n\n<pre><code>&lt;ImageView\nandroid:id=\"@+id/imgView\u201d\nandroid:layout_width=\"40dp\"\nandroid:layout_height=\"40dp\"\nandroid:layout_gravity=\"center\"\nandroid:adjustViewBounds=\"true\"\nimageUrl=\"@{segment.url}\"/&gt;\n\n   @JvmStatic\n   @BindingAdapter(\"bind:imageUrl\")\n   fun ImageView.loadImage( url:String) {\nPicasso.with(this.context).load(url).error(R.drawable.error).into(this)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 2, "last_activity_date": 1559331935, "creation_date": 1559331935, "answer_id": 56400936, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/56400936#56400936", "title": "Kotlin custom attribute databinding", "body": "<p>This worked for me</p>\n\n<pre><code>object ImageUtils {\n\n        @JvmStatic @BindingAdapter(\"imageUrl\")\n        fun ImageView.loadImage(url: String?){\n                GlideHelper.loadImage(url,this)\n        }\n}\n</code></pre>\n\n<p>in xml like this:</p>\n\n<pre><code>imageUrl=\"@{file.thumbnailLink}\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573326448, "post_id": 58688747, "comment_id": 103848890, "body": "Why do you have back-ticks around @BindingAdapter?"}, {"owner": {"reputation": 39, "user_id": 11763944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48003675d3e994ea3ed8a1e992a10f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhanalakshmi", "link": "https://stackoverflow.com/users/11763944/dhanalakshmi"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573632516, "post_id": 58688747, "comment_id": 103940697, "body": "@igorganapolsky sorry.. Typo"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573665195, "post_id": 58688747, "comment_id": 103958523, "body": "There is absolutely no need for <b>companion object</b> with BindingAdapter"}, {"owner": {"reputation": 39, "user_id": 11763944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48003675d3e994ea3ed8a1e992a10f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhanalakshmi", "link": "https://stackoverflow.com/users/11763944/dhanalakshmi"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573708039, "post_id": 58688747, "comment_id": 103972453, "body": "we should give companion object.. bcz we use @JvmStatic. otherwise we get an error."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573742353, "post_id": 58688747, "comment_id": 103989621, "body": "<code>@JvmStatic</code> is not a requirement"}, {"owner": {"reputation": 39, "user_id": 11763944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48003675d3e994ea3ed8a1e992a10f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhanalakshmi", "link": "https://stackoverflow.com/users/11763944/dhanalakshmi"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573750430, "post_id": 58688747, "comment_id": 103994823, "body": "JvmStatic is must. Without @JvmStatic getting error like &quot;make all BindingAdapter methods static. please check out."}], "tags": [], "owner": {"reputation": 39, "user_id": 11763944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48003675d3e994ea3ed8a1e992a10f?s=128&d=identicon&r=PG&f=1", "display_name": "Dhanalakshmi", "link": "https://stackoverflow.com/users/11763944/dhanalakshmi"}, "is_accepted": false, "score": 3, "last_activity_date": 1573632418, "last_edit_date": 1573632418, "creation_date": 1572851713, "answer_id": 58688747, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding/58688747#58688747", "title": "Kotlin custom attribute databinding", "body": "<p>This is working for me. Please find it below..</p>\n\n<p><strong>Add in gradle:</strong></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n kapt \"com.android.databinding:compiler:3.1.4\"\n}\n</code></pre>\n\n<p><strong>Add in POJO:</strong></p>\n\n<pre><code>companion object {\n  @BindingAdapter(\"image\")\n    @JvmStatic\n         fun loadImage(view: ImageView, imageUrl: String) {\n\n             //am Using Glide\nGlide.with(view.context).setDefaultRequestOptions(RequestOptions().circleCrop())\n                 .load(imageUrl).into(view)\n         }\n     }\n</code></pre>\n\n<p><strong>In Layout:</strong></p>\n\n<p>Add bind:image=\"@{movies.imageUrl}</p>\n\n<pre><code>&lt;ImageView \n  android:id=\"@+id/imageView\"\n  android:layout_width=\"100dp\"\n  android:layout_height=\"100dp\"\n  bind:image=\"@{movies.imageUrl}/&gt;\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 6519926, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/47fedcee42094cbbc9bfeefc19ce56d8?s=128&d=identicon&r=PG&f=1", "display_name": "Akshata", "link": "https://stackoverflow.com/users/6519926/akshata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19226, "favorite_count": 17, "accepted_answer_id": 40099633, "answer_count": 7, "score": 70, "last_activity_date": 1601175713, "creation_date": 1476705234, "last_edit_date": 1595801225, "question_id": 40085724, "link": "https://stackoverflow.com/questions/40085724/kotlin-custom-attribute-databinding", "title": "Kotlin custom attribute databinding", "body": "<p>I am trying to set custom attribute using the <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"noreferrer\">Android DataBinding Library</a>\nin my Kotlin project like this:</p>\n<h3>Layout</h3>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/imgView\u201d\n    android:layout_width=&quot;40dp&quot;\n    android:layout_height=&quot;40dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:adjustViewBounds=&quot;true&quot;\n    app:imageUrl=&quot;@{segment.url}&quot;/&gt;\n                            \n</code></pre>\n<h3>Code</h3>\n<pre><code>class Utils {\n    companion object {\n        @BindingAdapter(&quot;bind:imageUrl&quot;)\n        @JvmStatic\n        fun loadImage(view: ImageView, url:String) \n        {Picasso.with(view.context).load(url).error(R.drawable.error).into(view)}\n    }\n}\n\n    \n\n    \n</code></pre>\n<p>The runtime error I get is:</p>\n<blockquote>\n<p>A BindingAdapter in in &lt;package.Utils.Companion&gt; is not static and requires an object to use, retrieved from the DataBindingComponent. If you don't use an inflation method taking a DataBindingComponent, use DataBindingUtil.setDefaultComponent or make all BindingAdapter methods static.</p>\n</blockquote>\n<p>Any pointers to solve it?</p>\n<p>This happens only for custom attributes. The rest of the databindings work fine</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1476692861, "post_id": 40080765, "comment_id": 67436036, "body": "<code>val map: MultiMap = it.request().params() ... </code> is extracted inside the <code>fun Router.handleJsonGet(path: String, method: (any:Any) -&gt; Any) {</code>, how do I get that map inside the Lambda so that I can pass it as a parameter as in your example?"}], "tags": [], "owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "is_accepted": false, "score": 0, "last_activity_date": 1476689586, "creation_date": 1476689586, "answer_id": 40080765, "question_id": 40079964, "link": "https://stackoverflow.com/questions/40079964/pass-function-that-receives-params-as-param-to-class-extension-method/40080765#40080765", "title": "Pass function that receives params as param to class extension method", "body": "<p>Call it like this:</p>\n\n<pre><code>router.handleJsonGet(\"/business/list\", {\n   BusinessService.listBusinesses(anyParamHere)\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1476722756, "post_id": 40083520, "comment_id": 67455899, "body": "that works, didn&#39;t know it would be that simple. Looking forward to the Kotlin 1.1 feature."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1476698661, "creation_date": 1476698661, "answer_id": 40083520, "question_id": 40079964, "link": "https://stackoverflow.com/questions/40079964/pass-function-that-receives-params-as-param-to-class-extension-method/40083520#40083520", "title": "Pass function that receives params as param to class extension method", "body": "<p>The syntax you tried to use (<code>BusinessService::listBusinesses</code>) is not yet supported for <code>object</code>s in Kotlin 1.0.4, it is only <a href=\"https://blog.jetbrains.com/kotlin/2016/07/first-glimpse-of-kotlin-1-1-coroutines-type-aliases-and-more/\" rel=\"nofollow\">planned for Kotlin 1.1</a> (Bound callable references).</p>\n\n<p>Seems like you just need to use <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow\">lambda with argument</a>, either explicit or implicit <code>it</code>:</p>\n\n<pre><code>router.handleJsonGet(\"/business/list\") { a -&gt; BusinessService.listBusinesses(a) }\n</code></pre>\n\n<p><sup></sup></p>\n\n<pre><code>router.handleJsonGet(\"/business/list\") { BusinessService.listBusinesses(it) }\n</code></pre>\n\n<p>Simplified example that demonstrates it:</p>\n\n<pre><code>object BusinessService {\n    fun listBusinesses(any: Any): List&lt;String&gt; {\n        return listOf(\"a\", \"b\", \"c\");\n    }\n}\n\nfun handleJsonGet(path: String, method: (Any) -&gt; Any) {\n    val map: Map&lt;String, Int&gt; = mapOf(\"a\" to 1)\n    method(map)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    handleJsonGet(\"1\") { BusinessService.listBusinesses(it) }\n}\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 1, "accepted_answer_id": 40083520, "answer_count": 2, "score": 2, "last_activity_date": 1476698661, "creation_date": 1476686452, "question_id": 40079964, "link": "https://stackoverflow.com/questions/40079964/pass-function-that-receives-params-as-param-to-class-extension-method", "title": "Pass function that receives params as param to class extension method", "body": "<p>I'm trying to pass a function as parameter to a class extension method.</p>\n\n<p>When doing </p>\n\n<pre><code>fun Router.handleJsonGet(path: String, method: () -&gt; Any) {\n    this.get(path).handler {\n        it.response().putHeader(\"Content-Type\", \"application/json\").end((gson.toJson(method())))\n    }\n}\n</code></pre>\n\n<p>I can easily wrap a function call inside a lambda and everything's working fine.</p>\n\n<pre><code>router.handleJsonGet(\"/business/list\", { BusinessService.listBusinesses() })\n</code></pre>\n\n<p>Now I want to include a map of <code>GET</code> params and I'm getting stuck.</p>\n\n<pre><code>fun Router.handleJsonGet(path: String, method: (any:Any) -&gt; Any) {\n    this.get(path).handler {\n        val map: MultiMap = it.request().params() ?: MultiMap.caseInsensitiveMultiMap()\n        it.response().putHeader(\"Content-Type\", \"application/json\").end((gson.toJson(method(map))))\n    }\n}\n</code></pre>\n\n<p>How do I make use of this method extension now? The wrap-with-lambda trick doesn't seem to work when the function requires a parameter.</p>\n\n<p>I was expecting something like:</p>\n\n<pre><code>router.handleJsonGet(\"/business/list\", BusinessService::listBusinesses)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>object BusinessService {\n    fun listBusinesses(any: Any) : List&lt;Business&gt; {\n        // do something with any as MultiMap\n        return Business.findAllBusinesss();\n    } \n}\n</code></pre>\n\n<p>to work, but IntelliJ says Type Mismatch</p>\n\n<p>Any idea how I should be passing a function that requires a parameter to a class extension method and how I should be calling it?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "edited": false, "score": 0, "creation_date": 1476680318, "post_id": 40078650, "comment_id": 67430259, "body": "thanks for replying. yes i understand about that. but could find example of how to make custom component which is a container of other component. See my code, <code>myCustomRootLayout</code> should contains <code>DrawerLayout, CoordinatorLayout, AppBarLayout</code> etc etc, but also should host another component <code>&lt;The Main Content&gt;</code>. So in the future i can use them like:  <code>myCustomRootLayout {  recyclerView() }</code> (adding a recycler view inside it)"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "edited": false, "score": 0, "creation_date": 1476682203, "post_id": 40078650, "comment_id": 67430882, "body": "@ktutnik both <code>myCustomRootLayout</code> extension method and the <code>MyCustomRootLayout</code> class accept a delegate that is invoked after setting up the components elements. This delegate can be used to add custom child elements i.e. <code>recyclerView()</code>"}, {"owner": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "edited": false, "score": 0, "creation_date": 1476684619, "post_id": 40078650, "comment_id": 67431867, "body": "Im consern about the position of the inserted child. Is there require some effort to put the children as the children of CoordinatorLayout vs the root view?"}, {"owner": {"reputation": 373, "user_id": 2848972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1584072058/picture?type=large", "display_name": "Suhair Zain", "link": "https://stackoverflow.com/users/2848972/suhair-zain"}, "reply_to_user": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "edited": false, "score": 0, "creation_date": 1477028067, "post_id": 40078650, "comment_id": 67606154, "body": "@ktutnik I have an almost same issue. Have you found out a way to insert the Custom View as a child to another layout?"}, {"owner": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "reply_to_user": {"reputation": 373, "user_id": 2848972, "user_type": "registered", "profile_image": "https://graph.facebook.com/1584072058/picture?type=large", "display_name": "Suhair Zain", "link": "https://stackoverflow.com/users/2848972/suhair-zain"}, "edited": false, "score": 0, "creation_date": 1477028415, "post_id": 40078650, "comment_id": 67606274, "body": "@SuhairZain: sorry still can&#39;t find out the way."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 4, "last_activity_date": 1476682246, "last_edit_date": 1476682246, "creation_date": 1476679635, "answer_id": 40078650, "question_id": 40076956, "link": "https://stackoverflow.com/questions/40076956/is-it-possible-to-reuse-a-layout-in-kotlin-anko/40078650#40078650", "title": "Is it possible to reuse a layout in Kotlin Anko", "body": "<p>One way to reuse the code is to simply extract <code>myCustomRootLayout</code> into a extension method like so:</p>\n\n<pre><code>class MainUI: AnkoComponent&lt;MainActivity&gt; {\n    override fun createView(ui: AnkoContext&lt;MainActivity&gt;): View {\n        return with(ui) {\n            myCustomRootLayout {\n               recyclerView()\n            }\n        }\n    }\n}\n\nfun &lt;T&gt; AnkoContext&lt;T&gt;.myCustomRootLayout(customize: AnkoContext&lt;T&gt;.() -&gt; Unit = {}): View {\n    return relativeLayout {\n        button(\"Hello\")\n        textView(\"myFriend\")\n        customize()\n    }\n}\n</code></pre>\n\n<p>However as <a href=\"https://github.com/Kotlin/anko#ankocomponent\" rel=\"nofollow\">stated in the documentation</a>:</p>\n\n<blockquote>\n  <p>Although you can use the DSL directly (in <code>onCreate()</code> or everywhere\n  else), without creating any extra classes, it is often convenient to\n  have UI in the separate class. If you use the provided AnkoComponent\n  interface, you also you get a DSL layout preview feature for free.</p>\n</blockquote>\n\n<p>It seems to be a good idea to extract the reusable piece into separate <code>AnkoComponent</code>:</p>\n\n<pre><code>class MainUI : AnkoComponent&lt;MainActivity&gt; {\n    override fun createView(ui: AnkoContext&lt;MainActivity&gt;): View {\n        return with(ui) {\n            MyCustomRootLayout&lt;MainActivity&gt;({\n                recyclerView()\n            }).createView(ui)\n        }\n    }\n}\n\n\nclass MyCustomRootLayout&lt;T : Context&gt;(val customize: AnkoContext&lt;T&gt;.() -&gt; Unit = {}) : AnkoComponent&lt;T&gt; {\n    override fun createView(ui: AnkoContext&lt;T&gt;) = with(ui) {\n        relativeLayout {\n            button(\"Hello\")\n            textView(\"myFriend\")\n            customize()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5499, "user_id": 2553215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/okVWo.jpg?s=128&g=1", "display_name": "kuhnroyal", "link": "https://stackoverflow.com/users/2553215/kuhnroyal"}, "is_accepted": false, "score": 3, "last_activity_date": 1489854284, "last_edit_date": 1489854284, "creation_date": 1489754033, "answer_id": 42857711, "question_id": 40076956, "link": "https://stackoverflow.com/questions/40076956/is-it-possible-to-reuse-a-layout-in-kotlin-anko/42857711#42857711", "title": "Is it possible to reuse a layout in Kotlin Anko", "body": "<p>I actually found a way to do this, took me a while to figure it out.</p>\n\n<p>I have a very basic test layout here, the content gets added to a \n<code>RelativeLayout</code>.</p>\n\n<p>The key here is to add your custom layout in a delegated <code>AnkoContext</code> that delegates to the immediate parent (the <code>RelativeLayout</code> in my case).</p>\n\n<pre><code>abstract class BaseAnkoComponent&lt;T&gt; : AnkoComponent&lt;T&gt; {\n\n    companion object {\n        val TOOLBAR_ID = View.generateViewId()\n        val COLLAPSING_ID = View.generateViewId()\n        val COORDINATOR_ID = View.generateViewId()\n        val APPBAR_ID = View.generateViewId()\n        val CONTENT_ID = View.generateViewId()\n    }\n\n    abstract fun &lt;T&gt; AnkoContext&lt;T&gt;.content(ui: AnkoContext&lt;T&gt;): View?\n\n    override fun createView(ui: AnkoContext&lt;T&gt;) = with(ui) {\n        coordinatorLayout {\n            id = COORDINATOR_ID\n            lparams(matchParent, matchParent)\n            appBarLayout(R.style.AppTheme_AppBarOverlay) {\n                id = APPBAR_ID\n                lparams(matchParent, wrapContent)\n                fitsSystemWindows = true\n                collapsingToolbarLayout {\n                    id = COLLAPSING_ID\n                    val collapsingToolbarLayoutParams = AppBarLayout.LayoutParams(matchParent, matchParent)\n                    collapsingToolbarLayoutParams.scrollFlags = AppBarLayout.LayoutParams.SCROLL_FLAG_SCROLL or AppBarLayout.LayoutParams.SCROLL_FLAG_ENTER_ALWAYS\n                    layoutParams = collapsingToolbarLayoutParams\n                    isTitleEnabled = false\n                    toolbar {\n                        id = TOOLBAR_ID\n                        val toolbarLayoutParams = CollapsingToolbarLayout.LayoutParams(matchParent, dimenAttr(R.attr.actionBarSize))\n                        toolbarLayoutParams.collapseMode = CollapsingToolbarLayout.LayoutParams.COLLAPSE_MODE_PIN\n                        layoutParams = toolbarLayoutParams\n                        minimumHeight = dimenAttr(R.attr.actionBarSize)\n                        background = ColorDrawable(colorAttr(R.attr.colorPrimary))\n                        popupTheme = R.style.AppTheme_PopupOverlay\n                    }\n                }\n            }\n            with(AnkoContext.createDelegate(relativeLayout {\n                id = CONTENT_ID\n                val relativeLayoutParams = CoordinatorLayout.LayoutParams(matchParent, matchParent)\n                relativeLayoutParams.behavior = AppBarLayout.ScrollingViewBehavior()\n                layoutParams = relativeLayoutParams\n            })) {\n                content(ui)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can extend the <code>BaseAnkoComponent</code> and build your content in the same way with Anko DSL.</p>\n\n<pre><code>class FooActivityUi : BaseAnkoComponent&lt;FooActivity&gt;() {\n  override fun &lt;T&gt; AnkoContext&lt;T&gt;.content(): View? {\n    return verticalLayout {\n      lparams(width = matchParent, height = matchParent)\n      button(\"Hello\")\n      textView(\"myFriend\")\n    }\n  }\n}\n</code></pre>\n\n<p>I am sure there is a better way to do this but I have not found it. Kinda new to Kotlin and Anko.</p>\n"}], "owner": {"reputation": 5222, "user_id": 212706, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8f854e3cf0b54a622aba244b1af52dbf?s=128&d=identicon&r=PG", "display_name": "ktutnik", "link": "https://stackoverflow.com/users/212706/ktutnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3007, "favorite_count": 4, "answer_count": 2, "score": 7, "last_activity_date": 1489854284, "creation_date": 1476663979, "last_edit_date": 1476680646, "question_id": 40076956, "link": "https://stackoverflow.com/questions/40076956/is-it-possible-to-reuse-a-layout-in-kotlin-anko", "title": "Is it possible to reuse a layout in Kotlin Anko", "body": "<p>I read that the most benefit of using Anko is its reusability. But i could't find its exact example.</p>\n\n<p>Currently in the new Android layout system, the boiler plate is like below:</p>\n\n<pre><code>DrawerLayout (with some setup)\n   CoordinatorLayout (with some setup)\n      AppBarLayout (with some setup)\n         ToolBar\n      &lt;The Main Content&gt;\n   NavigationView (with header inflated)\n</code></pre>\n\n<p>From the layout structure above, only <code>&lt;The Main Content&gt;</code> is varry. And \nin many cases those ceremonial setup duplicated almost in every activity. </p>\n\n<p>So here with Anko im thinking if there is a reusable solution about that issue. Im not expecting it will be reusable for general purpose layout, but et least i can minimize the ceremonial code in the project. Maybe i need something like:</p>\n\n<pre><code>class MainUI: AnkoComponent&lt;MainActivity&gt; {\n  override fun createView(ui: AnkoContext&lt;MainActivity&gt;): View{\n     return with(ui) {\n        myCustomRootLayout {\n           //here is what &lt;The Main Content&gt; will be\n        }\n     }\n  }\n}\n</code></pre>\n\n<p>From the code above im expecting <code>myCustomRootLayout</code> will do all the ceremonial setup for the root layout such as (DrawerLayout, CoordinatorLayout etc etc).</p>\n\n<p>Is that possible?</p>\n\n<p><strong>EDIT</strong>\nSo i think my question is: <strong>How to make a custom component which can host other component</strong></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1476657643, "post_id": 40076096, "comment_id": 67425631, "body": "Found a relevant Kotlin source -- updated the answer."}, {"owner": {"reputation": 7049, "user_id": 1544715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be85f7bc23d6fa1addc8d35e39870579?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1544715/magnus"}, "edited": false, "score": 2, "creation_date": 1476657661, "post_id": 40076096, "comment_id": 67425638, "body": "Worth noting that the JS platform also has slightly different imports <a href=\"https://github.com/JetBrains/kotlin/blob/383b7f89a6101fd9b2db417f52e3df27781718c5/js/js.frontend/src/org/jetbrains/kotlin/js/resolve/JsPlatform.kt\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 14, "last_activity_date": 1476701878, "last_edit_date": 1495541812, "creation_date": 1476656391, "answer_id": 40076096, "question_id": 40075836, "link": "https://stackoverflow.com/questions/40075836/what-packages-functions-are-imported-by-default-in-kotlin/40076096#40076096", "title": "What packages/functions are imported by default in Kotlin?", "body": "<p>Kotlin stdlib has <code>kotlin</code> root package and its subpackages <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/\" rel=\"noreferrer\">(see the full list with the content)</a>.</p>\n\n<p>It seems not to be documented anywhere which of them are imported by default, but a <a href=\"https://github.com/JetBrains/kotlin/blob/321a19a247ec09bfc351a0bda768313735781a49/compiler/frontend.java/src/org/jetbrains/kotlin/resolve/jvm/platform/JvmPlatform.kt\" rel=\"noreferrer\">peek into Kotlin Github sources</a> suggests that these packages are imported for JVM target platform:</p>\n\n<ul>\n<li><code>java.lang.*</code></li>\n<li><code>kotlin.*</code></li>\n<li><code>kotlin.annotation.*</code></li>\n<li><code>kotlin.jvm.*</code></li>\n<li><code>kotlin.collections.*</code></li>\n<li><code>kotlin.ranges.*</code></li>\n<li><code>kotlin.sequences.*</code></li>\n<li><code>kotlin.text.*</code></li>\n<li><code>kotlin.io.*</code></li>\n<li><code>kotlin.coroutines.*</code> <em>(to be added in Kotlin 1.1, not present in 1.0.4)</em></li>\n</ul>\n\n<p>I've manually tested them, and the list above is true for Kotlin 1.0.4. And these stdlib packages are <strong>not</strong> imported by default:</p>\n\n<ul>\n<li><code>kotlin.comparisons.*</code></li>\n<li><code>kotlin.concurrent.*</code></li>\n<li><code>kotlin.properties.*</code></li>\n<li><code>kotlin.reflect.*</code></li>\n<li><code>kotlin.reflect.jvm.*</code></li>\n<li><code>kotlin.system.*</code></li>\n</ul>\n\n<p>As <a href=\"https://stackoverflow.com/users/1544715/magnus\">@Magnus</a> noted, the default imports for JS platform <a href=\"https://github.com/JetBrains/kotlin/blob/383b7f89a6101fd9b2db417f52e3df27781718c5/js/js.frontend/src/org/jetbrains/kotlin/js/resolve/JsPlatform.kt\" rel=\"noreferrer\">are different</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6401, "user_id": 520275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7e7551914e6165b6bf817ab29218c64e?s=128&d=identicon&r=PG", "display_name": "Gonzalo Matheu", "link": "https://stackoverflow.com/users/520275/gonzalo-matheu"}, "edited": false, "score": 1, "creation_date": 1518314581, "post_id": 48726812, "comment_id": 84454022, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/18785659\">From Review</a>"}, {"owner": {"reputation": 28191, "user_id": 27198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9420b13f41ea0c28b268d819209069a9?s=128&d=identicon&r=PG", "display_name": "Itay Maman", "link": "https://stackoverflow.com/users/27198/itay-maman"}, "reply_to_user": {"reputation": 6401, "user_id": 520275, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7e7551914e6165b6bf817ab29218c64e?s=128&d=identicon&r=PG", "display_name": "Gonzalo Matheu", "link": "https://stackoverflow.com/users/520275/gonzalo-matheu"}, "edited": false, "score": 0, "creation_date": 1518340521, "post_id": 48726812, "comment_id": 84458957, "body": "Changed the answer to include both."}], "tags": [], "owner": {"reputation": 28191, "user_id": 27198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9420b13f41ea0c28b268d819209069a9?s=128&d=identicon&r=PG", "display_name": "Itay Maman", "link": "https://stackoverflow.com/users/27198/itay-maman"}, "is_accepted": false, "score": 7, "last_activity_date": 1518340392, "last_edit_date": 1518340392, "creation_date": 1518306436, "answer_id": 48726812, "question_id": 40075836, "link": "https://stackoverflow.com/questions/40075836/what-packages-functions-are-imported-by-default-in-kotlin/48726812#48726812", "title": "What packages/functions are imported by default in Kotlin?", "body": "<p>The official documentation for the list of Kotlin's default imports (which is likely to be change with new versions of the language) is here:\n<a href=\"https://kotlinlang.org/docs/reference/packages.html#default-imports\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/packages.html#default-imports</a></p>\n\n<p>As of 2018-02-11 it includes the following:</p>\n\n<blockquote>\n  <ul>\n  <li>kotlin.*</li>\n  <li>kotlin.annotation.*</li>\n  <li>kotlin.collections.*</li>\n  <li>kotlin.comparisons.* (since 1.1)</li>\n  <li>kotlin.io.*</li>\n  <li>kotlin.ranges.*</li>\n  <li>kotlin.sequences.*</li>\n  <li>kotlin.text.*</li>\n  </ul>\n  \n  <p>Additional packages are imported depending on the target platform:</p>\n  \n  <p>JVM:</p>\n  \n  <ul>\n  <li>java.lang.*</li>\n  <li>kotlin.jvm.*</li>\n  </ul>\n  \n  <p>JS:</p>\n  \n  <ul>\n  <li>kotlin.js.*</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 7049, "user_id": 1544715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be85f7bc23d6fa1addc8d35e39870579?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1544715/magnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "accepted_answer_id": 40076096, "answer_count": 2, "score": 13, "last_activity_date": 1518340392, "creation_date": 1476654455, "question_id": 40075836, "link": "https://stackoverflow.com/questions/40075836/what-packages-functions-are-imported-by-default-in-kotlin", "title": "What packages/functions are imported by default in Kotlin?", "body": "<p>In Java the <code>java.lang</code> package is imported by default.<br>\nIn kotlin a number of functions and classes are available without being imported, like <code>println</code> and kotlins <code>Array</code>, <code>Int</code>, etc types.<br>\nWhat else is imported by default and where is it defined?</p>\n"}, {"tags": ["spring", "kotlin", "autowired"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 1, "creation_date": 1476669920, "post_id": 40075340, "comment_id": 67428055, "body": "What error exactly you got, or what exactly doesn&#39;t work?"}, {"owner": {"reputation": 118, "user_id": 1821058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4a939cf31941f655a755052baab75ae?s=128&d=identicon&r=PG", "display_name": "MrFirelord", "link": "https://stackoverflow.com/users/1821058/mrfirelord"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1476679915, "post_id": 40075340, "comment_id": 67430150, "body": "NO error. My autowiredBean equals null in second piece of code. Seems that Spring doesn&#39;t inject it."}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1476687885, "post_id": 40075340, "comment_id": 67433440, "body": "If it null - this mean that spring doesn&#39;t create this bean at all. Please show us how you using <code>PaymentController</code>."}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 1, "creation_date": 1476786059, "post_id": 40075340, "comment_id": 67482696, "body": "Mark <code>fun somePage(@RequestParam(&quot;param&quot;) param: Int): ModelAndView</code> as an open function."}, {"owner": {"reputation": 118, "user_id": 1821058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4a939cf31941f655a755052baab75ae?s=128&d=identicon&r=PG", "display_name": "MrFirelord", "link": "https://stackoverflow.com/users/1821058/mrfirelord"}, "edited": false, "score": 0, "creation_date": 1476900820, "post_id": 40075340, "comment_id": 67547111, "body": "YES!! It works. Thank you very much. I thought that if you have open class then all functions inside are also open. My bad."}], "owner": {"reputation": 118, "user_id": 1821058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4a939cf31941f655a755052baab75ae?s=128&d=identicon&r=PG", "display_name": "MrFirelord", "link": "https://stackoverflow.com/users/1821058/mrfirelord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1916, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1476651177, "creation_date": 1476651177, "question_id": 40075340, "link": "https://stackoverflow.com/questions/40075340/spring-autowired-in-kotlin", "title": "Spring @Autowired in Kotlin", "body": "<p>I have one problem with @Autowire annotation in my Kotlin code.\nThere is one piece of code that works perfectly</p>\n\n<pre><code>@Controller\nopen class PaymentController {\n    @Autowired\n    lateinit var autowiredBean: AutowiredBean\n\n    @RequestMapping(value = \"/SomePage\", method = arrayOf(RequestMethod.GET))\n    fun somePage(@RequestParam(\"param\") param: Int): ModelAndView {\n        // some code\n    }\n}\n</code></pre>\n\n<p>But after adding some security checking, @Autowire annotation stops working</p>\n\n<pre><code>@Controller\nopen class PaymentController {\n    @Autowired\n    lateinit var autowiredBean: AutowiredBean\n\n    @RequestMapping(value = \"/SomePage\", method =       arrayOf(RequestMethod.GET))\n    @PreAuthorize(\"hasPermission('MODULE', 'FINANCE')\")\n    fun somePage(@RequestParam(\"param\") param: Int): ModelAndView {\n        // some code\n    }\n\n}\n</code></pre>\n\n<p>It's just doesn't initialize. I tried to initialize it by my controller constructor but had got the same result. \nAny ideas?</p>\n"}, {"tags": ["debugging", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1476607216, "post_id": 40068330, "comment_id": 67410319, "body": "How is the <code>MyModel.position</code> property defined?"}, {"owner": {"reputation": 728, "user_id": 3849165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3a801c3bb4699babfe1b0341ceaa8885?s=128&d=identicon&r=PG&f=1", "display_name": "vishnus", "link": "https://stackoverflow.com/users/3849165/vishnus"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1476610309, "post_id": 40068330, "comment_id": 67411073, "body": "@miensol it is defined as a val in the primary constructor. If i define a simple value like <code>val width = 30</code> and watch its value, then it is shown. But the value for any other type accessed with dot syntax is not shown. I&#39;m using <code>Android Studio 2.2</code> and <code>kotlin version 1.0.4</code>"}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1477419778, "post_id": 40068330, "comment_id": 67756363, "body": "downgrade kotlin version to like 1.01"}, {"owner": {"reputation": 414, "user_id": 776388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b95e97a36a099404882a1c7ee439a01?s=128&d=identicon&r=PG", "display_name": "iscariot", "link": "https://stackoverflow.com/users/776388/iscariot"}, "edited": false, "score": 0, "creation_date": 1498037500, "post_id": 40068330, "comment_id": 76328547, "body": "I have some problems"}, {"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 0, "creation_date": 1498050327, "post_id": 40068330, "comment_id": 76338016, "body": "I&#39;ve got the same issue since eons."}, {"owner": {"reputation": 163, "user_id": 6123024, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-V-Mr228DUPE/AAAAAAAAAAI/AAAAAAAAA2g/5WMP7Wpsnww/photo.jpg?sz=128", "display_name": "Ritu Nagpal", "link": "https://stackoverflow.com/users/6123024/ritu-nagpal"}, "edited": false, "score": 0, "creation_date": 1525246768, "post_id": 40068330, "comment_id": 87276622, "body": "I am getting the same error.Is this resolved ? @vishnus"}], "answers": [{"tags": [], "owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "is_accepted": true, "score": 6, "last_activity_date": 1498199535, "creation_date": 1498199535, "answer_id": 44714525, "question_id": 40068330, "link": "https://stackoverflow.com/questions/40068330/cannot-watch-kotlin-variable-in-android-studio/44714525#44714525", "title": "Cannot watch Kotlin variable in android studio", "body": "<p>That's bug in Android studio.</p>\n\n<p>1) I've reported mentioned bug (or very similar) recently:\n<a href=\"https://issuetracker.google.com/issues/62859634\" rel=\"noreferrer\">https://issuetracker.google.com/issues/62859634</a></p>\n\n<p>2) If you find a bug in tools, report it to Google: \n<a href=\"https://issuetracker.google.com/issues/new\" rel=\"noreferrer\">https://issuetracker.google.com/issues/new</a></p>\n"}, {"comments": [{"owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "reply_to_user": {"reputation": 829, "user_id": 4300071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-55TwdCEOKvg/AAAAAAAAAAI/AAAAAAAAAp4/A79tqhBn1hs/photo.jpg?sz=128", "display_name": "Umut ADALI", "link": "https://stackoverflow.com/users/4300071/umut-adali"}, "edited": false, "score": 0, "creation_date": 1538244909, "post_id": 49492586, "comment_id": 92078975, "body": "@UmutADALI I am sorry to hear that. I wrote the response because I actually had the same error back then (or at least it seemed to be the same one) and this fix worked for me. I tried it right now in the new Android Studio 3.2 and it still works for me. According to the issue mentioned in the response this does work some but unfortunately not for all."}, {"owner": {"reputation": 829, "user_id": 4300071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-55TwdCEOKvg/AAAAAAAAAAI/AAAAAAAAAp4/A79tqhBn1hs/photo.jpg?sz=128", "display_name": "Umut ADALI", "link": "https://stackoverflow.com/users/4300071/umut-adali"}, "edited": false, "score": 0, "creation_date": 1541409851, "post_id": 49492586, "comment_id": 93193281, "body": "I try Android Studio 3.2 too and kotlin version 1.3.0 but almost never results"}], "tags": [], "owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "is_accepted": false, "score": 0, "last_activity_date": 1522070706, "creation_date": 1522070706, "answer_id": 49492586, "question_id": 40068330, "link": "https://stackoverflow.com/questions/40068330/cannot-watch-kotlin-variable-in-android-studio/49492586#49492586", "title": "Cannot watch Kotlin variable in android studio", "body": "<p>This bug should be already fixed in new Dex compiler. </p>\n\n<p>Try to enable it by adding:</p>\n\n<pre><code>android.enableD8=true\n</code></pre>\n\n<p>to your gradle.properties.file </p>\n\n<p>For more details check <a href=\"https://android-developers.googleblog.com/2017/08/next-generation-dex-compiler-now-in.html\" rel=\"nofollow noreferrer\">official blogpost</a>.</p>\n"}], "owner": {"reputation": 728, "user_id": 3849165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3a801c3bb4699babfe1b0341ceaa8885?s=128&d=identicon&r=PG&f=1", "display_name": "vishnus", "link": "https://stackoverflow.com/users/3849165/vishnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2849, "favorite_count": 0, "accepted_answer_id": 44714525, "answer_count": 2, "score": 19, "last_activity_date": 1522070706, "creation_date": 1476605999, "question_id": 40068330, "link": "https://stackoverflow.com/questions/40068330/cannot-watch-kotlin-variable-in-android-studio", "title": "Cannot watch Kotlin variable in android studio", "body": "<p>I am not able to get android studio display the value of a calculation in the watches window.</p>\n\n<p>I use Kotlin for development and when i try to add a value to watches, i get a message which says \"An exception occurs during evaluate expression\".</p>\n\n<p>e.g.</p>\n\n<pre><code>   val model = MyModel()\n   val pos = model.position\n</code></pre>\n\n<p>Now if I add <code>model.position</code> to watches, then it gives the above error and the value of the expression is not displayed.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["java", "static", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476600457, "post_id": 40067602, "comment_id": 67408881, "body": "&quot;this feature&quot; meaning what? The content of the post should show what you are asking about, it shouldn&#39;t be a continuation of the title."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476601628, "post_id": 40067602, "comment_id": 67409131, "body": "I&#39;m still not sure I follow. Java has class objects as well. They are called instances, though."}, {"owner": {"reputation": 728, "user_id": 3849165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3a801c3bb4699babfe1b0341ceaa8885?s=128&d=identicon&r=PG&f=1", "display_name": "vishnus", "link": "https://stackoverflow.com/users/3849165/vishnus"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476601908, "post_id": 40067602, "comment_id": 67409179, "body": "@cricket_007 - In Kotlin, we cannot define static variables, there is no concept of it. The closest thing to static variables and something similar in syntax to statics are known as class objects, the members of which can be called using just the class name"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1476601987, "post_id": 40067602, "comment_id": 67409192, "body": "I&#39;m only here for the Java tag. I can&#39;t answer Kotlin topics, but I think I found what you are referring to and Scala does the same thing. Static methods are just syntactic sugar saying you don&#39;t need an instance of the object. Kotlin discusses companion objects, but essentially you have singleton classes. Those are &quot;class objects&quot;. You&#39;d have to get a Kotlin developer in here to answer &quot;why&quot;"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1476603285, "post_id": 40067602, "comment_id": 67409442, "body": "Please find an up-to-date reference for your learning of Kotlin. &quot;Class objects&quot; existed in pre-1.0 versions of Kotlin; the current version calls them &quot;companion objects&quot;."}], "owner": {"reputation": 728, "user_id": 3849165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3a801c3bb4699babfe1b0341ceaa8885?s=128&d=identicon&r=PG&f=1", "display_name": "vishnus", "link": "https://stackoverflow.com/users/3849165/vishnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "closed_date": 1476614564, "answer_count": 0, "score": 3, "last_activity_date": 1476604942, "creation_date": 1476599814, "last_edit_date": 1476604942, "question_id": 40067602, "link": "https://stackoverflow.com/questions/40067602/why-did-kotlin-decide-to-use-companion-object-instead-of-plain-old-statics-from", "closed_reason": "Duplicate", "title": "Why did Kotlin decide to use companion object instead of plain old statics from java?", "body": "<p>I am currently learning Kotlin and found the usage of a companion object along the way.</p>\n\n<p>I would like to know why it was done this way?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 6, "last_activity_date": 1476705089, "last_edit_date": 1476705089, "creation_date": 1476700854, "answer_id": 40084275, "question_id": 40065838, "link": "https://stackoverflow.com/questions/40065838/get-kproperty-of-a-non-package-extension-property/40084275#40084275", "title": "Get KProperty of a non-package extension property", "body": "<p>The error you are getting is:</p>\n\n<blockquote>\n  <p>Error:(y, x) Kotlin: 'extProp' is a member and an extension at the same time. References to such elements are not allowed</p>\n</blockquote>\n\n<p>There is <strong>no syntax</strong> mechanism to generate a reference to an extension method that also requires a containing class.  Your extension for example might use members of the class, and this would need something like \"<a href=\"https://github.com/Kotlin/KEEP/issues/5\" rel=\"noreferrer\">bound references</a>\" coming in Kotlin 1.1 (which I'm not sure will cover this case either, it is currently an <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/bound-callable-references.md#open-questions\" rel=\"noreferrer\">open question</a>).  So for now, there is <strong>no <code>::</code> syntax</strong> available.  Things like <code>Example::String::extProp</code> are <strong>not</strong> available, neither is the commonly tried <code>Example::String.extProp</code> syntax.  But you can find it by reflection.</p>\n\n<p>First you need to know the type you will receive is:</p>\n\n\n\n<pre><code>KProperty2&lt;INSTANCE, EXTENDING, PROPTYPE&gt;\n</code></pre>\n\n<p>Whereas a normal property on a class is:</p>\n\n<pre><code>KProperty1&lt;INSTANCE, PROPTYPE&gt;\n</code></pre>\n\n<p>You need to know that because any call to the <code>getter</code> will require the class instance and an instance of the class the property is extending.  So you cannot call it the same way as you would a property reference of a class.  </p>\n\n<p>You can use this function to find an extension property declared in a class:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;T: Any, EXTENDING: Any, R: Any&gt; KClass&lt;T&gt;.extProp(extends: KClass&lt;EXTENDING&gt;, name: String, returning: KClass&lt;R&gt;): KProperty2&lt;T, EXTENDING, R&gt; {\n    return this.declaredMemberExtensionProperties.first {\n        it.name == name &amp;&amp;\n                it.parameters.size == 2 &amp;&amp;\n                it.parameters[0].kind == KParameter.Kind.INSTANCE &amp;&amp; it.parameters[0].type == this.defaultType &amp;&amp;\n                it.parameters[1].kind == KParameter.Kind.EXTENSION_RECEIVER &amp;&amp; it.parameters[1].type == extends.defaultType &amp;&amp;\n                it.returnType == returning.defaultType\n    } as KProperty2&lt;T, EXTENDING, R&gt;\n}\n</code></pre>\n\n<p>This is a bit overkill for the checking but ensures that it is future-proof in case any other types of extensions are added later.  The following is your code updated to use it:</p>\n\n<pre><code>class Example() {\n    val String.extProp: String\n        get() = \"howdy $this\"\n\n    fun foo() {\n        val prop = Example::class.extProp(String::class, \"extProp\", String::class)\n        println(prop.get(this, \"stringy\"))  // \"howdy stringy\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 842, "user_id": 5196460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zLMnunWdTp8/AAAAAAAAAAI/AAAAAAAACJo/aXPBe3Hfd2o/photo.jpg?sz=128", "display_name": "n9Mtq4", "link": "https://stackoverflow.com/users/5196460/n9mtq4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 40084275, "answer_count": 1, "score": 4, "last_activity_date": 1476705089, "creation_date": 1476580211, "question_id": 40065838, "link": "https://stackoverflow.com/questions/40065838/get-kproperty-of-a-non-package-extension-property", "title": "Get KProperty of a non-package extension property", "body": "<p>In kotlin, you can use the reference operator to get the KProperty of a package extension property like this:</p>\n\n<pre><code>val String.extProp: String\n    get() = \"Some get code\"\n\nfun foo() {\n    val prop: KProperty&lt;String&gt; = String::extProp\n}\n</code></pre>\n\n<p>However, when the extension property is declared inside a class the reference operator no longer works:</p>\n\n<pre><code>class Example() {\n\n    val String.extProp: String\n        get() = \"Some get code\"\n\n    fun foo() {\n        val prop: KProperty&lt;String&gt; = String::extProp // error\n    }\n\n}\n</code></pre>\n\n<p>So what I am wondering is how can I change the problematic line in the second example, so the KProperty is gotten?</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 1611, "user_id": 791160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d5c6a6d39fb143c62e6ea3f1d7f0ca74?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/791160/chris"}, "edited": false, "score": 0, "creation_date": 1531176052, "post_id": 40064479, "comment_id": 89488827, "body": "Did you ever figure this out?"}, {"owner": {"reputation": 1763, "user_id": 537846, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e02320571d6a0cb3e35c6f8bf5d89b4c?s=128&d=identicon&r=PG", "display_name": "vinga", "link": "https://stackoverflow.com/users/537846/vinga"}, "reply_to_user": {"reputation": 1611, "user_id": 791160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d5c6a6d39fb143c62e6ea3f1d7f0ca74?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/791160/chris"}, "edited": false, "score": 0, "creation_date": 1531220990, "post_id": 40064479, "comment_id": 89505158, "body": "@chris no, finally I used <a href=\"https://github.com/kameocode/any-dao\" rel=\"nofollow noreferrer\">github.com/kameocode/any-dao</a>, it&#39;s more verbose but still better than raw entity manager"}], "answers": [{"tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 0, "last_activity_date": 1476596696, "creation_date": 1476596696, "answer_id": 40067263, "question_id": 40064479, "link": "https://stackoverflow.com/questions/40064479/jinq-in-kotlin-how-to-convert-lambda-into-java-serializedlambda/40067263#40067263", "title": "Jinq in Kotlin - how to convert lambda into java SerializedLambda?", "body": "<p>I have no experience on Jinq, but according to the implementation in GitHub and my experience of using Java Library in Kotlin.</p>\n\n<p>ref: <a href=\"https://github.com/my2iu/Jinq/blob/master/api/src/org/jinq/orm/stream/JinqStream.java\" rel=\"nofollow\">https://github.com/my2iu/Jinq/blob/master/api/src/org/jinq/orm/stream/JinqStream.java</a></p>\n\n<p>You can always fall back to use the native Java Interface in Kotlin.</p>\n\n<pre><code>var temp = anyDao.streamAll(Task::class.java)\n   .where( JinqStream.Where&lt;Task,Exception&gt; { t -&gt; t.taskStatus == TaskStatus.accepted } )\n   .collect(Collectors.toList&lt;Task&gt;());\n\n // Alternatively, You you can import the interface first\n import org.jinq.orm.stream.JinqStream.*\n\n  ... \n\n  // then you can use Where instead of JinqStream.Where\n  var temp = anyDao.streamAll(Task::class.java)\n       .where(Where&lt;Task,Exception&gt; { t -&gt; t.taskStatus == TaskStatus.accepted } )\n       .collect(Collectors.toList&lt;Task&gt;());\n</code></pre>\n\n<p>Or make a custom extension to wrap the implementation</p>\n\n<pre><code>fun JinqStream&lt;T&gt;.where(f: (T) -&gt; Boolean): JinqStream&lt;T&gt; {\n  return this.where(JinqStream.Where&lt;T,Exception&gt; { f(it) })\n}\n</code></pre>\n\n<p>Disclaimer: The above codes have not been tested. </p>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 4077427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9eac6409892734a343fe5441896cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Ming-Yee Iu", "link": "https://stackoverflow.com/users/4077427/ming-yee-iu"}, "is_accepted": false, "score": 1, "last_activity_date": 1531242519, "creation_date": 1531242519, "answer_id": 51270835, "question_id": 40064479, "link": "https://stackoverflow.com/questions/40064479/jinq-in-kotlin-how-to-convert-lambda-into-java-serializedlambda/51270835#51270835", "title": "Jinq in Kotlin - how to convert lambda into java SerializedLambda?", "body": "<p>I'm the maker of Jinq. I haven't had the time to look at Kotlin-support, but based on your description, I'm assuming that Kotlin compiles its lambdas into actual classes or something else. As such, Jinq would probably need some special code for cracking open Kotlin lambdas, and it may also need special code for handling any unusual Kotlin-isms in the generated code. Jinq should be capable of handling it because it was previously retrofitted to handle Scala lambdas. </p>\n\n<p>If you file an issue in the Jinq github about it, along with a small Kotlin example (in both source and .class file form), then I can take a quick peek at what might be involved. If it's small, I can make those changes. Unfortunately, if it looks like a lot of work, I don't think I can really justify putting a lot of resources into adding Kotlin support to Jinq.</p>\n"}], "owner": {"reputation": 1763, "user_id": 537846, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e02320571d6a0cb3e35c6f8bf5d89b4c?s=128&d=identicon&r=PG", "display_name": "vinga", "link": "https://stackoverflow.com/users/537846/vinga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531242519, "creation_date": 1476567477, "last_edit_date": 1476704021, "question_id": 40064479, "link": "https://stackoverflow.com/questions/40064479/jinq-in-kotlin-how-to-convert-lambda-into-java-serializedlambda", "title": "Jinq in Kotlin - how to convert lambda into java SerializedLambda?", "body": "<p>Can I have serializable lambda in Kotlin? I am trying to use Jinq library from Kotlin, but it requires serializable lambdas. Is there any syntax that makes it possible?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>My code:</p>\n\n<pre><code>var temp=anyDao.streamAll(Task::class.java)\n   .where&lt;Exception,Task&gt; { t-&gt;t.taskStatus== TaskStatus.accepted }\n   .collect(Collectors.toList&lt;Task&gt;());\n</code></pre>\n\n<p>I am getting this error:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: \nCould not extract code from lambda. \nThis error sometimes occurs because your lambda references objects that aren't Serializable.\n</code></pre>\n\n<p>All objects referenced in lambda are serializable (code results in no errors in java).</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>After debugging it seems that kotlin lambda isn't translated into java.lang.invoke.SerializedLambda which is required by Jinq to get information from. So the problem is how to convert it to SerializedLambda.</p>\n"}, {"tags": ["java", "android", "canvas", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1476522313, "post_id": 40057086, "comment_id": 67389016, "body": "Hmm, I&#39;m not familiar with Kotlin, but if I&#39;m following the code correctly, you wanna drop the <code>x</code> from the <code>centerX</code> calculation, and the <code>y</code> from <code>centerY</code>. That is, <code>var centerX = width &#47; 2</code>, <code>var centerY = height &#47; 2</code>."}, {"owner": {"reputation": 136, "user_id": 5797988, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4gFAg.png?s=128&g=1", "display_name": "S. O. Chaos", "link": "https://stackoverflow.com/users/5797988/s-o-chaos"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1476524116, "post_id": 40057086, "comment_id": 67389522, "body": "Well, it doesn&#39;t work."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1476524446, "post_id": 40057086, "comment_id": 67389618, "body": "Oh, right. You don&#39;t wanna do those calculations there. There, the <code>View</code> will have 0 dimensions. Move those calculations into its <code>onSizeChanged()</code> method. Or even into <code>onDraw()</code>, if you just wanna do a quick test."}], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 0, "last_activity_date": 1476887920, "creation_date": 1476887920, "answer_id": 40134552, "question_id": 40057086, "link": "https://stackoverflow.com/questions/40057086/custom-view-isnt-drawn-in-android/40134552#40134552", "title": "Custom view isn&#39;t drawn in Android", "body": "<pre><code>var centerX = x + width / 2\nvar centerY = y + height / 2\nvar radius = width / 2\n</code></pre>\n\n<p>This code will be evaluated at the initialization of the instance. And at this moment, <code>width</code> = 0 and <code>height</code> = 0. Because the view it's not already measured.</p>\n\n<p>You can add a <code>Log.d(...)</code> or a breakpoint in <code>onDraw</code> and you will see that <code>radius</code> = 0.</p>\n\n<p>For a rapid test, you can change <code>onDraw</code> to:</p>\n\n<pre><code>override fun onDraw(canvas: Canvas) {\n   super.onDraw(canvas)\n\n   val centerX = width / 2\n   val centerY = height / 2\n   val radius = width / 2\n   canvas.drawCircle(centerX.toFloat(), centerY.toFloat(), radius.toFloat(), paint)\n}\n</code></pre>\n\n<p>Maybe you can optimize this code. Doing allocations in <code>onDraw</code> is not a very good idea. You can find explanation <a href=\"https://developer.android.com/training/custom-views/optimizing-view.html\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 136, "user_id": 5797988, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4gFAg.png?s=128&g=1", "display_name": "S. O. Chaos", "link": "https://stackoverflow.com/users/5797988/s-o-chaos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 40134552, "answer_count": 1, "score": 2, "last_activity_date": 1476887920, "creation_date": 1476522008, "question_id": 40057086, "link": "https://stackoverflow.com/questions/40057086/custom-view-isnt-drawn-in-android", "title": "Custom view isn&#39;t drawn in Android", "body": "<p>I'm implementing custom button for my android application where must be only none-filled circle. I'm relatively new in this side of Android developing so I got trouble about it.</p>\n\n<p>There's custom attributes:</p>\n\n<pre><code>&lt;resources&gt;\n&lt;declare-styleable name=\"CircleButton\"&gt;\n    &lt;attr name=\"stroke_width\" format=\"dimension\"/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p></p>\n\n<p>Code of class:</p>\n\n<pre><code>class CircleButton (context: Context,\n                attrs: AttributeSet) : View(context, attrs) {\n\nval paint: Paint = Paint()\n\ninit {\n    var a = context.theme.obtainStyledAttributes(attrs, R.styleable.CircleButton, 0, 0)\n    paint.color = Color.RED\n    try {\n        paint.strokeWidth = a.getDimension(R.styleable.CircleButton_stroke_width, 3f)\n    } finally {\n        a.recycle()\n    }\n}\n\nvar centerX = x + width / 2\nvar centerY = y + height / 2\nvar radius = width / 2\n\n\noverride fun onDraw(canvas: Canvas) {\n   super.onDraw(canvas)\n   canvas.drawCircle(centerX.toFloat(), centerY.toFloat(), radius.toFloat(), paint)\n}\n\noverride fun onMeasure(w : Int, h : Int) {\n    setMeasuredDimension(w, w)\n}\n</code></pre>\n\n<p>It is Kotlin, but I guess it's all clear with it. But anyway I can provide Java-code, if needed.</p>\n\n<p>There's layout XML:</p>\n\n<pre><code>&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" xmlns:custom=\"http://schemas.android.com/apk/res-auto\"\n    android:paddingLeft=\"0dp\"\n    android:paddingRight=\"0dp\"\n    android:paddingTop=\"0dp\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"&gt;\n\n&lt;com.prox1mity.myapplication.CircleButton\n    android:layout_width=\"250dp\"\n    android:layout_height=\"300dp\"\n    android:layout_centerInParent=\"true\"\n    custom:stroke_width=\"3dp\"\n/&gt;\n</code></pre>\n\n<p></p>\n\n<p>When I run application, I see only white screen, which means that onDraw method doesn't work properly. But if I'm changing drawing of circle to just filling the canvas with color via <code>canvas.drawColor()</code> it's all right, the view is fully filled. That leads me to thought that something wrong with my <code>Paint</code> class or my wrong apprehension of coordinate system. How to draw the circle with center in center of View properly?</p>\n"}, {"tags": ["configuration", "teamcity", "kotlin", "dsl"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476512082, "post_id": 40050329, "comment_id": 67386601, "body": "What class does <code>step</code> belong to?"}, {"owner": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476814699, "post_id": 40050329, "comment_id": 67502030, "body": "Hi voddan, it belongs to      public final class BuildSteps {"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476817887, "post_id": 40050329, "comment_id": 67503878, "body": "Thanks, I updated the question and my answer"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "edited": false, "score": 0, "creation_date": 1476824792, "post_id": 40055716, "comment_id": 67507739, "body": "thank you so much voddan, this worked perfectly! kudos to your kotlin knowledge"}, {"owner": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "edited": false, "score": 0, "creation_date": 1476825282, "post_id": 40055716, "comment_id": 67507941, "body": "I do have one more question, the &quot;BuildSteps.buildstep1&quot; syntax construct is new to me, what exactly is going on here?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "edited": false, "score": 0, "creation_date": 1476865219, "post_id": 40055716, "comment_id": 67521765, "body": "This is something called an &quot;extension function&quot;. It transfers the contexts from the call site into the function."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "edited": false, "score": 0, "creation_date": 1476865524, "post_id": 40055716, "comment_id": 67521975, "body": "This is a fundamental feature of Kotlin, you can lean it from <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">kotlinlang.org</a>. I did not include an explanation into the answer because learning how to make DSLs is 80% of all Kotlin. You&#39;ll be better of mastering the language than only DSL features."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 2, "last_activity_date": 1476817928, "last_edit_date": 1476817928, "creation_date": 1476512463, "answer_id": 40055716, "question_id": 40050329, "link": "https://stackoverflow.com/questions/40050329/how-do-you-hide-parameters-in-custom-build-steps-in-kotlin-for-teamcity/40055716#40055716", "title": "How do you hide parameters in custom build steps in Kotlin for TeamCity?", "body": "<p>I assume you want to encapsulate <code>step {...}</code> into a function <code>buildstep1</code> with a parameter <code>slnPath</code>.</p>\n\n<p>Use this function signature and copy-paste the <code>step {...}</code> part right inside. Add any parameters you see fit:</p>\n\n<pre><code>fun BuildSteps.buildstep1(slnPath: String) {\n    step {\n        name = \"Restore NuGet Packages\"\n        type = \"jb.nuget.installer\"\n        param(\"nuget.path\", \"%teamcity.tool.NuGet.CommandLine.3.3.0%\")        \n        param(\"nuget.updatePackages.mode\", \"sln\")\n        param(\"nuget.use.restore\", \"restore\")\n        param(\"sln.path\", slnPath) // your parameter here\n        param(\"toolPathSelector\", \"%teamcity.tool.NuGet.CommandLine.3.3.0%\")\n    }\n}\n</code></pre>\n\n<p>That's all! Use it instead of the <code>step {...}</code> construct:</p>\n\n<pre><code>steps {\n    buildstep1(\"path_to_solution\")\n}\n</code></pre>\n\n<p>This function may be declared anywhere in the configuration file (I usually place those at the bottom) or in a separate <code>.kts</code> file and imported (theoretically).</p>\n"}], "owner": {"reputation": 23, "user_id": 5592676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zz4Pw.jpg?s=128&g=1", "display_name": "Yujie Wu", "link": "https://stackoverflow.com/users/5592676/yujie-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1507, "favorite_count": 0, "accepted_answer_id": 40055716, "answer_count": 1, "score": 2, "last_activity_date": 1476817928, "creation_date": 1476471762, "last_edit_date": 1476817862, "question_id": 40050329, "link": "https://stackoverflow.com/questions/40050329/how-do-you-hide-parameters-in-custom-build-steps-in-kotlin-for-teamcity", "title": "How do you hide parameters in custom build steps in Kotlin for TeamCity?", "body": "<p>I'm trying to setup TeamCity, using config as code with Kotlin. I'm writing wrappers for buildsteps so I can hide the default exposed configuration and only expose parameters that matter. This would allow me to prevent users of the class from changing values that would cause build errors.</p>\n\n<p>I want this:</p>\n\n<pre><code>steps {\n    step {\n        name = \"Restore NuGet Packages\"\n        type = \"jb.nuget.installer\"\n        param(\"nuget.path\", \"%teamcity.tool.NuGet.CommandLine.3.3.0%\")        \n        param(\"nuget.updatePackages.mode\", \"sln\")\n        param(\"nuget.use.restore\", \"restore\")\n        param(\"sln.path\", \"path_to_solution\") //parameter here\n        param(\"toolPathSelector\", \"%teamcity.tool.NuGet.CommandLine.3.3.0%\")\n}\n</code></pre>\n\n<p>...to be this:</p>\n\n<pre><code>MyBuildSteps.buildstep1(\"path_to_solution\")\n</code></pre>\n\n<p>Here's the function signature for step:</p>\n\n<pre><code>public final class BuildSteps {\n    public final fun step(base: BuildStep?, init: BuildStep.() -&gt; Unit ): Unit { /* compiled code */ }\n}\n</code></pre>\n\n<p>This is what I tried:</p>\n\n<pre><code>class MyBuildSteps {\nfun restoreNugetPackages(slnPath: String): kotlin.Unit {\n    var step: BuildStep = BuildStep {\n        name = \"Restore NuGet Packages\"\n        type = \"jb.nuget.installer\"\n    }\n\n    var stepParams: List = Parametrized {\n        param(\"build-file-path\", slnPath)\n        param(\"msbuild_version\", \"14.0\")\n        param(\"octopus_octopack_package_version\", \"1.0.0.%build.number%\")\n        param(\"octopus_run_octopack\", \"true\")\n        param(\"run-platform\", \"x86\")\n        param(\"toolsVersion\", \"14.0\")\n        param(\"vs.version\", \"vs2015\")\n    }\n\n    return {\n        step.name\n        step.type\n        stepParams\n    } //how do I return this?\n  }\n}\n</code></pre>\n\n<p>Any advice would be much appreciated!</p>\n"}, {"tags": ["sorting", "date", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 3, "creation_date": 1476464487, "post_id": 40048326, "comment_id": 67372854, "body": "Not sure Kotlin is compatible with Java 8, but anyway, I guess the OP was looking for a solution written in Kotlin."}, {"owner": {"reputation": 11037, "user_id": 3344829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HMY9j.jpg?s=128&g=1", "display_name": "Saravana", "link": "https://stackoverflow.com/users/3344829/saravana"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1476706951, "post_id": 40048326, "comment_id": 67444900, "body": "@Egor sorry, I know Java only but the logic would be similar to the answer I posted"}], "tags": [], "owner": {"reputation": 11037, "user_id": 3344829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HMY9j.jpg?s=128&g=1", "display_name": "Saravana", "link": "https://stackoverflow.com/users/3344829/saravana"}, "is_accepted": false, "score": 0, "last_activity_date": 1476464005, "creation_date": 1476464005, "answer_id": 40048326, "question_id": 40046141, "link": "https://stackoverflow.com/questions/40046141/kotlin-sort-list-by-using-formatted-date-string-functional/40048326#40048326", "title": "Kotlin - Sort List by using formatted date string (functional)", "body": "<p>You could use <code>DateTimeFormatter</code> to parse and then compare with <code>LocalDateTime</code></p>\n\n<pre><code>    List&lt;String&gt; dates = Arrays.asList(\"14-10-2016 | 15:48\", \"01-08-2015 | 09:29\", \"15-11-2016 | 19:43\");\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy | HH:mm\");\n    List&lt;LocalDateTime&gt; dateTimes = dates.stream().map(date -&gt; LocalDateTime.parse(date, formatter)).sorted().collect(Collectors.toList());\n    System.out.println(dateTimes);\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[2015-08-01T09:29, 2016-10-14T15:48, 2016-11-15T19:43]\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>You could simply convert to <code>LocalDateTime</code> in <code>Comparator</code> alone</p>\n\n<pre><code>List&lt;String&gt; sortedDates = dates.stream().sorted(Comparator.comparing(date -&gt; LocalDateTime.parse(date, formatter))).collect(Collectors.toList());\n</code></pre>\n\n<p>output</p>\n\n<pre><code>[01-08-2015 | 09:29, 14-10-2016 | 15:48, 15-11-2016 | 19:43]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1476705808, "post_id": 40048780, "comment_id": 67444128, "body": "instead of using <code>map</code> to print, maybe use <code>list.sortedWith(cmp).forEach(::println)</code>"}], "tags": [], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "is_accepted": false, "score": 3, "last_activity_date": 1612439312, "last_edit_date": 1612439312, "creation_date": 1476465780, "answer_id": 40048780, "question_id": 40046141, "link": "https://stackoverflow.com/questions/40046141/kotlin-sort-list-by-using-formatted-date-string-functional/40048780#40048780", "title": "Kotlin - Sort List by using formatted date string (functional)", "body": "<p>Another alternative to the excellent Saravana answer (for minimalist and compact freaks like me..) is:</p>\n<pre><code>val cmp = compareBy&lt;String&gt; { LocalDateTime.parse(it, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy | HH:mm&quot;)) }\n\nlist.sortedWith(cmp).forEach(::println)\n\n01-08-2015 | 09:29\n14-10-2016 | 15:48\n15-11-2016 | 19:43\n</code></pre>\n<p>Ps: <code>it</code> is the default variable for single inputs</p>\n"}, {"comments": [{"owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 2, "creation_date": 1476769849, "post_id": 40058598, "comment_id": 67472980, "body": "@elect Immutable objects are always easier to trace and can be used in mutli-threaded environment without any worries. Most of the time you won&#39;t need <code>var</code> in Kotlin if you are familiar with functional approach. But <code>var</code> is more memory efficient, use it wisely to take the only benefit."}, {"owner": {"reputation": 687, "user_id": 4267697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-R9fnFSEkiH4/AAAAAAAAAAI/AAAAAAAAD0A/o2Bs6OqDn-s/photo.jpg?sz=128", "display_name": "karthik prasad", "link": "https://stackoverflow.com/users/4267697/karthik-prasad"}, "edited": false, "score": 9, "creation_date": 1523977226, "post_id": 40058598, "comment_id": 86778770, "body": "Call requires API level 26 though. Any backward compatible solutions?"}], "tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": true, "score": 13, "last_activity_date": 1476531832, "creation_date": 1476531832, "answer_id": 40058598, "question_id": 40046141, "link": "https://stackoverflow.com/questions/40046141/kotlin-sort-list-by-using-formatted-date-string-functional/40058598#40058598", "title": "Kotlin - Sort List by using formatted date string (functional)", "body": "<p>More than one approach can be used. It depends on how you process after you get the sorted result.</p>\n\n<p>Points to note:</p>\n\n<ul>\n<li><code>java.time.LocalDateTime</code> has already implemented\n<code>java.lang.Comparable&lt;T&gt;</code> Interface. We can use the kotlin stdlib <code>List.sortBy</code> to sort the <code>List&lt;LocalDateTime&gt;</code> directly.</li>\n</ul>\n\n<p>Ref: </p>\n\n<pre><code>// https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by.html\nfun &lt;T, R : Comparable&lt;R&gt;&gt; Iterable&lt;T&gt;.sortedBy(\n    selector: (T) -&gt; R?\n): List&lt;T&gt;\n</code></pre>\n\n<p>The easiest way is to transform the <code>String -&gt; java.time.LocalDateTime</code> and use the <code>List.sortBy</code> directly.</p>\n\n<p>The whole implementation could be like this:</p>\n\n<pre><code> import java.time.LocalDateTime\n import java.time.format.DateTimeFormatter\n\n ...\n\n\n// Create a convert function, String -&gt; LocalDateTime\nval dateTimeStrToLocalDateTime: (String) -&gt; LocalDateTime = {\n    LocalDateTime.parse(it, DateTimeFormatter.ofPattern(\"dd-MM-yyyy | HH:mm\"))\n}\n\nval list = listOf(\"14-10-2016 | 15:48\",\n        \"01-08-2015 | 09:29\",\n        \"15-11-2016 | 19:43\")\n\n// You will get List&lt;LocalDateTime&gt; sorted in ascending order\nlist.map(dateTimeStrToLocalDateTime).sorted()\n\n// You will get List&lt;LocalDateTime&gt; sorted in descending order\nlist.map(dateTimeStrToLocalDateTime).sortedDescending()\n\n// You will get List&lt;String&gt; which is sorted in ascending order\nlist.sortedBy(dateTimeStrToLocalDateTime)\n\n// You will get List&lt;String&gt; which is sorted in descending order\nlist.sortedByDescending(dateTimeStrToLocalDateTime)\n</code></pre>\n\n<p>If you want to use <code>org.joda.time.DateTime</code>, you can just make a tiny change on the convert function.</p>\n\n<p>A friendly reminder, always pick <code>val</code> as your first choice in Kotlin :).</p>\n"}, {"tags": [], "owner": {"reputation": 3360, "user_id": 1271891, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fd6e95b45672f7a4c8e13130122b309b?s=128&d=identicon&r=PG", "display_name": "Raj008", "link": "https://stackoverflow.com/users/1271891/raj008"}, "is_accepted": false, "score": 0, "last_activity_date": 1610460104, "creation_date": 1610460104, "answer_id": 65685494, "question_id": 40046141, "link": "https://stackoverflow.com/questions/40046141/kotlin-sort-list-by-using-formatted-date-string-functional/65685494#65685494", "title": "Kotlin - Sort List by using formatted date string (functional)", "body": "<p>If you are using a custom object dates list sorted as below.</p>\n<pre><code>println(&quot;--- ASC ---&quot;)  \ndates.sortBy { it.year }\nprintln(&quot;--- DESC ---&quot;)\ndates.sortByDescending { it.year }\n</code></pre>\n<p>You can use sortByDescending {it.field} for descending order.</p>\n"}], "owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16838, "favorite_count": 1, "accepted_answer_id": 40058598, "answer_count": 4, "score": 9, "last_activity_date": 1612439312, "creation_date": 1476456763, "last_edit_date": 1476705895, "question_id": 40046141, "link": "https://stackoverflow.com/questions/40046141/kotlin-sort-list-by-using-formatted-date-string-functional", "title": "Kotlin - Sort List by using formatted date string (functional)", "body": "<p>I'm trying to create a Kotlin REST API, which retrieves values from a PostgreSQL database. Now the values in these results are f.e. <code>\"14-10-2016 | 15:48\"</code> and <code>\"01-08-2015 | 09:29\"</code> So the syntax basically is <code>dd-MM-yyyy | hh:mm</code></p>\n\n<p>Now what I'm trying to do is create a function that will order them by date placed. (Assume these strings are in an array)</p>\n\n<pre><code>var list = listOf(\"14-10-2016 | 15:48\",\n                  \"01-08-2015 | 09:29\",\n                  \"15-11-2016 | 19:43\")\n</code></pre>\n\n<p>What would be the cleanest (and most functional) way of sorting these? (so f.e. is there a way where I don't have to take substrings of the day, month, etc. cast them to an <code>Int</code>, compare them in a nested loop and write the results to a different array? (that's the only way I could think of).</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1476450493, "post_id": 40036160, "comment_id": 67363691, "body": "It is worth scanning the API references for Kotlin stdlib where you&#39;ll find a lot of useful functions such as <code>toList()</code> ... <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1476461805, "post_id": 40036273, "comment_id": 67371492, "body": "please see the @ilya&#39;s answer for idiomatic API usage"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 14, "last_activity_date": 1476462374, "last_edit_date": 1495542184, "creation_date": 1476426116, "answer_id": 40036273, "question_id": 40036160, "link": "https://stackoverflow.com/questions/40036160/how-to-convert-intarray-to-arraylistint-in-kotlin/40036273#40036273", "title": "How to convert intArray to ArrayList&lt;Int&gt; in Kotlin?", "body": "<p>You can get <code>List&lt;Int&gt;</code> with a simple <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-list.html\" rel=\"noreferrer\"><code>toList</code></a> call like so:</p>\n\n<pre><code>val list = intArrayOf(5, 3, 0, 2).toList()\n</code></pre>\n\n<p>However if you really need <code>ArrayList</code> you can create it too:</p>\n\n<pre><code>val list = arrayListOf(*intArrayOf(5, 3, 0, 2).toTypedArray())\n</code></pre>\n\n<p>or using more idiomatic Kotlin API as suggested by <a href=\"https://stackoverflow.com/a/40045644/155213\">@Ilya</a>:</p>\n\n<pre><code>val arrayList = intArrayOf(1, 2, 5).toCollection(ArrayList())\n</code></pre>\n\n<p>Or if you'd like to do the above yourself and save some allocations:</p>\n\n<pre><code>val arrayList = intArrayOf(5, 3, 0, 2).let { intList -&gt;\n    ArrayList&lt;Int&gt;(intList.size).apply { intList.forEach { add(it) } }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1476461756, "post_id": 40045644, "comment_id": 67371465, "body": "this is the intended API"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1607638695, "post_id": 40045644, "comment_id": 115343574, "body": "This doesn&#39;t work with <code>intArrayOf</code>"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1607688580, "post_id": 40045644, "comment_id": 115357220, "body": "@IgorGanapolsky It should. You can try this code on play.kotlinlang.org: <a href=\"https://pl.kotl.in/9s_sfYftP\" rel=\"nofollow noreferrer\">pl.kotl.in/9s_sfYftP</a>"}, {"owner": {"reputation": 961, "user_id": 4592448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-_DP3LTfLMXw/AAAAAAAAAAI/AAAAAAAAAHk/dzYHVVdXUnE/photo.jpg?sz=128", "display_name": "Fortran", "link": "https://stackoverflow.com/users/4592448/fortran"}, "edited": false, "score": 0, "creation_date": 1608752388, "post_id": 40045644, "comment_id": 115677370, "body": "@Ilya how u create short url on kotlin obline compiler?"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 69, "last_activity_date": 1476455335, "creation_date": 1476455335, "answer_id": 40045644, "question_id": 40036160, "link": "https://stackoverflow.com/questions/40036160/how-to-convert-intarray-to-arraylistint-in-kotlin/40045644#40045644", "title": "How to convert intArray to ArrayList&lt;Int&gt; in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-collection.html\" rel=\"noreferrer\"><code>toCollection</code></a> function and specify <code>ArrayList</code> as a mutable collection to fill:</p>\n\n<pre><code>val arrayList = intArrayOf(1, 2, 5).toCollection(ArrayList())\n</code></pre>\n"}], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18026, "favorite_count": 3, "accepted_answer_id": 40045644, "answer_count": 2, "score": 40, "last_activity_date": 1476462374, "creation_date": 1476425666, "last_edit_date": 1476425965, "question_id": 40036160, "link": "https://stackoverflow.com/questions/40036160/how-to-convert-intarray-to-arraylistint-in-kotlin", "title": "How to convert intArray to ArrayList&lt;Int&gt; in Kotlin?", "body": "<p>From</p>\n\n<pre><code>val array = intArrayOf(5, 3, 0, 2, 4, 1, 0, 5, 2, 3, 1, 4)\n</code></pre>\n\n<p>I need to convert to <code>ArrayList&lt;Int&gt;</code></p>\n\n<p>I have tried <code>array.toTypedArray()</code></p>\n\n<p>But it converted to <code>Array&lt;Int&gt;</code> instead</p>\n"}, {"tags": ["unit-testing", "junit", "kotlin", "hamcrest"], "answers": [{"comments": [{"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "reply_to_user": {"reputation": 10489, "user_id": 346741, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a6d0a3771b08d19c92ca8c8edb262fb0?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/346741/rob"}, "edited": false, "score": 1, "creation_date": 1507546068, "post_id": 40025928, "comment_id": 80238189, "body": "You might be able to make use of infix operator maybe to allow <code>assertThat(1 is equalTo(1))</code>... but you would have to wrap a good bit I think. Maybe with the combination of some DSL style work you get to the point one can write <code>assertThat{ N isEqualTo 1}</code> but I&#39;m not inclined to put that effort in... yet"}], "tags": [], "owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "is_accepted": true, "score": 38, "last_activity_date": 1509020209, "last_edit_date": 1509020209, "creation_date": 1476374739, "answer_id": 40025928, "question_id": 40025927, "link": "https://stackoverflow.com/questions/40025927/how-to-compile-kotlin-unit-test-code-that-uses-hamcrest-is/40025928#40025928", "title": "How to compile Kotlin unit test code that uses hamcrest &#39;is&#39;", "body": "<p>In Kotlin, <code>is</code> is a reserved word . To get around this you need to escape the code using backticks, so the following will allow you to compile the code:</p>\n\n<pre><code>class testExample{\n  @Test fun example(){\n    assertThat(1, `is`(equalTo(1))\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 3, "creation_date": 1476450454, "post_id": 40042189, "comment_id": 67363656, "body": "You would still need to reference the <code>is</code> function when you import it, so you would still need to escape it. But this is a nice trick that would help save you from escaping it all over the place."}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1476451739, "post_id": 40042189, "comment_id": 67364663, "body": "That is true, just once, something like:   import org.hamcrest.CoreMatchers.<code>is</code> as Is"}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1476461185, "post_id": 40042189, "comment_id": 67371154, "body": "At which point it&#39;s just a style thing. Personally, I&#39;d rather escape the function name personally."}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1476461468, "post_id": 40042189, "comment_id": 67371311, "body": "Up to you. With &#39;aliasing&#39; you need to this only once"}], "tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": false, "score": 40, "last_activity_date": 1619080958, "last_edit_date": 1619080958, "creation_date": 1476444894, "answer_id": 40042189, "question_id": 40025927, "link": "https://stackoverflow.com/questions/40025927/how-to-compile-kotlin-unit-test-code-that-uses-hamcrest-is/40042189#40042189", "title": "How to compile Kotlin unit test code that uses hamcrest &#39;is&#39;", "body": "<p>You can alias <code>is</code> to <code>Is</code> (for example),  when you import, using the <code>as</code> keyword.</p>\n<p>E.g:</p>\n<pre><code> import org.hamcrest.CoreMatchers.`is` as Is\n</code></pre>\n<p>See <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/packages.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1553123891, "post_id": 55260520, "comment_id": 97274238, "body": "Oh, this is actually quite nice to know. Never knew it was basically a redundant extra call."}], "tags": [], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "is_accepted": false, "score": 8, "last_activity_date": 1553090510, "last_edit_date": 1553090510, "creation_date": 1553084006, "answer_id": 55260520, "question_id": 40025927, "link": "https://stackoverflow.com/questions/40025927/how-to-compile-kotlin-unit-test-code-that-uses-hamcrest-is/55260520#55260520", "title": "How to compile Kotlin unit test code that uses hamcrest &#39;is&#39;", "body": "<p>As others pointed out, in Kotlin, <code>is</code> is a reserved word (see <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"noreferrer\">Type Checks</a>). But it's not a big problem with Hamcrest since <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/core/Is.html\" rel=\"noreferrer\"><code>is</code></a> function is just a decorator. It's used for better code readability, but it's not required for proper functioning.</p>\n\n<p>You are free to use a shorter Kotlin-friendly expression.</p>\n\n<ol>\n<li><p>equality:</p>\n\n\n\n<pre><code>assertThat(cheese, equalTo(smelly))\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>assertThat(cheese, `is`(equalTo(smelly)))\n</code></pre></li>\n<li><p>matcher decorator:</p>\n\n<pre><code>assertThat(cheeseBasket, empty())\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>assertThat(cheeseBasket, `is`(empty()))\n</code></pre></li>\n</ol>\n\n<p>Another frequently used Hamcrest matcher is a type-check like</p>\n\n<pre><code>assertThat(cheese, `is`(Cheddar.class))\n</code></pre>\n\n<p>It's deprecated and it's not Kotlin-friendly. Instead, you're advised to use one of the following:</p>\n\n<pre><code>assertThat(cheese, isA(Cheddar.class))\nassertThat(cheese, instanceOf(Cheddar.class))\n</code></pre>\n"}], "owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9248, "favorite_count": 3, "accepted_answer_id": 40025928, "answer_count": 3, "score": 29, "last_activity_date": 1619080958, "creation_date": 1476374739, "last_edit_date": 1543914269, "question_id": 40025927, "link": "https://stackoverflow.com/questions/40025927/how-to-compile-kotlin-unit-test-code-that-uses-hamcrest-is", "title": "How to compile Kotlin unit test code that uses hamcrest &#39;is&#39;", "body": "<p>I want to write a unit test for my Kotlin code and use junit/hamcrest matchers, I want to use the <code>is</code> method, but it is a reserved word in Kotlin.</p>\n\n<p>How can I get the following to compile?</p>\n\n<pre><code>class testExample{\n  @Test fun example(){\n    assertThat(1, is(equalTo(1))\n  }\n}\n</code></pre>\n\n<p>Currently my IDE, InteliJ is highlighting that as a compilation error, saying it is expecting a <code>)</code> after <code>is</code>?</p>\n"}, {"tags": ["kotlin", "illegalstateexception"], "answers": [{"comments": [{"owner": {"reputation": 1451, "user_id": 1241170, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5BiDR.jpg?s=128&g=1", "display_name": "j2esu", "link": "https://stackoverflow.com/users/1241170/j2esu"}, "edited": false, "score": 0, "creation_date": 1581856734, "post_id": 40028524, "comment_id": 106568905, "body": "Using spread is an elegant solution, thanks for pointing this out"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 26, "last_activity_date": 1476383824, "creation_date": 1476383824, "answer_id": 40028524, "question_id": 40025639, "link": "https://stackoverflow.com/questions/40025639/android-kotlin-stringres-quantitystring/40028524#40028524", "title": "Android Kotlin StringRes quantityString", "body": "<p>The problem is you're passing <code>format</code> argument as single parameter instead of spreading it to <code>Object... args</code>. The extension method:</p>\n\n<pre><code>fun Context.quantityFromRes(id_: Int, qtt:Int, vararg format: Any) = resources.getQuantityString(id_, qtt, format)\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>fun Context.quantityFromRes(id_: Int, qtt: Int, vararg format: Any): String? {\n    val args: Array&lt;out Any&gt; = format\n    return resources.getQuantityString(id_, qtt, args)\n}\n</code></pre>\n\n<p>Which in Java terms looks like:</p>\n\n<pre><code>public static final String quantityFromRes(Context $receiver, int id_, int qtt, Object... format) {\n    return $receiver.getResources().getQuantityString(id_, qtt, new Object[]{format});\n}\n</code></pre>\n\n<p>What you want to do instead is to use <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">spread operator</a>:</p>\n\n<pre><code>fun Context.quantityFromRes(id_: Int, qtt: Int, vararg format: Any): String? {\n    return resources.getQuantityString(id_, qtt, *format)\n}\n</code></pre>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2645, "favorite_count": 0, "accepted_answer_id": 40028524, "answer_count": 1, "score": 11, "last_activity_date": 1476383824, "creation_date": 1476373937, "last_edit_date": 1476375851, "question_id": 40025639, "link": "https://stackoverflow.com/questions/40025639/android-kotlin-stringres-quantitystring", "title": "Android Kotlin StringRes quantityString", "body": "<p>Ok so this:</p>\n\n<pre><code>fun Context.quantityFromRes(id_: Int, qtt:Int, vararg format: Any) = resources.getQuantityString(id_, qtt, format)\n</code></pre>\n\n<p>xml:</p>\n\n<pre><code>&lt;plurals name=\"header_view\"&gt;\n        &lt;item quantity=\"one\"&gt;Oh no! You just lost %1$d Point&lt;/item&gt;\n        &lt;item quantity=\"other\"&gt;Oh no! You just lost %1$d Points&lt;/item&gt;\n    &lt;/plurals&gt;\n</code></pre>\n\n<p>Gives this error: </p>\n\n<pre><code>\"java.util.IllegalFormatConversionException: %d can't format [Ljava.lang.Object; arguments\"\n</code></pre>\n\n<p>Apparent Java fix:</p>\n\n<pre><code>public class XmlPluralFormatter {\n    private XmlPluralFormatter() {\n        throw new IllegalStateException(\"You can't fuck me =(\");\n    }\n\n    public static String getFormattedString(Context context, int stringRes, int qtt, Object... formatArgs){\n        return context.getResources().getQuantityString(stringRes,qtt, formatArgs);\n    }\n\n    public static String getFormattedString(Context context, int stringRes, int qtt){\n        return context.getResources().getQuantityString(stringRes,qtt);\n    }\n}\n</code></pre>\n\n<ul>\n<li>I just realised using this via Java would solve the problem, but i have no idea if there is a Kotlin way of accomplish the same.</li>\n</ul>\n\n<p>PS: Forgot the call:</p>\n\n<pre><code>val qtt: Int = 123\ncontext.quantityFromRes(R.plurals.header, qty)\n</code></pre>\n\n<p>I can also do this:</p>\n\n<pre><code>fun Context.quantityFromRes(id_: Int, qtt:Int, vararg format: Object) = resources.getQuantityString(id_, qtt, format)\n</code></pre>\n\n<p>but then</p>\n\n<pre><code>Required Object, found Int\n</code></pre>\n\n<p>I can also cast:</p>\n\n<pre><code>context.quantityFromRes(R.plurals.header, qty, qt as Object)\n</code></pre>\n\n<p>but also gives:</p>\n\n<pre><code>\"java.util.IllegalFormatConversionException: %d can't format [Ljava.lang.Object; arguments\"\n</code></pre>\n\n<p>Also, using code directly without an extension function works:</p>\n\n<pre><code>context.resources.getQuantityString(R.plurals.header, qtt, qtt)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1476351832, "post_id": 40016690, "comment_id": 67311903, "body": "You should include the type parameters to make this a valid question. For example, <code>Vec3t</code> is missing the <code>T</code> type parameter. Also, the <code>constructor(v : Vec3t)</code> needs to have this parameter. If I correct the code with the needed type parameters, the code compiles correctly."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1476352251, "post_id": 40016690, "comment_id": 67312160, "body": "Sorry, they went lost when I wrote them on top of my head, I have them in the code but I get still the error"}], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1476352320, "post_id": 40017709, "comment_id": 67312214, "body": "The culprit was the <code>out</code> keyword.. I didn&#39;t get very well the difference between <code>in</code> and <code>out</code> from the doc, may you quickly clarify it in basic terms?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1476450732, "post_id": 40017709, "comment_id": 67363879, "body": "It is complicated, &quot;quickly&quot; doesn&#39;t apply.  <a href=\"http://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a>  ... best to ask this in forums, slack, etc. because it is a discussion and not a SO style question."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 2, "last_activity_date": 1476352246, "creation_date": 1476352246, "answer_id": 40017709, "question_id": 40016690, "link": "https://stackoverflow.com/questions/40016690/kotlin-instantiation-issue-and-generic/40017709#40017709", "title": "Kotlin, instantiation issue and generic", "body": "<p>For completeness, as stated in my comment, the following compiles correctly:</p>\n\n<pre><code>data class Vec3i(\n        override var x: Int = 0,\n        override var y: Int = 0,\n        override var z: Int = 0\n) : Vec3t&lt;Int&gt;(x, y, z) {\n\n    constructor(v: Vec3t&lt;out Number&gt;) : this(v.x.toInt(), v.y.toInt(), v.z.toInt())\n}\n\ndata class Vec3ub(\n        override var x: Ubyte,\n        override var y: Ubyte,\n        override var z: Ubyte\n) : Vec3t&lt;Ubyte&gt;(x, y, z)\n\nabstract class Vec3t&lt;T&gt;(\n        override var x: T,\n        override var y: T,\n        open var z: T\n) : Vec2t&lt;T&gt;(x, y)\n\nopen class Vec2t&lt;T&gt;(\n        open var x: T,\n        open var y: T\n)\n\nfun test(vec3ub: Vec3ub) {\n    val vec3i = Vec3i(vec3ub)\n}\n\nabstract class Ubyte : Number() \n</code></pre>\n\n<p>Note the <code>constructor(v : Vec3t&lt;out Number&gt;) : ...</code> and all other added generic parameter types. <code>Vec3t&lt;out Number&gt;</code> is necessary instead of just <code>Vec3t&lt;Number&gt;</code> here since you don't pass a <code>Number</code>, but rather a subclass of it.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 40017709, "answer_count": 1, "score": 0, "last_activity_date": 1476352246, "creation_date": 1476349603, "last_edit_date": 1476352097, "question_id": 40016690, "link": "https://stackoverflow.com/questions/40016690/kotlin-instantiation-issue-and-generic", "title": "Kotlin, instantiation issue and generic", "body": "<p>I have a class Vec3i that extends Vec3t</p>\n\n<pre><code>data class Vec3i(\n  override var x: Int = 0,\n  override var y: Int = 0,\n  override var z: Int = 0\n) : Vec3t(x, y, z)\n</code></pre>\n\n<p>that has as one secondary constructor as follow</p>\n\n<pre><code>constructor(v: Vec3t&lt;Number&gt;) : this(v.x.toInt(), v.y.toInt(), v.z.toInt())\n</code></pre>\n\n<p>and another class Vec3ub that extends always Vec3t</p>\n\n<pre><code>data class Vec3ub(\n  override var x: Ubyte = Ubyte(0),\n  override var y: Ubyte = Ubyte(0), \n  override var z: Ubyte = Ubyte(0)\n) : Vec3t(x, y, z)\n</code></pre>\n\n<p>Where Vec3t is in turn</p>\n\n<pre><code>abstract class Vec3t&lt;T : Number&gt;(\n  override var x: T, \n  override var y: T, \n  open var z: T\n) : Vec2t(x, y)\n</code></pre>\n\n<p>And Ubyte extends Number</p>\n\n<p>I'd like to instantiate a Vec3i from a Vec3ub</p>\n\n<pre><code>Vec3i(vec3ub)\n</code></pre>\n\n<p>but the compilers complains that there is no constructor for that.. </p>\n\n<p>why isn't valid the secondary constructor I quoted previously?</p>\n"}]