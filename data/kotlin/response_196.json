[{"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2696, "user_id": 596367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64fd57e3e8b4b929b8ac2fa89b07bf?s=128&d=identicon&r=PG", "display_name": "PeS", "link": "https://stackoverflow.com/users/596367/pes"}, "edited": false, "score": 0, "creation_date": 1539212622, "post_id": 52749776, "comment_id": 92424162, "body": "Hi, welcome. Please, visit <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>. Do not post images of code, include it in the question."}, {"owner": {"reputation": 1280, "user_id": 1973651, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jvzoF.jpg?s=128&g=1", "display_name": "Circle Hsiao", "link": "https://stackoverflow.com/users/1973651/circle-hsiao"}, "edited": false, "score": 0, "creation_date": 1539226382, "post_id": 52749776, "comment_id": 92427060, "body": "Learn <a href=\"http://stackoverflow.com/editing-help\">how to use code block</a> instead of post them as image"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 8925974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c535f1b35ded64d339163059e5a5727f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/8925974/zhao"}, "edited": false, "score": 0, "creation_date": 1539212760, "post_id": 52749853, "comment_id": 92424190, "body": "after extending AppCompatActivity, it works, but there still an error on&quot; my_toolbar&quot;"}], "tags": [], "owner": {"reputation": 316, "user_id": 4671437, "user_type": "registered", "profile_image": "https://graph.facebook.com/962358393777204/picture?type=large", "display_name": "Stan Ostrovskii", "link": "https://stackoverflow.com/users/4671437/stan-ostrovskii"}, "is_accepted": false, "score": 2, "last_activity_date": 1539212032, "creation_date": 1539212032, "answer_id": 52749853, "question_id": 52749776, "link": "https://stackoverflow.com/questions/52749776/i-want-set-up-an-app-bar-but-failed-how-to-solve-that-problem/52749853#52749853", "title": "I want set up an app bar but failed, how to solve that problem?", "body": "<p>I don\u2019t know Kotlin, but I think your problem lies in that you are using the SupportActionBar so the activity should extend AppCompatActivity, not Activity. Try having your activity extend AppCompatActivity and let me know if it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 8925974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c535f1b35ded64d339163059e5a5727f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/8925974/zhao"}, "edited": false, "score": 0, "creation_date": 1539212816, "post_id": 52749910, "comment_id": 92424206, "body": "I have changed the theme to NoActionBar, still not works"}], "tags": [], "owner": {"reputation": 395, "user_id": 1289285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265e8072fa27f010e65a8661b274ee95?s=128&d=identicon&r=PG", "display_name": "LifeStyle", "link": "https://stackoverflow.com/users/1289285/lifestyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1539212478, "creation_date": 1539212478, "answer_id": 52749910, "question_id": 52749776, "link": "https://stackoverflow.com/questions/52749776/i-want-set-up-an-app-bar-but-failed-how-to-solve-that-problem/52749910#52749910", "title": "I want set up an app bar but failed, how to solve that problem?", "body": "<p>yes, in activity set setActionBar and check manifest xml file which theme used.</p>\n"}], "owner": {"reputation": 115, "user_id": 8925974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c535f1b35ded64d339163059e5a5727f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhao", "link": "https://stackoverflow.com/users/8925974/zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539212478, "creation_date": 1539211516, "last_edit_date": 1539211774, "question_id": 52749776, "link": "https://stackoverflow.com/questions/52749776/i-want-set-up-an-app-bar-but-failed-how-to-solve-that-problem", "title": "I want set up an app bar but failed, how to solve that problem?", "body": "<p><a href=\"https://developer.android.com/training/appbar/setting-up\" rel=\"nofollow noreferrer\">https://developer.android.com/training/appbar/setting-up</a></p>\n\n<p>I just follow this instruction, but the toolbar doesn't show on my screen, and there's an error </p>\n\n<p><img src=\"https://i.stack.imgur.com/mdaWm.png\" alt=\"mainctivity\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/tqLtY.png\" alt=\"this is my xml file\"></p>\n"}, {"tags": ["function", "types", "kotlin", "uuid"], "answers": [{"comments": [{"owner": {"reputation": 1491, "user_id": 1764803, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GK8ZF.jpg?s=128&g=1", "display_name": "Igor Bykov", "link": "https://stackoverflow.com/users/1764803/igor-bykov"}, "reply_to_user": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "edited": false, "score": 1, "creation_date": 1539206605, "post_id": 52748883, "comment_id": 92422374, "body": "@Ezeewei no worries, we all been there :). glad it help you"}, {"owner": {"reputation": 193, "user_id": 5758378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uumjK.jpg?s=128&g=1", "display_name": "talosdev", "link": "https://stackoverflow.com/users/5758378/talosdev"}, "edited": false, "score": 1, "creation_date": 1539250908, "post_id": 52748883, "comment_id": 92437018, "body": "Note that if you want to leverage Kotlin&#39;s type inference you don&#39;t have to specify the return type, and define the function as a one-liner     fun UuidGenerator() = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;)"}, {"owner": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "reply_to_user": {"reputation": 193, "user_id": 5758378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uumjK.jpg?s=128&g=1", "display_name": "talosdev", "link": "https://stackoverflow.com/users/5758378/talosdev"}, "edited": false, "score": 0, "creation_date": 1539353829, "post_id": 52748883, "comment_id": 92484284, "body": "@talosdev ah cool! thats interesting! thanks for sharing! Feel free to put it as an answer as well so people can benefit!"}], "tags": [], "owner": {"reputation": 1491, "user_id": 1764803, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GK8ZF.jpg?s=128&g=1", "display_name": "Igor Bykov", "link": "https://stackoverflow.com/users/1764803/igor-bykov"}, "is_accepted": true, "score": 2, "last_activity_date": 1539206067, "creation_date": 1539206067, "answer_id": 52748883, "question_id": 52748866, "link": "https://stackoverflow.com/questions/52748866/kotlin-type-mismatch-for-a-function-return-a-string/52748883#52748883", "title": "Kotlin Type Mismatch for a function return a string", "body": "<p>You need to specify return object <code>: String</code></p>\n\n<pre><code>fun UuidGenerator() : String {\n   val id =  UUID.randomUUID().toString()\n   return id.replace(\"-\", \"\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 0, "last_activity_date": 1539250712, "creation_date": 1539250712, "answer_id": 52756883, "question_id": 52748866, "link": "https://stackoverflow.com/questions/52748866/kotlin-type-mismatch-for-a-function-return-a-string/52756883#52756883", "title": "Kotlin Type Mismatch for a function return a string", "body": "<p>All functions in Kotlin return a value (that's why in Kotlin we call them functions and not methods). If you don't explicitly state a return value <code>Unit</code> will be returned implicitly. So your code:</p>\n\n<pre><code>fun UuidGenerator() {\n    val id =  UUID.randomUUID().toString();\n    return id.replace(\"-\", \"\")\n}\n</code></pre>\n\n<p>can be rewritten as:</p>\n\n<pre><code>fun UuidGenerator(): Unit {\n    val id =  UUID.randomUUID().toString();\n    return id.replace(\"-\", \"\")\n    // ^^^--- oops, won't work\n    return Unit\n}\n</code></pre>\n\n<p>If you take a look at its source it will make sense:</p>\n\n<pre><code>/**\n * The type with only one value: the Unit object.\n * This type corresponds to the `void` type in Java.\n */\npublic object Unit {\n    override fun toString() = \"kotlin.Unit\"\n}\n</code></pre>\n\n<p>This is a clever trick to do away with <code>void</code>.</p>\n\n<p>Now what you really want to do is specify that you are returning a <code>String</code>:</p>\n\n<pre><code>fun UuidGenerator(): String {\n    val id =  UUID.randomUUID().toString();\n    return id.replace(\"-\", \"\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 5758378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uumjK.jpg?s=128&g=1", "display_name": "talosdev", "link": "https://stackoverflow.com/users/5758378/talosdev"}, "is_accepted": false, "score": 1, "last_activity_date": 1539436416, "creation_date": 1539436416, "answer_id": 52793307, "question_id": 52748866, "link": "https://stackoverflow.com/questions/52748866/kotlin-type-mismatch-for-a-function-return-a-string/52793307#52793307", "title": "Kotlin Type Mismatch for a function return a string", "body": "<p>As mentioned in a comment, if you want to leverage Kotlin's type inference you and not have to specify the return type, you can define the function as a one-liner </p>\n\n<pre><code>fun UuidGenerator() = UUID.randomUUID().toString().replace(\"-\", \"\")\n</code></pre>\n"}], "owner": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 52748883, "answer_count": 3, "score": 3, "last_activity_date": 1539436416, "creation_date": 1539205965, "last_edit_date": 1539250534, "question_id": 52748866, "link": "https://stackoverflow.com/questions/52748866/kotlin-type-mismatch-for-a-function-return-a-string", "title": "Kotlin Type Mismatch for a function return a string", "body": "<pre><code>import java.util.UUID\n\nfun UuidGenerator() {\n    val id =  UUID.randomUUID().toString();\n    return id.replace(\"-\", \"\")\n}\n</code></pre>\n\n<p>^^^ <code>UuidGenerator.kt</code></p>\n\n<p>Just try to build a simple UUI generator function so I can import it into a class and use it to generate random string of 32 characters, but keep getting type mismatch.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WxDTT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WxDTT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-videoview", "arcore", "sceneform"], "answers": [{"comments": [{"owner": {"reputation": 1245, "user_id": 4903519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krRUH.jpg?s=128&g=1", "display_name": "Oleksii Shliama", "link": "https://stackoverflow.com/users/4903519/oleksii-shliama"}, "edited": false, "score": 0, "creation_date": 1545648216, "post_id": 52765113, "comment_id": 94668405, "body": "Right, the similar approach is currently used in the sample <a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/chromakeyvideo\" rel=\"nofollow noreferrer\">github.com/google-ar/sceneform-android-sdk/tree/master/sampl&zwnj;&#8203;es/&hellip;</a>.  @ClaytonWilkinson do you notice that the video look less contrast (out of color) in AR? Color is not modified inside the material when chromakey is disabled, so I&#39;m wondering whether material parameters like &quot;shadingModel&quot; or &quot;blending&quot; could affect it."}], "tags": [], "owner": {"reputation": 4109, "user_id": 4077205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa824cf184d59d187862336dbae09183?s=128&d=identicon&r=PG&f=1", "display_name": "Clayton Wilkinson", "link": "https://stackoverflow.com/users/4077205/clayton-wilkinson"}, "is_accepted": true, "score": 3, "last_activity_date": 1539276169, "creation_date": 1539276169, "answer_id": 52765113, "question_id": 52748733, "link": "https://stackoverflow.com/questions/52748733/arcore-sceneform-play-mp4-video-when-detect-image/52765113#52765113", "title": "ArCore Sceneform: Play .mp4 video when detect image", "body": "<p>I used the <a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/chromakeyvideo\" rel=\"nofollow noreferrer\">ChromaKey sample</a> as a starting point. </p>\n\n<p>First I changed the custom material used for the video by adding a flag to disable the chromakey filtering.</p>\n\n<pre><code>material {\n    \"name\" : \"Chroma Key Video Material\",\n    \"defines\" : [\n        \"baseColor\"\n    ],\n    \"parameters\" : [\n        {\n           // The texture displaying the frames of the video.\n           \"type\" : \"samplerExternal\",\n           \"name\" : \"videoTexture\"\n        },\n        {\n            // The color to filter out of the video.\n            \"type\" : \"float4\",\n            \"name\" : \"keyColor\"\n        },\n        {\n            \"type\" : \"bool\",\n            \"name\" : \"disableChromaKey\",\n        }\n    ],\n    \"requires\" : [\n        \"position\",\n        \"uv0\"\n    ],\n    \"shadingModel\" : \"unlit\",\n    // Blending is \"masked\" instead of \"transparent\" so that the shadows account for the\n    // transparent regions of the video instead of just the shape of the mesh.\n    \"blending\" : \"masked\",\n    // Material is double sided so that the video is visible when walking behind it.\n    \"doubleSided\" : true\n}\n\nfragment {\n    vec3 desaturate(vec3 color, float amount) {\n        // Convert color to grayscale using Luma formula:\n        // https://en.wikipedia.org/wiki/Luma_%28video%29\n        vec3 gray = vec3(dot(vec3(0.2126, 0.7152, 0.0722), color));\n\n        return vec3(mix(color, gray, amount));\n    }\n\n    void material(inout MaterialInputs material) {\n        prepareMaterial(material);\n\n        vec2 uv = getUV0();\n\n        if (!gl_FrontFacing) {\n          uv.x = 1.0 - uv.x;\n        }\n\n        vec4 color = texture(materialParams_videoTexture, uv).rgba;\n\n        if (!materialParams.disableChromaKey) {\n            vec3 keyColor = materialParams.keyColor.rgb;\n\n            float threshold = 0.675;\n            float slope = 0.2;\n\n            float distance = abs(length(abs(keyColor - color.rgb)));\n            float edge0 = threshold * (1.0 - slope);\n            float alpha = smoothstep(edge0, threshold, distance);\n            color.rgb = desaturate(color.rgb, 1.0 - (alpha * alpha * alpha));\n\n            material.baseColor.a = alpha;\n            material.baseColor.rgb = inverseTonemapSRGB(color.rgb);\n            material.baseColor.rgb *= material.baseColor.a;\n        } else {\n            material.baseColor = color;\n        }\n    }\n}\n</code></pre>\n\n<p>Then set `disableChromaKey' to false in the .sfa file:</p>\n\n<pre><code> materials: [\n    {\n      name: 'DefaultMaterial',\n      parameters: [\n        {\n          videoTexture: {\n            external_path: 'MISSING_PATH',\n          },\n        },\n        {\n          keyColor: [\n            0,\n            0,\n            0,\n            0,\n          ],\n        },\n        {\n            disableChromaKey : true,\n        }\n      ],\n      source: 'sampledata/models/chroma_key_video_material.mat',\n    },\n  ],\n</code></pre>\n\n<p>Then I placed the video node based on the anchor from a hittest, and placed a ViewRenderable node above it for the text.</p>\n\n<pre><code>   private Node createVideoDisplay(final AnchorNode parent, Vector3 localPosition, String title) {\n        // Create a node to render the video and add it to the anchor.\n        Node videoNode = new Node();\n        videoNode.setParent(parent);\n        videoNode.setLocalPosition(localPosition);\n\n        // Set the scale of the node so that the aspect ratio of the video is correct.\n        float videoWidth = mediaPlayer.getVideoWidth();\n        float videoHeight = mediaPlayer.getVideoHeight();\n        videoNode.setLocalScale(\n                new Vector3(\n                        VIDEO_HEIGHT_METERS * (videoWidth / videoHeight),\n                        VIDEO_HEIGHT_METERS, 1.0f));\n\n        // Place the text above the video\n        final float videoNodeHeight = VIDEO_HEIGHT_METERS+ localPosition.y;\n        ViewRenderable.builder().setView(this,R.layout.video_title)\n                .build().thenAccept(viewRenderable -&gt; {\n                   Node titleNode =  new Node();\n                   titleNode.setLocalPosition(new Vector3(0,videoNodeHeight,0));\n                   titleNode.setParent(parent);\n                   titleNode.setRenderable(viewRenderable);\n            ((TextView)viewRenderable.getView().findViewById(R.id.video_text))\n                           .setText(title);\n        });\n\n        return videoNode;\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YJZRR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJZRR.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2749, "favorite_count": 1, "protected_date": 1556413403, "accepted_answer_id": 52765113, "answer_count": 1, "score": 4, "last_activity_date": 1556412939, "creation_date": 1539205325, "question_id": 52748733, "link": "https://stackoverflow.com/questions/52748733/arcore-sceneform-play-mp4-video-when-detect-image", "title": "ArCore Sceneform: Play .mp4 video when detect image", "body": "<p>When I find an image, I want to place a text and a video above it. The text view is placed on the scene but the video is not, it is just added to my main layout in the middle. \nI'm using the component VideoView, I'm not sure that's the problem</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n         (....)\n        arFragment!!.arSceneView.scene.addOnUpdateListener { this.onUpdateFrame(it) }\n        arSceneView = arFragment!!.arSceneView\n\n}\n\nprivate fun onUpdateFrame(frameTime: FrameTime) {\n    val frame = arFragment!!.arSceneView.arFrame\n\n    val augmentedImages = frame.getUpdatedTrackables(AugmentedImage::class.java)\n\n    for (augmentedImage in augmentedImages) {\n        if (augmentedImage.trackingState == TrackingState.TRACKING) {\n\n            if (augmentedImage.name.contains(\"car\") &amp;&amp; !modelCarAdded) {\n                renderView(arFragment!!,\n                        augmentedImage.createAnchor(augmentedImage.centerPose))\n                modelCarAdded = true\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>The text_info is only a TextView component, the video_youtube is a RelativeLayout with the VideoView inside. </p>\n\n<pre><code>   private fun renderView(fragment: ArFragment, anchor: Anchor) {\n    //WORKING\n    ViewRenderable.builder()\n            .setView(this, R.layout.text_info)\n            .build()\n            .thenAccept { renderable -&gt;\n                (renderable.view as TextView).text = \"Example\"\n                addNodeToScene(fragment, anchor, renderable, Vector3(0f, 0.2f, 0f))\n\n            }\n            .exceptionally { throwable -&gt;\n                val builder = AlertDialog.Builder(this)\n                builder.setMessage(throwable.message)\n                        .setTitle(\"Error!\")\n                val dialog = builder.create()\n                dialog.show()\n                null\n            }\n    //NOT WORKING\n    ViewRenderable.builder()\n            .setView(this, R.layout.video_youtube)\n            .build()\n            .thenAccept { renderable -&gt;\n                val view = renderable.view\n                videoRenderable = renderable\n                val path = \"android.resource://\" + packageName + \"/\" + R.raw.googlepixel\n                view.video_player.setVideoURI(Uri.parse(path))\n                renderable.material.setExternalTexture(\"videoTexture\", texture)\n                val videoNode = addNodeToScene(fragment, anchor, renderable, Vector3(0.2f, 0.5f, 0f))\n                if (!view.video_player.isPlaying) {\n                    view.video_player.start()\n                    texture\n                            .surfaceTexture\n                            .setOnFrameAvailableListener {\n                                videoNode.renderable = videoRenderable\n                                texture.surfaceTexture.setOnFrameAvailableListener(null)\n                            }\n                } else {\n                    videoNode.renderable = videoRenderable\n                }\n\n            }\n            .exceptionally { throwable -&gt;\n                null\n            }\n}\n\nprivate fun addNodeToScene(fragment: ArFragment, anchor: Anchor, renderable: Renderable, vector3: Vector3): Node {\n        val anchorNode = AnchorNode(anchor)\n        val node = TransformableNode(fragment.transformationSystem)\n        node.renderable = renderable\n        node.setParent(anchorNode)\n        node.localPosition = vector3\n        fragment.arSceneView.scene.addChild(anchorNode)\n        return node\n    }\n</code></pre>\n\n<p>I tried using the Chroma Key Video example but I don't want the white parts of the video to be transparent. And I'm not sure that I need the model (.sfb) to show a video.</p>\n\n<p><a href=\"https://i.stack.imgur.com/efhug.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/efhug.png\" alt=\"print of the problem\"></a></p>\n"}, {"tags": ["android", "kotlin", "bluetooth"], "answers": [{"comments": [{"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1539205083, "post_id": 52748139, "comment_id": 92421824, "body": "<code>use</code> is a correct method to call for a socket actually. You&#39;re connecting, using the socket and when you&#39;re done with it it&#39;s closed automatically."}, {"owner": {"reputation": 2706, "user_id": 4213436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-BFUsbziJO5Q/AAAAAAAAAAI/AAAAAAAACFw/9ZY8INRo5pg/photo.jpg?sz=128", "display_name": "JDenais", "link": "https://stackoverflow.com/users/4213436/jdenais"}, "reply_to_user": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1539206074, "post_id": 52748139, "comment_id": 92422198, "body": "@ErnestZamelczyk I absolutely agree that it would be correct in many cases. But here, at the end of the block, you pass the socket to another thread and the block closes the socket before you can do anything with it."}], "tags": [], "owner": {"reputation": 2706, "user_id": 4213436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-BFUsbziJO5Q/AAAAAAAAAAI/AAAAAAAACFw/9ZY8INRo5pg/photo.jpg?sz=128", "display_name": "JDenais", "link": "https://stackoverflow.com/users/4213436/jdenais"}, "is_accepted": false, "score": 1, "last_activity_date": 1539202585, "creation_date": 1539202585, "answer_id": 52748139, "question_id": 52748138, "link": "https://stackoverflow.com/questions/52748138/android-bluetooth-socket-closed-read-return-1/52748139#52748139", "title": "Android Bluetooth socket closed: read return: -1", "body": "<p>The issue comes from the code posted on the google guide. </p>\n\n<p>The issue is that they call <code>mmSocket?.use {}</code> then proceed to connect using this socket. The <code>use()</code> method is a really useful extension function for <code>Disposable</code> objects to perform actions on them and then call <code>close()</code> on them at the end of the action. </p>\n\n<p>In this case it is clearly a bug. You do not want to close the socket immediately after having made the connection. </p>\n\n<p>To make it work, just replace the <code>mmSocket?.use {}</code> by <code>mmSocket?.let {}</code> and you will be good to go. </p>\n\n<p>Hopefully google will update their guide.</p>\n"}], "owner": {"reputation": 2706, "user_id": 4213436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-BFUsbziJO5Q/AAAAAAAAAAI/AAAAAAAACFw/9ZY8INRo5pg/photo.jpg?sz=128", "display_name": "JDenais", "link": "https://stackoverflow.com/users/4213436/jdenais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539362159, "creation_date": 1539202585, "last_edit_date": 1539362159, "question_id": 52748138, "link": "https://stackoverflow.com/questions/52748138/android-bluetooth-socket-closed-read-return-1", "title": "Android Bluetooth socket closed: read return: -1", "body": "<p>I am trying out the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth#kotlin\" rel=\"nofollow noreferrer\" title=\"Bluetooth guide\">Bluetooth Guide from google on Android</a>.</p>\n\n<p>And when trying to connect to another device, the connection succeeds but immediately after, when I start listening to incoming bytes, I get this exception: <code>socket closed: read return: -1</code></p>\n\n<p>Here is the code for the connection, copied from the google guide. </p>\n\n<pre><code>private inner class ConnectThread(device: BluetoothDevice) : Thread() {\n\nprivate val mmSocket: BluetoothSocket? by lazy(LazyThreadSafetyMode.NONE) {\n    device.createRfcommSocketToServiceRecord(MY_UUID)\n}\n\npublic override fun run() {\n    // Cancel discovery because it otherwise slows down the connection.\n    mBluetoothAdapter?.cancelDiscovery()\n\n    mmSocket?.use { socket -&gt;\n        // Connect to the remote device through the socket. This call blocks\n        // until it succeeds or throws an exception.\n        socket.connect()\n\n        // The connection attempt succeeded. Perform work associated with\n        // the connection in a separate thread.\n        manageMyConnectedSocket(socket)\n    }\n}\n\n// Closes the client socket and causes the thread to finish.\nfun cancel() {\n    try {\n        mmSocket?.close()\n    } catch (e: IOException) {\n        Log.e(TAG, \"Could not close the client socket\", e)\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 1, "creation_date": 1539202806, "post_id": 52747527, "comment_id": 92420858, "body": "At the end of ViewActivity::initRecycler you are setting the parent adapter then immediately overwriting it with a child adapter."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 0, "creation_date": 1539203163, "post_id": 52747527, "comment_id": 92421020, "body": "@M.Palsich OK I understand that So do I rename the two adapters something like adapter-1 and adapter-2 We tried naming the two adapters to point at the two Adapter Class&#39;s but we get a null pointer exception"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539731622, "post_id": 52747527, "comment_id": 92606394, "body": "What are you trying to display here? I see a recyclerview of cardviews of recyclerviews if I&#39;m not mistaken. That&#39;s one too many scrolly things to begin with."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539734950, "post_id": 52747527, "comment_id": 92607123, "body": "What comment at the end of what page? You should be showing in your question what you&#39;re trying to do"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1546278992, "post_id": 52747527, "comment_id": 94817871, "body": "I&#39;ve rollbacked to a previous version of your question: 1. a question needs an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2. a question shouldn&#39;t be its own solution: instead, split the post properly by posting an answer for a given solution. 3. you can hardly claim (from the edit history) that the code didn&#39;t contribute to the question, as current answers demonstrate there is a certain amount of code needed."}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1546280395, "post_id": 52747527, "comment_id": 94818260, "body": "4. commented code (with <code>&#47;&#47;</code> or <code>&#47;* *&#47;</code>) is not helping to make this question clear, and the code formatting could be improved (for instance, the last block of code has two consecutive <code>}</code> at the same indentation level). 5. Your advertising link gives a HTTP403."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1546282361, "post_id": 52747527, "comment_id": 94818738, "body": "Please place answers in Answer blocks. Later, you can accept your own Answer. Also see <a href=\"https://meta.stackexchange.com/q/5234/173448\">How does accepting an answer work?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "is_accepted": false, "score": -1, "last_activity_date": 1539502982, "creation_date": 1539502982, "answer_id": 52800545, "question_id": 52747527, "link": "https://stackoverflow.com/questions/52747527/kotlin-recyclerview-data-not-showing/52800545#52800545", "title": "kotlin recyclerview data not showing", "body": "<p>In the <code>ViewActivity</code> class, you have first set the <code>recyclerView</code> adapter to <code>ViewAdapter</code> and then to <code>ViewChildAdapter</code> thus, now, the adapter of <code>recyclerView</code> is <code>ViewChildAdapter</code> instead of <code>ViewAdapter</code>. Remove this line and the problem will be resolved. </p>\n"}, {"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1539753706, "post_id": 52847683, "comment_id": 92611306, "body": "You are so correct about the design we used to create the two DB tables or childList and parentList We think our foreign key design need some serious rethinking. Let us play with your code and see if we can put the data on one recyclerview widget You did use the same widget it just does not have both sets of data on at the same time I guess that might count for something old friend Thanks"}], "tags": [], "owner": {"reputation": 1091, "user_id": 4932972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e89a58e35c62040c0d804afb6d1d3c2?s=128&d=identicon&r=PG&f=1", "display_name": "James_Duh", "link": "https://stackoverflow.com/users/4932972/james-duh"}, "is_accepted": true, "score": 0, "last_activity_date": 1539753273, "creation_date": 1539753273, "answer_id": 52847683, "question_id": 52747527, "link": "https://stackoverflow.com/questions/52747527/kotlin-recyclerview-data-not-showing/52847683#52847683", "title": "kotlin recyclerview data not showing", "body": "<p>Here is a answer and some observations about the design of this app<br/>\nThe answer does NOT place both the parent and child data on the same Recycler View List<br/> But the answer may help to solve the issue With further exploration!<br/>\nWhat we did was create the parent list and when the Parent Dept is clicked on the corresponding Child Items will be displayed. This may be a more functional design while shopping you only need to look at Produce items while in that section. This means less scrolling through a single master list of Parents and Children.<br/></p>\n\n<p>A word or two about the design we are guessing a grocery store might have 20 or more Departments (Parents) so how you plan to know which Items (Child data) is connected to the appropriate Dept (Parent) needs drastic redesign when building these two lists.<br/></p>\n\n<p>If you downloaded the code from GitHub you will have a better grasp about this design deficiency<br/></p>\n\n<p>Here is all the code with the XML files<br/></p>\n\n<p>Main Activity navigates to View Activity</p>\n\n<pre><code>    fun onViewAll(view: View){\n    val intent = Intent(this,ViewActivity::class.java)\n    intent.putExtra(\"pickADAPTER\",2)\n    startActivity(intent)\n}\n</code></pre>\n\n<p>Here is the View Activity<br/></p>\n\n<pre><code>class ViewActivity : AppCompatActivity() {\n\nlateinit var recyclerView: RecyclerView\n\nprivate var RecyclerAdapter1: ViewAdapter? = null\nprivate var RecyclerAdapter2: ViewChildAdapter? = null\nprivate var linearLayoutManager: LinearLayoutManager? = null\n\nprivate val db = DBHelper(this)\n\nprivate var parentList:List&lt;ModelParent&gt; = ArrayList()\nprivate var childList:List&lt;ModelChild&gt; = ArrayList()\n\nvar idD = 0\nvar whichADAPTER = 0\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_view)\n    val bundle: Bundle = intent.extras\n    idD = bundle.getInt(\"BIGi\", 0)\n    whichADAPTER = bundle.getInt(\"pickADAPTER\",0)\n\n    initRecycler()\n\n}// end onCreate\n\noverride fun onResume() {\n    super.onResume()\n    initDB()\n}\n\nprivate fun initDB() {\n    parentList = db.queryDEPT()\n    childList = db.queryCHILD(idD)\n    // queryCHILD only selects records with a fkI equal to idD\n    // SEE THE ModelChild and ModelParent\n    if(parentList.isEmpty()){\n        title = \"No Records in DB\"\n    }else{\n        title = \"Parent List\"\n    }\n\n    if(whichADAPTER == 2) {\n        RecyclerAdapter1 = ViewAdapter(parents = parentList, context = applicationContext)\n        (recyclerView as RecyclerView).adapter = RecyclerAdapter1\n    }else{\n        RecyclerAdapter2 = ViewChildAdapter(children = childList)\n        (recyclerView as RecyclerView).adapter = RecyclerAdapter2\n    }\n}\n\nprivate fun initRecycler() {\n    val db = DBHelper(this)\n    childList = db.queryITEM()\n    parentList = db.queryDEPT()\n\n    recyclerView = rv_parent\n\n    recyclerView = this.findViewById(R.id.rv_parent)\n    RecyclerAdapter1 = ViewAdapter(parents = parentList, context = applicationContext)\n    linearLayoutManager = LinearLayoutManager(applicationContext)\n    (recyclerView as RecyclerView).layoutManager = linearLayoutManager!!\n\n}\n</code></pre>\n\n<p>Here the XML file for View Activity<br/></p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\nandroid:id=\"@+id/rv_parent\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" /&gt;\n</code></pre>\n\n<p>Here is the View Adapter<br/></p>\n\n<pre><code>class ViewAdapter(private val parents: List&lt;ModelParent&gt;, internal var context: Context):RecyclerView.Adapter&lt;ViewAdapter.ViewHolder&gt;() {\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(parent.context).inflate(R.layout.the_view,parent,false)\n    return ViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return parents.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val parent = parents[position]\n    holder.textView.text = parent.dept\n\n    holder.editCLICK.setOnClickListener {\n        val i = Intent(context, ViewActivity::class.java)\n        i.putExtra(\"BIGi\",parent.idD)\n        i.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        context.startActivity(i)\n    }\n}\n\ninner class ViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n    //val recyclerView : RecyclerView = itemView.rv_child\n    val textView: TextView = itemView.textView\n    var editCLICK: RelativeLayout = itemView.findViewById(R.id.editCLICK) as \n    RelativeLayout\n</code></pre>\n\n<p>And the inflated XML<br/></p>\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/card_view\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_gravity=\"center\"\nandroid:layout_margin=\"2dp\"\ncard_view:cardBackgroundColor=\"#FF0000\"\ncard_view:cardCornerRadius=\"5dp\"\ncard_view:cardElevation=\"4dp\"\ncard_view:cardUseCompatPadding=\"true\"&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/editCLICK\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        style=\"@style/Base.TextAppearance.AppCompat.Subhead\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignStart=\"@+id/rv_child\"\n        android:layout_alignParentTop=\"true\"\n        android:padding=\"10dp\"\n        android:background=\"@color/color_lightGray\"\n        android:text=\"Dept Header\"\n        android:textColor=\"@color/color_Purple\"\n        android:textSize=\"24sp\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rv_child\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_marginTop=\"50dp\"\n        android:layout_marginBottom=\"0dp\"\n        android:orientation=\"horizontal\"\n        android:paddingLeft=\"4dp\"\n        android:paddingTop=\"6dp\"\n        tools:layout_editor_absoluteX=\"74dp\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is the search routine in DBHelper<br/></p>\n\n<pre><code>    fun queryCHILD(fkI: Int): List&lt;ModelChild&gt; {\n    val db = this.writableDatabase\n    val childList = ArrayList&lt;ModelChild&gt;()\n    val selectQuery = \"SELECT  * FROM $CHILD_TABLE WHERE $colCFK = ?\"\n    val cursor = db.rawQuery(selectQuery, arrayOf(fkI.toString()))\n    if (cursor != null) {\n        if (cursor.moveToFirst()) {\n            do {\n                val contact = ModelChild()\n                contact.idI = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colidI)))\n                contact.item = cursor.getString(cursor.getColumnIndex(colItem))\n                contact.fkI = Integer.parseInt(cursor.getString(cursor.getColumnIndex(colCFK)))\n                childList.add(contact)\n            } while (cursor.moveToNext())\n        }\n    }\n    cursor.close()\n    return childList\n}\n</code></pre>\n\n<p>One thing to make note of we attached the OnClickListener to a Relative Layout<br/></p>\n\n<pre><code> holder.editCLICK.setOnClickListener\n</code></pre>\n\n<p>Why we are not sure you can obtain <code>parent.idD</code> type information from a RecyclerView set as a listener?<br/>\nWe need to explore this but in our testing the code failed when we tried.</p>\n"}, {"comments": [{"owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1539851275, "post_id": 52851703, "comment_id": 92653413, "body": "I&#39;m sorry I meant Parent and child view holder, I will fix it and edit the answer to answer your other questions too"}, {"owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1539853011, "post_id": 52851703, "comment_id": 92654416, "body": "I also added to your repo a JointAdapter.kt file (under the name Nekrull) that should work, you just have to implement the two view holders"}, {"owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1539938554, "post_id": 52851703, "comment_id": 92690336, "body": "ok I&#39;ll alter the answer with the complete adapter I built based on your original post, hope it helps"}, {"owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1540218566, "post_id": 52851703, "comment_id": 92772699, "body": "created a sample project that works <a href=\"https://github.com/Nekrull/ParentChildAdapterSample\" rel=\"nofollow noreferrer\">github.com/Nekrull/ParentChildAdapterSample</a>"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1540269398, "post_id": 52851703, "comment_id": 92790948, "body": "Take a look This is some amazing code I will come back and post a link on github Sorry I was just not into your material design colors ha ha. I was able to change the MainActivity code to utilize the DB data in the two ArrayLists"}, {"owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1540278435, "post_id": 52851703, "comment_id": 92794346, "body": "btw if you wanna link two lists on foreign key, you can try this <code>parents.forEach { p -&gt; p.children.addAll( children.select { it.fkId == p.id } ) }</code> it may be a bit miss-written but you get the point"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1540320607, "post_id": 52851703, "comment_id": 92819461, "body": "that was on my agenda for code fixing. The current Model design with the fkD and fkI was because I thought about a union all to build a new table with the data in a ordered fashion that did not work nor did left outer join Thanks for the Follow up suggestions Stay in touch here <a href=\"https://androidstackoverflow.com/\" rel=\"nofollow noreferrer\">androidstackoverflow.com</a>"}], "tags": [], "owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "is_accepted": false, "score": 2, "last_activity_date": 1539938816, "last_edit_date": 1539938816, "creation_date": 1539769042, "answer_id": 52851703, "question_id": 52747527, "link": "https://stackoverflow.com/questions/52747527/kotlin-recyclerview-data-not-showing/52851703#52851703", "title": "kotlin recyclerview data not showing", "body": "<p>The way I would do it is flatten the list <code>edit: like this in the constructor</code></p>\n\n<pre><code>val items : MutableList&lt;Any&gt; = mutableListOf&lt;Any&gt;()    \n\ninit() {\n   parents //parents should be passed as a constructor argument\n         .asSequence() //this is only needed if you want to also order them\n         .sortedBy { it.idD } //again only if you want to sort them\n         .forEach { \n              items.add(it)\n              items.addAll(it.children)\n          }\n}\n</code></pre>\n\n<p>I would create a List &lt; Any > (or if both parent and child implement an interface a List&lt; IItem >  ) that would contain all the data as you wish to see it, so for example it could look like this:</p>\n\n<pre><code>val items : List&lt;Any&gt; = listOf(parent1, child11,child12,child13,parent2,child12,child13,child14.....etc)\n</code></pre>\n\n<p>then I would implement a single adapter with multiple view types like this:</p>\n\n<pre><code>override fun getItemCount(): Int {\n    return items.size\n}\n\nfun getItem(position: Int) : Any { //or the interface \n    return items[position]\n}\n\noverride getItemViewType (position: Int) : Int {\n    if (getItem(position) is ModelParent)\n        return 0\n    return 1\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    var view : View? = null\n    if (viewType == 0) {\n        view = LayoutInflater.from(parent.context).inflate(R.layout.parent_layout,parent,false)\n        return ParentViewHolder(view);\n    } else {\n       view = LayoutInflater.from(parent.context).inflate(R.layout.child_layout,parent,false)\n        return ChildViewHolder(view);\n    }\n}\n</code></pre>\n\n<p>and then I would use two view holders to represent how the data is shown for the specific item</p>\n\n<pre><code> inner class ParentViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){ ...}\n inner class ChildViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){ ...}\n</code></pre>\n\n<p>after that I could perform different bindings by getting the type of the view ,something like this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    if (getItemType(position) == 0) {\n        (holder as ParentViewHolder).bindData(....)\n    } else {\n        (holder as ChildViewHolder).bindData(....)\n    }\n}\n</code></pre>\n\n<p>edit: Here is the complete adapter I built, it is based on two layout files:</p>\n\n<p>list_item_child:</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/card_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layout_margin=\"2dp\"\n    card_view:cardBackgroundColor=\"#fff\"\n    card_view:cardCornerRadius=\"5dp\"\n    card_view:cardElevation=\"4dp\"\n    card_view:cardUseCompatPadding=\"true\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/child_item\"\n        style=\"@style/Base.TextAppearance.AppCompat.Display3\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:padding=\"20dp\"\n        android:textSize=\"24sp\"\n        android:textStyle=\"bold\"\n        tools:text=\"Dept Header\" /&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>list_item_parent:</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/card_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layout_margin=\"2dp\"\n    card_view:cardBackgroundColor=\"#fff\"\n    card_view:cardCornerRadius=\"5dp\"\n    card_view:cardElevation=\"4dp\"\n    card_view:cardUseCompatPadding=\"true\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/parent_department\"\n        style=\"@style/Base.TextAppearance.AppCompat.Headline\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:padding=\"20dp\"\n        tools:text=\"Dept Header\"\n        android:textSize=\"24sp\"\n        android:textStyle=\"bold\" /&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>and the adapter would look something like this:</p>\n\n<pre><code>import android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\n\ndata class ModelParent(val id: Int, val children: List&lt;ModelChild&gt;)\ndata class ModelChild(val id: Int)\n\n\nclass JoinAdapter(internal var context: Context, val parents: List&lt;ModelParent&gt;) : RecyclerView.Adapter&lt;JoinAdapter.MyViewHolder&gt;() {\n    val items = mutableListOf&lt;Any&gt;()\n\n    init {\n        parents //parents should be passed as a constructor argument\n                .forEach {\n                    items.add(it)\n                    items.addAll(it.children)\n                }\n    }\n\n    override fun getItemCount(): Int = items.size;\n\n\n    fun getItem(position: Int): Any = items[position]\n\n    override fun getItemViewType(position: Int): Int = if (getItem(position) is ModelParent) 0 else 1\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n        var view: View? = null\n        if (viewType == 0) {\n            view = LayoutInflater.from(parent.context).inflate(R.layout.rv_list_item_parent, parent, false)\n            return ParentViewHolder(view!!)\n        } else {\n            view = LayoutInflater.from(parent.context).inflate(R.layout.rv_list_item_child, parent, false)\n            return ChildViewHolder(view!!)\n        }\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) = holder.bindData(position, getItem(position))\n\n    inner abstract class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        abstract fun bindData(position: Int, item: Any)\n\n    }\n\n    inner class ParentViewHolder(view: View) : MyViewHolder(view) {\n        var parentDept: TextView = view.findViewById(R.id.parent_department) as TextView\n\n        override fun bindData(position: Int, item: Any) {\n            val parent = item as? ModelParent ?: return\n            parentDept.text = parent.dept\n        }\n    }\n\n    inner class ChildViewHolder(view: View) : MyViewHolder(view) {\n        var childItem: TextView = view.findViewById(R.id.child_item) as TextView\n\n        override fun bindData(position: Int, item: Any) {\n            val child = item as? ModelChild ?: return\n            childItem.text = child.item\n        }\n    }\n\n}\n</code></pre>\n\n<p>this when used on a single recyclerview will display all children under their parent in a list</p>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3853, "favorite_count": 0, "accepted_answer_id": 52847683, "answer_count": 3, "score": -1, "last_activity_date": 1546278682, "creation_date": 1539199842, "last_edit_date": 1546278682, "question_id": 52747527, "link": "https://stackoverflow.com/questions/52747527/kotlin-recyclerview-data-not-showing", "title": "kotlin recyclerview data not showing", "body": "<p>Our question is how to show Parent and Child data from two SQLite DB tables?</p>\n\n<p>We have two tables that are added to two ArrayLists <code>childList</code> and <code>parentList</code>.</p>\n\n<p>Here are the Model Class's for each</p>\n\n<pre><code>class ModelParent {\n    var idD:Int = 0\n    var dept:String = \"\"\n    var fkD:Int = 0\n    var children: List&lt;ModelChild&gt; = mutableListOf()\n    //var children: ArrayList&lt;ModelChild&gt;? = null\n    //var children: List&lt;ModelChild&gt;  by Delegates.notNull()\n    constructor (children: List&lt;ModelParent&gt;) : this()\n    companion object {\n       var globalVar = 1\n   }\n}\n\nclass ModelChild {\n    var idI:Int = 0\n    var item:String = \"\"\n    var fkI:Int = 0\n}\n</code></pre>\n\n<p>We have two Adapters for each table and will post that code<br/>\nWe are able to iterate through the two <code>ArrayList</code> with this code and display the data in the format we would like to show in the <code>ViewActivity</code>.</p>\n\n<pre><code>fun theGET(){\n    val db = DBHelper(this)\n    childList = db.queryITEM()\n    parentList = db.queryDEPT()\n    var PL = parentList.size\n\n    do {\n        var DEPT: String = parentList[z].dept\n        var PARENT_LIST_FK = parentList.get(z).fkD\n            println(\"========== Dept \" + DEPT + \" fkD \" + PARENT_LIST_FK)\n        val FK = PARENT_LIST_FK\n        childList = db.queryALL(FK)\n        var CL = childList.size\n        for (a in 0..CL - 1) {\n            var CHILD_ITEM = childList[a].item\n            var CHILD_LIST_FK = childList[a].fkI\n            println(\"========== item \" + CHILD_ITEM+\" fkI \"+CHILD_LIST_FK)\n        }\n        z++\n    }\n    while (z &lt;= PL-1)\n}\n</code></pre>\n\n<p>We will post the <code>View Activity</code></p>\n\n<pre><code>class ViewActivity : AppCompatActivity() {\n    lateinit var recyclerView: RecyclerView\n\n    private var parentList:List&lt;ModelParent&gt; = ArrayList()\n    private var childList:List&lt;ModelChild&gt; = ArrayList()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_view)\n\n        initRecycler()\n\n    }// end onCreate\n\n    private fun initRecycler() {\n        val db = DBHelper(this)\n        childList = db.queryITEM()\n        parentList = db.queryDEPT()\n\n        recyclerView = rv_parent\n\n        recyclerView.apply{\n            layoutManager = LinearLayoutManager(this@ViewActivity, LinearLayout.VERTICAL, false)\n            adapter = ViewAdapter(parentList)\n            adapter = ViewChildAdapter(children = childList)\n        }\n    }\n}\n</code></pre>\n\n<p><code>ViewActivity</code> has this XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ViewActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rv_parent\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>The Two Adapters and coresponding XML files</p>\n\n<pre><code>class ViewAdapter(private val parents:List&lt;ModelParent&gt;):RecyclerView.Adapter&lt;ViewAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.the_view,parent,false)\n        return ViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return parents.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val parent = parents[position]\n        holder.textView.text = parent.dept\n        holder.recyclerView.apply {\n            layoutManager = LinearLayoutManager(holder.recyclerView.context, LinearLayout.VERTICAL, false) as RecyclerView.LayoutManager?\n            adapter = ViewChildAdapter(parent.children!!)\n        }\n    }\n\n    inner class ViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n        val recyclerView : RecyclerView = itemView.rv_child\n        val textView: TextView = itemView.textView\n    }\n}\n</code></pre>\n\n\n\n<pre><code>class ViewChildAdapter(private val children:List&lt;ModelChild&gt;):RecyclerView.Adapter&lt;ViewChildAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.child_recycler,parent,false)\n        return ViewHolder(view)\n    }\n    override fun getItemCount(): Int {\n        return children.size\n    }\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val child = children[position]\n        holder.textView.text = child.item\n    }\n\n    inner class ViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n        val textView : TextView = itemView.child_textView\n    }\n}\n</code></pre>\n\n<p>Inflated XML files</p>\n\n<pre><code>&lt;android.support.v7.widget.CardView \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/card_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layout_margin=\"2dp\"\n    card_view:cardBackgroundColor=\"#fff\"\n    card_view:cardCornerRadius=\"5dp\"\n    card_view:cardElevation=\"4dp\"\n    card_view:cardUseCompatPadding=\"true\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView\"\n            style=\"@style/Base.TextAppearance.AppCompat.Subhead\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignStart=\"@+id/rv_child\"\n            android:layout_alignParentTop=\"true\"\n            android:padding=\"20dp\"\n            android:background=\"@color/color_super_lightGray\"\n            android:text=\"Dept Header\"\n            android:textColor=\"@color/color_Purple\"\n            android:textSize=\"24sp\"\n            android:textStyle=\"bold\" /&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/rv_child\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_marginTop=\"70dp\"\n            android:layout_marginBottom=\"0dp\"\n            android:orientation=\"horizontal\"\n            android:paddingLeft=\"4dp\"\n            android:paddingTop=\"8dp\"\n            tools:layout_editor_absoluteX=\"74dp\" /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"horizontal\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/child_textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginStart=\"32dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:background=\"@color/color_Transparent\"\n        android:padding=\"10dp\"\n        android:text=\"TextView\"\n        android:textColor=\"@color/color_Black\"\n        android:textSize=\"20sp\"\n        android:textStyle=\"bold\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>When the <code>ViewActivity</code> is loaded ONLY the childList is displayed.</p>\n\n<p>We have tried various changes and can not display the <code>parent List</code> though using <code>theGET</code> fun the <code>parentList</code> data is displayed so we know it is in the list.</p>\n\n<p>We can run the fun <code>theGET</code> and crate a new <code>ArrayList</code> that seems futile.</p>\n\n<p>Our concern is that the <code>parentList</code> is displayed and then removed when the <code>childList</code> is displayed.</p>\n\n<p>We do not know how to prove this.</p>\n\n<p>So our question is how to show Parent and Child data in a organized fashion in the <code>View Activity</code>?</p>\n\n<p>We are adding <strong>New CODE</strong> based on @Cruces answer<br/>\nSome issues with this code are beyond out understanding<br/>\n1. We have no way to run the fun join to create the newList<br/>\n2. Parent and Child ViewHolder can be called only with receiver of containing Class<br/>\n3. Too many inner Class's and do we need an Outer Nested annotation?<br/>\n4. <code>or if both parent and child implement an interface a List&lt; IItem &gt; )</code><br/>\nWe do not know how to write an interface and connect it to the JoinAdapter<br/></p>\n\n<p>While the answer poses new question we feel it better to ask with in this context = Context HUMOR\nHere is the FIX for the JoinAdapter</p>\n\n<pre><code>class JoinAdapter(internal var context: Context, val parents: List&lt;ModelParent&gt;) : RecyclerView.Adapter&lt;JoinAdapter.MyViewHolder&gt;() {\nval items = mutableListOf&lt;Any&gt;()\n\ninit {\n    parents //parents should be passed as a constructor argument\n            .forEach {\n                items.add(it)\n                items.addAll(it.children)\n            }\n}\n\noverride fun getItemCount(): Int = items.size;\n\n\nfun getItem(position: Int): Any = items[position]\n\noverride fun getItemViewType(position: Int): Int = if (getItem(position) is ModelParent) 0 else 1\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n    var view: View? = null\n    if (viewType == 0) {\n        view = LayoutInflater.from(parent.context).inflate(R.layout.the_view, parent, false)\n        return ParentViewHolder(view!!)\n    } else {\n        view = LayoutInflater.from(parent.context).inflate(R.layout.child_recycler, parent, false)\n        return ChildViewHolder(view!!)\n    }\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) = holder.bindData(position, getItem(position))\n\ninner abstract class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    abstract fun bindData(position: Int, item: Any)\n\n}\n\ninner class ParentViewHolder(view: View) : MyViewHolder(view) {\n    override fun bindData(position: Int, item: Any) {\n        val parent = item as? ModelParent ?: return\n        parent.dept\n        parent.fkD\n        parent.children\n        //bind the data here\n    }\n\n    init {\n        val textView: TextView = view.textView\n        var editCLICK: RelativeLayout = view.findViewById(R.id.editCLICK) as RelativeLayout\n        //do the view setup here\n    }\n\n}\n\ninner class ChildViewHolder(view: View) : MyViewHolder(view) {\n    init {\n        val textView : TextView = itemView.child_textView\n        //do the view setup here\n    }\n\n    override fun bindData(position: Int, item: Any) {\n        val child = item as? ModelChild ?: return\n        child.item\n        child.idI\n        //bind the data here\n    }\n}\n</code></pre>\n\n<p><strong>I am going to post the View Activity call to Join Adapter<br/></strong>\nCode does not FAIL it just shows nothing?<br/></p>\n\n<pre><code>        RecyclerAdapter1 = JoinAdapter(parents = ArrayList(),context = applicationContext)\n    (recyclerView as RecyclerView).adapter = RecyclerAdapter1\n</code></pre>\n\n<p>Here is the <code>ViewJoinActivity</code> it will load the Parent Data NO Child Data<br/></p>\n\n<pre><code>class ViewJoinActivity : AppCompatActivity() {\n\nlateinit var recyclerView: RecyclerView\nprivate var RecyclerAdapter: JoinAdapter? = null\nprivate var linearLayoutManager: LinearLayoutManager? = null\nprivate val db = DBHelper(this)\nprivate var parentList:List&lt;ModelParent&gt; = ArrayList()\nprivate var childList:List&lt;ModelChild&gt; = ArrayList()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_view_join)\n    initRecycler()\n\n}// end onCreate\n\noverride fun onResume() {\n    super.onResume()\n    initDB()\n}\n\nprivate fun initDB() {\n    parentList = db.queryDEPT()\n    //childList = db.queryCHILD(1)\n    childList = db.queryITEM()\n    // queryCHILD only selects records with a fkI equal to idD\n    // SEE THE ModelChild and ModelParent\n    if(parentList.isEmpty()){\n        title = \"No Records in DB\"\n    }else{\n        title = \"Parent List\"\n    }\n\n        RecyclerAdapter = JoinAdapter(parents = parentList, context = applicationContext)\n        (recyclerView as RecyclerView).adapter = RecyclerAdapter\n    }\n\nprivate fun initRecycler() {\n    val db = DBHelper(this)\n    childList = db.queryITEM()\n    parentList = db.queryDEPT()\n\n    //recyclerView = rv_parent\n\n    /*var PL = parentList.size\n    newList.clear()\n    do {\n        var DEPT: String = parentList[z].dept\n        var ND:String = DEPT\n        var PARENT_LIST_FK = parentList.get(z).fkD\n        var PL_ST = ND+\" \"+PARENT_LIST_FK\n        newList.add(PL_ST)\n\n        println(\"========== Dept \" + DEPT + \" fkD \" + PARENT_LIST_FK)\n        val FK = PARENT_LIST_FK\n\n        childList = db.queryCHILD(FK)\n        var CL = childList.size\n\n        for (a in 0..CL - 1) {\n            var CHILD_ITEM = childList[a].item\n            var NI:String = childList[a].item\n            var CHILD_LIST_FK = childList[a].fkI\n            var IL_ST = NI+\" \"+CHILD_LIST_FK\n            newList.add(IL_ST)\n            println(\"========== item \" + CHILD_ITEM+\" fkI \"+CHILD_LIST_FK)\n        }\n        z++\n\n        g++\n    }\n    while (z &lt;= PL-1)\n\n\n    var ui = newList.size\n    g=0\n    for(g in 0..ui-1){\n        var N2 = newList[g]\n\n        if(N2.toString().contains(\"1\")){\n            println(\"********************** We Found \"+N2)\n\n        }\n        println(\"############### BOTH = \"+N2)\n\n    }*/\n\n    recyclerView = this.findViewById(R.id.rv_parent)\n    RecyclerAdapter = JoinAdapter(parents = parentList, context = applicationContext)\n    linearLayoutManager = LinearLayoutManager(applicationContext)\n    (recyclerView as RecyclerView).layoutManager = linearLayoutManager!!\n\n    //recyclerView.apply {\n        //layoutManager = LinearLayoutManager(this@ViewJoinActivity, LinearLayout.VERTICAL, false)\n        //adapter = JoinAdapter(children = childList)\n    //}\n\n}\n\n}\n</code></pre>\n\n<p>Calling the Join Adapter from a Activity is the issue? ?\nThis Activity has a XML associated file with a RecyclerView rv_parent </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 4, "creation_date": 1539198782, "post_id": 52747233, "comment_id": 92419052, "body": "Just click the highlighted expression and press <code>Alt+Enter</code> to see the simplification."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 4, "creation_date": 1539200679, "post_id": 52747233, "comment_id": 92419889, "body": "<code>list.filter { condition }.firstOrNull()</code> ==&gt; <code>list.firstOrNull { condition }</code>"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539201897, "post_id": 52747233, "comment_id": 92420444, "body": "@zapl they want to return if it&#39;s null, so the first is exactly what they&#39;re doing."}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 1, "creation_date": 1539222378, "post_id": 52747233, "comment_id": 92426222, "body": "A good way to approach this problem is to write a few unit tests, make them green, and then tinker with your code until you&#39;re satisfied with it and your tests are still green!"}, {"owner": {"reputation": 61, "user_id": 5306795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59808d1fed02642a0a0a530284bae76e?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5306795/henry"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539623779, "post_id": 52747233, "comment_id": 92560349, "body": "@TheWanderer it doesn&#39;t work on Mac"}, {"owner": {"reputation": 61, "user_id": 5306795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59808d1fed02642a0a0a530284bae76e?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5306795/henry"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1539623832, "post_id": 52747233, "comment_id": 92560369, "body": "@Egor Smart, thanks"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539623840, "post_id": 52747233, "comment_id": 92560377, "body": "Use <code>Cmd</code>+<code>Enter</code>"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 5306795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59808d1fed02642a0a0a530284bae76e?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5306795/henry"}, "is_accepted": false, "score": 2, "last_activity_date": 1539623884, "creation_date": 1539623884, "answer_id": 52821755, "question_id": 52747233, "link": "https://stackoverflow.com/questions/52747233/kotlin-how-to-simplify-this-filter-firstnornull-call-chain/52821755#52821755", "title": "Kotlin: How to simplify this filter firstNorNull call chain?", "body": "<pre><code>list.firstOrNull { condition }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5306795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59808d1fed02642a0a0a530284bae76e?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/5306795/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539623884, "creation_date": 1539198630, "question_id": 52747233, "link": "https://stackoverflow.com/questions/52747233/kotlin-how-to-simplify-this-filter-firstnornull-call-chain", "title": "Kotlin: How to simplify this filter firstNorNull call chain?", "body": "<p>I got a warning from Android Studio: Call chain on collection type may be simplified.</p>\n\n<pre><code>val hit = hits.filter {\n        val trackable = it.trackable\n        trackable is Plane &amp;&amp; trackable.isPoseInPolygon(it.hitPose)\n    }.firstOrNull() ?: return\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1539201766, "post_id": 52747169, "comment_id": 92420378, "body": "<a href=\"https://github.com/Kotlin/kotlinx.collections.immutable\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.collections.immutable</a>"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1539201782, "post_id": 52747169, "comment_id": 92420389, "body": "Asking for libraries is unfortunately off topic and Kotlin afaik doesn&#39;t provide it&#39;s own collections (beyond interfaces such as <code>MutableList</code>). Just extensions on Java&#39;s collections. So no, and queues and stacks don&#39;t sound useful when they are immutable. You&#39;d need a different interface since operations like <code>pop</code> are by contract mutating."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1539201975, "post_id": 52747169, "comment_id": 92420483, "body": "@zapl - Presumably the OP is thinking about <a href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow noreferrer\">persistent data structures</a>, whereby an immutable stack <i>would</i> make sense."}, {"owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "edited": false, "score": 0, "creation_date": 1539203404, "post_id": 52747169, "comment_id": 92421131, "body": "I guess it make sense to build my own then. Thanks All."}], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1539231775, "creation_date": 1539231775, "answer_id": 52752180, "question_id": 52747169, "link": "https://stackoverflow.com/questions/52747169/are-functional-collection-types-available-in-kotlin/52752180#52752180", "title": "Are functional collection types available in Kotlin?", "body": "<p><code>val myarray: Array&lt;out Any&gt; = arrayOfNull(100)</code></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html#arrays</a></p>\n\n<p>Assigning <code>&lt;Any&gt;</code> to <code>&lt;String&gt;</code> is wrong, though the opposite is not.</p>\n"}, {"tags": [], "owner": {"reputation": 1183, "user_id": 1511077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688ec604ef6cb96baadeaaa5d4036858?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny Lebedev", "link": "https://stackoverflow.com/users/1511077/evgeny-lebedev"}, "is_accepted": false, "score": 1, "last_activity_date": 1539248298, "creation_date": 1539248298, "answer_id": 52756117, "question_id": 52747169, "link": "https://stackoverflow.com/questions/52747169/are-functional-collection-types-available-in-kotlin/52756117#52756117", "title": "Are functional collection types available in Kotlin?", "body": "<p><strong>Arrow Library</strong></p>\n\n<blockquote>\n  <p>\u039brrow is a library for Typed Functional Programming in Kotlin.</p>\n</blockquote>\n\n<p><a href=\"https://arrow-kt.io/\" rel=\"nofollow noreferrer\">https://arrow-kt.io/</a></p>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "is_accepted": true, "score": 0, "last_activity_date": 1539271948, "last_edit_date": 1539271948, "creation_date": 1539267970, "answer_id": 52762579, "question_id": 52747169, "link": "https://stackoverflow.com/questions/52747169/are-functional-collection-types-available-in-kotlin/52762579#52762579", "title": "Are functional collection types available in Kotlin?", "body": "<p>So solution wasn't actually that hard. A persistent Stack can be easily implememted using a linked list which results with O(1) complexity for both push() and pop(). As for the Queue it seems there is no much choice but to accept O(n) complexity of either enqueue or dequeue. In such case I can simply use one stack as an input (enqueue) and another one as an optput (dequeue). It will be just a matter of reversing the input stack and swapping with the output when the output gets empty - probably the best idea is to do in on the dequeue(). \nThis may be not the most elegant approach, I may need to re-think this for larger number of elements (maybe add a queue/tree of Stacks to limit reversing) but for my current needs this should be enough. Thanks to all of you for your suggestions.</p>\n\n<p>Persistent Stack implementation - \n<a href=\"https://github.com/nekomatic/types/blob/graph/src/main/kotlin/com/nekomatic/types/Stack.kt\" rel=\"nofollow noreferrer\">https://github.com/nekomatic/types/blob/graph/src/main/kotlin/com/nekomatic/types/Stack.kt</a></p>\n\n<p>Persistent Queue implementation - <a href=\"https://github.com/nekomatic/types/blob/graph/src/main/kotlin/com/nekomatic/types/Queue.kt\" rel=\"nofollow noreferrer\">https://github.com/nekomatic/types/blob/graph/src/main/kotlin/com/nekomatic/types/Queue.kt</a></p>\n"}], "owner": {"reputation": 401, "user_id": 1804010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b92f4722d9ae8725768d480fbb0ea8d?s=128&d=identicon&r=PG", "display_name": "Michal Pawluk", "link": "https://stackoverflow.com/users/1804010/michal-pawluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 52762579, "answer_count": 3, "score": 0, "last_activity_date": 1539271948, "creation_date": 1539198364, "question_id": 52747169, "link": "https://stackoverflow.com/questions/52747169/are-functional-collection-types-available-in-kotlin", "title": "Are functional collection types available in Kotlin?", "body": "<p>Are functional collection types available in Kotlin? Something like immutable Queue or Stack in Scala?\nIf not, is there any good library out there which provides functional collection types to Kotlin (based on Kotlin's Any) ? </p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-room", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539202826, "post_id": 52747081, "comment_id": 92420866, "body": "Thanks. It is clear I am not that familiar with coroutines. How would you go about and call it and then retrieving the value ? I tried implementing it but I got: &quot;Suspend function &#39;retrieveCrimes&#39; should be called only from a coroutine or another suspend function&quot;"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539248016, "post_id": 52747081, "comment_id": 92435164, "body": "1. This uses the <code>async-await</code> antipattern instead of <code>withContext</code>. 2. It uses the outdated experimental API. <code>async</code> is no longer a top-level function. 3. It doesn&#39;t explain that you must launch a coroutine to be able to call a <code>suspend fun</code>."}], "tags": [], "owner": {"reputation": 567, "user_id": 2675407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afc438a8257588cca0b812d27f71ba80?s=128&d=identicon&r=PG&f=1", "display_name": "lucasb.aquino", "link": "https://stackoverflow.com/users/2675407/lucasb-aquino"}, "is_accepted": false, "score": 0, "last_activity_date": 1539198005, "creation_date": 1539198005, "answer_id": 52747081, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem/52747081#52747081", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<p>Using Room all requests to the database by default have to be made in background thread. Why not use coroutines?\nYou could use it with something like this:</p>\n\n<pre><code>suspend fun retrieveCrimes(): List&lt;Crime&gt; {\n    return async {\n        delay(5000)\n        1\n    }.await()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539202204, "post_id": 52747298, "comment_id": 92420582, "body": "Thank a lot. Yes you are right, that is the problem I am trying to overcome. Will explore RxJava more. Thanks"}], "tags": [], "owner": {"reputation": 369, "user_id": 9867072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QA1KZ.png?s=128&g=1", "display_name": "WasabiTea", "link": "https://stackoverflow.com/users/9867072/wasabitea"}, "is_accepted": false, "score": 0, "last_activity_date": 1539198924, "creation_date": 1539198924, "answer_id": 52747298, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem/52747298#52747298", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<p>I'm not really familiar with AsyncTask, but it seems like you're returning the variable 'crime' even before the background task actually finished fetching the data and assigns the value to it.  </p>\n\n<p>You need to return the crimes (the result of the DB query) after AsyncTask completed fetching the data. You're returning the crimes even before the background is completed because you put the return statement right after the execute() call. </p>\n\n<p>If you want to use AsyncTask, you need to implement the callbacks (i.e. onPostExecute(), doInBackground(), etc. ). You can return your result data from the DB(in this case, crimes) from the doInBackground() callback. </p>\n\n<p>I personally prefer using RxJava with Room database rather than AsyncTask because it makes your code cleaner and straightforward :) </p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 1, "creation_date": 1539214790, "post_id": 52749941, "comment_id": 92424626, "body": "Thanks Raymond. How exactly can I access &quot;allCrimes&quot; and perhaps return the array to the calling fun (which is another fragments function)"}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "reply_to_user": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539219593, "post_id": 52749941, "comment_id": 92425636, "body": "Here allCrimes will be a List&lt;Crime&gt;. You can access it as you do regularly with any other variable."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539247853, "post_id": 52749941, "comment_id": 92435076, "body": "1. This doesn&#39;t compile. <code>bg</code> is an unknown symbol. 2. It uses the <code>async-await</code> antipattern instead of <code>withContext</code>. 3. It uses the outdated experimental API. <code>launch</code> is not a top-level function, <code>UI</code> got renamed to <code>Main</code>, and you shouldn&#39;t even have to specify it explicitly if you implement it the proper way by making your activity become a <code>CoroutineScope</code>."}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1539270361, "post_id": 52749941, "comment_id": 92449722, "body": "I&#39;m using anko &quot;import org.jetbrains.anko.coroutines.experimental.bg&quot; and It works perfectly fine. Maybe I&#39;m outdated... why is this use of async-await an antipattern? I&#39;m researching a bit right now :) Thanks"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539278964, "post_id": 52749941, "comment_id": 92454386, "body": "I see, you&#39;re combining Anko with coroutines. That&#39;s not necessary since the main Kotlin API has an equivalent: <code>async(Default) { ... }</code> About the async-await thing, just as the Anko function name states, is about letting a computation run in the background, concurrent to our code. But writing <code>await</code> right after <code>async</code> means that none of our computation will happen until the other task is done. You need such a thing only to transfer the execution to another thread. For that, Kotlin offers <code>withContext(Default) { ...}</code> which is also more efficient because it reuses the current coroutine."}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539377047, "post_id": 52749941, "comment_id": 92494879, "body": "@MarkoTopolnik where can I find a guide to use latest &quot;no experimental&quot; coroutines? I&#39;ve searched in my project build.gradle files but I have no other dependencies configured than anko ones. In all my .kt files the imports begins with kotlinx.coroutines.experimental. Where are coroutines coming from if I&#39;m not adding them as dependencies? where are coroutines packed? If it is too much for a comment just tell me and I will formulate a new question."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539497101, "post_id": 52749941, "comment_id": 92519029, "body": "Probably you have a transitive dependency through Anko. Otherwise it would be kotlinx-coroutines-android. As I write this, the version is 0.30.3-eap13. But you must also upgrade IDEA to an EAP version so you get Kotlin 1.3 support, and upgrade the version of Kotlin in the gradle build.. It will be ironed out in a couple of weeks when the official release happens."}], "tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1539219613, "last_edit_date": 1539219613, "creation_date": 1539212778, "answer_id": 52749941, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem/52749941#52749941", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<p>The best approach I know is to use coroutines. Yo can use something like this:</p>\n\n<pre><code>//For example fron the activity's onCreate method:\noverride fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    launch(UI){\n        ....\n        val allCrimes = bg{\n            crimesDAO.getAllCrimes()\n        }.await()\n        //do something with allCrimes (as a List&lt;Crime&gt;)\n    }\n    ....\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539244618, "post_id": 52752174, "comment_id": 92433287, "body": "This example is entirely wrong. <code>runBlocking</code> annihilates the effect of <code>async</code>. Plus, you use the <code>async-await</code> antipattern instead of <code>withContext</code> (but fixing just that won&#39;t save you)."}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539269528, "post_id": 52752174, "comment_id": 92449174, "body": "No. It does not because it blocks the next thread not the UI thread. It works perfectly fine. You are missing (Dispatchers.Default). It blocks, yes, but the next background thread"}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539270324, "post_id": 52752174, "comment_id": 92449695, "body": "@Marko Topolnik: Coroutine context includes a coroutine dispatcher (see CoroutineDispatcher) that determines what thread or threads the corresponding coroutine uses for its execution. Coroutine dispatcher can confine coroutine execution to a specific thread, dispatch it to a thread pool, or let it run unconfined."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539278635, "post_id": 52752174, "comment_id": 92454218, "body": "Once you properly learn coroutines you&#39;ll see that your proposal is almost like claiming you invented perpetual motion. You have <code>fun getCrimes()</code>: it&#39;s not a <code>suspend fun</code>. Therefore it will block its calling thread until it comes up with its return value. To convince yourself, write this: <code>runBlocking(Dispatchers.Default) { GlobalScope.async { Thread.sleep(100_000) }.await() }</code> inside a GUI callback of your choice. I suggest <code>Activity.onCreate()</code>. If your claim is correct, your application will remain responsive and the above line of code will take almost no time to run."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1539278729, "post_id": 52752174, "comment_id": 92454261, "body": "BTW I see that you call the top-level <code>async</code> function. It is deprecated in the experimental API and you won&#39;t be able to migrate your code to the stable API if you don&#39;t fix this."}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539292253, "post_id": 52752174, "comment_id": 92460647, "body": "Pls run this code and you will see that the function is using a worker thread not the main thread:                                   suspend fun calculateHardThings(startNum: Int): Int {     delay(2000)     return startNum * 10 }  fun exampleSolution() = runBlocking(Dispatchers.Default) {     val result = async { calculateHardThings(10) }.await()     println(&quot;async/await result = $result - ${Thread.currentThread().name}&quot;) }"}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539292520, "post_id": 52752174, "comment_id": 92460759, "body": "Please tell me a better way to do this WITHOUT having to change all function calls on different classes from 1 line to multiple lines just to be able to launch a process in a worker thread and have it return a result"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539328438, "post_id": 52752174, "comment_id": 92470223, "body": "You are indeed right that the function runs on another thread. Sadly for you, your calling thread blocks waiting for that other thread to be done. It&#39;s just like <code>future.get()</code> in plain old Java."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539328999, "post_id": 52752174, "comment_id": 92470502, "body": "Nope, you can&#39;t use coroutines without launching them, and the Android callback is not already in a coroutine. It&#39;s equivalent to the requirement to start a thread in plain Java. There&#39;s a very good article capturing the essence of your frustration with Kotlin&#39;s stackless coroutines: <a href=\"http://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">What Color is Your Function?</a>"}, {"owner": {"reputation": 436, "user_id": 5538849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c324dad1aa5e110f37d19e29253994a4?s=128&d=identicon&r=PG&f=1", "display_name": "rTECH", "link": "https://stackoverflow.com/users/5538849/rtech"}, "edited": false, "score": 0, "creation_date": 1571428335, "post_id": 52752174, "comment_id": 103251761, "body": "@Will: you realizing slowly that you were wrong the whole time is my professional developer career in a nutshell :)"}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "reply_to_user": {"reputation": 436, "user_id": 5538849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c324dad1aa5e110f37d19e29253994a4?s=128&d=identicon&r=PG&f=1", "display_name": "rTECH", "link": "https://stackoverflow.com/users/5538849/rtech"}, "edited": false, "score": 0, "creation_date": 1571581163, "post_id": 52752174, "comment_id": 103280947, "body": "@rTECH - ;-) Ha, you are right. But I guess trying things out is how you actually learn, right?"}, {"owner": {"reputation": 436, "user_id": 5538849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c324dad1aa5e110f37d19e29253994a4?s=128&d=identicon&r=PG&f=1", "display_name": "rTECH", "link": "https://stackoverflow.com/users/5538849/rtech"}, "edited": false, "score": 0, "creation_date": 1571582910, "post_id": 52752174, "comment_id": 103281449, "body": "Absolutely, thanks for the guidance with your question! Steered me on the right track."}], "tags": [], "owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "is_accepted": false, "score": 4, "last_activity_date": 1539350908, "last_edit_date": 1539350908, "creation_date": 1539231748, "answer_id": 52752174, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem/52752174#52752174", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<p>UPDATE: My answer is wrong. (thanks Marko)\nIt does start another background thread, BUT it still blocks the UI Thread.\nSo this circumvents Room protection to not make calls in UI thread, but it defeats the purpose.</p>\n\n<p>I used the below code to confirm that I was generating a new thread but blocking the caller thread anyway:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    exampleBlockingDispatcher()\n}\n\nsuspend fun printlnDelayed(message: String) {\n    delay(2000)\n    println(message)\n}\n\n// Running on another thread but still blocking the main thread\nfun exampleBlockingDispatcher(){\n    runBlocking(Dispatchers.Default) {\n        println(\"one - from thread ${Thread.currentThread().name}\")\n        printlnDelayed(\"two - from thread ${Thread.currentThread().name}\")\n    }\n    // Outside of runBlocking to show that it's running in the blocked main thread\n    println(\"three - from thread ${Thread.currentThread().name}\")\n    // It still runs only after the runBlocking is fully executed.\n}\n</code></pre>\n\n<hr>\n\n<p>Original Answer:</p>\n\n<p>After many hours I figured it out (edit: I wish). The correct way to call the DAO methods using coroutines in a background thread and be able to have a value returned is:</p>\n\n<pre><code>fun getCrimes(): ArrayList&lt;Crime&gt; = runBlocking(Dispatchers.Default) {\n    val result = async { crimesDAO.getAllCrimes() }.await()\n    return@runBlocking result as ArrayList&lt;Crime&gt;\n}\n</code></pre>\n\n<p>Read a lot of code &amp; tutorials but by far the best I recommend on coroutines is this one:</p>\n\n<p><a href=\"https://resocoder.com/2018/10/06/kotlin-coroutines-tutorial-stable-version-async-await-withcontext-launch/\" rel=\"nofollow noreferrer\">https://resocoder.com/2018/10/06/kotlin-coroutines-tutorial-stable-version-async-await-withcontext-launch/</a></p>\n\n<p>It has a lot of examples with simple code that helps to grasp details and see / try them in action.</p>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539269272, "post_id": 52755185, "comment_id": 92448978, "body": "Thank you ! Yes I figured out last night and posted the solution"}, {"owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539270767, "post_id": 52755185, "comment_id": 92449981, "body": "In particular, I wanted to avoid having to call all the DAO functions from different fragments using the ugly      (context as CoroutineScope).launch {         val crimes = getCrimes() }  - This is not the only function: this is 1 example 5 functions called from 2 fragments. I wanted a more elegant and contained solution. And the solution I proposed below works perfectly fine"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "edited": false, "score": 0, "creation_date": 1539279209, "post_id": 52755185, "comment_id": 92454525, "body": "<code>(context as CoroutineScope)</code> is, of course, just a self-contained example because adding such convenience is outside the scope of this answer. You&#39;ll eventually learn that you can&#39;t possibly escape an initial <code>launch</code> in every callback. Happy hacking!"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 11, "last_activity_date": 1539247637, "last_edit_date": 1539247637, "creation_date": 1539245231, "answer_id": 52755185, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem/52755185#52755185", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<h3>Step One</h3>\n\n<p>Turn your blocking function</p>\n\n<pre><code>fun getCrimes() = crimesDAO.getAllCrimes() as List&lt;Crime&gt;\n</code></pre>\n\n<p>into a suspending one:</p>\n\n<pre><code>suspend fun getCrimes() = withContext(Dispatchers.IO) { \n    crimesDAO.getAllCrimes() as List&lt;Crime&gt;\n}\n</code></pre>\n\n<h3>Step Two</h3>\n\n<p>In order to call a suspendable function you must first launch a coroutine:</p>\n\n<pre><code>override fun onSomeEvent() {\n    (context as CoroutineScope).launch {\n        val crimes = getCrimes()\n        // work with crimes\n    }\n}\n</code></pre>\n\n<p>To see how to make your <code>context</code> become a <code>CoroutineScope</code>, refer to the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-coroutine-scope/\" rel=\"noreferrer\">documentation on <code>CoroutineScope</code></a>.</p>\n"}], "owner": {"reputation": 303, "user_id": 1079170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44d49f351b48a00038ccb2549bbcd3f?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1079170/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7075, "favorite_count": 3, "answer_count": 5, "score": 7, "last_activity_date": 1552980661, "creation_date": 1539197122, "last_edit_date": 1552980661, "question_id": 52746866, "link": "https://stackoverflow.com/questions/52746866/android-room-kotlin-query-in-background-thread-return-value-problem", "title": "Android Room Kotlin - Query in background thread - return value problem", "body": "<p>I have converted a sample program from Java/SQLite to Kotlin/Room.</p>\n\n<p>I am struggling to implement queries with return values in a background thread.</p>\n\n<p>This has been asked but I could not get it to work.\nI have read answers to similar questions but some are deprecated, or some solutions seem complex for something that should be trivial. </p>\n\n<p>I am really stumped in coming up with a simple solution when I need to use the return value of the query.</p>\n\n<p>(Everything works as it should if I force doing queries in the main thread with allowMainThreadQueries())</p>\n\n<p>This is one of the functions that I would like to have do the query in a background thread:</p>\n\n<pre><code>fun getCrimes(): List&lt;Crime&gt; {\n    val crimes = crimesDAO.getAllCrimes() as ArrayList&lt;Crime&gt;\n    return crimes\n}\n</code></pre>\n\n<p>I can call the function like follows and it works but it would mean that I need to add Async calls throughout other classes and it does not seem elegant:</p>\n\n<pre><code>AsyncTask.execute {\n    mCrimes = getCrimes() as ArrayList&lt;Crime&gt;\n}\n</code></pre>\n\n<p><strong>==> I would like to modify getCrimes itself to have it run the query in the background, like:</strong> (incorrect code follows)</p>\n\n<pre><code>fun getCrimes(): List&lt;Crime&gt; {\n    var crimes: ArrayList&lt;Crime&gt;\n\n    AsyncTask.execute {\n        crimes = crimesDAO.getAllCrimes() as ArrayList&lt;Crime&gt;\n    }\n\n    return crimes // This is wrong as crimes in not initialized\n}\n</code></pre>\n\n<p>I looked into kotlin coroutines, Live Data and rxjava but could not find a simple way around this.</p>\n\n<h2>Background info:</h2>\n\n<p>This is the data class:</p>\n\n<pre><code>@Entity(tableName = \"crimes_table\")\nclass Crime {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name=\"id\")\n    var id: Long = 0\n\n    @ColumnInfo(name=\"uuid\")\n    @TypeConverters(UUIDConverter::class)\n    var mId: UUID = UUID.randomUUID()\n\n    @ColumnInfo(name=\"title\")\n    var mTitle: String? = null\n\n    @ColumnInfo(name=\"date\")\n    @TypeConverters(DateConverter::class)\n    var mDate: Date? = Date()\n\n    @ColumnInfo(name=\"solved\")\n    var mSolved: Boolean = false\n}\n</code></pre>\n\n<p>This is the DAO:</p>\n\n<pre><code>@Dao\ninterface CrimesListDAO {\n\n    @Query(\"SELECT * FROM crimes_table\")\n    fun getAllCrimes(): List&lt;Crime&gt;\n\n    @Query(\"SELECT * FROM crimes_table WHERE uuid = :uuidString LIMIT 1\")\n    fun getOneCrime(uuidString: String): Crime\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertCrime(crime: Crime)\n\n    @Update(onConflict = OnConflictStrategy.REPLACE)\n    fun updateCrime(crime: Crime)\n\n    @Delete\n    fun deleteCrime(crime: Crime)\n}\n</code></pre>\n\n<p>This is the DatabaseApp class:</p>\n\n<pre><code>@Database(entities = [(Crime::class)], version = 1)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun crimesListDAO(): CrimesListDAO\n}\n</code></pre>\n\n<p>This is how I instantiate the database:</p>\n\n<pre><code>class ApplicationContextProvider : Application() {\n    ...\n    companion object {\n        var database: AppDatabase? = null\n    ...\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        ApplicationContextProvider.database = Room.databaseBuilder(this, AppDatabase::class.java, \"crimeBase.db\").build()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 4780, "user_id": 3926506, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ex7wk.jpg?s=128&g=1", "display_name": "XIII-th", "link": "https://stackoverflow.com/users/3926506/xiii-th"}, "is_accepted": true, "score": 3, "last_activity_date": 1539588699, "creation_date": 1539588699, "answer_id": 52811751, "question_id": 52746799, "link": "https://stackoverflow.com/questions/52746799/data-binding-access-individual-properties-contained-in-livedata/52811751#52811751", "title": "Data binding - access individual properties contained in LiveData", "body": "<p>From the point of view of MVVM pattern it's not entirely correct. In your example view require know about <em>property path</em> to display data. Preferable to provide target data directly from <code>ViewModel</code>. If your property is depend from another, you can use <code>Transformations</code>:</p>\n\n<pre><code>val weather: LiveData&lt;UnitSpecificCurrentWeatherEntry&gt; = //suppose, we have instantiation here\nval someProperty: LiveData&lt;SomePropertyType&gt; = Transformations.map(weather) { it.someProperty }\n</code></pre>\n\n<p>Now, you can use it in your xml:</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/textView\"\n    android:text=\"@{viewmodel.someProperty}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 52811751, "answer_count": 1, "score": 0, "last_activity_date": 1539588699, "creation_date": 1539196860, "question_id": 52746799, "link": "https://stackoverflow.com/questions/52746799/data-binding-access-individual-properties-contained-in-livedata", "title": "Data binding - access individual properties contained in LiveData", "body": "<p>Is there a way to do something like this with LiveData and data binding?</p>\n\n<p>ViewModel has this property:</p>\n\n<pre><code>val weather: LiveData&lt;UnitSpecificCurrentWeatherEntry&gt;\n</code></pre>\n\n<p>What I'm trying to do in the layout:</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/textView\"\n    android:text=\"@{viewmodel.weather.value.someProperty}\"... /&gt;\n</code></pre>\n\n<p>Is this possible in any way or do I have to split the object contained in LiveData into multiple ones for each property of the contained object?</p>\n"}, {"tags": ["android", "kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1576, "user_id": 1163940, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pvAaY.jpg?s=128&g=1", "display_name": "xst", "link": "https://stackoverflow.com/users/1163940/xst"}, "edited": false, "score": 0, "creation_date": 1539276113, "post_id": 52754865, "comment_id": 92452864, "body": "what is the&quot;master job&quot; pattern?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 1576, "user_id": 1163940, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pvAaY.jpg?s=128&g=1", "display_name": "xst", "link": "https://stackoverflow.com/users/1163940/xst"}, "edited": false, "score": 0, "creation_date": 1539279440, "post_id": 52754865, "comment_id": 92454636, "body": "See <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md#structured-concurrency-lifecycle-and-coroutine-parent-child-hierarchy\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1539243921, "creation_date": 1539243921, "answer_id": 52754865, "question_id": 52746631, "link": "https://stackoverflow.com/questions/52746631/does-an-actor-or-channel-need-to-be-managed-closed-terminated-when-encapsulate/52754865#52754865", "title": "Does an actor or channel need to be managed (closed/terminated) when encapsulated by another object like TextWatcher?", "body": "<p>The channel itself won't retain any resources, but your handler probably will. You risk this sequence of events:</p>\n\n<ol>\n<li>an item lands in the channel's input queue</li>\n<li>the application gets paused, its activity gets destroyed</li>\n<li>the application resumes and now the item gets processed</li>\n<li>your handler, bound to the old activity, runs and crashes the app</li>\n</ol>\n\n<p>I got many spurious crashes in similar scenarios. I kept plugging one hole after another, and the app still kept crashing on some devices and in some special circumstances. It stopped only when I implemented the \"master job\" pattern. Later on Kotlin enforced this pattern.</p>\n"}], "owner": {"reputation": 1875, "user_id": 6004870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb3adb8168bd14e548fd89b9341141a?s=128&d=identicon&r=PG", "display_name": "SeptimusX75", "link": "https://stackoverflow.com/users/6004870/septimusx75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1539243921, "creation_date": 1539196115, "question_id": 52746631, "link": "https://stackoverflow.com/questions/52746631/does-an-actor-or-channel-need-to-be-managed-closed-terminated-when-encapsulate", "title": "Does an actor or channel need to be managed (closed/terminated) when encapsulated by another object like TextWatcher?", "body": "<p>I would like to implement a DebounceTextWatcher. I intend to use an <code>actor</code> to consume text changes and debounce on a specified time interval and subsequently forward events to an external consumer. The code would look as follows:</p>\n\n<pre><code>class DebounceTextWatcher(\n  delayMs: Long = DebounceTextWatcher.DEFAULT_TIMER_DELAY_MS,\n  handler: (text: String) -&gt; Unit\n) : TextWatcher {\n\n  private val channel = GlobalScope.actor&lt;String&gt; {\n    debounce(delayMs).consumeEach(handler)\n  }\n\n  override fun afterTextChanged(s: Editable?) {\n    channel.offer(s?.toString().orEmpty())\n  }\n\n  override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n  override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {}\n\n  companion object {\n    const val DEFAULT_TIMER_DELAY_MS = 600L\n  }\n}\n\nfun &lt;T&gt; ReceiveChannel&lt;T&gt;.debounce(timeMs: Long): ReceiveChannel&lt;T&gt; = GlobalScope.produce {\n  var value = receive()\n\n  whileSelect {\n    onTimeout(timeMs) {\n      send(value)\n      value = receive()\n      true\n    }\n    onReceive {\n      value = it\n      true\n    }\n  }\n}\n</code></pre>\n\n<p>My concerns are</p>\n\n<ol>\n<li>Is this the correct use of <code>GlobalScope</code> or should I pass in a <code>CoroutineContext</code> or <code>CoroutineScope</code> as a dependency?</li>\n<li>Do I have to concern myself with invoking <code>close()</code> or terminating the <code>actor</code> in any way when the lifecycle of the <code>Activity</code>/<code>Fragment</code> holding the TextWatcher reference ends?</li>\n</ol>\n\n<p>My assumption is that I do not have to concern myself with this based on <a href=\"https://discuss.kotlinlang.org/t/closing-coroutine-channels/2549\" rel=\"nofollow noreferrer\">this</a> post but I wanted to be certain.</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539200769, "post_id": 52746476, "comment_id": 92419929, "body": "When I try to print <code>&quot;aaabb\\\\\\\\\\cc&quot;</code> I get <code>source.kt:4:23: error: illegal escape: &#39;\\c&#39;</code>. Are you sure the input is correct? Maybe you have <code>&quot;&quot;&quot;aaabb\\\\\\\\\\cc&quot;&quot;&quot;</code>?"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539201838, "post_id": 52746476, "comment_id": 92420415, "body": "Yes input is correct. It should be a string."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539203112, "post_id": 52746476, "comment_id": 92420995, "body": "When using your code, it does not compile - see <a href=\"https://rextester.com/MZOC2445\" rel=\"nofollow noreferrer\">this</a>. Please update with your actual data (<i>Fork it</i> at the bottom)."}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539204183, "post_id": 52746476, "comment_id": 92421431, "body": "Oh I see the point. I&#39;m sorry it should be &quot;&quot;&quot;aaabb\\\\\\\\\\cc&quot;&quot;&quot;"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539204268, "post_id": 52746476, "comment_id": 92421482, "body": "And what about <code>&quot;&quot;&quot;(.)\\1?&quot;&quot;&quot;.toRegex().findAll(text).map{it.value}.toList()</code>?"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539204323, "post_id": 52746476, "comment_id": 92421510, "body": "I added as comment in your answer"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539204767, "post_id": 52746476, "comment_id": 92421683, "body": "Oh, it is still  unclear. Do you mean that the <code>Pattern</code> is a list like <code>listOf(&quot;aaa&quot;, &quot;&quot;&quot;\\\\&quot;&quot;&quot;, &quot;&quot;&quot;\\&quot;&quot;&quot;)</code> that is used to build a pattern dynamically?"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539204902, "post_id": 52746476, "comment_id": 92421750, "body": "yes, sorry about the unclear explanation, I&#39;ll fix it."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539205689, "post_id": 52746476, "comment_id": 92422059, "body": "Answer is updated."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539201800, "post_id": 52747801, "comment_id": 92420394, "body": "if I have pattern like [&quot;aa&quot;, &quot;a&quot;, &quot;\\\\\\&quot;, &quot;\\\\&quot;],  output should be [aa, a, bb, \\\\\\, \\\\, cc]"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539204161, "post_id": 52747801, "comment_id": 92421425, "body": "Great it seems like it&#39;s working in example case, but what if I want to split &quot;\\\\\\\\\\&quot; into &quot;\\\\\\&quot; and &quot;\\\\&quot;?"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539204266, "post_id": 52747801, "comment_id": 92421478, "body": "Also even if the input is &quot;aaa&quot;, if don&#39;t have &quot;aa&quot; and &quot;a&quot; in Pattern, it shouldn&#39;t split it."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539204402, "post_id": 52747801, "comment_id": 92421538, "body": "@JGee When exactly do you want to &quot;split&quot;? What are the exact rules?"}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539204448, "post_id": 52747801, "comment_id": 92421557, "body": "what I meant as Pattern is the pattern in my question below the Input."}, {"owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "edited": false, "score": 0, "creation_date": 1539204541, "post_id": 52747801, "comment_id": 92421591, "body": "I edited input, pattern and output little bit from question"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1539205557, "last_edit_date": 1539205557, "creation_date": 1539201191, "answer_id": 52747801, "question_id": 52746476, "link": "https://stackoverflow.com/questions/52746476/kotlin-split-with-multiple-regex/52747801#52747801", "title": "Kotlin .split() with multiple regex", "body": "<p>You may use the function I wrote for some previous question that splits by a pattern keeping all matched and non-matched substrings:</p>\n\n<pre><code>private fun splitKeepDelims(s: String, rx: Regex, keep_empty: Boolean = true) : MutableList&lt;String&gt; {\n    var res = mutableListOf&lt;String&gt;() // Declare the mutable list var\n    var start = 0                     // Define var for substring start pos\n    rx.findAll(s).forEach {           // Looking for matches     \n        val substr_before = s.substring(start, it.range.first()) // // Substring before match start\n        if (substr_before.length &gt; 0 || keep_empty) {\n            res.add(substr_before)      // Adding substring before match start\n        }\n        res.add(it.value)               // Adding match          \n        start = it.range.last()+1       // Updating start pos of next substring before match\n    }\n    if ( start != s.length ) res.add(s.substring(start))  // Adding text after last match if any\n    return res\n}\n</code></pre>\n\n<p>You just need a dynamic pattern from yoyur <code>Pattern</code> list items by joining them with a <code>|</code>, an <em>alternation operator</em> while remembering to escape all the items:</p>\n\n<pre><code>val Pattern = listOf(\"aaa\", \"\"\"\\\\\"\"\", \"\\\\\") // Define the list of literal patterns\nval rx = Pattern.map{Regex.escape(it)}.joinToString(\"|\").toRegex() // Build a pattern, \\Qaaa\\E|\\Q\\\\\\E|\\Q\\\\E\nval text = \"\"\"aaaabb\\\\\\\\\\cc\"\"\"\nprintln(splitKeepDelims(text, rx, false))\n// =&gt; [aaa, abb, \\\\, \\\\, \\, cc]\n</code></pre>\n\n<p>See the <a href=\"https://rextester.com/DKE2797\" rel=\"nofollow noreferrer\">Kotlin demo</a></p>\n\n<p>Note that between <code>\\Q</code> and <code>\\E</code>, all chars in the pattern are considered literal chars, not special regex metacharacters.</p>\n"}], "owner": {"reputation": 117, "user_id": 8623662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ffyh.png?s=128&g=1", "display_name": "J Gee", "link": "https://stackoverflow.com/users/8623662/j-gee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 2, "accepted_answer_id": 52747801, "answer_count": 1, "score": 3, "last_activity_date": 1539205557, "creation_date": 1539195452, "last_edit_date": 1539204933, "question_id": 52746476, "link": "https://stackoverflow.com/questions/52746476/kotlin-split-with-multiple-regex", "title": "Kotlin .split() with multiple regex", "body": "<pre><code>  Input: \"\"\"aaaabb\\\\\\\\\\cc\"\"\"\n  Pattern: [\"\"\"aaa\"\"\", \"\"\"\\\\\"\"\", \"\"\"\\\"\"\"]\n  Output: [aaa, abb, \\\\, \\\\, \\, cc]\n</code></pre>\n\n<p>How can I split <em>Input</em> to <em>Output</em> using patterns in <em>Pattern</em> in Kotlin?</p>\n\n<p>I found that Regex(\"(?&lt;=cha)|(?=cha)\") helps patterns to remain after spliting, so I tried to use looping, but some of the patterns like '\\' and '[' require escape backslash, so I'm not able to use loop for spliting.</p>\n\n<p>EDIT:</p>\n\n<pre><code>  val temp = mutableListOf&lt;String&gt;()\n  for (e in Input.split(Regex(\"(?&lt;=\\\\)|(?=\\\\)\"))) temp.add(e)\n</code></pre>\n\n<p>This is what I've been doing, but this does not work for multiple regex, and this add extra \"\" at the end of temp if Input ends with \"\\\"</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "companion-object"], "answers": [{"comments": [{"owner": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "edited": false, "score": 0, "creation_date": 1539194946, "post_id": 52746335, "comment_id": 92417285, "body": "yes and in additional, I actually imported a WRONG JSONObject class, which actually need to be <code>import net.sf.json.JSONObject</code>. Which is crazy strange, but it was required by the object that I instantiated. before this piece of JSONObject related code..."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 6, "last_activity_date": 1539194884, "creation_date": 1539194884, "answer_id": 52746335, "question_id": 52746151, "link": "https://stackoverflow.com/questions/52746151/classifier-jsonobject-does-not-have-a-companion-object-and-thus-must-be-initia/52746335#52746335", "title": "Classifier JSONObject does not have a &#39;companion object, and thus must be initialized here", "body": "<p>You're using incorrect syntax. Variables in Kotlin are declared like:</p>\n\n<pre><code>[var/val] name: OptionalExplicitType = something\n</code></pre>\n\n<p>Which means <code>JSONObject var instance:...</code> isn't allowed. </p>\n\n<p>Change that to:</p>\n\n<pre><code>var instance: JSONObject = ...\n</code></pre>\n\n<p>It's also important that you set it. Since it looks like you're trying to create a singleton, you can just use an <code>object</code> instead of a class. </p>\n\n<p>If you feel like doing it the old fashioned way, make it nullable: </p>\n\n<pre><code>var instance: JSONObject? = null\n</code></pre>\n\n<p>Then check if it's null, initialize, set and return of it is, otherwise return the current value. </p>\n\n<p>If this isn't your goal though, you still need to initialize it, unless you make it lateinit. But if you do that, you need to initialize it before attempting to access it, or it will throw an exception. </p>\n"}], "owner": {"reputation": 6278, "user_id": 2646226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7030bd05d9dc7920f066578f878b4688?s=128&d=identicon&r=PG", "display_name": "Ezeewei", "link": "https://stackoverflow.com/users/2646226/ezeewei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4628, "favorite_count": 0, "accepted_answer_id": 52746335, "answer_count": 1, "score": 1, "last_activity_date": 1539194884, "creation_date": 1539194093, "question_id": 52746151, "link": "https://stackoverflow.com/questions/52746151/classifier-jsonobject-does-not-have-a-companion-object-and-thus-must-be-initia", "title": "Classifier JSONObject does not have a &#39;companion object, and thus must be initialized here", "body": "<pre><code>import org.json.JSONObject\nJSONObject deviceInformation = ...\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mIIOs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mIIOs.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to create a companion object like this, but not really working... sorry pretty noobie in Java and Kotlin....\n<a href=\"https://i.stack.imgur.com/FyjDf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyjDf.png\" alt=\"enter image description here\"></a></p>\n\n<p>and yes, JSONObject is imported correctly with </p>\n\n<p><code>import org.json.JSONObject</code></p>\n"}, {"tags": ["android", "kotlin", "android-package-managers", "android-install-apk"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539192977, "post_id": 52745852, "comment_id": 92416422, "body": "<code>PACKAGE_ADDED</code> is only called when it actually is installed. There&#39;s no broadcast for cancelling downloads."}, {"owner": {"reputation": 996, "user_id": 6704320, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb8cbdc379bfa97bee49eb731e601134?s=128&d=identicon&r=PG&f=1", "display_name": "phoebus", "link": "https://stackoverflow.com/users/6704320/phoebus"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539193114, "post_id": 52745852, "comment_id": 92416485, "body": "I know that that specific broadcast is only triggered when it is installed. But there has to be a way to handle a failure."}, {"owner": {"reputation": 4680, "user_id": 552902, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/60e291d3dd382517a16557fb07cc8f0c?s=128&d=identicon&r=PG", "display_name": "JRomero", "link": "https://stackoverflow.com/users/552902/jromero"}, "edited": false, "score": 0, "creation_date": 1543354295, "post_id": 52745852, "comment_id": 93886791, "body": "If the answer below answered your question please mark it as the accepted answer. If not please provide some comment on it."}], "answers": [{"tags": [], "owner": {"reputation": 4680, "user_id": 552902, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/60e291d3dd382517a16557fb07cc8f0c?s=128&d=identicon&r=PG", "display_name": "JRomero", "link": "https://stackoverflow.com/users/552902/jromero"}, "is_accepted": false, "score": 0, "last_activity_date": 1539194519, "creation_date": 1539194519, "answer_id": 52746245, "question_id": 52745852, "link": "https://stackoverflow.com/questions/52745852/android-install-apk-via-intent-react-to-failure/52746245#52746245", "title": "Android - Install APK via intent - react to failure", "body": "<p>The answer is that there is no <em>standard</em> way of doing it. If you look at the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/483f3b06ea84440a082e21b68ec2c2e54046f5a6/services/java/com/android/server/pm/PackageManagerService.java#669\" rel=\"nofollow noreferrer\">source of the package manager service</a> you will see that there is no event broadcasted for when it is not successful.</p>\n\n<p>You could in theory do a few things...</p>\n\n<ol>\n<li>Check to see if the package has been installed when the activity/fragment resumes after that intent is fired. </li>\n<li>Inspect the logcat logs if you have the permissions to do so and parse them for any package manger output.</li>\n</ol>\n\n<p>These options won't be perfect and might not work on all implementations but might lead you in the right direction.</p>\n"}], "owner": {"reputation": 996, "user_id": 6704320, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb8cbdc379bfa97bee49eb731e601134?s=128&d=identicon&r=PG&f=1", "display_name": "phoebus", "link": "https://stackoverflow.com/users/6704320/phoebus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539194519, "creation_date": 1539192832, "question_id": 52745852, "link": "https://stackoverflow.com/questions/52745852/android-install-apk-via-intent-react-to-failure", "title": "Android - Install APK via intent - react to failure", "body": "<p>I am installing an APK via the following intent:</p>\n\n<pre><code>val apkUri = Uri.fromFile(apkFile)\nval intent = Intent(Intent.ACTION_VIEW)\nintent.setDataAndType(apkUri, \"application/vnd.android.package-archive\")\nintent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\ncontext.startActivity(intent)\n</code></pre>\n\n<p>I know that I can retrieve the PACKAGE_ADDED broadcast and then react in case the APK was installed.\nHowever, how can I react if the installation failed? E.g. if the APK was not parsed correctly (e.g. if its for a different architecture) or simply if the user clicks \"CANCEL\" on the request?</p>\n\n<p>I also tried <code>startActivityForResult</code> and the corresponding <code>onActivityForResult</code> functions, but that seems to be independent on the user action and is immediately triggered when the intent was fired. </p>\n"}, {"tags": ["java", "android", "mobile", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539192730, "post_id": 52745501, "comment_id": 92416319, "body": "It&#39;s whatever name you define for the launcher. The package is irrelevant. For the app store itself, it&#39;s defined in the store entry."}, {"owner": {"reputation": 13, "user_id": 10029151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35075d0256e97778dd89d6eba39bf818?s=128&d=identicon&r=PG&f=1", "display_name": "Stavrekas", "link": "https://stackoverflow.com/users/10029151/stavrekas"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539193172, "post_id": 52745501, "comment_id": 92416510, "body": "Sorry i did not get that. I am new to android an i am having difficulties."}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 4585659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9983210e284940b167afc5089bdd6e?s=128&d=identicon&r=PG&f=1", "display_name": "majov", "link": "https://stackoverflow.com/users/4585659/majov"}, "is_accepted": false, "score": 0, "last_activity_date": 1539197565, "creation_date": 1539197565, "answer_id": 52746966, "question_id": 52745501, "link": "https://stackoverflow.com/questions/52745501/apk-name-that-will-be-visible-to-final-play-store-users/52746966#52746966", "title": "Apk name that will be visible to final play store users", "body": "<p>use <code>android:label=\"My awesome app\"</code> in Manifest for your application</p>\n\n<pre><code>&lt;application\n        android:name=\"com.example.MyApp\"           \n        android:label=\"@string/app_name\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10029151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35075d0256e97778dd89d6eba39bf818?s=128&d=identicon&r=PG&f=1", "display_name": "Stavrekas", "link": "https://stackoverflow.com/users/10029151/stavrekas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539197565, "creation_date": 1539191470, "question_id": 52745501, "link": "https://stackoverflow.com/questions/52745501/apk-name-that-will-be-visible-to-final-play-store-users", "title": "Apk name that will be visible to final play store users", "body": "<p>I have an android studio projects that has an original package name com.example.app1 and obviously the name that shows up below the icon of my app when i install in order to debug is App 1. I have finished the app, though i don't want the users to see that name (App 1) when they install my app from the play store on their phone and on the unisnstall menu. I just want them to see Awesome App or something. I do not nececerily need to change the package name, only the name that the users will see on their devices. What can i do? Set an applicationId different from my package name or change the whole package name by refactoring?</p>\n"}, {"tags": ["android", "mvvm", "data-binding", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 478, "user_id": 6561371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5196f6eb4c051d4c5f56680fd32615?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik G.", "link": "https://stackoverflow.com/users/6561371/dominik-g"}, "edited": false, "score": 1, "creation_date": 1539188545, "post_id": 52744652, "comment_id": 92413990, "body": "You are calling performDataBinding() before calling provideViewModel(), thus you access mViewModel before it was initialized. Possibly reversing the order fixes your problem?"}, {"owner": {"reputation": 286, "user_id": 4312282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9994fe4053b571ff50516bac9582e6f3?s=128&d=identicon&r=PG&f=1", "display_name": "mangkool", "link": "https://stackoverflow.com/users/4312282/mangkool"}, "reply_to_user": {"reputation": 478, "user_id": 6561371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5196f6eb4c051d4c5f56680fd32615?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik G.", "link": "https://stackoverflow.com/users/6561371/dominik-g"}, "edited": false, "score": 0, "creation_date": 1539188637, "post_id": 52744652, "comment_id": 92414042, "body": "ah I see, yes it fixed the problem, now it works, thank you so much @DominikG."}], "owner": {"reputation": 286, "user_id": 4312282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9994fe4053b571ff50516bac9582e6f3?s=128&d=identicon&r=PG&f=1", "display_name": "mangkool", "link": "https://stackoverflow.com/users/4312282/mangkool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1425, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539188134, "creation_date": 1539188134, "question_id": 52744652, "link": "https://stackoverflow.com/questions/52744652/baseactivity-mvvm-architecture-android-viewmodel-not-initialized", "title": "BaseActivity mvvm architecture android, viewmodel not initialized", "body": "<p>I am trying to write a base activity with code like this</p>\n\n<pre><code>abstract class BaseActivity&lt;T : ViewDataBinding, V : BaseViewModel&gt; : AppCompatActivity(), HasSupportFragmentInjector {\n\nval NO_VIEW_MODEL_BINDING_VARIABLE = -1\n\nprivate lateinit var mViewModel: V\nprivate lateinit var mViewDataBinding: T\n\n@Inject\nlateinit var mViewModelFactory : ViewModelProvider.Factory\n\n@Inject\nlateinit var mFragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\nabstract fun getViewModelBindingVariable() : Int\n\n@LayoutRes\nabstract fun getLayoutId() : Int\n\nfun getDataBinding() : T {\n  return mViewDataBinding\n}\n\nfun getViewModel() : V {\n    return mViewModel\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    AndroidInjection.inject(this)\n    super.onCreate(savedInstanceState)\n\n    performDataBinding()\n    provideViewModel()\n\n}\n\noverride fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt; {\n    return mFragmentInjector\n}\n\nprivate fun performDataBinding() {\n    mViewDataBinding = DataBindingUtil.setContentView(this, getLayoutId())\n    if (getViewModelBindingVariable() != NO_VIEW_MODEL_BINDING_VARIABLE) {\n        setViewModelBindingVariable()\n    }\n}\n\nprivate fun setViewModelBindingVariable() {\n    mViewDataBinding.setVariable(getViewModelBindingVariable(), mViewModel)\n    mViewDataBinding.executePendingBindings()\n}\n\nprivate fun provideViewModel() {\n    val clazz: Class&lt;V&gt; = getViewModelClass(javaClass)\n    mViewModel = ViewModelProviders.of(this, mViewModelFactory).get(clazz)\n}\n\nprivate fun getViewModelClass(aClass: Class&lt;*&gt;): Class&lt;V&gt; {\n    val type = aClass.genericSuperclass\n\n    return if (type is ParameterizedType) {\n        type.actualTypeArguments[1] as Class&lt;V&gt;\n    } else {\n        getViewModelClass(aClass.superclass)\n    }\n}\n}\n</code></pre>\n\n<p>and I also using databinding here, the problem I encountered is whenever I tried to reference the viewmodel class in my xml and return the generated value of the viewmodel by using BR.viewModel in getViewModelBindingVariable it gave an error saying that </p>\n\n<pre><code>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property mViewModel has not been initialized\n    at com.rahmat.app.newsapp.features.base.BaseActivity.setViewModelBindingVariable(BaseActivity.kt:70)\n    at com.rahmat.app.newsapp.features.base.BaseActivity.performDataBinding(BaseActivity.kt:65)\n    at com.rahmat.app.newsapp.features.base.BaseActivity.onCreate(BaseActivity.kt:53)\n    at com.rahmat.app.newsapp.features.main.MainActivity.onCreate(MainActivity.kt:31)\n</code></pre>\n\n<p>This error didn't happen if I return NO_VIEW_MODEL_BINDING_VARIABLE but this made me cannot reference the viewmodel class that I want in my xml. I think there is some problem in my provideViewModel() function but I still don't know why. Any help would be much appreciated. thank you</p>\n"}, {"tags": ["intellij-idea", "kotlin", "development-environment", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "edited": false, "score": 0, "creation_date": 1539187001, "post_id": 52743993, "comment_id": 92413090, "body": "this works fine for a project with no dependencies, thanks! Though when I need a gradle file, I get the error that it cant find the kotlin plugin in maven"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "edited": false, "score": 0, "creation_date": 1539187337, "post_id": 52743993, "comment_id": 92413304, "body": "Sorry, I don&#39;t understand the part of &quot;when I need a Gradle file&quot;. You don&#39;t need Gradle for IntelliJ IDEA to build a plain Java library."}], "tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": true, "score": 0, "last_activity_date": 1539186017, "creation_date": 1539186017, "answer_id": 52743993, "question_id": 52743725, "link": "https://stackoverflow.com/questions/52743725/what-is-the-recommended-intellij-setup-for-kotlin-multiplatform/52743993#52743993", "title": "What is the recommended IntelliJ setup for Kotlin Multiplatform", "body": "<p>You should target Java 6 code if you're planning to use the library in Android and not having any headaches. Note that you need to specify that explicitly to the Kotlin compiler. Only setting the IntelliJ IDEA project to target Java 6 won't do.</p>\n\n<p>The JDK version doesn't really matter since you can tell the compiler to generate code for any previous Java version.</p>\n\n<p>IntelliJ IDEA is probably the best IDE for Kotlin since it's made by JetBrains, the same guys that are behind Kotlin itself. Get the latest version.</p>\n\n<p>You don't need any extra plugin, Kotlin is supported out of the box by IntelliJ IDEA (i.e. Kotlin plugin is included in the standard version).</p>\n"}, {"comments": [{"owner": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "edited": false, "score": 0, "creation_date": 1539319570, "post_id": 52756678, "comment_id": 92466771, "body": "I&#39;ve been trying to do that, there&#39;s versioning issue hence the question. I guess I&#39;ll figure it out."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1539250128, "creation_date": 1539250128, "answer_id": 52756678, "question_id": 52743725, "link": "https://stackoverflow.com/questions/52743725/what-is-the-recommended-intellij-setup-for-kotlin-multiplatform/52756678#52756678", "title": "What is the recommended IntelliJ setup for Kotlin Multiplatform", "body": "<p>I'd suggest using the <em>Kotlin Multiplatform Plugin</em> which just came out. Its setup is very simple:</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.multiplatform' version '1.2.71'\n}\n\nrepositories {\n    mavenCentral()\n}\n\nkotlin {\n    targets {\n        fromPreset(presets.jvm, 'jvm')\n        fromPreset(presets.js, 'js')\n        fromPreset(presets.mingwX64, 'mingw')\n    }\n\n    sourceSets { /* ... */ }\n}\n</code></pre>\n\n<p>It comes with built-in presets for all supported platforms but you can also set them up individually. I've worked with the \"old way\" of doing multiplatform development and using this plugin will just make it infinitely easier to deal with. You can read more about setting it up <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#setting-up-a-multiplatform-project\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 52743993, "answer_count": 2, "score": 0, "last_activity_date": 1539250128, "creation_date": 1539185221, "question_id": 52743725, "link": "https://stackoverflow.com/questions/52743725/what-is-the-recommended-intellij-setup-for-kotlin-multiplatform", "title": "What is the recommended IntelliJ setup for Kotlin Multiplatform", "body": "<p>I've been trying to get an environment for working with Kotlin (multiplatform) for a little too long now and would like some advice. I seem to get stuck on which version of JDK do I need, should I download Android Studio for the Android SDK or is there a cleaner way than getting the full IDE, which version of IntelliJ to use and which version of the Kotlin plugin is compatible.</p>\n\n<p>I would like to use Kotlin 1.3.</p>\n\n<p>My aim is to develop a common library with no platform-specific code; though I would like to test it on Android, Linux, WebAssembly.</p>\n\n<p>Lubuntu 18.04.1\nIntel x64</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1539185820, "post_id": 52743681, "comment_id": 92412386, "body": "What was your expectation?"}, {"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1539185897, "post_id": 52743681, "comment_id": 92412436, "body": "The code posted is moving a marker; I don&#39;t see any zoom changes.  Are you zooming with UI control or programmatically?  What calls &#39;animateMarkerToGB&#39;."}, {"owner": {"reputation": 1, "user_id": 10484938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7935b62a1925af9c38781abe7c7e2ecf?s=128&d=identicon&r=PG&f=1", "display_name": "Yanir Haim", "link": "https://stackoverflow.com/users/10484938/yanir-haim"}, "reply_to_user": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1539192882, "post_id": 52743681, "comment_id": 92416381, "body": "@Andy can I send you my proyect ?and you\u2019ll see that when you make zoom out on the app, the object that I have starts to move to another place."}, {"owner": {"reputation": 1, "user_id": 10484938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7935b62a1925af9c38781abe7c7e2ecf?s=128&d=identicon&r=PG&f=1", "display_name": "Yanir Haim", "link": "https://stackoverflow.com/users/10484938/yanir-haim"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1539192929, "post_id": 52743681, "comment_id": 92416403, "body": "@JeroenHeier can I send you my project and you\u2019ll see when you zoom out, the object starts to move"}], "owner": {"reputation": 1, "user_id": 10484938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7935b62a1925af9c38781abe7c7e2ecf?s=128&d=identicon&r=PG&f=1", "display_name": "Yanir Haim", "link": "https://stackoverflow.com/users/10484938/yanir-haim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539185098, "creation_date": 1539185098, "question_id": 52743681, "link": "https://stackoverflow.com/questions/52743681/google-map-object-moves-when-zoom-out-kotlin", "title": "Google Map object moves when zoom out, kotlin", "body": "<p>When I zoom out my map, the object that has my current location moves, heres is the animated code, please help me.</p>\n\n<p>If you need more of my app , tell me please.</p>\n\n<pre><code>package com.spartons.driverapp.helper\n\nimport android.os.Handler\nimport android.os.SystemClock\nimport android.view.animation.AccelerateDecelerateInterpolator\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.Marker\nimport com.spartons.driverapp.interfaces.LatLngInterpolator\n\nclass MarkerAnimationHelper {\n\nfun animateMarkerToGB(marker: Marker, finalPosition:                                              LatLng,latLngInterpolator: LatLngInterpolator) {\n    val startPosition = marker.position\n    val handler = Handler()\n    val start = SystemClock.uptimeMillis()\n    val interpolator = AccelerateDecelerateInterpolator()\n    val durationInMs = 2000f\n    handler.post(object : Runnable {\n        var elapsed: Long = 0\n        var t: Float = 0.toFloat()\n        var v: Float = 0.toFloat()\n        override fun run() {\n            // Calculate progress using interpolator\n            elapsed = SystemClock.uptimeMillis() - start\n            t = elapsed / durationInMs\n            v = interpolator.getInterpolation(t)\n            marker.position = latLngInterpolator.interpolate(v,startPosition,                                     finalPosition)\n            // Repeat till progress is complete.\n            if (t &lt; 1) {\n                // Post again 16ms later.\n                handler.postDelayed(this, 16)\n                }\n            }\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 1117, "user_id": 404626, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/457f6cb225df6d948e512513647f176f?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/404626/scott"}, "edited": false, "score": 4, "creation_date": 1542293060, "post_id": 53319352, "comment_id": 93523964, "body": "For those that only want to unit test the class under test and not other classes, mocking constructors of objects your class under test uses is a perfectly fine way to use mocks.  PowerMockito.whenNew works great with java, however PowerMockito currently doesn&#39;t work with Kotlin companion objects which is why I looked to Mockk as an alternative testing framework."}], "tags": [], "owner": {"reputation": 632, "user_id": 7341528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ddee6302cbca0f95b323769671827d1?s=128&d=identicon&r=PG&f=1", "display_name": "Vova Stelmashchuk", "link": "https://stackoverflow.com/users/7341528/vova-stelmashchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1542284291, "creation_date": 1542284291, "answer_id": 53319352, "question_id": 52742926, "link": "https://stackoverflow.com/questions/52742926/how-to-mock-a-new-object-using-mockk/53319352#53319352", "title": "How to mock a new object using mockk", "body": "<p>MockK is a lib for unit testing your code. Don't use it for mocking constructor. You can use PowerMock for mocking constructor if you really need to mock constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 1117, "user_id": 404626, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/457f6cb225df6d948e512513647f176f?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/404626/scott"}, "edited": false, "score": 0, "creation_date": 1600253629, "post_id": 62749765, "comment_id": 113027491, "body": "This is good information on how to handle test expectations, however it does not answer my question of how to perform asserts. If the class under test returns an instantiated object (actualResult), I&#39;d like to be able to assert that it equals the mock object created (expectedResult)."}], "tags": [], "owner": {"reputation": 229, "user_id": 3762168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a10dbd9e45f40af17857f5b4b1fd0f3e?s=128&d=identicon&r=PG", "display_name": "NotWoods", "link": "https://stackoverflow.com/users/3762168/notwoods"}, "is_accepted": false, "score": 2, "last_activity_date": 1594013342, "creation_date": 1594013342, "answer_id": 62749765, "question_id": 52742926, "link": "https://stackoverflow.com/questions/52742926/how-to-mock-a-new-object-using-mockk/62749765#62749765", "title": "How to mock a new object using mockk", "body": "<p>Using <code>mockkConstructor(Dog::class)</code> you can mock constructors in MockK. This will apply to all constructors for a given class, there is no way to distinguish between them.</p>\n<p>The mocked class instance can be obtained by using <code>anyConstructed&lt;Dog&gt;()</code>. You can use that to add any stubbing and verification you need, such as:</p>\n<pre><code>every { anyConstructed&lt;Dog&gt;().bark() } just Runs\n</code></pre>\n"}], "owner": {"reputation": 1117, "user_id": 404626, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/457f6cb225df6d948e512513647f176f?s=128&d=identicon&r=PG&f=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/404626/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1594013342, "creation_date": 1539182820, "question_id": 52742926, "link": "https://stackoverflow.com/questions/52742926/how-to-mock-a-new-object-using-mockk", "title": "How to mock a new object using mockk", "body": "<p>I'm trying to write unit tests using mockk.</p>\n\n<p>I'm trying to figure out how to mock a new instance of an object.</p>\n\n<p>For example, using PowerMockito we would write:</p>\n\n<pre><code>PowerMockito.whenNew(Dog::class.java).withArguments(\"beagle\").thenReturn(mockDog)\n</code></pre>\n\n<p>If the expected result of my test is mockDog, I want to be able to assert that it equals my actualResult:</p>\n\n<pre><code>assertEquals(mockDog, actualResult)\n</code></pre>\n\n<p>How would I accomplish this using mockk?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "regex", "kotlin"], "comments": [{"owner": {"reputation": 3649, "user_id": 10404329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/489c51b790b37922d4e80d59b9873cec?s=128&d=identicon&r=PG", "display_name": "Corion", "link": "https://stackoverflow.com/users/10404329/corion"}, "edited": false, "score": 0, "creation_date": 1539182153, "post_id": 52742605, "comment_id": 92410037, "body": "Why not just <code>(.)\\d{3}</code> to match bad words and then use program logic to reject that? Otherwise, <code>^(?!.*([A-Za-z0-9\\,])\\1{3})</code> should work well enough. The anchoring might throw off your matches."}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "edited": false, "score": 0, "creation_date": 1539182545, "post_id": 52742737, "comment_id": 92410285, "body": "hi, thanks for your answer, i have updated my question to provide more info. I tried your regex with a modification for <code>3,</code> instead of 4 as seen here <a href=\"https://regex101.com/r/sJ9gM7/507\" rel=\"nofollow noreferrer\">regex101.com/r/sJ9gM7/507</a> but it doesn&#39;t seen to work?"}, {"owner": {"reputation": 45321, "user_id": 2353911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/351903c00c50bac0611117c1a6b82848?s=128&d=identicon&r=PG", "display_name": "Mena", "link": "https://stackoverflow.com/users/2353911/mena"}, "reply_to_user": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "edited": false, "score": 1, "creation_date": 1539182651, "post_id": 52742737, "comment_id": 92410350, "body": "@davy307 I edited the answer to: 1) allow dots representing whitespace as well per your edit; 2) wrong quantifier (should be <code>{3,}</code>, since the 1st instance is already there). I recommend not using regex101 or any website to check your regex, as they are not always accurately representing Java&#39;s regex engine. Try it in Java."}], "tags": [], "owner": {"reputation": 45321, "user_id": 2353911, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/351903c00c50bac0611117c1a6b82848?s=128&d=identicon&r=PG", "display_name": "Mena", "link": "https://stackoverflow.com/users/2353911/mena"}, "is_accepted": true, "score": 3, "last_activity_date": 1539182559, "last_edit_date": 1539182559, "creation_date": 1539182251, "answer_id": 52742737, "question_id": 52742605, "link": "https://stackoverflow.com/questions/52742605/regex-to-detect-if-character-is-repeated-more-than-three-times/52742737#52742737", "title": "Regex to detect if character is repeated more than three times", "body": "<p>I think there's a much simpler solution if you're looking for <em>any</em> character repeated more than 3 times:</p>\n\n<pre><code>String[] inputs = {\n    \"hello how are you...\", // -&gt; VALID\n    \"hello how are you.............\", // -&gt; INVALID\n    \"hiii\", // -&gt; VALID\n    \"hiiiiii\" // -&gt; INVALID\n};\n//                            | group 1 - any character\n//                            | | back-reference\n//                            | |   | 4+ quantifier including previous instance\n//                            | |   |     | dot represents any character, \n//                            | |   |     | including whitespace and line feeds\n//                            | |   |     | \nPattern p = Pattern.compile(\"(.)\\\\1{3,}\", Pattern.DOTALL);\n// iterating test inputs\nfor (String s: inputs) {\n    // matching\n    Matcher m = p.matcher(s);\n    // 4+ repeated character found\n    if (m.find()) {\n        System.out.printf(\n            \"Input '%s' not valid, character '%s' repeated more than 3 times%n\", \n            s, \n            m.group(1)\n        );\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Input 'hello how are you............. not valid', character '.' repeated more than 3 times\nInput 'hiiiiii' not valid, character 'i' repeated more than 3 times\nInput 'hello    how are you' not valid, character ' ' repeated more than 3 times\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 2149915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d2df60ab106408da00391bcf1dcb3f?s=128&d=identicon&r=PG", "display_name": "davy307", "link": "https://stackoverflow.com/users/2149915/davy307"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 52742737, "answer_count": 1, "score": 3, "last_activity_date": 1539182559, "creation_date": 1539181850, "last_edit_date": 1539182317, "question_id": 52742605, "link": "https://stackoverflow.com/questions/52742605/regex-to-detect-if-character-is-repeated-more-than-three-times", "title": "Regex to detect if character is repeated more than three times", "body": "<p>I've tried to follow the solution described here: <a href=\"https://stackoverflow.com/a/17973873/2149915\">https://stackoverflow.com/a/17973873/2149915</a>\nto try and match a string with the following requirements:\n- More than 3 characters repeated sequentially in the string should be matched and returned.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li>hello how are you... -> VALID</li>\n<li>hello how are you............. -> INVALID</li>\n<li>hiii -> VALID</li>\n<li>hiiiiii -> INVALID</li>\n</ul>\n\n<p>and so on and so forth, the idea is to detect text that is nonsensical.</p>\n\n<p>So far my solution was to modify the regex in the link as such.</p>\n\n<p>ORIGINAL: <code>^(?!.*([A-Za-z0-9])\\1{2})(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+$</code></p>\n\n<p>ADAPTED: <code>^(?!.*([A-Za-z0-9\\.\\,\\/\\|\\\\])\\1{3})$</code></p>\n\n<p>Essentially i removed the requirement for capture groups of numbers and alphanumerics seen here: <code>(?=.*[a-z])(?=.*\\d)[A-Za-z0-9]+</code> and tried to add extra detection of characters such as <code>./,\\</code> etc but it doesnt seem to match at all with any characters...</p>\n\n<p>Any ideas on how i can achieve this?</p>\n\n<p>thanks in advance :) </p>\n\n<p>EDIT:\ni found this regex: <code>^.*(\\S)(?: ?\\1){9,}.*$</code> on this question <a href=\"https://stackoverflow.com/a/44659071/2149915\">https://stackoverflow.com/a/44659071/2149915</a> and have adapted it to match only for 3 characters like such <code>^.*(\\S)(?: ?\\1){3}.*$</code>. </p>\n\n<p>Now it detects things like:</p>\n\n<ul>\n<li>aaaa -> INVALID</li>\n<li>hello....... -> INVALID</li>\n<li>/////.... -> INVALID</li>\n</ul>\n\n<p>however it does not take into account whitespace such as this:</p>\n\n<ul>\n<li><code>.    .    .     .      .</code></li>\n</ul>\n\n<p>is there a modification that can be done to achieve this?</p>\n"}, {"tags": ["android", "kotlin", "keystroke"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539179695, "post_id": 52741792, "comment_id": 92408475, "body": "Pretty sure you can&#39;t do this. It qualifies as spying and Android prevents that. If you want to know what a user is typing, you need to use your own keyboard."}, {"owner": {"reputation": 23, "user_id": 10483543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e202269ebb78eeed7249506d109547?s=128&d=identicon&r=PG&f=1", "display_name": "KALHIM", "link": "https://stackoverflow.com/users/10483543/kalhim"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539180401, "post_id": 52741792, "comment_id": 92408923, "body": "Thank you so much for the input. I will look into that. @TheWanderer"}, {"owner": {"reputation": 23, "user_id": 10483543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e202269ebb78eeed7249506d109547?s=128&d=identicon&r=PG&f=1", "display_name": "KALHIM", "link": "https://stackoverflow.com/users/10483543/kalhim"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539185863, "post_id": 52741792, "comment_id": 92412414, "body": "@TheWanderer Thank you again. I looked up what you suggested. There are a ton of references on building custom soft keyboard and it seems that I can control the onKeyPress and onKeyRelease functions in the .java ot .kt file. I just found something interesting that I could build my keyboard as a service. I wanted to ask you that, is it possible to bundle my app with the keyboard service into a single apk file? Please suggest some references where I can find the technical knowledge to do it as I have no idea how to proceed. Thanks in advance."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539185942, "post_id": 52741792, "comment_id": 92412464, "body": "You can add an input method to your app, yes. Just follow any tutorial by adding the necessary classes and declarations to your current app."}, {"owner": {"reputation": 23, "user_id": 10483543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e202269ebb78eeed7249506d109547?s=128&d=identicon&r=PG&f=1", "display_name": "KALHIM", "link": "https://stackoverflow.com/users/10483543/kalhim"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1539186236, "post_id": 52741792, "comment_id": 92412650, "body": "Thanks a lot. Your help is much appreciated @TheWanderer"}], "owner": {"reputation": 23, "user_id": 10483543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e202269ebb78eeed7249506d109547?s=128&d=identicon&r=PG&f=1", "display_name": "KALHIM", "link": "https://stackoverflow.com/users/10483543/kalhim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 540, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539179355, "creation_date": 1539179355, "question_id": 52741792, "link": "https://stackoverflow.com/questions/52741792/recognize-keystrokes-in-android-soft-keyboard-using-kotlin", "title": "Recognize keystrokes in Android Soft Keyboard using Kotlin", "body": "<p>I am a student and I am currently building an Android application with Kotlin as the programming language. The application's aim will be to register keystrokes from users which I will use for biometric research purpose. I am not proficient in Kotlin or Android Studio as this is the first time I am working in Android Studio.</p>\n\n<p>The application has many activities and I am sharing the code from one of the activities, where I need to recognize the keystrokes in Editexts, while the user presses keys in soft keyboard to type username and password.</p>\n\n<p>I found some Android Developers examples about <a href=\"https://developer.android.com/training/keyboard-input/commands\" rel=\"nofollow noreferrer\">KeyEvents</a> and some <a href=\"https://developer.android.com/reference/android/view/KeyEvent\" rel=\"nofollow noreferrer\">References</a>.</p>\n\n<p>The data I need from the keystrokes are as follows:</p>\n\n<pre><code>    a. the key pressed. \n    b. key pressed time. \n    c. key released time. \n    d. its ASCII value.\n</code></pre>\n\n<p>The XML Code is as follows: </p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/button5\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:background=\"@drawable/rounded_button\"\n    android:fontFamily=\"@font/pt_mono\"\n    android:onClick=\"resetval\"\n    android:text=\"@string/reset\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@android:color/background_light\"\n    android:textSize=\"18sp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"@+id/button4\"\n    app:layout_constraintStart_toStartOf=\"@+id/button4\"\n    app:layout_constraintTop_toBottomOf=\"@+id/button4\"\n    app:layout_constraintVertical_bias=\"0.007\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button4\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"8dp\"\n    android:background=\"@drawable/rounded_button\"\n    android:fontFamily=\"@font/pt_mono\"\n    android:onClick=\"input\"\n    android:text=\"@string/inp\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@android:color/background_light\"\n    android:textSize=\"18sp\"\n    app:layout_constraintEnd_toEndOf=\"@+id/editText9\"\n    app:layout_constraintHorizontal_bias=\"0.0\"\n    app:layout_constraintStart_toStartOf=\"@+id/editText9\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText9\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText8\"\n    android:imeOptions=\"normal\"\n    android:layout_width=\"320dp\"\n    android:layout_height=\"28dp\"\n    android:layout_marginTop=\"72dp\"\n    android:autofillHints=\"\"\n    android:background=\"@drawable/rounded_text\"\n    android:ems=\"10\"\n    android:fontFamily=\"@font/pt_mono\"\n    android:hint=\"@string/usrname\"\n    android:inputType=\"textEmailAddress\"\n    android:paddingLeft=\"10dp\"\n    android:textAlignment=\"textStart\"\n    android:textSize=\"14sp\"\n    app:layout_constraintEnd_toEndOf=\"@+id/textView21\"\n    app:layout_constraintHorizontal_bias=\"0.494\"\n    app:layout_constraintStart_toStartOf=\"@+id/textView21\"\n    app:layout_constraintTop_toBottomOf=\"@+id/textView21\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText9\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"28dp\"\n    android:layout_marginTop=\"8dp\"\n    android:autofillHints=\"\"\n    android:background=\"@drawable/rounded_text\"\n    android:paddingLeft=\"10dp\"\n    android:ems=\"10\"\n    android:fontFamily=\"@font/pt_mono\"\n    android:hint=\"@string/pass\"\n    android:inputType=\"textPassword\"\n    android:textAlignment=\"textStart\"\n    android:textSize=\"14sp\"\n    app:layout_constraintEnd_toEndOf=\"@+id/editText8\"\n    app:layout_constraintStart_toStartOf=\"@+id/editText8\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText8\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView21\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"52dp\"\n    android:fontFamily=\"@font/pt_mono\"\n    android:text=\"@string/train_tem\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@color/btext\"\n    android:textSize=\"30sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.0\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p>The Kotlin code is as follows:</p>\n\n<pre><code>class trainingT : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    supportActionBar?.title = \"Training Template\"\n    setContentView(R.layout.activity_training_t)\n    //getuserkeystroke()\n}\noverride fun onKeyDown(keyCode: Int, event: KeyEvent): Boolean {\n    return when (keyCode) {\n        KeyEvent.KEYCODE_D -&gt; {\n            getuserkeystroke(keyCode)\n            true\n        }\n        else -&gt; super.onKeyDown(keyCode, event)\n    }\n}\nprivate fun getuserkeystroke(keyCode: Int){\n    Log.d(\"D should be displayed\", \"Is it displayed?\")//keyCode.toString())\n    val toast = Toast.makeText(getApplicationContext(), \"D is Pressed\", Toast.LENGTH_LONG)\n    val layout = toast.getView() as LinearLayout\n    if (layout.childCount &gt; 0) {\n        val tv = layout.getChildAt(0) as TextView\n        tv.gravity = Gravity.CENTER_VERTICAL or Gravity.CENTER_HORIZONTAL\n    }\n    toast.show()\n}}\n</code></pre>\n\n<p>So far I am stuck on point number \"a\". I am missing something I know that, as the key pressed has to be recognized inside the Editext space, but I have no idea how to. The Kotlin code should call the getuserkeystroke() function as soon as \"d key\" (I was thinking of recognizing at least a single key and after that random keys) is pressed, display a debug message in the log and should show a toast but its not working. </p>\n\n<p>Please suggest how should I proceed in order to recognize the keys pressed in the Android soft keyboard when typing in real time? And also some suggestions on how to acquire the data I mentioned in points \"b\", \"c\" and \"d\".</p>\n\n<p>The activity screenshot is as follows: <a href=\"https://i.stack.imgur.com/5aOl1.png\" rel=\"nofollow noreferrer\">Screenshot</a> </p>\n"}, {"tags": ["optimization", "kotlin", "sonarqube", "code-readability"], "answers": [{"tags": [], "owner": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "is_accepted": true, "score": 23, "last_activity_date": 1582539143, "last_edit_date": 1582539143, "creation_date": 1539179191, "answer_id": 52741726, "question_id": 52741725, "link": "https://stackoverflow.com/questions/52741725/what-is-cognitive-complexity-in-sonar-report/52741726#52741726", "title": "What is Cognitive Complexity in sonar report?", "body": "<p><strong>Cognitive Complexity</strong></p>\n\n<p>After searching some blogs and having chat with sonar team I found an easy definition and calculation of cognitive complexity which is as below:</p>\n\n<p><strong>Definition:</strong></p>\n\n<blockquote>\n  <p><strong><em>Cognitive Complexity, Because Testability != Understandability</em></strong></p>\n</blockquote>\n\n<p>Your written code must be as simple to understand as the above definition, simple.</p>\n\n<blockquote>\n  <p><em>less <strong>Cognitive Complexity</strong> more <strong>Readability</em></strong></p>\n</blockquote>\n\n<p>Let's see a method for example to calculate <strong>CC</strong>, right now I am referring kotlin language, see below image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XQlid.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XQlid.png\" alt=\"Sonar capture\"></a></p>\n\n<p>In above image there is a method <code>getAppConfigData()</code>, whose cognitive complexity is being measured. Right now the CC of this method is <strong>18</strong>. As you can check in above screen shot there is a warning, which tells that the limit of maximum complexity is <strong>15</strong>, which is lower than the current CC of this method.</p>\n\n<p>Now the actual question is: <strong>How can I calculate the CC of my method at the time of development?</strong></p>\n\n<p>Follow below <strong>rules</strong> to get your CC of any method or class as:</p>\n\n<ul>\n<li>Increment when there is a break in the linear (top-to-bottom,\nleft-to-right) flow of the code </li>\n<li>Increment when structures that break\nthe flow are nested </li>\n<li>Ignore \"shorthand\" structures that readably\ncondense multiple lines of code into one</li>\n</ul>\n\n<p>So whenever above rules matches, just add + count to your CC and remember count will be increased according to level of code break, as example \"if\" condition gets +1 if it is the first code break but if you have used one more nested if then it will be a +2 for that inner \"if\" as shown in below image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gm7iX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gm7iX.png\" alt=\"enter image description here\"></a></p>\n\n<p>That's all I got in terms of <strong>Cognitive Complexity</strong>.</p>\n\n<p>You can find everything related to CC at <a href=\"https://blog.sonarsource.com/cognitive-complexity-because-testability-understandability\" rel=\"noreferrer\">sonar blog</a></p>\n\n<p><strong>Thank You</strong></p>\n"}], "owner": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16050, "favorite_count": 5, "accepted_answer_id": 52741726, "answer_count": 1, "score": 9, "last_activity_date": 1582539143, "creation_date": 1539179191, "question_id": 52741725, "link": "https://stackoverflow.com/questions/52741725/what-is-cognitive-complexity-in-sonar-report", "title": "What is Cognitive Complexity in sonar report?", "body": "<p>Now a days i switched to sonar reports for static code review and performance improvement. Under the rules section I found that the cognitive complexity of my methods are high.</p>\n\n<p>You can find cognitive complexity error in sonar as:\nGo to <strong>Project->Issues Tab->Rules Drop-down->Cognitive Complexity</strong></p>\n\n<p>Below screen shot gives you a reference of sonar project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cwcGH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cwcGH.png\" alt=\"enter image description here\"></a></p>\n\n<p>I was not getting any way to calculate and reduce the cognitive complexity of my methods. Finally I found the accurate way to calculate the complexity and i will answer this in my post below. Please check out.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 3, "creation_date": 1539178675, "post_id": 52741496, "comment_id": 92407820, "body": "Array indexing is done using <code>Int</code>s, it won&#39;t work with <code>Long</code>s."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1539179404, "post_id": 52741496, "comment_id": 92408297, "body": "JVM array indices are always <code>int</code>s. You will always have to cast it to an int."}], "answers": [{"tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 5, "last_activity_date": 1539178800, "creation_date": 1539178800, "answer_id": 52741589, "question_id": 52741496, "link": "https://stackoverflow.com/questions/52741496/deal-with-arrays-of-kotlin-with-long-variables/52741589#52741589", "title": "deal with arrays of Kotlin with Long variables", "body": "<p>Kotlin comes with <code>longArrayOf(1, 2, 3)</code> which will create an array for you which contains <code>Long</code>s.</p>\n\n<p>Note that what you are trying to do with <code>println(arr[i])</code> is getting a <code>Long</code> value out of <code>arr</code>, but the <strong>indexing</strong> of arrays is done with <code>Int</code>s. It will never work with <code>Long</code>s:</p>\n\n<pre><code>/** \n * Returns the array element at the given [index]. \n * This method can be called using the index operator.\n */\npublic operator fun get(index: Int): Long\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1539393354, "creation_date": 1539393354, "answer_id": 52788686, "question_id": 52741496, "link": "https://stackoverflow.com/questions/52741496/deal-with-arrays-of-kotlin-with-long-variables/52788686#52788686", "title": "deal with arrays of Kotlin with Long variables", "body": "<p>If you want to initialize an array of longs of the given length, you can use the same top-level <code>Array</code> function:</p>\n\n<pre><code>val n = 10 // n is Int\nval arrayOfLongs = Array(n) { it.toLong() } // Array of 10 longs\n</code></pre>\n\n<p>Here the number <code>n</code> is <code>Int</code> and the initializer function converts the integer index <code>it</code> of an element being initialized to <code>Long</code>, therefore we get an array of longs as the result.</p>\n\n<p>Or you can use another similar function to create a specialized <code>LongArray</code>:</p>\n\n<pre><code>val longArray = LongArray(n) { it.toLong() } // LongArray of 10 longs\n</code></pre>\n\n<p>Both arrays store longs, but the latter does it more compactly.</p>\n"}], "owner": {"reputation": 35, "user_id": 9505740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "hati", "link": "https://stackoverflow.com/users/9505740/hati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 52741589, "answer_count": 2, "score": 2, "last_activity_date": 1539393354, "creation_date": 1539178531, "question_id": 52741496, "link": "https://stackoverflow.com/questions/52741496/deal-with-arrays-of-kotlin-with-long-variables", "title": "deal with arrays of Kotlin with Long variables", "body": "<p>I have a question about Kotlin.\nI tried two versions of Kotlin, 1.0.0 and 1.2.6.\nUsing Kotlin, we can initialize an array and access to its element like this.</p>\n\n<pre><code>val n: Int = 10\nval arr = Array(n, { it } )\nval i: Int = 0\nprintln(arr[i])\n</code></pre>\n\n<p>However, I got an error with this code.</p>\n\n<pre><code>val n: Long = 10\nval arr = Array(n, { it } )\nval i: Long = 0\nprintln(arr[i])\n</code></pre>\n\n<p>It seems that it is an only way to cast Long to Int in order to compile this code.</p>\n\n<pre><code>val n: Long = 10\nval arr = Array(n.toInt(), { it } )\nval i: Long = 0\nprintln(arr[i.toInt()])\n</code></pre>\n\n<p>However, it seems too redundant to me, but I couldn't find any solutions. So my question is</p>\n\n<ol>\n<li>Is there any way to initialize arrays and access elements with a Long\nvariable?</li>\n<li>Does Kotlin have any reasons that Long variable should not be accepted here?</li>\n</ol>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1539183944, "post_id": 52741188, "comment_id": 92411177, "body": "You are setting its visibility elsewhere then"}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 10484331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gIsrVSyR1o/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUwL_oIWIc9zXezvQFOKDcxxCJ6Vg/mo/photo.jpg?sz=128", "display_name": "Mohammad Reza Lohrasbi", "link": "https://stackoverflow.com/users/10484331/mohammad-reza-lohrasbi"}, "edited": false, "score": 1, "creation_date": 1539179096, "post_id": 52741448, "comment_id": 92408108, "body": "Thanks for answer, but problem still exists."}, {"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "reply_to_user": {"reputation": 186, "user_id": 10484331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gIsrVSyR1o/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUwL_oIWIc9zXezvQFOKDcxxCJ6Vg/mo/photo.jpg?sz=128", "display_name": "Mohammad Reza Lohrasbi", "link": "https://stackoverflow.com/users/10484331/mohammad-reza-lohrasbi"}, "edited": false, "score": 0, "creation_date": 1539179239, "post_id": 52741448, "comment_id": 92408197, "body": "Ok try setting alpha of the view to 0 in the end action method :  view.alpha = 0  view.visibility = GONE"}], "tags": [], "owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1539179674, "last_edit_date": 1539179674, "creation_date": 1539178385, "answer_id": 52741448, "question_id": 52741188, "link": "https://stackoverflow.com/questions/52741188/set-visibility-of-view-gone-after-animation-ends/52741448#52741448", "title": "Set visibility of view GONE after animation ends", "body": "<p>When you are using this view animation there is a method which is withEndAction which takes a runnable and with lambda it looks something like this :</p>\n\n<pre><code> view.animate()\n        .alpha(0.0f)\n        .setDuration(500).withEndAction{\n           view.alpha = 0.0f\n           view.visibility= GONE \n           }\n</code></pre>\n\n<p>Try this.</p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 1545, "user_id": 1578222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24d237a81ffa1fec81b8dad44d86fef?s=128&d=identicon&r=PG", "display_name": "CodeSmith", "link": "https://stackoverflow.com/users/1578222/codesmith"}, "edited": false, "score": 1, "creation_date": 1597860142, "post_id": 52815895, "comment_id": 112273759, "body": "Just to elaborate on the answer here as I ran into this same problem. Using animateLayoutChanges in combination with the animation onAnimationEnd toggling the View visibility results in two animations running. The code runs once to set alpha to zero and the view disappears a first time. Then when the view is set to GONE in the onAnimationEnd code, a second animation runs from the layout&#39;s animateLayoutChanges setting that resets the alpha to 1 and fades out the view for a second time."}], "tags": [], "owner": {"reputation": 186, "user_id": 10484331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gIsrVSyR1o/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUwL_oIWIc9zXezvQFOKDcxxCJ6Vg/mo/photo.jpg?sz=128", "display_name": "Mohammad Reza Lohrasbi", "link": "https://stackoverflow.com/users/10484331/mohammad-reza-lohrasbi"}, "is_accepted": true, "score": 4, "last_activity_date": 1539603347, "creation_date": 1539603347, "answer_id": 52815895, "question_id": 52741188, "link": "https://stackoverflow.com/questions/52741188/set-visibility-of-view-gone-after-animation-ends/52815895#52815895", "title": "Set visibility of view GONE after animation ends", "body": "<p>My mistake was adding <code>android:animateLayoutChanges=\"true\"</code> in the root of layout. It animates my view again!</p>\n"}], "owner": {"reputation": 186, "user_id": 10484331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gIsrVSyR1o/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUwL_oIWIc9zXezvQFOKDcxxCJ6Vg/mo/photo.jpg?sz=128", "display_name": "Mohammad Reza Lohrasbi", "link": "https://stackoverflow.com/users/10484331/mohammad-reza-lohrasbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "accepted_answer_id": 52815895, "answer_count": 2, "score": 3, "last_activity_date": 1539603347, "creation_date": 1539177449, "last_edit_date": 1539178049, "question_id": 52741188, "link": "https://stackoverflow.com/questions/52741188/set-visibility-of-view-gone-after-animation-ends", "title": "Set visibility of view GONE after animation ends", "body": "<p>I'm trying to set visibility of a view to <code>GONE</code> after set its alpha to zero :</p>\n\n<pre><code>        view.animate()\n            .alpha(0.0f)\n            .setDuration(500)\n            .setListener(object : AnimatorListenerAdapter() {\n                    override fun onAnimationEnd(animation: Animator) {\n                        super.onAnimationEnd(animation)\n                        view.visibility= GONE\n                    }\n                })\n</code></pre>\n\n<p>But animation shows twice. In the other words, my view shows and hides again after calling <code>view.visibility= GONE</code>.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 1, "creation_date": 1539175030, "post_id": 52740199, "comment_id": 92405433, "body": "I&#39;m not sure, but maybe sequence can help. Could you try <code>list.asSequence()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "edited": false, "score": 1, "creation_date": 1539176245, "post_id": 52740531, "comment_id": 92406245, "body": "That code would return ObjectA though, not ObjectB, if I&#39;m seeing this correctly."}], "tags": [], "owner": {"reputation": 1793, "user_id": 581395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873eafeb6fbb84c946fb862c8c0a943?s=128&d=identicon&r=PG", "display_name": "veiset", "link": "https://stackoverflow.com/users/581395/veiset"}, "is_accepted": false, "score": -1, "last_activity_date": 1539175270, "creation_date": 1539175270, "answer_id": 52740531, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin/52740531#52740531", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>I would look in to <a href=\"https://kotlinlang.org/docs/reference/coroutines-overview.html\" rel=\"nofollow noreferrer\">coroutines</a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/index.html\" rel=\"nofollow noreferrer\">sequences</a> if performance is critical. </p>\n\n<p>You can optimize your code slightly by using firstOrNull on listOfA as well:</p>\n\n<pre><code>listOfA.filterNotNull().firstOrNull { item -&gt;\n    item.objectBs.firstOrNull { it.key == wantedKey } != null\n}\n</code></pre>\n\n<p>I would do some performance testing to see if this code is causing any issues before making it overly complex. </p>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1539177022, "post_id": 52740963, "comment_id": 92406772, "body": "This will traverse all items, and the OP is concerned about efficiency."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1539176733, "creation_date": 1539176733, "answer_id": 52740963, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin/52740963#52740963", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>A simple <code>flatMap</code> does the trick: </p>\n\n<pre><code>listOfA.flatMap { it.objectBs }.first { it.key == wantedKey }\n</code></pre>\n\n<p>This will basically give you an intermediate List with all of them combined so that you can easily query the first matching one.</p>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1539177095, "post_id": 52741024, "comment_id": 92406813, "body": "The second solution doesn&#39;t traverse all items, and will stop on the first matching item."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1539177154, "post_id": 52741024, "comment_id": 92406847, "body": "No, it is not, as I have said."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1539177187, "post_id": 52741024, "comment_id": 92406869, "body": "@whomever downvorted: care to explain?"}, {"owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "edited": false, "score": 1, "creation_date": 1539178120, "post_id": 52741024, "comment_id": 92407473, "body": "The second piece of code doesn&#39;t traverse all items, but it has to search for the key twice in a potentially large list of ObjectB. I guess it would take some testing to see if it is actually more efficient than the flatmap solution. That one does traverse all ObjectA, but doesn&#39;t perform any operations on them, which I would intuitively expect to be faster than running redundant string comparisons."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "edited": false, "score": 1, "creation_date": 1539178326, "post_id": 52741024, "comment_id": 92407594, "body": "Asymptotically speaking, the first has <code>n</code> * <code>m</code> complexity, where <code>n</code> is the number of <code>ObjectA</code>s, and <code>m</code> is the number of <code>ObjectB</code>s within an <code>ObjectA</code>. The second one has <code>n</code> * <code>2m</code> complexity. It trades the cost of traversing <i>B</i>s twice for short-circuiting when traversing <i>A</i>s."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 7, "last_activity_date": 1539178371, "last_edit_date": 1539178371, "creation_date": 1539176915, "answer_id": 52741024, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin/52741024#52741024", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>If you want an elegant solution you can just do a <code>flatMap</code> like this:</p>\n\n<pre><code>val result: ObjectB? = listOfA.flatMap { it.objectBs }.firstOrNull { it.key == \"myKey\" }\n</code></pre>\n\n<p>If you want the efficiency you can do something like this:</p>\n\n<pre><code>val result: ObjectB? = objectAs.firstOrNull {\n    it.objectBs.map(ObjectB::key).contains(\"myKey\")\n}?.objectBs?.firstOrNull { it.key == \"myKey\" }\n</code></pre>\n\n<p>You can also wrap these in an <code>Optional</code> and put it in a function so the users of this operation can have a clean API:</p>\n\n<pre><code>fun List&lt;ObjectA&gt;.findFirstObjectB(key: String): Optional&lt;ObjectB&gt; {\n    return Optional.ofNullable(firstOrNull {\n        it.objectBs.map(ObjectB::key).contains(key)\n    }?.objectBs?.firstOrNull { it.key == key })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1539638821, "creation_date": 1539638821, "answer_id": 52824989, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin/52824989#52824989", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>Nothing fancy, but it does the job efficiently:</p>\n\n<pre><code>fun findBWithKey(listOfA: List&lt;ObjectA&gt;, wantedKey: String): ObjectB? {\n  listOfA.forEach { \n        it.objectBs.forEach { item -&gt;        \n             if(item.key == wantedKey){\n                 return item\n             }\n        } \n    }\n\n    return null\n}\n</code></pre>\n\n<p>I also like to use <code>map</code> and <code>first</code>, but doing the given task efficiently gets unecessary hard using those extension functions.</p>\n"}, {"tags": [], "owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "is_accepted": false, "score": 3, "last_activity_date": 1549964894, "last_edit_date": 1549964894, "creation_date": 1549896245, "answer_id": 54633036, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin/54633036#54633036", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>By converting all the nested elements to a flattened <code>Sequence</code>, they can be iterated lazily, and the overhead of unnecessary iteration is eliminated. This trick is done by combining <code>asSequence</code> and <code>flatMap</code>:</p>\n\n<pre><code>listOfA.asSequence().flatMap { it.objectBs.asSequence() }.find { it.key == wantedKey }\n</code></pre>\n\n<hr>\n\n<p>I wrote and ran the following code to ensure that it works as expected:</p>\n\n<pre><code>class PrintSequenceDelegate&lt;out T&gt;(private val wrappedSequence: Sequence&lt;T&gt;) : Sequence&lt;T&gt; by wrappedSequence {\n    override fun iterator(): Iterator&lt;T&gt; {\n        val wrappedIterator = wrappedSequence.iterator()\n        return object : Iterator&lt;T&gt; by wrappedIterator {\n            override fun next(): T =\n                wrappedIterator.next().also { println(\"Retrieving: $it\") }\n        }\n    }\n}\n\nfun &lt;T&gt; Sequence&lt;T&gt;.toPrintDelegate() = PrintSequenceDelegate(this)\n\nfun main() {\n    val listOfLists = List(3) { i -&gt; List(3) { j -&gt; \"$i$j\" } }\n    println(\"List of lists: $listOfLists\")\n    val found = listOfLists.asSequence().toPrintDelegate().flatMap { it.asSequence().toPrintDelegate() }.find { it == \"11\" }\n    println(if (found != null) \"Found: $found\" else \"Not found\")\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>List of lists: [[00, 01, 02], [10, 11, 12], [20, 21, 22]]\nRetrieving: [00, 01, 02]\nRetrieving: 00\nRetrieving: 01\nRetrieving: 02\nRetrieving: [10, 11, 12]\nRetrieving: 10\nRetrieving: 11\nFound: 11\n\n</code></pre>\n\n<p>Thus we see that the elements (<code>12</code>) after the element found in the containing nested list are not iterated, neither are the following nested lists (<code>[20, 21, 22]</code>).</p>\n"}], "owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9357, "favorite_count": 1, "accepted_answer_id": 52741024, "answer_count": 5, "score": 6, "last_activity_date": 1549964894, "creation_date": 1539174215, "last_edit_date": 1539178290, "question_id": 52740199, "link": "https://stackoverflow.com/questions/52740199/find-and-return-first-match-in-nested-lists-in-kotlin", "title": "Find and return first match in nested lists in Kotlin?", "body": "<p>Consider the following two classes:</p>\n\n<pre><code>class ObjectA(val objectBs: List&lt;ObjectB&gt;,\n              val otherFields: Any)\n\nclass ObjectB(val key: String,\n              val otherFields: Any)\n</code></pre>\n\n<p>The task is to find and return the first ObjectB with a certain key in a List of ObjectA.</p>\n\n<p>Just achieving the goal is simple enough, but doing it nicely and efficiently seems rather tricky. I can't find anything like a \"firstIn\" or \"findIn\" function that would allow me to return another type than ObjectA when iterating on a list of ObjectA.</p>\n\n<p>I have a few approaches, one of which looks pretty nice, but is very inefficient:</p>\n\n<pre><code>listOfA.mapNotNull { \n    it.objectBs.firstOrNull { \n        item -&gt; item.key == wantedKey\n   } \n}.firstOrNull()\n</code></pre>\n\n<p>The obvious inefficiency of this code is that it will not stop iterating through listOfA when it has found a match (and there can only be one match, just to be clear).\nApproaches using filter or find have similar problems, requiring redundant iterations through at least one list of ObjectB.</p>\n\n<p>Is there something in kotlins standard library that would cover such a use case?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 491, "user_id": 9316458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqhZi.png?s=128&g=1", "display_name": "Hexworks", "link": "https://stackoverflow.com/users/9316458/hexworks"}, "edited": false, "score": 0, "creation_date": 1539176984, "post_id": 52740104, "comment_id": 92406741, "body": "Isn&#39;t this an Android question?"}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 1245235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gESW4.jpg?s=128&g=1", "display_name": "&#205;caro", "link": "https://stackoverflow.com/users/1245235/%c3%8dcaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1539181033, "creation_date": 1539181033, "answer_id": 52742328, "question_id": 52740104, "link": "https://stackoverflow.com/questions/52740104/object-instance-as-argument-to-jobintentservice/52742328#52742328", "title": "Object instance as argument to JobIntentService", "body": "<p>If all you need is the context, you can get it in the <code>onHandleWork</code> function, see below (sorry I'm using Java instead of Kotlin):</p>\n\n<pre><code>@Override\nprotected void onHandleWork(@NonNull Intent intent) {\n    Context context = getApplicationContext();\n    // Instantiate your APIHandler with the context here\n}\n</code></pre>\n\n<p>Try copy-pasting this into your project to have AS automatically convert it to Kotlin for you.</p>\n"}], "owner": {"reputation": 11, "user_id": 10484103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51bdf998bfea768d43db1e73790cf986?s=128&d=identicon&r=PG&f=1", "display_name": "nisse12", "link": "https://stackoverflow.com/users/10484103/nisse12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539181033, "creation_date": 1539173910, "last_edit_date": 1539179835, "question_id": 52740104, "link": "https://stackoverflow.com/questions/52740104/object-instance-as-argument-to-jobintentservice", "title": "Object instance as argument to JobIntentService", "body": "<p>I'm building a temporary demo app and I need a service that polls a server every minutes. (I know there are better mechanisms for this). Now I have a class I call APIHandler that both my MainActivity and service should use. I have run into issues providing the service with the instance of my APIHandler class. So what I basically want here is my service to be able to use my APIHandler instance. The APIHandler class cannot be made static as it needs a Volley.newRequestQueue object which needs a context instance. </p>\n\n<p>This is how I start my service from my MainActivity</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setup()\n        apiHandler = APIHandler(this) //I neeed this instance...\n        PollingService.enqueueWork(this, Intent(this, PollingService::class.java))\n    }\n</code></pre>\n\n<p>This is my service</p>\n\n<pre><code>class PollingService(private val apiHandler: APIHandler) : JobIntentService() {\n    private val timer = Timer()\n    private val tag = \"PollingService\"\n    //To be present here!\n\n    companion object {\n        fun  enqueueWork(context: Context, work: Intent) {\n            enqueueWork(context, PollingService::class.java, 1, work)\n        }\n    }\n\n    override fun onHandleWork(intent: Intent) {\n        Log.d(tag, \"Starting\")\n        timer.scheduleAtFixedRate(timerTask {\n            run {\n                Log.d(tag, \"Polling...\")\n                apiHandler.getLEDState(1)\n                apiHandler.getLEDState(2)\n            }\n        }, 0, 5000)\n    }\n\n    override fun onBind(intent: Intent): IBinder? {\n        return null\n    }\n\n    override fun onDestroy() {\n        this.timer.cancel()\n        super.onDestroy()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 3424, "user_id": 856588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg8G7.jpg?s=128&g=1", "display_name": "Maxim Volgin", "link": "https://stackoverflow.com/users/856588/maxim-volgin"}, "reply_to_user": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "edited": false, "score": 0, "creation_date": 1539248183, "post_id": 52743958, "comment_id": 92435279, "body": "Compile error has something to do with &#39;deleteOldWorkers()&#39; return type. Perhaps you need to define it explicitly. On my side expressions &#39;val workers = ArrayList&lt;Any&gt;()&#39; and &#39;Observable.merge( workers.map { Observable.just&lt;Any&gt;(it) } )&#39; do compile alright."}], "tags": [], "owner": {"reputation": 3424, "user_id": 856588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg8G7.jpg?s=128&g=1", "display_name": "Maxim Volgin", "link": "https://stackoverflow.com/users/856588/maxim-volgin"}, "is_accepted": true, "score": 1, "last_activity_date": 1539186552, "last_edit_date": 1539186552, "creation_date": 1539185918, "answer_id": 52743958, "question_id": 52739750, "link": "https://stackoverflow.com/questions/52739750/rxjava-call-method-when-loop-will-finish-iteration/52743958#52743958", "title": "RxJava Call Method When Loop will finish iteration", "body": "<p><em>Observable.merge(workers.map { deleteOldWorkers(it.event_planner_id!!) }).doOnComplete()</em> perhaps?</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 52743958, "answer_count": 1, "score": 1, "last_activity_date": 1539243989, "creation_date": 1539172712, "last_edit_date": 1539243989, "question_id": 52739750, "link": "https://stackoverflow.com/questions/52739750/rxjava-call-method-when-loop-will-finish-iteration", "title": "RxJava Call Method When Loop will finish iteration", "body": "<p>I have problem. Solution can be easy but my head is so overheat...</p>\n\n<p>I want to call method ONCE after forEach loop will finish job.</p>\n\n<p>Thanks for any example solution!</p>\n\n<pre><code> override fun saveWorkers(workers: ArrayList&lt;Worker&gt;): Single&lt;Boolean&gt; {\n    LogMgr.d(TAG, \"saveWorkers() : $workers\")\n\n    // remove old workers for current Event Planner and save new\n    workers.forEach {\n        deleteOldWorkers(it.event_planner_id!!)\n                .subscribeOn(getSubscriptionSchedulerForSave())\n                .subscribe({ status -&gt;\n\n                }, { error -&gt;\n\n                })\n    }\n\n    return Single.create({ emitter -&gt;\n        RXModelAdapter.from(Worker::class.java)\n                .saveAll(workers)\n                .subscribeOn(getSubscriptionSchedulerForSave())\n                .subscribe({\n                    LogMgr.d(TAG, \"saveWorkers() onComplete\")\n                    emitter.onSuccess(true)\n\n                }, {\n                    LogMgr.e(TAG, \"saveWorkers() onError \", it)\n                    emitter.onError(it)\n                })\n    })\n}\n</code></pre>\n\n<ol>\n<li><p>Proposed sulution </p>\n\n<pre><code>    Observable.merge(workers.map {\n    deleteOldWorkers(it.event_planner_id!!)\n})\n</code></pre></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/lfJly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfJly.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "android-tablayout"], "comments": [{"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539176258, "post_id": 52739558, "comment_id": 92406255, "body": "Are you sure that you&#39;ve added to <code>mFragmentList</code> both of fragments, not only one? As I see in <code>setupViewPager</code> method - you add only one of them"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539231182, "post_id": 52739558, "comment_id": 92428093, "body": "sorry i could not understand plz explain more little bit"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539238909, "post_id": 52739558, "comment_id": 92430416, "body": "As I see, in <code>setupViewPager</code> method you add either <code>SendingFragment</code> or <code>ReceiveFragment</code>, not both. So your <code>mFragmentList</code> contains only one fragment"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539239063, "post_id": 52739558, "comment_id": 92430488, "body": "yes right as per your  idea i added two fragments but the problem is both fragments shows same data"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539239116, "post_id": 52739558, "comment_id": 92430508, "body": "plz check this  <a href=\"https://stackoverflow.com/questions/52753163/why-my-viewpagers-all-tabs-shows-same-data\" title=\"why my viewpagers all tabs shows same data\">stackoverflow.com/questions/52753163/&hellip;</a>"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539239359, "post_id": 52739558, "comment_id": 92430613, "body": "Im <code>getItem</code> you create new instance of fragment with equals parameters. Why don&#39;t you do <code>override fun getItem(position: Int) = mFragmentList[position]</code>?"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539239578, "post_id": 52739558, "comment_id": 92430711, "body": "this one also return same result both tabs shows me same data"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539239862, "post_id": 52739558, "comment_id": 92430852, "body": "How exactly you add two fragments to adapter? Show the code"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539240158, "post_id": 52739558, "comment_id": 92430984, "body": "i update my ful code plz check it"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539240487, "post_id": 52739558, "comment_id": 92431135, "body": "You are getting list of some data, then you call <code>setupViewPager</code> and create 2 fragments with this 1 list - of course their contents are equal"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539240597, "post_id": 52739558, "comment_id": 92431200, "body": "how to fix this ?? plz help"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539241070, "post_id": 52739558, "comment_id": 92431466, "body": "You have to get data in <code>outgoingTransactionsObserver</code> and <code>outgoingTransactionsObserver</code> and after that create 2 fragments with different data and init adapter"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539241919, "post_id": 52739558, "comment_id": 92431865, "body": "okay will trythis"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539242476, "post_id": 52739558, "comment_id": 92432168, "body": "when i use this &quot;override fun getItem(position: Int) = mFragmentList[position]&quot; tab data does not update"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539243021, "post_id": 52739558, "comment_id": 92432469, "body": "Update your code"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539243419, "post_id": 52739558, "comment_id": 92432687, "body": "i can fix that same data bug with flags.ow the problem is i need to set the &quot;val adapter = ViewPagerAdapter(supportFragmentManager)&quot; globally then only it will work.BUT i need to refresh the lablayout if new data is update means so i need to call &quot;val adapter = ViewPagerAdapter(supportFragmentManager, viewPager, it, incoming, appDatabase, networkDefinitionProvider)&quot; inside the &quot;setupViewPager()&quot; then only viewpager auto  update works."}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1539243440, "post_id": 52739558, "comment_id": 92432702, "body": "code updated plz check"}], "answers": [{"comments": [{"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539249547, "post_id": 52754989, "comment_id": 92436138, "body": "When you get data in your observables - instead of calling <code>setupViewPager</code>"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539249874, "post_id": 52754989, "comment_id": 92436335, "body": "try and come back"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539252818, "post_id": 52754989, "comment_id": 92438213, "body": "above the logic does not work. i think  in my case adapter is replaced by last values so only i get duplicate data"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539253350, "post_id": 52754989, "comment_id": 92438560, "body": "viewPager.adapter = adapter to replace the old values instands of holding"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539253530, "post_id": 52754989, "comment_id": 92438683, "body": "So there are many different ways to solve this. I.e. you can move these lists from adapter to activity and every time create new instances of fragments for adapter"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539254027, "post_id": 52754989, "comment_id": 92438971, "body": "how to do that ?? any idea but i dont know ehy my adapter to replace the values"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1539254869, "post_id": 52754989, "comment_id": 92439447, "body": "I&#39;ve update answer. Sorry, but I think it&#39;s cleat enough. Don&#39;t know what else I can say"}], "tags": [], "owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1539254674, "last_edit_date": 1539254674, "creation_date": 1539244426, "answer_id": 52754989, "question_id": 52739558, "link": "https://stackoverflow.com/questions/52739558/how-to-show-that-two-tabs-in-my-tablayout-using-kotlin/52754989#52754989", "title": "How to show that two tabs in my Tablayout using kotlin?", "body": "<p>Try something like:</p>\n\n<pre><code>class ViewPagerAdapter(manager: FragmentManager) : FragmentStatePagerAdapter(manager)\n{\nval incomingData: List&lt;TransactionEntity&gt; = mutableListOf()\nval outgoingData: List&lt;TransactionEntity&gt; = mutableListOf()\n\noverride fun getCount(): Int = 2\n\noverride fun getItem(position: Int): Fragment {\n        return if (position == 0) SendingFragment(outgoingData, mfragmentAB, OUTGOING, mfragmentnetwork)\n        else ReceiveFragment(incomingData, mfragmentAB, INCOMING, mfragmentnetwork)\n    }\n\nfun updateData(data: List&lt;TransactionEntity&gt;, isIncoming: Boolean) {\n    if (isIncoming) {\n        incomingData.clear()\n        incomingData.addAll(data)\n    } else {\n        outgoingData.clear()\n        outgoingData.addAll(data)\n    }\n    notifyDataSetChanged()\n}\n...\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<pre><code>class MainActivity {\n\nval incomingData: List&lt;TransactionEntity&gt; = mutableListOf()\nval outgoingData: List&lt;TransactionEntity&gt; = mutableListOf()\n\n...\nprivate fun setupViewPager(viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection) {\n\n\nval adapter = ViewPagerAdapter(supportFragmentManager, viewPager, it, incoming, appDatabase, networkDefinitionProvider)\nif(incoming == INCOMING) {\n    incomingData.clear()\n    incomingData.addAll(data)\n} else {\n    outgoingData.clear()\n    outgoingData.addAll(data)\n}\nadapter.addFragment(ReceiveFragment(incomingData, appDatabase, INCOMING, networkDefinitionProvider), \"SEND\")\nadapter.addFragment(SendingFragment(outgoingData, appDatabase, OUTGOING, networkDefinitionProvider), \"RECEIVE\")\nviewPager.adapter = adapter\n}\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1539254674, "creation_date": 1539172048, "last_edit_date": 1539243216, "question_id": 52739558, "link": "https://stackoverflow.com/questions/52739558/how-to-show-that-two-tabs-in-my-tablayout-using-kotlin", "title": "How to show that two tabs in my Tablayout using kotlin?", "body": "<p>I have a <code>android</code> app, developed in kotlin.One of my activity have a tabview with viewpager to show the two tabs but here i have only one tabs is showed anther one does not display.when i open my activity only one tab is showed. what i make mistake please guide me.</p>\n\n<pre><code>private fun setupViewPager(viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection) {\n\n        val adapter = ViewPagerAdapter(supportFragmentManager, viewPager, it, incoming, appDatabase, networkDefinitionProvider)\n\n        if(adapter.count &lt; 2) {\n            if (incoming.equals(OUTGOING)) {\n                adapter.addFragment(SendingFragment(it!!, appDatabase, OUTGOING, networkDefinitionProvider), \"SEND\")\n\n            } else if (incoming.equals(INCOMING)) {\n                adapter.addFragment(ReceiveFragment(it!!, appDatabase, INCOMING, networkDefinitionProvider), \"RECEIVE\")\n\n            }\n            viewPager.setCurrentItem(0)\n            viewPager.adapter = adapter\n            }\n        }\n</code></pre>\n\n<p><strong>my guess is, only one frament set in getItem() method</strong> </p>\n\n<pre><code>inner class ViewPagerAdapter(manager: FragmentManager, viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection, appDatabase: AppDatabase, networkDefinitionProvider: NetworkDefinitionProvider) : FragmentStatePagerAdapter(manager) {\n        private val mFragmentList = ArrayList&lt;Fragment&gt;()\n        private val mFragmentTitleList = ArrayList&lt;String&gt;()\n\n\n        private val mfragmentAB = appDatabase\n        private val mfragmentIT: List&lt;TransactionEntity&gt; = it!!\n        private val mfragmentINC : TransactionAdapterDirection = incoming\n        private val mfragmentnetwork : NetworkDefinitionProvider = networkDefinitionProvider\n\n       /* override fun getItem(position: Int): Fragment {\n            return mFragmentList[position]\n        }*/\n\n        /*override fun getItem(position: Int): Fragment {\n            val fragment1 = ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragmentnetwork)\n            return fragment1\n        }*/\n\n        override fun getItem(position: Int): Fragment? {\n            var fragment: Fragment? = null\n            if (position == 0) {\n                fragment = ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragmentnetwork)\n            } else if (position == 1) {\n                fragment = SendingFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragmentnetwork)\n            }\n            return fragment\n        }\n\n        override fun getCount(): Int {\n            return mFragmentList.size\n        }\n\n        fun addFragment(fragment: Fragment, title: String) {\n            mFragmentList.add(fragment)\n            mFragmentTitleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence {\n            return mFragmentTitleList[position]\n        }\n\n        /*override fun getItemPosition(`object`: Any): Int {\n            return PagerAdapter.POSITION_NONE\n        }*/\n\n        override fun getItemPosition(fragItem: Any): Int {\n            var position = 0\n            if (fragItem is ReceiveFragment) {\n                position = 0\n            } else if (fragItem is SendingFragment) {\n                position = 1\n            }\n            return if (position &gt;= 0) position else PagerAdapter.POSITION_NONE\n        }\n    }\n</code></pre>\n\n<p><strong>MyFull Code:</strong></p>\n\n<pre><code>    class MainActivity : AppCompatActivity(), SharedPreferences.OnSharedPreferenceChangeListener, KodeinAware {\n\n    //tab\n    private var tabLayout: TabLayout? = null\n    var viewPager: ViewPager? = null\n    //private val tabIcons = intArrayOf(R.drawable.receive_tab, R.drawable.send_tab)\n    //end\n    /*private var tabLayout: TabLayout? = null\n    var viewPager: ViewPager? = null\n    private var viewPagerAdapter: ViewPagerAdapter? = null*/\n    //end\n    override val kodein by closestKodein()\n    val adapter = ViewPagerAdapter(supportFragmentManager)\n\n\n    private val actionBarDrawerToggle by lazy { ActionBarDrawerToggle(this, drawer_layout, R.string.drawer_open, R.string.drawer_close) }\n\n    private val syncProgressProvider: SyncProgressProvider by instance()\n    private val networkDefinitionProvider: NetworkDefinitionProvider by instance()\n    private val appDatabase: AppDatabase by instance()\n\n    private val settings: Settings by instance()\n    private val currentTokenProvider: CurrentTokenProvider by instance()\n    private val currentAddressProvider: CurrentAddressProvider by instance()\n    private var lastNightMode: Int? = null\n    private var balanceLiveData: LiveData&lt;Balance&gt;? = null\n    private var etherLiveData: LiveData&lt;Balance&gt;? = null\n    private val onboardingController by lazy { OnboardingController(this, settings) }\n\n    private var lastPastedData: String? = null\n    var t1: Int = 0\n    override fun onResume() {\n        super.onResume()\n        if (lastNightMode != null &amp;&amp; lastNightMode != settings.getNightMode()) {\n            val intent = intent\n            finish()\n            startActivity(intent)\n            //recreateWhenPossible()\n            return\n        }\n\n        lastNightMode = settings.getNightMode()\n        setCurrentBalanceObservers()\n        val clipboard = getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager\n        if (clipboard.hasPrimaryClip()) {\n            val item = clipboard.primaryClip.getItemAt(0).text?.toString()\n            val erc681 = item?.let { EthereumURI(it).toERC681() }\n            if (erc681?.valid == true &amp;&amp; erc681?.address != null &amp;&amp; item != lastPastedData &amp;&amp; item != currentAddressProvider.value?.hex.let { ERC681(address = it).generateURL() }) {\n                Snackbar.make(fab, R.string.paste_from_clipboard, Snackbar.LENGTH_INDEFINITE)\n                        .addCallback(object : BaseTransientBottomBar.BaseCallback&lt;Snackbar&gt;() {\n                            override fun onDismissed(transientBottomBar: Snackbar?, event: Int) {\n                                if (event == DISMISS_EVENT_ACTION || event == DISMISS_EVENT_SWIPE) {\n                                    lastPastedData = item\n                                }\n                            }\n                        })\n                        .setAction(R.string.paste_from_clipboard_action, {\n                            alert(R.string.copied_string_warning_message, R.string.copied_string_warning_title) {\n                                startActivity(Intent(this@MainActivity, CreateTransactionActivity::class.java).apply {\n                                    data = Uri.parse(item)\n                                })\n                            }\n\n                        })\n                        .show()\n            }\n        }\n    }\n\n    private fun String.isJSONKey() = try {\n        JSONObject(this).let {\n            it.has(\"address\") &amp;&amp; (it.has(\"crypto\") || it.has(\"Crypto\"))\n        }\n    } catch (e: Exception) {\n        false\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (data != null &amp;&amp; data.hasExtra(\"SCAN_RESULT\")) {\n            val scanResult = data.getStringExtra(\"SCAN_RESULT\")\n\n            when {\n                scanResult.isEthereumURLString() -&gt; {\n                    startActivity(getEthereumViewIntent(scanResult))\n                }\n\n                scanResult.length == 64 -&gt; {\n                    startActivity(getKeyImportIntent(scanResult, KeyType.ECDSA))\n                }\n\n                scanResult.isJSONKey() -&gt; {\n                    startActivity(getKeyImportIntent(scanResult, KeyType.JSON))\n                }\n\n            /*scanResult.isUnsignedTransactionJSON() || scanResult.isSignedTransactionJSON() || scanResult.isParityUnsignedTransactionJSON() -&gt; {\n                startActivity(getOfflineTransactionIntent(scanResult))\n            }*/\n\n                scanResult.startsWith(\"0x\") -&gt; {\n                    startActivity(getEthereumViewIntent(ERC681(address = scanResult).generateURL()))\n                }\n\n                else -&gt; {\n                    AlertDialog.Builder(this)\n                            .setMessage(R.string.scan_not_interpreted_error_message)\n                            .setPositiveButton(android.R.string.ok, null)\n                            .show()\n                }\n            }\n        }\n    }\n\n    fun refresh() {\n        val incomingSize = transaction_recycler_in.adapter?.itemCount ?: 0\n        val outgoingSize = transaction_recycler_out.adapter?.itemCount ?: 0\n\n        val hasTransactions = incomingSize + outgoingSize &gt; 0\n        //empty_view_container.setVisibility(!hasTransactions &amp;&amp; !onboardingController.isShowing)\n        transaction_recycler_out.setVisibility(hasTransactions)\n        transaction_recycler_in.setVisibility(hasTransactions)\n\n        //remove the textview based on the condition\n        if(hasTransactions.equals(true)){\n            empty_view.setVisibility(View.GONE)\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        //val dateFormat = android.text.format.DateFormat.getDateFormat(applicationContext)\n\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_main_in_drawer_container)\n\n\n\n        onboardingController.install()\n\n        settings.registerListener(this)\n\n        setSupportActionBar(toolbar)\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n        drawer_layout.addDrawerListener(actionBarDrawerToggle)\n\n        receive_button.setOnClickListener {\n            onboardingController.dismiss()\n            startActivityFromClass(RequestActivity::class)\n        }\n\n        send_button.setOnClickListener {\n            startActivityFromClass(CreateTransactionActivity::class)\n        }\n\n        fab.setOnClickListener {\n            startScanActivityForResult(this)\n        }\n        transaction_recycler_out.layoutManager = LinearLayoutManager(this)\n        transaction_recycler_in.layoutManager = LinearLayoutManager(this)\n\n        current_fiat_symbol.setOnClickListener {\n            startActivityFromClass(SelectReferenceActivity::class)\n        }\n\n        current_token_symbol.setOnClickListener {\n            startActivityFromClass(SelectTokenActivity::class)\n        }\n\n\n        syncProgressProvider.observe(this, Observer {\n            val progress = it!!\n\n            if (progress.isSyncing) {\n                val percent = ((progress.currentBlock.toDouble() / progress.highestBlock) * 100).toInt()\n                supportActionBar?.subtitle = \"Block ${progress.currentBlock}/${progress.highestBlock} ($percent%)\"\n            }\n        })\n\n\n\n        val incomingTransactionsObserver = Observer&lt;List&lt;TransactionEntity&gt;&gt; {\n            Log.e(\"INDIA\", \"incomingTransactionsObserver : \" + it);\n\n            if (it != null) {\n\n                viewPager = findViewById(R.id.viewpager)\n                t1++\n\n                setupViewPager(viewPager!!, it, INCOMING)\n\n                tabLayout = findViewById(R.id.tabs);\n                tabLayout!!.setupWithViewPager(viewPager)\n\n                transaction_recycler_in.adapter = TransactionRecyclerAdapter(it, appDatabase, INCOMING, networkDefinitionProvider)\n                transaction_recycler_in.setVisibility(!it.isEmpty())\n                refresh()\n\n\n\n            }\n        }\n\n        val outgoingTransactionsObserver = Observer&lt;List&lt;TransactionEntity&gt;&gt; {\n            Log.e(\"INDIA\", \"outgoingTransactionsObserver : \" + it);\n\n            if (it != null) {\n                viewPager = findViewById(R.id.viewpager)\n                t1++\n                setupViewPager(viewPager!!, it, OUTGOING)\n\n                tabLayout = findViewById(R.id.tabs);\n                tabLayout!!.setupWithViewPager(viewPager)\n\n                transaction_recycler_out.adapter = DuplicateTransactionRecyclerAdapter(it, appDatabase, OUTGOING, networkDefinitionProvider)\n                refresh()\n\n\n            }\n        }\n\n        var incomingTransactionsForAddress: LiveData&lt;List&lt;TransactionEntity&gt;&gt;? = null\n        var outgoingTransactionsForAddress: LiveData&lt;List&lt;TransactionEntity&gt;&gt;? = null\n\n        //fun installTransactionObservers() {\n        fun installTransactionObservers() {\n\n            incomingTransactionsForAddress?.removeObserver(incomingTransactionsObserver)\n            outgoingTransactionsForAddress?.removeObserver(outgoingTransactionsObserver)\n\n            currentAddressProvider.value?.let { currentAddress -&gt;\n                val currentChain = networkDefinitionProvider.getCurrent().chain\n                incomingTransactionsForAddress = appDatabase.transactions.getIncomingTransactionsForAddressOnChainOrdered(currentAddress, currentChain)\n                outgoingTransactionsForAddress = appDatabase.transactions.getOutgoingTransactionsForAddressOnChainOrdered(currentAddress, currentChain)\n\n                incomingTransactionsForAddress?.observe(this, incomingTransactionsObserver)\n                outgoingTransactionsForAddress?.observe(this, outgoingTransactionsObserver)\n            }\n        }\n\n        networkDefinitionProvider.observe(this, Observer {\n            setCurrentBalanceObservers()\n            installTransactionObservers()\n        })\n\n        currentAddressProvider.observe(this, Observer {\n            installTransactionObservers()\n        })\n\n        currentAddressProvider.observe(this, Observer { _ -&gt;\n            setCurrentBalanceObservers()\n        })\n\n        if (intent.action?.equals(\"org.walleth.action.SCAN\") == true) {\n            startScanActivityForResult(this)\n        }\n\n        if (savedInstanceState != null) {\n            lastPastedData = savedInstanceState.getString(KEY_LAST_PASTED_DATA)\n        }\n        //progressBar.visibility = View.VISIBLE\n    }\n\n    private val balanceObserver = Observer&lt;Balance&gt; {\n\n        if (it != null) {\n\n            /* val progressBar: ProgressBar = this.progressBar1\n             progressBar.visibility = View.GONE*/\n\n            value_view.setValue(it.balance, currentTokenProvider.currentToken)\n            supportActionBar?.subtitle = getString(R.string.main_activity_block, it.block)\n        } else {\n            value_view.setValue(ZERO, currentTokenProvider.currentToken)\n            supportActionBar?.subtitle = getString(R.string.main_activity_no_data)\n        }\n    }\n\n    private val etherObserver = Observer&lt;Balance&gt; {\n        if (it != null) {\n            send_button.setVisibility(it.balance &gt; ZERO, INVISIBLE)\n        } else {\n            send_button.visibility = INVISIBLE\n        }\n    }\n\n    private fun setCurrentBalanceObservers() {\n        Log.e(\"INDIA\",\"currentAddress\")\n        val currentAddress = currentAddressProvider.value\n        Log.e(\"INDIA\",\"currentAddress\" + currentAddress)\n\n        if (currentAddress != null) {\n            balanceLiveData?.removeObserver(balanceObserver)\n            balanceLiveData = appDatabase.balances.getBalanceLive(currentAddress, currentTokenProvider.currentToken.address, networkDefinitionProvider.getCurrent().chain)\n            balanceLiveData?.observe(this, balanceObserver)\n            etherLiveData?.removeObserver(etherObserver)\n            etherLiveData = appDatabase.balances.getBalanceLive(currentAddress, getEthTokenForChain(networkDefinitionProvider.getCurrent()).address, networkDefinitionProvider.getCurrent().chain)\n            etherLiveData?.observe(this, etherObserver)\n        }\n    }\n\n    override fun onPostCreate(savedInstanceState: Bundle?) {\n        super.onPostCreate(savedInstanceState)\n        actionBarDrawerToggle.syncState()\n    }\n\n    override fun onConfigurationChanged(newConfig: Configuration) {\n        super.onConfigurationChanged(newConfig)\n        actionBarDrawerToggle.onConfigurationChanged(newConfig)\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu_main, menu)\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem) = when (item.itemId) {\n        R.id.menu_copy -&gt; {\n            copyToClipboard(currentAddressProvider.getCurrent(), fab)\n            true\n        }\n    /*R.id.menu_info -&gt; {\n        startActivityFromClass(InfoActivity::class.java)\n        true\n    }*/\n        else -&gt; actionBarDrawerToggle.onOptionsItemSelected(item) || super.onOptionsItemSelected(item)\n    }\n\n    override fun onSharedPreferenceChanged(preferences: SharedPreferences?, key: String?) {\n        if (Settings::currentFiat.name == key) {\n            transaction_recycler_in.adapter?.notifyDataSetChanged()\n            transaction_recycler_in.adapter?.notifyDataSetChanged()\n        }\n    }\n\n    override fun onSaveInstanceState(outState: Bundle?) {\n        super.onSaveInstanceState(outState)\n        outState!!.putString(KEY_LAST_PASTED_DATA, lastPastedData)\n    }\n\n    override fun onDestroy() {\n        settings.unregisterListener(this)\n        super.onDestroy()\n    }\n\n    //tab\n    private fun setupViewPager(viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection) {\n\n\n        //val adapter = ViewPagerAdapter(supportFragmentManager, viewPager, it, incoming, appDatabase, networkDefinitionProvider)\n        if(adapter.count &lt; 2) {\n            if (t1 == 1) {\n                adapter.addFragment(ReceiveFragment(it!!, appDatabase, INCOMING, networkDefinitionProvider), \"SEND\")\n            } else {\n                adapter.addFragment(SendingFragment(it!!, appDatabase, OUTGOING, networkDefinitionProvider), \"RECEIVE\")\n            }\n            if (t1 == 2) {\n                viewPager.adapter = adapter\n            }\n        }\n    }\n\n\n\n    //class ViewPagerAdapter(manager: FragmentManager, viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection, appDatabase: AppDatabase, networkDefinitionProvider: NetworkDefinitionProvider) : FragmentStatePagerAdapter(manager) {\n    //class ViewPagerAdapter(manager: FragmentManager, viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection, appDatabase: AppDatabase, networkDefinitionProvider: NetworkDefinitionProvider) : FragmentPagerAdapter(manager)\n    class ViewPagerAdapter(manager: FragmentManager) : FragmentStatePagerAdapter(manager)\n    {\n        private val mFragmentList: ArrayList&lt;Fragment&gt; = ArrayList&lt;Fragment&gt;()\n        private val mFragmentTitleList: ArrayList&lt;String&gt;  = ArrayList&lt;String&gt;()\n\n        /*private val mfragmentAB = appDatabase\n        private val mfragmentIT: List&lt;TransactionEntity&gt; = it!!\n        private val mfragmentINC : TransactionAdapterDirection = incoming\n        private val mfragmentnetwork : NetworkDefinitionProvider = networkDefinitionProvider\n        private val mfragmentviewpager : ViewPager = viewPager*/\n\n        override fun getCount(): Int {\n            return mFragmentList.size\n        }\n\n       /* override fun getItem(position: Int): Fragment? {\n            var fragment: Fragment? = null\n            if (position == 0) {\n                fragment = SendingFragment(mfragmentIT, mfragmentAB, mfragmentINC, mfragmentnetwork)\n            } else if (position == 1) {\n                fragment = ReceiveFragment(mfragmentIT, mfragmentAB, mfragmentINC, mfragmentnetwork)\n            }\n            return fragment\n        }*/\n\n        override fun getItem(position: Int) = mFragmentList[position]\n\n        fun addFragment(fragment: Fragment, title: String) {\n            mFragmentList.add(fragment)\n            mFragmentTitleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence? {\n            return mFragmentTitleList[position]\n        }\n\n        override fun getItemPosition(fragItem: Any): Int {\n            var position = 0\n            if (fragItem is ReceiveFragment) {\n                position = 0\n            } else if (fragItem is SendingFragment) {\n                position = 1\n            }\n            return if (position &gt;= 0) position else PagerAdapter.POSITION_NONE\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1539247761, "post_id": 52739449, "comment_id": 92435019, "body": "Wait a second...do you have this in your gradle config? <code>&quot;org.springframework.boot:spring-boot-configuration-processo&zwnj;&#8203;r&quot;</code>"}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1539341523, "post_id": 52739449, "comment_id": 92477414, "body": "yes i do, with the kapt plugin"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "edited": false, "score": 0, "creation_date": 1539172965, "post_id": 52739607, "comment_id": 92404088, "body": "Thank you for answering this fast!  Tried it, sadly it doesn&#39;t change anything. As of &quot;<a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">spring.io/guides/tutorials/spring-boot-kotlin</a>&quot; @EnableConfigurationProperties should be put on Application level, tried this also doesn&#39;t chang anything"}], "tags": [], "owner": {"reputation": 30583, "user_id": 605153, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/771f1c4e90ceeec0060c62ff0dbb762e?s=128&d=identicon&r=PG", "display_name": "Mark Bramnik", "link": "https://stackoverflow.com/users/605153/mark-bramnik"}, "is_accepted": false, "score": -1, "last_activity_date": 1539172237, "creation_date": 1539172237, "answer_id": 52739607, "question_id": 52739449, "link": "https://stackoverflow.com/questions/52739449/spring-boot-autowired-custom-application-properties/52739607#52739607", "title": "Spring Boot @Autowired custom application.properties", "body": "<p><code>@EnableConfigurationProperties</code> is usually put on classes marked with <code>@Configuration</code> annotation.</p>\n\n<p>In the code snippet <code>class InitApp</code> should be marked as a <code>@Configuration</code> and then you can (I don't know Kotlin, so I'll provide a java equivalent):</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableConfigurationProperties(ApplicationProperties.class)\npublic class InitApp {\n\n\n  @Bean\n  public &lt;&lt;BeanThatYouNeed&gt;&gt; kafkaConsumer(ApplicationProperties props) {\n      log.info(props.getKafka().getHost());\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "edited": false, "score": 0, "creation_date": 1539179687, "post_id": 52741380, "comment_id": 92408470, "body": "Can you show us the full stack trace? I tried the code above in a project and it worked."}, {"owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "edited": false, "score": 0, "creation_date": 1539181399, "post_id": 52741380, "comment_id": 92409543, "body": "yep, i just added it to the main post. I also created a clean project with just this setup, and it doesn&#39;t work. Could you provide me your project?"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 0, "last_activity_date": 1539248004, "last_edit_date": 1539248004, "creation_date": 1539178153, "answer_id": 52741380, "question_id": 52739449, "link": "https://stackoverflow.com/questions/52739449/spring-boot-autowired-custom-application-properties/52741380#52741380", "title": "Spring Boot @Autowired custom application.properties", "body": "<p>This is ought to work:</p>\n\n<pre><code>@Component\n@EnableTransactionManagement\n@Configuration\n@EnableConfigurationProperties(ApplicationProperties::class)\nclass InitApp {\n\n    @Autowired\n    lateinit var conf: ApplicationProperties\n\n    // ...\n}\n\n@ConfigurationProperties(\"mt\")\nclass ApplicationProperties {\n\n    var initDatabase: Boolean? = null\n    val kafka = Kafka()\n\n    class Kafka {\n        lateinit var host: String\n        lateinit var port: String\n    }\n}\n</code></pre>\n\n<p><strong>Note that</strong> you need to put <code>@Configuration</code> on <code>InitApp</code>, not on <code>ApplicationProperties</code>.</p>\n\n<p>I also have these in my <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'kotlin-spring'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ndepencencies {\n    compile \"org.springframework.boot:spring-boot-starter-web\"\n    compileOnly \"org.springframework.boot:spring-boot-configuration-processor\"\n}\n\ndependencyManagement {\n    imports { mavenBom(\"org.springframework.boot:spring-boot-dependencies:${springBootVersion}\") }\n}\n</code></pre>\n\n<p>You need the <code>\"org.springframework.boot:spring-boot-configuration-processor\"</code> dependency in place in order for this whole thing to work.</p>\n"}, {"comments": [{"owner": {"reputation": 1197, "user_id": 11657446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3q1Tr.png?s=128&g=1", "display_name": "arnonuem", "link": "https://stackoverflow.com/users/11657446/arnonuem"}, "edited": false, "score": 0, "creation_date": 1581665699, "post_id": 52742940, "comment_id": 106520086, "body": "Why is <code>@Service</code> and <code>@Configuration</code> in one place? This does not make sense to me"}], "tags": [], "owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "is_accepted": true, "score": 1, "last_activity_date": 1539182879, "creation_date": 1539182879, "answer_id": 52742940, "question_id": 52739449, "link": "https://stackoverflow.com/questions/52739449/spring-boot-autowired-custom-application-properties/52742940#52742940", "title": "Spring Boot @Autowired custom application.properties", "body": "<p>I managed to get it working:</p>\n\n<h2>Annotations</h2>\n\n<pre><code>@Service\n@Configuration\n@EnableConfigurationProperties\n@EnableTransactionManagement\nclass AppConfig {\n</code></pre>\n\n<p>ApplicationProperties:</p>\n\n<pre><code>@ConfigurationProperties(\"mt\")\nclass ApplicationProperties {\n</code></pre>\n\n<p>ApplicationClass:</p>\n\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(ApplicationProperties::class)\nabstract class MessageengineApplication\n</code></pre>\n\n<h2>Beans</h2>\n\n<p>i needed to remove the following Bean from AppConfig:</p>\n\n<pre><code>@Bean\nfun placeHolderConfigurer(): PropertySourcesPlaceholderConfigurer {\n    return PropertySourcesPlaceholderConfigurer()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114, "user_id": 8615753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ffd3be87a11a3a243bcb69a879154f?s=128&d=identicon&r=PG&f=1", "display_name": "Viet Hoang", "link": "https://stackoverflow.com/users/8615753/viet-hoang"}, "is_accepted": false, "score": -1, "last_activity_date": 1539182910, "creation_date": 1539182910, "answer_id": 52742953, "question_id": 52739449, "link": "https://stackoverflow.com/questions/52739449/spring-boot-autowired-custom-application-properties/52742953#52742953", "title": "Spring Boot @Autowired custom application.properties", "body": "<p>you dont need those <code>@Configuration, @ConfigurationProperties(\"mt\")</code> in the header of <code>class ApplicationProperties</code><br>\nyou can use @Value annotation to directly get the props from application.properties file</p>\n\n<p>`</p>\n\n<pre><code>@Component\n@EnableTransactionManagement\nclass InitApp {\n    @Autowired\n    lateinit var conf: ApplicationProperties\n    @Bean\n    fun createKafkaConsumer(@Value(\"${mt.kafka.host}\") String host, \n                               @Value(\"${mt.kafka.host}\") String port) {\n        //you have host, port now\n    }\n}\n</code></pre>\n\n<p>`</p>\n"}], "owner": {"reputation": 105, "user_id": 6232572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a834a5ba600f66d3b6f49c7bd7b3fe?s=128&d=identicon&r=PG&f=1", "display_name": "H3npi", "link": "https://stackoverflow.com/users/6232572/h3npi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3156, "favorite_count": 0, "accepted_answer_id": 52742940, "answer_count": 4, "score": 5, "last_activity_date": 1539248004, "creation_date": 1539171701, "last_edit_date": 1539182449, "question_id": 52739449, "link": "https://stackoverflow.com/questions/52739449/spring-boot-autowired-custom-application-properties", "title": "Spring Boot @Autowired custom application.properties", "body": "<p>i am trying to get my custon application.properties fields working within a kotlin spring boot application.</p>\n\n<p>My Current Setup:</p>\n\n<p>ApplicationProperties.kt:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(\"mt\")\nclass ApplicationProperties {\n\n    var initDatabase: Boolean? = null\n    val kafka = Kafka()\n\n    class Kafka {\n        lateinit var host: String\n        lateinit var port: String\n    }\n}\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>mt.kafka.host=localhost\nmt.kafka.port=9092\nmt.init-database=true\n</code></pre>\n\n<p>And a class where i want to use my application:\nInitApp.kt</p>\n\n<pre><code>@Component\n@EnableTransactionManagement\n@EnableConfigurationProperties(ApplicationProperties::class)\nclass InitApp {\n    @Autowired\n    lateinit var conf: ApplicationProperties\n\n    @Bean\n    fun createKafkaConsumer() {\n        log.info(\"${conf.kafka.host}\")\n    }\n}\n</code></pre>\n\n<p>Sadly this doesn't work because i get a:</p>\n\n<pre><code>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property conf has not been initialized\n</code></pre>\n\n<p>I followed this \"guide\" <a href=\"https://youtu.be/btNIey_2Zdw?t=1580\" rel=\"nofollow noreferrer\">Bootiful Kotlin by S\u00e9bastien Deleuze and Josh Long @ Spring I/O 2018</a> and i am using these versions:</p>\n\n<pre><code>    kotlinVersion = '1.2.51'\n    springBootVersion = '2.0.5.RELEASE'\n</code></pre>\n\n<p><code>apply plugin: 'kotlin-kapt'</code> is in my build.gradle, but this should not mess with the <code>@Autowired</code> since, as far as i understood, it is for autocompletion in my application.properties.</p>\n\n<h1>Update 1:</h1>\n\n<p>I had a look at: <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">Building web applications with Spring Boot and Kotlin</a> and added the <code>@EnableConfigurationProperties</code> at Application level. This didn't work either</p>\n\n<h1>Update  2:</h1>\n\n<p>Full stacktrace:</p>\n\n<pre><code>2018-10-10 16:17:53.058 ERROR 23619 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'producerFactory' defined in class path resource [de/mikatiming/de/test/InitApp.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.kafka.core.ProducerFactory]: Factory method 'producerFactory' threw exception; nested exception is kotlin.UninitializedPropertyAccessException: lateinit property applicationProperties has not been initialized\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1247) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1096) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:780) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:333) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1277) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1265) [spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nat de.mikatiming.de.test.TestApplicationKt.main(TestApplication.kt:15) [main/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_172]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_172]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_172]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_172]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.0.5.RELEASE.jar:2.0.5.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.kafka.core.ProducerFactory]: Factory method 'producerFactory' threw exception; nested exception is kotlin.UninitializedPropertyAccessException: lateinit property applicationProperties has not been initialized\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n... 23 common frames omitted\nCaused by: kotlin.UninitializedPropertyAccessException: lateinit property applicationProperties has not been initialized\nat de.mikatiming.de.test.InitApp.getApplicationProperties(InitApp.kt:36) ~[main/:na]\nat de.mikatiming.de.test.InitApp.producerFactory(InitApp.kt:58) ~[main/:na]\nat de.mikatiming.de.test.InitApp$$EnhancerBySpringCGLIB$$c3b698bb.CGLIB$producerFactory$10(&lt;generated&gt;) ~[main/:na]\nat de.mikatiming.de.test.InitApp$$EnhancerBySpringCGLIB$$c3b698bb$$FastClassBySpringCGLIB$$b315799f.invoke(&lt;generated&gt;) ~[main/:na]\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:365) ~[spring-context-5.0.9.RELEASE.jar:5.0.9.RELEASE]\nat de.mikatiming.de.test.InitApp$$EnhancerBySpringCGLIB$$c3b698bb.producerFactory(&lt;generated&gt;) ~[main/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_172]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_172]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_172]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_172]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n... 24 common frames omitted\n</code></pre>\n\n<h1>Update 3:</h1>\n\n<p>I just found out that when i remove a specific bean from my InitApp:</p>\n\n<pre><code>@Bean\nfun placeHolderConfigurer(): PropertySourcesPlaceholderConfigurer {\n    return PropertySourcesPlaceholderConfigurer()\n}\n</code></pre>\n\n<p>i get an other error message:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'de.mikatiming.messageengine.configuration.ApplicationProperties' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n\n<p>So it looks like it is an issue with this bean!</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1539171578, "post_id": 52739386, "comment_id": 92403241, "body": "That&#39;s exactly what I would expect for strings. <code>5 &gt; 1</code>."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1539171584, "post_id": 52739386, "comment_id": 92403245, "body": "They are compared character by character. And &quot;5&quot; is indeed higher than &quot;1&quot;"}, {"owner": {"reputation": 18690, "user_id": 340088, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e01618347bd158e35c34cce5bc006a92?s=128&d=identicon&r=PG", "display_name": "jbx", "link": "https://stackoverflow.com/users/340088/jbx"}, "edited": false, "score": 0, "creation_date": 1539172026, "post_id": 52739386, "comment_id": 92403521, "body": "Strings are sorted in alphabetical order. You can&#39;t expect it to know you have numbers. If the first 2 characters are the same, &quot;1.&quot;, then &quot;5&quot; &gt; &quot;1&quot;."}, {"owner": {"reputation": 28043, "user_id": 180719, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/AWsdT.png?s=128&g=1", "display_name": "Olivier Gr&#233;goire", "link": "https://stackoverflow.com/users/180719/olivier-gr%c3%a9goire"}, "edited": false, "score": 0, "creation_date": 1539174724, "post_id": 52739386, "comment_id": 92405228, "body": "To compare versions, use the following comparator: <code>Comparator&lt;String&gt; comparator = java.util.Comparator.comparing(java.lang.module.ModuleDescri&zwnj;&#8203;ptor.Version::parse)</code>"}], "owner": {"reputation": 1530, "user_id": 2633359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5Rkdc.png?s=128&g=1", "display_name": "enyciaa", "link": "https://stackoverflow.com/users/2633359/enyciaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1539171664, "answer_count": 0, "score": 0, "last_activity_date": 1539171952, "creation_date": 1539171489, "last_edit_date": 1539171952, "question_id": 52739386, "link": "https://stackoverflow.com/questions/52739386/how-does-kotlin-evaluate-1-5-14-1-10-0", "closed_reason": "Duplicate", "title": "How does Kotlin evaluate &quot;1.5.14&quot; &gt; &quot;1.10.0&quot;", "body": "<p>I recently ran into a bug on a project I took over. The bug occurred when prompting a user to upgrade the app. If the server version code was greater than the app version code then the prompt should appear. The comparison was done on a string basis.</p>\n\n<pre><code>\"1.5.14\" &gt; \"1.9.0\" (= false)\n</code></pre>\n\n<p>This returned false up until the point we upgraded the app version.</p>\n\n<pre><code>\"1.5.14\" &gt; \"1.10.0\" (= true)\n</code></pre>\n\n<p>Note: I'm aware that to properly compare version codes, you would compare each number separately. This is a question about how the language handles > and &lt; for Strings. Surely this code should never have worked?</p>\n"}, {"tags": ["android", "android-studio", "button", "layout", "kotlin"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539166803, "post_id": 52737713, "comment_id": 92400495, "body": "Yes, if you don&#39;t set anything special yourself, you get the recommended / platform default layout which can also be different on other versions of android. I&#39;d not mess with this."}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 0, "last_activity_date": 1539570253, "creation_date": 1539570253, "answer_id": 52808955, "question_id": 52737713, "link": "https://stackoverflow.com/questions/52737713/how-do-i-center-the-buttons-of-the-dialog-kotlin-android-studio/52808955#52808955", "title": "How do I center the buttons of the dialog? (Kotlin, Android Studio)", "body": "<p>If you do not like the Alert Dialog builder method here is a easy custom Alert Dialog<br/></p>\n\n<p>This btnDeleteDept calls the doCustom() fun</p>\n\n<pre><code>        btnDeleteDept.setOnClickListener {\n        if (etDeptData.text.toString().equals(\"\")) {\n            message(\"No Match Found\")\n            return@setOnClickListener\n        }\n        doCustom()\n    }\n</code></pre>\n\n<p>Here is the code for the doCustom() fun it uses another fun as you can see</p>\n\n<pre><code>    fun doCustom() {\n    /* This method uses the custom_dialog.xml file created for greater control over\n   the styling of the Custom Alert Dialog for various screen sizes and to be\n   able to set the text size of the dialog message text\n   */\n    val makeDialog = LayoutInflater.from(this).inflate(R.layout.custom_dialog,null)\n    val mBuilder = AlertDialog.Builder(this).setView(makeDialog)\n    val mAlertDialog = mBuilder.show()\n\n    val btnYES = makeDialog.findViewById&lt;Button&gt;(R.id.btnYES)\n    val btnNO = makeDialog.findViewById&lt;Button&gt;(R.id.btnNO)\n    mAlertDialog.setCancelable(false)\n\n    btnYES.setOnClickListener {\n        removeDEPT()\n        mAlertDialog.dismiss()\n    }\n\n    btnNO.setOnClickListener {\n        message(\"Record NOT Deleted\")\n        etDeptData.setText(\"\")\n        //Timer().schedule(800){\n            thisACTIVITY()\n        //}\n        mAlertDialog.dismiss()\n    }\n    mAlertDialog.show()\n}\n\nprivate fun removeDEPT() {\n\n    val dbHandler = DBHelper(this)\n\n    val result = dbHandler.deleteDEPT(etDeptData.text.toString())\n\n    if (result) {\n        etDeptData.setText(\"\")\n        message(\"Record Removed\")\n        //Timer().schedule(1000){\n            thisACTIVITY()\n        //}\n    }else{\n        etDeptData.setText(\"NO MATCH -&gt; click View Dept List\")\n        btnViewDeptList.visibility = View.VISIBLE\n        btnEditDept.visibility = View.INVISIBLE\n        btnDeleteDept.visibility =View.INVISIBLE\n        btnSaveDeptData.visibility = View.INVISIBLE\n        message(\"NO Match Found\")\n    }\n}\n</code></pre>\n\n<p>OK all this is nothing without the XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/imgDI\"\n    android:layout_width=\"50dp\"\n    android:layout_height=\"50dp\"\n    android:layout_marginLeft=\"10dp\"\n    android:layout_marginTop=\"10dp\"\n    android:src=\"@drawable/delete48\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvDAT\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"80dp\"\n    android:layout_marginTop=\"30dp\"\n    android:text=\"Delete Data\"\n    android:textColor=\"@color/color_Black\"\n    android:textSize=\"20sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvDAC\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"28dp\"\n    android:layout_marginTop=\"80dp\"\n    android:gravity=\"center\"\n    android:text=\"Click DELETE to Remove Data\"\n    android:textColor=\"@color/color_Black\"\n    android:textSize=\"18sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btnYES\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"240dp\"\n    android:layout_marginTop=\"110dp\"\n    android:background=\"@color/color_Transparent\"\n    android:text=\"DELETE\"\n    android:textColor=\"@color/color_deepBlue\"\n    android:textSize=\"18sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btnNO\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"20dp\"\n    android:layout_marginTop=\"110dp\"\n    android:background=\"@color/color_Transparent\"\n    android:text=\"CANCEL\"\n    android:textColor=\"@color/color_deepBlue\"\n    android:textSize=\"18sp\"\n    android:textStyle=\"bold\" /&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539570253, "creation_date": 1539166035, "last_edit_date": 1539179775, "question_id": 52737713, "link": "https://stackoverflow.com/questions/52737713/how-do-i-center-the-buttons-of-the-dialog-kotlin-android-studio", "title": "How do I center the buttons of the dialog? (Kotlin, Android Studio)", "body": "<p>By default, the buttons of the dialog are aligned to the right like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/C6nbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6nbT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Not sure if this is recommended standard by Android, but to me it looks weird. I would like to center the buttons instead. </p>\n\n<p>I have tried the different configurations from here without results: <a href=\"https://stackoverflow.com/questions/30743038/align-alertdialog-buttons-to-center\">align AlertDialog buttons to center</a></p>\n\n<p>Perhaps its the <code>java</code> that confuses me when I try writing it in <code>kotlin</code> or that the post is 3.5 years old. Anyway, does someone have any suggestions on how to solve this programatically without resorting to <code>xml</code> and <code>inflating</code> the dialog?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 12817, "user_id": 1324709, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZzCz9.jpg?s=128&g=1", "display_name": "Branislav Lazic", "link": "https://stackoverflow.com/users/1324709/branislav-lazic"}, "edited": false, "score": 1, "creation_date": 1539166284, "post_id": 52737540, "comment_id": 92400151, "body": "so using the nullable operator <code>?</code> actually fixed the issue haha. If you want to post the answer, I&#39;ll mark it as accepted :) -&gt; It&#39;s using <code>@RequestPart</code> because my actual code is for <code>multipart&#47;form-data</code>"}], "answers": [{"tags": [], "owner": {"reputation": 12817, "user_id": 1324709, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ZzCz9.jpg?s=128&g=1", "display_name": "Branislav Lazic", "link": "https://stackoverflow.com/users/1324709/branislav-lazic"}, "is_accepted": true, "score": 1, "last_activity_date": 1539166383, "creation_date": 1539166383, "answer_id": 52737825, "question_id": 52737540, "link": "https://stackoverflow.com/questions/52737540/spring-webflux-optional-requestpart-requestparam-is-still-required/52737825#52737825", "title": "Spring Webflux: optional RequestPart/RequestParam is still required?", "body": "<p>Mark your optional parameters as nullable. Therefore:</p>\n\n<pre><code>@RequestPart(\"name\", required = false) name: String?\n@RequestPart(\"friend_name\", required = false) friendsName: String?\n</code></pre>\n"}], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1604, "favorite_count": 0, "accepted_answer_id": 52737825, "answer_count": 1, "score": 0, "last_activity_date": 1539166383, "creation_date": 1539165538, "question_id": 52737540, "link": "https://stackoverflow.com/questions/52737540/spring-webflux-optional-requestpart-requestparam-is-still-required", "title": "Spring Webflux: optional RequestPart/RequestParam is still required?", "body": "<p>I'm trying to use optional request parameters / request parts, but when I don't provide an optional parameter, my request just hangs indenfinitely.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/service\")\nclass MyController {\n    @PostMapping\n    fun print(@RequestPart(\"name\", required = false) name: String) {\n        if (name != null)\n            print(name)\n        else\n            print(\"grr\")\n    }\n}\n</code></pre>\n\n<p>If I provide the parameter <code>name</code> in my request, it no longer hangs definitely in postman, the request goes through. But I expected it to go through anyway when I don't provide the parameter <code>name</code> and print \"grr\".</p>\n\n<p>This required property not working properly (at least in my mind) is validated when you add another supposedly optional property.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/service\")\nclass MyController {\n    @PostMapping\n    fun print(@RequestPart(\"name\", required = false) name: String,\n              @RequestPart(\"friend_name\", required = false) friendsName: String) {\n        if (name != null)\n            print(name)\n        else\n            print(\"grr\")\n    }\n}\n</code></pre>\n\n<p>Now when I provide the parameter <code>name</code> but not <code>friend_name</code>, it says the value cannot be null.</p>\n\n<pre><code>{\n    \"timestamp\": \"2018-10-10T09:50:49.305+0000\",\n    \"path\": \"/service\",\n    \"status\": 500,\n    \"error\": \"Internal Server Error\",\n    \"message\": \"Parameter specified as non-null is null: method co.example.controllers.MyController.print, parameter friendsName\"\n}\n</code></pre>\n\n<p>I have tried the same for <code>@RequestParam</code> and <code>@RequestPart</code> with the same results.</p>\n"}, {"tags": ["android", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539164211, "post_id": 52736863, "comment_id": 92398870, "body": "Everything in your code runs in the UI thread and that is a good thing. &quot;I want to record sensor value in every 5ms&quot; that&#39;s what ` SensorManager.SENSOR_DELAY_*` controls. Don&#39;t try to put threads. You can simply skip every other value if there are too many."}], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 5164318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VjzX.jpg?s=128&g=1", "display_name": "emandt", "link": "https://stackoverflow.com/users/5164318/emandt"}, "is_accepted": true, "score": 1, "last_activity_date": 1539164078, "creation_date": 1539164078, "answer_id": 52737052, "question_id": 52736863, "link": "https://stackoverflow.com/questions/52736863/in-kotlin-will-a-handler-thread-wait-another-thread-finish/52737052#52737052", "title": "In Kotlin, will a Handler thread wait another thread finish?", "body": "<p>\"registerListener()\" method has an additional parameter that defines the Handler to be used. You'r not using that additional parameter so the Listener will run all its callback methods (\"onSensorChanged()\", etc..) in the MainThread/UiThread. Even your \"handler\" (and the Runnable object) variable is running in the Main/UiThread, so there isn't any problem. Problems could happen if your \"registerListener()\" method OR/AND the \"handler\" variable use different Threads.</p>\n"}], "owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 52737052, "answer_count": 1, "score": 1, "last_activity_date": 1539164078, "creation_date": 1539163463, "question_id": 52736863, "link": "https://stackoverflow.com/questions/52736863/in-kotlin-will-a-handler-thread-wait-another-thread-finish", "title": "In Kotlin, will a Handler thread wait another thread finish?", "body": "<p>I want to record sensor value in every 5ms</p>\n\n<p>But I don't know whether the values are correct if I capture values in other thread. e.g. x is the last value while y and z are previous value</p>\n\n<p>So I write this program to test, if value is wrong, <code>Log.v(\"abc not equal\", \"a:$a b:$b c:$c\")</code> will be called</p>\n\n<p>But the result is no problem, a b c are always equal</p>\n\n<p>Should I trust this result? Why a b c never be different? (e.g. a:10 b:9 c:9), is the Hander waits SensorEventListener finish?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var a=0\n    var b=0\n    var c=0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\n        val sensor = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)\n        sensorManager.registerListener(sensorListener, sensor, SensorManager.SENSOR_DELAY_NORMAL)\n\n        val handler = Handler()\n        val run = object : Runnable{\n            override fun run() {\n\n                if(!(a == b &amp;&amp; b == c)){\n                    Log.v(\"abc not equal\", \"a:$a b:$b c:$c\")\n                }\n                handler.postDelayed(this,5)\n            }\n\n        }\n        handler.postDelayed(run,5)\n    }\n\n    private val sensorListener = object: SensorEventListener {\n        override fun onAccuracyChanged(p0: Sensor?, p1: Int) {}\n\n        override fun onSensorChanged(event: SensorEvent?) {\n            if(event != null){\n                val xRaw = event.values[0]\n                val yRaw = event.values[1]\n                val zRaw = event.values[2]\n\n                if(a&gt;100){\n                    a=0\n                    b=0\n                    c=0\n                }\n\n                a+=1\n                slow()\n                b+=1\n                slow()\n                c+=1\n\n            }\n        }\n    }\n    fun slow(){\n        var x = 0\n        while (x &lt; 50000) {\n            x++\n            if(x&gt;10) {\n                var y = Random().nextInt(x - 1)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1539163495, "post_id": 52736711, "comment_id": 92398441, "body": "No, there is no way to do this."}, {"owner": {"reputation": 411, "user_id": 3266929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BwUm.jpg?s=128&g=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/3266929/jatin"}, "edited": false, "score": 0, "creation_date": 1539164547, "post_id": 52736711, "comment_id": 92399065, "body": "I do not think we can override in build behaviour of convert code from Java to Kotlin."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539166201, "post_id": 52736711, "comment_id": 92400101, "body": "btw, <code>Activity#onSaveInstanceState</code> is really <code>Bundle</code> because it&#39;s not nullable. The conversion is maybe correct? (overriding can&#39;t widen parameter types)"}, {"owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "edited": false, "score": 0, "creation_date": 1539175853, "post_id": 52736711, "comment_id": 92405963, "body": "you&#39;re right, was just an example though. The issue with the state is present in <code>onCreate</code> and similar cases though... Will change the example"}], "owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539240960, "creation_date": 1539162948, "last_edit_date": 1539240960, "question_id": 52736711, "link": "https://stackoverflow.com/questions/52736711/converting-java-file-always-make-parameters-nullable-by-default", "title": "Converting java file - always make parameters nullable by default", "body": "<p>AS can convert java to koltin and assumes, that parameters that are not marked as <code>@Nullable</code> are not nullable, but that's not true if you have not worked with such annotations...</p>\n\n<p>The problem is, that when converting file, every now and then a kotlin version is created, that forces a not nullable parameter, but this function is called from some java code passing in a null value which creates a runtime exception.</p>\n\n<p>Is there any way to change this default behaviour? E.g.</p>\n\n<pre><code>public void funcion(Bundle savedInstanceState)\n</code></pre>\n\n<p>Is converted to </p>\n\n<pre><code>fun funcion(savedInstanceState: Bundle)\n</code></pre>\n\n<p>But should be converted to </p>\n\n<pre><code>fun funcion(savedInstanceState: Bundle?)\n</code></pre>\n\n<p>I personally would prefer to clean my code manually and would like the kotlin code to be 100% compatible to the old java code, which it is only if the converter makes parameters nullable by default.</p>\n\n<p>Any way to achieve this?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 8637, "user_id": 88165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c02cce9c2205923a41d8dc57ebe545b8?s=128&d=identicon&r=PG", "display_name": "Nikolay Ivanov", "link": "https://stackoverflow.com/users/88165/nikolay-ivanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1539162066, "creation_date": 1539162066, "answer_id": 52736436, "question_id": 52736364, "link": "https://stackoverflow.com/questions/52736364/swift-enumerated-equivalent-in-kotlin/52736436#52736436", "title": "Swift enumerated equivalent in Kotlin", "body": "<p>It looks like you're looking for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html\" rel=\"nofollow noreferrer\">withIndex</a></p>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1539179938, "post_id": 52736826, "comment_id": 92408626, "body": "<code>fold</code> is also important if you have empty arrays. I often find myself using <code>fold</code> instead of <code>reduce</code> in 99% of the cases."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1539172429, "last_edit_date": 1539172429, "creation_date": 1539163356, "answer_id": 52736826, "question_id": 52736364, "link": "https://stackoverflow.com/questions/52736364/swift-enumerated-equivalent-in-kotlin/52736826#52736826", "title": "Swift enumerated equivalent in Kotlin", "body": "<p>Starting with this input:</p>\n\n<pre><code>val input: Array&lt;Array&lt;Int&gt;&gt; = arrayOf(\n        arrayOf(1, 2, 3),\n        arrayOf(4, 5, 6),\n        arrayOf(-7, 8, 9)\n)\n</code></pre>\n\n<p>this is how I'd phrase the diagonal sums:</p>\n\n<pre><code>val mainDiagonalSum = input.indices\n        .map { input[it][it] }\n        .reduce(Int::plus)\nval counterDiagonalSum = input.indices\n        .map { input[input.size - 1 - it][it] }\n        .reduce(Int::plus)\n</code></pre>\n\n<p>Note that this is an improvement over your solution because it doesn't have to create the reversed array. It improves the time complexity from O(n<sup>2</sup>) to O(n).</p>\n\n<p>If you're dealing with large matrices, it would pay to reduce the space complexity from O(n) to O(1) as well, by using <code>fold</code> instead of <code>reduce</code>:</p>\n\n<pre><code>val mainDiagonalSum = input.indices\n        .fold(0) { sum, i -&gt; sum + input[i][i] }\nval counterDiagonalSum = input.indices\n        .fold(0) { sum, i -&gt; sum + input[input.size - 1 - i][i] }\n</code></pre>\n"}], "owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 52736826, "answer_count": 2, "score": 4, "last_activity_date": 1539172429, "creation_date": 1539161818, "last_edit_date": 1539164469, "question_id": 52736364, "link": "https://stackoverflow.com/questions/52736364/swift-enumerated-equivalent-in-kotlin", "title": "Swift enumerated equivalent in Kotlin", "body": "<p>In a 3x3 matrix representation, i can find the sum of both diagonals with one liners in <code>Swift</code> as below,</p>\n\n<pre><code>let array = [\n   [1, 2, 3],\n   [4, 5, 6],\n   [-7, 8, 9]\n]\nlet d1 = array.enumerated().map({ $1[$0] }).reduce(0, +)\nlet d2 = array.reversed().enumerated().map({ $1[$0] }).reduce(0, +)\nprint(d1) // prints 15\nprint(d2) // prints 1\n</code></pre>\n\n<p>I am able to find <code>map</code> and <code>reduce</code> equivalents in <code>Kotlin</code> as <code>flatMap</code> and <code>fold</code> but couldn't find for <code>enumerated</code>. </p>\n\n<p>How can we achieve similar with higher order functions in <code>Kotlin</code>?</p>\n"}, {"tags": ["xml", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1539162636, "post_id": 52736317, "comment_id": 92397879, "body": "You need to add an instance of the inner class to the outer one <code>class Outer { val inner = Inner() }</code>, The position of the definition of the <code>Inner</code>  class isn&#39;t actually relevant"}], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 9936828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ce36262d6ecc8862920c3f1c4bb6b0?s=128&d=identicon&r=PG&f=1", "display_name": "somethingsomething", "link": "https://stackoverflow.com/users/9936828/somethingsomething"}, "is_accepted": true, "score": 0, "last_activity_date": 1539164519, "creation_date": 1539164519, "answer_id": 52737195, "question_id": 52736317, "link": "https://stackoverflow.com/questions/52736317/nested-xml-response-in-spring-boot-with-kotlin/52737195#52737195", "title": "Nested xml response in spring boot with Kotlin", "body": "<p>I kept your model, but used jackson-dataformat-xml instead of JAXB and a GET request instead of POST:</p>\n\n<pre><code>@RestController\nclass Controller {\n\n    @GetMapping(\"/abc\")\n    fun registerByMail() : Outer {\n        return Outer()\n    }\n\n    @JacksonXmlRootElement\n    class Outer(val abc: Int = 1) {\n\n        @JacksonXmlProperty(localName = \"Inner\")\n        val inner = Inner(2)\n\n        data class Inner(val def: Int)\n    }\n}\n</code></pre>\n\n<p>Your mistake is that you didn't provide an instance of Inner, you just provide a class definition. I used a data class for inner (<a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/data-classes.html</a>), but you could also use a simple class, with primary constructor like I did.</p>\n"}], "owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 52737195, "answer_count": 1, "score": 0, "last_activity_date": 1539164519, "creation_date": 1539161670, "question_id": 52736317, "link": "https://stackoverflow.com/questions/52736317/nested-xml-response-in-spring-boot-with-kotlin", "title": "Nested xml response in spring boot with Kotlin", "body": "<p>I want a xml response of a POST request like this:</p>\n\n<pre><code>&lt;Outer&gt;\n    &lt;abc&gt;1&lt;/abc&gt;\n    &lt;Inner&gt;\n        &lt;def&gt;2&lt;/def&gt;\n    &lt;/Inner&gt;\n&lt;/Outer&gt;\n</code></pre>\n\n<p>but I'm getting this:</p>\n\n<pre><code>&lt;Outer&gt;\n    &lt;abc&gt;1&lt;/abc&gt;\n&lt;/Outer&gt;\n</code></pre>\n\n<p>Here is the code:</p>\n\n<p>Kotlin data class:</p>\n\n<pre><code>@XmlRootElement\nclass Outer {\n    val abc = 1\n    @XmlRootElement\n    class Inner {val def = 2}\n}\n</code></pre>\n\n<p>Kotlin Rest Controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/\")\nclass Controller {\n\n    @PostMapping(\"/abc\")\n    fun registerByMail() : Outer {\n        return Outer()\n    }\n}\n</code></pre>\n\n<p>Please tell me, where I'm doing wrong. I'm pretty new to both Kotlin and Spring-boot.</p>\n"}, {"tags": ["java", "maven", "kotlin", "spek"], "answers": [{"comments": [{"owner": {"reputation": 1505, "user_id": 2895833, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iPlgE.jpg?s=128&g=1", "display_name": "Xipo", "link": "https://stackoverflow.com/users/2895833/xipo"}, "edited": false, "score": 0, "creation_date": 1539333179, "post_id": 52771083, "comment_id": 92472651, "body": "No luck unfortunately"}], "tags": [], "owner": {"reputation": 108, "user_id": 2052339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120d3a2e1741f47cda30866934b97442?s=128&d=identicon&r=PG", "display_name": "EJG", "link": "https://stackoverflow.com/users/2052339/ejg"}, "is_accepted": false, "score": 0, "last_activity_date": 1539308775, "creation_date": 1539308775, "answer_id": 52771083, "question_id": 52735929, "link": "https://stackoverflow.com/questions/52735929/spek-tests-not-being-run-in-a-maven-java-project/52771083#52771083", "title": "Spek tests not being run in a maven Java project", "body": "<p>I know you've said that you have tried different versions but try surefire 2.19 and Junit-platform 1.1.0-M2.</p>\n\n<p>I had this same issue a while ago, and those worked for me.</p>\n"}], "owner": {"reputation": 1505, "user_id": 2895833, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iPlgE.jpg?s=128&g=1", "display_name": "Xipo", "link": "https://stackoverflow.com/users/2895833/xipo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539308775, "creation_date": 1539160435, "question_id": 52735929, "link": "https://stackoverflow.com/questions/52735929/spek-tests-not-being-run-in-a-maven-java-project", "title": "Spek tests not being run in a maven Java project", "body": "<p>I have an existing Java project in which I wish to introduce some Spec tests (in kotlin ofc)</p>\n\n<pre><code>class CalcSpec: Spek({\n    given(\"A calculator\") {\n        val calculator = Calculator()\n        on(\"Adding 3 and 5\") {\n            val result = calculator.sum(3, 5)\n            it(\"Produces 8\") {\n                org.junit.jupiter.api.Assertions.assertEquals(8, result)\n            }\n        }\n    }\n})\n</code></pre>\n\n<p>I have added the spek dependencies</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.spek&lt;/groupId&gt;\n            &lt;artifactId&gt;spek-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.spek&lt;/groupId&gt;\n            &lt;artifactId&gt;spek-junit-platform-engine&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And configured the kotlin-maven-plugin and maven-compiler-plugin as descibed here <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources</a><br>\n(ommiting the maven-compiler-plugin config from the question)</p>\n\n<pre><code>       &lt;build&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;process-test-sources&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;useManifestOnlyJar&gt;false&lt;/useManifestOnlyJar&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Spec.*&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n       ...\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have tried different versions of kotlin, spek, and the surefire plugin but with no luck until now. </p>\n\n<p>Every time I try to run the tests no Spek tests are being executed, even though they are in <code>target/test-classes</code>. (for the CalcSpec there are 5 .class files generated)</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1539157510, "post_id": 52735088, "comment_id": 92394957, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48668090/in-kotlin-how-can-i-take-the-first-n-elements-of-an-array\">In Kotlin, how can I take the first n elements of an array</a>"}, {"owner": {"reputation": 26340, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1539162992, "post_id": 52735088, "comment_id": 92398108, "body": "And what have you tired so far? please don&#39;t hesitate  to show your attempted code."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1539180867, "post_id": 52735088, "comment_id": 92409205, "body": "How is this question too broad? I agree that the question may have been a bit low effort, but it&#39;s certainly not too broad."}], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 5767802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26094d4149ff93c71bcb9cdfce1558a1?s=128&d=identicon&r=PG&f=1", "display_name": "greenHorn", "link": "https://stackoverflow.com/users/5767802/greenhorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1539157588, "creation_date": 1539157588, "answer_id": 52735150, "question_id": 52735088, "link": "https://stackoverflow.com/questions/52735088/take-next-several-items-from-arraylist/52735150#52735150", "title": "Take next several items from arraylist", "body": "<p>In Java, you can use the sublist method to get the elements from the list - by specifying the indexFrom - indexTo\nsubList(int fromIndex, int toIndex)</p>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1539157597, "creation_date": 1539157597, "answer_id": 52735153, "question_id": 52735088, "link": "https://stackoverflow.com/questions/52735088/take-next-several-items-from-arraylist/52735153#52735153", "title": "Take next several items from arraylist", "body": "<p>You can use the <code>chunked</code> function. It turns the list into a list of chunks with the specified size.</p>\n\n<p>Like this:</p>\n\n<pre><code>list.chunked(10)\n    .forEach { chunk -&gt;\n        // Do your stuff\n    }\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4929268, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/eea5248f66ba465cdf059185755714ef?s=128&d=identicon&r=PG&f=1", "display_name": "Mishel", "link": "https://stackoverflow.com/users/4929268/mishel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1539164312, "accepted_answer_id": 52735153, "answer_count": 2, "score": -4, "last_activity_date": 1539157597, "creation_date": 1539157345, "question_id": 52735088, "link": "https://stackoverflow.com/questions/52735088/take-next-several-items-from-arraylist", "closed_reason": "Needs more focus", "title": "Take next several items from arraylist", "body": "<p>I wish to take first 10 items from array list, then after some action take 10 more (for inserting it in android view list). Is it possible in kotlin/java?</p>\n"}, {"tags": ["types", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1539157378, "post_id": 52735045, "comment_id": 92394880, "body": "I&#39;m not sure that&#39;s possible. It might be easier to write 2 fun signatures that both call another fun that does the dialog stuff"}, {"owner": {"reputation": 884, "user_id": 7541374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd9cd55e47852725f6b6fd36fb9bc34?s=128&d=identicon&r=PG&f=1", "display_name": "Sasha Tsukanov", "link": "https://stackoverflow.com/users/7541374/sasha-tsukanov"}, "edited": false, "score": 0, "creation_date": 1539159862, "post_id": 52735045, "comment_id": 92396255, "body": "If you are familiar with Scala&#39;s Either, than you can use this implementation for Kotlin <a href=\"https://github.com/adelnizamutdinov/kotlin-either\" rel=\"nofollow noreferrer\">github.com/adelnizamutdinov/kotlin-either</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1539164940, "post_id": 52735045, "comment_id": 92399329, "body": "<code>setTitle(Int)</code> and <code>setTitile(String)</code> are actually two different methods that happen to share the same name. What you propose would be ambiguous because it would have to call different methods depending on what you call it with."}], "answers": [{"tags": [], "owner": {"reputation": 3533, "user_id": 3923929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiLVo.jpg?s=128&g=1", "display_name": "Durdu", "link": "https://stackoverflow.com/users/3923929/durdu"}, "is_accepted": false, "score": 0, "last_activity_date": 1539157601, "creation_date": 1539157601, "answer_id": 52735154, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string/52735154#52735154", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<p>You could use <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">Generics</a> to have the same method, and check the type in the method body. </p>\n\n<p>Or have two different methods.</p>\n"}, {"tags": [], "owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "is_accepted": false, "score": 6, "last_activity_date": 1539163662, "creation_date": 1539163662, "answer_id": 52736927, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string/52736927#52736927", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<p>You can't do that in Kotlin.</p>\n\n<p>But you can have multiple versions of a function, e.g.</p>\n\n<pre><code>object UIBehavior {\n    fun dialog(context: Context, titleId: Int, messageId: Int){\n        val titleString = context.getString(titleId)\n        val messageString = context.getString(messageId)\n        dialog(context, titleString, messageString)\n    }\n\n    fun dialog(context: Context, title: String, message: String) {\n        val dialogObj = AlertDialog.Builder(context)\n        dialogObj.setTitle(title)\n        dialogObj.setMessage(message)\n    }\n}\n</code></pre>\n\n<p>That way you can simply call the function with either ids or strings and it looks like you are using the same function</p>\n\n<pre><code>UIBehavior.dialog(this, R.string.title, R.string.message)\nUIBehavior.dialog(this, \"title\", \"message\")\n</code></pre>\n\n<p>You could also use a common supertype of <code>Int</code> and <code>String</code> but that would allow a lot more and I wouldn't recommend that.</p>\n\n<pre><code>fun dialog(context: Context, title: Any, messageId: Any){\n    val titleString = when (title) {\n        is String -&gt; title\n        is Int -&gt; context.getString(title)\n        else -&gt; throw IllegalArgumentException(\"Unsupported type\")\n    }\n    val messageString = when ...\n       ...\n    dialog(context, titleString, messageString)\n}\n</code></pre>\n\n<p>Generics don't work here either because you can't call <code>dialogObj.setTitle(title)</code> dynamically. It must be known at compile time whether you want to call the <code>Int</code> or the <code>String</code> overload of that function. It's also not really different from using <code>Any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 2739849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b21dc3d79e9d03b8d1b4db42f66b2e6?s=128&d=identicon&r=PG&f=1", "display_name": "Sjolfr", "link": "https://stackoverflow.com/users/2739849/sjolfr"}, "is_accepted": false, "score": 0, "last_activity_date": 1539165320, "creation_date": 1539165320, "answer_id": 52737463, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string/52737463#52737463", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<p>You could use Any, but I don't think it is a very nice solution at all. </p>\n\n<p>It would be much better to make both the title and message a String or CharSequence in line with the types setTitle and setMessage take as parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 294, "user_id": 6266939, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RM8iIMPjNA/AAAAAAAAAAI/AAAAAAAAADs/l4Tf2ipi50g/photo.jpg?sz=128", "display_name": "lam", "link": "https://stackoverflow.com/users/6266939/lam"}, "is_accepted": false, "score": 0, "last_activity_date": 1539223877, "creation_date": 1539223877, "answer_id": 52751156, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string/52751156#52751156", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<p>Thank you guys, I was writing codes </p>\n\n<pre><code>interface DialogOption {\n    val title: Any\n    val message: Any\n    val positiveBtnTxt: Any\n    val negativeBtnTxt: Any\n    fun confirm(d: DialogInterface, n: Int) {\n        d.dismiss()\n    }\n    fun cancel(d: DialogInterface, n: Int) {\n        d.dismiss()\n    }\n\n}\n\nobject UIBehavior {\n    fun dialog(context: Context, opt: DialogOption) {\n        val dialogObj = AlertDialog.Builder(context)\n        val title = opt.title\n        val message = opt.message\n        val poTxt = opt.positiveBtnTxt\n        val negTxt = opt.negativeBtnTxt\n        fun positiveCallback(d: DialogInterface, n: Int) {\n            opt.confirm(d, n)\n        }\n\n        fun negativeCallback(d: DialogInterface, n: Int) {\n            opt.cancel(d, n)\n        }\n\n        if (title is String) {\n            dialogObj.setTitle(title)\n        } else if (title is Int) {\n            dialogObj.setTitle(title)\n        }\n        if (message is String) {\n            dialogObj.setMessage(message)\n        } else if (message is Int) {\n            dialogObj.setMessage(message)\n        }\n        if (poTxt is String) {\n            dialogObj.setPositiveButton(poTxt, ::positiveCallback)\n        } else if (poTxt is Int) {\n            dialogObj.setPositiveButton(poTxt, ::positiveCallback)\n        }\n        if ( negTxt is String) {\n            dialogObj.setNegativeButton(negTxt, ::negativeCallback)\n        } else if (negTxt is Int) {\n            dialogObj.setNegativeButton(negTxt, ::negativeCallback)\n        }\n\n        dialogObj.show()\n    }\n}\n</code></pre>\n\n<p>It works but not sure if it's reasonable</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 8127936, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0Q1oQVQTXS4/AAAAAAAAAAI/AAAAAAAAAFw/6mUKKYG-m9M/photo.jpg?sz=128", "display_name": "Arhan Ashik", "link": "https://stackoverflow.com/users/8127936/arhan-ashik"}, "is_accepted": false, "score": 1, "last_activity_date": 1582852434, "creation_date": 1582852434, "answer_id": 60443971, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string/60443971#60443971", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<ol>\n<li>Generics can be the solution for you.</li>\n</ol>\n\n<pre><code>fun &lt;T&gt;dialog(context: Context, title: T, message: T){\n   if(title !is String || title !is Int) throw InvalidParameterException()\n   val dialogObj = AlertDialog.Builder(context)\n   dialogObj.setTitle(title)\n   dialogObj.setMessage(message)\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Also using Any can be a solution too:</li>\n</ol>\n\n<pre><code>fun dialog(context: Context, title: Any, message: Any){\n   if(title !is String || title !is Int) throw InvalidParameterException()\n   val dialogObj = AlertDialog.Builder(context)\n   dialogObj.setTitle(title)\n   dialogObj.setMessage(message)\n}\n</code></pre>\n"}], "owner": {"reputation": 294, "user_id": 6266939, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RM8iIMPjNA/AAAAAAAAAAI/AAAAAAAAADs/l4Tf2ipi50g/photo.jpg?sz=128", "display_name": "lam", "link": "https://stackoverflow.com/users/6266939/lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6090, "favorite_count": 0, "answer_count": 5, "score": 4, "last_activity_date": 1582852434, "creation_date": 1539157197, "question_id": 52735045, "link": "https://stackoverflow.com/questions/52735045/how-to-declare-a-variable-with-two-types-in-kotlin-like-val-x-int-or-string", "title": "How to declare a variable with two types in Kotlin, like val x: Int or String", "body": "<p>I'm gonna write a method like:</p>\n\n<pre><code>object UIBehavior {\n   fun dialog(context: Context, title: Int | String, message: Int | String){\n     val dialogObj = AlertDialog.Builder(context)\n     dialogObj.setTitle(title)\n     dialogObj.setMessage(message)\n   }\n}\n</code></pre>\n\n<p>The methods <em>dialogObj.setTitle</em> and <em>dialogObj.setMessage</em> allow two types of parameters, and how can I delare the parameter that can let the method <em>dialog</em> allow only two types Int and String?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1539156817, "post_id": 52734903, "comment_id": 92394595, "body": "Suggested reading: <a href=\"https://github.com/ReactiveX/RxJava/wiki/Creating-Observables\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava/wiki/Creating-Observables</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6614897, "user_type": "registered", "profile_image": "https://graph.facebook.com/1115686988494879/picture?type=large", "display_name": "Ant&#243;nio Vieira", "link": "https://stackoverflow.com/users/6614897/ant%c3%b3nio-vieira"}, "edited": false, "score": 0, "creation_date": 1539161414, "post_id": 52735769, "comment_id": 92397098, "body": "So basically for each insert in my db instead of using <code>Completable</code> I create an <code>Action</code>. And when the first finishes I do the other <code>Completable.fromAction()</code>? Because I need to ensure the second is triggered after the first finishes because of the foreign keys."}, {"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "reply_to_user": {"reputation": 43, "user_id": 6614897, "user_type": "registered", "profile_image": "https://graph.facebook.com/1115686988494879/picture?type=large", "display_name": "Ant&#243;nio Vieira", "link": "https://stackoverflow.com/users/6614897/ant%c3%b3nio-vieira"}, "edited": false, "score": 0, "creation_date": 1539163111, "post_id": 52735769, "comment_id": 92398190, "body": "Yes, something like that. Using <code>andThen()</code>, <code>flatMap()</code> and other operators you can chain your actions."}], "tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": true, "score": 4, "last_activity_date": 1539159880, "creation_date": 1539159880, "answer_id": 52735769, "question_id": 52734903, "link": "https://stackoverflow.com/questions/52734903/rxjava2-completable-never-ends/52735769#52735769", "title": "RxJava2- Completable never ends", "body": "<p>If you use <code>Completable.create()</code>, you need manually trigger <code>onComplete()|onError()</code> inside block passed to function. \nIn your case you can use <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Completable.html#fromCallable-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\"><code>Completable.fromCallable()</code></a> or <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Completable.html#fromAction-io.reactivex.functions.Action-\" rel=\"nofollow noreferrer\"><code>Completable.fromAction()</code></a></p>\n"}], "owner": {"reputation": 43, "user_id": 6614897, "user_type": "registered", "profile_image": "https://graph.facebook.com/1115686988494879/picture?type=large", "display_name": "Ant&#243;nio Vieira", "link": "https://stackoverflow.com/users/6614897/ant%c3%b3nio-vieira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 52735769, "answer_count": 1, "score": 1, "last_activity_date": 1539159880, "creation_date": 1539156690, "question_id": 52734903, "link": "https://stackoverflow.com/questions/52734903/rxjava2-completable-never-ends", "title": "RxJava2- Completable never ends", "body": "<p>I'm new to the rxjava world and trying to implement the following scenario.</p>\n\n<p>Basically I want to make an api call and then save the info in the database in order to the next time I launch the app it loads the data from the db. So to achieve this I created a completable for each insert in the database and then whenever it finishes it notifies me in the UI. But the thing is it never ends.</p>\n\n<p>My api call:</p>\n\n<pre><code>fun getConversation(): Single&lt;ConversationResponse&gt;\n</code></pre>\n\n<p>It returns a a list of users and a list of messages</p>\n\n<p>My inserts in the db:</p>\n\n<pre><code>fun insertUsers(users: List&lt;User&gt;) = Completable\n        .create { usersDao.addUsers(users) }\n\nfun insertMessages(messages: List&lt;Message&gt;) = Completable\n        .create { messagesDao.addMessages(messages) }\n</code></pre>\n\n<p>Then I make the api call and insert the data</p>\n\n<pre><code>fun getMessagesFromApi(): Completable {\n\n    return conversationService.getConversation()\n            .flatMapCompletable {\n                conversationCache.insertUsers(it.users)\n                        .doOnComplete { Log.d(\"ConversationActivity\", \"Insert users\") }\n                        .andThen(conversationCache.insertMessages(it.messages)\n                                .doOnComplete { Log.d(\"ConversationActivity\", \"Insert messages\") })\n            }\n</code></pre>\n\n<p>Then in my activity</p>\n\n<pre><code>conversationRepository.getMessagesFromApi()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(object : DisposableCompletableObserver() {\n                override fun onStart() {\n                    Log.d(\"ConversationActivity\", \"onStart\")\n                }\n\n                override fun onComplete() {\n                    Log.d(\"ConversationActivity\", \"onComplete\")\n                    mvpView?.loadedInfo()\n                }\n\n                override fun onError(e: Throwable) {\n                    Log.d(\"ConversationActivity\", \"onError: $e.message\")\n                }\n            })\n</code></pre>\n\n<p>In my logs I only see <code>D/ConversationActivity: onStart</code></p>\n\n<p>Why is this happening? Can someone give me some tips or telling me what I'm doing wrong? It would be very helpful!!!</p>\n"}, {"tags": ["java", "spring", "tomcat", "kotlin", "war"], "answers": [{"tags": [], "owner": {"reputation": 1071, "user_id": 5676765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C6NIG.jpg?s=128&g=1", "display_name": "Neeraj Benjwal", "link": "https://stackoverflow.com/users/5676765/neeraj-benjwal"}, "is_accepted": true, "score": 0, "last_activity_date": 1539164571, "last_edit_date": 1539164571, "creation_date": 1539161338, "answer_id": 52736207, "question_id": 52734290, "link": "https://stackoverflow.com/questions/52734290/tomcat-cant-run-war/52736207#52736207", "title": "Tomcat cant run war", "body": "<p><strong>[JAR file]</strong></p>\n\n<p>You are missing imports in controller.</p>\n\n<p>put below imports in your controller.</p>\n\n<pre><code>package com.example.demo\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n</code></pre>\n\n<p>now remove the plugin <code>apply plugin: 'war'</code> and build project using <code>gradlew build</code></p>\n\n<p>it will create a jar file inside <strong>app_name\\build\\libs</strong></p>\n\n<p>open this location in command prompt and run below command.</p>\n\n<pre><code>java -jar &lt;jar_file_name&gt;.java\n</code></pre>\n\n<p>open application using below url.</p>\n\n<pre><code>http://localhost:8080\n</code></pre>\n\n<p><strong>[WAR file]</strong></p>\n\n<p>extend SpringBootServletInitializer as below</p>\n\n<pre><code>import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n@SpringBootApplication\nclass DemoApplication : SpringBootServletInitializer()\n</code></pre>\n\n<p>put the plugin <code>apply plugin: 'war'</code> and build project using <code>gradlew build</code></p>\n\n<p>now inside <strong>app_name\\build\\libs</strong> it will create a war file.</p>\n\n<p>deploy this war to tomcat server and access using below URL:</p>\n\n<pre><code>http://localhost:8080/demo-0.0.1-SNAPSHOT/\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 7060111, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh3.googleusercontent.com/-p_HlmRRpOOc/AAAAAAAAAAI/AAAAAAAAADg/L4wLI4Ic1ns/photo.jpg?sz=128", "display_name": "Ivan Salosin", "link": "https://stackoverflow.com/users/7060111/ivan-salosin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 52736207, "answer_count": 1, "score": 0, "last_activity_date": 1539164571, "creation_date": 1539154305, "question_id": 52734290, "link": "https://stackoverflow.com/questions/52734290/tomcat-cant-run-war", "title": "Tomcat cant run war", "body": "<p>I downloaded demo webapp from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> (gradle kotlin project).\nAdded 2 controllers for '/' and '/test' just to test if everything is OK.\nHere is the code:</p>\n\n<pre><code>@Controller\nclass IndexController {\n\n@ResponseBody\n@GetMapping(\"/\")\nfun main() : String {\n    return \"Hello World\"\n}\n\n\n\n@Controller\nclass TestController {\n\n@ResponseBody\n@GetMapping(\"/test\")\nfun main() : String {\n    return \"test\"\n}\n</code></pre>\n\n<p>Then i added war plugin to gradle </p>\n\n<pre><code>apply plugin: 'war'\n</code></pre>\n\n<p>Then i print to terminal </p>\n\n<pre><code>gradlew build\n</code></pre>\n\n<p>and in build/libs found .war file.\nI deployed it to locat Tomcat, but </p>\n\n<pre><code>http://localhost:8080/demo-0.0.1-SNAPSHOT/\nhttp://localhost:8080/demo-0.0.1-SNAPSHOT/test\n</code></pre>\n\n<p>respond with 404 error.</p>\n\n<p>In IDEA i can easy start my app and see Hello World and test.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1539153443, "post_id": 52733812, "comment_id": 92392859, "body": "@IntelliJAmiya That was a typo when I type on StackOverflow. Edited."}], "answers": [{"comments": [{"owner": {"reputation": 2242, "user_id": 2184088, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/6l6Ci.png?s=128&g=1", "display_name": "Juan Mendez", "link": "https://stackoverflow.com/users/2184088/juan-mendez"}, "edited": false, "score": 1, "creation_date": 1564792229, "post_id": 53608260, "comment_id": 101158879, "body": "a work around solution, but not as clean as using <code>@JvmSuppressWildcards</code>"}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 2, "last_activity_date": 1543910622, "creation_date": 1543910622, "answer_id": 53608260, "question_id": 52733812, "link": "https://stackoverflow.com/questions/52733812/android-room-dao-interface-does-not-work-with-inheritance/53608260#53608260", "title": "Android room DAO interface does not work with inheritance", "body": "<p>This seems like it is limitation of the Room library. You can work around it like the following.</p>\n\n<pre><code>@Dao\ninterface FooDao {\n    @Query(\"SELECT * FROM foo WHERE bar = :bar\")\n    fun get(bar: Int): List&lt;Foo&gt;\n\n    @Transaction\n    fun getSpecialFoo(): List&lt;Foo&gt; {\n        return get(1)\n    }\n}\n\nfun FooDao.wrapper(): Marker&lt;Foo&gt; {\n    return Wrapper(this)\n}\n\n\nprivate class Wrapper(private val dao: FooDao): Marker&lt;Foo&gt; {\n    override fun getSpecialFoo() = dao.getSpecialFoo()\n}\n</code></pre>\n\n<p>When you need it to be <code>Marker&lt;Foo&gt;</code>, you can <code>wrapper()</code> to create a wrapper which implement <code>Marker&lt;Foo&gt;</code> by the <code>dao</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2242, "user_id": 2184088, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/6l6Ci.png?s=128&g=1", "display_name": "Juan Mendez", "link": "https://stackoverflow.com/users/2184088/juan-mendez"}, "edited": false, "score": 0, "creation_date": 1564792144, "post_id": 56221074, "comment_id": 101158863, "body": "top best answer. i wouldn&#39;t to write a wrapper around a DAO if this is a straight and simple answer."}, {"owner": {"reputation": 387, "user_id": 10330688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xaRPTrka0-M/AAAAAAAAAAI/AAAAAAAAMDE/_BGRUYBOinU/photo.jpg?sz=128", "display_name": "LIFED", "link": "https://stackoverflow.com/users/10330688/lifed"}, "edited": false, "score": 1, "creation_date": 1571731566, "post_id": 56221074, "comment_id": 103328182, "body": "Tip: if your BaseDao has @Transaction annotated methods then you need to make your <code>ConcreteClassDao</code> not an interface, but an abstract class."}], "tags": [], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "is_accepted": false, "score": 17, "last_activity_date": 1558355382, "creation_date": 1558355382, "answer_id": 56221074, "question_id": 52733812, "link": "https://stackoverflow.com/questions/52733812/android-room-dao-interface-does-not-work-with-inheritance/56221074#56221074", "title": "Android room DAO interface does not work with inheritance", "body": "<p>You can solve it.</p>\n\n<p>The issue is not in room restrictions, but in kotlin implementation itself. You are using generic collection method, which by default is processed to <code>List&lt;? extends T&gt;</code> java implementation, but overridden method has <code>List&lt;Foo&gt;</code> return type. Room generator matches method signature and can't find implemented method with same signature, so you get </p>\n\n<blockquote>\n  <p>An <strong>abstract</strong> DAO method must be annotated with one and only one of\n  the following annotations</p>\n</blockquote>\n\n<p>The solution is just annotate method parameter in interface with <code>@JvmSuppressWildcards</code>:</p>\n\n<p><code>fun getSpecialFoo(): List&lt;@JvmSuppressWildcards T&gt;</code></p>\n"}], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2076, "favorite_count": 0, "accepted_answer_id": 53608260, "answer_count": 2, "score": 12, "last_activity_date": 1558355382, "creation_date": 1539152434, "last_edit_date": 1539153403, "question_id": 52733812, "link": "https://stackoverflow.com/questions/52733812/android-room-dao-interface-does-not-work-with-inheritance", "title": "Android room DAO interface does not work with inheritance", "body": "<pre><code>interface Marker&lt;T : BaseFoo&gt; {\n    fun getSpecialFoo(): List&lt;T&gt;\n}\n\n@Dao\ninterface FooDao: Marker&lt;Foo&gt; {\n    @Query(\"SELECT * FROM foo WHERE bar = :bar\")\n    fun get(bar: Int): List&lt;Foo&gt;\n\n    @Transaction\n    override fun getSpecialFoo(): List&lt;Foo&gt; {\n        return get(1)\n    }\n}\n</code></pre>\n\n<p>This results in </p>\n\n<blockquote>\n  <p>An abstract DAO method must be annotated with one and only one of the following annotations: Insert,Delete,Query,Update,RawQuery</p>\n</blockquote>\n\n<p>However, <code>Marker</code> is not marked with <code>@Dao</code> and <code>FooDao</code> override <code>getSpecialFoo</code> already. Why does this error still show?</p>\n\n<p>I need <code>Marker</code> because I need a generic DAO that has some methods. Is there a way to work around this?</p>\n\n<p>The only way I can think of is marking the dao to <code>Any</code> and cast the type runtime or build a wrapper for the DAO.</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "android-tablayout"], "comments": [{"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539147574, "post_id": 52732708, "comment_id": 92390620, "body": "FYI, you should not keep any instance of your fragments anywhere because it&#39;s the adapters duty to create and manage them."}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539148084, "post_id": 52732708, "comment_id": 92390751, "body": "okay but i dont have any instance in my fragment"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539148261, "post_id": 52732708, "comment_id": 92390800, "body": "I mean you should create fragments inside <code>getItem</code> method of <code>FragmentStatePagerAdapter</code>"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539148556, "post_id": 52732708, "comment_id": 92390884, "body": "okay but i need to pass the some of args through fragment so i dont have that values inside the <code>getItem</code>"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539149790, "post_id": 52732708, "comment_id": 92391271, "body": "it should be something like this: <a href=\"https://gist.github.com/mostafa-hz/dc006f55ed2d31acfb2114852f26294b\" rel=\"nofollow noreferrer\">gist.github.com/mostafa-hz/dc006f55ed2d31acfb2114852f26294b</a>"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539150425, "post_id": 52732708, "comment_id": 92391508, "body": "okay now i can pass like this,  override fun getItem(position: Int): Fragment { ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragme&zwnj;&#8203;ntnetwork)         }"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539150443, "post_id": 52732708, "comment_id": 92391516, "body": "how to return more then one fragment"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539150526, "post_id": 52732708, "comment_id": 92391556, "body": "I&#39;ve updated the gist, take a look again"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539152890, "post_id": 52732708, "comment_id": 92392614, "body": "it does not work"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539156853, "post_id": 52732708, "comment_id": 92394621, "body": "i get the error when i implement the gis of your code"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539157116, "post_id": 52732708, "comment_id": 92394750, "body": "what is the error?"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539161560, "post_id": 52732708, "comment_id": 92397187, "body": "no errorr it does not  work .  check my update code"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539162164, "post_id": 52732708, "comment_id": 92397573, "body": "dude, I think <code>addFragment</code> is returning <code>Unit</code>, just simply return <code>ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragme&zwnj;&#8203;ntnetwork)</code> inside <code>if else</code>"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539162853, "post_id": 52732708, "comment_id": 92398017, "body": "bro, Ihave tried this alredy as per you said  if (position == 0) {                 val tab1 = ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragme&zwnj;&#8203;ntnetwork)                 return tab1             } else {                 val tab2 = SendingFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragme&zwnj;&#8203;ntnetwork)                 return tab2             }                          it shows only one tab (sometimes first tab, some times secound tab )"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539163020, "post_id": 52732708, "comment_id": 92398130, "body": "in that case <code>getCount</code> should return 2"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539163313, "post_id": 52732708, "comment_id": 92398341, "body": "okay i tried this but TABs not show"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539166561, "post_id": 52732708, "comment_id": 92400336, "body": "any other way? to fix this"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1539168066, "post_id": 52732708, "comment_id": 92401228, "body": "java.lang.IllegalStateException: The application&#39;s PagerAdapter changed the adapter&#39;s contents without calling PagerAdapter#notifyDataSetChanged! Expected adapter item count: 1, found: 3 Pager id: com.crypto.wallet:id/viewpager Pager class: class android.support.v4.view.ViewPager Problematic adapter: class com.crypto.wallet.activities.MainActivity$ViewPagerAdapter"}], "owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539162119, "creation_date": 1539146229, "last_edit_date": 1539162119, "question_id": 52732708, "link": "https://stackoverflow.com/questions/52732708/how-to-update-viewpager-with-new-content-using-kotlin", "title": "How to update viewpager with new content using Kotlin?", "body": "<p>I have an app, it developed in Kotlin.One of my activity contain Tab layout with viewpager(e.g send ad receive).In Send tab contains data like A,B,C. In Receive tab 1,2,3. All the data from database. i want to update my viewpaer/tabview with new data(like D,E,F .. an 4,5,6.....).\ni tries few methods but does not work.</p>\n\n<blockquote>\n  <p>Note: I dont want to refresh the tablayout with old data because it works. i need only how to bind new data.when i close the app and open again it will update with new data but it does not work without close app.</p>\n</blockquote>\n\n<pre><code>private fun setupViewPager(viewPager: ViewPager, it: List&lt;TransactionEntity&gt;?, incoming: TransactionAdapterDirection) {\n\n            if (incoming.equals(OUTGOING)) {\n                adapter.addFragment(SendingFragment(it!!, appDatabase, OUTGOING, networkDefinitionProvider), \"SEND\")\n                adapter.notifyDataSetChanged() //KK\n            } else if (incoming.equals(INCOMING)) {\n                adapter.addFragment(ReceiveFragment(it!!, appDatabase, INCOMING, networkDefinitionProvider), \"RECEIVE\")\n                adapter.notifyDataSetChanged() //KK\n            }\n\n            viewPager.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n\n                override fun onPageScrollStateChanged(state: Int) {\n                }\n\n                override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n\n                }\n                override fun onPageSelected(position: Int) {\n\n\n                }\n\n            })\n\n            viewPager.adapter = adapter\n    }\n\n\n    inner class ViewPagerAdapter(manager: FragmentManager) : FragmentStatePagerAdapter(manager) {\n        private val mFragmentList = ArrayList&lt;Fragment&gt;()\n        private val mFragmentTitleList = ArrayList&lt;String&gt;()\n\n        override fun getItem(position: Int): Fragment {\n            return mFragmentList[position]\n        }\n\n        override fun getCount(): Int {\n            return mFragmentList.size\n        }\n\n        fun addFragment(fragment: Fragment, title: String) {\n            mFragmentList.add(fragment)\n            mFragmentTitleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence {\n            return mFragmentTitleList[position]\n        }\n\n        override fun getItemPosition(`object`: Any): Int {\n            return PagerAdapter.POSITION_NONE\n        }\n    }\n</code></pre>\n\n<p>UPDATE :</p>\n\n<pre><code>override fun getItem(position: Int): Fragment {\n\n            if(this.count &lt; 3) {\n                mFragmentList.add(ReceiveFragment(mfragmentIT, mfragmentAB, mfragmentINC, mfragmentnetwork))\n                mFragmentList.add(SendingFragment(mfragmentIT, mfragmentAB, mfragmentINC, mfragmentnetwork))\n                for (i in 1..3) {\n                    println(i)\n                }\n            }\n            return mFragmentList.get(i)\n        }\n</code></pre>\n\n<p>UPDATE 2:</p>\n\n<pre><code>override fun getItem(position: Int): Fragment {\n            if (position == 0) {\n                val tab1 = this.addFragment(com.crypto.wallet.activities.ReceiveFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragmentnetwork), \"RECEIVE\")\n                return tab1 as Fragment\n            } else {\n                val tab2 = this.addFragment(com.crypto.wallet.activities.SendingFragment(mfragmentIT,mfragmentAB,mfragmentINC,mfragmentnetwork), \"SEND\")\n                return tab2 as Fragment\n            }\n        }\n</code></pre>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539155944, "post_id": 52732247, "comment_id": 92394123, "body": "What you&#39;ve generated is a multiplatform library. To generate a Kotlin/Native project, use Kotlin 1.3 RC and select Kotlin/Native as the project type."}, {"owner": {"reputation": 444, "user_id": 7309055, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/88b6479ed1d4e06ac31c3b477dc55921?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksandr", "link": "https://stackoverflow.com/users/7309055/aleksandr"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539179667, "post_id": 52732247, "comment_id": 92408458, "body": "So the current Kotlin 1.2.71 doesn&#39;t support native compiling? I select <code>Create new Project -&gt; Kotlin -&gt; Kotlin (Multiplatform-Experimental)</code>"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1539192629, "post_id": 52732247, "comment_id": 92416270, "body": "No, it doesn&#39;t. Before 1.3, Kotlin/Native is a separate release with a separate plugin, only supporting CLion and AppCode."}, {"owner": {"reputation": 444, "user_id": 7309055, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/88b6479ed1d4e06ac31c3b477dc55921?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksandr", "link": "https://stackoverflow.com/users/7309055/aleksandr"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539192983, "post_id": 52732247, "comment_id": 92416426, "body": "Understood. Well, I am excited for 1.3 then!"}], "owner": {"reputation": 444, "user_id": 7309055, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/88b6479ed1d4e06ac31c3b477dc55921?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksandr", "link": "https://stackoverflow.com/users/7309055/aleksandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539142676, "creation_date": 1539142676, "question_id": 52732247, "link": "https://stackoverflow.com/questions/52732247/what-is-the-proper-gradle-setup-for-a-kotlin-project-to-compile-to-macosx", "title": "What is the proper Gradle setup for a Kotlin Project to compile to MacOSX?", "body": "<p>I am having difficulty combing through the Kotlinlang and Gradle documentation. There seems to be a confusing mix of examples on how to make a native compiling kotlin project. I was looking at this tutorial: </p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/native/gradle-for-kotlin-native.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/native/gradle-for-kotlin-native.html</a></p>\n\n<p>but it seems to be wildly different from this other gradle setup:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies</a></p>\n\n<p>I generated a new <code>Kotlin-native-common</code> project in Intellij and the resulting auto-generated build script looks like this:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'kotlin-platform-common' version '1.2.71'\n}\n\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-common\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-annotations-common\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-common\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>The above build-script doesn't look like the examples given in the above tutorials. What exactly should this build-script look like to compile to MacOSX native and why does the tutorial example show using <code>konan</code> for native compiling while the auto-generated script does not?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-workmanager"], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 6, "last_activity_date": 1539149899, "creation_date": 1539149899, "answer_id": 52733266, "question_id": 52732226, "link": "https://stackoverflow.com/questions/52732226/how-to-change-periodic-work-request-period-without-it-running-immediately-using/52733266#52733266", "title": "How to change periodic work request period without it running immediately using WorkManager?", "body": "<p>There is no way to do exactly what you want with periodic work in a clean way.</p>\n\n<p>However, there's absolutely no need to use periodic work itself. The same structure can be easily accomplished by scheduling the next WorkRequest at the end of your <code>doWork</code> method, right before returning <code>Result.SUCCESS</code>:</p>\n\n<pre><code>fun doWork(): Result {\n  reallyDoWork()\n  // Now schedule the next \"periodic\" work\n  val request = OneTimeWorkRequestBuilder&lt;FooWorker&gt;().build()\n  WorkManager.getInstance().enqueueUniqueWork(\n    \"FOO\",\n    ExistingWorkPolicy.REPLACE,\n    request\n  )\n  return Result.SUCCESS\n}\n</code></pre>\n\n<p>With this setup, your <code>onCreate()</code> of <code>Application</code> can safely use <code>ExistingWorkPolicy.KEEP</code> to avoid rescheduling work if you already have a WorkRequest queued up and when that queued up work fires, the next WorkRequest will be queued up with the appropriate new period.</p>\n"}, {"tags": [], "owner": {"reputation": 20791, "user_id": 1597833, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0953d434c345c978e47a9970eceabd36?s=128&d=identicon&r=PG", "display_name": "meh", "link": "https://stackoverflow.com/users/1597833/meh"}, "is_accepted": false, "score": 3, "last_activity_date": 1564157982, "last_edit_date": 1564157982, "creation_date": 1554914342, "answer_id": 55617465, "question_id": 52732226, "link": "https://stackoverflow.com/questions/52732226/how-to-change-periodic-work-request-period-without-it-running-immediately-using/55617465#55617465", "title": "How to change periodic work request period without it running immediately using WorkManager?", "body": "<p>Looks like there is a way to replace a periodic work now with <a href=\"https://developer.android.com/reference/androidx/work/WorkManager.html#enqueueUniquePeriodicWork(java.lang.String,%20androidx.work.ExistingPeriodicWorkPolicy,%20androidx.work.PeriodicWorkRequest)\" rel=\"nofollow noreferrer\">enqueueUniquePeriodicWork</a>.</p>\n\n<pre><code>  val request = PeriodicWorkRequest.Builder(FooWorker::class.java, 1, TimeUnit.DAYS).build()\n  WorkManager.getInstance(appContext)\n  .enqueueUniquePeriodicWork(WORK_TAG, ExistingPeriodicWorkPolicy.REPLACE, request)\n</code></pre>\n\n<p>Make sure you are passing <code>ExistingPeriodicWorkPolicy</code> instead of <code>ExistingWorkPolicy</code></p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 5161373, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-alKM5uhjbuc/AAAAAAAAAAI/AAAAAAAAAM4/t5DM_iWJMKo/photo.jpg?sz=128", "display_name": "\u0160emsudin Tafilovi\u0107", "link": "https://stackoverflow.com/users/5161373/%c5%a0emsudin-tafilovi%c4%87"}, "is_accepted": false, "score": 2, "last_activity_date": 1601160766, "last_edit_date": 1601160766, "creation_date": 1601160327, "answer_id": 64083178, "question_id": 52732226, "link": "https://stackoverflow.com/questions/52732226/how-to-change-periodic-work-request-period-without-it-running-immediately-using/64083178#64083178", "title": "How to change periodic work request period without it running immediately using WorkManager?", "body": "<p>If you want to use <code>ExistingPeriodicWorkPolicy.KEEP</code> and to update PeriodicWorkRequest only when you want to change repeat interval, there is no solution from WorkManager, but you can save interval in sharedPreferences and check if interval was changed. And based on that to use <code>ExistingPeriodicWorkPolicy.KEEP</code> or <code>ExistingPeriodicWorkPolicy.REPLACE</code></p>\n<pre><code>public static void enqueue(Context context) {\n        Log.d(TAG, &quot;enqueue()&quot;);\n        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context);\n        int repeatInterval = sharedPreferences.getInt(&quot;REPEAT_INTERVAL_HOURS&quot;, 0);\n\n        PeriodicWorkRequest periodicWorkRequest = new PeriodicWorkRequest\n            .Builder(FooWorker.class, REPEAT_INTERVAL_HOURS, TimeUnit.HOURS)\n            .build();\n\n        ExistingPeriodicWorkPolicy policy = repeatInterval == REPEAT_INTERVAL_HOURS ? ExistingPeriodicWorkPolicy.KEEP : ExistingPeriodicWorkPolicy.REPLACE;\n\n        sharedPreferences.edit().putInt(&quot;REPEAT_INTERVAL_HOURS&quot;, REPEAT_INTERVAL_HOURS).apply();\n\n        WorkManager.getInstance(context).enqueueUniquePeriodicWork(&quot;fileRemove&quot;, policy, periodicWorkRequest);\n    }\n</code></pre>\n"}], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2255, "favorite_count": 1, "accepted_answer_id": 52733266, "answer_count": 3, "score": 8, "last_activity_date": 1601160766, "creation_date": 1539142524, "question_id": 52732226, "link": "https://stackoverflow.com/questions/52732226/how-to-change-periodic-work-request-period-without-it-running-immediately-using", "title": "How to change periodic work request period without it running immediately using WorkManager?", "body": "<pre><code>val request = PeriodicWorkRequestBuilder&lt;FooWorker&gt;(1, TimeUnit.DAYS).build()\nWorkManager.getInstance().enqueueUniquePeriodicWork(\n    \"FOO\",\n    ExistingPeriodicWorkPolicy.REPLACE,\n    request\n)\n</code></pre>\n\n<p>The code above is ran in <code>onCreate</code> of <code>Application</code> to ensure the request is enqueued. However, this will cause a problem where the <code>FooWorker</code> will run every time user start the application because <code>ExistingPeriodicWorkPolicy.REPLACE</code> cancel previous work and enqueue new work which cause it run immediately.</p>\n\n<p>If we change to <code>ExistingPeriodicWorkPolicy.KEEP</code>, we will not able to replace the work even the period or the worker is changed.</p>\n\n<p>Is there a way to replace the request after the current one is running?</p>\n\n<p>For example, origin request run a 1 time per day and the new request is 1 time per hour. After the next origin request is ran, then replace it with new request.</p>\n"}, {"tags": ["node.js", "unit-testing", "kotlin", "qunit"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 8083993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c2341f1e936f5bd926488a418d75ed?s=128&d=identicon&r=PG", "display_name": "gloc.mike", "link": "https://stackoverflow.com/users/8083993/gloc-mike"}, "is_accepted": true, "score": 1, "last_activity_date": 1539605320, "last_edit_date": 1539605320, "creation_date": 1539605007, "answer_id": 52816360, "question_id": 52731382, "link": "https://stackoverflow.com/questions/52731382/setting-up-qunit-testing-kotlin-dependency-kotlin-test-was-not-found/52816360#52816360", "title": "Setting Up QUnit Testing Kotlin - dependency &#39;kotlin-test&#39; was not found", "body": "<p>I found two things wrong with your code:</p>\n\n<ol>\n<li><p>The <code>testCompile</code> dependency was incorrect (note addition of \"-js\"):</p>\n\n<pre><code>-   testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n+   testCompile \"org.jetbrains.kotlin:kotlin-test-js:$kotlin_version\"\n</code></pre></li>\n<li><p>And in the corresponding <code>test.html</code> the wrong path to the generated build file was used. You need <code>kotlin-test.js</code> <strong>not</strong> <code>kotlin-test-js.js</code>:</p>\n\n<pre><code>-   &lt;script type=\"text/javascript\" src=\"build/classes/test/lib/kotlin-test-js.js\"&gt;&lt;/script&gt;\n+   &lt;script type=\"text/javascript\" src=\"build/classes/test/lib/kotlin-test.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0FkVq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0FkVq.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<p>\u2747\ufe0f\ud83c\udf70\u2747\ufe0f</p>\n\n<p><strong>Of lesser importance but good to note:</strong></p>\n\n<p>With those modifications in place the gradle <code>clean</code>, <code>build</code> and <code>test</code> tasks worked but the <code>Test</code> (decorator?) in the <code>TwoNumbers.kt</code> test file being imported from <code>org.junit</code> is deprecated -- which gave a WARNING on build -- so replace:</p>\n\n<pre><code>    import org.junit.Test\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>    import kotlin.test.Test\n</code></pre>\n\n<p>And you'll be right to go!</p>\n\n<p><a href=\"https://i.stack.imgur.com/jHmVz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jHmVz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, not that it makes much difference but I used <code>ext.kotlin_version = \"1.2.71\"</code> just to be current \ud83d\ude04</p>\n"}], "owner": {"reputation": 23, "user_id": 8042472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/841568ae22f5734408a97a4d69672078?s=128&d=identicon&r=PG&f=1", "display_name": "Hugh Bollen", "link": "https://stackoverflow.com/users/8042472/hugh-bollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 52816360, "answer_count": 1, "score": 1, "last_activity_date": 1539605320, "creation_date": 1539134968, "last_edit_date": 1539135462, "question_id": 52731382, "link": "https://stackoverflow.com/questions/52731382/setting-up-qunit-testing-kotlin-dependency-kotlin-test-was-not-found", "title": "Setting Up QUnit Testing Kotlin - dependency &#39;kotlin-test&#39; was not found", "body": "<p>I've been setting up a Kotlin project to use Qunit for testing according to this blogpost: <a href=\"https://medium.com/@czuckie/experimenting-with-kotlin2js-and-qunit-gradle-ab2164af695\" rel=\"nofollow noreferrer\">https://medium.com/@czuckie/experimenting-with-kotlin2js-and-qunit-gradle-ab2164af695</a> before hopefully implementing on my company's main software.</p>\n\n<p>Uncaught Error: Error loading module 'myapp_test'. Its dependency 'kotlin-test' was not found. Please, check whether 'kotlin-test' is loaded prior to 'myapp_test'.</p>\n\n<p>Is the error I get trying to run the tests. It's got me confused. It seems to me that 'kotlin-test' will have been loaded prior but I guess not? What am I missing? This is my build.gradle file...</p>\n\n<pre><code>group 'com.example'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\next.kotlin_version = '1.1.2-5'\n\nrepositories {\n    mavenCentral()\n}\ndependencies {classpath \"org.jetbrains.kotlin:kotlin-gradle \nplugin:$kotlin_version\"\n}\n}\n\napply plugin: 'kotlin2js'\napply from: \"kotlinjs.gradle\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\n}\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "kotlin", "multiple-inheritance"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 3, "creation_date": 1539134554, "post_id": 52731320, "comment_id": 92387717, "body": "Why not just overload the function and have one version accept Activity and the other accept Fragment?"}, {"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 1, "creation_date": 1539139656, "post_id": 52731320, "comment_id": 92388777, "body": "You will need an <code>Interface</code> that both of your <code>Fragment</code> &amp; <code>FragmentActivity</code> will implement. Then you can use that <code>Interface</code> type in your function&#39;s parameter."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1539162132, "post_id": 52731320, "comment_id": 92397548, "body": "@Egor that wouldn&#39;t solve the code duplication issue."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "is_accepted": false, "score": 1, "last_activity_date": 1539170237, "creation_date": 1539170237, "answer_id": 52739017, "question_id": 52731320, "link": "https://stackoverflow.com/questions/52731320/in-kotlin-is-it-possible-to-limit-a-function-parameter-to-2-class-types-instead/52739017#52739017", "title": "In Kotlin, is it possible to limit a function parameter to 2 class types instead of Any?", "body": "<p>It is not possible to limit the function parameter to just two types, but you can still solve the code duplication issue with method overloading.</p>\n\n<pre><code>fun requestLocationPermission(fragment: Fragment) {\n    requestLocationPermission(RxPermissions(fragment), fragment.getActivity())\n}\n\nfun requestLocationPermission(activity: FragmentActivity) {\n    requestLocationPermission(RxPermissions(activity), activity)\n}\n\nprivate fun requestLocationPermission(rx: RxPermissions, context: Context) {\n    rx.request(android.Manifest.permission.ACCESS_FINE_LOCATION)\n            .subscribeBy(onNext = { granted -&gt; \n                if (!granted) Toast.make(context, \n                        location_message_locationPermissionRequired, \n                        Toast.LENGTH_SHORT).show()\n            })\n}\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 2218746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9bfd3230d46d5be0487ad851ce1ff3?s=128&d=identicon&r=PG", "display_name": "Ethan_AI", "link": "https://stackoverflow.com/users/2218746/ethan-ai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539170237, "creation_date": 1539134420, "question_id": 52731320, "link": "https://stackoverflow.com/questions/52731320/in-kotlin-is-it-possible-to-limit-a-function-parameter-to-2-class-types-instead", "title": "In Kotlin, is it possible to limit a function parameter to 2 class types instead of Any?", "body": "<p>I'm checking permissions and I can do that with either a Fragment or and Activity. They don't share a common ancestor so I made it accept Any. I'd like a way to restrict it to only take Activity or Fragment objects. Is there anyway to do some sort of generics where it can take Class1 or Class2?</p>\n\n<pre><code>    fun requestLocationPermission(fragmentOrActivity: Any) {\n    if (fragmentOrActivity is Fragment) {\n        RxPermissions(fragmentOrActivity)\n                .request(android.Manifest.permission.ACCESS_FINE_LOCATION)\n                .subscribeBy(\n                        onNext = { granted -&gt;\n                            if (!granted) {\n                                fragmentOrActivity.toast(fragmentOrActivity.getString(location_message_locationPermissionRequired)) \n                            }\n                        })\n    } else if (fragmentOrActivity is FragmentActivity) {\n        RxPermissions(fragmentOrActivity)\n                .request(android.Manifest.permission.ACCESS_FINE_LOCATION)\n                .subscribeBy(\n                        onNext = { granted -&gt;\n                            if (!granted) {\n                                fragmentOrActivity.toast(fragmentOrActivity.getString(location_message_locationPermissionRequired)) \n                            }\n                        })\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539156829, "post_id": 52730844, "comment_id": 92394606, "body": "The easiest solution is to compile both projects as jvmTarget=1.6. This is fully forward-compatible and won&#39;t have any downsides."}, {"owner": {"reputation": 1, "user_id": 10481322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d07dc16b090c7bd80010b0a5f3ef3f?s=128&d=identicon&r=PG&f=1", "display_name": "Derry Holis", "link": "https://stackoverflow.com/users/10481322/derry-holis"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539192583, "post_id": 52730844, "comment_id": 92416239, "body": "The project that currently has jvmTarget=1.8 has dependencies on other libraries that work only with Java8. It also uses Date/Time and regex features that are only available in Java8. So it cannot be compiled with jvmTarget=1.6"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539192720, "post_id": 52730844, "comment_id": 92416309, "body": "Which build system are you using for your projects?"}, {"owner": {"reputation": 1, "user_id": 10481322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d07dc16b090c7bd80010b0a5f3ef3f?s=128&d=identicon&r=PG&f=1", "display_name": "Derry Holis", "link": "https://stackoverflow.com/users/10481322/derry-holis"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539192790, "post_id": 52730844, "comment_id": 92416343, "body": "gradle (plain groovy, not Kotlin DSL)"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539192887, "post_id": 52730844, "comment_id": 92416387, "body": "Then simply create a separate module with jvmTarget=1.6 and put your common.kt there."}, {"owner": {"reputation": 1, "user_id": 10481322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d07dc16b090c7bd80010b0a5f3ef3f?s=128&d=identicon&r=PG&f=1", "display_name": "Derry Holis", "link": "https://stackoverflow.com/users/10481322/derry-holis"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539210945, "post_id": 52730844, "comment_id": 92423728, "body": "can this module with jvmTarget=1.6 then be specified as a dependency for the jvmTarget=1.8 module? Is that an acceptable thing to do, given that they have different bytecode versions?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539332447, "post_id": 52730844, "comment_id": 92472268, "body": "Yes, of course it can be specified as a dependency. Bytecode versions are backwards compatible."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10481322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d07dc16b090c7bd80010b0a5f3ef3f?s=128&d=identicon&r=PG&f=1", "display_name": "Derry Holis", "link": "https://stackoverflow.com/users/10481322/derry-holis"}, "is_accepted": false, "score": 0, "last_activity_date": 1539710397, "creation_date": 1539710397, "answer_id": 52840840, "question_id": 52730844, "link": "https://stackoverflow.com/questions/52730844/share-a-kotlin-source-file-between-a-java6-kotlin-project-and-a-java8-kotlin-pro/52840840#52840840", "title": "Share a kotlin source file between a java6 kotlin project and a java8 kotlin project", "body": "<p>I followed <a href=\"https://stackoverflow.com/users/147024/yole\">yole's</a> suggestion - created a separate module with jvmTarget=1.6; both the jvm 1.6 and 1.8 projects were able to use this common dependency. The jvm1.8 project had no issues with the dependency with Java6 bytecode.</p>\n"}], "owner": {"reputation": 1, "user_id": 10481322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d07dc16b090c7bd80010b0a5f3ef3f?s=128&d=identicon&r=PG&f=1", "display_name": "Derry Holis", "link": "https://stackoverflow.com/users/10481322/derry-holis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539710397, "creation_date": 1539129727, "last_edit_date": 1539145070, "question_id": 52730844, "link": "https://stackoverflow.com/questions/52730844/share-a-kotlin-source-file-between-a-java6-kotlin-project-and-a-java8-kotlin-pro", "title": "Share a kotlin source file between a java6 kotlin project and a java8 kotlin project", "body": "<p>I have a Kotlin project that needs to work with Java6 and another that needs to work with Java8. How can I share a kotlin source file that contains common definitions between both the projects? </p>\n\n<pre><code>KotlinProjectA(jvmTarget=\"1.6\") &lt;-- [common.kt] --&gt; KotlinProjectB(jvmTarget=\"1.8\")\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "jacoco"], "answers": [{"tags": [], "owner": {"reputation": 7743, "user_id": 244993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0ce44e342943d56f115165b7d78bdd?s=128&d=identicon&r=PG", "display_name": "Godin", "link": "https://stackoverflow.com/users/244993/godin"}, "is_accepted": true, "score": 1, "last_activity_date": 1539130218, "creation_date": 1539130218, "answer_id": 52730899, "question_id": 52730161, "link": "https://stackoverflow.com/questions/52730161/how-to-ignore-methods-when-using-jacoco-with-gradle-and-kotlin/52730899#52730899", "title": "How to ignore methods when using JaCoCo with Gradle and Kotlin?", "body": "<p>As stated for example in announcement of <a href=\"https://groups.google.com/d/msg/jacoco/qG0Mce7RiO4/axqZAP_GAgAJ\" rel=\"nofollow noreferrer\">JaCoCo version 0.8.1</a>: the only thing you need to do - is to make sure that Gradle uses correct JaCoCo version. All filters implemented so far in JaCoCo are enabled unconditionally and take place during generation of report. In the same announcement and in <a href=\"https://groups.google.com/d/msg/jacoco/aMi1SkcfLZc/_UWgrC9xAQAJ\" rel=\"nofollow noreferrer\">announcement of 0.8.2</a> you can see that</p>\n\n<blockquote>\n  <p>With Gradle JaCoCo Plugin you can select both runtime and version for \"JaCoCoReport\" task using \"toolVersion\" - <a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/jacoco_plugin.html</a></p>\n</blockquote>\n\n<p>And that default version depends on version of Gradle - for example <a href=\"https://docs.gradle.org/4.7/release-notes.html#default-jacoco-version-upgraded-to-0.8.1\" rel=\"nofollow noreferrer\">Gradle 4.7 by default uses version JaCoCo 0.8.1</a>, while according to <a href=\"https://www.jacoco.org/jacoco/trunk/doc/changes.html\" rel=\"nofollow noreferrer\">JaCoCo changelog</a> filters for Kotlin were added in 0.8.2.</p>\n\n<hr>\n\n<p>So given <code>src/main/kotlin/DataClass.kt</code></p>\n\n<pre><code>data class DataClass(var x)\n</code></pre>\n\n<p><code>src/test/kotlin/Tests.kt</code></p>\n\n<pre><code>class Tests {\n  @org.junit.Test\n  fun test_data_class() {\n    DataClass(42)\n  }\n}\n</code></pre>\n\n<p>and <code>build.gradle</code></p>\n\n<pre><code>buildscript {\n  ext.kotlin_version = \"1.2.41\"\n\n  repositories {\n    mavenCentral()\n  }\n\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n  }\n}\n\napply plugin: \"kotlin\"\napply plugin: \"jacoco\"\n\nrepositories {\n  mavenCentral()\n  mavenLocal()\n}\n\ndependencies {\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  testCompile \"junit:junit:4.12\"\n}\n\ntasks[\"jacocoTestReport\"].dependsOn(\"test\")\n</code></pre>\n\n<p>After execution of <code>gradle jacocoTestReport</code> using Gradle 4.7 you'll see</p>\n\n<p><a href=\"https://i.stack.imgur.com/auSto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/auSto.png\" alt=\"enter image description here\"></a></p>\n\n<p>And after addition of</p>\n\n<pre><code>jacoco {\n  toolVersion = '0.8.2'\n}\n</code></pre>\n\n<p>the same Gradle and the same command will produce</p>\n\n<p><a href=\"https://i.stack.imgur.com/OW5GP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OW5GP.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>P.S. I believe that <code>exclude</code> in your attempt</p>\n\n<blockquote>\n<pre><code>test {\n    jacoco {\n        exclude(\"*equals\", \"*hashCode\")\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>refers to <a href=\"https://docs.gradle.org/4.7/dsl/org.gradle.api.tasks.testing.Test.html#org.gradle.api.tasks.testing.Test:exclude(java.lang.Iterable)\" rel=\"nofollow noreferrer\">exclusion of tests from execution</a>, because <a href=\"https://docs.gradle.org/4.7/dsl/org.gradle.api.tasks.testing.Test.html#org.gradle.api.tasks.testing.Test:jacoco\" rel=\"nofollow noreferrer\"><code>jacoco</code> property of <code>test</code></a> has no <code>exclude</code> - as a proof addition of</p>\n\n<pre><code>test {\n  jacoco {\n    exclude(\"Tests.class\")\n  }\n}\n</code></pre>\n\n<p>to the same above example leads to zero tests.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2294, "favorite_count": 0, "accepted_answer_id": 52730899, "answer_count": 1, "score": 1, "last_activity_date": 1539130218, "creation_date": 1539123876, "question_id": 52730161, "link": "https://stackoverflow.com/questions/52730161/how-to-ignore-methods-when-using-jacoco-with-gradle-and-kotlin", "title": "How to ignore methods when using JaCoCo with Gradle and Kotlin?", "body": "<p>I'm trying to set up JaCoCo with Gradle and Kotlin and my problem is that I have a lot of <code>data class</code>es which have compiler-generated <code>equals</code>, <code>hashCode</code> and <code>toString</code> methods.</p>\n\n<p>I've read in the docs that with JaCoCo I can have <strong>ignored</strong> methods but seems like that the Gradle plugin for JaCoCo only supports <strong>exclusion</strong>s. How do I fix this?</p>\n\n<p>I tried this:</p>\n\n<pre><code>test {\n    jacoco {\n        exclude(\"*equals\", \"*hashCode\")\n    }\n}\n</code></pre>\n\n<p>but I can still see 0% next to those methods.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["java", "android", "android-studio", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6559261"}, "edited": false, "score": 0, "creation_date": 1539123442, "post_id": 52730073, "comment_id": 92385261, "body": "Once you&#39;ve downloaded and installed the application click &quot;Learn&quot; in the welcome screen and choose &quot;Kotlin Koans&quot; from the &quot;Select Course&quot; dialogue."}, {"owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "edited": false, "score": 0, "creation_date": 1539137288, "post_id": 52730073, "comment_id": 92388300, "body": "Thanks @NullReference. It seems a good option, but I have a limited Internet connection and I can&#39;t download it. I need to fix this issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6559261"}, "reply_to_user": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "edited": false, "score": 1, "creation_date": 1539154996, "post_id": 52730073, "comment_id": 92393601, "body": "I see. Could you maybe try it again and paste in the logs? <i>Help</i> <b>&gt;</b> <i>Show Log in Explorer/Finder</i>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6559261"}, "is_accepted": false, "score": 1, "last_activity_date": 1539123370, "creation_date": 1539123370, "answer_id": 52730073, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/52730073#52730073", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>Maybe could try <a href=\"https://www.jetbrains.com/education/download/#section=idea-Kotlin\" rel=\"nofollow noreferrer\">IntelliJ Idea Edu</a> which comes already bundled with EduTools.</p>\n"}, {"comments": [{"owner": {"reputation": 830, "user_id": 3928104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1758186afcb659bae03d821a2d2c9e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swing", "link": "https://stackoverflow.com/users/3928104/swing"}, "edited": false, "score": 0, "creation_date": 1549974406, "post_id": 52763830, "comment_id": 96091338, "body": "hi Nicolau, I know nothing about Gradle, so How should I exactly to config gradle? where to execute the above gradle command? Thank you"}, {"owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "reply_to_user": {"reputation": 830, "user_id": 3928104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1758186afcb659bae03d821a2d2c9e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Swing", "link": "https://stackoverflow.com/users/3928104/swing"}, "edited": false, "score": 0, "creation_date": 1550092601, "post_id": 52763830, "comment_id": 96147971, "body": "@Swing: I only had this problem because I wanted to use a local Gradle distribution, but If you have an Internet connection without restrictions, Android Studio will automatically download the appropriate Gradle distribution and configure the wrapper for you. However, if you are in my same situation, you must execute the above command in the root directory of the project. You can take a look <a href=\"https://docs.gradle.org/current/userguide/getting_started.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/studio/build/\" rel=\"nofollow noreferrer\">here</a> to familiarize yourself with Gradle."}], "tags": [], "owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "is_accepted": true, "score": 2, "last_activity_date": 1539271802, "creation_date": 1539271802, "answer_id": 52763830, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/52763830#52763830", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>I found the problem in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">IDE logs</a> as @NullReference suggested.</p>\n\n<pre><code>INFO - ecker.gradle.GradleCommandLine - Failed to launch checking \nCannot run program \"./gradlew\" (...) No such file or directory\n</code></pre>\n\n<p>I had configured the project (<em>Settings / Build, Execution, Deployment / Build Tools / Gradle</em>) to use a local Gradle distribution and it seems that EduTools plugin always looks for the Gradle Wrapper, so I just had to <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html#sec:adding_wrapper\" rel=\"nofollow noreferrer\">generate a Wrapper</a> for project and configure it to use my local Gradle distribution:</p>\n\n<pre><code>gradle wrapper --gradle-distribution-url file:///path/to/local/gradle-4.6-all.zip\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5466103, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dLBFs6HTO6Y/AAAAAAAAAAI/AAAAAAAAABk/-f7rxNUryBs/photo.jpg?sz=128", "display_name": "Qiang Zengqiang", "link": "https://stackoverflow.com/users/5466103/qiang-zengqiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1542422651, "creation_date": 1542422651, "answer_id": 53347727, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/53347727#53347727", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>I also got this issue. Finally, I 've resolved it by configuring my gradle bin to PATH. </p>\n\n<p>Here are series of commands to configure Gradle into you Path.</p>\n\n<pre><code># cd ~\n# touch .bash_profile  \n# open -e .bash_profile \n</code></pre>\n\n<p>//to edit your bash_profile ,you need to input your local path to bash_profile,like this:</p>\n\n<p>export GRADLE_HOME=<em>/Users/PCNAME/.gradle/wrapper/dists/gradle-4.5-bin/bgd6nrwgxy3inh8yed6gmsvbx/gradle-4.5/</em>  --- <strong>use your own grade path to replace them</strong>.</p>\n\n<p>export PATH=<strong>${PATH}:${GRADLE_HOME}/bin</strong></p>\n\n<pre><code># source .bash_profile\n# gradle -v //  you will see your gradle version if your configure successfully.\n</code></pre>\n\n<p>Restart Android Studio, try to run your EDUTOOLS.</p>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 6616249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6c46a4c2edc2e472fda334a7f357f37?s=128&d=identicon&r=PG&f=1", "display_name": "tommyboy", "link": "https://stackoverflow.com/users/6616249/tommyboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1546018208, "creation_date": 1546018208, "answer_id": 53962193, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/53962193#53962193", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>I received the same error. I closed Android Studio and created a new Koans project thinking I must have done something wrong. This time I received a new build time error when trying to \"Check\". None of this made sense so I just shut down Android Studio, reopened the Koans project I just created and clicked \"Check\". Everything seemed to work now.</p>\n"}, {"tags": [], "owner": {"reputation": 270, "user_id": 6594057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6zVSzt3JS6o/AAAAAAAAAAI/AAAAAAAAAEE/q2fVkSSzRtY/photo.jpg?sz=128", "display_name": "Syed Muntazir Mehdi", "link": "https://stackoverflow.com/users/6594057/syed-muntazir-mehdi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550821488, "creation_date": 1550821488, "answer_id": 54822317, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/54822317#54822317", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>Had the same problem. Just Sharing how I fixed this problem. <br/></p>\n\n<ul>\n<li>I opened <strong>build.gradle</strong> of my Kotlin Koans Project and scrolled down to where wrapper was defined.</li>\n<li>Pressed play icon right next to it.</li>\n<li>Was greeted with an error<br>\n<code>Error:Failed to open zip file.\nGradle's dependency cache may be corrupt (this sometimes occurs after a network connection timeout.)\nRe-download dependencies and sync project (requires network)\nRe-download dependencies and sync project (requires network)\n</code></li>\n<li>Followed <a href=\"https://stackoverflow.com/a/43801113/6594057\">Answer</a> by <a href=\"https://stackoverflow.com/users/7120475/hamid-asghari\">Hamid</a></li>\n</ul>\n\n<blockquote>\n  <p>To resolve this issue close Android Studio and delete the following\n  directory's content, necessary files will be downloaded on IDE's next\n  launch.</p>\n  \n  <p>macOS: ~/.gradle/wrapper/dists</p>\n  \n  <p>Linux: ~/.gradle/wrapper/dists</p>\n  \n  <p>Windows: C:\\Users\\your-username.gradle\\wrapper\\dists</p>\n</blockquote>\n\n<ul>\n<li>Restarted Android Studio and it worked like a charm.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2984776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3d2646607a3d77f75b966b75f1f40b?s=128&d=identicon&r=PG&f=1", "display_name": "leopintos11", "link": "https://stackoverflow.com/users/2984776/leopintos11"}, "is_accepted": false, "score": 0, "last_activity_date": 1595219060, "creation_date": 1595219060, "answer_id": 62988656, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking/62988656#62988656", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>In my case I had a problem related to JDK 11 and I had JDK 8 installed.\nThis is how I fixed the problem:</p>\n<p>Go to <em>Settings / Build, Execution, Deployment / Build Tools / Gradle</em>.\nAt Gradle JVM select JDK 11 path.</p>\n<p>It worked for me.</p>\n"}], "owner": {"reputation": 2450, "user_id": 4071001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15fe366ba78ef16d877f2ff9f6f094e5?s=128&d=identicon&r=PG&f=1", "display_name": "lcnicolau", "link": "https://stackoverflow.com/users/4071001/lcnicolau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4419, "favorite_count": 1, "accepted_answer_id": 52763830, "answer_count": 6, "score": 9, "last_activity_date": 1595219060, "creation_date": 1539122527, "last_edit_date": 1539265390, "question_id": 52729953, "link": "https://stackoverflow.com/questions/52729953/kotlin-koans-with-edutools-plugin-failed-to-launch-checking", "title": "Kotlin Koans with EduTools plugin: &quot;Failed to launch checking&quot;", "body": "<p>I'm trying to follow the <a href=\"https://kotlinlang.org/docs/tutorials/koans.html\" rel=\"noreferrer\">Kotlin Koans</a> tutorial in Android Studio by <a href=\"https://www.jetbrains.com/help/education/install-edutools-plugin.html?section=Android%20Studio\" rel=\"noreferrer\">installing the EduTools plugin</a> and <a href=\"https://www.jetbrains.com/help/education/learner-start-guide.html?section=Kotlin%20Koans\" rel=\"noreferrer\">choosing Kotlin Koans course</a>.</p>\n\n<p>Everything works fine, but when I try <em>\"Check Task\"</em> in the <strong>Task Description</strong> panel, I get this error:</p>\n\n<blockquote>\n  <p><em>Failed to launch checking</em></p>\n</blockquote>\n\n<p>I also tried the plugin with Intellij IDEA and got the same error.</p>\n\n<p>Using:</p>\n\n<ul>\n<li>Android Studio <strong>3.2</strong> with EduTools <strong>2.0-2018.1-443</strong></li>\n<li>Intellij IDEA <strong>2018.2.3</strong> with EduTools <strong>2.0-2018.2-906</strong></li>\n</ul>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1539152169, "post_id": 52729783, "comment_id": 92392262, "body": "Read it here: <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#constructors</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": true, "score": 1, "last_activity_date": 1539122539, "last_edit_date": 1539122539, "creation_date": 1539122314, "answer_id": 52729919, "question_id": 52729783, "link": "https://stackoverflow.com/questions/52729783/kotlin-class-properties-in-parathesis-and-curly-parathesis/52729919#52729919", "title": "Kotlin class properties in parathesis and curly parathesis", "body": "<p>If you transform <strong>kotlin</strong> code to <strong>java</strong> using bytecode decompiler you will get that one. </p>\n\n<pre><code>class InitOrderDemo(val name: String = \"Yuchen\") {\n    val name2: String = \"Zhong\"\n}\n</code></pre>\n\n<p>Decompiled java code:</p>\n\n<pre><code>public final class InitOrderDemo {\n   @NotNull\n   private final String name2;\n   @NotNull\n   private final String name;\n\n   @NotNull\n   public final String getName2() {\n      return this.name2;\n   }\n\n   @NotNull\n   public final String getName() {\n      return this.name;\n   }\n\n   public InitOrderDemo(@NotNull String name) {\n      Intrinsics.checkParameterIsNotNull(name, \"name\");\n      super();\n      this.name = name;\n      this.name2 = \"Zhong\";\n   }\n   ....\n}\n</code></pre>\n\n<p>Notice, please, that <code>name</code> argument you can pass through constructor invoke, but <code>name2</code> couldn't be changed - it's similar to constant here.</p>\n\n<p>So if you want property to be immutable (but not constant for all instances of that class), you will need define it in <code>()</code> - in constructor.</p>\n"}], "owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 1, "accepted_answer_id": 52729919, "answer_count": 1, "score": 1, "last_activity_date": 1539122539, "creation_date": 1539121537, "last_edit_date": 1539122509, "question_id": 52729783, "link": "https://stackoverflow.com/questions/52729783/kotlin-class-properties-in-parathesis-and-curly-parathesis", "title": "Kotlin class properties in parathesis and curly parathesis", "body": "<p>Just reading some Kotlin code and notice that we can define properties either in <code>(...)</code> or in <code>{...}</code>. </p>\n\n<pre><code>class Foo(val name: String = \"Yuchen\") {\n    val name2: String = \"Zhong\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val foo = Foo()\n    println(foo.name)\n    println(foo.name2)\n}\n</code></pre>\n\n<p>What're their differences and when should we use which? </p>\n"}, {"tags": ["kotlin", "jpeg", "javax.imageio"], "comments": [{"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1539122296, "post_id": 52729431, "comment_id": 92384910, "body": "Jpeg encoders and decoders are a compromise of visual fidelity, processing speed, file size, and probably other parameters. Not everyone uses the same balance. Have you tried writing your own jpeg encoder and decoder to see if you can get the result you would ilke? Does it then work for a different image?"}, {"owner": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1539122402, "post_id": 52729431, "comment_id": 92384943, "body": "Do you have an example of a stable image that you could show us?"}, {"owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "reply_to_user": {"reputation": 20736, "user_id": 1115360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMQGl.png?s=128&g=1", "display_name": "Andrew Morton", "link": "https://stackoverflow.com/users/1115360/andrew-morton"}, "edited": false, "score": 0, "creation_date": 1539127763, "post_id": 52729431, "comment_id": 92386217, "body": "@AndrewMorton No, I didn&#39;t write my own JPEG encoder, and I don&#39;t think I ever will. As for an example image, you can easily generate one using the code I posted. Just save an arbitrary PNG file as <code>000-original.png</code> and run the code."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539128019, "post_id": 52729431, "comment_id": 92386263, "body": "Related question: <a href=\"https://stackoverflow.com/questions/14841834/is-re-encoding-jpeg-images-an-idempotent-operation\" title=\"is re encoding jpeg images an idempotent operation\">stackoverflow.com/questions/14841834/&hellip;</a>"}], "owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539120434, "creation_date": 1539119702, "last_edit_date": 1539120434, "question_id": 52729431, "link": "https://stackoverflow.com/questions/52729431/why-doesnt-imageio-preserve-jpeg-data-when-repeatedly-loading-and-saving", "title": "Why doesn&#39;t ImageIO preserve JPEG data when repeatedly loading and saving?", "body": "<p>Originally I wanted to try whether it is possible to reconstruct redacted data from a JPEG image, given that it is a lossy image format and the pixel values spread into the neighbor pixels.</p>\n\n<p>To test whether saving and loading JPEG images is reliable, I wrote the following program that repeatedly saves and loads a JPEG image until it reaches an image that has been seen before. Here is the code:</p>\n\n<pre><code>package de.roland_illig.jpg\n\nimport java.awt.image.BufferedImage\nimport java.io.ByteArrayInputStream\nimport java.io.ByteArrayOutputStream\nimport java.io.File\nimport java.nio.file.Files\nimport java.nio.file.Paths\nimport java.security.MessageDigest\nimport javax.imageio.ImageIO\nimport javax.xml.bind.DatatypeConverter\n\nfun main(args: Array&lt;String&gt;) {\n\n    fun loadJpeg(bytes: ByteArray) =\n            ImageIO.read(ByteArrayInputStream(bytes))\n\n    fun saveJpeg(img: BufferedImage) =\n            ByteArrayOutputStream().apply { use { ImageIO.write(img, \"jpg\", it) } }.toByteArray()\n\n    fun hash(bytes: ByteArray) =\n            DatatypeConverter.printHexBinary(MessageDigest.getInstance(\"SHA-1\").digest(bytes))\n\n    var bytes = saveJpeg(ImageIO.read(File(\"000-original.png\")))\n\n    val log = mutableMapOf&lt;String, Int&gt;()\n    for (n in 1..Int.MAX_VALUE) {\n        Files.write(Paths.get(\"%03d.jpg\".format(n)), bytes)\n        val hash = hash(bytes)\n        val prev = log.put(hash, n)\n        if (prev != null) {\n            println(\"After $n steps, the image is the same as after $prev steps.\")\n            break\n        }\n\n        bytes = saveJpeg(loadJpeg(bytes))\n    }\n}\n</code></pre>\n\n<p>The funny thing is that for a random screenshot, it takes between 20 and 49 steps until the image becomes stable. Ideally I would have expected always 2 steps.</p>\n\n<p>Even though JPEG is a lossy format, after saving it and loading it again, each pixel has a certain value. Whatever compression is used, when compressing the same data again, I had expected that the compressed data is also the same:</p>\n\n<pre><code>val original = loadPng()              // Exact in-memory image\nval jpeg0Bytes = saveJpeg(original)   // Saved with JPEG artifacts\nval jpeg = loadJpeg(jpeg0Bytes)       // Lossy, loaded again\nval jpeg1Bytes = saveJpeg(jpeg)       // Should be the same as jpeg0Bytes\n</code></pre>\n\n<p>I only tried with the default quality settings of Java's ImageIO, but a manual experiment with GIMP showed similar results.</p>\n\n<p>Now I wonder why the image libraries don't implement the JPEG compression so that the above program would stop after 2 steps. Is it really so hard to eliminate rounding errors or whatever else might create these artifacts?</p>\n"}, {"tags": ["java", "android", "kotlin", "base64", "simple-xml-converter"], "comments": [{"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1539118124, "post_id": 52729084, "comment_id": 92383321, "body": "This isn&#39;t java, Why did you tag java?"}, {"owner": {"reputation": 307, "user_id": 9893256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1rrfL.jpg?s=128&g=1", "display_name": "AlexF", "link": "https://stackoverflow.com/users/9893256/alexf"}, "reply_to_user": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1539118330, "post_id": 52729084, "comment_id": 92383410, "body": "I know that it&#39;s Kotlin. But SimpleXml framework is concerned with Java and was written on it"}, {"owner": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1539118409, "post_id": 52729084, "comment_id": 92383445, "body": "Is there a reason why you are using SimpleXml instead of XMLPullParser provided by android?"}, {"owner": {"reputation": 307, "user_id": 9893256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1rrfL.jpg?s=128&g=1", "display_name": "AlexF", "link": "https://stackoverflow.com/users/9893256/alexf"}, "reply_to_user": {"reputation": 2014, "user_id": 6895166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/N5CEX.jpg?s=128&g=1", "display_name": "SamHoque", "link": "https://stackoverflow.com/users/6895166/samhoque"}, "edited": false, "score": 0, "creation_date": 1539118856, "post_id": 52729084, "comment_id": 92383646, "body": "It saves me a lot from boilerplate. With SImpleXMl you need only build annotated model and add converter to retrofit client. While For XmlPullParser you need to write a lot of code with nested loops fro every atribute/tag"}], "owner": {"reputation": 307, "user_id": 9893256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1rrfL.jpg?s=128&g=1", "display_name": "AlexF", "link": "https://stackoverflow.com/users/9893256/alexf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539118219, "creation_date": 1539118019, "last_edit_date": 1539118219, "question_id": 52729084, "link": "https://stackoverflow.com/questions/52729084/java-simplexml-how-to-parse-xml-which-contains-base64-encoded-xml", "title": "Java SimpleXml. How to parse XML, which contains Base64-encoded xml?", "body": "<p>I'm writing an Android app which retrieves xml data from the server. For manipulating such data I use Retrofit-SimpleXmlConverter(<a href=\"http://simple.sourceforge.net/home.php\" rel=\"nofollow noreferrer\">http://simple.sourceforge.net/home.php</a>, <a href=\"https://github.com/square/retrofit/tree/master/retrofit-converters/simplexml\" rel=\"nofollow noreferrer\">https://github.com/square/retrofit/tree/master/retrofit-converters/simplexml</a>) pipeline. I need to get this list of transactions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;Transactions&gt;\n&lt;Transaction&gt;\n    &lt;Transaction_Time&gt;12-01-2018&lt;/Transaction_Time&gt;\n    &lt;Transaction_Bonuses&gt;123.11&lt;/Transaction_Bonuses&gt;\n    &lt;Summ&gt;123.11&lt;/Summ&gt;\n    &lt;Transaction_Type&gt;12&lt;/Transaction_Type&gt;\n    &lt;Dop_Info&gt;BLOB Base64 data with cyrillic symbols&lt;/Dop_Info&gt;\n&lt;/Transaction&gt;\n&lt;Transaction&gt;\n    &lt;Transaction_Time&gt;12-01-2018&lt;/Transaction_Time&gt;\n    &lt;Transaction_Bonuses&gt;123.11&lt;/Transaction_Bonuses&gt;\n    &lt;Summ&gt;123.11&lt;/Summ&gt;\n    &lt;Transaction_Type&gt;12&lt;/Transaction_Type&gt;\n    &lt;Dop_Info&gt;no/Dop_Info&gt;\n&lt;/Transaction&gt;\n</code></pre>\n\n<p></p>\n\n<p>My problem is that xml has tag  with BASE-64 encoded xml. From encoded xml I need follow data:</p>\n\n<pre><code>&lt;CHECK&gt;\n&lt;LINE name=\"Name of dish\", quantity=\"1\", summ=\"123,5\"&gt;&lt;/LINE&gt;\n&lt;LINE name=\"Name of dish\", quantity=\"1\", summ=\"123,5\"&gt;&lt;/LINE&gt;\n&lt;LINE name=\"Name of dish\", quantity=\"1\", summ=\"123,5\"&gt;&lt;/LINE&gt;\n&lt;/CHECK&gt;\n</code></pre>\n\n<p>Data classes:</p>\n\n<pre><code>@Root(name = \"Transactions\")\ndata class Transactions @JvmOverloads constructor(\n    @field:ElementList(inline = true, required = false)\n    @param:ElementList(inline = true, required = false)\n    val list: List&lt;Transaction&gt;? = null\n) {\n\n@Root(name = \"Transaction\")\ndata class Transaction @JvmOverloads constructor(\n        @field:Element(name = \"Transaction_Time\")\n        @param:Element(name = \"Transaction_Time\")\n        var transactionTime: String? = null,\n\n        @field:Element(name = \"Transaction_Bonuses\")\n        @param:Element(name = \"Transaction_Bonuses\")\n        val transactionBonuses: Double? = 0.0,\n\n        @field:Element(name = \"Summ\")\n        @param:Element(name = \"Summ\")\n        val summ: Double? = 0.0,\n\n        @field:Element(name = \"Transaction_Type\")\n        @param:Element(name = \"Transaction_Type\")\n        val transactionType: Int? = 0,\n\n        @field:Element(name = \"Dop_Info\")\n        @param:Element(name = \"Dop_Info\")\n        val dopInfo: ByteArray ? = null\n ){\n        @Root(name = \"CHECK\")\n        data class Check @JvmOverloads constructor(\n                @field:ElementList(inline = true, required = false)\n                @param:ElementList(inline = true, required = false)\n                @field:Path(\"CHECKDATA/CHECKLINES\")\n                @param:Path(\"Holders_Cards/Holder_Card/Card\")\n                val list: List&lt;Line&gt;? = null\n        ){\n                @Root(name = \"LINE\")\n                data class Line @JvmOverloads constructor(\n                        @field: Attribute(name = \"name\", required = false)\n                        @param: Attribute(name = \"name\", required = false)\n                        val name: String? = null,\n\n                        @field: Attribute(name = \"quantity\", required=false)\n                        @param: Attribute(name = \"quantity\", required=false)\n                        val quantity: Int? = null,\n\n                        @field: Attribute(name = \"summ\", required = false)\n                        @param: Attribute(name = \"summ\", required = false)\n                        val summ: Double? = null\n                )\n        }\n}\n}\n</code></pre>\n\n<p>At this point I'm confused - how can I correctly serialize the xml in the way I could get instead of blob-data Check model? What are next steps?</p>\n\n<p>P.S For solution I tried to use guide from <a href=\"http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#callback\" rel=\"nofollow noreferrer\">http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php#callback</a> but it didn't find anything helpful</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "okhttp", "okhttp3"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539120855, "post_id": 52728005, "comment_id": 92384409, "body": "Maybe you should start with reading some of the <a href=\"http://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://kotlinlang.org/docs/tutorials/\" rel=\"nofollow noreferrer\">tutorials</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539122758, "post_id": 52728005, "comment_id": 92385050, "body": "Thanks @MichaelButscher for your response. I tried but no luck yet."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539126375, "post_id": 52728005, "comment_id": 92385931, "body": "Sorry, in this case it was not Kotlin-specific but related to an external library (OkHttp). Instead of <code>enqueue</code> you could use <code>execute()</code> which blocks until response is available. This shouldn&#39;t be called in the main (default) thread or the GUI will be unresponsive. Alternatively, whatever you want to do on response should happen in <code>onResponse</code> (or called from there). Third way would be a Kotlin coroutine which can be more complicated in the beginning but can make things easier in the end."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539236410, "post_id": 52728005, "comment_id": 92429451, "body": "Still Stuck in the same piece of code. Please let me know how to resolve this issue."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539260992, "post_id": 52728005, "comment_id": 92443189, "body": "You should be more precise. Why do my proposed approaches not work?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539294434, "post_id": 52728005, "comment_id": 92461417, "body": "I have tried that option already but the app is crashing.         val response=client.newCall(request).execute()         val output=response?.body()?.string()         println(&quot;Testing JSON Output:$output&quot;)  java.lang.RuntimeException: Unable to start activity ComponentInfo{xxxx.MainActivity}: android.os.NetworkOnMainThreadException"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539298289, "post_id": 52728005, "comment_id": 92462414, "body": "Right now I converted bytestream() to string and made it work but I dont have solution for the above problem."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539301264, "post_id": 52728005, "comment_id": 92463018, "body": "You can run the network code in another thread but be aware that GUI calls must be done in main thread. Alternatively you can follow the second or maybe the third suggestion I made earlier. Android (like other graphic OS&#39;s) is event driven. You initiate something and react when an event (like completion or failure of operation) happens."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539306797, "post_id": 52728005, "comment_id": 92464076, "body": "@MichaelButscher I totally agree with you. Let us wait for others in case if they have a better solution for this problem that will be useful for others too."}], "owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570218944, "creation_date": 1539112955, "last_edit_date": 1539193014, "question_id": 52728005, "link": "https://stackoverflow.com/questions/52728005/retrieving-a-variable-result-from-a-function-in-kotlin-and-okhttp", "title": "Retrieving a Variable result from a function in Kotlin and okhttp", "body": "<p>I am new to Kotlin and Your help is highly appreciated. I am able to get the value of jsonStringArray variable within getVariable() function but I am not sure how to retrieve the value outside the function in kotlin. </p>\n\n<pre><code>//Need help on the below variable outside getVariable function \nval output=jsonStringArray.getVariable()???     \n//Working Code\nprivate fun getVariable() {\nval itemDetailURL=\"https://www.google.com\"\nval client= OkHttpClient()\nval request= Request.Builder().url(itemDetailURL).build()\nclient.newCall(request).enqueue(object: Callback\n{\n    override fun onResponse(call: Call?, response: Response?) {\n        val jsonStringArray=response?.body()?.string()\n        println(\"JSON Output: $jsonStringArray\")\n\n    }\n    override fun onFailure(call: Call, e: IOException) {\n    }\n}\n)\n}\n</code></pre>\n"}, {"tags": ["android", "performance", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 1115, "user_id": 4936833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tS8-GdSDdPE/AAAAAAAAAAI/AAAAAAAAAHk/ApS1ipn9GWw/photo.jpg?sz=128", "display_name": "dariush f", "link": "https://stackoverflow.com/users/4936833/dariush-f"}, "edited": false, "score": 0, "creation_date": 1539108866, "post_id": 52726864, "comment_id": 92379264, "body": "it&#39;s not an answer to your question . just an advice . do not use for loop inside onBindHolder() and don&#39;t Inflate layouts inside that.it&#39;s affect performance. you have to change your approach ."}, {"owner": {"reputation": 1115, "user_id": 4936833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tS8-GdSDdPE/AAAAAAAAAAI/AAAAAAAAAHk/ApS1ipn9GWw/photo.jpg?sz=128", "display_name": "dariush f", "link": "https://stackoverflow.com/users/4936833/dariush-f"}, "edited": false, "score": 0, "creation_date": 1539108917, "post_id": 52726864, "comment_id": 92379298, "body": "if you can share your adapter please"}, {"owner": {"reputation": 319, "user_id": 8354184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59455048f2e2107501eaf626640004c7?s=128&d=identicon&r=PG&f=1", "display_name": "Onur D.", "link": "https://stackoverflow.com/users/8354184/onur-d"}, "edited": false, "score": 0, "creation_date": 1539109416, "post_id": 52726864, "comment_id": 92379532, "body": "On several cases (especially running on lower API devices) changing from Glide to Picasso solved it for me."}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539110566, "post_id": 52726864, "comment_id": 92380096, "body": "I have disabled images completely and it still has out of memory error."}], "answers": [{"comments": [{"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539112171, "post_id": 52727637, "comment_id": 92380803, "body": "Problem is that this is going out of memory with 10 items containing 10 subitems(each). I didn&#39;t know that recyclerview performance is that bad."}, {"owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "reply_to_user": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539112320, "post_id": 52727637, "comment_id": 92380880, "body": "100 views total should not be a problem. I don&#39;t think RecyclerView is to blame here. Use Android Studio&#39;s built in allocation tracking feature to figure out what allocations are causing you trouble here."}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539570702, "post_id": 52727637, "comment_id": 92536025, "body": "@martin1337 Have a look at this link <a href=\"https://android.jlelse.eu/get-expandable-recyclerview-in-a-simple-way-8946046b4573\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a> I am trying to use a nested recyclerview any help would be appreciated here is the link <a href=\"https://stackoverflow.com/questions/52747527/kotlin-recyclerview-data-not-showing\" title=\"kotlin recyclerview data not showing\">stackoverflow.com/questions/52747527/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "is_accepted": false, "score": 0, "last_activity_date": 1539111303, "creation_date": 1539111303, "answer_id": 52727637, "question_id": 52726864, "link": "https://stackoverflow.com/questions/52726864/java-lang-outofmemoryerror-during-recyclerview-scrolling/52727637#52727637", "title": "java.lang.OutOfMemoryError during RecyclerView scrolling", "body": "<p>Your groups (each containing 1000 items) are simply too big.</p>\n\n<p>You should flatten the hierarchy -- that is, expose all the items individually to the RecyclerView. Your adapter will need to override getItemViewType() to return different values for different view types, and you'll need to return different types of view holders depending on the item at each position.</p>\n\n<p>This way, you'll only ever inflate as many views as can fit on the screen (plus a few extra that RecyclerView pre-requests to avoid too much inflation at scroll time).</p>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539239914, "creation_date": 1539108021, "last_edit_date": 1539239914, "question_id": 52726864, "link": "https://stackoverflow.com/questions/52726864/java-lang-outofmemoryerror-during-recyclerview-scrolling", "title": "java.lang.OutOfMemoryError during RecyclerView scrolling", "body": "<p>I have <code>RecyclerView</code>, which has another items inside. Each <code>RecyclerView</code> item has list of other items which are shown bellow as subitems if I <strong>click</strong> item in <code>RecyclerView</code>. To <strong>avoid nested RecyclerView</strong> thing, I iterate over these items in <code>onBindViewHolder()</code> and I add them to <strong>empty LinearLayout</strong> inflating subitem layout.</p>\n\n<p><code>OutOfMemory</code> error occurs as I <strong>scroll down</strong>, <code>because there can be 1000 items and each item could have 1000 subitems.</code> In my app its list of orders and if I click item from this list, list of ordered parts are shown one by one.</p>\n\n<p>How to fix this issue. Also scrolling became laggy. I'm using Glide API to cache images, but this error still occurs.</p>\n\n<pre><code>recyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.order_recycler_view).apply {\n\n            setHasFixedSize(true)\n\n            // use a linear layout manager\n            layoutManager = viewManager\n\n            // specify an viewAdapter (see also next example)\n            adapter = viewAdapter\n\n            //set cache for rv\n            setItemViewCacheSize(50)\n            isDrawingCacheEnabled = true\n            drawingCacheQuality = View.DRAWING_CACHE_QUALITY_HIGH\n\n\n        }\n</code></pre>\n\n<p>inside RVAdapter onBindViewHolder():</p>\n\n<pre><code>for(orderItem in it.itemList){\n                    val contentLayout: View = LayoutInflater.from(holder.itemView.context).inflate(R.layout.ordered_list_item_layout, null, false)\n\n                    fillItemView(contentLayout, orderItem, res)\n\n                holder.orderContentLayout.addView(contentLayout)\n            }\n</code></pre>\n\n<p>FillItemView method:</p>\n\n<pre><code>    private fun fillItemView(contentLayout: View, orderItem: OrderedItem, res: Resources){\n            val orderItemImage: ImageView = contentLayout.findViewById(R.id.orderPartImage)\n            val orderItemName: TextView = contentLayout.findViewById(R.id.orderPartName)\n            val orderItemWeight: TextView = contentLayout.findViewById(R.id.orderPartWeight)\nval orderPartPhoto: String? = orderItem.item.itemPhoto.optString(ctx.getString(R.string.part_photo))\n\n            setOrderedPartLogo(orderItemImage, res, orderPartPhoto)\n\n            val itemPrice: String = String.format(\"%.2f\", orderItem.item.itemPrice)\n\n            val spanText = SpannableString(foodPrice + \" \u20ac\" + \"  \" + \"(\" + orderItem.quantity.toString() + \"x\" + \")\" +  orderItem.item.itemName)\n            spanText.setSpan(ForegroundColorSpan(res.getColor(R.color.colorRed)), 0, itemPrice.length + 2, 0)\n\n            orderItemName.text = spanText\n            orderItemWeight.text = orderItem.item.itemWeigth\n        }\n\n\n\nprivate fun setOrderedPartLogo(orderImageView: ImageView, resources: Resources, imageURL: String?) {\n\n        val bitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.no_photo)\n        val roundedBitMapDrawable: RoundedBitmapDrawable = RoundedBitmapDrawableFactory.create(resources, bitmap)\n        roundedBitMapDrawable.isCircular = true\n\n        val requestOptions: RequestOptions = RequestOptions()\n                .circleCrop()\n                .placeholder(roundedBitMapDrawable)\n                .error(roundedBitMapDrawable)\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .priority(Priority.HIGH)\n\n        Glide.with(orderImageView.context)\n                .load(imageURL)\n                .apply(requestOptions)\n                .into(orderImageView)\n    }\n</code></pre>\n\n<p>Whole Adapter:</p>\n\n<pre><code>class OrderListAdapter(private var mActivity: FragmentActivity,\n                       private  var orderList: ArrayList&lt;Order&gt;, private var fragment: OrderListFragment):\n        RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n\n    private var expandedPosition = -1\n    private lateinit var mRecyclerView: RecyclerView\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        //order item views\n        val orderName: TextView = itemView.findViewById(R.id.orderName)\n        val orderWaitTime: TextView = itemView.findViewById(R.id.orderWaitTime)\n        val orderAddress: TextView = itemView.findViewById(R.id.orderAddress)\n        val orderDate: TextView = itemView.findViewById(R.id.orderDate)\n\n        //details expandable layout\n        val orderDetailsExpandable: LinearLayout = itemView.findViewById(R.id.orderDetails)\n        val orderContentLayout: LinearLayout = itemView.findViewById(R.id.contentLayout)\n        val orderLayout: ConstraintLayout = itemView.findViewById(R.id.mainLayout)\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup,\n                                    viewType: Int): RecyclerView.ViewHolder {\n\n        // create a new view\n        val itemView = LayoutInflater.from(parent.context)\n                .inflate(R.layout.order_recyclerview_item_layout, parent, false)\n\n\n        return ViewHolder(itemView)\n    }\n\n    override fun onAttachedToRecyclerView(recyclerView: RecyclerView) {\n        super.onAttachedToRecyclerView(recyclerView)\n\n        mRecyclerView = recyclerView\n    }\n\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n        if (holder is ViewHolder) {\n            val res = holder.itemView.context.resources\n            val ctx = holder.itemView.context\n            orderList[position].let {\n\n                val orderPrice: Int = it.orderJSON.getInt(ctx.getString(R.string.order_total_price))\n                val orderSupplierName: String? = it.orderSupplier?.json?.getString(ctx.getString(R.string.sup_name))\n                val orderDate: String = it.orderJSON.getString(ctx.getString(R.string.order_date))\n                val orderPaymentType: Int = it.orderJSON.getInt(ctx.getString(R.string.order_payment_type))\n                var orderPaymentTypeString = \"unknown\"\n                val orderDeliveryType: Int = it.orderJSON.getInt(ctx.getString(R.string.order_delivery_type))\n                val orderDeliveryPrice: Int = it.orderJSON.getInt(ctx.getString(R.string.order_delivery_price))\n                val orderJSONObject: JSONObject = it.orderJSON\n                val orderItemList: ArrayList&lt;OrderedItem&gt; = it.partsList\n\n                //OrderDate -&gt; hours, minutes, day, month, year\n                val formattedOrderDate: OrderDate = getOrderDate(orderDate)\n\n                when(orderPaymentType){\n                    1 -&gt; orderPaymentTypeString = \"credit\"\n                    2 -&gt; orderPaymentTypeString = \"credit\"\n                    3 -&gt; orderPaymentTypeString = \"money\"\n                    4 -&gt; orderPaymentTypeString = \"voucher\"\n                }\n\n\n                //set order price, name and type\n                val orderPriceString: String = convertCentsToFloat(orderPrice)\n                if (orderSupplierName == null){\n                    val spannableText = SpannableString(orderPriceString + \" \u20ac  \" + ctx.getString(R.string.default_sup_name) + \" - \" + orderPaymentTypeString)\n                    spannableText.setSpan(ForegroundColorSpan(res.getColor(R.color.colorRed)), 0, orderPriceString.length + 3, 0)\n                    holder.orderName.text = spannableText\n                } else {\n                    val spannableText = SpannableString(orderPriceString + \" \u20ac  \" + orderSupplierName + \" - \" + orderPaymentTypeString)\n                    spannableText.setSpan(ForegroundColorSpan(res.getColor(R.color.colorRed)), 0, orderPriceString.length + 3, 0)\n                    holder.orderName.text = spannableText\n                }\n\n                //set order wait time\n                holder.orderWaitTime.text = formattedOrderDate.dateHours + \":\" + formattedOrderDate.dateMinutes\n\n                //set order address\n                //holder.orderAddress.text = it.orderAddress\n\n                //set order date\n                holder.orderDate.text = formattedOrderDate.dateDay + \".\" + formattedOrderDate.dateMonth + \".\" + formattedOrderDate.dateYear\n\n                holder.orderContentLayout.removeAllViews()\n\n                //create layout for order items\n                for(orderItem in it.itemList){\n                    val contentLayout: View = LayoutInflater.from(holder.itemView.context).inflate(R.layout.ordered_list_item_layout, null, false)\n\n                    fillItemView(contentLayout, orderItem, res, ctx)\n\n                    holder.orderContentLayout.addView(contentLayout)\n                }\n\n                //create footer delivery\n                val deliveryLayout: View = LayoutInflater.from(holder.itemView.context).inflate(R.layout.order_delivery_footer_layout, null, false)\n                fillDeliveryFooter(deliveryLayout, orderDeliveryType, orderDeliveryPrice, res, ctx)\n                holder.orderContentLayout.addView(deliveryLayout)\n\n                //create footer orderRepeat Button\n                val orderRepeatLayout: View = LayoutInflater.from(holder.itemView.context).inflate(R.layout.order_repeat_order_layout, null, false)\n                holder.orderContentLayout.addView(orderRepeatLayout)\n\n                orderRepeatLayout.setOnClickListener {\n                    fragment.switchToOrderCartActivity(orderItemList)\n                }\n\n                //expanding order view on click\n                val isExpanded = position == expandedPosition\n                holder.orderDetailsExpandable.visibility = if (isExpanded) View.VISIBLE else View.GONE\n                holder.itemView.isActivated = isExpanded\n\n                holder.orderLayout.setOnClickListener {\n                    createLog(\"expPos \", position.toString())\n                    orderList[position].let {\n                        if(expandedPosition != position){\n                            if(expandedPosition != -1){\n                                val myLayout: View? = mRecyclerView.layoutManager.findViewByPosition(expandedPosition)\n                                createLog(\"myLayout\", myLayout.toString())\n                                createLog(\"OrderExp\", \"Expanding layout\")\n                                if(myLayout != null){\n                                    myLayout.findViewById&lt;LinearLayout&gt;(R.id.orderDetails).visibility = View.GONE\n                                }\n                            }\n                            createLog(\"expPosSet \", position.toString())\n                            expandedPosition = position\n\n                        } else {\n                            expandedPosition = -1\n                        }\n                        notifyItemChanged(position)\n                        scrollToTop(holder.itemView)\n                    }\n                }\n            }\n        }\n    }\n\n\n    override fun getItemCount() = orderList.size\n\n    private fun scrollToTop(v: View) {\n        val itemToScroll = mRecyclerView.getChildAdapterPosition(v)\n        val centerOfScreen = mRecyclerView.width / 2 - v.width / 2\n        fragment.getRecyclerViewManager().scrollToPositionWithOffset(itemToScroll, centerOfScreen)\n    }\n\n    private fun fillItemView(contentLayout: View, orderItem: OrderedItem, res: Resources){\n            val orderItemImage: ImageView = contentLayout.findViewById(R.id.orderPartImage)\n            val orderItemName: TextView = contentLayout.findViewById(R.id.orderPartName)\n            val orderItemWeight: TextView = contentLayout.findViewById(R.id.orderPartWeight)\n            val orderPartPhoto: String? = orderItem.item.itemPhoto.optString(ctx.getString(R.string.part_photo))\n\n            setOrderedPartLogo(orderItemImage, res, orderPartPhoto)\n\n            val itemPrice: String = String.format(\"%.2f\", orderItem.item.itemPrice)\n\n            val spanText = SpannableString(foodPrice + \" \u20ac\" + \"  \" + \"(\" + orderItem.quantity.toString() + \"x\" + \")\" +  orderItem.item.itemName)\n            spanText.setSpan(ForegroundColorSpan(res.getColor(R.color.colorRed)), 0, itemPrice.length + 2, 0)\n\n            orderItemName.text = spanText\n            orderItemWeight.text = orderItem.item.itemWeigth\n        }\n\n    private fun fillDeliveryFooter(deliveryLayout: View, deliveryType: Int, deliveryPrice: Int, res: Resources, ctx: Context){\n        val deliveryImageIcon: ImageView = deliveryLayout.findViewById(R.id.deliveryIconImage)\n        val deliveryPriceTextView: TextView = deliveryLayout.findViewById(R.id.deliveryLabelText)\n\n        //set delivery icon\n        when(deliveryType){\n            1 -&gt; deliveryImageIcon.setImageResource(R.drawable.ico_summary_delivery)\n            2 -&gt; deliveryImageIcon.setImageResource(R.drawable.ico_summary_pickup)\n            else -&gt; deliveryImageIcon.setImageResource(R.drawable.restauracia_no_photo)\n        }\n\n        //set delivery price, name label\n        val deliveryPriceString: String = convertCentsToFloat(deliveryPrice)\n\n        val deliverySpannable = SpannableString(deliveryPriceString + \" \u20ac  Doprava / Vyzdvihnutie\")\n        deliverySpannable.setSpan(ForegroundColorSpan(res.getColor(R.color.colorPrice)), 0, deliveryPriceString.length + 2, 0)\n\n        deliveryPriceTextView.text = deliverySpannable\n    }\n\n    private fun setOrderedPartLogo(orderImageView: ImageView, resources: Resources, imageURL: String?) {\n\n        val bitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.no_photo)\n        val roundedBitMapDrawable: RoundedBitmapDrawable = RoundedBitmapDrawableFactory.create(resources, bitmap)\n        roundedBitMapDrawable.isCircular = true\n\n        val requestOptions: RequestOptions = RequestOptions()\n                .circleCrop()\n                .placeholder(roundedBitMapDrawable)\n                .error(roundedBitMapDrawable)\n                .diskCacheStrategy(DiskCacheStrategy.ALL)\n                .priority(Priority.HIGH)\n\n        Glide.with(orderImageView.context)\n                .load(imageURL)\n                .apply(requestOptions)\n                .into(orderImageView)\n    }\n\n    private fun convertCentsToFloat(centPrice: Int): String {\n        val centOnlyPrice: Int = centPrice % 100\n        val euroPrice: Int = (centPrice - centOnlyPrice) / 100\n\n        if (centOnlyPrice &lt; 10) {\n            val finalPrice: String = euroPrice.toString() + \".0\" + centOnlyPrice.toString()\n            return finalPrice\n        } else {\n            val finalPrice: String = euroPrice.toString() + \".\" + centOnlyPrice.toString()\n            return finalPrice\n        }\n    }\n\n    private fun getOrderDate(date: String): OrderDate{\n        val rawDate: List&lt;String&gt; = date.split(\"T\")\n\n        val dateOnly: String = rawDate[0]\n        val dateFormat: List&lt;String&gt; = dateOnly.split(\"-\")\n\n        val timeOnly: String = rawDate[1]\n        val timeFormat: List&lt;String&gt; = timeOnly.split(\":\")\n\n        val finalDate = OrderDate(timeFormat[0], timeFormat[1], dateFormat[2], dateFormat[1], dateFormat[0])\n\n        return finalDate\n\n    }\n\n\n    fun createLog(tag: String, msg: String){\n        Log.i(tag, msg)\n    }\n\n    fun refreshOrder(orderListRefreshed: ArrayList&lt;Order&gt;){\n        orderList = orderListRefreshed\n        notifyDataSetChanged()\n        if(AndroidAssets.getInstance(mActivity).orderList.isEmpty()){\n            mRecyclerView.visibility = View.GONE\n            fragment.showFooterLayout()\n        } else{\n            mRecyclerView.visibility = View.VISIBLE\n            fragment.hideFooterLayout()\n        }\n        fragment.hideProgressBar()\n    }\n}\n</code></pre>\n\n<p>Image from AndroidProfiler on Memory Usage(memory usage increased around 25s - this is where I've started scrolling RecyclerView... and after that it dropped).</p>\n\n<p>UPDATE: With better analysis I found out that one SubItem has 2.5MB in memory. If i will have 5 orders containing 20 items each it will allocate 250MB of space in RAM. And this is with Glide caching images.</p>\n\n<p>UPDATE 2: Is there any way how to load only visible views? So as user scrolls it will load new views and top one which will be off the display will be removed from memory. I thought that recyclerview is doing that by default by recycling item layout views.</p>\n\n<p><strong>UPDATE 3: I've implemented new recyclerview and adapter initialization for inner list. This rv and adapter is initialized when view in onBindViewHolder() is marked as expanded and if it's not expanded RV and Adapter is set to null. So I've implemented Nested RecyclerView. Problem is that my inner recyclerview is not scrolling at all. I have to set scrolling and set RV height to fixed size (for example 400dp), because if I leave it match_parent or wrap_content, it will throw OutOfMemoryError if more than 20 items are inside -> it is not recycling views. How to achieve both recyclerviews to scroll vertically?</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/tNNu8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNNu8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Layout Visualization:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rnWLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rnWLL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1539106003, "post_id": 52726264, "comment_id": 92377931, "body": "Inside <code>onItemSelected()</code> you try match <code>R.id.spinner</code>, but the id of your spinner is <code>R.id.fragVet2_spnRaca</code> - that is the problem"}, {"owner": {"reputation": 3, "user_id": 7795988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe8a516a8f5b73a4fffb28768671387?s=128&d=identicon&r=PG&f=1", "display_name": "MTSA", "link": "https://stackoverflow.com/users/7795988/mtsa"}, "reply_to_user": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "edited": false, "score": 0, "creation_date": 1539140518, "post_id": 52726264, "comment_id": 92388955, "body": "sorry, it was a typo, this code here was just an example of what I have, the original is a little big to paste here. I&#39;ll edit my question properly."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7795988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe8a516a8f5b73a4fffb28768671387?s=128&d=identicon&r=PG&f=1", "display_name": "MTSA", "link": "https://stackoverflow.com/users/7795988/mtsa"}, "edited": false, "score": 0, "creation_date": 1539306491, "post_id": 52732313, "comment_id": 92464023, "body": "I did not find where it says this, but judging by the logic I should have taken before, I think I need more hours of sleep ... kkk Thank you friend!"}], "tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": true, "score": 0, "last_activity_date": 1539143144, "creation_date": 1539143144, "answer_id": 52732313, "question_id": 52726264, "link": "https://stackoverflow.com/questions/52726264/how-to-override-onitemselected-method-in-fragment/52732313#52732313", "title": "How to override OnItemSelected method in Fragment", "body": "<p>As the <a href=\"https://developer.android.com/reference/android/widget/AdapterView.OnItemSelectedListener#onItemSelected(android.widget.AdapterView%3C?%3E,%20android.view.View,%20int,%20long)\" rel=\"nofollow noreferrer\">doc</a> says, if you have multiple spinners, you should judge the id of <code>parent</code> like below, sorry,I just know java.</p>\n\n<pre><code>    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        int iid = parent.getId();\n        switch (iid) {\n            case R.id.spinner1:\n                Toast.makeText(getActivity(), \"hello,spinner1\", Toast.LENGTH_SHORT).show();\n                break;\n            case R.id.spinner2:\n                Toast.makeText(getActivity(), \"hello,spinner2\", Toast.LENGTH_SHORT).show();\n                break;\n            break; \n            default:\n                break;\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7795988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe8a516a8f5b73a4fffb28768671387?s=128&d=identicon&r=PG&f=1", "display_name": "MTSA", "link": "https://stackoverflow.com/users/7795988/mtsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 1, "accepted_answer_id": 52732313, "answer_count": 1, "score": 0, "last_activity_date": 1539143144, "creation_date": 1539105556, "last_edit_date": 1539140473, "question_id": 52726264, "link": "https://stackoverflow.com/questions/52726264/how-to-override-onitemselected-method-in-fragment", "title": "How to override OnItemSelected method in Fragment", "body": "<p>I'm trying to override the <strong><em>OnItemSelected</em></strong> method of a <strong>Spinner</strong> in my <strong>Fragment</strong>, the same way I did with <strong><em>OnClick</em></strong> on <strong>Button</strong>, but it's not responding anymore</p>\n\n<p>Inside the OnCreate, the commented block works perfectly, but I want to clean it because I have more than one spinner in this layout and this way it is getting very polluted.</p>\n\n<p><strong>Another question:</strong> If possible , how this <strong><em>OnNothingSelected</em></strong> method works and how to use it more effectively?</p>\n\n<p>In the expression \"if (itemSelected! =\" ... \")\" is because the first element of my spinner is a string with \"....\", so as not to have any item selected at the beginning, I'm using this wonderfull technique... How could I improve this?</p>\n\n<p>My code is as follows:</p>\n\n<p><strong><em>Vetarano2.kt</em></strong></p>\n\n<pre><code>com.mtsa.escudeiro_rpghelper.fragments\n\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.AdapterView\nimport android.widget.Button\nimport android.widget.Spinner\nimport android.widget.Toast\nimport com.mtsa.escudeiro_rpghelper.R\n\nclass Veterano2 : Fragment(), View.OnClickListener, AdapterView.OnItemSelectedListener {\n\n    private lateinit var spinner: Spinner\n    private lateinit var button: Button\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        // Inflate the layout for this fragment\n        val fragView = inflater.inflate(R.layout.fragment_veterano2, container, false)\n\n\n        initViews(fragView)\n        initListeners()\n\n        // SPINNER RA\u00c7A\n        /*\n        spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                val selecionado = parent.getItemAtPosition(position) as String\n                Toast.makeText(context, \"Op\u00e7\u00e3o escolhida: $selecionado\", Toast.LENGTH_SHORT).show()\n            }\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {}\n        }\n        */\n\n        return fragView\n    }\n\n    private fun initViews(v: View) {\n        spinner = v.findViewById(R.id.spinner2)\n        button = v.findViewById(R.id.button2)\n    }\n\n    private fun initListeners() {\n        spinner.onItemSelectedListener = this\n        button.setOnClickListener(this)\n    }\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n        when (view?.id) {\n            R.id.spinner2 -&gt; {\n                val selecionado = parent?.getItemAtPosition(position) as String\n                Toast.makeText(context, \"Op\u00e7\u00e3o escolhida: $selecionado\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onClick(v: View?) {\n        when (v?.id) {\n            R.id.button2 -&gt; {\n                Toast.makeText(context, \"SALVAR\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong><em>fragment_veterano2.xml</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:padding=\"64dp\"&gt;\n\n    &lt;Spinner\n        android:id=\"@+id/spinner2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:entries=\"@array/array_example\"\n        android:spinnerMode=\"dropdown\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"64dp\"\n        android:text=\"Button\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong><em>arrays_diversos.xml</em></strong></p>\n\n<pre><code>&lt;resources&gt;\n    &lt;string-array name=\"array_example\"&gt;\n        &lt;item&gt;AAAAA&lt;/item&gt;\n        &lt;item&gt;BBBBB&lt;/item&gt;\n        &lt;item&gt;CCCCC&lt;/item&gt;\n        &lt;item&gt;DDDDD&lt;/item&gt;\n        &lt;item&gt;EEEEE&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Many thanks in advance!</p>\n\n<p>EDIT: Reformatted code for better visualization, but the problem persists</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539104119, "post_id": 52725878, "comment_id": 92376982, "body": "There is no Kotlin version 1.2.7; the available versions are 1.2.70 and 1.2.71."}, {"owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539104808, "post_id": 52725878, "comment_id": 92377319, "body": "Made an edit to clarify that I need a newer version than 1.2.7+"}], "answers": [{"comments": [{"owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 0, "creation_date": 1539104774, "post_id": 52725907, "comment_id": 92377304, "body": "Sorry, the question was kind of miss leading, I&#39;m actually trying to update to a 1.3.+ version"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 1, "creation_date": 1539104821, "post_id": 52725907, "comment_id": 92377330, "body": "There&#39;s no such thing. <a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/6954-kotlin</a>"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 1, "creation_date": 1539105204, "post_id": 52725907, "comment_id": 92377509, "body": "Kotlin 1.3 may be released, but there is no Kotlin 1.3 plugin for IntelliJ yet."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1539105439, "post_id": 52725907, "comment_id": 92377625, "body": "There most definitely is one. <a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin/update/50621\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/6954-kotlin/update/50621</a> for example."}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 2, "last_activity_date": 1539104137, "creation_date": 1539104137, "answer_id": 52725907, "question_id": 52725878, "link": "https://stackoverflow.com/questions/52725878/how-can-i-upgrade-kotlin-version-from-1-2-51-to-1-3-on-android-studio/52725907#52725907", "title": "How can I upgrade Kotlin version from 1.2.51 to 1.3 on Android Studio", "body": "<pre><code>org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.7\n</code></pre>\n\n<p>Doesn't exist. The plugin versions use trailing zeros, so it would be:</p>\n\n<pre><code>org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.70\n</code></pre>\n\n<p>However, <code>1.2.71</code> is currently the latest, so I recommend using that instead.</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-gradle-plugin\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-gradle-plugin</a></p>\n"}, {"comments": [{"owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 0, "creation_date": 1539105927, "post_id": 52726227, "comment_id": 92377888, "body": "I had actually seen that post and tried that but on the wrong gradle file"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1539105403, "creation_date": 1539105403, "answer_id": 52726227, "question_id": 52725878, "link": "https://stackoverflow.com/questions/52725878/how-can-i-upgrade-kotlin-version-from-1-2-51-to-1-3-on-android-studio/52726227#52726227", "title": "How can I upgrade Kotlin version from 1.2.51 to 1.3 on Android Studio", "body": "<p>To update to a prerelease version of Kotlin, as described in the <a href=\"https://blog.jetbrains.com/kotlin/2018/09/kotlin-1-3-rc-is-here-migrate-your-coroutines/#how-to-try\" rel=\"nofollow noreferrer\">blog post</a>,  you need to add the <code>kotlin-eap</code> repository to your build.gradle:</p>\n\n<pre><code>buildscript {\n  repositories {\n    maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }\n  }\n}\n\nrepositories {\n  maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "is_accepted": false, "score": 4, "last_activity_date": 1539106413, "creation_date": 1539106413, "answer_id": 52726493, "question_id": 52725878, "link": "https://stackoverflow.com/questions/52725878/how-can-i-upgrade-kotlin-version-from-1-2-51-to-1-3-on-android-studio/52726493#52726493", "title": "How can I upgrade Kotlin version from 1.2.51 to 1.3 on Android Studio", "body": "<p>Thanks to yole and TheWanderer I found what was missing.</p>\n\n<p><a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin\" rel=\"nofollow noreferrer\">Here</a> under the <code>EAP-NEXT</code> tab you can find the correct version of the kotlin plugin for IntelliJ/Android Studio.</p>\n\n<p>So this is what I did to solve it:</p>\n\n<p>1 - <code>Android Studio -&gt; Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates</code>\n2 - Select Early Access Preview 1.3 on the <code>Update channel</code> drop down(If you can't find it click again)\n3 - What <a href=\"https://stackoverflow.com/a/52726227/2144418\">this answer</a> says:\nOn your project level <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n  repositories {\n    maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }\n  }\n}\n\nrepositories {\n  maven { url 'https://dl.bintray.com/kotlin/kotlin-eap' }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 0, "creation_date": 1563299109, "post_id": 57060845, "comment_id": 100650882, "body": "This is an old question and I was working with unreleased versions of Kotlin."}], "tags": [], "owner": {"reputation": 11, "user_id": 8743435, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212766791436417/picture?type=large", "display_name": "Brian Nelson", "link": "https://stackoverflow.com/users/8743435/brian-nelson"}, "is_accepted": false, "score": 0, "last_activity_date": 1563291244, "creation_date": 1563291244, "answer_id": 57060845, "question_id": 52725878, "link": "https://stackoverflow.com/questions/52725878/how-can-i-upgrade-kotlin-version-from-1-2-51-to-1-3-on-android-studio/57060845#57060845", "title": "How can I upgrade Kotlin version from 1.2.51 to 1.3 on Android Studio", "body": "<p>I just change 1.2.x version of kotlin in my gradle file like this and it worked:</p>\n\n<pre><code>buildscript \n{\n    ext.kotlin_version = '1.3.10'\n    repositories {\n    google()\n    jcenter()\n}\n</code></pre>\n"}], "owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8964, "favorite_count": 0, "accepted_answer_id": 52726227, "answer_count": 4, "score": 5, "last_activity_date": 1563291244, "creation_date": 1539103980, "last_edit_date": 1539104735, "question_id": 52725878, "link": "https://stackoverflow.com/questions/52725878/how-can-i-upgrade-kotlin-version-from-1-2-51-to-1-3-on-android-studio", "title": "How can I upgrade Kotlin version from 1.2.51 to 1.3 on Android Studio", "body": "<p>I'm having some trouble upgrading the version of Kotlin to <code>1.3-M1</code> or <code>1.3-M2</code></p>\n\n<p>I'm using <code>1.2.51</code> right now and the error I'm getting when I try using any newer versions like <code>1.3-M2</code> is:</p>\n\n<p><code>Could not find org.jetbrains.kotlin:kotlin-gradle-plugin:1.3-M2.</code></p>\n\n<p>I'm guessing it has been moved but I've looked al over and haven't found a solution.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["java", "android", "android-studio", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1539102667, "last_edit_date": 1539102667, "creation_date": 1539101419, "answer_id": 52725217, "question_id": 52725097, "link": "https://stackoverflow.com/questions/52725097/kotlin-classes-not-available-on-variant-javacompiler-dolast/52725217#52725217", "title": "Kotlin classes not available on variant.javaCompiler.doLast", "body": "<p>the task is called <code>KotlinCompile</code>, because the <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"nofollow noreferrer\">Gradle Kotlin DSL</a> differs (here's the <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples#readme\" rel=\"nofollow noreferrer\">examples</a>).</p>\n\n<p>not certain if your script could be directly migrated, but it might be <code>variant.kotlinCompiler</code>.</p>\n\n<p>alternatively, it is possible to hook into those tasks alike:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    doLast {\n\n    }\n}\n</code></pre>\n\n<p>that <code>.kt</code> is not being processed is because a Java compiler does not recognize them. would assume, that you might require <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">KAPT</a>, in order to have those AspectJ annotations processed.</p>\n"}], "owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539102667, "creation_date": 1539100900, "question_id": 52725097, "link": "https://stackoverflow.com/questions/52725097/kotlin-classes-not-available-on-variant-javacompiler-dolast", "title": "Kotlin classes not available on variant.javaCompiler.doLast", "body": "<p>I'm trying to weave Java and Kotlin class files with AspectJ the following way:</p>\n\n<pre><code>android.applicationVariants.all { variant -&gt;\n\n    JavaCompile javaCompile = variant.javaCompiler\n    javaCompile.doLast {\n        String[] args = [\"-showWeaveInfo\",\n                         \"-1.8\",\n                         \"-inpath\", javaCompile.destinationDir.toString(),\n                         \"-aspectpath\", javaCompile.classpath.asPath,\n                         \"-d\", javaCompile.destinationDir.toString(),\n                         \"-classpath\", javaCompile.classpath.asPath,\n                         \"-bootclasspath\", project.android.bootClasspath.join(\n                File.pathSeparator)]\n</code></pre>\n\n<p>I've made sure that the Kotlin paths are included in the appropriate paths, but no Kotlin classes are processed.</p>\n\n<p>How do you make sure that Kotlin class files get processed this way?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1539100444, "creation_date": 1539100444, "answer_id": 52724971, "question_id": 52724882, "link": "https://stackoverflow.com/questions/52724882/better-way-to-create-floatarray-in-kotlin/52724971#52724971", "title": "Better way to create FloatArray in Kotlin", "body": "<p>You can use the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/float-array-of.html\" rel=\"nofollow noreferrer\">floatArrayOf</a> method to create such an array, as described in <a href=\"http://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 15, "last_activity_date": 1539102040, "last_edit_date": 1539102040, "creation_date": 1539100485, "answer_id": 52724983, "question_id": 52724882, "link": "https://stackoverflow.com/questions/52724882/better-way-to-create-floatarray-in-kotlin/52724983#52724983", "title": "Better way to create FloatArray in Kotlin", "body": "<p>You have three options for creating a FloatArray:</p>\n\n<pre><code>val arr1 = floatArrayOf(.1f)\nval arr2 = FloatArray(12)\n</code></pre>\n\n<p>And, as you are doing already, <code>emptyArray</code>.</p>\n\n<p><code>floatArrayOf</code> works exactly like you'd expect; creates an array of the items with a corresponding size. It works just like <code>arrayOf</code>, just with a different return type. </p>\n\n<p>The second one creates one defined by size. I just set the size to 12 as a demo, but you get the idea. The second one is roughly equivalent to <code>float[] arr2 = new float[12];</code>.</p>\n\n<p>By default, it sets all the values to 0, but you can customize that with <code>FloatArray(12) { 1f }</code>, where <code>1f</code> can be any number you want to initialize all the items in the array as. You don't need that if you just want to set it to 0 though. </p>\n"}], "owner": {"reputation": 1443, "user_id": 2384934, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/gNaHo.jpg?s=128&g=1", "display_name": "Louis Tsai", "link": "https://stackoverflow.com/users/2384934/louis-tsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4740, "favorite_count": 0, "accepted_answer_id": 52724983, "answer_count": 2, "score": 4, "last_activity_date": 1539102040, "creation_date": 1539100146, "question_id": 52724882, "link": "https://stackoverflow.com/questions/52724882/better-way-to-create-floatarray-in-kotlin", "title": "Better way to create FloatArray in Kotlin", "body": "<p><code>val matrix: FloatArray = emptyArray&lt;Float&gt;().toFloatArray()</code></p>\n\n<p>This definitely works, it just looks pretty ugly. Is there no method to create <code>XXXArray</code> directly? Did I miss something?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1890, "user_id": 5164318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VjzX.jpg?s=128&g=1", "display_name": "emandt", "link": "https://stackoverflow.com/users/5164318/emandt"}, "edited": false, "score": 0, "creation_date": 1539100142, "post_id": 52724728, "comment_id": 92375065, "body": "It&#39;s Kotlin related: <a href=\"https://stackoverflow.com/questions/42646016/what-does-the-arrow-operator-do-in-kotlin\" title=\"what does the arrow operator do in kotlin\">stackoverflow.com/questions/42646016/&hellip;</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539100303, "post_id": 52724728, "comment_id": 92375147, "body": "Are you using Java 8?"}, {"owner": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "reply_to_user": {"reputation": 1890, "user_id": 5164318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VjzX.jpg?s=128&g=1", "display_name": "emandt", "link": "https://stackoverflow.com/users/5164318/emandt"}, "edited": false, "score": 0, "creation_date": 1539100462, "post_id": 52724728, "comment_id": 92375247, "body": "Thanks @emandt, but how does it work in Java? Since the snippet of Java."}, {"owner": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1539100477, "post_id": 52724728, "comment_id": 92375256, "body": "Yes @Zoe, using Java 8."}], "answers": [{"tags": [], "owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "is_accepted": false, "score": 1, "last_activity_date": 1539100744, "creation_date": 1539100744, "answer_id": 52725045, "question_id": 52724728, "link": "https://stackoverflow.com/questions/52724728/unable-to-find-a-reference-to-the-return-in-this-method/52725045#52725045", "title": "Unable to find a reference to the return in this method", "body": "<p>Basically it's a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda</a>.</p>\n\n<blockquote>\n  <p>One issue with anonymous classes is that if the implementation of your\n  anonymous class is very simple, such as an interface that contains\n  only one method, then the syntax of anonymous classes may seem\n  unwieldy and unclear. In these cases, you're usually trying to pass\n  functionality as an argument to another method, such as what action\n  should be taken when someone clicks a button. Lambda expressions\n  enable you to do this, to treat functionality as method argument, or\n  code as data.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/Yarikx/reductor/blob/master/lib/src/main/java/com/yheriatovych/reductor/Dispatcher.java\" rel=\"nofollow noreferrer\">Dispatcher</a> is an one class interface. One class interfaces are called Functional Interfaces and from java 8 can be represented by a lambda. So what you are seeing is an implementation of Dispatchers <em>dispatch</em> method.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 5, "last_activity_date": 1539101837, "creation_date": 1539101837, "answer_id": 52725325, "question_id": 52724728, "link": "https://stackoverflow.com/questions/52724728/unable-to-find-a-reference-to-the-return-in-this-method/52725325#52725325", "title": "Unable to find a reference to the return in this method", "body": "<p>What you have is lambda. It's a shortened form of writing some pieces of code. Of course, not everything has lambda, but this does. In your case, you create an anonymous class matching <code>Dispatcher</code>. </p>\n\n<p>With Java 8 language features (or Java 8 itself if you're not on Android) enables interfaces with one method, optionally annotated @FunctionalInterface, to be declared with lambda. I.e. this:</p>\n\n<pre><code>Runnable x = new Runnable() {\n    @Override public void run(){\n        // Foo bar\n    }\n};\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre><code>Runnable x = () -&gt; {\n    // Foo bar\n};\n</code></pre>\n\n<p>This applies to all one-method interfaces. They can be annotated @FunctionalInterface, but it's not required. </p>\n\n<p>Dispatcher is one, from the code you posted. The syntax is pretty basic:</p>\n\n<pre><code>() -&gt; {\n     // () means 0 args. It can contain arguments if necessary \n    return \"return value if applicable\";\n}\n</code></pre>\n\n<p>With arguments:</p>\n\n<pre><code>oneArg -&gt; {\n    //Method body\n}\n(arg1, arg2) -&gt; {\n    // MethodBody\n}\n</code></pre>\n\n<p>Methods with return types can be simplified to one-liners if you feel like it:</p>\n\n<pre><code>() -&gt; \"some string return type\"\n</code></pre>\n\n<p>And the same pattern with arguments; I'm not going to add examples for that again. The same as above still applies.</p>\n\n<p>I've used varying parenthesis in this answer. There is actually some \"rules\" around the use of them. The compiler will complain if the syntax is wrong, but generally:</p>\n\n<ul>\n<li>One argument doesn't need () around it. It's optional here. </li>\n<li>Zero or two and up arguments require them. </li>\n</ul>\n\n<p>It doesn't need explicit type declaration in Kotlin or Java; it's handled automatically. As for Java, it doesn't need i.e. <code>int x</code> if the interface declares a function with an int argument. </p>\n\n<p>There are some exceptions in Kotlin (I've encountered the compiler complaining it failed to infer types, just manually setting the type made it compile again), but there's not many. </p>\n\n<p>Anyways, <code>action</code> here is the single argument defined in the method. You're basically doing lambda-based inheritance, so you're required to have it in the method, but you don't have to use it (depending on your implementation). </p>\n\n<p>In Kotlin, lambda for interfaces is slightly different. Interfaces declared in Java can be used in Kotlin lambda:</p>\n\n<pre><code>override fun create(store: Store&lt;AppState&gt;, nextDispatcher: Dispatcher) /*: Dispatcher*/\n        = Dispatcher { x -&gt; //Arguments declared here\n            // add your actions here\n        }\n</code></pre>\n\n<p>However, <a href=\"https://stackoverflow.com/questions/43737785/kotlin-interface-does-not-have-constructors\">this bug</a> prevents Kotlin-declared interfaces from being declared this way. You'd need to use <code>object : WhateverInterface</code> and add the body. (Encountered that in 1.2.70 too, so it's not fixed yet). </p>\n"}], "owner": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52725325, "answer_count": 2, "score": 1, "last_activity_date": 1539101837, "creation_date": 1539099590, "question_id": 52724728, "link": "https://stackoverflow.com/questions/52724728/unable-to-find-a-reference-to-the-return-in-this-method", "title": "Unable to find a reference to the return in this method", "body": "<p>I was checking out this <a href=\"https://github.com/Yarikx/reductor\" rel=\"nofollow noreferrer\">repository</a> for a redux-like implementation for android. Here in a <a href=\"https://github.com/Yarikx/reductor/blob/master/lib/src/main/java/com/yheriatovych/reductor/Middleware.java\" rel=\"nofollow noreferrer\">file</a>, I found a method implementation as below:</p>\n\n<pre><code>@Override\npublic Dispatcher create(Store&lt;AppState&gt; store, Dispatcher \nnextDispatcher) {\n   return action -&gt; {\n    log(\"dispatching action: \" + action);\n    nextDispatcher.dispatch(action);\n    log(\"new state: \" + store.getState());\n       };\n}\n</code></pre>\n\n<p>I am not able to understand how the <code>return</code> of this method works, as there is no reference to <code>action</code>?? Also would like to know how to convert this method implementation to <strong>Kotlin</strong>, as the Android Studio's Kotlin converter is not helping in this case. Would be grateful for any help on this. Thanks!</p>\n"}, {"tags": ["spring", "mongodb", "spring-boot", "kotlin", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 9279, "user_id": 6440033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f070f5eb58ce80fa0b975a805e712362?s=128&d=identicon&r=PG&f=1", "display_name": "dnickless", "link": "https://stackoverflow.com/users/6440033/dnickless"}, "edited": false, "score": 1, "creation_date": 1539112707, "post_id": 52724299, "comment_id": 92381045, "body": "Can you please post your JSON document the way you get it through mongo.exe or Robo3T?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6779798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MbxHoH7Lsn8/AAAAAAAAAAI/AAAAAAAAAQg/b9Lob9g3UK4/photo.jpg?sz=128", "display_name": "Tristan", "link": "https://stackoverflow.com/users/6779798/tristan"}, "edited": false, "score": 0, "creation_date": 1539099760, "post_id": 52724670, "comment_id": 92374853, "body": "I implemented your suggestion using <code>import org.springframework.data.annotation.Id </code> but the result remains the same."}, {"owner": {"reputation": 1275, "user_id": 6090847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f90aef846cb2d35075ea9c2e576352?s=128&d=identicon&r=PG", "display_name": "Matej Marconak", "link": "https://stackoverflow.com/users/6090847/matej-marconak"}, "reply_to_user": {"reputation": 11, "user_id": 6779798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MbxHoH7Lsn8/AAAAAAAAAAI/AAAAAAAAAQg/b9Lob9g3UK4/photo.jpg?sz=128", "display_name": "Tristan", "link": "https://stackoverflow.com/users/6779798/tristan"}, "edited": false, "score": 0, "creation_date": 1539099965, "post_id": 52724670, "comment_id": 92374965, "body": "How do you persist new data?"}, {"owner": {"reputation": 11, "user_id": 6779798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MbxHoH7Lsn8/AAAAAAAAAAI/AAAAAAAAAQg/b9Lob9g3UK4/photo.jpg?sz=128", "display_name": "Tristan", "link": "https://stackoverflow.com/users/6779798/tristan"}, "edited": false, "score": 0, "creation_date": 1539100043, "post_id": 52724670, "comment_id": 92375003, "body": "It is another program taking care of adding data. I am only reading them."}], "tags": [], "owner": {"reputation": 1275, "user_id": 6090847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3f90aef846cb2d35075ea9c2e576352?s=128&d=identicon&r=PG", "display_name": "Matej Marconak", "link": "https://stackoverflow.com/users/6090847/matej-marconak"}, "is_accepted": false, "score": 1, "last_activity_date": 1539099378, "creation_date": 1539099378, "answer_id": 52724670, "question_id": 52724299, "link": "https://stackoverflow.com/questions/52724299/spring-boot-mongo-findbyid-returns-null/52724670#52724670", "title": "Spring Boot Mongo findById returns null", "body": "<p>Try mark <code>_id</code> with annotation <code>@Id</code>. The <code>@Id</code> annotation is used to specify the identifier for Spring.</p>\n\n<pre><code>data class MyDocument(@Id val _id: String, val name: String)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6779798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MbxHoH7Lsn8/AAAAAAAAAAI/AAAAAAAAAQg/b9Lob9g3UK4/photo.jpg?sz=128", "display_name": "Tristan", "link": "https://stackoverflow.com/users/6779798/tristan"}, "edited": false, "score": 1, "creation_date": 1539100800, "post_id": 52724992, "comment_id": 92375429, "body": "This solution is not working either. This was my initial code."}], "tags": [], "owner": {"reputation": 311, "user_id": 6361739, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--kjRIlYzrUI/AAAAAAAAAAI/AAAAAAAAAZc/4mVq5YmzDqg/photo.jpg?sz=128", "display_name": "Fernix", "link": "https://stackoverflow.com/users/6361739/fernix"}, "is_accepted": false, "score": 0, "last_activity_date": 1539100535, "creation_date": 1539100535, "answer_id": 52724992, "question_id": 52724299, "link": "https://stackoverflow.com/questions/52724299/spring-boot-mongo-findbyid-returns-null/52724992#52724992", "title": "Spring Boot Mongo findById returns null", "body": "<p>Ypu could define in your repository:</p>\n\n<pre><code>public interface MyDocumentRepository extends MongoRepository&lt;MyDocument, String&gt; {\n  Pets findBy_id(ObjectId _id);\n}\n</code></pre>\n\n<p>and use it : </p>\n\n<pre><code>myDocumentRepository.findBy_id(\"a2z3e44R\");\n</code></pre>\n\n<p>for more info  <a href=\"https://medium.com/@gtommee97/rest-api-java-spring-boot-and-mongodb-4dffbcabbaf5\" rel=\"nofollow noreferrer\">see</a></p>\n\n<p>or </p>\n\n<pre><code>ObjectId objID = new ObjectId(\"a2z3e44R\");\n      query.addCriteria(Criteria.where(\"_id\").lt(objID));\n</code></pre>\n\n<p>like this other answer <a href=\"https://stackoverflow.com/questions/30873713/mongotemplate-query-objectid-according-to-greater-than-gt-or-less-than-lt\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 3565, "user_id": 5778099, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c887ca8db34ff3127f554efe1c365fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Nestor Milyaev", "link": "https://stackoverflow.com/users/5778099/nestor-milyaev"}, "edited": false, "score": 0, "creation_date": 1585580237, "post_id": 59465594, "comment_id": 107803259, "body": "That is a winner answer"}], "tags": [], "owner": {"reputation": 11, "user_id": 12589673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74098d6adf70a3674bdaddb06121c35b?s=128&d=identicon&r=PG&f=1", "display_name": "guodong508", "link": "https://stackoverflow.com/users/12589673/guodong508"}, "is_accepted": false, "score": 1, "last_activity_date": 1577175206, "last_edit_date": 1577175206, "creation_date": 1577173998, "answer_id": 59465594, "question_id": 52724299, "link": "https://stackoverflow.com/questions/52724299/spring-boot-mongo-findbyid-returns-null/59465594#59465594", "title": "Spring Boot Mongo findById returns null", "body": "<p>You should indicate the type of the id like this  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Article {\n\n    @MongoId(value = FieldType.OBJECT_ID)\n    private String id;\n\n    private String title;\n\n    private String desc;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6779798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MbxHoH7Lsn8/AAAAAAAAAAI/AAAAAAAAAQg/b9Lob9g3UK4/photo.jpg?sz=128", "display_name": "Tristan", "link": "https://stackoverflow.com/users/6779798/tristan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5014, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1577175206, "creation_date": 1539098002, "question_id": 52724299, "link": "https://stackoverflow.com/questions/52724299/spring-boot-mongo-findbyid-returns-null", "title": "Spring Boot Mongo findById returns null", "body": "<p>I have a collection, with documents having a field named <code>_id</code> of type <code>String</code>, not generated manually.</p>\n\n<p>I have been trying to get a document using its id.</p>\n\n<pre><code>    val criteria = Criteria.where(\"_id\").`is`(\"a2z3e44R\")\n    val document = mongoTemplate.findOne(Query.query(criteria), MyDocument::class.java) // returns null\n\n    val criteria = Criteria.where(\"_id\").`is`(ObjectId(\"a2z3e44R\"))\n    val document = mongoTemplate.findOne(Query.query(criteria), MyDocument::class.java) // returns null\n\n    val document = mongoTemplate.findById(\"a2z3e44R\", MyDocument::class.java) // returns null\n\n    mongoTemplate.findAll(MyDocument::class.java).first { myDocument -&gt;\n        myDocument._id == \"a2z3e44R\"\n    } // OK...\n</code></pre>\n\n<p>MyDocument is </p>\n\n<pre><code>data class MyDocument(val _id: String, val name: String)\n</code></pre>\n\n<p>Trying to find a document by another field works.</p>\n\n<p>An idea of what I could be missing or a workaround? </p>\n"}, {"tags": ["postgresql", "hibernate", "spring-boot", "jpa", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "edited": false, "score": 0, "creation_date": 1539114494, "post_id": 52726933, "comment_id": 92381764, "body": "Thanks, that was the solution :-) I tried using the all-open plugin and configured it with Hibernates @Entity annotation. However, my code failed to compile because i use private setters for most of my properties. Do you know if there&#39;s a way around this?"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "edited": false, "score": 0, "creation_date": 1539149431, "post_id": 52726933, "comment_id": 92391151, "body": "Could you provide the source code with the private setters and the compilation error message?"}, {"owner": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "edited": false, "score": 0, "creation_date": 1539161348, "post_id": 52726933, "comment_id": 92397059, "body": "I have updated the repository, specifically the Apartment class. The error is now the following: ...../demo/src/main/kotlin/com/example/demo/Apartment.kt: (17, 17): Private setters are not allowed for open properties. The error does make sense to me. However i would like to keep my setters private, when the properties are not supposed to be mutated from the outside. So if it was possible to remove private from the setter at build time via a plugin. That way my own code, can not call the setter, but hibernate would still be able to proxy the setter. Have you heard of such a plugin? :-) Thanks!"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "edited": false, "score": 0, "creation_date": 1539238119, "post_id": 52726933, "comment_id": 92430100, "body": "You could use <code>internal</code> instead of <code>private</code>. <code>internal</code> means , it is visible everywhere in the same module/file (<a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/visibility-modifiers.html</a>). As long as you put each entity in one file, it means the same as <code>private</code>."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1539108309, "creation_date": 1539108309, "answer_id": 52726933, "question_id": 52723248, "link": "https://stackoverflow.com/questions/52723248/hibernate-lazy-relations-are-fetched-n1-without-properties-being-called-kotli/52726933#52726933", "title": "Hibernate lazy relations are fetched n+1 without properties being called - Kotlin", "body": "<p>You have to <code>open</code> the entity classes. Hibernate requires <code>open</code> classes to create proxies to support  <code>LAZY</code> - <code>ManyToOne</code> fields:</p>\n\n<pre><code>@Entity\nopen class Apartment(\n    @Id\n    private val id: String,\n    private val heading: String,\n    @ManyToOne(fetch = LAZY)\n    private val building: Building\n)\n\n@Entity\nopen class Building(\n    @Id\n    private val id: String,\n    private val heading: String,\n    @ManyToOne(fetch = FetchType.LAZY)\n    private val owner: User\n)\n\n@Entity\n@Table(name=\"users\")\nopen class User(\n    @Id\n    private val id: String,\n    private val email: String\n)\n</code></pre>\n\n<p>You can also use the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#all-open-compiler-plugin\" rel=\"nofollow noreferrer\"><code>all-open</code>-Plugin</a>.</p>\n"}], "owner": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 52726933, "answer_count": 1, "score": 0, "last_activity_date": 1539158828, "creation_date": 1539094683, "last_edit_date": 1539158828, "question_id": 52723248, "link": "https://stackoverflow.com/questions/52723248/hibernate-lazy-relations-are-fetched-n1-without-properties-being-called-kotli", "title": "Hibernate lazy relations are fetched n+1 without properties being called - Kotlin", "body": "<p>I am using hibernate and doing a simple query to select all of a given entity. I only want the entity and not its relations. However hibernate does fetch the relations and the relations of the relations, in a n+1 manner.</p>\n\n<p>It's a Spring Boot application and written in Kotlin.</p>\n\n<p>The relations are annotated with FetchType.LAZY and the query i'm doing looks like so:</p>\n\n<pre><code>entityManager.createQuery(\"SELECT a FROM Apartment a\")\n    .resultList\n</code></pre>\n\n<p>This is the only code that i am calling and i do NOT even return the results from the controller, so it is not some serialization library that calls the lazy properties.</p>\n\n<p>These are the entities:</p>\n\n<pre><code>@Entity\nclass Apartment(\n        @Id\n        private val id: String,\n        private val heading: String,\n        @ManyToOne(fetch = LAZY)\n        private val building: Building\n)\n\n@Entity\nclass Building(\n        @Id\n        private val id: String,\n        private val heading: String,\n        @ManyToOne(fetch = FetchType.LAZY)\n        private val owner: User\n)\n\n@Entity\n@Table(name=\"users\")\nclass User(\n        @Id\n        private val id: String,\n        private val email: String\n)\n</code></pre>\n\n<p>I have turned on hibernate query logging, and when i run the query above it looks like:</p>\n\n<pre><code>Fetch all apartments\nFetch buildings for apartment 1\nFetch users for building 1\nfetch buildings for apartment 2\nfetch users for building 2\n....\n</code></pre>\n\n<p>I have created a git repository that reproduces the problem: <a href=\"https://github.com/Herlevsen/hibernate-lazy-fetch-repoduction\" rel=\"nofollow noreferrer\">https://github.com/Herlevsen/hibernate-lazy-fetch-repoduction</a></p>\n\n<p>It comes setup with a docker-compose file that launches a postgres database, and the application automatically creates the schema and creates some dummy data on startup. So it's fairly easy to get up and running.</p>\n\n<p>I'm really hoping someone can tell me what's going on.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "android", "kotlin", "android-transitions", "android-jetpack"], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 1541269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKLKS.jpg?s=128&g=1", "display_name": "tzg", "link": "https://stackoverflow.com/users/1541269/tzg"}, "edited": false, "score": 0, "creation_date": 1583430765, "post_id": 56739196, "comment_id": 107123459, "body": "I tried your implementation.  This seems to be exactly what I&#39;m looking for.  I have a drawer menu with several fragments that I want to add animation transition to.  I added the code to my onCreate method in my MainActivity.  The setNavigationItemSelectedListener is not getting called when I make a selection from the Drawer Menu."}, {"owner": {"reputation": 3492, "user_id": 7210237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWFIV.jpg?s=128&g=1", "display_name": "Jenea Vranceanu", "link": "https://stackoverflow.com/users/7210237/jenea-vranceanu"}, "reply_to_user": {"reputation": 489, "user_id": 1541269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKLKS.jpg?s=128&g=1", "display_name": "tzg", "link": "https://stackoverflow.com/users/1541269/tzg"}, "edited": false, "score": 0, "creation_date": 1585423825, "post_id": 56739196, "comment_id": 107755750, "body": "@tzg, I suppose that <code>setNavigationItemSelectedListener </code> is not getting called because navigation component either doesn&#39;t know about the Drawer or the way navigation was set up is causing the issue. I will extend the answer with the configuration used in my project."}], "tags": [], "owner": {"reputation": 3492, "user_id": 7210237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWFIV.jpg?s=128&g=1", "display_name": "Jenea Vranceanu", "link": "https://stackoverflow.com/users/7210237/jenea-vranceanu"}, "is_accepted": false, "score": 3, "last_activity_date": 1596700057, "last_edit_date": 1596700057, "creation_date": 1561388042, "answer_id": 56739196, "question_id": 52723201, "link": "https://stackoverflow.com/questions/52723201/android-navigation-component-with-transition-from-drawerlayout/56739196#56739196", "title": "Android Navigation Component with Transition from Drawerlayout", "body": "<p>Sarah! Yes, it is possible. You can add your custom listener to handle navigation item selection and add animation there. I had to add one myself, for other purposes, but it definitely fits as a solution for your task.</p>\n<h2>How to:</h2>\n<ol>\n<li>Add layout with drawer. Example:</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:id=&quot;@+id/drawer_layout&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;\n   android:fitsSystemWindows=&quot;true&quot;\n   tools:openDrawer=&quot;start&quot;&gt;\n\n   &lt;!-- Other views can be added here, or below --&gt;\n\n   &lt;com.google.android.material.navigation.NavigationView\n       android:id=&quot;@+id/nav_view&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;match_parent&quot;\n       android:layout_gravity=&quot;start&quot;\n       app:menu=&quot;@menu/menu_for_drawer&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Find <code>NavigationView</code> by ID and assign it to a variable <code>private NavigationView navigationView</code> in your activity, that you may extract by using <code>findViewById(R.id.nav_view)</code>. This step is optional. You may find the view and assing naviation item selection listener without holding a reference to NavigationView;</li>\n<li>Set navigation item selection listener:</li>\n</ol>\n<pre><code>navigationView.setNavigationItemSelectedListener(menuItem -&gt; {\n           @IdRes\n           int id = menuItem.getItemId();\n           NavOptions.Builder optionsBuilder = new NavOptions.Builder();\n\n           switch (id) {\n               case R.id.first_menu_item_id: {\n                   // Lets assume for the first menu item navigation is default\n                   optionsBuilder\n                           .setEnterAnim(R.anim.nav_default_enter_anim)\n                           .setExitAnim(R.anim.nav_default_exit_anim)\n                           .setPopEnterAnim(R.anim.nav_default_pop_enter_anim)\n                           .setPopExitAnim(R.anim.nav_default_pop_exit_anim);\n               }\n               break;\n               case R.id.second_menu_item_id: {\n                   // Lets assume for the second menu item navigation is missing\n                   // empty here\n               }\n               break;\n               case R.id.thrid_menu_item_id: {\n                   // Lets assume for the third menu item navigation is custom\n                   optionsBuilder\n                           .setEnterAnim(R.anim.slide_in_right)\n                           .setExitAnim(R.anim.slide_out_left)\n                           .setPopEnterAnim(R.anim.slide_in_left)\n                           .setPopExitAnim(R.anim.slide_out_right);\n               }\n               break;\n           }\n\n           navController.navigate(id, null, optionsBuilder.build());\n           \n           // Do not forget to close the drawer\n           // drawer.closeDrawers();\n           return true;\n       });\n</code></pre>\n<p>This should help! Any thoughts and questions are welcome!</p>\n<hr />\n<p>In case you are interested in animations mentioned in example:</p>\n<ul>\n<li><code>slide_in_left.xml</code></li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;translate android:fromXDelta=&quot;-100%&quot; android:toXDelta=&quot;0%&quot;\n        android:fromYDelta=&quot;0%&quot; android:toYDelta=&quot;0%&quot;\n        android:duration=&quot;300&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<ul>\n<li><code>slide_in_right.xml</code></li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;translate android:fromXDelta=&quot;100%&quot; android:toXDelta=&quot;0%&quot;\n        android:fromYDelta=&quot;0%&quot; android:toYDelta=&quot;0%&quot;\n        android:duration=&quot;300&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<ul>\n<li><code>slide_out_left.xml</code></li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;translate android:fromXDelta=&quot;0%&quot; android:toXDelta=&quot;-100%&quot;\n        android:fromYDelta=&quot;0%&quot; android:toYDelta=&quot;0%&quot;\n        android:duration=&quot;300&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<ul>\n<li><code>slide_out_right.xml</code></li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;translate android:fromXDelta=&quot;0%&quot; android:toXDelta=&quot;100%&quot;\n        android:fromYDelta=&quot;0%&quot; android:toYDelta=&quot;0%&quot;\n        android:duration=&quot;300&quot;/&gt;\n&lt;/set&gt;\n</code></pre>\n<h2>Update (28 March 2020)</h2>\n<p>In case this solution doesn't work with the Drawer Menu try to use it <strong>with</strong> the following code.</p>\n<p>Note that I placed <code>setNavigationItemSelectedListener</code> call at the end of the method due to <code>NavigationUI</code> functions sometimes <strong>settings it's own listener</strong>. That could also be the cause of problem.</p>\n<p>There is a lot going on behind <code>NavigationUI</code> functions and if something doesn't work right check out implementation of the functions you use.</p>\n<pre><code>private void setupNavigation() {\n        // Set custom toolbar as action bar\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        // Setup navigation with toolbar and drawer\n        NavController navController = Navigation.findNavController(this, R.id.main_nav_host_fragment);\n\n        /* The set of destinations by id considered at the top level \n        of your information hierarchy. The Up button will not be displayed \n        when on these destinations. */\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(R.id.first_fragmentId_from_nav_graph, R.id.second_fragmentId_from_nav_graph, R.id.third_fragmentId_from_nav_graph)); \n        /* Configuration options for {@link NavigationUI} methods that interact with implementations of the\n        app bar pattern */\n        AppBarConfiguration configuration = new AppBarConfiguration.Builder(set).setDrawerLayout(drawer).build();\n\n        NavigationUI.setupWithNavController(toolbar, navController, configuration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n        NavigationUI.setupActionBarWithNavController(this, navController, configuration);\n        \n        // And here you set the listener.\n        navigationView.setNavigationItemSelectedListener(...);\n    }\n</code></pre>\n<p>There are multiple calls to <code>NavigationUI</code> functions like <code>setupWithNavController</code> and <code>setupActionBarWithNavController</code>. The reason is that behind each one of them is added one more destination changed listener to navigation controller. See <a href=\"https://developer.android.com/reference/androidx/navigation/NavController#addOnDestinationChangedListener(androidx.navigation.NavController.OnDestinationChangedListener)\" rel=\"nofollow noreferrer\">addOnDestinationChangedListener</a> for more information about the listener.</p>\n<ol>\n<li>First call adds <code>new ToolbarOnDestinationChangedListener(toolbar, configuration)</code>;</li>\n<li>Second call adds custom implementation of <code>NavController.OnDestinationChangedListener</code> that updates your navigation view in drawer correctly;</li>\n<li>Third call adds <code>new ActionBarOnDestinationChangedListener(activity, configuration)</code>.</li>\n</ol>\n<p>This configuration allows me to use a single application on a tablet with a Master-Detail pattern and on the phone as a usual application with Drawer Menu.</p>\n<p>Referenced string resources are just:</p>\n<pre><code>&lt;string name=&quot;navigation_drawer_open&quot;&gt;Open navigation drawer&lt;/string&gt;\n&lt;string name=&quot;navigation_drawer_close&quot;&gt;Close navigation drawer&lt;/string&gt;\n</code></pre>\n<p>But they are required for accessibility. It's very good to translate them if you support multiple languages. Basically anything used for accessibility is generally good to translate.</p>\n"}, {"tags": [], "owner": {"reputation": 1231, "user_id": 962638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nSEw6.png?s=128&g=1", "display_name": "einUsername", "link": "https://stackoverflow.com/users/962638/einusername"}, "is_accepted": false, "score": 0, "last_activity_date": 1608721837, "creation_date": 1608721837, "answer_id": 65423330, "question_id": 52723201, "link": "https://stackoverflow.com/questions/52723201/android-navigation-component-with-transition-from-drawerlayout/65423330#65423330", "title": "Android Navigation Component with Transition from Drawerlayout", "body": "<p>There is a simpler way. Internally <code>NavigationUI</code> builds the <code>NavOptions</code> like this:</p>\n<pre><code>    if (navController.getCurrentDestination().getParent().findNode(item.getItemId())\n            instanceof ActivityNavigator.Destination) {\n        builder.setEnterAnim(R.anim.nav_default_enter_anim)\n                .setExitAnim(R.anim.nav_default_exit_anim)\n                .setPopEnterAnim(R.anim.nav_default_pop_enter_anim)\n                .setPopExitAnim(R.anim.nav_default_pop_exit_anim);\n\n    } else {\n        builder.setEnterAnim(R.animator.nav_default_enter_anim)\n                .setExitAnim(R.animator.nav_default_exit_anim)\n                .setPopEnterAnim(R.animator.nav_default_pop_enter_anim)\n                .setPopExitAnim(R.animator.nav_default_pop_exit_anim);\n    }\n</code></pre>\n<p>You can just create these directories yourself and override the defaults. In my case I had to create the <code>animator</code> folder (not <code>anim</code>!) in <code>/res/</code> and put 4 new animation files with these names in it. But maybe try both folders to be sure.<br />\nAt the moment it works perfectly in a MaterialComponents Theme: the selected drawer item still get's highlighted and the appbar animation is still working too (unlike with some other methods).</p>\n"}], "owner": {"reputation": 440, "user_id": 6839328, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/457be1db38e47392175537a10d82bb88?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah P&#246;hler", "link": "https://stackoverflow.com/users/6839328/sarah-p%c3%b6hler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1611, "favorite_count": 3, "answer_count": 2, "score": 6, "last_activity_date": 1608721837, "creation_date": 1539094509, "last_edit_date": 1556698500, "question_id": 52723201, "link": "https://stackoverflow.com/questions/52723201/android-navigation-component-with-transition-from-drawerlayout", "title": "Android Navigation Component with Transition from Drawerlayout", "body": "<p>Is it possible to change the transition effect from opening a fragment from a drawerlayout with the android navigation component. There is nothing in the android docs.</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "fragment", "onclicklistener"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1539090430, "post_id": 52721818, "comment_id": 92368805, "body": "Because Fragment is not context. Use <code>getActivity()</code>"}, {"owner": {"reputation": 394, "user_id": 3001746, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85f3d69069d27e5cf8a126b0e459d9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Harpreet Singh", "link": "https://stackoverflow.com/users/3001746/harpreet-singh"}, "edited": false, "score": 0, "creation_date": 1539090510, "post_id": 52721818, "comment_id": 92368865, "body": "<a href=\"https://stackoverflow.com/a/51576189/3001746\">stackoverflow.com/a/51576189/3001746</a>"}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "edited": false, "score": 0, "creation_date": 1539091088, "post_id": 52721818, "comment_id": 92369292, "body": "Harpreet Singh&#39;s comment is the solution. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 4, "creation_date": 1539090627, "post_id": 52721857, "comment_id": 92368962, "body": "With all due respect: <b>This could have been a comment</b>"}], "tags": [], "owner": {"reputation": 377, "user_id": 9194223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/889e8c66e4b1c2cb750e770e492896f5?s=128&d=identicon&r=PG&f=1", "display_name": "Parul", "link": "https://stackoverflow.com/users/9194223/parul"}, "is_accepted": false, "score": 2, "last_activity_date": 1539090473, "creation_date": 1539090473, "answer_id": 52721857, "question_id": 52721818, "link": "https://stackoverflow.com/questions/52721818/how-can-i-call-an-intent-from-a-fragment-kotlin/52721857#52721857", "title": "How can I call an intent from a fragment KOTLIN", "body": "<p>This is because you have added return statement in starting. That's why code after return is unreachable.</p>\n"}], "owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4079, "favorite_count": 0, "closed_date": 1539090463, "answer_count": 1, "score": -1, "last_activity_date": 1539092437, "creation_date": 1539090367, "last_edit_date": 1539092437, "question_id": 52721818, "link": "https://stackoverflow.com/questions/52721818/how-can-i-call-an-intent-from-a-fragment-kotlin", "closed_reason": "Duplicate", "title": "How can I call an intent from a fragment KOTLIN", "body": "<p>Calling an intent with onClick Listener from an activity is not a problem, but the same code in a fragment throws an unrechable code error in Intent that says none of its constructors can be called with these parameters. Here's my code:</p>\n\n<p>class FragEqCrew : Fragment() {</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.frag_eq_crew, container, false)\n\n    eq_row.setOnClickListener(({\n        var clickintent = Intent(this@FragEqCrew, Equipment::class.java)\n        startActivity(clickintent)\n\n    }))\n\n}\n}\n</code></pre>\n"}, {"tags": ["java", "linux", "bash", "kotlin"], "comments": [{"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1539091061, "post_id": 52721456, "comment_id": 92369274, "body": "could you try using double fork adding parentheses around command with apersand <code>(&#47;usr&#47;bin&#47;liquidsoap $1 -- $2 &gt; &#47;dev&#47;null 2&gt;&amp;1 &amp;)</code>"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1539091613, "post_id": 52721456, "comment_id": 92369677, "body": "That causes ` syntax error near unexpected token <code>&#47;usr&#47;bin&#47;liquidsoap&#39;</code>, i&#39;ve&#39; tried moving the ampersand out of the brackets too, still says syntax error."}, {"owner": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1539100699, "post_id": 52721456, "comment_id": 92375372, "body": "sorry it wasn&#39;t clear enough without the <code>nohup</code>"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 16761, "user_id": 1454708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eSzgk.png?s=128&g=1", "display_name": "Nahuel Fouilleul", "link": "https://stackoverflow.com/users/1454708/nahuel-fouilleul"}, "edited": false, "score": 0, "creation_date": 1539101403, "post_id": 52721456, "comment_id": 92375691, "body": "basically, this is the whole script: <code>&#47;usr&#47;bin&#47;liquidsoap $1 -- $2</code> where $1 is .liq script and $2 is a URL"}], "answers": [{"tags": [], "owner": {"reputation": 2838, "user_id": 4154375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d56dba9cd817fb4dfb662c6a91010fbb?s=128&d=identicon&r=PG&f=1", "display_name": "pjh", "link": "https://stackoverflow.com/users/4154375/pjh"}, "is_accepted": true, "score": 1, "last_activity_date": 1539173077, "creation_date": 1539173077, "answer_id": 52739858, "question_id": 52721456, "link": "https://stackoverflow.com/questions/52721456/stop-bash-script-from-dying-when-exiting-java-kotlin-application/52739858#52739858", "title": "Stop bash script from dying when exiting Java / Kotlin application", "body": "<p><code>nohup</code> + <code>&amp;</code> does not \"spawn a new console\".  It just creates a background process that ignores the hangup signal.  See the <a href=\"https://en.wikipedia.org/wiki/Nohup\" rel=\"nofollow noreferrer\">Wikipedia article on nohup</a> for more information.</p>\n\n<p>I don't know why killing the application kills the program that was run from it, but I can suggest a few things to try.</p>\n\n<p>The double fork suggested by Nahuel Fouilleul is a good idea.  An example of proper syntax is:</p>\n\n<pre><code>( nohup /usr/bin/liquidsoap $1 -- $2 &lt;/dev/null &gt;/dev/null 2&gt;&amp;1 &amp; )\nsleep 1 # Wait to ensure that 'nohup' takes effect\n</code></pre>\n\n<p>The <code>&lt;/dev/null</code> isn't necessary with <code>nohup</code>, but I've added it for consistency.  The <code>sleep 1</code> is an attempt to avoid a possible race condition between foreground and background processes.</p>\n\n<p>If that doesn't work, the <code>setsid</code> command, if you've got it, can further insulate a child process from its parent by putting it in a separate process group and session.  Example usage is:</p>\n\n<pre><code>( setsid /usr/bin/liquidsoap $1 -- $2 &lt;/dev/null &gt;/dev/null 2&gt;&amp;1 &amp; )\nsleep 1 # Wait to ensure that 'setsid' takes effect\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/10247721/4154375\">On writing a Linux shell script to safely detach programs from a terminal</a> and <a href=\"https://unix.stackexchange.com/q/3886/264812\">Difference between nohup, disown and &amp;</a> for more information about <code>setsid</code>.</p>\n\n<p>If you haven't got <code>setsid</code>, or it doesn't help, the next option is to use a daemon to run the command (making it completely unrelated to the process that sets it up to be run).  The traditional way to do that is with the <code>at</code> command:</p>\n\n<pre><code>echo \"/usr/bin/liquidsoap $1 -- $2\" | at now\n</code></pre>\n\n<p>That requires that the <code>atd</code> daemon is running and that you have permission to use <code>at</code>.  See <a href=\"https://stackoverflow.com/q/13905886/4154375\">Run command 'at' 5 seconds from now</a> for more information about <code>at</code>.</p>\n\n<p>The modern way to run a process from a daemon is to use <code>systemd-run</code>.  See <a href=\"https://unix.stackexchange.com/q/464905/264812\">Shutdown, suspend require authentication when scheduled in at</a> for an example of using <code>systemd-run</code> instead of <code>at</code>.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 52739858, "answer_count": 1, "score": 0, "last_activity_date": 1539173077, "creation_date": 1539089239, "last_edit_date": 1539091668, "question_id": 52721456, "link": "https://stackoverflow.com/questions/52721456/stop-bash-script-from-dying-when-exiting-java-kotlin-application", "title": "Stop bash script from dying when exiting Java / Kotlin application", "body": "<p>I'm starting a bash script from Kotlin, but the bash script stops running as soon as the Kotlin application exits.</p>\n\n<pre><code>val pr = ProcessBuilder(\"/home/vlad/liq\", script, input).start()\n</code></pre>\n\n<p>Where script is a liquidsoap script and input is a parameter that's being passed into the script</p>\n\n<p>Typically, it'll run something like the following:</p>\n\n<pre><code>./liq blah.liq http://somedomain.com:8090\n</code></pre>\n\n<p><code>liq</code> then executes a liquidsoap script which is the first param and the second param is then used as a param for the liquidsoap script.</p>\n\n<pre><code>#!/bin/bash\n\nnohup /usr/bin/liquidsoap $1 -- $2 &gt; /dev/null 2&gt;&amp;1 &amp;\n\n# this causes syntax error\n# nohup (/usr/bin/liquidsoap $1 -- $2 &gt; /dev/null 2&gt;&amp;1 &amp;)\n</code></pre>\n\n<p>This Kotlin application is run via <code>java -jar dashboard.jar</code>, while the application is running, that liquidsoap script is running, as soon as i exit the Kotlin application with Ctrl + C, that liquidsoap script also stops. </p>\n\n<p>I was under the impression that <code>nohup</code> + <code>&amp;</code> would spawn a new console thus keeping the script running even after the Kotlin application exits, but it's not.</p>\n\n<p>Any ideas on how to keep the script running even after my Kotlin application exits ?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 1172, "user_id": 2164, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/60ca7d0e5853a601d91bc4774ca48d65?s=128&d=identicon&r=PG", "display_name": "beyerss", "link": "https://stackoverflow.com/users/2164/beyerss"}, "edited": false, "score": 1, "creation_date": 1552587594, "post_id": 52721163, "comment_id": 97078347, "body": "Did you find a solution to this?"}, {"owner": {"reputation": 81, "user_id": 9869554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b303b63ad17c2b6199501becb19e78?s=128&d=identicon&r=PG&f=1", "display_name": "Antimat&#233;ria", "link": "https://stackoverflow.com/users/9869554/antimat%c3%a9ria"}, "edited": false, "score": 0, "creation_date": 1589554977, "post_id": 52721163, "comment_id": 109349368, "body": "Any solution for this issue? I&#39;m having the same problem"}], "answers": [{"comments": [{"owner": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "edited": false, "score": 1, "creation_date": 1539178079, "post_id": 52721221, "comment_id": 92407442, "body": "camel case ids works everywhere else. I don&#39;t think this is the issue. The UiThreadTest tag didn&#39;t help. thanks anyway"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "edited": false, "score": 0, "creation_date": 1539178340, "post_id": 52721221, "comment_id": 92407602, "body": "@BasilePerrenoud the error message is quite limited, in order to get a reliable understanding of the actual cause. without <code>@UiThreadTest</code> annotation, there won&#39;t be any views accessible. access through <code>kotlinx.android.synthetic.</code> might be another option."}, {"owner": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "edited": false, "score": 1, "creation_date": 1539243406, "post_id": 52721221, "comment_id": 92432683, "body": "Hi, yes indeed, that&#39;s the only message I get, with the line number where R.id is called. About the @UiThreadTest annotation, I looked into it and it is not needed when using the espresso framework. Good to know"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1539088822, "last_edit_date": 1539088822, "creation_date": 1539088505, "answer_id": 52721221, "question_id": 52721163, "link": "https://stackoverflow.com/questions/52721163/r-id-not-found-when-writing-espresso-test/52721221#52721221", "title": "R.id not found when writing Espresso test", "body": "<p>guess the actual problem is, that the activity had not been started.</p>\n\n<p><code>R.id.theElementId</code> might be an invalid resource descriptor.</p>\n\n<p>try <code>R.id.the_element_id</code> instead.</p>\n\n<p>also, add <code>@UiThreadTest</code> annotation ...</p>\n"}, {"comments": [{"owner": {"reputation": 286, "user_id": 6720177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6b2c8bfcc336f8aa62a97ecd3492b5b?s=128&d=identicon&r=PG&f=1", "display_name": "or_dvir", "link": "https://stackoverflow.com/users/6720177/or-dvir"}, "edited": false, "score": 0, "creation_date": 1588323206, "post_id": 60590460, "comment_id": 108857531, "body": "&quot;execute gradlew :app:build from the command line / Terminal, it may show a build error which leads to the root cause&quot; - this helped me find the cause! thank you!"}], "tags": [], "owner": {"reputation": 66, "user_id": 3898679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c074aa483fccf92da8af2210f32d471c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/3898679/robert"}, "is_accepted": false, "score": 4, "last_activity_date": 1583690386, "creation_date": 1583690386, "answer_id": 60590460, "question_id": 52721163, "link": "https://stackoverflow.com/questions/52721163/r-id-not-found-when-writing-espresso-test/60590460#60590460", "title": "R.id not found when writing Espresso test", "body": "<p>I bumped into this issue. Spent 4 hours investigating, and no luck finding anything useful on the internet.</p>\n\n<p>So, I'm hoping that the information below may help someone.</p>\n\n<p>Short answer: </p>\n\n<ol>\n<li>clean the project</li>\n<li>execute <code>gradlew :app:build</code> from the command line / Terminal, it may show a build error which leads to the root cause</li>\n</ol>\n\n<p>The longer answer:</p>\n\n<p>I did the following:</p>\n\n<ol>\n<li>I hit \"Invalidate caches and restart\" from Android Studio</li>\n<li>I've executed <code>gradlew :app:build</code> from the command line</li>\n</ol>\n\n<p>The second step printed an error message that the BuildConfig was duplicated.\nThe reason for this issue was, that I had 2 modules (android-app and android-library) with slightly different package names (I made a typo when creating the second one). This led to the failed build from the command line. After modifying the 2nd module's package name to be the same as the 1st one, the issue was solved.</p>\n\n<p>I didn't receive the \"R.id not found\" error. So, I could continue to write the UI tests, which worked :-)</p>\n\n<p>Happy coding!</p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 7835969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuFXC.jpg?s=128&g=1", "display_name": "Manishoaham", "link": "https://stackoverflow.com/users/7835969/manishoaham"}, "is_accepted": false, "score": 0, "last_activity_date": 1598267247, "creation_date": 1598267247, "answer_id": 63559820, "question_id": 52721163, "link": "https://stackoverflow.com/questions/52721163/r-id-not-found-when-writing-espresso-test/63559820#63559820", "title": "R.id not found when writing Espresso test", "body": "<p><strong>Short answer:</strong> Try remove any incorrect <code>import android.R</code> statement.</p>\n<p><strong>Long answer</strong>\nI also have faced this issue.</p>\n<p>In my case, in test class, I was importing <code>android.R</code> package due to referring some incorrect resource id previously (<code>R.id.progress</code>) which belonged to <code>android.R</code> package.</p>\n<p>I removed that reference as well ans the import statement i.e. <code>import android.R</code> from the test class and the issue resolved. Then source recognized the <code>R.id.etPassword</code> resource id of my layout file.</p>\n"}], "owner": {"reputation": 3810, "user_id": 3055219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WsJZ8.jpg?s=128&g=1", "display_name": "Basile Perrenoud", "link": "https://stackoverflow.com/users/3055219/basile-perrenoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1598267247, "creation_date": 1539088331, "last_edit_date": 1539088626, "question_id": 52721163, "link": "https://stackoverflow.com/questions/52721163/r-id-not-found-when-writing-espresso-test", "title": "R.id not found when writing Espresso test", "body": "<p>I tried writing a small test to try Espresso. </p>\n\n<pre><code>package com.mycompany.myapp.somemodule\n\nimport com.mycompany.myapp.R\nimport other.uselful.imports\n\n@RunWith(AndroidJUnit4::class)\n@LargeTest\nclass DemoTest {\n\n    @get:Rule\n    var startActivity: ActivityTestRule&lt;StartActivity&gt; = ActivityTestRule(StartActivity::class.java)\n\n\n    @Test\n    fun aDemoTest() {\n        onView(withId(R.id.theElementId))\n                .check(matches(isClickable()))\n    }\n}\n</code></pre>\n\n<p>Android Studio doesn't show any error. if I ctrl+click on <code>R.id.theElementID</code>, it finds it in the appropriate layout file. However when I try to run, I get a compile error:</p>\n\n<blockquote>\n  <p>Unresolved reference: id</p>\n</blockquote>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-mvp"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1539086350, "post_id": 52720447, "comment_id": 92366181, "body": "<code>MainComponent</code> code which is the most important file for this question is missing."}, {"owner": {"reputation": 544, "user_id": 4470269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxK50.jpg?s=128&g=1", "display_name": "Oleg Skidan", "link": "https://stackoverflow.com/users/4470269/oleg-skidan"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1539086572, "post_id": 52720447, "comment_id": 92366301, "body": "@EpicPandaForce updated, thx."}], "answers": [{"comments": [{"owner": {"reputation": 544, "user_id": 4470269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxK50.jpg?s=128&g=1", "display_name": "Oleg Skidan", "link": "https://stackoverflow.com/users/4470269/oleg-skidan"}, "edited": false, "score": 0, "creation_date": 1539092581, "post_id": 52721852, "comment_id": 92370353, "body": "Thanks. But the same exception I got deeper, in presenter &#39;lateinit property api has not been initialized&#39;. Do I need to do component.inject() there?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 544, "user_id": 4470269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxK50.jpg?s=128&g=1", "display_name": "Oleg Skidan", "link": "https://stackoverflow.com/users/4470269/oleg-skidan"}, "edited": false, "score": 1, "creation_date": 1539094875, "post_id": 52721852, "comment_id": 92371901, "body": "Actually, you are missing <code>class MainPresenter @Inject constructor(val view</code> there, and the @Inject lateinit var is not needed."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1539090461, "creation_date": 1539090461, "answer_id": 52721852, "question_id": 52720447, "link": "https://stackoverflow.com/questions/52720447/kotlin-android-mvp-dagger-2-lateinit-property-presenter-has-not-been-initializ/52721852#52721852", "title": "Kotlin Android MVP + Dagger 2 lateinit property presenter has not been initialized", "body": "<p>You need to replace</p>\n\n<pre><code>fun inject (view : MainContract.View)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>fun inject(target : MainFragment)\n</code></pre>\n"}], "owner": {"reputation": 544, "user_id": 4470269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NxK50.jpg?s=128&g=1", "display_name": "Oleg Skidan", "link": "https://stackoverflow.com/users/4470269/oleg-skidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 0, "accepted_answer_id": 52721852, "answer_count": 1, "score": 0, "last_activity_date": 1539090461, "creation_date": 1539085947, "last_edit_date": 1539086532, "question_id": 52720447, "link": "https://stackoverflow.com/questions/52720447/kotlin-android-mvp-dagger-2-lateinit-property-presenter-has-not-been-initializ", "title": "Kotlin Android MVP + Dagger 2 lateinit property presenter has not been initialized", "body": "<p>Trying to use Dagger with Kotlin on Android. And got the exception:</p>\n\n<pre><code>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property presenter has not been initialized\n    at com.ad.eartquakekotlin.main.MainFragment.onViewCreated(MainFragment.kt:43)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1471)\n    at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1784)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1852)\n    at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:802)\n    at ...\n</code></pre>\n\n<p>The app is special for testing. I get earthquakes and show them on a device screen. </p>\n\n<p>All I want is \n1. Inject the presenter in my Fragment (View)\n2. Inject the api in my presenter</p>\n\n<p>There is the structure of my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/n4zv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4zv6.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are two modules and components there, as you can see:</p>\n\n<pre><code>@Module\nclass ApplicationModule(private val application: Application) {\n    @Provides\n    @Singleton\n    fun provideApplication():Application = application\n}\n\n@Module\nclass MainModule (private val view: MainContract.View) {\n    @Provides\n    fun provideView(): MainContract.View {\n        return view\n    }\n\n    @Provides\n    fun providePresenter(): MainContract.Presenter {\n        return MainPresenter(view)\n    }\n}\n</code></pre>\n\n<p>And components:</p>\n\n<pre><code>@Component(modules = [ApplicationModule::class])\ninterface ApplicationComponent {\n    fun inject(application: Application)\n    fun plus (mainModule: MainModule) : MainComponent\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Subcomponent(modules = [MainModule::class])\ninterface MainComponent {\n    fun inject (view : MainContract.View)\n}\n</code></pre>\n\n<p>There is a contract:</p>\n\n<pre><code>interface MainContract {\ninterface View {\n    fun showLoading()\n    fun hideLoading()\n    fun showMessage(message: String)\n    fun showData(data: EarthquakeRootObject)\n\n}\ninterface Presenter {\n    fun onDestroy()\n    fun loadData()\n}\n}\n</code></pre>\n\n<p>Application class:</p>\n\n<pre><code>class MainApp: Application() {\n\ncompanion object {\n    lateinit var graph: ApplicationComponent\n}\n\noverride fun onCreate() {\n    super.onCreate()\n    buildGraph()\n}\n\nprivate fun buildGraph() {\n    graph = DaggerApplicationComponent\n            .builder()\n            .applicationModule(ApplicationModule(this))\n            .build()\n}\n}\n</code></pre>\n\n<p>Fragment (where I want to use Injection)</p>\n\n<pre><code>class MainFragment : Fragment(), MainContract.View {\n\nprivate lateinit var earthquakesAdapter: EarthquakeRecyclerViewAdapter\nprivate lateinit var earthquakes: EarthquakeRootObject\n@Inject lateinit var presenter: MainContract.Presenter\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    return container?.inflate(R.layout.fragment_main)\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    MainApp.graph.plus(MainModule(this)).inject(this)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    earthquakesRecyclerView.layoutManager = LinearLayoutManager(context)\n    earthquakesRecyclerView.setHasFixedSize(true)\n\n    presenter.loadData()\n}\n</code></pre>\n\n<p>And my presenter</p>\n\n<pre><code>class MainPresenter (var view: MainContract.View?) : MainContract.Presenter {\n\nprivate var disposable: Disposable? = null\n@Inject lateinit var api : EarthquakeApi\n\noverride fun onDestroy() {\n    disposable?.dispose()\n    view = null\n}\n\noverride fun loadData() {\n    view?.showLoading()\n\n    disposable = api.getEarthquakes()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(\n                    {\n                        response -&gt;\n                        view?.showData(response)\n                        view?.hideLoading()\n                    },\n                    {\n                        throwable -&gt;\n                        view?.showMessage(throwable.message ?: \"\u041e\u0448\u0438\u0431\u043a\u0430\")\n                        view?.hideLoading()\n                    }\n            )\n}\n</code></pre>\n\n<p>What do I do wrong? </p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1539087911, "last_edit_date": 1539087911, "creation_date": 1539085937, "answer_id": 52720444, "question_id": 52720254, "link": "https://stackoverflow.com/questions/52720254/can-i-instantiate-an-object-by-the-class-name-in-pure-kotlin/52720444#52720444", "title": "Can I instantiate an object by the class name in pure Kotlin", "body": "<p>This will just work as-is in Kotlin on the JVM, as Kotlin is compiled to JVM classes which are available via Java reflection, so you can use this line of code in Kotlin as well.</p>\n\n<p>For other Kotlin platforms (Kotlin/JS, Kotlin/Native), there's currently no proper reflection support, so you can't do that when running on those platforms.</p>\n"}], "owner": {"reputation": 397, "user_id": 3397782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EOakV.jpg?s=128&g=1", "display_name": "Firas", "link": "https://stackoverflow.com/users/3397782/firas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1574729673, "creation_date": 1539085375, "last_edit_date": 1574729673, "question_id": 52720254, "link": "https://stackoverflow.com/questions/52720254/can-i-instantiate-an-object-by-the-class-name-in-pure-kotlin", "title": "Can I instantiate an object by the class name in pure Kotlin", "body": "<p>What is the equivalent of the following Java code in pure Kotlin?</p>\n\n<pre><code>Class.forName(className).newInstance()\n</code></pre>\n\n<p>Suppose we are in a Kotlin multi-platform project.</p>\n"}, {"tags": ["android", "opencv", "kotlin", "anko", "camera-view"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "is_accepted": false, "score": 0, "last_activity_date": 1539201227, "creation_date": 1539201227, "answer_id": 52747808, "question_id": 52719738, "link": "https://stackoverflow.com/questions/52719738/kotlin-anko-opencv-cameraview-cant-create-handler-because-thread-hasnt-called/52747808#52747808", "title": "Kotlin/Anko/OpenCV/CameraView can&#39;t create handler because thread hasn&#39;t called Looper.prepare()", "body": "<p>I believe there is a presumption that decodeBitmmap is being initiated from the UI thread, even though the actual work is done on a worker thread. This is the code in question ... executed on the callers thread (line 101):</p>\n\n<pre><code>final Handler ui = new Handler();\n</code></pre>\n\n<p>There is a little bit of discussion on a similar issue <a href=\"https://groups.google.com/forum/#!topic/androidannotations/Yuj0_c66K9M\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 85, "user_id": 4421913, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-f8m-QAQ7qZE/AAAAAAAAAAI/AAAAAAAAAFU/5Wv-fICsyKI/photo.jpg?sz=128", "display_name": "Jo&#227;o Borrego", "link": "https://stackoverflow.com/users/4421913/jo%c3%a3o-borrego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539201227, "creation_date": 1539083765, "question_id": 52719738, "link": "https://stackoverflow.com/questions/52719738/kotlin-anko-opencv-cameraview-cant-create-handler-because-thread-hasnt-called", "title": "Kotlin/Anko/OpenCV/CameraView can&#39;t create handler because thread hasn&#39;t called Looper.prepare()", "body": "<p>So, I'm currently attempting to convert a picture taken using <a href=\"https://github.com/natario1/CameraView\" rel=\"nofollow noreferrer\">CameraView</a> into Grey Scale using OpenCV. After the picture is taken, I use <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> in order to process it asynchronously. After the processing is done, I write the image to the MediaStore. The Activity has a CameraView and a Button to take the picture.</p>\n\n<p>However, when I press the button, the following exception appears:</p>\n\n<pre><code>java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n   at android.os.Handler.&lt;init&gt;(Handler.java:200)\n   at android.os.Handler.&lt;init&gt;(Handler.java:114)\n   at com.otaliastudios.cameraview.CameraUtils.decodeBitmap(CameraUtils.java:101)\n   at com.otaliastudios.cameraview.CameraUtils.decodeBitmap(CameraUtils.java:83)\n   at com.example.joao.waterprototype.MainActivity$onCreate$2$onPictureTaken$1.invoke(MainActivity.kt:55)\n   at com.example.joao.waterprototype.MainActivity$onCreate$2$onPictureTaken$1.invoke(MainActivity.kt:46)\n   at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt:143)\n   at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt)\n   at org.jetbrains.anko.AsyncKt$sam$java_util_concurrent_Callable$0.call(Async.kt)\n   at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n   at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n\n<p>the place where said problem happens is described in the following snippet:</p>\n\n<pre><code>camera.addCameraListener(object : CameraListener() {\n\n        override fun onPictureTaken(jpeg: ByteArray?) {\n\n            Toast.makeText(applicationContext, \"Image Taken\", Toast.LENGTH_SHORT).show()\n\n            doAsync() {\n\n                lateinit var result : Bitmap\n                CameraUtils.decodeBitmap(jpeg) {\n\n                    val mat = Mat()\n                    val bmp32 = it.copy(Bitmap.Config.ARGB_8888, true)\n                    Utils.bitmapToMat(bmp32, mat)\n\n                    val greyMat = Mat()\n                    cvtColor(mat, greyMat, COLOR_BGRA2GRAY)\n\n                    result = Bitmap.createBitmap(greyMat.cols(), greyMat.rows(), Bitmap.Config.ARGB_8888)\n                    Utils.matToBitmap(greyMat, result)\n\n                }\n\n                uiThread {\n\n                    val title = \"${UUID.randomUUID()}.jpg\"\n                    val savedImageURL = MediaStore.Images.Media.insertImage(\n                            contentResolver,\n                            result,\n                            title,\n                            \"Image of $title\"\n                    )\n\n                    val uri = Uri.parse(savedImageURL)\n                    Toast.makeText(applicationContext, \"Image Created at ${uri.path}\", Toast.LENGTH_SHORT).show()\n\n                }\n            }\n        }\n\n    })\n</code></pre>\n\n<p>A common theme for those exceptions is the usage of Toasts when using Async contexts, but I've double checked it, and I'm being careful in not using them in there. In fact said error occurs on the decodeBitmap invocation. Which is weird, since the CameraView documentation insists that said function is called on a worker thread. Can any of you explain to me what's going on and how to fix it?</p>\n\n<p>In order to make it more easier to reproduce, here's the full MainActivity.kt:</p>\n\n<pre><code>package com.example.joao.waterprototype\n\nimport android.graphics.Bitmap\nimport android.net.Uri\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.MediaStore\nimport android.util.Log\nimport android.view.WindowManager\nimport android.widget.Toast\nimport com.otaliastudios.cameraview.CameraListener\nimport com.otaliastudios.cameraview.CameraUtils\nimport com.otaliastudios.cameraview.Gesture\nimport com.otaliastudios.cameraview.GestureAction\nimport kotlinx.android.synthetic.main.activity_main.*\nimport org.jetbrains.anko.doAsync\nimport org.jetbrains.anko.uiThread\nimport org.opencv.android.OpenCVLoader\nimport org.opencv.android.Utils\nimport org.opencv.core.Mat\nimport org.opencv.imgproc.Imgproc.COLOR_BGRA2GRAY\nimport org.opencv.imgproc.Imgproc.cvtColor\nimport java.util.*\n\nclass MainActivity : AppCompatActivity(){\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_main)\n        window.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON)\n        camera.setLifecycleOwner(this)\n\n        take_photo.setOnClickListener {\n            camera.capturePicture()\n        }\n\n        camera.mapGesture(Gesture.PINCH, GestureAction.ZOOM); // Pinch to zoom!\n        camera.mapGesture(Gesture.TAP, GestureAction.FOCUS_WITH_MARKER); // Tap to focus!\n        camera.mapGesture(Gesture.LONG_TAP, GestureAction.CAPTURE); // Long tap to shoot!\n\n        camera.addCameraListener(object : CameraListener() {\n\n            override fun onPictureTaken(jpeg: ByteArray?) {\n\n                Toast.makeText(applicationContext, \"Image Taken\", Toast.LENGTH_SHORT).show()\n\n                doAsync() {\n\n                    lateinit var result : Bitmap\n                    CameraUtils.decodeBitmap(jpeg) {\n\n                        val mat = Mat()\n                        val bmp32 = it.copy(Bitmap.Config.ARGB_8888, true)\n                        Utils.bitmapToMat(bmp32, mat)\n\n                        val greyMat = Mat()\n                        cvtColor(mat, greyMat, COLOR_BGRA2GRAY)\n\n                        result = Bitmap.createBitmap(greyMat.cols(), greyMat.rows(), Bitmap.Config.ARGB_8888)\n                        Utils.matToBitmap(greyMat, result)\n\n                    }\n\n                    uiThread {\n\n                        val title = \"${UUID.randomUUID()}.jpg\"\n                        val savedImageURL = MediaStore.Images.Media.insertImage(\n                                contentResolver,\n                                result,\n                                title,\n                                \"Image of $title\"\n                        )\n\n                        val uri = Uri.parse(savedImageURL)\n                        Toast.makeText(applicationContext, \"Image Created at ${uri.path}\", Toast.LENGTH_SHORT).show()\n\n                    }\n                }\n            }\n\n        })\n\n    }\n\n\n    companion object {\n\n        // Used to load the 'native-lib' library on application startup.\n        init {\n\n            if (!OpenCVLoader.initDebug()) {\n                Log.e(\"OpenCV\", \"Cannot connect to OpenCV Manager\")\n            } else {\n                Log.e(\"OpenCV\", \"Connected Successfully\")\n            }\n\n\n        }\n    }\n}\n</code></pre>\n\n<p>And here's the activity_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;com.otaliastudios.cameraview.CameraView\n        android:id=\"@+id/camera\"\n        android:keepScreenOn=\"true\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/take_photo\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Take Photo\"\n        android:textAlignment=\"center\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1539084709, "post_id": 52719467, "comment_id": 92365171, "body": "if it&#39;s a multipart request, <code>@RequestPart</code> should be used here. Also, do you have the Synchronoss NIO Multipart library as a dependency?"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1539085100, "post_id": 52719467, "comment_id": 92365410, "body": "Oooh the handler method is now being hit when I&#39;m using <code>@RequestPart</code> :) Now it just says the format pdf is not supported. I don&#39;t have an explicit nio multipart depency declared in <code>build.gradle</code>"}, {"owner": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 0, "creation_date": 1554983372, "post_id": 52719467, "comment_id": 97954680, "body": "Where i am added the @RequestPart ? Can you please post an answer or something ?"}, {"owner": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 0, "creation_date": 1554983393, "post_id": 52719467, "comment_id": 97954694, "body": "@Clement how did you resolved your issue with pdf not supported :)"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 0, "creation_date": 1555040153, "post_id": 52719467, "comment_id": 97977824, "body": "@GOXR3PLUS apologies for the oversight of not doing so earlier. I&#39;ll post the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 0, "creation_date": 1555049944, "post_id": 55644146, "comment_id": 97980534, "body": "Clement, what really really worked for me is the answer here, i asked a question here  <a href=\"https://stackoverflow.com/q/55632633/4970079\">stackoverflow.com/q/55632633/4970079</a>"}, {"owner": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 0, "creation_date": 1555050049, "post_id": 55644146, "comment_id": 97980591, "body": "Adding just @RequestPart resolves the first error and leads to another one which is no file is supported,. txt,. pdf whatever.... did you resolved that just by adding  this annotation?"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 5859, "user_id": 4970079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/E7H9q.png?s=128&g=1", "display_name": "GOXR3PLUS", "link": "https://stackoverflow.com/users/4970079/goxr3plus"}, "edited": false, "score": 1, "creation_date": 1555071072, "post_id": 55644146, "comment_id": 97991210, "body": "@GOXR3PLUS it wasn&#39;t just about the annotation. It was also the class of the request part being of class <code>FilePart</code> instead of <code>MultipartFile</code> :)"}], "tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": true, "score": 1, "last_activity_date": 1555040261, "creation_date": 1555040261, "answer_id": 55644146, "question_id": 52719467, "link": "https://stackoverflow.com/questions/52719467/file-upload-in-spring-webflux-required-multipartfile-parameter-file-is-not-p/55644146#55644146", "title": "File upload in spring webflux - Required MultipartFile parameter &#39;file&#39; is not present", "body": "<p>Changing to <code>FilePart</code> from <code>MultipartFile</code> is what ended up working for me :)</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/v1/uploads\")\nclass UploadsController(val exampleService: ExampleService) {\n\n    @PostMapping(consumes = [\"multipart/form-data\"])\n    fun create(@RequestPart(\"file\") filePart: FilePart) = exampleService.save(filePart)\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 55644146, "answer_count": 1, "score": 1, "last_activity_date": 1555040261, "creation_date": 1539082886, "question_id": 52719467, "link": "https://stackoverflow.com/questions/52719467/file-upload-in-spring-webflux-required-multipartfile-parameter-file-is-not-p", "title": "File upload in spring webflux - Required MultipartFile parameter &#39;file&#39; is not present", "body": "<p>I'm trying to upload a file using Spring Webflux, but I'm getting the error <code>Required MultipartFile parameter 'file' is not present</code>.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/documents\")\nclass MyController(val myService: MyService) {\n\n    @PostMapping\n    fun create(@RequestParam(\"file\") file: MultipartFile): Mono&lt;ResponseEntity&lt;Map&lt;String, String&gt;&gt;&gt; {\n        return myService.create()\n    }\n}\n</code></pre>\n\n<p>I've also tried replacing <code>@RequestParam(\"file\") file: MultipartFile</code> with <code>ServerRequeset</code>, but I get the error: </p>\n\n<blockquote>\n  <p>\"Failed to resolve argument 0 of type 'org.springframework.web.reactive.function.server.ServerRequest' on public reactor.core.publisher.Mono>> co.example.controllers.MyController.create(org.springframework.web.reactive.function.server.ServerRequest)\"</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "koin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1539091176, "post_id": 52719452, "comment_id": 92369352, "body": "Why not <code>abstract val presenter: T</code> and <code>override val presenter: ConcretePresenter by inject()</code>? Or does that not work?"}, {"owner": {"reputation": 1051, "user_id": 2471275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc276f264025f8607144a01153b397f9?s=128&d=identicon&r=PG", "display_name": "Djek-Grif", "link": "https://stackoverflow.com/users/2471275/djek-grif"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1539116504, "post_id": 52719452, "comment_id": 92382683, "body": "@EpicPandaForce Yes for now I&#39;ve found only this way. But this only partly solve my case. Because I still need write inject() line for every subclass of BasePresenterFragment like: override val presenter: SomePresenter by inject () Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 1051, "user_id": 2471275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc276f264025f8607144a01153b397f9?s=128&d=identicon&r=PG", "display_name": "Djek-Grif", "link": "https://stackoverflow.com/users/2471275/djek-grif"}, "is_accepted": false, "score": 4, "last_activity_date": 1539125092, "creation_date": 1539125092, "answer_id": 52730297, "question_id": 52719452, "link": "https://stackoverflow.com/questions/52719452/is-there-any-way-to-use-koin-inject-with-generic/52730297#52730297", "title": "Is there any way to use Koin inject with generic?", "body": "<p>Well, I've found only partly solution for this question. It's use presenter like abstract val in base class. This will make it possible to use the methods of presenter in the base class but I still should use <code>inject()</code> in every subclasses for initialization. Example:</p>\n\n<pre><code>abstract class BasePresenterFragment&lt;P : BasePresenter&gt; : BaseFragment() {\n\n    abstract val presenter: P\n\n    override fun onStart() {\n        super.onStart()\n        presenter.subscribe()\n    }\n\n    override fun onStop() {\n        super.onStop()\n        presenter.unSubscribe()\n    }\n}\n</code></pre>\n\n<p>And subclass:</p>\n\n<pre><code>class HomeFragment : BasePresenterFragment&lt;HomeContract.Presenter&gt;(), HomeContract.View {\n     ...\n     override val presenter: HomeContract.Presenter by inject()\n     ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1051, "user_id": 2471275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc276f264025f8607144a01153b397f9?s=128&d=identicon&r=PG", "display_name": "Djek-Grif", "link": "https://stackoverflow.com/users/2471275/djek-grif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1316, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539125092, "creation_date": 1539082842, "question_id": 52719452, "link": "https://stackoverflow.com/questions/52719452/is-there-any-way-to-use-koin-inject-with-generic", "title": "Is there any way to use Koin inject with generic?", "body": "<p>I heve base class and I would like to use Koin injection on this base class like:</p>\n\n<pre><code>abstract class BasePresenterFragment&lt;T : BasePresenter&gt; : BaseFragment() {\n\n    lateinit var presenter: T by inject&lt;T&gt;() // here is problem\n\n    override fun onStart() {\n        super.onStart()\n        presenter.subscribe()\n    }\n\n    override fun onStop() {\n        super.onStop()\n        presenter.unSubscribe()\n    }\n} \n</code></pre>\n\n<p>I know there are solutions for inject viewModel but not for simple injection. So is there any way to use Koin injection with generic type? </p>\n"}, {"tags": ["java", "collections", "kotlin"], "comments": [{"owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "edited": false, "score": 0, "creation_date": 1539082016, "post_id": 52719136, "comment_id": 92363626, "body": "Try <code>@JvmOverloads constructor(outputStreams: List&lt;OutputStream?&gt; = LinkedList())</code>.  By placing a &quot;?&quot; you&#39;re telling the compiler that the list might contain a null value."}], "answers": [{"comments": [{"owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "edited": false, "score": 0, "creation_date": 1539082800, "post_id": 52719313, "comment_id": 92364091, "body": "Wow, is there anything that Kotlin doesn&#39;t handle as smart as possible?"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1539107130, "post_id": 52719313, "comment_id": 92378472, "body": "Not the downvoter, but I would add that given the <code>@JvmOverloads</code> annotation this is likely being used from Java, so technically the type system can no longer guarantee the list does not contain null. If you instantiated this from Java with <code>Collections.&lt;OutputStream&gt;singletonList(null)</code> it would still compile but fail at runtime. If you know it will be used from Java, you could follow @ToraCode&#39;s suggestion and declare the types as <code>List&lt;OutputStream?&gt;</code>, but only if you really need <code>IllegalArgumentException</code> specifically. Otherwise I&#39;d just allow the NPE to be thrown and avoid ambiguity."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1539426850, "last_edit_date": 1539426850, "creation_date": 1539082403, "answer_id": 52719313, "question_id": 52719136, "link": "https://stackoverflow.com/questions/52719136/how-to-check-whether-a-list-contains-null-in-kotlin/52719313#52719313", "title": "How to check whether a List contains null in Kotlin?", "body": "<p>For the compiler, the parameter <code>outputStreams</code> cannot contain <code>null</code> as its type is <code>List&lt;OutputStream&gt;</code> as opposed to <code>List&lt;OutputStream?&gt;</code>. The type system does not expect <code>null</code> to be inside this list, thus no need to check it. </p>\n\n<p><em>On the other hand</em>, <strong>IF</strong> that parameter actually could contain <code>null</code> (since it comes from a Java caller) you should mark it as nullable explicitly: <code>List&lt;OutputStream?&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "is_accepted": false, "score": 3, "last_activity_date": 1539082550, "creation_date": 1539082550, "answer_id": 52719363, "question_id": 52719136, "link": "https://stackoverflow.com/questions/52719136/how-to-check-whether-a-list-contains-null-in-kotlin/52719363#52719363", "title": "How to check whether a List contains null in Kotlin?", "body": "<p>I belive that the answer is <code>List&lt;OutputStream?&gt;</code>. <code>?</code> will make your list can contain <code>null</code>. \nCheck the doc: <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "is_accepted": false, "score": 1, "last_activity_date": 1547730770, "last_edit_date": 1547730770, "creation_date": 1547730462, "answer_id": 54236660, "question_id": 52719136, "link": "https://stackoverflow.com/questions/52719136/how-to-check-whether-a-list-contains-null-in-kotlin/54236660#54236660", "title": "How to check whether a List contains null in Kotlin?", "body": "<p>filterNotNull() method can filter out all null objects from the collection so you could use the code below.\nObviously, you need to inform the compiler that objects in the collection are nullable.\nI changed the OutputStream type to String for easier testing.</p>\n\n<pre><code>    class Main{\nprivate val outputStreams: List&lt;String?&gt;\n\n@JvmOverloads constructor(outputStreams: List&lt;String?&gt; = LinkedList()) {\n\n    if(outputStreams.filterNotNull().size &lt; outputStreams.size) {\n        throw IllegalArgumentException(\"outputStreams mustn't contain null\")\n    }\n    this.outputStreams = outputStreams\n}\n\nfun getOutputStream(): List&lt;String?&gt;{\n    return outputStreams\n}\n }\n</code></pre>\n\n<p>A second approach would be to use let  T.let(block: (T) -> R): R where you would accept the nullable object, but then you would have to check whether there is any \"null\" string and react accordingly.</p>\n\n<pre><code>    class Main{\nlateinit var outputStreams: List&lt;String?&gt;\n\n@JvmOverloads constructor(outputStreams: List&lt;String?&gt; = LinkedList()) {\n\n    outputStreams.let {\n        this.outputStreams = outputStreams\n    }\n\n}\n\nfun getOutputStream(): List&lt;String?&gt;{\n    return outputStreams\n}\n}\n\n    fun main(args: Array&lt;String&gt;) {\nval outputStreamWithNull: List&lt;String?&gt; = listOf(\"alpha\", \"beta\", null, \"omega\")\nval mainA = Main(outputStreamWithNull)\n\n\nmainA.getOutputStream().forEach {\n    println(it)\n}\n\n}\n</code></pre>\n\n<p>If you are \"confident\" that the object parameter in the constructor should be a collection of non-null objects, then you can remove ?\nHowever, the nullable check on the List collection must be done by an object initialising Main class, so you would basically move the responsibility of catching NullPointerException to someone else.</p>\n"}], "owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3958, "favorite_count": 0, "accepted_answer_id": 52719313, "answer_count": 3, "score": 4, "last_activity_date": 1547730770, "creation_date": 1539081903, "question_id": 52719136, "link": "https://stackoverflow.com/questions/52719136/how-to-check-whether-a-list-contains-null-in-kotlin", "title": "How to check whether a List contains null in Kotlin?", "body": "<p>I'm having trouble understanding why</p>\n\n<pre><code>class Main {\n    private val outputStreams: List&lt;OutputStream&gt;\n\n    @JvmOverloads constructor(outputStreams: List&lt;OutputStream&gt; = LinkedList()) {\n        if(outputStreams.contains(null)) {\n            throw IllegalArgumentException(\"outputStreams mustn't contain null\")\n        }\n        this.outputStreams = outputStreams\n    }\n}\n</code></pre>\n\n<p>causes the compilation error <code>...Main.kt:[12,26] Type inference failed. The value of the type parameter T should be mentioned in input types (argument types, receiver type or expected type). Try to specify it explicitly.</code>.</p>\n\n<p>If I use <code>outputStreams.contains(null as OutputStream))</code> the compilation succeeds, but <code>Main(LinkedList&lt;OutputStream&gt;())</code> fails at runtime due to</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type java.io.OutputStream\n    at kotlinn.collection.contains.nulll.check.Main.&lt;init&gt;(Main.kt:12)\n    at kotlinn.collection.contains.nulll.check.MainTest.testInit(MainTest.kt:13)\n</code></pre>\n\n<p>which leaves me with no other approach for keeping the code as close to the original Java as possible which is my intend as well as understanding this issue as it is rather than searching for a workaround.</p>\n"}, {"tags": ["kotlin", "jvm", "sap", "hana"], "comments": [{"owner": {"reputation": 8552, "user_id": 4191767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8yxN.png?s=128&g=1", "display_name": "Lars Br.", "link": "https://stackoverflow.com/users/4191767/lars-br"}, "edited": false, "score": 0, "creation_date": 1539086404, "post_id": 52718279, "comment_id": 92366207, "body": "JDBC uses UTF to deal with strings which maps to HANA\u2019s strung storage. There is no charset mapping in HANA/JDBC so the problem is either with displaying the result or with whatever happens before the data is inserted into HANA. Does Kotlin/JDBCtemplate perform any data conversions, ie cut characters to ASCII if the column definition is not <code>NCHAR</code>/<code>NVARCHAR</code>?"}, {"owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "reply_to_user": {"reputation": 8552, "user_id": 4191767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8yxN.png?s=128&g=1", "display_name": "Lars Br.", "link": "https://stackoverflow.com/users/4191767/lars-br"}, "edited": false, "score": 0, "creation_date": 1539089642, "post_id": 52718279, "comment_id": 92368255, "body": "@LarsBr. column definition is <code>NVARCHAR</code> and that should be Unicode encoding. I would&#39;n say that Kotlin or JdbcTemplate does some magic with that string... But I will try to put query (right before it is executed) into log and will report result."}, {"owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "reply_to_user": {"reputation": 8552, "user_id": 4191767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8yxN.png?s=128&g=1", "display_name": "Lars Br.", "link": "https://stackoverflow.com/users/4191767/lars-br"}, "edited": false, "score": 0, "creation_date": 1539601271, "post_id": 52718279, "comment_id": 92547780, "body": "@LarsBr. I tried to put query into logfile and result is that query is deformed before being executed, so it is not problem between JDBC and SAP HANA.  After some trials and errors, we found out that this was caused by client&#39;s network where these characters were being sent malformed."}, {"owner": {"reputation": 8552, "user_id": 4191767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8yxN.png?s=128&g=1", "display_name": "Lars Br.", "link": "https://stackoverflow.com/users/4191767/lars-br"}, "edited": false, "score": 0, "creation_date": 1539642013, "post_id": 52718279, "comment_id": 92567829, "body": "Thanks for the update @Delfi. To me, it&#39;s surprising that the error-detecting TCP network connection would actually allow garbled characters to be received. I suspect the messing up of the data happens before it actually is put into TCP packets - which would indicate a problem on the sending system."}], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "is_accepted": true, "score": 0, "last_activity_date": 1547115375, "creation_date": 1547115375, "answer_id": 54126407, "question_id": 52718279, "link": "https://stackoverflow.com/questions/52718279/kotlin-to-sap-hana-char-set/54126407#54126407", "title": "Kotlin to SAP HANA char set", "body": "<p>Just to close this one - after some investigation we found out that this was not problem between SAP Hana and Hibernate, but on the testing level, caused by Mozilla Firefox.</p>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 54126407, "answer_count": 1, "score": 0, "last_activity_date": 1547115375, "creation_date": 1539079237, "question_id": 52718279, "link": "https://stackoverflow.com/questions/52718279/kotlin-to-sap-hana-char-set", "title": "Kotlin to SAP HANA char set", "body": "<p>I have Spring boot Kotlin application running on Tomcat 8.5 on JVM 1.8 and connecting to SAP HANA. I use <code>JdbcTemplate.batchUpdate(&lt;string query&gt;)</code> for inserting data into tables.</p>\n\n<p>I have to deal with German alphabet and that causes some troubles. When I try to write data with SAP HANA Studio correct version of string is written - for example <code>Qualit\u00e4t</code> is written correctly as <code>Qualit\u00e4t</code>. When I use <code>JdbcTemplate.batchUpdate</code>, <code>Qualit\u00e4t</code> is exported as <code>Qualit\ufffdt</code>.</p>\n\n<p>How can I force JVM/Kotlin/JDBCTemplate to use other than default charset? Or there is other way how to solve this issue?</p>\n\n<p>My current workaround is to replace these characters with their phonetic version (<code>\u00e4</code> to <code>ae</code>) but I would like to avoid it.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1539079736, "post_id": 52718132, "comment_id": 92362238, "body": "I would say it&#39;s better to declare it as a data class. If it were not, people who would look at your code later could easily assume that it&#39;s a data class. That could cause problems if they change the code in a way that requires a proper equals or hashcode method."}, {"owner": {"reputation": 651, "user_id": 4414208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ba49c295fe93fd2f72b774d5fb62646f?s=128&d=identicon&r=PG", "display_name": "Carter Chen", "link": "https://stackoverflow.com/users/4414208/carter-chen"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1539091678, "post_id": 52718132, "comment_id": 92369720, "body": "Thank you for your support. Can you give a scenario or explain it in a more detail way?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1539159833, "post_id": 52718132, "comment_id": 92396229, "body": "Well, let&#39;s say someone tries to compare two <code>UserInfo</code> objects with <code>userInfo1 == userInfo2</code>. If <code>UserInfo</code> is not a data class, this would always return false unless <code>userInfo1</code> refers to the exact same object as <code>userInfo2</code>. When it&#39;s a data class, that code would instead check equality of <code>username</code> and <code>age</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "is_accepted": false, "score": 0, "last_activity_date": 1539081009, "creation_date": 1539081009, "answer_id": 52718850, "question_id": 52718132, "link": "https://stackoverflow.com/questions/52718132/when-consuming-data-from-a-rest-api-is-it-better-to-generate-a-data-class-or-ju/52718850#52718850", "title": "When consuming data from a REST API, is it better to generate a data class or just a simple normal class?", "body": "<p>Based on context that you gave, <code>UserInfo</code> class should be declared as data class.</p>\n\n<p>Role of data classes is to only hold data needed to represent that structure, without having any behavior, and that is exactly what you have with <code>UserInfo</code>, you only want to hold that data. That doesn't mean that you are obligated in any way to use data class, but it would make more sense.</p>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 4414208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ba49c295fe93fd2f72b774d5fb62646f?s=128&d=identicon&r=PG", "display_name": "Carter Chen", "link": "https://stackoverflow.com/users/4414208/carter-chen"}, "edited": false, "score": 1, "creation_date": 1539149270, "post_id": 52723951, "comment_id": 92391103, "body": "If I have no collections, do I still need it?"}, {"owner": {"reputation": 155, "user_id": 4540469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OJM1ueg5qi8/AAAAAAAAAAI/AAAAAAAAB3A/19JN85WReDs/photo.jpg?sz=128", "display_name": "beatbrot", "link": "https://stackoverflow.com/users/4540469/beatbrot"}, "reply_to_user": {"reputation": 651, "user_id": 4414208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ba49c295fe93fd2f72b774d5fb62646f?s=128&d=identicon&r=PG", "display_name": "Carter Chen", "link": "https://stackoverflow.com/users/4414208/carter-chen"}, "edited": false, "score": 0, "creation_date": 1539155695, "post_id": 52723951, "comment_id": 92393954, "body": "No, you wouldn&#39;t. But can you really be sure that you&#39;ll never use a collection?"}], "tags": [], "owner": {"reputation": 155, "user_id": 4540469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OJM1ueg5qi8/AAAAAAAAAAI/AAAAAAAAB3A/19JN85WReDs/photo.jpg?sz=128", "display_name": "beatbrot", "link": "https://stackoverflow.com/users/4540469/beatbrot"}, "is_accepted": false, "score": 0, "last_activity_date": 1539096797, "creation_date": 1539096797, "answer_id": 52723951, "question_id": 52718132, "link": "https://stackoverflow.com/questions/52718132/when-consuming-data-from-a-rest-api-is-it-better-to-generate-a-data-class-or-ju/52723951#52723951", "title": "When consuming data from a REST API, is it better to generate a data class or just a simple normal class?", "body": "<p>I'd also suggest using a data class. \nWithout having <code>hashCode</code> and <code>equals</code> properly specified, you cannot safely use <code>UserInfo</code> in Collections.</p>\n"}], "owner": {"reputation": 651, "user_id": 4414208, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ba49c295fe93fd2f72b774d5fb62646f?s=128&d=identicon&r=PG", "display_name": "Carter Chen", "link": "https://stackoverflow.com/users/4414208/carter-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539096797, "creation_date": 1539078795, "question_id": 52718132, "link": "https://stackoverflow.com/questions/52718132/when-consuming-data-from-a-rest-api-is-it-better-to-generate-a-data-class-or-ju", "title": "When consuming data from a REST API, is it better to generate a data class or just a simple normal class?", "body": "<p>Assume that I have an API which will return me a response about user information:</p>\n\n<ul>\n<li>name </li>\n<li>age</li>\n</ul>\n\n<p>In normal class, I will create a UserInfo class:</p>\n\n<pre><code>class UserInfo (val username:String, val age:String)\n</code></pre>\n\n<p>But I found a lot of people who suggested that it should be a data class (and part of them suggested it MUST BE):</p>\n\n<pre><code>data class UserInfo (val username:String, val age:String)\n</code></pre>\n\n<p>AFAIK, no matter UserInfo is a data class or not, it is <strong>public final</strong> by default, it auto-generates getter function of the properties which are also <strong>public final</strong> by default and the properties cannot be assigned with any value.</p>\n\n<p>I know the <strong>data class</strong> auto-generates/overrides useful functions like <strong>copy()</strong>, <strong>toString()</strong> and <strong>equals()</strong>. If I only need to get the name and age values of the UserInfo class and there is no need to compare the equality of UserInfo, do I still need to declare it as a data class?</p>\n"}, {"tags": ["kotlin", "android-room", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "edited": false, "score": 0, "creation_date": 1539771884, "post_id": 52785982, "comment_id": 92620503, "body": "Thanks, but I&#39;m looking for a solution which doesn&#39;t touch <code>ParentModel</code>."}, {"owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "reply_to_user": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "edited": false, "score": 0, "creation_date": 1539774060, "post_id": 52785982, "comment_id": 92621730, "body": "You have to remove one of the two fields named name: you can do it on ParentRoom or in ParentModel. It&#39;s up to you."}], "tags": [], "owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "is_accepted": false, "score": -1, "last_activity_date": 1539372953, "creation_date": 1539372953, "answer_id": 52785982, "question_id": 52718126, "link": "https://stackoverflow.com/questions/52718126/how-can-i-create-a-room-annotated-subclass-of-a-non-room-one/52785982#52785982", "title": "How can I create a Room annotated subclass of a non Room one?", "body": "<p>Probably you don't need to override fields of parent class. Try with this declaration:</p>\n\n<pre><code>open class ParentModel(@PrimaryKey val name: String, val age: Int)\n\n@Entity(tableName = \"parents\")\nclass ParentRoom(\n    name: String,\n    age: Int)\n    : ParentModel(name, age)\n</code></pre>\n\n<p>In your declaration, <code>ParentRoom</code> has effectively two field with same name. Room processor can not process this situation.</p>\n"}], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539372953, "creation_date": 1539078787, "question_id": 52718126, "link": "https://stackoverflow.com/questions/52718126/how-can-i-create-a-room-annotated-subclass-of-a-non-room-one", "title": "How can I create a Room annotated subclass of a non Room one?", "body": "<p>Given the following initial model, everything seems to work OK with Room:</p>\n\n<pre><code>interface ParentModel {\n    val name: String\n    val age: Int\n}\n\n@Entity(tableName = \"parents\")\nopen class ParentRoom(\n    @PrimaryKey override var name: String,\n    override var age: Int)\n    : ParentModel\n</code></pre>\n\n<p>However, I don't want to use an interface, I want that to be a <em>real</em> class I can make instances of:</p>\n\n<pre><code>open class ParentModel(open val name: String, open val age: Int)\n\n@Entity(tableName = \"parents\")\nopen class ParentRoom(\n    @PrimaryKey override var name: String,\n    override var age: Int)\n    : ParentModel(name, age)\n</code></pre>\n\n<p>Unfortunately Room won't compile this, because it thinks there are two columns named the same:</p>\n\n<pre><code>ParentRoom.java:7: error: Multiple fields have the same columnName: name. Field names: name, name.\npublic class ParentRoom extends ParentModel {\n       ^\ne: ParentRoom.java:10: error: Field has non-unique column name.\n    private java.lang.String name;\n</code></pre>\n\n<p>The reason I want to override the fields is because that would be the only way to annotate them. Is this possible at all or am I forced to use interfaces with Room?</p>\n"}, {"tags": ["kotlin", "codacy"], "comments": [{"owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "edited": false, "score": 0, "creation_date": 1580794719, "post_id": 52718086, "comment_id": 106204906, "body": "Found answer from kotlin team. <a href=\"https://discuss.kotlinlang.org/t/requirenotnull-or/1562/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/requirenotnull-or/1562/2</a>"}], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 3832322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aee4342312d54c15c32c33470b150d9c?s=128&d=identicon&r=PG&f=1", "display_name": "ashu", "link": "https://stackoverflow.com/users/3832322/ashu"}, "edited": false, "score": 0, "creation_date": 1539079545, "post_id": 52718217, "comment_id": 92362109, "body": "In my case, its more like object.property!! This is so because property in my requirements can be null. We know the cases where this can be null and therefore when pulling value from store or DB, we add !! to validate this should never be null during those cases. Using elvis operator, will not ensure if its null and we still have to manually add null checks and throw exception if value is not there."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 889, "user_id": 3832322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aee4342312d54c15c32c33470b150d9c?s=128&d=identicon&r=PG&f=1", "display_name": "ashu", "link": "https://stackoverflow.com/users/3832322/ashu"}, "edited": false, "score": 0, "creation_date": 1539079918, "post_id": 52718217, "comment_id": 92362338, "body": "Then the property should be declared as non-nullable and add the null checking when pulling this property from store/DB and act accordingly, i.e. throwing a more comprehensive exception than NPE (it is never a good idea to catch a <code>RuntimeException</code>)."}], "tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 0, "last_activity_date": 1539079053, "creation_date": 1539079053, "answer_id": 52718217, "question_id": 52718086, "link": "https://stackoverflow.com/questions/52718086/requirenotnull-vs-sure-operator-in-kotlin/52718217#52718217", "title": "requireNotNull vs sure operator !! in Kotlin", "body": "<p>In my experience the best practice when a value is nullable is to use <code>?</code>  and <code>?:</code> operators and provide an alternative (if available) when the value is null, for example:</p>\n\n<pre><code>settings?.getValue(\"some-setting\") ?: defaultValue\n</code></pre>\n\n<p>Note that this expression will return <code>defaultValue</code> when either <code>settings</code> or <code>getValue</code> return null.</p>\n\n<p>It is best to try to avoid using <code>!!</code> operator at all since this basically defeats any protection against nulls. When this is not possible, I would throw a more comprehensive exception instead of relying on generic exceptions like IAE or NPE, for example:</p>\n\n<pre><code>settings?.getValue(\"some-setting\") ?: throw SettingNotFound(\"Descriptive message\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 889, "user_id": 3832322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aee4342312d54c15c32c33470b150d9c?s=128&d=identicon&r=PG&f=1", "display_name": "ashu", "link": "https://stackoverflow.com/users/3832322/ashu"}, "edited": false, "score": 1, "creation_date": 1539164981, "post_id": 52725657, "comment_id": 92399357, "body": "Codacy is the tool we have integrated with GitHub repository. Its not code specific but triggers error wherever we used !!. Though, our code runs successfully, if we ignore Codacy. Yeah, we indeed use Detekt. Didn&#39;t realize, its a bug. Definitely, the tool wanted to change all ours !! to requireNotNull :) Thanks!!"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 4, "last_activity_date": 1617523332, "last_edit_date": 1617523332, "creation_date": 1539103170, "answer_id": 52725657, "question_id": 52718086, "link": "https://stackoverflow.com/questions/52718086/requirenotnull-vs-sure-operator-in-kotlin/52725657#52725657", "title": "requireNotNull vs sure operator !! in Kotlin", "body": "<p><code>requireNotNull</code>, assuming you're referring to <code>Objects#requireNonNull</code>, is a Java method that is equivalent to <code>!!</code>, but with a different exception.</p>\n<p>You didn't add any code, so it's slightly hard to help you debug. You mentioned third party code quality tools, but not which. I randomly stumbled over <a href=\"https://github.com/arturbosch/detekt/issues/880\" rel=\"nofollow noreferrer\">this GH issue</a> that matches the error you're having. It's also the only thing I can find that would at any point use that exact error. I might have missed some, but it's the one that covers the top Google hits, so I'm going to go off that.</p>\n<p>If you are using Detekt, this is a reported bug. Using <code>!!</code> is even suggested by IntelliJ.</p>\n<p>However, you can do it another way.</p>\n<p>Yes, using <code>Objects#requireNonNull</code> is one option. There is a second one though, and that's using the null-safe operator, as m0skit0 mentioned.</p>\n<p>The reason this works is because if anything called is null, the final result is null. I.e. this:</p>\n<pre><code>instance.nonNullType.nullable?.nullableChild?.someOtherNullableChild\n</code></pre>\n<p>If any of the nullable ones are null, the final result is null, and none of the others are called.</p>\n<p>Now, considering this is likely a bug in Detect, this seems like the easiest workaround for now:</p>\n<pre><code>whatever.calls.you?.make?.to?.the?.database ?: throw NullPointerException(&quot;Something is null&quot;);\n</code></pre>\n<p>It also keeps the variable non-null, which means you don't need null-safe calls later. The elvis operator checks if anything is null, then throws an exception. Alternatively, you can just use <code>Objects#requireNotNull</code>:</p>\n<pre><code>Objects.requireNonNull(whatever.calls.you.make.to.the.database)\n</code></pre>\n<p>If you really need to validate every single step, you'll just need to keep null checks everywhere</p>\n<h1>TL;DR:</h1>\n<p><code>!!</code> and <code>requireNotNull</code> are effectively identical in how they work, except <code>requireNotNull</code> is a method call and <code>!!</code> compiles to an if-statement:</p>\n<pre><code>if(whatever == null) {\n    Intrinsics.throwNpe();\n}\n</code></pre>\n<p>The reason <code>!!</code> triggers <code>UnsafeCallOnNullableType</code> is because of a (probable) bug in Detekt. Both of the options are syntactic sugar for the same thing, though: if the variable is null, throw an NPE.</p>\n"}, {"tags": [], "owner": {"reputation": 3196, "user_id": 5040895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vJMwQ.jpg?s=128&g=1", "display_name": "Ed Ballot", "link": "https://stackoverflow.com/users/5040895/ed-ballot"}, "is_accepted": false, "score": 2, "last_activity_date": 1575332921, "creation_date": 1575332921, "answer_id": 59148590, "question_id": 52718086, "link": "https://stackoverflow.com/questions/52718086/requirenotnull-vs-sure-operator-in-kotlin/59148590#59148590", "title": "requireNotNull vs sure operator !! in Kotlin", "body": "<p>As you mentioned, <code>requireNotNull()</code> throws IllegalArgumentException and <code>!!</code> throws NullPointerException. That could be helpful if you want to differentiate between defensive code added by your devs versus undefended code (by using <code>!!</code> is isn't immediately obvious).</p>\n\n<p>However, the bigger benefit of using <code>requireNotNull()</code> is using the function that takes the lazyMessage argument. This way your devs can add more meaningful messages to the exception, which could help in debugging</p>\n"}], "owner": {"reputation": 889, "user_id": 3832322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aee4342312d54c15c32c33470b150d9c?s=128&d=identicon&r=PG&f=1", "display_name": "ashu", "link": "https://stackoverflow.com/users/3832322/ashu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2488, "favorite_count": 0, "answer_count": 3, "score": 11, "last_activity_date": 1617523332, "creation_date": 1539078643, "last_edit_date": 1539326196, "question_id": 52718086, "link": "https://stackoverflow.com/questions/52718086/requirenotnull-vs-sure-operator-in-kotlin", "title": "requireNotNull vs sure operator !! in Kotlin", "body": "<p>We have a Kotlin based application and recently we added third party code quality tools (Detekt in Codacy). However, we started facing UnsafeCallOnNullableType errors.\nWe found that approach viable to use is to add requireNotNull checks on all parameter which maybe null. Currently, we are using sure operator (!!)</p>\n\n<p>Do we have any specific reason or convention to chose one over the other. As far as I see, both will throw an Exception and will block the execution flow, except one will throw IllegalArgumentException while the other will throw NullPointerException.</p>\n"}, {"tags": ["cordova", "plugins", "kotlin", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 9663307, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhFfFSRXHeE/AAAAAAAAAAI/AAAAAAAAABc/aK7H9YUL85M/photo.jpg?sz=128", "display_name": "Frendi Muhamad", "link": "https://stackoverflow.com/users/9663307/frendi-muhamad"}, "edited": false, "score": 0, "creation_date": 1539141152, "post_id": 52728310, "comment_id": 92389094, "body": "Thanks Dave, it&#39;s help my day, since kotlin is very magic language i very curious to implement kotlin in my old plugin."}], "tags": [], "owner": {"reputation": 28117, "user_id": 777265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BNXHx.jpg?s=128&g=1", "display_name": "DaveAlden", "link": "https://stackoverflow.com/users/777265/davealden"}, "is_accepted": true, "score": 9, "last_activity_date": 1539114439, "creation_date": 1539114439, "answer_id": 52728310, "question_id": 52718004, "link": "https://stackoverflow.com/questions/52718004/kotlin-for-a-cordova-ionic-based-plugin/52728310#52728310", "title": "Kotlin for a Cordova/Ionic based plugin", "body": "<p>Recently I've been working with Kotlin in Cordova plugins, but when I started out I also couldn't find any existing references as to how to create a Cordova plugin using Kotlin.</p>\n\n<p>So I've created an example plugin which you can use as a template:<br/>\n<a href=\"https://github.com/dpa99c/cordova-plugin-hello-kotlin\" rel=\"noreferrer\">https://github.com/dpa99c/cordova-plugin-hello-kotlin</a></p>\n\n<p>As you can see, the native part on the Cordova plugin interface is <a href=\"https://github.com/dpa99c/cordova-plugin-hello-kotlin/blob/master/src/HelloKotlin.kt\" rel=\"noreferrer\">implemented in Kotlin</a>.</p>\n\n<p>Because currently <code>cordova-android@7</code> doesn't implicitly support Kotlin, the plugin uses hook scripts to set up the native Android project created by Cordova for Kotlin, and also to remove <code>.kt</code> files from the platform project when the plugin is uninstalled, since currently <code>cordova-android@7</code> only does this for <code>.java</code> files.</p>\n\n<p>But it works and you can try it out with the <a href=\"https://github.com/dpa99c/cordova-plugin-hello-kotlin\" rel=\"noreferrer\">test app project</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "edited": false, "score": 0, "creation_date": 1610795916, "post_id": 63872580, "comment_id": 116247911, "body": "I&#39;m getting <code>Failed to install &#39;cordova-***&#39;: Error: Variable(s) missing: GRADLEPLUGINKOTLINENABLED, GRADLEPLUGINKOTLINCODESTYLE, GRADLEPLUGINKOTLINVERSION</code>"}], "tags": [], "owner": {"reputation": 3453, "user_id": 838355, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AIvqN.png?s=128&g=1", "display_name": "ir2pid", "link": "https://stackoverflow.com/users/838355/ir2pid"}, "is_accepted": false, "score": 1, "last_activity_date": 1600017909, "last_edit_date": 1600017909, "creation_date": 1600011736, "answer_id": 63872580, "question_id": 52718004, "link": "https://stackoverflow.com/questions/52718004/kotlin-for-a-cordova-ionic-based-plugin/63872580#63872580", "title": "Kotlin for a Cordova/Ionic based plugin", "body": "<p>Official solution: <a href=\"https://cordova.apache.org/announcements/2020/06/29/cordova-android-9.0.0.html\" rel=\"nofollow noreferrer\">cordova 9 supports kotlin</a></p>\n<p>add the following in config.xml</p>\n<pre><code>&lt;preference name=&quot;GradlePluginKotlinEnabled&quot; value=&quot;true&quot; /&gt;\n&lt;preference name=&quot;GradlePluginKotlinCodeStyle&quot; value=&quot;official&quot; /&gt;\n&lt;preference name=&quot;GradlePluginKotlinVersion&quot; value=&quot;1.3.50&quot; /&gt;\n</code></pre>\n<p>also note where to put the kotlin files, i.e. <code>src/main/kotlin/&lt;com&gt;/&lt;package&gt;/</code></p>\n<p>using:</p>\n<pre><code>&lt;source-file src=&quot;src/android/file.kt&quot; target-dir=&quot;app/src/main/kotlin/xx/yy/zz&quot; /&gt;\n</code></pre>\n<p>and add the below to your plugin's gradle.build if the kotlin files aren't picked up by your project</p>\n<pre><code>android {\n    sourceSets {\n        main.java {\n            srcDirs += 'src/main/kotlin'\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/timbru31/cordova-plugin-lottie-splashscreen/tree/master/example\" rel=\"nofollow noreferrer\">This plugin uses kotlin and has an example project</a></p>\n"}], "owner": {"reputation": 63, "user_id": 9663307, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhFfFSRXHeE/AAAAAAAAAAI/AAAAAAAAABc/aK7H9YUL85M/photo.jpg?sz=128", "display_name": "Frendi Muhamad", "link": "https://stackoverflow.com/users/9663307/frendi-muhamad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2386, "favorite_count": 3, "accepted_answer_id": 52728310, "answer_count": 2, "score": 4, "last_activity_date": 1600017909, "creation_date": 1539078380, "question_id": 52718004, "link": "https://stackoverflow.com/questions/52718004/kotlin-for-a-cordova-ionic-based-plugin", "title": "Kotlin for a Cordova/Ionic based plugin", "body": "<p>is it possible to use Kotlin as a framework/language as a Cordova plugin?</p>\n\n<p>first issue is that it's not copying the .kt file, because it looks for *.java or *.xml</p>\n\n<p>if so anyone know a reference on how to setup?</p>\n"}, {"tags": ["reflection", "kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1565257277, "last_edit_date": 1565257277, "creation_date": 1539087333, "answer_id": 52720842, "question_id": 52717977, "link": "https://stackoverflow.com/questions/52717977/generic-extensions-of-kproperty1-in-kotlin/52720842#52720842", "title": "Generic extensions of KProperty1 in Kotlin", "body": "<p>First, note that <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property1/index.html\" rel=\"nofollow noreferrer\"><code>KProperty1&lt;T, out R&gt;</code></a> has an <a href=\"https://kotlinlang.org/docs/reference/generics.html#use-site-variance-type-projections\" rel=\"nofollow noreferrer\"><code>out</code>-projected type parameter <code>R</code></a>, so an instance of <code>KProperty1&lt;Foo, Bar&gt;</code> can also be used where a <code>KProperty1&lt;Foo, Baz&gt;</code> is expected, where <code>Baz</code> is a supertype of <code>Bar</code>, such as <code>Any</code>.</p>\n\n<p>This is exactly what happens when you call <code>eq</code> with types that don't quite match: a more common supertype is used so that the call resolves correctly.</p>\n\n<p>For example, this call:</p>\n\n<pre><code>Person::age eq 1.2f\n</code></pre>\n\n<p>is effectively equivalent to:</p>\n\n<pre><code>Person::age.eq&lt;Person, Any&gt;(1.2f)\n</code></pre>\n\n<p><sup>You can even transform it to this form automatically be applying <em>Replace infix call with ordinary call</em> and then <em>Add explicit type arguments</em>.</sup></p>\n\n<p>So whenever the types don't match exactly, a common supertype is chosen for <code>R</code>. Currently, there's no proper way to tell the compiler it should not fall back to the supertype (see <a href=\"https://stackoverflow.com/questions/39596420/how-do-i-constrain-a-kotlin-extension-function-parameter-to-be-the-same-as-the-e/39598190\">this Q&amp;A</a>).</p>\n\n<p>The last call is a side effect of how type inference currently works: it seems like the compiler has to choose one of the overloads before it decides on whether it is compatible for nullability. If you replace <code>null</code> with <code>(null as String?)</code> it works. Please file an issue for this at <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>.</p>\n\n<p>In general, it is preferable not to mix the generic signatures with non-generic ones because of possible generic substitutions that lead to ambiguity. In your case, a substitution <code>R := KProperty1&lt;T, Foo&gt;</code> (i.e. using <code>eq</code> on a property of this type) would lead to ambiguity.</p>\n\n<p>Also relevant:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/57318179/kotlin-generic-type-parameters-not-being-respected/57359580#57359580\">Kotlin - Generic Type Parameters Not Being Respected</a> </p>\n\n<p><sup>(basically the same case, but with a more detailed explanation of how type inference works here)</sup></p></li>\n</ul>\n"}], "owner": {"reputation": 4071, "user_id": 1705337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vzyhp.png?s=128&g=1", "display_name": "Morgoth", "link": "https://stackoverflow.com/users/1705337/morgoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 52720842, "answer_count": 1, "score": 4, "last_activity_date": 1565257277, "creation_date": 1539078318, "last_edit_date": 1539084752, "question_id": 52717977, "link": "https://stackoverflow.com/questions/52717977/generic-extensions-of-kproperty1-in-kotlin", "title": "Generic extensions of KProperty1 in Kotlin", "body": "<p>I have the following code:</p>\n\n<pre><code>import kotlin.reflect.KProperty1\n\n\ninfix fun &lt;T, R&gt; KProperty1&lt;T, R&gt;.eq(value: R) {\n    println(this.name + \" = $value\")\n}\n\ninfix fun &lt;T, R&gt; KProperty1&lt;T, R&gt;.eq(value: KProperty1&lt;T, R&gt;) {\n    println(this.name + \" = \" + value.name)\n}\n\ndata class Person(val age: Int, val name: String, val surname: String?)\n\nfun main() {\n    Person::age eq 1  // Valid. First function\n    Person::name eq \"Johan\"  // Valid. First function\n    Person::name eq Person::name  // Valid. Second function\n    Person::age eq 1.2f  // Valid, but it shouldn't be. First function\n    Person::age eq Person::name  // Valid, but it shouldn't be. First function\n    Person::surname eq null  // Invalid, but it should be. Second function, but it should be first\n}\n</code></pre>\n\n<p>I am trying create extension functions for the <code>KProperty1</code> class with generics, but my generics are not matching as I'd expect. <code>main()</code> lists some uses of the two functions, with 3 unexpected results at the end and a description of what I should expect.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 402, "user_id": 9019720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvA8Z.jpg?s=128&g=1", "display_name": "Shayan Tabatabaee", "link": "https://stackoverflow.com/users/9019720/shayan-tabatabaee"}, "edited": false, "score": 0, "creation_date": 1539077786, "post_id": 52717756, "comment_id": 92361029, "body": "Share all your dependencies , it seems that some mixing version in support libraries is happen , also you can use this command to see dependecy tree : <code>gradlew app:dependencies</code>"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1539078033, "post_id": 52717756, "comment_id": 92361171, "body": "<i>I don&#39;t know where can I change the version as they mention.</i> - in the build.gradle file in the root dir"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1539078215, "post_id": 52717756, "comment_id": 92361290, "body": "post your dependencies from <b>app level</b> <code>build.gradle</code> code for second issue."}, {"owner": {"reputation": 51, "user_id": 8817773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2aa6dd8a3d121e401bce91b94196508?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Geek", "link": "https://stackoverflow.com/users/8817773/mr-geek"}, "edited": false, "score": 0, "creation_date": 1539079320, "post_id": 52717756, "comment_id": 92361975, "body": "Jeel Vankhede, I did put the build.gradle file please check if everything inside it is fine"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8817773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2aa6dd8a3d121e401bce91b94196508?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Geek", "link": "https://stackoverflow.com/users/8817773/mr-geek"}, "edited": false, "score": 0, "creation_date": 1539078631, "post_id": 52717914, "comment_id": 92361559, "body": "I don&#39;t have that block!"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 51, "user_id": 8817773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2aa6dd8a3d121e401bce91b94196508?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Geek", "link": "https://stackoverflow.com/users/8817773/mr-geek"}, "edited": false, "score": 0, "creation_date": 1539078676, "post_id": 52717914, "comment_id": 92361589, "body": "Every project does, i mentioned that go to project level. not app level"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1539079700, "post_id": 52717914, "comment_id": 92362218, "body": "this is half an answer. What about the other issue?"}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 0, "last_activity_date": 1539080056, "last_edit_date": 1539080056, "creation_date": 1539078144, "answer_id": 52717914, "question_id": 52717756, "link": "https://stackoverflow.com/questions/52717756/update-of-android-studio-from-2-3-3-to-3-2-errors/52717914#52717914", "title": "Update of Android studio from 2.3.3 to 3.2. ERRORS", "body": "<blockquote>\n  <p>The gradle build keep showing me this error about Kotlin version:</p>\n</blockquote>\n\n<p>Answer</p>\n\n<ol>\n<li><p>Open your <strong>project level</strong> build.gradle file,</p></li>\n<li><p>there you'll find a block named <strong><code>buildscript</code></strong>.</p></li>\n<li><p>Go to that block and find if there is a variable named <code>ext.kotlin_version</code></p></li>\n<li><p>Change it to your latest version of <strong>Kotlin</strong> plugin.</p></li>\n</ol>\n\n<hr>\n\n<blockquote>\n  <p>all com.android.support libraries must use the exact same version\n  specification.</p>\n</blockquote>\n\n<p>Issue for this is that the library you're using <a href=\"https://github.com/webianks/EasyFeedback/blob/master/easy-feedback/build.gradle\" rel=\"nofollow noreferrer\">easy-feedback</a> is having different version for support library <strong>(v25)</strong> than you're using <strong>(v28)</strong>.</p>\n\n<p>Solution is to exclude your support library from that dependency like below:</p>\n\n<pre><code>implementation ('com.webianks.library:easy-feedback:1.0.2', {\n    exclude group: 'com.android.support'\n})\n</code></pre>\n\n<p><strong><em>Note :</strong> If problem still persist, then check it with other 3rd party dependencies too.</em></p>\n"}], "owner": {"reputation": 51, "user_id": 8817773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2aa6dd8a3d121e401bce91b94196508?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.Geek", "link": "https://stackoverflow.com/users/8817773/mr-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 52717914, "answer_count": 1, "score": 0, "last_activity_date": 1539080056, "creation_date": 1539077667, "last_edit_date": 1539079119, "question_id": 52717756, "link": "https://stackoverflow.com/questions/52717756/update-of-android-studio-from-2-3-3-to-3-2-errors", "title": "Update of Android studio from 2.3.3 to 3.2. ERRORS", "body": "<p>I recently updated my Android Studio from 2.3.3 to 3.2 but unfortunately it have been two days, that I'm trying to fix bugs but, I resolved the most but I still have some problems that persist in my projects:</p>\n\n<ol>\n<li><p>The gradle build keep showing me this error about Kotlin version:</p>\n\n<p>The Android Gradle plugin supports only Kotlin Gradle plugin version\n1.2.51 and higher. Project 'XXX' is using version 1.1.4-3.</p>\n\n<p>=> The problem is my kotlin is declared as automated update version :</p>\n\n<pre><code> classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>I don't know where can I change the version as they mention.</p></li>\n<li><p>This line code is always underlined in red:</p>\n\n<p><code>implementation 'com.android.support:appcompat-v7:28.0.0'</code></p>\n\n<p>The build tool version is 28.0.2</p>\n\n<p>The error declared is:</p>\n\n<blockquote>\n  <p>all com.android.support libraries must use the exact same version specification.</p>\n</blockquote></li>\n</ol>\n\n<p>PS: I used 28.0.0 is all com.android.support libraries.</p>\n\n<p>If you have any solutions to this two problems please let me know.</p>\n\n<p>Thank you in advance.</p>\n\n<p>Here is my build file</p>\n\n<pre><code>apply plugin: 'com.android.application'\n</code></pre>\n\n<p><code>apply plugin: 'kotlin-android'</code></p>\n\n<pre><code>apply plugin: 'com.google.firebase.firebase-crash'\n\napply plugin: 'io.fabric'\n\nandroid {\ncompileSdkVersion 28\nbuildToolsVersion '28.0.2'\ndefaultConfig {\n    applicationId \"com.ameerhamza6733.directmessagesaveandrepost\"\n    minSdkVersion 17\n    targetSdkVersion 28\n    versionCode 32\n    versionName \"1.0.32\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    vectorDrawables.useSupportLibrary = true\n}\nbuildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\nandroidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\nimplementation project(':easy_sharedpreference_library')\nimplementation 'com.android.support:appcompat-v7:28.0.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'org.jsoup:jsoup:1.10.3'\nimplementation 'com.android.support:cardview-v7:28.0.0'\nimplementation 'com.squareup.picasso:picasso:2.5.2'\nimplementation 'com.github.lolucosmin:PermissionsWrapper:version_1.2'\nimplementation 'com.artjimlop:altex-image-downloader:0.0.4'\nimplementation 'com.daimajia.numberprogressbar:library:1.4@aar'\nimplementation 'com.android.support:design:28.0.0'\n\nimplementation 'com.google.firebase:firebase-ads:15.0.1'\n\nimplementation 'com.webianks.library:easy-feedback:1.0.2'\nimplementation 'com.github.clans:fab:1.6.4'\nimplementation 'com.android.volley:volley:1.1.0'\nimplementation 'com.google.android.ads.consent:consent-library:1.0.6'\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.9.4'\ntestImplementation 'junit:junit:4.12'\nimplementation project(':library')\n\n}\napply plugin: 'com.google.gms.google-services'\nrepositories {\n    mavenCentral()\n    google()\n\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "generics", "kotlin"], "comments": [{"owner": {"reputation": 3764, "user_id": 1128953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6b9d87c65b2798018d9095c4d92b215?s=128&d=identicon&r=PG", "display_name": "Liping Huang", "link": "https://stackoverflow.com/users/1128953/liping-huang"}, "edited": false, "score": 1, "creation_date": 1539071223, "post_id": 52715738, "comment_id": 92357042, "body": "in your case, you need using the generic class instead of using the generic method."}], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 1282, "user_id": 1388976, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TFyxJ.jpg?s=128&g=1", "display_name": "julien dumortier", "link": "https://stackoverflow.com/users/1388976/julien-dumortier"}, "edited": false, "score": 1, "creation_date": 1539073838, "post_id": 52716256, "comment_id": 92358513, "body": "Because you want to pass the generic type parameter to the method <i>in its declaration</i>. You can only pass parameters to it at the call site."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 2, "last_activity_date": 1539072695, "creation_date": 1539072695, "answer_id": 52716256, "question_id": 52715738, "link": "https://stackoverflow.com/questions/52715738/type-not-recognized-with-generics-method-in-kotlin/52716256#52716256", "title": "Type not recognized with generics method in Kotlin", "body": "<p>This <code>interface</code>:</p>\n\n<pre><code>interface IInterface {\n    fun &lt;T&gt; test(body: T)\n}\n</code></pre>\n\n<p>is not generic, but it has a <em>generic method</em>. If you want to make it generic do this:</p>\n\n<pre><code>interface IInterface&lt;T&gt; {\n    fun test(body: T)\n}\n</code></pre>\n\n<p>then your implementation will look like this:</p>\n\n<pre><code>class MyClass: IInterface&lt;JsonObject&gt; {\n    override fun test(body: JsonObject) {\n        if (body is com.google.gson.JsonObject) {\n\n        }\n    }\n}\n</code></pre>\n\n<p>If you still want a generic method for some reason you'll have to pass the generic type parameter at each call site:</p>\n\n<pre><code>someInstance.test&lt;JsonObject&gt;(obj)\n</code></pre>\n"}], "owner": {"reputation": 1282, "user_id": 1388976, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TFyxJ.jpg?s=128&g=1", "display_name": "julien dumortier", "link": "https://stackoverflow.com/users/1388976/julien-dumortier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539073546, "creation_date": 1539070972, "last_edit_date": 1539073546, "question_id": 52715738, "link": "https://stackoverflow.com/questions/52715738/type-not-recognized-with-generics-method-in-kotlin", "title": "Type not recognized with generics method in Kotlin", "body": "<p>I have this interface with this generic method:</p>\n\n<pre><code>interface IInterface {\n    fun &lt;T&gt; test(body: T)\n}\n</code></pre>\n\n<p>I want to implement this interface like this:</p>\n\n<pre><code>class MyClass: IInterface {\n    override fun &lt;JsonObject&gt; test(body: JsonObject) {\n        if (body is com.google.gson.JsonObject) {\n\n        }\n    }\n}\n</code></pre>\n\n<p>My problem here is type JsonObject not recognized like \"com.google.gson.JsonObject\". So i can write this code without error in my compilator (intelliJ).</p>\n\n<pre><code>override fun &lt;NotExistingClass__&gt; test(body: NotExistingClass__) {\n</code></pre>\n\n<p>So, how to define the type of T for JsonObject from Gson ? this code does not work:</p>\n\n<pre><code>override fun &lt;com.google.gson.JsonObject&gt; test(body: com.google.gson.JsonObject)\n</code></pre>\n\n<p>Thank's</p>\n"}, {"tags": ["debugging", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1539070770, "post_id": 52715377, "comment_id": 92356780, "body": "Check <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a> for errors, report a bug at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1539072996, "post_id": 52715377, "comment_id": 92358034, "body": "Did you try deleting the <code>.idea</code> folder and re-importing the project? Deleting the <code>out</code> directory might also help."}, {"owner": {"reputation": 13, "user_id": 5442910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a65650bdc8a3364613a191fcd9eab5?s=128&d=identicon&r=PG&f=1", "display_name": "Pietras9", "link": "https://stackoverflow.com/users/5442910/pietras9"}, "edited": false, "score": 0, "creation_date": 1539163564, "post_id": 52715377, "comment_id": 92398486, "body": "After reimporting project everything is fine, it had to be some idea bug."}], "owner": {"reputation": 13, "user_id": 5442910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4a65650bdc8a3364613a191fcd9eab5?s=128&d=identicon&r=PG&f=1", "display_name": "Pietras9", "link": "https://stackoverflow.com/users/5442910/pietras9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 934, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539069615, "creation_date": 1539069615, "question_id": 52715377, "link": "https://stackoverflow.com/questions/52715377/cant-run-debug-mode-in-intellij-idea", "title": "Can&#39;t run debug mode in intellij idea", "body": "<p>I can't debug Junit tests in just one of my projects in intellij idea. The error i get is \"Error running 'Test': Unknown error'. I was trying to rebuild project, invalidate caches. Also I can, run tests, I just can't debug them.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-fragmentactivity", "fragmentmanager"], "comments": [{"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1539071271, "post_id": 52715170, "comment_id": 92357063, "body": "are you doing any heavy time consuming task in your default fragment&#39;s oncreate / oncreateView/ onviewcreated / onresume?"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1539071368, "post_id": 52715170, "comment_id": 92357134, "body": "No. Its like login screen. The only stuff what is inside fragment is credentialsValidation (calling asynctask to server from REST API.)"}, {"owner": {"reputation": 1196, "user_id": 4974176, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/5b6e0b173066b4df6c70f9c7188efa3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vodet", "link": "https://stackoverflow.com/users/4974176/vodet"}, "edited": false, "score": 0, "creation_date": 1539072516, "post_id": 52715170, "comment_id": 92357761, "body": "Have you add some background image to your app ? If yes what is the size of it,  try to remove it and check if lag disapear"}, {"owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "edited": false, "score": 0, "creation_date": 1539085754, "post_id": 52715170, "comment_id": 92365809, "body": "I would create Mock fragment just with TextView  and try to reproduce problem with it and than gradually make this mock looks more and more like original LoginFragment, until you find a problem. Fragment which opens up for 5 sec is not a usual thing, and it safe to assume you are doing something wrong"}], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1539070630, "post_id": 52715427, "comment_id": 92356707, "body": "Where do you get <code>mHandler</code>?"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539070912, "post_id": 52715427, "comment_id": 92356856, "body": "Same question :)"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539071245, "post_id": 52715427, "comment_id": 92357053, "body": "Because If I create new handler object it says that mPendingRunnable is not Runnable but Unit (in kotlin method  mHandler.post(mPendingRunnable))"}, {"owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "reply_to_user": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539078102, "post_id": 52715427, "comment_id": 92361213, "body": "@martin1337 i&#39;ve updated my answer . its just <code>Handler</code> object"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1539084451, "post_id": 52715427, "comment_id": 92365030, "body": "and how to execute that runnable? Because If I run this code in function it will not run mHandler.post(). I have to add Runnable into Thread and use .start()"}], "tags": [], "owner": {"reputation": 3502, "user_id": 6880611, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-cZQAEORHS0I/AAAAAAAAAAI/AAAAAAAAAe4/KrGn0vxt7hE/photo.jpg?sz=128", "display_name": "Tejas Pandya", "link": "https://stackoverflow.com/users/6880611/tejas-pandya"}, "is_accepted": true, "score": 1, "last_activity_date": 1539085043, "last_edit_date": 1539085043, "creation_date": 1539069820, "answer_id": 52715427, "question_id": 52715170, "link": "https://stackoverflow.com/questions/52715170/replacing-fragments-in-fragmentactivity-is-freezing-my-application-for-more-than/52715427#52715427", "title": "Replacing fragments in FragmentActivity is freezing my application for more than 5 seconds", "body": "<p>Try to exucute your code inside Runnable . Like this</p>\n\n<pre><code>Handler  mHandler = new Handler();\n\n     Runnable mPendingRunnable = new Runnable() {\n                @Override\n                public void run() {\n                    // update the main content by replacing fragments\n                    Fragment fragment = getHomeFragment();\n                    FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n                    fragmentTransaction.setCustomAnimations(android.R.anim.fade_in,\n                            android.R.anim.fade_out);\n                    fragmentTransaction.replace(R.id.frame, fragment, CURRENT_TAG);\n                    fragmentTransaction.commitAllowingStateLoss();\n                }\n            };\n\n            // If mPendingRunnable is not null, then add to the message queue\n            if (mPendingRunnable != null) {\n                mHandler.post(mPendingRunnable);\n            }\n</code></pre>\n\n<p>Changing Your Fragment on Main Thread causing that issuie</p>\n\n<p><strong>EDIT: In kotlin you can use like this</strong> </p>\n\n<pre><code>private var   mDelayHandler : Handler? = Handler()\n mDelayHandler!!.post(mRunnable)\n\n\ninternal val mRunnable: Runnable = Runnable {\n        Fragment fragment = getHomeFragment();\n                        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n                        fragmentTransaction.setCustomAnimations(android.R.anim.fade_in,\n                                android.R.anim.fade_out);\n                        fragmentTransaction.replace(R.id.frame, fragment, CURRENT_TAG);\n                        fragmentTransaction.commitAllowingStateLoss();\n                    }\n                };\n    }\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "accepted_answer_id": 52715427, "answer_count": 1, "score": 1, "last_activity_date": 1539085043, "creation_date": 1539068869, "question_id": 52715170, "link": "https://stackoverflow.com/questions/52715170/replacing-fragments-in-fragmentactivity-is-freezing-my-application-for-more-than", "title": "Replacing fragments in FragmentActivity is freezing my application for more than 5 seconds", "body": "<p>I have <code>FragmentActivity</code> called <code>StartupActivity</code>. This activity holds 5 <code>Fragments</code> -> <code>LoginFragment, LostPasswordFragment, RegistrationFragment, Login2Fragment, CityPickFragment</code>. I can switch between fragments using <code>ToolBar</code> <strong>BackButton</strong>. Problem is, that replacing certain fragment using suppportFragmentManager and simple transaction is lagging the app. If I click <strong>BackButton</strong> it takes nearly <strong>5 second</strong> to switch fragment. <code>Fragments</code> has simple layout with <strong>1 ImageView 2 EditTexts and Button (+ ToolBar)</strong>.</p>\n\n<p>Do you know what can be wrong?</p>\n\n<p>Here is code example how fragment switching works. As I start <code>StartupActivity</code> right after <code>SplashScreen</code>, it will create all 5 Fragments as variables and it will set default <code>Fragment</code> to <strong>FrameLayout container</strong>.</p>\n\n<p>Then in each 5 fragments is back button in toolbar and I set <code>onClickListener()</code> which calls method in <code>parentActivity</code> to <strong>switch fragment</strong>.</p>\n\n<p>My Fragments have <strong>Tags</strong>, because I have to disable <strong>onBackPressed()</strong> at first fragment(You cant go back to SplashScreen from default Fragment).</p>\n\n<pre><code>//RegistrationFragment\nfragmentBackButton.setOnClickListener {\n            (activity as StartupActivity).switchToDefaultLoginFragment()\n        }\n\n//StartupActivity\nfun switchToDefaultLoginFragment(){\n        fragmentTransaction = supportFragmentManager.beginTransaction()\n        fragmentTransaction.apply {\n            replace(R.id.startup_fragment_container, defaultLoginFragment, \"LOGIN_FRAGMENT\")\n            addToBackStack(null)\n            commit()\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 743, "user_id": 5091033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0737443a012e096ab556ef60a197f?s=128&d=identicon&r=PG&f=1", "display_name": "simo-r", "link": "https://stackoverflow.com/users/5091033/simo-r"}, "edited": false, "score": 1, "creation_date": 1539068227, "post_id": 52714648, "comment_id": 92355462, "body": "You should post the code your tried at least. Can u specify your question? Do you need to open a custom info window on google maps marker click?"}, {"owner": {"reputation": 29, "user_id": 10389423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5516848faf20abe0885590f194e29a36?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Thakkar", "link": "https://stackoverflow.com/users/10389423/parth-thakkar"}, "reply_to_user": {"reputation": 743, "user_id": 5091033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0737443a012e096ab556ef60a197f?s=128&d=identicon&r=PG&f=1", "display_name": "simo-r", "link": "https://stackoverflow.com/users/5091033/simo-r"}, "edited": false, "score": 0, "creation_date": 1539073019, "post_id": 52714648, "comment_id": 92358051, "body": "I got success to open custom view in info window of google map . But not able to get clicks of items which was I added in custom view like radio buttons, edit text and buttons."}, {"owner": {"reputation": 29, "user_id": 10389423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5516848faf20abe0885590f194e29a36?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Thakkar", "link": "https://stackoverflow.com/users/10389423/parth-thakkar"}, "reply_to_user": {"reputation": 743, "user_id": 5091033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8d0737443a012e096ab556ef60a197f?s=128&d=identicon&r=PG&f=1", "display_name": "simo-r", "link": "https://stackoverflow.com/users/5091033/simo-r"}, "edited": false, "score": 0, "creation_date": 1539233223, "post_id": 52714648, "comment_id": 92428581, "body": "Hello @BetaRunner here is my code:  <a href=\"https://github.com/ParthThakar2012/GoogleMapKotlin.git\" rel=\"nofollow noreferrer\">github.com/ParthThakar2012/GoogleMapKotlin.git</a> IN this demo it works for now but I want to open and set dynamically added markers in map.  can you please looking more into it if you can."}], "answers": [{"comments": [{"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 1, "creation_date": 1543399063, "post_id": 52776722, "comment_id": 93902181, "body": "The name is like <code>GoogleMapKotlin</code> but there is no Kotlin code inside the repo.?"}], "tags": [], "owner": {"reputation": 29, "user_id": 10389423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5516848faf20abe0885590f194e29a36?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Thakkar", "link": "https://stackoverflow.com/users/10389423/parth-thakkar"}, "is_accepted": true, "score": 1, "last_activity_date": 1543235641, "last_edit_date": 1543235641, "creation_date": 1539337281, "answer_id": 52776722, "question_id": 52714648, "link": "https://stackoverflow.com/questions/52714648/custom-info-window-of-google-map-with-item-click-with-kotlin/52776722#52776722", "title": "Custom info window of google map with item click with kotlin", "body": "<p>Here is an example in kotlin to  open and get item clicks of map info window.\nExample Code : <a href=\"https://github.com/ParthThakar2012/GoogleMapKotlin\" rel=\"nofollow noreferrer\">https://github.com/ParthThakar2012/GoogleMapKotlin</a></p>\n"}], "owner": {"reputation": 29, "user_id": 10389423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5516848faf20abe0885590f194e29a36?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Thakkar", "link": "https://stackoverflow.com/users/10389423/parth-thakkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2190, "favorite_count": 0, "accepted_answer_id": 52776722, "answer_count": 1, "score": 1, "last_activity_date": 1543235641, "creation_date": 1539066621, "last_edit_date": 1539071468, "question_id": 52714648, "link": "https://stackoverflow.com/questions/52714648/custom-info-window-of-google-map-with-item-click-with-kotlin", "title": "Custom info window of google map with item click with kotlin", "body": "<p>I tried to get click of items from info window of google maps .\nI took reference from here : <a href=\"https://stackoverflow.com/questions/14123243/google-maps-android-api-v2-interactive-infowindow-like-in-original-android-go/15040761#15040761\">Google Maps Android API v2 - Interactive InfoWindow (like in original android google maps)</a></p>\n\n<p>But not able to work properly in kotlin .</p>\n"}, {"tags": ["android", "kotlin", "call-recording"], "comments": [{"owner": {"reputation": 1115, "user_id": 8416317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GDyll_rxH1o/AAAAAAAAAAI/AAAAAAAABrs/G5Zoq0A06kc/photo.jpg?sz=128", "display_name": "Vinesh Chauhan", "link": "https://stackoverflow.com/users/8416317/vinesh-chauhan"}, "edited": false, "score": 0, "creation_date": 1539066511, "post_id": 52714618, "comment_id": 92354689, "body": "after oreo update it can not be possible to record calls"}, {"owner": {"reputation": 8507, "user_id": 1178337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a1de2.png?s=128&g=1", "display_name": "2Dee", "link": "https://stackoverflow.com/users/1178337/2dee"}, "edited": false, "score": 0, "creation_date": 1540820663, "post_id": 52714618, "comment_id": 92993138, "body": "<i>not working</i> is not a good description of an issue, especially not a technical one. Please carefully review the Help section to learn how to ask proper questions (include your code and research, MVCE, etc)."}], "answers": [{"comments": [{"owner": {"reputation": 4238, "user_id": 1371792, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9yJeA.jpg?s=128&g=1", "display_name": "GreenROBO", "link": "https://stackoverflow.com/users/1371792/greenrobo"}, "edited": false, "score": 0, "creation_date": 1564467923, "post_id": 52714814, "comment_id": 101029650, "body": "Can I use <a href=\"https://github.com/ViktorDegtyarev/CallRecLib\" rel=\"nofollow noreferrer\">this</a> code in Android 9 Pie if My Application is System App? Will it work?"}, {"owner": {"reputation": 14396, "user_id": 1395437, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0afd3049729ecebbf134e297e278e0c1?s=128&d=identicon&r=PG", "display_name": "Daniel Zolnai", "link": "https://stackoverflow.com/users/1395437/daniel-zolnai"}, "reply_to_user": {"reputation": 4238, "user_id": 1371792, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9yJeA.jpg?s=128&g=1", "display_name": "GreenROBO", "link": "https://stackoverflow.com/users/1371792/greenrobo"}, "edited": false, "score": 0, "creation_date": 1564745235, "post_id": 52714814, "comment_id": 101141049, "body": "I don&#39;t think it will work. Also, how do you make your app a system app? You have to need to sign the app with a special keystore which is in the hands of the manufacturer. Or are you on a custom rom?"}, {"owner": {"reputation": 4238, "user_id": 1371792, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9yJeA.jpg?s=128&g=1", "display_name": "GreenROBO", "link": "https://stackoverflow.com/users/1371792/greenrobo"}, "edited": false, "score": 0, "creation_date": 1565088346, "post_id": 52714814, "comment_id": 101233104, "body": "I have just made my application as an administrator."}, {"owner": {"reputation": 498, "user_id": 9868485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfca645c210ce274daf09bbbebcbefd5?s=128&d=identicon&r=PG&f=1", "display_name": "code4rox", "link": "https://stackoverflow.com/users/9868485/code4rox"}, "edited": false, "score": 0, "creation_date": 1569473331, "post_id": 52714814, "comment_id": 102609368, "body": "i&#39;m working on this project from couple of days, it&#39;s working on android 7 and 8 but the is issue is it&#39;s target sdk version is set to 23 when i increase it&#39;s sdk version it crash. <code>libutlis.so</code> not found . how can I solved this error."}, {"owner": {"reputation": 295, "user_id": 4906136, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8-I1UBouOB4/AAAAAAAAAAI/AAAAAAAABIQ/Mbnef10OFe0/photo.jpg?sz=128", "display_name": "Rakesh Kumar", "link": "https://stackoverflow.com/users/4906136/rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1598863765, "post_id": 52714814, "comment_id": 112584787, "body": "Is there any official link for blocking the call record in android oreo?"}], "tags": [], "owner": {"reputation": 14396, "user_id": 1395437, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0afd3049729ecebbf134e297e278e0c1?s=128&d=identicon&r=PG", "display_name": "Daniel Zolnai", "link": "https://stackoverflow.com/users/1395437/daniel-zolnai"}, "is_accepted": true, "score": 2, "last_activity_date": 1539149417, "last_edit_date": 1539149417, "creation_date": 1539067440, "answer_id": 52714814, "question_id": 52714618, "link": "https://stackoverflow.com/questions/52714618/call-recorder-not-working-after-oreo-update/52714814#52714814", "title": "Call Recorder Not Working After Oreo Update", "body": "<p>Call recording is not allowed from Android 6 Marshmallow.\nThere was a workaround in native code around the root requirement, which worked until Android 8.1.</p>\n\n<p>This was patched in Android 9 Pie, and since this version recording calls is not possible anymore. You can find a detailed explanation from the developer of ACR (the most popular call recorder for Android) <a href=\"https://bitbucket.org/copluk/acr/issues/2418/kb-android-9-p-call-recording-issues\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>For the Android 6-7-8 workaround, you can check an example implementation <a href=\"https://github.com/ViktorDegtyarev/CallRecLib\" rel=\"nofollow noreferrer\">here</a> (it basically uses native C++ code to bypass the check done in Java).</p>\n"}], "owner": {"reputation": 730, "user_id": 7649582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQ8M7.jpg?s=128&g=1", "display_name": "Dhanshri", "link": "https://stackoverflow.com/users/7649582/dhanshri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 1, "accepted_answer_id": 52714814, "answer_count": 1, "score": 0, "last_activity_date": 1539149417, "creation_date": 1539066441, "last_edit_date": 1539066522, "question_id": 52714618, "link": "https://stackoverflow.com/questions/52714618/call-recorder-not-working-after-oreo-update", "title": "Call Recorder Not Working After Oreo Update", "body": "<p>I was working on call recording with nougat but since or\u00e9o, it's not working anymore. </p>\n\n<p>I am using MediaRecorder for recording.It is working on other versions of android.</p>\n\n<p>I've tried many others, but no success.</p>\n\n<p>so i need to know if someone has been successful made this type of application with Oreo, if so, how to do this? </p>\n"}, {"tags": ["android", "kotlin", "main", "android-studio-3.0"], "comments": [{"owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "edited": false, "score": 0, "creation_date": 1539064614, "post_id": 52714055, "comment_id": 92353914, "body": "Have you tried this <a href=\"https://stackoverflow.com/questions/44823064/run-single-kotlin-class-with-main-function-in-android-studio\" title=\"run single kotlin class with main function in android studio\">stackoverflow.com/questions/44823064/&hellip;</a>"}, {"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "reply_to_user": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "edited": false, "score": 0, "creation_date": 1539064684, "post_id": 52714055, "comment_id": 92353941, "body": "Android studio shows me a kotlin icon to left of main method and when I click on this icon, It shows me below three option:   ::::: (NOT IN MY CASE- not showing icon)"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 1, "creation_date": 1539066636, "post_id": 52714055, "comment_id": 92354743, "body": "this might help <a href=\"https://stackoverflow.com/a/52714573/4936904\">stackoverflow.com/a/52714573/4936904</a>"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1560452791, "post_id": 52714055, "comment_id": 99752094, "body": "Where is this practice popular (putting main fun in Android code)?"}, {"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1562830126, "post_id": 52714055, "comment_id": 100502776, "body": "@IgorGanapolsky We can test and practice kotlin in android studio."}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 0, "creation_date": 1539065490, "post_id": 52714318, "comment_id": 92354298, "body": "Top level means where in Activity ? inside onCreate() ?"}, {"owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 0, "creation_date": 1539065597, "post_id": 52714318, "comment_id": 92354344, "body": "okay got it. But, it giving Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.example.jaimin.kotinsetupdemo.MainClassKt \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331&zwnj;&#8203;) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) \tat java.lang.Class.forName0(Native Method) \tat java.lang.Class.forName(Class.java:264)"}, {"owner": {"reputation": 310, "user_id": 4785957, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/X9U3w.png?s=128&g=1", "display_name": "deaddroid", "link": "https://stackoverflow.com/users/4785957/deaddroid"}, "edited": false, "score": 0, "creation_date": 1539070054, "post_id": 52714318, "comment_id": 92356394, "body": "Create new kotlin file and then paste the above code, after that click the green play icon  on the left side of function name.. You will get the output in your Run tab on the bottom left of the screen."}, {"owner": {"reputation": 959, "user_id": 3429021, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f52ff52b618f1d0b41b70d7d128b2cc?s=128&d=identicon&r=PG&f=1", "display_name": "Conti", "link": "https://stackoverflow.com/users/3429021/conti"}, "reply_to_user": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "edited": false, "score": 1, "creation_date": 1549226582, "post_id": 52714318, "comment_id": 95818398, "body": "+1 @JaiminModi Only way I can work around it is by adding this to gradle file:  <code>sourceSets {         main {             main.kotlin.srcDirs = [&#39;src&#47;main&#47;java&#39;]         }     }</code> and oddly, the gradle file needs to be re-synced for every run!"}], "tags": [], "owner": {"reputation": 46, "user_id": 10383744, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q9K-CjMfZso/AAAAAAAAAAI/AAAAAAAAACI/yUCncLe55MA/photo.jpg?sz=128", "display_name": "Luis Carino", "link": "https://stackoverflow.com/users/10383744/luis-carino"}, "is_accepted": false, "score": 3, "last_activity_date": 1539065075, "creation_date": 1539065075, "answer_id": 52714318, "question_id": 52714055, "link": "https://stackoverflow.com/questions/52714055/how-to-run-single-kotlin-class-from-android-studio/52714318#52714318", "title": "How to run single Kotlin class from Android Studio", "body": "<p>your main function has to be a top-level function. \nTry this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;)  {\n        println(\"Hello World\");\n    }\n</code></pre>\n\n<p>In order to run it, just click on green the icon next to the function name in AS.</p>\n\n<p><a href=\"https://i.stack.imgur.com/azg1J.png\" rel=\"nofollow noreferrer\">Check out this screenshot</a></p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 5409567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bedaf36b710c79b4ab8e081d11f6896?s=128&d=identicon&r=PG&f=1", "display_name": "Yamini", "link": "https://stackoverflow.com/users/5409567/yamini"}, "is_accepted": false, "score": 0, "last_activity_date": 1584616538, "creation_date": 1584616538, "answer_id": 60756062, "question_id": 52714055, "link": "https://stackoverflow.com/questions/52714055/how-to-run-single-kotlin-class-from-android-studio/60756062#60756062", "title": "How to run single Kotlin class from Android Studio", "body": "<p>Use this code, You will see a run icon near function.</p>\n\n<pre><code>class Test {\n        companion object {\n            @JvmStatic\n            fun main(args: Array&lt;String&gt;) {\n                println(\"Hello test!\")\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 4827817, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HCe9v.jpg?s=128&g=1", "display_name": "Jaimin Modi", "link": "https://stackoverflow.com/users/4827817/jaimin-modi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1584616538, "creation_date": 1539063781, "last_edit_date": 1539067030, "question_id": 52714055, "link": "https://stackoverflow.com/questions/52714055/how-to-run-single-kotlin-class-from-android-studio", "title": "How to run single Kotlin class from Android Studio", "body": "<p>I am new to Kotlin development and I have created a separate Kotlin class in Android Studio as below :</p>\n\n<pre><code>  class MainClass{\n\n    fun main(args: Array&lt;String&gt;)  {\n        println(\"Hello World\");\n    }\n }\n</code></pre>\n\n<p>But, How can I run this kotlin class, and where the output will be generated.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 1, "creation_date": 1539063953, "post_id": 52713981, "comment_id": 92353668, "body": "Why do you need that? In this way your setter is useless because there is no way to set <code>viewAlpha</code> value not 255."}], "answers": [{"comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 1, "creation_date": 1539063847, "post_id": 52714065, "comment_id": 92353634, "body": "Better to make <code>_viewAlpha</code> private."}, {"owner": {"reputation": 2582, "user_id": 3014642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yk30K.png?s=128&g=1", "display_name": "TSB99X", "link": "https://stackoverflow.com/users/3014642/tsb99x"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1539063944, "post_id": 52714065, "comment_id": 92353664, "body": "@Ircover agree, added access restriction."}, {"owner": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "edited": false, "score": 0, "creation_date": 1539064231, "post_id": 52714065, "comment_id": 92353775, "body": "Actually, I have 15+ variables and this solution can generate a lot of boilerplate code."}, {"owner": {"reputation": 2582, "user_id": 3014642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yk30K.png?s=128&g=1", "display_name": "TSB99X", "link": "https://stackoverflow.com/users/3014642/tsb99x"}, "reply_to_user": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "edited": false, "score": 1, "creation_date": 1539064457, "post_id": 52714065, "comment_id": 92353848, "body": "@Shubh You probably need to abstract this logic into some separate class and replace viewAlpha and other 15+ variables with it. I sense a fellow Android developer here, as had same problems in context of Android."}, {"owner": {"reputation": 2582, "user_id": 3014642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yk30K.png?s=128&g=1", "display_name": "TSB99X", "link": "https://stackoverflow.com/users/3014642/tsb99x"}, "reply_to_user": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "edited": false, "score": 0, "creation_date": 1539065799, "post_id": 52714065, "comment_id": 92354417, "body": "@Shubh updated answer to contain example of that class."}], "tags": [], "owner": {"reputation": 2582, "user_id": 3014642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yk30K.png?s=128&g=1", "display_name": "TSB99X", "link": "https://stackoverflow.com/users/3014642/tsb99x"}, "is_accepted": true, "score": 5, "last_activity_date": 1539065723, "last_edit_date": 1539065723, "creation_date": 1539063812, "answer_id": 52714065, "question_id": 52713981, "link": "https://stackoverflow.com/questions/52713981/how-to-access-variables-in-kotlin-without-invoking-its-setter-and-getter/52714065#52714065", "title": "How to access variables in kotlin without invoking its setter and getter", "body": "<p>One way would be to provide you good ol' backing field to get out of setter-refres cycle:</p>\n\n<pre><code>private var _viewAlpha = 255\n\nvar viewAlpha\n        get() {\n            return _viewAlpha\n        }\n        set(value) {\n            _viewAlpha = value\n            refresh()\n        }\n\nfun refresh() {\n    _viewAlpha = 255\n    invalidate()\n}\n</code></pre>\n\n<p>If you want to simplify your logic for multiple fields you can abstract this implementation into separate class and use callback call with direct setter that will work without <code>refresh</code> invocation. Like this:</p>\n\n<pre><code>class Field(val onSetCb: (Field) -&gt; Unit) {\n\n    private var viewAlpha = 255\n\n    fun get() {\n        return viewAlpha\n    }\n\n    fun set(value: Int) {\n        setDirect(value)\n        onSetCb(this)\n    }\n\n    fun setDirect(value: Int) {\n        viewAlpha = value;\n    }\n}\n\n// Elsewhere...\n\nfun refresh(field: Field) {\n    field.setDirect(255)\n    invalidate()\n}\n\nval f = Field(::refresh)\nf.set(255)\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 52714065, "answer_count": 1, "score": 2, "last_activity_date": 1539065723, "creation_date": 1539063431, "question_id": 52713981, "link": "https://stackoverflow.com/questions/52713981/how-to-access-variables-in-kotlin-without-invoking-its-setter-and-getter", "title": "How to access variables in kotlin without invoking its setter and getter", "body": "<p>I am working on a library where any change in argument refreshes the view. In <code>refresh()</code> function, I am setting some arguments' values to default values.</p>\n\n<pre><code>var viewAlpha= 255\n        set(value) {\n            field = value\n            refresh()\n        }\n\nfun refresh() {\n    viewAlpha = 255\n    invalidate()\n}\n</code></pre>\n\n<p>This is causing StackOverflowError due to obvious reasons.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.StackOverflowError: stack size 8MB</p>\n</blockquote>\n\n<p>Is it possible to access variables in kotlin without invoking its setter when we are accessing it in the same class. Similar to what we do in java.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin"], "answers": [{"comments": [{"owner": {"reputation": 2066, "user_id": 949795, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7cdec71f438e28af0bb9f5aa508a4054?s=128&d=identicon&r=PG", "display_name": "Bright Lee", "link": "https://stackoverflow.com/users/949795/bright-lee"}, "edited": false, "score": 0, "creation_date": 1553033078, "post_id": 52981274, "comment_id": 97233836, "body": "Thanks man. It saved my day. Although I already lost one day."}], "tags": [], "owner": {"reputation": 71, "user_id": 10476414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7e6044641a555443c715bf8bd0cdac?s=128&d=identicon&r=PG&f=1", "display_name": "Narawit Withee", "link": "https://stackoverflow.com/users/10476414/narawit-withee"}, "is_accepted": true, "score": 3, "last_activity_date": 1540441003, "creation_date": 1540441003, "answer_id": 52981274, "question_id": 52713575, "link": "https://stackoverflow.com/questions/52713575/execution-failed-for-task-appkaptdebugkotlin-when-clean-build/52981274#52981274", "title": "Execution failed for task &#39;:app:kaptDebugKotlin&#39;. when clean build", "body": "<p>I found solution<br>\nuse Java SE 8</p>\n"}, {"comments": [{"owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "edited": false, "score": 0, "creation_date": 1560525583, "post_id": 53486842, "comment_id": 99778029, "body": "Thanks man you saved my day! How I can buy a coffee for you now?"}, {"owner": {"reputation": 1084, "user_id": 5459777, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JMCBr.png?s=128&g=1", "display_name": "nuhkoca", "link": "https://stackoverflow.com/users/5459777/nuhkoca"}, "edited": false, "score": 1, "creation_date": 1569416848, "post_id": 53486842, "comment_id": 102590133, "body": "Thanks, I haven&#39;t been coping with this issue till see your solution, you are great!"}], "tags": [], "owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "is_accepted": false, "score": 7, "last_activity_date": 1543256049, "creation_date": 1543256049, "answer_id": 53486842, "question_id": 52713575, "link": "https://stackoverflow.com/questions/52713575/execution-failed-for-task-appkaptdebugkotlin-when-clean-build/53486842#53486842", "title": "Execution failed for task &#39;:app:kaptDebugKotlin&#39;. when clean build", "body": "<p>While the accepted answer isn't very informative, it did point me in the right direction. My tests passed inside Android Studio but not from the command line because Android Studio was using the bundled JDK at <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code>. I configured gradlew to use the same JDK by editing gradle.properties to include this line:</p>\n\n<pre><code>org.gradle.java.home=/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home\n</code></pre>\n\n<p>Now my tests pass inside Android Studio and from the command line.</p>\n"}], "owner": {"reputation": 71, "user_id": 10476414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f7e6044641a555443c715bf8bd0cdac?s=128&d=identicon&r=PG&f=1", "display_name": "Narawit Withee", "link": "https://stackoverflow.com/users/10476414/narawit-withee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6550, "favorite_count": 0, "accepted_answer_id": 52981274, "answer_count": 2, "score": 4, "last_activity_date": 1617345899, "creation_date": 1539060692, "last_edit_date": 1539072605, "question_id": 52713575, "link": "https://stackoverflow.com/questions/52713575/execution-failed-for-task-appkaptdebugkotlin-when-clean-build", "title": "Execution failed for task &#39;:app:kaptDebugKotlin&#39;. when clean build", "body": "<p>I have problem about build project with cmd. When I build project with android studio is OK but when I clean project then build with cmd has error</p>\n\n<p><strong>This command:</strong></p>\n\n<blockquote>\n  <p>gradlew assembleDebug</p>\n</blockquote>\n\n<p><strong>This error:</strong></p>\n\n<blockquote>\n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <blockquote>\n    <p>*What went wrong:</p>\n    \n    <p>Execution failed for task ':app:kaptDebugKotlin'.</p>\n    \n    <p>Internal compiler error. See log for more details</p>\n  </blockquote>\n  \n  <p>e: java.util.ServiceConfigurationError:\n  javax.annotation.processing.Processor:\n  android.databinding.annotationprocessor.ProcessDataBinding Unable to\n  get public no-arg constructor\n          at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:581)\n          at java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:672)\n          at java.base/java.util.ServiceLoader.access$1000(ServiceLoader.java:390)\n          at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1232)\n          at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1264)\n  ...</p>\n</blockquote>\n\n<p><strong>My app gradle:</strong></p>\n\n<pre><code>    apply plugin: 'com.android.application'\n\n    apply plugin: 'kotlin-android'\n\n    apply plugin: 'kotlin-android-extensions'\n\n    apply plugin: 'kotlin-kapt'\n\n    android {\n        compileSdkVersion 28\n        defaultConfig {\n            applicationId \"com.example.robot.mvvm\"\n            minSdkVersion 21\n            targetSdkVersion 28\n            versionCode 1\n            versionName \"1.0\"\n            testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n            multiDexEnabled true\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n        }\n        dataBinding {\n            enabled = true\n        }\n        kapt {\n            useBuildCache = true\n        }\n    }\n\n    dependencies {\n        def lifecycle_version = \"2.0.0\"\n        def retrofit_version = '2.4.0'\n        def okhttp_version = '3.11.0'\n        def nav_version = \"1.0.0-alpha06\"\n\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n        testImplementation 'junit:junit:4.12'\n\n        //android KTX\n        implementation 'androidx.core:core-ktx:1.0.0'\n        implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n        implementation 'androidx.appcompat:appcompat:1.0.0'\n        implementation 'com.google.android.material:material:1.0.0'\n        androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n\n        implementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\n        implementation \"androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version\"\n        implementation \"androidx.lifecycle:lifecycle-livedata:$lifecycle_version\"\n\n        //retrofit2\n        kapt \"com.squareup.retrofit2:retrofit:$retrofit_version\"\n        kapt \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\n        kapt \"com.squareup.retrofit2:adapter-rxjava2:$retrofit_version\"\n\n        //okhttp interceptor\n        kapt \"com.squareup.okhttp3:logging-interceptor:$okhttp_version\"\n\n        //Firebase\n        implementation 'com.google.firebase:firebase-core:16.0.4'\n        implementation 'com.crashlytics.sdk.android:crashlytics:2.9.5'\n        implementation 'com.google.firebase:firebase-messaging:17.3.3'\n\n        implementation \"android.arch.navigation:navigation-fragment:$nav_version\"\n        implementation \"android.arch.navigation:navigation-ui:$nav_version\"\n\n        // optional - Test helpers\n        androidTestImplementation \"android.arch.navigation:navigation-testing:$nav_version\"\n\n\n        implementation 'androidx.multidex:multidex:2.0.0'\n    }\n</code></pre>\n\n<p><strong>My project gradle:</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.71'\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.1.0' // google-services plugin\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Help me please. thank you</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1539056893, "post_id": 52712596, "comment_id": 92351799, "body": "There is no Kotlin version because Kotlin code is compiled to Java byte code."}, {"owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "edited": false, "score": 2, "creation_date": 1539061840, "post_id": 52712596, "comment_id": 92353003, "body": "Will <code>KotlinVersion.CURRENT</code> help you?"}], "answers": [{"comments": [{"owner": {"reputation": 720, "user_id": 1321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bdc823a00b61cd230c0c742e47fc10b?s=128&d=identicon&r=PG", "display_name": "Warren MacEvoy", "link": "https://stackoverflow.com/users/1321016/warren-macevoy"}, "edited": false, "score": 0, "creation_date": 1539148383, "post_id": 52714514, "comment_id": 92390830, "body": "Thanks &amp; nice tool, but put the code snippet here - content should be on stackoverflow directly in case of service changes and just to avoid rick-rolls."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1539392838, "post_id": 52714514, "comment_id": 92498664, "body": "Note that <code>KotlinVersion.CURRENT</code> returns the version of the Kotlin standard library, that your code currently <i>runs</i> with, rather than the version of the standard library or the compiler your code was <i>compiled</i> with."}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 10, "last_activity_date": 1539152763, "last_edit_date": 1539152763, "creation_date": 1539066101, "answer_id": 52714514, "question_id": 52712596, "link": "https://stackoverflow.com/questions/52712596/determine-version-of-kotlin-at-runtime/52714514#52714514", "title": "Determine version of Kotlin at runtime", "body": "<p>Use <code>KotlinVersion.CURRENT</code> from <code>kotlin</code> package.</p>\n\n<p>See this:\n<a href=\"https://try.kotlinlang.org/#/UserProjects/3srgu5mb0f24f8oe8rpclp3n45/r84oi5hiv7hm2toc1tcu7a0h71\" rel=\"noreferrer\">https://try.kotlinlang.org/#/UserProjects/3srgu5mb0f24f8oe8rpclp3n45/r84oi5hiv7hm2toc1tcu7a0h71</a></p>\n\n<p>You can change KotlinVersion at the bottom of page and see different result.</p>\n\n<p>The code from tool above: </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(KotlinVersion.CURRENT)\n}\n</code></pre>\n"}], "owner": {"reputation": 720, "user_id": 1321016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bdc823a00b61cd230c0c742e47fc10b?s=128&d=identicon&r=PG", "display_name": "Warren MacEvoy", "link": "https://stackoverflow.com/users/1321016/warren-macevoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1817, "favorite_count": 1, "accepted_answer_id": 52714514, "answer_count": 1, "score": 4, "last_activity_date": 1539152763, "creation_date": 1539052833, "question_id": 52712596, "link": "https://stackoverflow.com/questions/52712596/determine-version-of-kotlin-at-runtime", "title": "Determine version of Kotlin at runtime", "body": "<p>What can be written to determine the version of Kotlin at runtime?</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) { \n  println(\"v\" + System.getProperty(\"java.version\"))\n}\n</code></pre>\n\n<p>prints a version, but it is the Java JDK version.  Using \"kotlin.version\" prints null.  Can this be done at runtime?</p>\n\n<p>If the general answer is no,  is there a way to embed this information from the compile phase into a particular function or class?</p>\n"}, {"tags": ["kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": true, "score": 0, "last_activity_date": 1539063660, "creation_date": 1539063660, "answer_id": 52714028, "question_id": 52712432, "link": "https://stackoverflow.com/questions/52712432/kotlin-and-mockito-mocking-function-call-to-super-class/52714028#52714028", "title": "Kotlin and Mockito - mocking function call to super class", "body": "<p>Your <code>someFun</code> method is from interface, so we can say it is <code>open</code> too. Thats why in mock it's overriding with returning null. To make it call basic code write following:</p>\n\n<pre><code>`when`(testObject!!.someFun(\"string1\")).thenCallRealMethod()\n</code></pre>\n\n<p>By the way. Why your <code>testObject</code> is nullable? Set it <code>lateinit var testObject: concreteClass</code> to initialize it in <code>setUp</code> function.</p>\n"}], "owner": {"reputation": 19, "user_id": 1177054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714f083a9f78a3de2356bef15a813cd6?s=128&d=identicon&r=PG", "display_name": "user1177054", "link": "https://stackoverflow.com/users/1177054/user1177054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "accepted_answer_id": 52714028, "answer_count": 1, "score": 0, "last_activity_date": 1539063660, "creation_date": 1539051449, "question_id": 52712432, "link": "https://stackoverflow.com/questions/52712432/kotlin-and-mockito-mocking-function-call-to-super-class", "title": "Kotlin and Mockito - mocking function call to super class", "body": "<p>I am having some issues with Mockito and stubbing out methods that uses a class as a parameter in Kotlin.  </p>\n\n<p>I have a few classes defined as follows:</p>\n\n<pre><code>open interface interfaceFile {\n  fun someFun(param1: String): String\n} \n\nabstact class abstractClass {\n  abstract val variable1: RandomType\n\n  open fun&lt;T&gt; getObject(param1: String, param2: Class&lt;T&gt;, vararg param3: Any): T? {\n    doSomeStuff()\n}\n\nopen class concreteClass @Autowired constructor(\n    override val variable1: RandomType\n  ): abstractClass(), interfaceFile {\n\n    override fun someFun(param1: String): String {\n      return getObject(param1, string::Class.java)!!\n\n}\n</code></pre>\n\n<p>Then I tried to use mockito to mock the <code>getObject</code> function and test it as follows:</p>\n\n<pre><code>fun setUp() {\n  MockitoAnnotations.initMock(this)\n  testObject = mock(concreteClass::class.java)\n}\n\nfun testSomeFun() {\n  `when`(testObject!!.getObject(\"string1\", String::class.java)).thenReturn(\"Mocked\")\n  val actualResponse = testObject!!.someFun(\"string1\")\n  assertEquals(\"message\", \"Mocked\", actualResponse)\n}\n</code></pre>\n\n<p>In short, <code>concreteClass.someFun</code> will call the <code>abstractClass.getObject</code> which will call <code>doSomeStuff</code>.  But during testing I want to stub out <code>abstractClass.getObject</code> to just return.  But the current behavior seems to be that I always get <code>null</code> instead.</p>\n\n<p>I've simplified it to the point where it takes a single string parameter and stubbing it out then works, but seems when I introduce the class type as a parameter it stops working.</p>\n\n<p>Search around it seems like my issue has to do with incorrect argument matching in my <code>when</code> call, but I can't figure out whats wrong with it since I even put in exact values instead of using ArgumentMatchers.  Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 544, "user_id": 7898657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75916f8a78e4b6080d3e56dfb59bbe8?s=128&d=identicon&r=PG&f=1", "display_name": "Codetector", "link": "https://stackoverflow.com/users/7898657/codetector"}, "is_accepted": true, "score": 5, "last_activity_date": 1539048950, "creation_date": 1539048950, "answer_id": 52712155, "question_id": 52712143, "link": "https://stackoverflow.com/questions/52712143/getting-type-mismatch-on-varargs-in-kotlin/52712155#52712155", "title": "Getting type mismatch on varargs in Kotlin", "body": "<p>Oh... you need to do </p>\n\n<pre><code>processDogs(*dog)\n</code></pre>\n\n<p>You need to spread the array into vararg again.</p>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "edited": false, "score": 0, "creation_date": 1539100542, "post_id": 52714261, "comment_id": 92375294, "body": "Thanks for the explanation. +1"}], "tags": [], "owner": {"reputation": 289, "user_id": 10126399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ea8aeb6519fc22cb733de148c91708?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya E", "link": "https://stackoverflow.com/users/10126399/ilya-e"}, "is_accepted": false, "score": 2, "last_activity_date": 1539064777, "creation_date": 1539064777, "answer_id": 52714261, "question_id": 52712143, "link": "https://stackoverflow.com/questions/52712143/getting-type-mismatch-on-varargs-in-kotlin/52714261#52714261", "title": "Getting type mismatch on varargs in Kotlin", "body": "<p>According to <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Inside a function a vararg-parameter of type T is visible as an array of T</p>\n</blockquote>\n\n<p>So your function <code>processDogs</code> needs to take dogs parameter as <code>Array&lt;out T&gt;</code> or you could use spread operator <code>*</code> on the array to pass it in vararg function.</p>\n\n<pre><code>fun processDogs(dogs: Array&lt;Dog&gt;)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>processDogs(*dog)\n</code></pre>\n\n<p>as mentioned above.\nBoth compiles and works fine</p>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 52712155, "answer_count": 2, "score": 3, "last_activity_date": 1539064777, "creation_date": 1539048846, "last_edit_date": 1592644375, "question_id": 52712143, "link": "https://stackoverflow.com/questions/52712143/getting-type-mismatch-on-varargs-in-kotlin", "title": "Getting type mismatch on varargs in Kotlin", "body": "<p>Here is my simple situation in code</p>\n<pre><code>fun receiveDogs(vararg dog: Dog){\n    processDogs(dog)\n    ... //more cool stuff\n}\n\nfun processDogs(vararg dog: Dog){\n  .....//cool stuff\n}\n</code></pre>\n<p>When I do this the calling of <code>processDogs(dog)</code> causes a compilation error of</p>\n<blockquote>\n<p>Type mismatch.</p>\n<p>Required: Dog</p>\n<p>Found: Array<code>&lt;out Dog&gt;</code></p>\n</blockquote>\n<p>Now understand that both of my functions want a vararg. Is there a simple way to fix this?</p>\n"}, {"tags": ["kotlin", "functional-programming", "partial-application"], "answers": [{"comments": [{"owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "edited": false, "score": 0, "creation_date": 1539046474, "post_id": 52711758, "comment_id": 92349788, "body": "Now all I need is a way to add an extension function to functions."}, {"owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "edited": false, "score": 0, "creation_date": 1539047393, "post_id": 52711758, "comment_id": 92349954, "body": "Yeah I was able to get to that point. The issue now is that this only works for the functions with 2 arguments. I am now trying to devise a solution for n argument functions."}, {"owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "edited": false, "score": 0, "creation_date": 1539049636, "post_id": 52711758, "comment_id": 92350350, "body": "I wrote a javascript script to generate these functions up to function with 20 arguments LOL: <a href=\"https://gist.github.com/idunnololz/56ffb520c164bef13766dc0fb551ee0d\" rel=\"nofollow noreferrer\">gist.github.com/idunnololz/56ffb520c164bef13766dc0fb551ee0d</a>"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1539096837, "post_id": 52711758, "comment_id": 92373156, "body": "Isn&#39;t a lambda, e.g. <code>doSomethingElse{ cb(someField, it) }</code>, a much simpler solution to this?  (Disclaimer: I&#39;m not a FP developer\u2026)"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1576771154, "post_id": 52711758, "comment_id": 105013574, "body": "It&#39;s not strictly the same, but you can also define it more directly. <code>val abc = {b:Int -&gt; add(1, b) }</code>. Becomes specific to each usage, and convention to partially apply first, and type of parameter has to be explicitly defined. Style choice."}], "tags": [], "owner": {"reputation": 3266, "user_id": 13822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/y6PQO.jpg?s=128&g=1", "display_name": "triggerNZ", "link": "https://stackoverflow.com/users/13822/triggernz"}, "is_accepted": true, "score": 14, "last_activity_date": 1539047040, "last_edit_date": 1539047040, "creation_date": 1539045115, "answer_id": 52711758, "question_id": 52711621, "link": "https://stackoverflow.com/questions/52711621/does-kotlin-support-partial-application/52711758#52711758", "title": "Does Kotlin support partial application?", "body": "<p>Out of the box, no. But it isn't too hard to do with a helper function:</p>\n\n<pre><code>    fun add(a: Int, b:Int): Int {\n        return a + b\n    }\n\n    fun &lt;A, B, C&gt; partial2(f: (A, B) -&gt; C, a: A): (B) -&gt; C {\n        return { b: B -&gt; f(a, b)}\n    }\n\n    val add1 = partial2(::add, 1)\n\n    val result = add1(2) //3\n</code></pre>\n\n<p>So partial2 takes a function of 2 arguments and the first argument and applies it to get a function of 1 argument. You would have to write such helpers for all arities you need.</p>\n\n<p>Alternatively, you can do it with an extension method:</p>\n\n<pre><code>fun &lt;A,B,C&gt; Function2&lt;A,B,C&gt;.partial(a: A): (B) -&gt; C {\n    return {b -&gt; invoke(a, b)}\n}\n\nval abc: (Int) -&gt; Int = (::add).partial(1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1899, "user_id": 718849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e60330cbf169096be1c83cfdc7219ec9?s=128&d=identicon&r=PG", "display_name": "Jonck van der Kogel", "link": "https://stackoverflow.com/users/718849/jonck-van-der-kogel"}, "edited": false, "score": 0, "creation_date": 1584918467, "post_id": 54415110, "comment_id": 107581521, "body": "Small update: the project seems to have been migrated to: <a href=\"https://arrow-kt.io\" rel=\"nofollow noreferrer\">arrow-kt.io</a>"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 3, "last_activity_date": 1548743515, "creation_date": 1548743515, "answer_id": 54415110, "question_id": 52711621, "link": "https://stackoverflow.com/questions/52711621/does-kotlin-support-partial-application/54415110#54415110", "title": "Does Kotlin support partial application?", "body": "<p>There is a very nice and light library to Kotlin: <code>org.funktionale</code>. In module <code>funktionale-currying</code> you'll find extenstion methods to lambdas: <code>curried()</code> and <code>uncurried()</code>.</p>\n\n<p>Example: </p>\n\n<pre><code>val add = { x: Int, y: Int -&gt; x + y }.curried()\nval add3 = add(3)\n\nfun test() {\n    println(add3(5)) // prints 8\n}\n</code></pre>\n"}], "owner": {"reputation": 7308, "user_id": 1299750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d3c17e880be8ed7de5c3904171f432e1?s=128&d=identicon&r=PG", "display_name": "idunnololz", "link": "https://stackoverflow.com/users/1299750/idunnololz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3708, "favorite_count": 3, "accepted_answer_id": 52711758, "answer_count": 2, "score": 13, "last_activity_date": 1548743515, "creation_date": 1539043618, "question_id": 52711621, "link": "https://stackoverflow.com/questions/52711621/does-kotlin-support-partial-application", "title": "Does Kotlin support partial application?", "body": "<p>Since Kotlin supports many concepts from functional programming, I was wondering if there is a way to do partial application of a function in Kotlin as well?</p>\n\n<p>One such example of where partial application can be useful is:</p>\n\n<pre><code>// In one class\nfun doSomething(cb: (a, b) -&gt; Unit) {\n    &lt;some logic here to compute someField&gt;\n    doSomethingElse(cb.applyPartially(someField))\n}\n\n// In another class\nfun doSomethingElse(cb: (b) -&gt; Unit) {\n    &lt;some logic here to compute someOtherField&gt;\n    cb(someOtherField)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 387, "user_id": 9997588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7JGh.png?s=128&g=1", "display_name": "Jeremi G", "link": "https://stackoverflow.com/users/9997588/jeremi-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1539050337, "creation_date": 1539050337, "answer_id": 52712303, "question_id": 52711363, "link": "https://stackoverflow.com/questions/52711363/why-does-printing-intarray-show-an-address-rather-than-the-values-of-the-array/52712303#52712303", "title": "Why does printing IntArray show an address rather than the values of the array?", "body": "<pre><code>import java.util.Arrays\n\nfun main(args: Array&lt;String&gt;) {\n    val array = intArrayOf(1, 2, 3, 4, 5)\n\n    println(Arrays.toString(array))\n}\n</code></pre>\n\n<p>Found this while browsing</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10453187, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dWqSNzoN5U/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DU388vCfivXO8kF3Lg1Ym6iRvS2bA/mo/photo.jpg?sz=128", "display_name": "Yony Fernandez", "link": "https://stackoverflow.com/users/10453187/yony-fernandez"}, "edited": false, "score": 0, "creation_date": 1539052911, "post_id": 52712383, "comment_id": 92350997, "body": "thanx a ton, this all makes a lot of sense. Appreciate the detail."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 3, "last_activity_date": 1539051103, "creation_date": 1539051103, "answer_id": 52712383, "question_id": 52711363, "link": "https://stackoverflow.com/questions/52711363/why-does-printing-intarray-show-an-address-rather-than-the-values-of-the-array/52712383#52712383", "title": "Why does printing IntArray show an address rather than the values of the array?", "body": "<blockquote>\n  <p>It prints out this --> [I@3834d63f</p>\n</blockquote>\n\n<p>It is not related to Kotlin. That is how Java work.</p>\n\n<blockquote>\n  <p>Does this have to do with how kotlin is like java where it passes a copy of a reference of the object, when passing an object to a function. So when printing a primitive array I get back the reference?</p>\n</blockquote>\n\n<p>I assume you are not running Kotlin native or Kotlin JS. It is compiled to Java byte code and run on JVM. So it follows the rules of Java.</p>\n\n<blockquote>\n  <p>Also is there another simpler way to print a primitive array?\n  See <a href=\"https://stackoverflow.com/a/52712303/3673259\">Mon Vrai Nom's answer</a></p>\n</blockquote>\n\n<p>However, I would recommend you use <code>List</code> instead. There is only little real benefits to use array directly, just like you use <code>ArrayList</code> in Java instead. Not only you do have fixed size on <code>List</code>, you also have many more extensions methods.</p>\n\n<p>Here is an example.</p>\n\n<pre><code>fun notInPlaceRevers(list : List&lt;Int&gt;): List&lt;Int&gt; {\n    return list.mapIndexed { i , _ -&gt; list.size - 1 - i }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val initialList = listOf(2, 3, 4, 5, 6)\n    print(\"${notInPlaceRevers(initialList)}\")\n}\n</code></pre>\n\n<p>It prints</p>\n\n<pre><code>[4, 3, 2, 1, 0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1539095067, "creation_date": 1539095067, "answer_id": 52723372, "question_id": 52711363, "link": "https://stackoverflow.com/questions/52711363/why-does-printing-intarray-show-an-address-rather-than-the-values-of-the-array/52723372#52723372", "title": "Why does printing IntArray show an address rather than the values of the array?", "body": "<blockquote>\n  <p>Does this have to do with how kotlin is like java where it passes a copy of a reference of the object, when passing an object to a function. So when printing a primitive array I get back the reference?</p>\n</blockquote>\n\n<p>It's related to the JVM platform, but not in the way you describe.</p>\n\n<p>Kotlin implements arrays as Java arrays. An array is an object, so it has the <code>toString()</code> method. What you see is the output of the default implementation of <code>toString</code> present in the <code>Object</code> class:</p>\n\n<pre><code>public String toString() {\n    return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n}\n</code></pre>\n\n<p><code>[I</code> is the name of the special <code>int[]</code> class and what follows after <code>@</code> is simply the return value of <code>hashCode()</code> in hex representation. Coincidentally, it's derived from the address at which this object was initially allocated. The address of the object may change with each GC cycle, but its <code>hashCode()</code> never changes because that would be broken.</p>\n\n<blockquote>\n  <p>Also is there another simpler way to print a primitive array?</p>\n</blockquote>\n\n<p>Yes. Kotlin defines the extension function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-to-string.html\" rel=\"nofollow noreferrer\"><code>contentToString</code></a>:</p>\n\n<pre><code>val array = arrayOf(\"apples\", \"oranges\", \"lime\")\nprintln(array.contentToString()) // [apples, oranges, lime]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1603876932, "last_edit_date": 1603876932, "creation_date": 1603809450, "answer_id": 64556740, "question_id": 52711363, "link": "https://stackoverflow.com/questions/52711363/why-does-printing-intarray-show-an-address-rather-than-the-values-of-the-array/64556740#64556740", "title": "Why does printing IntArray show an address rather than the values of the array?", "body": "<p>This also work. Just convert them to list.</p>\n<pre><code>print(notInPlaceRevers(initialArray).toList())\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10453187, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--dWqSNzoN5U/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DU388vCfivXO8kF3Lg1Ym6iRvS2bA/mo/photo.jpg?sz=128", "display_name": "Yony Fernandez", "link": "https://stackoverflow.com/users/10453187/yony-fernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 52712383, "answer_count": 4, "score": 2, "last_activity_date": 1603876932, "creation_date": 1539041456, "last_edit_date": 1539105420, "question_id": 52711363, "link": "https://stackoverflow.com/questions/52711363/why-does-printing-intarray-show-an-address-rather-than-the-values-of-the-array", "title": "Why does printing IntArray show an address rather than the values of the array?", "body": "<p>I am a little confused as to why when I try to print out an array of any primitive type such as the below, it returns an address rather than the actual values in the array. </p>\n\n<pre><code>fun notInPlaceRevers(array : IntArray): IntArray{\n  val arrayB = IntArray(5)\n\n  for (i in 0 until array.size)\n      array[i] =  array[(array.size -1)  - i]\n\n  return arrayB\n}\n\n\n\nfun main(args: Array&lt;String&gt;) {\n  val initialArray = intArrayOf(2,3,4,5,6)\n\n  print(\"${notInPlaceRevers(initialArray)}\")\n}\n</code></pre>\n\n<p>It prints out this --> [I@3834d63f</p>\n\n<p>Now I have tested and it prints out the value in each index when I do a foreach loop such as</p>\n\n<pre><code>for(element in initialArray)\n  print(\"$element\")\n</code></pre>\n\n<p>Does this have to do with how kotlin is like java where it passes a copy of a reference of the object, when passing an object to a function. So when printing a primitive array I get back the reference? </p>\n\n<p>Also is there another simpler way to print a primitive array? </p>\n"}, {"tags": ["kotlin", "filechooser"], "comments": [{"owner": {"reputation": 320, "user_id": 7243108, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M4JeDLn-AEM/AAAAAAAAAAI/AAAAAAAAAEg/-ZB7a9VMNTg/photo.jpg?sz=128", "display_name": "Pranav A.", "link": "https://stackoverflow.com/users/7243108/pranav-a"}, "edited": false, "score": 0, "creation_date": 1539041049, "post_id": 52711288, "comment_id": 92348705, "body": "Maybe if you provided some context... is this a Java Swing app? Is it an AWT app? If it is a Swing app: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "reply_to_user": {"reputation": 320, "user_id": 7243108, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M4JeDLn-AEM/AAAAAAAAAAI/AAAAAAAAAEg/-ZB7a9VMNTg/photo.jpg?sz=128", "display_name": "Pranav A.", "link": "https://stackoverflow.com/users/7243108/pranav-a"}, "edited": false, "score": 0, "creation_date": 1539041316, "post_id": 52711288, "comment_id": 92348777, "body": "@PranavA. Im not shure i get what you&#39;re saying. Im making a Kotlin program, and i want to create a Javafx filechooser. Not a JFilechooser or a JWSFilechooser. A javafx filechooser"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1539043576, "post_id": 52711288, "comment_id": 92349233, "body": "So this is a non-GUI app?"}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1539043709, "post_id": 52711288, "comment_id": 92349253, "body": "@Slaw Yes, so when i think about it, this is kind of a stupid question as i could just use javafx gui instead."}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1539043773, "post_id": 52711288, "comment_id": 92349267, "body": "@Slaw Thought it would be nice to be able to do this without having to learn new javafx stuff"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539066521, "creation_date": 1539040797, "last_edit_date": 1539066521, "question_id": 52711288, "link": "https://stackoverflow.com/questions/52711288/javafx-filechooser-without-application-kotlin", "title": "Javafx filechooser without application? (Kotlin)", "body": "<p>I tried making a JavaFX file chooser, but soon realized that I had to use an JavaFX Application to do that. </p>\n\n<p>I'm just wondering if there is any way to do this with just a function. \nIf there is any other ways to select files using the Windows file chooser in Kotlin, that would be useful too.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "reply_to_user": {"reputation": 1332, "user_id": 8310287, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07715836fa324278e897e1646d7400f1?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/8310287/king"}, "edited": false, "score": 0, "creation_date": 1539167521, "post_id": 52728536, "comment_id": 92400905, "body": "You just handled the <code>user -&gt; isLoggedIn</code>, so this might not be always true. Try to set the texts and etc outside of your <code>BroadcastReceiver</code> and then check if it changes the values. If it did, there is a problem with the <code>BroadcastReceiver</code> which is not called or, you should probably handle the false situation (<code>} else {}</code>) in order to check if the user didn&#39;t logged, set some values as null or something else."}], "tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": false, "score": 0, "last_activity_date": 1539115469, "creation_date": 1539115469, "answer_id": 52728536, "question_id": 52710582, "link": "https://stackoverflow.com/questions/52710582/nav-header-not-displaying-textvalues-from-mainactivity-in-kotlin/52728536#52728536", "title": "nav header not displaying textvalues from MainActivity in kotlin", "body": "<p>Use this:</p>\n\n<pre><code>val navigationView = findViewById&lt;NavigationView&gt;(R.id.your_nav_view_id);\nval header = navigationView?.getHeaderView(0)\n\nval text = header?.findViewById&lt;TextView&gt;(R.id.textView); \n// initialize your widgets in here\n// And simply use, \"header\" prefix before initializing your widgets..\n</code></pre>\n"}], "owner": {"reputation": 1332, "user_id": 8310287, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/07715836fa324278e897e1646d7400f1?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/8310287/king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539115469, "creation_date": 1539035490, "last_edit_date": 1539113526, "question_id": 52710582, "link": "https://stackoverflow.com/questions/52710582/nav-header-not-displaying-textvalues-from-mainactivity-in-kotlin", "title": "nav header not displaying textvalues from MainActivity in kotlin", "body": "<p>I have an applcation that utilizes the Navigation drawer and I am supposed to change the nav_header values based on the user's input but I am unable to do that as the values never change. But if i pass this values to the <code>content_main</code> the values show up. this is my layout code</p>\n\n<p><strong>nav_header_main</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/linearLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"@dimen/nav_header_height\"\n    android:background=\"@color/colorPrimary\"\n    android:gravity=\"bottom\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark\"\n    tools:layout_editor_absoluteY=\"81dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/userImageNavHeader\"\n        android:layout_width=\"70dp\"\n        android:layout_height=\"70dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginStart=\"12dp\"\n        android:contentDescription=\"@string/nav_header_desc\"\n        android:paddingTop=\"@dimen/nav_header_vertical_spacing\"\n        app:layout_constraintBottom_toTopOf=\"@+id/loginBtnNavHeader\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:srcCompat=\"@drawable/profiledefault\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/userNameNavHeader\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:paddingTop=\"@dimen/nav_header_vertical_spacing\"\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n        app:layout_constraintStart_toEndOf=\"@+id/userImageNavHeader\"\n        app:layout_constraintTop_toTopOf=\"@+id/userImageNavHeader\"\n        tools:text=\"King Olami\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/userEmailNavHeader\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintStart_toEndOf=\"@+id/userImageNavHeader\"\n        app:layout_constraintTop_toBottomOf=\"@+id/userNameNavHeader\"\n        tools:text=\"xxxx@gmail.com\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/loginBtnNavHeader\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"32dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:background=\"@android:color/transparent\"\n        android:onClick=\"loginBtnNavClicked\"\n        android:text=\"Login\"\n        android:textAlignment=\"center\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/addChannelBtn\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"30dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:background=\"@drawable/addchannelbutton\"\n        android:onClick=\"addChannelClicked\"\n        android:padding=\"5dp\"\n        android:scaleType=\"fitXY\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>and the code for in my activity.main is shown below</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n        val toggle = ActionBarDrawerToggle(\n                this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n        drawer_layout.addDrawerListener(toggle)\n        toggle.syncState()\n\nLocalBroadcastManager.getInstance(this).registerReceiver(userDataChangeReceiver, IntentFilter(BROADCAST_USER_DATA_CHANGED))\n    }\n\n    private val userDataChangeReceiver = object : BroadcastReceiver() {\n        override fun onReceive(contect: Context?, intent: Intent?) {\n            if (AuthService.isLoggedIn) {\n                userNameNavHeader.text = UserDataService.username\n                mainChannelName.text = UserDataService.email\n\n                userEmailNavHeader.text = UserDataService.email\n                val resourceId = resources.getIdentifier(UserDataService.avatarName, \"drawable\", packageName)\n                userImageNavHeader.setImageResource(resourceId)\nuserImageNavHeader.setBackgroundColor(UserDataService.returnAvatarColor(UserDataService.avatarColor))\n                loginBtnNavHeader.text = \"Logout\"\n            }\n        }\n    }\n</code></pre>\n\n<p>further codes would be supplied based on request. Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "masking", "textwatcher"], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "edited": false, "score": 0, "creation_date": 1539086789, "post_id": 52710065, "comment_id": 92366422, "body": "I can&#39;t, because every change, even is erasing something, i need to adjust the money mask"}], "tags": [], "owner": {"reputation": 658, "user_id": 5400757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gWIlk.png?s=128&g=1", "display_name": "Krzysztof Kubicki", "link": "https://stackoverflow.com/users/5400757/krzysztof-kubicki"}, "is_accepted": false, "score": 0, "last_activity_date": 1539032517, "creation_date": 1539032517, "answer_id": 52710065, "question_id": 52709774, "link": "https://stackoverflow.com/questions/52709774/textwatcher-is-preveting-delete-whole-string-from-edittext-just-char-to-char/52710065#52710065", "title": "TextWatcher is preveting delete whole string from EditText, just char to char", "body": "<p>In one of these methods you can detect whether text is removed. You can then set a flag to skip/handle/differentiate whatever is in <code>afterTextChanged</code>. </p>\n\n<pre><code>    override fun onTextChanged(s: CharSequence, start: Int,\n                               before: Int, count: Int) {\n\n    }\n\n    override fun beforeTextChanged(s: CharSequence, start: Int,\n                                   count: Int, after: Int) {\n    }\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539032517, "creation_date": 1539031135, "last_edit_date": 1539031583, "question_id": 52709774, "link": "https://stackoverflow.com/questions/52709774/textwatcher-is-preveting-delete-whole-string-from-edittext-just-char-to-char", "title": "TextWatcher is preveting delete whole string from EditText, just char to char", "body": "<p>I have one Editext that use a TextWatcher, to make an Currency Mask.</p>\n\n<p>Is working fine, but when i try to delete text, pressing and holding backspace from soft-keyboard, the text isn't erased, unless i repeated press the key multiple times.  </p>\n\n<p>I think that can be because every text change, i have to call setText, and this is messing the flow.</p>\n\n<p>Any suggestion ?</p>\n\n<pre><code>    myEditText.addTextChangedListener(object : TextWatcher {\n        override fun onTextChanged(s: CharSequence, start: Int,\n                                   before: Int, count: Int) {\n\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int,\n                                       count: Int, after: Int) {\n        }\n\n        override fun afterTextChanged(editable: Editable) {\n            myEditText.removeTextChangedListener(this)\n\n            val parsed = parseToBigDecimal(editable.toString(), locale)\n            val formatted = NumberFormat.getCurrencyInstance(locale).format(parsed)\n\n            myEditText.setText(formatted)\n            myEditText.setSelection(formatted.length)\n            myEditText.addTextChangedListener(this)\n\n        }\n    })\n\n\n\nprivate fun parseToBigDecimal(value: String, locale: Locale): BigDecimal {\n    val replaceable = String.format(\"[%s,.\\\\s]\", NumberFormat.getCurrencyInstance(locale).currency.symbol)\n\n    val cleanString = value.replace(replaceable.toRegex(), \"\")\n\n    return BigDecimal(cleanString).setScale(\n            2, BigDecimal.ROUND_FLOOR).divide(BigDecimal(100), BigDecimal.ROUND_FLOOR\n    )\n}\n</code></pre>\n"}, {"tags": ["java", "android", "reflection", "kotlin", "proguard"], "comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1539028960, "post_id": 52709234, "comment_id": 92344816, "body": "Have you tried adding: <code>-keep class kotlin.reflect.jvm.internal.** { *; }</code> to proguard file?"}, {"owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1539030641, "post_id": 52709234, "comment_id": 92345517, "body": "I currently have <code>-keep public class kotlin.reflect.jvm.internal.impl.** { public *; }</code> - I&#39;m not sure exactly where I got that, but I&#39;ll try yours."}, {"owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1539031278, "post_id": 52709234, "comment_id": 92345786, "body": "That worked! I&#39;m not sure where I got the other Proguard config. Thanks!"}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1539034933, "post_id": 52709234, "comment_id": 92347160, "body": "I think here you can find other Kotlin proguard configs if you need them: <a href=\"https://stackoverflow.com/a/52689769/2910520\">stackoverflow.com/a/52689769/2910520</a>"}, {"owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1539211289, "post_id": 52709234, "comment_id": 92423821, "body": "@MatPag I was mistaken - this still remains an issue even with your recommended proguard settings. I am using <code>dontobfuscate</code> for now, but I&#39;m still looking for a better solution."}, {"owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "edited": false, "score": 0, "creation_date": 1540766303, "post_id": 52709234, "comment_id": 92973522, "body": "Have you tried <code>-keep class com.example.test.classes.DisposableObject { *; }</code> rather than just trying to keep the name?"}, {"owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "edited": false, "score": 0, "creation_date": 1540849819, "post_id": 52709234, "comment_id": 93008231, "body": "Yup, I&#39;ve tried <code>-keep class com.example.test.classes.** { *; }</code> as well as that line. Neither helps. I think the class is clearly there if both <code>keepnames</code> and <code>dontobfuscate</code> solve the problem."}, {"owner": {"reputation": 274, "user_id": 9271158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed65da90e656ce34093f8be439c54789?s=128&d=identicon&r=PG&f=1", "display_name": "kyeonghwan", "link": "https://stackoverflow.com/users/9271158/kyeonghwan"}, "edited": false, "score": 0, "creation_date": 1554743030, "post_id": 52709234, "comment_id": 97855355, "body": "Is this issue resolved?"}, {"owner": {"reputation": 274, "user_id": 9271158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed65da90e656ce34093f8be439c54789?s=128&d=identicon&r=PG&f=1", "display_name": "kyeonghwan", "link": "https://stackoverflow.com/users/9271158/kyeonghwan"}, "edited": false, "score": 0, "creation_date": 1554745529, "post_id": 52709234, "comment_id": 97856501, "body": "If you use dontobfuscate, obfuscation does not appear. Were there any other solutions?"}, {"owner": {"reputation": 2597, "user_id": 1536286, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/stNkD.jpg?s=128&g=1", "display_name": "Mete", "link": "https://stackoverflow.com/users/1536286/mete"}, "edited": false, "score": 0, "creation_date": 1556110203, "post_id": 52709234, "comment_id": 98325533, "body": "I faced same error but i can&#39;t fixed. I wrote reflection method with Java for this reason."}, {"owner": {"reputation": 138, "user_id": 1914178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b8e3f2db78894ec2b8c0322d80fcce?s=128&d=identicon&r=PG", "display_name": "Douglas Marques", "link": "https://stackoverflow.com/users/1914178/douglas-marques"}, "edited": false, "score": 0, "creation_date": 1599646872, "post_id": 52709234, "comment_id": 112835485, "body": "Same issue here, can&#39;t find a solution. I&#39;ve tried several different configs on my proguard file but it doesn&#39;t work. I think it&#39;s a bug on Kotlin 1.4, they&#39;ve changed some stuff on Reflect."}], "owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1828, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1539028513, "creation_date": 1539028513, "question_id": 52709234, "link": "https://stackoverflow.com/questions/52709234/kotlin-reflection-with-proguard-incomplete-hierarchy-for-class", "title": "Kotlin Reflection with Proguard - Incomplete hierarchy for class", "body": "<p>I'm running into an issue at runtime when using Proguard with Kotlin reflection. Basically, when I am calling <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-properties.html\" rel=\"noreferrer\"><code>KClass.declaredMemberProperties</code></a>, I get:</p>\n\n<pre><code>Incomplete hierarchy for class FieldBoundObject, unresolved classes [com.example.test.classes.DisposableObject]\nkotlin.reflect.jvm.internal.components.RuntimeErrorReporter.reportIncompleteHierarchy\n</code></pre>\n\n<p>Here is the relevant stacktrace:</p>\n\n<pre><code>Caused by java.lang.IllegalStateException: Incomplete hierarchy for class FieldBoundObject, unresolved classes [com.example.test.classes.DisposableObject]\n   at kotlin.reflect.jvm.internal.components.RuntimeErrorReporter.reportIncompleteHierarchy(RuntimeErrorReporter.kt:26)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedClassDescriptor$DeserializedClassTypeConstructor.computeSupertypes(DeserializedClassDescriptor.kt:181)\n   at kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:34)\n   at kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor$supertypes$1.invoke(AbstractTypeConstructor.kt:22)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)\n   at kotlin.reflect.jvm.internal.impl.types.AbstractTypeConstructor.getSupertypes(AbstractTypeConstructor.kt:23)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedClassDescriptor$DeserializedClassMemberScope.getNonDeclaredFunctionNames(DeserializedClassDescriptor.kt:278)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$functionNamesLazy$2.invoke(DeserializedMemberScope.kt:73)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope$functionNamesLazy$2.invoke(DeserializedMemberScope.kt:40)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)\n   at kotlin.reflect.jvm.internal.impl.storage.StorageKt.getValue(storage.kt:42)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope.getFunctionNamesLazy(DeserializedMemberScope.kt)\n   at kotlin.reflect.jvm.internal.impl.serialization.deserialization.descriptors.DeserializedMemberScope.getFunctionNames(DeserializedMemberScope.kt:84)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaClassMemberScope.computeFunctionNames(LazyJavaClassMemberScope.kt:75)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaClassMemberScope.computeFunctionNames(LazyJavaClassMemberScope.kt:65)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaScope.computeNonDeclaredFunctions(LazyJavaScope.kt:342)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaScope$allDescriptors$1.invoke(LazyJavaScope.kt:61)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaScope$allDescriptors$1.invoke(LazyJavaScope.kt:55)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\n   at kotlin.reflect.jvm.internal.impl.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)\n   at kotlin.reflect.jvm.internal.impl.load.java.lazy.descriptors.LazyJavaScope.getContributedDescriptors(LazyJavaScope.kt:323)\n   at kotlin.reflect.jvm.internal.impl.resolve.scopes.ResolutionScope$DefaultImpls.getContributedDescriptors$default(ResolutionScope.kt:52)\n   at kotlin.reflect.jvm.internal.KDeclarationContainerImpl.getProperties(KDeclarationContainerImpl.kt:64)\n   at kotlin.reflect.jvm.internal.KClassImpl$Data$declaredNonStaticMembers$2.invoke(KClassImpl.kt:151)\n   at kotlin.reflect.jvm.internal.KClassImpl$Data$declaredNonStaticMembers$2.invoke(KClassImpl.kt:44)\n   at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke(ReflectProperties.java:92)\n   at kotlin.reflect.jvm.internal.ReflectProperties$Val.getValue(ReflectProperties.java:31)\n   at kotlin.reflect.jvm.internal.KClassImpl$Data.getDeclaredNonStaticMembers(KClassImpl.kt)\n   at kotlin.reflect.full.KClasses.getDeclaredMemberProperties(KClasses.kt:163)\n   at com.example.test.classes.FieldBinder.bindFields(FieldBinder.kt:51)\n   at com.example.test.classes.FieldBinder.(FieldBinder.kt:28)\n   at com.example.test.classes.FieldBoundObject.(FieldBoundObject.kt:15)\n   at com.example.test.models.TestClass.(TestClass.java:52)\n   at com.example.test.models.TestClass.(TestClass.java:58)\n   at com.example.test.ReactLandingActivity.startClass(ReactLandingActivity.java:93)\n</code></pre>\n\n<p>Here is the relevant call in <code>Fieldbinder.kt</code>:</p>\n\n<pre><code>class FieldBinder(receiver: Any) {\n\n    private fun bindFields(receiver: Any, classToCheck: Class&lt;*&gt;) {\n        for (property in classToCheck.kotlin.declaredMemberProperties) {\n            //...\n        }\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>Here is the signature for the \"missing\" class <code>DisposableObject</code></p>\n\n<pre><code>package com.example.test.classes\n\nopen class DisposableObject : ScopeProvider, Dispose {\n\n    //...\n}\n</code></pre>\n\n<p>I think it has something to do with name obfuscation. I've tried using <code>@Keep</code> on the actual class itself, as well as using <code>-keep class</code> on the class itself in my Proguard file. However, what DOES solve the problem is keeping names in Proguard:</p>\n\n<pre><code>-dontobfuscate\n</code></pre>\n\n<p>or</p>\n\n<pre><code>-keepnames class com.example.test.classes.DisposableObject\n</code></pre>\n\n<p>Is there an issue with name obfuscation and Kotlin reflection? I'm not having the same issues with Java reflection. Or is there a better way to solve this problem? Thanks!</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 3, "last_activity_date": 1542121867, "last_edit_date": 1542121867, "creation_date": 1539029608, "answer_id": 52709484, "question_id": 52709232, "link": "https://stackoverflow.com/questions/52709232/why-one-get-platform-declaration-clash-but-the-other-is-fine/52709484#52709484", "title": "why one get &quot;Platform declaration clash&quot; but the other is fine?", "body": "<p>The variables create their own getters, but you also explicitly define them. When you declare a var or a val, they usually have their own getters automatically generated<sup>1</sup>. Private vals or vars don't, if you don't create a custom getter. </p>\n\n<p>But in all other cases, this:</p>\n\n<pre><code>val x: Int = TODO()\n</code></pre>\n\n<p>generates a getter<sup>1</sup>. </p>\n\n<p>In your case, I'd recommend using val in the interface directly. You see, the generated getter has the same name as the getHash method you explicitly declared. The getters don't override methods either (unless you annotate it with one of the @Jvm annotations, and I don't remember which, but you don't really need those anyways). </p>\n\n<p>So you change your interface to:</p>\n\n<pre><code>interface IData {\n    val hash: Int\n    val uuid: UUID\n}\n</code></pre>\n\n<p>And remove the getters in the overridden object, and add <code>override</code> to the vals:</p>\n\n<pre><code>dataList.add(object : IData {\n    override val hash: Int by lazy { dataFetchers.size+System.currentTimeMillis().toInt() }\n    override val uuid: UUID by lazy { UUID.randomUUID() }\n}\n</code></pre>\n\n<p>The first interface is actually equivalent to declaring an interface with get and set methods. If you override it from Java, it will ask you to override <code>getHash()</code> and <code>getUid()</code>, and you need to declare the field locally. Kotlin works differently because it automatically generates setters.</p>\n\n<p>And since you can declare variables in interfaces without messing up Java interop, I highly recommend you use that over @Jvm* annotations (mainly because it makes it easier to understand the code, though that's a personal preference). </p>\n\n<hr>\n\n<p>Also, if you decompile the Kotlin bytecode, you'll see what the interface with the variables compiles to:</p>\n\n<pre><code>public interface IData {\n   int getHash();\n\n   @NotNull\n   UUID getUuid();\n}\n</code></pre>\n\n<p>So it's identical to the one you originally had, just without conflicts in child classes because of variable name clashes. </p>\n\n<hr>\n\n<p>And the reason only one has a clash is because, as you see in the interface, <code>val uuid</code> creates a getter named <code>getUuid</code>, while your interface declares <code>getUUID</code>. Methods in Java and Kotlin are case-sensitive, which is why those don't clash. If you re-name your variable to upper-case <code>UUID</code>, you will get a clash on that too. </p>\n\n<p><sub>1: Assuming the variable/constant isn't in a method. Top-level variables, variables in interfaces, enums, classes, objects, and companion objects all generate getters/setters, but if you declare a variable inside a method, it naturaly won't have getters and setters where that applies.</sub></p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 52709484, "answer_count": 1, "score": 0, "last_activity_date": 1542121867, "creation_date": 1539028505, "last_edit_date": 1539029761, "question_id": 52709232, "link": "https://stackoverflow.com/questions/52709232/why-one-get-platform-declaration-clash-but-the-other-is-fine", "title": "why one get &quot;Platform declaration clash&quot; but the other is fine?", "body": "<p>Having a interface defined:</p>\n\n<pre><code>interface IData {\n\n    fun getHash() : Int\n    fun getUUID(): UUID\n\n    ......\n}\n</code></pre>\n\n<p>Trying to create object for the interface.  the <code>fun getUUID(): UUID</code> is fine,  but the <code>fun getHash() : Int</code>  got error as below.</p>\n\n<p>What might be wrong? why they are different?</p>\n\n<pre><code>fun buidlDataList () : ArrayList&lt;IData&gt; {\n\n    val dataList = ArrayList&lt;IData&gt;(0)\n\n    dataList.add(object : IData {\n\n        val hash: Int by lazy { dataFetchers.size+System.currentTimeMillis().toInt() } //&lt;=== get error\n        override fun getHash(): Int {                                                  //&lt;=== get the same error\n            return hash\n        }\n\n        val uuid: UUID by lazy { UUID.randomUUID() }\n        override fun getUUID(): UUID {\n            return uuid\n        }\n        ......\n    }\n}\n\n\nPlatform declaration clash:  The following declarations have the same JVM signature(getHash() I):\n    * public final fun &lt;get-hash&gt;(): int  defined in com.data. buidlDataList &lt;no name provided&gt;\n    * public open fun getHash(): int defined in defined in com.data. buidlDataList &lt;no name provided&gt;\n</code></pre>\n"}, {"tags": ["casting", "kotlin"], "comments": [{"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 3, "creation_date": 1539028977, "post_id": 52709120, "comment_id": 92344821, "body": "Don&#39;t mix up casting and converting. <code>as</code> is used for casting objects. For instance, a method returns an interface or a super class but you need to get the concrete type. Sometimes the compiler doesn&#39;t know about the type, but you do, so you cast it. If Kotlin didn&#39;t have smart casting you&#39;d need to use <code>as</code> a lot more."}, {"owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "edited": false, "score": 0, "creation_date": 1539029024, "post_id": 52709120, "comment_id": 92344845, "body": "So let&#39;s imagine I am compiler and you are trying to cast <code>cat</code> to <code>helicopter</code>, what you expect me to do ?"}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1539029095, "post_id": 52709120, "comment_id": 92344880, "body": "I&#39;d expect you to have the  <i>smart convert</i> feature built in :)"}, {"owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "edited": false, "score": 0, "creation_date": 1539029100, "post_id": 52709120, "comment_id": 92344882, "body": "++ What you actually need to use here is b.toInt()"}, {"owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "edited": false, "score": 0, "creation_date": 1539029187, "post_id": 52709120, "comment_id": 92344905, "body": "And now do you care to explain how on earth should I convert cat to helicopter in a smart way ?"}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1539029477, "post_id": 52709120, "comment_id": 92345027, "body": "Hell, let your imagination run wild. It&#39;s not &quot;basic conversion&quot;, it&#39;s &quot;smart conversion&quot;: <a href=\"https://metro.co.uk/2015/10/01/man-who-turned-his-dead-cat-into-a-drone-now-plans-to-create-a-cow-helicopter-5416891/\" rel=\"nofollow noreferrer\">metro.co.uk/2015/10/01/&hellip;</a>"}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "reply_to_user": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "edited": false, "score": 0, "creation_date": 1539029541, "post_id": 52709120, "comment_id": 92345055, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/181496/discussion-between-matt-and-karma-maker\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 1, "last_activity_date": 1539028811, "creation_date": 1539028811, "answer_id": 52709297, "question_id": 52709120, "link": "https://stackoverflow.com/questions/52709120/when-can-you-use-the-as-operator/52709297#52709297", "title": "When can you use the &#39;as&#39; operator?", "body": "<p>Kotlin compiler's smart casts are pretty smart, so in most cases you don't need explicit casting. This code in Java:</p>\n\n<pre><code>Object foo = \"foo\";\nif (foo instanceof String) {\n  String fooString = (String) foo;\n  System.out.println(fooString.length);\n}\n</code></pre>\n\n<p>would translate to this Kotlin code:</p>\n\n<pre><code>val foo: Any = \"foo\"\nif (foo is String) {\n  println(foo.length)\n}\n</code></pre>\n\n<p>However, <code>as</code> and <code>as?</code> are still relevant, e.g.:</p>\n\n<pre><code>fun test(foo: Any) {\n  val fooString = foo as? String ?: throw IllegalArgumentException()\n  ...\n}\n</code></pre>\n\n<p>Overall, rely on smart casts as much as you can and leave <code>as</code> and <code>as?</code> for specific cases.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1539393978, "last_edit_date": 1539393978, "creation_date": 1539098107, "answer_id": 52724331, "question_id": 52709120, "link": "https://stackoverflow.com/questions/52709120/when-can-you-use-the-as-operator/52724331#52724331", "title": "When can you use the &#39;as&#39; operator?", "body": "<p>In your example, <code>b</code> is a <code>Double</code> floating-point value, not an <code>Int</code>.\u00a0 (As other answers have pointed out.)\u00a0 To convert it, you'd need to use something like <code>b.toInt()</code>.</p>\n\n<p>Your program doesn't convert it, because <strong>Kotlin's <code>as</code> operator doesn't <em>change</em> the value into a new type; instead it tells the compiler that the value is <em>already</em> of the required type.</strong>\u00a0 That's called a <em>cast</em>.</p>\n\n<p>So for example, if I have:</p>\n\n<pre><code>val n: Number = 4\n</code></pre>\n\n<p>Then the type of <code>n</code> is <code>Number</code>.\u00a0 Its current value is actually an <code>Int</code> (which is a subclass of <code>Number</code>).\u00a0 So in this case I can cast it to <code>Int</code>, e.g.:</p>\n\n<pre><code>val i = n as Int\n</code></pre>\n\n<p>after which the compiler will <em>treat</em> it like an <code>Int</code>.</p>\n\n<p>(This particular case is a <em>down-cast</em>, because <code>Int</code> is below <code>Number</code> in the class hierarchy.\u00a0 In general, up-casts are safe but down-casts and others aren't.\u00a0 If you had initialised <code>n</code> with a floating-point number instead, then its value would be of type <code>Double</code>, which is another subclass of <code>Number</code>, and not an <code>Int</code>; the program would fail at run-time and throw a <code>ClassCastException</code>, as you saw.\u00a0 That's why Kotlin also has a safe-cast operator, <code>as?</code>, which gives null instead of the exception.)</p>\n\n<p>The Kotlin compiler is very smart, and most of the time it already knows what type a value can be, so casting isn't needed very often.\u00a0 There can still be occasions when you know something the compiler doesn't, and a cast is appropriate; but too many of them can be a \u2018code smell\u2019 indicating that there may be a better approach.</p>\n"}], "owner": {"reputation": 1629, "user_id": 5530486, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2232f4e1883ede4d6723ba40dd3bf8e2?s=128&d=identicon&r=PG&f=1", "display_name": "daedsidog", "link": "https://stackoverflow.com/users/5530486/daedsidog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 52709297, "answer_count": 2, "score": 0, "last_activity_date": 1539393978, "creation_date": 1539028011, "question_id": 52709120, "link": "https://stackoverflow.com/questions/52709120/when-can-you-use-the-as-operator", "title": "When can you use the &#39;as&#39; operator?", "body": "<p>I have the following program:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var a: Int\n    var b = 23.5\n    a = b as Int\n    println(a)\n}\n</code></pre>\n\n<p>If I run it, the program throws a <code>java.lang.ClassCastException</code> exception.</p>\n\n<p>Since the data types used in Kotlin are represented as objects, I can understand why it is not possible to frivolously cast them like I have, and instead should use the built-in conversion methods associated with each type or the \"safe\" <code>as?</code> operator -- but then this brings the question: when can (or should) you use the <code>as</code> operator?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 496, "user_id": 10246734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSx4J.jpg?s=128&g=1", "display_name": "Show Young Soyinka", "link": "https://stackoverflow.com/users/10246734/show-young-soyinka"}, "edited": false, "score": 1, "creation_date": 1539025340, "post_id": 52708513, "comment_id": 92343348, "body": "Why not use swipeToDelete method?"}, {"owner": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "reply_to_user": {"reputation": 496, "user_id": 10246734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSx4J.jpg?s=128&g=1", "display_name": "Show Young Soyinka", "link": "https://stackoverflow.com/users/10246734/show-young-soyinka"}, "edited": false, "score": 0, "creation_date": 1539028003, "post_id": 52708513, "comment_id": 92344404, "body": "@ShowYoungSoyinka - I didn&#39;t know/think about the swipe method. Thank you. I would like to see this model work first and then I will look at adding swipe. I think it is nice to have an obvious action on the card vs just a swipe."}], "answers": [{"comments": [{"owner": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "edited": false, "score": 0, "creation_date": 1539027875, "post_id": 52708708, "comment_id": 92344332, "body": "I am trying to run another thread in the listener, I am not sure my syntax is correct or that I am starting and ending the thread correctly for the context. My data for the view is populated using Observer. I am fairly certain it will update when the delete is successful they way it is implemented."}], "tags": [], "owner": {"reputation": 451, "user_id": 5390707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMri2.jpg?s=128&g=1", "display_name": "theThapa", "link": "https://stackoverflow.com/users/5390707/thethapa"}, "is_accepted": false, "score": 0, "last_activity_date": 1539026078, "creation_date": 1539026078, "answer_id": 52708708, "question_id": 52708513, "link": "https://stackoverflow.com/questions/52708513/running-room-dao-from-setonclicklistener-within-onbindviewholder/52708708#52708708", "title": "Running Room DAO from setOnClickListener within onBindViewHolder", "body": "<p>@Brandon Bearden, \nThere are two main things to consider here. First, Room database shouldn't be accessed in the main thread. Which means your delete should happen on the background thread. And when the delete is successful, you need to inform the RecyclerView adapter that the dataset was changed [<em>adapter.notifyDataSetChanged()</em>] to reflect the changes in the view. This has to happen on the main/UI thread. Please make sure this is handled properly. </p>\n"}, {"comments": [{"owner": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "edited": false, "score": 0, "creation_date": 1539031150, "post_id": 52709306, "comment_id": 92345725, "body": "I have to set my onClickListener in the adapter as far as I know. Because I need the listener for each button on each card. How do I call a function in the activity from the adapter within the listener?"}, {"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "reply_to_user": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "edited": false, "score": 0, "creation_date": 1539063982, "post_id": 52709306, "comment_id": 92353682, "body": "I have updated the code showing how can you implement the interface. Search more about how to use interfaces if you are stuck somewhere"}, {"owner": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "edited": false, "score": 0, "creation_date": 1539107552, "post_id": 52709306, "comment_id": 92378648, "body": "This required quite a bit of changes to make it work and I didn&#39;t need to notify the adapter because the data is already populated with Observer. However, the basic idea of the implementation of an Interface worked great. I also had to convert it all to kotlin."}, {"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "reply_to_user": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "edited": false, "score": 0, "creation_date": 1539162141, "post_id": 52709306, "comment_id": 92397552, "body": "@BrandonBearden I didn&#39;t realize that you asked question in Kotlin but yeah the basic idea is same. Cheers!"}], "tags": [], "owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "is_accepted": true, "score": 1, "last_activity_date": 1539063923, "last_edit_date": 1539063923, "creation_date": 1539028837, "answer_id": 52709306, "question_id": 52708513, "link": "https://stackoverflow.com/questions/52708513/running-room-dao-from-setonclicklistener-within-onbindviewholder/52709306#52709306", "title": "Running Room DAO from setOnClickListener within onBindViewHolder", "body": "<p>There is no way you are calling notify datasetchanged on the adapted to let it know to update the list after you have deleted the code. I wouldn't want to put a code like this on recycler view adapter's onbindviewholder() function. Make function in your activity to delete the entry from db, once it is deleted call notifydatasetchanged on the adapter. Don't forget to call this on main thread when you return from a background thread for db.\nMake an interface and pass I'd of item to be deleted from the adapter to the activity and write the delete logic there.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>You can do it this way:</p>\n\n<p>Declare interface:</p>\n\n<pre><code>public interface MyInterface{\n   public void foo(int deleteThisId);\n}\n</code></pre>\n\n<p>Let your Activity imlement it:</p>\n\n<pre><code>public class MyActivity extends Activity implements MyInterface{\n\n//Somewhere in on create where you init the adapter\n    adapter = MyAdapter(this); // where this is the instance for the interface which will be used in adapter\n\n    public void foo(int deleteThisId){\n        //do stuff with deleteThisId\n        //when finished with delete operation \n        adapter.notifyDatasetChanged();\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Then pass your activity to MyAdater:</p>\n\n<pre><code>public MyAdapter extends RecyclerView.Adapter&lt;&gt;{\nprivate MyInterface listener;\n\npublic MyAdapter(MyInterface listener){\n    this.listener = listener;\n}\n}\n</code></pre>\n\n<p>And in onClick listner of onBindViewHolder() in adapter, when you need to call that Activity method:</p>\n\n<pre><code>listener.foo(idToBeDeleted);\n</code></pre>\n"}], "owner": {"reputation": 760, "user_id": 1066659, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/F3KWm.jpg?s=128&g=1", "display_name": "Brandon Bearden", "link": "https://stackoverflow.com/users/1066659/brandon-bearden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 52709306, "answer_count": 2, "score": 0, "last_activity_date": 1539063923, "creation_date": 1539025138, "question_id": 52708513, "link": "https://stackoverflow.com/questions/52708513/running-room-dao-from-setonclicklistener-within-onbindviewholder", "title": "Running Room DAO from setOnClickListener within onBindViewHolder", "body": "<p>I have a recyclerview that displays a cardview of my sql data. I now want to add actions to each card to be able to delete the data and update the view.</p>\n\n<p>I have added an OnClickListener within my onBindViewHolder in my adapter. The code runs but it doesn't delete the data. If I run the same click action again I get \"lateinit property mWorkerHandler has not been initialized\". Here is my listener code. I know this is probably not correct but this is my attempt so far:</p>\n\n<pre><code>    holder.deleteButton.setOnClickListener{\n        var mDb: TaskDatabase? = null\n        mDb = TaskDatabase.getInstance(this.mInflater.context)\n        lateinit var mDbWorkerThread: DbWorkerThread\n        mDbWorkerThread = DbWorkerThread(\"dbWorkerThread2\")\n        mDbWorkerThread.start()\n        val task = Runnable { mDb?.taskDao()?.deleteById(holder.id as Int) }\n        mDbWorkerThread.postTask(task)\n        TaskDatabase.destroyInstance()\n        mDbWorkerThread.quit()\n    }\n</code></pre>\n\n<p>One piece I am not sure about at all is the context for the database. The second piece I am not sure about is the threading. Maybe there is a better approach all together?</p>\n"}, {"tags": ["kotlin", "feign", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1539084715, "last_edit_date": 1539084715, "creation_date": 1539083812, "answer_id": 52719752, "question_id": 52708374, "link": "https://stackoverflow.com/questions/52708374/asynchronous-http-calls-with-coroutines-using-an-http-client-like-feign/52719752#52719752", "title": "Asynchronous http calls with coroutines (using an http client like Feign)", "body": "<p>If you used Feign in a GUI application, coroutines would come as great help even though Feign is a blocking API.</p>\n\n<p>Coupled with a thread pool, coroutines can turn a blocking call into a suspending one from the perspective of the caller. Since blocking the GUI thread is out of the question, this is a great match. You retain the exact same sync programming model (a simple function call that returns the HTTP result) and yet you comply with the GUI thread restrictions.</p>\n\n<p>Basic example with Android:</p>\n\n<pre><code>class MyActivity : AppCompatActivity(), CoroutineScope {\n    lateinit var masterJob: Job\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + masterJob\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        masterJob = Job()\n        this.launch {\n            val github: GitHub = feignCall(\"https://api.github.com\")\n            val contributors = github.contributors(\"OpenFeign\", \"feign\")\n            findViewById&lt;TextView&gt;(R.id.about_text_view).text = contributors.toString()\n        }\n    }\n\n    override fun onDestroy() {\n       super.onDestroy()\n       masterJob.cancel()\n}\n\nsuspend inline fun &lt;reified T&gt; feignCall(url: String) = withContext(Dispatchers.Default) {\n    Feign.builder().decoder(GsonDecoder()).target(T::class.java, url)\n}\n</code></pre>\n\n<p>The same reasoning applies to any situation where you have a top-level event loop and each event handler must complete quickly in order to maintain the throughput of event handling.</p>\n"}], "owner": {"reputation": 13, "user_id": 9607556, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "\u0413\u0435\u043d\u043d\u0430\u0434\u0438\u0439 \u041e\u0441\u0435\u0442\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/9607556/%d0%93%d0%b5%d0%bd%d0%bd%d0%b0%d0%b4%d0%b8%d0%b9-%d0%9e%d1%81%d0%b5%d1%82%d1%80%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2470, "favorite_count": 0, "accepted_answer_id": 52719752, "answer_count": 1, "score": 1, "last_activity_date": 1552980697, "creation_date": 1539024418, "last_edit_date": 1552980697, "question_id": 52708374, "link": "https://stackoverflow.com/questions/52708374/asynchronous-http-calls-with-coroutines-using-an-http-client-like-feign", "title": "Asynchronous http calls with coroutines (using an http client like Feign)", "body": "<p>Can somebody explain whether or not there is any use in applying coroutines to http clients like Feign if it uses synchronous http calls? Since it's blocked until it receives response, we don't get any profit (in terms of minimizing thread downtime) from writing code like this:\n</p>\n\n<pre><code>  async {feignApi.getSomeMeaningfulData1()}\n  async {feignApi.getSomeMeaningfulData2()}\n  //And waiting for the result to combine.\n</code></pre>\n\n<p>\ndo we?\nAs I understood, it could be useful if: </p>\n\n<p>1) http client used some kind of suspending function inside while reading data over the network like\n<code>suspended fun readChunkOfData()</code> in some loop and then the working thread wouldn't be waiting idle for the new chunk of data to come(it could work on the second request and then switch back and forth until requests are done). I don\u2019t know much about how regular http clients work internally so I need some clarification. </p>\n\n<p>2) at least it didn\u2019t wait until the request has been processed on the other server. </p>\n\n<p>Is it possible at all? </p>\n\n<p>Should I use some part of Ktor framework as httpClient in Feign to resolve this issue?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 1, "last_activity_date": 1539023367, "creation_date": 1539023367, "answer_id": 52708147, "question_id": 52707771, "link": "https://stackoverflow.com/questions/52707771/need-to-update-an-item-in-a-recyclerview-if-it-has-been-on-screen-for-set-amount/52708147#52708147", "title": "Need to update an item in a recyclerview if it has been on screen for set amount of time", "body": "<p>You can take a handler with delay of 2 seconds &amp; make your logic of Viewed in it. So, after 2 seconds handler will execute your code like below :</p>\n\n<pre><code>//Code inside bindViewHolder() method :\nhandler = new Handler(); // make it globally\nhandler.postDelayed(runnable, 2000); // make a runnable with your logic code of viewed.\n</code></pre>\n\n<p>Now override a method called <code>onViewDetachedFromWindow(VH holder)</code> and remove your handle callback here. so if your view get's detached before 2000 seconds, code won't be executed.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 9673648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zOuaxmrBwwI/AAAAAAAAAAI/AAAAAAAADsA/uzMZwTYeYWM/photo.jpg?sz=128", "display_name": "Onur Aydeniz", "link": "https://stackoverflow.com/users/9673648/onur-aydeniz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539023907, "creation_date": 1539023907, "answer_id": 52708264, "question_id": 52707771, "link": "https://stackoverflow.com/questions/52707771/need-to-update-an-item-in-a-recyclerview-if-it-has-been-on-screen-for-set-amount/52708264#52708264", "title": "Need to update an item in a recyclerview if it has been on screen for set amount of time", "body": "<p>Try using countdowntimer in the OnResume function.</p>\n\n<pre><code>Object:Countdowntimer(2000,1000)........\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 3915634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc79129a77372a726c42a56d752dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Chooven", "link": "https://stackoverflow.com/users/3915634/chooven"}, "edited": false, "score": 0, "creation_date": 1539116550, "post_id": 52708913, "comment_id": 92382707, "body": "Thank you for you response, it worked great until my Boss said he wanted them marked as view while they were still on the screen."}, {"owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "reply_to_user": {"reputation": 105, "user_id": 3915634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc79129a77372a726c42a56d752dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Chooven", "link": "https://stackoverflow.com/users/3915634/chooven"}, "edited": false, "score": 1, "creation_date": 1539168794, "post_id": 52708913, "comment_id": 92401632, "body": "Well yeah, in that case postDelayed is you friend you still might want to use onViewDetachedFromWindow / onViewDetachedFromWindow to manage runnables in handler. But anyway, good luck and happy coding!"}], "tags": [], "owner": {"reputation": 94, "user_id": 2349435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7IpC.jpg?s=128&g=1", "display_name": "Karma Maker", "link": "https://stackoverflow.com/users/2349435/karma-maker"}, "is_accepted": false, "score": 1, "last_activity_date": 1539027042, "creation_date": 1539027042, "answer_id": 52708913, "question_id": 52707771, "link": "https://stackoverflow.com/questions/52707771/need-to-update-an-item-in-a-recyclerview-if-it-has-been-on-screen-for-set-amount/52708913#52708913", "title": "Need to update an item in a recyclerview if it has been on screen for set amount of time", "body": "<p>Jeel Vankhede <a href=\"https://stackoverflow.com/a/52708147/2349435\">approach</a> would work but slightly heavy for my taste. I would suggest to create a map <code>ids to currentTime</code>, add element there inside <code>onViewAttachedToWindow</code> and inside <code>onViewDetachedFromWindow</code> check if 2 seconds has passed. (Don't forget to remove id from map inside <code>onViewDetachedFromWindow</code> regardless)</p>\n"}], "owner": {"reputation": 105, "user_id": 3915634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bc79129a77372a726c42a56d752dc8?s=128&d=identicon&r=PG&f=1", "display_name": "Chooven", "link": "https://stackoverflow.com/users/3915634/chooven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52708147, "answer_count": 3, "score": 0, "last_activity_date": 1539027042, "creation_date": 1539021573, "question_id": 52707771, "link": "https://stackoverflow.com/questions/52707771/need-to-update-an-item-in-a-recyclerview-if-it-has-been-on-screen-for-set-amount", "title": "Need to update an item in a recyclerview if it has been on screen for set amount of time", "body": "<p>Using Kotlin, I have a recyclerview with an adapter that displays an Arraylist.  What I need to do is set a Object.viewed property if it has been on screen for 2 seconds.  Meaning if you can just scrolling quickly through the list nothing happens but if you stop and on one to read it then I need to make it as viewed, so I can increment a seen counter.</p>\n\n<p>Thanks for any help or pointers.</p>\n"}]