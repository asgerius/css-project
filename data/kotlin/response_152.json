[{"tags": ["generics", "properties", "kotlin", "inline"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1512612616, "post_id": 47685283, "comment_id": 82332564, "body": "I like your inline function approach, but I thought that returns an <code>illegal use of inline-parameter</code> error.  I used the inline property because I couldn&#39;t find another way to do it inline, even after asking <a href=\"https://stackoverflow.com/questions/47605151\">this question earlier</a>.  Do you think the inline property (function reference) would perform worse than a function with a <code>noinline</code> lambda parameter (assuming I&#39;m talking about a function where I can do it -- i.e., that doesn&#39;t require generics)?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1512603408, "creation_date": 1512603408, "answer_id": 47685283, "question_id": 47684968, "link": "https://stackoverflow.com/questions/47684968/inline-alias-for-kotlin-function-that-includes-generics/47685283#47685283", "title": "Inline alias for Kotlin function that includes generics?", "body": "<p>An option that you could use is a renaming import, though it is limited to a single source file:</p>\n\n<pre><code>import kotlin.sequences.generateSequence as seq\n\nfun main(args: Array&lt;String&gt;) {\n    seq(1) { it + 1 }.take(10).forEach(::println)\n}\n</code></pre>\n\n<p>Apart from that, I think, the best you could do is to fall back to declaring another inline function:</p>\n\n<pre><code>inline fun &lt;T&gt; seq(nextFunction: () -&gt; T?) = \n    generateSequence(nextFunction)\n</code></pre>\n\n<p>In fact, I'd expect the performance of this option to be better than of the one with a function reference, because using an inline property returning a function reference still has some overhead when you make a call to that reference, while this call is inlined and thus should introduce no overhead for another nested call.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512603408, "creation_date": 1512601430, "last_edit_date": 1512602043, "question_id": 47684968, "link": "https://stackoverflow.com/questions/47684968/inline-alias-for-kotlin-function-that-includes-generics", "title": "Inline alias for Kotlin function that includes generics?", "body": "<p>I have shortened the names of some frequently-used foreign functions (that I don't control) with \"aliases\", based on advice I received in <a href=\"https://stackoverflow.com/questions/46631293/kotlin-extension-method-as-alias-for-long-method-name\">an earlier question</a>.  This has worked nicely for extension functions; however, I have a few top-level functions I'd like to alias as well.  For a simplified example, consider the <code>generateSequence</code> function.  I want to be able to do this:</p>\n\n<pre><code>// DOES NOT COMPILE\ninline val &lt;T:Any&gt; seq:(()-&gt;T?)-&gt;Sequence&lt;T&gt; get() = ::generateSequence\n</code></pre>\n\n<p>...but I can't because the generic must be used in the receiver type, as explained well <a href=\"https://stackoverflow.com/questions/44181945/kotlin-property-type-parameter-of-a-property-must-be-used-in-its-receiver-type\">in this answer</a>.  Is there any other way to create an <strong>alias for a top-level function (requiring generics) which preserves the inline?</strong></p>\n\n<p><strong>EDIT:</strong> I tried using <code>Any?</code> and star projection right after posting the question, but I still don't think it's a good answer:</p>\n\n<pre><code>inline val seq:(()-&gt;Any?)-&gt;Sequence&lt;*&gt; get() = ::generateSequence\n</code></pre>\n\n<p>This seems boptimalsu because it compromises type-checking on the Sequence's element type, correct?  Other answers/thoughts as to what could work?</p>\n"}, {"tags": ["android", "unit-testing", "testing", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512647827, "post_id": 47684451, "comment_id": 82348446, "body": "show gradle dependencies please"}], "answers": [{"comments": [{"owner": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "edited": false, "score": 0, "creation_date": 1512767431, "post_id": 47721764, "comment_id": 82404946, "body": "But latest version of Kotlin is 1.2.0"}, {"owner": {"reputation": 261, "user_id": 8013782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5EKB.jpg?s=128&g=1", "display_name": "Harry Han", "link": "https://stackoverflow.com/users/8013782/harry-han"}, "reply_to_user": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "edited": false, "score": 0, "creation_date": 1513102853, "post_id": 47721764, "comment_id": 82519368, "body": "@OsipXD Interesting, Android Studio told me to change to 1.1.60."}, {"owner": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "edited": false, "score": 0, "creation_date": 1513102976, "post_id": 47721764, "comment_id": 82519432, "body": "may be because you&#39;ve not updated Kotlin plugin in AS?"}, {"owner": {"reputation": 261, "user_id": 8013782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5EKB.jpg?s=128&g=1", "display_name": "Harry Han", "link": "https://stackoverflow.com/users/8013782/harry-han"}, "reply_to_user": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "edited": false, "score": 0, "creation_date": 1513116562, "post_id": 47721764, "comment_id": 82525987, "body": "That make sense, thanks for the tip. Anyway, 1.1.60 works for me."}, {"owner": {"reputation": 301, "user_id": 1310448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/EDeZZ.jpg?s=128&g=1", "display_name": "Devavrata", "link": "https://stackoverflow.com/users/1310448/devavrata"}, "edited": false, "score": 0, "creation_date": 1515417298, "post_id": 47721764, "comment_id": 83280448, "body": "@HarryHan making kotlin version to 1.1.60 does not resolve the issue for me, I am still getting the below error, Can you please provide any idea/solution on this:"}, {"owner": {"reputation": 301, "user_id": 1310448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/EDeZZ.jpg?s=128&g=1", "display_name": "Devavrata", "link": "https://stackoverflow.com/users/1310448/devavrata"}, "edited": false, "score": 2, "creation_date": 1515417395, "post_id": 47721764, "comment_id": 83280490, "body": "Error:Gradle: failed to create directory &#39;D:\\...&#39;. Error:Gradle: failed processing manifest. Error:Gradle: java.util.concurrent.ExecutionException: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details Error:Gradle: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details Error:Gradle: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details Error:Gradle: Execution failed for task &#39;:app:processInstallStagingDebugResources&#39;. &gt; Failed to execute aapt"}, {"owner": {"reputation": 261, "user_id": 8013782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5EKB.jpg?s=128&g=1", "display_name": "Harry Han", "link": "https://stackoverflow.com/users/8013782/harry-han"}, "reply_to_user": {"reputation": 301, "user_id": 1310448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/EDeZZ.jpg?s=128&g=1", "display_name": "Devavrata", "link": "https://stackoverflow.com/users/1310448/devavrata"}, "edited": false, "score": 0, "creation_date": 1515426038, "post_id": 47721764, "comment_id": 83285767, "body": "@Devavrata, show \tshow gradle dependencies and gradle errors"}, {"owner": {"reputation": 6696, "user_id": 596725, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6zgCU.jpg?s=128&g=1", "display_name": "Herry", "link": "https://stackoverflow.com/users/596725/herry"}, "reply_to_user": {"reputation": 301, "user_id": 1310448, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/EDeZZ.jpg?s=128&g=1", "display_name": "Devavrata", "link": "https://stackoverflow.com/users/1310448/devavrata"}, "edited": false, "score": 0, "creation_date": 1518012475, "post_id": 47721764, "comment_id": 84329068, "body": "@Devavrata Do you find solution for issue ? I am facing same for espresso test with kotlin <code>1.2.60</code> version and gradle version is <code>3.0.1</code>"}], "tags": [], "owner": {"reputation": 261, "user_id": 8013782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q5EKB.jpg?s=128&g=1", "display_name": "Harry Han", "link": "https://stackoverflow.com/users/8013782/harry-han"}, "is_accepted": false, "score": 2, "last_activity_date": 1512765231, "creation_date": 1512765231, "answer_id": 47721764, "question_id": 47684451, "link": "https://stackoverflow.com/questions/47684451/cannot-unit-test-in-kotlin-executionexception-aapt2exception/47721764#47721764", "title": "Cannot unit test in Kotlin (ExecutionException, Aapt2Exception)", "body": "<p>I got same problem. for a simple test:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\n@Config(constants = BuildConfig::class)\nclass MainActivityTest {\n    private lateinit var activityController: ActivityController&lt;MainActivity&gt;\n\n    @Before\n    @Throws(Exception::class)\n    fun setUp() {\n        activityController = Robolectric.buildActivity(MainActivity::class.java)\n\n        activityController.create().start().resume()\n\n    }\n\n    @Test\n    @Throws(Exception::class)\n    fun testNotBeNull() {\n        assertNotNull(activityController.get())\n    }\n\n}\n</code></pre>\n\n<p>Update to latest Kotlin version to 1.1.60 and Gradle to 3.0.1 solve it.</p>\n"}, {"tags": [], "owner": {"reputation": 526, "user_id": 1900854, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fa65cd905d6f4ece4e134e0526a45a76?s=128&d=identicon&r=PG", "display_name": "bio007", "link": "https://stackoverflow.com/users/1900854/bio007"}, "is_accepted": false, "score": 4, "last_activity_date": 1520947932, "last_edit_date": 1520947932, "creation_date": 1520934936, "answer_id": 49253082, "question_id": 47684451, "link": "https://stackoverflow.com/questions/47684451/cannot-unit-test-in-kotlin-executionexception-aapt2exception/49253082#49253082", "title": "Cannot unit test in Kotlin (ExecutionException, Aapt2Exception)", "body": "<p>I've had similar problems with meaningless AAPT2 errors while running kotlin tests. The source of the problem is in Android Studio generating wrong Run Configuration for tests in Kotlin. I'm not sure what causes this bug because it looks it's not happening to everyone.</p>\n\n<p>Running unit tests via command line worked without problems.</p>\n\n<p>Creating test configuration by hand resolved the issue:\n<a href=\"https://i.stack.imgur.com/5t3fU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5t3fU.png\" alt=\"create configuration manually\"></a></p>\n\n<p>But still if I try to run the test by clicking the <em>side note</em> button I got the compilation error.\n<a href=\"https://i.stack.imgur.com/pvz3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvz3Y.png\" alt=\"run test button\"></a></p>\n\n<p>BTW: If you try to edit the generated configuration you are out of luck because that configuration isn't listed in the configurations list at all.</p>\n"}], "owner": {"reputation": 61, "user_id": 9064313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5e99e91eefd4491e1aa34c28be815ed?s=128&d=identicon&r=PG&f=1", "display_name": "Oblitzitate", "link": "https://stackoverflow.com/users/9064313/oblitzitate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1520947932, "creation_date": 1512598980, "question_id": 47684451, "link": "https://stackoverflow.com/questions/47684451/cannot-unit-test-in-kotlin-executionexception-aapt2exception", "title": "Cannot unit test in Kotlin (ExecutionException, Aapt2Exception)", "body": "<p>A simple test...</p>\n\n<pre><code>import org.junit.Test\n\nclass KotlinUnitTest {\n\n    @Test\n    fun test() {\n        assert(true)\n    }\n}\n</code></pre>\n\n<p>... results in the following...</p>\n\n<pre><code>Information:Gradle: Executing tasks: [:app:assembleDebug, :app:assembleDebugUnitTest]\nInformation:Kotlin: Kotlin JPS plugin is disabled\nInformation:Module \"app\" was fully rebuilt due to project configuration/dependencies changes\nInformation:06/12/2017 5:08 PM - Compilation completed with 3 errors and 0 warnings in 19s 962ms\nError:Gradle: java.util.concurrent.ExecutionException: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\nError:Gradle: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\nError:Gradle: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\n</code></pre>\n\n<p>Adding <code>android.enableAapt2=false</code> to <strong>gradle.properties</strong> (or also <strong>gradle-wrapper.properties</strong>) made Android Studio halt indefinitely every time I ran the test.</p>\n\n<p>This is weird because I'm able to...</p>\n\n<ul>\n<li>Run my production app (filled with Kotlin files)</li>\n<li>Unit test in Java</li>\n</ul>\n\n<p>But, for whatever reason, I can't test in Kotlin</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1512604535, "creation_date": 1512604535, "answer_id": 47685434, "question_id": 47683575, "link": "https://stackoverflow.com/questions/47683575/kotlin-generic-type-issue/47685434#47685434", "title": "Kotlin generic type issue", "body": "<p>Please take a look at the explanation of type erasure and type checks for generic types in the language reference: <a href=\"https://stackoverflow.com/questions/36253310/how-to-get-actual-type-arguments-of-a-reified-generic-parameter-in-kotlin\">Type erasure and generic type checks</a>.</p>\n\n<p>Basically, you cannot do that sort of check because the instances of <code>SettingsKeyContractWithType</code> do not hold any information about their actual type argument at runtime.</p>\n\n<p>An option that you could try here is to add make <code>SettingsKeyContractWithType</code> explicitly store some representation of the type argument. A simple <code>KClass</code> does not seem to fit, because it cannot represent a concrete generic type (you cannot have a <code>KClass</code> for <code>List&lt;String&gt;</code>. </p>\n\n<p>If that's really what you want, consider using the technique of super type tokens, as described here: <a href=\"https://stackoverflow.com/questions/36253310/how-to-get-actual-type-arguments-of-a-reified-generic-parameter-in-kotlin\">(link)</a>.</p>\n\n<p>You can add a <code>TypeReference&lt;T&gt;</code> property to <code>SettingsKeyContractWithType</code>, fill it within an inline factory function with a reified type parameter.</p>\n"}], "owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3694, "favorite_count": 0, "accepted_answer_id": 47685434, "answer_count": 1, "score": 0, "last_activity_date": 1512604535, "creation_date": 1512594970, "question_id": 47683575, "link": "https://stackoverflow.com/questions/47683575/kotlin-generic-type-issue", "title": "Kotlin generic type issue", "body": "<p>I'm lost in generic types many hours. I want to simplified the code but I can't cast object when its generic type. How I can solve this problem or another simplified way? <code>(I'm use kotlin 1.2)</code></p>\n\n<pre><code>sealed class SETTING(override val key: String) : SettingsKeyContract\n\nobject optFirstLaunch : SETTING(\"first_launch\"), SettingsKeyContractWithType&lt;Boolean&gt; {\n    override val defaults = true\n}\n\nobject optNotifications : SETTING(\"notification_list\"), SettingsKeyContractWithType&lt;List&lt;String&gt;&gt; {\n    override val defaults = emptyList&lt;String&gt;()\n}\n\ninterface SettingsKeyContract { val key: String }\ninterface SettingsKeyContractWithType&lt;T : Any&gt; : SettingsKeyContract {\n\n    val defaults: T\n\n    @Suppress(\"UNCHECKED_CAST\")\n    fun get(): T?       = (App.getContentComponent()?.getSettings()?.get(key)?.value?.data as? T)\n    fun remove()        = (App.getContentComponent()?.getSettings())?.delete(key)\n    fun save(value: T)  = (App.getContentComponent()?.getSettings()?.add(key, value))\n\n}\n\nclass OptionModel(@OPTIONS_ID optionId: Int, contract: SettingsKeyContract)\n\nval optionModel = OptionModel(1, optNotifications)\nwhen(optionModel.contract){\n    is SettingsKeyContractWithType&lt;List&lt;String&gt;&gt; -&gt; (optionModel.contract as SettingsKeyContractWithType&lt;List&lt;String&gt;&gt;).set(listOf(\"ring-1\", \"ring-2\")) //error\n    is SettingsKeyContractWithType&lt;Boolean&gt; -&gt; (optionModel.contract as SettingsKeyContractWithType&lt;Boolean&gt;).set(true)  //error\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Cannot check for instance of erased type: SettingsKeyContractWithType&lt;...&gt;\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1512595279, "post_id": 47682341, "comment_id": 82326783, "body": "There&#39;s no such query. I recommend creating a custom adapter"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1512597472, "post_id": 47682341, "comment_id": 82327839, "body": "Firebase Database does not have an equivalent of queries <code>SELECT * FROM houses WHERE id in (1,2,3)</code>. See <a href=\"https://stackoverflow.com/questions/29560088/firebase-equivalent-to-sql-where-in\" title=\"firebase equivalent to sql where in\">stackoverflow.com/questions/29560088/&hellip;</a>. Retrieving the individual items is not as slow as you may think though. See <a href=\"http://stackoverflow.com/questions/35931526/speed-up-fetching-posts-for-my-social-network-app-by-using-query-instead-of-obse/35932786#35932786\" title=\"speed up fetching posts for my social network app by using query instead of obse\">stackoverflow.com/questions/35931526/&hellip;</a>"}], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "closed_date": 1512597483, "answer_count": 0, "score": 1, "last_activity_date": 1512595181, "creation_date": 1512589673, "last_edit_date": 1512595181, "question_id": 47682341, "link": "https://stackoverflow.com/questions/47682341/firebase-query-equal-to-an-arraylist", "closed_reason": "Duplicate", "title": "Firebase Query Equal to an Arraylist", "body": "<p>I am trying to query my firebase database in a way that will get me a query which I will be able use in the FirebaseRecyclerAdapter. The structure is the following:</p>\n\n<blockquote>\n  <p>root</p>\n  \n  <p>--USERS</p>\n  \n  <p>---Favorites</p>\n  \n  <p>----{Some post IDs}</p>\n</blockquote>\n\n<p>So after I get these IDs and save them in a <code>list</code> I want to show them in a recyclerView with all the post details. In order to do that I need to access an other portion of my DB which is the following:</p>\n\n<blockquote>\n  <p>root</p>\n  \n  <p>--POSTS</p>\n  \n  <p>---{POST_IDS}</p>\n  \n  <p>----{POST_DETAILS}</p>\n</blockquote>\n\n<p>Now lets say that the list of the favorites posts of user contains the following IDs [1,3,8]. </p>\n\n<pre><code>val query: Query = housesDb.orderByKey().startAt(favPostList[0]).endAt(favPostList[favPostList.size - 1])\n</code></pre>\n\n<p>The problem with this query is that I also get the inbetween IDs like [2,4,5,6,7].</p>\n\n<p>Is there any way to query like:</p>\n\n<pre><code>val query: Query = housesDb.orderByKey().equalTo(favPostList)\n</code></pre>\n\n<p>A simple solution would be to create a custom adapter but I would prefer to use the Firebase one if possible.</p>\n"}, {"tags": ["multithreading", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1512587925, "creation_date": 1512587925, "answer_id": 47681918, "question_id": 47681381, "link": "https://stackoverflow.com/questions/47681381/usage-of-kotlin-coroutines/47681918#47681918", "title": "Usage of Kotlin Coroutines", "body": "<p>If the rest of your application uses coroutines, it would make sense to do this with coroutines as well. If it doesn't, I don't see any benefit. However, you can use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> instead of doing it manually.</p>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 47681918, "answer_count": 1, "score": 1, "last_activity_date": 1512587925, "creation_date": 1512585863, "question_id": 47681381, "link": "https://stackoverflow.com/questions/47681381/usage-of-kotlin-coroutines", "title": "Usage of Kotlin Coroutines", "body": "<p>I have house simulation where are various types of devices. These devices are generating events after some time period. </p>\n\n<p>So I've decided to use new thread everytime when device (wash machine) is doing something (washing clothes) that is blocking for some time (eg. 2 minutes), so main thread is not blocked. This thread only sleeps for that period (2 minutes) and afterwards makes callback that washing is done.</p>\n\n<p>Is it possible to use for this corountines in Kotlin? Would it be better?</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 0, "creation_date": 1512588846, "post_id": 47681995, "comment_id": 82323367, "body": "Tool is a custom class where options property is a Pane. Also, if the subController property gets reassigned, will the toolbar update?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 0, "creation_date": 1512590301, "post_id": 47681995, "comment_id": 82324121, "body": "@SimonMarynissen I am not quite familiar with TornadoFX, but this would be impossible, as even if it <i>did</i> update the children you are only passing the <code>tools</code> list, and if you changed <code>subController</code> the reference to the <i>old</i> <code>tools</code> list would not change."}, {"owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 0, "creation_date": 1512590550, "post_id": 47681995, "comment_id": 82324254, "body": "Could adding an observable to subController fix this?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1512716050, "post_id": 47681995, "comment_id": 82378140, "body": "As I hinted to, the solution is to put whatever is changing in a ViewModel and update it as needed."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 1, "last_activity_date": 1512588254, "creation_date": 1512588254, "answer_id": 47681995, "question_id": 47681250, "link": "https://stackoverflow.com/questions/47681250/binding-a-view-to-a-changing-controller-property/47681995#47681995", "title": "Binding a view to a changing controller property", "body": "<p>You have several options. A <code>Parent</code> supports a function called <code>bindChildren</code> which accepts an observable list of items and a function to turn each of these items into a Node. You can use this to create your buttons in the toolbar:</p>\n\n<pre><code>tilepane { \n    bindChildren(controller.subController.tools) { tool -&gt;\n        Button(tool.name) ...\n    }\n}\n</code></pre>\n\n<p>You can also do this manually if you need more control:</p>\n\n<p>tilepane {\n    controller.subController.tools.onChange {\n        children.clear()\n        // create new buttons here, like in your example\n    }\n}</p>\n\n<p>However, instead of injecting controller to access subController to get to the tools, you should have a ToolsModel which is injected into the current scope. The tools model could have a list of tools and the selected tools and can be injected into all views and controllers which needs it. You say that selectedTool is a Tool, but you're not showing what a Tool is, but judging from your code it looks like Tool.options is a Node subclass (?).</p>\n\n<p>You can add/remove the tool.options element using the same technique, or even wrap it in a stackpane or other layoutcontainer to be able to identify the tool to remove (or simply remove all children of the stackpane) on change using the same technique.</p>\n"}], "owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512588254, "creation_date": 1512585434, "question_id": 47681250, "link": "https://stackoverflow.com/questions/47681250/binding-a-view-to-a-changing-controller-property", "title": "Binding a view to a changing controller property", "body": "<p>I'm working in Kotlin with the TornadoFX library. Imagine you have a toolbar which shows the tool that are useful for the current view you have. So we have a MainController which has a subController property which is the controller of some view next to the tool bar. So if our subController changes, the view should update. Also, if any property (e.g. selectedTool, tools) of the subController changes, the toolbar should update accordingly. Momentarily, the toolbar is not updated.</p>\n\n<pre><code>class ToolBar : View(\"Tool bar\") {\n    private val controller: MainController by inject()\n    override val root = vbox {\n        tilepane {\n            for (tool in controller.subController.tools) {\n                button(tool.name, group).action {\n                    controller.subController.changeTool(tool) // changes selected tool\n                }\n            }\n        }\n        this += controller.subController.selectedTool.options\n    }\n}\n</code></pre>\n\n<p>Extra info: subController.tools is an ArrayList and subController.selectedTool is a Tool.</p>\n\n<p>Now my question is, what's the recommended way to do this in TornadoFX?</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 1820, "user_id": 6277651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ClB8g.jpg?s=128&g=1", "display_name": "Mohammad Nouri", "link": "https://stackoverflow.com/users/6277651/mohammad-nouri"}, "edited": false, "score": 0, "creation_date": 1512583285, "post_id": 47680520, "comment_id": 82320509, "body": "post you main activity java code"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "reply_to_user": {"reputation": 1820, "user_id": 6277651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ClB8g.jpg?s=128&g=1", "display_name": "Mohammad Nouri", "link": "https://stackoverflow.com/users/6277651/mohammad-nouri"}, "edited": false, "score": 0, "creation_date": 1512583571, "post_id": 47680520, "comment_id": 82320662, "body": "@MohammadNouri posted (It&#39;s in Kotlin). I just generated the files, I have modified nothing except the AndroidManifest.xml, and that did not help."}], "answers": [{"tags": [], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "is_accepted": false, "score": 0, "last_activity_date": 1512587421, "creation_date": 1512587421, "answer_id": 47681785, "question_id": 47680520, "link": "https://stackoverflow.com/questions/47680520/android-material-design-colours-not-applied-consistently/47681785#47681785", "title": "Android Material Design colours not applied consistently", "body": "<p>It turned out to be a version of Android studio. I upgraded to 3.0.1 an the issues disappeared.</p>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512587421, "creation_date": 1512582711, "last_edit_date": 1512583456, "question_id": 47680520, "link": "https://stackoverflow.com/questions/47680520/android-material-design-colours-not-applied-consistently", "title": "Android Material Design colours not applied consistently", "body": "<p>\nMy activity_main.xml has the theme I am looking for. Some activities such as activity_disaster.xml has a partial application, and one activity_disaster_overview.xml has nothing, and is missing the action bar.</p>\n\n<p>\nAndroidManifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"org.sherman.magic.idlehands\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"\n            android:theme=\"@style/IdleHands\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".DisasterActivity\"\n            android:theme=\"@style/IdleHands\"/&gt;\n        &lt;activity android:name=\".LoggedInDisasterActivity\"\n            android:theme=\"@style/IdleHands\"/&gt;\n        &lt;activity android:name=\".CreateDisasterActivity\"\n            android:theme=\"@style/IdleHands\"/&gt;\n        &lt;activity android:name=\".DisasterOverviewActivity\"\n            android:theme=\"@style/IdleHands\"&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>styles.xml</p>\n\n<p></p>\n\n<pre><code>    &lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"IdleHands\" parent=\"AppTheme\" &gt;\n        &lt;item name=\"android:colorForeground\"&gt;@color/foreground_material_light&lt;/item&gt;\n        &lt;item name=\"android:navigationBarColor\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Working activity_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"org.sherman.magic.idlehands.MainActivity\"&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Not working activity_disaster_overview.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"org.sherman.magic.idlehands.DisasterOverviewActivity\"&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>MainActivity Code:</p>\n\n<pre><code>package org.sherman.magic.idlehands\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n\n\n<p>How can I make them consistent to match activity_main.xml. Rather than a mixed bag of results.</p>\n\n\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 7914, "user_id": 1348522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/onFKD.jpg?s=128&g=1", "display_name": "Zumry Mohamed", "link": "https://stackoverflow.com/users/1348522/zumry-mohamed"}, "edited": false, "score": 1, "creation_date": 1512577651, "post_id": 47678991, "comment_id": 82317182, "body": "Why negative at the beginning ?"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1512578068, "post_id": 47678991, "comment_id": 82317432, "body": "For one the code you posted isn&#39;t the entire code example. People shouldn&#39;t have to go to external links to get the full picture.  Yes, it looks like  <code>field</code> is a special keyword that aids in mutating setters."}], "answers": [{"tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": false, "score": 1, "last_activity_date": 1512578473, "creation_date": 1512578473, "answer_id": 47679309, "question_id": 47678991, "link": "https://stackoverflow.com/questions/47678991/kotlin-explain-me-about-backing-fields/47679309#47679309", "title": "Kotlin explain me about Backing Fields", "body": "<p>How it works , let's understand by an example , consider this</p>\n\n<pre><code>class Person {\n   var name: String = \"\"\n}\n</code></pre>\n\n<p>If nothing is specified, the property(<strong>name</strong>) uses the default getter and setter. It can, of course,\nbe modified to run whatever custom behaviour you need, without having to change\nthe existing code:</p>\n\n<p>So if want set custom behaviour to name property than we modify above class to this </p>\n\n<pre><code>class Person {\n\n   var name: String = \"\"\n   get() = field.toUpperCase()\n   set(value) {\n     field = \"Name: $value\"\n  }\n\n\n}\n</code></pre>\n\n<p>If the property needs access to its own value in a custom getter or setter (as in this\ncase), it requires the creation of a <strong>backing field</strong>. It can be accessed by using field, a\nreserved word, and will be automatically created by the compiler when it finds that\nit\u2019s being used. </p>\n"}, {"tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": false, "score": 5, "last_activity_date": 1531504546, "last_edit_date": 1531504546, "creation_date": 1512578630, "answer_id": 47679347, "question_id": 47678991, "link": "https://stackoverflow.com/questions/47678991/kotlin-explain-me-about-backing-fields/47679347#47679347", "title": "Kotlin explain me about Backing Fields", "body": "<blockquote>\n  <p>A Backing Field is just a field that will be generated for a property\n  in a class only if it uses the default implementation of at least one\n  of the accessors</p>\n</blockquote>\n\n<p>Backing field is generated only if a property uses the default implementation of getter/setter. If you see the following code with perspective of\u00a0<code>Java</code>. It looks correct. However in\u00a0\"kotlin\"\u00a0it\u2019ll throw\u00a0Exception.</p>\n\n<pre><code>  class User{ \n       var firstName : String //backing field generated\n      get() = firstName \n      set(value) {\n           firstName = value\n      } \n      var lastName : String //backing field generated \n      get() = lastName \n      set(value) {\n           lastName = value\n      }\n      val name : String //no backing field generated \n      get() = \"{$firstName $lastName}\" \n      var address : String = \"XYZ\" //^because there is no default //^implementation of an accessor \n }\n</code></pre>\n\n<p>In Kotlin the above code snippet will throw StackOverflow because when we access or set property \"first-name\" or \"last name\" the default accessor will be called. So in Kotlin\u00a0\"user.firstName = \"value\"\u201d\u00a0is same as Java\u2019s\u00a0\"user.setFirstName(\"value\")\".</p>\n\n<p>So when\u00a0\"set(value) {firstName = \"value\"}\u00a0\" is called, then a\u00a0recursive callhappens and compiler throws a Exception exception because we are\u00a0calling setter inside the setter.</p>\n\n<p>Solution to this problem is to user backing fields. In Kotlin a backing field can be accessed using\u00a0\"field\"\u00a0keyword inside accessors. Take a look at corrected code snippet below.</p>\n\n<pre><code> class User{ \n      var firstName : String get() = field \n      set(value) {\n           field = value\n      } \n      var lastName : String get() = field \n      set(value) {\n           field = value} \n      }\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1484, "user_id": 9015942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd9a76c3fcb8e3eb6514d68462067902?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian K", "link": "https://stackoverflow.com/users/9015942/adrian-k"}, "is_accepted": false, "score": 8, "last_activity_date": 1512578762, "creation_date": 1512578762, "answer_id": 47679385, "question_id": 47678991, "link": "https://stackoverflow.com/questions/47678991/kotlin-explain-me-about-backing-fields/47679385#47679385", "title": "Kotlin explain me about Backing Fields", "body": "<p>The <code>field</code> keyword allows you to assign a value inside a custom setter. In kotlin <code>counter = 3</code> will call <code>set(3)</code>. So if you would define </p>\n\n<pre><code>var counter=0\nset(value){\n    counter = value\n}\n</code></pre>\n\n<p>It would recursively call itself until your stack is full and your process crashes.\nThe <code>field</code> keyword assigns the value directly without calling the setter again.</p>\n"}, {"comments": [{"owner": {"reputation": 7914, "user_id": 1348522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/onFKD.jpg?s=128&g=1", "display_name": "Zumry Mohamed", "link": "https://stackoverflow.com/users/1348522/zumry-mohamed"}, "edited": false, "score": 3, "creation_date": 1512583371, "post_id": 47679527, "comment_id": 82320566, "body": "You have paved the way to find out other issues as well... Thanks a lot."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 18, "last_activity_date": 1512579186, "creation_date": 1512579186, "answer_id": 47679527, "question_id": 47678991, "link": "https://stackoverflow.com/questions/47678991/kotlin-explain-me-about-backing-fields/47679527#47679527", "title": "Kotlin explain me about Backing Fields", "body": "<p>Consider this class</p>\n\n<pre><code>class SomeClass {\n    var counter: Int = 0\n        set(value) {\n            if (value &gt;= 0) field = value\n        }\n}\n</code></pre>\n\n<p>In Android Studio go to <code>Main menu -&gt; Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode</code> and click <code>Decompile</code> in the Kotlin bytecode panel.</p>\n\n<p>What you see is the equivalent code in Java.</p>\n\n<pre><code>public final class SomeClass {\n   private int counter;\n\n   public final int getCounter() {\n      return this.counter;\n   }\n\n   public final void setCounter(int value) {\n      if(value &gt;= 0) {\n         this.counter = value;\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 7914, "user_id": 1348522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/onFKD.jpg?s=128&g=1", "display_name": "Zumry Mohamed", "link": "https://stackoverflow.com/users/1348522/zumry-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4102, "favorite_count": 1, "accepted_answer_id": 47679527, "answer_count": 4, "score": 5, "last_activity_date": 1531504546, "creation_date": 1512577505, "last_edit_date": 1512577654, "question_id": 47678991, "link": "https://stackoverflow.com/questions/47678991/kotlin-explain-me-about-backing-fields", "title": "Kotlin explain me about Backing Fields", "body": "<p>I have been looking at Kotlin official tutorial. I came across the topic called <strong>Backing Fields</strong> </p>\n\n<p>It says, </p>\n\n<blockquote>\n  <p>Classes in Kotlin cannot have fields. However, sometimes it is necessary to have a backing field when using custom accessors. For these purposes, Kotlin provides an automatic backing field which can be accessed using the field identifier:</p>\n</blockquote>\n\n<pre><code>var counter = 0 // the initializer value is written directly to the backing field\n    set(value) {\n        if (value &gt;= 0) field = value\n    }\n</code></pre>\n\n<p>I got the above from <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">this official link</a></p>\n\n<p>My question is, is the \"field\" pointing to counter variable ?</p>\n\n<p>Can someone please provide me an example for the backing field or describe me in an understanding word ?</p>\n"}, {"tags": ["spring-boot", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 3428, "user_id": 4763309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcdc984b368da4f84e8f6fe92e5308a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrkernelpanic", "link": "https://stackoverflow.com/users/4763309/mrkernelpanic"}, "edited": false, "score": 0, "creation_date": 1512573978, "post_id": 47677451, "comment_id": 82314658, "body": "I am not using kotlin and my SpringBootApplication looks a little bit different, but for me it is working..."}], "answers": [{"tags": [], "owner": {"reputation": 3428, "user_id": 4763309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcdc984b368da4f84e8f6fe92e5308a2?s=128&d=identicon&r=PG&f=1", "display_name": "mrkernelpanic", "link": "https://stackoverflow.com/users/4763309/mrkernelpanic"}, "is_accepted": true, "score": 1, "last_activity_date": 1512574161, "creation_date": 1512574161, "answer_id": 47677886, "question_id": 47677451, "link": "https://stackoverflow.com/questions/47677451/spring-boot-not-updating-static-html-with-kotlin-intellij/47677886#47677886", "title": "Spring Boot not updating static html (with Kotlin/Intellij)", "body": "<p>The general workflow that is working for me:</p>\n\n<ol>\n<li>Edit HTML</li>\n<li>Press Build Project (Ctr+F9) in IntelliJ, then wait until changes completed</li>\n<li>Go to Browser and refresh</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 950, "user_id": 1941359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dffbd0bd86e324aff9d04907df88e8b?s=128&d=identicon&r=PG", "display_name": "AlexO", "link": "https://stackoverflow.com/users/1941359/alexo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524342630, "creation_date": 1524342630, "answer_id": 49959980, "question_id": 47677451, "link": "https://stackoverflow.com/questions/47677451/spring-boot-not-updating-static-html-with-kotlin-intellij/49959980#49959980", "title": "Spring Boot not updating static html (with Kotlin/Intellij)", "body": "<p>If you're using Spring Boot with static resources at src/main/resources/public, this can be done by add the following to application.properties:</p>\n\n<pre><code>spring.resources.static-locations[0]=file:src/main/resources/public/\nspring.resources.static-locations[1]=classpath:/public/\n</code></pre>\n\n<p>The \"file:\" makes the content update on refreshing the browser, \n<a href=\"https://github.com/spring-projects/spring-boot/issues/5133#issuecomment-374630188\" rel=\"nofollow noreferrer\">see related issue</a>.</p>\n\n<p>Alternatively, the file <a href=\"https://stackoverflow.com/questions/11747833/getting-filesystem-path-of-class-being-executed\">resource locations</a> can be <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-factory-autowire\" rel=\"nofollow noreferrer\">discovered</a> at runtime and <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/ResourceHandlerRegistration.html#addResourceLocations-java.lang.String...-\" rel=\"nofollow noreferrer\">added programmatically</a>.</p>\n\n<p>See also <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-static-content\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"http://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed2dca03b5aff568c5a3e0356001bcc?s=128&d=identicon&r=PG&f=1", "display_name": "Walt Byers", "link": "https://stackoverflow.com/users/4541862/walt-byers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1730, "favorite_count": 0, "accepted_answer_id": 47677886, "answer_count": 2, "score": 0, "last_activity_date": 1524342630, "creation_date": 1512572836, "question_id": 47677451, "link": "https://stackoverflow.com/questions/47677451/spring-boot-not-updating-static-html-with-kotlin-intellij", "title": "Spring Boot not updating static html (with Kotlin/Intellij)", "body": "<p>I built a pretty simple static content web server using Spring Boot, Kotlin and Intellij. I run my program and it properly serves my html on localhost:8080. However, if I update that html while the server is running then force reload the page in the browser my changes are never shown. I've read a bunch of things that could be the problem. Something about thymeleaf cache. Spring Boot Devtools. Intellij auto builds or something. Nothing seems to work. Maybe an extra set of eyes on my code could pick up something I'm missing.</p>\n\n<p>Here's my build.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = \"1.2.0\"\n    ext.httpcomponents_version = \"4.5.4\"\n    ext.springframework_version = \"1.5.9.RELEASE\"\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$springframework_version\"\n    }\n}\n\ngroup \"com.atomicslurry\"\nversion \"1.0\"\n\napply plugin: \"java\"\napply plugin: \"kotlin\"\napply plugin: \"spring-boot\"\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile \"org.apache.httpcomponents:httpclient:$httpcomponents_version\"\n    compile \"org.apache.httpcomponents:fluent-hc:$httpcomponents_version\"\n    compile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.2\"\n    compile \"org.springframework.boot:spring-boot-starter-thymeleaf:$springframework_version\"\n    compile \"org.springframework.boot:spring-boot-devtools:$springframework_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Here's my kotlin app main</p>\n\n<pre><code>package com.atomicslurry.sentinel\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\n\n@SpringBootApplication\nopen class App\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(App::class.java, *args)\n}\n</code></pre>\n\n<p>Finally, my static html is in src/main/resources/static</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["java", "kotlin", "hashcode", "primitive"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 3, "creation_date": 1512572554, "post_id": 47677305, "comment_id": 82313619, "body": "This is because the primtive is autoboxed to <code>Integer</code>, and then this takes over: <a href=\"https://stackoverflow.com/questions/1514910/how-to-properly-compare-two-integers-in-java\" title=\"how to properly compare two integers in java\">stackoverflow.com/questions/1514910/&hellip;</a> :)"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1512576226, "post_id": 47677305, "comment_id": 82316225, "body": "Related: <a href=\"https://stackoverflow.com/questions/15052216/how-large-is-the-integer-cache\" title=\"how large is the integer cache\">stackoverflow.com/questions/15052216/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/3131136/integers-caching-in-java\" title=\"integers caching in java\">stackoverflow.com/questions/3131136/integers-caching-in-java</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1512573396, "post_id": 47677436, "comment_id": 82314243, "body": "Thanks, clear. So I suppose regarding bytes, they all get cached.. Anyway, I do need to compare references, that&#39;s correct"}, {"owner": {"reputation": 2399, "user_id": 6073886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136a6c109e91e7df36f67e14184a2523?s=128&d=identicon&r=PG&f=1", "display_name": "OH GOD SPIDERS", "link": "https://stackoverflow.com/users/6073886/oh-god-spiders"}, "edited": false, "score": 1, "creation_date": 1512573532, "post_id": 47677436, "comment_id": 82314352, "body": "Isn&#39;t he creating an array with the values of the function <code>System.identityHashCode</code> and the problem is rather that for the non cached values that function just returns non deterministic values? <code>Integer.valueOf(System.identityHashCode(255)).equals(Integer&zwnj;&#8203;.valueOf(System.iden&zwnj;&#8203;tityHashCode(255)))</code> will almost allways return false, regardless of the use of equals."}, {"owner": {"reputation": 108229, "user_id": 179850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2c535fac79e482b71f15de561f55ca?s=128&d=identicon&r=PG", "display_name": "Gray", "link": "https://stackoverflow.com/users/179850/gray"}, "reply_to_user": {"reputation": 2399, "user_id": 6073886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/136a6c109e91e7df36f67e14184a2523?s=128&d=identicon&r=PG&f=1", "display_name": "OH GOD SPIDERS", "link": "https://stackoverflow.com/users/6073886/oh-god-spiders"}, "edited": false, "score": 0, "creation_date": 1512575603, "post_id": 47677436, "comment_id": 82315759, "body": "Duh.  Right @OHGODSPIDERS.  Fixed."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512630986, "post_id": 47677436, "comment_id": 82338115, "body": "Your <code>new Integer</code>s should be replaced by <code>Integer.valueOf</code>: <code>new Integer(100)</code> is not and can&#39;t be cached!"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512655278, "post_id": 47677436, "comment_id": 82353140, "body": "Ah, sorry, I misread your second code block. It&#39;s still not equivalent to the first one, but not the error I thought at the first glance. It should be <code>Integer i1 = Integer.valueOf(100); Integer i2 = Integer.valueOf(100); System.identityHashCode(i1) == System.identityHashCode(i2)</code>."}, {"owner": {"reputation": 108229, "user_id": 179850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2c535fac79e482b71f15de561f55ca?s=128&d=identicon&r=PG", "display_name": "Gray", "link": "https://stackoverflow.com/users/179850/gray"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512657727, "post_id": 47677436, "comment_id": 82354728, "body": "Sigh.  You aren&#39;t getting it @AlexeyRomanov.  I&#39;m trying to show that for low numbers, the objects are the same if you autobox from them.  However for large numbers they aren&#39;t so they are separate objects.  Have you looked at <code>Integer.valueOf()</code> because it does a <code>new Integer(int)</code> unless the number is within the cache range.  That&#39;s the entire point of the sample code."}, {"owner": {"reputation": 108229, "user_id": 179850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2c535fac79e482b71f15de561f55ca?s=128&d=identicon&r=PG", "display_name": "Gray", "link": "https://stackoverflow.com/users/179850/gray"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512658043, "post_id": 47677436, "comment_id": 82354969, "body": "Also @AlexeyRomanov, then a number is autoboxed, the compiler generates an <code>Integer.valueOf(int)</code> call anyway."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512715498, "post_id": 47677436, "comment_id": 82377913, "body": "I understand what it does quite well; I was saying that your answer didn&#39;t make it clear. Now it&#39;s much better."}], "tags": [], "owner": {"reputation": 108229, "user_id": 179850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b2c535fac79e482b71f15de561f55ca?s=128&d=identicon&r=PG", "display_name": "Gray", "link": "https://stackoverflow.com/users/179850/gray"}, "is_accepted": true, "score": 5, "last_activity_date": 1512670862, "last_edit_date": 1512670862, "creation_date": 1512572791, "answer_id": 47677436, "question_id": 47677305, "link": "https://stackoverflow.com/questions/47677305/system-identityhashcode-behavior-on-primitives/47677436#47677436", "title": "System.identityHashCode() behavior on primitives", "body": "<blockquote>\n  <p>However, one user case just showed me that this is valid only for values in [0, 125]</p>\n</blockquote>\n\n<p><code>System.identityHashCode(Object)</code> takes an <code>Object</code> not a primitive which means that your <code>i++</code> is auto-boxed to be an <code>Integer</code> (or <code>Long</code> or ...).  The only time that the objects will have the same identity hashcode will most likely (but not always) be when they are the same object.  As it happens, the JVM caches a small number of <code>Integer</code>s for optimization purposes meaning that the identity hashcodes of the 0 to 127 values are be the same.</p>\n\n<p>When autoboxing happens the compiler <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">generates a call to <code>Integer.valueOf(int)</code></a>.  If we look at the code for `valueOf(...) we see:</p>\n\n<pre><code>if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n    return IntegerCache.cache[i + (-IntegerCache.low)];\nreturn new Integer(i);\n</code></pre>\n\n<p>So there is a low and high cache range from which you will get a cached <em>constant</em> object that are generated when the JVM starts up.  There are JVM arguments that affect the size of the number caches.  So 127 must be within the cache range for your JVM while 128 and above are not.</p>\n\n<pre><code>// both of the 100 values gets auto-boxed to the same Integer object\nSystem.identityHashCode(100) == System.identityHashCode(100)\n</code></pre>\n\n<p>This is basically equivalent to comparing the hashcodes of the same object:</p>\n\n<pre><code>Integer i = new Integer(100);\nSystem.identityHashCode(i) == System.identityHashCode(i)\n</code></pre>\n\n<p>Once you are past the initial cached set of <code>Integer</code> values and larger ints are specified, new Integer objects will be created when they are auto-boxed and so the identity hashcodes are (most likely) no longer equal.</p>\n\n<pre><code>// by default, each of these 1000000 values gets auto-boxed to a different object\nSystem.identityHashCode(1000000) != System.identityHashCode(1000000)\n</code></pre>\n\n<p>This is basically equivalent to instantiating 2 different integers and expecting their hashcodes to be the same:</p>\n\n<pre><code>Integer i1 = new Integer(1000000);\nInteger i2 = new Integer(1000000);\nSystem.identityHashCode(i1) != System.identityHashCode(i2)\n</code></pre>\n\n<p>Note that <code>System.identityHashCode(...)</code> does <em>not</em> return unique values so it is possible (albeit unlikely) that they will generate the same value if when looking at different objects.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 47677436, "answer_count": 1, "score": 0, "last_activity_date": 1512670862, "creation_date": 1512572392, "question_id": 47677305, "link": "https://stackoverflow.com/questions/47677305/system-identityhashcode-behavior-on-primitives", "title": "System.identityHashCode() behavior on primitives", "body": "<p>In <a href=\"https://github.com/kotlin-graphics/imgui\" rel=\"nofollow noreferrer\">jvm imgui</a>, I was using </p>\n\n<p><code>System.identityHashCode(i++)</code></p>\n\n<p>where</p>\n\n<p><code>var i = 0</code></p>\n\n<p>to generate for each frame always a constant id for a given object (and so being<br>\nable to track it)</p>\n\n<p>However, one <a href=\"https://github.com/kotlin-graphics/imgui/issues/8\" rel=\"nofollow noreferrer\">user case</a> just showed me that this is valid only for values in <code>[0, 125]</code></p>\n\n<p>Trying to debug and find the bug, I ended testing this short snippet of code:</p>\n\n<pre><code>    var i = 0\n    val A = Array(256, { System.identityHashCode(i++) })\n    i = 0\n    val B = Array(256, { System.identityHashCode(i++) })\n    repeat(256) {\n        if (A[it] != B[it])\n            println(\"[$it] different, A ${A[it]}, B ${B[it]}\")\n    }\n</code></pre>\n\n<p>also with:</p>\n\n<ul>\n<li>bytes (fully working, A == B for all the 256 values)</li>\n<li>shorts (not working from 128)</li>\n<li>ints (not working from 128)</li>\n<li>longs (not working from 128)</li>\n<li>floats (not working at all)</li>\n<li>doubles (not working at all)</li>\n</ul>\n\n<p>Why is that?</p>\n\n<p>And am I safe assuming this behavior will be the coherent also on other platforms?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kapt"], "comments": [{"owner": {"reputation": 256, "user_id": 2396602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yprz.png?s=128&g=1", "display_name": "mertsimsek", "link": "https://stackoverflow.com/users/2396602/mertsimsek"}, "edited": false, "score": 0, "creation_date": 1512571671, "post_id": 47676905, "comment_id": 82312950, "body": "Do you have type converter class in your module."}, {"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "reply_to_user": {"reputation": 256, "user_id": 2396602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yprz.png?s=128&g=1", "display_name": "mertsimsek", "link": "https://stackoverflow.com/users/2396602/mertsimsek"}, "edited": false, "score": 0, "creation_date": 1512572270, "post_id": 47676905, "comment_id": 82313404, "body": "sorry I didn&#39;t get you"}, {"owner": {"reputation": 256, "user_id": 2396602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yprz.png?s=128&g=1", "display_name": "mertsimsek", "link": "https://stackoverflow.com/users/2396602/mertsimsek"}, "edited": false, "score": 0, "creation_date": 1512572376, "post_id": 47676905, "comment_id": 82313477, "body": "Do you have any <code>Room TypeConverter</code> in your project."}, {"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "reply_to_user": {"reputation": 256, "user_id": 2396602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yprz.png?s=128&g=1", "display_name": "mertsimsek", "link": "https://stackoverflow.com/users/2396602/mertsimsek"}, "edited": false, "score": 0, "creation_date": 1512572444, "post_id": 47676905, "comment_id": 82313525, "body": "no I don&#39;t have"}, {"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "reply_to_user": {"reputation": 256, "user_id": 2396602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yprz.png?s=128&g=1", "display_name": "mertsimsek", "link": "https://stackoverflow.com/users/2396602/mertsimsek"}, "edited": false, "score": 0, "creation_date": 1512577385, "post_id": 47676905, "comment_id": 82316998, "body": "@down votter, can u pls explain what did u find wrong / missing here?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1512632044, "post_id": 47676905, "comment_id": 82338627, "body": "post your build.gradle."}, {"owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1512637796, "post_id": 47676905, "comment_id": 82341613, "body": "@chandil03 I have added full build gradles in my question now."}], "answers": [{"comments": [{"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 1, "creation_date": 1581410289, "post_id": 47695041, "comment_id": 106413785, "body": "this helped me a lot"}, {"owner": {"reputation": 750, "user_id": 8943516, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7Y9x1xHIBrI/AAAAAAAAAAI/AAAAAAAAMws/ZpCHMbYYMhg/photo.jpg?sz=128", "display_name": "Alon Shlider", "link": "https://stackoverflow.com/users/8943516/alon-shlider"}, "edited": false, "score": 1, "creation_date": 1586847802, "post_id": 47695041, "comment_id": 108270806, "body": "your trully saved my life."}], "tags": [], "owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "is_accepted": true, "score": 18, "last_activity_date": 1512649220, "creation_date": 1512649220, "answer_id": 47695041, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/47695041#47695041", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>Maaan! What a silly mistake! In abstract <code>RoomDatabase</code> class, we need to declare the abstract <strong>fun</strong> returning the Dao object but I had defined abstract <strong>var</strong> there.</p>\n\n<p>So changing</p>\n\n<pre><code>abstract var cartRepositoryImpl: CartRepositoryImpl\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>abstract fun cartRepositoryImpl(): CartRepositoryImpl\n</code></pre>\n\n<p>fixed the compilation error! I overlooked this while following the stuff from a blog I admit, but still the better compile time error wouldn't have hurt!</p>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 947851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b37f514c09c6f49c73b439e1a3755697?s=128&d=identicon&r=PG", "display_name": "Magillus", "link": "https://stackoverflow.com/users/947851/magillus"}, "is_accepted": false, "score": 0, "last_activity_date": 1524596345, "creation_date": 1524596345, "answer_id": 50009045, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/50009045#50009045", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>I run into same exception when my database definition implemented <code>Closeable</code> interface.\nIt required empty override to pass that:</p>\n\n<pre><code>override fun close() {\n    super.close()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 8864205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d638f59df536e1bcba231a96f3e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "xbass", "link": "https://stackoverflow.com/users/8864205/xbass"}, "edited": false, "score": 1, "creation_date": 1595220594, "post_id": 54172012, "comment_id": 111387802, "body": "Solves mine.I did the same mistake."}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 341, "user_id": 8864205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d638f59df536e1bcba231a96f3e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "xbass", "link": "https://stackoverflow.com/users/8864205/xbass"}, "edited": false, "score": 0, "creation_date": 1595233724, "post_id": 54172012, "comment_id": 111392509, "body": "Glad that it helped you. :)"}], "tags": [], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "is_accepted": false, "score": 1, "last_activity_date": 1547404911, "creation_date": 1547404911, "answer_id": 54172012, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/54172012#54172012", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>In my case, I have added a function in the Dao layer which having no Table in it.</p>\n\n<p>Mistake: </p>\n\n<pre><code>@Dao\ninterface ProductDao {\n\n    @Insert\n    fun insert(product: Int) // Here Int can't save in Room DB\n}\n</code></pre>\n\n<p>This worked for me:</p>\n\n<pre><code>@Dao\ninterface ProductDao {\n\n    @Insert\n    fun insert(product: Product) // Here I added table instead Int\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1574528651, "creation_date": 1574528651, "answer_id": 59010105, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/59010105#59010105", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>in my case In Database Abstract class <strong>I changed var to val</strong>. like below :</p>\n\n<pre><code> abstract var noteDao: NoteDao\n</code></pre>\n\n<p>to this :</p>\n\n<pre><code>abstract val noteDao: NoteDao\n</code></pre>\n\n<p>and worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 548, "user_id": 2761923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b40822acf7533ff0440ce1f0fa749a?s=128&d=identicon&r=PG&f=1", "display_name": "Neri", "link": "https://stackoverflow.com/users/2761923/neri"}, "is_accepted": false, "score": 0, "last_activity_date": 1575456325, "creation_date": 1575456325, "answer_id": 59174149, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/59174149#59174149", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>I may be late to answer, but this is what worked for me after trying so many times and getting different errors.</p>\n\n<pre><code>implementation 'androidx.room:room-runtime:2.2.2'\nkapt 'androidx.room:room-compiler:2.2.2'\n</code></pre>\n\n<p>but in my older project I were using this </p>\n\n<pre><code>implementation 'android.arch.persistence.room:runtime:1.1.1'\nannotationProcessor 'android.arch.persistence.room:compiler:1.1.1'\n</code></pre>\n\n<p>you can give it a try</p>\n"}, {"comments": [{"owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "edited": false, "score": 0, "creation_date": 1609999470, "post_id": 60154079, "comment_id": 115996169, "body": "This goes for any interface that you aren&#39;t overriding within the abstract class"}], "tags": [], "owner": {"reputation": 516, "user_id": 2290639, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dUoG4.jpg?s=128&g=1", "display_name": "Reza Hajianpour", "link": "https://stackoverflow.com/users/2290639/reza-hajianpour"}, "is_accepted": false, "score": 1, "last_activity_date": 1581350531, "creation_date": 1581350531, "answer_id": 60154079, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/60154079#60154079", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>In my case, I had inherited the <code>Parcelable</code> class for my database. So I changed:</p>\n\n<pre><code>abstract class AppDatabase : Parcelable, RoomDatabase()\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>abstract class AppDatabase : RoomDatabase()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1373, "user_id": 6114088, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/L1oAQ.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/6114088/louis"}, "is_accepted": false, "score": 0, "last_activity_date": 1590511879, "creation_date": 1590511879, "answer_id": 62027339, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/62027339#62027339", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>It was also a silly mistake for me.</p>\n\n<p>I used </p>\n\n<pre><code>@Embedded(prefix = \"id\") val fooId: Long = 0L\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>@ColumnInfo(name = \"id\") val fooId: Long = 0L\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6599413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b3f6d71ca70b5169ba7cf811c8850d6?s=128&d=identicon&r=PG&f=1", "display_name": "Saleh", "link": "https://stackoverflow.com/users/6599413/saleh"}, "is_accepted": false, "score": 0, "last_activity_date": 1600961705, "creation_date": 1600961705, "answer_id": 64049755, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to/64049755#64049755", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>Check out the functions/Methods in your DAO, it might be that you are passing a long value where you are suppose to pass an Entity. Example:\n<code></p>\n<pre><code>@Delete\npublic void remove(long id){\n\n}\n</code></pre>\n</code>\n    instead of\n<code>\n  \n<pre><code>  @Delete \n    public void remove(IndividualEntity in)\n    {\n    \n    \n    }\n</code></pre>\n</code>\n"}], "owner": {"reputation": 3080, "user_id": 1852343, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GbRlL.jpg?s=128&g=1", "display_name": "Sandip Fichadiya", "link": "https://stackoverflow.com/users/1852343/sandip-fichadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5293, "favorite_count": 1, "accepted_answer_id": 47695041, "answer_count": 8, "score": 4, "last_activity_date": 1600961705, "creation_date": 1512571188, "last_edit_date": 1512637737, "question_id": 47676905, "link": "https://stackoverflow.com/questions/47676905/kotlin-room-java-lang-illegalargumentexception-void-cannot-be-converted-to", "title": "Kotlin + Room : java.lang.IllegalArgumentException: void cannot be converted to an Element", "body": "<p>I am trying to add Room in my project which is Java + Kotlin, but when I try to compile the project, it fails on <code>:app:kaptDebugKotlin</code> with following error:</p>\n\n<pre><code>    e: java.lang.IllegalStateException: failed to analyze: java.lang.IllegalArgumentException: void cannot be converted to an Element\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:138)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:103)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:889)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:916)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:888)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException: void cannot be converted to an Element\n    at com.google.auto.common.MoreTypes$AsElementVisitor.defaultAction(MoreTypes.java:532)\n    at com.google.auto.common.MoreTypes$AsElementVisitor.defaultAction(MoreTypes.java:527)\n    at javax.lang.model.util.SimpleTypeVisitor6.visitNoType(SimpleTypeVisitor6.java:226)\n    at com.sun.tools.javac.code.Type$JCVoidType.accept(Type.java:1736)\n    at com.google.auto.common.MoreTypes.asElement(MoreTypes.java:524)\n    at com.google.auto.common.MoreTypes.asTypeElement(MoreTypes.java:553)\n</code></pre>\n\n<p>Here are the versions I am using:</p>\n\n<pre><code>kotlin_version = '1.1.51'\nroom library version = '1.0.0'\nandroid build tool = '3.0.1'\n</code></pre>\n\n<p>below things I have added in my gradle for Room:</p>\n\n<pre><code>kapt \"com.android.databinding:compiler:3.0.1\"\n\n//Room\nimplementation \"android.arch.persistence.room:runtime:1.0.0\"\nkapt \"android.arch.persistence.room:compiler:1.0.0\"\nimplementation \"android.arch.persistence.room:rxjava2:1.0.0\"\n</code></pre>\n\n<p>I have also added <code>apply plugin: 'kotlin-kapt'</code> in my build.gradle.</p>\n\n<p>Here's how I have implemented Room Library:</p>\n\n<pre><code>RoomDatabase.kt\n\n@Database(entities = arrayOf(ProductTest::class), version = CartDatabase.DATABASE_VERSION)\nabstract class CartDatabase : RoomDatabase() {\n\n    companion object {\n        const val DATABASE_VERSION = 1\n        const val DATABASE_NAME = \"sall_customer_db\"\n    }\n\n    abstract var cartRepositoryImpl: CartRepositoryImpl\n}\n\nProductTest.kt\n@Entity\ndata class ProductTest(\n        @PrimaryKey\n        @ColumnInfo(name = \"id\")\n        var productId: Int,\n        @ColumnInfo(name = \"name\")\n        var productName: String\n)\n\nCartRepositoryImpl.kt\n@Dao\ninterface CartRepositoryImpl : CartRepository {\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    override fun addToCart(product: ProductTest): Long\n}\n</code></pre>\n\n<p>I have just coded this without using it anywhere &amp; tried to compile, but it fails. It compiles fine if I comment out the Room stuff from gradle &amp; code but fails with just the above code.</p>\n\n<p>Have already tried cleaning the project but it didn't help. Am I missing something here? Please help me out here.</p>\n\n<p><strong>Edit</strong> I created the new demo project to check &amp; I am also facing the same compilation error there. The Room related code is same as above, here I am adding the full build.gradle from my demo:</p>\n\n<p><strong>Project level gradle:</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\n\n// Versions\next {\n    support_library_version = '27.0.0'\n    play_services_version = '11.6.2'\n    retrofit_version = '2.3.0'\n    arch_components_version = '1.0.0'\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>app module's gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.abc.kotlinroomdemo\"\n        minSdkVersion 14\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    // RxJava2\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    implementation 'io.reactivex.rxjava2:rxjava:2.1.5'\n\n    //Room\n    implementation \"android.arch.persistence.room:runtime:$arch_components_version\"\n    implementation \"android.arch.persistence.room:rxjava2:$arch_components_version\"\n    kapt \"android.arch.persistence.room:compiler:$arch_components_version\"\n\n    //Dagger 2\n    //compile 'com.google.dagger:dagger-android:2.10'\n    //kapt 'com.google.dagger:dagger-android-processor:2.10'\n    //compileOnly 'com.google.dagger:dagger:2.10'\n    //implementation 'com.google.dagger:dagger:2.13'\n    //kapt 'com.google.dagger:dagger-compiler:2.13'\n    //provided 'javax.annotation:jsr250-api:1.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1512570484, "post_id": 47676611, "comment_id": 82312115, "body": "Is there any problem with <code>findViewById</code>?"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512577145, "post_id": 47676611, "comment_id": 82316852, "body": "Do you really need to do this programatically? Looks like you could do this with a recyclerview + adapter."}, {"owner": {"reputation": 635, "user_id": 5094531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e8f6153bbf8069c3d7a20417bb84f11?s=128&d=identicon&r=PG&f=1", "display_name": "Ayush Bansal", "link": "https://stackoverflow.com/users/5094531/ayush-bansal"}, "edited": false, "score": 0, "creation_date": 1512712180, "post_id": 47676611, "comment_id": 82376766, "body": "<a href=\"https://www.androidhive.info/2016/01/android-working-with-recycler-view/\" rel=\"nofollow noreferrer\">androidhive.info/2016/01/android-working-with-recycler-view</a>"}, {"owner": {"reputation": 33, "user_id": 7977992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HorAfYDYRO4/AAAAAAAAAAI/AAAAAAAAALE/gGjwnkKvuDw/photo.jpg?sz=128", "display_name": "samo", "link": "https://stackoverflow.com/users/7977992/samo"}, "edited": false, "score": 0, "creation_date": 1512733065, "post_id": 47676611, "comment_id": 82387001, "body": "Thank you, I will take a look at the recyclerview, maybe that&#39;s what I nedd."}], "answers": [{"tags": [], "owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "is_accepted": false, "score": 0, "last_activity_date": 1512730717, "creation_date": 1512730717, "answer_id": 47712966, "question_id": 47676611, "link": "https://stackoverflow.com/questions/47676611/access-buttons-from-layout-programmatically-inflated-within-another-layout/47712966#47712966", "title": "Access buttons from layout programmatically inflated within another layout", "body": "<p>replace your code </p>\n\n<pre><code>   for (item in checkitemlist) {\n            checklist_content_layout.removeAllViews()\n            val inflater = LayoutInflater.from(context)\n            val layout = inflater.inflate(io.ubivis.ier.R.layout.checklistitem_layout, null, false) as ConstraintLayout\n            layout.textView_chkitem.text = item.textSimple\n            checklist_content_layout.addView(layout)\n        }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7977992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HorAfYDYRO4/AAAAAAAAAAI/AAAAAAAAALE/gGjwnkKvuDw/photo.jpg?sz=128", "display_name": "samo", "link": "https://stackoverflow.com/users/7977992/samo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512730717, "creation_date": 1512570357, "last_edit_date": 1512573864, "question_id": 47676611, "link": "https://stackoverflow.com/questions/47676611/access-buttons-from-layout-programmatically-inflated-within-another-layout", "title": "Access buttons from layout programmatically inflated within another layout", "body": "<p>I am inflating a list of layouts <code>programmatically</code> from a xml into another layout.</p>\n\n<p>The end result looks like the following image.\n<img src=\"https://i.stack.imgur.com/21Ig0.png\" alt=\"Image\"></p>\n\n<p>The number of <strong><code>checkboxes</code></strong> is different on each run, how can i get their state and also add listeners to the image button? Ideally i want only one listener that has an id of the selected layout.</p>\n\n<p>This is the xml code.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/chk_item_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n&lt;CheckBox\n    android:id=\"@+id/checkBox_chkitem\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView_chkitem\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"24dp\"\n    android:text=\"TextView\"\n    app:layout_constraintEnd_toStartOf=\"@+id/imageButton_chkitem\"\n    app:layout_constraintStart_toEndOf=\"@+id/checkBox_chkitem\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;ImageButton\n    android:id=\"@+id/imageButton_chkitem\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:srcCompat=\"@android:drawable/stat_notify_more\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And this is how i inflate the layouts</p>\n\n<pre><code>        val checkitemlist = listOf&lt;ChecklistItem&gt;(ChecklistItem(\"Categoria\", \"conteudo\"),\n            ChecklistItem(\"Categoria\", \"conteudo\"),\n            ChecklistItem(\"Categoria\", \"conteudo\"),\n            ChecklistItem(\"Categoria\", \"conteudo\"))\n    for (item in checkitemlist) {\n        val inflater = LayoutInflater.from(context)\n        val layout = inflater.inflate(io.ubivis.ier.R.layout.checklistitem_layout, null, false) as ConstraintLayout\n        layout.textView_chkitem.text = item.textSimple\n        checklist_content_layout.addView(layout)\n    }\n</code></pre>\n"}, {"tags": ["android", "firebase", "gradle", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1512571958, "post_id": 47676267, "comment_id": 82313142, "body": "Have you tried to change the order of your dependencies ?"}], "answers": [{"tags": [], "owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1512576881, "creation_date": 1512576881, "answer_id": 47678805, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/47678805#47678805", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>i see at least 2 problems in your gradle file:</p>\n\n<ol>\n<li><p>You have a duplicated entry for \"kotlin-stdlib-jre7\" (one implementation and one compile). Remove the last one:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre></li>\n<li><p>Not using the latest versions of firebase &amp; google play services: update to firebase 11.6.2</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5069329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UNzIc.jpg?s=128&g=1", "display_name": "freshsonia", "link": "https://stackoverflow.com/users/5069329/freshsonia"}, "is_accepted": false, "score": 3, "last_activity_date": 1523966367, "creation_date": 1523966367, "answer_id": 49877511, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/49877511#49877511", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>Updating all the dependencies from the \"com.google.android.gms:\" group and also the firebase-messaging version to 15.0.0. instead of 12.0.1 fixed this issue for me.</p>\n"}, {"comments": [{"owner": {"reputation": 86, "user_id": 10921732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e29e2cffd324e297ee76bfe12495a1?s=128&d=identicon&r=PG&f=1", "display_name": "Tariq Mahmood", "link": "https://stackoverflow.com/users/10921732/tariq-mahmood"}, "edited": false, "score": 0, "creation_date": 1568690522, "post_id": 50316667, "comment_id": 102344400, "body": "Thanks @Rishabh876 implementation &#39;com.google.firebase:firebase-auth:19.0.0&#39; solved my issue."}], "tags": [], "owner": {"reputation": 1861, "user_id": 2793036, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/aiInx.jpg?s=128&g=1", "display_name": "Rishabh876", "link": "https://stackoverflow.com/users/2793036/rishabh876"}, "is_accepted": false, "score": 7, "last_activity_date": 1526218334, "creation_date": 1526218334, "answer_id": 50316667, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/50316667#50316667", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>Updating <code>com.firebaseui:firebase-ui-auth</code> to 3.3.1 fixed it for me. As the older versions (3.1.0 in my case) was not compatible with <code>com.google.firebase:firebase-messaging</code> v15</p>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 6728443, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c2f16743be505a3a163831cc20e6c32c?s=128&d=identicon&r=PG&f=1", "display_name": "Devix", "link": "https://stackoverflow.com/users/6728443/devix"}, "is_accepted": false, "score": -2, "last_activity_date": 1533443581, "creation_date": 1533443581, "answer_id": 51691403, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/51691403#51691403", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>add this solves my problem</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1645, "user_id": 1067744, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/wC6NS.jpg?s=128&g=1", "display_name": "Catalina", "link": "https://stackoverflow.com/users/1067744/catalina"}, "is_accepted": false, "score": 0, "last_activity_date": 1542544821, "creation_date": 1542544821, "answer_id": 53360977, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/53360977#53360977", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>The other thing that may happen is that you are using <code>implementation</code> instead of <code>api</code> for one of your dependencies which may conflict with another dependency in your module.</p>\n"}, {"tags": [], "owner": {"reputation": 295, "user_id": 4906136, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8-I1UBouOB4/AAAAAAAAAAI/AAAAAAAABIQ/Mbnef10OFe0/photo.jpg?sz=128", "display_name": "Rakesh Kumar", "link": "https://stackoverflow.com/users/4906136/rakesh-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1571137917, "creation_date": 1571137917, "answer_id": 58393316, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/58393316#58393316", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>Add following in gradle:-</p>\n\n<p>implementation 'com.google.firebase:firebase-auth:19.1.0'<br>\nimplementation 'com.google.android.gms:play-services-auth:17.0.0'       </p>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 2264863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SghJe.jpg?s=128&g=1", "display_name": "Pampapathi", "link": "https://stackoverflow.com/users/2264863/pampapathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1580484213, "creation_date": 1580484213, "answer_id": 60006743, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved/60006743#60006743", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>If you are using firebase-bom, then you should update to latest version. For me, after upgading to latest it started working.</p>\n\n<p>Lastest version as of now :</p>\n\n<blockquote>\n  <p><code>com.google.firebase:firebase-bom:24.5.0</code> </p>\n</blockquote>\n\n<p>You can check latest version <a href=\"https://firebase.google.com/support/release-notes/android\" rel=\"nofollow noreferrer\">HERE</a> </p>\n"}], "owner": {"reputation": 99, "user_id": 7326803, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-TBkNnEnC400/AAAAAAAAAAI/AAAAAAAAACw/c2pYWqtEX0c/photo.jpg?sz=128", "display_name": "vdeomakerz &#39;", "link": "https://stackoverflow.com/users/7326803/vdeomakerz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16800, "favorite_count": 0, "answer_count": 7, "score": 5, "last_activity_date": 1580484213, "creation_date": 1512569299, "last_edit_date": 1568697270, "question_id": 47676267, "link": "https://stackoverflow.com/questions/47676267/supertypes-of-the-following-classes-cannot-be-resolved", "title": "Supertypes of the following classes cannot be resolved", "body": "<p>I have <code>android</code> <code>app</code> in <code>kotlin</code> which is giving me this error.</p>\n\n<blockquote>\n  <p>Error: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n      class com.google.firebase.auth.FirebaseAuth, unresolved supertypes: com.google.android.gms.internal.aad</p>\n</blockquote>\n\n<p>and this </p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:compileDebugKotlin'.</p>\n</blockquote>\n\n<p>Compilation error. See log for more details</p>\n\n<p>this is my app module </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"appname\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n     implementation 'com.android.support:appcompat-v7:26.1.0'\n     implementation 'com.android.support:animated-vector-drawable:26.1.0'\n    implementation 'com.android.support:mediarouter-v7:26.1.0'\n   implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:recyclerview-v7:26.1.0'\n    implementation 'com.android.support:cardview-v7:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n\n    implementation 'com.firebaseui:firebase-ui-database:3.0.0'\n\n\n\n    //noinspection GradleCompatible,GradleCompatible\n    implementation 'com.google.android.gms:play-services:11.0.4'\n    implementation 'com.google.firebase:firebase-auth:11.0.4'\n    implementation 'com.google.firebase:firebase-database:11.0.4'\n    implementation 'com.google.firebase:firebase-storage:11.0.4'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n}\n\n repositories {\n    mavenCentral()\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>and my project gradle is this </p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.0'\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>I have <code>firebase.auth implementation</code> but still, it's showing me the error. </p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit2", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1512569585, "creation_date": 1512569585, "answer_id": 47676351, "question_id": 47675653, "link": "https://stackoverflow.com/questions/47675653/populate-spinner-with-retrofit-and-moshi/47676351#47676351", "title": "populate spinner with retrofit and moshi", "body": "<blockquote>\n  <p>is there any function to debug object/array as detail as in laravel ?</p>\n</blockquote>\n\n<p>Go through this to run your app in debug mode. <a href=\"https://developer.android.com/studio/debug/index.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/debug/index.html</a></p>\n\n<p>You can always use breakpoints to evaluate expressions while the app is running. Instead of logging put a breakpoint at this line.</p>\n\n<pre><code> val news = response.body()\n</code></pre>\n\n<p>so when you'll receive a response from server, app will stop at this point and you can check what you are getting in response in detail.</p>\n\n<blockquote>\n  <p>how to populate my json return data into spinner?</p>\n</blockquote>\n\n<p>If you are getting response from server in Json format as shown in provided link, you'll have to parse the data into a list of objects(POJO).\nAnd then you have to forward this data(maybe you'll have to iterate over list to get the required data because you have two fields in each object) into an adapter and set that adapter to your spinner. It is explained very clearly at following link.\n<a href=\"https://developer.android.com/guide/topics/ui/controls/spinner.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/controls/spinner.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1512614898, "post_id": 47677505, "comment_id": 82333160, "body": "your answer alone has given me hope. very thanks for it. i will try today and let you know the result. thank you!"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 1, "creation_date": 1512614963, "post_id": 47677505, "comment_id": 82333180, "body": "@kakashi. How are you? And don&#39;t worry it&#39;s working. I checked and verified at my end ."}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1512625950, "post_id": 47677505, "comment_id": 82336091, "body": "it works like a charm. THANK YOU! you make my day! i will try to learn the meaning of each of your code."}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1512627276, "post_id": 47677505, "comment_id": 82336564, "body": "Thank you soo much for such a greatful pleasure @kakashi. You also make my day after this complement. Please ask me whatever and whenever you need. my contact: ankitpatidar030@gmail.com"}], "tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": true, "score": 2, "last_activity_date": 1554586729, "last_edit_date": 1554586729, "creation_date": 1512573007, "answer_id": 47677505, "question_id": 47675653, "link": "https://stackoverflow.com/questions/47675653/populate-spinner-with-retrofit-and-moshi/47677505#47677505", "title": "populate spinner with retrofit and moshi", "body": "<p>Here is code for same, I modified and integrate in your code only:</p>\n\n<p><strong>\"MainActivity.kt\" class:</strong></p>\n\n<pre><code> class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var spinner: Spinner = findViewById(R.id.spinner)\n\n    val task = object : AsyncTask&lt;Void, Void, Response&lt;List&lt;ProductTypeDataResponse&gt;&gt;&gt;() {\n        override fun doInBackground(vararg params: Void): Response&lt;List&lt;ProductTypeDataResponse&gt;&gt; {\n\n            val typeAPI = RestAPI()\n            val callResponse = typeAPI.getNews()\n            val response = callResponse.execute()\n\n            return response\n\n        }\n\n        override fun onPostExecute(response: Response&lt;List&lt;ProductTypeDataResponse&gt;&gt;) {\n            if (response.isSuccessful) {\n                val news: List&lt;ProductTypeDataResponse&gt;? = response.body()\n\n                var adapter: SpinnerAdapter = SpinnerAdapter(this@MainActivity, news!!);\n\n                spinner.adapter=adapter\n\n\n               }\n        }\n    }.execute()\n}\n}\n</code></pre>\n\n<p><strong>Now Layout \"activity_main\":</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.ankitpatidar.checkkotlin.MainActivity\"&gt;\n\n&lt;Spinner\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/spinner\"&gt;&lt;/Spinner&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Now Spinner Adapter as \"SpinnerAdapter\":</strong></p>\n\n<pre><code> class SpinnerAdapter internal constructor(internal var context: Context, internal var list: List&lt;ProductTypeDataResponse&gt;) : BaseAdapter() {\noverride fun getCount(): Int {\n    return list.size\n}\n\noverride fun getItem(i: Int): Any? {\n    return null\n}\n\noverride fun getItemId(i: Int): Long {\n    return 0\n}\n\noverride fun getView(i: Int, view: View?, viewGroup: ViewGroup): View {\n    var view = view\n    if (view == null) {\n        val inflater = LayoutInflater.from(context)\n\n        view = inflater.inflate(R.layout.item, viewGroup, false)\n    }\n\n    val textView = view!!.findViewById&lt;TextView&gt;(R.id.textView)\n\n    textView.text = list[i].productType + \" \" + list[i].readable\n\n    return textView\n\n}\n}\n</code></pre>\n\n<p><strong>Spinner item layout as \"item\":</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/textView\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Now some changes in your existing files:</strong></p>\n\n<p><strong>\"ApiModel.kt\":</strong></p>\n\n<pre><code> class TypeDataResponse(\n    val children: List&lt;ProductTypeChildrenResponse&gt;\n )\n\n class ProductTypeChildrenResponse(val data: ProductTypeDataResponse)\n\n class ProductTypeDataResponse(\n    val productType: String,\n    val readable: String\n )\n</code></pre>\n\n<p><strong>\"RestAPI.kt\"</strong></p>\n\n<pre><code> class RestAPI() {\n\nprivate val tigaerApi: TigaerApi\n\ninit {\n    val retrofit = Retrofit.Builder()\n            .baseUrl(\"http://app.tigaer.id/laravel/\")\n            .addConverterFactory(MoshiConverterFactory.create())\n            .build()\n\n    tigaerApi = retrofit.create(TigaerApi::class.java)\n}\n\nfun getNews(): Call&lt;List&lt;ProductTypeDataResponse&gt;&gt; {\n    return tigaerApi.getTop()\n}\n}\n</code></pre>\n\n<p>Hence it will work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 12543189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IeS49.jpg?s=128&g=1", "display_name": "Faiz Azhar Ristya Nugraha", "link": "https://stackoverflow.com/users/12543189/faiz-azhar-ristya-nugraha"}, "is_accepted": false, "score": 0, "last_activity_date": 1581403286, "creation_date": 1581403286, "answer_id": 60163256, "question_id": 47675653, "link": "https://stackoverflow.com/questions/47675653/populate-spinner-with-retrofit-and-moshi/60163256#60163256", "title": "populate spinner with retrofit and moshi", "body": "<p>I got an idea in this post, maybe my logic can help anyone in here</p>\n\n<p>this is my JSON </p>\n\n<pre><code>{\n\"success\": 1,\n\"dataset\": [\n    {\n        \"id\": \"3\",\n        \"nama\": \"Rush\"\n    },\n    {\n        \"id\": \"5\",\n        \"nama\": \"Avanza\"\n    },\n    {\n        \"id\": \"6\",\n        \"nama\": \"Innova\"\n    },\n    {\n        \"id\": \"14\",\n        \"nama\": \"Sienta\"\n    },\n    {\n        \"id\": \"15\",\n        \"nama\": \"Alphard\"\n    },\n    {\n        \"id\": \"16\",\n        \"nama\": \"Calya\"\n    }\n],\n\"sql_duration\": 0.0013179779052734375,\n\"auth_duration\": 1.9073486328125e-6,\n\"req_duration\": 0.004480123519897461,\n\"debug_duration\": []\n}\n</code></pre>\n\n<p>this is my API Service</p>\n\n<p><strong>ApiMain.kt</strong></p>\n\n<pre><code>class ApiMain : Application(){\nprivate var BASE_URL = \"your url in here\"\n\nprivate val client = OkHttpClient().newBuilder()\n    .addInterceptor(HttpLoggingInterceptor().apply {\n        level = if (BuildConfig.DEBUG) HttpLoggingInterceptor.Level.BODY else HttpLoggingInterceptor.Level.NONE\n    })\n    .readTimeout(30, TimeUnit.SECONDS)\n    .writeTimeout(30, TimeUnit.SECONDS)\n    .build()\nprivate val retrofit = Retrofit.Builder()\n    .baseUrl(BASE_URL)\n    .client(client)\n    .addConverterFactory(GsonConverterFactory.create())\n    .build()\nval services: ApiServices = retrofit.create(ApiServices::class.java)\n}\n</code></pre>\n\n<p>and this is my API service</p>\n\n<p><strong>ApiServices.kt</strong></p>\n\n<pre><code>interface ApiServices {\n    @GET(\"yourlink\")\n    fun MerkKendaraan():Call&lt;MerkKendaraan&gt;\n}\n</code></pre>\n\n<p>and this is my model</p>\n\n<p><strong>kendaraan.kt</strong></p>\n\n<pre><code>data class MerkKendaraan(\n@SerializedName(\"success\")\n@Expose\nvar success: Int? = null,\n\n@SerializedName(\"dataset\")\n@Expose\nvar dataset: List&lt;MerkMobil&gt;? = null,\n\n@SerializedName(\"sql_duration\")\n@Expose\nvar sql_duration: String? = null,\n\n@SerializedName(\"auth_duration\")\n@Expose\nvar auth_duration: String? = null,\n\n@SerializedName(\"req_duration\")\n@Expose\nvar req_duration: String? = null\n\n)\n\ndata class MerkMobil(\n    @SerializedName(\"id\")\n    @Expose\n    var id: String? = null,\n\n    @SerializedName(\"nama\")\n    @Expose\n    var nama: String? = null\n)\n</code></pre>\n\n<p>and this is my main activity</p>\n\n<p><strong>AddKendaraan</strong></p>\n\n<pre><code>class AddKendaraan : AppCompatActivity() {\n\nprivate var merk : ArrayList&lt;MerkMobil&gt; = ArrayList()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_add_kendaraan)\n    configspinnermobil()\n}\n\nprivate fun configspinnermobil() {\n    val spinner: Spinner = findViewById(R.id.spinnerMerk)\n\n    ApiMain().services.MerkKendaraan().enqueue(object :\n        Callback&lt;MerkKendaraan&gt; {\n        override fun onResponse(call: Call&lt;MerkKendaraan&gt;, response: Response&lt;MerkKendaraan&gt;) {\n            //Tulis code jika response sukses\n            Log.d(\"data api\", \"data masuk\")\n            if(response.code() == 200){\n                    merk = response.body()?.dataset as ArrayList&lt;MerkMobil&gt;\n                var data : MutableList&lt;String&gt; = ArrayList()\n                merk.forEach {\n                    data.add(0,it.nama.toString())\n                }\n                spinner.adapter = ArrayAdapter&lt;String&gt;(this@AddKendaraan, R.layout.support_simple_spinner_dropdown_item, data)\n            }else{\n\n            }\n\n        }\n        override fun onFailure(call: Call&lt;MerkKendaraan&gt;, t: Throwable){\n            //Tulis code jika response fail\n            Toast.makeText(applicationContext, t.message, Toast.LENGTH_LONG).show()\n            Log.d(\"data api\", \"data tidak masuk\")\n\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "accepted_answer_id": 47677505, "answer_count": 3, "score": -4, "last_activity_date": 1581403286, "creation_date": 1512567322, "last_edit_date": 1512832274, "question_id": 47675653, "link": "https://stackoverflow.com/questions/47675653/populate-spinner-with-retrofit-and-moshi", "title": "populate spinner with retrofit and moshi", "body": "<p>i am beginner in android dev (both java or kotlin). I am trying to populate spinner from json with retrofit and moshi but I have no idea how to populate it into spinner. to be honest I dont know whether the return of Json data is correct or not, since Log.d() return is not detail as dump() laravel or php.</p>\n\n<p>script in activity onCreate (Please read the comment of the script, i put debug result of <code>Log.d()</code> there):</p>\n\n<pre><code>val task = object : AsyncTask&lt;Void, Void, Response&lt;List&lt;ProductTypeResponse&gt;&gt;&gt;() {\n        override fun doInBackground(vararg params: Void): Response&lt;List&lt;ProductTypeResponse&gt;&gt; {\n\n            val typeAPI = RestAPI()\n            val callResponse = typeAPI.getNews()\n            val response = callResponse.execute()\n\n            return response\n\n        }\n\n        override fun onPostExecute(response: Response&lt;List&lt;ProductTypeResponse&gt;&gt;) {\n            if (response.isSuccessful) {\n                val news = response.body()\n                Log.d(\"test:\", news!![0].data.toString()) //  method 'java.lang.String com.example.mockie.tigaer.api.TypeDataResponse.toString()' on a null object reference\n                Log.d(\"test:\", news!!.size.toString()) // it says 67 but the data from the url is 63 array of json object\n                Log.d(\"test:\", news!![0].toString()) // com.example.mockie.tigaer.api.ProductTypeResponse@f17fd5e\n            }\n        }\n</code></pre>\n\n<p>RestApi.kt</p>\n\n<pre><code>import retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.moshi.MoshiConverterFactory\n\nclass RestAPI() {\n\nprivate val tigaerApi: TigaerApi\n\ninit {\n    val retrofit = Retrofit.Builder()\n            .baseUrl(\"http://app.tigaer.id/laravel/\")\n            .addConverterFactory(MoshiConverterFactory.create())\n            .build()\n\n    tigaerApi = retrofit.create(TigaerApi::class.java)\n}\n\nfun getNews(): Call&lt;List&lt;ProductTypeResponse&gt;&gt; {\n    return tigaerApi.getTop()\n}\n}\n</code></pre>\n\n<p>ApiModel.kt</p>\n\n<pre><code>package com.example.mockie.tigaer.api\n\nclass ProductTypeResponse(val data: TypeDataResponse)\n\nclass TypeDataResponse(\n    val children: List&lt;ProductTypeChildrenResponse&gt;\n )\n\n class ProductTypeChildrenResponse(val data: ProductTypeDataResponse)\n\n class ProductTypeDataResponse(\n    val productType: String,\n    val readable: String\n )\n</code></pre>\n\n<p>TigaerApi.kt</p>\n\n<pre><code>import retrofit2.Call\nimport retrofit2.http.GET\nimport retrofit2.http.Query\n\ninterface  TigaerApi {\n@GET(\"api/type\")\nfun getTop(): Call&lt;List&lt;ProductTypeResponse&gt;&gt;\n}\n</code></pre>\n\n<p>return Json: <a href=\"https://jsoneditoronline.org/?id=ce90c41b859218e746e41d64eddb4c30\" rel=\"nofollow noreferrer\">https://jsoneditoronline.org/?id=ce90c41b859218e746e41d64eddb4c30</a></p>\n\n<p>so my questions are :</p>\n\n<ol>\n<li>is there any function to debug object/array as detail as in laravel ?</li>\n<li>how to populate my json return data into spinner?</li>\n</ol>\n"}, {"tags": ["spring-boot", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 6150, "user_id": 297331, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a9b8c1333a7ad0dddf85bf84e6622c3?s=128&d=identicon&r=PG", "display_name": "Niel de Wet", "link": "https://stackoverflow.com/users/297331/niel-de-wet"}, "edited": false, "score": 3, "creation_date": 1512645676, "post_id": 47675555, "comment_id": 82346976, "body": "Would the down-voter care to explain why they feel this is not a good question?"}], "answers": [{"comments": [{"owner": {"reputation": 6150, "user_id": 297331, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a9b8c1333a7ad0dddf85bf84e6622c3?s=128&d=identicon&r=PG", "display_name": "Niel de Wet", "link": "https://stackoverflow.com/users/297331/niel-de-wet"}, "edited": false, "score": 0, "creation_date": 1512573236, "post_id": 47676096, "comment_id": 82314142, "body": "Thanks for the effort. In my case I&#39;m using java.time.MonthDay, but I think it might have something to do with spring boot and the MappingJackson2HttpMessageConverter."}, {"owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "reply_to_user": {"reputation": 6150, "user_id": 297331, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a9b8c1333a7ad0dddf85bf84e6622c3?s=128&d=identicon&r=PG", "display_name": "Niel de Wet", "link": "https://stackoverflow.com/users/297331/niel-de-wet"}, "edited": false, "score": 1, "creation_date": 1512633258, "post_id": 47676096, "comment_id": 82339200, "body": "You could try to exclude all jackson-datatype* modules from project and check m.b it will help. As you see in empty project all works fine, so problem in ObjectMapper which has been configured in Spring."}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": false, "score": 0, "last_activity_date": 1512568726, "creation_date": 1512568726, "answer_id": 47676096, "question_id": 47675555, "link": "https://stackoverflow.com/questions/47675555/springboot-jackson-kotlin-data-class-field-annotations-ignored/47676096#47676096", "title": "SpringBoot + Jackson + Kotlin data class : Field annotations ignored", "body": "<p>Very strange. I check this code local, and all looks fine</p>\n\n<pre><code>data class DataView(val id: String,\n                     @get:JsonProperty(\"dayOfMonth\") val monthDay: MonthDay)\n\ndata class MonthDay(val day: Int)\n\nfun main(args: Array&lt;String&gt;) {\n    val objectMapper = ObjectMapper()\n            .registerKotlinModule()\n\n    val dataView = DataView(\"someId\", MonthDay(1))\n\n    //{\"id\":\"someId\",\"dayOfMonth\":{\"day\":1}}\n    println(objectMapper.writeValueAsString(dataView))\n}\n</code></pre>\n\n<p>It works same even if I remove <code>registerKotlinModule</code> and change from <code>@get</code> to <code>@field</code>. </p>\n"}], "owner": {"reputation": 6150, "user_id": 297331, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a9b8c1333a7ad0dddf85bf84e6622c3?s=128&d=identicon&r=PG", "display_name": "Niel de Wet", "link": "https://stackoverflow.com/users/297331/niel-de-wet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1769, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1512568726, "creation_date": 1512567037, "question_id": 47675555, "link": "https://stackoverflow.com/questions/47675555/springboot-jackson-kotlin-data-class-field-annotations-ignored", "title": "SpringBoot + Jackson + Kotlin data class : Field annotations ignored", "body": "<p>I'm using Spring Boot with Kotlin and Java8 time. Somehow the Jackson annotations on the data class fields are ignored.</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty\nimport java.time.MonthDay\n\ndata class DataView(val id: String,\n                    @get:JsonProperty(\"dayOfMonth\") val monthDay: MonthDay) {}\n</code></pre>\n\n<p>Why would these annotations be ignored? The response still contains the field name \"monthDay\".</p>\n\n<p>I know the annotation is correct, according to this discussion on <a href=\"https://discuss.kotlinlang.org/t/difference-in-serialization-of-data-class-fields/3802\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org</a>.</p>\n\n<p>I don't have any configurations that should affect this, as far as I know.</p>\n\n<p>pom contains:</p>\n\n<pre><code>...\n&lt;parent&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n...\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-afterburner&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "edited": false, "score": 0, "creation_date": 1512565997, "post_id": 47675137, "comment_id": 82309074, "body": "please share some code"}, {"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "reply_to_user": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "edited": false, "score": 0, "creation_date": 1512567008, "post_id": 47675137, "comment_id": 82309745, "body": "&#214;kay I did.. h&#246;pe s&#246;me&#246;ne can help"}], "answers": [{"comments": [{"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "edited": false, "score": 0, "creation_date": 1512567308, "post_id": 47675312, "comment_id": 82309963, "body": "Man, it wOrked with the OrderedRealmCOllecti&#246;n.. thanks a l&#246;t.. but can u tell me why? why the size in REalmresults is 0?"}, {"owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "reply_to_user": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "edited": false, "score": 1, "creation_date": 1512567549, "post_id": 47675312, "comment_id": 82310142, "body": "The result for you query is always appears as Collection of OrderedRealm objects, As the result has so many parameters out of which we get result in for mo OrderedRealmCollection not as normal list of object."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1512570741, "post_id": 47675312, "comment_id": 82312296, "body": "<code>Realm.getDefaultInstance().where(</code> that&#39;s not good, now you can never close the Realm instance"}, {"owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "edited": false, "score": 1, "creation_date": 1512623878, "post_id": 47675312, "comment_id": 82335382, "body": "You can close your instance after transaction. i have created it as simple demo."}], "tags": [], "owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "is_accepted": true, "score": 2, "last_activity_date": 1512567588, "last_edit_date": 1512567588, "creation_date": 1512566385, "answer_id": 47675312, "question_id": 47675137, "link": "https://stackoverflow.com/questions/47675137/realmresults-size-is-returning-zero/47675312#47675312", "title": "RealmResults size is returning Zero", "body": "<p>Try this as you are fetching all records from db</p>\n\n<pre><code>var mResults:OrderedRealmCollection&lt;Drop&gt; = Realm.getDefaultInstance().where(Drop::class.java).findAll()\n</code></pre>\n\n<p>Please define Drop class with empty constructor.</p>\n\n<p>Please remove below code from activity and paste them in your application class</p>\n\n<pre><code>  //region initialise Realm for application\n    Realm.init(this)\n    //endregion\n\n    //region creating realm config\n    val realmConfig:RealmConfiguration = RealmConfiguration.Builder()\n            .name(\"kotlin_demo.realm\")\n            .deleteRealmIfMigrationNeeded()\n            .build()\n    //endregion\n\n    //region for development purpose getting new realm db each time\n    Realm.deleteRealm(realmConfig)\n\n    Realm.setDefaultConfiguration(realmConfig)\n    //endregion\n</code></pre>\n\n<p>in kotlin no need to define the getter setter methods for Drop class so remove that</p>\n"}], "owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 47675312, "answer_count": 1, "score": 2, "last_activity_date": 1512567588, "creation_date": 1512565872, "last_edit_date": 1512566854, "question_id": 47675137, "link": "https://stackoverflow.com/questions/47675137/realmresults-size-is-returning-zero", "title": "RealmResults size is returning Zero", "body": "<p>I have  a little problem, and I couldn't find any results. Yes I did some researches too. </p>\n\n<p>I have a variable mResults = RealmResults &lt; Drop > ;</p>\n\n<p>and this has Data as you can see in the picture below</p>\n\n<p><a href=\"https://i.stack.imgur.com/v2oys.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2oys.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But when I type >>mResults.size&lt;&lt; it returns 0. \nWhat could the problem be? btw. Im working in Android using kotlin.  </p>\n\n<p>The pr\u00f6blem is in the Recyclerview getItemC\u00f6unt</p>\n\n<p>ActivityMain::::</p>\n\n<pre><code>Realm.init(this)\n        val configuration = RealmConfiguration.Builder().build()\n        Realm.setDefaultConfiguration(configuration)\n    mRealm = Realm.getDefaultInstance()\n            val results:RealmResults&lt;Drop&gt; = mRealm.where(Drop::class.java).findAll()\n\n            mToolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n            mRecycler = findViewById&lt;RecyclerView&gt;(R.id.rv_drops)\n            val manager = LinearLayoutManager(this)\n\n            mRecycler.layoutManager = manager\n            mRecycler.adapter = AdapterDrops(this, results)\n</code></pre>\n\n<hr>\n\n<pre><code>open class Drop : RealmObject {\nprivate var what: String? = null\n@PrimaryKey\nprivate var added: Long? = null\nprivate var whenT: Long? = null\nprivate var completed: Boolean? = null\n\nconstructor(){}\n\nconstructor(what: String, added: Long, whenT: Long, completed: Boolean) : super() {\n    this.what = what\n    this.added = added\n    this.whenT = whenT\n    this.completed = completed\n}\n\n\nfun getWhat(): String? {\n    return what\n}\n\nfun setWhat(what: String) {\n    this.what = what\n}\n\n\nfun getAdded(): Long? {\n    return added\n}\n\nfun setAdded(added: Long) {\n    this.added = added\n}\n\nfun getWhenT(): Long? {\n    return whenT\n}\n\nfun setWhenT(whenT: Long) {\n    this.whenT = whenT\n}\n\n\nfun getCompleted(): Boolean? {\n    return completed\n}\n\nfun setCompleted(completed: Boolean) {\n    this.completed = completed\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>class AdapterDrops: RecyclerView.Adapter&lt;AdapterDrops.DropHolder&gt; {\n    private var mInflater:LayoutInflater\n    private var mResults:RealmResults&lt;Drop&gt;\n    constructor(context:Context, results: RealmResults&lt;Drop&gt;){\n        mInflater = LayoutInflater.from(context)\n        mResults = results\n\n    }\n\n    override fun onBindViewHolder(holder: DropHolder?, position: Int) {\n        val drop:Drop = mResults[position]!!\n        holder!!.mTextWhat.setText(drop.getWhat())\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): DropHolder {\n        val view = mInflater.inflate(R.layout.row_drop, parent, false)\n        val holder = DropHolder(view)\n        return holder\n    }\n\n    override fun getItemCount(): Int {\n        return mResults.size   &lt;&lt;&lt;&lt;&lt; pr\u00f6blem\n    }\n\n    class DropHolder: RecyclerView.ViewHolder {\n\n\n        var mTextWhat:TextView\n        constructor(itemView: View):super(itemView){\n            mTextWhat = itemView.findViewById&lt;TextView&gt;(R.id.tv_what)\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Thanks guys. </p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512565981, "post_id": 47675033, "comment_id": 82309062, "body": "<code>o.javaClass</code>?."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512566411, "post_id": 47675033, "comment_id": 82309327, "body": "To clarify, are you asking how to do this when you&#39;re passing in an existing object instance (say <code>o: Any</code>) rather than <code>ownerClassName: String</code>?"}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512571938, "post_id": 47675033, "comment_id": 82313129, "body": "Is this Downwoting Week or something on StackOverflow?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1512572753, "post_id": 47675033, "comment_id": 82313781, "body": "Every week is downvoting week on SO ;)"}], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512566324, "post_id": 47675174, "comment_id": 82309271, "body": "What is <code>ownerClassName</code> now?"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1512567185, "post_id": 47675174, "comment_id": 82309868, "body": "please provide an (at least) brief explanation how this code works. Thanks"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512570805, "post_id": 47675174, "comment_id": 82312335, "body": "@OliverCharlesworth The name of the <code>object</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 1, "creation_date": 1512571044, "post_id": 47675174, "comment_id": 82312508, "body": "@crgarridos Edited, but really looking at the Javadoc for the methods  <code>Class#getDeclaredField</code> and for <code>Field#get</code> would give the explanation."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 7, "last_activity_date": 1512571852, "last_edit_date": 1512571852, "creation_date": 1512565970, "answer_id": 47675174, "question_id": 47675033, "link": "https://stackoverflow.com/questions/47675033/how-do-i-use-kotlin-object-by-reflection/47675174#47675174", "title": "How do I use Kotlin object by reflection", "body": "<p><code>object</code> is translated into a class with a private constructor and a static  field called <code>INSTANCE</code> where the only instance is stored when this class is loaded, so replacing <code>Class.forName(ownerClassName).newInstance()</code> with </p>\n\n<pre><code>Class.forName(ownerClassName).getDeclaredField(\"INSTANCE\").get(null)\n</code></pre>\n\n<p>should work.</p>\n\n<hr>\n\n<p>Javadoc:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-\" rel=\"noreferrer\"><code>Class#forName</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredField(java.lang.String)\" rel=\"noreferrer\"><code>Class#getDeclaredField</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>Field#get</code></a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512566524, "post_id": 47675252, "comment_id": 82309411, "body": "What do you do once you have this?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512566587, "post_id": 47675252, "comment_id": 82309449, "body": "It seems OP is wondering what the alternative to <code>newInstance</code> would be for an <code>object</code> (singleton), since you can&#39;t make a new instance. At least that&#39;s how I interpreted it. Then you would continue setting the field by using the rest of the code in the question"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512566668, "post_id": 47675252, "comment_id": 82309508, "body": "Ok, I think I interpreted the question differently (hence the downvote which I now retracted) - I assumed the OP meant an arbitrary object, rather than a Kotlin singleton object."}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1512567160, "post_id": 47675252, "comment_id": 82309852, "body": "Actualy the question was about Kotlin singleton created by &quot;object&quot; keyword as opposed to &quot;class&quot; keyword."}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1512567501, "post_id": 47675252, "comment_id": 82310113, "body": "Well, Aleksiej was first and his answer seems straightforward. And it does what was required."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1512567609, "post_id": 47675252, "comment_id": 82310189, "body": "@ssuukk the first point may be true, though it is arguably a better idea/more idiomatic to use <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\"><code>kotlin.reflect</code></a>."}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1512568564, "post_id": 47675252, "comment_id": 82310822, "body": "Can you explain why do we need seemingly unused variable &quot;instance&quot; in your answer?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512569405, "post_id": 47675252, "comment_id": 82311365, "body": "My bad, I forgot to use the reference while setting, that is fixed now"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512570850, "post_id": 47675252, "comment_id": 82312367, "body": "I agree, this is more idiomatic."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 15, "last_activity_date": 1538579591, "last_edit_date": 1538579591, "creation_date": 1512566236, "answer_id": 47675252, "question_id": 47675033, "link": "https://stackoverflow.com/questions/47675033/how-do-i-use-kotlin-object-by-reflection/47675252#47675252", "title": "How do I use Kotlin object by reflection", "body": "<p><code>KClass</code> has an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/object-instance.html\" rel=\"noreferrer\"><code>objectInstance</code></a> field:</p>\n\n<pre><code>Class.forName(ownerClassName).kotlin.objectInstance\n</code></pre>\n\n<p>This is built into Kotlin reflection.</p>\n\n<blockquote>\n  <p><strong>Returns</strong>: The instance of the object declaration, or null if this class is not an object declaration.</p>\n</blockquote>\n\n<p>This would be even nicer if <code>KClass</code> had a <code>forName</code> method, but sadly it <a href=\"https://youtrack.jetbrains.com/issue/KT-10440\" rel=\"noreferrer\">does not</a> (yet), so we need to instead get the (Java) <code>Class</code> and convert it to <code>KClass</code>.</p>\n\n<p>You can get a <code>KClass</code> instance from a <code>Class</code> by using the <code>.kotlin</code> extension property.</p>\n\n<p>Then you can continue with the rest of your code. I converted this to Kotlin's reflection library:</p>\n\n<pre><code>val kClass = Class.forName(ownerClassName).kotlin\n// Get the object OR a new instance if it doesn't exist\nval instance = kClass.objectInstance ?: kClass.java.newInstance()\n\nval member = kClass.memberProperties\n// Has to be a mutable property, otherwise we can't set it\n        .filterIsInstance&lt;KMutableProperty&lt;*&gt;&gt;()\n// Check the name\n        .filter { it.name == fieldName }\n        .firstOrNull()\n\n// Set the property\nmember?.setter?.call(instance, value)\n</code></pre>\n\n<p>Here is a working test:</p>\n\n<pre><code>object TestObject {\n    var field = 3\n}\n\nfun setValue(ownerClassName: String, fieldName: String, value: Any) {\n    val kClass = Class.forName(ownerClassName).kotlin\n    val instance = kClass.objectInstance ?: kClass.java.newInstance()\n\n    val member = kClass.memberProperties.filterIsInstance&lt;KMutableProperty&lt;*&gt;&gt;()\n            .firstOrNull { it.name == fieldName }\n\n    member?.setter?.call(instance, value)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(TestObject.field) // 3\n    setValue(\"some.package.TestObject\", \"field\", 4)\n    println(TestObject.field) // 4\n}\n</code></pre>\n"}], "owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4334, "favorite_count": 1, "accepted_answer_id": 47675252, "answer_count": 2, "score": 8, "last_activity_date": 1542486686, "creation_date": 1512565555, "question_id": 47675033, "link": "https://stackoverflow.com/questions/47675033/how-do-i-use-kotlin-object-by-reflection", "title": "How do I use Kotlin object by reflection", "body": "<p>Let's say I need to set property A given by a String in Kotlin object O given by a String by reflection. If O was a class I could do something like this (disregard it has no sense):</p>\n\n<pre><code>fun setValue(ownerClassName: String, fieldName: String, value : Any) {\n    val enclosingClass = Class.forName(ownerClassName).newInstance()\n    val enclosingClassField = enclosingClass.javaClass.getDeclaredField(fieldName)\n    enclosingClassField.isAccessible = true\n    enclosingClassField.set(enclosingClass, value)\n}\n</code></pre>\n\n<p>But how would I do it if O is an object?</p>\n"}, {"tags": ["java", "kotlin", "listener", "concurrentmodification"], "comments": [{"owner": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1512566180, "post_id": 47674962, "comment_id": 82309188, "body": "What language are you using? Java?"}, {"owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "reply_to_user": {"reputation": 4366, "user_id": 2294428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3a0k.png?s=128&g=1", "display_name": "StephaneM", "link": "https://stackoverflow.com/users/2294428/stephanem"}, "edited": false, "score": 0, "creation_date": 1512566390, "post_id": 47674962, "comment_id": 82309315, "body": "I am using Kotlin :D"}], "answers": [{"comments": [{"owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "edited": false, "score": 0, "creation_date": 1512577134, "post_id": 47676203, "comment_id": 82316842, "body": "Thank you for your reply, @hudsonb. I will just not mark it as correct yet because I wanna check if is there any other elegant way than that."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "edited": false, "score": 1, "creation_date": 1512588086, "post_id": 47676203, "comment_id": 82322943, "body": "This is how it is commonly supported. Another option you could consider would be to use a <code>CopyOnWriteArrayList</code> rather than <code>ArrayList</code>."}], "tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": true, "score": 4, "last_activity_date": 1512576995, "last_edit_date": 1512576995, "creation_date": 1512569093, "answer_id": 47676203, "question_id": 47674962, "link": "https://stackoverflow.com/questions/47674962/what-is-the-most-elegant-way-to-remove-a-listener-from-a-list-from-a-callback/47676203#47676203", "title": "What is the most elegant way to remove a listener from a list from a callback", "body": "<p>Don't iterate over <code>MyListenerList</code>, make a copy of <code>MyListenerList</code> and iterate over the copy. That way the removal can occur on <code>MyListenerList</code> without causing a <code>ConcurrentModificationException</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>ArrayList(MyListenerList).forEach { it.onRemove(n) }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MyListenerList.toArray().forEach { it.onRemove(n) }\n</code></pre>\n"}], "owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 47676203, "answer_count": 1, "score": 2, "last_activity_date": 1512576995, "creation_date": 1512565325, "last_edit_date": 1512566405, "question_id": 47674962, "link": "https://stackoverflow.com/questions/47674962/what-is-the-most-elegant-way-to-remove-a-listener-from-a-list-from-a-callback", "title": "What is the most elegant way to remove a listener from a list from a callback", "body": "<p>Suppose I have the following listener</p>\n\n<pre><code>interface MyListener {\n    fun onResult(result: Int)\n}\n</code></pre>\n\n<p>and that my class holds a list of this listener</p>\n\n<pre><code>val MyListenerList = ArrayList&lt;MyListener&gt;()\n</code></pre>\n\n<p>My doubt is: if someone that registered the listener wants to unregister it (remove it from the list) when the callback (<code>onResult</code>) is fired, what is the most elegant way to do it, having in mind that calling it directly while the list iteration is running will cause a <code>ConcurrentModificationException</code>?</p>\n"}, {"tags": ["image", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 1070, "user_id": 6731293, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e766392fdd4c84e7afe63c7fe357ae0f?s=128&d=identicon&r=PG", "display_name": "arjava", "link": "https://stackoverflow.com/users/6731293/arjava"}, "edited": false, "score": 0, "creation_date": 1549993444, "post_id": 47674672, "comment_id": 96103180, "body": "what you ask is actually good, but next time try to include the code that you have created, because stack overflow is a place to ask how things work, not to give a solution to how to make something"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "edited": false, "score": 0, "creation_date": 1512635475, "post_id": 47675247, "comment_id": 82340306, "body": "Thanks for reply, can I save the photo in the device and save filename on database, or save it in database is the best solution?"}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "edited": false, "score": 0, "creation_date": 1512635754, "post_id": 47675247, "comment_id": 82340453, "body": "You save it in device and its name in database this is best solution i think.My answer is just according to your requirement. If you want to save it in device and name in database thats also ok."}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "edited": false, "score": 0, "creation_date": 1512636321, "post_id": 47675247, "comment_id": 82340773, "body": "See my EDited Code::"}, {"owner": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "edited": false, "score": 0, "creation_date": 1512640726, "post_id": 47675247, "comment_id": 82343573, "body": "sure it&#39;s what I am looking for .. it work with me, may thanks"}], "tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": true, "score": 2, "last_activity_date": 1530951470, "last_edit_date": 1530951470, "creation_date": 1512566205, "answer_id": 47675247, "question_id": 47674672, "link": "https://stackoverflow.com/questions/47674672/kotlin-save-image-to-database/47675247#47675247", "title": "Kotlin : Save Image to database", "body": "<p>I got solution for that:</p>\n\n<p><strong>Create Database class \"DatabaseHelper.kt\":</strong></p>\n\n<pre><code> class DatabaseHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, 1) {\n\noverride fun onCreate(db: SQLiteDatabase) {\n\n    db.execSQL(\"Create Table $TABLE_NAME(ID INTEGER PRIMARY KEY AUTOINCREMENT,Category_img BLOB)\")\n\n}\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME)\n    onCreate(db)\n}\n\n\nfun insertData(Category_img: ByteArray): Boolean {\n    val db = writableDatabase\n    val cv = ContentValues()\n    cv.put(CAL_NO1, Category_img)\n\n\n    val result = db.insert(TABLE_NAME, null, cv)\n\n    return if (result .equals( -1))\n        false\n    else\n        true\n\n\n}\n\n\nfun getdata(): ByteArray {\n    val db = writableDatabase\n    val res = db.rawQuery(\"select * from \" + TABLE_NAME, null)\n\n    if (res.moveToFirst()) {\n        do {\n            return res.getBlob(0)\n        } while (res.moveToNext())\n    }\n    return byteArrayOf()\n}\n\ncompanion object {\n    private val DATABASE_NAME = \"user.db\"\n    private val TABLE_NAME = \"tbl_user\"\n    private val CAL_NO1 = \"Category_img\"\n}\n\n}\n</code></pre>\n\n<p><strong>and do code this from where you want to access Camera:</strong></p>\n\n<pre><code> class MainActivity : AppCompatActivity() {\n  var dbSq: DatabaseHelper= DatabaseHelper(this);\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n\n    val cameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    startActivityForResult(cameraIntent, 101)\n\n\n}\n\npublic override fun onActivityResult(requestcode: Int, resultcode: Int, intent: Intent) {\n    super.onActivityResult(requestcode, resultcode, intent)\n    if (resultcode == Activity.RESULT_OK) {\n        if (requestcode == 101) {\n\n\n            val photo = intent.extras!!.get(\"data\") as Bitmap\n            val stream = ByteArrayOutputStream()\n            photo.compress(Bitmap.CompressFormat.PNG, 100, stream)\n            val byteArray = stream.toByteArray()\n\n            Log.d(\"check\",dbSq.insertData(byteArray).toString().plus(\" \"));\n\n        }\n    }\n}\n</code></pre>\n\n<h2>Edited</h2>\n\n<p><strong>\"DatabaseHelper.kt\":</strong></p>\n\n<pre><code>class DatabaseHelper(context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, 1) {\n\noverride fun onCreate(db: SQLiteDatabase) {\n\n    db.execSQL(\"Create Table $TABLE_NAME(ID INTEGER PRIMARY KEY AUTOINCREMENT,Category_img Text)\")\n\n}\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME)\n    onCreate(db)\n}\n\n\nfun insertData(Category_img: String): Boolean {\n    val db = writableDatabase\n    val cv = ContentValues()\n    cv.put(CAL_NO1, Category_img)\n\n\n    val result = db.insert(TABLE_NAME, null, cv)\n\n    return if (result .equals( -1))\n        false\n    else\n        true\n\n\n}\n\n\n\n\ncompanion object {\n    private val DATABASE_NAME = \"user.db\"\n    private val TABLE_NAME = \"tbl_user\"\n    private val CAL_NO1 = \"Category_img\"\n}\n\n}\n</code></pre>\n\n<p><strong>and do code this from where you want to access Camera:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar dbSq: DatabaseHelper= DatabaseHelper(this);\n\ninternal var output: File? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n\n    val cameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n\n    val dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM)\n\n    val date = Date()\n    output = File(dir, \"CheckImage \" + date.toString()+\".jpeg\")\n\n    startActivityForResult(cameraIntent, 101)\n\n\n}\n\npublic override fun onActivityResult(requestcode: Int, resultcode: Int, intent: Intent) {\n    super.onActivityResult(requestcode, resultcode, intent)\n    if (resultcode == Activity.RESULT_OK) {\n        if (requestcode == 101) {\n\n\n\n\n\n            Log.d(\"check\",dbSq.insertData(output!!.absolutePath).toString().plus(\" \"));\n\n        }\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3300, "favorite_count": 0, "accepted_answer_id": 47675247, "answer_count": 1, "score": -2, "last_activity_date": 1530951470, "creation_date": 1512564474, "question_id": 47674672, "link": "https://stackoverflow.com/questions/47674672/kotlin-save-image-to-database", "title": "Kotlin : Save Image to database", "body": "<p>I am creating user profile in kotlin, \nI want to give the users two option (select from avatar or capture image)\nthen save profile in \"sqlite\" database  </p>\n\n<p>what is the best solution ? </p>\n\n<p>if you help me in code I will be thankful </p>\n"}, {"tags": ["android", "kotlin", "android-relativelayout"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 1, "creation_date": 1512561622, "post_id": 47673723, "comment_id": 82306369, "body": "probably <code>=RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRA&zwnj;&#8203;P_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT)</code>  then <code>param.addRule(...)</code>"}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512561812, "post_id": 47673723, "comment_id": 82306476, "body": "i know but in kotlin how can i declare it .. thats what i want"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512561949, "post_id": 47673723, "comment_id": 82306561, "body": "declare it where?, you can show your java code the way you want it in kotlin"}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512562082, "post_id": 47673723, "comment_id": 82306651, "body": "sorry friend i am directly  coding in kotlin not in java ."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512562171, "post_id": 47673723, "comment_id": 82306696, "body": "<code>how can i declare it .. thats what i want</code> please explain?"}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512562334, "post_id": 47673723, "comment_id": 82306787, "body": "means i want declare <code>param</code> variable  as <code>Layoutparams</code>. and want to set in <code>textview</code>"}, {"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512562371, "post_id": 47673723, "comment_id": 82306805, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160611/discussion-between-divyesh-kalotra-and-pavneet-singh\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 7455793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec0ec8ec5dfa2d5d59ce47d85ccf8c4?s=128&d=identicon&r=PG&f=1", "display_name": "ChandraShekhar Kaushik", "link": "https://stackoverflow.com/users/7455793/chandrashekhar-kaushik"}, "is_accepted": false, "score": 1, "last_activity_date": 1512562932, "creation_date": 1512562932, "answer_id": 47674212, "question_id": 47673723, "link": "https://stackoverflow.com/questions/47673723/relative-layout-params-in-kotlin/47674212#47674212", "title": "Relative layout params in kotlin", "body": "<pre><code>    lateinit var r1: RelativeLayout\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n       r1= RelativeLayout(this)\n       var rlp : RelativeLayout.LayoutParams = RelativeLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.MATCH_PARENT)\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 0, "creation_date": 1512566739, "post_id": 47674716, "comment_id": 82309572, "body": "Thanku soo much divyesh"}], "tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": true, "score": 5, "last_activity_date": 1512564580, "creation_date": 1512564580, "answer_id": 47674716, "question_id": 47673723, "link": "https://stackoverflow.com/questions/47673723/relative-layout-params-in-kotlin/47674716#47674716", "title": "Relative layout params in kotlin", "body": "<p>It work for me::</p>\n\n<pre><code>    var  param: RelativeLayout.LayoutParams = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,100);\n    param.setMargins(500,12,0,0)\n    val i:Int=1\n    var temp : TextView = TextView(this);\n    temp.id=i\n    temp.layoutParams = param ;\n    temp.text= \"TextView\\nadfadsfasdfadsfasdf\\nadfadsfasdfa\\nadfadsfasdf\"+i\n    Log.e(ContentValues.TAG, \"onCreate: \" + i)\n</code></pre>\n\n<p>See here ouput Generated by it: <a href=\"https://i.stack.imgur.com/GqnZd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GqnZd.png\" alt=\"Output of Above code\"></a></p>\n\n<p>Thanks and let me know if you need more.</p>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1586805613, "post_id": 47674739, "comment_id": 108258047, "body": "Nice and simple, just like how we used to do it in java. Thanks"}], "tags": [], "owner": {"reputation": 272, "user_id": 5400569, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/GIAAp.jpg?s=128&g=1", "display_name": "BarmanInfo", "link": "https://stackoverflow.com/users/5400569/barmaninfo"}, "is_accepted": false, "score": 1, "last_activity_date": 1512564655, "creation_date": 1512564655, "answer_id": 47674739, "question_id": 47673723, "link": "https://stackoverflow.com/questions/47673723/relative-layout-params-in-kotlin/47674739#47674739", "title": "Relative layout params in kotlin", "body": "<pre><code>var view: RelativeLayout =RelativeLayout(this)\nview.layoutParams= RelativeLayout.LayoutParams(25,25)\n</code></pre>\n\n<p>Try This one ... </p>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 1132117, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/krC0e.jpg?s=128&g=1", "display_name": "MRT", "link": "https://stackoverflow.com/users/1132117/mrt"}, "is_accepted": false, "score": 0, "last_activity_date": 1567702491, "last_edit_date": 1567702491, "creation_date": 1548162066, "answer_id": 54308883, "question_id": 47673723, "link": "https://stackoverflow.com/questions/47673723/relative-layout-params-in-kotlin/54308883#54308883", "title": "Relative layout params in kotlin", "body": "<p>This is Working for me </p>\n\n<pre><code>var tempSnack = Snackbar.make(view,\"Your Text Here\", Snackbar.LENGTH_LONG)\n            var tempview = tempSnack.view\n            var params = FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,FrameLayout.LayoutParams.WRAP_CONTENT)\n            params.gravity = Gravity.TOP\n            tempview.layoutParams = params\n            tempSnack.show()\n</code></pre>\n"}], "owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10148, "favorite_count": 0, "accepted_answer_id": 47674716, "answer_count": 4, "score": 2, "last_activity_date": 1567702491, "creation_date": 1512561351, "question_id": 47673723, "link": "https://stackoverflow.com/questions/47673723/relative-layout-params-in-kotlin", "title": "Relative layout params in kotlin", "body": "<p>I am trying to set <code>relative layout params</code> programmatically. I can set <code>params</code> using java but not know how to accomplish using <strong>kotlin</strong>. So what I have tried is as follows :</p>\n\n<p><strong>MainActivity class</strong></p>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n\n    lateinit var context : Context\n    override fun onCreate(savedInstanceState: android.os.Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        context=this\n        asdasd.text=\"finaly done\";\n   var  param:RelativeLayout.LayoutParams =//don't know what to do here\n            val i:Int=1\n            var temp :TextView = TextView(this);\n            temp.id=i              \n            temp.layoutParams = param ;\n            temp.text= \"TextView\"+i\n            Log.e(ContentValues.TAG, \"onCreate: \" + i)\n\n\n    }\n}\n</code></pre>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512560532, "post_id": 47673394, "comment_id": 82305728, "body": "If the plugin was compiled for Java8, then this is expected.  (I&#39;m curious - what aspect of your build system <i>requires</i> Java7?)"}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512560775, "post_id": 47673394, "comment_id": 82305849, "body": "@OliverCharlesworth old code base"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512560845, "post_id": 47673394, "comment_id": 82305898, "body": "But a Java8 JDK ought to be compatible with a Java7 codebase."}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512560955, "post_id": 47673394, "comment_id": 82305967, "body": "@OliverCharlesworth should be, but then I wouldn&#39;t catch my code calling java 8 libs accidentally."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1512561041, "post_id": 47673394, "comment_id": 82306017, "body": "You can ask Gradle to set the <a href=\"https://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility\">compilation target to Java 7</a>."}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512561443, "post_id": 47673394, "comment_id": 82306250, "body": "<code>You can ask Gradle to set the compilation target to Java 7</code> Yes, but it won&#39;t make <code>SecureRandom.getInstanceStrong()</code> compile error."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512561504, "post_id": 47673394, "comment_id": 82306296, "body": "In addition to what @OliverCharlesworth suggested: Kotlin compiles the bytecode for the JVM 6 target by default. You can <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-jvm\" rel=\"nofollow noreferrer\">point the Kotlin compiler to the JDK 7</a> with the <code>jdkHome</code> option."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1512561717, "post_id": 47673394, "comment_id": 82306423, "body": "It causes a compilation error for me :/"}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "edited": false, "score": 0, "creation_date": 1512563683, "post_id": 47673394, "comment_id": 82307554, "body": "<code>It causes a compilation error for me :&#47;</code> interesting. I will try it tonight."}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "edited": false, "score": 0, "creation_date": 1512570934, "post_id": 47673394, "comment_id": 82312426, "body": "I&#39;ve just tried it myself and it compiles, incorrectly. <code>SecureRandom.getInstanceStrong()</code>. I think it was explained by answer <a href=\"https://stackoverflow.com/a/22326989/887290\">stackoverflow.com/a/22326989/887290</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "is_accepted": true, "score": 4, "last_activity_date": 1512573188, "creation_date": 1512573188, "answer_id": 47677571, "question_id": 47673394, "link": "https://stackoverflow.com/questions/47673394/is-it-possible-to-run-kotlin-grade-plugin-using-jdk-7/47677571#47677571", "title": "Is it possible to run kotlin grade plugin using jdk 7", "body": "<p>After hours of research, I finally found this post:</p>\n\n<p><a href=\"https://blog.jetbrains.com/kotlin/2017/04/kotlin-1-1-2-is-out/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2017/04/kotlin-1-1-2-is-out/</a></p>\n\n<blockquote>\n  <p>The Kotlin compiler now requires JDK 8 to run. You shouldn\u2019t notice\n  any changes, because most other Java development tools such as Gradle\n  and the Android toolchain also require JDK 8, so you almost certainly\n  already have it installed. For code generated by the compiler, Java\n  1.6 compatibility is still the default, and we have no plans to drop support for generating Java 1.6 compatible bytecode.</p>\n</blockquote>\n\n<p>So, the answer is no.</p>\n"}], "owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 47677571, "answer_count": 1, "score": 1, "last_activity_date": 1512573304, "creation_date": 1512560308, "last_edit_date": 1512573304, "question_id": 47673394, "link": "https://stackoverflow.com/questions/47673394/is-it-possible-to-run-kotlin-grade-plugin-using-jdk-7", "title": "Is it possible to run kotlin grade plugin using jdk 7", "body": "<p>My project uses jdk 7 for compatibility reasons.</p>\n\n<p>bottom portion of <code>build.gradle</code></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.0'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>When I use jdk 7 for gradle, I get this:</p>\n\n<pre><code>java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/gradle/KotlinGradleModel : Unsupported major.minor version 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:270)\n    at org.gradle.tooling.internal.provider.serialization.DefaultPayloadClassLoaderRegistry$2.resolveClass(DefaultPayloadClassLoaderRegistry.java:91)\n    at org.gradle.tooling.internal.provider.serialization.WellKnownClassLoaderRegistry$2.resolveClass(WellKnownClassLoaderRegistry.java:91)\n    at org.gradle.tooling.internal.provider.serialization.PayloadSerializerObjectInputStream.readClass(PayloadSerializerObjectInputStream.java:66)\n  ... cut\n</code></pre>\n\n<p>If I switch to jdk 8 for running grade while project jdk is still jdk7, the build succeed. Is this expected behaviour?</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1518091304, "post_id": 47701934, "comment_id": 84367197, "body": "companion object is still an object, so what you say about &quot;static dispatch instead of a virtual method dispatch&quot; is not true. @JvmStatic creates a static method, that calls an instance method on the companion object. There&#39;s no way to use static provides in a Kotlin-only codebase, as far as I know. Either you have to make the module in Java, or the component in Java."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 2, "creation_date": 1518115000, "post_id": 47701934, "comment_id": 84383298, "body": "@arekolek You&#39;re right that the companion object is implemented in Kotlin as a Singleton, and that an instance call is necessary in Kotlin. (I hadn&#39;t know that.) On the other hand, Kotlin handles that <code>static</code> indirection transparently, while Dagger will see a <code>@Provides</code> instance method and assume that <i>each Component instance</i> needs to keep an instance of the Module regardless of what Kotlin does behind the scenes. Also, if Kotlin&#39;s generated instance method is <code>final</code>, it will <i>still</i> translate into static dispatch even if it&#39;s on an instance method. (I&#39;d need to dig in to the bytecode.)"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1518235841, "post_id": 47701934, "comment_id": 84433502, "body": "Hmm, it makes sense that a <code>static</code> method calling a <code>final</code> method on an object kept in a <code>static final</code> field could be optimized by the compiler, although this is the first time I hear about it. Methods are <code>final</code> by default in Kotlin and they can&#39;t be made <code>open</code> in <code>object</code>s, I checked the bytecode and it&#39;s <code>final</code> indeed. Can you point me to some documentation that says no virtual method call happens in this scenario?"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1518236460, "post_id": 47701934, "comment_id": 84433602, "body": "By the way, it seems that you have to annotate the <code>companion object</code> with <code>@Module</code>, just to make dagger-compiler happy. Also, <code>providesContext</code> should be declared abstract, to make Kotlin happy."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1518236512, "post_id": 47701934, "comment_id": 84433617, "body": "@arekolek Because the method call goes to a <code>final</code> method, there is no other possible implementation, so <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.3.3\" rel=\"nofollow noreferrer\">JLS 8.4.3.3</a> allows that &quot;at run time, a machine-code generator or optimizer can &#39;inline&#39; the body of a <code>final</code> method, replacing an invocation of the method with the code in its body.&quot; To be fair, <a href=\"https://stackoverflow.com/q/4279420/1426891\">this SO answer</a> rebuts that, saying that the Hotspot VM will optimize pre-emptively and undo if an override is found. I don&#39;t know offhand what Dalvik and ART do."}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1571311534, "post_id": 47701934, "comment_id": 103203530, "body": "what is @ActivityContext here?"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1571388198, "post_id": 47701934, "comment_id": 103232306, "body": "@JeffBowman thanks, however it seems to me you are assigning this qualifier to an object of type <code>Context</code> and then using it to reference <code>Activity</code> objects in your companion object, did I miss something here?"}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1571405169, "post_id": 47701934, "comment_id": 103241317, "body": "@GabrielSanmartin Each use of a qualifier is independent; there&#39;s no &quot;assignment&quot;. It&#39;s more difficult to read in Kotlin, because the return values come at the end of the line instead of the beginning, but the point is that the top <code>@Binds</code> method returns the Activity whenever you inject an <code>@ActivityContext Context</code>, not a bare <code>Context</code> and not an <code>@ApplicationContext</code>. Similarly for LayoutInflator etc: Those bindings are only accessible if you inject <code>@ActivityContext LayoutInflator</code> etc. The qualifier is part of the key. See <a href=\"https://dagger.dev/users-guide.html#qualifiers\" rel=\"nofollow noreferrer\">the docs</a>."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1592497856, "post_id": 47701934, "comment_id": 110453824, "body": "I edited the answer because since <a href=\"https://github.com/google/dagger/releases/tag/dagger-2.26\" rel=\"nofollow noreferrer\">Dagger 2.26</a> we don&#39;t need <code>@Module</code> on <code>companion object</code> and <code>@JvmStatic</code> on the functions in it"}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1592501272, "post_id": 47701934, "comment_id": 110455562, "body": "@arekolek Thank you! I appreciate your edit. I&#39;ll add a note to the text linking to the previous version, just in case any future readers are stuck on an older version of Dagger, but I&#39;ll leave the code snippet with your changes."}], "tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 6, "last_activity_date": 1592501688, "last_edit_date": 1592501688, "creation_date": 1512673002, "answer_id": 47701934, "question_id": 47671151, "link": "https://stackoverflow.com/questions/47671151/dagger-2-contributesandroidinjector-provide-activity-to-module/47701934#47701934", "title": "Dagger 2 ContributesAndroidInjector provide activity to module", "body": "<p>One way to minimize the boilerplate is to make a generic ActivityModule and then create a small specific Module per Activity.</p>\n\n<pre><code>// Abstract class so you don't have to provide an instance\n@Module\nabstract class ActivityModule {\n\n    // No need for ActivityScope: You're always binding to the same Activity, so\n    // there's no reason to have Dagger save your Context instance in a Provider.\n    @Binds @ActivityContext\n    abstract fun providesContext(activity: Activity): Context\n\n    // This doesn't *have* to be in a companion object, but that way\n    // Android can do a static dispatch instead of a virtual method dispatch.\n    // If you don't need that, just skip the constructor arguments and make these\n    // normal methods and you'll be good to go.\n    companion object {\n        @Provides @ActivityContext\n        fun providesLayoutInflater(activity: Activity): LayoutInflater = \n            activity.layoutInflater\n\n        @Provides @ActivityContext\n        fun providesResources(activity: Activity): Resources = activity.resources\n    }\n}\n</code></pre>\n\n<p>(In Dagger versions earlier than 2.26, you may need to add @Module on your companion object and @JvmStatic on your @Provides methods as in <a href=\"https://stackoverflow.com/revisions/47701934/3\">this previous revision</a>. Since <a href=\"https://github.com/google/dagger/releases/tag/dagger-2.26\" rel=\"nofollow noreferrer\">Dagger 2.26</a> in in January 2020, those are not necessary. Thanks arekolek!)</p>\n\n<p>And your module:</p>\n\n<pre><code>@Module\ninternal abstract class AppActivityModule {\n\n    @Module\n    internal interface WelcomeActivityModule {\n      // The component that @ContributesAndroidInjector generates will bind\n      // your WelcomeActivity, but not your Activity. So just connect the two,\n      // and suddenly you'll have access via injections of Activity.\n      @Binds fun bindWelcomeActivity(activity: WelcomeActivity) : Activity\n    }\n\n    @ContributesAndroidInjector(\n        modules = [ActivityModule::class, WelcomeActivityModule::class])\n    abstract fun contributeWelcomeActivityInjector(): WelcomeActivity\n}\n</code></pre>\n\n<p>Note that though this works for Activity, Service, BroadcastReceiver, and others, you might not want to be so quick about it for Fragment. This is because dagger.android handles fragment hierarchies with parent fragments, so from within a child component you might have access to YourApplication, YourActivity, YourParentFragment, and YourChildFragment, and all of their components. If something in YourChildFragmentComponent depends on an unqualified Fragment, it would be ambiguous whether it really wants YourParentFragment or YourChildFragment. That said, this design does make sense for Activities and certain Fragments, so it makes sense to use it (cautiously).</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> What is <code>@ActivityContext</code> doing here?</p>\n\n<p><code>@ActivityContext</code> here is a <a href=\"http://javax-inject.github.io/javax-inject/api/javax/inject/Qualifier.html\" rel=\"nofollow noreferrer\">qualifier annotation</a> you'd define, which you can use to distinguish bindings of the same type in Dagger and other DI framework, presumably <code>@ApplicationContext Context</code> vs <code>@ActivityContext  Context</code>. It would work to leave it out to try it, but I heavily recommend keeping it and avoiding binding an unqualified Context: Application and Activity contexts may be different, particularly in multi-screen or auto environments, and to get the right resources and data you should be precise about which you use. You can use <a href=\"https://github.com/MindorksOpenSource/android-dagger2-example/blob/master/app/src/main/java/com/mindorks/example/android_dagger2_example/di/ActivityContext.java\" rel=\"nofollow noreferrer\">this one</a> as an example.</p>\n"}], "owner": {"reputation": 1671, "user_id": 1346390, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a4cac5a426146b5ec3d44fcd9a0854fe?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/1346390/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2764, "favorite_count": 5, "accepted_answer_id": 47701934, "answer_count": 1, "score": 11, "last_activity_date": 1592501688, "creation_date": 1512553436, "question_id": 47671151, "link": "https://stackoverflow.com/questions/47671151/dagger-2-contributesandroidinjector-provide-activity-to-module", "title": "Dagger 2 ContributesAndroidInjector provide activity to module", "body": "<p>I'm trying to figure out a less-boilerplate-y way to implement an <code>ActivityModule</code> that is used in all of my app activities. This is my current setup:</p>\n\n<p><strong>ActivityModule</strong>:</p>\n\n<pre><code>@Module\nclass ActivityModule(private val activity: Activity) {\n\n    @Provides @ActivityScope\n    fun providesActivity(): Activity = activity\n\n    @Provides @ActivityContext @ActivityScope\n    fun providesContext(): Context = activity\n\n    @Provides @ActivityContext @ActivityScope\n    fun providesLayoutInflater(): LayoutInflater = activity.layoutInflater\n\n    @Provides @ActivityContext @ActivityScope\n    fun providesResources(): Resources = activity.resources\n\n}\n</code></pre>\n\n<p><strong>AppActivityModule</strong>(provides activities for AndroidInjectionModule)</p>\n\n<pre><code>@Module(subcomponents = [\n        AppActivityModule.WelcomeActivityComponent::class\n    ])\n    internal abstract class AppActivityModule {\n\n        @Binds \n        @IntoMap \n        @ActivityKey(WelcomeActivity::class)\n        abstract fun bindWelcomeActivityInjectorFactory(builder: WelcomeActivityComponent.Builder): AndroidInjector.Factory&lt;out Activity&gt;\n\n        @ActivityScope\n        @Subcomponent(modules = [(ActivityModule::class)])\n        interface WelcomeActivityComponent : AndroidInjector&lt;WelcomeActivity&gt; {\n        @Subcomponent.Builder abstract class Builder : AndroidInjector.Builder&lt;WelcomeActivity&gt;() {\n            abstract fun activityModule(myActivityModule: ActivityModule): AndroidInjector.Builder&lt;WelcomeActivity&gt;\n\n            override fun seedInstance(instance: WelcomeActivity) {\n                activityModule(ActivityModule(instance))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>What I want AppActivityModule to be instead is:</p>\n\n<pre><code>@Module\ninternal abstract class AppActivityModule {\n    @ContributesAndroidInjector(modules = [(ActivityModule::class)])\n    abstract fun contributeWelcomeActivityInjector(): WelcomeActivity\n}\n</code></pre>\n\n<p>But this, quite understandbly, gives me an error <code>/di/AppActivityModule_ContributeWelcomeActivityInjector.java:29: error: @Subcomponent.Builder is missing setters for required modules or subcomponents: [...di.modules.ActivityModule]</code></p>\n\n<p>My question is - is there a less boilerplate-y way to achieve what I'm trying to do? I know about <code>@Bind</code> and <code>@BindsInstance</code> (from <a href=\"https://stackoverflow.com/a/43867110/1346390\">this answer</a>) but this seems to only work if I have a module-per activity and bind the concrete activity type which I don't want in this case - I want <code>ActivityModule</code> to work with all activities.</p>\n"}, {"tags": ["android", "kotlin", "progressdialog"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512553680, "post_id": 47671092, "comment_id": 82301234, "body": "Ok wait let me try this"}, {"owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512554958, "post_id": 47671092, "comment_id": 82302104, "body": "not working can u please tell me how to call show and dismiss method in actvity @savepopulation"}, {"owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512557764, "post_id": 47671092, "comment_id": 82304038, "body": "can u please give me Complete class  with Singlton in @savepopulation i am not able to change it coz i am new in kotlin"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512560656, "post_id": 47671092, "comment_id": 82305784, "body": "No need for the null check btw. m_Dialog is already defined as a non-null reference"}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "reply_to_user": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512564863, "post_id": 47671092, "comment_id": 82308324, "body": "@DevenDcostra i think for showing / dismissing you should not use singleton pattern. You can check kotlin extensions for these kind of tasks."}], "tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": false, "score": 1, "last_activity_date": 1512564007, "last_edit_date": 1512564007, "creation_date": 1512553252, "answer_id": 47671092, "question_id": 47670998, "link": "https://stackoverflow.com/questions/47670998/unable-to-dismiss-progress-dialog-using-dismiss-method-in-android/47671092#47671092", "title": "unable to dismiss Progress dialog using dismiss method in android", "body": "<p>When you call your dismiss fun you create a new unshown dialog and trying to dismiss it.</p>\n\n<p>Here i modified your dismiss func. I think this'll help you.g</p>\n\n<pre><code>fun dismiss() {\n    if(m_Dialog.isShowing){\n        m_Dialog.dismiss()\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Oh sorry i did not check your singleton pattern. When you call <code>CShowProgress(this)</code> you create a new instance of your class so you cannot dismiss previous ones dialogs.</p>\n\n<p>You can create a <code>Singleton</code> like below:</p>\n\n<pre><code>companion object {\n    lateinit var instance: CShowProgress\n        private set\n}\n</code></pre>\n\n<p>And init like this:</p>\n\n<pre><code>instance = CShowProgress(context)\n</code></pre>\n\n<p>And use show dialog like this:</p>\n\n<pre><code>CShowProgress.instance.show(context,message)\n</code></pre>\n\n<p>And dimiss it like this:</p>\n\n<pre><code>CShowProgress.instance.dismiss()\n</code></pre>\n\n<p>But i think if you refactor code like this, you'll still face another issue i explained below.</p>\n\n<p>Also when you show a new dialog you loose reference to your old dialog so you cannot dismiss it. Basicly you're creating n dialog but only hold reference to your last created dialog. So you cannot dismiss previous ones. So if you go on like this you can dismiss your previous dialog if exists before showing a new one. But this pattern is hard to manage multiple alert dialogs so i suggest you to change it.</p>\n\n<pre><code>fun show(m_Context: Context, message: String) {\n        if(m_Dialog.isShowing){\n            m_Dialog.dismiss()\n        }\n        m_Dialog = Dialog(m_Context)\n        m_Dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        m_Dialog.setContentView(R.layout.progress_bar)\n        m_ProgressBar = m_Dialog.findViewById(R.id.progressBar_cyclic)\n        m_ProgressBar!!.visibility = View.VISIBLE\n        m_ProgressBar!!.isIndeterminate = true\n        m_Dialog.setCancelable(false)\n        m_Dialog.setCanceledOnTouchOutside(false)\n        m_Dialog.show()\n    }\n</code></pre>\n\n<p>Finally passing <code>Activity</code> <code>context</code> to a singleton object and do not clear when activity <code>onDestroy</code> will cause memory leaks.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512554740, "post_id": 47671400, "comment_id": 82301979, "body": "wait let me try this then i will tell its working or not"}, {"owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "edited": false, "score": 0, "creation_date": 1512554940, "post_id": 47671400, "comment_id": 82302088, "body": "not working can u please tell me how to call show and dismiss method in actvity @Nikhil Jadhav"}], "tags": [], "owner": {"reputation": 1583, "user_id": 4928861, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xkToDsWabVw/AAAAAAAAAAI/AAAAAAAAADQ/iBDkKaCKnsU/photo.jpg?sz=128", "display_name": "Nikhil Jadhav", "link": "https://stackoverflow.com/users/4928861/nikhil-jadhav"}, "is_accepted": false, "score": 1, "last_activity_date": 1512555599, "last_edit_date": 1512555599, "creation_date": 1512554206, "answer_id": 47671400, "question_id": 47670998, "link": "https://stackoverflow.com/questions/47670998/unable-to-dismiss-progress-dialog-using-dismiss-method-in-android/47671400#47671400", "title": "unable to dismiss Progress dialog using dismiss method in android", "body": "<p>Please try this </p>\n\n<pre><code>class CShowProgress(context: Context) {\n     var s_m_oCShowProgress: CShowProgress? = null\n     lateinit var m_Dialog: Dialog\n     private var m_ProgressBar: ProgressBar? = null\n     private var progressText: TextView? = null\n\nfun getInstance(): CShowProgress {\n    if (s_m_oCShowProgress == null) {\n        s_m_oCShowProgress = CShowProgress(context!!)\n    }\n    return s_m_oCShowProgress as CShowProgress\n}\n\nfun show(m_Context: Context, message: String) {\n    m_Dialog = Dialog(m_Context)\n    m_Dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n    m_Dialog.setContentView(R.layout.progress_bar)\n    m_ProgressBar = m_Dialog.findViewById(R.id.progressBar_cyclic)\n    m_ProgressBar!!.visibility = View.VISIBLE\n    m_ProgressBar!!.isIndeterminate = true\n    m_Dialog.setCancelable(false)\n    m_Dialog.setCanceledOnTouchOutside(false)\n    m_Dialog.show()\n}\n\nfun dismiss() {\n   //no need to re initialise dialog only check for if the dialog is showing\n    if(m_Dialog.isShowing){\n       m_Dialog.dismiss()\n    }\n}\n}\n</code></pre>\n\n<p>in your activity create a object for the class and use show and dismiss methods just like this</p>\n\n<pre><code> val dialoge:CShowProgress = CShowProgress(this)//create object for the class\n\n    dialoge.show(this,\"Your message\")//for showing the dialog\n\n    dialoge.dismiss()//to dismiss the dialog\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7108422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9516fd8368587b498f40d4dd49f35e1?s=128&d=identicon&r=PG&f=1", "display_name": "Deven Dcostra", "link": "https://stackoverflow.com/users/7108422/deven-dcostra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1747, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1512564007, "creation_date": 1512552986, "last_edit_date": 1512560479, "question_id": 47670998, "link": "https://stackoverflow.com/questions/47670998/unable-to-dismiss-progress-dialog-using-dismiss-method-in-android", "title": "unable to dismiss Progress dialog using dismiss method in android", "body": "<pre><code>class CShowProgress(context: Context) {\n    var s_m_oCShowProgress: CShowProgress? = null\n    lateinit var m_Dialog: Dialog\n    private var m_ProgressBar: ProgressBar? = null\n    private var progressText: TextView? = null\n\n    fun getInstance(): CShowProgress {\n        if (s_m_oCShowProgress == null) {\n            s_m_oCShowProgress = CShowProgress(context!!)\n        }\n        return s_m_oCShowProgress as CShowProgress\n    }\n\n    fun show(m_Context: Context, message: String) {\n        m_Dialog = Dialog(m_Context)\n        m_Dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        m_Dialog.setContentView(R.layout.progress_bar)\n        m_ProgressBar = m_Dialog.findViewById(R.id.progressBar_cyclic)\n        m_ProgressBar!!.visibility = View.VISIBLE\n        m_ProgressBar!!.isIndeterminate = true\n        m_Dialog.setCancelable(false)\n        m_Dialog.setCanceledOnTouchOutside(false)\n        m_Dialog.show()\n    }\n\n    fun dismiss(m_Context: Context) {\n        m_Dialog = Dialog(m_Context)\n        m_Dialog.dismiss()\n    }\n}\n</code></pre>\n\n<p>This is my singlton class for custom Progress dialog for show dialog we have show method and for dismiss we have dismiss method  i am calling this class </p>\n\n<pre><code>    CShowProgress(this).getInstance().show(this, \"Please wait..\")\n     and for dismiss i am calling \n\n    CShowProgress(this).getInstance().dismiss(this)\n</code></pre>\n\n<p>using show i am able to show Progress dialog but using dimiss i am not able to dismiss can any one please tell me what i am doing wrong i am using kotlin language .</p>\n"}, {"tags": ["android", "kotlin", "android-checkbox"], "comments": [{"owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "edited": false, "score": 0, "creation_date": 1512553507, "post_id": 47670967, "comment_id": 82301136, "body": "Found setItemChecked() method. It works"}], "answers": [{"tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": true, "score": 2, "last_activity_date": 1512553521, "creation_date": 1512553521, "answer_id": 47671178, "question_id": 47670967, "link": "https://stackoverflow.com/questions/47670967/android-kotlin-how-to-check-checkbox-in-multiple-choice-list-view/47671178#47671178", "title": "Android Kotlin how to check checkbox in multiple choice list view", "body": "<p>To use multiple choice add <code>listView.choiceMode = ListView.CHOICE_MODE_MULTIPLE\n</code>\nand to check items you need to use <code>listView.setItemChecked(position, true)\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1512553608, "creation_date": 1512553608, "answer_id": 47671203, "question_id": 47670967, "link": "https://stackoverflow.com/questions/47670967/android-kotlin-how-to-check-checkbox-in-multiple-choice-list-view/47671203#47671203", "title": "Android Kotlin how to check checkbox in multiple choice list view", "body": "<p>I found the solution.</p>\n\n<pre><code>  for (i in 0 until cntChoice) {\n        listView.setItemChecked(i,true)\n    }\n</code></pre>\n"}], "owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2387, "favorite_count": 0, "accepted_answer_id": 47671178, "answer_count": 2, "score": 1, "last_activity_date": 1512553608, "creation_date": 1512552904, "last_edit_date": 1512553150, "question_id": 47670967, "link": "https://stackoverflow.com/questions/47670967/android-kotlin-how-to-check-checkbox-in-multiple-choice-list-view", "title": "Android Kotlin how to check checkbox in multiple choice list view", "body": "<p>I have a multiple choice list view. I wanting to check some of the checkboxes but not all of them. I am trying the code below but not sure where to go from there, or if that is even a start.</p>\n\n<pre><code>val listView = findViewById&lt;ListView&gt;(R.id.mylist_listview)\n        val values = arrayOf(\"One\", \"Two\", \"Three\")\n\n        val list = ArrayList&lt;String&gt;()\n        for (i in values.indices) {\n            list.add(values[i])\n        }\n        val adapter = ArrayAdapter(this,\n                android.R.layout.simple_list_item_multiple_choice, list)\n        listView.setAdapter(adapter)\n\n\n        val cntChoice = listView.getCount()\n\n        for (i in 0 until cntChoice) {\n\n            listView. //Something to check boxes \n\n            }\n\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "is_accepted": true, "score": 11, "last_activity_date": 1512550907, "last_edit_date": 1512550907, "creation_date": 1512550075, "answer_id": 47670147, "question_id": 47669719, "link": "https://stackoverflow.com/questions/47669719/how-to-access-a-view-from-layout-specified-in-headerlayout-of-navigationview-usi/47670147#47670147", "title": "How to access a view from layout specified in headerLayout of NavigationView using Kotlin in Android", "body": "<p>Do not  <code>import kotlinx.android.synthetic.main.nav_header_splash.*</code>  it will be available from the main file itself as </p>\n\n<p>instead <code>import kotlinx.android.synthetic.main.nav_header_splash.view.*</code></p>\n\n<p>and get view by using</p>\n\n<pre><code>val header = mNavigationView.getHeaderView(0)\nheader.txtName.text = \"Sample Code\"\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5762326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2764a6f9e864eb7feea5dc274088da75?s=128&d=identicon&r=PG&f=1", "display_name": "Sandra", "link": "https://stackoverflow.com/users/5762326/sandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 1, "accepted_answer_id": 47670147, "answer_count": 1, "score": 7, "last_activity_date": 1570682074, "creation_date": 1512548308, "last_edit_date": 1570682074, "question_id": 47669719, "link": "https://stackoverflow.com/questions/47669719/how-to-access-a-view-from-layout-specified-in-headerlayout-of-navigationview-usi", "title": "How to access a view from layout specified in headerLayout of NavigationView using Kotlin in Android", "body": "<p>I want to access a TextView which is included inside headerLayout of NavigationView. Is it possible to access the view using Kotlin android extension? I did using this method, but the TextView (here txtName) is always null.</p>\n\n<p>Here is my <strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;android.support.design.widget.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"end\"\n    android:fitsSystemWindows=\"true\"\n    app:headerLayout=\"@layout/nav_header_splash\"\n    app:menu=\"@menu/activity_splash_drawer\" /&gt;\n</code></pre>\n\n<p><strong>nav_header_splash.xml</strong></p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/txtName\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_toRightOf=\"@+id/txt1\"\n    android:layout_below=\"@+id/imageView\"\n    android:text=\"@string/name\"\n    android:textSize=\"18sp\"\n    android:textColor=\"@color/white\" /&gt;\n</code></pre>\n\n<p>in <strong>MainActivity.kt</strong>  I have imported</p>\n\n<pre><code>import kotlinx.android.synthetic.main.nav_header_splash.*\n</code></pre>\n\n<p>in <code>onCreate()</code> of Activity class I set text like</p>\n\n<pre><code>txtName.text = \"Sample Code\"\n</code></pre>\n\n<p><strong>build.gradle</strong> of app folder</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p><strong>build.gradle</strong> of my project</p>\n\n<pre><code> classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n</code></pre>\n\n<p>Is there any mistake in my code? Please help. I'm new in Kotlin. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1512548358, "post_id": 47669712, "comment_id": 82298096, "body": "what error are you getting?"}, {"owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "reply_to_user": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1512548523, "post_id": 47669712, "comment_id": 82298187, "body": "I got it working. I replaced &quot;this&quot; with &quot;applicationContext&quot;"}, {"owner": {"reputation": 5072, "user_id": 3558145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvUM3.png?s=128&g=1", "display_name": "Shaishav", "link": "https://stackoverflow.com/users/3558145/shaishav"}, "edited": false, "score": 0, "creation_date": 1512549727, "post_id": 47669712, "comment_id": 82298824, "body": "@james If you&#39;ve solved your problem, accept one of the answers or post your own if you have something else to add"}], "answers": [{"tags": [], "owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512548630, "creation_date": 1512548630, "answer_id": 47669794, "question_id": 47669712, "link": "https://stackoverflow.com/questions/47669712/kotlin-intent-error/47669794#47669794", "title": "Kotlin Intent error", "body": "<p>Yes you can change it to getappicationcontext or declare global context and assign this to context.</p>\n"}, {"tags": [], "owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "is_accepted": true, "score": 4, "last_activity_date": 1512549474, "creation_date": 1512549474, "answer_id": 47670009, "question_id": 47669712, "link": "https://stackoverflow.com/questions/47669712/kotlin-intent-error/47670009#47670009", "title": "Kotlin Intent error", "body": "<p>It has two solutions you can use either:</p>\n\n<pre><code>val intent = Intent(this@YourActivity, MyActivity::class.java)\n                startActivity(intent)\n</code></pre>\n\n<p>or :</p>\n\n<pre><code> val intent = Intent(applicationContext, MyActivity::class.java)\n                    startActivity(intent)\n</code></pre>\n"}], "owner": {"reputation": 2407, "user_id": 542285, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/6bab902fc73b103648924f4b2bdc4e90?s=128&d=identicon&r=PG", "display_name": "james", "link": "https://stackoverflow.com/users/542285/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 1, "accepted_answer_id": 47670009, "answer_count": 2, "score": 1, "last_activity_date": 1512549474, "creation_date": 1512548261, "question_id": 47669712, "link": "https://stackoverflow.com/questions/47669712/kotlin-intent-error", "title": "Kotlin Intent error", "body": "<p>I have the following code and am getting an error with the Intent. It is because of the <code>this</code> I am fairly certain.</p>\n\n<pre><code>listView.onItemClickListener = object : OnItemClickListener {\n            override\n            fun onItemClick(parent: AdapterView&lt;*&gt;, view: View,\n                            position: Int, id: Long) {\n                val intent = Intent(this, MyActivity::class.java)\n                startActivity(intent)\n            }\n\n        }\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-plugin"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512552767, "post_id": 47669548, "comment_id": 82300630, "body": "Looks like a bug, have you searched on <a href=\"https://github.com/gradle/kotlin-dsl/issues\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/issues</a> to see if it&#39;s been already filed?"}], "answers": [{"comments": [{"owner": {"reputation": 9589, "user_id": 5371736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uyJ0L.jpg?s=128&g=1", "display_name": "Mathias Dpunkt", "link": "https://stackoverflow.com/users/5371736/mathias-dpunkt"}, "edited": false, "score": 0, "creation_date": 1534749396, "post_id": 51911444, "comment_id": 90800811, "body": "Yes that is probably the reason. I cannot verify your answer anymore because the project has gone into a different direction in the meantime."}], "tags": [], "owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "is_accepted": false, "score": 1, "last_activity_date": 1534616422, "creation_date": 1534616422, "answer_id": 51911444, "question_id": 47669548, "link": "https://stackoverflow.com/questions/47669548/gradle-plugin-with-kotlin-set-boolean-extension-property/51911444#51911444", "title": "gradle plugin with kotlin - set boolean extension property", "body": "<p><code>Boolean::class.java</code> in Kotlin refers to the primitive type. Try specifying the Object type instead:</p>\n\n<pre><code>val myBooleanProperty: Property&lt;Boolean&gt; = project.objects.property(Boolean::class.javaObjectType)\n</code></pre>\n"}], "owner": {"reputation": 9589, "user_id": 5371736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uyJ0L.jpg?s=128&g=1", "display_name": "Mathias Dpunkt", "link": "https://stackoverflow.com/users/5371736/mathias-dpunkt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1534616422, "creation_date": 1512547606, "question_id": 47669548, "link": "https://stackoverflow.com/questions/47669548/gradle-plugin-with-kotlin-set-boolean-extension-property", "title": "gradle plugin with kotlin - set boolean extension property", "body": "<p>I am trying to migrate a gradle plugin from groovy to kotlin. I have a boolean <code>Property</code> that I would like to initialize to false in my plugin extension:</p>\n\n<pre><code>open class MyPluginExtension(project: Project) {\n\n    val myBooleanProperty: Property&lt;Boolean&gt; = project.objects.property(Boolean::class.java)\n\n    init {\n        myBooleanProperty.set(false)\n    }\n}\n</code></pre>\n\n<p>This fails with</p>\n\n<pre><code>java.lang.IllegalArgumentException: Cannot set the value of a property of type boolean using an instance of type java.lang.Boolean.\n</code></pre>\n\n<p>The exception is thrown in <code>org.gradle.api.internal.provider.DefaultPropertyState#set(T)</code></p>\n\n<p>Any thoughts on this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "reply_to_user": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1512547368, "post_id": 47669404, "comment_id": 82297676, "body": "@ycomp oh, ok. I&#39;ve updated my answer for mutable property"}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": true, "score": 1, "last_activity_date": 1512547342, "last_edit_date": 1512547342, "creation_date": 1512547029, "answer_id": 47669404, "question_id": 47669158, "link": "https://stackoverflow.com/questions/47669158/property-getter-simplification-via-delegation/47669404#47669404", "title": "Property getter simplification via delegation", "body": "<p>Sure</p>\n\n<pre><code>private fun &lt;T&gt; publishingDelegate(value: T): ReadWriteProperty&lt;Any?, T&gt; = object: ReadWriteProperty&lt;Any?, T&gt; {\n    private var initValue = value\n\n    override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        update()\n        return initValue\n    }\n\n    override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        update()\n        initValue = value\n    }\n}\n\nvar foo: Double by publishingDelegate(0.0)\nvar foo2: Double by publishingDelegate(1.23)\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 47669404, "answer_count": 1, "score": 3, "last_activity_date": 1512547342, "creation_date": 1512545828, "question_id": 47669158, "link": "https://stackoverflow.com/questions/47669158/property-getter-simplification-via-delegation", "title": "Property getter simplification via delegation", "body": "<p>I have many properties that follow this pattern, basically the only things that change from the template below are:</p>\n\n<ol>\n<li>the initialized value</li>\n<li>the property name</li>\n</ol>\n\n<h2>code</h2>\n\n<pre><code>var foo: Double = 0.0\n    get() { \n        update()\n        return field\n    }\n\nvar foo2: Double = 1.23\n    get() { \n        update()\n        return field\n    }\n</code></pre>\n\n<h2>question</h2>\n\n<p>is there any way that I can use delegation to to simplify (reduce the verbosity of) the code?</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2", "android-mvp"], "comments": [{"owner": {"reputation": 7571, "user_id": 4578513, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/mUo1D.jpg?s=128&g=1", "display_name": "Developine", "link": "https://stackoverflow.com/users/4578513/developine"}, "edited": false, "score": 0, "creation_date": 1524653281, "post_id": 47665560, "comment_id": 87056348, "body": "For future visitors, follow this kotlin mvp dagger2 retrofit tutorial.  <a href=\"http://developine.com/building-android-mvp-app-in-kotlin-using-dagger-retrofit/\" rel=\"nofollow noreferrer\">developine.com/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 744, "user_id": 6359122, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/5c9b3a7658196858f0f4ffc6896082c1?s=128&d=identicon&r=PG&f=1", "display_name": "hermt2", "link": "https://stackoverflow.com/users/6359122/hermt2"}, "edited": false, "score": 0, "creation_date": 1512570337, "post_id": 47667179, "comment_id": 82312034, "body": "Yeah I had noticed that a little after posting this I tried and no dice still"}, {"owner": {"reputation": 1608, "user_id": 5031114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nJzUn.jpg?s=128&g=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/5031114/vicky"}, "reply_to_user": {"reputation": 744, "user_id": 6359122, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/5c9b3a7658196858f0f4ffc6896082c1?s=128&d=identicon&r=PG&f=1", "display_name": "hermt2", "link": "https://stackoverflow.com/users/6359122/hermt2"}, "edited": false, "score": 0, "creation_date": 1512620524, "post_id": 47667179, "comment_id": 82334477, "body": "@hermt2 Can you post you entire Logcat?"}], "tags": [], "owner": {"reputation": 1608, "user_id": 5031114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nJzUn.jpg?s=128&g=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/5031114/vicky"}, "is_accepted": false, "score": 0, "last_activity_date": 1512536919, "creation_date": 1512536919, "answer_id": 47667179, "question_id": 47665560, "link": "https://stackoverflow.com/questions/47665560/dagger-with-mvp-on-kotlin-android/47667179#47667179", "title": "Dagger with Mvp on Kotlin - Android", "body": "<p>I think you have to add <code>AndroidSupportInjectionModule::class</code> in your <code>AppComponent</code>: </p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class,\nAndroidSupportInjectionModule::class, InjectionModule::class))\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(app: KotlinApplication): Builder\n\n        fun build(): AppComponent\n    }\n\n    fun inject(app: KotlinApplication)\n\n}\n</code></pre>\n\n<p>If it still does not help try referring to this github repo : <a href=\"https://github.com/vicky7230/Chat\" rel=\"nofollow noreferrer\">Kotlin MVP Chat</a>. Checkout the di folder which contains all dependency injection code in kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 2990, "user_id": 6944758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMedv.jpg?s=128&g=1", "display_name": "Firoz Memon", "link": "https://stackoverflow.com/users/6944758/firoz-memon"}, "is_accepted": false, "score": 0, "last_activity_date": 1512542338, "creation_date": 1512542338, "answer_id": 47668299, "question_id": 47665560, "link": "https://stackoverflow.com/questions/47665560/dagger-with-mvp-on-kotlin-android/47668299#47668299", "title": "Dagger with Mvp on Kotlin - Android", "body": "<p>With Reference to <a href=\"https://github.com/google/dagger/issues/322\" rel=\"nofollow noreferrer\">Official Dagger2 issue page</a></p>\n\n<p>It says:</p>\n\n<blockquote>\n  <p>This is a gradle issue, not a dagger one.</p>\n</blockquote>\n\n<p>Try <code>clean/re-build</code> your project</p>\n"}], "owner": {"reputation": 744, "user_id": 6359122, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/5c9b3a7658196858f0f4ffc6896082c1?s=128&d=identicon&r=PG&f=1", "display_name": "hermt2", "link": "https://stackoverflow.com/users/6359122/hermt2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512542338, "creation_date": 1512524966, "last_edit_date": 1512526418, "question_id": 47665560, "link": "https://stackoverflow.com/questions/47665560/dagger-with-mvp-on-kotlin-android", "title": "Dagger with Mvp on Kotlin - Android", "body": "<p>I am an Android developer that is just getting into Kotlin, and I have been trying to setup an Mvp Dagger application in Kotlin, but I cannot figure out what is going on.  I continue to get this error:</p>\n\n<pre><code>Error:dagger.internal.codegen.ComponentProcessor was unable to process this interface \nbecause not all of its dependencies could be resolved.\nCheck for compilation errors or a circular dependency with generated code.\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p>KotlinApplication:</p>\n\n<pre><code>class KotlinApplication: MultiDexApplication(), HasActivityInjector {\n\n    @Inject lateinit var injector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n        inject()\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n        return injector\n    }\n\n    fun inject() {\n        DaggerAppComponent.builder().application(this).build().inject(this);\n    }\n\n\n}\n</code></pre>\n\n<p>AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, InjectionModule::class))\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(app: KotlinApplication): Builder\n\n        fun build(): AppComponent\n    }\n\n    fun inject(app: KotlinApplication)\n\n}\n</code></pre>\n\n<p>AppModule:</p>\n\n<pre><code>@Module\nclass AppModule {\n    @Singleton\n    @Provides\n    fun provideAppContext(app: KotlinApplication): Context {\n        return app\n    }\n\n    @Singleton\n    @Provides\n    fun provideApplication(app: KotlinApplication): Application {\n        return app\n    }\n}\n</code></pre>\n\n<p>InjectionModule:</p>\n\n<pre><code>@Module\nabstract class InjectionModule {\n\n    @ActivityScope\n    @ContributesAndroidInjector(modules = arrayOf(MainModule::class))\n    internal abstract fun bindMainActivity(): MainActivity\n\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), MainMvp.View {\n\n    @Inject lateinit var presenter: MainMvp.Presenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<p>MainMvp:</p>\n\n<pre><code>interface MainMvp {\n    interface View {\n\n    }\n\n    interface Presenter {\n\n    }\n}\n</code></pre>\n\n<p>MainPresenter:</p>\n\n<pre><code>class MainPresenter(view: MainMvp.View): MainMvp.Presenter {\n\n    var view: MainMvp.View\n\n    init {\n        this.view = view\n    }\n\n}\n</code></pre>\n\n<p>MainBindModule:</p>\n\n<pre><code>@Module\ninterface MainBindModule {\n    @ActivityScope\n    @Binds\n    fun bindView(activity: MainActivity): MainMvp.View\n}\n</code></pre>\n\n<p>MainModule:</p>\n\n<pre><code>@Module(includes = arrayOf(MainBindModule::class))\nclass MainModule {\n\n    @ActivityScope\n    @Provides\n    fun providePresenter(view: MainMvp.View): MainMvp.Presenter {\n        return MainPresenter(view)\n    }\n\n}\n</code></pre>\n\n<p>And finally, ActivityScope:</p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ActivityScope\n</code></pre>\n\n<p>Does anyone know what might be wrong? I have used the same exact Architectural pattern in java several times before, and I have never ran into this error before.</p>\n\n<p>Also, when I comment out everything inside of InjectionModule, everything works</p>\n"}, {"tags": ["kotlin", "lazy-initialization", "kotlin-delegate"], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 3519280, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sXriH.jpg?s=128&g=1", "display_name": "Efe Budak", "link": "https://stackoverflow.com/users/3519280/efe-budak"}, "edited": false, "score": 0, "creation_date": 1512564388, "post_id": 47665012, "comment_id": 82308023, "body": "Is it not weird that the order is important? I thought that the init code block is guaranteed to be called on the creation of an object. Does not the kotlin compiler know this?"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 637, "user_id": 3519280, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sXriH.jpg?s=128&g=1", "display_name": "Efe Budak", "link": "https://stackoverflow.com/users/3519280/efe-budak"}, "edited": false, "score": 0, "creation_date": 1512570709, "post_id": 47665012, "comment_id": 82312277, "body": "i am a just beginner in kotlin ,so don&#39;t know details too much but i tried to explain my best about this behavior , please see the updated answer . If you find anything wrong or conflicting, don&#39;t hesitate to down vote the answer. :)"}], "tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": true, "score": 3, "last_activity_date": 1512570506, "last_edit_date": 1512570506, "creation_date": 1512520882, "answer_id": 47665012, "question_id": 47664563, "link": "https://stackoverflow.com/questions/47664563/how-to-implement-a-lazy-property-in-kotlin-that-requires-another-property/47665012#47665012", "title": "How to implement a lazy property in Kotlin that requires another property?", "body": "<p>In kotlin , you have to initialize a variable before using it, You are using lazy initializer for Rectangle but compiler doesn't know the the status of <strong>textWidth</strong> and <strong>textHeight</strong></p>\n\n<p>So class looks like this </p>\n\n<pre><code>class EpheButton private constructor(\n    private val text: String,\n    private val x: Float,\n    private val y: Float,\n    private val projectionMatrix: Matrix4) : Disposable {\nprivate val spriteBatch: SpriteBatch = SpriteBatch()\nprivate val bitmapFont: BitmapFont = BitmapFont()\nprivate val shapeRenderer: ShapeRenderer = ShapeRenderer()\n\nprivate val textWidth: Float\nprivate val textHeight: Float\ninit {\n    bitmapFont.data.setScale(2f)\n    bitmapFont.region.texture.setFilter(Texture.TextureFilter.Linear, Texture.TextureFilter.Linear)\n    bitmapFont.color = Color.BLUE\n    val layout = GlyphLayout()\n    layout.setText(bitmapFont, text)\n    textWidth = layout.width\n    textHeight = layout.height\n}\nprivate val rectangle :Rectangle by lazy { Rectangle(x, y, textWidth, textHeight) }\n</code></pre>\n\n<p>Updated :-\n<strong>Why order of initialization matter's here ?</strong></p>\n\n<p>We can call this weired behavior to <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null-Safty</a> of Kotlin. When we change the order of <strong>init block</strong> and <strong>variable declaration</strong> , we are breaking this rule. </p>\n\n<blockquote>\n  <p><strong>From Kotlin official documentaion :-</strong></p>\n  \n  <p>Kotlin's type system is aimed to eliminate NullPointerException's from\n  our code. The only possible causes of NPE's may be</p>\n  \n  <ol>\n  <li><p>An explicit call to throw NullPointerException();</p></li>\n  <li><p>Usage of the !! operator that is described below;</p></li>\n  <li><p>External Java code has caused it;</p></li>\n  <li><p>There's some data inconsistency with regard to initialization (an uninitialized <em>this</em> available in a constructor is used somewhere).</p></li>\n  </ol>\n</blockquote>\n\n<p>Other than this four conditions , it always ensure that a variable is initialized at compile time . so same with our case it just ensuring that the used variable must be initialized before it used. </p>\n"}], "owner": {"reputation": 637, "user_id": 3519280, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sXriH.jpg?s=128&g=1", "display_name": "Efe Budak", "link": "https://stackoverflow.com/users/3519280/efe-budak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "closed_date": 1512571499, "accepted_answer_id": 47665012, "answer_count": 1, "score": 2, "last_activity_date": 1512570506, "creation_date": 1512517633, "question_id": 47664563, "link": "https://stackoverflow.com/questions/47664563/how-to-implement-a-lazy-property-in-kotlin-that-requires-another-property", "closed_reason": "Duplicate", "title": "How to implement a lazy property in Kotlin that requires another property?", "body": "<p>I need a rectangle that needs to be initialized on call.</p>\n\n<p>Here is my code;</p>\n\n<pre><code>class EpheButton private constructor(\n    private val text: String,\n    private val x: Float,\n    private val y: Float,\n    private val projectionMatrix: Matrix4) : Disposable {\nprivate val spriteBatch: SpriteBatch = SpriteBatch()\nprivate val bitmapFont: BitmapFont = BitmapFont()\nprivate val shapeRenderer: ShapeRenderer = ShapeRenderer()\n\nprivate val textWidth: Float\nprivate val textHeight: Float\nprivate val rectangle :Rectangle by lazy { Rectangle(x, y, textWidth, textHeight) }\n\ninit {\n    bitmapFont.data.setScale(2f)\n    bitmapFont.region.texture.setFilter(Texture.TextureFilter.Linear, Texture.TextureFilter.Linear)\n    bitmapFont.color = Color.BLUE\n    val layout = GlyphLayout()\n    layout.setText(bitmapFont, text)\n    textWidth = layout.width\n    textHeight = layout.height\n}\n</code></pre>\n\n<p>I get errors for the line <code>private val rectangle :Rectangle by lazy { Rectangle(x, y, textWidth, textHeight) }</code> which says that;</p>\n\n<blockquote>\n  <p>Variable 'textWidth' must be initialized\n  Variable 'textHeight' must be initialized</p>\n</blockquote>\n\n<p>But I am already initializing them on the <code>init{}</code> code block.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["android", "c++", "ios", "kotlin", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 3764712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c85e33cd7bab1a072f288a56ad37aa?s=128&d=identicon&r=PG&f=1", "display_name": "CryptUser", "link": "https://stackoverflow.com/users/3764712/cryptuser"}, "is_accepted": false, "score": 0, "last_activity_date": 1512642816, "creation_date": 1512642816, "answer_id": 47693012, "question_id": 47664501, "link": "https://stackoverflow.com/questions/47664501/how-to-convert-const-char-to-kstring-in-kotlin-native/47693012#47693012", "title": "How to convert const char* to KString in Kotlin/Native?", "body": "<p>I ended up taking the pieces to write my own function:</p>\n\n<pre><code>KString getKString(const char* rawString) {\n    size_t rawStringLength = strlen(rawString);\n    ObjHeader** OBJ_RESULT;\n    uint32_t charCount = utf8::unchecked::distance(rawString, rawString + rawStringLength);\n    ArrayHeader* result = AllocArrayInstance(theStringTypeInfo, charCount, OBJ_RESULT)-&gt;array();\n    KChar* rawResult = CharArrayAddressOfElementAt(result, 0);\n    auto convertResult =\n    utf8::unchecked::utf8to16(rawString, rawString + rawStringLength, rawResult);\n    ObjHeader* obj = result-&gt;obj();\n    UpdateReturnRef(OBJ_RESULT, obj);\n    return (const ArrayHeader*)obj;\n}\n</code></pre>\n\n<p>In my test code (C++), I use it like this:</p>\n\n<pre><code>...\nRuntimeState* state = InitRuntime();\nKString inMessage;\n{\n    ObjHolder args;\n    inMessage = getKString(\"Hello from C++\");\n}\n...\nDeinitRuntime(state);\n</code></pre>\n\n<p>and include Memory.h, Natives.h, Runtime.h, KString.h, utf8.h, stdlib.h, and string. You may be able to get rid of some of these.</p>\n\n<p>As a side remark, you may realize how AllocArrayInstance is used in the function. It would be nice, if one simply could do the same thing for getting a KString, something like:</p>\n\n<pre><code>ObjHeader** OBJ_RESULT;\nKString kstr = utf8ToUtf16(rawString, rawStringLength, OBJ_RESULT);\n</code></pre>\n\n<p>This did not work from my function, since utf8ToUtf16 was not found. I believe the reason is, that (at the time of writing) the respective function in KString.cpp is inside a namespace {...} block, such that it cannot be used from another file. That's why I ended up mimicking the function as shown above.</p>\n"}, {"tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": true, "score": 3, "last_activity_date": 1519202169, "creation_date": 1519202169, "answer_id": 48901297, "question_id": 47664501, "link": "https://stackoverflow.com/questions/47664501/how-to-convert-const-char-to-kstring-in-kotlin-native/48901297#48901297", "title": "How to convert const char* to KString in Kotlin/Native?", "body": "<p>It depends on how you want to interact with Kotlin code. If you produce dynamic library with <code>-produce dynamic</code>, then string are converted automatically, see for example <a href=\"https://github.com/JetBrains/kotlin-native/blob/adf8614889e8cf5038a79960aa9651ca7d45e409/samples/python_extension/src/main/c/kotlin_bridge.c#L72\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-native/blob/adf8614889e8cf5038a79960aa9651ca7d45e409/samples/python_extension/src/main/c/kotlin_bridge.c#L72</a>.\nSo no additional magic is required at all. Same with Objective-C strings and <code>-produce framework</code>. And for other cases, there shall be no need to pass strings C -> Kotlin (callbacks produced with <code>staticCFunction</code> also do autoconversion).</p>\n"}], "owner": {"reputation": 518, "user_id": 3764712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c85e33cd7bab1a072f288a56ad37aa?s=128&d=identicon&r=PG&f=1", "display_name": "CryptUser", "link": "https://stackoverflow.com/users/3764712/cryptuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 48901297, "answer_count": 2, "score": 2, "last_activity_date": 1519202169, "creation_date": 1512517270, "last_edit_date": 1512661574, "question_id": 47664501, "link": "https://stackoverflow.com/questions/47664501/how-to-convert-const-char-to-kstring-in-kotlin-native", "title": "How to convert const char* to KString in Kotlin/Native?", "body": "<p>In a C++ file, I want to convert a const char* to KString, so that I can then pass the KString to a Kotlin file using <a href=\"https://github.com/JetBrains/kotlin-native\" rel=\"nofollow noreferrer\">Kotlin/Native</a>.</p>\n\n<p>I believe the answer lies in the function</p>\n\n<pre><code>    OBJ_GETTER(utf8ToUtf16, const char* rawString, size_t rawStringLength)\n</code></pre>\n\n<p>that I found in <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/runtime/src/main/cpp/KString.cpp\" rel=\"nofollow noreferrer\">KString.cpp</a>. But even though I discovered the used define statements in <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/runtime/src/main/cpp/Memory.h\" rel=\"nofollow noreferrer\">Memory.h</a>, I have not yet managed to properly call the function <code>utf8ToUtf16</code> from my own C++ file to get a KString. Any help is appreciated.</p>\n"}, {"tags": ["android", "libgdx", "kotlin", "static-variables", "kotlin-companion"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1512516105, "post_id": 47664090, "comment_id": 82287796, "body": "<code>AndroidLauncher</code> is an <code>Activity</code>"}, {"owner": {"reputation": 637, "user_id": 3519280, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sXriH.jpg?s=128&g=1", "display_name": "Efe Budak", "link": "https://stackoverflow.com/users/3519280/efe-budak"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 2, "creation_date": 1512516349, "post_id": 47664090, "comment_id": 82287887, "body": "It does not matter. However, keeping a static variable of an activity would leak memory which I&#39;m not planning on."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1512558325, "post_id": 47664090, "comment_id": 82304426, "body": "@tynn <code>AndroidLauncher</code> is an <code>Application</code>, not an <code>Activity</code>..."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1512558829, "post_id": 47664090, "comment_id": 82304745, "body": "@m0skit0 it&#39;s actually both in different domains <a href=\"https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/backends/android/AndroidApplication.html\" rel=\"nofollow noreferrer\">libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": true, "score": 1, "last_activity_date": 1512515302, "creation_date": 1512515302, "answer_id": 47664182, "question_id": 47664090, "link": "https://stackoverflow.com/questions/47664090/how-to-keep-the-reference-of-the-singleton-class-object-in-the-companion-object/47664182#47664182", "title": "How to keep the reference of the singleton class object in the companion object, Kotlin", "body": "<p>Use <code>lateinit</code> to indicate that the field will be initialized later.</p>\n\n<pre><code>   companion object {\n       lateinit var androidLauncher: AndroidLauncher\n   }\n</code></pre>\n"}], "owner": {"reputation": 637, "user_id": 3519280, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sXriH.jpg?s=128&g=1", "display_name": "Efe Budak", "link": "https://stackoverflow.com/users/3519280/efe-budak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 47664182, "answer_count": 1, "score": 0, "last_activity_date": 1512515302, "creation_date": 1512514843, "question_id": 47664090, "link": "https://stackoverflow.com/questions/47664090/how-to-keep-the-reference-of-the-singleton-class-object-in-the-companion-object", "title": "How to keep the reference of the singleton class object in the companion object, Kotlin", "body": "<p>The code that I want to convert is the following;</p>\n\n<pre><code>public class AndroidLauncher extends AndroidApplication {\n\n   public static AndroidLauncher androidLauncher;\n   @Override\n   protected void onCreate (Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       androidLauncher = this;\n   }\n}\n</code></pre>\n\n<p>What android studio generated code is this;</p>\n\n<pre><code>class AndroidLauncher : AndroidApplication() {\n   protected override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       androidLauncher = this\n   }\n\n   companion object {\n\n       var androidLauncher: AndroidLauncher\n   }\n}\n</code></pre>\n\n<p>This code gives me error, which is; </p>\n\n<blockquote>\n  <p>Property must be initialized or be abstract</p>\n</blockquote>\n\n<p>I'm developing a game with libgdx, so I'll use this approach to use the Game object from anywhere I want. It's a singleton class so it won't leak any memory.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-glide", "recyclerview-layout"], "answers": [{"comments": [{"owner": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "edited": false, "score": 0, "creation_date": 1512980023, "post_id": 47748241, "comment_id": 82457477, "body": "thank for your answer, how can i see the differences ?"}, {"owner": {"reputation": 1290, "user_id": 4741360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39799d17b9e7ddc0b8e42fba2c96a5c7?s=128&d=identicon&r=PG&f=1", "display_name": "chandrakant sharma", "link": "https://stackoverflow.com/users/4741360/chandrakant-sharma"}, "reply_to_user": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "edited": false, "score": 2, "creation_date": 1513054219, "post_id": 47748241, "comment_id": 82492299, "body": "Please use your application on slow network connectivity or 2G network than you can see the difference"}, {"owner": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "edited": false, "score": 0, "creation_date": 1513160545, "post_id": 47748241, "comment_id": 82542205, "body": "i understand what you said but it not depend on type of network, because when turn on log of glide <code>setLogLevel(Log.VERBOSE)</code> then see it load same number of requests. thank for your answer but it is not enough."}, {"owner": {"reputation": 505, "user_id": 2949696, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SDRb2.png?s=128&g=1", "display_name": "apex39", "link": "https://stackoverflow.com/users/2949696/apex39"}, "edited": false, "score": 0, "creation_date": 1614349285, "post_id": 47748241, "comment_id": 117365994, "body": "Adding the dependency is not enough"}], "tags": [], "owner": {"reputation": 1290, "user_id": 4741360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39799d17b9e7ddc0b8e42fba2c96a5c7?s=128&d=identicon&r=PG&f=1", "display_name": "chandrakant sharma", "link": "https://stackoverflow.com/users/4741360/chandrakant-sharma"}, "is_accepted": false, "score": 4, "last_activity_date": 1513446716, "last_edit_date": 1513446716, "creation_date": 1512977589, "answer_id": 47748241, "question_id": 47663985, "link": "https://stackoverflow.com/questions/47663985/what-are-advances-of-glide-recyclerview-integration/47748241#47748241", "title": "What are advances of glide recyclerview integration?", "body": "<p>The <code>RecyclerView</code> integration library makes the <code>RecyclerViewPreloader</code> available in your application.<br>\nAnd <code>RecyclerViewPreloader</code> can automatically load images just ahead of where a user is scrolling in a <code>RecyclerView</code>.</p>\n\n<p>Combined with the right image size and an effective disk cache strategy, this library can dramatically decrease the number of loading tiles/indicators users see when scrolling through lists of images by ensuring that the images the user is about to reach are already in memory.</p>\n\n<p>To use the <code>RecyclerView</code> integration library, add a dependency on it in your <code>build.gradle</code> file:</p>\n\n<pre><code>compile (\"com.github.bumptech.glide:recyclerview-integration:4.4.0\") {\n  /*Excludes the support library \n    because it's already included by Glide.*/\n  transitive = false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1526928687, "creation_date": 1526928687, "answer_id": 50454948, "question_id": 47663985, "link": "https://stackoverflow.com/questions/47663985/what-are-advances-of-glide-recyclerview-integration/50454948#50454948", "title": "What are advances of glide recyclerview integration?", "body": "<p>Suppose the user is scrolling a RecyclerView that loads large images, so, the user should wait the delay of loading the image before seeing it in the corresponding list item. RecyclerViewPreloader loads the images in advance, so when the user scrolls, there are already loaded and ere displayed instantly.</p>\n\n<p>In your code you are using a small list, and a small maxPreload value, so you won't notice the difference of using RecyclerViewPreloader. To see it in action you should use a long list with many different images, and scroll fast with and without the preloader. Without the preloader you will see empty images until loaded, and with it, images should be displayed rapidly and smoothly.</p>\n"}], "owner": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2332, "favorite_count": 1, "answer_count": 2, "score": 14, "last_activity_date": 1526928687, "creation_date": 1512514314, "last_edit_date": 1513437357, "question_id": 47663985, "link": "https://stackoverflow.com/questions/47663985/what-are-advances-of-glide-recyclerview-integration", "title": "What are advances of glide recyclerview integration?", "body": "<p>I just tried to use glide recyclerview integration and read a document about it and it said: \"<strong>The RecyclerView integration library makes the RecyclerViewPreloader available in your application. RecyclerViewPreloader can automatically load images just ahead of where a user is scrolling in a RecyclerView</strong>\", but I don't realise any difference between glide recyclerview integration and only glide, please explain what are advances of glide recyclerview integration? And how can I see the difference?</p>\n\n<p>Here's my code:</p>\n\n<p>GlideModule.kt</p>\n\n<pre><code>@GlideModule\nclass GlideModule : AppGlideModule() {\n    override fun applyOptions(context: Context?, builder: GlideBuilder?) {\n        val requestOp = RequestOptions.noAnimation()\n                .priority(Priority.LOW)\n        builder?.setDefaultRequestOptions(requestOp)\n                ?.setLogLevel(Log.VERBOSE)\n        super.applyOptions(context, builder)\n    }\n\n    // Disable manifest parsing to avoid adding similar modules twice.\n    override fun isManifestParsingEnabled(): Boolean {\n        return false\n    }\n}\n</code></pre>\n\n<p>MyPreloadModelProvide.kt</p>\n\n<pre><code>class MyPreloadModelProvide(val listUrls: List&lt;String&gt;, val context: Context) : PreloadModelProvider&lt;Any&gt; {\n    override fun getPreloadItems(position: Int): MutableList&lt;Any&gt; {\n        val url = listUrls.get(position)\n        if (TextUtils.isEmpty(url)) {\n            return Collections.emptyList();\n        }\n        return Collections.singletonList(url);\n    }\n\n    override fun getPreloadRequestBuilder(url: Any?): RequestBuilder&lt;*&gt;? {\n        return GlideApp.with(context)\n                .load(url)\n    }\n\n}\n</code></pre>\n\n<p>MyAdapter.kt</p>\n\n<pre><code>class MyAdapter(val listUrl: List&lt;String&gt;, val context: Context) : RecyclerView.Adapter&lt;MyViewHolder&gt;() {\n    override fun getItemCount(): Int = listUrl.size\n\n    @SuppressLint(\"CheckResult\")\n    override fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n\n        GlideApp.with(context)\n                .load(listUrl[position])\n                .into(holder?.imageView)\n\n        holder?.imageView?.setOnClickListener { Toast.makeText(context, listUrl[position], Toast.LENGTH_LONG).show() }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): MyViewHolder = MyViewHolder(LayoutInflater.from(parent?.context).inflate(R.layout.item, parent, false))\n}\n\nclass MyViewHolder(view: View?) : RecyclerView.ViewHolder(view) {\n    var imageView: ImageView\n\n    init {\n        imageView = view!!.findViewById(R.id.img)\n    }\n}\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var preloadSizeProvider: ViewPreloadSizeProvider&lt;Any&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // glide\n        var listUrls = listOf(\n                \"https://img.pokemondb.net/artwork/bulbasaur.jpg\",\n                \"https://img.pokemondb.net/artwork/ivysaur.jpg\",\n                \"https://img.pokemondb.net/artwork/komala.jpg\",\n                \"https://img.pokemondb.net/artwork/turtonator.jpg\",\n                \"https://img.pokemondb.net/artwork/togedemaru.jpg\",\n                \"https://img.pokemondb.net/artwork/mimikyu.jpg\",\n                \"https://img.pokemondb.net/artwork/nihilego.jpg\",\n                \"https://img.pokemondb.net/artwork/buzzwole.jpg\",\n                \"https://img.pokemondb.net/artwork/pheromosa.jpg\",\n                \"https://img.pokemondb.net/artwork/xurkitree.jpg\",\n                \"https://img.pokemondb.net/artwork/celesteela.jpg\",\n                \"https://img.pokemondb.net/artwork/kartana.jpg\",\n                \"https://img.pokemondb.net/artwork/guzzlord.jpg\",\n                \"https://img.pokemondb.net/artwork/necrozma.jpg\",\n                \"https://img.pokemondb.net/artwork/magearna.jpg\",\n                \"https://img.pokemondb.net/artwork/marshadow.jpg\"\n        )\n\n        preloadSizeProvider = ViewPreloadSizeProvider&lt;Any&gt;()\n        val modelProvider = MyPreloadModelProvide(listUrls, this)\n        val preloader = RecyclerViewPreloader(GlideApp.with(this), modelProvider, preloadSizeProvider, 2 /*maxPreload*/)\n\n        // recycler view\n        recycler_view.layoutManager = LinearLayoutManager(this)\n        recycler_view.setHasFixedSize(true)\n        recycler_view.adapter = MyAdapter(listUrls, this)\n\n        // THERE ARE NO DIFFERENCES IF I COMMENT THIS LINE\n        recycler_view.addOnScrollListener(preloader)\n    }\n}\n</code></pre>\n\n<p>THERE ARE NO DIFFERENCES IF I COMMENT THIS LINE\n<code>recycler_view.addOnScrollListener(preloader)</code></p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin", "android-library"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1512515795, "post_id": 47662717, "comment_id": 82287689, "body": "You could start with using the current <i>Kotlin</i> version. Also it&#39;s not clear what your error is about. Kotlin Plugin could also refer to the AS plugin for <i>Kotlin</i>. You should always make sure to use the latest version of AS. If this is the case it might be possible that the plugin crashed, so have a look at the error log."}, {"owner": {"reputation": 966, "user_id": 6262835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3YgXF.png?s=128&g=1", "display_name": "Neelay Srivastava", "link": "https://stackoverflow.com/users/6262835/neelay-srivastava"}, "edited": false, "score": 0, "creation_date": 1584746123, "post_id": 47662717, "comment_id": 107540748, "body": "Hey can you answer my flutter question"}], "answers": [{"tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": true, "score": 2, "last_activity_date": 1512515826, "creation_date": 1512515826, "answer_id": 47664272, "question_id": 47662717, "link": "https://stackoverflow.com/questions/47662717/not-able-to-use-kotlin-library/47664272#47664272", "title": "Not able to use kotlin library", "body": "<p>Try Importing <a href=\"https://github.com/Yalantis/Multi-Selection\" rel=\"nofollow noreferrer\">this</a> library by gradle</p>\n\n<p>Add  <code>maven { url \"https://jitpack.io\" }</code> to the repositories of project gradle. So it will be like this</p>\n\n<p><strong>build.gradle(Project)</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.60'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>and add <code>compile 'com.github.yalantis:multi-selection:v0.1'</code> to dependencies in <strong>build.gradle(app)</strong></p>\n\n<p>This may create Manifest Merge Conflicts error while building project to remove that add  <strong>tools:replace=\"android:label\"</strong> under <code>&lt;application&gt;</code> tag in Manifest</p>\n"}], "owner": {"reputation": 812, "user_id": 6630659, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/z8b4Z.png?s=128&g=1", "display_name": "SAVVY", "link": "https://stackoverflow.com/users/6630659/savvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1490, "favorite_count": 0, "accepted_answer_id": 47664272, "answer_count": 1, "score": -1, "last_activity_date": 1512515826, "creation_date": 1512508271, "last_edit_date": 1512515484, "question_id": 47662717, "link": "https://stackoverflow.com/questions/47662717/not-able-to-use-kotlin-library", "title": "Not able to use kotlin library", "body": "<p>I am trying to use <a href=\"https://github.com/Yalantis/Multi-Selection\" rel=\"nofollow noreferrer\">this</a> library for my app but as it is made in kotlin I am facing the problem . I downloaded the module of this library and imported this module in the project but in the initial state i am gettin kotlin plugin not found so i changed the gradel as <a href=\"https://stackoverflow.com/questions/46101908/error1-0-plugin-with-id-kotlin-android-extensions-not-found\">this</a></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n\n    defaultConfig {\n        minSdkVersion 17\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'),   'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    resourcePrefix \"yal_ms_\"\n}\nbuidscript {\n    ext.kotlin_version = '1.0.1-2'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.1-2'\n    }\n}\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile \"com.android.support:appcompat-v7:26.1.0\"\n    compile \"com.android.support:recyclerview-v7:26.1.0\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n</code></pre>\n\n<p>I am trying to use the kotlin library for the first time and I dont know any thing much about kotlin any advice how to use this library will be helpful .</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "edited": false, "score": 0, "creation_date": 1512490998, "post_id": 47658024, "comment_id": 82274885, "body": "@CrazyApple, thanks for pointing to the link! it explains."}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "closed_date": 1512494882, "answer_count": 0, "score": 1, "last_activity_date": 1516847966, "creation_date": 1512490388, "last_edit_date": 1516847966, "question_id": 47658024, "link": "https://stackoverflow.com/questions/47658024/how-is-the-used-in-dereferrence-from-array-in-kotlin", "closed_reason": "Duplicate", "title": "how is the &#39;*&#39; used in dereferrence from array in kotlin?", "body": "<p>Looking at one kotlin sample from <a href=\"https://github.com/googlesamples/android-topeka/\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-topeka/</a></p>\n\n<pre><code>see the \u2018*\u2019 is to used for getting the first element from an array, \n</code></pre>\n\n<p>does anyone know from where it is explained?</p>\n\n<pre><code>val pairs = TransitionHelper.createSafeTransitionParticipants(activity, true,\n                Pair(v, activity.getString(R.string.transition_avatar)))\nval options = ActivityOptionsCompat.makeSceneTransitionAnimation(activity, *pairs)\n</code></pre>\n\n<p>the TransitionHelper:</p>\n\n<pre><code>package com.google.samples.apps.topeka.helper\n\nimport android.annotation.TargetApi\nimport android.app.Activity\nimport android.os.Build\nimport android.support.annotation.IdRes\nimport android.support.v4.util.Pair\nimport android.view.View\n\n/**\n * Helper class for creating content transitions used with [android.app.ActivityOptions].\n */\nobject TransitionHelper {\n/**\n * Create the transition participants required during a activity transition while\n * avoiding glitches with the system UI.\n\n * @param activity The activity used as start for the transition.\n *\n * @param includeStatusBar If false, the status bar will not be added as the transition\n * participant.\n *\n * @return All transition participants.\n */\n@TargetApi(Build.VERSION_CODES.LOLLIPOP)\nfun createSafeTransitionParticipants(activity: Activity,\n                                     includeStatusBar: Boolean,\n                                     vararg others: Pair&lt;View, String&gt;\n): Array&lt;Pair&lt;View, String&gt;&gt; {\n    // Avoid system UI glitches as described here:\n    // https://plus.google.com/+AlexLockwood/posts/RPtwZ5nNebb\n\n    return ArrayList&lt;Pair&lt;View, String&gt;&gt;(3).apply {\n        if (includeStatusBar) {\n            addViewById(activity, android.R.id.statusBarBackground, this)\n        }\n        addViewById(activity, android.R.id.navigationBarBackground, this)\n        addAll(others.toList())\n\n    }.toTypedArray()\n}\n\n@TargetApi(Build.VERSION_CODES.LOLLIPOP)\nprivate fun addViewById(activity: Activity,\n                        @IdRes viewId: Int,\n                        participants: ArrayList&lt;Pair&lt;View, String&gt;&gt;) {\n    val view = activity.window.decorView.findViewById&lt;View&gt;(viewId)\n    view?.transitionName?.let { participants.add(Pair(view, it)) }\n}\n\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "java-9"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512490934, "post_id": 47657755, "comment_id": 82274850, "body": "to be pedantic, <code>module-info.java</code> is not <i>really</i> Java, it&#39;s a special DSL, BUT the Kotlin devs have said they <a href=\"https://discuss.kotlinlang.org/t/kotlin-support-for-java-9-module-system/2499\" rel=\"nofollow noreferrer\">see no value in reinventing it</a> so it will remain as-is."}, {"owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512491410, "post_id": 47657755, "comment_id": 82275172, "body": "Yes, thanks for the clarification!"}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 2, "creation_date": 1512494875, "post_id": 47657755, "comment_id": 82277363, "body": "What if you keep both the interface and impl in either Java or Kotlin. Does it compile then? Also, why would you compileKotlin using JVM 1.8?"}, {"owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "edited": false, "score": 0, "creation_date": 1512566121, "post_id": 47657755, "comment_id": 82309145, "body": "Thanks for commenting. An all-java solution compiles, while an all-kotlin solution would always be a mixed project, because as said modules-info.java is managed by javac, so the result is the same. Also, I don&#39;t think I&#39;m using JVM 1.8 for compileKotlin, just telling the compiler to use 1.8 target (it&#39;s the newest available); am I wrong?"}, {"owner": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "edited": false, "score": 1, "creation_date": 1555498774, "post_id": 47657755, "comment_id": 98130720, "body": "Starting with Kotlin version <a href=\"https://blog.jetbrains.com/kotlin/2019/04/kotlin-1-3-30-released/\" rel=\"nofollow noreferrer\">1.3.30</a> you can now specify jvmTarget 9-12."}, {"owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "reply_to_user": {"reputation": 596, "user_id": 4515050, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/88TBE.jpg?s=128&g=1", "display_name": "StephanS", "link": "https://stackoverflow.com/users/4515050/stephans"}, "edited": false, "score": 0, "creation_date": 1555600389, "post_id": 47657755, "comment_id": 98174773, "body": "@StephanS thanks, but it says &quot;Note that so far newer versions don\u2019t add any bytecode optimizations or features beyond the ones that exist in lower versions, but that is going to change in the future.&quot;  I don&#39;t think it helps much with the case at hand, as it still won&#39;t compile a modules-info.java."}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "edited": false, "score": 1, "creation_date": 1512553263, "post_id": 47669720, "comment_id": 82300949, "body": "Done, with a simple <code>jar { duplicatesStrategy = &quot;exclude&quot; }</code>"}], "tags": [], "owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "is_accepted": true, "score": 15, "last_activity_date": 1512548309, "creation_date": 1512548309, "answer_id": 47669720, "question_id": 47657755, "link": "https://stackoverflow.com/questions/47657755/building-a-kotlin-java-9-project-with-gradle/47669720#47669720", "title": "Building a Kotlin + Java 9 project with Gradle", "body": "<p>Solved! It was sufficient to set the kotlin compilation dir to the same dir as Java:</p>\n\n<pre><code>compileKotlin.destinationDir = compileJava.destinationDir\n</code></pre>\n\n<p>It works now, both with the sources in the same tree or in different trees; but with a quirk: the <code>jar</code> task produces a jar with all the entries duplicated. I'll work on fix this, next.</p>\n\n<p>Thanks to everyone!</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 2015786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f9d1b63f49dda1745b45eaf6207790e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Stoll", "link": "https://stackoverflow.com/users/2015786/robert-stoll"}, "is_accepted": false, "score": 2, "last_activity_date": 1521145495, "last_edit_date": 1521145495, "creation_date": 1521063212, "answer_id": 49287973, "question_id": 47657755, "link": "https://stackoverflow.com/questions/47657755/building-a-kotlin-java-9-project-with-gradle/49287973#49287973", "title": "Building a Kotlin + Java 9 project with Gradle", "body": "<p>I am using the following gradle script where I put the module-info.java under src/module. It gets automatically included in the jar (without duplicates):</p>\n\n<pre><code>if (JavaVersion.current() &gt;= JavaVersion.VERSION_1_9) {\n    subprojects {\n        def srcModule = \"src/module\"\n        def moduleInfo = file(\"${project.projectDir}/$srcModule/module-info.java\")\n        if (moduleInfo.exists()) {\n\n            sourceSets {\n                module {\n                    java {\n                        srcDirs = [srcModule]\n                        compileClasspath = main.compileClasspath\n                        sourceCompatibility = '9'\n                        targetCompatibility = '9'\n                    }\n                }\n                main {\n                    kotlin { srcDirs += [srcModule] }\n                }\n            }\n\n            compileModuleJava.configure {\n                dependsOn compileKotlin\n                destinationDir = compileKotlin.destinationDir\n                doFirst {\n                    options.compilerArgs = ['--module-path', classpath.asPath,]\n                    classpath = files()\n                }\n            }\n            jar.dependsOn compileModuleJava\n        }\n    }\n}\n</code></pre>\n\n<p>I won't update it any longer, have a look at <a href=\"https://github.com/robstoll/atrium/blob/master/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/robstoll/atrium/blob/master/build.gradle</a>\nto see the current version in use.</p>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 2, "last_activity_date": 1570121301, "creation_date": 1570121301, "answer_id": 58223625, "question_id": 47657755, "link": "https://stackoverflow.com/questions/47657755/building-a-kotlin-java-9-project-with-gradle/58223625#58223625", "title": "Building a Kotlin + Java 9 project with Gradle", "body": "<p>The accepted answer did not work for me (atleast not the way it was presented), but this is what worked:</p>\n\n<pre><code>plugins {\n    id \"org.jetbrains.kotlin.jvm\" version \"1.3.50\"\n}\n\ncompileKotlin {\n    doFirst {\n        destinationDir = compileJava.destinationDir\n    }\n}\n\njar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n\n<p>Doing it the way the accepted answer suggests led to me getting this error:</p>\n\n<blockquote>\n  <p>Directory '/path/to/project/build/classes/kotlin/main' specified for\n  property 'compileKotlinOutputClasses' does not exist.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Gradle version</strong>: 5.6</p>\n"}], "owner": {"reputation": 441, "user_id": 9057153, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uno4JJ6d80E/AAAAAAAAAAI/AAAAAAAABK8/-NYAOjEDDXo/photo.jpg?sz=128", "display_name": "Germano Rizzo", "link": "https://stackoverflow.com/users/9057153/germano-rizzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7304, "favorite_count": 8, "accepted_answer_id": 47669720, "answer_count": 3, "score": 19, "last_activity_date": 1570121301, "creation_date": 1512489546, "last_edit_date": 1512494832, "question_id": 47657755, "link": "https://stackoverflow.com/questions/47657755/building-a-kotlin-java-9-project-with-gradle", "title": "Building a Kotlin + Java 9 project with Gradle", "body": "<p>I'm fairly new to Gradle (and Java 9, to be honest), and I'm trying to use Gradle to build a simple library project that is a mix of Java 9 and Kotlin. More in detail, there is an interface in Java and an implementation in Kotlin; I'd do everything in Kotlin, but the <code>modules-info.java</code> is java anyway, so I decided to do things this way.</p>\n\n<p>I'm building on IntelliJ Idea, with the 1.2.0 kotlin plugin and gradle 4.3.1 defined externally.</p>\n\n<p>Filesystem schema is:</p>\n\n<pre><code>+ src\n  + main\n    + java\n      + some.package\n        - Roundabout.java [an interface]\n      - module-info.java\n    + kotlin\n      + some.package.impl\n        - RoundaboutImpl.kt [implementing the interface]\n</code></pre>\n\n<p><code>module-info.java</code> is:</p>\n\n<pre><code>module some.package {\n  requires kotlin.stdlib;\n  exports some.package;\n}\n</code></pre>\n\n<p>and <code>build.gradle</code> is:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.0'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'some.package'\nversion '1.0-PRE_ALPHA'\n\napply plugin: 'java-library'\napply plugin: 'kotlin'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\nsourceCompatibility = 9\n\ncompileJava {\n    dependsOn(':compileKotlin')\n    doFirst {\n        options.compilerArgs = [\n                '--module-path', classpath.asPath,\n        ]\n        classpath = files()\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile group: 'org.jetbrains.kotlin', name: 'kotlin-stdlib', version: \"$kotlin_version\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Notice that I had to specify a module path on the java compile task, or the compilation fails with:</p>\n\n<blockquote>\n  <p>error: module not found: kotlin.stdlib\n  requires kotlin.stdlib;</p>\n</blockquote>\n\n<p>Anyway, now this build fails with this error, and I can't figure out how to solve it:</p>\n\n<blockquote>\n  <p>error: package some.package.impl does not exist</p>\n  \n  <p>import some.package.impl.RoundaboutImpl;</p>\n  \n  <p>error: cannot find symbol</p>\n  \n  <p>return new RoundaboutImpl&lt;>(queueSize, parallelism, worker, threadPool);</p>\n</blockquote>\n\n<p>I <em>think</em> that the Kotlin part of the compilation is going ok, then the java part fails because it doesn't \"see\" the kotlin side, so to speak.</p>\n\n<p>I think I should tell it somehow to to load the already compiled kotlin classes in the classpath; but (first) how do I do this in gradle? and (second) <em>is it even possible</em>? I think you can't mix module path and class path in Java 9.</p>\n\n<p>How can I solve this? I think it is a pretty common situation, as every java9-style module will be a mixed-language module (because of <code>module-info.java</code>), so I think I'm missing something really basic here.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "edited": false, "score": 0, "creation_date": 1512484899, "post_id": 47656084, "comment_id": 82270540, "body": "Indeed, I think the suppress warning is the best option for me, as the feature is not adapted for me."}], "tags": [], "owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1512484416, "creation_date": 1512484416, "answer_id": 47656084, "question_id": 47655345, "link": "https://stackoverflow.com/questions/47655345/how-to-handle-accessibility-in-custom-view-when-it-is-not-designed-for-handling/47656084#47656084", "title": "How to handle accessibility in custom view when it is not designed for handling clicks?", "body": "<p>I see two options here:</p>\n\n<p>1, Add suppress lint warning annotation for <code>onTouchEvent</code></p>\n\n<pre><code>@SuppressLint(\"ClickableViewAccessibility\")\n</code></pre>\n\n<p>2, override performClick:</p>\n\n<pre><code>override fun performClick(): Boolean {\n    return super.performClick()\n}\n</code></pre>\n\n<p>Your choice ;-)</p>\n"}], "owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 47656084, "answer_count": 1, "score": 2, "last_activity_date": 1512484416, "creation_date": 1512482137, "question_id": 47655345, "link": "https://stackoverflow.com/questions/47655345/how-to-handle-accessibility-in-custom-view-when-it-is-not-designed-for-handling", "title": "How to handle accessibility in custom view when it is not designed for handling clicks?", "body": "<p>I've written a chessboard component in android, by subclassing view. It only process drag and drop from user. But Android Studio complains about the fact that performClick is not handled for this view, so that accessibility is not handled correctly.</p>\n\n<p>But as I manage Dnd and not a simple click, how to resolve this problem ?\nIn fact, I am just overriding onTouchEvent, managing ACTION_DOWN, ACTION_MOVE and ACTION_UP. But I can't see how to adapt the code for onPerformClick.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-experimental"], "answers": [{"tags": [], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "is_accepted": true, "score": 5, "last_activity_date": 1515510197, "creation_date": 1515510197, "answer_id": 48171029, "question_id": 47655197, "link": "https://stackoverflow.com/questions/47655197/cant-find-referenced-class-kotlin-internal-annotations-avoiduninitializedobject/48171029#48171029", "title": "Can&#39;t find referenced class kotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck", "body": "<p>The issue has been <a href=\"https://youtrack.jetbrains.com/issue/KT-21628\" rel=\"noreferrer\">fixed</a> in Kotlin 1.2.20.</p>\n"}], "owner": {"reputation": 4770, "user_id": 1552622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0DBwH.jpg?s=128&g=1", "display_name": "makovkastar", "link": "https://stackoverflow.com/users/1552622/makovkastar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 1, "accepted_answer_id": 48171029, "answer_count": 1, "score": 11, "last_activity_date": 1515510197, "creation_date": 1512481700, "last_edit_date": 1592644375, "question_id": 47655197, "link": "https://stackoverflow.com/questions/47655197/cant-find-referenced-class-kotlin-internal-annotations-avoiduninitializedobject", "title": "Can&#39;t find referenced class kotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck", "body": "<p>When ProGuard is enabled for an Android project with Kotlin, the Gradle build fails with the following error:</p>\n<blockquote>\n<p>Warning: HomeChargerLocation: can't find\nreferenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning: HomeChargerLocation$Address:\ncan't find referenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning: HomeChargerLocation$Address$Creator:\ncan't find referenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning: HomeChargerLocation$Car: can't\nfind referenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning:\nHomeChargerLocation$Car$Creator: can't\nfind referenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning: HomeChargerLocation$Creator:\ncan't find referenced class\nkotlin.internal.annotations.AvoidUninitializedObjectCopyingCheck</p>\n<p>Warning: Exception while processing task java.io.IOException: Please\ncorrect the above warnings first.</p>\n</blockquote>\n<p>The corresponding classes: <a href=\"https://gist.github.com/makovkastar/cfa4bf1bea38556279f20eef46001cf8\" rel=\"noreferrer\">https://gist.github.com/makovkastar/cfa4bf1bea38556279f20eef46001cf8</a></p>\n<p>I assume it has something to do with the <code>@Parcelize</code> annotation from the Kotlin experimental package, because the problem appeared when we started using it.</p>\n<p><strong>UPDATE</strong>: I have created an issue in the Kotlin bug tracker -\n<a href=\"https://youtrack.jetbrains.com/issue/KT-21628\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-21628</a></p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1512511978, "post_id": 47654898, "comment_id": 82286321, "body": "What is your use-case for joining an actor? Do you send an actor some special message that should cause its termination and you want to wait until that message it is processed or do you intent to cancel that actor, forcing it to abort its work, and you want to wait until it closes all resources? What is the underlying reason to wait? What are you trying to accomplish?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1512542378, "post_id": 47654898, "comment_id": 82295185, "body": "The first (though it isn&#39;t a single message, the actor&#39;s logic is handle a specific number of messages, then stop and close its resources)."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1512542756, "post_id": 47654898, "comment_id": 82295385, "body": "Of course for this case there is an option of modifying the actor to send a signal using a <code>Channel</code> or <code>CompletableDeferred</code> when it&#39;s done."}], "answers": [{"comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1512593696, "post_id": 47669430, "comment_id": 82325974, "body": "It seems to be the best solution for now, until better idioms are provided for this particular use-case."}, {"owner": {"reputation": 711, "user_id": 4033886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1187066202/picture?type=large", "display_name": "Winter Young", "link": "https://stackoverflow.com/users/4033886/winter-young"}, "edited": false, "score": 0, "creation_date": 1533262641, "post_id": 47669430, "comment_id": 90292236, "body": "This effectively means you gave up using actors, right?"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1512547134, "creation_date": 1512547134, "answer_id": 47669430, "question_id": 47654898, "link": "https://stackoverflow.com/questions/47654898/how-best-to-wait-until-the-actor-stops-in-kotlinx-coroutines-0-20/47669430#47669430", "title": "How best to wait until the actor stops in kotlinx.coroutines 0.20?", "body": "<p>What I ended up doing is creating a <code>Channel</code> and then separately <code>launch</code>ing a <code>Job</code> iterating over this channel.</p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 47669430, "answer_count": 1, "score": 1, "last_activity_date": 1512547134, "creation_date": 1512480832, "question_id": 47654898, "link": "https://stackoverflow.com/questions/47654898/how-best-to-wait-until-the-actor-stops-in-kotlinx-coroutines-0-20", "title": "How best to wait until the actor stops in kotlinx.coroutines 0.20?", "body": "<p>In kotlinx.coroutines 0.19, <code>actor</code> returns <code>ActorJob</code> which can be <code>join</code>ed: </p>\n\n<pre><code>val myActor = actor&lt;...&gt; { ... }\n...\nmyActor.join()\n</code></pre>\n\n<p>In 0.20, it's changed to return <code>SendChannel</code>. Looking at the implementation, it does still return an instance of a class which extends <code>Job</code>, so I <em>could</em> write</p>\n\n<pre><code>...\n(myActor as Job).join()\n</code></pre>\n\n<p>but this is an obvious code smell. Is there a better alternative?</p>\n"}, {"tags": ["java", "kotlin", "async-await", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 5, "creation_date": 1512479825, "post_id": 47654537, "comment_id": 82267241, "body": "See <a href=\"https://discuss.kotlinlang.org/t/calling-coroutines-suspend-functions-via-reflection/4672\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 7271796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGXB.png?s=128&g=1", "display_name": "MrPowerGamerBR", "link": "https://stackoverflow.com/users/7271796/mrpowergamerbr"}, "edited": false, "score": 1, "creation_date": 1537917015, "post_id": 47683449, "comment_id": 91955939, "body": "Note: If you are using Kotlin 1.3, you should change <code>suspendCoroutineOrReturn</code> to <code>suspendCoroutineUninterceptedOrReturn</code>"}, {"owner": {"reputation": 2841, "user_id": 1307108, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a3597ff7f20fe726589d2dbf56e3fb66?s=128&d=identicon&r=PG", "display_name": "Groostav", "link": "https://stackoverflow.com/users/1307108/groostav"}, "edited": false, "score": 0, "creation_date": 1564136708, "post_id": 47683449, "comment_id": 100940495, "body": "note that the function <code>kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOr&zwnj;&#8203;Return</code> is not one intelliJ finds with auto-import: you have to import it manually, or fully qualify it as you type it."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 11, "last_activity_date": 1548709545, "last_edit_date": 1548709545, "creation_date": 1512594360, "answer_id": 47683449, "question_id": 47654537, "link": "https://stackoverflow.com/questions/47654537/how-to-run-suspend-method-via-reflection/47683449#47683449", "title": "How to run suspend method via reflection?", "body": "<p><strong>Update</strong></p>\n\n<p>Since Kotlin 1.3 reflection natively supports calling suspending functions via <code>KFunction.callSuspend</code> and <code>KFunction.callSuspendBy</code>, so the above workaround is no longer needed.</p>\n\n<p><strong>Original Answer</strong></p>\n\n<p>Every <code>suspend</code> method in Kotlin is represented on JVM via CPS transformation that is explained in the <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#continuation-passing-style\" rel=\"nofollow noreferrer\">coroutines design document</a>. Java reflection is not aware about it and Kotlin reflection does not currently provide convenient means to perform invocation of suspending function either.</p>\n\n<p>You'll have to do invocation with CPS transformation yourself via helper function. I'd suggest to implement the following helper for this purpose:</p>\n\n<pre><code>import java.lang.reflect.Method\nimport kotlin.coroutines.experimental.intrinsics.*\n\nsuspend fun Method.invokeSuspend(obj: Any, vararg args: Any?): Any? =\n    suspendCoroutineOrReturn { cont -&gt;\n        invoke(obj, *args, cont)\n    }\n</code></pre>\n\n<p>Now if you replace <code>invoke</code> with <code>invokeSuspend</code> in your code, then it is going to work just like expected.</p>\n"}], "owner": {"reputation": 1452, "user_id": 4467714, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/u5h1h.jpg?s=128&g=1", "display_name": "Artem Selivanov", "link": "https://stackoverflow.com/users/4467714/artem-selivanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1605, "favorite_count": 1, "accepted_answer_id": 47683449, "answer_count": 1, "score": 3, "last_activity_date": 1552981756, "creation_date": 1512479623, "last_edit_date": 1552981756, "question_id": 47654537, "link": "https://stackoverflow.com/questions/47654537/how-to-run-suspend-method-via-reflection", "title": "How to run suspend method via reflection?", "body": "<p>There is an coroutine block that can runs suspend functions.</p>\n\n<p>But I call the function by <code>invoke</code> via reflection. This is java style invocation, apparently a simple call will not work.\nAre there ways to run reflected method asynchronously? How to await this method?</p>\n\n<pre><code>import kotlin.coroutines.experimental.*\n\nclass TestClass(val InString: String) {\n    suspend fun printString() {\n        println(InString)\n    }\n}\n\nfun launch(context: CoroutineContext, block: suspend () -&gt; Unit) =\n        block.startCoroutine(StandaloneCoroutine(context))\n\nprivate class StandaloneCoroutine(override val context: CoroutineContext): Continuation&lt;Unit&gt; {\n    override fun resume(value: Unit) {}\n\n    override fun resumeWithException(exception: Throwable) {\n        val currentThread = Thread.currentThread()\n        currentThread.uncaughtExceptionHandler.uncaughtException(currentThread, exception)\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    launch(EmptyCoroutineContext) {\n        val a = TestClass(\"TestString\");\n\n        for (method in a.javaClass.methods) {\n            if (method.name == \"printString\")\n                method.invoke(a)  // Exception in thread \"main\" java.lang.IllegalArgumentException: wrong number of arguments \n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1549, "user_id": 2940948, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/285bd42a89c75aee90c434857d743ea1?s=128&d=identicon&r=PG&f=1", "display_name": "mownier", "link": "https://stackoverflow.com/users/2940948/mownier"}, "edited": false, "score": 0, "creation_date": 1565911479, "post_id": 47654504, "comment_id": 101502378, "body": "what did you do to resolve the error? i&#39;m experiencing this issue too in Galaxy S6. i&#39;m using Fuel library."}], "owner": {"reputation": 39, "user_id": 8820429, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fUHYfuN82sE/AAAAAAAAAAI/AAAAAAAABws/W4itjjPvXEE/photo.jpg?sz=128", "display_name": "Igor Kluev", "link": "https://stackoverflow.com/users/8820429/igor-kluev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1603, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1606132843, "creation_date": 1512479490, "last_edit_date": 1606132843, "question_id": 47654504, "link": "https://stackoverflow.com/questions/47654504/fuel-timeout-connection", "title": "Fuel TimeOut Connection", "body": "<p>I have an issue with an app I am working on, especially on Galaxy 6.</p>\n<p>What the app needs to do is to send a server request once a cann recieved or created therefor I am useing a BroadcastReceiver() which recieves the calls using</p>\n<p>intent.action == &quot;android.intent.action.NEW_OUTGOING_CALL&quot;</p>\n<p>statement and if its not true tn e it means call has been recieved, anyway my issue is that whenever a Call is recieved or started, My Fuel post Request most of the time getting timed out error exception!!</p>\n<p>I tried replacing a library(amitshekhariitbhu/Fast-Android-Networking) but the exception returns, the issue seams to be only on that device cause on other devices it works great</p>\n<p>My Code\noverride fun onIncomingCallReceived(ctx: Context?, number: String?, start: Date?)\n{\nMyApplicationClass.instance.printLog(&quot;State A0 &quot;);</p>\n<pre><code>    MyApplicationClass.instance.upDateUserStatus(ctx,&quot;RING&quot;,number,start?.time.toString(),&quot;fasle&quot;,object : MyApplicationClass.PushReplacer\n    {\n        override fun replacedPush(jsonObject: JSONObject)\n        {\n            MyApplicationClass.instance.printLog(&quot;State A3 &quot;);\n            if(ctx != null &amp;&amp; jsonObject != null) MyApplicationClass.instance.openNotif(ctx!!,jsonObject);\n        }\n\n    },true);\n\n    Log.e(&quot;Phone&quot;, &quot;onIncomingCajllReceived&quot;);\n    Log.e(&quot;call&quot;, &quot;A6&quot;);\n}\n\n\n\n    doAsync {\n\n        ServerRequestName.change_user_status.httpPost()\n                .header(&quot;Content-Type&quot; to &quot;application/json&quot;)\n                .header(&quot;JWToken&quot; to getJWToken(context))\n                .header(&quot;encrypt&quot; to Constants.instance.ENCRYPT)\n                .body(bodyParameters(status,i_am_talking_with,timeStamp,report).toString())\n                .timeout(10000)\n                .timeoutRead(60000)\n                .responseString{request, response, result -&gt;\n                    when(result)\n                    {\n                        is Result.Success-&gt;\n                        {\n                            val data : JSONObject = JSONObject(result.get());\n\n                            if(data.has(&quot;error&quot;))\n                            {\n                                uiThread {\n\n                                    MyApplicationClass.instance.printLog(&quot;State A2 Data Sended Call Failed status1:$status talking with: $i_am_talking_with&quot;)\n                                    //recieved data but had error in it//\n\n                                    if(reConnectOnFail)\n                                    {\n                                        MyApplicationClass.instance.printLog(&quot;State A2 Data Sended Call Success status1:$status talking with: $i_am_talking_with&quot;)\n                                        upDateUserStatus(context,status,i_am_talking_with,timeStamp,report,pushreplacer,false)\n                                    }\n\n                                }\n                            }\n                            else\n                            {\n                                uiThread {\n\n                                    MyApplicationClass.instance.printLog(&quot;State A1 Data Sended Call Success status2:$status talking with: $i_am_talking_with&quot;)\n\n                                    if(data.has(&quot;push&quot;) &amp;&amp; data.getJSONObject(&quot;push&quot;).length() != 0)\n                                    {\n                                        pushreplacer.replacedPush(data.getJSONObject(&quot;push&quot;));\n                                    }\n\n                                }\n                                //recieved data successfully//\n                            }\n\n                        }\n\n                        is Result.Failure-&gt;\n                        {\n\n                            val data : JSONObject = JSONObject(result.get());\n\n                            MyApplicationClass.instance.printLog(&quot;State A2 Data Sended Call Failed status:$status talking with: $i_am_talking_with&quot;);\n\n                            uiThread {\n\n                                if(reConnectOnFail)\n                                {\n                                    upDateUserStatus(context,status,i_am_talking_with,timeStamp,report,pushreplacer,false)\n                                }\n                            }\n\n                            //recieved error//\n                        }\n                    }\n                }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 1, "last_activity_date": 1512593624, "creation_date": 1512593624, "answer_id": 47683285, "question_id": 47654180, "link": "https://stackoverflow.com/questions/47654180/can-sendchannel-offer-completabledeferred-complete-and-similar-be-called-o/47683285#47683285", "title": "Can `SendChannel.offer`, `CompletableDeferred.complete`, and similar be called outside coroutines?", "body": "<p>It is safe to call <code>offer</code> and <code>close</code> from anywhere. That is what documentation means to say with \"are thread-safe\" phrase. </p>\n\n<p>One of the reasons these methods are included into channel APIs is to enable integration of coroutines with the regular non-coroutine world that is based on various callbacks and event handlers. You can see the actual example of such integration in this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md\" rel=\"nofollow noreferrer\">guide on UI programming with coroutines</a>. </p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 47683285, "answer_count": 1, "score": 1, "last_activity_date": 1512593624, "creation_date": 1512478607, "question_id": 47654180, "link": "https://stackoverflow.com/questions/47654180/can-sendchannel-offer-completabledeferred-complete-and-similar-be-called-o", "title": "Can `SendChannel.offer`, `CompletableDeferred.complete`, and similar be called outside coroutines?", "body": "<p><code>CompletableDeferred</code> documentation says</p>\n\n<blockquote>\n  <p>All functions on this interface and on all interfaces derived from it are thread-safe and can be safely invoked from concurrent coroutines without external synchronization.</p>\n</blockquote>\n\n<p>Is it safe to call these functions outside any coroutine? </p>\n\n<p>For <code>SendChannel&lt;E&gt;</code>, <code>offer</code> and <code>close</code> are not <code>suspend</code> and so they can be called outside coroutines syntactically, but is it actually safe to do so? </p>\n\n<p>If a coroutine <em>is</em> needed, what is the cheapest way to start one: <code>launch(Unconfined)</code>?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1512467888, "post_id": 47650503, "comment_id": 82259549, "body": "so what did you try with <code>MediaRecorder</code>? what does your code look like?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1512469686, "post_id": 47650503, "comment_id": 82260771, "body": "@pskink two of the same comment there"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1512469779, "post_id": 47650503, "comment_id": 82260842, "body": "bcause OP did non answer my question in any way..."}, {"owner": {"reputation": 89, "user_id": 9055402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9289f8b23aeded83ee00bf3e14649a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Meena", "link": "https://stackoverflow.com/users/9055402/pankaj-meena"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1512470103, "post_id": 47650503, "comment_id": 82261072, "body": "@pskink my code is very huge and it&#39;s not possible to share here. please let me know if there any way to reduce size of video at time of recording."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1512470352, "post_id": 47650503, "comment_id": 82261237, "body": "did you read <code>MediaRecorder</code> documentation? if so, whats unclear?"}, {"owner": {"reputation": 89, "user_id": 9055402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9289f8b23aeded83ee00bf3e14649a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Meena", "link": "https://stackoverflow.com/users/9055402/pankaj-meena"}, "edited": false, "score": 0, "creation_date": 1512470580, "post_id": 47650503, "comment_id": 82261368, "body": "mediaRecorder.setVideoSize(640, 480); mediaRecorder.setVideoFrameRate(); mediaRecorder.setVideoEncodingBitRate();    mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H26&zwnj;&#8203;4);  i used this lines from media recorder to reduce size of video but didn&#39;t wrok for me"}, {"owner": {"reputation": 89, "user_id": 9055402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9289f8b23aeded83ee00bf3e14649a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Meena", "link": "https://stackoverflow.com/users/9055402/pankaj-meena"}, "edited": false, "score": 0, "creation_date": 1512474020, "post_id": 47650503, "comment_id": 82263563, "body": "At the time of recording and preview view both looks different, with use of mediaRecorder.setVideoSize(320, 240);"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4260970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13329f7418c9e9249259c8f37642d34?s=128&d=identicon&r=PG&f=1", "display_name": "Harshit Saxena", "link": "https://stackoverflow.com/users/4260970/harshit-saxena"}, "edited": false, "score": 0, "creation_date": 1594725414, "post_id": 47655134, "comment_id": 111220060, "body": "If it worked for you.. mark your answer as correct answer. It will help others to solve same kind of problem."}], "tags": [], "owner": {"reputation": 89, "user_id": 9055402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9289f8b23aeded83ee00bf3e14649a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Meena", "link": "https://stackoverflow.com/users/9055402/pankaj-meena"}, "is_accepted": true, "score": 3, "last_activity_date": 1512483312, "last_edit_date": 1512483312, "creation_date": 1512481550, "answer_id": 47655134, "question_id": 47650503, "link": "https://stackoverflow.com/questions/47650503/how-can-reduce-video-size-at-time-of-recording-android/47655134#47655134", "title": "how can reduce video size at time of recording, Android?", "body": "<p>I got my answer with the use of media Recording Documentation and added this lines in code:</p>\n\n<pre><code>mediaRecorder.setVideoEncodingBitRate(1000000);\nmediaRecorder.setVideoSize(1280, 720);\nmediaRecorder.setOutputFile(folder.getAbsolutePath()+\"/\"+mediaFileName+\".mp4\");\nmediaRecorder.setPreviewDisplay(surfaceHolder.getSurface());\nmediaRecorder.setVideoFrameRate(18);\nmediaRecorder.setOrientationHint(mOrientation);\n</code></pre>\n\n<p>After this, I get a lower size of video with good quality.</p>\n"}], "owner": {"reputation": 89, "user_id": 9055402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9289f8b23aeded83ee00bf3e14649a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Meena", "link": "https://stackoverflow.com/users/9055402/pankaj-meena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2571, "favorite_count": 1, "accepted_answer_id": 47655134, "answer_count": 1, "score": 3, "last_activity_date": 1512483959, "creation_date": 1512467371, "last_edit_date": 1512483959, "question_id": 47650503, "link": "https://stackoverflow.com/questions/47650503/how-can-reduce-video-size-at-time-of-recording-android", "title": "how can reduce video size at time of recording, Android?", "body": "<p><em>ffmpeg</em>, <em>mediacodec</em>, and <em>mp4parser</em> codecs are taking time to compress, so is there any other way to reduce size of video at time of recording?</p>\n\n<p>I am using <a href=\"https://developer.android.com/reference/android/media/MediaRecorder.html\" rel=\"nofollow noreferrer\"><code>MediaRecorder</code></a> for recording videos but it creates a lot of data, and I want to reduce it as I'm not able to upload it.</p>\n"}, {"tags": ["android", "checkbox", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "edited": false, "score": 1, "creation_date": 1512466816, "post_id": 47650088, "comment_id": 82258849, "body": "This is happening probably because RecylerView recycling logic. When you scroll up, a view that disappears to the bottom is added to the top. In your case: the view with a checked checkbox is recycled (bound) to be used at another spot, which is not what you want. This can be fixed using the onBindViewHolder call, and decorating the UI according to the data state at every bind. Mind sharing what logic you have there?"}, {"owner": {"reputation": 347, "user_id": 4841397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2420c44e980373e89848e8594c809?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/4841397/vlad"}, "edited": false, "score": 1, "creation_date": 1512467257, "post_id": 47650088, "comment_id": 82259144, "body": "@MehmetKologu is right. Your &#39;onBindViewHolder&#39; mechanics should make sure you set the proper text and checked state to your CheckBox. If you could post your implementation there it would be helpful. Also as a side note, on your last line checking <code>if (selectedItems.contains(itemText))</code> is rather redundant. You could just call <code>selectedItems.remove(itemText)</code>. It does nothig if the item is not contained."}, {"owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "reply_to_user": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "edited": false, "score": 0, "creation_date": 1512467260, "post_id": 47650088, "comment_id": 82259149, "body": "Thank you for clarification @Mehmet. I added my onBindViewHolder-snippet to the bottom of my post"}, {"owner": {"reputation": 347, "user_id": 4841397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2420c44e980373e89848e8594c809?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/4841397/vlad"}, "edited": false, "score": 0, "creation_date": 1512467276, "post_id": 47650088, "comment_id": 82259161, "body": "just add a line to your onBind method to set the checkbox value. This should look like this : <code>itemText holder?.checkBox?.setChecked(selectedItems.contains(dataset[&zwnj;&#8203;\u200c\u200bposition]))</code>. Hope this helps"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1512467643, "post_id": 47650088, "comment_id": 82259415, "body": "In your onBindViewHolder, you&#39;re setting the text to the correct one. You also need to set the state of the checkBox the same way. It might mean re-thinking what your dataset contains, or going through your selectedItems to decide if you need to check the checkBox for the current item or not."}], "answers": [{"tags": [], "owner": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "is_accepted": true, "score": 6, "last_activity_date": 1519053558, "last_edit_date": 1519053558, "creation_date": 1512467623, "answer_id": 47650596, "question_id": 47650088, "link": "https://stackoverflow.com/questions/47650088/unwanted-checkbox-selections-in-recyclerview-in-kotlin-android/47650596#47650596", "title": "Unwanted Checkbox selections in RecyclerView in Kotlin (Android)", "body": "<p>This is probably happening because of the RecyclerView recycling logic. When you scroll up, a view that disappears to the bottom is added to the top. In your case: the view with a checked checkbox is recycled (bound) to be used at another spot, which is not what you want. To fix this you need to keep tracked of what views should have a checked checkbox. Only change the state of the checkbox in a view depending on the data state associated with that view. Since you're already keeping track of items that should be checked in the <code>selectedItems</code> array, just add the following code to <code>onBindViewHolder</code>.</p>\n\n<p><code>holder?.checkbox?.isChecked = selectedItems.contains(itemText)</code></p>\n"}, {"tags": [], "owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1534246401, "creation_date": 1534246401, "answer_id": 51840436, "question_id": 47650088, "link": "https://stackoverflow.com/questions/47650088/unwanted-checkbox-selections-in-recyclerview-in-kotlin-android/51840436#51840436", "title": "Unwanted Checkbox selections in RecyclerView in Kotlin (Android)", "body": "<p>Try this , this worked for me</p>\n\n<p>Declare a <strong>boolean</strong> field in your data modal class with other useful fields</p>\n\n<pre><code> public boolean isIs_selected() {\n        return is_selected;\n    }\n\n    public void setIs_selected(boolean is_selected) {\n        this.is_selected = is_selected;\n    }\n\n    boolean is_selected = false;\n</code></pre>\n\n<p>then in adapter class do this\nin <code>MyViewHolder</code> class</p>\n\n<pre><code>private inner class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n            init {\n              val checkBox: CheckBox = view.findViewById(R.id.checkbox)\n              val text: TextView = view.findViewById(R.id.text)\n            }\n        }\n</code></pre>\n\n<p>then finally in <code>onBindViewHolder</code> method do this</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {     \n            //in some cases, it will prevent unwanted situations\n            holder. checkbox!!.setOnCheckedChangeListener(null);\n\n            //if true, your checkbox will be selected, else unselected\n            holder. checkbox!!.setChecked(array.get(position).isIs_selected());\n\n            holder. checkbox!!.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n                dataSet.get(holder.adapterPosition).isIs_selected=isChecked\n\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2410, "favorite_count": 0, "accepted_answer_id": 47650596, "answer_count": 2, "score": 1, "last_activity_date": 1534246466, "creation_date": 1512466006, "last_edit_date": 1534246466, "question_id": 47650088, "link": "https://stackoverflow.com/questions/47650088/unwanted-checkbox-selections-in-recyclerview-in-kotlin-android", "title": "Unwanted Checkbox selections in RecyclerView in Kotlin (Android)", "body": "<p>In my app I have a RecyclerView which contains 15 static items consisting of a TextView and a CheckBox:</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/list\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginBottom=\"82dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:scrollbars=\"vertical\" /&gt;\n</code></pre>\n\n<p>On click on the item, the according checkbox is set to checked and the item is added to a selection-list.</p>\n\n<p><strong>The problem</strong>:\nWhen I scroll down and select an item, scroll up again I alwys see another checkbox checked. While debugging I noticed, that only my actually selected item has been added to the list, but nethertheless its a bad user experience when other items are checked/\"selected\" in the UI randomly.</p>\n\n<p>How can I stop this strange behaviour?</p>\n\n<p>I am using a view holder to manage the item views:</p>\n\n<pre><code>private inner class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n            val checkBox: CheckBox = view.findViewById(R.id.checkbox)\n            val text: TextView = view.findViewById(R.id.text)\n\n            init {\n                view.setOnClickListener { checkBox.isChecked = !checkBox.isChecked }\n                checkBox.setOnCheckedChangeListener { _, isChecked -&gt;\n                    val itemText = dataset[adapterPosition]\n                    logger.debug(\"state change $isChecked for $itemText\")\n                    if (isChecked) selectedItems.add(itemText)\n                    else {\n                        if (selectedItems.contains(itemText)) selectedItems.remove(itemText)\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>My onBindViewHolder()-method contains the following:</p>\n\n<pre><code>override fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n            val itemText = dataset[position]\n            holder?.text?.text = itemText\n        }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1512472936, "post_id": 47649203, "comment_id": 82262869, "body": "You certainly can use a string as a primary key. What specific problem did you encounter when you tried it?"}, {"owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1512474343, "post_id": 47649203, "comment_id": 82263792, "body": "@CommonsWare Currently none."}], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1550456285, "post_id": 47713348, "comment_id": 96261627, "body": "@juanmeanwhile how about for kotlin? does we have to annotate the <b>NonNull</b> as well?"}, {"owner": {"reputation": 2364, "user_id": 1312335, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/39bff1f7bd5a3beff1f5cfbd8ca69f88?s=128&d=identicon&r=PG", "display_name": "juanmeanwhile", "link": "https://stackoverflow.com/users/1312335/juanmeanwhile"}, "reply_to_user": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 3, "creation_date": 1550659444, "post_id": 47713348, "comment_id": 96347246, "body": "@mochadwi No need since the language already have a way of indicating that the String is not nullable."}], "tags": [], "owner": {"reputation": 2364, "user_id": 1312335, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/39bff1f7bd5a3beff1f5cfbd8ca69f88?s=128&d=identicon&r=PG", "display_name": "juanmeanwhile", "link": "https://stackoverflow.com/users/1312335/juanmeanwhile"}, "is_accepted": true, "score": 29, "last_activity_date": 1582870297, "last_edit_date": 1582870297, "creation_date": 1512732046, "answer_id": 47713348, "question_id": 47649203, "link": "https://stackoverflow.com/questions/47649203/is-it-possible-using-string-as-primarykey-in-android-room/47713348#47713348", "title": "Is it possible using String as PrimaryKey in Android Room", "body": "<p>Yes, you can use a <code>String</code> as a <code>@PrimaryKey</code>.</p>\n\n<p>Additionally, I also recommend making use of Kotlin's <code>data class</code> to simplify your entities. For example:</p>\n\n<pre><code>@Entity\ndata class Crew(@PrimaryKey val uuid: String, val name: String) {\n    // Put any functions or other members not initialized by the constructor here\n}\n</code></pre>\n"}], "owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10204, "favorite_count": 3, "accepted_answer_id": 47713348, "answer_count": 1, "score": 17, "last_activity_date": 1582870297, "creation_date": 1512462932, "question_id": 47649203, "link": "https://stackoverflow.com/questions/47649203/is-it-possible-using-string-as-primarykey-in-android-room", "title": "Is it possible using String as PrimaryKey in Android Room", "body": "<p>I use uuid in my java backend server. So I need to use that uuid in room android to make sure entities are sync'd properly.\nI am aware of <a href=\"https://stackoverflow.com/questions/7591492/is-it-possible-to-apply-primary-key-on-the-text-fields-in-android-database\">Is it possible to apply primary key on the text fields in android database</a> and  <a href=\"https://stackoverflow.com/questions/9207134/text-as-primarykey-in-android\">text as primarykey in android</a>. I want to create something like this</p>\n\n<pre><code>@Entity(tableName = CrewColumns.TABLE_NAME)\n@TypeConverters(BigDecimalConverter::class)\n@JsonIgnoreProperties(ignoreUnknown = true)\nclass Crew() {\n    constructor (uuid: String) : this() {\n        this.uuid = uuid;\n    }\n\n    /**\n     * The unique ID of the item.\n     */\n    @PrimaryKey\n    @ColumnInfo(name = CrewColumns.UUID)\n    var uuid: String = \"\"\n    @ColumnInfo(name = CrewColumns.NAME)\n    var name: String = \"\"\n}\n</code></pre>\n\n<p>Will it be a problem with Room (DAO etc)? Thank you.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1512463498, "last_edit_date": 1512463498, "creation_date": 1512462773, "answer_id": 47649174, "question_id": 47648925, "link": "https://stackoverflow.com/questions/47648925/kotlin-transform-value-at-initialisation/47649174#47649174", "title": "Kotlin - Transform value at initialisation", "body": "<p>You can encapsulate the \"upperCasing\" into a factory:</p>\n\n<pre><code>data class Category constructor(val label: String) {\n\n    init {\n        if (label != label.toUpperCase()) {\n            throw IllegalStateException(\"Label must be uppercase\")\n        }\n    }\n\n    companion object {\n        fun createInstance(str: String) = Category(str.toUpperCase())\n    }\n\n}\n</code></pre>\n\n<p>The <code>init</code> block ensures, that clients don't create unwanted instances with non-upper labels (which should be documented).</p>\n\n<p>Create an instance like this: </p>\n\n<p><code>val instance = Category.createInstance(\"xy\")</code></p>\n\n<p>You might want to make explicit that you do transformations if the parameter is not upper case already by naming the factory accordingly, e.g. <code>withTransformedLabel</code> or simply add some documentation ;-)</p>\n"}], "owner": {"reputation": 160, "user_id": 5259305, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cZAhgr71dC4/AAAAAAAAAAI/AAAAAAAAAEY/QXXNlkH82ew/photo.jpg?sz=128", "display_name": "spasfonx", "link": "https://stackoverflow.com/users/5259305/spasfonx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 47649174, "answer_count": 1, "score": 1, "last_activity_date": 1512463498, "creation_date": 1512461854, "question_id": 47648925, "link": "https://stackoverflow.com/questions/47648925/kotlin-transform-value-at-initialisation", "title": "Kotlin - Transform value at initialisation", "body": "<p>i'm new in kotlin and i want to know if we can transform a content value at initialisation : with this example :</p>\n\n<pre><code>@Document\ndata class Category(\n    @Id val id: Id? = null,\n    val label: String\n)\n</code></pre>\n\n<p>Category is a document (entity for mongodb) and when i'm instanciating this object, i want to transform label property in uppercase. How can i do that to stay idiomatic with the language ? The point is to keep the immutable properties of the <code>val</code> keyword.</p>\n\n<pre><code>val categ = Category(label = \"Test\")\nprintln(categ.label) // --&gt; TEST\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1512465503, "post_id": 47648689, "comment_id": 82258090, "body": "I suspect this is a variant of the static initialiser order problem in Java."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1514117688, "post_id": 47648689, "comment_id": 82890057, "body": "@smallufo: pls post your last update as answer, it does not belong in the question."}, {"owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1514121322, "post_id": 47648689, "comment_id": 82890872, "body": "@WilliMentzel OK , done."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1514124462, "post_id": 47648689, "comment_id": 82891630, "body": "@smallufo I removed the answer part from your question +1 +1"}], "answers": [{"tags": [], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "is_accepted": false, "score": 4, "last_activity_date": 1514121290, "creation_date": 1514121290, "answer_id": 47960892, "question_id": 47648689, "link": "https://stackoverflow.com/questions/47648689/sealed-classs-objects-mysteriously-becoming-null-when-referenced-by-other-compa/47960892#47960892", "title": "sealed class&#39;s objects mysteriously becoming null when referenced by other companion object", "body": "<p>The only way to get around this problem is to move the map definition outside the class :</p>\n\n<pre><code>val map = mapOf(\n  Alphabet.A to 1,\n  Alphabet.B to 2,\n  Alphabet.C to 3,\n  Alphabet.D to 4,\n  Alphabet.E to 5\n)\n\nclass AlphabetMap {\n  companion object {\n\n  }\n}\n</code></pre>\n\n<p>According to JetBrain's <a href=\"https://youtrack.jetbrains.com/issue/KT-21614#comment=27-2583294\" rel=\"nofollow noreferrer\">reply on youtrack</a> and <a href=\"https://www.reddit.com/r/Kotlin/comments/7hoytl/kotlin_team_ama_ask_us_anything/dqssfg9/\" rel=\"nofollow noreferrer\">reddit</a> , this is <strong>As Designed</strong> , no way to solve it. </p>\n\n<blockquote>\n  <p>The problem of cycles in initialization has no general solution. No\n  matter which exact rules we come up with, if the initializer of the\n  object A accesses object B and the initializer of object B accesses\n  object A, one of them will be able to observe the other in an\n  uninitialized state.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7501, "user_id": 1454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a0e3ce2508a262749c9fc3afd681f2d4?s=128&d=identicon&r=PG", "display_name": "Raibaz", "link": "https://stackoverflow.com/users/1454/raibaz"}, "edited": false, "score": 0, "creation_date": 1617271411, "post_id": 53608393, "comment_id": 118260442, "body": "This really saved me from a lot of headaches"}], "tags": [], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "is_accepted": false, "score": 1, "last_activity_date": 1543911281, "creation_date": 1543911281, "answer_id": 53608393, "question_id": 47648689, "link": "https://stackoverflow.com/questions/47648689/sealed-classs-objects-mysteriously-becoming-null-when-referenced-by-other-compa/53608393#53608393", "title": "sealed class&#39;s objects mysteriously becoming null when referenced by other companion object", "body": "<p>Another solution is to define <code>array</code> / <code>list</code> <code>by lazy</code> , which seems solves all issues here.</p>\n\n<pre><code>sealed class Alphabet(val name: String) {\n  object A : Alphabet(\"A\")\n  object B : Alphabet(\"B\")\n  object C : Alphabet(\"C\")\n  object D : Alphabet(\"D\")\n  object E : Alphabet(\"E\")\n\n  companion object {\n    val array: Array&lt;Alphabet&gt; by lazy {\n      arrayOf(A, B, C, D, E)\n    }\n    val list: List&lt;Alphabet&gt; by lazy {\n      listOf(A , B , C , D , E)\n    }\n  }\n\n  override fun toString(): String {\n    return name\n  }\n}\n</code></pre>\n\n<p>It works well now.</p>\n\n<pre><code>A B C D E \nA B C D E \n</code></pre>\n"}], "owner": {"reputation": 10010, "user_id": 298430, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/59f4dbadde568115653307fefda7e422?s=128&d=identicon&r=PG", "display_name": "smallufo", "link": "https://stackoverflow.com/users/298430/smallufo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 4, "answer_count": 2, "score": 17, "last_activity_date": 1543911281, "creation_date": 1512460755, "last_edit_date": 1514124418, "question_id": 47648689, "link": "https://stackoverflow.com/questions/47648689/sealed-classs-objects-mysteriously-becoming-null-when-referenced-by-other-compa", "title": "sealed class&#39;s objects mysteriously becoming null when referenced by other companion object", "body": "<p>There is a sealed class :</p>\n\n<pre><code>sealed class Alphabet(val name: String) {\n  object A : Alphabet(\"A\")\n  object B : Alphabet(\"B\")\n  object C : Alphabet(\"C\")\n  object D : Alphabet(\"D\")\n  object E : Alphabet(\"E\")\n\n  companion object {\n    val array = arrayOf(A, B, C, D, E)\n    val list = listOf(A, B, C, D, E)\n  }\n\n  override fun toString(): String {\n    return name\n  }\n}\n</code></pre>\n\n<p>And there is another class with companion object :</p>\n\n<pre><code>class AlphabetMap {\n\n  companion object {\n    val map = mapOf(\n      Alphabet.A to 1,\n      Alphabet.B to 2,\n      Alphabet.C to 3,\n      Alphabet.D to 4,\n      Alphabet.E to 5\n    )\n  }\n}\n</code></pre>\n\n<p>And if I want to print array (or list) :</p>\n\n<pre><code>class AlphabetTest {\n\n  @Test\n  fun printValues() {\n    Alphabet.array.forEach { print(\"$it \") };println()\n    Alphabet.list.forEach { print(\"$it \") };println()\n  }\n}\n</code></pre>\n\n<p>It correctly print the results :</p>\n\n<pre><code>A B C D E \nA B C D E\n</code></pre>\n\n<p>but if I initialize the <code>AlphabetMap</code> in the code :</p>\n\n<pre><code>class AlphabetTest {\n\n  val m = AlphabetMap()\n\n  @Test\n  fun printValues() {\n    Alphabet.array.forEach { print(\"$it \") };println()\n    Alphabet.list.forEach { print(\"$it \") };println()\n  }\n}\n</code></pre>\n\n<p>The result mysteriously becomes :</p>\n\n<pre><code>null B C D E \nnull B C D E \n</code></pre>\n\n<p>The first element (A) becomes null</p>\n\n<p>If I define</p>\n\n<pre><code>val m = AlphabetMap\n</code></pre>\n\n<p>The result is the same.</p>\n\n<p>If I init AlphabetMap in the function :</p>\n\n<pre><code>  @Test\n  fun printValues() {\n    val m = AlphabetMap()  // or val m = AlphabetMap\n    Alphabet.array.forEach { print(\"$it \") };println()\n    Alphabet.list.forEach { print(\"$it \") };println()\n  }\n</code></pre>\n\n<p>The result is the same :</p>\n\n<pre><code>null B C D E \nnull B C D E \n</code></pre>\n\n<p>but if I init like this :</p>\n\n<pre><code>  @Test\n  fun printValues() {\n    Alphabet.array.forEach { print(\"$it \") };println()\n    val m = AlphabetMap() // or val m = AlphabetMap\n    Alphabet.list.forEach { print(\"$it \") };println()\n  }\n</code></pre>\n\n<p>Everything works fine now :</p>\n\n<pre><code>A B C D E \nA B C D E \n</code></pre>\n\n<p>If I rewrite the AlphabetMap to</p>\n\n<pre><code>class AlphabetMap {\n  companion object {\n    val map = mapOf(\n      //Alphabet.A to 1,\n      Alphabet.B to 2,\n      Alphabet.C to 3,\n      Alphabet.D to 4,\n      Alphabet.E to 5\n    )\n  }\n}\n</code></pre>\n\n<p>The result becomes </p>\n\n<pre><code>A null C D E \nA null C D E \n</code></pre>\n\n<p>And if AlphebetMap is :</p>\n\n<pre><code>class AlphabetMap {\n  companion object {\n    val map = mapOf(\n      Alphabet.E to 5\n    )\n  }\n}\n</code></pre>\n\n<p>The result becomes :</p>\n\n<pre><code>A B C D null \nA B C D null \n</code></pre>\n\n<p>What could go wrong ? Is it a bug ? or language feature ?</p>\n\n<p>Environments :\njdk1.8.0_144 , OS X</p>\n\n<pre><code>&lt;kotlin.version&gt;1.2.0&lt;/kotlin.version&gt;\n&lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;\n&lt;kotlin.compiler.incremental&gt;false&lt;/kotlin.compiler.incremental&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n  &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlinx-coroutines-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-studio-2.3"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1512457855, "post_id": 47647905, "comment_id": 82254061, "body": "clean and rebuild"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512458340, "post_id": 47647905, "comment_id": 82254327, "body": "Well, it is an internal error, looks like a bug"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512472612, "post_id": 47647905, "comment_id": 82262645, "body": "which kotlin version?"}, {"owner": {"reputation": 11, "user_id": 8743566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1729ae78e50151a39b2a709cac2179a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chauncy", "link": "https://stackoverflow.com/users/8743566/chauncy"}, "edited": false, "score": 0, "creation_date": 1512472847, "post_id": 47647905, "comment_id": 82262807, "body": "kotlin version is 1.2.0,and androidStudio is 2.3.3"}], "owner": {"reputation": 11, "user_id": 8743566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1729ae78e50151a39b2a709cac2179a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chauncy", "link": "https://stackoverflow.com/users/8743566/chauncy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512458016, "creation_date": 1512457525, "question_id": 47647905, "link": "https://stackoverflow.com/questions/47647905/i-am-now-developing-an-android-app-with-kotlin-but-it-occurred-an-errorcompilat", "title": "I am now developing an Android app with Kotlin,but it occurred an error:CompilationException: Couldn&#39;t inline method call &#39;readText&#39; into", "body": "<p>\nI'm now studying kotlin,but when I tried to use it for network request,the AndroidStudio threw an exception below with my code.\n</p>\n\n<pre><code>public class CustomRequest(val city_code:String){\n    fun execute():ForecastResult{\n        val url = URL(SERVER+PARAM)\n        val forecastResStr = url.readText()\n        Log.e(\"MyApplication\",forecastResStr)\n        return JSON.parseObject(forecastResStr,ForecastResult::class.java)\n    }\n\n}\n</code></pre>\n\n<p>\nNow I can't Compile with my app,please help.Thanks.</p>\n\n<p>\nthe exception is here:</p>\n\n<pre><code>Error:(18, 59) org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'readText' into\n    fun execute():DataResult{\n            val resultStr = URL (COMPLETE_URL+city_code).readText()\n            return JSON.parseObject(resultStr,SomeClass::class.java)\n        }\n\n    cause: Not generated\n    Cause: List has more than one element.\n    File being compiled and position: (18,59) in D:/WorkSpaces/asWorkSpace/xxx/xxx/x/DataResult.kt\n    PsiElement: readText()\n    The root cause was thrown at: _Collections.kt:473\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "is_accepted": false, "score": -1, "last_activity_date": 1512483136, "creation_date": 1512483136, "answer_id": 47655667, "question_id": 47647625, "link": "https://stackoverflow.com/questions/47647625/how-to-create-generic-response-handler-for-error-and-validate-response-using-ret/47655667#47655667", "title": "How to create Generic Response handler for error and validate response using retrofit,rxjava and dagger", "body": "<p><strong>Guide To Achieving Working Code</strong></p>\n\n<p>This is my guide to making some code work. It is based on the principles of <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" rel=\"nofollow noreferrer\">Test Driven Development</a>.</p>\n\n<ol>\n<li>Set up your unit test environment in your IDE. Personally, I have been using JUnit 4 with Eclipse, but you may prefer JUnit 5 with JetBrains' IDE.</li>\n<li>Write a unit test for your <code>ErrorCallback</code> class constructor. Make it pass. Next, write unit tests for each of the methods, to see that it behaves the way that you expect.</li>\n<li>Write unit tests where your test fixture is a <code>PublishSubject&lt;BaseResponse&lt;Integer&gt;&gt;</code> for some number of different cases: normal data, sequence of normal data, normal data followed by error, normal data followed by completion.</li>\n<li>From there, add some more tests so that you can test the entire observable chain.</li>\n</ol>\n"}], "owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512483136, "creation_date": 1512456395, "last_edit_date": 1512458251, "question_id": 47647625, "link": "https://stackoverflow.com/questions/47647625/how-to-create-generic-response-handler-for-error-and-validate-response-using-ret", "title": "How to create Generic Response handler for error and validate response using retrofit,rxjava and dagger", "body": "<p>I'm trying to create generic architecture to consume complex json structure as follows:</p>\n\n<blockquote>\n  <p><strong>Json</strong> Format</p>\n</blockquote>\n\n<pre><code>{\n\"type\": \"success\",\n\"code\": \"s-groups-0006\",\n\"description\": \"Index List successfully\",\n\"result\": {\n    \"asOnDate\": 1505457095278,\n    \"indexList\": [\n        {\n            \"change\": \"22.35\",\n            \"changePercent\": \"0.27\",\n            \"isDefault\": true,\n            \"isEditable\": false\n        }\n    ]\n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p><strong>Dagger</strong> Format</p>\n</blockquote>\n\n<pre><code>@Singleton\nfun provideGson(): Gson =\n        GsonBuilder()\n                .setLenient()\n             //   .registerTypeAdapter(BaseResponse::class.java, RestDeserializer&lt;BaseResponse&lt;T&gt;&gt;())\n                .create()\n</code></pre>\n\n<blockquote>\n  <p><strong>Rest</strong> Deseralizers</p>\n</blockquote>\n\n<pre><code> class RestDeserializer&lt;T&gt; : JsonDeserializer&lt;T&gt; {\n@Throws(JsonParseException::class)\noverride fun deserialize(je: JsonElement, type: Type, jdc: JsonDeserializationContext): T? {\n    val content = je.asJsonObject\n\n    // Deserialize it. You use a new instance of Gson to avoid infinite recursion\n    // to this deserializer\n    return Gson().fromJson&lt;T&gt;(content, type)\n\n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p><strong>Error callback</strong></p>\n</blockquote>\n\n<pre><code>abstract class ErrorCallBack&lt;T : BaseResponse&lt;T&gt;&gt; : DisposableObserver&lt;T&gt;() {\n\nprotected abstract fun onSuccess(t: T)\n\noverride fun onNext(t: T) {\n    //You can return StatusCodes of different cases from your API and handle it here. I usually include these cases on BaseResponse and iherit it from every Response\n    onSuccess(t)\n}\n\noverride fun onError(e: Throwable) {\n\n    when (e) {\n        is HttpException -&gt; {\n            val responseBody = (e).response().errorBody()\n            responseBody?.let {\n                L.e(\"Error in call htttp exception\")\n            }\n        }\n        is SocketTimeoutException -&gt; {\n            // todo\n            L.e(\"Error in Socket time out\")\n        }\n        is IOException -&gt; {\n            // todo\n            L.e(\"Error in IO Exception\")\n        }\n        else -&gt; {\n            e.message?.let {\n                // todo\n            }\n        }\n    }\n}\n\noverride fun onComplete() {\n\n}\n\nprivate fun getErrorMessage(responseBody: ResponseBody): String {\n    return try {\n        val jsonObject = JSONObject(responseBody.string())\n        jsonObject.getString(\"message\")\n    } catch (e: Exception) {\n        e.message!!\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p><strong>Repository</strong> </p>\n</blockquote>\n\n<pre><code>    override fun getValidateUser(validateUser: ValidateUser): LiveData&lt;ValidateUserResponse&gt; {\n\n    val mutableLiveData = MutableLiveData&lt;ValidateUserResponse&gt;()\n    remoteServices.requestValidateUser(validateUser)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object : ErrorCallBack&lt;BaseResponse&lt;ValidateUserResponse&gt;&gt;() {\n                override fun onSuccess(t: BaseResponse&lt;ValidateUserResponse&gt;) {\n                    if (t.type == CommonContents.SUCCESS) {\n                        L.d(\"Success in validate user\")\n                        mutableLiveData.value = transform(t)\n                    } else {\n                        L.e(\"Validate User Error\")\n                    }\n                }\n            })\n    return mutableLiveData\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Data</strong> Class</p>\n</blockquote>\n\n<pre><code>data class BaseResponse&lt;out T&gt;(\n    @SerializedName(CommonContents.TYPE) val type: String,\n    @SerializedName(CommonContents.CODE) val Code: String,\n    @SerializedName(CommonContents.DESCRIPTION) val Description: String,\n    @SerializedName(CommonContents.RESULT)val result: T? = null)\n</code></pre>\n\n<p>These are my structures and I try to make a generic structure but am facing an issue when invoking the Error callback.</p>\n\n<p><strong>Please guide me how to achieve this. Can i call generic method inside generic Response?</strong></p>\n\n<pre><code>  .subscribeWith(object : ErrorCallBack&lt;BaseResponse&lt;ValidateUserResponse&gt;&gt;() {\n</code></pre>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512444306, "post_id": 47645255, "comment_id": 82249741, "body": "Do you need it to be an interface? A function type could potentially work just as well."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 3, "creation_date": 1512444523, "post_id": 47645255, "comment_id": 82249796, "body": "I think in order for any of us to answer, we need a better idea of your use case. What you have in Kotlin is not how one would do it in Kotlin. On the other hand, if you have a functional interface in Java, you can use a Lambda, and it will get cast/processed correctly.  If it&#39;s all Kotlin code, then as chris said, you&#39;ll likely want a function type.  Something like val kotlinConversion: (Int, Int) -&gt; Unit = {x,y -&gt; println(&quot;TESTING&quot;) }"}, {"owner": {"reputation": 1256, "user_id": 4649515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vrUpQ.jpg?s=128&g=1", "display_name": "jitinsharma", "link": "https://stackoverflow.com/users/4649515/jitinsharma"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 2, "creation_date": 1512447010, "post_id": 47645255, "comment_id": 82250439, "body": "This has been discussed here in kotlin forum. <a href=\"https://discuss.kotlinlang.org/t/kotlin-sam-traits-as-lambda-functions/279\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/kotlin-sam-traits-as-lambda-functio&zwnj;&#8203;ns/&hellip;</a> @Mikezx6r answer is the suggested solution."}], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 3, "last_activity_date": 1512451329, "creation_date": 1512451329, "answer_id": 47646576, "question_id": 47645255, "link": "https://stackoverflow.com/questions/47645255/kotlin-lambdas-without-using-objects/47646576#47646576", "title": "Kotlin lambdas without using objects", "body": "<p>Without  override the function you can directly use like this way</p>\n\n<pre><code>var kotlinConversion = { a: Int, b: Int -&gt; print(\"TESTING\") }\n</code></pre>\n"}], "owner": {"reputation": 1249, "user_id": 6927454, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a4058414cf2768165211aa1a090b3401?s=128&d=identicon&r=PG&f=1", "display_name": "Rgfvfk Iff", "link": "https://stackoverflow.com/users/6927454/rgfvfk-iff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 47646576, "answer_count": 1, "score": 1, "last_activity_date": 1512451329, "creation_date": 1512441729, "question_id": 47645255, "link": "https://stackoverflow.com/questions/47645255/kotlin-lambdas-without-using-objects", "title": "Kotlin lambdas without using objects", "body": "<p>I am trying to convert from java to kotlin. The current java interface is something like this:</p>\n\n<pre><code>interface MyInterface {\n    void foo(int x, int y);\n}\n\nMyInterface testing = (int a, int b) -&gt; System.out.print(\"TESTING\");\n</code></pre>\n\n<p>My current kotlin conversion is:</p>\n\n<pre><code>interface MyInterface {\n    fun foo(x:Int, y:Int)\n}\n\nval kotlinConversion = object: MyInterface {\n    override fun foo(x: Int, y: Int) {\n        println(\"TESTING\")\n    }\n}\n</code></pre>\n\n<p>Is there a way to write the variable <code>kotlinConversion</code> such that it is similar to the one in java without having to override the function?</p>\n"}, {"tags": ["inheritance", "interface", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 2, "creation_date": 1512430217, "post_id": 47643579, "comment_id": 82246049, "body": "@SimonMarynissen - The problem here is really down to the mutability (i.e. the fact that you can <i>set</i> the property via a base-class reference).  So one solution is to make it a <code>val</code> property.  But I suppose another workaround is to use generics - i.e. <code>abstract class D&lt;T : A&gt; { abstract var a: T }</code> and <code>class E : D&lt;B&gt;() { override var a : B = C() }</code>.  That won&#39;t be appropriate in all cases, though."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 4, "last_activity_date": 1512431384, "last_edit_date": 1512431384, "creation_date": 1512429516, "answer_id": 47643579, "question_id": 47643545, "link": "https://stackoverflow.com/questions/47643545/kotlin-properties-cannot-be-overridden-with-subinterface/47643579#47643579", "title": "Kotlin properties cannot be overridden with subinterface", "body": "<p>Your first code snippet fails to compile, because otherwise weirdness like this would be possible:</p>\n\n<pre><code>val d: D = E()\nd.a = object : A {}  // Some other sub-type of A, but definitely not a sub-type of B\n</code></pre>\n\n<p>This is really a variant (no pun intended) of the <a href=\"https://stackoverflow.com/questions/46861804/why-in-java-method-overriding-allows-to-have-covariant-return-types-but-not-cov\">lack of method parameter covariance in Java</a> - especially given that a Kotlin <code>var</code> property is really just syntax sugar for a getter and setter method.</p>\n\n<p>Conversely, your second snippet <em>does</em> compile because in this case, covariance isn't a problem - there's no setter in the base class (<code>F</code>) to be overriden, so the \"weirdness\" I described above isn't possible.</p>\n"}], "owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 47643579, "answer_count": 1, "score": 3, "last_activity_date": 1512431384, "creation_date": 1512429302, "question_id": 47643545, "link": "https://stackoverflow.com/questions/47643545/kotlin-properties-cannot-be-overridden-with-subinterface", "title": "Kotlin properties cannot be overridden with subinterface", "body": "<p>In the following stripped down example, can you explain why the Kotlin compiler complains when overriding a that we restrict its type further(compiler message: <code>Var-property type is 'B', which is not a type of overriden public abstract var a: A</code>)</p>\n\n<pre><code>interface A\n\ninterface B : A {\n    fun someFunc():Boolean\n}\n\nclass C : B {\n    override fun someFunc(): Boolean {\n        return true\n    }\n}\n\nabstract class D {\n    abstract var a: A\n}\n\nclass E : D() {\n    override var a : B = C()\n\n    fun otherFunc() {\n        println(a.someFunc())\n    }\n}\n</code></pre>\n\n<p>Furthermore, the compiler does not complain with the following snippet:</p>\n\n<pre><code>open class G\n\nclass H : G()\n\nabstract class F {\n    abstract val g: G\n}\n\nclass I : F() {\n    override var g : H = H()\n}\n</code></pre>\n\n<p>So I guess there is something going on with interface inheritance, which is not there with classes.</p>\n"}, {"tags": ["android", "kotlin", "compiler-warnings", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 10, "last_activity_date": 1512417416, "last_edit_date": 1512417416, "creation_date": 1512417070, "answer_id": 47640948, "question_id": 47640896, "link": "https://stackoverflow.com/questions/47640896/smart-cast-to-kotlin-string/47640948#47640948", "title": "Smart cast to kotlin.String", "body": "<p>The compiler knows that <code>mTripStatus</code> cannot be <code>null</code> if the <code>if</code> condition is satisfied, so it performs a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"noreferrer\"><em>smart cast</em></a> from <code>String?</code> to <code>String</code>.  That's what allows <code>html.replace(\"TRIP_STATUS_VALUE\", mTripStatus)</code> to compile.</p>\n\n<p>But note that this shouldn't be interpreted as a compiler warning.  This is idiomatic Kotlin code.</p>\n"}, {"comments": [{"owner": {"reputation": 1912, "user_id": 3731039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248c283bc1e53d2e394b2b1159f481bf?s=128&d=identicon&r=PG&f=1", "display_name": "John Pang", "link": "https://stackoverflow.com/users/3731039/john-pang"}, "edited": false, "score": 0, "creation_date": 1570725406, "post_id": 52996967, "comment_id": 103013269, "body": "In Android Studio 3.5, it still shows &quot;Smart cast to kotlin.String&quot; on the second <code>mTripStatus</code>. To avoid it, replace <code>mTripStatus</code> with <code>it</code>."}], "tags": [], "owner": {"reputation": 21, "user_id": 10559671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4709a719b8a08591471042e82fa8fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Hector Da SIlva", "link": "https://stackoverflow.com/users/10559671/hector-da-silva"}, "is_accepted": false, "score": 2, "last_activity_date": 1540496743, "creation_date": 1540496743, "answer_id": 52996967, "question_id": 47640896, "link": "https://stackoverflow.com/questions/47640896/smart-cast-to-kotlin-string/52996967#52996967", "title": "Smart cast to kotlin.String", "body": "<p>This code:</p>\n\n<pre><code>var html :String = HTML\nhtml = if (mTripStatus!=null) html.replace(\"TRIP_STATUS_VALUE\", mTripStatus) else html\n</code></pre>\n\n<p>can be:</p>\n\n<pre><code>var html: String = html\nmTripStatus?.let { html = html.replace(\"TRIP_STATUS_VALUE\", mTripStatus) }\n</code></pre>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3994, "favorite_count": 0, "accepted_answer_id": 47640948, "answer_count": 2, "score": 6, "last_activity_date": 1570655264, "creation_date": 1512416879, "question_id": 47640896, "link": "https://stackoverflow.com/questions/47640896/smart-cast-to-kotlin-string", "title": "Smart cast to kotlin.String", "body": "<p>I was trying Kotlin and got message from compiler:</p>\n\n<pre><code>Smart cast to kotlin.String\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>/*\"mTripStatus\" is a nullable String*/\nvar html :String = HTML\nhtml = if (mTripStatus!=null) html.replace(\"TRIP_STATUS_VALUE\", mTripStatus) else html\n</code></pre>\n\n<p>What does this mean?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "textview"], "comments": [{"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512416811, "post_id": 47640825, "comment_id": 82240050, "body": "Please post the code."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512417687, "post_id": 47640825, "comment_id": 82240506, "body": "K like I said I can after lunch. But till then any idea why in logcat it would show the correct info but won\u2019t display on ui unless the user has signed on after opening app? I feel like if it shows in loggcat it should display on the UI"}, {"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512417764, "post_id": 47640825, "comment_id": 82240544, "body": "There must be something in the code that is changing the value. So do post the code i will have a look over it."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512418922, "post_id": 47640825, "comment_id": 82241095, "body": "I have updated post with relevent code if I am missing something let me know and I&#39;ll add it"}, {"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512419362, "post_id": 47640825, "comment_id": 82241310, "body": "Why are you initiating the views in the onStart method? They are supposed to be in the onCreate Method. In the onStart you just have to find the value from it."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512419486, "post_id": 47640825, "comment_id": 82241356, "body": "so move the             userEmailTV = findViewById&lt;View&gt;(R.id.userEmail) as TextView?  to onCreate and set text in onstart?"}, {"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512419714, "post_id": 47640825, "comment_id": 82241463, "body": "Yes you should try that."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1512419892, "post_id": 47640825, "comment_id": 82241548, "body": "didn&#39;t change a thing by moving that"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512445649, "post_id": 47640825, "comment_id": 82250078, "body": "Look like the logic that checks if user is logged in should be in onResume method. And yes the findView calls better in onCreate"}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1512467759, "post_id": 47640825, "comment_id": 82259484, "body": "That still doesn\u2019t explain why the Log.i(tag, ...... code outputs correct data for user but only is displayed correctly if start activity for result has been ran in the current life cycle. It is checking if user is logged in correctly finds correct user data. But if application has been closed, even though mUser?.email contains a String when I try to set text to TextView it says that value is null.  It\u2019s like I need to make a virtual switch and if off turn on startactivity(MainActivity, MainActivity) is switch on ok TextView set text."}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1512678786, "post_id": 47640825, "comment_id": 82366743, "body": "Is that the only place where you set that text?"}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1512678981, "post_id": 47640825, "comment_id": 82366830, "body": "Also, have you tried stepping over the code in the debugger?"}], "answers": [{"comments": [{"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1512678728, "post_id": 47703210, "comment_id": 82366719, "body": "Looks like a bad theory. Inflation works on the main thread, as well as activity callbacks, so there is no possibility that onStart executed before onCreate finished."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "reply_to_user": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1512679926, "post_id": 47703210, "comment_id": 82367274, "body": "I initialized the TextView in onCreate and onStart and still get an error stating that the TextView cant be null. Even though I am setting a value (the logcat proves this) to the TextView. The latest error doesn\u2019t say TextView can\u2019t be set to null just that TextView is null. That leads me to bilieve that since I am initiating the TextView but not the specific nav header it is trying to set text before it has time to load. This would also explain why the TextView would only display correct info after doing a startactivityforresult to login. Once it has a chance to inflate the view and come back"}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": true, "score": 1, "last_activity_date": 1513059695, "last_edit_date": 1513059695, "creation_date": 1512678388, "answer_id": 47703210, "question_id": 47640825, "link": "https://stackoverflow.com/questions/47640825/android-kotlin-textview-text-not-working-as-expected/47703210#47703210", "title": "Android Kotlin : TextView.text not working as expected", "body": "<p>My theory after much trial and error and research is..... that this problem is not due to the TextView being initialized in the wrong spot as others thought in the comments above but.  Due to the fact that the navigation header view has not had time to inflate. I will work on coding of initializing the nav header then the TextView and edit with results. </p>\n\n<p><strong>Edit</strong></p>\n\n<p>Here is what I did to make it work.\nI added </p>\n\n<pre><code>        uemail = findViewById&lt;View&gt;(R.id.nav_view) as NavigationView\n    navHead = uemail.getHeaderView(0)\n    tvEmail = navHead.findViewById(R.id.userEmail) as TextView\n    tvDisplayName = navHead.findViewById(R.id.userName) as TextView\n    tvEmail.text = mUser?.email\n    tvDisplayName.text = mUser?.displayName\n</code></pre>\n\n<p>I placed that inside of a function that I called inside of both onCreate and onStart. If I didn't it would only populate after signing in or not at all. This way it populates the correct data and all the time. I found it has something to do with after Android Studio uses a recyclerview for the nav view after 23.1 or something like that.</p>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": false, "score": 0, "last_activity_date": 1512684509, "creation_date": 1512684509, "answer_id": 47704650, "question_id": 47640825, "link": "https://stackoverflow.com/questions/47640825/android-kotlin-textview-text-not-working-as-expected/47704650#47704650", "title": "Android Kotlin : TextView.text not working as expected", "body": "<p>Are you sure that \"findView\" succeeded? Try calling it on navigation header view receiver</p>\n"}], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2770, "favorite_count": 0, "accepted_answer_id": 47703210, "answer_count": 2, "score": -2, "last_activity_date": 1513059695, "creation_date": 1512416598, "last_edit_date": 1512418888, "question_id": 47640825, "link": "https://stackoverflow.com/questions/47640825/android-kotlin-textview-text-not-working-as-expected", "title": "Android Kotlin : TextView.text not working as expected", "body": "<p>I have an app that makes user sign in with Firebase if they are not already signed in. If user signs in their user profile info shows properly. Upon closing the app and reopening the user name and email does not set and goes to my defaulted text. But if I sign out and back in it will show. I feel like it has something to do with updating ui but stuck. </p>\n\n<p>I can post code after my lunch break is over if needed</p>\n\n<p><em>update with code</em></p>\n\n<p>This is the relevent code in MainActivity this is where I check if user is logged in if so allow them to go from there if not to start signin activity.</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\nval TAG = \"MainActivity\"\n\nvar mAuth: FirebaseAuth? = null\nvar mUser: FirebaseUser? = null\nvar userEmailTV: TextView? = null\nvar userDispNameTV: TextView? = null\nval RC_SIGN_IN = 123\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n\n    val toggle = ActionBarDrawerToggle(\n            this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n    drawer_layout.addDrawerListener(toggle)\n    toggle.syncState()\n    nav_view.setNavigationItemSelectedListener(this)\n\n}\n\n override fun onStart() {\n    super.onStart()\n\n    mAuth = FirebaseAuth.getInstance()\n    mUser = mAuth?.currentUser\n\n    if (mUser != null) {\n\n        userEmailTV = findViewById&lt;View&gt;(R.id.userEmail) as TextView?\n        userEmailTV?.text = mUser?.email\n        userDispNameTV = findViewById&lt;View&gt;(R.id.userName) as TextView?\n        userDispNameTV?.text = mUser?.displayName\n\n        Log.i(TAG, \"User Display Name : ${mUser?.displayName}\")\n        Log.i(TAG, \"Users Email :  ${mUser?.email}\")\n\n    } else {\n        startActivityForResult(\n                // Get an instance of AuthUI based on the default app\n                AuthUI.getInstance().createSignInIntentBuilder().build(),\n                RC_SIGN_IN)\n    }\n\n\n}\n</code></pre>\n\n<p>This is the layout info that holds the user profile info inside the navigation drawer</p>\n\n<pre><code> &lt;TextView\n    android:id=\"@+id/userName\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"@dimen/nav_header_vertical_spacing\"\n    android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n    android:text=\"Username\"/&gt;\n\n&lt;TextView\n    android:id=\"@+id/userEmail\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"youremail@something.com\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "null", "kotlin", "warnings", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512414840, "post_id": 47640028, "comment_id": 82239072, "body": "Why do you want to use the Elvis operator? None of your variables are nullable, so it is pointless. Also, you never initialize <code>check</code>"}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1551724358, "post_id": 47640028, "comment_id": 96736477, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16336500/kotlin-ternary-conditional-operator\">Kotlin Ternary Conditional Operator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512414118, "post_id": 47640172, "comment_id": 82238681, "body": "Thanks @Irony Stack. Actually I was trying to use Elvis operator of Kotlin (<a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html#elvis-operat&zwnj;&#8203;or</a>). Can you tell me why is Elvis operator not working?"}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512414579, "post_id": 47640172, "comment_id": 82238921, "body": "but key is not a property of <code>check</code> you can not use it like that"}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512415071, "post_id": 47640172, "comment_id": 82239195, "body": "@MalwinderSingh you misunderstood the concept of elvis operator, in this statement <code>val l = b?.length ?: -1</code>  2nd operator <code>?:</code> just before -1 is elvice operator not the one  before .length"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512415432, "post_id": 47640172, "comment_id": 82239373, "body": "I tried your solution. It is showing warning: <code>Elvis operator (?:) always returns the left operand of non-nullable type String</code>"}], "tags": [], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "is_accepted": false, "score": 0, "last_activity_date": 1512414725, "last_edit_date": 1512414725, "creation_date": 1512414028, "answer_id": 47640172, "question_id": 47640028, "link": "https://stackoverflow.com/questions/47640028/kotlin-null-safety-warning-unexpected-tokens-use-to-seperate-expressions-on-t/47640172#47640172", "title": "Kotlin Null safety warning Unexpected tokens (use ; to seperate expressions on the same line)", "body": "<p>kotlin does not support ternary operator.</p>\n\n<p>and even <code>check</code> is not <code>boolean</code> variable in your case make it boolean or use like</p>\n\n<pre><code>var check: String = \"something here\"\n var key: String = \"KEY is\"\n/*Warning coming on following statement*/\n var str : String = key.replace(\"KEY\", \"ABDS-ASDSA-DSSS\")?:check\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512414883, "post_id": 47640333, "comment_id": 82239093, "body": "Thank you. Actually the actual code differs from the code in question.  Can you edit the question?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512414943, "post_id": 47640333, "comment_id": 82239117, "body": "@MalwinderSingh what do you mean? If there is something missing in the question only you can add it - you are the asker and I do not know what you wish to add"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512414999, "post_id": 47640333, "comment_id": 82239155, "body": "I was asking about what changes need to be made in question to clarify the problem."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1512415044, "post_id": 47640333, "comment_id": 82239178, "body": "@MalwinderSingh ah - what are you trying to accomplish with <code>check</code> and <code>key</code>? What do you need <code>?:</code> for?"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 2, "last_activity_date": 1512415271, "last_edit_date": 1512415271, "creation_date": 1512414652, "answer_id": 47640333, "question_id": 47640028, "link": "https://stackoverflow.com/questions/47640028/kotlin-null-safety-warning-unexpected-tokens-use-to-seperate-expressions-on-t/47640333#47640333", "title": "Kotlin Null safety warning Unexpected tokens (use ; to seperate expressions on the same line)", "body": "<p>I would not understand why you need any null safe operators here. None of your variables are nullable.</p>\n\n<hr>\n\n<p>You wrote</p>\n\n<pre><code>check?key.replace(\"KEY\", \"ABDS-ASDSA-DSSS\")?:check\n</code></pre>\n\n<p><code>?</code> (after <code>check</code>) is not an operator in Kotlin.</p>\n\n<p>You may have wanted the <a href=\"https://stackoverflow.com/questions/16336500/kotlin-ternary-conditional-operator\">ternary conditional operator, which is simply replaced by <code>if</code>/<code>else</code></a>.</p>\n\n<p>Judging from your comment, you seem to want the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call</a> operator though, which is <code>?.</code>, not <code>?</code>.</p>\n\n<pre><code>check?.key?.replace(\"KEY\", \"ABDS-ASDSA-DSSS\") ?: check\n</code></pre>\n\n<p>There is a difference between the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis operator</a> and the safe call operator. The Elvis operator works with an expression while the safe call operator is simply <strong>a null-safe property access or method call</strong>.</p>\n\n<p>The Elvis operator returns its first operand if it is not null, and returns the second operand otherwise.</p>\n\n<p>The <code>?.</code> operator returns <code>null</code> if the receiver is null, otherwise, it returns the result of the call.</p>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1957, "favorite_count": 0, "accepted_answer_id": 47640333, "answer_count": 2, "score": 3, "last_activity_date": 1551722485, "creation_date": 1512413522, "last_edit_date": 1512415141, "question_id": 47640028, "link": "https://stackoverflow.com/questions/47640028/kotlin-null-safety-warning-unexpected-tokens-use-to-seperate-expressions-on-t", "title": "Kotlin Null safety warning Unexpected tokens (use ; to seperate expressions on the same line)", "body": "<p>I was trying <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis operator</a> in Kotlin code in my application and received following warning:</p>\n\n<pre><code>Unexpected tokens (use ; to seperate expressions on the same line)\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    var key: String = \"KEY is\"\n    /* \"check\" is name of String variable which can be null\n    Warning coming on following statement*/\n    var str : String = check?key.replace(\"KEY\", \"ABDS-ASDSA-DSSS\")?:check\n</code></pre>\n\n<p>Any ideas how to resolve this?</p>\n"}, {"tags": ["kotlin", "retrofit"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1512411459, "post_id": 47639290, "comment_id": 82237384, "body": "Have you tried <code>Unit</code> or <code>Nothing</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "is_accepted": true, "score": 12, "last_activity_date": 1512417861, "last_edit_date": 1512417861, "creation_date": 1512417546, "answer_id": 47641067, "question_id": 47639290, "link": "https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin/47641067#47641067", "title": "android - Retrofit call void using Kotlin", "body": "<blockquote>\n  <p>I want to use the Call to make a call without handle the response body, but it doesnt work with Kotlin</p>\n</blockquote>\n\n<p>That is not true, it <strong>does work</strong>.</p>\n\n<p>Something different must be wrong with your setup, or your test case is ill defined if you don't get the expected result.</p>\n\n<p>A very simple example:</p>\n\n<pre><code>interface GitHub {\n\n    @GET(\"/users/{username}/repos\") \n    fun getUserRepos(@Path(\"username\") username: String): Call&lt;Void&gt;\n}\n\nval github = Retrofit.Builder()\n        .baseUrl(\"https://api.github.com/\")\n        .build()\n        .create(GitHub::class.java)\n\ngithub.getUserRepos(\"maciekjanusz\")\n        .enqueue(object : Callback&lt;Void&gt; {\n            override fun onFailure(call: Call&lt;Void&gt;?, t: Throwable?) {\n                // failure\n            }\n\n            override fun onResponse(call: Call&lt;Void&gt;?, response: Response&lt;Void&gt;?) {\n                // success\n            }\n        })\n</code></pre>\n\n<p>I tried the above snippets in an Android example, using Kotlin 1.1.61 and Retrofit 2.3.0 and it works correctly - the call is executed and depending on the network availability and the overall setup, the correct <code>Callback</code> method is called.</p>\n"}], "owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4279, "favorite_count": 1, "accepted_answer_id": 47641067, "answer_count": 1, "score": 4, "last_activity_date": 1512417861, "creation_date": 1512410406, "question_id": 47639290, "link": "https://stackoverflow.com/questions/47639290/android-retrofit-call-void-using-kotlin", "title": "android - Retrofit call void using Kotlin", "body": "<p>I'm with a problem with Retrofit 2. I want to use the <code>Call&lt;Void&gt;</code> to make a call without handle the response body, but it doesnt work with Kotlin.</p>\n\n<p>What I need to use instead of <code>Void</code>? </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1512408469, "creation_date": 1512408469, "answer_id": 47638781, "question_id": 47638723, "link": "https://stackoverflow.com/questions/47638723/multiple-permission-at-once-not-working-in-android/47638781#47638781", "title": "Multiple Permission at once not working in android", "body": "<pre><code>Array&lt;String&gt;(2) { \n    Manifest.permission.READ_CONTACTS ; \n    Manifest.permission.WRITE_EXTERNAL_STORAGE\n}\n</code></pre>\n\n<p>This initializer always returns <code>WRITE_EXTERNAL_STORAGE</code>, the first line does not do anything. You should probably be using the <code>arrayOf</code> function to construct the array instead.</p>\n"}, {"comments": [{"owner": {"reputation": 573, "user_id": 6537332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-_k9IJocOktQ/AAAAAAAAAAI/AAAAAAAANqg/rcQjHsOqGuk/photo.jpg?sz=128", "display_name": "Parag Pawar", "link": "https://stackoverflow.com/users/6537332/parag-pawar"}, "edited": false, "score": 0, "creation_date": 1571582396, "post_id": 47638968, "comment_id": 103281303, "body": "I have used arrayof still it is asking for only last permission, can you tell me why"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1512409505, "last_edit_date": 1512409505, "creation_date": 1512409110, "answer_id": 47638968, "question_id": 47638723, "link": "https://stackoverflow.com/questions/47638723/multiple-permission-at-once-not-working-in-android/47638968#47638968", "title": "Multiple Permission at once not working in android", "body": "<pre><code>Array(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>is the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"nofollow noreferrer\">constructor</a> for the <code>Array</code> class which takes the number of elements it should contain, and an <code>init</code> function which maps the index to an actual array element.</p>\n\n<p>Here is what your code does, written in a more verbose way</p>\n\n<pre><code>val a = Array&lt;String&gt;(size = 2, init = { index: Int -&gt;\n    Manifest.permission.READ_CONTACTS; // nothing\n    Manifest.permission.WRITE_EXTERNAL_STORAGE // returned by the lambda for each index\n})\n</code></pre>\n\n<p>Result:</p>\n\n<blockquote>\n  <p>[Manifest.permission.WRITE_EXTERNAL_STORAGE,\n  Manifest.permission.WRITE_EXTERNAL_STORAGE]</p>\n</blockquote>\n\n<p>So, you would be better of using the <code>arrayOf</code> function in this case, since you don't want to genereate your array elements but rather specify them explicitely.</p>\n"}, {"tags": [], "owner": {"reputation": 404, "user_id": 7176466, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-al6Bif2R4X0/AAAAAAAAAAI/AAAAAAAAABE/8bdLB38YBQk/photo.jpg?sz=128", "display_name": "pankaj yadav", "link": "https://stackoverflow.com/users/7176466/pankaj-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1512409310, "creation_date": 1512409310, "answer_id": 47639019, "question_id": 47638723, "link": "https://stackoverflow.com/questions/47638723/multiple-permission-at-once-not-working-in-android/47639019#47639019", "title": "Multiple Permission at once not working in android", "body": "<p>Use this code for multiple permission in kotlin</p>\n\n<pre><code> ActivityCompat.requestPermissions(context as Activity,\n                                arrayOf(Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE),\n                                PERMISSION_CAMER)\n</code></pre>\n"}], "owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1670, "favorite_count": 0, "accepted_answer_id": 47638968, "answer_count": 3, "score": 4, "last_activity_date": 1512483446, "creation_date": 1512408282, "last_edit_date": 1512483446, "question_id": 47638723, "link": "https://stackoverflow.com/questions/47638723/multiple-permission-at-once-not-working-in-android", "title": "Multiple Permission at once not working in android", "body": "<p>I am trying to get 2 permissions at once but Iam unable to do so.</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n\n    if (ContextCompat.checkSelfPermission(context, Manifest.permission.READ_CONTACTS)\n                != PackageManager.PERMISSION_GRANTED) {\n\n        ActivityCompat.requestPermissions(context, Array&lt;String&gt;(2) { \n            Manifest.permission.READ_CONTACTS; \n            Manifest.permission.WRITE_EXTERNAL_STORAGE},\n        1);\n    }\n}\n</code></pre>\n\n<p>It only asks for <code>WRITE_EXTERNAL_STORAGE</code> permission and not <code>READ_CONTACTS</code>. Actually, If I write <code>WRITE_EXTERNAL_STORAGE</code> one first and <code>READ_CONTACTS</code> after that then it will only ask for contact and not <code>WRITE_EXTERNAL_STORAGE</code>.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512409312, "post_id": 47638464, "comment_id": 82236223, "body": "Does the decompiled code make sense? The decompiler is at Tooks -&gt; Kotlin -&gt; Bytecode (this could possibly help)"}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 1, "creation_date": 1512415295, "post_id": 47638464, "comment_id": 82239310, "body": "Concurrency issue? kotlinc messing up? We&#39;re gonna need a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> here."}, {"owner": {"reputation": 1748, "user_id": 1301970, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/338ac36e54fcbdd09571067d8ce92b3f?s=128&d=identicon&r=PG&f=1", "display_name": "reith", "link": "https://stackoverflow.com/users/1301970/reith"}, "edited": false, "score": 0, "creation_date": 1515919850, "post_id": 47638464, "comment_id": 83478495, "body": "Could you find the problem? It happened to me when my Spark job tried to access lazy attribute."}], "owner": {"reputation": 2301, "user_id": 1339057, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01a37a0b4aa61bc17fd736a0d2b73a81?s=128&d=identicon&r=PG", "display_name": "drew", "link": "https://stackoverflow.com/users/1339057/drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1512407334, "creation_date": 1512407334, "question_id": 47638464, "link": "https://stackoverflow.com/questions/47638464/kotlin-lazy-var-throwing-classcastexception-kotlin-uninitialized-value", "title": "Kotlin lazy var throwing ClassCastException: kotlin.UNINITIALIZED_VALUE", "body": "<p>I've reached the hair pulling out stage with this one!  I have a lazy var declared in a Kotlin data class.  It is a Boolean and calculates it's value based on other fields in the class.</p>\n\n<p>The way that the <code>Lazy.kt</code> implementation works is to creat an anonymous object called <code>UNINITIALIZED_VALUE</code> to use as the basis of determining whether or not the lazy var has been initialized.  Each lazy var instance will have its own unique instance of <code>UNINITIALIZED_VALUE</code>.  This object is stored in the <code>_value</code> field of the Lazy object.</p>\n\n<p>When the value of the lazy var is accessed a check is made to see whether the current value matches the <code>UNINITIALIZED_VALUE</code> by doing a reference comparison.  If not, then the initializer is called to create the value which is the stored in the lazy var <code>_value</code> field.</p>\n\n<p>What appears to be happening in my case is that the <code>UNINITALIZED_VALUE</code> object is being created and assigned to the value during the lazy var creation - so far so good.  However, when I attempt to retrieve the value, inexplicably, the <code>UNITIALIZED_VALUE</code> object has somehow been set to a different object value to the one originally stored in the <code>_value</code> field and so the comparison fails, the lazy implementation thinks the value has been set and so attempts to cast the <code>UNINITIALIZED_VALUE</code> object to a <code>Boolean</code> and boom!  Exception!</p>\n\n<p>What's really weird is that I am the only person in the team experiencing this issue - I have deleted and reinstalled everything - Android Studio, full git clone, gradle cache, emulators.  I can't think of anything else and am unable to see the <code>UNINITIALIZED_VALUE</code> object being set twice with the debugger.</p>\n"}, {"tags": ["lambda", "kotlin", "android-databinding", "kotlin-interop"], "comments": [{"owner": {"reputation": 18928, "user_id": 4163092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hG10UsnxJIA/AAAAAAAAAAI/AAAAAAAAHU4/S4nVl0ZofGA/photo.jpg?sz=128", "display_name": "George Mount", "link": "https://stackoverflow.com/users/4163092/george-mount"}, "edited": false, "score": 0, "creation_date": 1512492693, "post_id": 47638336, "comment_id": 82275974, "body": "It should work, so I&#39;ve filed a bug for this: <a href=\"https://issuetracker.google.com/issues/70215080\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/70215080</a>"}, {"owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "reply_to_user": {"reputation": 18928, "user_id": 4163092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hG10UsnxJIA/AAAAAAAAAAI/AAAAAAAAHU4/S4nVl0ZofGA/photo.jpg?sz=128", "display_name": "George Mount", "link": "https://stackoverflow.com/users/4163092/george-mount"}, "edited": false, "score": 0, "creation_date": 1512548823, "post_id": 47638336, "comment_id": 82298346, "body": "Thanks for saving me from pulling more hair out of my head. I&#39;ve posted a workaround in the edit."}], "owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1512548708, "creation_date": 1512406863, "last_edit_date": 1512548708, "question_id": 47638336, "link": "https://stackoverflow.com/questions/47638336/data-binding-observablefield-with-lambda-value-doesnt-compile", "title": "Data Binding: ObservableField with lambda value doesn&#39;t compile", "body": "<p>I'm trying to define the visibility of the <code>View</code> by calculating the lambda that takes one parameter as an argument. <strong>I'm using Kotlin</strong>, btw.</p>\n\n<p>In my <code>ViewModel</code> I have:</p>\n\n<pre><code>    val customerPropVisibility: ObservableField&lt;(KProperty1&lt;Customer, *&gt;) -&gt; Int&gt; = ObservableField(\n        { _ -&gt;\n            // body of the lambda\n        })\n</code></pre>\n\n<p>The binding expression for the <code>View</code> is the following:</p>\n\n<pre><code>     android:visibility=\"@{vm.customerPropVisibility.invoke(title)}\"\n</code></pre>\n\n<p><code>vm</code> and <code>title</code> are properly declared as variables in the <code>data</code> tag of the layout.</p>\n\n<p>On compilation, I get two errors:</p>\n\n<p><strong>1) incompatible types: Object cannot be converted to Function1</strong></p>\n\n<p><strong>2) incompatible types: Object cannot be converted to Integer</strong></p>\n\n<p>There is only one error of the first type and several errors of the second type. The number of the errors of the second type is the same as the number of invocations of the lambda in the layout xml file.</p>\n\n<p><strong>My attempts of solving the issue:</strong></p>\n\n<p>Obviously, the error of type 1 can be solved by overriding the <code>get()</code> method of the <code>ObservableField</code> (making the method return <code>Function1</code> explicitly). This works, but is ugly and should be done by the compiler when it infers the type for <code>customerPropVisibility</code>. <strong><em>Definitely, something is wrong here.</em></strong></p>\n\n<p>The error of type 2 is a mystery to me, cause the function type (my lambda) explicitly returns Int.</p>\n\n<p>I presume it has something to do with Kotlin/Java interoperability.</p>\n\n<p>If you have stumbled upon the same issue, please share the experience of solving it. </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Since this bug is not yet resolved, I use slightly different approach to achieve the same result:</p>\n\n<p>Instead of setting the value of <code>ObservableField</code> to lambda, I set it to function reference (<code>::getVisibility</code>) like so:</p>\n\n<pre><code>fun getVisibility(prop: KProperty1&lt;*, *&gt;): Int = propVisibilityValues[prop] ?: View.GONE\nval propVisibilityGetter = ObservableField(::getVisibility)\n</code></pre>\n\n<p>And whenever the <code>propVisibilityValues</code> changes I notify the <code>propVisibilityGetter</code>:</p>\n\n<pre><code>private val propVisibilityValues = ObservableArrayMap&lt;KProperty1&lt;*, *&gt;, Int&gt;().apply {\n    addOnMapChangedCallback(object : ObservableMap.OnMapChangedCallback&lt;ObservableMap&lt;KProperty1&lt;*, *&gt;, Int&gt;, KProperty1&lt;*, *&gt;, Int&gt;() {\n        override fun onMapChanged(p0: ObservableMap&lt;KProperty1&lt;*, *&gt;, Int&gt;?, p1: KProperty1&lt;*, *&gt;?) {\n            propVisibilityGetter.notifyChange()\n        }\n    })\n}\n</code></pre>\n\n<p>In XML layout file, the binding expression looks like:</p>\n\n<pre><code>android:visibility=\"@{vm.propVisibilityGetter.call(title)}\"\n</code></pre>\n\n<p>Overall result: messy in the View Model, but clean binding expressions.</p>\n"}, {"tags": ["generics", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512403131, "post_id": 47637190, "comment_id": 82232503, "body": "This code snippet doesn&#39;t even slightly compile.  Could you post some valid code please?"}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1512410782, "post_id": 47637190, "comment_id": 82237049, "body": "Modified to be a stand alone Hello World snippet that runs in intelliJ, gives the original error still. Might have been a little too abstract originally, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1512412342, "post_id": 47639636, "comment_id": 82237828, "body": "Well, in this case the instance is <code>d</code>."}], "tags": [], "owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "is_accepted": true, "score": 4, "last_activity_date": 1512411883, "creation_date": 1512411883, "answer_id": 47639636, "question_id": 47637190, "link": "https://stackoverflow.com/questions/47637190/calling-method-in-generic-class-through-reflection/47639636#47639636", "title": "Calling method in generic class through reflection", "body": "<p>You're not calling the method on an instance (first argument). It works like this:</p>\n\n<pre><code>val myClassInstance = myClass()\nprintln(f3.call(myClassInstance, \"Hello World\"))\n</code></pre>\n"}], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 47639636, "answer_count": 1, "score": 0, "last_activity_date": 1512411962, "creation_date": 1512402932, "last_edit_date": 1512411962, "question_id": 47637190, "link": "https://stackoverflow.com/questions/47637190/calling-method-in-generic-class-through-reflection", "title": "Calling method in generic class through reflection", "body": "<p>I am attempting to setup a function taking in a generic class that in turn calls a method within that class through reflection. Below code compiles, however when I run it I get this error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Callable expects 2 arguments, but 1 were provided.\n</code></pre>\n\n<p>Why does Kotlin claim there should be 2 arguments, when the method only takes one? What should the arguments be?</p>\n\n<pre><code>import kotlin.reflect.full.memberFunctions\n\n\nclass myClass {\n    fun test(d: String) : String {\n        return d\n    }\n}\n\nclass test {\n\n    fun &lt;T: Any&gt;ProcessStuff(\n        d : T\n    ) {\n        val myClass  = d.let { it::class }\n\n        var f3 = myClass.memberFunctions.find { it.name == \"test\"}!!\n        println (f3.call (\"Hello World\"))\n    }\n}\n\nfun main(args : Array&lt;String&gt;) {\n    val c = myClass()\n    val t = test()\n    t.ProcessStuff(c)\n}\n</code></pre>\n"}, {"tags": ["java", "sql", "spring", "kotlin", "hql"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8906123"}, "edited": false, "score": 0, "creation_date": 1512500370, "post_id": 47636690, "comment_id": 82280568, "body": "anyone has an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 119855, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mb9AO.jpg?s=128&g=1", "display_name": "Georg Leber", "link": "https://stackoverflow.com/users/119855/georg-leber"}, "is_accepted": false, "score": 0, "last_activity_date": 1516376550, "creation_date": 1516376550, "answer_id": 48344664, "question_id": 47636690, "link": "https://stackoverflow.com/questions/47636690/how-to-create-hql-query-using-fields-from-extended-class/48344664#48344664", "title": "How to create HQL query using fields from extended class", "body": "<p>Your class Locatable is extending Device and so also extends the columns of the super class. Your query should be correct. </p>\n\n<p>I am using such queries quiet often in my Java code and have no problems so far.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8906123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516376550, "creation_date": 1512401330, "question_id": 47636690, "link": "https://stackoverflow.com/questions/47636690/how-to-create-hql-query-using-fields-from-extended-class", "title": "How to create HQL query using fields from extended class", "body": "<p>I have those both classes: Locatable and Device such that Locatable Extends Device:\n<strong>Locatable:</strong></p>\n\n<pre><code>@Entity\n@Table(name = Locatable.TABLE_NAME)\n@PrimaryKeyJoinColumn(name = \"device_id\", referencedColumnName = \"id\")\nopen class Locatable: Device() {\n\n@Basic\n@Column(name = NAME_COLUMN)\nvar name: String? = null\n }\n</code></pre>\n\n<p><strong>Device:</strong></p>\n\n<pre><code>@Entity\n@Table(name = Device.TABLE_NAME)\n@Inheritance(strategy = InheritanceType.JOINED)\nabstract class Device {\n\n @Id\n @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGen\")\n @SequenceGenerator(name = \"sequenceGen\", sequenceName = \"devices_id_seq\", allocationSize = 1)\n @Column(name = ID_COLUMN)\n open var id: Long = 0\n\n @Basic\n @Column(name = GROUP_COLUMN)\n open var groupId: Long = 0\n }\n</code></pre>\n\n<p>as you can see <strong>groupId</strong> field exist <strong>only in Device</strong>\nNow, I want to get do this repo:</p>\n\n<pre><code>  interface LocatableRepo : JpaRepository&lt;Locatable, Long&gt; {\n   @Query(\"SELECT l FROM Locatable l  WHERE l.groupId IN ?1\")\n   fun getByGroupIdIn(ids: List&lt;Long&gt;): List&lt;Locatable&gt;\n\n   }\n</code></pre>\n\n<p>My question is if I do it right or should I use <strong>left join fetch</strong>?\nbecause groupId isn't in Locatable it means that it isn't in <strong>l</strong> so how can I use <strong>l.groupId</strong>?(Is that because the extending to Device?)</p>\n\n<p>Thank you</p>\n"}, {"tags": ["generics", "kotlin", "type-inference", "factory-method"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": true, "score": 3, "last_activity_date": 1512398177, "creation_date": 1512398177, "answer_id": 47635702, "question_id": 47635624, "link": "https://stackoverflow.com/questions/47635624/type-inference-with-lazy-initialization-and-generic-factory-method-in-kotlin/47635702#47635702", "title": "Type inference with lazy initialization and generic factory method in Kotlin", "body": "<p>You can specify the type like this:</p>\n\n<pre><code>ObjectFactory.getObject&lt;Point&gt;(pointsFileName)\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 47635702, "answer_count": 1, "score": 1, "last_activity_date": 1512398177, "creation_date": 1512397949, "question_id": 47635624, "link": "https://stackoverflow.com/questions/47635624/type-inference-with-lazy-initialization-and-generic-factory-method-in-kotlin", "title": "Type inference with lazy initialization and generic factory method in Kotlin", "body": "<p>I have a factory method that produces some list of <code>&lt;T&gt;</code>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; getObject(fileName: String): List&lt;T&gt;\n</code></pre>\n\n<p>The factory method should be used for lazy initialization like this:</p>\n\n<pre><code>val points: List&lt;Point&gt; by lazy {\n    ObjectFactory.getObject(pointsFileName)\n}\n</code></pre>\n\n<p>Now the Kotlin compiler obviously has not enough type information inside the lambda and complains:</p>\n\n<pre><code>Type inference failed:\nNot enough information to infer parameter T in\ninline fun &lt;reified T&gt; getObject(fileName: String): List&lt;T&gt;\nPlease specify it explicitly.\n</code></pre>\n\n<p>The compiler is not considering the type to which the result of the lazy initialization will be assigned. I can work around this by providing the type locally, but it's not pretty:</p>\n\n<pre><code>val points by lazy {\n    val pointsToCommunicateType: List&lt;Point&gt; =\n            ObjectFactory.getObject(pointsFileName)\n    pointsToCommunicateType\n}\n</code></pre>\n\n<p>What is the right way to do this?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 2, "creation_date": 1512401045, "post_id": 47635367, "comment_id": 82231138, "body": "If you are using some test library, it might already have the timeout feature. For example, with JUnit you can set the <code>@Test(timeout=5000)</code> annotation on a test method."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 0, "creation_date": 1512401991, "post_id": 47635367, "comment_id": 82231790, "body": "I updated the description to make it better understandable what I want to achieve."}], "answers": [{"comments": [{"owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "edited": false, "score": 0, "creation_date": 1548332783, "post_id": 47641886, "comment_id": 95508553, "body": "Roman is there something like d.await(timeout) such that it does not cancel but rather wakes up from current suspended function giving chance to check something and if needed do d.cancel()... i want d to keep working until cancelled manually"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "edited": false, "score": 0, "creation_date": 1548422454, "post_id": 47641886, "comment_id": 95545942, "body": "Use withTimeout(timeout) { d.await() } for that purpose - it does exactly that. async task is still working after timeout."}, {"owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "edited": false, "score": 0, "creation_date": 1548438469, "post_id": 47641886, "comment_id": 95555032, "body": "I believe thats what i tried to do, if you have a minute please take a look at my attempt <a href=\"https://stackoverflow.com/questions/54370415/kotlin-coroutine-future-await-with-timeout-no-cancellation\" title=\"kotlin coroutine future await with timeout no cancellation\">stackoverflow.com/questions/54370415/&hellip;</a>"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 31, "last_activity_date": 1512421264, "creation_date": 1512421264, "answer_id": 47641886, "question_id": 47635367, "link": "https://stackoverflow.com/questions/47635367/kotlin-coroutines-with-timeout/47641886#47641886", "title": "Kotlin Coroutines with timeout", "body": "<p><code>withTimeout { ... }</code> is designed to <em>cancel</em> the ongoing operation on timeout, which is only possible if the operation in question is <em>cancellable</em>. </p>\n\n<p>The reason it works with <code>future.get(timeout, unit)</code> is because it only <em>waits</em> with timeout. It does not actually cancel or abort in any way your background operation which still continues to execute after timeout had elapsed. </p>\n\n<p>If you want to mimick similar behavior with coroutines, then you should <em>wait</em> with timeout, like this:</p>\n\n<pre><code>val d = async { block() } // run the block code in background\nwithTimeout(timeout, unit) { d.await() } // wait with timeout\n</code></pre>\n\n<p>It works properly because <code>await</code> is a cancellable function which you can verify by reading <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-deferred/await.html\" rel=\"noreferrer\">its API documentation</a>.</p>\n\n<p>However, if you want to actually cancel the ongoing operation on timeout, then then you should implement your code in asyncronous and cancellable way. Cancellation is <em>cooperative</em>, so, to start, the underlying library that you are using in your code has to provide asynchronous API that supports cancellation of ongoing operation. </p>\n\n<p>You can read more about cancellation and timeouts in the corresponding section of the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#cancellation-and-timeouts\" rel=\"noreferrer\">coroutines guide</a> and watch the KotlinConf's <a href=\"https://www.youtube.com/watch?v=YrrUCSi72E8\" rel=\"noreferrer\">Deep Dive into Coroutines</a> on how to integrate coroutines with asynchronous libraries.</p>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12632, "favorite_count": 4, "accepted_answer_id": 47641886, "answer_count": 1, "score": 5, "last_activity_date": 1552981791, "creation_date": 1512396975, "last_edit_date": 1552981791, "question_id": 47635367, "link": "https://stackoverflow.com/questions/47635367/kotlin-coroutines-with-timeout", "title": "Kotlin Coroutines with timeout", "body": "<p>I'm currently writing a test-function which should run a block or (when a certain timeout is reached) throws an exception.</p>\n\n<p>I was trying this with <code>Coroutines</code> in Kotlin but ended up with a mixture of <code>Coroutines</code> and <code>CompletableFuture</code>:</p>\n\n<pre><code>fun &lt;T&gt; runBlockWithTimeout(maxTimeout: Long, block: () -&gt; T ): T {\n    val future = CompletableFuture&lt;T&gt;()\n\n    // runs the coroutine\n    launch { block() }\n\n    return future.get(maxTimeout, TimeUnit.MILLISECONDS)\n}\n</code></pre>\n\n<p>This works, but I'm not sure if this is the intended way to solve that problem in kotlin.</p>\n\n<p>I also tried other approaches:</p>\n\n<pre><code>runBlocking {\n    withTimeout(maxTimeout) {\n        block()\n    }\n}\n</code></pre>\n\n<p>But this seems not to work as soon as the <code>block</code> calls e.g. <code>Thread.sleep(...)</code></p>\n\n<p>So is the <code>CompletableFuture</code> approach the way to go or is there a better one?</p>\n\n<p><strong>update 1</strong>\nWhat I want to achieve: </p>\n\n<p>Async Integration-Test code (like receiving data from RabbitMq) should be tested somehow like this:</p>\n\n<pre><code>var rabbitResults: List = ... // are filled async via RabbitListeners\n...\nwaitMax(1000).toSucceed {\n    assertThat(rabbitResults).hasSize(1)\n}\nwaitMax(1000).toSucceed {\n    assertThat(nextQueue).hasSize(3)\n}\n...\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "edited": false, "score": 0, "creation_date": 1512397236, "post_id": 47635356, "comment_id": 82228643, "body": "Can you show your gradle file?"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1512397483, "post_id": 47635356, "comment_id": 82228776, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39646675/firebase-signinwithemailandpassword-gives-com-google-firebase-auth-not-found\">Firebase signInWithEmailAndPassword gives &quot;com.google.firebase.auth not found&quot;</a>"}, {"owner": {"reputation": 8293, "user_id": 8656552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPg67.png?s=128&g=1", "display_name": "Paul Hodges", "link": "https://stackoverflow.com/users/8656552/paul-hodges"}, "edited": false, "score": 0, "creation_date": 1512397969, "post_id": 47635356, "comment_id": 82229030, "body": "You typed &quot;com<code>,</code>google.firebase.auth&quot;. Is that typo also in the code?"}, {"owner": {"reputation": 99, "user_id": 7326803, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-TBkNnEnC400/AAAAAAAAAAI/AAAAAAAAACw/c2pYWqtEX0c/photo.jpg?sz=128", "display_name": "vdeomakerz &#39;", "link": "https://stackoverflow.com/users/7326803/vdeomakerz"}, "edited": false, "score": 0, "creation_date": 1512398735, "post_id": 47635356, "comment_id": 82229529, "body": "no its com.google.firebase.auth"}, {"owner": {"reputation": 99, "user_id": 7326803, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-TBkNnEnC400/AAAAAAAAAAI/AAAAAAAAACw/c2pYWqtEX0c/photo.jpg?sz=128", "display_name": "vdeomakerz &#39;", "link": "https://stackoverflow.com/users/7326803/vdeomakerz"}, "edited": false, "score": 0, "creation_date": 1512400974, "post_id": 47635356, "comment_id": 82231097, "body": "@MehulKanzariya i have added gradle"}], "owner": {"reputation": 99, "user_id": 7326803, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-TBkNnEnC400/AAAAAAAAAAI/AAAAAAAAACw/c2pYWqtEX0c/photo.jpg?sz=128", "display_name": "vdeomakerz &#39;", "link": "https://stackoverflow.com/users/7326803/vdeomakerz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512400847, "creation_date": 1512396933, "last_edit_date": 1512400847, "question_id": 47635356, "link": "https://stackoverflow.com/questions/47635356/firebase-sign-in-failed-on-android-app", "title": "Firebase sign in failed on android app", "body": "<p>my app is showing error on signin failed on firebase..\nin log it says - com,google.firebase.auth not found .\nwhat to do ? i have enabled email/password login in firebase console \nhere is my code.  </p>\n\n<p>public override fun onStart() {\n        super.onStart()</p>\n\n<pre><code>    // Check auth on Activity start\n    if (mAuth!!.currentUser != null) {\n        onAuthSuccess(mAuth!!.currentUser)\n    }\n}\n\nprivate fun signIn() {\n    Log.d(TAG, \"signIn\")\n    if (!validateForm()) {\n        return\n    }\n\n    showProgressDialog()\n    val email = mEmailField!!.text.toString()\n    val password = mPasswordField!!.text.toString()\n\n    mAuth!!.signInWithEmailAndPassword(email, password)\n            .addOnCompleteListener(this) { task -&gt;\n                Log.d(TAG, \"signIn:onComplete:\" + task.isSuccessful)\n                hideProgressDialog()\n\n                if (task.isSuccessful) {\n                    onAuthSuccess(task.result.user)\n                } else {\n                    Toast.makeText(this@SignInActivity, \"Sign In Failed\",\n                            Toast.LENGTH_SHORT).show()\n                }\n            }\n}\n\nprivate fun signUp() {\n    Log.d(TAG, \"signUp\")\n    if (!validateForm()) {\n        return\n    }\n\n    showProgressDialog()\n    val email = mEmailField!!.text.toString()\n    val password = mPasswordField!!.text.toString()\n\n    mAuth!!.createUserWithEmailAndPassword(email, password)\n            .addOnCompleteListener(this) { task -&gt;\n                Log.d(TAG, \"createUser:onComplete:\" + task.isSuccessful)\n                hideProgressDialog()\n\n                if (task.isSuccessful) {\n                    onAuthSuccess(task.result.user)\n                } else {\n                    Toast.makeText(this@SignInActivity, \"Sign Up Failed\",\n                            Toast.LENGTH_SHORT).show()\n                }\n            }\n}\n</code></pre>\n\n<p>here is my gradle module</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\ncompileSdkVersion 26\ndefaultConfig {\n    applicationId \"appname\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support:recyclerview-v7:26.1.0'\nimplementation 'com.android.support:cardview-v7:26.1.0'\nimplementation 'com.android.support:design:26.1.0'\n\nimplementation 'com.firebaseui:firebase-ui-database:3.0.0'\nimplementation 'com.google.android.gms:play-services-auth:11.6.2'\nimplementation 'com.google.firebase:firebase-auth:11.6.2'\nimplementation 'com.google.firebase:firebase-database:11.6.2'\nimplementation 'com.google.firebase:firebase-storage:11.6.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n\n\n\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>i have changed firebase version to 11.6.2\nfrom 11.4.2 </p>\n"}, {"tags": ["android", "delegates", "kotlin"], "comments": [{"owner": {"reputation": 548, "user_id": 2751848, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334006851/picture?type=large", "display_name": "V&#225;clav Hodek", "link": "https://stackoverflow.com/users/2751848/v%c3%a1clav-hodek"}, "edited": false, "score": 3, "creation_date": 1512394702, "post_id": 47634526, "comment_id": 82226867, "body": "Get and set operations on p are delegated to the instance of your DelegateExample, so there is no real p of type String. Just use a variable in DelegateExample to hold the value."}], "answers": [{"comments": [{"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 1, "creation_date": 1512396451, "post_id": 47634599, "comment_id": 82228123, "body": "Great! Thanks for de-compiled class example!"}, {"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "edited": false, "score": 0, "creation_date": 1513766244, "post_id": 47634599, "comment_id": 82774721, "body": "Really such a great example!"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 9, "last_activity_date": 1512395711, "last_edit_date": 1512395711, "creation_date": 1512394542, "answer_id": 47634599, "question_id": 47634526, "link": "https://stackoverflow.com/questions/47634526/kotlin-delegate-property-in-a-get-method-how-i-can-access-the-value/47634599#47634599", "title": "kotlin delegate property ,In a get() method how i can access the value?", "body": "<p>Just create property in delegate which will hold the value </p>\n\n<pre><code>class DelegateExample {\n\n    private var value: String? = null        \n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return value ?: throw IllegalStateException(\"Initalize me!\")\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        this.value = value\n    }\n}\n</code></pre>\n\n<p>To clarify - delegates aren't values holder, they are handlers of <code>get</code>/<code>set</code> operations. You can take a look how it works under the hood if you decompile your <code>Example</code> class (Tools -> Kotlin -> Show Kotlin bytecode -> Decompile).</p>\n\n<pre><code>public final class Example {\n   // $FF: synthetic field\n   static final KProperty[] $$delegatedProperties = ...\n\n   @NotNull\n   private final DelegateExample p$delegate = new DelegateExample();\n\n   @NotNull\n   public final String getP() {\n       return (String)this.p$delegate.getValue(this, $$delegatedProperties[0]);\n   }\n\n   public final void setP(@NotNull String var1) {\n       Intrinsics.checkParameterIsNotNull(var1, \"&lt;set-?&gt;\");\n       this.p$delegate.setValue(this, $$delegatedProperties[0], var1);\n   }\n}\n</code></pre>\n\n<p>No magic here, just creating instance of the <code>DelegateExample</code> and its <code>get</code>/<code>set</code> method invoking</p>\n"}], "owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1152, "favorite_count": 1, "accepted_answer_id": 47634599, "answer_count": 1, "score": 7, "last_activity_date": 1512395711, "creation_date": 1512394290, "last_edit_date": 1512394658, "question_id": 47634526, "link": "https://stackoverflow.com/questions/47634526/kotlin-delegate-property-in-a-get-method-how-i-can-access-the-value", "title": "kotlin delegate property ,In a get() method how i can access the value?", "body": "<p>Kotlin has delegated properties which is a very nice feature. But I am figuring out how to get and set the values. Let's say I want to get value of the property which is delegated.  In a get() method how i can access the value? </p>\n\n<p>Here's an example of how I have implemented:</p>\n\n<pre><code>class Example() {\n    var p: String by DelegateExample()\n}\nclass DelegateExample {\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return \"${property.name} \"\n    }\n\n  operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n    println(\"${value.trim()} '${property.name.toUpperCase()} '\")\n   }\n}\nfun delegate(): String {\n    val e = Example()\n    e.p = \"NEW\"\n    return e.p\n}\n</code></pre>\n\n<p>The main question I am unable to understand is, How can I set the value to the actual property on which the delegation class is assigned. When I assign \"NEW\" to property <code>p</code>, how can I store that value to the variable <code>p</code> or read that new value passed on to <code>p</code> with get? Am I missing something basic here? Any help will be much appreciated. Thanks in advance.</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 5781, "user_id": 4847767, "user_type": "registered", "profile_image": "https://graph.facebook.com/870441239680420/picture?type=large", "display_name": "Alex Zaraos", "link": "https://stackoverflow.com/users/4847767/alex-zaraos"}, "edited": false, "score": 1, "creation_date": 1526596242, "post_id": 47699522, "comment_id": 87818546, "body": "Thank you, the cause of my problem was Instant Run (on)"}, {"owner": {"reputation": 215, "user_id": 9793695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j53oe.png?s=128&g=1", "display_name": "Mohammad Sayed", "link": "https://stackoverflow.com/users/9793695/mohammad-sayed"}, "edited": false, "score": 1, "creation_date": 1567671659, "post_id": 47699522, "comment_id": 102034531, "body": "i don&#39;t enable instant run, and i face the same error on android 6.0 only"}], "tags": [], "owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "is_accepted": true, "score": 5, "last_activity_date": 1512664066, "creation_date": 1512664066, "answer_id": 47699522, "question_id": 47634407, "link": "https://stackoverflow.com/questions/47634407/incompatibleclasschangeerror-class-java-lang-virtualmachineerror-does-not-imp/47699522#47699522", "title": "IncompatibleClassChangeError: Class &#39;java.lang.VirtualMachineError&#39; does not implement interface &#39;java.lang.CharSequence&#39;", "body": "<p>The problem had occurred only on Marshmellow devices and later was different one. Later i got the <code>ArrayIndexOutOfBoundsException</code> and finally found out what the problem was.</p>\n\n<p>The problem was that my libraries were over 64K methods and because <code>Instant Run</code> was on, there was no <code>multidex</code> error and whole application did not compile well. </p>\n"}], "owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1897, "favorite_count": 2, "accepted_answer_id": 47699522, "answer_count": 1, "score": 2, "last_activity_date": 1512671472, "creation_date": 1512393879, "last_edit_date": 1512671472, "question_id": 47634407, "link": "https://stackoverflow.com/questions/47634407/incompatibleclasschangeerror-class-java-lang-virtualmachineerror-does-not-imp", "title": "IncompatibleClassChangeError: Class &#39;java.lang.VirtualMachineError&#39; does not implement interface &#39;java.lang.CharSequence&#39;", "body": "<p>I am having weird problems with my code and I cannot explain anything that's happening. It's crashing on Marshmallow but not on Nougat which makes this more bizarre.</p>\n\n<p>I can point to a line where the error occurs but the error itself is not clear. I am not sure what is crashing and how to prevent it. Here are the details:</p>\n\n<p>The crash happens when I try to make a call to the server. To do this, I use <code>Retrofit</code> alongside <code>RxJava</code> and I do this in Kotlin. Here is my code:</p>\n\n<pre><code>fun login(username: String, password: String, callback: Login.OnLoginListener) {\n    RestClient.getInstance().service\n    .loginUser( //&lt;- This line is crashing for no apparent reason\n            Utils.RequestBodyParser.parseString(username),\n            Utils.RequestBodyParser.parseString(password)\n    )\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(\n        { success -&gt;\n            (\n            if (success.status)\n                callback.onLoginSuccess()\n            else\n                callback.onLoginError()\n            )\n        },\n        { error -&gt;\n            GenericErrorHandler.handleError(error, callback.retrieveContext())\n        }\n    )\n}\n</code></pre>\n\n<p>Here is the logcat output:</p>\n\n<pre><code>java.lang.IncompatibleClassChangeError: Class 'java.lang.VirtualMachineError' does not implement interface 'java.lang.CharSequence' in call to 'java.lang.String java.lang.CharSequence.toString()' (declaration of 'java.lang.Throwable' appears in /system/framework/core-libart.jar)\n  at fi.hohtolabs.kuuratablet.network.WebController$Companion.login(WebController.kt:19)\n  at fi.hohtolabs.kuuratablet.presenter.LoginPresenter.login(LoginPresenter.kt:31)\n  at fi.hohtolabs.kuuratablet.dialog.LoginDialog.lambda$onResume$2$LoginDialog(LoginDialog.java:74)\n  at fi.hohtolabs.kuuratablet.dialog.LoginDialog$$Lambda$2.onClick(Unknown Source)\n  at android.view.View.performClick(View.java:5198)\n  at android.view.View$PerformClick.run(View.java:21147)\n  at android.os.Handler.handleCallback(Handler.java:739)\n  at android.os.Handler.dispatchMessage(Handler.java:95)\n  at android.os.Looper.loop(Looper.java:148)\n  at android.app.ActivityThread.main(ActivityThread.java:5417)\n  at java.lang.reflect.Method.invoke(Native Method)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n\n<p>Does anybody have any suggestions on what I should do? (I tried cleaning, rebuilding, restarting and invalidating caches, deleted the .gradle folder and all other stuff like that, nothing helps)</p>\n"}, {"tags": ["java", "sql", "spring", "kotlin", "hql"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 8902174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKasyi-gmB4/AAAAAAAAAAI/AAAAAAAAACA/Kk4RoM_LBEg/photo.jpg?sz=128", "display_name": "Tal Shani", "link": "https://stackoverflow.com/users/8902174/tal-shani"}, "edited": false, "score": 1, "creation_date": 1512395293, "post_id": 47634415, "comment_id": 82227261, "body": "its not working... but i think that this is working: &quot;SELECT l FROM Locatable l  WHERE l.groupId IN ?1&quot;"}, {"owner": {"reputation": 520, "user_id": 8902174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKasyi-gmB4/AAAAAAAAAAI/AAAAAAAAACA/Kk4RoM_LBEg/photo.jpg?sz=128", "display_name": "Tal Shani", "link": "https://stackoverflow.com/users/8902174/tal-shani"}, "edited": false, "score": 1, "creation_date": 1512395335, "post_id": 47634415, "comment_id": 82227297, "body": "i think i can do that only bc Locatable extending Device"}], "tags": [], "owner": {"reputation": 3984, "user_id": 6376955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810844df95bbc624bc86f940f3587f4a?s=128&d=identicon&r=PG&f=1", "display_name": "Zeromus", "link": "https://stackoverflow.com/users/6376955/zeromus"}, "is_accepted": false, "score": 0, "last_activity_date": 1512393913, "creation_date": 1512393913, "answer_id": 47634415, "question_id": 47633891, "link": "https://stackoverflow.com/questions/47633891/how-to-create-hql-query-with-left-join-using-field-from-extending-object/47634415#47634415", "title": "How to create hql query with left join using field from extending object", "body": "<p>groupdId is of entity Device so it should be</p>\n\n<pre><code>LEFT JOIN FETCH l.Device d WHERE d.groupId \n</code></pre>\n\n<p>you give a name to the device join and use that when referencing column belonging to device</p>\n"}], "owner": {"reputation": 520, "user_id": 8902174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKasyi-gmB4/AAAAAAAAAAI/AAAAAAAAACA/Kk4RoM_LBEg/photo.jpg?sz=128", "display_name": "Tal Shani", "link": "https://stackoverflow.com/users/8902174/tal-shani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512393913, "creation_date": 1512392030, "question_id": 47633891, "link": "https://stackoverflow.com/questions/47633891/how-to-create-hql-query-with-left-join-using-field-from-extending-object", "title": "How to create hql query with left join using field from extending object", "body": "<p>I have this class called Locatable:</p>\n\n<pre><code> @Entity\n @Table(name = \"locatable\")\n @PrimaryKeyJoinColumn(name = \"device_id\", referencedColumnName = \"id\")\n open class Locatable: Device() {\n\n @Basic\n @Column(name = NAME_COLUMN)\n var name: String? = null\n    }\n</code></pre>\n\n<p>as you can see Locatable extended Device, Device looks like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"device\")\n@Inheritance(strategy = InheritanceType.JOINED)\nabstract class Device {\n\n @Id\n @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGen\")\n@SequenceGenerator(name = \"sequenceGen\", sequenceName = \"devices_id_seq\", allocationSize = 1)\n@Column(name = ID_COLUMN)\nopen var id: Long = 0\n\n@Basic\n@Column(name = GROUP_COLUMN)\nopen var groupId: Long = 0\n}\n</code></pre>\n\n<p>Now, Im trying to make a repo using hql like this:</p>\n\n<pre><code>interface LocatableRepo : JpaRepository&lt;Locatable, Long&gt; {\n\n  @Query(\"SELECT l FROM Locatable l LEFT JOIN FETCH l.Device WHERE l.groupId IN ?1\")\nfun getByGroupIdIn(ids: List&lt;Long&gt;): List&lt;Locatable&gt;\n}\n</code></pre>\n\n<p>but from some reason it's not working for me... probably i do it wrong,\nThank you</p>\n"}, {"tags": ["android", "kotlin", "typeconverter", "android-room"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1512567898, "post_id": 47633244, "comment_id": 82310395, "body": "did you solved ?"}], "answers": [{"tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": false, "score": 7, "last_activity_date": 1512407108, "creation_date": 1512407108, "answer_id": 47638406, "question_id": 47633244, "link": "https://stackoverflow.com/questions/47633244/android-room-cannot-figure-out-how-to-save-this-field-into-database/47638406#47638406", "title": "Android Room Cannot figure out how to save this field into database", "body": "<p>Where do you define your database?\nYou should have the option there to specify which converter to use, like such :</p>\n\n<pre><code>@Database(entities = arrayOf(SettingsModel::class) , version = 1, exportSchema = false)\n@TypeConverters(SettingsValueModelConverter::class)\nabstract class AppDatabase: RoomDatabase() {\n    abstract fun SettingsDao(): SettingsDao\n}\n</code></pre>\n"}], "owner": {"reputation": 800, "user_id": 1429570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/g7uai.jpg?s=128&g=1", "display_name": "kibar", "link": "https://stackoverflow.com/users/1429570/kibar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5062, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1535076201, "creation_date": 1512389941, "last_edit_date": 1535076201, "question_id": 47633244, "link": "https://stackoverflow.com/questions/47633244/android-room-cannot-figure-out-how-to-save-this-field-into-database", "title": "Android Room Cannot figure out how to save this field into database", "body": "<p>I'm try to using save values to database via room persistance library. My <code>SettingsValueModelConverter</code> is wrong somethings are missing. How I can save <code>SettingsKeyContract</code> objects best way?</p>\n\n<p>Logcat:</p>\n\n<pre><code>SettingsModel\n\nError:(14, 1) error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n</code></pre>\n\n<p>Codes:</p>\n\n<pre><code>object SETTING_CONS{\n    const val TABLE = \"Content_Setting\"\n    const val ID    = \"uid\"\n    const val KEY   = \"key\"\n    const val VALUE = \"value\"\n}\n\nclass SettingsValueModel(var value: SettingsKeyContract)\nclass SettingsValueModelConverter {\n\n    @TypeConverter\n    fun fromString(value: String): SettingsKeyContract = Gson().fromJson(value, object : TypeToken&lt;SettingsKeyContract&gt;() {}.type)\n\n    @TypeConverter\n    fun fromModel(value: SettingsKeyContract): String = Gson().toJson(value)\n\n}\n\n@Entity(tableName = SETTING_CONS.TABLE)\nclass SettingsModel(@ColumnInfo(name = SETTING_CONS.KEY) @SETTINGS var key: String,\n                    @ColumnInfo(name = SETTING_CONS.VALUE) var value: SettingsValueModel) {\n\n    @ColumnInfo(name = SETTING_CONS.ID)\n    @PrimaryKey(autoGenerate = true)\n    var uid: Int = 0\n\n}\n\n@Dao\ninterface SettingsDao {\n\n    @Query(\"SELECT * FROM ${SETTING_CONS.TABLE} WHERE ${SETTING_CONS.ID} = :key\")\n    fun get(@SETTINGS key: String): LiveData&lt;SettingsModel&gt;\n\n    @get:Query(\"SELECT * FROM ${SETTING_CONS.TABLE}\")\n    val all: LiveData&lt;MutableList&lt;SettingsModel&gt;&gt;\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(model: SettingsModel): Long\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertAll(vararg models: SettingsModel): LongArray\n\n    @Query(\"DELETE FROM ${SETTING_CONS.TABLE} WHERE ${SETTING_CONS.KEY} = :key\")\n    fun delete(@SETTINGS key: String)\n\n    @Query(\"DELETE FROM ${SETTING_CONS.TABLE}\")\n    fun clear()\n\n}\n\n\ninterface SettingsKeyContract { val key: String }\ninterface TypeSettingsKeyContract&lt;out T : Any&gt; : SettingsKeyContract { val default: T }\n\nsealed class SETTING(override val key: String) : SettingsKeyContract {\n\n    object FIRST_LAUNCH_DATE : SETTING(\"first_launch_date\"), TypeSettingsKeyContract&lt;Long&gt; { override val default = 0L }\n\n}\n</code></pre>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "edited": false, "score": 0, "creation_date": 1512395612, "post_id": 47633043, "comment_id": 82227511, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin\">How to convert String array to Int array in Kotlin?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1536, "user_id": 113012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ba5ae7f8877bdd8be04b09c7840ade4?s=128&d=identicon&r=PG", "display_name": "Simon Featherstone", "link": "https://stackoverflow.com/users/113012/simon-featherstone"}, "edited": false, "score": 0, "creation_date": 1512395727, "post_id": 47633212, "comment_id": 82227607, "body": "Great answers. But can you expand how they are different?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1512458125, "post_id": 47633212, "comment_id": 82254200, "body": "They do the same with your array, it&#39;s just the type of parameter which defers: in the first example a <i>method reference</i>, in the second a <i>lambda</i> is passed to <code>map</code>"}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 3, "last_activity_date": 1512389852, "creation_date": 1512389852, "answer_id": 47633212, "question_id": 47633043, "link": "https://stackoverflow.com/questions/47633043/how-do-i-convert-an-array-of-strings-to-an-array-of-int-in-kotlin/47633212#47633212", "title": "How do I convert an array of Strings to an Array of Int in Kotlin", "body": "<pre><code>val intArray = stringArray.map(String::toInt)\n</code></pre>\n\n<p>or with lambda</p>\n\n<pre><code>val intArray = stringArray.map { it.toInt() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1512389880, "creation_date": 1512389880, "answer_id": 47633216, "question_id": 47633043, "link": "https://stackoverflow.com/questions/47633043/how-do-i-convert-an-array-of-strings-to-an-array-of-int-in-kotlin/47633216#47633216", "title": "How do I convert an array of Strings to an Array of Int in Kotlin", "body": "<p>If your input really has delimiters, you can <code>split</code> as already suggested. Afterwards <code>map</code> is what you need. This will do the trick:</p>\n\n<pre><code>val numbers = \"1 2 3 4 5 6\"\nval result = numbers.split(\" \").map(String::toInt)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": false, "score": 1, "last_activity_date": 1512399622, "creation_date": 1512399622, "answer_id": 47636164, "question_id": 47633043, "link": "https://stackoverflow.com/questions/47633043/how-do-i-convert-an-array-of-strings-to-an-array-of-int-in-kotlin/47636164#47636164", "title": "How do I convert an array of Strings to an Array of Int in Kotlin", "body": "<p>You can use <code>.map { ... }</code> with .toInt() or <code>.toIntOrNull()</code>:</p>\n\n<pre><code> val result = strings.map { it.toInt() }\n</code></pre>\n\n<p>Only the result is not an array but a list. It is preferable to use lists over arrays in non-performance-critical code, see the differences.</p>\n\n<p>If you need an array, add <code>.toTypedArray()</code> or <code>.toIntArray()</code>.</p>\n"}], "owner": {"reputation": 1536, "user_id": 113012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ba5ae7f8877bdd8be04b09c7840ade4?s=128&d=identicon&r=PG", "display_name": "Simon Featherstone", "link": "https://stackoverflow.com/users/113012/simon-featherstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "accepted_answer_id": 47633216, "answer_count": 3, "score": 0, "last_activity_date": 1512399622, "creation_date": 1512389342, "question_id": 47633043, "link": "https://stackoverflow.com/questions/47633043/how-do-i-convert-an-array-of-strings-to-an-array-of-int-in-kotlin", "title": "How do I convert an array of Strings to an Array of Int in Kotlin", "body": "<p>I am looking to convert an <code>List&lt;String&gt;</code> to an <code>List&lt;Int&gt;</code> in Kotlin.</p>\n\n<pre><code>val stringArray = \"1 2 3 4 5 6\".split(\" \")\nval intArray = MutableList&lt;Int&gt;(0, {0})\nfor (item in stringArray) {\n    intArray.add(item.toInt())\n}\n</code></pre>\n\n<p>The above will do it, but it feels as if there is a better way of doing this (possible with lambdas and streams?).</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8591583, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670698302962777/picture?type=large", "display_name": "Zimin Byun", "link": "https://stackoverflow.com/users/8591583/zimin-byun"}, "is_accepted": false, "score": 0, "last_activity_date": 1512393540, "creation_date": 1512393540, "answer_id": 47634309, "question_id": 47632859, "link": "https://stackoverflow.com/questions/47632859/kotlin-fetching-data-from-firebase/47634309#47634309", "title": "Kotlin: Fetching data from Firebase", "body": "<p>Otherwise, you can simplify loop. Like this</p>\n\n<pre><code>//by using Iterable function\n\nsnapshot.children.filter {\n                    children -&gt; children.hasChild(targetUserKey)\n                }.map {\n                    children -&gt; children.key\n                }.first()\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 6406541, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/bxYMU.png?s=128&g=1", "display_name": "Daniel Dramond", "link": "https://stackoverflow.com/users/6406541/daniel-dramond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1512393540, "creation_date": 1512388672, "last_edit_date": 1512390416, "question_id": 47632859, "link": "https://stackoverflow.com/questions/47632859/kotlin-fetching-data-from-firebase", "title": "Kotlin: Fetching data from Firebase", "body": "<p>I'm struggling to find an efficient way to fetch individual values from my Firebase Database. I'm coming from working with Swift. When using Swift to fetch data from Firebase, it was as simple as creating a dictionary and accessing the data through that and that allowed me to have access to that one value to do something with it. E.g</p>\n\n<pre><code>guard let dictionary = snapshot.value as? [String: AnyObject] else { return }\nlet username = dictionary[\"username\"] as? String\n\nif username == \"Bob\" {\n  // do something\n}\n</code></pre>\n\n<p>I can only find documents and answers online that use for loops to loop through the snapshot in Kotlin. Is there a much for efficient way to do this? Here's all I can find online. Here's a snippet to get you started. I really appreciate it.</p>\n\n<pre><code>mReference.getReference(\"users\").addListenerForSingleValueEvent(object : ValueEventListener {\n\n    override fun onCancelled(p0: DatabaseError?) {\n        TODO(\"not implemented\")\n    }\n\n    override fun onDataChange(snapshot: DataSnapshot?) {\n        val children = snapshot!!.children\n        println(\"count: \" + snapshot.children.count().toString())\n    }\n\n})\n</code></pre>\n"}, {"tags": ["android", "object", "architecture", "kotlin", "internal"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1512393875, "post_id": 47632589, "comment_id": 82226344, "body": "I&#39;d say that the API should normally have the &quot;better&quot; names: <code>interface AwesomeComponent</code> and <code>internal class AwesomeComponentImpl(): AwesomeComponent</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1512394016, "post_id": 47632589, "comment_id": 82226440, "body": "Good point - I just wanted to explain it with the least change to the original code."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1512387715, "creation_date": 1512387715, "answer_id": 47632589, "question_id": 47632432, "link": "https://stackoverflow.com/questions/47632432/return-internal-class-calling-object-function/47632589#47632589", "title": "Return internal class calling object function", "body": "<p>You have to publish some sort of public API for the app module to be able to use the component that the <code>getComponent()</code> method returns. If you want to publish minimal information about your library, you can have it return an interface that contains only the publicly available method calls to the library, and make your class implement that interface:</p>\n\n<pre><code>object Library {\n    fun getComponent(): IAwesomeComponent = AwesomeComponent()\n}\n\ninterface IAwesomeComponent {\n     // methods you want to call on the component in the app module\n}\n\ninternal class AwesomeComponent(): IAwesomeComponent {\n    // implementations of the interface methods\n}\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 1312353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de52acd22dab1c76041b169ae53c1261?s=128&d=identicon&r=PG", "display_name": "kioli", "link": "https://stackoverflow.com/users/1312353/kioli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 47632589, "answer_count": 1, "score": 0, "last_activity_date": 1512387715, "creation_date": 1512387243, "question_id": 47632432, "link": "https://stackoverflow.com/questions/47632432/return-internal-class-calling-object-function", "title": "Return internal class calling object function", "body": "<p>I'm testing with Kotlin and I'm writing a small library to be imported and used by a test App project.</p>\n\n<p>In the library project I marked my classes as <code>internal</code> because I don't want them to be visible for the App project, but I would like to have a single entry point for the library, and for that I am using a Kotlin <code>object</code> like shown below</p>\n\n<pre><code>LIBRARY\n\nobject Library {\n   fun getComponent() = AwesomeComponent()\n}\n\ninternal class AwesomeComponent() {\n   // some implementation\n}\n\n\nTEST APP\n\nclass MainActivity : AppCompatActivity() {\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n      super.onCreate(savedInstanceState)\n      setContentView(R.layout.activity_main)\n      val component = Library.getComponent()\n   }\n} \n</code></pre>\n\n<p>The problem is that this doesn't compile because the function in the Library <code>object</code> returns an <code>internal</code> type and therefore need to be marked as internal as well, but doing so would hide the function from the TestApp.</p>\n\n<p>Another option would be to not have the <code>internal</code> modifier at all so the TestApp can see the Library method, but then it can also see the classes inside the Library project</p>\n\n<p>Is there an easy solution that I am overlooking here or does it need to go through re-planning of packages and structure of the Library project? (not sure how to do it in that case)</p>\n"}, {"tags": ["java", "android", "image", "kotlin", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 2577, "user_id": 3451639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fGkB6.jpg?s=128&g=1", "display_name": "Aleksander Mielczarek", "link": "https://stackoverflow.com/users/3451639/aleksander-mielczarek"}, "is_accepted": true, "score": 2, "last_activity_date": 1512417057, "creation_date": 1512417057, "answer_id": 47640945, "question_id": 47631363, "link": "https://stackoverflow.com/questions/47631363/custom-glide-modelloader-for-base64-images/47640945#47640945", "title": "Custom Glide ModelLoader for base64 images", "body": "<p>Thanks to comment from <a href=\"https://github.com/bumptech/glide/issues/2677\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide/issues/2677</a> I found the solution. </p>\n\n<pre><code>@GlideModule\nclass MyAppGlideModule : AppGlideModule() {\n\n    override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\n        super.registerComponents(context, glide, registry)\n        val app = context.applicationContext as MyApplication\n        registry.append(Data::class.java, ByteBuffer::class.java, MyImageLoaderFactory(app.api))\n    }\n}\n\nclass MyImageLoaderFactory(private val api: Api) : ModelLoaderFactory&lt;Data, ByteBuffer&gt; {\n\n    override fun teardown() {\n\n    }\n\n    override fun build(multiFactory: MultiModelLoaderFactory): ModelLoader&lt;Data, ByteBuffer&gt; {\n        return MyImageLoader(api)\n    }\n}\n\nclass MyImageLoader(private val api: Api) : ModelLoader&lt;Data, ByteBuffer&gt; {\n\n    override fun buildLoadData(model: Data, width: Int, height: Int, options: Options): ModelLoader.LoadData&lt;ByteBuffer&gt; {\n        val key = \"code:${model.code};width:$width;height:$height\"\n        return ModelLoader.LoadData&lt;ByteBuffer&gt;(ObjectKey(key), MyImageDataFetcher(api, GetImageRequest().apply { data = model }))\n    }\n\n    override fun handles(model: Data): Boolean {\n        return true\n    }\n}\n\nclass ClmImageDataFetcher(private val api: Api, private val request: GetImageRequest) : DataFetcher&lt;ByteBuffer&gt; {\n\n    private val disposables = CompositeDisposable()\n\n    override fun cleanup() {\n        disposables.clear()\n    }\n\n    override fun loadData(priority: Priority, callback: DataFetcher.DataCallback&lt;in ByteBuffer&gt;) {\n        api.getImage(request)\n                .map { it.image.decodeBase64() }\n                .subscribe({ callback.onDataReady(ByteBuffer.wrap(it)) }, {\n                    if (it is Exception) {\n                        callback.onLoadFailed(it)\n                    } else {\n                        callback.onLoadFailed(MyException(it))\n                    }\n                })\n                .addTo(disposables)\n    }\n\n    override fun cancel() {\n        disposables.clear()\n    }\n\n    override fun getDataClass(): Class&lt;ByteBuffer&gt; {\n        return ByteBuffer::class.java\n    }\n\n    override fun getDataSource(): DataSource {\n        return DataSource.REMOTE\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2577, "user_id": 3451639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fGkB6.jpg?s=128&g=1", "display_name": "Aleksander Mielczarek", "link": "https://stackoverflow.com/users/3451639/aleksander-mielczarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1602, "favorite_count": 0, "accepted_answer_id": 47640945, "answer_count": 1, "score": 5, "last_activity_date": 1553443985, "creation_date": 1512383691, "last_edit_date": 1553443985, "question_id": 47631363, "link": "https://stackoverflow.com/questions/47631363/custom-glide-modelloader-for-base64-images", "title": "Custom Glide ModelLoader for base64 images", "body": "<p>I have images from some SOAP API that are encoded in base64. To load them directly with Glide I decided to wrote custom ModelLoader.</p>\n\n<p><strong>Glide Version</strong>: 4.3.1</p>\n\n<p><strong>Glide load line</strong>:</p>\n\n<pre><code>GlideApp.with(activity)\n        .load(Data().apply { code = licensePlateData.licensePlateImgId })\n        .into(view.imageLicense)\n</code></pre>\n\n<p><strong>GlideModule</strong>:</p>\n\n<pre><code>@GlideModule\nclass MyAppGlideModule : AppGlideModule() {\n\n    override fun registerComponents(context: Context, glide: Glide, registry: Registry) {\n        super.registerComponents(context, glide, registry)\n        val app = context.applicationContext as MyApplication\n        registry.append(Data::class.java, ByteArray::class.java, MyImageLoaderFactory(app.api))\n    }\n}\n</code></pre>\n\n<p><strong>Loader</strong>:</p>\n\n<pre><code>class MyImageLoaderFactory(private val api: Api) : ModelLoaderFactory&lt;Data, ByteArray&gt; {\n\n    override fun teardown() {\n\n    }\n\n    override fun build(multiFactory: MultiModelLoaderFactory): ModelLoader&lt;Data, ByteArray&gt; {\n        return MyImageLoader(api)\n    }\n}\n\nclass MyImageLoader(private val api: Api) : ModelLoader&lt;Data, ByteArray&gt; {\n\n    override fun buildLoadData(model: Data, width: Int, height: Int, options: Options): ModelLoader.LoadData&lt;ByteArray&gt; {\n        val key = \"code:${model.code};width:$width;height:$height\"\n        return ModelLoader.LoadData&lt;ByteArray&gt;(ObjectKey(key), MyImageDataFetcher(api, GetImageRequest().apply { data = model }))\n    }\n\n    override fun handles(model: Data): Boolean {\n        return true\n    }\n}\n\nclass MyImageDataFetcher(private val api: Api, private val request: GetImageRequest) : DataFetcher&lt;ByteArray&gt; {\n\n    private val disposables = CompositeDisposable()\n\n    override fun cleanup() {\n        disposables.clear()\n    }\n\n    override fun loadData(priority: Priority, callback: DataFetcher.DataCallback&lt;in ByteArray&gt;) {\n        api.getImage(request) //soap request\n                .map { it.image.decodeBase64() } //translate String to ByteArray\n                .subscribe({ callback.onDataReady(it) }, {\n                    if (it is Exception) {\n                        callback.onLoadFailed(it)\n                    } else {\n                        callback.onLoadFailed(MyException(it))\n                    }\n                })\n                .addTo(disposables)\n    }\n\n    override fun cancel() {\n        disposables.clear()\n    }\n\n    override fun getDataClass(): Class&lt;ByteArray&gt; {\n        return ByteArray::class.java\n    }\n\n    override fun getDataSource(): DataSource {\n        return DataSource.REMOTE\n    }\n\n}\n</code></pre>\n\n<p><strong>Stack trace / LogCat</strong>:</p>\n\n<pre><code>com.bumptech.glide.Registry$NoSourceEncoderAvailableException: Failed to find source encoder for data class: class [B\n    at com.bumptech.glide.Registry.getSourceEncoder(Registry.java:534)\n    at com.bumptech.glide.load.engine.DecodeHelper.getSourceEncoder(DecodeHelper.java:232)\n    at com.bumptech.glide.load.engine.SourceGenerator.cacheData(SourceGenerator.java:74)\n    at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:45)\n    at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:298)\n    at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:268)\n    at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:229)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n    at java.lang.Thread.run(Thread.java:764)\n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:413)\n</code></pre>\n\n<p>I think that I'm missing something to make it work. </p>\n"}, {"tags": ["scala", "kotlin", "companion-object", "kotlin-companion"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512382772, "post_id": 47630553, "comment_id": 82219867, "body": "<a href=\"https://discuss.kotlinlang.org/t/what-is-the-advantage-of-companion-object-vs-static-keyword/4034\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3551, "user_id": 4496364, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-mCD1Mgd00l8/AAAAAAAAAAI/AAAAAAAAALQ/o4JxOHwpHJI/photo.jpg?sz=128", "display_name": "insan-e", "link": "https://stackoverflow.com/users/4496364/insan-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1512382945, "creation_date": 1512382945, "answer_id": 47631144, "question_id": 47630553, "link": "https://stackoverflow.com/questions/47630553/companion-objects-benefits-of-posibility-to-implement-interfaces/47631144#47631144", "title": "Companion objects benefits of posibility to implement interfaces", "body": "<p>You use singleton object when you need only one instance of particular class in program.  </p>\n\n<p>E.g. Scala's <a href=\"https://github.com/scala/scala/blob/v2.12.4/src/library/scala/collection/immutable/List.scala#L425\" rel=\"nofollow noreferrer\"><code>Nil</code></a> implements <code>List[Nothing]</code>. Rather than every type of list to implement <em>it's particular</em> <code>Nil</code> there is just one of them.</p>\n\n<p>In <a href=\"http://danielwestheide.com/blog/2013/02/06/the-neophytes-guide-to-scala-part-12-type-classes.html\" rel=\"nofollow noreferrer\">typeclass pattern</a>, where you have just one <code>implicit object</code> for corresponding implementation.</p>\n\n<p>Also, where you'd create a <code>public static Something</code> in Java, you'd create that in a companion object.</p>\n\n<p>I personally found them useful for implementing an sbt plugin, that renders <code>object Blah extends Renderable</code> to files <code>blah.html</code>. Find more about usefulness <a href=\"https://github.com/sake92/sbt-hepek\" rel=\"nofollow noreferrer\">here</a>. I <strong>had to know that it implements</strong> that trait!</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512391519, "post_id": 47633532, "comment_id": 82224905, "body": "can you please add an example of &quot;you can write code working with a TraversableFactory and pass any of them to construct the type you want&quot; ? thanks"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512392092, "post_id": 47633532, "comment_id": 82225252, "body": "Here is a rather trivial example."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1512392075, "last_edit_date": 1512392075, "creation_date": 1512390902, "answer_id": 47633532, "question_id": 47630553, "link": "https://stackoverflow.com/questions/47630553/companion-objects-benefits-of-posibility-to-implement-interfaces/47633532#47633532", "title": "Companion objects benefits of posibility to implement interfaces", "body": "<p>Because <code>companion object</code>s are <code>object</code>s, <code>object</code>s can implement interfaces (or extend classes), and there is no good reason to disallow it for <code>companion object</code>s in particular.</p>\n\n<p>One common use in Scala is for factories: e.g. <code>Seq</code>, <code>List</code>, <code>Vector</code> etc. companion objects all extend <a href=\"http://www.scala-lang.org/api/2.12.4/scala/collection/generic/TraversableFactory.html\" rel=\"nofollow noreferrer\"><code>TraversableFactory</code></a> so you can write code working with a <code>TraversableFactory</code> and pass any of them to construct the type you want. E.g.</p>\n\n<pre><code>def build[CC[X] &lt;: Traversable[X] with GenericTraversableTemplate[X, CC], A](factory: TraversableFactory[CC])(elems: A*) = factory(elems)\n\n// build(List)(1,2,3) == List(1, 2, 3)\n// build(Set)(1,2,3) == Set(1, 2, 3)\n</code></pre>\n\n<p>Similarly, all case class companion objects extend function types.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512401146, "post_id": 47636489, "comment_id": 82231192, "body": "But why not to implement interfaces by classes themselves?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512401867, "post_id": 47636489, "comment_id": 82231707, "body": "I&#39;m calling the functions on the <i>class</i>, not an <i>instance</i> of the class. As you can see from the last example, I never call the constructor of <code>User</code>or <code>Article</code>."}, {"owner": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512401957, "post_id": 47636489, "comment_id": 82231770, "body": "Yes, I see, but what benefits this have, to call functions on the <i>class</i> and not on <i>instance</i>?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512402602, "post_id": 47636489, "comment_id": 82232167, "body": "That&#39;s a very fundamental question. You could as well ask &quot;Why do we need <code>companion object</code>s?&quot; or &quot;Why do we need <code>static</code> in Java?&quot;. I would recommend finding a satisfying answer to those questions before coming back to your original question."}, {"owner": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "edited": false, "score": 0, "creation_date": 1512403220, "post_id": 47636489, "comment_id": 82232561, "body": "I understand why we need companion object and static, mostly for namespacing, but why companion object need to implement some interface when class itself can implement interfaces, I don&#39;t get it."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1512400755, "creation_date": 1512400755, "answer_id": 47636489, "question_id": 47630553, "link": "https://stackoverflow.com/questions/47630553/companion-objects-benefits-of-posibility-to-implement-interfaces/47636489#47636489", "title": "Companion objects benefits of posibility to implement interfaces", "body": "<p>You can use <code>companion object</code>s and inheritance for some level of class-lavel or static polymorphism. </p>\n\n<h2>Example 1: Factories</h2>\n\n<p>Consider an interface</p>\n\n<pre><code>interface Factory&lt;T&gt; {\n    fun create(): T\n}\n</code></pre>\n\n<p>Now, we create a class whose companion object implements it</p>\n\n<pre><code>class Foo {\n    companion object: Factory&lt;Foo&gt; {\n        override fun create() = Foo()\n    }\n}\n</code></pre>\n\n<p>Now we can create an extension function for all factories to create and e.g. log the object.</p>\n\n<pre><code>fun &lt;T&gt; Factory&lt;T&gt;.createAndLog(): T {\n    val t = create()\n    println(t)\n    return t\n}\n</code></pre>\n\n<p>Und use it like so</p>\n\n<pre><code>Foo.createAndLog()\n</code></pre>\n\n<h2>Example 2: Queries</h2>\n\n<p>Consider a marker interface</p>\n\n<pre><code>interface Queryable&lt;T&gt;\n</code></pre>\n\n<p>We now have two classes <code>User</code> and <code>Article</code> that represent tables in a database whose <code>companion object</code> implements the interface.</p>\n\n<pre><code>class User(val id: String) {\n    companion object: Queryable&lt;User&gt; {}\n}\n\nclass Article(val authorId: String) {\n    companion object: : Queryable&lt;Article&gt; {}\n}\n</code></pre>\n\n<p>We can now define an extension function to create a query from the class</p>\n\n<pre><code>fun &lt;T&gt; Queryable&lt;T&gt;.query() = db.createQuery&lt;T&gt;()\n</code></pre>\n\n<p>which we can call as</p>\n\n<pre><code>User.query()\n//or\nArticle.query()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8639175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ba7e4d0f9ad84b4bd7c9944fb6c52e79?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/8639175/axel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 0, "accepted_answer_id": 47633532, "answer_count": 3, "score": 2, "last_activity_date": 1512400755, "creation_date": 1512381010, "question_id": 47630553, "link": "https://stackoverflow.com/questions/47630553/companion-objects-benefits-of-posibility-to-implement-interfaces", "title": "Companion objects benefits of posibility to implement interfaces", "body": "<p>Why in Kotlin/Scala companion objects can implements some interfaces, what benefits this can have? When is useful to use this feature?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 8909235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b698153ad387a94413b60b7d5cb74f4a?s=128&d=identicon&r=PG", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/8909235/lefteris"}, "is_accepted": false, "score": 3, "last_activity_date": 1512377903, "last_edit_date": 1512377903, "creation_date": 1512376732, "answer_id": 47629379, "question_id": 47629325, "link": "https://stackoverflow.com/questions/47629325/why-nullable-numbers-are-not-preserve-identity/47629379#47629379", "title": "Why nullable numbers are not preserve identity", "body": "<blockquote>\n  <p><code>a === b</code> evaluates to true if and only if a and b point to the same\n  object.</p>\n</blockquote>\n\n<p>That's not true for <code>boxedA === anotherBoxedA.</code></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">Kotlin - Equality</a></p>\n"}, {"tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 0, "last_activity_date": 1512377074, "creation_date": 1512377074, "answer_id": 47629463, "question_id": 47629325, "link": "https://stackoverflow.com/questions/47629325/why-nullable-numbers-are-not-preserve-identity/47629463#47629463", "title": "Why nullable numbers are not preserve identity", "body": "<blockquote>\n  <p>Referential equality means that two references point to the same\n  object.</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">Document</a>, Referential equality is checked by the === operation (and its negated counterpart !==). a === b evaluates to true if and only if a and b point to the same object.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1512377143, "creation_date": 1512377143, "answer_id": 47629477, "question_id": 47629325, "link": "https://stackoverflow.com/questions/47629325/why-nullable-numbers-are-not-preserve-identity/47629477#47629477", "title": "Why nullable numbers are not preserve identity", "body": "<p>This is explained in <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#representation\" rel=\"nofollow noreferrer\">the documentation</a> right next to this code sample:</p>\n\n<blockquote>\n  <p>Note that boxing of numbers does not necessarily preserve identity</p>\n</blockquote>\n\n<p>Basically, using the nullable <code>Int?</code> type forces the compiler to use the boxed <code>Integer</code> type for those variables in the generated bytecode instead of the primitive <code>int</code>. So the code sample translates to this Java code:</p>\n\n<pre><code>int a = 10000;\nInteger boxedA = Integer.valueOf(a);\nInteger anotherBoxedA = Integer.valueOf(a);\nSystem.out.print(boxedA == anotherBoxedA);\n</code></pre>\n\n<p>This, of course, prints <code>false</code>, since two different <code>Integer</code> instances have been created by the two <code>Integer.valueOf</code> calls. Thought the JVM has caching for the instances created by <code>Integer.valueOf</code> calls, <a href=\"https://stackoverflow.com/a/3637974/4465208\">it only works between -128 and 127</a> - if you run the code with <code>a</code> having a value in that range, both comparisons will indeed return <code>true</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1512377340, "creation_date": 1512377340, "answer_id": 47629534, "question_id": 47629325, "link": "https://stackoverflow.com/questions/47629325/why-nullable-numbers-are-not-preserve-identity/47629534#47629534", "title": "Why nullable numbers are not preserve identity", "body": "<p>In kotlin , we have two different concepts of equality, <strong>Referential equality</strong> and <strong>Structural equality</strong> </p>\n\n<p><strong>Referential equality</strong></p>\n\n<p>We use the <strong>===</strong> symbol which allows us to evaluate the reference of an object(if it's pointing to the same object). This is an equivalent of \"==\" operator in java. thats why <code>boxedA === anotherBoxedA</code> return false(Because they are two separate objects, each pointing to a different location in memory).</p>\n\n<p><strong>Structural Equality</strong></p>\n\n<p>We use the <strong>==</strong> symbol that evaluates if both values are the same (or equal). This is usually achieved by implementing <code>equals()</code> method in java. \nThat's why it <code>boxedA == anotherBoxedA</code> it return true </p>\n"}], "owner": {"reputation": 7914, "user_id": 1348522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/onFKD.jpg?s=128&g=1", "display_name": "Zumry Mohamed", "link": "https://stackoverflow.com/users/1348522/zumry-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1512585836, "answer_count": 4, "score": 1, "last_activity_date": 1512377915, "creation_date": 1512376501, "last_edit_date": 1512377915, "question_id": 47629325, "link": "https://stackoverflow.com/questions/47629325/why-nullable-numbers-are-not-preserve-identity", "closed_reason": "Duplicate", "title": "Why nullable numbers are not preserve identity", "body": "<p>In <code>kotlin</code> <code>nullable</code> values are not preserving identity but equality,</p>\n\n<pre><code>val a: Int = 10000\nval boxedA: Int? = a\nval anotherBoxedA: Int? = a\nprint(boxedA === anotherBoxedA) // !!!Prints 'false'!!!\nprint(boxedA == anotherBoxedA) // Prints 'true'\n</code></pre>\n\n<p>I just wanted to know why is this different ?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512365602, "post_id": 47627011, "comment_id": 82211847, "body": "&#39;cursor.getString(idx)&#39; return a string like this &#39;android.content.ContentResolver$CursorWrapperInner@c4fe18c&#39; where &#39;idx = 0&#39;"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512366610, "post_id": 47627011, "comment_id": 82212166, "body": "So it&#39;s returning the memory address of the object. What line of your code is giving you trouble?"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512366755, "post_id": 47627011, "comment_id": 82212211, "body": "&quot;result = cursor.getString(idx)&quot;  &lt;--- this line"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512367990, "post_id": 47627011, "comment_id": 82212603, "body": "what should the &#39;result&#39; have??"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512368061, "post_id": 47627011, "comment_id": 82212626, "body": "<code>result</code> should be the column value as a string."}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512368129, "post_id": 47627011, "comment_id": 82212651, "body": "Try logging/printing the value of result to see if it&#39;s what you would expect at that column index."}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512368204, "post_id": 47627011, "comment_id": 82212669, "body": "string like the path ---&gt;  &#39;/document/image:44373&#39; or the name of image itself??"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512368274, "post_id": 47627011, "comment_id": 82212693, "body": "see my first comment. returns a memory address?"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512368346, "post_id": 47627011, "comment_id": 82212717, "body": "Yes, it&#39;s logging a memory address. But, presumably, there is a value stored at that address. Try calling <code>result.toString()</code> to see what is stored there."}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512369306, "post_id": 47627011, "comment_id": 82213047, "body": "well, that did not happen, logging the result gives me nothing(as in print nothing), and that&#39;s my case."}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512369307, "post_id": 47627011, "comment_id": 82213050, "body": "Try posting the full stack trace for the error and it might show more of what is going on."}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512371504, "post_id": 47627011, "comment_id": 82213927, "body": "Try checking if <code>cursor.moveToFirst()</code> returns true or false. If it&#39;s false, then the cursor is empty, not necessarily null. If it&#39;s false, the column might exist, as it would in the method call <code>cursor.getColumnIndexOrThrow(MediaStore.Images.ImageColumns.&zwnj;&#8203;DATA)</code>, but it may have a null value."}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512372038, "post_id": 47627011, "comment_id": 82214135, "body": "&quot;cursor.moveToFirst()&quot; returns true"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512372273, "post_id": 47627011, "comment_id": 82214230, "body": "bro, I log the cursor.getString(idx), and it prints null"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512373686, "post_id": 47627011, "comment_id": 82214822, "body": "Then that means there is no value stored at that column. so you&#39;re retrieving a null value, which will throw an exception. Can you check your database that there will be a value there?"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512374214, "post_id": 47627011, "comment_id": 82215069, "body": "I check that the column type I&#39;m getting is FIELD_TYPE_NULL which always returns a null... BTW in other device(galaxy s4 - &lt; 6.0) it&#39;s working, but mine(nexus 7 - 6.0) it&#39;s not...  Your thoughts?  <a href=\"https://developer.android.com/reference/android/database/Cursor.html#getType(int)\" rel=\"nofollow noreferrer\">column types</a>"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512374785, "post_id": 47627011, "comment_id": 82215343, "body": "I am not sure why it wouldn&#39;t work on your device..but what you could do to get around it is call <code>cursor.getType(idx)</code> to see if it returns <code>FIELD_TYPE_NULL</code>. If it does, don&#39;t make the call to <code>cursor.getString(idx)</code>, which will avoid the exception."}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512374995, "post_id": 47627011, "comment_id": 82215449, "body": "yes, it will avoid the exception but it won&#39;t have any result either. huhu"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512375071, "post_id": 47627011, "comment_id": 82215487, "body": "Well, if the column is stored as <code>FIELD_TYPE_NULL</code>, your result to return will be null regardless...is it an issue to first initialize it to null?"}, {"owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "edited": false, "score": 0, "creation_date": 1512376002, "post_id": 47627011, "comment_id": 82215958, "body": "bro, it is in the directory of image that gives me a bad day. I try to select the image from PHOTOS and not to default gallery and gives me a birthday gift haha. It&#39;s the update by Google? and I&#39;ll try to investigate. Thanks for your time bro.."}], "tags": [], "owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "is_accepted": true, "score": 3, "last_activity_date": 1512374981, "last_edit_date": 1512374981, "creation_date": 1512365275, "answer_id": 47627011, "question_id": 47626959, "link": "https://stackoverflow.com/questions/47626959/android-illegalstateexception-cursor-getstringidx-must-not-be-null/47627011#47627011", "title": "Android - IllegalStateException : cursor.getString(idx) must not be null", "body": "<p>Per the <a href=\"https://developer.android.com/reference/android/database/Cursor.html\" rel=\"nofollow noreferrer\">documentation</a> of cursor.getString():</p>\n\n<blockquote>\n  <p>Returns the value of the requested column as a String.</p>\n  \n  <p>The result and whether this method throws an exception when the column\n  value is null or the column type is not a string type is\n  implementation-defined.</p>\n</blockquote>\n\n<p>You're getting an <code>IllegalStateException</code>. Though broad, this generally means that a method has been invoked at a wrong/illegal time. That is, the the application or environment is not in the proper state for this method. This could mean that the parameter, cursor, or value is null.</p>\n\n<p>Check the return type of the column before calling the method:</p>\n\n<pre><code>if (cursor.getType(idx) == FIELD_TYPE_STRING) {\n    result = cursor.getString(idx);\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9049109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87453658f39743e2b9da5163f5f31f08?s=128&d=identicon&r=PG&f=1", "display_name": "xigncode23", "link": "https://stackoverflow.com/users/9049109/xigncode23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3162, "favorite_count": 0, "accepted_answer_id": 47627011, "answer_count": 1, "score": 2, "last_activity_date": 1512374981, "creation_date": 1512364880, "last_edit_date": 1512369779, "question_id": 47626959, "link": "https://stackoverflow.com/questions/47626959/android-illegalstateexception-cursor-getstringidx-must-not-be-null", "title": "Android - IllegalStateException : cursor.getString(idx) must not be null", "body": "<p>I have follow all the stuffs here, but Why does <code>cursor.getString(idx)</code> said it must not be <code>null</code>? I supply all the necessary params..</p>\n\n<p>here's my <code>getfilepath</code>:</p>\n\n<pre><code>fun getFilePathFromUri(context: Context, imageURI: Uri): String? {\n\n        var cursor : Cursor? = null\n        var result: String\n\n        try {\n            val projection = arrayOf(MediaStore.Images.Media.DATA)\n\n            cursor = context.contentResolver.query(imageURI, projection, null, null, null)\n\n            if (cursor == null) {\n                result = imageURI.path\n            } else {\n                Log.d(AppConstants.TAG, \"Path_img = \" + imageURI)\n                Log.d(AppConstants.TAG, \"Path_pth = \" + imageURI.path)\n                Log.d(AppConstants.TAG, \"Path_cursor = \" + cursor)\n\n                cursor.moveToFirst()\n                val idx = cursor.getColumnIndexOrThrow(MediaStore.Images.ImageColumns.DATA)\n                result = cursor.getString(idx)\n            }\n            return result\n        } finally {\n                cursor!!.close()\n        }\n    }\n</code></pre>\n\n<p>here's the error:</p>\n\n<pre><code>12-04 14:34:44.971 2008-2008/com.xxx.project k E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.xxx.proj, PID: 2008\n    java.lang.IllegalStateException: cursor.getString(idx) must not be null\n    at com.xxx.proj.utils.ImageUtils$Companion.getFilePathFromUri(ImageUtils.kt:78)\n    at com.xxx.proj.api.Layer.createNewLayer(Layer.java:84)\n    at com.xxx.proj.dialog.EventMapCreationDialog.registerNewMap(EventMapCreationDialog.kt:266)\n    at com.xxx.proj.dialog.EventMapCreationDialog.onClick(EventMapCreationDialog.kt:82)\n    at android.view.View.performClick(View.java:5204)\n    at android.view.View$PerformClick.run(View.java:21153)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:148)\n    at android.app.ActivityThread.main(ActivityThread.java:5417)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n</code></pre>\n"}, {"tags": ["kotlin", "this", "grammar"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512371997, "post_id": 47626592, "comment_id": 82214120, "body": "This seems valid, interestingly"}, {"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512381160, "post_id": 47626592, "comment_id": 82218871, "body": "@1blustone it really does"}], "answers": [{"comments": [{"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "edited": false, "score": 1, "creation_date": 1512380985, "post_id": 47629641, "comment_id": 82218767, "body": "Hey, thanks for the answer. After some testing, I&#39;m kind of convinced that what you are saying is actually correct. But could you provide me with some reference or spec to elaborate? Because when I see <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html#operators-and-special-symbols\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> which demonstrates the usage of <code>@</code>, I don&#39;t find any proof that <code>@</code> can used as a postfix as in <code>SignInActivity@ this</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1512381517, "post_id": 47629641, "comment_id": 82219078, "body": "The link you provided actually lists that <code>@</code> can <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">reference a &#39;this&#39; expression from an outer scope</a>."}, {"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1512383714, "post_id": 47629641, "comment_id": 82220452, "body": "@zsmb13 Yes, but notice that it&#39;s in a form of <code>this@label</code>, not <code>label@this</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1512384701, "post_id": 47629641, "comment_id": 82221011, "body": "Oh, right, my bad, I just skimmed the original post. It&#39;s fascinating that this works too."}], "tags": [], "owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "is_accepted": false, "score": 4, "last_activity_date": 1512377832, "creation_date": 1512377832, "answer_id": 47629641, "question_id": 47626592, "link": "https://stackoverflow.com/questions/47626592/position-of-label-in-kotlin-when-denoting-receiver-with-this/47629641#47629641", "title": "Position of `@` label in Kotlin when denoting receiver with `this`", "body": "<p>SignInActivity@this means SignInActivity.this (Java)\nthis@SignInActivity means - using the  SignInActivity context instead a local context (usually is in closures).</p>\n"}, {"comments": [{"owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "edited": false, "score": 0, "creation_date": 1512386331, "post_id": 47631737, "comment_id": 82221907, "body": "Great answer! Thanks a lot. So it was only a superstition. lol."}], "tags": [], "owner": {"reputation": 86, "user_id": 8591583, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670698302962777/picture?type=large", "display_name": "Zimin Byun", "link": "https://stackoverflow.com/users/8591583/zimin-byun"}, "is_accepted": true, "score": 7, "last_activity_date": 1512387686, "last_edit_date": 1512387686, "creation_date": 1512384952, "answer_id": 47631737, "question_id": 47626592, "link": "https://stackoverflow.com/questions/47626592/position-of-label-in-kotlin-when-denoting-receiver-with-this/47631737#47631737", "title": "Position of `@` label in Kotlin when denoting receiver with `this`", "body": "<p><code>SignInActivity@ this</code> is just another expression for <code>this</code>, with the functionality of defining an unnecessary label called <code>SignInActivity</code>(which has nothing to do with actual class name) for <code>this</code>.</p>\n\n<p>According to <a href=\"https://kotlinlang.org/docs/reference/grammar.html#labelReference\" rel=\"noreferrer\">Kotlin grammar documentation</a>:</p>\n\n<pre><code>labelReference (used by atomicExpression, jump)\n   : \"@\" ++ LabelName\n   ;\nlabelDefinition (used by prefixUnaryOperation, annotatedLambda)\n  : LabelName ++ \"@\"\n  ;\n</code></pre>\n\n<p><code>hello@</code> is just a label with the name \"hello\" (for <a href=\"https://kotlinlang.org/docs/reference/returns.html#returns-and-jumps\" rel=\"noreferrer\">Returns and Jumps</a>) ,</p>\n\n<p>whereas <code>@hello</code> is a reference for the labeled loop or block.</p>\n\n<p>These expressions combined can be used as below:</p>\n\n<pre><code>loop@ for (i in 1..100) {\n    for (j in 1..100) {\n        if (...) break@loop //jump to loop@\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 966, "user_id": 3535760, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FQ2Hn.jpg?s=128&g=1", "display_name": "viz", "link": "https://stackoverflow.com/users/3535760/viz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 2, "accepted_answer_id": 47631737, "answer_count": 2, "score": 8, "last_activity_date": 1512387686, "creation_date": 1512362268, "question_id": 47626592, "link": "https://stackoverflow.com/questions/47626592/position-of-label-in-kotlin-when-denoting-receiver-with-this", "title": "Position of `@` label in Kotlin when denoting receiver with `this`", "body": "<p>I am a newbie in Kotlin. I am curious about the difference of labeled <code>this</code> in Kotlin with prefix <code>@</code> or postfix <code>@</code>.</p>\n\n<p>I have just seen a code which writes <code>SignInActivity@this</code>, which seems to work exactly same as <code>this@SignInActivity</code>.</p>\n\n<p>Are these two exactly the same thing? If not, what is the difference between the two?</p>\n\n<p>I was trying to do some research on <code>*@this</code> form, but I couldn't find any reference on it. All I could find was <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"noreferrer\">this official doc</a> which demonstrates <code>this@*</code>. It will be nice if anybody could share me with the correct reference I should go to.</p>\n"}, {"tags": ["android", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1512338979, "post_id": 47623795, "comment_id": 82205568, "body": "It doesn&#39;t look like you ever set <code>arrayShape</code> to anything but null. Don&#39;t use <code>!!</code> on something unless you&#39;re 100% sure it&#39;s not null. In addition, <code>array[0] != null</code> will always be true because <code>Drawable</code> isn&#39;t a nullable type (unless it&#39;s a tricky alias to a nullable type)."}], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": false, "score": 1, "last_activity_date": 1512350512, "creation_date": 1512350512, "answer_id": 47625224, "question_id": 47623795, "link": "https://stackoverflow.com/questions/47623795/how-to-find-out-if-an-array-is-empty/47625224#47625224", "title": "How to find out if an array is empty?", "body": "<p>You have to use safe call on the array since it is nullable. Also provide a default value when it is null.</p>\n\n<pre><code>if(arrayShape?.isEmpty() ?: true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2606, "user_id": 5230881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-HG5fYGvbCUA/AAAAAAAAAAI/AAAAAAAAAGA/a6y-whXuXoY/photo.jpg?sz=128", "display_name": "Raja", "link": "https://stackoverflow.com/users/5230881/raja"}, "is_accepted": false, "score": 2, "last_activity_date": 1512364999, "creation_date": 1512364999, "answer_id": 47626978, "question_id": 47623795, "link": "https://stackoverflow.com/questions/47623795/how-to-find-out-if-an-array-is-empty/47626978#47626978", "title": "How to find out if an array is empty?", "body": "<p>You can use like that... because null is not possible and not advisable for the list or any collection(without array), So can achieve your solution with a help of ArrayList</p>\n\n<pre><code> val arrayShape = ArrayList&lt;Drawable&gt;()\n\n    if (arrayShape.isEmpty())\n        Toast.makeText(this, \"Array is Empty\", Toast.LENGTH_LONG).show()\n    else\n        Toast.makeText(this, \"Array is not Empty\", Toast.LENGTH_LONG).show()\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 7809349, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-xxj8AcvmCrU/AAAAAAAAAAI/AAAAAAAAF_o/XRDsjNGm0QE/photo.jpg?sz=128", "display_name": "manwhotrycoding", "link": "https://stackoverflow.com/users/7809349/manwhotrycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1976, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512365341, "creation_date": 1512338340, "last_edit_date": 1512339305, "question_id": 47623795, "link": "https://stackoverflow.com/questions/47623795/how-to-find-out-if-an-array-is-empty", "title": "How to find out if an array is empty?", "body": "<p>I have a boolean flag and I have to func (fun animation and fun reAninimation - it is transition between two drawables).\nThis is the transition between the two drawings</p>\n\n<p>Idea of this class is I have two side of coins. I added it in an array. If array is empty, I only call animation, if it not empty I firstly call reAnimation and then animation.</p>\n\n<p>My array:</p>\n\n<pre><code> var arrayShape: Array&lt;Drawable&gt;? = null\n</code></pre>\n\n<p>it is a part of the OnCreate method.</p>\n\n<pre><code>override OnCreate() ...\nif(isArrayEmpty(arrayShape!!)) shapeReAnimation()\n      randomShape()\n</code></pre>\n\n<p>it is flag method </p>\n\n<pre><code>fun isArrayEmpty(array : Array&lt;Drawable&gt;):Boolean {\n    return array.size &gt; 1 &amp;&amp; array[0] !=null\n  }\n</code></pre>\n\n<p>and some future fun reAnimation() which now should show some Toast.</p>\n\n<pre><code>fun shapeReAnimation() {\n   // if (arrayShape!![0] == resources.getDrawable(R.drawable.back_circle))\n      ToastUtils.showErorMessage(context, \"first\")\n  }\n</code></pre>\n\n<p>when I run my project and click for fShape, It show me NPE (    kotlin.KotlinNullPointerException)\nand project have stopded</p>\n"}, {"tags": ["delegates", "kotlin", "observable"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 0, "creation_date": 1512343015, "post_id": 47624388, "comment_id": 82206617, "body": "Do you think it&#39;s possible without using reflection? I should mention that the only change to ls, is adding elements to it. not changing the elements already contained in ls."}, {"owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "reply_to_user": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "edited": false, "score": 0, "creation_date": 1512343163, "post_id": 47624388, "comment_id": 82206660, "body": "@SimonMarynissen no, I believe delegates are meant to be invoked every time. It&#39;s up to Delegate to decide what to do with each invocation. Or you can create your own Delegate that will encapsulate your conditional logic."}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": false, "score": 0, "last_activity_date": 1512342816, "creation_date": 1512342816, "answer_id": 47624388, "question_id": 47623758, "link": "https://stackoverflow.com/questions/47623758/circumvent-observable-delegate/47624388#47624388", "title": "Circumvent observable delegate", "body": "<p>Sure... You have to have kotlin-reflect in your classpath though. And I would not recommend to use this anyway. :)</p>\n\n<pre><code>val delegatedProperties = D::class.java.getDeclaredField(\"\\$\\$delegatedProperties\").get(d) as Array&lt;KProperty&lt;*&gt;&gt;\n(delegatedProperties.find { it.name == \"ls\" } as KMutableProperty&lt;*&gt;).setter.call(arrayListOf&lt;Any&gt;())\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 1953567, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/27051cd066d4a5a0a2aa4d972e2312a6?s=128&d=identicon&r=PG", "display_name": "Simon Marynissen", "link": "https://stackoverflow.com/users/1953567/simon-marynissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512342816, "creation_date": 1512338102, "question_id": 47623758, "link": "https://stackoverflow.com/questions/47623758/circumvent-observable-delegate", "title": "Circumvent observable delegate", "body": "<p>Is it possible to circumvent the observable delegate in certain cases?</p>\n\n<p>Use case:</p>\n\n<pre><code>val ls: ArrayList&lt;SomeType&gt; by Delegates.observable(arrayListOf()) {\n    _, _, new -&gt;\n    if (someCondition) {\n        usesList(new)\n        // I want to reset ls to arrayListOf(), but without the invocation of the observable delegate.\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512328816, "post_id": 47622237, "comment_id": 82202406, "body": "Do you mean <code>dynamic</code>? What&#39;s stopping you from using that as a parameter or return type?"}, {"owner": {"reputation": 1085, "user_id": 1100102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/706d78c0f673000b4db32d933d8a2cbd?s=128&d=identicon&r=PG", "display_name": "discodowney", "link": "https://stackoverflow.com/users/1100102/discodowney"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512328908, "post_id": 47622237, "comment_id": 82202447, "body": "Im not sure what dynamic is. Im just watching videos to learn and he went over basic functions. The parameters have to have something like fun speak(line: String). So you have to type the parameter, but the variables created in the program do not have to be strictly typed"}, {"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1512328930, "post_id": 47622237, "comment_id": 82202456, "body": "Typing of variables is redunant code, like type param in generic initialization, you just print <code>new HashMap&lt;&gt;()</code>, and not <code>new HashMap&lt;String&gt;()</code>"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1512329029, "post_id": 47622237, "comment_id": 82202492, "body": "What do you mean by &quot;the javascript thing of creating a variable that can hold any type&quot; then? Please <a href=\"https://stackoverflow.com/posts/47622237/edit\">edit</a> the question to include a Kotlin example so it&#39;s clear what you&#39;re referencing. And Kotlin doesn&#39;t allow variables to be statically untyped. Even <code>dynamic</code> is a static type, just a special one."}, {"owner": {"reputation": 1085, "user_id": 1100102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/706d78c0f673000b4db32d933d8a2cbd?s=128&d=identicon&r=PG", "display_name": "discodowney", "link": "https://stackoverflow.com/users/1100102/discodowney"}, "edited": false, "score": 0, "creation_date": 1512329037, "post_id": 47622237, "comment_id": 82202493, "body": "yeah but its safer to type the variables. No one can come along and put an int into whats meant to be a String variable. I understand the benefits, I love it in javascript. But then javascript doesnt expect parameters to be typed."}, {"owner": {"reputation": 1085, "user_id": 1100102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/706d78c0f673000b4db32d933d8a2cbd?s=128&d=identicon&r=PG", "display_name": "discodowney", "link": "https://stackoverflow.com/users/1100102/discodowney"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1512329134, "post_id": 47622237, "comment_id": 82202526, "body": "@chris when you do var x in javascript you just create a variable that has no type. As opposed to something like int x in java where it is only an integer variable. In Kotlin you can do var x as well and create it without a type. But you can also do var x:int"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 5, "creation_date": 1512329300, "post_id": 47622237, "comment_id": 82202571, "body": "You can&#39;t create variables without a type in Kotlin. Doing <code>var x</code> produces the compiler error <i>This variable must either have a type annotation or be initialized</i>. Doing <code>var x = 5</code> means <code>x</code> is an <code>Int</code> and won&#39;t let you change its type. For example, <code>x = &quot;abc&quot;</code> produces an error."}, {"owner": {"reputation": 1085, "user_id": 1100102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/706d78c0f673000b4db32d933d8a2cbd?s=128&d=identicon&r=PG", "display_name": "discodowney", "link": "https://stackoverflow.com/users/1100102/discodowney"}, "edited": false, "score": 0, "creation_date": 1512329447, "post_id": 47622237, "comment_id": 82202622, "body": "Ah, I misunderstood the vid. When I saw it creating the var with no type I thought it could be reassigned like javascript. Watching on my phone, cos it was just the basics, so no way to test myself. Cheers for clearing it up"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 7185177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-f8Mgsakhhaw/AAAAAAAAAAI/AAAAAAAACNc/ajNbjkONOP4/photo.jpg?sz=128", "display_name": "Erezbiox1", "link": "https://stackoverflow.com/users/7185177/erezbiox1"}, "is_accepted": false, "score": 0, "last_activity_date": 1512424041, "creation_date": 1512424041, "answer_id": 47642505, "question_id": 47622237, "link": "https://stackoverflow.com/questions/47622237/about-kotlin-and-functions/47642505#47642505", "title": "About Kotlin and functions", "body": "<p>When you write</p>\n\n<pre><code>val x = \"Pizza\"\n</code></pre>\n\n<p>kotlin infers from the declaration that 'x' is a string, there isn't some magic going on, if you try</p>\n\n<pre><code>var x = \"Pizza\"\nx = 42\n</code></pre>\n\n<p>it won't work, because x is of a type String.</p>\n\n<p>kotlin translates to java, and java is a \"Statically typed language\", which means the type of a field have to be known at runtime,\nother languages, like Javascript are a \"Dynamically typed languages\", which in them the variables types doesn't have to be known at runtime, so it can make the developer life a bit easier ( or harder ).</p>\n"}], "owner": {"reputation": 1085, "user_id": 1100102, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/706d78c0f673000b4db32d933d8a2cbd?s=128&d=identicon&r=PG", "display_name": "discodowney", "link": "https://stackoverflow.com/users/1100102/discodowney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 956, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512424041, "creation_date": 1512328629, "question_id": 47622237, "link": "https://stackoverflow.com/questions/47622237/about-kotlin-and-functions", "title": "About Kotlin and functions", "body": "<p>So Ive started learning Kotlin and I have a question about functions. </p>\n\n<p>In Kotlin you can do the javascript thing of creating a variable that can hold any type. But functions need to have their parameters typed.</p>\n\n<p>So is the practice in Kotlin to type all variables anyway? \nIs it not kind of pointless allowing the variables to be untyped but forcing types for the parameters and return values of functions?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1512351050, "post_id": 47621352, "comment_id": 82208472, "body": "If you had code like this, it would fail at <code>users[0] = &quot;&quot;</code> because <code>users</code> arraylist is empty at that point."}], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 2, "last_activity_date": 1512324366, "creation_date": 1512324366, "answer_id": 47621507, "question_id": 47621352, "link": "https://stackoverflow.com/questions/47621352/will-kotlins-mapto-overwrite-data-already-in-the-array/47621507#47621507", "title": "Will Kotlin&#39;s mapTo() overwrite data already in the Array?", "body": "<p>Here's the code for <code>mapTo()</code>:</p>\n\n<pre><code>public inline fun &lt;T, R, C : MutableCollection&lt;in R&gt;&gt; Iterable&lt;T&gt;.mapTo(destination: C, transform: (T) -&gt; R): C {\n    for (item in this)\n        destination.add(transform(item))\n    return destination\n}\n</code></pre>\n\n<p>As you can see, it uses <code>add()</code> on the <code>destination</code> object, hence it won't overwrite the string at position <code>0</code> and the result of the first <code>toString()</code> transformation will be inserted at position <code>1</code>.</p>\n"}], "owner": {"reputation": 49, "user_id": 8701059, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RokM9.jpg?s=128&g=1", "display_name": "John L. Carveth", "link": "https://stackoverflow.com/users/8701059/john-l-carveth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 47621507, "answer_count": 1, "score": 0, "last_activity_date": 1512324366, "creation_date": 1512323515, "question_id": 47621352, "link": "https://stackoverflow.com/questions/47621352/will-kotlins-mapto-overwrite-data-already-in-the-array", "title": "Will Kotlin&#39;s mapTo() overwrite data already in the Array?", "body": "<p>I am trying to map the users from my database to an ArrayList of just their usernames, with the catch being that I need the first entry in the array to be empty, as the array of strings is going into a Spinner's array adapter.  </p>\n\n<p>So if I had code like this:</p>\n\n<pre><code>val users = ArrayList&lt;String&gt;()\nusers[0] = \"\"\n\ndh.getUsers().mapTo(users) { it.toString() }\n</code></pre>\n\n<p>So will users still have \"\" in the 0-th position, or will the mapTo overwrite it?</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 31012, "user_id": 25398, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3690dee254e9aa9d98ff964a70e89f23?s=128&d=identicon&r=PG", "display_name": "Cody Caughlan", "link": "https://stackoverflow.com/users/25398/cody-caughlan"}, "edited": false, "score": 0, "creation_date": 1512309892, "post_id": 47619146, "comment_id": 82196347, "body": "Show your <code>Song</code> file"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8845608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3950b6538533ee7a1d66954325136017?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Cooke", "link": "https://stackoverflow.com/users/8845608/kyle-cooke"}, "edited": false, "score": 0, "creation_date": 1512314029, "post_id": 47619661, "comment_id": 82197476, "body": "Could you give a code example of using either of these solutions?"}, {"owner": {"reputation": 47, "user_id": 8845608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3950b6538533ee7a1d66954325136017?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Cooke", "link": "https://stackoverflow.com/users/8845608/kyle-cooke"}, "edited": false, "score": 0, "creation_date": 1512314205, "post_id": 47619661, "comment_id": 82197527, "body": "you say if it absolutely needs to be an array, is there a better way of passing a list/array or other collection of objects between activities?"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 3, "last_activity_date": 1512314145, "last_edit_date": 1512314145, "creation_date": 1512313342, "answer_id": 47619661, "question_id": 47619146, "link": "https://stackoverflow.com/questions/47619146/passing-array-of-parcelable-using-intent-putextra/47619661#47619661", "title": "Passing array of Parcelable using Intent.putExtra", "body": "<p>There is no way to directly convert the array as you are trying to do.\nThe return value of <code>getParcelableArrayExtra(\"COMPLETED_SONGS\")</code> as far as android's OS is concerned is an array of <code>Parcelable</code> that just happens to contain just <code>Song</code> instances.</p>\n\n<p>To use it directly you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-is-instance.html\" rel=\"nofollow noreferrer\"><code>Array.filterIsInstance</code></a> function to create <code>List&lt;Song&gt;</code> that is guaranteed to be type-safe. If it absolutely needs to be an array then <code>.toTypedArray()</code> will convert it back to <code>Array&lt;Song&gt;</code></p>\n\n<p>This should result in the following code: <code>val songs = getParcelableArrayExtra(\"COMPLETED_SONGS\").filterIsInstance&lt;Song&gt;().toTypedArray()</code></p>\n"}], "owner": {"reputation": 47, "user_id": 8845608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3950b6538533ee7a1d66954325136017?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Cooke", "link": "https://stackoverflow.com/users/8845608/kyle-cooke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 1, "accepted_answer_id": 47619661, "answer_count": 1, "score": 1, "last_activity_date": 1512314145, "creation_date": 1512309688, "last_edit_date": 1512311504, "question_id": 47619146, "link": "https://stackoverflow.com/questions/47619146/passing-array-of-parcelable-using-intent-putextra", "title": "Passing array of Parcelable using Intent.putExtra", "body": "<p>I have created a Parcelable class called Song and am trying to pass an array of them between activities using Intent.putExtra() currently once i get to the activity and use this.intent.getParcelableArrayExtra i get an array of parcelable and I cant find a way to convert it back to an array of Songs.</p>\n\n<p>code starting activity:</p>\n\n<pre><code>val i = Intent(this, CompletedSongsActivity::class.java)\nval completedSongs = songList.filter{ it.solved }.toTypedArray()\ni.putExtra(\"COMPLETED_SONGS\", completedSongs)\nstartActivity(i)\n</code></pre>\n\n<p>code in activity:</p>\n\n<pre><code>val songs = this.intent.getParcelableArrayExtra(\"COMPLETED_SONGS\") as Array&lt;Song&gt;\n</code></pre>\n\n<p>I then get the error:</p>\n\n<pre><code>java.lang.ClassCastException: android.os.Parcelable[] cannot be cast to com.example.kyle.songle.Song[]\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>my Song class:</p>\n\n<pre><code>class Song(val name: String,val artist: String,val youtubeURL: String,val number: Int, var solved: Boolean): Parcelable {\n\ncompanion object {\n    @JvmField @Suppress(\"unused\")\n    val CREATOR = object: Parcelable.Creator&lt;Song&gt; {\n        override fun newArray(size: Int): Array&lt;Song?&gt; {\n            return arrayOfNulls&lt;Song&gt;(size)\n        }\n\n        override fun createFromParcel(source: Parcel?): Song {\n            return Song(source!!)\n        }\n}}\n\nprivate constructor(parcelIn: Parcel) : this(parcelIn.readString(),parcelIn.readString(),parcelIn.readString(),0,true)\n\noverride fun writeToParcel(dest: Parcel?, flags: Int) {\n    dest?.writeString(name)\n    dest?.writeString(artist)\n    dest?.writeString(youtubeURL)\n}\n\noverride fun describeContents(): Int {\n    return 0\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1512314676, "post_id": 47618893, "comment_id": 82197655, "body": "Have you tried Rx2 as well?"}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "edited": false, "score": 0, "creation_date": 1567947122, "post_id": 47618893, "comment_id": 102111688, "body": "Try .publish().autoConnect()"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 7656896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae635d406cf14e3eb24fc00fb52b0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Kudoyar", "link": "https://stackoverflow.com/users/7656896/vlad-kudoyar"}, "edited": false, "score": 0, "creation_date": 1512319299, "post_id": 47619996, "comment_id": 82199209, "body": "Thank you! I already changed my architecture not to use this pattern))"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 1, "last_activity_date": 1512315442, "creation_date": 1512315442, "answer_id": 47619996, "question_id": 47618893, "link": "https://stackoverflow.com/questions/47618893/rxjava-reconnection-on-connectable-observable-does-not-work/47619996#47619996", "title": "RxJava reconnection on connectable observable does not work", "body": "<p>It's not a bug but a property of RxJava's <code>ConnectableObservable</code>: if you <code>unsubscribe</code> the connection, the previously subscribed consumers will be ejected and won't receive any further events, even when reconnected.</p>\n\n<p>You can achieve a similar effect to Rx.NET's behavior by using a <code>PublishSubject</code>, then subscribing and unsubscribing it to the actual source:</p>\n\n<pre><code>PublishSubject subject = PublishSubject.create();\n\nsubject.subscribe(System.out::println);\n\nSubscription s = source.subscribe(subject::onNext);\n\ns.unsubscribe();\n\nSubscription s2 = source.subscribe(subject::onNext);\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7656896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae635d406cf14e3eb24fc00fb52b0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Kudoyar", "link": "https://stackoverflow.com/users/7656896/vlad-kudoyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512315442, "creation_date": 1512307975, "question_id": 47618893, "link": "https://stackoverflow.com/questions/47618893/rxjava-reconnection-on-connectable-observable-does-not-work", "title": "RxJava reconnection on connectable observable does not work", "body": "<p>\nHi, guys. I'm trying to make some kind of MVC with RxJava. So the idea is\nto make some constant subscriptions that will be always subscribed to\nsome observable. Also this observable can be restarted at any time to rerun, for example a network call. I tried this code to test this feature:</p>\n\n<pre><code>class Main {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val obs = Observable.interval(1, TimeUnit.SECONDS, Schedulers.io())\n                .publish()\n\n            val s1 = obs\n                .doOnUnsubscribe { System.out.println(\"s1 unsubscribed\") }\n                .subscribe { System.out.println(\"first: $it\") }\n\n            val s = obs.connect()\n\n            Thread.sleep(4000)\n\n            System.out.println(\"unsubscribe\")\n            s.unsubscribe()\n\n            Thread.sleep(1000)\n\n            System.out.println(\"connect\")\n            val obsS2 = obs.connect()\n\n            System.out.println(\"isUnsubscribed: ${s1.isUnsubscribed}\")\n\n            Thread.sleep(10000)\n        }\n    }\n}\n</code></pre>\n\n<p>This is what I expected:</p>\n\n<pre><code>first: 0\nfirst: 1\nfirst: 2\nunsubscribe\nconnect\nisUnsubscribed: false\nfirst: 0\nfirst: 1\n...\nProcess finished with exit code 0\n</code></pre>\n\n<p>This is the actual result:</p>\n\n<pre><code>first: 0\nfirst: 1\nfirst: 2\nunsubscribe\nconnect\nisUnsubscribed: false\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>I found some posts (<a href=\"https://stackoverflow.com/questions/43424964/rxjava-connectableobservable-disconnecting-and-reconnecting\">RxJava - ConnectableObservable, disconnecting and reconnecting</a>, <a href=\"https://github.com/Froussios/Intro-To-RxJava/issues/18\" rel=\"nofollow noreferrer\">https://github.com/Froussios/Intro-To-RxJava/issues/18</a>), where people say that it is a bug, but this bug is present for quite a long time.</p>\n\n<p>So the question: is it realy a bug? And if not, how can I achive such behavior?</p>\n\n<p>Edited:\nTested on versions 1.3.4, 1.2.10, 1.1.10, 1.0.10</p>\n"}, {"tags": ["sqlite", "kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 3764712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c85e33cd7bab1a072f288a56ad37aa?s=128&d=identicon&r=PG&f=1", "display_name": "CryptUser", "link": "https://stackoverflow.com/users/3764712/cryptuser"}, "edited": false, "score": 0, "creation_date": 1512331022, "post_id": 47620907, "comment_id": 82203132, "body": "Thank you! The code you mention indeed looks like a good starting point for writing a more involved wrapper."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1512320717, "creation_date": 1512320717, "answer_id": 47620907, "question_id": 47618276, "link": "https://stackoverflow.com/questions/47618276/how-to-use-sqlite-in-kotlin-native/47620907#47620907", "title": "How to use SQLite in Kotlin/Native?", "body": "<p>You do need to use the C SQLite library, but most of your code shouldn't work with it directly. Instead you write a wrapper which will be the more Kotlin-like way you are asking about. </p>\n\n<p>I haven't seen such a wrapper done as a separate maintained project (there are <em>very</em> few libraries for Kotlin/Native yet), but Jetbrains actually has a basic one in <a href=\"https://github.com/JetBrains/kotlinconf-spinner/tree/master/kotlin-native/samples/fullstack/sql\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlinconf-spinner/tree/master/kotlin-native/samples/fullstack/sql</a> which you can use as base for your own.</p>\n"}], "owner": {"reputation": 518, "user_id": 3764712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c85e33cd7bab1a072f288a56ad37aa?s=128&d=identicon&r=PG&f=1", "display_name": "CryptUser", "link": "https://stackoverflow.com/users/3764712/cryptuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 1, "accepted_answer_id": 47620907, "answer_count": 1, "score": 4, "last_activity_date": 1512320717, "creation_date": 1512303575, "question_id": 47618276, "link": "https://stackoverflow.com/questions/47618276/how-to-use-sqlite-in-kotlin-native", "title": "How to use SQLite in Kotlin/Native?", "body": "<p>For a multi-platform project, I consider <a href=\"https://github.com/JetBrains/kotlin-native\" rel=\"nofollow noreferrer\">Kotlin/Native</a>, with the hope to have a common code base at least for business logic and saving of data.</p>\n\n<p>For saving of data I would like to use a database like SQLite. However, according to <a href=\"https://stackoverflow.com/questions/44852032/how-to-import-java-packages-in-kotlin-native\">another stackoverflow thread</a>, if I want to compile to Kotlin/Native, I cannot use any Java file. If I understand this correctly, it also means that any SQLite library I include is not allowed to import from Java.</p>\n\n<p>On the search for such a library, I found two interesting database projects by Jetbrain, namely <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko SQLite</a> and <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Exposed</a>. However, when digging in their source code, at the time of this writing both import from Java (e.g. java.sql). Which probably means I cannot use them.</p>\n\n<p>One idea I had was to use a <a href=\"https://sqlite.org/download.html\" rel=\"nofollow noreferrer\">c-based sqlite</a> library, since according to <a href=\"https://stackoverflow.com/questions/44852032/how-to-import-java-packages-in-kotlin-native\">mentioned thread</a>, Kotlin/Native code is allowed to use c libraries. This may be possible, but I wondered if there isn't a suggested more Kotlin like way of using SQLite or another database in Kotlin/Native?</p>\n"}, {"tags": ["spring", "kotlin", "spring-data", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 788, "user_id": 739583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c99d60babc5a2d53bb0ab2978e9b336?s=128&d=identicon&r=PG", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/739583/nicolas"}, "is_accepted": false, "score": 0, "last_activity_date": 1512325562, "creation_date": 1512325562, "answer_id": 47621717, "question_id": 47617726, "link": "https://stackoverflow.com/questions/47617726/creationtimestamp-and-updatetimestamp-dont-work-in-kotlin/47621717#47621717", "title": "@CreationTimestamp and @UpdateTimestamp don&#39;t work in Kotlin", "body": "<p>The context is not enough to provide any meaningful answer.</p>\n\n<p>You have to give more context, in particular the application server, with its version, or even code for this specific use-case. To start with, I'd suggest first checking if the same Java code works.</p>\n\n<p>My best guess so far, you're using Spring Data JPA while <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> are Hibernate specific.</p>\n"}, {"comments": [{"owner": {"reputation": 4925, "user_id": 385335, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/lhjrj.png?s=128&g=1", "display_name": "cdxf", "link": "https://stackoverflow.com/users/385335/cdxf"}, "edited": false, "score": 1, "creation_date": 1512332480, "post_id": 47621831, "comment_id": 82203601, "body": "thanks, It works. I don&#39;t know why they don&#39;t mention these things in the spring reference"}, {"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "reply_to_user": {"reputation": 4925, "user_id": 385335, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/lhjrj.png?s=128&g=1", "display_name": "cdxf", "link": "https://stackoverflow.com/users/385335/cdxf"}, "edited": false, "score": 3, "creation_date": 1515574890, "post_id": 47621831, "comment_id": 83346972, "body": "@Snoob why are you expecting a description of the correct use of Hibernate annotations with Kotlin in the Spring Reference documentation?"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 11, "last_activity_date": 1512333089, "last_edit_date": 1512333089, "creation_date": 1512326219, "answer_id": 47621831, "question_id": 47617726, "link": "https://stackoverflow.com/questions/47617726/creationtimestamp-and-updatetimestamp-dont-work-in-kotlin/47621831#47621831", "title": "@CreationTimestamp and @UpdateTimestamp don&#39;t work in Kotlin", "body": "<p>The problem likely exists in the fact that those annotations are not limited to what they should annotate. This means kotlin does not know exactly where to put them in the final bytecode.</p>\n\n<p>To get the same bytecode as would be generated by java, you need to specify the annotation target of the annotation in question:</p>\n\n<pre><code>@field:CreationTimestamp\nlateinit var createDate: Date\n</code></pre>\n"}], "owner": {"reputation": 4925, "user_id": 385335, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/lhjrj.png?s=128&g=1", "display_name": "cdxf", "link": "https://stackoverflow.com/users/385335/cdxf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3250, "favorite_count": 0, "accepted_answer_id": 47621831, "answer_count": 2, "score": 6, "last_activity_date": 1515675439, "creation_date": 1512299235, "last_edit_date": 1515675439, "question_id": 47617726, "link": "https://stackoverflow.com/questions/47617726/creationtimestamp-and-updatetimestamp-dont-work-in-kotlin", "title": "@CreationTimestamp and @UpdateTimestamp don&#39;t work in Kotlin", "body": "<p>This is my Tag and Post Entity classes:</p>\n\n<pre><code>@Entity\nclass Tag(\n        @get:NotBlank\n        @Column(unique = true)\n        val name: String = \"\",\n        val description: String = \"\"\n) {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    val id: Int? = null\n\n\n    @ManyToMany(mappedBy = \"tags\")\n    val posts: MutableSet&lt;Post&gt; = mutableSetOf()\n\n    @CreationTimestamp\n    lateinit var createDate: Date\n\n    @UpdateTimestamp\n    lateinit var updateDate: Date\n\n    fun addPost(post: Post) {\n        this.posts.add(post)\n        post.tags.add(this)\n    }\n\n\n}\n\n\n\n@Entity\nclass Post(\n        @get:NotBlank\n        var name: String = \"\",\n        val content: String = \"\"\n) {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    val id: Int? = null\n    @ManyToMany\n    @Cascade(CascadeType.ALL)\n    val tags: MutableSet&lt;Tag&gt; = mutableSetOf()\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    lateinit var createDate: Date\n\n    @UpdateTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    lateinit var updateDate: Date\n\n\n    fun addTag(tag: Tag) {\n        this.tags.add(tag)\n        tag.posts.add(this)\n    }\n}\n</code></pre>\n\n<p>The query: </p>\n\n<pre><code>val post1 = Post( \"Post 1\", \"Post 1 content\");\nval post2 = Post( \"Post 2\", \"Post 2 content\");\nvar tag = Tag( \"news\", \"Tag description\")\npost1.addTag(tag)\npost2.addTag(tag)\nem.persist(post1)\nem.persist(post2)\nem.remove(post1)\nem.flush()\n</code></pre>\n\n<p>But then, the createDate and updateDate return null (both tag and post):\n<a href=\"https://i.stack.imgur.com/Gvq7o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Gvq7o.png\" alt=\"enter image description here\"></a></p>\n\n<p>I converted this code to Java and it works fine</p>\n\n<p>Kotlin version: 1.2-M2</p>\n\n<p>springBootVersion: '2.0.0.M7'</p>\n"}, {"tags": ["android", "asynchronous", "kotlin", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "edited": false, "score": 0, "creation_date": 1512292435, "post_id": 47616872, "comment_id": 82192015, "body": "Thank you. you help me a lot. but it is on UI thread. so I must try to block only click. and how get <code>isAsync()</code> <code>if I use List&lt;Any&gt;</code> ?...??? impossible?? I try to <code>if(func is (suspend()-&gt;Unit)</code>, it doesn&#39;t work...."}, {"owner": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "edited": false, "score": 0, "creation_date": 1512293185, "post_id": 47616872, "comment_id": 82192203, "body": "and this code doesn&#39;t work. T_T... because run{} is inline so it return not <code>()-&gt;Unit</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "edited": false, "score": 0, "creation_date": 1512293806, "post_id": 47616872, "comment_id": 82192354, "body": "Fixed the code (you can extract <code>{ runBlocking { ... } }</code> into a function to simplify)."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 5, "last_activity_date": 1512293710, "last_edit_date": 1512293710, "creation_date": 1512291886, "answer_id": 47616872, "question_id": 47616724, "link": "https://stackoverflow.com/questions/47616724/asynchronous-anonymous-function-in-kotlin-lambda-expressions/47616872#47616872", "title": "Asynchronous anonymous function in Kotlin? (lambda expressions)", "body": "<p>You can have <code>List&lt;suspend () -&gt; Unit&gt;</code>, but you can't have both suspend and non-suspend functions in the same list except by using <code>List&lt;Any&gt;</code>. I'd suggest using two separate lists instead. Another solution is to use \"algebraic data type\":</p>\n\n<pre><code>sealed class SyncOrAsync // can add methods here\nclass Sync(val f: () -&gt; Unit) : SyncOrAsync\nclass Async(val f: suspend () -&gt; Unit) : SyncOrAsync\n\nclass FunctionCaller_Content(text: List&lt;String&gt;,\n                             val function: List&lt;SyncOrAsync&gt;? = null)\n{\n\n    fun call(callerActivity: Activity, order: Int) {\n        val fun = function?.get(order)\n        if(fun is Async)\n            /* block click for async func */\n    }\n\n}\n\nFunctionCaller_Content( \n    listOf(\"Click to Toast1\", \"Click to Nothing\"),\n    listOf(Sync {\n               Toast.makeText(this, \"clicked\", Toast.LENGTH_SHORT)\n           },\n           Async {\n               // your async code\n           })\n</code></pre>\n\n<p>But if you are just going to block anyway, I would just use <code>List&lt;() -&gt; Unit&gt;</code> and</p>\n\n<pre><code>listOf({\n           Toast.makeText(this, \"clicked\", Toast.LENGTH_SHORT)\n       },\n       {\n           runBlocking {\n               // your async code\n           }\n       })\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "accepted_answer_id": 47616872, "answer_count": 1, "score": 4, "last_activity_date": 1582467673, "creation_date": 1512290484, "last_edit_date": 1582467673, "question_id": 47616724, "link": "https://stackoverflow.com/questions/47616724/asynchronous-anonymous-function-in-kotlin-lambda-expressions", "title": "Asynchronous anonymous function in Kotlin? (lambda expressions)", "body": "<p>I'm making a listview (android) what call function when click.</p>\n\n<p>and <code>I want to get function is async or sync</code>.</p>\n\n<p>to block when it is async.</p>\n\n<p>and even i want to know <code>how attach async mark to kotlin lambda expression</code>.</p>\n\n<pre><code>class FunctionCaller_Content(text: List&lt;String&gt;,\n                             val function: List&lt;    /*suspend? @async? */\n                                                    (    () -&gt; Unit    )?\n                                               &gt;? = null)\n                                                 /* I want both of async, sync function. */\n{\n\n    fun isAsnyc(order: Int): Boolean\n        = // how to get this lambda expression{function?.get(order)} is async?\n\n    fun call(callerActivity: Activity, order: Int) {\n        val fun = function?.get(order)\n        fun()\n        if(isAsync(fun))\n            /* block click for async func */\n    }\n\n}\n</code></pre>\n\n<p>and usage.</p>\n\n<pre><code>FunctionCaller_Content( listOf(\"Click to Toast1\", \"Click to Nothing\"),\n                        listOf(\n                        {\n                            Toast.makeText(this, \"clicked\", Toast.LENGTH_SHORT)\n                        },\n                        {\n                            /*if async lambda expression, how can i do?*/\n                        } )\n</code></pre>\n"}, {"tags": ["java", "android", "json", "kotlin", "klaxon"], "comments": [{"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "edited": false, "score": 0, "creation_date": 1512276839, "post_id": 47615368, "comment_id": 82189063, "body": "your json is valid right?"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "edited": false, "score": 0, "creation_date": 1512276904, "post_id": 47615368, "comment_id": 82189075, "body": "@SurajNair it working fine with other Android versions. I am not getting this kind of error"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "edited": false, "score": 0, "creation_date": 1512277198, "post_id": 47615368, "comment_id": 82189126, "body": "Is it klaxon json library issue or android app code issue any idea?"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "edited": false, "score": 0, "creation_date": 1512277377, "post_id": 47615368, "comment_id": 82189156, "body": "Sorry i don&#39;t know about this issue , i m searching on it if anything find useful i will let you know"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "edited": false, "score": 0, "creation_date": 1512277438, "post_id": 47615368, "comment_id": 82189162, "body": "@SurajNair ok thanks"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512293367, "post_id": 47615368, "comment_id": 82192247, "body": "The error message is quite clear, you&#39;re trying to parse an invalid JSON string."}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512293670, "post_id": 47615368, "comment_id": 82192318, "body": "@Egor But during testing there is no such kind of error coming. It\u2019s only happing on end user device. Can you say which part throwing error ?"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512293952, "post_id": 47615368, "comment_id": 82192404, "body": "Try to repro the issue under test by composing a JSON that contains that invalid character. To me it looks like the library is doing the right thing to fail on unexpected input, hence you need to figure out why the server sends erroneous data that can&#39;t be parsed, and probably ensure that your app handles bad data without crashing."}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512294250, "post_id": 47615368, "comment_id": 82192480, "body": "@Egor Thing is that In testing I never get this error. I am using third party json with my own json api. Let me test all calls agains and need to review results. Thanks for your kind help"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1512294633, "post_id": 47615368, "comment_id": 82192559, "body": "You&#39;re welcome!"}, {"owner": {"reputation": 14934, "user_id": 162410, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/97a472a751e503a7f8e5d88ba087a87c?s=128&d=identicon&r=PG", "display_name": "Cedric Beust", "link": "https://stackoverflow.com/users/162410/cedric-beust"}, "edited": false, "score": 0, "creation_date": 1520536516, "post_id": 47615368, "comment_id": 85367120, "body": "Please file an issue at <a href=\"http://github.com/cbeust/klaxon/issues\" rel=\"nofollow noreferrer\">github.com/cbeust/klaxon/issues</a> and include the JSON you&#39;re trying to parse. Thanks."}], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1512276692, "creation_date": 1512276692, "question_id": 47615368, "link": "https://stackoverflow.com/questions/47615368/fatal-exception-java-lang-runtimeexception-with-klaxon-json-kotlin-library", "title": "Fatal Exception: java.lang.RuntimeException with Klaxon json Kotlin Library", "body": "<p>I am using klaxon with my android app (proguard enabled) This error coming with latest android version 8.0. Any Idea what causing ?</p>\n\n<pre><code>Fatal Exception: java.lang.RuntimeException\nUnexpected character at position 2: '&lt; (60)'\n\n\ncom.beust.klaxon.Parser.parse (Unknown Source:24)\ncc.cc.api.JsonParser$Companion.parse (Unknown Source:15)\ncc.cc.api.JsonParser$Companion$processResponse$1$2.onCompleted (Unknown Source:52)\ncom.koushikdutta.async.future.SimpleFuture.getResultOrThrow (Unknown Source:10)\ncom.koushikdutta.async.future.SimpleFuture.cancel (Unknown Source:22)\ncom.koushikdutta.ion.IonRequestBuilder$EmitterTransform$1.onCompleted (Unknown Source:25)\ncom.koushikdutta.async.future.SimpleFuture.getResultOrThrow (Unknown Source:10)\ncom.koushikdutta.async.future.SimpleFuture.cancel (Unknown Source:22)\ncom.koushikdutta.ion.IonRequestBuilder$1.run (Unknown Source:55)\ncom.koushikdutta.async.AsyncServer$RunnableWrapper.run (Unknown Source:14)\nandroid.os.Handler.handleCallback (Handler.java:789)\nandroid.os.Handler.dispatchMessage (Handler.java:98)\nandroid.os.Looper.loop (Looper.java:164)\nandroid.app.ActivityThread.main (ActivityThread.java:6541)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.Zygote$MethodAndArgsCaller.run (Zygote.java:240)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:767)\n</code></pre>\n"}, {"tags": ["kotlin", "dangling-else"], "comments": [{"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1512264174, "post_id": 47614347, "comment_id": 82187154, "body": "This explains the &quot;dangling else&quot; problem. <a href=\"https://en.wikipedia.org/wiki/Dangling_else\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Dangling_else</a>.  Now do some experiments :-).   (The Kotlin reference doesn&#39;t explicitly state how dangling else is dealt with ... unlike Java for example.)"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9045160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RVUt2lhch8k/AAAAAAAAAAI/AAAAAAAAJUc/FV6NsJBEmlM/photo.jpg?sz=128", "display_name": "Eric Barnes", "link": "https://stackoverflow.com/users/9045160/eric-barnes"}, "is_accepted": true, "score": 2, "last_activity_date": 1512268344, "creation_date": 1512268344, "answer_id": 47614715, "question_id": 47614347, "link": "https://stackoverflow.com/questions/47614347/dangling-else-in-kotlin/47614715#47614715", "title": "Dangling else in Kotlin", "body": "<p>Kotlin uses the same methodology as java when it comes to eliminating the dangling else problem. The \"else\" keyword is simply linked automatically to the nearest \"if\" or \"when\" keyword. <a href=\"https://kotlinlang.org/docs/reference/grammar.html#if\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/grammar.html#if</a></p>\n"}], "owner": {"reputation": 21, "user_id": 8639297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92bf8c86f7a2028fcbead099b5c3b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8639297/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 47614715, "answer_count": 1, "score": -1, "last_activity_date": 1512268344, "creation_date": 1512263875, "question_id": 47614347, "link": "https://stackoverflow.com/questions/47614347/dangling-else-in-kotlin", "title": "Dangling else in Kotlin", "body": "<p>I have this doubt guys, I don't know; any example to understand will be great.\nDoes the Kotlin programming language suffer from the \"dangling else\" problem?\nIf the problem is there then what is the reason in that case?</p>\n"}, {"tags": ["java", "android", "annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 4, "last_activity_date": 1512293705, "creation_date": 1512293705, "answer_id": 47617092, "question_id": 47613911, "link": "https://stackoverflow.com/questions/47613911/annotation-in-kotlin-doesnt-work/47617092#47617092", "title": "Annotation in Kotlin doesn&#39;t work", "body": "<p>You'll need to use the <code>kotlin-kapt</code> plugin to be able to parse annotations in Kotlin files:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n  ...\n  implementation 'com.github.matthiasrobbers:shortbread:1.0.2'\n  kapt 'com.github.matthiasrobbers:shortbread-compiler:1.0.2'\n}\n</code></pre>\n\n<p>If that doesn't work it'd probably make sense to open an issue in the GitHub repo of the project.</p>\n"}], "owner": {"reputation": 13, "user_id": 5450802, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sbZeMCOkPsU/AAAAAAAAAAI/AAAAAAAAFPM/ew9EZ5168wg/photo.jpg?sz=128", "display_name": "Nam Le Tuan", "link": "https://stackoverflow.com/users/5450802/nam-le-tuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 47617092, "answer_count": 1, "score": 1, "last_activity_date": 1512293705, "creation_date": 1512259500, "question_id": 47613911, "link": "https://stackoverflow.com/questions/47613911/annotation-in-kotlin-doesnt-work", "title": "Annotation in Kotlin doesn&#39;t work", "body": "<p>I'm trying to convert my Android app from Java to Kotlin.\nFor app shortcut I use <a href=\"https://github.com/MatthiasRobbers/shortbread\" rel=\"nofollow noreferrer\">shortbread</a> library which is extremely easy to implement, but it doesn't work in Kotlin. Am I doing something wrong ? </p>\n\n<p>Java: </p>\n\n<pre><code>@Shortcut(id = \"Camera\", icon = R.drawable.iconshortcut,longLabel = \"Instant Scan\", shortLabel = \"Scan\")\n\npublic class CameraActivity extends AppCompatActivity { ...\n</code></pre>\n\n<p>Kotlin : </p>\n\n<pre><code>@Shortcut(id = \"Camera\", icon = R.drawable.iconshortcut, longLabel = \"Instant Scan\", shortLabel = \"Scan\")\n\nclass CameraActivity : AppCompatActivity() { ...\n</code></pre>\n\n<p>Shortbread is working whenever the annotation is in Java, but not in Kotlin</p>\n\n<pre><code>Shortbread.create(this)\n</code></pre>\n"}, {"tags": ["inheritance", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 3, "creation_date": 1512255312, "post_id": 47613020, "comment_id": 82185273, "body": "This screams &quot;composition over inheritance&quot;.."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1512297116, "post_id": 47613020, "comment_id": 82193156, "body": "You&#39;d have to provide it in your constructor and assign each field manually."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1512428139, "post_id": 47613020, "comment_id": 82245342, "body": "If you can switch from a Java library to a Kotlin Data Class, you get a built in copy method."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 7185177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-f8Mgsakhhaw/AAAAAAAAAAI/AAAAAAAACNc/ajNbjkONOP4/photo.jpg?sz=128", "display_name": "Erezbiox1", "link": "https://stackoverflow.com/users/7185177/erezbiox1"}, "is_accepted": false, "score": 2, "last_activity_date": 1512426956, "last_edit_date": 1512426956, "creation_date": 1512425891, "answer_id": 47642900, "question_id": 47613020, "link": "https://stackoverflow.com/questions/47613020/fast-way-to-initialize-child-kotlin-class-with-parent-class-instance-properties/47642900#47642900", "title": "Fast way to initialize child Kotlin class with parent class&#39; instance properties", "body": "<p>Assuming you only have 1 constructor, here you go:</p>\n\n<pre><code>inline fun &lt;reified D&gt; convert(c: Any) : D {\n    val list = mutableListOf&lt;Any&gt;()\n    c::class.java.declaredFields.forEach {\n        it.isAccessible = true\n        list.add(it.get(c) as String)\n        it.isAccessible = false\n    }\n\n    val constructor = D::class.java.declaredConstructors[0]\n    return constructor.newInstance(*list.toTypedArray()) as D\n}\n</code></pre>\n\n<p>Full use:</p>\n\n<pre><code>package com.erezbiox1\n\nfun main(args: Array&lt;String&gt;){\n\n    val A = A(\"Hey\", \"Hello\")\n    val B = convert&lt;B&gt;(A)\n    B.print()\n\n}\n\ninline fun &lt;reified D&gt; convert(c: Any) : D {\n    val list = mutableListOf&lt;Any&gt;()\n    c::class.java.declaredFields.forEach {\n        it.isAccessible = true\n        list.add(it.get(c) as String)\n        it.isAccessible = false\n    }\n\n    val constructor = D::class.java.declaredConstructors[0]\n    return constructor.newInstance(*list.toTypedArray()) as D\n}\n\nclass A(val a: String, val b: String){\n    fun print(){\n        println(\"Value is: $a, $b\")\n    }\n}\n\nclass B(val a: String, val b: String) {\n    fun print(){\n        println(\"Value is: $a, $b\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2496, "user_id": 5598194, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/aYtz9.png?s=128&g=1", "display_name": "N. Kudryavtsev", "link": "https://stackoverflow.com/users/5598194/n-kudryavtsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512426956, "creation_date": 1512251872, "last_edit_date": 1512252471, "question_id": 47613020, "link": "https://stackoverflow.com/questions/47613020/fast-way-to-initialize-child-kotlin-class-with-parent-class-instance-properties", "title": "Fast way to initialize child Kotlin class with parent class&#39; instance properties", "body": "<p>I use Java library that defines a JSON model class named <code>A</code>. This class contains a lot of properties, e. g., 26 <code>String</code> properties named from <code>a</code> to <code>z</code> and does not have a constructor for them.</p>\n\n<p>I'd like to extend this class in Kotlin with a new JSON property, <code>lateinit var aa: String</code> (derived class will be <code>B</code>), and to have a fast way to create an instance of <code>B</code> by copying properties of existing <code>A</code> instance.</p>\n\n<p>I can serialize <code>A</code> and deserialize the resultant JSON to <code>B</code>. Are there any other fast solutions to do this without serializing/deserializing, e.g. by using any Kotin/Java methods or Intellij IDEA facilities?</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 0, "creation_date": 1512246453, "post_id": 47612191, "comment_id": 82182635, "body": "a note on your code: returning asap is a good practice afaik, reduces scope and simplifies the logic"}], "answers": [{"tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": false, "score": 4, "last_activity_date": 1512246647, "last_edit_date": 1512246647, "creation_date": 1512246251, "answer_id": 47612208, "question_id": 47612191, "link": "https://stackoverflow.com/questions/47612191/when-should-i-use-let-and-when-just-plain-null/47612208#47612208", "title": "When should I use let {} and when just plain != null", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/control-flow.html#if-expression\" rel=\"nofollow noreferrer\"><code>if</code>/<code>else</code> is an expression in Kotlin</a>, so the following is certainly more Kotlinesque:</p>\n\n<pre><code>val s3data = presignedUrl.body()\nreturn if (s3data != null) {\n    val uploadImage = api.uploadImage(s3data.bucketUrl, s3data.awsAccessKeyId, s3data.policy, s3data.key, s3data.signature, body).execute()\n    if (!uploadImage.isSuccessful) {\n        crashReporterService.sendIssue(\"Failed uploading file\", \"Failed uploading file ${uploadImage.raw()}\")\n        Result.FAILURE\n    } else {\n        Result.SUCCESS\n    }\n} else {\n    crashReporterService.sendIssue(\"Failed uploading image\", \"Error - ${presignedUrl.raw()}\")\n    Result.FAILURE\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 6, "last_activity_date": 1512287422, "last_edit_date": 1512287422, "creation_date": 1512287087, "answer_id": 47616365, "question_id": 47612191, "link": "https://stackoverflow.com/questions/47612191/when-should-i-use-let-and-when-just-plain-null/47616365#47616365", "title": "When should I use let {} and when just plain != null", "body": "<ul>\n<li>Common shared code - in this case, error reporting and return with failure result - can be consolidated into a <a href=\"https://kotlinlang.org/docs/reference/functions.html#local-functions\" rel=\"noreferrer\">local function</a>.</li>\n<li>Nullability causing a return (in this case, <code>s3data</code> being nullable) can usually be replaced with a returning <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">?: elvis operator</a>.</li>\n<li>When typing the same variable over and over again (in this case, accessing <code>s3data</code>), a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"noreferrer\"><code>run</code></a> block is appropriate. If confused, see <a href=\"https://stackoverflow.com/q/45875491/7079453\">What is a &quot;receiver&quot; in Kotlin?</a></li>\n<li>As already stated in another answer, if/else blocks are an expression in Kotlin.</li>\n</ul>\n\n<p>I would therefore find the following implementation most ideomatic, subject to proper naming of parameters for the local function:</p>\n\n<pre><code>fun foo() {\n    fun failure(p0: String, p1: String) = crashReporterService.sendIssue(p0, p1).let { Result.FAILURE }\n    val s3data = presignedUrl.body() ?: return failure(\"Failed uploading image\", \"Error - ${presignedUrl.raw()}\")\n    val uploadImage = s3data.run { api.uploadImage(bucketUrl, awsAccessKeyId, policy, key, signature, body).execute() }\n\n    return if (uploadImage.isSuccessful) {\n        Result.SUCCESS\n    } else {\n        failure(\"Failed uploading file\", \"Failed uploading file ${uploadImage.raw()}\")\n    }\n}\n</code></pre>\n\n<p>Your question is bordering on code review, so you'll probably also be happy to know there's a <a href=\"http://codereview.stackexchange.com/\">dedicated Stack Exchange network just for that.</a> Do read <a href=\"https://codereview.meta.stackexchange.com/q/5777/145613\">A guide to Code Review for Stack Overflow users</a> before, however.</p>\n"}], "owner": {"reputation": 912, "user_id": 788037, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c13fe0edb599a4c2cfdc65ae124d12d6?s=128&d=identicon&r=PG", "display_name": "Efi MK", "link": "https://stackoverflow.com/users/788037/efi-mk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "accepted_answer_id": 47616365, "answer_count": 2, "score": 2, "last_activity_date": 1512287422, "creation_date": 1512246090, "question_id": 47612191, "link": "https://stackoverflow.com/questions/47612191/when-should-i-use-let-and-when-just-plain-null", "title": "When should I use let {} and when just plain != null", "body": "<p>How would you write the following code in a more kotlinic way ?</p>\n\n<pre><code>var returnValue = ...\nval s3data = presignedUrl.body()\nif (s3data != null) {\n    val uploadImage = api.uploadImage(s3data.bucketUrl, s3data.awsAccessKeyId, s3data.policy, s3data.key, s3data.signature, body).execute()\n    if (!uploadImage.isSuccessful) {\n        crashReporterService.sendIssue(\"Failed uploading file\", \"Failed uploading file ${uploadImage.raw()}\")\n        returnValue = Result.FAILURE\n    } else {\n        returnValue = Result.SUCCESS\n    }\n} else {\n    crashReporterService.sendIssue(\"Failed uploading image\", \"Error - ${presignedUrl.raw()}\")\n    returnValue = Result.FAILURE\n}\n\nreturn returnValue\n</code></pre>\n\n<p>I can use let, but I feel it makes the code more complicated to understand</p>\n"}, {"tags": ["android", "kotlin", "android-intent", "share-intent"], "comments": [{"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 2, "creation_date": 1512245199, "post_id": 47611945, "comment_id": 82182272, "body": "What is the problem actually???"}, {"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "reply_to_user": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "edited": false, "score": 0, "creation_date": 1512246599, "post_id": 47611945, "comment_id": 82182676, "body": "this code was work in java before i translate it to kotlin when i translate it to kotlin  it did not work"}, {"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1512282869, "post_id": 47611945, "comment_id": 82190109, "body": "&quot;Did not work&quot; ..more details please"}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512292148, "post_id": 47615298, "comment_id": 82191952, "body": "not work createChooser(shareIntent,getString(R.string.send_to)) but when add comma after send _to) it&#39;s tell me to add sender what dose this mean createChooser(shareIntent,getString(R.string.send_to),)"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512292276, "post_id": 47615298, "comment_id": 82191975, "body": "I think your missing closing parentheses ) instead of comma"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512292336, "post_id": 47615298, "comment_id": 82191996, "body": "Just change for extra.stream to extra.text in your existing code as I explained above"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512294098, "post_id": 47615298, "comment_id": 82192441, "body": "Does it helps ?"}, {"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512294427, "post_id": 47615298, "comment_id": 82192507, "body": "yes but as I said in first command it&#39;s missing someting call sender in kotlin"}, {"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512295464, "post_id": 47615298, "comment_id": 82192766, "body": "i edit the question and i added images to see my problem"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512296103, "post_id": 47615298, "comment_id": 82192922, "body": "Where your running this code ? You have to put this code inside Activity or fragment ,it need context to run"}, {"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512297667, "post_id": 47615298, "comment_id": 82193289, "body": "i add the full code of the adapter contain the share code"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512298168, "post_id": 47615298, "comment_id": 82193414, "body": "Try this ;-  context.startActivity(Intent.createChooser(shareIntent, &quot;send to&quot;))"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512299916, "post_id": 47615298, "comment_id": 82193805, "body": "happy coding :)"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512300502, "post_id": 47615298, "comment_id": 82193920, "body": "Copy text ? what you want to do , copying text from view ?"}, {"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512300700, "post_id": 47615298, "comment_id": 82193972, "body": "yeah you know i want to put tow button in the cardview one of it share the text and the second copy the text i did the share button know i want the copy button"}, {"owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "reply_to_user": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 0, "creation_date": 1512301140, "post_id": 47615298, "comment_id": 82194054, "body": "try this in xml view :   android:textIsSelectable=&quot;true&quot;"}], "tags": [], "owner": {"reputation": 1211, "user_id": 5928940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb38bce9f53c4b3c1dd047689715f45?s=128&d=identicon&r=PG&f=1", "display_name": "Suraj Nair", "link": "https://stackoverflow.com/users/5928940/suraj-nair"}, "is_accepted": true, "score": 13, "last_activity_date": 1601885934, "last_edit_date": 1601885934, "creation_date": 1512275886, "answer_id": 47615298, "question_id": 47611945, "link": "https://stackoverflow.com/questions/47611945/share-intent-text-using-kotlin-on-android/47615298#47615298", "title": "Share Intent text using Kotlin on Android", "body": "<p>Try this :-\nUse <strong><code>Intent.EXTRA_STREAM</code></strong> only when you have to send Binary data like images , if you want to sent text use  <strong><code>Intent.EXTRA_TEXT</code></strong></p>\n<pre><code>    val shareIntent = Intent()\n    shareIntent.action = Intent.ACTION_SEND\n    shareIntent.type=&quot;text/plain&quot;\n    shareIntent.putExtra(Intent.EXTRA_TEXT, &quot;This is my text to send.&quot;);\n    startActivity(Intent.createChooser(shareIntent,getString(R.string.send_to)))\n</code></pre>\n<p>if using this code in adapter then last line should be\n<code>context.startActivity(Intent.createChooser(shareIntent,getString(R.string.send_to)))</code></p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "edited": false, "score": 1, "creation_date": 1512328706, "post_id": 47620869, "comment_id": 82202377, "body": "yup this is the solution same Suraj Nair in the comment thanks"}], "tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1512320461, "creation_date": 1512320461, "answer_id": 47620869, "question_id": 47611945, "link": "https://stackoverflow.com/questions/47611945/share-intent-text-using-kotlin-on-android/47620869#47620869", "title": "Share Intent text using Kotlin on Android", "body": "<p>Just use </p>\n\n<pre><code>context.startActivity\n</code></pre>\n\n<p>Insted of </p>\n\n<pre><code>startActivity\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1512321064, "creation_date": 1512321064, "answer_id": 47620960, "question_id": 47611945, "link": "https://stackoverflow.com/questions/47611945/share-intent-text-using-kotlin-on-android/47620960#47620960", "title": "Share Intent text using Kotlin on Android", "body": "<p>You can certainly go to definition of the Start Activity and view the overloads as you are not passing one of the acceptable parameters.</p>\n\n<p>What I like to do, in order to have navigation code all over the place, is to create an IntentFactory like this:</p>\n\n<pre><code>public class IntentFactory {\n\n/**\n *\n * @param context\n * @return intent\n */\npublic static Intent getLoginIntent(Context context, boolean launchedFromNotification, boolean isApproveNotify, String idOfDetailToOpen, NewsModel notificationModel){\n    Intent intent = new Intent(context, LoginActivity.class);\n    intent.putExtra(Globals.INTENT_KEYS.KEY_FROM_BADGE_ACCESS, launchedFromNotification);\n    intent.putExtra(Globals.INTENT_KEYS.KEY_ID_OF_DETAIL_TO_OPEN, idOfDetailToOpen);\n    intent.putExtra(Globals.INTENT_KEYS.KEY_IS_APPROVE_NOTIFY, isApproveNotify);\n    intent.putExtra(Globals.INTENT_KEYS.KEY_ALERT_NOTIFICATION_FOR_APPROVAL, notificationModel);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    return intent;\n\n}\n/**\n *\n * @param filePath\n * @param subject\n * @param body\n * @return\n */\npublic static Intent getSendImageIntent(String filePath, String subject, String body){\n    Intent intent = new Intent(Intent.ACTION_SEND);\n    intent.setType(\"image/jpg\");\n    intent.putExtra(Intent.EXTRA_STREAM, Uri.parse(\"file://\" + filePath));\n    intent.putExtra(Intent.EXTRA_SUBJECT, subject);\n    intent.putExtra(Intent.EXTRA_TEXT, body);\n    return Intent.createChooser(intent, \"Share File\");\n\n}\n/**\n *\n * @param toEmailAddresses\n * @param subject\n * @param body\n * @param uris\n * @return\n */\npublic static Intent getEmailIntent(String[] toEmailAddresses, String subject, String body, ArrayList&lt;Uri&gt; uris) {\n    Intent intent = new Intent(Intent.ACTION_SEND_MULTIPLE);\n    intent.setType(\"text/plain\");\n    intent.putExtra(Intent.EXTRA_EMAIL, toEmailAddresses);\n    intent.putExtra(Intent.EXTRA_SUBJECT, subject);\n    intent.putExtra(Intent.EXTRA_TEXT, body);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n    if(uris != null) {\n        intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);\n\n    }\n\n    return Intent.createChooser(intent, \"Send mail...\");\n\n}\n/**\n * Used to launch to app details screen for toggling of permissions or other things\n * @param context\n * @return\n */\npublic static Intent getShowAppDetailSettingsIntent(Context context){\n    Intent intent = new Intent();\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n    intent.addCategory(Intent.CATEGORY_DEFAULT);\n    intent.setData(Uri.parse(\"package:\" + context.getPackageName()));\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n    return intent;\n\n}\n\n}\n</code></pre>\n\n<p>Then you can easily manage using your StartActivity calls with</p>\n\n<pre><code>      String email = SharedPreferencesManager.getInstance(getContext()).getSecuredPreference(REMEMBER_ME_USER_KEY);\n    String subject = getString(R.string.message) + \" \" + model.getFirstName() + \" \" + model.getLastName();\n    String body = getString(R.string.subject) + model.getFirstName() + \" \" + model.getLastName() + \"\\n\" + model.getShootKeyUrl();\n\n    startActivity(IntentFactory.getEmailIntent(new String[]{email}, subject, body, null));\n</code></pre>\n\n<p>So if you align the proper parameters you will be good, but I would still recommend extracting it for ease of updating to a factory like this.</p>\n"}], "owner": {"reputation": 39, "user_id": 8411156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae241ce606dc5c24b033b71eea7ac2b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Alsaadi", "link": "https://stackoverflow.com/users/8411156/ali-alsaadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8608, "favorite_count": 3, "accepted_answer_id": 47615298, "answer_count": 3, "score": 4, "last_activity_date": 1601885934, "creation_date": 1512244606, "last_edit_date": 1593890742, "question_id": 47611945, "link": "https://stackoverflow.com/questions/47611945/share-intent-text-using-kotlin-on-android", "title": "Share Intent text using Kotlin on Android", "body": "<p>I want to share text in my <strong>CardView</strong> using share Intent using kotlin but there is a problem with last line in the code in kotlin \nthe code </p>\n\n<pre><code> val shareIntent = Intent()\n            shareIntent.action = Intent.ACTION_SEND\n            shareIntent.putExtra(Intent.EXTRA_STREAM, \"ali\")\n            shareIntent.type = \"text/plain\"\n            startActivity(Intent.createChooser(shareIntent, getResources().getText(R.string.send_to)))\n</code></pre>\n\n<p>here  is the problem in the code </p>\n\n<pre><code>startActivity(Intent.createChooser(shareIntent, getResources().getText(R.string.send_to)))\n</code></pre>\n\n<p>please help me</p>\n\n<p>see the images to understand me </p>\n\n<p>images</p>\n\n<p><a href=\"https://ibb.co/jQwYXw\" rel=\"noreferrer\">https://ibb.co/jQwYXw</a></p>\n\n<p><a href=\"https://ibb.co/id0tXw\" rel=\"noreferrer\">https://ibb.co/id0tXw</a></p>\n\n<p><a href=\"https://ibb.co/fbCU5G\" rel=\"noreferrer\">https://ibb.co/fbCU5G</a></p>\n\n<p>the adapter full code </p>\n\n<pre><code>class MyAdapter(context: Context, listItem: ArrayList&lt;com.EliteTeam.comedytaste.Model.Movie&gt;) : RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;() {\n\nvar Context = context\nvar movieList = listItem;\nvar layoutInflator = LayoutInflater.from(context)\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): MyViewHolder {\n\n    var inflateView = layoutInflator.inflate(R.layout.single_item, parent, false)\n\n    return MyViewHolder(inflateView)\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n\n    holder?.moviewTitle?.text = movieList[position].name\n    holder?.movieDescription!!.text=   movieList[position].description\n    //holder!!.cardImageView!!.background=   movieList[position].image\n\n    holder?.onclick(Context, position)\n    holder!!.cardImageView.setBackgroundResource(movieList[position].image)\n}\n\noverride fun getItemCount(): Int {\n\n    return movieList.size\n}\n\nclass MyViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n\n    var moviewTitle: TextView = itemView?.findViewById(R.id.movieTitleTextView)!!\n    var movieDescription: TextView = itemView!!.findViewById(R.id.movieDescriptionTextView)\n    var cardImageView: CardView = itemView!!.findViewById(R.id.imageCard)\n    var share: ImageButton = itemView!!.findViewById(R.id.share)\n\n    fun onclick(context: Context, position: Int) {\n        cardImageView.setOnClickListener {\n\n    }\n\n       share.setOnClickListener {\n\n           val shareIntent = Intent()\n         shareIntent.action = Intent.ACTION_SEND\n           shareIntent.putExtra(Intent.EXTRA_TEXT, \"ali\")\n          shareIntent.type = \"text/plain\"\n\n\n           startActivity(Intent.createChooser(shareIntent,\"send to\"))\n\n}} }}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512244693, "post_id": 47611882, "comment_id": 82182103, "body": "For the first, you can&#39;t, <code>copy</code> is auto-generated :/ <code>data class</code>es unfortunately tend to do badly with inheritance"}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1512246761, "post_id": 47611882, "comment_id": 82182724, "body": "Yup, that was what I was afraid of. I guess the proposed solution is not THAT bad, but I&#39;ll leave this question here in case someone comes up with a better solution"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1512303313, "post_id": 47611882, "comment_id": 82194605, "body": "If you put your solution into a method of <code>DownloadWallpaper</code>, then you can reuse it everywhere"}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562631530, "post_id": 47624138, "comment_id": 100427722, "body": "It&#39;s a great and forgetten feature of sealed class. It contributes to decrease the boilerplate code due to the reduction of type casting. It should be default inside sealed classes, without demanding abstract classes."}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": true, "score": 23, "last_activity_date": 1586931581, "last_edit_date": 1586931581, "creation_date": 1512340873, "answer_id": 47624138, "question_id": 47611882, "link": "https://stackoverflow.com/questions/47611882/sealed-data-class-in-kotlin/47624138#47624138", "title": "Sealed data class in Kotlin", "body": "<p>By adding a few abstract methods to your sealed class I was able to access copy methods without explicit type check. See for yourself:</p>\n\n<pre><code>sealed class DownloadWallpaper {\n    abstract val hd: Boolean\n    abstract fun copy(hd: Boolean): DownloadWallpaper\n}\n\ndata class Progress(override val hd: Boolean = false, val a: Any) : DownloadWallpaper() {\n    override fun copy(hd: Boolean) = copy(hd = hd, a = a)\n}\ndata class Success(override val hd: Boolean = false, val s: String) : DownloadWallpaper() {\n    override fun copy(hd: Boolean) = copy(hd = hd, s = s)\n}\ndata class Error(override val hd: Boolean = false, val c: Int) : DownloadWallpaper() {\n    override fun copy(hd: Boolean) = copy(hd = hd, c = c)\n}\n\nfun main() {\n    val dw: DownloadWallpaper = Progress()\n    val newDw = dw.copy(hd = false)\n    val newDwSameHd = dw.copy(hd = dw.hd)\n}\n</code></pre>\n"}], "owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5024, "favorite_count": 1, "accepted_answer_id": 47624138, "answer_count": 1, "score": 15, "last_activity_date": 1586931581, "creation_date": 1512244182, "last_edit_date": 1512244633, "question_id": 47611882, "link": "https://stackoverflow.com/questions/47611882/sealed-data-class-in-kotlin", "title": "Sealed data class in Kotlin", "body": "<p>I have the following sealed classes</p>\n\n<pre><code>sealed class DownloadWallpaper : Result() {\n    data class Progress(val hd: Boolean = false, ...) : DownloadWallpaper() \n    data class Success(val hd: Boolean = false, ...) : DownloadWallpaper()\n    data class Error(val hd: Boolean = false, ...) : DownloadWallpaper()\n}\n</code></pre>\n\n<p>And I am trying to do the following.</p>\n\n<pre><code>//obs is of type Observable&lt;Detail.Result.DownloadWallpaper&gt; \nobs.map{ it.copy(hd = true) }\n</code></pre>\n\n<p>But I cant, for two reasons since <code>DownloadWallpaper</code> isn't a data class. There's not <code>.copy()</code> method. How can I tell Kotlin that all classes in this seal class are in fact <code>data classes</code>?</p>\n\n<p>Secondly, <code>DownloadWallpaper</code> it self doesn't have an 'hd' field. I could cast this using when How can fix this elegantly?\nThis solution is quite ugly:</p>\n\n<pre><code>when (it) {\n           is Detail.Result.DownloadWallpaper.Success -&gt; it.copy(hd = true)\n           is Detail.Result.DownloadWallpaper.Progress -&gt; it.copy(hd = true)\n           is Detail.Result.DownloadWallpaper.Error -&gt; it.copy(hd = true)\n }\n</code></pre>\n"}, {"tags": ["generics", "lambda", "kotlin", "inline"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1512238033, "post_id": 47610913, "comment_id": 82180099, "body": "If you want a variable number of arguments why not take a <code>List</code>? Other than that I don&#39;t think so, you could use <code>Function&lt;R&gt;</code> but that won&#39;t be inlined"}], "answers": [{"tags": [], "owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "is_accepted": true, "score": 4, "last_activity_date": 1512498766, "creation_date": 1512498766, "answer_id": 47660450, "question_id": 47610913, "link": "https://stackoverflow.com/questions/47610913/lambda-type-with-variable-number-of-args-in-kotlin/47660450#47660450", "title": "Lambda type with variable number of args in Kotlin?", "body": "<h3>This is impossible</h3>\n\n<p>Kotlin uses static, strong typing, and the compiler needs to know the exact type of the lambda parameters at compile time. \nInternally lambdas are actually implementations of one of the <code>kotlin.jvm.functions</code> interfaces (for JVM or Android), like this one:</p>\n\n<pre><code>/* A function that takes 1 argument. */\npublic interface Function1&lt;in P1, out R&gt;\n</code></pre>\n\n<p>These interfaces define the exact number of parameters and their types. Because of that it's not possible to create a <code>vararg</code> lambda in Kotlin.\nThis is of course related to the fact, that <code>vararg</code> in JVM is just a syntax sugar that internally uses ordinary arrays, but is not a type system construct by itself, so you can't treat <code>vararg</code>s like types. </p>\n\n<h3>Dependent types</h3>\n\n<p>One suggestion to solve your problem is to use an <code>Array</code> or a <code>Collection</code> as a function parameter, or pass in arbitrary <code>Function&lt;R&gt;</code>, but this solution is limited in the way that there is no way for to statically  enforce the same amount of the parameters of each passed function, because type system itself doesn't know about the size of collection/array or parameter count of <code>Function&lt;R&gt;</code>.</p>\n\n<p>To solve your problem entirely you need a language with <a href=\"https://en.wikipedia.org/wiki/Dependent_type\" rel=\"nofollow noreferrer\">dependent type</a>\nsystem.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 0, "accepted_answer_id": 47660450, "answer_count": 1, "score": 4, "last_activity_date": 1512498766, "creation_date": 1512237898, "question_id": 47610913, "link": "https://stackoverflow.com/questions/47610913/lambda-type-with-variable-number-of-args-in-kotlin", "title": "Lambda type with variable number of args in Kotlin?", "body": "<p>Is it possible to receive as an inline lambda parameter a function type which has a <strong>guaranteed return type <code>R</code> but a variable number of arguments</strong>?  For simplicity, consider the following:</p>\n\n<pre><code>inline fun &lt;R&gt; Boolean?.tfn(tru:()-&gt;R, fls:()-&gt;R, nul:()-&gt;R) =\n  if (this == null) nul() else if (this) tru() else fls()\n</code></pre>\n\n<p>Let's assume I have <strong>other inline functions that also take lambda parameters</strong> that might be of type <code>(A)-&gt;R</code> or <code>(A,B)-&gt;R</code> or <code>(A,B,C)-&gt;R</code>, whose parameters I'd like to pass to this function.  They will all provide an <code>R</code> but they all must be invoked to get the <code>R</code>, without knowing the number/type/values of the parameters in this function.  Is there a way to generically modify the function above to:</p>\n\n<ol>\n<li>capture the generic case of any lambda parameter returning <code>R</code> for its inputs</li>\n<li>avoid any changes to the other inline functions that will be calling this function</li>\n<li>maintain the inline efficiencies</li>\n</ol>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 967, "user_id": 2375907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f69aba17584525d2978fc7e1487810f?s=128&d=identicon&r=PG", "display_name": "DrSatan1", "link": "https://stackoverflow.com/users/2375907/drsatan1"}, "edited": false, "score": 0, "creation_date": 1512238666, "post_id": 47610818, "comment_id": 82180276, "body": "Are you certain that <code>findViewById(R.id.userEmail)</code> is finding the view you need? Also, would you clarify where exactly the error occurs?"}], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1512242651, "post_id": 47611627, "comment_id": 82181519, "body": "I\u2019ll test this code and if works I will mark it so. I am currently on my phone."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1512243490, "post_id": 47611627, "comment_id": 82181750, "body": "Just confirmed this was the problem. Just goes to show how delicate spelling is."}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 1, "last_activity_date": 1512242569, "creation_date": 1512242569, "answer_id": 47611627, "question_id": 47610818, "link": "https://stackoverflow.com/questions/47610818/illegalstateexception-textview-cant-be-null-with-kotlin/47611627#47611627", "title": "IllegalStateException textview cant be null with Kotlin", "body": "<p>Sorry I was working on this all night and posted the pissed off code lol. I updated the code to what the issue was. Also I just realized that I named the value userEmailText and was trying to set</p>\n\n<pre><code>userEmail.text = user.email\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>userEmailText.text = user.email\n</code></pre>\n\n<p>That would explain why when I did println it would show it log cat correctly</p>\n"}, {"comments": [{"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1512494084, "post_id": 47613018, "comment_id": 82276877, "body": "Anyone have an idea why the TextView would say that data string is null but logcat would display correctly"}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": true, "score": -2, "last_activity_date": 1539762170, "last_edit_date": 1539762170, "creation_date": 1512251867, "answer_id": 47613018, "question_id": 47610818, "link": "https://stackoverflow.com/questions/47610818/illegalstateexception-textview-cant-be-null-with-kotlin/47613018#47613018", "title": "IllegalStateException textview cant be null with Kotlin", "body": "<p>Update! So I have figured out that it works just fine on first install and sign in but for some reason if after initial sign in you close the app when you open it it crashes at the updateUI part. I wander if it has something to do with if user is already signed in it can\u2019t update. I might try a shared preference and save user name and email and just wipe that on sign out. </p>\n\n<p><strong>EDIT</strong>\nThis was a question from a long time ago,  but what it was,  was one I hate the correct variable I then needed to call from onCreate and onStart. At the time of asking this question I was struggling working just the idea of coding let alone the concept of the Android lifecycle. There had also been a known issue with the way you used to initialize views in a navigation header. Once you initialize the navigation drawer view you then initialize the navigation drawer header then can initialize the textviews within. </p>\n"}], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3279, "favorite_count": 0, "accepted_answer_id": 47613018, "answer_count": 2, "score": 2, "last_activity_date": 1539762170, "creation_date": 1512237366, "last_edit_date": 1512242360, "question_id": 47610818, "link": "https://stackoverflow.com/questions/47610818/illegalstateexception-textview-cant-be-null-with-kotlin", "title": "IllegalStateException textview cant be null with Kotlin", "body": "<p>I am trying to create a way to update the UI when activity starts by setting the text of a TextView in the navigation drawer. I keep getting an error that the TextView cannot be null? </p>\n\n<p>The error I get is an illegal state Exception userEmail must not be null</p>\n\n<p>This is the updateUI that  is supposed to update the profile info in the navigation drawer</p>\n\n<pre><code>private fun updateUI(user:FirebaseUser?) {\n   if (user != null) {\n   val userEmailText = findViewById&lt;TextView&gt;(R.id.userEmail)\n   userEmail.text = user.email\n   val errorTriage : String? = user.email\n   println(\"User Email is =\"+errorTriage)\n   } else {\nval userEmailText: TextView = findViewById(R.id.userEmail)\n\n   userEmailText.text = \"Johndoe@someemail.com\"\n   userNameText.text = \"John Doe\"\n\n   }}\n</code></pre>\n\n<p>This is the call to UpdateUI if user is signed in if so update profile data in navigation drawer THIS IS WHeRE THE ISsUE IS. If not it starts the FirebaseUI signin activity. </p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    //Checks to see if user is already signed in\n    if (mAuth.currentUser != null) {\n        updateUI(mAuth.currentUser)\n   } else {\n        //user is not signed in\n        startActivityForResult(\n  AuthUI.getInstance().createSignInIntentBuilder().build(),\n                RC_SIGN_IN)\n   }}\n</code></pre>\n\n<p>This is the layout</p>\n\n<pre><code> &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\nandroid:paddingTop=\"@dimen/nav_header_vertical_spacing\"\n        app:srcCompat=\"@mipmap/ic_launcher_round\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/userName\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n     android:paddingTop=\"@dimen/nav_header_vertical_spacing\"\n        android:text=\"Android Studio\"\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\" /&gt;\n  &lt;TextView\n        android:id=\"@+id/userEmail\"\n        android:layout_width=\"wrap_content\"\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "is_accepted": true, "score": 0, "last_activity_date": 1521471451, "creation_date": 1521471451, "answer_id": 49365952, "question_id": 47610020, "link": "https://stackoverflow.com/questions/47610020/android-studio-lint-checks-for-kotlin-higher-order-functions/49365952#49365952", "title": "Android Studio Lint Checks for Kotlin Higher Order Functions", "body": "<p>This issue seems to be resolved in the latest builds of Android Studio 3.2. Tested on Canary 6 with Kotlin runtime 1.2.30, no lint warnings. </p>\n"}], "owner": {"reputation": 930, "user_id": 5125812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPxL4.jpg?s=128&g=1", "display_name": "Victor Rendina", "link": "https://stackoverflow.com/users/5125812/victor-rendina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 49365952, "answer_count": 1, "score": 3, "last_activity_date": 1521471451, "creation_date": 1512232407, "question_id": 47610020, "link": "https://stackoverflow.com/questions/47610020/android-studio-lint-checks-for-kotlin-higher-order-functions", "title": "Android Studio Lint Checks for Kotlin Higher Order Functions", "body": "<p>I've seen the following example of a higher order function being used as a convenience method to wrap Android API version checks. </p>\n\n<pre><code>fun isLollipop(func: () -&gt; Unit) {\n  if (VERSION.SDK_INT &gt;= VERSION_CODES.LOLLIPOP) {\n    func()\n  }\n}\n</code></pre>\n\n<p>However, in Android Studio 3.0 (Kotlin version 1.2.0) I'm seeing lint errors if I attempt to use an API that requires Lollipop (the minSdk for the project is 17). For example:</p>\n\n<pre><code>isLollipop { appBarLayout.elevation = 4f }\n</code></pre>\n\n<p>Lint complains about the API minimum on the <code>elevation</code> property. </p>\n\n<p>Just as a side note it doesn't matter if you write the function as an <code>inline fun</code>, lint still gives the same warning. With the inlined function the decompiled Java code is clearly surrounded with the version check. </p>\n\n<p>I found this discussion from a while ago, but it seems like the Kotlin team has already integrated linting support. <a href=\"https://youtrack.jetbrains.com/issue/KT-7729\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-7729</a></p>\n\n<p>Will the lint system support looking inside higher order functions?</p>\n"}, {"tags": ["java", "android", "sockets", "tcp", "kotlin"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512230144, "post_id": 47609612, "comment_id": 82177713, "body": "<code>var bytesRead = 0</code>. That is not enough. You should add another variable like <code>var totalBytesRead = 0</code>. Then in the loop <code>if ( bytesRead!=-1)totalBytesRead+= bytesRead;</code>. Then compare totalBytesRead with messageSize to end the loop. Do not use bytesRead for that."}, {"owner": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512232736, "post_id": 47609612, "comment_id": 82178541, "body": "I fixed it, but the problem has nothing to do with it I suspect. The application just hangs the second time <code>dataInputStream.read(buffer)</code> is called, despite the second slice being written. It&#39;s like it doesn&#39;t listen to it"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512233031, "post_id": 47609612, "comment_id": 82178642, "body": "<code>val temp = dataInputStream.read(buffer,0,buffer.size)</code>. You should not always ask to read as many bytes as the size of the buffer. You made the buffer size equal to message size. Now if the message is 10.000 bytes you can ask to read 10000 bytes the first time. But if you get 3000 at the first read you should only ask for 7000 the next read. And so on. So ask for <code>messageSize-bytesRead</code>."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512233329, "post_id": 47609612, "comment_id": 82178743, "body": "As you are messing around with message size and two two byte parameters it could well be that instead of <code>bytesRead != messageSize</code> you have to use <code>bytesRead != (messageSize-4)</code>.  Please elaborate what messageSize stands for. Your buffer is 4 bytes smaller then messageSize isnt it?"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512233389, "post_id": 47609612, "comment_id": 82178759, "body": "And i hate it that you did not introduce val totalBytesRead = 0; ;-)!"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512233574, "post_id": 47609612, "comment_id": 82178805, "body": "The value of messageSize should be the amount of bytes following your first two byte &#39;size&#39; integer. Or the amount of bytes following those two values. Its up to you. Please explain what you choosed. If you have to extract 4 then thats not nice."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512233841, "post_id": 47609612, "comment_id": 82178898, "body": "As Volker already tried to tell you: <code>val temp = dataInputStream.read(buffer+bytesRead,0,messageSize-bytesRea&zwnj;&#8203;d)</code>; Well for C that would do. In java you have to concatetenate the received bytes together untill you got the whole message. Or copy them to a totalBuffer."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1512234110, "post_id": 47609612, "comment_id": 82178991, "body": "No. Its easy. Change to <code>dataInputStream.read(buffer, bytesRead, messageSize-bytesRea\u200c\u200bd);</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "edited": false, "score": 0, "creation_date": 1512232189, "post_id": 47609694, "comment_id": 82178380, "body": "I updated the code, to have another variable, but I am not sure my problem is related, since it is not my problem that the loop runs once too many, but that only the first part is read. As for the protobuf, I could put a channel on it, but then I wouldn&#39;t know to tell the difference between 3 kinds of messages that can be sent. The channel is used for both multiplexing and identifying the channel type, and therefore the message type"}, {"owner": {"reputation": 151, "user_id": 2052955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b1f633a08b87fcb665d3e7615a1951ff?s=128&d=identicon&r=PG", "display_name": "Volker", "link": "https://stackoverflow.com/users/2052955/volker"}, "reply_to_user": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "edited": false, "score": 0, "creation_date": 1512232798, "post_id": 47609694, "comment_id": 82178561, "body": "Look at nested messages. You would only send one message type that carries the &quot;channel&quot; variable and a nested message or that channel type."}, {"owner": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "edited": false, "score": 0, "creation_date": 1512232887, "post_id": 47609694, "comment_id": 82178587, "body": "I see what you mean :) I will probably do that then, though that still doesn&#39;t help my current issue :("}, {"owner": {"reputation": 151, "user_id": 2052955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b1f633a08b87fcb665d3e7615a1951ff?s=128&d=identicon&r=PG", "display_name": "Volker", "link": "https://stackoverflow.com/users/2052955/volker"}, "reply_to_user": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "edited": false, "score": 0, "creation_date": 1512233302, "post_id": 47609694, "comment_id": 82178732, "body": "Another thing: you are confusing message size and payload size! Your while condition checks against the message size. However, you already consumed 4 bytes of header material. You need to initialize bytesRead with 4 or change your while condition."}, {"owner": {"reputation": 151, "user_id": 2052955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b1f633a08b87fcb665d3e7615a1951ff?s=128&d=identicon&r=PG", "display_name": "Volker", "link": "https://stackoverflow.com/users/2052955/volker"}, "reply_to_user": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "edited": false, "score": 0, "creation_date": 1512233487, "post_id": 47609694, "comment_id": 82178784, "body": "You might want to check the specification of the read and ByteArray. Seems strange to write to offset 0 multiple times. You might need to replace 0 by bytesRead. In that case you need to initialize it with 0 and change your while condition to check against the payload size instead of the message size."}], "tags": [], "owner": {"reputation": 151, "user_id": 2052955, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b1f633a08b87fcb665d3e7615a1951ff?s=128&d=identicon&r=PG", "display_name": "Volker", "link": "https://stackoverflow.com/users/2052955/volker"}, "is_accepted": false, "score": 0, "last_activity_date": 1512230171, "creation_date": 1512230171, "answer_id": 47609694, "question_id": 47609612, "link": "https://stackoverflow.com/questions/47609612/using-a-socket-for-a-custom-protocol-over-tcp/47609694#47609694", "title": "Using a socket for a custom protocol over tcp", "body": "<p>Two things:</p>\n\n<pre><code>while (bytesRead != -1 &amp;&amp; bytesRead != messageSize) {\n                bytesRead = dataInputStream.read(buffer,0,buffer.size)\n</code></pre>\n\n<p>Seems strange to me. You do no increment bytesRead. That is, if messageSize is 100 and you read 90 bytes in the first read, you will read 10 bytes in the second read.\nYou cannot simply say  'bytesRead += ...' since it might return -1. So you need another variable. Check if the return value is non-negative and then do the increment to a byteCounter. This byteCounter needs to be compared to messageSize.</p>\n\n<p>Also: If all you are doing is providing multiple channels for Google protobuf messages, don't do it like this! Create a protobuf message that contains the protobuf message and a channel variable. That should make life a lot easier.</p>\n"}], "owner": {"reputation": 1935, "user_id": 1818120, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f495338db8f1033ed2ae3bf30b3de957?s=128&d=identicon&r=PG", "display_name": "Yoav Schwartz", "link": "https://stackoverflow.com/users/1818120/yoav-schwartz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 383, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1512293724, "creation_date": 1512229614, "last_edit_date": 1512293724, "question_id": 47609612, "link": "https://stackoverflow.com/questions/47609612/using-a-socket-for-a-custom-protocol-over-tcp", "title": "Using a socket for a custom protocol over tcp", "body": "<p>My protocol looks like this:<br>\n<code>[size: UInt16][Channel: Uint16][Protobuff packet]</code><br>\nThe problem is, it is my understanding that tcp does not guarantee that an the entire packet as sent by the user will arrive all in one. Therefore, there could technically be a situation, where I don't get the entire message at once, or even that a part of another message is sent with this message.</p>\n\n<p>It was quite easy, when I was just assuming that I would be getting the entire message at once, because I just read the first 2 bytes from the stream, made a buffer with the proper size and called <code>read(buffer)</code> however if I start thinking about the possibility of cut-off, I am not sure how to handle it. I tried the following:</p>\n\n<pre><code>    val input = clientSocket.getInputStream()\n    while (!isStopped) {\n        val bufferedInputStream: BufferedInputStream = BufferedInputStream(input)\n        val dataInputStream: DataInputStream = DataInputStream(bufferedInputStream)\n        var messageSize: Int? = null\n        var channel: Int? = null\n        while (true) {\n            if (messageSize == null) {\n                messageSize = dataInputStream.readUnsignedShort()\n            }\n            if (channel == null) {\n                channel = dataInputStream.readUnsignedShort()\n            }\n            var bytesRead = 0\n            var didReachEnd = false\n            val buffer = ByteArray(messageSize - 4)\n            while (bytesRead != -1 &amp;&amp; bytesRead != messageSize) {\n                val temp = dataInputStream.read(buffer)\n                if (temp == -1) {\n                    didReachEnd = true\n                } else {\n                    bytesRead += temp\n                }\n                Logger.debug(this::class.java, \"bytes read: $bytesRead out of $messageSize\")\n            }\n            val packet = ChatChannel.Packet.parseFrom(buffer)\n            print(packet.chatMessage.messageText)\n        }\n    }\n</code></pre>\n\n<p>And I attempt to imitate a message splitting by doing the following from my client socket:</p>\n\n<pre><code>        val chatPacket = ChatChannel.Packet.newBuilder().setChatMessage(chatChannel).build()\n        val sendPacket = Packet(0,chatPacket.toByteArray())\n        val sendPacketByteArray = sendPacket.toByteArray()\n\n\n        val halfPoint = sendPacketByteArray.size/2\n        val firstSlice = sendPacketByteArray.sliceArray(IntRange(0,halfPoint))\n        val secondSlice = sendPacketByteArray.sliceArray(IntRange(halfPoint,halfPoint+(halfPoint%2)))\n\n        s.getOutputStream().write(firstSlice)\n        sleep(200)\n        s.getOutputStream().write(secondSlice)\n</code></pre>\n\n<p>however my implementation just hangs in the following line in the second time its ran:</p>\n\n<pre><code>bytesRead = dataInputStream.read(buffer,0,buffer.size)\n</code></pre>\n\n<p>I have a feeling I am missing some idea of how Sockets work, however every implementation I have seen, assumes that when the user is done sending he will close the connection, but in my case it's a chat program, so the user will only close the connection when were done chatting.</p>\n\n<p>What I would like to achieve:</p>\n\n<ul>\n<li>read size</li>\n<li>read channel</li>\n<li>read bytes until the buffer of <code>size</code>  is full</li>\n<li>parse message</li>\n<li>notify</li>\n<li>back to step 0</li>\n</ul>\n\n<p>Edit:\nAfter further research, I found that MessageLite library to work with protobuf in Java seems to have methods called writeDelimitedTo(outputStream) and parseDelimitedFrom(inputStream) so it seems most of the work has been done for me.</p>\n"}, {"tags": ["java", "json", "kotlin", "moshi", "jsonparser"], "answers": [{"comments": [{"owner": {"reputation": 1269, "user_id": 3700517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/548449082/picture?type=large", "display_name": "shakil.k", "link": "https://stackoverflow.com/users/3700517/shakil-k"}, "edited": false, "score": 0, "creation_date": 1512256287, "post_id": 47612656, "comment_id": 82185580, "body": "i am using Boolean::class.java  how can i use kotlin.Boolean?  type ? in order to compare type == requestedType"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 1269, "user_id": 3700517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/548449082/picture?type=large", "display_name": "shakil.k", "link": "https://stackoverflow.com/users/3700517/shakil-k"}, "edited": false, "score": 3, "creation_date": 1512262313, "post_id": 47612656, "comment_id": 82186770, "body": "you can use <code>Boolean::class.javaObjectType</code> to get an instance of the Java Class for <code>java.lang.Boolean</code>"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1512249134, "creation_date": 1512249134, "answer_id": 47612656, "question_id": 47609562, "link": "https://stackoverflow.com/questions/47609562/parsing-json-with-broken-remote-api/47612656#47612656", "title": "Parsing json with broken remote API", "body": "<p>The issue is that types <code>kotlin.Boolean</code> and <code>kotlin.Boolean?</code> correspond to 2 different Java types:</p>\n\n<ul>\n<li><code>kotlin.Boolean</code> is <code>boolean</code> Java primitive type</li>\n<li><code>kotlin.Boolean?</code> is <code>java.lang.Boolean</code> Java type</li>\n</ul>\n\n<p>In your test you created an adapter for a <code>kotlin.Boolean</code> (i.e., Java <code>boolean</code> type), while in your data model you have a <code>kotlin.Boolean?</code> (i.e., a <code>java.lang.Boolean</code> type).\nFor this reason, when method <code>create(...)</code> of the <code>Factory</code> gets called, you are in a situation where <code>type != requestedType</code>, so your adapter is not created and the <code>KotlinJsonAdapter</code> is used instead.\nAt this point, since the <code>is_local</code> field of the Json is <strong>not</strong> a boolean (but a string), Moshi should raise an Exception.</p>\n\n<p>If you change your data model or your adapter to use the same type, you are in a situation where <code>type == requestedType</code>, so your adapter gets created, the exception is thrown as before, but you added a <code>catch</code> block that returns the default value.</p>\n"}], "owner": {"reputation": 1269, "user_id": 3700517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/548449082/picture?type=large", "display_name": "shakil.k", "link": "https://stackoverflow.com/users/3700517/shakil-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1512249134, "creation_date": 1512229342, "question_id": 47609562, "link": "https://stackoverflow.com/questions/47609562/parsing-json-with-broken-remote-api", "title": "Parsing json with broken remote API", "body": "<p>Here is my model class</p>\n\n<p><code>data class Article(\n        val id: Int? = 0,\n        val is_local: Boolean? = false,\n        val comments: List&lt;Comment?&gt;? = listOf())</code></p>\n\n<p>and here is json</p>\n\n<pre><code>  {\n    \"id\": 33,\n    \"is_local\": \"true\",\n    \"comments\":\n         [\n          { \"url\": \"aaa\" },\n\n          { \"url\": \"bbb\" },\n\n          { \"url\": \"ccc\" )\n\n     ]\n\n}\n</code></pre>\n\n<p>i am using this custom Adapter to return default value in case of parsing error like in my case is <strong>is_local</strong> field</p>\n\n<pre><code>class DefaultOnDataMismatchAdapter&lt;T&gt; private constructor(private val delegate: \n   JsonAdapter&lt;T&gt;, private val defaultValue: T?) : JsonAdapter&lt;T&gt;() {\n\n @Throws(IOException::class)\n  override fun fromJson(reader: JsonReader): T? =\n        try {\n            delegate.fromJsonValue(reader.readJsonValue())\n        } catch (e: Exception) {\n            println(\"Wrongful content - could not parse delegate \" + \ndelegate.toString())\n            defaultValue\n        }\n\n@Throws(IOException::class)\noverride fun toJson(writer: JsonWriter, value: T?) {\n    delegate.toJson(writer, value)\n}\n\n  companion object {\n    @JvmStatic\n    fun &lt;T&gt; newFactory(type: Class&lt;T&gt;, defaultValue: T?): \n    JsonAdapter.Factory {\n        return object : JsonAdapter.Factory {\n            override fun create(requestedType: Type, annotations: \n      Set&lt;Annotation&gt;, moshi: Moshi): JsonAdapter&lt;*&gt;? {\n                if (type != requestedType) {\n                    return null\n                }\n                val delegate = moshi.nextAdapter&lt;T&gt;(this, type, \n          annotations)\n                return DefaultOnDataMismatchAdapter(delegate, \n     defaultValue)\n             }\n\n         }\n      }\n   }\n\n}\n</code></pre>\n\n<p>and my test fail and boolean value is not false i have added the above adapter to moshi</p>\n\n<pre><code>@Before\nfun createService() {\n\n    val moshi = Moshi.Builder()\n\n\n    .add(DefaultOnDataMismatchAdapter\n                           .newFactory(Boolean::class.java,false))\n            .add(KotlinJsonAdapterFactory())\n            .build()\n\n    val retrofit = Retrofit.Builder()\n            .baseUrl(mockWebServer.url(\"/\"))\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\n            .build()\n\n    service =  retrofit.create(ApiStores::class.java)\n\n\n\n}\n\n\n\n\n@Test\nfun getBooleanParsingError() {\n\n    enqueueResponse(case1)\n\n    val article = service.getArticle().execute()\n\n    assert(article.body()!!).isNotNull()\n    assert(article.body()!!.is_local).isEqualTo(false)  // test fail here \n\n}\n</code></pre>\n\n<p>but when i change the datatype of is_local field in the model class to not nullable it works</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1512229475, "creation_date": 1512229475, "answer_id": 47609588, "question_id": 47609411, "link": "https://stackoverflow.com/questions/47609411/map-in-firebase-ondatachange-in-kotlin/47609588#47609588", "title": "Map in Firebase onDataChange in Kotlin", "body": "<p>Using your example, your <code>ArrayList</code> initially looks like this:</p>\n\n<pre><code>[ 1 , 1 , 0 , 0, 0 ]\n</code></pre>\n\n<p>When you add 1 to the 1-star ratings, the snapshot you get in the listener actually contains the entire updated list, which would be:</p>\n\n<pre><code>[ 2 , 1 , 0 , 0, 0 ]\n</code></pre>\n\n<p>The reason you're getting the unexpected result is because you're essentially adding this updated list to your original, which of course results in:</p>\n\n<pre><code>[ 3 , 2 , 0 , 0 , 0 ]\n</code></pre>\n\n<p>Restarting the app fixes this, because you start with an all-zero list again, and add the data received in the listener to that.</p>\n\n<hr>\n\n<p>So to fix your problem, you just need to overwrite every value in your list when you get an update instead of adding to the existing value. You can do this by resetting your list to all zeroes before running your loop.</p>\n\n<pre><code>val objectMap : MutableMap&lt;String, Any&gt;\nobjectMap = child.value as MutableMap&lt;String, Any&gt;\n\nlistofStarsCounter = arrayListOf(0, 0, 0, 0, 0)\n\nfor (entary in objectMap) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8994920, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A_SeK2MmieE/AAAAAAAAAAI/AAAAAAAAAZ0/etEjqkYlBSw/photo.jpg?sz=128", "display_name": "\u0418\u043b\u044c\u044f \u0424\u0435\u0434\u043e\u0441\u0435\u0435\u0432", "link": "https://stackoverflow.com/users/8994920/%d0%98%d0%bb%d1%8c%d1%8f-%d0%a4%d0%b5%d0%b4%d0%be%d1%81%d0%b5%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1036, "favorite_count": 0, "accepted_answer_id": 47609588, "answer_count": 1, "score": 0, "last_activity_date": 1512230382, "creation_date": 1512228359, "last_edit_date": 1512230382, "question_id": 47609411, "link": "https://stackoverflow.com/questions/47609411/map-in-firebase-ondatachange-in-kotlin", "title": "Map in Firebase onDataChange in Kotlin", "body": "<p>\nMy code count stars (5 stars) in firebase\nand I have problem, if it update in realtime it counting not correct</p>\n\n<p>(Firebase now)</p>\n\n<ol>\n<li>= 1</li>\n<li>= 2</li>\n<li>= 0</li>\n<li>= 0</li>\n<li>= 0</li>\n</ol>\n\n<p>And after change firebase [add 1. +=1]</p>\n\n<ol>\n<li>= 3</li>\n<li>= 4</li>\n<li>= 0</li>\n<li>= 0</li>\n<li>= 0</li>\n</ol>\n\n<p>But if I restart app it change to normal result:</p>\n\n<ol>\n<li>= 2</li>\n<li>= 2</li>\n<li>= 0</li>\n<li>= 0</li>\n<li>= 0</li>\n</ol>\n\n<p>Why MutableMap add map second time with new star ?\n</p>\n\n<pre><code>class FireBaseRealTime {\n\nvar listofStarsCounter : ArrayList&lt;Int&gt; = ArrayList&lt;Int&gt;(listOf(0,0,0,0,0))\nvar mDataBase : DatabaseReference = FirebaseDatabase.getInstance().getReference()\nvar mDeviceLikesRef = mDataBase.child(\"service\").child(\"devices\").child(\"sam\").child(\"likes\")\n\nfun allAverageLike(text: TextView,star1: TextView,star2: TextView,star3: TextView,star4: TextView,star5: TextView) {\n    var count : Int = 0\n    var sumAllvalue : Int = 0\n\n    mDeviceLikesRef.addValueEventListener(object : ValueEventListener{\n        override fun onCancelled(p0: DatabaseError?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onDataChange(dataSnapshot: DataSnapshot?) {\n            dataSnapshot?.children?.forEach { child : DataSnapshot -&gt;\n\n                val objectMap : MutableMap&lt;String, Any&gt;\n                objectMap = child.value as MutableMap&lt;String, Any&gt;\n\n                for(entary in objectMap) {\n                    if(entary.key.equals(\"value\")) {\n                        when(entary.value.toString()){\n                            \"1\" -&gt; listofStarsCounter.set(0, listofStarsCounter.get(0) + 1)\n                            \"2\" -&gt; listofStarsCounter.set(1, listofStarsCounter.get(1) + 1)\n                            \"3\" -&gt; listofStarsCounter.set(2, listofStarsCounter.get(2) + 1)\n                            \"4\" -&gt; listofStarsCounter.set(3, listofStarsCounter.get(3) + 1)\n                            \"5\" -&gt; listofStarsCounter.set(4, listofStarsCounter.get(4) + 1)\n                        }\n                        count++\n                        sumAllvalue += entary.value.toString().toInt()\n                    }\n                }\n            }\n            try {\n                text.text = \"%.1f\".format(sumAllvalue.toDouble() / count.toDouble())\n\n                star1.text = \"%.1f\".format((100.0/count.toDouble()) * listofStarsCounter.get(0).toDouble())\n                star2.text = \"%.1f\".format((100.0 / count.toDouble()) * listofStarsCounter.get(1).toDouble())\n                star3.text = \"%.1f\".format((100.0 / count.toDouble()) * listofStarsCounter.get(2).toDouble())\n                star4.text = \"%.1f\".format((100.0 / count.toDouble()) * listofStarsCounter.get(3).toDouble())\n                star5.text = \"%.1f\".format((100.0 / count.toDouble()) * listofStarsCounter.get(4).toDouble())\n            } catch (e : ArithmeticException) {\n\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>}</p>\n\n\n\n\n"}, {"tags": ["android", "service", "kotlin", "android-8.0-oreo"], "comments": [{"owner": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "edited": false, "score": 1, "creation_date": 1516246108, "post_id": 47609261, "comment_id": 83612535, "body": "This is interesting. I suggest you post your solution as an answer and mark it as accepted instead of editing the question. It is more clear to the future reader as well."}, {"owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "reply_to_user": {"reputation": 23772, "user_id": 1035008, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afa583c070c82a0961be918141f953fe?s=128&d=identicon&r=PG", "display_name": "Yuchen", "link": "https://stackoverflow.com/users/1035008/yuchen"}, "edited": false, "score": 0, "creation_date": 1516295361, "post_id": 47609261, "comment_id": 83638841, "body": "@YuchenZhong Thanks for the suggestion. I added an answer."}], "answers": [{"comments": [{"owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "edited": false, "score": 7, "creation_date": 1512524845, "post_id": 47662533, "comment_id": 82290279, "body": "Yeah. But this happen while my activity is open. So my app isn&#39;t in the background. And also I don&#39;t start the service with startForegroundService()."}], "tags": [], "owner": {"reputation": 546, "user_id": 2224741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab96022574c56f89329d0c54c586ef48?s=128&d=identicon&r=PG", "display_name": "lakshman.pasala", "link": "https://stackoverflow.com/users/2224741/lakshman-pasala"}, "is_accepted": false, "score": 2, "last_activity_date": 1512507417, "creation_date": 1512507417, "answer_id": 47662533, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/47662533#47662533", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>From the docs <a href=\"https://developer.android.com/about/versions/oreo/android-8.0-changes.html\" rel=\"nofollow noreferrer\">8.0 Behavior Changes</a></p>\n\n<blockquote>\n  <p>The system allows apps to call Context.startForegroundService() even\n  while the app is in the background. However, the app must call that\n  service's startForeground() method within five seconds after the\n  service is created.</p>\n</blockquote>\n\n<p>So, you have to call startForeground inside onCreate() for your service.</p>\n"}, {"comments": [{"owner": {"reputation": 8351, "user_id": 1817031, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MnimI.png?s=128&g=1", "display_name": "Steve M", "link": "https://stackoverflow.com/users/1817031/steve-m"}, "edited": false, "score": 0, "creation_date": 1527692063, "post_id": 48326769, "comment_id": 88225250, "body": "Can you explain how that line of code calls startForegroundService() implicitly? I have similar problem where I never call it and it might provide clues. Thanks."}, {"owner": {"reputation": 316, "user_id": 1394330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6eaa8302a8a1d23a577c81e282b5fa57?s=128&d=identicon&r=PG", "display_name": "th3hamm0r", "link": "https://stackoverflow.com/users/1394330/th3hamm0r"}, "reply_to_user": {"reputation": 8351, "user_id": 1817031, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MnimI.png?s=128&g=1", "display_name": "Steve M", "link": "https://stackoverflow.com/users/1817031/steve-m"}, "edited": false, "score": 1, "creation_date": 1550139771, "post_id": 48326769, "comment_id": 96164119, "body": "@SteveM the above line creates a <code>PendingIntent</code> which targets the <code>MediaButtonReceiver</code>, which then may call your service with <code>startForegroundService</code> (which also depends on how you configured your intent filters in the manifest). So the best solution to avoid those <code>startForegroundService</code>-calls is to avoid the <code>MediaButtonReveiver</code>, see <a href=\"https://stackoverflow.com/a/50629196/1394330\">stackoverflow.com/a/50629196/1394330</a>"}, {"owner": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578639567, "post_id": 48326769, "comment_id": 105511502, "body": "@UdeshUK I&#39;m confused when you said you created a custom pending intent.  Wouldn&#39;t just adding a notification to <code>onStartCommand()</code> in your <code>MediaBrowserService</code> work?"}, {"owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "reply_to_user": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578895573, "post_id": 48326769, "comment_id": 105574078, "body": "@KrisB Sorry I don&#39;t use a <code>MediaBrowserService</code>. I have a custom music service to handle playback and handle media files."}], "tags": [], "owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "is_accepted": false, "score": 10, "last_activity_date": 1516295276, "creation_date": 1516295276, "answer_id": 48326769, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/48326769#48326769", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>I found the problem. In my notification I have set</p>\n\n<pre><code>setDeleteIntent(MediaButtonReceiver.buildMediaButtonPendingIntent(service, PlaybackStateCompat.ACTION_STOP))\n</code></pre>\n\n<p>So when user removes the notification it calls startForegroundService() because I called stopForeground() previously when pausing.</p>\n\n<p>To overcome, I used a custom pending intent and handled it in the <code>onStartCommand()</code> instead of <strong>MediaButtonReveiver's</strong> PendingIntent</p>\n"}, {"tags": [], "owner": {"reputation": 1772, "user_id": 3445599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNVk5.jpg?s=128&g=1", "display_name": "Ramkailash", "link": "https://stackoverflow.com/users/3445599/ramkailash"}, "is_accepted": false, "score": 7, "last_activity_date": 1527142855, "creation_date": 1527142855, "answer_id": 50502290, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/50502290#50502290", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p><strong>You must call this method inside your Service class onCreate() method:-></strong></p>\n\n<pre><code>private void startServiceOreoCondition(){\n        if (Build.VERSION.SDK_INT &gt;= 26) {\n\n\n            String CHANNEL_ID = \"my_service\";\n            String CHANNEL_NAME = \"My Background Service\";\n\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID,\n                    CHANNEL_NAME,NotificationManager.IMPORTANCE_NONE);\n            ((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel);\n\n            Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                    .setCategory(Notification.CATEGORY_SERVICE).setSmallIcon(R.drawable.ic_tgc_icon).setPriority(PRIORITY_MIN).build();\n\n            startForeground(101, notification);\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 1180091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zDG4C.png?s=128&g=1", "display_name": "gicci", "link": "https://stackoverflow.com/users/1180091/gicci"}, "edited": false, "score": 0, "creation_date": 1549235872, "post_id": 50629196, "comment_id": 95820617, "body": "I have the same issue calling MediaButtonReceiver.handleIntent, and there is a note in the docs &quot;Once the service is started, it must start to run in the foreground&quot;. It was quite cryptic until reading your answer."}, {"owner": {"reputation": 843, "user_id": 5552698, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1R1n4wVdK8k/AAAAAAAAAAI/AAAAAAAAABU/WPajbu9mebs/photo.jpg?sz=128", "display_name": "RJ Aylward", "link": "https://stackoverflow.com/users/5552698/rj-aylward"}, "edited": false, "score": 0, "creation_date": 1564091183, "post_id": 50629196, "comment_id": 100927331, "body": "If you register a MediaButtonReceiver in your manifest Android can try and restart your media session by calling startForegroundService, and if you don&#39;t show a notification soon enough in this case it will cause the ANR. You can opt out of this behavior as described in the [docs] (<a href=\"https://developer.android.com/guide/topics/media-apps/mediabuttons#restarting-inactive-mediasessions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media-apps/&hellip;</a>)"}, {"owner": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578627798, "post_id": 50629196, "comment_id": 105508819, "body": "Do you know if using <code>setMediaButtonReceiver(null)</code> will cause any issues with using external media controls?  I updated my code to use this and it still recognizes button commands from my Bluetooth headset but it seems odd to just set it to null."}, {"owner": {"reputation": 61, "user_id": 5836108, "user_type": "registered", "profile_image": "https://graph.facebook.com/226167327715820/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u0440\u043e\u0431\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/5836108/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 843, "user_id": 5552698, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1R1n4wVdK8k/AAAAAAAAAAI/AAAAAAAAABU/WPajbu9mebs/photo.jpg?sz=128", "display_name": "RJ Aylward", "link": "https://stackoverflow.com/users/5552698/rj-aylward"}, "edited": false, "score": 0, "creation_date": 1585373646, "post_id": 50629196, "comment_id": 107741892, "body": "@RJAylward But it is actual only for Android 5.0 (API level 21) and higher?"}], "tags": [], "owner": {"reputation": 316, "user_id": 1299562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b48b72f622e31b384c7d4f93b635ef?s=128&d=identicon&r=PG", "display_name": "Andy S", "link": "https://stackoverflow.com/users/1299562/andy-s"}, "is_accepted": true, "score": 16, "last_activity_date": 1527785357, "creation_date": 1527785357, "answer_id": 50629196, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/50629196#50629196", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>To expand on <a href=\"https://stackoverflow.com/a/48326769/1299562\">UdeshUk's answer</a> - any use of <code>MediaButtonReceiver</code> (either building pending intents or just receiving media button intents) can result in your service being called with <code>startForegroundService</code>, because <code>MediaButtonReceiver.onReceive</code> starts your service in that way on Oreo.  I haven't seen this documented anywhere.</p>\n"}, {"comments": [{"owner": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578627967, "post_id": 57123681, "comment_id": 105508847, "body": "Really nice of Google to make us aware of this.  What happens if Google ever modifies the code in <code>MediaButtonReceiver</code>?  Do you have copy the code into your project everytime there are any changes to it?"}, {"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "reply_to_user": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 1, "creation_date": 1578728183, "post_id": 57123681, "comment_id": 105540803, "body": "I guess so, I guess they did that as some kind of enforcement; you can only access the media button in foreground. That was shortsighted though, the entire services api is a pain any way."}, {"owner": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578876447, "post_id": 57123681, "comment_id": 105570846, "body": "I just set <code>setMediaButtonReceiver</code> to <code>null</code> and that seemed to work as mentioned here:<a href=\"https://developer.android.com/guide/topics/media-apps/mediabuttons#restarting-inactive-mediasessions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/media-apps/&hellip;</a>  I was worried it would effect handling media controls from a Bluetooth headset but it doesn&#39;t."}, {"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "reply_to_user": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1578936362, "post_id": 57123681, "comment_id": 105593201, "body": "Are you still able to listen to media button&#39;s events?"}, {"owner": {"reputation": 61, "user_id": 5836108, "user_type": "registered", "profile_image": "https://graph.facebook.com/226167327715820/picture?type=large", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0412\u043e\u0440\u043e\u0431\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/5836108/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 3428, "user_id": 137639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e415e6bdc043fa23f4cc3b6d79f71721?s=128&d=identicon&r=PG", "display_name": "Kris B", "link": "https://stackoverflow.com/users/137639/kris-b"}, "edited": false, "score": 0, "creation_date": 1585373434, "post_id": 57123681, "comment_id": 107741851, "body": "@KrisB But it is actual only for Android 5.0 (API level 21) and higher?"}], "tags": [], "owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "is_accepted": false, "score": 3, "last_activity_date": 1563617168, "creation_date": 1563617168, "answer_id": 57123681, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/57123681#57123681", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>Late to the party, but as was mentioned before, it's the <code>MediaButtonReceiver</code>; it has this code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onReceive(Context context, Intent intent) {\n        ...\n        startForegroundService(context, intent);\n        ...\n    }\n\n</code></pre>\n\n<p>I'm using the receiver in a bound service, so I created a class that has the exact same code as <code>MediaButtonReceiver</code>, except for this line. I replaced it with:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        context.startService(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 11067076, "user_type": "registered", "profile_image": "https://graph.facebook.com/1954112497975149/picture?type=large", "display_name": "Shan Pathiraja", "link": "https://stackoverflow.com/users/11067076/shan-pathiraja"}, "is_accepted": false, "score": 0, "last_activity_date": 1577959537, "last_edit_date": 1577959537, "creation_date": 1577958653, "answer_id": 59561297, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/59561297#59561297", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>i have same problem but i fixed it using notification service</p>\n\n<pre><code>public void createNotificationChannel(){\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n        NotificationChannel serviceChanel =new NotificationChannel(\n                CHANNEL_ID,\n                \"Forground service Chane\"\n                , NotificationManager.IMPORTANCE_DEFAULT\n        );\n        NotificationManager manager = getSystemService(NotificationManager.class);\n        manager.createNotificationChannel(serviceChanel);\n    }\n}\n</code></pre>\n\n<p>create Chanel id in begin of class</p>\n\n<p><code>public static final String CHANNEL_ID = \"ForegroundServiceChannel\";</code></p>\n\n<p>and service  onStartCommand indside </p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n\n        createNotificationChannel();\n        Intent notificationIntent = new Intent(this , MainActivity.class);\n        PendingIntent pendingIntent =PendingIntent.getActivity(this,0,notificationIntent,0);\n        Notification notification = new NotificationCompat.Builder(this,CHANNEL_ID)\n                .setContentTitle(\"ForgroundService\")\n                .setContentText(\"Any message\")\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentIntent(pendingIntent)\n                .build();\n        startForeground(1,notification);\n    }\n</code></pre>\n\n<p>put that code </p>\n\n<p>Sourse <a href=\"https://androidwave.com/foreground-service-android-example/\" rel=\"nofollow noreferrer\">https://androidwave.com/foreground-service-android-example/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1675, "user_id": 1604309, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/65e29b09cf1450fb368580c449920aea?s=128&d=identicon&r=PG", "display_name": "Mateusz Kaflowski", "link": "https://stackoverflow.com/users/1604309/mateusz-kaflowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1604498238, "creation_date": 1604498238, "answer_id": 64681444, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser/64681444#64681444", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p><code>MediaButtonReceiver</code> invoke startForegroundService and it is a culprit for me. My problem occured when I had no media to play (the playlist was empty). I solved that by showing notification and cancelling it right away in <code>onStartCommand</code>:</p>\n<pre><code>    if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n\n        builder.setSmallIcon(R.drawable.notification)\n                .setContentTitle(&quot;&quot;)\n                .setContentText(&quot;&quot;)\n                .setSmallIcon(R.drawable.notification);\n        startForeground(99, builder.build());\n        stopForeground(true);\n        \n        MyMediaButtonReceiver.handleIntent(mediaSessionCompat, intent);\n    \n        return START_NOT_STICKY;\n      }\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 7666467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GezJ4zu3jQ0/AAAAAAAAAAI/AAAAAAAAAp8/z5khmwqs3Ew/photo.jpg?sz=128", "display_name": "UdeshUK", "link": "https://stackoverflow.com/users/7666467/udeshuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26063, "favorite_count": 9, "accepted_answer_id": 50629196, "answer_count": 7, "score": 27, "last_activity_date": 1604498238, "creation_date": 1512227312, "last_edit_date": 1516294850, "question_id": 47609261, "link": "https://stackoverflow.com/questions/47609261/bound-service-crash-with-context-startforegroundservice-did-not-then-call-ser", "title": "Bound service crash with &quot;Context.startForegroundService() did not then call Service.startForeground()&quot; error", "body": "<p>I'm currently working on audio playback app and I'm using a started bound service to play music in background. I start and bind to the service using following code.</p>\n\n<pre><code>val intent = Intent(context, MusicService::class.java)\ncontext.startService(intent)\ncontext.bindService(intent, serviceConnection, 0)\n</code></pre>\n\n<p>It gets promoted to foreground when playing and gets demoted when music is paused.</p>\n\n<pre><code>// onAudioPlay\nservice.startForeground(NOTIFY_ID, notification)\n\n// onAudioPause\nservice.stopForeground(false)\n</code></pre>\n\n<p>Service work fine up to now. But when the notification is swiped(removed) by the user in the paused state, the service crashes after few seconds giving this error.</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myplayer, PID: 4380\n    android.app.RemoteServiceException: Context.startForegroundService() did not then call Service.startForeground()\n        android.app.ActivityThread$H.handleMessage(ActivityThread.java:1775)\n        android.os.Handler.dispatchMessage(Handler.java:105)\n        android.os.Looper.loop(Looper.java:164)\n        android.app.ActivityThread.main(ActivityThread.java:6541)\n        java.lang.reflect.Method.invoke(Native Method)\n      com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n\n<p>This only happens on Oreo and I already read about the background limitations in Oreo. But following points bugs me.</p>\n\n<ul>\n<li>This service is a bound service(which aren't affected by limitations) </li>\n<li>I never use Context.startForegroundService() to start the service.(and don't want to use it)</li>\n<li>The service doesn't crash when it gets demoted from foreground, it's happens when removing the notification.</li>\n</ul>\n\n<p>Why is the service is crashing? What am I doing wrong? I'm very thankful if someone tell me whats happening here.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 1, "creation_date": 1512226171, "post_id": 47608663, "comment_id": 82176496, "body": "what does <code>println(it.data)</code> prints?"}, {"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "reply_to_user": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1512226561, "post_id": 47608663, "comment_id": 82176597, "body": "thank you after inspect printed data, I found one invalid data where <code>{timestamp=blob, title=blob, category=blob...}</code> when other data is normal ``{timestamp=1135129980, title=jkjk, category=xys..}`"}], "answers": [{"comments": [{"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1512225055, "post_id": 47608815, "comment_id": 82176200, "body": "thank you, but unfortunately it not working <code>Could not deserialize object. Failed to convert value of type com.google.firebase.firestore.Blob to String (found in field &#39;timestamp&#39;)</code>"}, {"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1512225314, "post_id": 47608815, "comment_id": 82176273, "body": "interesting, event if it is possible (not trying yet) how can I use blob as timestamp? I use number in firestore when storing the data"}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1512225393, "post_id": 47608815, "comment_id": 82176293, "body": "why don&#39;t you use integer on firestore?"}, {"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1512225463, "post_id": 47608815, "comment_id": 82176308, "body": "if you input data manually in firebase console, the only option is number"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1512225180, "last_edit_date": 1512225180, "creation_date": 1512224269, "answer_id": 47608815, "question_id": 47608663, "link": "https://stackoverflow.com/questions/47608663/firebase-firestore-android-cant-deserialize-object/47608815#47608815", "title": "Firebase Firestore Android can&#39;t deserialize object", "body": "<p>Try using:</p>\n\n<pre><code>var timestamp: Blob\n</code></pre>\n\n<p>instead of :</p>\n\n<pre><code>var timestamp: Int = 0\n</code></pre>\n\n<p>Then you can use this method from Blob object: </p>\n\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Blob\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Blob</a></p>\n"}, {"tags": [], "owner": {"reputation": 661, "user_id": 5808336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-hI3MDD12zfQ/AAAAAAAAAAI/AAAAAAAAA_w/DIT54IAtb-Y/photo.jpg?sz=128", "display_name": "Milton", "link": "https://stackoverflow.com/users/5808336/milton"}, "is_accepted": false, "score": 0, "last_activity_date": 1529316852, "creation_date": 1529316852, "answer_id": 50907179, "question_id": 47608663, "link": "https://stackoverflow.com/questions/47608663/firebase-firestore-android-cant-deserialize-object/50907179#50907179", "title": "Firebase Firestore Android can&#39;t deserialize object", "body": "<p>I tried using the Blog and Int variable types, but they did not work for Firebase's Timestamps.  Then, I used the following and it worked correctly:</p>\n\n<pre><code>import java.util.*\nval timestamp: Date? =  null\n</code></pre>\n\n<p>I hope it works for you too.</p>\n"}, {"tags": [], "owner": {"reputation": 494, "user_id": 7940044, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w1dTS848RHc/AAAAAAAAAAI/AAAAAAAAALU/0wO3ALecoQI/photo.jpg?sz=128", "display_name": "Nivrutti Pawar", "link": "https://stackoverflow.com/users/7940044/nivrutti-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573314931, "last_edit_date": 1573314931, "creation_date": 1549960722, "answer_id": 54645892, "question_id": 47608663, "link": "https://stackoverflow.com/questions/47608663/firebase-firestore-android-cant-deserialize-object/54645892#54645892", "title": "Firebase Firestore Android can&#39;t deserialize object", "body": "<p>I think you are using the wrong datatype in your model class.</p>\n\n<p>If your dataType is <strong>timestamp</strong> in firestore collection then use Date datatype to timestamp in your model currently you are using int.</p>\n\n<p>in Java use this.</p>\n\n<pre><code> public Date createdAt;\n public String createdBy;\n</code></pre>\n\n<p>For kotlin use this.</p>\n\n<pre><code> val timestamp: Date? = null,\n var title: String = \"\",\n var question: String = \"\",\n var category: String = \"\",\n var content: String = \"\",\n var link: String = \"\"\n</code></pre>\n"}], "owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4637, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1573314931, "creation_date": 1512223208, "question_id": 47608663, "link": "https://stackoverflow.com/questions/47608663/firebase-firestore-android-cant-deserialize-object", "title": "Firebase Firestore Android can&#39;t deserialize object", "body": "<p>I want to deserialize data from firebase firestore to a model (Foo)</p>\n\n<pre><code>data class Foo(\n        var timestamp: Int = 0,\n        var title: String = \"\",\n        var question: String = \"\",\n        var category: String = \"\",\n        var content: String = \"\",\n        var link: String = \"\"\n) {\n    fun Foo() {}\n}\n</code></pre>\n\n<p>with query like this:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(COLLECTION_NAME)\n                .orderBy(ORDER_KEY, Query.Direction.DESCENDING)\n                .limit(LIMIT)\n                .get()\n        .addOnSuccessListener { snapshot -&gt;\n            snapshot.documents.forEach {\n                println(it.data) // data print successfully\n                // got error java.lang.RuntimeException: Could not deserialize object. Failed to convert a value of type com.google.firebase.firestore.Blob to int (found in field 'timestamp')\n                val foo = it.toObject(Foo::class.java)\n            }\n        }\n</code></pre>\n\n<p>but got error <code>java.lang.RuntimeException: Could not deserialize object. Failed to convert a value of type com.google.firebase.firestore.Blob to int (found in field 'timestamp')</code></p>\n\n<p>I use firebase version <code>11.6.2</code> in my android project</p>\n\n<p>where data in firestore is like in this screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OAzf4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAzf4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea why deserialization failed?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1512223948, "post_id": 47608447, "comment_id": 82175904, "body": "put the code when you call &quot;DrinkAlcohol&quot; activity"}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "edited": false, "score": 0, "creation_date": 1512224472, "post_id": 47608447, "comment_id": 82176032, "body": "I put my answer below :)"}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1512223179, "post_id": 47608560, "comment_id": 82175691, "body": "Thank you @So&#39;n I am now back on the main page. but is there any where else I can put my return information that onCreate? I have some calculations to do, and I do <i>not</i> want they to occur the first time through.(They can&#39;t I do not have the data at that point. (BTW Java is fine, after all Kotlin &amp; Java are brothers)"}, {"owner": {"reputation": 129, "user_id": 8577928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9neDJ.jpg?s=128&g=1", "display_name": "S\u01a1n Ph\u1ea1m", "link": "https://stackoverflow.com/users/8577928/s%c6%a1n-ph%e1%ba%a1m"}, "reply_to_user": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1512224769, "post_id": 47608560, "comment_id": 82176115, "body": "as you can see the variable <code>bundle</code> is to get the data returned. The first time MainActivity is created this <code>bundle</code> will be <code>null</code>. We jsut need to check if <code>bundle!=null</code>, if its not null then you get the data and show it on your screen etc... if its null you dont have to any thing"}], "tags": [], "owner": {"reputation": 129, "user_id": 8577928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9neDJ.jpg?s=128&g=1", "display_name": "S\u01a1n Ph\u1ea1m", "link": "https://stackoverflow.com/users/8577928/s%c6%a1n-ph%e1%ba%a1m"}, "is_accepted": true, "score": 2, "last_activity_date": 1512224820, "last_edit_date": 1512224820, "creation_date": 1512222485, "answer_id": 47608560, "question_id": 47608447, "link": "https://stackoverflow.com/questions/47608447/androidsending-data-back-to-mainactivity/47608560#47608560", "title": "Android:Sending data back to MainActivity", "body": "<p><code>setResult()</code> does not move you to any other Activities.</p>\n\n<p>Instead of <code>setResult(Activity.RESULT_OK, returnIntent)</code> you should do this</p>\n\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);// If an instance of this Activity already exists, then it will be moved to the front. If an instance does NOT exist, a new instance will be created.\nstartActivity(intent);\n</code></pre>\n\n<p>And inyour MainActivity <code>onCreate()</code> you do</p>\n\n<pre><code>Bundle bundle= getIntent().getExtras();\nif(bundle !=null){\n// get your data here\n}\n</code></pre>\n\n<p>You dont need <code>onActivityResult()</code>.\nThe code is in java since i dont know kotlin, sorry :)</p>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1512225007, "post_id": 47608837, "comment_id": 82176183, "body": "that only appears to work if DrinkAlcohol returns to the calling activity. I want DrinkAlcohol to return to Main with the result. Thanks for the input though."}, {"owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "reply_to_user": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1512225080, "post_id": 47608837, "comment_id": 82176203, "body": "oh ok , so you need a nested result, do the same for your main &gt; startactivityforresult drink -&gt; startactivityforresult -&gt; drinkalcohol"}], "tags": [], "owner": {"reputation": 59214, "user_id": 666221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1VBx.jpg?s=128&g=1", "display_name": "diegoveloper", "link": "https://stackoverflow.com/users/666221/diegoveloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1512224461, "creation_date": 1512224461, "answer_id": 47608837, "question_id": 47608447, "link": "https://stackoverflow.com/questions/47608447/androidsending-data-back-to-mainactivity/47608837#47608837", "title": "Android:Sending data back to MainActivity", "body": "<p>I see your error, you need to call <code>startActivityForResult(intent, request_code)</code> instead of <code>startActivity(intent)</code> in order to receive the response in <code>onActivityResult</code> method:</p>\n\n<p>Try with this :</p>\n\n<pre><code>fun getDrinkSize(view: View){\n    val size: Double = view.getTag().toString().toDouble()\n    Toast.makeText(this, \"The Drink is $size\", Toast.LENGTH_LONG).show()\n\n    var intent = Intent(this,DrinkAlcoholActivity::class.java )\n    intent.putExtra(\"size\", size)\n    startActivityForResult(intent,RETURN_DRINK_ACTIVITY)\n}\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4923, "favorite_count": 0, "accepted_answer_id": 47608560, "answer_count": 2, "score": 1, "last_activity_date": 1512224820, "creation_date": 1512221690, "last_edit_date": 1512224175, "question_id": 47608447, "link": "https://stackoverflow.com/questions/47608447/androidsending-data-back-to-mainactivity", "title": "Android:Sending data back to MainActivity", "body": "<p>\nI have 3 Activities: Main -> Drink -> DrinkAlcohol \nI move through them in that order, but I want to take the results from DrinkAlcohol and send them to Main.</p>\n\n<p>In DrinkAlcohol I am using <em>SetResult</em> and in Main I am using <em>onActivityResult</em>. But I am stuck on the DrinkAlcohol page, what am I doing wrong?</p>\n\n\n\n<p>DrinkAlcohol XML Button</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"24dp\"\n    android:layout_marginEnd=\"24dp\"\n    android:clickable=\"true\"\n    android:onClick=\"gotoMain\"\n    app:srcCompat=\"@drawable/ic_home_black_24dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n</code></pre>\n\n<p>DrinkAlcohol gotoMain function:</p>\n\n<pre><code>fun gotoMain(view: View){\n    val radioButtonID = mRg?.checkedRadioButtonId\n    val rb = findViewById&lt;RadioButton&gt;(radioButtonID!!)\n    val checkedValue = rb.text.toString().replace(\"%\",\"\").toDouble()\n    val asu = mSize*checkedValue/60\n    logDrink(asu)\n\n    val intent = Intent(this, MainActivity::class.java)\n    val returnIntent = this.intent\n    returnIntent.putExtra(\"asu\", asu)\n    setResult(Activity.RESULT_OK, returnIntent)\n}\n</code></pre>\n\n<p>MainActivity receiving Code:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == RETURN_DRINK_ACTIVITY) {\n        if (resultCode == Activity.RESULT_OK) {\n            val asu:Double  = data!!.extras.get(\"asu\").toString().toDouble()\n            updateDailyDrinks(asu)\n            updateDailyBudget(asu)\n            updateWeeklyBudget(asu)\n            updateBAC(asu)\n\n        }\n    }\n}\n</code></pre>\n\n\n\n<p>I would expect to get the MainActivity Page which would fire off a set of Toasts, but I actually get nothing I just remain at the DrinkAlcohol Page(Activity).</p>\n\n<p>What am I missing?</p>\n\n\n\n<p>Code that calls DrinkAlcohol:</p>\n\n<pre><code>fun getDrinkSize(view: View){\n    val size: Double = view.getTag().toString().toDouble()\n    Toast.makeText(this, \"The Drink is $size\", Toast.LENGTH_LONG).show()\n\n    var intent = Intent(this,DrinkAlcoholActivity::class.java )\n    intent.putExtra(\"size\", size)\n    startActivity(intent)\n}\n</code></pre>\n"}]