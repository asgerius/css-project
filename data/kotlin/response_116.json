[{"tags": ["sql", "many-to-many", "kotlin", "ebean"], "comments": [{"owner": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490857139, "post_id": 43105747, "comment_id": 73301453, "body": "// Your class must have a no-arq constructor ... Yes the JPA spec says so but with Ebean we do not need the no-arg constructor (as Ebean mandates enhancement and effectively creates a constructor method if required as part of that enhancement process)."}, {"owner": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490857277, "post_id": 43105747, "comment_id": 73301527, "body": "That @Embeddable ... in Kotlin could/should be a &#39;data&#39; class (as it would then automatically have the hashCode/equals implementation) but I honestly haven&#39;t tried it yet to confirm that works as expected."}, {"owner": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490859923, "post_id": 43105747, "comment_id": 73303213, "body": "Ok. Gee, deleted my previous comment about those annotations not being read ... found a bug with @Size (validation and meta annotations not being read in this scenario) ... and looking into that.  Cricky!!"}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490875492, "post_id": 43105747, "comment_id": 73313828, "body": "@RobBygrave the JPA Composite Key &quot;Embeddable&quot; solution is really ugly.  Even if you ignore the annoyance of making the composite key class, you have to <i>use</i> that class everywhere you want to deal with the BookAuthor relationship.  <code>.where().eq(&quot;back&quot;, new BookAuthorCompositeKey(someBook, someAuthor))</code> and <code>myAuthor.getBookAuthors().contains(new BookAuthor(new BookAuthorCompositeKey(someBook, myAuthor)))</code>  I don&#39;t even want that functionality - I was just curious about it."}, {"owner": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490904617, "post_id": 43105747, "comment_id": 73333670, "body": "Yes agreed. We wouldn&#39;t think twice about it in sql but in the orm query the composite key is &quot;not great&quot; to deal with.  We have the Kotlin native query bean generation but even that would be a bit yuk.  Composite keys are also not great with L3 ElasticSearch integration."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 3259, "user_id": 208581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613a76ffb9081687436c7dc29d041b57?s=128&d=identicon&r=PG", "display_name": "Rob Bygrave", "link": "https://stackoverflow.com/users/208581/rob-bygrave"}, "edited": false, "score": 0, "creation_date": 1490917996, "post_id": 43105747, "comment_id": 73338791, "body": "Thanks @RobBygrave for personally responding and for eBean!  \ud83c\udf89  Adding a surrogate key to a join table could be a minor issue for existing databases, but it&#39;s a non-issue when you&#39;re generating the database.  And it works great in Java/Kotlin!  I was just surprised because the simple ManyToMany generates a beautiful join table with a composite key.  It just left me wondering why I couldn&#39;t get that when making a joining class with one additional field.  But I guess query bean generation, elastic search difficulties explain it.  Thanks!"}], "owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490875635, "creation_date": 1490828894, "last_edit_date": 1495541417, "question_id": 43105747, "link": "https://stackoverflow.com/questions/43105747/how-do-i-represent-a-join-table-with-an-extra-field-using-ebean-and-kotlin", "title": "How do I represent a join table with an extra field using eBean and Kotlin?", "body": "<p>I'm adding a field \"role\" to the book_author table from the canonical author/book many-to-many relationship example:</p>\n\n<pre><code>create table author (\n  id                            bigint auto_increment not null,\n  name                          varchar(255),\n  constraint pk_author primary key (id)\n);\n\ncreate table book (\n  id                            bigint auto_increment not null,\n  title                         varchar(255),\n  constraint pk_book primary key (id)\n);\n\ncreate table book_author (\n  book_id                       bigint not null,\n  author_id                     bigint not null,\n  role                          varchar(255),\n  constraint pk_book_author primary key (book_id,author_id)\n);\n</code></pre>\n\n<p>I can only get eBean to play nicely with this if I add a surrogate primary key (<code>id bigint auto_increment not null</code>) to the <code>book_author</code> table.  But I don't want to do that because:</p>\n\n<ul>\n<li>The combination of <code>book_id</code> and <code>author_id</code> need to be <strong><em>unique</em></strong></li>\n<li>The table needs to be <strong><em>indexed</em></strong> on <code>book_id</code> and <code>author_id</code></li>\n<li>Surrogate keys make sense as immutable unique identifiers.  In this case, the composite natural key performs the same role - If the book or author with an ID matching a record in book_author is deleted, then the book_author record should be deleted too (on delete cascade).</li>\n</ul>\n\n<p>In short, this is what a composite primary key is intended for.  In fact, if there's no <code>role</code> field on <code>book_author</code>, <a href=\"https://github.com/GlenKPeterson/One-off_Examples/wiki/2017.03.21-eBean-Kotlin-simplest-ManyToMany-association\" rel=\"nofollow noreferrer\">eBean correctly generates the table without me making any corresponding Kotlin/Java class</a>.</p>\n\n<p>Here's my best attempt at the Kotlin code (I think Java would have the same issue):</p>\n\n<pre><code>// Puts an ID field (surrogate key) on tables that extend this.\n@MappedSuperclass\nabstract class BaseModel {\n    @Id var id:Long = 0\n}\n\n@Entity\nclass Author(@Column var name: String): BaseModel() {\n    @OneToMany(mappedBy = \"authors\")\n    val books:MutableList&lt;Book&gt; = mutableListOf()\n}\n\n@Entity\nclass Book(@Column var title:String) : BaseModel() {\n    @OneToMany(mappedBy = \"book\") // mapped in both directions!\n    val authors:MutableList&lt;Author&gt; = mutableListOf()\n}\n\n// BREAKS: missing the primary key.\n// BREAKS: book.getBookAuthors() always returns zero\n// DOESNT INITIALIZE PROPERLY: ebean.find(BookAuthor.class)\n@Entity\n@Table(uniqueConstraints = arrayOf(UniqueConstraint(columnNames = arrayOf(\"book_id\", \"author_id\"))))\nclass BookAuthor(@ManyToOne @Key val book:Book,\n                 @ManyToOne @Key val author:Author) {\n    @Column var role:String = \"\"\n}\n</code></pre>\n\n<p>Here's what book_author looks like in db-create-all.sql:</p>\n\n<pre><code>create table book_author (\n  role                          varchar(255),\n  book_id                       bigint,\n  author_id                     bigint,\n  constraint uq_book_author_author_id_book_id unique (author_id,book_id)\n);\n\nalter table book_author_assoc add constraint fk_book_author_assoc_book_id foreign key (book_id) references book (id) on delete restrict on update restrict;\ncreate index ix_book_author_assoc_book_id on book_author_assoc (book_id);\n\nalter table book_author_assoc add constraint fk_book_author_assoc_author_id foreign key (author_id) references author (id) on delete restrict on update restrict;\ncreate index ix_book_author_assoc_author_id on book_author_assoc (author_id);\n</code></pre>\n\n<p>As a work-around (for similar tables), I've just made <code>BookAuthor</code> extend <code>BaseModel</code> which adds an id field to BookAuthor.  Then everything just works.  But doing that just feels wrong somehow.</p>\n\n<p>Very similar question:\n<a href=\"https://stackoverflow.com/questions/10723465/cant-create-composite-primary-key-with-foreign-key-in-play-2-0\">Can&#39;t create composite primary key with foreign key in PLAY 2.0</a></p>\n\n<p><strong>Update:</strong></p>\n\n<p>I followed a <a href=\"http://uaihebert.com/tutorial-jpa-composite-primary-key/\" rel=\"nofollow noreferrer\">JPA Composite Key Tutorial</a> and created an @Embeddable composite key class:</p>\n\n<pre><code>@Embeddable\nclass BookAuthorCompositeKey(@Column var book: Book?,\n                             @Column var author: Author?) : Serializable {\n    // Your class must have a no-arq constructor\n   constructor() : this(null, null)\n\n    override fun equals(other: Any?): Boolean =\n            (other is BookAuthorCompositeKey) &amp;&amp;\n            (aook == other.Book) &amp;&amp;\n            (author == other.Author)\n\n    override fun hashCode(): Int {\n        var ret:Int = 0\n        try { ret += book!!.hashCode() } catch (ignore:NullPointerException) { }\n        try { ret += author!!.hashCode() } catch (ignore:NullPointerException) { }\n        return ret\n    }\n}\n</code></pre>\n\n<p>Then updated BookAuthor with the new class, and added cascade all to the relationships on Book and Author:</p>\n\n<pre><code>@Entity\nclass Author(@Column var name: String): BaseModel() {\n    @OneToMany(cascade = arrayOf(CascadeType.ALL)) // CHANGED\n    val books:MutableList&lt;Book&gt; = mutableListOf()\n}\n\n@Entity\nclass Book(@Column var title:String) : BaseModel() {\n    @OneToMany(cascade = arrayOf(CascadeType.ALL)) // CHANGED\n    val authors:MutableList&lt;Author&gt; = mutableListOf()\n}\n\n@Entity\nclass BookAuthor(@EmbeddedId val back:BookAuthorCompositeKey) {\n    @Column var role:String = \"\"\n}\n</code></pre>\n\n<p>But db-create-all.sql looks even worse now - it's only got a reference to one of the tables!</p>\n\n<p>create table book_author (\n    book_id                       bigint not null,\n    role                          varchar(255)\n  );</p>\n\n<p>Hmm...  I'm starting to think that eBean requires a surrogate key.</p>\n"}, {"tags": ["pattern-matching", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1490818365, "post_id": 43103239, "comment_id": 73288143, "body": "You can also do <code>doHardThings().let { result -&gt; ... }</code> to reduce the code slightly."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1490818566, "post_id": 43103239, "comment_id": 73288235, "body": "Oh, indeed, that is a neat way to crate the variable."}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1490819717, "post_id": 43103239, "comment_id": 73288868, "body": "Oh cool - <code>let()</code> is neat, and you can omit <code>result</code> and just use <code>it</code>, which is also smart cast-able: <code>doHardThings().let { when(it) { is A -&gt; it... } }</code>"}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1490820125, "post_id": 43103239, "comment_id": 73289112, "body": "(I edited your answer to reflect that change, being more succinct, I think it&#39;s more in the spirit of my question)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1540887083, "post_id": 43103239, "comment_id": 93018372, "body": "I&#39;ve updated my answer, as there&#39;s now a language feature for this :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1540887031, "last_edit_date": 1540887031, "creation_date": 1490818320, "answer_id": 43103239, "question_id": 43102797, "link": "https://stackoverflow.com/questions/43102797/kotlin-when-local-variable-introduction/43103239#43103239", "title": "Kotlin when() local variable introduction", "body": "<p>Update: this is now possible, <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#capturing-when-subject-in-a-variable\" rel=\"nofollow noreferrer\">from Kotlin 1.3</a>. Syntax is as follows:</p>\n\n<pre><code>fun hardThings() = when (val result = doHardThings()) {\n     is OneResult -&gt; // use result\n     is OtherResult -&gt; // use result some other way\n}\n</code></pre>\n\n<hr>\n\n<p>Old answer:</p>\n\n<p>I think you'll just have to have a block body for the function and save the result of the operation to a local variable. Admittedly, this is not as neat as the Scala version.</p>\n\n<p>The intended use of <code>when</code> with <code>is</code> checks is to pass in a variable and then use that same variable inside your branches, because then if it passes a check, it gets smart cast to the type it was checked for and you can access its methods and properties easily.</p>\n\n<pre><code>fun hardThings() {\n    val result = doHardThings()\n    when(result) {\n        is OneResult -&gt;   // result smart cast to OneResult\n        is OtherResult -&gt; // result smart cast to OtherResult\n    }\n}\n</code></pre>\n\n<p>You could write some sort of wrapper around your operation somehow so that it only evaluates it once and otherwise returns the cached result, but it's probably not worth the complications that it introduces.</p>\n\n<p>Another solution for creating the variable by @mfulton26 is to use <code>let()</code>:</p>\n\n<pre><code>fun hardThings() = doHardThings().let {\n    when(it) {\n        is OneResult -&gt;   // it smart cast to OneResult\n        is OtherResult -&gt; // it smart cast to OtherResult\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1028, "favorite_count": 0, "accepted_answer_id": 43103239, "answer_count": 1, "score": 7, "last_activity_date": 1540887031, "creation_date": 1490816753, "last_edit_date": 1490819937, "question_id": 43102797, "link": "https://stackoverflow.com/questions/43102797/kotlin-when-local-variable-introduction", "title": "Kotlin when() local variable introduction", "body": "<p>Let's say I have an expensive function called <code>doHardThings()</code> which may return various different types, and I would like to take action based on the returned type. In Scala, this is a common use of the <code>match</code> construct:</p>\n\n<pre><code>def hardThings() = doHardThings() match {\n     case a: OneResult =&gt; // Do stuff with a\n     case b: OtherResult =&gt; // Do stuff with b\n}\n</code></pre>\n\n<p>I'm struggling to figure out how to do this cleanly in Kotlin without introducing a temporary variable for <code>doHardThings()</code>:</p>\n\n<pre><code>fun hardThings() = when(doHardThings()) {\n     is OneResult -&gt; // Do stuff... with what?\n     is OtherResult -&gt; // Etc...\n}\n</code></pre>\n\n<p>What is an idiomatic Kotlin pattern for this common use case?</p>\n"}, {"tags": ["rest", "maven", "typescript", "jax-rs", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 0, "last_activity_date": 1491886119, "creation_date": 1491886119, "answer_id": 43336992, "question_id": 43097743, "link": "https://stackoverflow.com/questions/43097743/kotlin-rest-to-typescript-definitions/43336992#43336992", "title": "Kotlin REST to typescript definitions", "body": "<p>You can use swagger for this purpose.</p>\n\n<p>Step 1: Write your API in swagger.yaml: <a href=\"http://editor.swagger.io/\" rel=\"nofollow noreferrer\">http://editor.swagger.io/</a></p>\n\n<p>Step 2: Generate sample swagger project for generating java from API definition: <a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen</a></p>\n\n<pre><code>java -jar swagger-codegen-cli.jar meta -o output/myLibrary -n myClientCodegen -p com.my.company.codegen\n</code></pre>\n\n<p>Step 3: Adjust generated project for generating kotlin classes.</p>\n\n<p>Repeat these steps for TypeScript (consumer part). </p>\n"}], "owner": {"reputation": 11, "user_id": 6948181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3NMxa9dlYLo/AAAAAAAAAAI/AAAAAAAAACc/Hn0EgocQV0s/photo.jpg?sz=128", "display_name": "Dominik Byd\u017eovsk&#253;", "link": "https://stackoverflow.com/users/6948181/dominik-byd%c5%beovsk%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1491886119, "creation_date": 1490801009, "question_id": 43097743, "link": "https://stackoverflow.com/questions/43097743/kotlin-rest-to-typescript-definitions", "title": "Kotlin REST to typescript definitions", "body": "<p>Hello there everybody,</p>\n\n<p>I've got a project written in Kotlin with REST api in JAX-RS.</p>\n\n<p>I wanna use maven task to generate relevant typescript API with DTOs defined.</p>\n\n<p>I found projekt <a href=\"https://github.com/raphaeljolivet/java2typescript\" rel=\"nofollow noreferrer\">https://github.com/raphaeljolivet/java2typescript</a>, which seems to be perfect for this purpose, actually it does not satisfy all needed.</p>\n\n<p>Do you know some other generators for generating REST and DTOs according to REST API?</p>\n\n<p>Thanks a lot for your help and discussion</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1490800371, "post_id": 43097461, "comment_id": 73276401, "body": "You seem to want to match a whole string with <code>\\d+</code>, but your <code>A123B</code> does not only consist of digits."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1490862432, "post_id": 43097461, "comment_id": 73304651, "body": "Just a note: if you need to match these strings in full and they consist of alphanumeric characters, you may use the <code>\\p{Alnum}+</code> pattern. Or if only uppercase letters and digits are allowed, use <code>[A-Z0-9]+</code>."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 5, "last_activity_date": 1490800786, "creation_date": 1490800786, "answer_id": 43097668, "question_id": 43097461, "link": "https://stackoverflow.com/questions/43097461/regex-doesnt-match-in-kotlin/43097668#43097668", "title": "Regex doesn&#39;t match in Kotlin", "body": "<p>You want to match an entire input with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/match-entire.html\" rel=\"noreferrer\"><code>matchEntire</code></a> and a <code>\\d+</code> pattern:</p>\n\n<blockquote>\n  <p><code>fun matchEntire(input: CharSequence): MatchResult? (source)</code><br/>\n  Attempts to match the entire input CharSequence against the pattern.\n  <br/>\n  Return An instance of MatchResult if the entire input matches or null otherwise.</p>\n</blockquote>\n\n<p>However, <code>A123B</code> does not only consist of digits. If you need to find a partial match, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find.html\" rel=\"noreferrer\"><code>find</code></a>.</p>\n"}], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2448, "favorite_count": 0, "accepted_answer_id": 43097668, "answer_count": 1, "score": 3, "last_activity_date": 1490800786, "creation_date": 1490800218, "question_id": 43097461, "link": "https://stackoverflow.com/questions/43097461/regex-doesnt-match-in-kotlin", "title": "Regex doesn&#39;t match in Kotlin", "body": "<p>I can't understand why this simple regex doesn't match anything. It always fails and throws exception:</p>\n\n<pre><code>    val match = Regex(\"\"\"\\d+\"\"\").matchEntire(\"A123B\")?: throw Exception(\"Regex fail\")\n</code></pre>\n"}, {"tags": ["wicket", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5410, "user_id": 1041336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aaa4c9f281ed2ba443a11704da4b2fa?s=128&d=identicon&r=PG", "display_name": "svenmeier", "link": "https://stackoverflow.com/users/1041336/svenmeier"}, "is_accepted": true, "score": 4, "last_activity_date": 1490796916, "creation_date": 1490796916, "answer_id": 43096109, "question_id": 43095283, "link": "https://stackoverflow.com/questions/43095283/wicket-numbertextfield-in-kotlin-throws-classcastexception-when-submitted/43096109#43096109", "title": "Wicket NumberTextField in Kotlin throws ClassCastException when submitted", "body": "<p>Because of type erasure your NumberTextField cannot detect the generic type parameter of your model. Since your model object is null, it cannot be used to derive the type either.</p>\n\n<p>In this case Wicket assumes a String model object type :/.</p>\n\n<p>Either provide the type to the NumberTextField explicitly, or use a model that keeps its generic information, e.g. a PropertyModel.</p>\n"}, {"tags": [], "owner": {"reputation": 1013, "user_id": 4506566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/490ec3c6984a8bad2aad4c08b9e15c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anna Ira Hurnaus", "link": "https://stackoverflow.com/users/4506566/anna-ira-hurnaus"}, "is_accepted": false, "score": 0, "last_activity_date": 1612183301, "creation_date": 1612183301, "answer_id": 65992912, "question_id": 43095283, "link": "https://stackoverflow.com/questions/43095283/wicket-numbertextfield-in-kotlin-throws-classcastexception-when-submitted/65992912#65992912", "title": "Wicket NumberTextField in Kotlin throws ClassCastException when submitted", "body": "<p>There is a way to tell wicket about the type you want, it is by adding the type in the constructor. More <a href=\"https://ci.apache.org/projects/wicket/apidocs/8.x/org/apache/wicket/markup/html/form/NumberTextField.html#NumberTextField-java.lang.String-org.apache.wicket.model.IModel-java.lang.Class-\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In Java it looks like this:</p>\n<pre><code>new NumberTextField&lt;Integer&gt;(&quot;housenumberModel&quot;, housenumberModel, Integer.class);\n</code></pre>\n"}], "owner": {"reputation": 5553, "user_id": 875083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be32c5c41abe85fc683eb9176376de3?s=128&d=identicon&r=PG", "display_name": "Joachim Rohde", "link": "https://stackoverflow.com/users/875083/joachim-rohde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 43096109, "answer_count": 2, "score": 2, "last_activity_date": 1612183301, "creation_date": 1490794975, "last_edit_date": 1490803038, "question_id": 43095283, "link": "https://stackoverflow.com/questions/43095283/wicket-numbertextfield-in-kotlin-throws-classcastexception-when-submitted", "title": "Wicket NumberTextField in Kotlin throws ClassCastException when submitted", "body": "<p>I'm having some issues with a Wicket (8.0.0-M4) NumberTextField in Kotlin (1.1.0).</p>\n\n<p>My stripped-down form looks like this:</p>\n\n<pre><code>class Test : AbstractWebPage() {\n\n    val housenumberModel: Model&lt;Int&gt; = Model&lt;Int&gt;()\n    val housenumber = NumberTextField&lt;Int&gt;(\"housenumberModel\", housenumberModel)\n\n    val form: Form&lt;Unit&gt; = object : Form&lt;Unit&gt;(\"adressForm\") {}\n\n    override fun onInitialize() {\n        super.onInitialize()\n\n        form.add(housenumber.setRequired(false))\n        form.add(object : SubmitLink(\"submit\") {\n            override fun onSubmit() {\n                super.onSubmit()\n                println(housenumberModel.`object`)  // this is line 28\n            }\n\n        })\n        add(form)\n    }\n\n}\n</code></pre>\n\n<p>After submitting the form I get the following stacktrace:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.lang.String cannot be cast to\n  java.lang.Number\n       at com.mycompany.test.pages.Test$onInitialize$1.onSubmit(Test.kt:28)\n       at org.apache.wicket.markup.html.form.Form.delegateSubmit(Form.java:1312)\n       at org.apache.wicket.markup.html.form.Form.process(Form.java:979)\n       at org.apache.wicket.markup.html.form.Form.onFormSubmitted(Form.java:802)\n       at org.apache.wicket.markup.html.form.Form.onRequest(Form.java:715)\n       at org.apache.wicket.core.request.handler.ListenerRequestHandler.internalInvoke(ListenerRequestHandler.java:301)\n       at org.apache.wicket.core.request.handler.ListenerRequestHandler.invoke(ListenerRequestHandler.java:250)\n       at org.apache.wicket.core.request.handler.ListenerRequestHandler.invokeListener(ListenerRequestHandler.java:210)\n       at org.apache.wicket.core.request.handler.ListenerRequestHandler.respond(ListenerRequestHandler.java:203)\n       at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:912)\n       at org.apache.wicket.request.RequestHandlerExecutor.execute(RequestHandlerExecutor.java:65)\n       at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:283)\n       at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:253)\n       at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:221)\n       at org.apache.wicket.protocol.http.WicketFilter.processRequestCycle(WicketFilter.java:262)\n       at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:204)\n       at org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:286)\n  [...]</p>\n</blockquote>\n\n<p>If I use </p>\n\n<pre><code>val housenumberModel: Model&lt;Int&gt; = Model.of(0)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>val housenumberModel: Model&lt;Int&gt; = Model&lt;Int&gt;()\n</code></pre>\n\n<p>everything works fine. But since my NumberTextField is optional I don't want to have it pre-initialized with 0.</p>\n\n<p>Me and my colleagues were trying to change the type signature of the Model in every way we could imagine but came to no solution. A co-worker suggested to write a custom Wicket converter since Kotlins Int is represendeted as a primitive type (From the docs: \"On the JVM, non-nullable values of this type are represented as values of the primitive type int.\") Even though I don't know yet if this would work it seems like an overkill for me.</p>\n\n<p>Another hack I could think of: writing some JavaScript to delete the zero from the input field. Also not really something I would want to do.</p>\n\n<p>Question: Is there a simple solution to my problem? </p>\n\n<p>(And as a bonus-question: has already anyone written a larger Wicket application in Kotlin and could tell me if this combination is ready for prime time to develop a critical project with this stack or is my problem just the tip of the iceberg?)</p>\n\n<p>[edit]</p>\n\n<p>Solution as pointed out by svenmeier:</p>\n\n<p>Using </p>\n\n<pre><code>val housenumber = NumberTextField&lt;Int&gt;(\"housenumberModel\", housenumberModel, Int::class.java) \n</code></pre>\n\n<p>works.</p>\n\n<p>Or as an alternative:</p>\n\n<pre><code>val housenumbervalue: Int?  = null\nval housenumberModel: IModel&lt;Int&gt; = PropertyModel&lt;Int&gt;(this, \"housenumbervalue\")\nval housenumber = NumberTextField&lt;Int&gt;(\"housenumberModel\", housenumberModel)\n</code></pre>\n"}, {"tags": ["arrays", "generics", "kotlin"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 1, "creation_date": 1490791570, "post_id": 43093498, "comment_id": 73268821, "body": "See: <a href=\"http://stackoverflow.com/q/529085/7079453\">How to create a generic array in Java?</a>"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1490792654, "post_id": 43093498, "comment_id": 73269715, "body": "Using an ArrayList instead of an array is a better option if you are not doing performance-critical operations."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1490793042, "post_id": 43093498, "comment_id": 73270059, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/28548647/create-generic-2d-array-in-kotlin\">Create generic 2D array in Kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1490879550, "post_id": 43098432, "comment_id": 73317004, "body": "Very true, use <code>List</code> instead of <code>Array</code> as much as possible. Arrays on JVM are outdated :("}], "tags": [], "owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "is_accepted": true, "score": 4, "last_activity_date": 1490803118, "last_edit_date": 1490803118, "creation_date": 1490802804, "answer_id": 43098432, "question_id": 43093498, "link": "https://stackoverflow.com/questions/43093498/kotlin-array-of-generics/43098432#43098432", "title": "Kotlin: Array of Generics", "body": "<p>You can just use <code>List&lt;K&gt;</code> instead, it doesn't require you to have <code>reified</code> types.</p>\n\n<p>To use generic parameters with <code>Array&lt;K&gt;</code>, you need the generic parameter to be <code>reified</code> (so that you can get it's class)</p>\n\n<p>You can't use <code>reified</code> with classes, only with functions, and the functions must be <code>inline</code></p>\n\n<p>So I'd suggest that you use a <code>class</code> as late as possible, with concrete or non-<code>reified</code> generic types.</p>\n\n<p>Meanwhile, you can use functions like these</p>\n\n<pre><code>inline fun &lt;reified K : Comparable&lt;K&gt;&gt; computeKeys(t: Int): Array&lt;K?&gt; =\n    Array(t * 2 - 1) { null }\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 7329781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92251f1c532ae10fd9a214a46cd9b49f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Ostrouhhov", "link": "https://stackoverflow.com/users/7329781/anton-ostrouhhov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 0, "accepted_answer_id": 43098432, "answer_count": 1, "score": 3, "last_activity_date": 1490881173, "creation_date": 1490790415, "last_edit_date": 1490881173, "question_id": 43093498, "link": "https://stackoverflow.com/questions/43093498/kotlin-array-of-generics", "title": "Kotlin: Array of Generics", "body": "<p>I'm writing a B-tree, which may have many keys in one node, and I have encountered a problem. When I create an array of <strong>Ints</strong> everything works fine:</p>\n\n<pre><code>class Node&lt;K: Comparable&lt;K&gt;&gt; (val t: Int) {\n    val keys: Array&lt;Int?&gt; = Array&lt;Int?&gt; (t*2-1, {null})\n}\n</code></pre>\n\n<p>But I want to create an array of Generics <strong>Ks</strong>:</p>\n\n<pre><code>class Node&lt;K: Comparable&lt;K&gt;&gt; (val t: Int) {\n    val keys : Array&lt;K?&gt; = Array&lt;K?&gt; (t*2-1, {null})\n}\n</code></pre>\n\n<p>In this case compiler throws this error message:</p>\n\n<pre><code>'Kotlin: Cannot use 'K' as reified type parameter. Use a class instead.'\n</code></pre>\n\n<p>The question is <strong>How to create an array of Generics?</strong></p>\n\n<p><strong>UPD:</strong> Thx for all the replies! It seems that <em>MutableList</em> is nice solution for my objective.</p>\n"}, {"tags": ["kotlin", "setter"], "answers": [{"tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": true, "score": 4, "last_activity_date": 1490772761, "last_edit_date": 1490772761, "creation_date": 1490772303, "answer_id": 43087005, "question_id": 43086327, "link": "https://stackoverflow.com/questions/43086327/setter-overloading-in-kotlin/43087005#43087005", "title": "Setter overloading in Kotlin", "body": "<p>As of Kotlin 1.1 it is not possible to overload property setters. The feature request is tracked here:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-4075\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-4075</a></p>\n\n<p>Currently, you would have to define a <code>buffer</code> extension function on <code>String</code>: </p>\n\n<pre><code>val String.buffer : Buffer\n    get() = Buffer(this) \n</code></pre>\n\n<p>and set the value with </p>\n\n<pre><code>Foo().buffer = \"123\".buffer\n</code></pre>\n"}], "owner": {"reputation": 6535, "user_id": 804138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/813bef5c16481022c426d80bd65e331c?s=128&d=identicon&r=PG", "display_name": "Basel Shishani", "link": "https://stackoverflow.com/users/804138/basel-shishani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1699, "favorite_count": 0, "accepted_answer_id": 43087005, "answer_count": 1, "score": 6, "last_activity_date": 1490772761, "creation_date": 1490770271, "question_id": 43086327, "link": "https://stackoverflow.com/questions/43086327/setter-overloading-in-kotlin", "title": "Setter overloading in Kotlin", "body": "<p>When trying to define a setter that accepts a parameter type that can be used to construct a property, thusly:</p>\n\n<pre><code>class Buffer(buf: String) {}\n\nclass Foo {\n    var buffer: Buffer? = null\n        set(value: String) {\n            field = Buffer(value)\n        }\n}\n</code></pre>\n\n<p>I get the error message: </p>\n\n<blockquote>\n  <p>Setter parameter type must be equal to the type of the property</p>\n</blockquote>\n\n<p>So what's meant to be the Kotlin way of doing this?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "bytecode", "decompiling"], "answers": [{"comments": [{"owner": {"reputation": 33471, "user_id": 1420279, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c799e8b3d14c4f149ce71455109f17eb?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1420279/antimony"}, "edited": false, "score": 5, "creation_date": 1490760440, "post_id": 43075389, "comment_id": 73250850, "body": "Also note that this isn&#39;t just a matter of a bad decompiler - the bytecode in question is literally impossible to turn into valid Java without affecting semantics in some way."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 7, "last_activity_date": 1490719724, "creation_date": 1490719724, "answer_id": 43075389, "question_id": 43075242, "link": "https://stackoverflow.com/questions/43075242/kotlin-decompiler-generates-erroneous-code-is-it-possible-to-prevent/43075389#43075389", "title": "Kotlin Decompiler generates erroneous code - Is it possible to prevent?", "body": "<p>No. The Java decompiler in IntelliJ IDEA is designed for decompiling Java source code. The Kotlin compiler generates different bytecode patterns from the Java compiler, so the Java decompiler does not always produce output which is valid Java code.</p>\n"}], "owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "accepted_answer_id": 43075389, "answer_count": 1, "score": 0, "last_activity_date": 1490719724, "creation_date": 1490719306, "last_edit_date": 1592644375, "question_id": 43075242, "link": "https://stackoverflow.com/questions/43075242/kotlin-decompiler-generates-erroneous-code-is-it-possible-to-prevent", "title": "Kotlin Decompiler generates erroneous code - Is it possible to prevent?", "body": "<pre><code>class CheckInventory(target: Target) : Command(target) {\n\n}\n</code></pre>\n<p>When decompiling the above Kotlin code using the IntelliJ's &quot;<em>Show Kotlin bytecode</em>&quot; option, it keeps generating a statement above the <code>super()</code> call:</p>\n<pre><code>class CheckInventory extends Command {\n    public CheckInventory(Target target) {\n        Intrinsic.checkParameterIsNotNull(target, &quot;target&quot;);\n        super(target); //error, must be first call\n    }\n}\n</code></pre>\n<p>There are a few other issues, such as generating top-level classes with an access modifier for WhenMapping:</p>\n<pre><code>public class MyClass {\n\n}\n\npublic final class MyClass$WhenMappings { //error, shouldn't be public\n\n}\n</code></pre>\n<p>I checked for both Kotlin and IntelliJ updates, and I'm using the latest version for both.</p>\n<p>At first I thought it may had to do with poorly written Kotlin code, but even the simplest code files seem to require some sort of check/generation that's illegal in Java.</p>\n<h1>Question</h1>\n<p>Is there any way to ensure the decompilation process stays within bounds of the Java language rules?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7779889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5612dc034a705b2c7e3974bcf80aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Goussein Minkailov", "link": "https://stackoverflow.com/users/7779889/goussein-minkailov"}, "edited": false, "score": 0, "creation_date": 1491998799, "post_id": 43071042, "comment_id": 73799792, "body": "Thank you for your reply. it is very helpful."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 7, "last_activity_date": 1490720323, "last_edit_date": 1490720323, "creation_date": 1490707966, "answer_id": 43071042, "question_id": 43069979, "link": "https://stackoverflow.com/questions/43069979/why-someclassclass-is-kclasssomeclass-but-thisclass-is-kclassout-someclas/43071042#43071042", "title": "why SomeClass::class is KClass&lt;SomeClass&gt; but this::class is KClass&lt;out SomeClass&gt;", "body": "<p>The reason for this difference is that, when you use the <code>SomeClass::class</code> reference, it is sure to be the class token representing <code>SomeClass</code> and not one of its possible derived classes, therefore it is <code>KClass&lt;SomeClass&gt;</code> without type projections.</p>\n\n<p>But <code>this::class</code> written in a function of an <code>open</code> or <code>abstract</code> class or an extension function can return a class token of a derived class, therefore, to ensure type safety, the <a href=\"http://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\">type is <code>out</code>-projected</a>: <code>KClass&lt;out SomeClass&gt;</code> means that the actual type argument can be <code>SomeClass</code> or its subtype.</p>\n\n<p>Example:</p>\n\n<pre><code>open class A {\n    fun f() {\n        println(this::class) // KClass&lt;out A&gt; because it can be KClass&lt;B&gt;\n    }\n}\n\nclass B : A()\n\nB().f()\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7779889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5612dc034a705b2c7e3974bcf80aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Goussein Minkailov", "link": "https://stackoverflow.com/users/7779889/goussein-minkailov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1490720323, "creation_date": 1490705078, "question_id": 43069979, "link": "https://stackoverflow.com/questions/43069979/why-someclassclass-is-kclasssomeclass-but-thisclass-is-kclassout-someclas", "title": "why SomeClass::class is KClass&lt;SomeClass&gt; but this::class is KClass&lt;out SomeClass&gt;", "body": "<p>I want to print values of properties of my class.</p>\n\n<pre><code>fun print() {\n    val cl = this::class\n    cl.declaredMemberProperties.filter {it.visibility != KVisibility.PRIVATE}.forEach {\n        println(\"${it.name} = ${it.get(this)}\")\n    }\n}\n</code></pre>\n\n<p>When I try to build this code I get compiler error:</p>\n\n<pre><code>Error:(34, 40) Kotlin: Out-projected type 'KProperty1&lt;out SomeClass, Any?&gt;' prohibits the use of 'public abstract fun get(receiver: T): R defined in kotlin.reflect.KProperty1'\n</code></pre>\n\n<p>When I change <code>this</code> to class name <code>SomeClass</code> everything is fine</p>\n\n<pre><code>fun print() {\n    val cl = SomeClass::class\n    cl.declaredMemberProperties.filter {it.visibility != KVisibility.PRIVATE}.forEach {\n        println(\"${it.name} = ${it.get(this)}\")\n    }\n}\n</code></pre>\n\n<p>So the problem is that compiler changers type of <code>this::class</code> to <code>KClass&lt;out SomeClass&gt;</code> instead of using <code>KClass&lt;SomeClass&gt;</code>. Any idea why does it happen?</p>\n"}, {"tags": ["realm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1491564574, "post_id": 43068047, "comment_id": 73621752, "body": "So Realm will never call the setter?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1491578669, "post_id": 43068047, "comment_id": 73631701, "body": "I believe it won&#39;t."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1490702253, "last_edit_date": 1490702253, "creation_date": 1490699575, "answer_id": 43068047, "question_id": 43066612, "link": "https://stackoverflow.com/questions/43066612/realm-call-setter/43068047#43068047", "title": "Realm call setter", "body": "<p>I've tried this with Kotlin 1.1.1 and Realm 3.0.0, and it doesn't call the custom setter, it assigns the value in some other way (which means that it even works if your custom setter is empty, which is a bit unexpected).</p>\n\n<p><strong>Edit:</strong> Looked at the generated code and the debugger.</p>\n\n<p>When you're using an object that's connected to Realm, it's an instance of a proxy class that's a subclass of the class that you're using in your code. When you're reading properties of this instance, the call to the getter goes down to native calls to access the stored value that's on disk, inside Realm.</p>\n\n<p>Similarly, calling the setter eventually gets to native calls to set the appropriate values. This explains why the setter doesn't get called: Realm doesn't need to call the setter, because it doesn't load the values into memory eagerly, the proxy is just pointing into the real data in Realm, and whenever you read that value, it will read it from there.</p>\n\n<p>As for how this relates to Kotlin code, the calls to the proxy's setter and getter that access the data inside Realm happen whenever you use the <code>field</code> keyword (for the most part).</p>\n\n<pre><code>var Name: String = \"\"\n    get() {\n        return field // this calls `String realmGet$Name()` on the proxy\n    }\n    set(value) {\n        field = value // this calls `void realmSet$Name(String value)` on the proxy\n    }\n</code></pre>\n"}], "owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 43068047, "answer_count": 1, "score": 0, "last_activity_date": 1490702253, "creation_date": 1490695562, "last_edit_date": 1490698946, "question_id": 43066612, "link": "https://stackoverflow.com/questions/43066612/realm-call-setter", "title": "Realm call setter", "body": "<p>I'm using realm as database and kotlin as language.<br>\nI implemented my custom setter method for a property. </p>\n\n<p>Does Realm call this setter somehow?</p>\n\n<p>For example:</p>\n\n<pre><code>open class Human(): RealmObject()\n{\n    open var Name: String = \"\"\n    set(value) \n    {\n       setName(value)\n    }\n}\n</code></pre>\n\n<p>Now I also have a property <code>changeDate</code> and it would be nice if I can set the <code>changeDate</code> automatically in the <code>setName</code>to new actual day.</p>\n\n<p>But I can't do this if Realm calls this method also.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1490700594, "post_id": 43066437, "comment_id": 73220007, "body": "I think you can fix it by adding <code>Unit</code> after the last line in your lambda. It complains because the <code>result = ...</code> assignment is not of type <code>Any</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1490704836, "post_id": 43069487, "comment_id": 73222962, "body": "Yes, I&#39;d like to return <code>this</code> from <code>run</code> because so I can concatenate different <code>block()</code>s in <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut07/worldScene.kt#L191\" rel=\"nofollow noreferrer\">this way</a>, for example. Anyway, I&#39;ll try the <code>-&gt; Unit</code>"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 1, "creation_date": 1490705810, "post_id": 43069487, "comment_id": 73223652, "body": "Then I&#39;d argue to use the name <code>apply</code> instead to be consistent with the standard library. <code>run</code> in stdlib runs the block on the receiver and returns the result of block. <code>apply</code> instead runs the block on the receiver and returns the receiver"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1490713267, "post_id": 43069487, "comment_id": 73229637, "body": "Thanks for the suggestion, dude, I&#39;ll do it"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1490713421, "post_id": 43069487, "comment_id": 73229763, "body": "Even better, I&#39;ll implement both, <code>run</code> and <code>apply</code> :p"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 1, "last_activity_date": 1490704145, "last_edit_date": 1490704145, "creation_date": 1490703822, "answer_id": 43069487, "question_id": 43066437, "link": "https://stackoverflow.com/questions/43066437/kotlin-high-order-function-trouble/43069487#43069487", "title": "Kotlin, high-order function trouble", "body": "<p>If you use a <code>return</code> inside <code>run { }</code> and this infix function is inlined, then you return from <code>getSphereOrbitPos</code> before <code>pop()</code> is called, so don't do that.</p>\n\n<p>And the signature of block is <code>MatrixStack.() -&gt; Any</code>, so your block has to return something. You are not using the result of <code>block</code> inside <code>run</code>, so you could change <code>MatrixStack.() -&gt; Any</code> to <code>MatrixStack.() -&gt; Unit</code> and therefore don't expect any return value from <code>block</code></p>\n\n<p>Another question is, is there a particular reason to return <code>this</code> from <code>run</code> always?\nIf you need to return an intermediate value and still call <code>push()</code> and <code>pop()</code>, you can change your function to</p>\n\n<pre><code>infix inline fun &lt;T&gt; run(block: MatrixStack.() -&gt; T): T {\n    pop()\n    val result = block()\n    push()\n\n    return result\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 43069487, "answer_count": 1, "score": 0, "last_activity_date": 1490704145, "creation_date": 1490695143, "last_edit_date": 1490703273, "question_id": 43066437, "link": "https://stackoverflow.com/questions/43066437/kotlin-high-order-function-trouble", "title": "Kotlin, high-order function trouble", "body": "<p>I have the <a href=\"https://github.com/kotlin-graphics/uno-sdk/blob/master/src/main/kotlin/uno/glm/MatrixStack.kt#L248-L253\" rel=\"nofollow noreferrer\">following HO function</a> on <code>MatrixStack</code></p>\n\n<pre><code>inline infix fun run(block: MatrixStack.() -&gt; Any): MatrixStack {\n    push()\n    block()\n    pop()\n    return this\n}\n</code></pre>\n\n<p>And somewhere else, I have a method where I am trying to return the intermediate result calculated in <code>block()</code></p>\n\n<pre><code>fun getSphereOrbitPos(modelMatrix: MatrixStack, orbitCenter: Vec3, orbitAxis: Vec3, orbitRadius: Float, orbitAlpha: Float): Vec3 {\n\n    modelMatrix run {\n\n        translate(orbitCenter)\n        rotate(orbitAxis, 360.0f * orbitAlpha)\n\n        var offsetDir = orbitAxis cross Vec3(0.0f, 1.0f, 0.0f)\n        if (offsetDir.length() &lt; 0.001f)\n            offsetDir = orbitAxis cross Vec3(1.0f, 0.0f, 0.0f)\n\n        offsetDir.normalize_()\n\n        translate(offsetDir * orbitRadius)\n\n        // this is what I'd like to return, top() = MatrixStack.top()\n        return (top() * Vec4(0.0f, 0.0f, 0.0f, 1.0f)).toVec3()\n    }\n} // return error\n</code></pre>\n\n<p>if I declare an external variable</p>\n\n<pre><code>fun getSphereOrbitPos(..): Vec3 {\n\n    var result =  Vec3()\n\n    modelMatrix run {\n        ..\n        result = (top() * Vec4(0.0f, 0.0f, 0.0f, 1.0f)).toVec3() // error\n    }\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Expected a value of type Any</p>\n</blockquote>\n\n<p>Is there a way I can obtain what I want by using <code>MatrixStack.run{ }</code>? (because the alternative is to manually call <code>push()</code>, <code>block()</code> and <code>pop()</code>)</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1490686823, "post_id": 43062029, "comment_id": 73210730, "body": "Did you specify the version, as described in the reference?  <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/using-gradle.html</a>"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1490707177, "post_id": 43062029, "comment_id": 73224741, "body": "yes I did this."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1490762076, "post_id": 43062029, "comment_id": 73251313, "body": "Why wouldn&#39;t you post your <code>build.gradle</code>?"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1492019333, "post_id": 43062029, "comment_id": 73814854, "body": "Because I did not see the reason to - this is the issue btw: <a href=\"https://youtrack.jetbrains.com/issue/KT-17125\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17125</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "is_accepted": true, "score": 10, "last_activity_date": 1490882731, "last_edit_date": 1490882731, "creation_date": 1490881833, "answer_id": 43119876, "question_id": 43062029, "link": "https://stackoverflow.com/questions/43062029/failed-to-apply-plugin-id-kotlin-for-input-string/43119876#43119876", "title": "&gt; Failed to apply plugin [id &#39;kotlin&#39;] &gt; For input string: &quot;&quot;", "body": "<p>I had this problem, and found that deleting the <code>build</code> folder and then rerunning the build fixed it.</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 2712372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27fefdae97a4cc09b58875d16d88d235?s=128&d=identicon&r=PG&f=1", "display_name": "kostya17", "link": "https://stackoverflow.com/users/2712372/kostya17"}, "is_accepted": false, "score": 0, "last_activity_date": 1496390900, "creation_date": 1496390900, "answer_id": 44323868, "question_id": 43062029, "link": "https://stackoverflow.com/questions/43062029/failed-to-apply-plugin-id-kotlin-for-input-string/44323868#44323868", "title": "&gt; Failed to apply plugin [id &#39;kotlin&#39;] &gt; For input string: &quot;&quot;", "body": "<p>Try: <br>\n1. Build -> Clean/Rebuild project<br>\n2. File -> Invalidate Caches<br>\n3. As Martin answered - remove <strong>build</strong> folder from root of your project.</p>\n"}, {"tags": [], "owner": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "is_accepted": false, "score": 0, "last_activity_date": 1548353289, "creation_date": 1548353289, "answer_id": 54352925, "question_id": 43062029, "link": "https://stackoverflow.com/questions/43062029/failed-to-apply-plugin-id-kotlin-for-input-string/54352925#54352925", "title": "&gt; Failed to apply plugin [id &#39;kotlin&#39;] &gt; For input string: &quot;&quot;", "body": "<p>May not be applicable to your specific case, but I will just say for my part, I was seeing this same issue while I had my java home set to 1.7 in my CLI </p>\n\n<p>Setting it back to 1.8 cleared it up lickity split. SDKMan having Java now is both super convenient but also covertly confusing if you're not careful lol</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5683, "favorite_count": 0, "accepted_answer_id": 43119876, "answer_count": 3, "score": 4, "last_activity_date": 1548353289, "creation_date": 1490682265, "last_edit_date": 1490707307, "question_id": 43062029, "link": "https://stackoverflow.com/questions/43062029/failed-to-apply-plugin-id-kotlin-for-input-string", "title": "&gt; Failed to apply plugin [id &#39;kotlin&#39;] &gt; For input string: &quot;&quot;", "body": "<p>I am currently getting a strange error running a gradle-script on one computer (the same worked there already and still works on another computer) Looks like some cache problem - but deleting .gradle did not help and I do not know how to delete the other one\nFAILURE: Build failed with an exception.</p>\n\n<pre><code>\u279c  kontinuum git:(ligi_wip2) \u2717 ./gradlew clean run --stacktrace\nParallel execution is an incubating feature.\n\n* Where:\nBuild file '/home/ligi/kontinuum/build.gradle' line: 15\n\n* What went wrong:\nA problem occurred evaluating root project 'kontinuum'.\n&gt; Failed to apply plugin [id 'kotlin']\n   &gt; For input string: \"\"\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'kontinuum'.\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:92)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl$2.run(DefaultScriptPluginFactory.java:176)\n        at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:77)\n        at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:181)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:39)\n        at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n        at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:70)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.access$000(LifecycleProjectEvaluator.java:33)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$1.execute(LifecycleProjectEvaluator.java:53)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator$1.execute(LifecycleProjectEvaluator.java:50)\n        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:61)\n        at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:599)\n        at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:125)\n        at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n        at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:60)\n        at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuildAction.execute(DefaultGradleLauncher.java:233)\n        at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuildAction.execute(DefaultGradleLauncher.java:230)\n        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:160)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:119)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:102)\n        at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:71)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:49)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:31)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin [id 'kotlin']\n        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:155)\n        at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:112)\n        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:113)\n        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:36)\n        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:80)\n        at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:136)\n        at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:44)\n        at org.gradle.api.internal.project.ProjectScript.apply(ProjectScript.java:34)\n        at org.gradle.api.Script$apply$0.callCurrent(Unknown Source)\n        at build_59bsa4g28e7wfd7hj9y0560h5.run(/home/ligi/kontinuum/build.gradle:15)\n        at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:90)\n        ... 62 more\nCaused by: java.lang.NumberFormatException: For input string: \"\"\n        at org.jetbrains.kotlin.incremental.CacheVersion.getActualVersion(CacheVersion.kt:44)\n        at org.jetbrains.kotlin.incremental.CacheVersion.checkVersion(CacheVersion.kt:57)\n        at org.jetbrains.kotlin.incremental.BuildCacheStorage.&lt;init&gt;(BuildCacheStorage.kt:83)\n        at org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices.&lt;init&gt;(KotlinGradleBuildServices.kt:68)\n        at org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices.&lt;init&gt;(KotlinGradleBuildServices.kt:34)\n        at org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices$Companion.getInstance(KotlinGradleBuildServices.kt:54)\n        at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:41)\n        at org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper.apply(KotlinPluginWrapper.kt:34)\n        at org.gradle.api.internal.plugins.ImperativeOnlyPluginApplicator.applyImperative(ImperativeOnlyPluginApplicator.java:35)\n        at org.gradle.api.internal.plugins.RuleBasedPluginApplicator.applyImperative(RuleBasedPluginApplicator.java:43)\n        at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:139)\n        ... 72 more\n</code></pre>\n\n<p>EDIT: \n * rm -rf .gradle did not help\n * executing it with another user works fine.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1490687871, "post_id": 43060146, "comment_id": 73211397, "body": "This works perfectly, thank you. In fact, once putting in Nothing, IntelliJ helped me convert it to the more succinct lambda version: <code>Generic&lt;Any, Nothing&gt; { ... }</code>"}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1490688007, "post_id": 43060146, "comment_id": 73211493, "body": "Er, just ran into a problem with this. I have another method that accepts something along the lines if <code>Generic&lt;T, ? super Generic&lt;T&gt;&gt;</code> which the Nothing doesn&#39;t work with..."}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1490688296, "post_id": 43060146, "comment_id": 73211678, "body": "So, I solved that with an explicit cast, which is reasonable enough, since I&#39;m eschewing type safety intentionally."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1490671663, "creation_date": 1490671663, "answer_id": 43060146, "question_id": 43058438, "link": "https://stackoverflow.com/questions/43058438/kotlin-object-literal-implementing-wild-carded-self-referencing-generic-interfa/43060146#43060146", "title": "Kotlin object literal implementing wild-carded, self-referencing generic interface", "body": "<p>Star projections are particularly useful when <strong>consuming</strong> generic interfaces and rarely when defining the implementations. (Similarly to Java's <code>?</code>).</p>\n\n<p>To be able to define an <code>object</code> that implements <code>Generic</code> you need to provide type arguments that satisfy the constraints. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"nofollow noreferrer\"><code>Nothing</code></a> in particular is the subtype of all Kotlin types so you can write:</p>\n\n<pre><code>val v = object : Generic&lt;Any, Nothing&gt; {\n    override fun stuff(x: Any) {\n        doSomethingThatDoesntCareAboutTypes()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1595, "user_id": 2522630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a920075e7b5b23e6dfb1902ca8dd229?s=128&d=identicon&r=PG", "display_name": "nickrak", "link": "https://stackoverflow.com/users/2522630/nickrak"}, "is_accepted": false, "score": 0, "last_activity_date": 1490672338, "creation_date": 1490672338, "answer_id": 43060244, "question_id": 43058438, "link": "https://stackoverflow.com/questions/43058438/kotlin-object-literal-implementing-wild-carded-self-referencing-generic-interfa/43060244#43060244", "title": "Kotlin object literal implementing wild-carded, self-referencing generic interface", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n\n<p>According to the documentation, the star-projection on an invariant type such as V in your example resolves to . If the T parameter wasn't self-referencing you could use:</p>\n\n<pre><code>object : Generic&lt;Any, Any&gt; {}\n</code></pre>\n\n<p>Since T is self referencing you'll need to actually define a named class for T to reference.</p>\n\n<pre><code>class Test {\n    val v2 : Generic&lt;*, *&gt;\n\n    init {\n        class Impl: Generic&lt;Any, Impl&gt; {\n            override fun stuff(x: Any) {\n                // ...\n            }\n        }\n\n        v2 = Impl()\n    }\n}\n</code></pre>\n\n<p>Another posibility would be to create an interface that resolves the self-referencing generic for you.</p>\n\n<pre><code>interface SelfRef&lt;V&gt; : Generic&lt;V, SelfRef&lt;V&gt;&gt;\n\nclass Test2 {\n    val v = object: SelfRef&lt;Any&gt; {\n        override fun stuff(x: Any) {\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 43060146, "answer_count": 2, "score": 2, "last_activity_date": 1490672338, "creation_date": 1490659409, "question_id": 43058438, "link": "https://stackoverflow.com/questions/43058438/kotlin-object-literal-implementing-wild-carded-self-referencing-generic-interfa", "title": "Kotlin object literal implementing wild-carded, self-referencing generic interface", "body": "<p>I have an interface (in Java) that takes a self-referencing generic argument, and I would like to create an object literal in Kotlin that implements it. In Java, I do this by not including the generic types (unsafe), but I cannot figure out how to do it in Kotlin.</p>\n\n<p>Here is an example in just Kotlin, though in my case the interface is in Java.</p>\n\n<pre><code>interface Generic&lt;V, T : Generic&lt;V, T&gt;&gt; {\n    fun stuff(x: V)\n}\n\nclass Test {\n    // In Java I would write new Generic() { ... }\n    val v = object : Generic&lt;*, *&gt; {\n        override fun stuff(x: Object) {\n            doSomethingThatDoesntCareAboutTypes()\n        }\n    }\n}\n</code></pre>\n\n<p>What I would like to be able to do is something like this, but it doesn't work:</p>\n\n<pre><code>val v = object&lt;T : Generic&lt;*, T&gt;&gt; : T {\n    override fun stuff(x: Object) {\n        doSomethingThatDoesntCareAboutTypes()\n    }\n}\n</code></pre>\n\n<p>How can I do something similar to this without having to change the interface, which is in a different module and can't easily be changed?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1490647501, "post_id": 43056125, "comment_id": 73196761, "body": "You need to rethink what you&#39;re trying to do from the ground up.  Your approach is totally wrong.   Androiud works on the idea of touch capture-  the first view to respond and claim an event owns all the subsequent events for that touch, with a complicated override system for parents.  What you&#39;re trying to do will never work."}, {"owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1490647703, "post_id": 43056125, "comment_id": 73196867, "body": "Well, I was afraid of this. My final goal is to log all events (and their position) in a View. I tried by creating a custom View which logs the events, but it doesn&#39;t work if the user does a gesture on an interactive component (Button, EditText...). Do you have a solution to Log even in View childs without modifying the components code ?"}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 1, "creation_date": 1490648047, "post_id": 43056125, "comment_id": 73197052, "body": "On the root view, override onInterceptTouchEvent to do it, and always return false.  That should work, but I won&#39;t promise you won&#39;t see weird interactions with any view that scrolls or moves.  You won&#39;t be able to do it from a Service or another app."}, {"owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1490652615, "post_id": 43056125, "comment_id": 73198923, "body": "Thanks for your help, you put me in the good way ! the method to be used by root view was dispatchTouchEvent instead of onInterceptTouchEvent, but now it works well !"}], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "is_accepted": false, "score": 0, "last_activity_date": 1490652711, "last_edit_date": 1495541380, "creation_date": 1490652711, "answer_id": 43057327, "question_id": 43056125, "link": "https://stackoverflow.com/questions/43056125/android-prevent-view-from-consumming-events/43057327#43057327", "title": "Android prevent View from consumming events", "body": "<p>What I wanted to achieve is not possible using a <code>Service()</code>.</p>\n\n<p>Instead, I used a custom root View and implemented <code>dispatchTouchEvent()</code> </p>\n\n<p>Source of this response here : <a href=\"https://stackoverflow.com/questions/13283827/onintercepttouchevent-only-gets-action-down\">onInterceptTouchEvent only gets ACTION_DOWN</a></p>\n"}], "owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529312520, "creation_date": 1490647322, "last_edit_date": 1529312520, "question_id": 43056125, "link": "https://stackoverflow.com/questions/43056125/android-prevent-view-from-consumming-events", "title": "Android prevent View from consumming events", "body": "<p>I'm trying to create a View that will be used to Log all <code>MotionEvent</code>.\nThis View is in a <code>Service()</code> which is linked to the App from where I need the events to be logged.</p>\n\n<p>My problem is that when this View comes on top of the App, as needed, all the events are consumed in this View.</p>\n\n<p>Is there a way to prevent this View to consume the event, and let the View on the back to consume it ?</p>\n\n<p>Here is the code of the <code>Service()</code></p>\n\n<pre><code>class GestureTrackViewService : Service(), View.OnTouchListener {\n\n    var mWindowManager: WindowManager? = null\n    var mDummyView: LinearLayout? = null\n\n    override fun onBind(p0: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        val params = WindowManager.LayoutParams(\n                1080, /* width */\n                1920, /* height */\n                WindowManager.LayoutParams.TYPE_PHONE,\n                WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE or\n                        WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL or\n                        WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH,\n                PixelFormat.TRANSPARENT)\n        params.gravity = Gravity.START or Gravity.TOP\n        mDummyView!!.isFocusable = false\n        mDummyView!!.isClickable = false\n        mWindowManager!!.addView(mDummyView, params)\n        return super.onStartCommand(intent, flags, startId)\n    }\n\n    override fun onCreate() {\n        mWindowManager = getSystemService(Context.WINDOW_SERVICE) as WindowManager\n        mDummyView = LinearLayout(this)\n        val params = WindowManager.LayoutParams(1, WindowManager.LayoutParams.MATCH_PARENT)\n        mDummyView!!.layoutParams = params\n        mDummyView!!.setOnTouchListener(this)\n\n        super.onCreate()\n    }\n\n    override fun onTouch(p0: View, p1: MotionEvent): Boolean {\n        Log.e(\"SERVICE\", \"X: ${p1.rawX} || Y: ${p1.rawY}\")\n        mDummyView!!.requestDisallowInterceptTouchEvent(false)\n        return false\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1490630956, "creation_date": 1490630956, "answer_id": 43051381, "question_id": 43051196, "link": "https://stackoverflow.com/questions/43051196/how-to-destruct-a-constructor-in-kotlin/43051381#43051381", "title": "How to destruct a constructor in Kotlin", "body": "<p>In order to destructure an object, you need to define methods on it that are of the following form (where <code>X</code> is a number starting at 1 and the return type can be whatever you wish to return):</p>\n\n<pre><code>operator fun componentX(): Any {}\n</code></pre>\n\n<p>To do something similar to what's in your question, you could save the parameters you've constructed the class with to properties, and then the <code>component</code> methods can use those properties:</p>\n\n<pre><code>class SetAndListMaker(val i: Int, val s: String) {\n\n    operator fun component1() = setOf(i, s)\n\n    operator fun component2() = listOf(i, s)\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val (set, list) = SetAndListMaker(25, \"dog\")\n}\n</code></pre>\n\n<p>This main function is no different from this one, of course:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val setAndListMaker = SetAndListMaker(25, \"dog\")\n    val (set, list) = setAndListMaker\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"noreferrer\">And here's the official documentation about destructuring declarations.</a></p>\n"}], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 1, "accepted_answer_id": 43051381, "answer_count": 1, "score": 1, "last_activity_date": 1490630956, "creation_date": 1490630427, "question_id": 43051196, "link": "https://stackoverflow.com/questions/43051196/how-to-destruct-a-constructor-in-kotlin", "title": "How to destruct a constructor in Kotlin", "body": "<p>How can I write a class in Kotlin in such a way, so that I can destruct it upon initialization, something like:</p>\n\n<pre><code>val (set, list, map) = CollectionsGenerator(arg1, arg2)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 28612, "user_id": 5025116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7WdYi.jpg?s=128&g=1", "display_name": "Sebastian Palma", "link": "https://stackoverflow.com/users/5025116/sebastian-palma"}, "edited": false, "score": 0, "creation_date": 1490624849, "post_id": 43048846, "comment_id": 73182547, "body": "Maybe <code>tailrec fun C(n: Int): Int = if (n == 0) 1 else for (item in collection) print(item)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "edited": false, "score": 0, "creation_date": 1490628501, "post_id": 43050238, "comment_id": 73185186, "body": "Brilliant. That&#39;s exactly what I was searcing for: (0..n - 1).sumBy{}. Thanks."}, {"owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "edited": false, "score": 3, "creation_date": 1490633033, "post_id": 43050238, "comment_id": 73188252, "body": "An alternative to <code>(0..n - 1)</code> is <code>(0 until n)</code>."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "edited": false, "score": 1, "creation_date": 1490643833, "post_id": 43050238, "comment_id": 73194796, "body": "Good point @fredoverflow. I&#39;ve my updated the answer. Thank you."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 4, "last_activity_date": 1490643788, "last_edit_date": 1495542327, "creation_date": 1490627749, "answer_id": 43050238, "question_id": 43048846, "link": "https://stackoverflow.com/questions/43048846/writing-simple-for-loop-in-1-line-in-kotlin/43050238#43050238", "title": "Writing simple for loop in 1 line in Kotlin", "body": "<p>You can copy your Java code into IntelliJ IDEA which can convert it to Kotlin code, you can then change <code>0..n - 1</code> to <code>0 until n</code> (thanks <a href=\"https://stackoverflow.com/users/252000/fredoverflow\">fredoverflow</a>), replace the for loop with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum-by.html\" rel=\"nofollow noreferrer\"><code>sumBy{}</code></a>, inline <code>result</code>, replace the <code>if</code> expression with return, and finally convert it to an expression body:</p>\n\n<pre><code>fun C(n: Int): Int = if (n == 0) 1 else (0 until n).sumBy { C(it) * C(n - it - 1) }\n</code></pre>\n\n<p>Note that this function is not eligible for <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\"><code>tailrec</code></a> as the last operation is not a call to the function (<code>C</code>) but is a summing operation.</p>\n"}], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 43050238, "answer_count": 1, "score": 1, "last_activity_date": 1490643788, "creation_date": 1490624081, "last_edit_date": 1490624443, "question_id": 43048846, "link": "https://stackoverflow.com/questions/43048846/writing-simple-for-loop-in-1-line-in-kotlin", "title": "Writing simple for loop in 1 line in Kotlin", "body": "<p>I'm trying to rewrite following java method into Kotlin function:</p>\n\n<pre><code>int C(int n) {\n    if (n == 0)\n        return 1;\n    int result = 0;\n    for (int i = 0; i &lt; n; i++)\n        result += C(i) * C(n - i - 1);\n    return result;\n}\n</code></pre>\n\n<p>How can I write it in one line? Something like:</p>\n\n<pre><code>tailrec fun C(n: Int): Int = if (n == 0) 1 else { /* for loop? */}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-dokka"], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1491563602, "post_id": 43229535, "comment_id": 73621148, "body": "Error: <code>Cannot assign &#39;GString&#39; to &#39;Class&lt;OutputDirectory&gt;&#39;</code>. It do not create the docs, if I run the task."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1491577098, "post_id": 43229535, "comment_id": 73630658, "body": "What does your dokka config block look like?"}, {"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1491919184, "post_id": 43229535, "comment_id": 73759522, "body": "The same like yours. But I read in the documentation at Github, that I have to apply <code>apply plugin: com.android.library</code>. But I already applied <code>com.android.application</code> and both doesn&#39;t work at the same time and replacing one with the other doesn&#39;t work either."}], "tags": [], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "is_accepted": false, "score": 1, "last_activity_date": 1491390799, "creation_date": 1491390799, "answer_id": 43229535, "question_id": 43046407, "link": "https://stackoverflow.com/questions/43046407/generate-kdoc-and-watch-in-browser/43229535#43229535", "title": "Generate kdoc and watch in browser", "body": "<p>You can control the output directory via the <code>dokka</code> task:</p>\n\n<pre><code>dokka {\n    outputDirectory = \"$buildDir/docs\"\n}\n</code></pre>\n\n<p>To generate the docs, run <code>./gradlew dokka</code></p>\n\n<p>I've only done this for non-Android projects, but I believe the process is the same.</p>\n"}, {"tags": [], "owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "is_accepted": true, "score": 1, "last_activity_date": 1491940239, "last_edit_date": 1495539997, "creation_date": 1491940239, "answer_id": 43355008, "question_id": 43046407, "link": "https://stackoverflow.com/questions/43046407/generate-kdoc-and-watch-in-browser/43355008#43355008", "title": "Generate kdoc and watch in browser", "body": "<p>I got it to work.</p>\n\n<p><a href=\"https://stackoverflow.com/a/35815235/7441041\">This</a> post solved the problem.</p>\n\n<p>Apparently dokka is not able to pick up the <code>sourceSets {...}</code> defined in the <code>android {...}</code>-block.</p>\n\n<p>Workaround:\nduplicate the <code>sourceSets{...}</code> outside the <code>android{...}</code>-block</p>\n"}], "owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1087, "favorite_count": 1, "accepted_answer_id": 43355008, "answer_count": 2, "score": 4, "last_activity_date": 1491940239, "creation_date": 1490617490, "last_edit_date": 1491939239, "question_id": 43046407, "link": "https://stackoverflow.com/questions/43046407/generate-kdoc-and-watch-in-browser", "title": "Generate kdoc and watch in browser", "body": "<p>I don't know how to watch the generated <code>kdoc</code> in my Browser.</p>\n\n<p>I'm developing for Android with Kotlin and added dokka as dependency in gradle.<br>\nThe new <code>dokka</code> Task runs without Errors.</p>\n\n<p>I added dokka as dependency in my Projects <code>build.gradle</code> </p>\n\n<pre><code>dependencies {\n...\nclasspath \"org.jetbrains.dokka:dokka-android-gradle-plugin:0.9.13\"\n}\n</code></pre>\n\n<p>and applied the plugin in my apps <code>build.gradle</code></p>\n\n<pre><code>apply 'kotlin-android'\napply 'kotlin-android-extensions'\napply 'org.jetbrains.dokka'\n</code></pre>\n\n<p>But I can't find the Output in the Project Folder. \nHow can I watch the Output in my browser or where is it?</p>\n\n<p>Thanks</p>\n\n<p>Edit 1: IDE: Intellij; Kotlin Version: 1.1.1</p>\n\n<p>Edit 2 (11.04.2017):</p>\n\n<p><code>build.Gradle</code>:</p>\n\n<pre><code>dokka {\n    outputDirectory = \"$buildDir/docs\"\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 4343399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uBS7E.png?s=128&g=1", "display_name": "Kenji Tomita", "link": "https://stackoverflow.com/users/4343399/kenji-tomita"}, "is_accepted": true, "score": 1, "last_activity_date": 1490884693, "creation_date": 1490884693, "answer_id": 43120987, "question_id": 43043767, "link": "https://stackoverflow.com/questions/43043767/cannot-resolve-symbol-readonly-and-mutable-in-kotlin-1-1-0-compilation/43120987#43120987", "title": "Cannot resolve symbol @ReadOnly and @Mutable in Kotlin 1.1.0 compilation", "body": "<p>I'm sorry. Adding <strong>kotlin-compiler</strong> enabled <strong>@Mutable</strong> and <strong>@ReadOnly</strong>. The settings of build.gradle are as follows.</p>\n\n<pre><code>// build.gradle\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-compiler:$kotlin_version\" // Added\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4343399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uBS7E.png?s=128&g=1", "display_name": "Kenji Tomita", "link": "https://stackoverflow.com/users/4343399/kenji-tomita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 2, "accepted_answer_id": 43120987, "answer_count": 1, "score": 1, "last_activity_date": 1490884693, "creation_date": 1490609972, "question_id": 43043767, "link": "https://stackoverflow.com/questions/43043767/cannot-resolve-symbol-readonly-and-mutable-in-kotlin-1-1-0-compilation", "title": "Cannot resolve symbol @ReadOnly and @Mutable in Kotlin 1.1.0 compilation", "body": "<p>I got errors \"Cannot resolve symbol ReadOnly\" and \"Cannot resolve symbole Mutable\" in compiling with Kotlin 1.1.0. Is @ReadOnly and @Mutable not available with Kotlin 1.1.0? The following is a sample code.</p>\n\n<p>SampleList.java Kotlin 1.0.7</p>\n\n<pre><code>import org.jetbrains.annotations.Mutable;\nimport org.jetbrains.annotations.ReadOnly;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SampleList {\n    @ReadOnly // Can resolve symbol 'ReadOnly'\n    public static List&lt;Integer&gt; getReadOnlyList() {\n        return new ArrayList&lt;&gt;();\n    }\n\n    @Mutable // Can resolve symbol 'Mutable'\n    public static List&lt;Integer&gt; getMutableList() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n\n<p>SampleList.java Kotlin 1.1.0</p>\n\n<pre><code>import org.jetbrains.annotations.Mutable;\nimport org.jetbrains.annotations.ReadOnly;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class SampleList {\n    @ReadOnly // Cannot resolve symbol 'ReadOnly'\n    public static List&lt;Integer&gt; getReadOnlyList() {\n        return new ArrayList&lt;&gt;();\n    }\n\n    @Mutable // Cannot resolve symbol 'Mutable'\n    public static List&lt;Integer&gt; getMutableList() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "android-layout", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2398, "user_id": 1506395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nBjrt.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/1506395/rajesh"}, "edited": false, "score": 0, "creation_date": 1490607781, "post_id": 43042930, "comment_id": 73170231, "body": "put xml of this class"}, {"owner": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "edited": false, "score": 0, "creation_date": 1490607789, "post_id": 43042930, "comment_id": 73170234, "body": "Can you share the .xml file? Especially line #32"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6579503"}, "is_accepted": true, "score": 0, "last_activity_date": 1490612485, "last_edit_date": 1495540920, "creation_date": 1490612485, "answer_id": 43044573, "question_id": 43042930, "link": "https://stackoverflow.com/questions/43042930/android-view-inflateexception-binary-xml-file-line-32-binary-xml-file-line-3/43044573#43044573", "title": "android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class", "body": "<p>After searching, I found the solution, and it was just a silly mistake.</p>\n\n<p>The line         <code>val partLayout = a.getInt(R.styleable.MultipleChoiceCard_partLayout, R.layout.choice_rythm_part)</code> must get a resourceId and not an int, so the solution is to replace <code>getInt</code> by <code>getResourceId</code>.</p>\n\n<p>The code should look like that.</p>\n\n<pre><code>val partLayout = a.getResourceId(R.styleable.MultipleChoiceCard_partLayout, R.layout.choice_rythm_part)\n</code></pre>\n\n<p>I found the solution on this <a href=\"https://stackoverflow.com/questions/25303979/custom-xml-attribute-to-a-layout-reference\">post</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6579503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "accepted_answer_id": 43044573, "answer_count": 1, "score": 1, "last_activity_date": 1490612485, "creation_date": 1490607664, "last_edit_date": 1490607894, "question_id": 43042930, "link": "https://stackoverflow.com/questions/43042930/android-view-inflateexception-binary-xml-file-line-32-binary-xml-file-line-3", "title": "android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class", "body": "<p>I'm currently facing an issue in my app, I've looked and tried many solutions, but I was unable to find any that actually works.</p>\n\n<p>I have an activity that contains a list of custom components. This components are android CardView elements wrapped in a LinearLayout.</p>\n\n<p>Each of this card components contains a Relative layout which is empty by default.</p>\n\n<p>When calling the component in the activity XML file, I add the custom attribute <code>app:partLayout=\"@layout/choice_access_part\"</code>. This attribute is processed in my component code. After that, I inflate the layout passed in reference in partLayout attribute add I try to add it to the RelativeLayout in my component.</p>\n\n<pre><code>val inflatedLayout: View = inflater.inflate(partLayout, selectionContainer, false)\nselectionContainer.addView(inflatedLayout)\n</code></pre>\n\n<p>I have no problem compiling the application and running it until I reach this part of the code and get the error : <code>android.view.InflateException: Binary XML file line #32: Binary XML file line #32: Error inflating class</code> </p>\n\n<p>Component code</p>\n\n<pre><code>class MultipleChoiceCard(context: Context?, attrs: AttributeSet?) : CardView(context, attrs) {\n\n    val title: TextView\n    val nonMandatoryText: TextView\n    val selectionContainer: RelativeLayout\n\n    init {\n        val inflater: LayoutInflater = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        inflater.inflate(R.layout.component_multiple_choice, this)\n\n        // Getting elements in XML\n        title = find(R.id.multiple_choice_title)\n        nonMandatoryText = find(R.id.non_mandatory_text)\n        selectionContainer = find(R.id.selection_container)\n\n        // Extract value from XML\n        val a = context.theme.obtainStyledAttributes(attrs, R.styleable.MultipleChoiceCard, 0, 0)\n        val titleValue = a.getString(R.styleable.MultipleChoiceCard_title)\n        val nonMandatoryTextValue = a.getString(R.styleable.MultipleChoiceCard_nonMandatoryText) ?: \"\"\n        val colorValue = a.getInt(R.styleable.MultipleChoiceCard_cardColor, R.color.user_deep_orange)\n        val partLayout = a.getInt(R.styleable.MultipleChoiceCard_partLayout, R.layout.choice_rythm_part)\n\n        // Applying the XML values to the wanted elements\n        title.text = titleValue\n        title.setTextColor(colorValue)\n        // Set the non mandatory text visible if the value is not an empty string\n        if(nonMandatoryTextValue != \"\"){\n            nonMandatoryText.visibility = View.VISIBLE\n            nonMandatoryText.text = nonMandatoryTextValue\n        }\n\n        val inflatedLayout: View = inflater.inflate(partLayout, selectionContainer, false)\n        selectionContainer.addView(inflatedLayout)\n\n        a?.recycle()\n\n    }\n\n}\n</code></pre>\n\n<p>Component XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.CardView\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:padding=\"20dp\"\n        android:id=\"@+id/rythm_card\"\n        app:cardBackgroundColor=\"#2d292a\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_height=\"match_parent\"\n            android:layout_width=\"match_parent\"\n            android:padding=\"20dp\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/multiple_choice_title\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAllCaps=\"true\"\n                android:textColor=\"@color/user_deep_orange\"\n                android:layout_marginBottom=\"10dp\"\n                android:textStyle=\"bold\"&gt;\n            &lt;/TextView&gt;\n\n            &lt;TextView\n                android:id=\"@+id/non_mandatory_text\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/multiple_choice_title\"\n                android:textColor=\"#8c8f91\"\n                android:textSize=\"13sp\"\n                android:textStyle=\"italic\"\n                android:visibility=\"gone\"\n                android:layout_marginBottom=\"10dp\"&gt;\n            &lt;/TextView&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/non_mandatory_text\"\n                android:id=\"@+id/selection_container\"&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/android.support.v7.widget.CardView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Layout passed as attribute</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RadioGroup\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/non_mandatory_text\"\n        android:id=\"@+id/rythm_radio_group\"&gt;\n\n        &lt;RadioButton\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:text=\"Libre\"\n            android:textSize=\"20sp\"\n            android:layoutDirection=\"rtl\"\n            android:buttonTint=\"@color/user_deep_orange\"\n            android:layout_marginBottom=\"10dp\"&gt;\n\n        &lt;/RadioButton&gt;\n\n        &lt;RadioButton\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:text=\"Toutes les 10 secondes\"\n            android:textSize=\"20sp\"\n            android:layoutDirection=\"rtl\"\n            android:buttonTint=\"@color/user_deep_orange\"\n            android:layout_marginBottom=\"10dp\"&gt;\n\n        &lt;/RadioButton&gt;\n\n        &lt;RadioButton\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:text=\"Toutes les 30 secondes\"\n            android:textSize=\"20sp\"\n            android:layoutDirection=\"rtl\"\n            android:buttonTint=\"@color/user_deep_orange\"\n            android:layout_marginBottom=\"10dp\"&gt;\n\n        &lt;/RadioButton&gt;\n\n        &lt;RadioButton\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:text=\"Toutes les minutes\"\n            android:textSize=\"20sp\"\n            android:layoutDirection=\"rtl\"\n            android:buttonTint=\"@color/user_deep_orange\"&gt;\n\n        &lt;/RadioButton&gt;\n\n    &lt;/RadioGroup&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1490620570, "post_id": 43042385, "comment_id": 73179065, "body": "In your example code, <code>var (list1,list2) = ArrayList&lt;Course&gt;()</code> does not create two lists but attempts to <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructure</a> an empty <code>ArrayList&lt;Course&gt;</code> into two <code>Course</code> instances which would fail at run-time as it is empty. The following would work though: <code>val list1 = mutableListOf&lt;Course&gt;(); val list2 = mutableListOf&lt;Course&gt;()</code>"}, {"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1490623521, "post_id": 43042385, "comment_id": 73181467, "body": "Thanks, editted. But is there a way to declare any 2 vars and assign them the same value?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1490624101, "post_id": 43042385, "comment_id": 73181925, "body": "Not any way that I would recommend. :-) Feel free to search StackOverflow and add the question if it isn&#39;t already out there."}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 3, "creation_date": 1490620673, "post_id": 43042442, "comment_id": 73179142, "body": "You might add links to the relevant documentation. Namely <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions\" rel=\"nofollow noreferrer\">Higher-Order Functions</a> and <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\"><code>it</code>: implicit name of a single parameter</a>."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 2, "creation_date": 1490620756, "post_id": 43042442, "comment_id": 73179202, "body": "You can also use <a href=\"http://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-in-lambdas-since-11\" rel=\"nofollow noreferrer\">destructuring in Lambdas (since 1.1)</a>. e.g.: <code>list1.filter { (weekday1, time1) -&gt; list2.none { (weekday2, time2) -&gt; weekday1 == weekday2 &amp;&amp; time1 == time2 } }</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 32, "last_activity_date": 1490621277, "last_edit_date": 1490621277, "creation_date": 1490606311, "answer_id": 43042442, "question_id": 43042385, "link": "https://stackoverflow.com/questions/43042385/nested-lambda-calls-in-kotlin/43042442#43042442", "title": "Nested lambda calls in Kotlin", "body": "<p><code>it</code> always refers to the innermost lambda's parameter, to access outer ones, you have to name them. For example:</p>\n\n<pre><code>list1.filter { a -&gt; list2.none { b -&gt; a.weekday == b.weekday &amp;&amp; a.time == b.time} }\n</code></pre>\n\n<p>(You could leave the inner one as <code>it</code>, but it's a bit nicer if you name that too, in my opinion.)</p>\n\n<p><strong>Edit:</strong> @mfulton26 linked the relevant documentation below, see that for more details.</p>\n"}], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6018, "favorite_count": 2, "accepted_answer_id": 43042442, "answer_count": 1, "score": 19, "last_activity_date": 1490623438, "creation_date": 1490606158, "last_edit_date": 1490623438, "question_id": 43042385, "link": "https://stackoverflow.com/questions/43042385/nested-lambda-calls-in-kotlin", "title": "Nested lambda calls in Kotlin", "body": "<p>When nesting lambda calls in Kotlin, how can I unambiguously refer to child's and parent's <code>it</code> element? For instance:</p>\n\n<pre><code>data class Course(var weekday: Int, var time: Int, var duration: Int)\nvar list1 = mutableListOf&lt;Course&gt;()\nvar list2 = mutableListOf&lt;Course&gt;()\n// populate list1 and list2\n// exclude any element from list1 if it has the same time and weekday as any element from list2\nlist1.filter { list2.none{it.weekday == it.weekday &amp;&amp; it.time == it.time} }\n</code></pre>\n"}, {"tags": ["constructor", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1490602006, "post_id": 43040554, "comment_id": 73166498, "body": "The question is a bit unclear, but you can find everything about constructors and the <code>init</code> block here <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#constructors</a>"}, {"owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1490602611, "post_id": 43040554, "comment_id": 73166852, "body": "@zsmb13 I&#39;ve read it but I didn&#39;t find any info about my case. I believe that it&#39;s trivial but I don&#39;t know exact kotlin syntax to achieve it."}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 9, "last_activity_date": 1490602951, "creation_date": 1490602951, "answer_id": 43041283, "question_id": 43040554, "link": "https://stackoverflow.com/questions/43040554/call-super-in-constructor-and-assign-a-field-in-kotlin/43041283#43041283", "title": "Call super in constructor and assign a field in Kotlin?", "body": "<p>That worked for me:</p>\n\n<pre><code>class MyException : RuntimeException {\n    val status: Status\n\n    constructor(status: Status) : super() {\n        this.status = status\n    }\n\n    constructor(status: Status, cause: Throwable) : super(cause) {\n        this.status = status\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4521, "favorite_count": 0, "accepted_answer_id": 43041283, "answer_count": 1, "score": 2, "last_activity_date": 1490602951, "creation_date": 1490600526, "last_edit_date": 1490602535, "question_id": 43040554, "link": "https://stackoverflow.com/questions/43040554/call-super-in-constructor-and-assign-a-field-in-kotlin", "title": "Call super in constructor and assign a field in Kotlin?", "body": "<p>I would like to initialise <code>status</code> field inside constructor apart of calling <code>super</code>.</p>\n\n<pre><code>class MyException : RuntimeException {\n\n    init {\n        val status: Status\n    }\n\n    constructor(status: Status) : super()\n\n    constructor(status: Status, cause: Throwable) : super(cause)\n\n}\n</code></pre>\n\n<p>How can I achievie that?</p>\n"}, {"tags": ["database", "singleton", "lazy-loading", "kotlin", "kotlin-lateinit"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7319578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKDfO.png?s=128&g=1", "display_name": "Kevin Xiao", "link": "https://stackoverflow.com/users/7319578/kevin-xiao"}, "edited": false, "score": 0, "creation_date": 1490633839, "post_id": 43044459, "comment_id": 73188788, "body": "Thanks, I will change it to a system property in that case. Still, is the approach with lazy loading and lateinits a valid approach?"}], "tags": [], "owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "is_accepted": false, "score": 2, "last_activity_date": 1490612134, "creation_date": 1490612134, "answer_id": 43044459, "question_id": 43036423, "link": "https://stackoverflow.com/questions/43036423/singleton-database-object-with-parameterized-initialization-on-startup/43044459#43044459", "title": "Singleton database object with parameterized initialization on startup?", "body": "<p>try to get the databaseName from a system property(or system environment variable). You can set the property in your starting script. </p>\n\n<p>for example: <code>java -DdatabaseName=databaseA ....</code></p>\n\n<pre><code>object DatabaseSingleton {\n    private const var DB_NAME_SYS_KEY = \"databaseName\"\n\n    private lateinit var databaseName: String\n    private lateinit var mongoClient: MongoClient\n\n    val database: DatabaseContainer by lazy {\n        DatabaseContainer(databaseName, mongoClient)\n    }\n\n    fun init(mongoClient: MongoClient): DatabaseSingleton {\n        this.databaseName = System.getProperty(DB_NAME_SYS_KEY)\n        this.mongoClient = mongoClient\n        return this\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7319578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKDfO.png?s=128&g=1", "display_name": "Kevin Xiao", "link": "https://stackoverflow.com/users/7319578/kevin-xiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490612134, "creation_date": 1490576741, "question_id": 43036423, "link": "https://stackoverflow.com/questions/43036423/singleton-database-object-with-parameterized-initialization-on-startup", "title": "Singleton database object with parameterized initialization on startup?", "body": "<p>I'm attempting to create a single database instance that can be used by multiple classes (using <code>object</code> keyword in Kotlin). However, I wanted to be able to specify the database name before the singleton instance is created.</p>\n\n<p>Since a singleton object cannot be initialized with a parameter, I was wondering if what I'm doing is valid, or if there's a better way of doing things:</p>\n\n<pre><code>object DatabaseSingleton {\n\n    private lateinit var databaseName: String\n    private lateinit var mongoClient: MongoClient\n\n    val database: DatabaseContainer by lazy {\n        DatabaseContainer(databaseName, mongoClient)\n    }\n\n    fun init(databaseName: String, mongoClient: MongoClient): DatabaseSingleton {\n        this.databaseName = databaseName\n        this.mongoClient = mongoClient\n        return this\n    }\n}\n</code></pre>\n\n<p>And in another file</p>\n\n<pre><code>class DatabaseContainer(databaseName: String, val mongoClient: MongoClient) {\n\n    val db: MongoDatabase = mongoClient.getDatabase(databaseName)\n    val table: MongoCollection&lt;Settings&gt; = db.getCollection&lt;Settings&gt;(TABLE_NAME)\n\n}\n</code></pre>\n\n<p>Basically, I'm encapsulating a \"database container\" in the singleton object by using lazy initialization for the database container and providing lateinit vars for specifying the database name and having an initialization function in the singleton object to initialize the database container. This is so that in my main method when I first start up my application, I can load the database name from some local properties file and call <code>val database = DatabaseSingleton.init(\"DATABASE_NAME\", client)</code> to create my database singleton that needs to be accessed by multiple other classes.</p>\n\n<p>Is this a good approach to do what I want, or are there better ways of doing things?</p>\n"}, {"tags": ["testing", "kotlin", "fixtures"], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "is_accepted": true, "score": 4, "last_activity_date": 1490860115, "creation_date": 1490860115, "answer_id": 43111614, "question_id": 43031841, "link": "https://stackoverflow.com/questions/43031841/how-should-i-set-up-mutable-test-fixtures-in-spek/43111614#43111614", "title": "How should I set up mutable test fixtures in Spek?", "body": "<p>If you're using Kotlin <code>1.1</code> and Spek <code>1.1.0</code> you could use <code>memoized</code>.</p>\n\n<pre><code>describe(\"a list\") {\n    val list by memoized { arrayListOf&lt;Int&gt;() }\n\n    on(\"adding an item\") {\n        list.add(123)\n\n        it(\"has a size of one\") {\n            list.size.should.equal(1)\n        }\n    }\n\n    on(\"adding 2 items\") {\n        list.add(1)\n        list.add(2)\n\n        it(\"has a size of 2\") {\n            list.size.should.equal(2)\n        }\n    }\n}\n</code></pre>\n\n<p>Every <code>on</code> will have a unique instance of <code>list</code>. You can pass a <code>CachingMode</code> to <code>memoized</code> to control how Spek caches the values.</p>\n\n<ul>\n<li><code>CachingMode.TEST</code> (default) - each test will have a unique instance (<code>on</code> here is a special case and treated as a <code>test</code>)</li>\n<li><code>CachingMode.SCOPE</code> - there will be one unique instance, effectively a singleton.</li>\n<li><code>CachingMode.GROUP</code> - each <code>group</code> will have a unique instance.</li>\n</ul>\n\n<p><code>memoized</code> is still available pre Kotlin <code>1.1</code> and at least Spek <code>1.1.0-beta3</code>, but the syntax is a bit clunky.</p>\n\n<pre><code>describe(\"a list\") {\n    val list = memoized { arrayListOf&lt;Int&gt;() }\n\n    on(\"adding an item\") {\n        list().add(123)\n\n        it(\"has a size of one\") {\n            list().size.should.equal(1)\n        }\n    }\n\n    on(\"adding 2 items\") {\n        list().add(1)\n        list().add(2)\n\n        it(\"has a size of 2\") {\n            list().size.should.equal(2)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 490, "user_id": 6282033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d6a1c9035ba56afd67776054e088a7?s=128&d=identicon&r=PG&f=1", "display_name": "Little Mike", "link": "https://stackoverflow.com/users/6282033/little-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 43111614, "answer_count": 1, "score": 3, "last_activity_date": 1490860115, "creation_date": 1490547931, "question_id": 43031841, "link": "https://stackoverflow.com/questions/43031841/how-should-i-set-up-mutable-test-fixtures-in-spek", "title": "How should I set up mutable test fixtures in Spek?", "body": "<p>I'm trying to get my head around fixtures in Spek. <a href=\"http://spekframework.org/docs/latest/#_basic_structure\" rel=\"nofollow noreferrer\">The Calculator example in the docs</a> is easy to follow, but I'm not sure how to go about structuring setup/teardown when some of the fixtures are stateful. For example, if I was testing a list:</p>\n\n<pre><code>describe(\"a list\") {\n    val list = arrayListOf&lt;Int&gt;() // Only instantiated once\n\n    on(\"adding an item\") {\n        list.add(123)\n\n        it(\"has a size of one\") {\n            list.size.should.equal(1)\n        }\n    }\n\n    on(\"adding 2 items\") {\n        list.add(1)\n        list.add(2)\n\n        it(\"has a size of 2\") {\n            list.size.should.equal(2) // Fails, 3 != 2\n        }\n    }\n}\n</code></pre>\n\n<p>From what I understand, in Spek the <code>describe</code> block is only evaluated once, so there is only ever one instance of List. The docs helpfully suggest using test fixtures, but then <em>unhelpfully</em> fail to give an example!</p>\n\n<p>I assume the following doesn't work because Kotlin doesn't understand that Spek will definitely call <code>beforeEachTest</code> before <code>on</code></p>\n\n<pre><code>describe(\"a list\") {\n    var list : MutableList&lt;Int&gt;\n\n    beforeEachTest {\n        list = arrayListOf()\n    }\n\n    on(\"adding an item\") {\n        list.add(123) // Compile error, list must be initialised\n</code></pre>\n\n<p>I can get around that by making the variable nullable, but then I have to use nullsafe operators everywhere, which sucks because I know it's never null:</p>\n\n<pre><code>describe(\"a list\") {\n    var list : MutableList&lt;Int&gt;? = null\n\n    beforeEachTest {\n        list = arrayListOf()\n    }\n\n    on(\"adding an item\") {\n        list?.add(123) // Bleh\n</code></pre>\n\n<p>This also works, but means that every bit of setup code now needs to be duplicated in two places</p>\n\n<pre><code>describe(\"a list\") {\n    var list = arrayListOf&lt;Int&gt;()\n\n    beforeEachTest {\n        list = arrayListOf() // Bleh\n    }\n\n    on(\"adding an item\") {\n        list.add(123)\n</code></pre>\n\n<p>Excuse me if any of this is obvious, but I'm coming from JUnit world where absolutely everything (bar statics) is torn down and rebuilt before every test, so this all seems rather alien!</p>\n"}, {"tags": ["types", "kotlin", "shadowing", "companion-object", "data-class"], "comments": [{"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490542735, "post_id": 43030748, "comment_id": 73147136, "body": "Of course, I could rename the companion object. But that would defeat much of its purpose, wouldn&#39;t it?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490542987, "post_id": 43030748, "comment_id": 73147230, "body": "I don&#39;t see why it would defeat its purpose. What is your goal in naming it, and in using the same name as the class?"}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490543354, "post_id": 43030748, "comment_id": 73147363, "body": "@JBNizet If methods on companion objects are to replace static methods in any sensible way, the companion object better have the same name. Just like Scala does it, for instance."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490544414, "post_id": 43030748, "comment_id": 73147731, "body": "No, that&#39;s not how it works in Kotlin. If you want the methods in the companion object to be static methods of the class, you should annotate them with <code>@JvmStatic</code>. Otherwise, you access them, in Java, using Foo.Companion.someHelper(). In Kotlin, you can just use Foo.someHelper()."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490544882, "post_id": 43030748, "comment_id": 73147926, "body": "@JBNizet For the purpose of this discussion, I couldn&#39;t care less about how the Kotlin compiler represents companion objects and their methods in JVM byte code. Point is, static methods serve a certain purpose in Java, and apparently companion objects are to serve the same in Kotlin. Being of the same name as as the mother class is part of that. Considering that this exact behaviour is achieved by just leaving out the object name (see my answer below), I think my thoughts align with the designers of Kotlin."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490545297, "post_id": 43030748, "comment_id": 73148121, "body": "<i>Being of the same name as as the mother class is part of that</i>: no, it&#39;s not. Just don&#39;t give any name to your companion object, and you&#39;ll still be able to use Foo.someHelper(), as you discovered. Naming it Foo only allows using Foo.Foo.someHelper() instead of Foo.Companion.someHelper()."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490562174, "post_id": 43030748, "comment_id": 73154355, "body": "@JBNizet I see. I translated over how Scala&#39;s companion objects worked, not realizing that <code>Foo.Companion</code> is Kotlin&#39;s default. The shadowing makes sense if you don&#39;t treat the class name as &quot;reserved&quot; in some way. Thanks for explaining!"}], "answers": [{"tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": true, "score": 2, "last_activity_date": 1490603251, "last_edit_date": 1490603251, "creation_date": 1490543464, "answer_id": 43030927, "question_id": 43030748, "link": "https://stackoverflow.com/questions/43030748/companion-objects-hide-class-bug-or-feature/43030927#43030927", "title": "Companion objects hide class -- bug or feature?", "body": "<p>As per the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">documentation</a>, the solution is to leave out the name:</p>\n\n<pre><code>companion object {\n    fun someHelper() {}\n}\n</code></pre>\n\n<p>This will create a companion object without colliding with the class name (as an explicitly named companion object <code>Foo</code> does). Its methods are still available as <code>Foo.someHelper()</code>, a shorthand for <code>Foo.Companion.someHelper()</code>.</p>\n"}], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 43030927, "answer_count": 1, "score": 0, "last_activity_date": 1490603251, "creation_date": 1490542535, "question_id": 43030748, "link": "https://stackoverflow.com/questions/43030748/companion-objects-hide-class-bug-or-feature", "title": "Companion objects hide class -- bug or feature?", "body": "<p>In Kotlin, the following seems to be reasonable code:</p>\n\n<pre><code>data class Foo(val bar: String) {\n    fun combine(other: Foo): Foo {\n        return Foo(bar + other.bar)\n    }\n\n    companion object Foo {\n        fun someHelper() {}\n    }\n}\n</code></pre>\n\n<p>However, it does not compile: type <code>Foo</code> binds to <code>Foo.Foo</code> instead of <code>Foo</code>!</p>\n\n<p>Is that a (language design or compiler) bug, or is this a feature? If the latter, what is the idiomatic way to implement <code>combine</code> in the presence of a companion object?</p>\n\n<p>Of course, there is what I would consider a workaround:</p>\n\n<pre><code>fun combine(other: my.package.Foo): my.package.Foo {\n    return Foo(bar + other.bar)\n}\n</code></pre>\n\n<p>But that isn't too nice, now is it?</p>\n"}, {"tags": ["constructor", "kotlin", "immutability", "data-class"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 3, "creation_date": 1490541543, "post_id": 43030408, "comment_id": 73146699, "body": "An alternative: Use a factory method instead in a companion object."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1490542589, "post_id": 43030408, "comment_id": 73147079, "body": "@nhaarman I didn&#39;t come all the way from Java to use factories... :/"}], "answers": [{"comments": [{"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 2, "creation_date": 1490542629, "post_id": 43030602, "comment_id": 73147096, "body": "Poor-man constructors -- I&#39;d hoped that Kotlin moved beyond that."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490543046, "post_id": 43030602, "comment_id": 73147250, "body": "@Raphael Why do you think they are so bad? I find them very useful."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1490543150, "post_id": 43030602, "comment_id": 73147282, "body": "They&#39;re actually cleaner than constructors, IMHO. When you see <code>Color.fromHex(s)</code>, it&#39;s immediately clear what the line does, and what <code>s</code> is supposed to be. When you see <code>Color(s)</code>, you have no idea."}, {"owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "reply_to_user": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490543262, "post_id": 43030602, "comment_id": 73147323, "body": "@Raphael I agree with @jb-nizet, at least for this particular example. <code>Color.fromHex(...)</code> more clearly expresses the intent. It also makes it possible to have methods that would otherwise be colliding with just a constructor, e.g. <code>Color.fromCmyk(...)</code> (or whatever -- I don&#39;t know anything about color spaces)"}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1490543603, "post_id": 43030602, "comment_id": 73147441, "body": "@JBNizet That&#39;s what documentation is for. I&#39;ve been writing some Swift lately, and initializers are a lot better there (in particular, they can be required by protocols, which is something I&#39;m missing already). External parameter labels help a lot with readability, I guess; you <i>could</i> write <code>Color(hex = s)</code> in Kotlin!"}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490543655, "post_id": 43030602, "comment_id": 73147461, "body": "@ean5533 True, multiple constructors using the same parameter types are impossible in Java. Doesn&#39;t mean they necessarily have to be in Kotlin, but it appears it inherited that particular weakness."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490543711, "post_id": 43030602, "comment_id": 73147480, "body": "That said, even <i>Java</i> can do what I originally want: write an additional constructor that computes and sets the members of the object. Why does it even have to call the default constructor?"}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "edited": false, "score": 0, "creation_date": 1490908632, "post_id": 43030602, "comment_id": 73335803, "body": "FYI: It&#39;s possible to make factories <i>look</i> like constructors; see <a href=\"http://stackoverflow.com/a/43128459/539599\">here</a>."}], "tags": [], "owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "is_accepted": false, "score": 5, "last_activity_date": 1490541713, "creation_date": 1490541713, "answer_id": 43030602, "question_id": 43030408, "link": "https://stackoverflow.com/questions/43030408/multiple-constructors-on-an-immutable-data-class/43030602#43030602", "title": "Multiple constructors on an immutable (data) class", "body": "<p>As suggested by @nhaarman, one way to is use a factory method. I often use something like the following:</p>\n\n<pre><code>data class Color(val r: Int, val g: Int, val b: Int) {\n   companion object {\n        fun fromHex(hex: String): Color {\n            assert(Regex(\"#[a-fA-F0-6]{6}\").matches(hex), { \"$hex is not a hex color\" } )\n            val r = hex.substring(1..2).toInt(16)\n            val g = hex.substring(3..4).toInt(16)\n            val b = hex.substring(5..6).toInt(16)\n            return Color(r,g,b)\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can call it with <code>Color.fromHex(\"#abc123\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 13031, "user_id": 95462, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/707f27812c3a735e0f352a9b1f7e2489?s=128&d=identicon&r=PG", "display_name": "Greg Ennis", "link": "https://stackoverflow.com/users/95462/greg-ennis"}, "edited": false, "score": 0, "creation_date": 1536765382, "post_id": 43128459, "comment_id": 91544745, "body": "I think we have a winner"}], "tags": [], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "is_accepted": true, "score": 4, "last_activity_date": 1520000281, "last_edit_date": 1520000281, "creation_date": 1490908438, "answer_id": 43128459, "question_id": 43030408, "link": "https://stackoverflow.com/questions/43030408/multiple-constructors-on-an-immutable-data-class/43128459#43128459", "title": "Multiple constructors on an immutable (data) class", "body": "<p>As explained <a href=\"https://discuss.kotlinlang.org/t/generic-object-creation/1663/5\" rel=\"nofollow noreferrer\">here</a>, using the operator function <code>invoke</code> on the companion object (just like Scala's <code>apply</code>) one can achieve not really a constructor, but a factory that <em>looks</em> like a constructor usage-site:</p>\n\n<pre><code>companion object {\n    operator fun invoke(hex: String) : Color {\n        assert(Regex(\"#[a-fA-F0-6]{6}\").matches(hex),\n               {\"$hex is not a hex color\"})\n        val r = hex.substring(1..2).toInt(16)\n        val g = hex.substring(3..4).toInt(16)\n        val b = hex.substring(5..6).toInt(16)\n        return Color(r, g, b)\n    }\n}\n</code></pre>\n\n<p>Now, <code>Color(\"#FF00FF\")</code> will to the expected thing.</p>\n"}], "owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "accepted_answer_id": 43128459, "answer_count": 2, "score": 2, "last_activity_date": 1520000281, "creation_date": 1490540650, "last_edit_date": 1490542654, "question_id": 43030408, "link": "https://stackoverflow.com/questions/43030408/multiple-constructors-on-an-immutable-data-class", "title": "Multiple constructors on an immutable (data) class", "body": "<p>I'm trying to implement an immutable data class with more than one constructor. I felt that something like this should be possible:</p>\n\n<pre><code>data class Color(val r: Int, val g: Int, val b: Int) {\n   constructor(hex: String) {\n        assert(Regex(\"#[a-fA-F0-6]{6}\").matches(hex), { \"$hex is not a hex color\" } )\n        val r = hex.substring(1..2).toInt(16)\n        val g = hex.substring(3..4).toInt(16)\n        val b = hex.substring(5..6).toInt(16)\n        this(r,g,b)\n    }\n}\n</code></pre>\n\n<p>Of course, it isn't: Kotlin expects the call to the main constructor be declared at the top:</p>\n\n<pre><code>constructor(hex: String): this(r,g,b) {\n    assert(Regex(\"#[a-fA-F0-6]{6}\").matches(hex), { \"$hex is not a hex color\" } )\n    val r = hex.substring(1..2).toInt(16)\n    val g = hex.substring(3..4).toInt(16)\n    val b = hex.substring(5..6).toInt(16)\n}\n</code></pre>\n\n<p>That's no good either, as the call is executed <em>before</em> the constructor body and can not access the local variables.</p>\n\n<p>I can do <em>this</em>, of course:</p>\n\n<pre><code>constructor(hex: String): this(hex.substring(1..2).toInt(16),\n                               hex.substring(3..4).toInt(16), \n                               hex.substring(5..6).toInt(16)) {\n    assert(Regex(\"#[a-fA-F0-6]{6}\").matches(hex), { \"$hex is not a hex color\" } )\n}\n</code></pre>\n\n<p>But this will check the assertion too late, and does not scale very well.</p>\n\n<p>The only way I see to get close to the desired behaviour is this using a  helper function (which can't be defined non-static on <code>Color</code>):</p>\n\n<pre><code>constructor(hex: String): this(hexExtract(hex, 1..2), \n                               hexExtract(hex, 3..4), \n                               hexExtract(hex, 5..6))\n</code></pre>\n\n<p>This does not strike me as a very elegant pattern, so I'm guessing I'm missing something here.</p>\n\n<p>Is there an elegant, idiomatic way to have (complex) secondary constructors on immutable data classes in Kotlin?</p>\n"}, {"tags": ["unit-testing", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1490541336, "post_id": 43030535, "comment_id": 73146631, "body": "Disclaimer: I am the author of Mockito-Kotlin."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 3, "last_activity_date": 1490541325, "creation_date": 1490541325, "answer_id": 43030535, "question_id": 43028051, "link": "https://stackoverflow.com/questions/43028051/mockito-with-kotlin-testing-async-failure/43030535#43030535", "title": "Mockito with Kotlin testing async failure", "body": "<p><code>Mockito.any(Class&lt;T&gt;)</code> returns <code>null</code> (<a href=\"https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/ArgumentMatchers.java#L206\" rel=\"nofollow noreferrer\">[1]</a>, <a href=\"https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/internal/util/Primitives.java#L59\" rel=\"nofollow noreferrer\">[2]</a>), which is not accepted by the <code>getCategoriesAsync</code> method.<br>\nYou can use the <a href=\"https://github.com/nhaarman/mockito-kotlin/\" rel=\"nofollow noreferrer\">Mockito-Kotlin</a> library which does 'not return null values' to overcome this problem.</p>\n"}], "owner": {"reputation": 1003, "user_id": 3282969, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/16b1d9f48762022064e23ec98fd202f1?s=128&d=identicon&r=PG&f=1", "display_name": "WWJD", "link": "https://stackoverflow.com/users/3282969/wwjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490541325, "creation_date": 1490527220, "question_id": 43028051, "link": "https://stackoverflow.com/questions/43028051/mockito-with-kotlin-testing-async-failure", "title": "Mockito with Kotlin testing async failure", "body": "<p>I'm trying to learn Mockito for my tests but when using Kotlin it's more complicated. I want to test a function in my presenter which when called is fetching a list of objects from the repository asynchronously and fires onSuccess/onError from a listener. After that the presenter tells the view to do whatever is needed according to the callback.</p>\n\n<p>Here's the test code:</p>\n\n<pre><code>@Mock\nlateinit var view: CategoriesActivityContract.View\n\n@Mock\nlateinit var repository: CategoriesRepository\n\n@Before\nfun setUp() {\n    MockitoAnnotations.initMocks(this)\n}\n\n@Test\nfun shouldPassCategoriesToView2() {\n    `doAnswer`({\n        it: InvocationOnMock? -&gt;\n        (it!!.arguments[0] as CategoriesRepository.OnGetCategoriesListener).onSuccess(DUMMY_CATEGORIES)\n        null\n    }).`when`(repository).getCategoriesAsync(any(CategoriesRepository.OnGetCategoriesListener::class.java))\n\n\n    val presenter: CategoriesActivityPresenter = CategoriesActivityPresenter(repository)\n    presenter.bindView(view)\n    presenter.loadCategories()\n\n\n    `verify`(view).displayCategories(DUMMY_CATEGORIES)\n}\n</code></pre>\n\n<p>That's the tested code:</p>\n\n<pre><code>override fun loadCategories() {\n    repository.getCategoriesAsync(object: CategoriesRepository.OnGetCategoriesListener {\n        override fun onSuccess(categories: List&lt;Category&gt;) {\n            if (!categories.isEmpty()) {\n                view?.displayCategories(categories)\n            } else {\n                view?.displayNoCategoriesError()\n            }\n        }\n\n        override fun onError(message: String?) {\n            view?.displayNoCategoriesError()\n        }\n    })\n}\n</code></pre>\n\n<p>And the test fails with this error message:</p>\n\n<pre><code>java.lang.IllegalStateException: any(CategoriesRepository\u2026riesListener::class.java) must not be null\n\nat com.boyukliev.verseattack.ui.categories.CategoriesActivityPresenterTest.shouldPassCategoriesToView2(CategoriesActivityPresenterTest.kt:60)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:68)\nat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:74)\nat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\nat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:161)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n\n-&gt; at com.boyukliev.verseattack.ui.categories.CategoriesActivityPresenterTest.shouldPassCategoriesToView2(CategoriesActivityPresenterTest.kt:60)\n\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(\"foo\"))\n\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\n\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\nat org.mockito.internal.runners.DefaultInternalRunner$1$1.testFinished(DefaultInternalRunner.java:58)\nat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)\nat org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)\nat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\nat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)\nat org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:68)\nat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:74)\nat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\nat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:161)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6037164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dd71f52de4c7459608275f6c2be1b5?s=128&d=identicon&r=PG&f=1", "display_name": "anjali bhargava", "link": "https://stackoverflow.com/users/6037164/anjali-bhargava"}, "edited": false, "score": 1, "creation_date": 1490510449, "post_id": 43025845, "comment_id": 73138234, "body": "Thanks for the answer. This make sense but has some confusion for people coming from java."}], "tags": [], "owner": {"reputation": 181, "user_id": 4422974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05db05ef70294ec8f30f10d51530a3aa?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Jani", "link": "https://stackoverflow.com/users/4422974/sagar-jani"}, "is_accepted": false, "score": 4, "last_activity_date": 1490524411, "last_edit_date": 1490524411, "creation_date": 1490510203, "answer_id": 43025845, "question_id": 43025817, "link": "https://stackoverflow.com/questions/43025817/kotlin-access-modifiers/43025845#43025845", "title": "Kotlin access modifiers", "body": "<p>In Java, there is a concept of Package but not in Kotlin. </p>\n\n<p>In Java, Package means A is a group of similar types of classes, interfaces and sub-packages. </p>\n\n<p>In contrast to Java, Kotlin has a concept of Module, as per the kotlin documentation , the definition of module is as below :</p>\n\n<h1>    Modules in Kotlin</h1>\n\n<p>The internal visibility modifier means that the member is visible with the same module. More specifically, a module is a set of Kotlin files compiled together:</p>\n\n<ol>\n<li>an IntelliJ IDEA module;</li>\n<li>a Maven or Gradle project;</li>\n<li>a set of files compiled with one invocation of the Ant task.</li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 6037164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98dd71f52de4c7459608275f6c2be1b5?s=128&d=identicon&r=PG&f=1", "display_name": "anjali bhargava", "link": "https://stackoverflow.com/users/6037164/anjali-bhargava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1490524411, "creation_date": 1490509944, "last_edit_date": 1490510186, "question_id": 43025817, "link": "https://stackoverflow.com/questions/43025817/kotlin-access-modifiers", "title": "Kotlin access modifiers", "body": "<p>I'm trying and learning Kotlin and came across a confusion with regards to access modifiers, in contrast to Java, Kotlin has Private, Public, Internal and Protected access modifiers, </p>\n\n<p>So is internal same as package ? A small example :</p>\n\n<pre><code>package A\n\nprivate fun foo() {} // visible inside example.kt\n\npublic var bar: Int = 5 // property is visible everywhere\n    private set         // setter is visible only in example.kt\n\ninternal val baz = 6 // visible inside the same module\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 3, "creation_date": 1492516576, "post_id": 43021816, "comment_id": 73997718, "body": "<a href=\"https://soundcloud.com/user-38099918/coroutines-with-roman-elizarov\" rel=\"nofollow noreferrer\">soundcloud.com/user-38099918/coroutines-with-roman-elizarov</a> talk about Coroutines in Kotlin"}], "answers": [{"comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 15, "creation_date": 1490542639, "post_id": 43023289, "comment_id": 73147099, "body": "Great answer, but I&#39;d suggest to make one important correction. The coroutines in Kotlin <i>used to be</i> stackless in initial pre-release preview, but were actually released in Kotlin 1.1 with support for suspension at any stack depth, just like in Quasar, for example. For those who are familiar with Quasar, it is quite easy to see 1-to-1 correspondence between Quasar&#39;s <code>throws SuspendExecution</code> and Kotlin&#39;s <code>suspend</code> modifier. The implementation details are quite different, of course, but user experience is quite similar."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 5, "creation_date": 1490543214, "post_id": 43023289, "comment_id": 73147314, "body": "You are also welcome to checkout details on the actual implementation of Kotlin coroutines in the corresponding <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">design document</a>."}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 1, "creation_date": 1490556451, "post_id": 43023289, "comment_id": 73152310, "body": "So coroutines technically stackless, but at the same time allows suspending on any level in depth? Feel free to edit my answer and correct it. Also, thanks for your work on kotlin coroutines project!"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 4, "creation_date": 1490643685, "post_id": 43023289, "comment_id": 73194712, "body": "Frankly,  I don&#39;t know what the term &quot;stackful coroutine&quot; means. I have not seen any formal/technical definition of this term and I&#39;ve seen different people using it in completely contradictory ways. I&#39;d avoid using the term &quot;stackful coroutine&quot; altogether. What I can say for sure,  and what is easy to verify, is that Kotlin coroutines are way closer to Quasar and are vey much unlike C#. Putting Kotlin corutines into the same bin as C# async does not seem right regardless of your particular definition of the word &quot;stackful coroutine&quot;."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 9, "creation_date": 1490644892, "post_id": 43023289, "comment_id": 73195386, "body": "I&#39;d classify coroutines in various languages in the following way:  C#, JS, etc have <i>future/promise-based coroutines</i>. Any asynchronous computation in these languages must return some kind of future-like object. It is not really fair to call them stackless. You <i>can</i> express async computations of any depth, it is just syntactically and implementation-wise inefficient with them.  Kotlin, Quasar, etc have <i>suspension/continuation-based coroutines</i>.  They are strictly more powerful, because they can be used with future-like objects or without them, using suspending functions alone."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 7, "creation_date": 1491397658, "post_id": 43023289, "comment_id": 73534099, "body": "Ok. Here is a good paper that gives background on coroutines and gives more-or-less precise definition of &quot;stackful coroutine&quot;: <a href=\"http://www.inf.puc-rio.br/~roberto/docs/MCC15-04.pdf\" rel=\"nofollow noreferrer\">inf.puc-rio.br/~roberto/docs/MCC15-04.pdf</a> It implies that Kotlin implements <i>stackful coroutines</i>."}, {"owner": {"reputation": 544, "user_id": 748300, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bee076b42d88f39badeeaf94ac778868?s=128&d=identicon&r=PG", "display_name": "ASP", "link": "https://stackoverflow.com/users/748300/asp"}, "edited": false, "score": 1, "creation_date": 1587534862, "post_id": 43023289, "comment_id": 108545258, "body": "Updated link to the Kotlin coroutines design document: <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/coroutines.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/proposals/coroutines.md</a>"}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 72, "last_activity_date": 1587567483, "last_edit_date": 1587567483, "creation_date": 1490485621, "answer_id": 43023289, "question_id": 43021816, "link": "https://stackoverflow.com/questions/43021816/difference-between-thread-and-coroutine-in-kotlin/43023289#43023289", "title": "Difference between thread and coroutine in Kotlin", "body": "<p>Since I used coroutines only on JVM, I will talk about JVM backend, there are also Kotlin Native and Kotlin JavaScript but these backends for Kotlin are out of my scope.</p>\n\n<p>So let's start with comparing Kotlin coroutines to other languages coroutines. Basically, you should know that there are two types of Coroutines: stackless and stackful. Kotlin implements stackless coroutines - it means that coroutine doesn't have its own stack, and that limiting a little bit what coroutine can do. You can read a good explanation <a href=\"https://www.quora.com/Why-is-it-that-with-a-stackless-coroutine-only-the-top-level-routine-may-be-suspended\" rel=\"noreferrer\">here</a>. </p>\n\n<p>Examples: </p>\n\n<ul>\n<li>Stackless: C#, Scala, Kotlin</li>\n<li>Stackful: Quasar, Javaflow </li>\n</ul>\n\n<blockquote>\n  <p>What it means that coroutine is like light-weight thread?</p>\n</blockquote>\n\n<p>It means that coroutine in Kotlin doesn't have its own stack, it doesn't map on a native thread, it doesn't require context switching on a processor.</p>\n\n<blockquote>\n  <p>What is the difference?</p>\n</blockquote>\n\n<p>Thread - preemptively multitasking. (<a href=\"https://en.wikipedia.org/wiki/Thread_(computing)\" rel=\"noreferrer\">usually</a>).\nCoroutine - cooperatively multitasking.</p>\n\n<p>Thread - managed by OS (usually).\nCoroutine - managed by a user.</p>\n\n<blockquote>\n  <p>Are kotlin's coroutines actually running in parallel / concurrently?</p>\n</blockquote>\n\n<p>It depends, you can run each coroutine in its own thread, or you can run all coroutines in one thread or some fixed thread pool.</p>\n\n<p>More about how coroutines execute <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/coroutine-context-and-dispatchers.md#dispatchers-and-threads\" rel=\"noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>Even in a multi-core system, there is only one coroutine running at any given time (is it right?)</p>\n</blockquote>\n\n<p>No, see the previous answer.</p>\n\n<blockquote>\n  <p>Here I'm starting 100000 coroutines, what happens behind this code? </p>\n</blockquote>\n\n<p>Actually, it depends. But assume that you write the following code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    for (i in 0..100000) {\n        async(CommonPool) {\n            delay(1000)\n        }\n    }\n}\n</code></pre>\n\n<p>This code executes instantly.</p>\n\n<p>Because we need to wait for results from <code>async</code> call.</p>\n\n<p>So let's fix this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking {\n    for (i in 0..100000) {\n        val job = async(CommonPool) {\n            delay(1)\n            println(i)\n        }\n\n        job.join()\n    }\n}\n</code></pre>\n\n<p>When you run this program kotlin will create 2 * 100000 instances of <code>Continuation</code>, which will take a few dozen Mb of RAM, and in console, you will see numbers from 1 to 100000.</p>\n\n<p>So lets rewrite this code in this way:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking {\n\n    val job = async(CommonPool) {\n        for (i in 0..100000) {\n            delay(1)\n            println(i)\n        }\n    }\n\n    job.join()\n}\n</code></pre>\n\n<p>What we achieve now? Now we create only 100001 instances of <code>Continuation</code>, and this is much better. </p>\n\n<p>Each created Continuation will be dispatched and executed on CommonPool (which is a static instance of ForkJoinPool).</p>\n"}, {"comments": [{"owner": {"reputation": 1423, "user_id": 489631, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R7UmV.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/489631/leo"}, "edited": false, "score": 3, "creation_date": 1523775557, "post_id": 43232925, "comment_id": 86693439, "body": "So roughly speaking, does that mean starting a couroutine is similar to adding a job into a thread queue where thread queue is controlled by user?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 1423, "user_id": 489631, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R7UmV.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/489631/leo"}, "edited": false, "score": 2, "creation_date": 1523782818, "post_id": 43232925, "comment_id": 86695010, "body": "Yes. It can be a queue for a single thread or a queue for a thread pool. You can view coroutines as a higher-level primitive that lets you avoid manually (re)submitting continuations of you business logic to the queue."}, {"owner": {"reputation": 1423, "user_id": 489631, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R7UmV.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/489631/leo"}, "edited": false, "score": 0, "creation_date": 1523790055, "post_id": 43232925, "comment_id": 86696870, "body": "so doesn&#39;t that mean when we run multiple coroutines parallelly, that&#39;s not true parallelism if number of coroutines is much bigger than the thread number of threads in the queue? If that&#39;s the case, then this sounds really similar to Java&#39;s <code>Executor</code>, is there any relationship between these two?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 1423, "user_id": 489631, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/R7UmV.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/489631/leo"}, "edited": false, "score": 6, "creation_date": 1523805768, "post_id": 43232925, "comment_id": 86701704, "body": "That is not different from threads. If the number of threads is larger that number of physical core the it is not true parallelism. The difference is that threads are scheduled on cores <i>preemptively</i>, while coroutines are scheduled onto threads <i>cooperatively</i>"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 75, "last_activity_date": 1507740090, "last_edit_date": 1507740090, "creation_date": 1491399598, "answer_id": 43232925, "question_id": 43021816, "link": "https://stackoverflow.com/questions/43021816/difference-between-thread-and-coroutine-in-kotlin/43232925#43232925", "title": "Difference between thread and coroutine in Kotlin", "body": "<blockquote>\n  <p>What means that coroutine is like light-weight thread?</p>\n</blockquote>\n\n<p>Coroutine, like a thread, represents a sequence of actions that are executed concurrently with other coroutines (threads).</p>\n\n<blockquote>\n  <p>What is the difference?</p>\n</blockquote>\n\n<p>A thread is directly linked to the native thread in the corresponding OS (operating system) and consumes a considerable amount of resources. In particular, it consumes a lot of memory for its stack. That is why you cannot just create 100k threads. You are likely to run out of memory. Switching between threads involves OS kernel dispatcher and it is a pretty expensive operation in terms of CPU cycles consumed.</p>\n\n<p>A coroutine, on the other hand, is purely a user-level language abstraction. It does not tie any native resources and, in the simplest case, uses just one relatively small object in the JVM heap. That is why it is easy to create 100k coroutines. Switching between coroutines does not involve OS kernel at all. It can be as cheap as invoking a regular function.</p>\n\n<blockquote>\n  <p>Are kotlin's coroutines actually running in parallely / concurrently?\n  Even in multi-core system, there is only one coroutine running at any given time (is it right?)</p>\n</blockquote>\n\n<p>A coroutine can be either running or suspended. A suspended coroutine is not associated to any particular thread, but a running coroutine runs on some thread (using a thread is the only way to execute anything inside an OS process). Whether different coroutines all run on the same thread (a thus may use only a single CPU in a multicore system) or in different threads (and thus may use multiple CPUs) is purely in the hands of a programmer who is using coroutines. </p>\n\n<p>In Kotlin, dispatching of coroutines is controlled via <em>coroutine context</em>. You can read more about then in the \n<a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\" title=\"Guide to kotlinx.coroutines\">Guide to kotlinx.coroutines</a></p>\n\n<blockquote>\n  <p>Here I'm starting 100000 coroutines, what happens behind this code?</p>\n</blockquote>\n\n<p>Assuming that you are using <code>launch</code> function and <code>CommonPool</code> context from the <code>kotlinx.coroutines</code> project (which is open source) you can examine their source code here:</p>\n\n<ul>\n<li><code>launch</code> is defined here <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/core/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/Builders.kt\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/core/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/Builders.kt</a></li>\n<li><code>CommonPool</code> is defined here <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/core/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/CommonPool.kt\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/core/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/CommonPool.kt</a></li>\n</ul>\n\n<p>The <code>launch</code> just creates new coroutine, while <code>CommonPool</code> dispatches coroutines to a <code>ForkJoinPool.commonPool()</code> which does use multiple threads and thus executes on multiple CPUs in this example. </p>\n\n<p>The code that follows <code>launch</code> invocation in <code>{...}</code> is called a <em>suspending lambda</em>. What is it and how are suspending lambdas and functions implemented (compiled) as well as standard library functions and classes like <code>startCoroutines</code>, <code>suspendCoroutine</code> and <code>CoroutineContext</code> is explained in the corresponding <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"noreferrer\" title=\"Kotlin coroutines design document\">Kotlin coroutines design document</a>.</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19274, "favorite_count": 40, "accepted_answer_id": 43023289, "answer_count": 2, "score": 81, "last_activity_date": 1617786616, "creation_date": 1490475057, "last_edit_date": 1552981650, "question_id": 43021816, "link": "https://stackoverflow.com/questions/43021816/difference-between-thread-and-coroutine-in-kotlin", "title": "Difference between thread and coroutine in Kotlin", "body": "<p>Is there any specific language implementation in Kotlin, which differs it from another languages implementation of coroutines? </p>\n\n<ul>\n<li>What means that coroutine is like light-weight thread?</li>\n<li>What is the difference?</li>\n<li>Are kotlin coroutines actually running in parallely / concurrently?</li>\n<li>Even in multi-core system, there is only one coroutine running at any given time (is it right?)</li>\n</ul>\n\n<p>Here I'm starting 100000 coroutines, what happens behind this code? </p>\n\n<pre><code>for(i in 0..100000){\n   async(CommonPool){\n    //run long running operations\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 361, "user_id": 4833716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73719b4afb46efcd19bb1d8f9d154b92?s=128&d=identicon&r=PG&f=1", "display_name": "paul_hundal", "link": "https://stackoverflow.com/users/4833716/paul-hundal"}, "edited": false, "score": 0, "creation_date": 1490464140, "post_id": 43019785, "comment_id": 73127629, "body": "which Dagger library are you using? are you using kapt?"}, {"owner": {"reputation": 2854, "user_id": 5253659, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e3d2d8b05bf636b3efd30d5c9dc65aa?s=128&d=identicon&r=PG&f=1", "display_name": "DmitryBorodin", "link": "https://stackoverflow.com/users/5253659/dmitryborodin"}, "reply_to_user": {"reputation": 361, "user_id": 4833716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73719b4afb46efcd19bb1d8f9d154b92?s=128&d=identicon&r=PG&f=1", "display_name": "paul_hundal", "link": "https://stackoverflow.com/users/4833716/paul-hundal"}, "edited": false, "score": 0, "creation_date": 1490465153, "post_id": 43019785, "comment_id": 73128007, "body": "compile &quot;com.google.dagger:dagger:$rootProject.daggerVersion&quot;  kapt &quot;com.google.dagger:dagger-compiler:$rootProject.daggerVersio&zwnj;&#8203;n&quot;                                          version is 2.9"}], "answers": [{"tags": [], "owner": {"reputation": 2854, "user_id": 5253659, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e3d2d8b05bf636b3efd30d5c9dc65aa?s=128&d=identicon&r=PG&f=1", "display_name": "DmitryBorodin", "link": "https://stackoverflow.com/users/5253659/dmitryborodin"}, "is_accepted": false, "score": 0, "last_activity_date": 1490465976, "creation_date": 1490465976, "answer_id": 43020170, "question_id": 43019785, "link": "https://stackoverflow.com/questions/43019785/dagger2-nullable-annotation-with-kotlin/43020170#43020170", "title": "Dagger2 @Nullable annotation with Kotlin", "body": "<p>Interability with Kotlin is great, it's my inattention.  </p>\n\n<p>The problem happened because I provided instance of interface in dagger module, and provides method receives session compat as an argument without Nullable annotation.\nDagger does understand nullable types in Kotlin without any annotations.</p>\n"}], "owner": {"reputation": 2854, "user_id": 5253659, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e3d2d8b05bf636b3efd30d5c9dc65aa?s=128&d=identicon&r=PG&f=1", "display_name": "DmitryBorodin", "link": "https://stackoverflow.com/users/5253659/dmitryborodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1031, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490465976, "creation_date": 1490463841, "question_id": 43019785, "link": "https://stackoverflow.com/questions/43019785/dagger2-nullable-annotation-with-kotlin", "title": "Dagger2 @Nullable annotation with Kotlin", "body": "<p>From dagger Module:</p>\n\n<pre><code>  @Provides @PerMediaSession @Nullable\n    MediaControllerCompat provideMediaController(Context appContext, MediaSessionCompat mediaSessionCompat) {\n        try {\n            return new MediaControllerCompat(appContext, mediaSessionCompat.getSessionToken());\n        } catch (RemoteException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n\n<p>The place I inject to</p>\n\n<pre><code>class PlayerPresenter\n@Inject constructor(val fileManager: FileManager,\n                    @Nullable val mediaController: MediaControllerCompat?) : PlayerContract.Presenter { &lt;...&gt;\n</code></pre>\n\n<p>I get following compilation error</p>\n\n<pre><code>Error:(15, 10) error: android.support.v4.media.session.MediaControllerCompat is not nullable, \nbut is being provided by @Provides @...di.PerMediaSession @android.support.annotation.Nullable android.support.v4.media.session.MediaControllerCompat \n...di.MediaSessionModule.provideMediaController$app_debug(android.content.Context, android.support.v4.media.session.MediaSessionCompat)\nat:     &lt;...where it is injected...&gt;\n</code></pre>\n\n<p>I've tried to convert dagger module to Kotlin, it that case Dagger see Jetbrains @Nullable annotation, but don't see annotation in constructor class for some reason.</p>\n\n<p>I use Dagger 2.9</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "edited": false, "score": 0, "creation_date": 1490449699, "post_id": 43012903, "comment_id": 73122540, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout\">recyclerview No adapter attached; skipping layout</a>"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1490598416, "post_id": 43012903, "comment_id": 73164489, "body": "What happens, if you set your adapter inside request finished callback?"}, {"owner": {"reputation": 1314, "user_id": 553905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cbf00d7759007694bdd21eddf7eedf5c?s=128&d=identicon&r=PG", "display_name": "Billy", "link": "https://stackoverflow.com/users/553905/billy"}, "edited": false, "score": 0, "creation_date": 1495534943, "post_id": 43012903, "comment_id": 75282584, "body": "Does the request actually gets returned? I&#39;m not sure about Volley but you&#39;re initialising the <code>val queue</code> inside the method, then adding a request to that queue, but that queue object would only exist within the scope of the <code>request()</code> method, it probably got garbage collected before you get your requests back. Also, don&#39;t you need to call <code>queue.start()</code> before it does anything?"}], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 5789746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6bO0.jpg?s=128&g=1", "display_name": "Siddhartha Maji", "link": "https://stackoverflow.com/users/5789746/siddhartha-maji"}, "is_accepted": false, "score": 6, "last_activity_date": 1523517626, "last_edit_date": 1523517626, "creation_date": 1495533684, "answer_id": 44131652, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/44131652#44131652", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>Look at following example, I think you this can give you an idea. </p>\n\n<p>You can get the example from here : <a href=\"https://github.com/Siddharha/RecyclerviewTest_Kotlin\" rel=\"nofollow noreferrer\">https://github.com/Siddharha/RecyclerviewTest_Kotlin</a></p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nprivate var myAdapter: MyAdapter? = null\nprivate var arrayList: ArrayList&lt;MyItem&gt;? = null\nprivate var layoutManager: RecyclerView.LayoutManager? = null\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    initialize()\n    setupList()\n    loaddata()\n}\n\nprivate fun loaddata() {\n\n    for (i in 0..9) {\n        val myItem = MyItem()\n        myItem.name = \"Sid_\" + i\n        myItem.number = \"098899876\" + i\n        arrayList!!.add(myItem)\n    }\n\n    myAdapter!!.notifyDataSetChanged()\n\n}\n\nprivate fun setupList() {\n    rlItems!!.layoutManager = layoutManager\n    rlItems!!.adapter = myAdapter\n}\n\nprivate fun initialize() {\n    arrayList = ArrayList&lt;MyItem&gt;()\n    layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n    myAdapter = MyAdapter(arrayList!!, this, R.layout.item_cell)\n\n  }\n}\n</code></pre>\n\n<p><strong>Adapter Class</strong></p>\n\n<pre><code>internal class MyAdapter(private val arrayList: ArrayList&lt;MyItem&gt;,\n                     private val context: Context,\n                     private val layout: Int) : RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;() {\n\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyAdapter.ViewHolder {\n    val v = LayoutInflater.from(parent.context).inflate(layout, parent, false)\n    return ViewHolder(v)\n}\n\noverride fun onBindViewHolder(holder: MyAdapter.ViewHolder, position: Int) {\n    holder.bindItems(arrayList[position])\n}\n\noverride fun getItemCount(): Int {\n    return arrayList.size\n}\n\ninternal inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bindItems(items: MyItem) {\n        itemView.tvName.text = items.name\n        itemView.tvNumber.text = items.number\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Item Class</strong></p>\n\n<pre><code>internal class MyItem {\nvar name: String? = null\nvar number: String? = null\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2138, "user_id": 5876513, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/M9ApW.jpg?s=128&g=1", "display_name": "Sanjay Bhalani", "link": "https://stackoverflow.com/users/5876513/sanjay-bhalani"}, "is_accepted": false, "score": 1, "last_activity_date": 1497524411, "creation_date": 1497524411, "answer_id": 44565797, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/44565797#44565797", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>try to use Delegate Adapters below is reference link. </p>\n\n<p>Ref Link : <a href=\"https://android.jlelse.eu/keddit-part-4-recyclerview-delegate-adapters-data-classes-with-kotlin-9248f44327f7\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/keddit-part-4-recyclerview-delegate-adapters-data-classes-with-kotlin-9248f44327f7</a></p>\n"}, {"comments": [{"owner": {"reputation": 1395, "user_id": 5719810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3UhskKSrFJM/AAAAAAAAAAI/AAAAAAAAADo/Jl61H5BTkYg/photo.jpg?sz=128", "display_name": "Shamsul Arefin Sajib", "link": "https://stackoverflow.com/users/5719810/shamsul-arefin-sajib"}, "edited": false, "score": 1, "creation_date": 1551366909, "post_id": 45453125, "comment_id": 96622163, "body": "Most simplistic and minimalist example ever."}, {"owner": {"reputation": 81, "user_id": 10335925, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ttTBA0JjzvQ/AAAAAAAAAAI/AAAAAAAAEKM/dnbVsrkVpu8/photo.jpg?sz=128", "display_name": "Gabriel Fernandez", "link": "https://stackoverflow.com/users/10335925/gabriel-fernandez"}, "edited": false, "score": 0, "creation_date": 1606861422, "post_id": 45453125, "comment_id": 115090306, "body": "but no example of how to get an item inside the adapter"}], "tags": [], "owner": {"reputation": 1834, "user_id": 3881947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0lhYF.jpg?s=128&g=1", "display_name": "Deepshikha Puri", "link": "https://stackoverflow.com/users/3881947/deepshikha-puri"}, "is_accepted": false, "score": 22, "last_activity_date": 1501655590, "creation_date": 1501655590, "answer_id": 45453125, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/45453125#45453125", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>You can download the source code from here(<a href=\"http://deepshikhapuri.blogspot.in/2017/07/recyclerview-in-kotlin-android.html\" rel=\"noreferrer\">Recyclerview In Kotlin Android</a>)</p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>package com.deepshikha.recyclerviewkotlin\nimport android.app.Activity\nimport android.os.Bundle\nimport android.support.v7.widget.LinearLayoutManager\nimport android.view.Window\nimport android.view.WindowManager\nimport android.widget.LinearLayout\nimport kotlinx.android.synthetic.main.activity_main.*\nimport net.simplifiedcoding.recyclerviewexample.CustomAdapter\n\nclass MainActivity : Activity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        requestWindowFeature(Window.FEATURE_NO_TITLE)\n        window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)\n\n        setContentView(R.layout.activity_main)\n\n        val users = ArrayList&lt;Model_Details&gt;()\n        users.add(Model_Details(\"Kaju katli\", \"Kaju katli, also known as kaju Katari or kaju barfi, is an Indian dessert similar to a barfi.\",R.drawable.kaju))\n        users.add(Model_Details(\"Doughnut\", \"The doughnut is popular in many countries and prepared in various forms as a sweet snack that can be homemade or purchased in bakeries, supermarkets, food stalls, and franchised specialty outlets\",R.drawable.donuts))\n        users.add(Model_Details(\"Panna cotta\", \"Panna cotta is an Italian dessert of sweetened cream thickened with gelatin and molded. The cream may be aromatized with rum, coffee, vanilla, or other flavorings.\",R.drawable.panna_cotta))\n        users.add(Model_Details(\"Rose Cookies\", \"Rose cooky is a famous South Indian snack made during festivals\",R.drawable.rosecookies))\n        users.add(Model_Details(\"Belgian waffle\", \"In North America, Belgian waffles are a variety of waffle with a lighter batter, larger squares, and deeper pockets than ordinary American waffles\",R.drawable.belgianwaffle))\n\n        val obj_adapter = CustomAdapter(users)\n\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        recyclerView.adapter = obj_adapter\n    }\n\n\n}\n</code></pre>\n\n<p><strong>CustomAdapter.kt:</strong></p>\n\n<pre><code>package net.simplifiedcoding.recyclerviewexample\n\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport com.deepshikha.recyclerviewkotlin.Model_Details\nimport com.deepshikha.recyclerviewkotlin.R\nimport kotlinx.android.synthetic.main.adapter_details.view.*\n\nclass CustomAdapter(val userList: ArrayList&lt;Model_Details&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    //this method is returning the view for each item in the list\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.adapter_details, parent, false)\n        return ViewHolder(v)\n    }\n\n    //this method is binding the data on the list\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(userList[position])\n    }\n\n    //this method is giving the size of the list\n    override fun getItemCount(): Int {\n        return userList.size\n    }\n\n    //the class is hodling the list view\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(user: Model_Details) {\n            itemView.tv_name.text=user.name\n            itemView.tv_des.text=user.des\n            itemView.iv_name.setImageResource(user.image)\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 10335925, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ttTBA0JjzvQ/AAAAAAAAAAI/AAAAAAAAEKM/dnbVsrkVpu8/photo.jpg?sz=128", "display_name": "Gabriel Fernandez", "link": "https://stackoverflow.com/users/10335925/gabriel-fernandez"}, "edited": false, "score": 0, "creation_date": 1606861476, "post_id": 49717433, "comment_id": 115090328, "body": "private fun getItem is not accessible to use"}], "tags": [], "owner": {"reputation": 2884, "user_id": 5562901, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/tVhEf.jpg?s=128&g=1", "display_name": "Saurabh Padwekar", "link": "https://stackoverflow.com/users/5562901/saurabh-padwekar"}, "is_accepted": false, "score": 1, "last_activity_date": 1523516664, "last_edit_date": 1523516664, "creation_date": 1523187672, "answer_id": 49717433, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/49717433#49717433", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>I have my RecyclerView Adapter which is as follows, </p>\n\n<pre><code>internal class OptionsAdapter : RecyclerView.Adapter&lt;OptionsAdapter.ViewHolder&gt;() {\n\nprivate val mOptionList = ArrayList&lt;Option&gt;()\nprivate var mOnItemClickListener: OnItemClickListener&lt;Option&gt;? = null\n\nvar data: List&lt;Option&gt;\n    get() = mOptionList\n    set(list) {\n        mOptionList.clear()\n        mOptionList.addAll(list)\n        notifyDataSetChanged()\n    }\n\nfun setOnItemClickListener(listener: OnItemClickListener&lt;Option&gt;) {\n    mOnItemClickListener = listener\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.layout_text, parent, false))\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val option = getItem(position)\n    holder.textViewOption.setText(option.text)\n    holder.textViewDescription.setText(option.subText)\n}\n\n\n\nprivate fun getItem(index: Int): Option {\n    return mOptionList[index]\n}\n\noverride fun getItemCount(): Int {\n    return mOptionList.size\n}\n\n\ninternal inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    var textViewOption: TextView\n    var textViewDescription: TextView\n    var imageViewOptionIcon: ImageView\n\n    init {\n        textViewOption = itemView.findViewById&lt;TextView&gt;(R.id.textview_option)\n        imageViewOptionIcon = itemView.findViewById&lt;ImageView&gt;(R.id.imageview_option_icon)\n        textViewDescription = itemView.findViewById&lt;TextView&gt;(R.id.textview_description)\n        itemView.setOnClickListener {\n            if (mOnItemClickListener != null) {\n                mOnItemClickListener!!.onItemClick(getItem(adapterPosition))\n            }\n        }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1675, "user_id": 5653015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQJk9.png?s=128&g=1", "display_name": "iOS Lifee", "link": "https://stackoverflow.com/users/5653015/ios-lifee"}, "is_accepted": false, "score": 0, "last_activity_date": 1529769139, "creation_date": 1529769139, "answer_id": 51002757, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/51002757#51002757", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p><strong>On .MainActivity.kt</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    //rcv is id of Recyclerview\n    rcv.layoutManager = LinearLayoutManager(this)\n    rcv.adapter = MyAdpater()\n}\n</code></pre>\n\n<p><strong>Create a new .kt file for creating Adapter</strong></p>\n\n<pre><code>class MyAdpater : RecyclerView.Adapter&lt;ViewHolder&gt;() {\nval arr = listOf(\"A\", \"B\", \"C\", \"D\", \"E\") //static array\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.textView.setText(arr.get(position)) //set text to textview by position\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    return ViewHolder(TextView(parent.context))\n }\n\noverride fun getItemCount(): Int {\n    return arr.count() //return array count\n}}\n\nclass ViewHolder(val textView: TextView): RecyclerView.ViewHolder(textView){ //ViewHolder with textview}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1542628258, "last_edit_date": 1542628258, "creation_date": 1542287018, "answer_id": 53320111, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/53320111#53320111", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>I have created a nice adapter may be it helped in reducing code..</p>\n\n<pre><code>class ResultActivity : BaseActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.question_list_activity)\n\n        if (intent != null) {\n            var results = intent.getParcelableArrayListExtra&lt;Parcelable&gt;(\"keyResults\") as ArrayList&lt;ResultBO&gt;\n\n            if (results.size &gt; 0) {\n                recycler_view.adapter = ResultAdapter(results, object : OnRecyclerItemClickListener {\n                    override fun onItemClicked(view: View?, position: Int) {\n                        /*var intent = Intent(this@SubjectListActivity,McqActivity::class.java)\n                        intent.putExtra(\"keyTagBO\",subjects.get(position))\n                        startActivity(intent)*/\n                    }\n                });\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>item_result.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/titleTv\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Dummy Value\"\n        android:textAlignment=\"center\"\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Large\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/option1Tv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Dummy\"\n            android:textAlignment=\"center\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/option2Tv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Dummy Value\"\n            android:textAlignment=\"center\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/option3Tv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Dummy\"\n            android:textAlignment=\"center\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/option4Tv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:text=\"Dummy Value\"\n            android:textAlignment=\"center\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;\n\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>ResultADapter.class</strong></p>\n\n<pre><code>class ResultAdapter(items: List&lt;ResultBO&gt;, onRecyclerItemClickListener: OnRecyclerItemClickListener) : BaseAdapter&lt;ResultBO, ResultViewHolder&gt;(items, onRecyclerItemClickListener) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, pos: Int): ResultViewHolder {\n        return ResultViewHolder(parent, R.layout.item_result,onRecyclerItemClickListener)\n    }\n}\n</code></pre>\n\n<p><strong>BaseViewHolder.class</strong></p>\n\n<pre><code>abstract class BaseViewHolder&lt;T : BaseModel&gt;(parent: ViewGroup, @LayoutRes itemLayoutId: Int,\n                                             var onRecyclerItemClickListener: OnRecyclerItemClickListener) :\n        RecyclerView.ViewHolder(LayoutInflater.from(parent.context).inflate(itemLayoutId, parent,\n                false)), View.OnClickListener {\n\n    override fun onClick(v: View?) {\n        onRecyclerItemClickListener.onItemClicked(v, adapterPosition)\n    }\n\n    abstract fun bindData(data: T)\n\n    init {\n        itemView.setOnClickListener(this)\n    }\n}\n</code></pre>\n\n<p>BaseAdapter</p>\n\n<pre><code>abstract class BaseAdapter&lt;T : BaseModel, U : BaseViewHolder&lt;T&gt;&gt;\n(var items: List&lt;T&gt;, var onRecyclerItemClickListener: OnRecyclerItemClickListener)\n    : RecyclerView.Adapter&lt;U&gt;() {\n\n    override fun getItemCount(): Int {\n        return items.size\n    }\n\n    override fun onBindViewHolder(holder: U, pos: Int) {\n        holder.bindData(items.get(pos))\n    }\n}\n</code></pre>\n\n<p><strong>ResultViewHolder.class</strong></p>\n\n<pre><code>class ResultViewHolder(parent: ViewGroup, itemLayoutId: Int, onRecyclerItemClickListener: OnRecyclerItemClickListener) : BaseViewHolder&lt;ResultBO&gt;(parent, itemLayoutId, onRecyclerItemClickListener) {\n\n    override fun bindData(data: ResultBO) {\n        itemView.titleTv.setText(data.questionBO.title)\n\n        itemView.option1Tv.setText(data.questionBO.options.get(0))\n        itemView.option2Tv.setText(data.questionBO.options.get(1))\n        itemView.option3Tv.setText(data.questionBO.options.get(2))\n        itemView.option4Tv.setText(data.questionBO.options.get(3))\n\n        when(data.orignalAnswer()) {\n            OptionType.A -&gt; itemView.option1Tv.setBackgroundColor(Color.GREEN)\n            OptionType.B -&gt; itemView.option2Tv.setBackgroundColor(Color.GREEN)\n            OptionType.C -&gt; itemView.option3Tv.setBackgroundColor(Color.GREEN)\n            OptionType.D -&gt; itemView.option4Tv.setBackgroundColor(Color.GREEN)\n        }\n\n        if(!data.isCorrectlyAnswered()){\n            when(data.selectedOption) {\n                OptionType.A -&gt; itemView.option1Tv.setBackgroundColor(Color.RED)\n                OptionType.B -&gt; itemView.option2Tv.setBackgroundColor(Color.RED)\n                OptionType.C -&gt; itemView.option3Tv.setBackgroundColor(Color.RED)\n                OptionType.D -&gt; itemView.option4Tv.setBackgroundColor(Color.RED)\n            }\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8688458, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ElgMIDa3hJ8/AAAAAAAAAAI/AAAAAAAAAFA/JGgRS4B_BCM/photo.jpg?sz=128", "display_name": "Prat137", "link": "https://stackoverflow.com/users/8688458/prat137"}, "is_accepted": false, "score": 1, "last_activity_date": 1613541446, "last_edit_date": 1613541446, "creation_date": 1613482078, "answer_id": 66225267, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin/66225267#66225267", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>Recyclerview with different listener for different view</p>\n<p><strong>AddressAdapter</strong></p>\n<pre><code>import android.view.ViewGroup\nimport androidx.recyclerview.widget.RecyclerView\n\n\nclass AddressAdapter (private val listener: (AddressData, Int,Int) -&gt; Unit):\n    RecyclerView.Adapter&lt;AddressViewHolder&gt;() {\nvar lstAddress = emptyList&lt;AddressData&gt;()\n\nfun setData(items: List&lt;AddressData&gt;) {\n    lstAddress = items\n    notifyDataSetChanged()\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AddressViewHolder {\n    return AddressViewHolder.create(parent)\n}\n\noverride fun getItemCount(): Int {\n    return lstAddress.size\n}\n\noverride fun onBindViewHolder(holder: AddressViewHolder, position: Int) {\n    return holder.bind(lstAddress[position], listener, position)\n}\n\nfun getData(): List&lt;AddressData&gt; {\n    return lstAddress\n}\n}\n</code></pre>\n<p><strong>AddressViewHolder</strong></p>\n<pre><code>import android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.RecyclerView\n\nimport kotlinx.android.extensions.LayoutContainer\nimport kotlinx.android.synthetic.main.item_address.view.*\n\nclass AddressViewHolder(override val containerView: View) :\n    RecyclerView.ViewHolder(containerView), LayoutContainer {\n\ncompanion object {\n    fun create(parent: ViewGroup): AddressViewHolder {\n        val view =\n                LayoutInflater.from(parent.context)\n                        .inflate(R.layout.item_address, parent, false)\n        return AddressViewHolder(view)\n    }\n}\n\nfun bind(\n        item: AddressData,\n        listener: (AddressData, Int,Int) -&gt; Unit,\n        position: Int\n) {\n    item.address.let {\n        itemView.tvAddress.text = it\n    }\n    itemView.tvEdit.setOnClickListener {\n        listener.invoke(item, position,R.id.tvEdit)\n    }\n    itemView.tvDelete.setOnClickListener {\n        listener.invoke(item, position,R.id.tvDelete)\n    }\n    itemView . tvAddress . setOnClickListener {\n        listener.invoke(item, position, R.id.tvAddress)\n    }\n}\n\n}\n</code></pre>\n<p><strong>item_address</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tvWorkPlace&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentStart=&quot;true&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginStart=&quot;@dimen/letter_medium&quot;\n    android:layout_marginTop=&quot;@dimen/letter_medium&quot;\n    android:gravity=&quot;top&quot;\n    android:text=&quot;@string/work_place&quot;\n    android:textColor=&quot;@color/black_color&quot;\n    android:textSize=&quot;@dimen/letter_medium&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tvDefault&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginStart=&quot;@dimen/spacing_medium&quot;\n    android:text=&quot;@string/txt_default&quot;\n    android:textColor=&quot;#002D56&quot;\n    android:textSize=&quot;@dimen/letter_small&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;@+id/tvWorkPlace&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/tvWorkPlace&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/tvWorkPlace&quot; /&gt;\n\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tvAddress&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginTop=&quot;@dimen/spacing_small&quot;\n    android:text=&quot;76 Playfair Road, #04-06, LHK2, Singapore 367996&quot;\n    android:textSize=&quot;@dimen/letter_small&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/tvWorkPlace&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tvWorkPlace&quot; /&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tvEdit&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginTop=&quot;@dimen/spacing_large&quot;\n    android:text=&quot;@string/txt_edit&quot;\n    android:textAllCaps=&quot;true&quot;\n    android:textColor=&quot;@color/colorSecondary&quot;\n    android:textSize=&quot;@dimen/letter_small&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintStart_toStartOf=&quot;@+id/tvAddress&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tvAddress&quot; /&gt;\n\n&lt;androidx.appcompat.widget.AppCompatTextView\n    android:id=&quot;@+id/tvDelete&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_marginStart=&quot;@dimen/spacing_large&quot;\n    android:text=&quot;@string/txt_delete&quot;\n    android:textAllCaps=&quot;true&quot;\n    android:textColor=&quot;@color/colorPrimaryNew&quot;\n    android:textSize=&quot;@dimen/letter_small&quot;\n    android:textStyle=&quot;bold&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/tvEdit&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/tvEdit&quot; /&gt;\n\n&lt;View\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0.2dp&quot;\n    android:layout_marginTop=&quot;@dimen/spacing_medium&quot;\n    android:background=&quot;@color/divider_color&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/tvDelete&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>AddressData</strong></p>\n<pre><code>class AddressData (\n    var code: Int,\n    var address:String\n)\n</code></pre>\n<p><strong>In Activity</strong></p>\n<pre><code>    private fun setUpAdapter() {\n    adapter = AddressAdapter(fun(item: AddressData, position: Int, type: Int) {\n        when (type) {\n            R.id.tvEdit -&gt; {\n                context.showToast(\n                        &quot;Editbtn&quot; + position,\n                        showInReleaseBuild = true\n                )\n            }\n            R.id.tvDelete -&gt; {\n                context.showToast(\n                        &quot;Deletebtn&quot; + position,\n                        showInReleaseBuild = true\n                )\n            }\n            R.id.tvAddress -&gt; {\n                context.showToast(\n                        &quot;addressbtn&quot; + position,\n                        showInReleaseBuild = true\n                )\n            }\n\n        }\n\n\n    })\n    rvAddress.adapter = adapter\n    rvAddress.setEmptyView(llEmptyViewMain)\n    val addressData = AddressData(1, &quot;abcd&quot;)\n    val addressData1 = AddressData(2, &quot;abceeed&quot;)\n\n\n    lstData = listOf(addressData, addressData1)\n    adapter.setData(lstData)\n}\n</code></pre>\n<p><strong>CustomRecycler Xml</strong></p>\n<pre><code>    &lt;com.example.views.CustomRecyclerView\n    android:id=&quot;@+id/rvAddress&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginStart=&quot;@dimen/mediumSize&quot;\n    android:layout_marginTop=&quot;@dimen/mediumSize&quot;\n    android:layout_marginEnd=&quot;@dimen/mediumSize&quot;\n    app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;\n    app:list_type=&quot;list&quot;\n    tools:listitem=&quot;@layout/item_address&quot; /&gt;\n\n    &lt;include layout=&quot;@layout/layout_recycler_emptyview&quot; /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1713, "user_id": 3749128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/e4kNk.jpg?s=128&g=1", "display_name": "rakeshdas", "link": "https://stackoverflow.com/users/3749128/rakeshdas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37788, "favorite_count": 1, "answer_count": 7, "score": 15, "last_activity_date": 1613541446, "creation_date": 1490419686, "question_id": 43012903, "link": "https://stackoverflow.com/questions/43012903/trying-to-create-a-simple-recyclerview-in-kotlin-but-the-adapter-is-not-applyin", "title": "Trying to create a simple recyclerView in Kotlin, but the adapter is not applying properly", "body": "<p>I'm trying to create a simple recyclerView in Kotlin with data that I get via Volley (which I have confirmed returns the correct data), I keep running to the error <code>E/RecyclerView: No adapter attached; skipping layout</code> when in fact I have specified an adapter with the custom adapter class that I created:</p>\n\n<pre><code>class ImageAdapter(var c: Context, var list: ArrayList&lt;Image&gt;) : RecyclerView.Adapter&lt;ImageAdapter.ViewHolder&gt;() {\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder? {\n    val layoutInflater = LayoutInflater.from(parent.context)\n    return ViewHolder(layoutInflater.inflate(R.layout.image_cardview, parent, false))\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val imageUrl = list[position].url\n    val submitter = list[position].submitter\n    val color = list[position].color\n    holder.submitterTV.text = submitter\n    holder.card.setCardBackgroundColor(Color.parseColor(color))\n}\n\noverride fun getItemCount() = list.size\nclass ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    val card = itemView.card\n    val submitterTV = itemView.submitter\n    val imageView = itemView.image\n}\n\n}\n</code></pre>\n\n<p>This is my MainActivty class, where I make the actual call for the JSON and attempt to attach my adapter with my ArrayList that I have created:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nval images = ArrayList&lt;Image&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    imageList.layoutManager = LinearLayoutManager(applicationContext)\n    request(\"https://api.unsplash.com/photos/curated/?client_id=API_KEY\")\n    imageList.adapter = ImageAdapter(applicationContext, images)\n\n}\n\nprivate fun request(url: String) {\n    val queue = Volley.newRequestQueue(this)\n    val stringRequest = JsonArrayRequest(url, Response.Listener&lt;JSONArray&gt; { response -&gt;\n        try {\n            for (i in 0..(response.length() - 1)) {\n                val image: Image = Image(response.getJSONObject(i).getJSONObject(\"urls\").getString(\"full\"), response.getJSONObject(i).getJSONObject(\"user\").getString(\"username\"), response.getJSONObject(i).getString(\"color\"))\n                images.add(image)\n            }\n\n            imageList.adapter.notifyDataSetChanged()\n\n        } catch (e: JSONException) {\n            e.printStackTrace()\n        }\n    }, Response.ErrorListener { })\n    queue.add(stringRequest)\n}\n}\n</code></pre>\n\n<p>I have created a custom data class <code>Image</code> which stores three fields: the imageUrl, submitter and color, all of which are derived from the JSON. I thought that calling <code>notifyDataSetChanged()</code> on my adapter after the request was completed would allow the recyclerView to get updated and show the items, but nothing at all shows up on the screen. Does anyone have any idea as to where I messed up?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 2, "creation_date": 1490403254, "post_id": 43011309, "comment_id": 73112301, "body": "I&#39;m not sure I understand the question. The code you posted does <i>precisely</i> what you&#39;re asking"}, {"owner": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "reply_to_user": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 0, "creation_date": 1490456839, "post_id": 43011309, "comment_id": 73124926, "body": "Just got confused, no need for &#39;is from&#39; key word is&#39; is also capable of doing that...."}], "answers": [{"tags": [], "owner": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "is_accepted": false, "score": 3, "last_activity_date": 1490404174, "creation_date": 1490404174, "answer_id": 43011431, "question_id": 43011309, "link": "https://stackoverflow.com/questions/43011309/how-to-determine-if-an-object-is-an-inherited-from-a-certain-class-in-kotlin/43011431#43011431", "title": "How to determine if an object is an inherited from a certain class in Kotlin?", "body": "<p>I'm guessing what you're asking is how to determine if <code>v</code> <em>directly</em> inherits <code>BaseModel</code> as opposed to via an intermediate base class?</p>\n\n<p>If that's the case, then this will do:</p>\n\n<pre><code>v.javaClass.superclass == BaseModel::class.java\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1490426089, "creation_date": 1490426089, "answer_id": 43013642, "question_id": 43011309, "link": "https://stackoverflow.com/questions/43011309/how-to-determine-if-an-object-is-an-inherited-from-a-certain-class-in-kotlin/43013642#43013642", "title": "How to determine if an object is an inherited from a certain class in Kotlin?", "body": "<p>As @Krzysztof Kozmic said, the example you gave does exactly what you're asking for. Just to give some more examples:</p>\n\n<pre><code>// Built in types\nval x: Int = 25\nprintln(x is Number) // true\n\n// Custom types\nopen class A\nopen class B : A()\nopen class C : B()\n\nprintln(B() is A) // true\nprintln(C() is A) // true\n</code></pre>\n"}], "owner": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1686, "favorite_count": 0, "accepted_answer_id": 43013642, "answer_count": 2, "score": 1, "last_activity_date": 1490426089, "creation_date": 1490403083, "last_edit_date": 1490417130, "question_id": 43011309, "link": "https://stackoverflow.com/questions/43011309/how-to-determine-if-an-object-is-an-inherited-from-a-certain-class-in-kotlin", "title": "How to determine if an object is an inherited from a certain class in Kotlin?", "body": "<p>In the test:</p>\n\n<pre><code>if(v is BaseModel)\n</code></pre>\n\n<p>will assert true if v is a direct instance of type BaseModel but will \nassert false if v is not a direct instance of type BaseModel but is inherited from BaseModel. Would it be nice if Kotlin has a keyword that will assert true if there is a keyword 'is from' such that the test </p>\n\n<pre><code>if(v is from BaseModel)\n</code></pre>\n\n<p>will assert true if v's class is inherited from BaseModel.</p>\n\n<p>But how do Kotlin resolve this currently?</p>\n"}, {"tags": ["maven", "pom.xml", "kotlin", "bintray"], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 2, "last_activity_date": 1490426845, "creation_date": 1490426845, "answer_id": 43013738, "question_id": 43010977, "link": "https://stackoverflow.com/questions/43010977/bintray-dependencies-wont-download-in-intellij/43013738#43013738", "title": "Bintray dependencies won&#39;t download in IntelliJ", "body": "<p>You defined that you want <code>pom</code> not <code>jar</code>.</p>\n\n<p>Import your dependency like this:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.jetbrains.exposed&lt;/groupId&gt;\n  &lt;artifactId&gt;exposed&lt;/artifactId&gt;\n  &lt;version&gt;0.7.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 11425, "user_id": 928611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da05aaa7485715ca1f59f19a6ba69d7a?s=128&d=identicon&r=PG", "display_name": "Jacek Kwiecie\u0144", "link": "https://stackoverflow.com/users/928611/jacek-kwiecie%c5%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 43013738, "answer_count": 1, "score": 3, "last_activity_date": 1549803064, "creation_date": 1490399911, "last_edit_date": 1549803064, "question_id": 43010977, "link": "https://stackoverflow.com/questions/43010977/bintray-dependencies-wont-download-in-intellij", "title": "Bintray dependencies won&#39;t download in IntelliJ", "body": "<p>I created a simple kotlin project in IntelliJ 2017.1</p>\n\n<p>I wanted to add dependency to this library for starters: <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/Exposed</a></p>\n\n<p>I added maven framework, and edited pom.xml so it looks like below. I removed kotlin config entries for simplicity.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;repositories&gt;\n\n        &lt;repository&gt;\n            &lt;id&gt;exposed&lt;/id&gt;\n            &lt;name&gt;exposed&lt;/name&gt;\n            &lt;url&gt;https://dl.bintray.com/kotlin/exposed&lt;/url&gt;\n        &lt;/repository&gt;\n\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.exposed&lt;/groupId&gt;\n            &lt;artifactId&gt;exposed&lt;/artifactId&gt;\n            &lt;version&gt;0.7.6&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Kotlin libraries got downloaded and I see them in external libraries. Unfortunately that's not the case for Exposed. What am I missing?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 4, "creation_date": 1490393555, "post_id": 43009838, "comment_id": 73109506, "body": "Provide more details please. You can&#39;t pass object of not R type as prop2 param."}], "answers": [{"tags": [], "owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "is_accepted": false, "score": 0, "last_activity_date": 1490460151, "creation_date": 1490460151, "answer_id": 43019068, "question_id": 43009838, "link": "https://stackoverflow.com/questions/43009838/kotlin-method-generic-type-verification/43019068#43019068", "title": "Kotlin method generic type verification", "body": "<p>If you want to restrict <code>R</code> to children of <code>Foo</code> then provide upper bound constraint:</p>\n\n<pre><code>inline fun &lt;T: Any, R: Foo&gt; List&lt;T&gt;.test(prop1: KProperty1&lt;T, R&gt;, prop2: R): List&lt;T&gt; {\n    println(prop1.invoke(this.first())::class == prop2::class)\n    return listOf()\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7764457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73be11d85e40201b1f03eafaa0c4f921?s=128&d=identicon&r=PG&f=1", "display_name": "rwhite", "link": "https://stackoverflow.com/users/7764457/rwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490460151, "creation_date": 1490392797, "last_edit_date": 1490456668, "question_id": 43009838, "link": "https://stackoverflow.com/questions/43009838/kotlin-method-generic-type-verification", "title": "Kotlin method generic type verification", "body": "<p>I'm trying to write a method that takes a KProperty1 and a object of R like so</p>\n\n<pre><code>inline fun &lt;T: Any, R: Any&gt; List&lt;T&gt;.test(prop1: KProperty1&lt;T, R&gt;, prop2: R): List&lt;T&gt;\n</code></pre>\n\n<p>except I'm not getting type checking on the prop2. Is there any way to ensure that prop2 is of type R?</p>\n\n<p>Here is a more complete example</p>\n\n<pre><code>class Foo\n\nclass Bar(val foo: Foo)\n\nfun main(args: Array&lt;String&gt;): Unit {\n    val list = listOf(Bar(Foo()))\n    list.test(Bar::foo, Foo()) // This should work\n    list.test(Bar::foo, \"\") // I want this to be a type error since a string is not a Foo\n}\n\ninline fun &lt;T: Any, R: Any&gt; List&lt;T&gt;.test(prop1: KProperty1&lt;T, R&gt;, prop2: R): List&lt;T&gt; {\n    println(prop1.invoke(this.first())::class == prop2::class)\n    return listOf()\n}\n</code></pre>\n"}, {"tags": ["java", "multithreading", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1490389889, "post_id": 43008419, "comment_id": 73107974, "body": "What do you mean by <code>same time</code>? I can&#39;t call <code>onNext</code> in quick succession? This means that Rx itself is not thread safe. It can happen in real life that two users click on a button at the same time for example and I get two <code>onNext</code>s this way."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1490392832, "post_id": 43008419, "comment_id": 73109241, "body": "It is specified by Rx that anyone who calls the <code>Observer</code> interface must make sure there are no concurrent calls. To support cases where this isn&#39;t possible there is the <code>toSerialized()</code> operators which enforce it with some overhead."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 4, "last_activity_date": 1490386676, "creation_date": 1490386676, "answer_id": 43008419, "question_id": 43006470, "link": "https://stackoverflow.com/questions/43006470/rxjava2-publishsubject-subscriber-fails-to-receive-items-when-called-from-multip/43008419#43008419", "title": "RxJava2 PublishSubject subscriber fails to receive items when called from multiple threads using SingleScheduler", "body": "<p>RxJava has a requirement that calls to <code>on*</code> do not happen at the same time. This means that your code is not thread-safe.</p>\n\n<p>Since only the subject itself is used in a concurrent fashion it should be fixable by serializing (essentially Java's \"synchronized\") the subject itself using the <code>Subject&lt;T&gt;.toSerialized()</code> method.</p>\n\n<p><code>val subject = PublishSubject.create&lt;String&gt;()</code> becomes <code>val subject = PublishSubject.create&lt;String&gt;().toSerialized()</code>.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 43008419, "answer_count": 1, "score": 1, "last_activity_date": 1490386676, "creation_date": 1490379180, "question_id": 43006470, "link": "https://stackoverflow.com/questions/43006470/rxjava2-publishsubject-subscriber-fails-to-receive-items-when-called-from-multip", "title": "RxJava2 PublishSubject subscriber fails to receive items when called from multiple threads using SingleScheduler", "body": "<p>I have the following unit test in which I try to send 10 <code>String</code>s from different threads and test that I receive those <code>String</code>s from a single thread. My problem is that this test flaps. Sometimes it succeeds but sometimes I only receive <code>8</code> or <code>9</code> items and after that the test hangs until the latch times out. Am I using the <code>SingleScheduler</code> in the wrong way? Did I miss something else?</p>\n\n<pre><code>val consumerCallerThreadNames = mutableSetOf&lt;String&gt;()\nval messageCount = AtomicInteger(0)\n\nval latch = CountDownLatch(MESSAGE_COUNT)\n\n@Test\nfun someTest() {\n    val msg = \"foo\"\n\n    val subject = PublishSubject.create&lt;String&gt;()\n    subject\n            .observeOn(SingleScheduler())\n            .subscribe({ message -&gt;\n                consumerCallerThreadNames.add(Thread.currentThread().name)\n                messageCount.incrementAndGet()\n                latch.countDown()\n            }, Throwable::printStackTrace)\n\n    1.rangeTo(MESSAGE_COUNT).forEach {\n        Thread({\n            try {\n                subject.onNext(msg)\n            } catch (t: Throwable) {\n                t.printStackTrace()\n            }\n        }).start()\n    }\n    latch.await(10, SECONDS)\n\n    assertThat(consumerCallerThreadNames).hasSize(1)\n    assertThat(messageCount.get()).isEqualTo(MESSAGE_COUNT)\n}\n\ncompanion object {\n    val MESSAGE_COUNT = 10\n}\n</code></pre>\n\n<p>If I rewrite this to use a single threaded <code>ExecutorService</code> the test no longer flaps so the problem is either with Rx or my lacking knowledge about Rx.</p>\n"}, {"tags": ["java", "exception", "null", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1490374146, "post_id": 43003462, "comment_id": 73099360, "body": "Isn&#39;t the class method called inside the super constructor? If it is, then the reason is that the super constructor is called before the properties are initialized."}, {"owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "edited": false, "score": 0, "creation_date": 1490374768, "post_id": 43003462, "comment_id": 73099798, "body": "Yeah I thought that and checked it and I don&#39;t think it does. This is a bit of a mystery to me."}, {"owner": {"reputation": 621, "user_id": 5854048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-34CjPfa4ymc/AAAAAAAAAAI/AAAAAAAAACM/BYvDxJMKahU/photo.jpg?sz=128", "display_name": "In-young Choung", "link": "https://stackoverflow.com/users/5854048/in-young-choung"}, "edited": false, "score": 0, "creation_date": 1490374862, "post_id": 43003462, "comment_id": 73099860, "body": "I don&#39;t know much about Kotlin, can you identify the variables with keywords, either private or public, outside the method  and see if it works?"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1490375772, "post_id": 43003462, "comment_id": 73100344, "body": "@hotkey No, it doesn&#39;t.<code>initializePrograms()</code> gets called from <code>init(GL3 gl)</code> which override <code>Framework.init(GL3 gl)</code> which gets called from <code>Framework.init(GLAutoDrawable autoDrawable)</code>, which shall be called from the <code>Animator</code> just once at begin which should be another thread."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 621, "user_id": 5854048, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-34CjPfa4ymc/AAAAAAAAAAI/AAAAAAAAACM/BYvDxJMKahU/photo.jpg?sz=128", "display_name": "In-young Choung", "link": "https://stackoverflow.com/users/5854048/in-young-choung"}, "edited": false, "score": 0, "creation_date": 1490375821, "post_id": 43003462, "comment_id": 73100371, "body": "@In-youngChoung, you can check out the parallel java code (it&#39;s referenced in the parenthesis)"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1490376066, "post_id": 43003462, "comment_id": 73100522, "body": "Just realized, the <code>Animator</code> gets initialized and started in the constructor... it may be that the cause?"}], "answers": [{"tags": [], "owner": {"reputation": 8276, "user_id": 3827276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWiXC.png?s=128&g=1", "display_name": "Maciej Ciemi\u0119ga", "link": "https://stackoverflow.com/users/3827276/maciej-ciemi%c4%99ga"}, "is_accepted": true, "score": 1, "last_activity_date": 1490385988, "last_edit_date": 1490385988, "creation_date": 1490384108, "answer_id": 43007771, "question_id": 43003462, "link": "https://stackoverflow.com/questions/43003462/kotlin-java-string-array-not-yet-initialized-at-method-call/43007771#43007771", "title": "Kotlin/Java, string array not yet initialized at method call", "body": "<h2>Reason</h2>\n\n<p>If method <code>initializePrograms</code> is invoked in the superclass constructor, the crash is an expected behavior. Properties of the class are initialized after object is constructed, so they are uninitialized until then.</p>\n\n<p>In that case, because the <code>arrayOf</code> function is an inline function, it is clearly visible on decompiled class:</p>\n\n<pre><code>public final class Test {\n   @NotNull\n   private final String[] FRAGMENTS;\n   ...\n\n   public Test() {\n      super();\n      String[] elements$iv = new String[]{\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\"};\n      Object[] var4 = (Object[])elements$iv;\n      this.FRAGMENTS = (String[])var4;\n   }\n}\n</code></pre>\n\n<p>notice the constructor of <code>Test</code> class and how properties are initialized after call to <code>super()</code>.</p>\n\n<p>Note that if you would use not-inline function to initialize that property (for example <code>listOf</code>) the initialization will be joined with declaration, but that is effectively the same thing, just not as explicit. In Java this field would also be initialized after constructor has finished.</p>\n\n<pre><code>public final class Test {\n   @NotNull\n   private final List FRAGMENTS = CollectionsKt.listOf(new String[]{\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\"});\n   ...\n}\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>Most likely what you're trying to achieve (considering the all caps <code>FRAGMENTS</code>) is to declare then as a static field. In Kotlin you can do that for example by nesting it in a <code>companion object</code> in particular class.</p>\n\n<pre><code>class Test {\n    ...\n    companion object {\n        val FRAGMENTS = arrayOf(\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\")\n    }\n}\n</code></pre>\n\n<p>then, as you can see on decompiled class, it is declared as a static field and initialized in <code>static</code> block:</p>\n\n<pre><code>public final class Test {\n   @NotNull\n   private static final String[] FRAGMENTS;\n   ...\n\n   static {\n      String[] elements$iv = new String[]{\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\"};\n      FRAGMENTS = (String[])((Object[])elements$iv);\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 1, "accepted_answer_id": 43007771, "answer_count": 1, "score": 1, "last_activity_date": 1490385988, "creation_date": 1490369365, "last_edit_date": 1490375946, "question_id": 43003462, "link": "https://stackoverflow.com/questions/43003462/kotlin-java-string-array-not-yet-initialized-at-method-call", "title": "Kotlin/Java, string array not yet initialized at method call", "body": "<p>In one program of mine I got a null exception and debugging the code I found out it was because one of my <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut11/blinnVsPhongLighting.kt#L80\" rel=\"nofollow noreferrer\"><code>String</code> array</a> (<a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/java/main/tut11/BlinnVsPhongLighting.java#L84\" rel=\"nofollow noreferrer\">java</a>):</p>\n\n<pre><code>val FRAGMENTS = arrayOf(\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\")\n</code></pre>\n\n<p>was not yet initialized when I needed it in a successive <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut11/blinnVsPhongLighting.kt#L117\" rel=\"nofollow noreferrer\">class method</a> (<a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/java/main/tut11/BlinnVsPhongLighting.java#L126-L133\" rel=\"nofollow noreferrer\">java</a>):</p>\n\n<pre><code>fun initializePrograms(gl: GL3) {\n\n    programs = Array(LightingModel.MAX, {\n        ProgramPairs(\n                ProgramData(gl, \"pn.vert\", FRAGMENTS[it] + \".frag\"),\n                ProgramData(gl, \"pcn.vert\", FRAGMENTS[it] + \".frag\"))\n    })\n    unlit = UnlitProgData(gl, \"pos-transform.vert\", \"uniform-color.frag\")\n}\n</code></pre>\n\n<p>If I move it inside:</p>\n\n<pre><code>fun initializePrograms(gl: GL3) {\n    val FRAGMENTS = arrayOf(\"phong-lighting\", \"phong-only\", \"blinn-lighting\", \"blinn-only\")\n    ...\n}\n</code></pre>\n\n<p>Then everything fine.. why?</p>\n\n<p>Ps: same code and same behavious also in java</p>\n\n<p>Edit: don't get confused, that <code>init</code> is not the <code>class init</code>, it extends the <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut11/blinnVsPhongLighting.kt#L36\" rel=\"nofollow noreferrer\">Framework</a> method <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/java/main/framework/Framework.java#L99\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Edit2: <code>initializePrograms()</code> doesn't get called from the super constructor. It's called from <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut11/blinnVsPhongLighting.kt#L84\" rel=\"nofollow noreferrer\"><code>init(GL3 gl)</code></a> which override <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/java/main/framework/Framework.java#L95-L100\" rel=\"nofollow noreferrer\">Framework.init(GL3 gl) which gets called from Framework.init(GLAutoDrawable autoDrawable)</a>, which shall be called from the <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/java/main/framework/Framework.java#L73\" rel=\"nofollow noreferrer\">Animator</a> just once at begin which should be another thread. </p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 13, "last_activity_date": 1490338954, "creation_date": 1490338954, "answer_id": 42993352, "question_id": 42990228, "link": "https://stackoverflow.com/questions/42990228/how-to-properly-configure-kotlin-plugin-for-gradle/42993352#42993352", "title": "How to properly configure Kotlin plugin for Gradle?", "body": "<p>For non-core Gradle plugins (those that are not from the <code>org.gradle</code> namespace), you have to use a fully qualified id as well as a version number.</p>\n\n<p>The official <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#targeting-the-jvm\" rel=\"noreferrer\">Kotlin documentation</a> contains the id to use:</p>\n\n<pre><code>plugins {\n  id \"org.jetbrains.kotlin.jvm\" version \"&lt;version to use&gt;\"\n}\n</code></pre>\n\n<p>(You can also find these ids by searching for the plugin on the <a href=\"https://plugins.gradle.org/plugin/org.jetbrains.kotlin.jvm\" rel=\"noreferrer\">plugins.gradle.org</a> site.)</p>\n"}], "owner": {"reputation": 688, "user_id": 5041889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-oFW_UvDGcVk/AAAAAAAAAAI/AAAAAAAAAa8/19jOAbWskmM/photo.jpg?sz=128", "display_name": "Ben Cooper", "link": "https://stackoverflow.com/users/5041889/ben-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8359, "favorite_count": 0, "accepted_answer_id": 42993352, "answer_count": 1, "score": 7, "last_activity_date": 1490338954, "creation_date": 1490321452, "last_edit_date": 1490321983, "question_id": 42990228, "link": "https://stackoverflow.com/questions/42990228/how-to-properly-configure-kotlin-plugin-for-gradle", "title": "How to properly configure Kotlin plugin for Gradle?", "body": "<p>I'm trying to build a basic Gradle project. My <code>build.gradle</code> file is below. I keep getting the below error. I don't get it because you can find the plugin here... where I think I'm directing to: <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-gradle-plugin\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-gradle-plugin</a></p>\n\n<p>Update: same thing happens to the spring-boot plugin if I comment out the Kotlin line. It's not just specific to the Kotlin plugin.</p>\n\n<p>The error:</p>\n\n<pre><code>Error:(21, 0) Plugin [id: 'kotlin', version: '1.1.1'] was not found in any of the following sources: \n- Gradle Core Plugins (not a core plugin, please see https://docs.gradle.org/3.3/userguide/standard_plugins.html for available core plugins) \n- Gradle Central Plugin Repository (no 'kotlin' plugin available - see https://plugins.gradle.org for available plugins)\n</code></pre>\n\n<p>Build.gradle:</p>\n\n<pre><code>buildscript {\n\n\n    ext.kotlin_version = '1.1.1'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE\")\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n\n\n}\n\nplugins {\n    id 'java'\n    id 'kotlin' version \"1.1.1\"\n    id 'spring-boot'\n}\n\n\n\ngroup 'si.dime.kotlin.tutorials.rest'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile(\"org.springframework.boot:spring-boot-starter-web:1.3.3.RELEASE\")\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1490304340, "creation_date": 1490304340, "answer_id": 42987299, "question_id": 42986522, "link": "https://stackoverflow.com/questions/42986522/sealed-class-type-safety-for-when-statements-kotlin/42987299#42987299", "title": "Sealed class type safety for when statements - kotlin", "body": "<p>The <code>when</code> expression does give you type safety for sealed classes, but there seems to be an issue with it in this specific case of storing a lambda in a variable.</p>\n\n<p>If you use a function instead, it will require you to have all branches, as expected:</p>\n\n<pre><code>private fun handleDealOperation(operation: DealOperation): State.Change =\n        when (operation) {\n            // this will show a warning on `when`\n        }\n</code></pre>\n\n<p>In my testing, using lambdas on their own seems to work fine, they properly require you to be exhaustive with the branches of <code>when</code> and return the right type from them (try putting yours directly into the <code>map</code> call as an argument), but storing them in a variable somehow compiles even when it seems like it really shouldn't.</p>\n\n<p>It looks like this isn't a <code>sealed class</code> issue, but rather an issue with the <code>when</code> expression in lambdas, when assigned to a variable. This following code, for example, compiles and crashes at runtime, regardless of what the argument of <code>when</code> is:</p>\n\n<pre><code>val doSomething: () -&gt; Int = {\n    when (\"\") { }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(doSomething())\n}\n</code></pre>\n\n<p>The exception being:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: kotlin.Unit cannot be cast to java.lang.Number\n</code></pre>\n\n<p>The lambda would usually not compile without having a last expression that returns an <code>Int</code> value, but it looks like it has trouble checking the return type of the <code>when</code> statement. However, assigning it to a local variable first, and then attempting to return it does give you the proper checks and errors, and this doesn't compile:</p>\n\n<pre><code>val doSomething: () -&gt; Int = {\n    val x = when(\"\") {}\n    x\n}\n</code></pre>\n\n<p>So to get back to the original question, you could use this as a hack for now:</p>\n\n<pre><code>private val handleDealOperation: (DealOperation) -&gt; State.Change = {\n    operation -&gt;\n    val temp = when (operation) {\n\n    }\n    temp\n}\n</code></pre>\n\n<p>If someone can properly file a bug for this or explain the behavior, please do so.</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490304340, "creation_date": 1490301513, "question_id": 42986522, "link": "https://stackoverflow.com/questions/42986522/sealed-class-type-safety-for-when-statements-kotlin", "title": "Sealed class type safety for when statements - kotlin", "body": "<p>how can I get type safety on a <code>sealed class</code> <code>when</code> statement, when used within an rx stream?</p>\n\n<p>ex:</p>\n\n<pre><code>private val handleDealOperation: (DealOperation) -&gt; State.Change = {\n            operation -&gt;\n            when (operation) {\n                //how to enforce type safety? `DealOperation` is a sealed class\n            }\n        }\n</code></pre>\n\n<p>Trying to be typesafe in the context of an rx stream.</p>\n\n<pre><code>source.map(handleDealOperation)\n</code></pre>\n"}, {"tags": ["function", "extension-methods", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1490287083, "post_id": 42979935, "comment_id": 73056042, "body": "Marked as a duplicate since the question seems to be the same. Please tell me if I&#39;m mistaken."}], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 2, "last_activity_date": 1490283622, "creation_date": 1490283622, "answer_id": 42980734, "question_id": 42979935, "link": "https://stackoverflow.com/questions/42979935/kotlin-how-can-extension-functions-within-a-type-be-accessed-externally/42980734#42980734", "title": "Kotlin: How can extension functions within a type be accessed externally?", "body": "<p>There's a <a href=\"https://youtrack.jetbrains.com/issue/KT-10468\" rel=\"nofollow noreferrer\">longstanding ticket for multiple receivers on extension functions</a>, but the simple workaround is to nest your scope:</p>\n\n<pre><code>val pet = ...\nval script = ...\n\nscript.run {\n    pet.feed()\n    pet.call()\n}\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1490286857, "accepted_answer_id": 42980734, "answer_count": 1, "score": 0, "last_activity_date": 1490283622, "creation_date": 1490281651, "question_id": 42979935, "link": "https://stackoverflow.com/questions/42979935/kotlin-how-can-extension-functions-within-a-type-be-accessed-externally", "closed_reason": "Duplicate", "title": "Kotlin: How can extension functions within a type be accessed externally?", "body": "<p>I often come across the scenario where I have abstract extension functions within a type.</p>\n\n<pre><code>interface PetScript {\n    fun Pet.feed()\n    fun Pet.call()\n}\n</code></pre>\n\n<p>Having the functions be extension functions allows very minimalistic implementations because it gives automatic <code>this</code> context.</p>\n\n<p>Unfortunately, the only way I know of to use these functions is to write boilerplate standard functions which pass to the extensions.</p>\n\n<pre><code>interface PetScript {\n    fun Pet.feed()\n    fun Pet.call()\n\n    fun feed_(pet: Pet) = pet.feed()\n    fun call_(pet: Pet) = pet.call()\n}\n</code></pre>\n\n<p>This way I'm able to use the functions like so:</p>\n\n<pre><code>val pet = ...\nval script = ...\n\nscript.feed_(pet)\nscript.call_(pet)\n</code></pre>\n\n<p>Is there a better, more idiomatic way to use the extension functions outside of the type?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1490279300, "post_id": 42974991, "comment_id": 73049752, "body": "does this mean it would be a good idea to have <code>val componentType by lazy { Component::class.createType() }</code> in a companion object?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1490287015, "post_id": 42974991, "comment_id": 73055999, "body": "@Exhauzt, I guess benchmarking your particular use case should give the best answer here."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1490271418, "last_edit_date": 1490271418, "creation_date": 1490269284, "answer_id": 42974991, "question_id": 42972189, "link": "https://stackoverflow.com/questions/42972189/kotlin-reflection-check-if-property-has-type/42974991#42974991", "title": "Kotlin Reflection - Check if property has type", "body": "<p>There are at least two solutions here:</p>\n\n<ul>\n<li><p>Get the <code>KClass&lt;*&gt;</code> of <code>it.returnType</code> using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.jvm/jvm-erasure.html\" rel=\"noreferrer\"><code>.jvmErasure</code></a>, then check the subtype relationship for the <code>KClass</code>es:</p>\n\n<pre><code>it.returnType.jvmErasure.isSubclassOf(Component::class)\n</code></pre></li>\n<li><p>Since Kotlin 1.1, you can construct the <code>KType</code> from the <code>KClass</code> token using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-type.html\" rel=\"noreferrer\"><code>.createType()</code></a> (check its optional parameters: you can use them to provide nullability info, type arguments and annotations), and then check the subtype as you suggested:</p>\n\n<pre><code>it.returnType.isSubtypeOf(Component::class.createType())\n</code></pre>\n\n<p><sup>Creating the type on every iteration may introduce performance issues, make sure you cache it if you need it often.</sup></p></li>\n</ul>\n"}], "owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2791, "favorite_count": 0, "accepted_answer_id": 42974991, "answer_count": 1, "score": 3, "last_activity_date": 1490271418, "creation_date": 1490261880, "question_id": 42972189, "link": "https://stackoverflow.com/questions/42972189/kotlin-reflection-check-if-property-has-type", "title": "Kotlin Reflection - Check if property has type", "body": "<p>I want to iterate over all fields in one of my classes, filter for annotated ones and then check if the field has one specific type. <br>\nAll I found was <code>field.returnType.isSubtype(other: KType)</code> but I don't know how to get the <code>KType</code> of my other class. </p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>target.declaredMemberProperties.forEach {\n    if (it.findAnnotation&lt;FromOwner&gt;() != null) {\n        if ( /*  it.returnType is Component &lt;- Here I need some working check   */ ) {\n\n            // do stuff\n         } else {\n\n            // do ther stuff\n         }\n    }\n}\n</code></pre>\n"}, {"tags": ["synchronization", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6359940, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BRpy4sPlAbY/AAAAAAAAAAI/AAAAAAAAABg/P8NQxEcx2tQ/photo.jpg?sz=128", "display_name": "Uli Luckas", "link": "https://stackoverflow.com/users/6359940/uli-luckas"}, "is_accepted": true, "score": 1, "last_activity_date": 1490275210, "last_edit_date": 1490275210, "creation_date": 1490271630, "answer_id": 42975872, "question_id": 42972102, "link": "https://stackoverflow.com/questions/42972102/kotlin-race-condition-issue/42975872#42975872", "title": "Kotlin, race condition issue", "body": "<p>Threading issues are never about threads calling the same classes. It is about sharing mutable state between threads.\nAs I can see, your shared state are the matrices.</p>\n\n<p>What are you doing wrong is hard to say without reviewing your whole code. But here are a few hints:\n/ viewPole.calcMatrix() returns a reference to mat4_B.\nIn display() this reference is then used outside the synchronized block. So mat4_B could potentially be modified concurrently while in use by display()\n/ viewPole.calcMatrix() and objectPole.calcMatrix() are called in separate synchronized blocks. So the viewPole matrix might be based on a different state then the objectPole matrix. I can not tell if this is an issue for your use case.</p>\n\n<p>The approach should be to:\n/ reduce shared state as much as possible (i.e. by passing copies)\n/ fetching all data in a single, atomic (synchronized) operation</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 42975872, "answer_count": 1, "score": 0, "last_activity_date": 1490275210, "creation_date": 1490261655, "last_edit_date": 1490264378, "question_id": 42972102, "link": "https://stackoverflow.com/questions/42972102/kotlin-race-condition-issue", "title": "Kotlin, race condition issue", "body": "<p>Relevant code <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/tree/master/src/main/kotlin/main/tut09\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Essentially, we have two thread, one leading the rendering that keeps calling <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L101\" rel=\"nofollow noreferrer\"><code>display()</code></a> and another one, that takes care about user inputs, calling the corresponding <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L192-L228\" rel=\"nofollow noreferrer\">mouse or key event</a> accordingly</p>\n\n<p><a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L301\" rel=\"nofollow noreferrer\">Viewpole</a> and <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L69\" rel=\"nofollow noreferrer\">object</a> poles are nothing else that helper classes to facilitate the matrix handling regarding the camera and the object(s).</p>\n\n<p>Their methods are called both from the <code>display()</code> and the user input methods. </p>\n\n<p><code>display()</code> calls both <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L109\" rel=\"nofollow noreferrer\"><code>viewpole.calcMatrix()</code></a> and <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L150\" rel=\"nofollow noreferrer\"><code>objectpole.calcMatrix()</code></a> while the input thread calls them indirectly, for example <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L215\" rel=\"nofollow noreferrer\"><code>basicLighting.mouseDragged()</code></a> -> <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L178\" rel=\"nofollow noreferrer\"><code>objectpole.mouseDragged()</code></a> -> <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L191\" rel=\"nofollow noreferrer\"><code>rotateView()</code></a> -> <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L237\" rel=\"nofollow noreferrer\"><code>calcMatrix()</code></a></p>\n\n<p>The race condition started to pop up when I began to use <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L575-L602\" rel=\"nofollow noreferrer\">pool objects</a> to reduce the GC pressure in specific scenarios. I checked tens of time, each object is being used only once (except with <code>when</code>).</p>\n\n<p>I detect race condition by printing out the <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L119\" rel=\"nofollow noreferrer\">view matrix</a> each <code>display()</code> call. Whenever it's different, it means I got one. An example <a href=\"https://gist.github.com/elect86/4d37b425b4a02a6a7e2c499c7546226e\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Investigating, I found out using simple <code>println</code>, for example, that the <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/mousePole.kt#L345\" rel=\"nofollow noreferrer\"><code>Viewpole.calcMatrix()</code></a> sometimes was getting called before another call has finished to execute it completely.</p>\n\n<p>Adding <code>@Synchronized</code> on each <code>calcMatrix()</code> (viewpole and objectpole) reduced it a lot, I'd say 80/90%.</p>\n\n<p>But still, some times, I experience race condition. I tried to <code>synchronize(lock){}</code> also every call from the user input thread, like <a href=\"https://github.com/java-opengl-labs/modern-jogl-examples/blob/master/src/main/kotlin/main/tut09/basicLighting.kt#L205\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>val lock = Any()\n\noverride fun mousePressed(e: MouseEvent) {\n    synchronized(lock) {\n        viewPole.mousePressed(e)\n        objectPole.mousePressed(e)\n    }\n}\n</code></pre>\n\n<p>It didn't help.</p>\n\n<p>What am I doing wrong? And what's the right way to implement synchronization for my case? That is, two thread calling the same class.</p>\n"}, {"tags": ["java", "android", "listview", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 1714, "user_id": 6913021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e17a29641ad6364ef41fbf1e4d8c774?s=128&d=identicon&r=PG&f=1", "display_name": "HaroldSer", "link": "https://stackoverflow.com/users/6913021/haroldser"}, "edited": false, "score": 0, "creation_date": 1490253216, "post_id": 42969144, "comment_id": 73031622, "body": "try moving the updateMessages method to the activity where you using the adapter."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 1714, "user_id": 6913021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e17a29641ad6364ef41fbf1e4d8c774?s=128&d=identicon&r=PG&f=1", "display_name": "HaroldSer", "link": "https://stackoverflow.com/users/6913021/haroldser"}, "edited": false, "score": 0, "creation_date": 1490253338, "post_id": 42969144, "comment_id": 73031674, "body": "from my activity I&#39;m calling adapter?.updateMessages(messages:List&lt;MyMessageModel&gt;)"}, {"owner": {"reputation": 1714, "user_id": 6913021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e17a29641ad6364ef41fbf1e4d8c774?s=128&d=identicon&r=PG&f=1", "display_name": "HaroldSer", "link": "https://stackoverflow.com/users/6913021/haroldser"}, "edited": false, "score": 0, "creation_date": 1490253873, "post_id": 42969144, "comment_id": 73031906, "body": "can you show your activity where adapter is being used?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 1714, "user_id": 6913021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e17a29641ad6364ef41fbf1e4d8c774?s=128&d=identicon&r=PG&f=1", "display_name": "HaroldSer", "link": "https://stackoverflow.com/users/6913021/haroldser"}, "edited": false, "score": 0, "creation_date": 1490254515, "post_id": 42969144, "comment_id": 73032226, "body": "see onMessageReceived() method"}], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1490255710, "post_id": 42970132, "comment_id": 73032811, "body": "He&#39;s updating the adapter within the adapter, no issue there."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1490255713, "post_id": 42970132, "comment_id": 73032812, "body": "you mean call the adapter notify method from fragment?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1490255960, "post_id": 42970132, "comment_id": 73032940, "body": "also if I pass the dummy data to the initRecycler() inside oncreateView() like that initRecycler(listOf(MessageReceivedResponseModel(&quot;from&quot;,1))) it works fine, but if I use this method inside onMessageReceived() method it doesnot works"}, {"owner": {"reputation": 776, "user_id": 6049176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Sg5Lm5yFBA/AAAAAAAAAAI/AAAAAAAACuo/ZYXP5ZMvj08/photo.jpg?sz=128", "display_name": "Angelo Parente", "link": "https://stackoverflow.com/users/6049176/angelo-parente"}, "edited": false, "score": 0, "creation_date": 1490256294, "post_id": 42970132, "comment_id": 73033121, "body": "Yes. Try to call notifyDataSetChanged(); after called call initRecycler. Maybe it doesn&#39;t work in the function"}, {"owner": {"reputation": 776, "user_id": 6049176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Sg5Lm5yFBA/AAAAAAAAAAI/AAAAAAAACuo/ZYXP5ZMvj08/photo.jpg?sz=128", "display_name": "Angelo Parente", "link": "https://stackoverflow.com/users/6049176/angelo-parente"}, "edited": false, "score": 0, "creation_date": 1490256335, "post_id": 42970132, "comment_id": 73033143, "body": "Can you post the entire onCreateView?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1490256453, "post_id": 42970132, "comment_id": 73033217, "body": "this is Adapter class <a href=\"https://gist.github.com/developer--/5fdf5aed8e063b4e2175d837ef7ae521\" rel=\"nofollow noreferrer\">gist.github.com/developer--/5fdf5aed8e063b4e2175d837ef7ae521</a> and this is fragment  <a href=\"https://gist.github.com/developer--/cb2930e3ede2cadb48d3a83641d963ff\" rel=\"nofollow noreferrer\">gist.github.com/developer--/cb2930e3ede2cadb48d3a83641d963ff</a>"}, {"owner": {"reputation": 776, "user_id": 6049176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Sg5Lm5yFBA/AAAAAAAAAAI/AAAAAAAACuo/ZYXP5ZMvj08/photo.jpg?sz=128", "display_name": "Angelo Parente", "link": "https://stackoverflow.com/users/6049176/angelo-parente"}, "edited": false, "score": 0, "creation_date": 1490257343, "post_id": 42970132, "comment_id": 73033672, "body": "Try to call adapter.notifyDataSrtChanged after you call initRecycler in the onCreateView method. This way we understand if the method works fine or not"}], "tags": [], "owner": {"reputation": 776, "user_id": 6049176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Sg5Lm5yFBA/AAAAAAAAAAI/AAAAAAAACuo/ZYXP5ZMvj08/photo.jpg?sz=128", "display_name": "Angelo Parente", "link": "https://stackoverflow.com/users/6049176/angelo-parente"}, "is_accepted": false, "score": -1, "last_activity_date": 1490255585, "creation_date": 1490255585, "answer_id": 42970132, "question_id": 42969144, "link": "https://stackoverflow.com/questions/42969144/notifydatasetchanged-doesnt-calls-onbindviewholder-method/42970132#42970132", "title": "notifyDataSetChanged() doesn&#39;t call&#39;s onBindViewHolder() method", "body": "<p>You should use <code>notifyDataSetChanged();</code> on your adapter, like this:\n<code>adapter.notifyDataSetChanged();</code> .\nIf you wanna use a class you can, you just need to declare the adapter variable as a member variable of the class and call the method like I said above. Where <code>adapter</code> is the name of your adapter.</p>\n"}, {"comments": [{"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1490257066, "post_id": 42970298, "comment_id": 73033533, "body": "I realized my problem"}], "tags": [], "owner": {"reputation": 175, "user_id": 4856711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c95b301cb9a24500e2b91849736c0ad?s=128&d=identicon&r=PG", "display_name": "arkus", "link": "https://stackoverflow.com/users/4856711/arkus"}, "is_accepted": false, "score": 0, "last_activity_date": 1490257428, "last_edit_date": 1490257428, "creation_date": 1490256195, "answer_id": 42970298, "question_id": 42969144, "link": "https://stackoverflow.com/questions/42969144/notifydatasetchanged-doesnt-calls-onbindviewholder-method/42970298#42970298", "title": "notifyDataSetChanged() doesn&#39;t call&#39;s onBindViewHolder() method", "body": "<p>Try using <code>notifyItemRangeChanged(0, messages.size - 1);</code>.</p>\n\n<pre><code>fun updateMessages(messages: List&lt;MessageReceivedResponseModel&gt;?){\n    messages?.let {\n        this.messages.clear()\n        this.messages.addAll(messages)\n        this.notifyItemRangeChanged(0, messages.size - 1)\n    }\n}\n</code></pre>\n\n<p>I think <code>notifyDataSetChanged()</code> isn't working because your dataset (<code>messages</code> field) is still the same object.</p>\n\n<p>You can try to replace object of messages:</p>\n\n<pre><code>fun updateMessages(messages: List&lt;MessageReceivedResponseModel&gt;?){\n    messages?.let {\n        this.messages = messages\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": true, "score": 2, "last_activity_date": 1490257761, "last_edit_date": 1490257761, "creation_date": 1490257242, "answer_id": 42970589, "question_id": 42969144, "link": "https://stackoverflow.com/questions/42969144/notifydatasetchanged-doesnt-calls-onbindviewholder-method/42970589#42970589", "title": "notifyDataSetChanged() doesn&#39;t call&#39;s onBindViewHolder() method", "body": "<p>I realized my problem where out of all this classes, The problem was in my interactor class where the messages retrieving requests started</p>\n\n<pre><code>fun startMessageRetrieveRequest(callback: OnRequestFinishedListener&lt;List&lt;MessageReceivedResponseModel&gt;&gt;){\n    doAsync {\n        Thread.sleep(1000)\n        val idx = Random().nextInt(2)\n        val its: List&lt;MessageReceivedResponseModel&gt;\n        when(idx){\n            0 -&gt; its = REs\n            1 -&gt; its = RES_1\n            else -&gt; its = RES_1\n        }\n        callback.onResponse(its)\n    }\n}\n</code></pre>\n\n<p>I removed doAsync and works correctly, here callback.onResponse() is being called from Non-UI thread and it caused the problem <code>Only the original thread that created a view hierarchy can touch its views.</code>, but not always. Also app weren't crashed and I missed the log</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3800, "favorite_count": 0, "accepted_answer_id": 42970589, "answer_count": 3, "score": 4, "last_activity_date": 1490257761, "creation_date": 1490251994, "last_edit_date": 1490254823, "question_id": 42969144, "link": "https://stackoverflow.com/questions/42969144/notifydatasetchanged-doesnt-calls-onbindviewholder-method", "title": "notifyDataSetChanged() doesn&#39;t call&#39;s onBindViewHolder() method", "body": "<p>I have a RecyclerView's Adapter, where I am adding items dynamically, when I am calling the my adapter's updateMessages function old data list were changing correctly but, recycler items stays the same.</p>\n\n<p>this is my updateMessages method in my adapter:</p>\n\n<pre><code>fun updateMessages(messages: List&lt;MessageReceivedResponseModel&gt;?){\n    messages?.let {\n       this.messages.clear()\n       this.messages.addAll(messages)\n    }\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>also here is complete adapter class, I don't understand what's the problem</p>\n\n<pre><code>class MessagesRecyclerAdapter(private val itemActionListener: IOnMessageItemActionListener) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\nprivate val messages = ArrayList&lt;MessageReceivedResponseModel&gt;()\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    val view = LayoutInflater.from(parent.context).inflate(R.layout.awesome_chat_item, parent, false)\n    return MyHolder(view)\n}\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    (holder as MyHolder).updateUI(messages[position])\n}\n\noverride fun getItemCount(): Int {\n    return messages.size\n}\n\nfun updateMessages(messages: List&lt;MessageReceivedResponseModel&gt;?){\n    messages?.let {\n        this.messages.clear()\n        this.messages.addAll(messages)\n    }\n    notifyDataSetChanged()\n}\n\nprivate inner class MyHolder internal constructor(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    private val messageTextView: TextView = itemView.findViewById(R.id.chat_from_text_id) as TextView\n    private val msgQuantityTextView: TextView = itemView.findViewById(R.id.msg_quantity_txt_id) as TextView\n\n    internal fun updateUI(msg: MessageReceivedResponseModel) {\n        messageTextView.text = msg.from\n        msgQuantityTextView.text = msg.quantity.toString()\n    }\n}\n\n}\n</code></pre>\n\n<p>this is where my adapter and recycler initialization goes</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater?.inflate(R.layout.activity_awesome_chat, container, false)\n    recycler = view?.findViewById(R.id.awesome_chat_list_view_id) as RecyclerView\n    val layoutManager = LinearLayoutManager(activity)\n    recycler?.layoutManager = layoutManager\n.....\n}\n\noverride fun onMessageReceived(messages: List&lt;MessageReceivedResponseModel&gt;){\n        adapter?.updateMessages(messages)\n        Log.e(TAG, messages.size.toString())\n  }\n// called in oncreateView of fragment\nprivate fun initRecycler(items: List&lt;MessageReceivedResponseModel&gt;?) {\n    adapter = MessagesRecyclerAdapter(this)\n    adapter?.updateMessages(items)\n    recycler?.adapter = adapter\n    Log.e(TAG, items?.size.toString())\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 3, "creation_date": 1490234903, "post_id": 42965598, "comment_id": 73025904, "body": "You will have to store it as a String and then serialize/deserialize it as needed."}, {"owner": {"reputation": 1325, "user_id": 4978624, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/854707784602530/picture?type=large", "display_name": "Viktor Sinelnikov", "link": "https://stackoverflow.com/users/4978624/viktor-sinelnikov"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1490297646, "post_id": 42965598, "comment_id": 73062462, "body": "I am doing it now, but I think must be more nice way"}], "answers": [{"tags": [], "owner": {"reputation": 8276, "user_id": 3827276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWiXC.png?s=128&g=1", "display_name": "Maciej Ciemi\u0119ga", "link": "https://stackoverflow.com/users/3827276/maciej-ciemi%c4%99ga"}, "is_accepted": true, "score": 2, "last_activity_date": 1490450815, "creation_date": 1490450815, "answer_id": 43017364, "question_id": 42965598, "link": "https://stackoverflow.com/questions/42965598/how-to-store-bigdecimal-in-firebase/43017364#43017364", "title": "How to store BigDecimal in Firebase?", "body": "<p>You can create a following delegate:</p>\n\n<pre><code>class BigDecimalConverterDelegate(val bigDecimalProperty: KMutableProperty&lt;BigDecimal&gt;) {\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return bigDecimalProperty.getter.call().toString()\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        bigDecimalProperty.setter.call(BigDecimal(value))\n    }\n}\n</code></pre>\n\n<p>Then you have to create two properties:</p>\n\n<pre><code>data class Money(\n    @get:Exclude @set:Exclude var bigDecimalAmount: BigDecimal = BigDecimal.ZERO\n) {\n    var amount: String by BigDecimalConverterDelegate(this::bigDecimalAmount)\n}\n</code></pre>\n\n<p>First <code>BigDecimal</code> property is annotated with <code>@get:Exclude</code> and <code>@set:Exclude</code> so it will be ignored by Firebase during serialization/deserialization.</p>\n\n<p>The <code>String</code> property uses the delegate defined above. It doesn't have a backing field so Firebase will use <code>String getAmount()</code> and <code>setAmount(String amount)</code> methods while serializing/deserializing this class. These calls will be delegated to the <code>BigDecimalConverterDelegate</code> which will set or get the value directly from the <code>BigDecimal</code> property.</p>\n\n<p>Please note that you also have to include the <code>kotlin-reflect</code> lib:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre>\n\n<h2>Issue with kotlin-noarg</h2>\n\n<p>Unfortunately delegates don't work if you would want to use them with \"kotlin-noarg\" plugin (<a href=\"https://youtrack.jetbrains.com/issue/KT-16692\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-16692</a>). The empty constructor is totally empty and delegates are not initialized there:</p>\n\n<pre><code>public Money(@NotNull BigDecimal bigDecimalAmount) {\n  Intrinsics.checkParameterIsNotNull(bigDecimalAmount, \"bigDecimalAmount\");\n  super();\n  this.bigDecimalAmount = bigDecimalAmount;\n  this.amount$delegate = new BigDecimalConverterDelegate((KMutableProperty)(new Money$amount$2(this)));\n}\n\npublic Money() {\n}\n</code></pre>\n"}], "owner": {"reputation": 1325, "user_id": 4978624, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/854707784602530/picture?type=large", "display_name": "Viktor Sinelnikov", "link": "https://stackoverflow.com/users/4978624/viktor-sinelnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 1, "accepted_answer_id": 43017364, "answer_count": 1, "score": 2, "last_activity_date": 1490450815, "creation_date": 1490232316, "last_edit_date": 1490234422, "question_id": 42965598, "link": "https://stackoverflow.com/questions/42965598/how-to-store-bigdecimal-in-firebase", "title": "How to store BigDecimal in Firebase?", "body": "<p>I am trying to store BigDecimal in Firebase:</p>\n\n<pre><code>data class Money(val amount: BigDecimal = BigDecimal.ZERO, val currency: Currency = Currency.USD)\n</code></pre>\n\n<p>But when pushing data to database, getting an exception:</p>\n\n<pre><code>com.google.firebase.database.DatabaseException: Failed to parse node with class class java.math.BigDecimal\n                                                 at com.google.android.gms.internal.zzbpf.zza(Unknown Source)\n                                                 at com.google.android.gms.internal.zzbpf.zzar(Unknown Source)\n                                                 at com.google.android.gms.internal.zzbpf.zza(Unknown Source)\n                                                 at com.google.android.gms.internal.zzbpf.zzar(Unknown Source)\n                                                 at com.google.android.gms.internal.zzbpf.zza(Unknown Source)\n                                                 at com.google.firebase.database.DatabaseReference.zza(Unknown Source)\n                                                 at com.google.firebase.database.DatabaseReference.setValue(Unknown Source)\n</code></pre>\n\n<p>How can I store it?</p>\n"}]