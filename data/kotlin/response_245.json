[{"tags": ["java", "android", "json", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 982115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36233260956fcb126bbd1b0440359f14?s=128&d=identicon&r=PG", "display_name": "user982115", "link": "https://stackoverflow.com/users/982115/user982115"}, "is_accepted": false, "score": 0, "last_activity_date": 1568847076, "creation_date": 1568847076, "answer_id": 58001658, "question_id": 58001536, "link": "https://stackoverflow.com/questions/58001536/i-got-null-data-after-deserialize-my-json-response-with-retrofit/58001658#58001658", "title": "I got null data after deserialize my JSON response with retrofit", "body": "<p>I saw that in one case your salary field is object and in other case array, but your model can contain only object with defined class:</p>\n\n<pre><code>val salary: Salary\n</code></pre>\n\n<p>Not sure, but may be you should use something like this:</p>\n\n<pre><code>val salary: Any\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7201326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1327cf3a44c18664c4f7a7d77ec0bbd?s=128&d=identicon&r=PG&f=1", "display_name": "Asqa", "link": "https://stackoverflow.com/users/7201326/asqa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568868333, "creation_date": 1568846110, "last_edit_date": 1568868333, "question_id": 58001536, "link": "https://stackoverflow.com/questions/58001536/i-got-null-data-after-deserialize-my-json-response-with-retrofit", "title": "I got null data after deserialize my JSON response with retrofit", "body": "<p>There is different data type for \"result\", that is array and the others is object, so i do deserialize it first, but i got null data for whole propertys of JSON after deserialize my response, here is my code, Thank you for any help</p>\n\n<p>Here is for the JSON:</p>\n\n<pre><code>{\n  \"header\": \"200\",\n  \"status\": \"success\",\n  \"data\": [\n    {\n      \"id\": 1,\n      ...\n      ...\n      \"salary\": {\n        \"currency\": \"SS\",\n        \"minimum\": \"1\",\n        \"maximum\": \"12\"\n      },\n      \"created_at\": \"aa\",\n      ...\n      ...\n    },\n\n    {\n      \"id\": 2,\n      ...\n      ...\n      \"salary\": [],\n      \"created_at\": \"ss\",\n      ...\n      ...\n    }\n  ]\n}\n</code></pre>\n\n<p>Here is Data Model:</p>\n\n<pre><code>data class JobsModel(\n    val data: List&lt;DataJobs&gt;,\n    val header: String,\n    val status: String\n)\n\ndata class DataJobs(\n    val city: String,\n    val company_name: String,\n    val country: String,\n    val created_at: String,\n    val description: String,\n    val id: Int,\n    val job_title: String,\n    val job_type: String,\n    val logo: String,\n    val requirement: String,\n    val responsibility: String,\n    val salary: Salary,\n    val share_url: String\n)\n\ndata class Salary(\n    val currency: String,\n    val maximum: String,\n    val minimum: String\n)\n</code></pre>\n\n<p>Here is the Deserializer class</p>\n\n<pre><code>class DataStateDeserializer : JsonDeserializer&lt;JobsModel&gt; {\n\n    override fun deserialize(\n        json: JsonElement?,\n        typeOfT: Type?,\n        context: JsonDeserializationContext?\n    ): JobsModel {\n        val jobsModel = Gson().fromJson(json, JobsModel::class.java)\n        val jsonObject = json?.asJsonObject\n\n        if (jsonObject != null) {\n            if (jsonObject.has(\"salary\")) {\n                val element = jsonObject.get(\"salary\")\n                if (element != null) {\n                    if (element.isJsonPrimitive || element.isJsonArray) {\n                        element.asJsonArray\n                    }\n                } else {\n                    element?.asJsonArray\n                    jobsModel.header\n                }\n            }\n        }\n        return jobsModel\n    }\n}\n</code></pre>\n\n<p>And here is for retrofit</p>\n\n<pre><code>class ServiceFactory {\n    private fun retrofit(): Retrofit {\n\n        val gson = GsonBuilder()\n            .registerTypeAdapter(DataJobs::class.java,DataStateDeserializer())\n            .create()\n\n        val okHttpClient = OkHttpClient().newBuilder()\n            .readTimeout(30, TimeUnit.SECONDS)\n            .connectTimeout(30, TimeUnit.SECONDS)\n            .callTimeout(30, TimeUnit.SECONDS)\n            .build()\n\n        return Retrofit.Builder()\n            .baseUrl(BuildConfig.BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .client(okHttpClient)\n            .build()\n\n    }\n\n    fun instanceServices(): Services {\n        return retrofit().create(Services::class.java)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "edited": false, "score": 2, "creation_date": 1568867574, "post_id": 58001200, "comment_id": 102412496, "body": "Are you sure it is only working when you close activity? Because the code you have mentioned is all having value update for same keys. So if you are checking in database after closing activity, it will show &quot;onStop&quot; for &quot;estado&quot; key."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 2, "creation_date": 1568875356, "post_id": 58001200, "comment_id": 102415073, "body": "The code looks fine, and should write on each of the lifecycle methods. You might want to put a breakpoint in each of those methods, step through it in the debugger, and check the logcat output for any relevant error messages."}], "owner": {"reputation": 612, "user_id": 9729980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pdp1X.jpg?s=128&g=1", "display_name": "Vitor Ferreira", "link": "https://stackoverflow.com/users/9729980/vitor-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568843583, "creation_date": 1568843583, "question_id": 58001200, "link": "https://stackoverflow.com/questions/58001200/firebase-database-works-only-when-activity-is-closed", "title": "Firebase database works only when activity is closed", "body": "<p>I am creating an app with Firebase database. I am trying to write to the database, but the data is not being updated until activty closes.\nIn this example, only when the screen is closed that the database is updated.</p>\n\n<pre><code>class YouTubeActivity : AppCompatActivity() {\n    private val database: DatabaseReference = FirebaseDatabase.getInstance().reference\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_you_tube)\n\n        testeButton.setOnClickListener {\n            database.child(\"teste\").child(\"estado\").setValue(\"testing\")\n        }\n\n    }\n\n    override fun onStart() {\n        super.onStart()\n        database.child(\"teste\").child(\"estado\").setValue(\"onStart\")\n    }\n\n    override fun onPause() {\n        super.onPause()\n        database.child(\"teste\").child(\"estado\").setValue(\"onPause\")\n    }\n    override fun onStop() {\n        super.onStop()\n        database.child(\"teste\").child(\"estado\").setValue(\"onStop\")\n    }\n}\n</code></pre>\n\n<p>Rules:</p>\n\n<pre><code>{\n  \"rules\": {\n    \".read\": true,\n    \".write\": true\n  }\n}\n</code></pre>\n\n<p>Why isn't it working?</p>\n"}, {"tags": ["android-studio", "kotlin", "android-emulator"], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 6373504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NqN0XXOsZms/AAAAAAAAAAI/AAAAAAAAAN0/Ds4bcOHCUwQ/photo.jpg?sz=128", "display_name": "Geoff Sweet", "link": "https://stackoverflow.com/users/6373504/geoff-sweet"}, "is_accepted": false, "score": 2, "last_activity_date": 1568846811, "creation_date": 1568846811, "answer_id": 58001626, "question_id": 58001160, "link": "https://stackoverflow.com/questions/58001160/super-newb-android-studio-emulator-throws-install-parse-failed-no-certificates/58001626#58001626", "title": "Super newb - Android Studio emulator throws INSTALL_PARSE_FAILED_NO_CERTIFICATES error", "body": "<p>Oh man ok I figured it out.  NONE of these tutorials explain that you have to create a keystore. Including the tutorials that even walk through setting up Android Studio. So a fresh install requires you to go \"Generate Signed Bundle/APK\" and the wizard walks you through setting up a basic keystore. </p>\n"}], "owner": {"reputation": 354, "user_id": 6373504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NqN0XXOsZms/AAAAAAAAAAI/AAAAAAAAAN0/Ds4bcOHCUwQ/photo.jpg?sz=128", "display_name": "Geoff Sweet", "link": "https://stackoverflow.com/users/6373504/geoff-sweet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568877262, "creation_date": 1568843332, "last_edit_date": 1568877262, "question_id": 58001160, "link": "https://stackoverflow.com/questions/58001160/super-newb-android-studio-emulator-throws-install-parse-failed-no-certificates", "title": "Super newb - Android Studio emulator throws INSTALL_PARSE_FAILED_NO_CERTIFICATES error", "body": "<p>I'm literally on day one of learning some Android development.  I downloaded the latest Android Studio on my Mac. Set it up. Walked through a small code example aaaand... it failed. I pushed the \"play\" button and it launches the emulator but then throws the error:</p>\n\n<pre><code>09/18 14:33:12: Launching 'app' on Nexus 5X API 29 x86.\nInstallation did not succeed.\nThe application could not be installed: INSTALL_PARSE_FAILED_NO_CERTIFICATES\nAPK signature verification failed.\n</code></pre>\n\n<p>There are several postings here that cover this error, but they are either very old and don't match anything I am looking at, or are a level of complexity that I don't really understand.  The tutorial and stuff online all suggest that something this simple should just \"work\".  I don't really know what to do.</p>\n"}, {"tags": ["kotlin", "lambda", "functional-programming", "conditional-statements", "control-flow"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1568855501, "post_id": 58001124, "comment_id": 102410421, "body": "I really, really would do a chain of ifs.  I really do think that looks and reads just fine."}], "answers": [{"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 3, "last_activity_date": 1569962050, "creation_date": 1569962050, "answer_id": 58191904, "question_id": 58001124, "link": "https://stackoverflow.com/questions/58001124/what-is-the-most-concise-way-to-include-functions-or-lambdas-as-conditions-in-a/58191904#58191904", "title": "What is the most concise way to include functions or lambdas as conditions in a Kotlin `when` statement (or other branching construct)?", "body": "<p>There are quite a few solutions to your problem. I will start with the simple ones and then move on to the more complex.</p>\n\n<hr>\n\n<h2>When without argument</h2>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">Kotlin documentation</a> says:</p>\n\n<blockquote>\n  <p><code>when</code> can also be used as a replacement for an <code>if</code>-<code>else if</code> chain. If no\n  argument is supplied, the branch conditions are simply boolean\n  expressions, and a branch is executed when its condition is true</p>\n</blockquote>\n\n<p><strong>Use case:</strong></p>\n\n<pre><code>when {\n    startsWithHelp(givenString) -&gt; printHelp()\n    startsWithFn(givenString) -&gt; println(\"Hello, ${givenString.substring(3)}!\")\n}\n</code></pre>\n\n<p><strong>Pros</strong>:</p>\n\n<ol>\n<li><p>Doesn't require any additional code</p></li>\n<li><p>Easy to understand</p></li>\n</ol>\n\n<p><strong>Cons</strong>: </p>\n\n<ol>\n<li>Boilerplate <code>(givenString)</code></li>\n</ol>\n\n<hr>\n\n<h2>Argument wrapper which overrides equals</h2>\n\n<p>The required wrapper is similar to <code>RegexWhenArgument</code>, but instead of checking <code>Regex</code> it invokes <code>(String) -&gt; Boolean</code>. There is nothing special about <code>String</code>, so I will use <code>&lt;T&gt;</code>.</p>\n\n<p><strong>Wrapper function:</strong></p>\n\n<pre><code>fun &lt;T&gt; whenArg(arg: T) = object {\n    override fun equals(other: Any?) =\n        if (other is Function1&lt;*, *&gt;) \n            (other as Function1&lt;T, Boolean&gt;)(arg)\n        else arg == other\n}\n</code></pre>\n\n<p><strong>Use case:</strong></p>\n\n<pre><code>when (whenArg(givenString)) {\n    ::startsWithHelp -&gt; printHelp()\n    startsWithFn -&gt; println(\"Hello, ${givenString.substring(3)}!\")\n}\n</code></pre>\n\n<p><strong>Pros:</strong></p>\n\n<ol>\n<li>Functions can be used in <code>when</code> branches</li>\n<li>Very easy to understand</li>\n<li>Requires only one simple wrapper function</li>\n</ol>\n\n<p><strong>Cons:</strong></p>\n\n<ol>\n<li>Easy to forget to wrap an argument</li>\n<li>The function of the wrong type can be accidentally used in a branch condition</li>\n</ol>\n\n<p><strong>Note</strong>: this solution and the next one allows using functions combination, which can be created by these extensions:</p>\n\n<pre><code>infix fun &lt;T&gt; ((T) -&gt; Boolean).and(other: ((T) -&gt; Boolean)) = { it: T -&gt; invoke(it) &amp;&amp; other(it) }\ninfix fun &lt;T&gt; ((T) -&gt; Boolean).or(other: ((T) -&gt; Boolean)) = { it: T -&gt; invoke(it) || other(it) }\noperator fun &lt;T&gt; ((T) -&gt; Boolean).not() = { it: T -&gt; !invoke(it) }\n</code></pre>\n\n<hr>\n\n<h2>DSL-based <code>when</code> analog</h2>\n\n<p>In Kotlin DSL can be used not only for building objects but for creating custom program flow structures as well.</p>\n\n<p><strong>Source code:</strong></p>\n\n<pre><code>@DslMarker\nannotation class WhichDsl\n\n// This object is used for preventing client code from creating nested\n// branches. You can omit it if you need them, but I highly recommend\n// not to do this because nested branches may be confusing. \n@WhichDsl\nobject WhichCase\n\n// R type parameter represents a type of expression result\n@WhichDsl\nclass Which&lt;T, R&gt;(val arg: T) {\n    // R? is not used here because R can be nullable itself \n    var result: Holder&lt;R&gt;? = null\n\n    inline operator fun ((T) -&gt; Boolean).invoke(code: WhichCase.() -&gt; R) {\n        if (result == null &amp;&amp; invoke(arg)) result = Holder(code(WhichCase))\n    }\n\n    // else analog\n    inline fun other(code: WhichCase.() -&gt; R) = result?.element ?: code(WhichCase)\n}\n\ndata class Holder&lt;out T&gt;(val element: T)\n\ninline fun &lt;T, R&gt; which(arg: T, @BuilderInference code: Which&lt;T, R&gt;.() -&gt; R) =\n    Which&lt;T, R&gt;(arg).code()\n</code></pre>\n\n<p><strong>Statement use case:</strong></p>\n\n<pre><code>which(givenString) {\n    ::startsWithHelp { printHelp() }\n    startsWithFn { println(\"Hello, ${givenString.substring(3)}!\") }\n}\n</code></pre>\n\n<p><strong>Expression use case:</strong></p>\n\n<pre><code>val int = which(givenString) {\n    ::startsWithHelp { 0 }\n    startsWithFn { 1 }\n    other { error(\"Unknown command: $givenString\") }\n}\n</code></pre>\n\n<p><strong>Pros:</strong></p>\n\n<ol>\n<li>Customizable syntax</li>\n<li>New features can be added</li>\n<li>Functions which works only with some argument types can be added</li>\n<li>Nested branches can be enabled</li>\n<li>No boilerplate</li>\n<li>Function types are checked at compile-time</li>\n<li>Easy to read</li>\n</ol>\n\n<p><strong>Cons:</strong></p>\n\n<ol>\n<li>Requires a few helper classes and functions</li>\n<li>Usage of experimental <code>@BuilderInference</code> (it can be replaced with explicit type declaration for expressions and separate method for statements) </li>\n<li>New syntax learning may take some time</li>\n</ol>\n\n<p><strong>Extensions examples:</strong></p>\n\n<pre><code>inline fun &lt;R&gt; Which&lt;*, R&gt;.orThrow(message: () -&gt; String) =\n    other { throw NoWhenBranchMatchedException(message()) }\n\nval &lt;R&gt; Which&lt;*, R&gt;.orThrow get() = orThrow { \"No branch matches to $arg\" }\n\ninline fun &lt;T, R&gt; Which&lt;T, R&gt;.branch(condition: (T) -&gt; Boolean, code: WhichCase.() -&gt; R) =\n    condition(code)\n\ninline fun &lt;T, R&gt; Which&lt;T, R&gt;.case(value: T, code: WhichCase.() -&gt; R) =\n    branch({ it == value }, code)\n\nfun &lt;T : CharSequence, R&gt; Which&lt;T, R&gt;.regex(regex: Regex, code: WhichCase.() -&gt; R) =\n    branch({ regex.matches(it) }, code)\n\nfun &lt;T : Comparable&lt;T&gt;, R&gt; Which&lt;T, R&gt;.range(range: ClosedRange&lt;T&gt;, code: WhichCase.() -&gt; R) =\n    branch({ it in range }, code)\n\ninline fun &lt;T&gt; Which&lt;T, *&gt;.sideBranch(condition: (T) -&gt; Boolean, code: WhichCase.() -&gt; Unit) {\n    if (condition(arg)) code(WhichCase)\n}\n\nfun &lt;T&gt; Which&lt;T, *&gt;.sideCase(value: T, code: WhichCase.() -&gt; Unit) =\n    sideBranch({ it == value }, code)\n\ninline fun &lt;R&gt; Which&lt;*, R&gt;.dropResult(condition: WhichCase.(R) -&gt; Boolean = { _ -&gt; true }) {\n    result?.let { (element) -&gt;\n        if (WhichCase.condition(element)) result = null\n    }\n}\n\ninline fun &lt;T, R&gt; Which&lt;T, R&gt;.subWhich(condition: (T) -&gt; Boolean, code: Which&lt;T, R&gt;.() -&gt; R) =\n    branch(condition) {\n    which(this@subBranch.arg, code)\n}\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 58191904, "answer_count": 1, "score": 2, "last_activity_date": 1569962050, "creation_date": 1568843113, "question_id": 58001124, "link": "https://stackoverflow.com/questions/58001124/what-is-the-most-concise-way-to-include-functions-or-lambdas-as-conditions-in-a", "title": "What is the most concise way to include functions or lambdas as conditions in a Kotlin `when` statement (or other branching construct)?", "body": "<p>I'm processing strings, and I came across the <a href=\"https://stackoverflow.com/a/41271363/1413900\">Regex or Wildcard</a> answer: that one can put regular expressions in a <code>when</code> statement with a custom class that overrides equals. While this does effectively use the type system to shoehorn syntactic sugar into the <code>when</code> statement, I find the following pretty ugly, and would never do this in code that I intend to share with another developer (quoting <a href=\"https://stackoverflow.com/users/5029307/travis\">travis</a>):</p>\n\n<pre><code>import kotlin.text.regex\n\nwhen (RegexWhenArgument(uri)) {\n    Regex(/* pattern */) -&gt; /* do stuff */\n    Regex(/* pattern */) -&gt; /* do stuff */\n    /* etc */\n}\n</code></pre>\n\n<p>Where RegexWhenArgument is minimally defined as:</p>\n\n<pre><code>class RegexWhenArgument (val whenArgument: CharSequence) {\n    operator fun equals(whenEntry: Regex) = whenEntry.matches(whenArgument)\n    override operator fun equals(whenEntry: Any?) = (whenArgument == whenEntry)\n}\n</code></pre>\n\n<p>(<em>end quote</em>)</p>\n\n<p>I think it would be much more readable to pass an arg to <code>when</code> and then reference functions that operate on the type of the arg. For a contrived example:</p>\n\n<pre><code>// local declaration\nval startsWithFn: (String) -&gt; Boolean = {s -&gt; s.startsWith(\"fn:\")}\n\nwhen(givenString) {\n    ::startsWithHelp -&gt; printHelp()\n    startsWithFn -&gt; println(\"Hello, ${givenString.substring(3)}!\")\n}\n\n// package level function\nfun startsWithHelp(s:String) = s.startsWith(\"help\", true)\n</code></pre>\n\n<p>But of course, this code doesn't compile. Is there a way to do this that's readable, maintainable, and concise? Maybe using Streams? What would an experienced Kotlin developer do?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-autofill-manager"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7886291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPazW.jpg?s=128&g=1", "display_name": "Dasheno", "link": "https://stackoverflow.com/users/7886291/dasheno"}, "is_accepted": true, "score": 0, "last_activity_date": 1569242022, "creation_date": 1569242022, "answer_id": 58062564, "question_id": 57999997, "link": "https://stackoverflow.com/questions/57999997/why-does-it-take-so-long-to-have-the-ide-update-from-what-i-paste-in/58062564#58062564", "title": "Why does it take so long to have the IDE update from what I paste in?", "body": "<p>After multiple tries, I ended fixing this myself.</p>\n\n<p><strong>What I did:</strong></p>\n\n<ul>\n<li><p>Each variable that was added was causing a warning which needed to be updated in the IDE everytime I updated a line of code. fixing the warning by making it a \"val\" instead of a \"var\" sped things up a little bit.</p></li>\n<li><p>The other thing that really helped was doing a \"cleanup code\" alt+enter action on some of the if statements.</p></li>\n<li><p>The final thing that helped the most was apparently if you have more than 4 if/else statements you should just use a \"When\" statement. This one provided the greatest processing efficiency.</p></li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 7886291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPazW.jpg?s=128&g=1", "display_name": "Dasheno", "link": "https://stackoverflow.com/users/7886291/dasheno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58062564, "answer_count": 1, "score": 0, "last_activity_date": 1569242022, "creation_date": 1568836972, "last_edit_date": 1568861530, "question_id": 57999997, "link": "https://stackoverflow.com/questions/57999997/why-does-it-take-so-long-to-have-the-ide-update-from-what-i-paste-in", "title": "Why does it take so long to have the IDE update from what I paste in?", "body": "<p>I have code where I have defined over 350+ variables to be used in a 350+ if else statement.</p>\n\n<p>My question is this: \"why does my code take over 30 seconds to update what I paste in with the auto-fill manager? Is this because I have SO many if, else if statements and defined variables?\"</p>\n\n<pre><code>//350+ defined initially\n        var A244: String = \"A244\" //1\n\n        var C219: String = \"C219\"  //2\n\n        var A099: String = \"A099\"  //3\n\n        var A169: String = \"A169\"  //4\n\n        var A185: String = \"A185\"  //5\n//    ETC ETC ETC...\n\n\n//THEN THE 350+ ELSE IF STATMENTS BEGIN\n     else if (A985.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"4-5t DBB\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"Second\")\n        }\n        else if (B024.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"N/A0\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"First\")\n        }\n        else if (B199.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"N/A1\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"First\")\n        }\n        else if (B215.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"N/A2\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"First\")\n        }\n        else if (B218.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"DC Walkie\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"First\")\n        }\n        else if (B219.compareTo(punitstring) == 0) {\n            val mtext2 = findViewById(R.id.textView4) as TextView\n            mtext2.setText(\"AC 3 WS\")\n            val mtext3 = findViewById(R.id.textView8) as TextView\n            mtext3.setText(\"First\")\n        }\n</code></pre>\n\n<p>From my code you can see what I have pasted in (see \"before\" picture below), but after some thinking the IDE updates to what is shown in the after picture (see \"after\" picture below). I believe it may be due to soo many statements, but need some confirmation and possibly some input on how I should begin to clean this up.</p>\n\n<p>Before, when the IDE initially loads up:\n<a href=\"https://i.stack.imgur.com/OOBqR.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OOBqR.jpg</a></p>\n\n<p>AFTER about 30+ seconds of waiting for the manager to update the code with auto-fill:\n<a href=\"https://i.stack.imgur.com/9LjwR.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9LjwR.jpg</a></p>\n\n<p>I have already tried allocating the maximum amount of disk and RAM space to the IDE and this did not help.</p>\n\n<p>My next step is to possibly concatenate all of the var to one specific statement. I am not sure how to shorten up the if statements though.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "koin"], "answers": [{"tags": [], "owner": {"reputation": 2433, "user_id": 5036979, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206947226739641/picture?type=large", "display_name": "Ahmed Ashraf", "link": "https://stackoverflow.com/users/5036979/ahmed-ashraf"}, "is_accepted": true, "score": 0, "last_activity_date": 1568847480, "creation_date": 1568847480, "answer_id": 58001700, "question_id": 57998427, "link": "https://stackoverflow.com/questions/57998427/android-koin-simple-object-inject-fail/58001700#58001700", "title": "Android Koin simple object inject fail", "body": "<p>You probably got confused by the syntax, you're supposed to call the method <code>modules</code> and provide it with the modules you want started.</p>\n\n<p>The <code>listOf</code> return value is ignored in your case, you're supposed to do something like this:</p>\n\n<pre><code>startKoin {\n    androidLogger()\n    androidContext(this@Application)\n    modules(applicationModule)\n}\n</code></pre>\n\n<p><a href=\"https://insert-koin.io/\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 11696949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114e57ccd2017cc41009044eea60d12e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeeshan Fareed", "link": "https://stackoverflow.com/users/11696949/zeeshan-fareed"}, "is_accepted": false, "score": 0, "last_activity_date": 1573885265, "creation_date": 1573885265, "answer_id": 58888152, "question_id": 57998427, "link": "https://stackoverflow.com/questions/57998427/android-koin-simple-object-inject-fail/58888152#58888152", "title": "Android Koin simple object inject fail", "body": "<p>try this.</p>\n\n<p>KoinApp.kt</p>\n\n<pre><code>class KoinApp : MultiDexApplication() {\n    override fun onCreate() {\n        super.onCreate()\n        startKoin(this, listOf(appModule))\n    }\n}\n</code></pre>\n\n<p>appModule.kt   </p>\n\n<pre><code>@JvmField\n    val appModule = module {\n         single { DataRepository(get()) } \n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 11498742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8b844f0eb28e63afdafa66d8d1a6ee?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Lee", "link": "https://stackoverflow.com/users/11498742/aidan-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1615548653, "creation_date": 1615548653, "answer_id": 66599103, "question_id": 57998427, "link": "https://stackoverflow.com/questions/57998427/android-koin-simple-object-inject-fail/66599103#66599103", "title": "Android Koin simple object inject fail", "body": "<p>The answer will work, but for future proofing, I would still have the list of.</p>\n<pre><code>startKoin {\nandroidLogger()\nandroidContext(this@Application)\nmodules(listOf(applicationModule))\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 386, "user_id": 6035195, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/LckXG.jpg?s=128&g=1", "display_name": "Chathuranga Shan Jayarathna", "link": "https://stackoverflow.com/users/6035195/chathuranga-shan-jayarathna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 58001700, "answer_count": 3, "score": 0, "last_activity_date": 1615548653, "creation_date": 1568829512, "question_id": 57998427, "link": "https://stackoverflow.com/questions/57998427/android-koin-simple-object-inject-fail", "title": "Android Koin simple object inject fail", "body": "<p>I'm trying to learn Koin for dependency injection in android. I started to follow the example and try to inject very simple object by but I'm getting the error as <code>NoBeanDefFoundException: No definition found for ...</code></p>\n\n<p>here's my code</p>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>// Koin\n    def koin_version = '2.0.1'\n    implementation \"org.koin:koin-androidx-scope:$koin_version\"\n    implementation \"org.koin:koin-androidx-viewmodel:$koin_version\"\n    implementation \"org.koin:koin-androidx-ext:$koin_version\" \n</code></pre>\n\n<p><strong>Application onCreate()</strong></p>\n\n<pre><code>override fun onCreate() {\n        super.onCreate()\n\n        startKoin{\n            androidLogger()\n            androidContext(this@Application)\n            listOf(applicationModule)\n        }\n\n    }\n</code></pre>\n\n<p><strong>Modules.kt</strong></p>\n\n<pre><code>val applicationModule = module {\n    factory { UserSession(\"email\",\"password\") }\n}\n</code></pre>\n\n<p>but when I try to inject it in anywhere (Application, Activity, Fragment) as <code>private val userSession: UserSession by inject()</code> I get above mentioned error. Am I missing something?</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 1758, "user_id": 4627552, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/PKXU2.jpg?s=128&g=1", "display_name": "Clyde D&#39;Cruz", "link": "https://stackoverflow.com/users/4627552/clyde-dcruz"}, "is_accepted": false, "score": 1, "last_activity_date": 1568982519, "creation_date": 1568982519, "answer_id": 58028418, "question_id": 57998353, "link": "https://stackoverflow.com/questions/57998353/how-do-i-create-nodes-at-runtime/58028418#58028418", "title": "How do I create nodes at runtime?", "body": "<p>You could have a look at <code>net.corda.testing.driver</code> which can be used to start up a set of test nodes for integration testing </p>\n\n<pre><code>class DriverBasedTest {\n    private val bankA = TestIdentity(CordaX500Name(\"BankA\", \"\", \"GB\"))\n    private val bankB = TestIdentity(CordaX500Name(\"BankB\", \"\", \"US\"))\n\n    @Test\n    fun `node test`() = withDriver {\n        // Start a pair of nodes and wait for them both to be ready.\n        val (partyAHandle, partyBHandle) = startNodes(bankA, bankB)\n\n        // From each node, make an RPC call to retrieve another node's name from the network map, to verify that the\n        // nodes have started and can communicate.\n\n        // This is a very basic test: in practice tests would be starting flows, and verifying the states in the vault\n        // and other important metrics to ensure that your CorDapp is working as intended.\n        assertEquals(bankB.name, partyAHandle.resolveName(bankB.name))\n        assertEquals(bankA.name, partyBHandle.resolveName(bankA.name))\n    }\n}\n</code></pre>\n\n<p>From here -> <a href=\"https://github.com/corda/corda-settler/blob/master/cordapp/src/integrationTest/kotlin/com/template/DriverBasedTest.kt\" rel=\"nofollow noreferrer\">https://github.com/corda/corda-settler/blob/master/cordapp/src/integrationTest/kotlin/com/template/DriverBasedTest.kt</a></p>\n"}], "owner": {"reputation": 125, "user_id": 2716624, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/51977cb4e1829fb3fe9e5f8d03c08377?s=128&d=identicon&r=PG&f=1", "display_name": "swapnil", "link": "https://stackoverflow.com/users/2716624/swapnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568982519, "creation_date": 1568829197, "question_id": 57998353, "link": "https://stackoverflow.com/questions/57998353/how-do-i-create-nodes-at-runtime", "title": "How do I create nodes at runtime?", "body": "<p>I recently started working with corda and try to create POC. There is one requirement is to create corda node at runtime. I have searched into corda documentation, but bad luck. </p>\n\n<p>Is there any way to create nodes at runtime?</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener"], "answers": [{"tags": [], "owner": {"reputation": 1754, "user_id": 5251407, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/o4raw.jpg?s=128&g=1", "display_name": "Akhil Soman", "link": "https://stackoverflow.com/users/5251407/akhil-soman"}, "is_accepted": true, "score": 2, "last_activity_date": 1568828065, "creation_date": 1568828065, "answer_id": 57998086, "question_id": 57997841, "link": "https://stackoverflow.com/questions/57997841/how-to-click-a-button-multiple-times-and-change-modes-in-an-android-app/57998086#57998086", "title": "How to click a button multiple times and change modes in an android app", "body": "<p>You need to store the \"mode\" in a global variable.\ncreate a global variable</p>\n\n<pre><code>var isModeCelsius: Boolean = true\n</code></pre>\n\n<p>Now inside your onCreate() method in your activity, under the setContentView(R.layout.your_layout_name) line enter the below code.</p>\n\n<pre><code>//Initialize edittext and button\n    val convert = findViewById&lt;Button&gt;(R.id.button)\n    val heading = findViewById&lt;TextView&gt;(R.id.textView)\n    val modeButton = findViewById&lt;Button&gt;(R.id.id_of_button)\n    val editxt = findViewById&lt;EditText&gt;(R.id.editText)\n    val showResultTextView = findViewById&lt;TextView&gt;(R.id.textView2)\n    //You only need to assign the click listener once\n    modeButton.setOnClickListener {\n        if (isModeCelsius) {\n            isModeCelsius = false\n        } else {\n            isModeCelsius = true\n        }\n\n        //Or you can simply use\n        //isModeCelsius=!isModeCelsius\n    }\n    convert.setOnClickListener {\n        val msg = editxt.text.toString()\n        if(isModeCelsius){\n            val far = msg.toDouble()\n            val cel =  (far-32)*0.5555555556\n            showResultTextView.text = \"Result: \" + cel.toString()\n        }else{\n            val cel = msg.toDouble()\n            val far =  (cel*1.8)+32\n            showResultTextView.text = \"Result: \" + far.toString()\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 7378618, "user_type": "registered", "profile_image": "https://graph.facebook.com/1904847709746188/picture?type=large", "display_name": "Afsana Khan", "link": "https://stackoverflow.com/users/7378618/afsana-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 57998086, "answer_count": 1, "score": 0, "last_activity_date": 1568828065, "creation_date": 1568826903, "question_id": 57997841, "link": "https://stackoverflow.com/questions/57997841/how-to-click-a-button-multiple-times-and-change-modes-in-an-android-app", "title": "How to click a button multiple times and change modes in an android app", "body": "<p>I am new to Android Development. I need to build a temperature converter app which would convert Celcius to Farenheit and Farenheit to Celcius. I have used an editText for user input. There are two buttons. One button is to convert the input and the other one is the mode button which would toggle between the two modes of conversion. When I launch the app the mode is in celcius to farenheit by default. By clicking on mode button I can change the mode to farenheit to celcius scale. The problem is that when I again click on the mode button it does not return to the celcius to farenheit conversion mode. I don't know how to do it. Can someone help me in this regard?</p>\n\n<p>I have set the function getset() for the convert button and function mode() for the mode button.</p>\n\n<pre><code>fun getSet(view: View)\n{\n    val convert = findViewById&lt;Button&gt;(R.id.button)\n    convert.setOnClickListener {\n        if(editText.length()==0)\n        {\n            editText.setError(\"Enter a Value\")\n        }\n        else\n        {\n            val editxt = findViewById&lt;EditText&gt;(R.id.editText)\n            val msg = editxt.text.toString()\n            val txtview = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n                val cel = msg.toDouble()\n                val far =  (cel*1.8)+32\n                    text = \"Result: \" + far.toString()\n                }\n            }\n        }\n  }\n  fun mode(view: View)\n  {\n    val convert = findViewById&lt;Button&gt;(R.id.button)\n    val heading = findViewById&lt;TextView&gt;(R.id.textView).apply {\n            val caption =  \"Farenheit to Celcius\"\n            text = caption\n        }\n    convert.setOnClickListener {\n        if(editText.length()==0)\n        {\n                editText.setError(\"Enter a Value\")\n        }\n        else\n        {\n            val editxt = findViewById&lt;EditText&gt;(R.id.editText)\n            val msg = editxt.text.toString()\n            val txtview = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n                    val far = msg.toDouble()\n                    val cel =  (far-32)*0.5555555556\n                    text = \"Result: \" + cel.toString()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 11735672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534b4cd29f9bca305932c62619d6a1d6?s=128&d=identicon&r=PG&f=1", "display_name": "galord", "link": "https://stackoverflow.com/users/11735672/galord"}, "edited": false, "score": 0, "creation_date": 1568870851, "post_id": 57999038, "comment_id": 102413315, "body": "I implemented it but the error remains. Any other suggestions?"}, {"owner": {"reputation": 28, "user_id": 11735672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534b4cd29f9bca305932c62619d6a1d6?s=128&d=identicon&r=PG&f=1", "display_name": "galord", "link": "https://stackoverflow.com/users/11735672/galord"}, "edited": false, "score": 0, "creation_date": 1568921407, "post_id": 57999038, "comment_id": 102439148, "body": "Thanks! I was able to fix my problem."}], "tags": [], "owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "is_accepted": true, "score": 1, "last_activity_date": 1568919449, "last_edit_date": 1568919449, "creation_date": 1568832113, "answer_id": 57999038, "question_id": 57997093, "link": "https://stackoverflow.com/questions/57997093/android-studio-build-fail-do-not-have-that-dependency-error-program-type-alr/57999038#57999038", "title": "Android Studio Build Fail (do not have that dependency); Error: Program type already present: common.utility.EEG", "body": "<p>add <code>multiDexEnabled true</code> into your <code>build.gradle</code> under the <code>defaultConfig</code> scope</p>\n\n<pre><code>android {\n\n    defaultConfig {\n        multiDexEnabled true\n    }\n}\n\ndependencies {\n    implementation 'com.android.support:multidex:1.0.3'\n}\n\npublic class YouApplication extends Application {\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(this);\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 28, "user_id": 11735672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/534b4cd29f9bca305932c62619d6a1d6?s=128&d=identicon&r=PG&f=1", "display_name": "galord", "link": "https://stackoverflow.com/users/11735672/galord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57999038, "answer_count": 1, "score": 0, "last_activity_date": 1568919449, "creation_date": 1568823795, "question_id": 57997093, "link": "https://stackoverflow.com/questions/57997093/android-studio-build-fail-do-not-have-that-dependency-error-program-type-alr", "title": "Android Studio Build Fail (do not have that dependency); Error: Program type already present: common.utility.EEG", "body": "<p>I am having trouble building in Android Studio. This is the error: <code>Error: Program type already present: common.utility.EEG</code></p>\n\n<p>I attempted the solutions for similar problems however I could not get it to work. I tried to look for common.utility.EEG but could not find it.</p>\n\n<pre><code>Caused by: com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n    Learn how to resolve the issue at https://developer.android.com/studio/build/dependencies#duplicate_classes.\n    Program type already present: common.utility.EEG\n        at com.android.build.gradle.internal.tasks.DexMergingTaskRunnable.run(DexMergingTask.kt:471)\n        at com.android.build.gradle.internal.tasks.Workers$ActionFacade.run(Workers.kt:335)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:39)\n</code></pre>\n\n<p>These are my dependencies for reference:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.github.isaac-udy:Kfilter:1.1.3'\n    implementation 'com.github.zomato:androidphotofilters:1.0.1'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.github.mukeshsolanki:easypreferences:1.0.6'\n    implementation 'org.tensorflow:tensorflow-android:+'\n    implementation files('libs/Algorithm_1.5.jar')\n    implementation files('libs/Basicutility_1.3.3.jar')\n    implementation files('libs/commons-io-2.4.jar')\n    implementation files('libs/commons-net-3.5.jar')\n    implementation files('libs/d2xx.jar')\n    implementation files('libs/eegproduct_1.5.jar')\n    implementation files('libs/jmatio-1.0.jar')\n    implementation files('libs/MQTT_1.0.jar')\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1568869811, "post_id": 57997408, "comment_id": 102413017, "body": "It also should be <code>NonNullableBehaviourSubject(0)</code> (or some other <code>Int</code>) rather than <code>NonNullableBehaviourSubject(Int)</code>."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 2, "last_activity_date": 1568825117, "creation_date": 1568825117, "answer_id": 57997408, "question_id": 57996878, "link": "https://stackoverflow.com/questions/57996878/creating-a-behavioursubject-with-an-int/57997408#57997408", "title": "Creating a BehaviourSubject with an Int", "body": "<p>Your <code>error</code> object has nullable type, and you use safe call (<code>?.</code>) on it, so the whole expression is nullable.\nTo make the value non-nullable you can either assert value is not null (<code>error!!.errorResId</code> will crash if <code>error</code> is <code>null</code>, <code>error?.errorResId!!</code> will crash if the whole expression is null) or provide the fallback value for null case (<code>(error ?: DEFAULT_ERROR).errorResId</code> or <code>error?.errorResId ?: DEFAULT_ERROR_RES</code>).</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 57997408, "answer_count": 1, "score": 0, "last_activity_date": 1568825117, "creation_date": 1568822980, "question_id": 57996878, "link": "https://stackoverflow.com/questions/57996878/creating-a-behavioursubject-with-an-int", "title": "Creating a BehaviourSubject with an Int", "body": "<p>How can I create an instance of this Subject with an Int:</p>\n\n<pre><code>class NonNullableBehaviourSubject&lt;T : Any&gt;(defaultValue: T) : Subject&lt;T&gt;() {\n   private val behaviourSubject = BehaviorSubject.createDefault&lt;T&gt;(defaultValue)\n}\n</code></pre>\n\n<p>I then create an instance of NonNullableBehaviourSubject like this:</p>\n\n<pre><code>val emailValidationSubject = NonNullableBehaviourSubject(Int)\n</code></pre>\n\n<p>But I then get a compile error using this:</p>\n\n<pre><code>emailValidationSubject.onNext(error?.errorResId)\n</code></pre>\n\n<p>The compile error I get is:</p>\n\n<pre><code>Required: Companion.Int\nFound: Int?\n</code></pre>\n\n<p>Also, Int must not be nullable. Yet, NonNullableBehaviourSubject does define a nullable parameter.</p>\n"}, {"tags": ["java", "spring", "postgresql", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "edited": false, "score": 2, "creation_date": 1568821851, "post_id": 57996331, "comment_id": 102399709, "body": "I used the following trick - I introduce <code>@Formula (theExpressionThere)</code> as a filed in the entity and used sort by the expression."}, {"owner": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "reply_to_user": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "edited": false, "score": 0, "creation_date": 1568822160, "post_id": 57996331, "comment_id": 102399876, "body": "thanks @StanislavL - have you any useful examples on how to use this?"}, {"owner": {"reputation": 1659, "user_id": 5193747, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/bc7P6.png?s=128&g=1", "display_name": "Kamil W", "link": "https://stackoverflow.com/users/5193747/kamil-w"}, "edited": false, "score": 0, "creation_date": 1568834488, "post_id": 57996331, "comment_id": 102404899, "body": "What do you pass in your <code>pageable</code> argument?"}, {"owner": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "reply_to_user": {"reputation": 1659, "user_id": 5193747, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/bc7P6.png?s=128&g=1", "display_name": "Kamil W", "link": "https://stackoverflow.com/users/5193747/kamil-w"}, "edited": false, "score": 0, "creation_date": 1568837115, "post_id": 57996331, "comment_id": 102405903, "body": "@KamilW that is an instance of a org.springframework.data.domain.Pageable object"}, {"owner": {"reputation": 2948, "user_id": 578855, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/adbx1.jpg?s=128&g=1", "display_name": "muasif80", "link": "https://stackoverflow.com/users/578855/muasif80"}, "edited": false, "score": 0, "creation_date": 1568996085, "post_id": 57996331, "comment_id": 102466186, "body": "If you remove distinct in original jpql then does it sort? can  you share how you build pageable? when industry is part of grievance then it should not throw that error."}, {"owner": {"reputation": 2948, "user_id": 578855, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/adbx1.jpg?s=128&g=1", "display_name": "muasif80", "link": "https://stackoverflow.com/users/578855/muasif80"}, "edited": false, "score": 0, "creation_date": 1568996300, "post_id": 57996331, "comment_id": 102466279, "body": "What if you move sorting to jpql instead of in pageable"}, {"owner": {"reputation": 2948, "user_id": 578855, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/adbx1.jpg?s=128&g=1", "display_name": "muasif80", "link": "https://stackoverflow.com/users/578855/muasif80"}, "edited": false, "score": 0, "creation_date": 1568996415, "post_id": 57996331, "comment_id": 102466325, "body": "have you put it like this? <code>Sort.by(&quot;industry&quot;)</code> or <code>Sort.by(&quot;grievance.industry&quot;)</code>?"}, {"owner": {"reputation": 5980, "user_id": 1852714, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/lNIwe.jpg?s=128&g=1", "display_name": "Angelo Immediata", "link": "https://stackoverflow.com/users/1852714/angelo-immediata"}, "edited": false, "score": 0, "creation_date": 1569048133, "post_id": 57996331, "comment_id": 102476945, "body": "I guess you are using Sort inside Pageable. May you show how you create the Pegeable instance?"}, {"owner": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "edited": false, "score": 0, "creation_date": 1569051771, "post_id": 57996331, "comment_id": 102477546, "body": "I create Pageable by accepting a Pageable object in my controller and passing the following params along with my get request as query params pageIndex: number,     pageSize: number,     sortField: string,     sortOrder: string"}], "answers": [{"comments": [{"owner": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "edited": false, "score": 0, "creation_date": 1569343896, "post_id": 58066496, "comment_id": 102563759, "body": "A possible solution but I hope to get away with using 1 query. Thanks for your reply"}, {"owner": {"reputation": 1709, "user_id": 3014817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQt40.jpg?s=128&g=1", "display_name": "Shailesh Chandra", "link": "https://stackoverflow.com/users/3014817/shailesh-chandra"}, "reply_to_user": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "edited": false, "score": 0, "creation_date": 1569344086, "post_id": 58066496, "comment_id": 102563855, "body": "thats first thing came in my mind but faster approach as all operations will execute at database server, I will add if something else come to my mind"}], "tags": [], "owner": {"reputation": 1709, "user_id": 3014817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQt40.jpg?s=128&g=1", "display_name": "Shailesh Chandra", "link": "https://stackoverflow.com/users/3014817/shailesh-chandra"}, "is_accepted": true, "score": 1, "last_activity_date": 1569255762, "creation_date": 1569255762, "answer_id": 58066496, "question_id": 57996331, "link": "https://stackoverflow.com/questions/57996331/spring-boot-jpa-distinct-and-pageable/58066496#58066496", "title": "Spring Boot - Jpa Distinct and Pageable", "body": "<p>try below</p>\n\n<pre><code>@Query(value =\" Select grievance from (SELECT distinct grievance, grievance.industry \" +\n\" FROM Grievance grievance\" +\n\" WHERE (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId) \" +\n\" OR (grievance.status=:status AND grievance.auditProgramPortal=:auditProgramPortal)\" +\n\" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId)\" +\n\" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.publicSubmission=:publicSubmission))\")\n</code></pre>\n"}], "owner": {"reputation": 3338, "user_id": 11612, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a69614f7113cd911214b4386a270dbf5?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/11612/damien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 1, "accepted_answer_id": 58066496, "answer_count": 1, "score": 4, "last_activity_date": 1569255762, "creation_date": 1568820730, "question_id": 57996331, "link": "https://stackoverflow.com/questions/57996331/spring-boot-jpa-distinct-and-pageable", "title": "Spring Boot - Jpa Distinct and Pageable", "body": "<p>I have a Spring Boot v 2.1.8.RELEASE project that uses kotlin.\nWe use a postgres database and I have the following JPA query</p>\n\n<pre><code>    @Query(value = \" SELECT distinct grievance \" +\n               \" FROM Grievance grievance\" +\n               \" WHERE (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId) \" +\n               \" OR (grievance.status=:status AND grievance.auditProgramPortal=:auditProgramPortal)\" +\n               \" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId)\" +\n               \" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.publicSubmission=:publicSubmission)\")\nfun findAnalystBodyGrievances(\n        auditProgramPortal: Boolean,\n        organizationId: Long,\n        status: GrievanceStatus,\n        publicSubmission: Boolean,\n        pageable: Pageable): Page&lt;Grievance&gt;\n</code></pre>\n\n<p>When I run this as is - it works as fine. When I sort on the industry field (see object below) - I get the following error</p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: for SELECT DISTINCT, ORDER BY expressions must appear in select list\n</code></pre>\n\n<p>Snippets from the relevant objects are as follows</p>\n\n<p><strong>Grievance</strong></p>\n\n<pre><code>@Entity\n@Audited\n@Table(name = \"grievance\")\nclass Grievance {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    var id: Long? = null\n\n    @Column(name = \"title\", nullable = false)\n    var title: String? = null\n\n    @Column(name = \"description\", columnDefinition = \"text\")\n    var description: String? = null\n\n    @Column(name = \"public_description\", columnDefinition = \"text\")\n    var publicDescription: String? = null\n\n    @Column(name = \"related_to_identified_risk\")\n    var relatedToIdentifiedRisk: Boolean? = null\n\n\n    @OneToOne\n    @JoinColumn(name = \"industry_id\")\n    var industry: Industry? = null\n  }\n</code></pre>\n\n<p><strong>Industry</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"industry\")\nclass Industry {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\")\n    var id: Long? = null\n\n    @Column(name = \"name\", nullable = false, unique = true)\n    var name: String? = null\n\n    @Column(name = \"color\", nullable = false, unique = false)\n    var color: String? = null\n}\n</code></pre>\n\n<p>My question is - what is the easiest way to fix the query so that a Page is still returned\nIf I update my code to use the following Query - A generic object is returned</p>\n\n<pre><code>@Query(value = \" SELECT distinct grievance, grievance.industry \" +\n               \" FROM Grievance grievance\" +\n               \" WHERE (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId) \" +\n               \" OR (grievance.status=:status AND grievance.auditProgramPortal=:auditProgramPortal)\" +\n               \" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.owner.id=:organizationId)\" +\n               \" OR (grievance.auditProgramPortal=:auditProgramPortal AND grievance.publicSubmission=:publicSubmission)\")\n</code></pre>\n\n<p>Any help on this is much appreciated</p>\n"}, {"tags": ["kotlin", "akka", "akka-supervision"], "answers": [{"tags": [], "owner": {"reputation": 3329, "user_id": 7760212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e34f38c29edd180fcfc1aaa47a0269a?s=128&d=identicon&r=PG&f=1", "display_name": "Frederic A.", "link": "https://stackoverflow.com/users/7760212/frederic-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1569138831, "creation_date": 1569138831, "answer_id": 58047174, "question_id": 57995215, "link": "https://stackoverflow.com/questions/57995215/can-a-backoffsupervisor-have-multiple-children-actors/58047174#58047174", "title": "Can a BackoffSupervisor have multiple children actors?", "body": "<p><code>BackoffSupervisor</code>s only support a single (direct) child.</p>\n\n<p>If you want to re-use a <code>BackoffSupervisor</code> the only way is by introducing another supervisor as its child:</p>\n\n<pre><code>/user/dad/backoffsupervisor/supervisor/foo\n/user/dad/backoffsupervisor/supervisor/bar\n</code></pre>\n\n<p>Where <code>/user/dad/backoffsupervisor</code> is a <code>BackoffSupervisor</code> and where <code>/user/dad/backoffsupervisor/supervisor</code> is an actor that watches its children (<code>foo</code> and <code>bar</code>) and stops when either child stops, cascading the failure to the backoff supervisor.</p>\n"}], "owner": {"reputation": 1627, "user_id": 2893839, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/A1yFr.jpg?s=128&g=1", "display_name": "Lorenzo Belli", "link": "https://stackoverflow.com/users/2893839/lorenzo-belli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 58047174, "answer_count": 1, "score": 1, "last_activity_date": 1569138831, "creation_date": 1568817064, "question_id": 57995215, "link": "https://stackoverflow.com/questions/57995215/can-a-backoffsupervisor-have-multiple-children-actors", "title": "Can a BackoffSupervisor have multiple children actors?", "body": "<p>All my actors inherit from <code>BaseActor</code> and can create children actor with <code>registerActor()</code></p>\n\n<pre><code>abstract class BaseActor() : AbstractLoggingActor() {\n\n    protected fun registerActor(childProps: Props, name: String): ActorRef {\n        val child = context.child(name)\n        val supervisorProps = BackoffSupervisor.props(\n            BackoffOpts.onFailure(\n                childProps,\n                name,\n                java.time.Duration.ofSeconds(1),\n                java.time.Duration.ofSeconds(30),\n                0.2 // adds 20% \"noise\" to vary the intervals slightly\n            ).withAutoReset(FiniteDuration(20, TimeUnit.SECONDS))\n        )\n\n        return if (child.isEmpty) {\n            context.actorOf(supervisorProps, \"supervisor_$name\").also { addChildRoutee(it) }\n        } else {\n            child.get()\n        }\n    }\n}\n</code></pre>\n\n<p>When an actor <code>/user/dad</code> create 2 children actors using <code>registerActor()</code> however 2 supervisors are created</p>\n\n<pre><code>/user/dad/supervisor_foo/foo\n/user/dad/supervisor_bar/bar\n</code></pre>\n\n<p>How can I reuse the same supervisor to supervise both <code>foo</code> and <code>bar</code> ?</p>\n\n<pre><code>/user/dad/supervisor/foo\n/user/dad/supervisor/bar\n</code></pre>\n"}, {"tags": ["file", "kotlin", "base64", "uri", "attachment"], "answers": [{"comments": [{"owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "edited": false, "score": 0, "creation_date": 1568819953, "post_id": 57995511, "comment_id": 102398578, "body": "You sir are a saviour &lt;3"}], "tags": [], "owner": {"reputation": 2336, "user_id": 751482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCcyX.jpg?s=128&g=1", "display_name": "pshegger", "link": "https://stackoverflow.com/users/751482/pshegger"}, "is_accepted": true, "score": 1, "last_activity_date": 1568817985, "creation_date": 1568817985, "answer_id": 57995511, "question_id": 57994941, "link": "https://stackoverflow.com/questions/57994941/kotlin-how-can-i-base64encode-the-file-i-get-back-from-the-onactivityresult/57995511#57995511", "title": "Kotlin, how can I base64Encode the file I get back from the OnActivityResult", "body": "<p>The error message states that the <code>Uri</code> isn't pointing to a file (it doesn't start with <code>file://</code>). In newer Android versions you don't have direct access to the file you are requesting, but you can read its content through the <code>ContentResolver</code>. You can do that by opening an <code>InputStream</code> with <code>cr.openInputStream(uri)</code>. When you have it you can read from that stream and convert the result to Base64.</p>\n\n<p>Here's an example on how to read the entire content of the file into a ByteArray:</p>\n\n<pre><code>private fun readFile(cr: ContentResolver, uri: Uri): ByteArray {\n    val inStream = cr.openInputStream(uri) ?: return ByteArray(0)\n    val outStream = ByteArrayOutputStream()\n    val buffer = ByteArray(32)\n    while (inStream.read(buffer) &gt; 0) {\n        outStream.write(buffer)\n    }\n    return outStream.toByteArray()\n}\n</code></pre>\n"}], "owner": {"reputation": 5080, "user_id": 1307987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4bbce19ea91ac93a7fdb9a25b4ad0a4?s=128&d=identicon&r=PG", "display_name": "rosu alin", "link": "https://stackoverflow.com/users/1307987/rosu-alin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 57995511, "answer_count": 1, "score": 0, "last_activity_date": 1568817985, "creation_date": 1568816269, "question_id": 57994941, "link": "https://stackoverflow.com/questions/57994941/kotlin-how-can-i-base64encode-the-file-i-get-back-from-the-onactivityresult", "title": "Kotlin, how can I base64Encode the file I get back from the OnActivityResult", "body": "<p>I need to make the logic to add attachments to a email client.\nI have all the needed permissions and I create a intent for files: </p>\n\n<pre><code>  val intent = Intent(Intent.ACTION_GET_CONTENT)\n  intent.type = \"*/*\"\n  activity?.startActivityForResult(intent, ActivityResultHandler.PICK_FILE)\n</code></pre>\n\n<p>I choose a file, and I get result ok in my onActivityResult:</p>\n\n<pre><code>public override fun onActivityResult(reqCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(reqCode, resultCode, data)\n    ActivityResultHandler().onActivityResult(this, reqCode, resultCode, data)\n    if (reqCode == REQUEST_CODE_SET_DEFAULT_DIALER) {\n        activityToFragmentCommunicationCallback?.sendData(\"refresh\")\n    } else if (reqCode == ActivityResultHandler.PICK_FILE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n        val uri = data.data\n        val cr = this.contentResolver\n        val mime = cr.getType(uri)\n        var file = uri.toFile()\n        if (file.exists()) {\n            var base64 = convertToBase64(file)\n            DialogFullScreenEmailComposer.addAttachment()\n        }\n    }\n}\n</code></pre>\n\n<p>But then it crashes at this: <code>var file = uri.toFile()</code></p>\n\n<p>Telling me that: </p>\n\n<pre><code>2019-09-18 16:12:12.300 20608-20608/com.xelion.android.debug E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.xelion.android.debug, PID: 20608\njava.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=3, result=-1, data=Intent { dat=content://com.android.providers.downloads.documents/document/raw:/storage/emulated/0/Download/106.apk flg=0x1 }} to activity {com.xelion.android.debug/com.xelion.android.activity.MainActivity}: java.lang.IllegalArgumentException: Uri lacks 'file' scheme: content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2F106.apk\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4398)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4440)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1816)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n Caused by: java.lang.IllegalArgumentException: Uri lacks 'file' scheme: content://com.android.providers.downloads.documents/document/raw%3A%2Fstorage%2Femulated%2F0%2FDownload%2F106.apk\n    at androidx.core.net.UriKt.toFile(Uri.kt:40)\n    at com.xelion.android.activity.MainActivity.onActivityResult(MainActivity.kt:312)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7462)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4391)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4440)\u00a0\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\u00a0\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\u00a0\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1816)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:106)\u00a0\n    at android.os.Looper.loop(Looper.java:193)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\u00a0\n</code></pre>\n\n<p>What can be done so that it can create my file? Or can I skip that and just create the base64Encoded directly?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 12083845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATpdC.jpg?s=128&g=1", "display_name": "BWappsandmore", "link": "https://stackoverflow.com/users/12083845/bwappsandmore"}, "edited": false, "score": 0, "creation_date": 1568817388, "post_id": 57995089, "comment_id": 102397023, "body": "this was very fast response and as it seems it was very easy to solve. Thank you @Andrei Tanana"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 0, "last_activity_date": 1568816708, "creation_date": 1568816708, "answer_id": 57995089, "question_id": 57994878, "link": "https://stackoverflow.com/questions/57994878/create-object-from-viewholder-in-adapter-class-with-context-from-activity-no-v/57995089#57995089", "title": "Create object from Viewholder in Adapter class with context from Activity - no value passed for &#39;context&#39;", "body": "<p>It seems that you can just write:</p>\n\n<pre><code>internal fun SupplierActivity.initPositionList() {\n    rv_position.setHasFixedSize(true)\n    rv_position.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n\n    positionAdapter = PositionAdapter(this.layoutInflater, object : OnPositionAdapterListener {\n        override fun onPositionClicked(wenr: Int) {}\n        override fun onPositionLongClicked(wenr: Int) {}\n    }, this)\n    rv_position.adapter = positionAdapter\n    rv_position.addItemDecoration(HeaderDecoration(rv_head, positionAdapter))\n}\n</code></pre>\n"}], "owner": {"reputation": 314, "user_id": 12083845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATpdC.jpg?s=128&g=1", "display_name": "BWappsandmore", "link": "https://stackoverflow.com/users/12083845/bwappsandmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 57995089, "answer_count": 1, "score": 0, "last_activity_date": 1568816708, "creation_date": 1568816090, "question_id": 57994878, "link": "https://stackoverflow.com/questions/57994878/create-object-from-viewholder-in-adapter-class-with-context-from-activity-no-v", "title": "Create object from Viewholder in Adapter class with context from Activity - no value passed for &#39;context&#39;", "body": "<p>I've really tried lots of things and read tons of articles on the Internet before making the decision to ask a question here. So please forgive me if this is question seems to be quite simple for someone out there, but I'm very new in the android development and I really can't go further on this. I got this project from a co-worker of mine, after he left the company, so getting started with Android Studio and Kotlin on this way wasn't very beginner-friendly for me.</p>\n\n<p>Here's my problem: </p>\n\n<p>I have an adapter class with a ViewHolder inside it. So, when the user performs a long click on a data entry, a new Activity should start. Therefore, I extended the adapter class with a context variable, to be able to get the context from the View.</p>\n\n<p>For the sake of clearness, I'm posting only the relevant parts of the code.</p>\n\n<pre><code>class PositionAdapter(\n    private val layoutInflater: LayoutInflater,\n    private val listener: OnPositionAdapterListener,\n    private var context: Context\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;(), StickyHeaderInterface {\n    // this is not the complete code \n\n    override fun onCreateViewHolder(p0: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n\n        return when (viewType) {\n            TYPE_HEADER -&gt; {\n                val itemView = layoutInflater.inflate(R.layout.wepos_header, p0, false)\n                PositionHeaderViewHolder(itemView)\n            }\n            else -&gt; {\n                val itemView = layoutInflater.inflate(R.layout.wepos_item, p0, false)\n                context = itemView.context\n                return PositionViewHolder(itemView)\n            }\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, p1: Int) {\n\n        if (holder is PositionHeaderViewHolder) {\n            holder.bind(positionsList[p1], listener, p1)\n        } else if (holder is PositionViewHolder) {\n            holder.bind(positionsList[p1], listener, p1, selectedPos == p1)\n        }\n    }\n\ninner class PositionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bind(wePos: WePos, listener: OnPositionAdapterListener, p1: Int, isSelected: Boolean) {\n\n        itemView.setOnClickListener {\n                notifyItemChanged(selectedPos)\n                selectedPos = adapterPosition\n                notifyItemChanged(selectedPos)\n                listener.onPositionClicked(wePos.lfdNr.toInt())\n            }\n       itemView.setOnLongClickListener{\n                notifyItemChanged(selectedPos)\n                selectedPos = adapterPosition\n                notifyItemChanged(selectedPos)\n                listener.onPositionLongClicked(wePos.lfdNr.toInt())\n                true\n            }\n       val intent = Intent(context, StorageGoodsActivity::class.java)\n            context.startActivity(intent)\n  }\n}\n</code></pre>\n\n<p>My problem appears in the method where an object from the adapter class should be created. The adapter provides data in the <strong>SupplierActivity</strong> and from here I would like to start the <strong>StorageGoodsActivity</strong> when the user performs a long click on a data entry. I have to get the context of the <strong>SupplierActivity</strong> somehow, unfortunatelly all of my tries failed so far.</p>\n\n<pre><code>internal fun SupplierActivity.initPositionList() {\n    rv_position.setHasFixedSize(true)\n    rv_position.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n\n    positionAdapter = PositionAdapter(this.layoutInflater, object : OnPositionAdapterListener, /**context**/ {\n\n        override fun onPositionClicked(wenr: Int) {}\n        override fun onPositionLongClicked(wenr: Int) {}\n    })\n    rv_position.adapter = positionAdapter\n    rv_position.addItemDecoration(HeaderDecoration(rv_head, positionAdapter))\n}\n\n</code></pre>\n\n<p>I tried with <code>SupplierActivity.this</code>, with the hope that I could get the context from the Activity, I tried with creating methods that could possibly return the Activity context and so on... Any help would be appreciated. Thank you so much for your efforts.</p>\n"}, {"tags": ["android", "arrays", "json", "object", "kotlin"], "comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1568815694, "post_id": 57994688, "comment_id": 102395974, "body": "Can you elaborate a bit further? How does your class look like?"}, {"owner": {"reputation": 191, "user_id": 8239490, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/OGb7z.png?s=128&g=1", "display_name": "asqa", "link": "https://stackoverflow.com/users/8239490/asqa"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1568816109, "post_id": 57994688, "comment_id": 102396220, "body": "please check updated my question above @Adam Arold"}], "owner": {"reputation": 191, "user_id": 8239490, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/OGb7z.png?s=128&g=1", "display_name": "asqa", "link": "https://stackoverflow.com/users/8239490/asqa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568816055, "creation_date": 1568815607, "last_edit_date": 1568816055, "question_id": 57994688, "link": "https://stackoverflow.com/questions/57994688/how-to-change-data-type-of-element-json", "title": "How to change data type of element JSON?", "body": "<p>i found an issue with my API, the issue is there is different data type in JSON, how i can change the result with array type to array object with <strong>kotlin</strong> lang? below is the example issue. thank you</p>\n\n<pre><code>User: [{\n       Result : {},\n       Result : {},\n       Result : []\n}]\n</code></pre>\n\n<p>and here is my supported class for call the API</p>\n\n<pre><code>class ServiceFactory {\n    private fun retrofit(): Retrofit {\n        val logging = HttpLoggingInterceptor()\n        logging.level = HttpLoggingInterceptor.Level.BASIC\n\n        val okHttpClient = OkHttpClient().newBuilder()\n            .addInterceptor(logging)\n            .readTimeout(30, TimeUnit.SECONDS)\n            .connectTimeout(30, TimeUnit.SECONDS)\n            .callTimeout(30, TimeUnit.SECONDS)\n            .build()\n\n        return Retrofit.Builder()\n            .baseUrl(BuildConfig.BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .client(okHttpClient)\n            .build()\n\n    }\n\n    fun instanceServices(): Services {\n        return retrofit().create(Services::class.java)\n    }\n}\n</code></pre>\n\n<p>PRESENTER</p>\n\n<pre><code>class JobsPresenter(private val view: JobsView) {\n\n    fun getAllJobs(){\n        view.showLoading()\n        val api = ServiceFactory().instanceServices().getJobs()\n        api.enqueue(object : Callback&lt;JobsModel&gt;{\n            override fun onFailure(call: Call&lt;JobsModel&gt;, t: Throwable) {\n                view.hideLoading()\n                view.onFailure(t)\n            }\n\n            override fun onResponse(call: Call&lt;JobsModel&gt;, response: Response&lt;JobsModel&gt;) {\n                view.hideLoading()\n                if (response.isSuccessful){\n                    view.onResponse(response.body())\n                }\n            }\n\n        })\n    }\n}\n</code></pre>\n\n<p>This presenter triggered from Fragment</p>\n\n<pre><code> override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        getJobs()\n    }\n\n    private fun getJobs() {\n        JobsPresenter(this).getAllJobs()\n    }\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 1, "creation_date": 1568839435, "post_id": 58000164, "comment_id": 102406759, "body": "About 1 - mistake while editing the question thanks. <i>You can probably use android:stretchColumns</i> , <b>good tip</b>, now the cells are stretching/shrinking inside the row (I have used <code>android:shrinkColumns=&quot;*&quot;</code> to alow shrink).  Any idea of how can I make each row stretch or shrink to make the table fit vertically as well?"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "reply_to_user": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "edited": false, "score": 1, "creation_date": 1568870664, "post_id": 58000164, "comment_id": 102413252, "body": "<i>More from docs:</i> The children of a TableRow do not need to specify the layout_width and layout_height attributes in the XML file. TableRow always enforces those values to be respectively ViewGroup.LayoutParams.MATCH_PARENT and ViewGroup.LayoutParams.WRAP_CONTENT."}], "tags": [], "owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "is_accepted": true, "score": 1, "last_activity_date": 1568881238, "last_edit_date": 1568881238, "creation_date": 1568837787, "answer_id": 58000164, "question_id": 57994351, "link": "https://stackoverflow.com/questions/57994351/how-to-set-layoutparams-properly/58000164#58000164", "title": "How to set LayoutParams properly", "body": "<ol>\n<li><p>you write <code>table.width/5</code> so you probably use <strong>j in 0..4</strong></p></li>\n<li><p>See the <a href=\"https://developer.android.com/reference/android/widget/TableLayout\" rel=\"nofollow noreferrer\">reference for TableLayout</a>:</p>\n\n<blockquote>\n  <p>The children of a TableLayout cannot specify the layout_width attribute. Width is always MATCH_PARENT. However, the layout_height attribute can be defined.</p>\n</blockquote>\n\n<p>Use <strong>android:stretchColumns</strong> to have the table adjust the button widths correctly.</p>\n\n<p>But,</p>\n\n<blockquote>\n  <p>The children of a TableRow do not need to specify the layout_width and layout_height attributes in the XML file. TableRow always enforces those values to be respectively ViewGroup.LayoutParams.MATCH_PARENT and ViewGroup.LayoutParams.WRAP_CONTENT.</p>\n</blockquote>\n\n<p>This means that, by the book, you cannot fill the parent with a table vertically. But by hook or by crook, you can force the height of each button to be exactly 1/10 of the full height.</p>\n\n<p>What you can't do, is take <strong>table.height</strong> while building your layout, because at this stage the height of the parent is not known yet. I hope you can calculate this height based on the screen size.</p></li>\n<li><p>With such programmatic setup, you don't need table layout, horizontal linear views inside vertical that fills the parent could be enough.</p></li>\n<li><p>With ConstraintLayout you can specify width and height of elements as percents of the parent, see <a href=\"https://android.jlelse.eu/whats-new-in-constraint-layout-1-1-0-acfe30cfc7be\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/whats-new-in-constraint-layout-1-1-0-acfe30cfc7be</a></p></li>\n</ol>\n"}], "owner": {"reputation": 6429, "user_id": 8274756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207212471548575/picture?type=large", "display_name": "Tamir Abutbul", "link": "https://stackoverflow.com/users/8274756/tamir-abutbul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 58000164, "answer_count": 1, "score": 1, "last_activity_date": 1568881238, "creation_date": 1568814665, "last_edit_date": 1568825267, "question_id": 57994351, "link": "https://stackoverflow.com/questions/57994351/how-to-set-layoutparams-properly", "title": "How to set LayoutParams properly", "body": "<p><strong>I am Creating a table made of 10X10 cells and it won't (after creating all cells) fit to its parent.</strong></p>\n\n<ul>\n<li>To make it easier to understand before I will show my code, the table looks like this:</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/UkOVX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkOVX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, every table cell is a button with \"Test\" as a text, I cant make this 10X10 grid spread to fill its parent (the views exit the screen horizontally and won't fill vertically)</p>\n\n<hr>\n\n<p><strong>I am creating every cell programmatically like this:</strong></p>\n\n<pre><code>    val table = findViewById&lt;TableLayout&gt;(R.id.table)\n    for (i in 0..9) {    //10 rows inside the table\n        val row = TableRow(this)\n        for (j in 0..9) {    //10 cells inside every row\n\n            val cell = Button(this)   \n            cell.layoutParams =  TableRow.LayoutParams(\n\n                TableRow.LayoutParams.WRAP_CONTENT,\n                TableRow.LayoutParams.WRAP_CONTENT\n            )\n\n            cell.text = \"test\"\n            cell.setTextColor(Color.RED)\n            cell.setBackgroundColor(Color.WHITE)\n            cell.setPadding(0, 0, 0, 0)\n            row.addView(cell)\n        }\n        table.addView(row)\n    }\n</code></pre>\n\n<ul>\n<li><p>My next step was to change the way I am setting the  <code>layoutParams</code> for every cell, I have tried to change every cell dimensions like this:</p>\n\n<pre><code>  cell.layoutParams =  TableRow.LayoutParams(\n             //table = the view that contains all cells\n\n             table.width/5,     //make the cell width = 20% of the parent width\n             table.height/10    //make the cell height= 10% of the parent height           \n        ) \n</code></pre></li>\n</ul>\n\n<p><strong>For some reason, this made the whole table disappear and setting the layoutparams to <code>MATCH_PARENT</code> had the same effect as <code>WRAP_CONTENT</code>.</strong></p>\n\n<hr>\n\n<p>I have checked <a href=\"https://stackoverflow.com/questions/9678785/android-setting-layoutparams-programmatically\">android - setting LayoutParams programmatically</a> and <a href=\"https://developer.android.com/reference/kotlin/android/view/ViewGroup.LayoutParams.html\" rel=\"nofollow noreferrer\">LayoutParams</a> but I haven't found the answer.</p>\n\n<p><strong>What am I doing wrong that makes my table disappear, and how can I make the cells fit to the table size?</strong></p>\n"}, {"tags": ["spring", "kotlin", "processbuilder"], "comments": [{"owner": {"reputation": 3399, "user_id": 11027700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36fe812f082c21daa3e3e75ae2c0ff77?s=128&d=identicon&r=PG&f=1", "display_name": "i.bondarenko", "link": "https://stackoverflow.com/users/11027700/i-bondarenko"}, "edited": false, "score": 0, "creation_date": 1568814551, "post_id": 57994231, "comment_id": 102395243, "body": "It is Kotlin, isn&#39;t it?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1568841532, "post_id": 57994231, "comment_id": 102407487, "body": "In the first case, is the BufferedReader getting closed properly?  (If not, it might have unflushed data which could explain why you&#39;re not seeing it.)  Instead of the Java stream <code>lines()</code>, I&#39;d try using the Kotlin extensions <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/for-each-line.html\" rel=\"nofollow noreferrer\">forEachLine()</a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/use-lines.html\" rel=\"nofollow noreferrer\">useLines()</a>, as those should automatically close the stream."}, {"owner": {"reputation": 339, "user_id": 3664714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27ac7827fa8189cf87a4e27a911651c?s=128&d=identicon&r=PG&f=1", "display_name": "the_witch_king_of_angmar", "link": "https://stackoverflow.com/users/3664714/the-witch-king-of-angmar"}, "edited": false, "score": 0, "creation_date": 1568982007, "post_id": 57994231, "comment_id": 102458803, "body": "I tried that suggestion but I still don&#39;t see output."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 1584117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/46yP0.png?s=128&g=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/1584117/matej"}, "is_accepted": false, "score": 0, "last_activity_date": 1593257818, "creation_date": 1593257818, "answer_id": 62609474, "question_id": 57994231, "link": "https://stackoverflow.com/questions/57994231/processbuilder-handling-process-output/62609474#62609474", "title": "ProcessBuilder handling process output", "body": "<p>If you run just &quot;ffmpeg&quot; the process object will write to the error stream so you need to log that stream also. The &quot;ffmpeg -version&quot; for example does not return in the error state so it should be captured by your StreamGobbler class.</p>\n"}], "owner": {"reputation": 339, "user_id": 3664714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27ac7827fa8189cf87a4e27a911651c?s=128&d=identicon&r=PG&f=1", "display_name": "the_witch_king_of_angmar", "link": "https://stackoverflow.com/users/3664714/the-witch-king-of-angmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1606376089, "creation_date": 1568814318, "last_edit_date": 1568814607, "question_id": 57994231, "link": "https://stackoverflow.com/questions/57994231/processbuilder-handling-process-output", "title": "ProcessBuilder handling process output", "body": "<p>I want to launch an ffmpeg process from my code and then process the resulting output. The ffmpeg process will print out progress information and I want to send that info back to another application.</p>\n\n<p>I am trying to use the ProcessBuilder API to achieve this. Based on this answer <a href=\"https://stackoverflow.com/questions/14165517/processbuilder-forwarding-stdout-and-stderr-of-started-processes-without-blocki\">ProcessBuilder: Forwarding stdout and stderr of started processes without blocking the main thread</a> I have tried the following code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass ProcessExecutorService(@Autowired private val configProps: AppConfigurationProperties) {\n\n    private val logger: Logger = Logger.getLogger(ProcessExecutorService::class.qualifiedName)\n\n    fun execute(command: List&lt;String&gt;): Int {\n        logger.info(\"Executing command $command\")\n\n        val processBuilder = ProcessBuilder()\n        processBuilder.command(command)\n        processBuilder.directory(File(configProps.encoding.workDirectory))\n\n        val process = processBuilder.start()\n        Thread(StreamGobbler(process.inputStream, logger::info)).start()\n\n        return process.waitFor()\n    }\n\n    inner class StreamGobbler(private val inputStream: InputStream, private val consumer: (String) -&gt; Unit): Runnable {\n\n        override fun run() {\n            BufferedReader(InputStreamReader(inputStream) as Reader)\n                    .lines()\n                    .forEach(consumer)\n        }\n\n    }\n}\n</code></pre>\n\n<p>But this doesn't log any output. When I change it to do </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass ProcessExecutorService(@Autowired private val configProps: AppConfigurationProperties) {\n\n    private val logger: Logger = Logger.getLogger(ProcessExecutorService::class.qualifiedName)\n\n    fun execute(command: List&lt;String&gt;): Int {\n        logger.info(\"Executing command $command\")\n\n        val processBuilder = ProcessBuilder()\n        processBuilder.command(command)\n        processBuilder.directory(File(configProps.encoding.workDirectory))\n        processBuilder.inheritIO()\n\n        val process = processBuilder.start()\n\n        return process.waitFor()\n    }\n}\n</code></pre>\n\n<p>then I see the ffmpeg output, but I can't do anything useful with this output.</p>\n\n<p>Any suggestions as to why the first approach might not be working?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 2, "creation_date": 1568813910, "post_id": 57994096, "comment_id": 102394849, "body": "You need to put if/else condition in <code>onCreate</code> block. Move <code>var</code> to top."}], "answers": [{"tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": false, "score": 2, "last_activity_date": 1568814818, "last_edit_date": 1568814818, "creation_date": 1568814384, "answer_id": 57994257, "question_id": 57994096, "link": "https://stackoverflow.com/questions/57994096/expecting-member-declaration-when-i-use-if-in-android-studio/57994257#57994257", "title": "Expecting member declaration when I use if in Android Studio", "body": "<p>you can't write:</p>\n\n<pre><code>if(tips == 0){\n    Log.d(\"tag\", \"You have not recieved any tips today\")\n}else{\n    Log.d(\"tag\", \"You have recieved some tips today\")\n}\n</code></pre>\n\n<p>outside the scope of a method. You're outside the <code>onCreate</code> method, you're essentially writing this in the class of <code>MainActivity</code>, so change this to:</p>\n\n<pre><code>var fixedIncome : Int = 50\nvar tips : Int = 20\nvar income : Int = fixedIncome + tips\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    if(tips == 0){\n    Log.d(\"tag\", \"You have not recieved any tips today\")\n    }else{\n    Log.d(\"tag\", \"You have recieved some tips today\")\n    }\n}\n</code></pre>\n\n<p>OR, initialize and use everything in <code>onCreate</code>:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var fixedIncome : Int = 50\n    var tips : Int = 20\n    var income : Int = fixedIncome + tips\n\n    if(tips == 0){\n    Log.d(\"tag\", \"You have not recieved any tips today\")\n    }else{\n    Log.d(\"tag\", \"You have recieved some tips today\")\n  }\n\n }\n</code></pre>\n\n<hr>\n\n<p>As a side note:</p>\n\n<p>because you're doing <code>var tips : Int = 20</code> and never changing <code>tips</code>, you might consider using <code>val tips : Int = 20</code> to indicate that it is a value, not a variable.</p>\n"}], "owner": {"reputation": 9, "user_id": 12085368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U9FImIU8QKk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9WtxSEx7gdM07gl88tvFJH_xlqA/photo.jpg?sz=128", "display_name": "Masoud Shafaei", "link": "https://stackoverflow.com/users/12085368/masoud-shafaei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568863770, "creation_date": 1568813856, "last_edit_date": 1568863770, "question_id": 57994096, "link": "https://stackoverflow.com/questions/57994096/expecting-member-declaration-when-i-use-if-in-android-studio", "title": "Expecting member declaration when I use if in Android Studio", "body": "<p>I've started learning Android.\nI can't use <code>if</code> in Kotlin because I saw this error\nExpecting member declaration\ncan you help me ??</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    var fixedIncome : Int = 50\n    var tips : Int = 20\n    var income : Int = fixedIncome + tips\n\n    if(tips == 0){\n        Log.d(\"tag\", \"You have not recieved any tips today\")\n    } else {\n        Log.d(\"tag\", \"You have recieved some tips today\")\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5977937, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ny-5Epih1_Y/AAAAAAAAAAI/AAAAAAAAAG4/y3YAtIxytsU/photo.jpg?sz=128", "display_name": "\uae40\uc9c0\uc12d", "link": "https://stackoverflow.com/users/5977937/%ea%b9%80%ec%a7%80%ec%84%ad"}, "edited": false, "score": 0, "creation_date": 1568816348, "post_id": 57994074, "comment_id": 102396383, "body": "That code will say <code>&#39;val&#39; on secondary constructor parameter is not allowed</code>"}], "tags": [], "owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "is_accepted": false, "score": 0, "last_activity_date": 1568813790, "creation_date": 1568813790, "answer_id": 57994074, "question_id": 57993942, "link": "https://stackoverflow.com/questions/57993942/how-can-i-use-val-from-secondary-constructor/57994074#57994074", "title": "How can I use val from secondary constructor?", "body": "<p>Have you tried to create a val on constructor itself?</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.LOLLIPOP)\n    constructor(\n        context: Context,\n        attrs: AttributeSet?,\n        defStyleAttr: Int,\n        private val defStyleRes: Int)\n            : super(context, attrs, defStyleAttr, defStyleRes)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "is_accepted": false, "score": 2, "last_activity_date": 1568819107, "creation_date": 1568819107, "answer_id": 57995849, "question_id": 57993942, "link": "https://stackoverflow.com/questions/57993942/how-can-i-use-val-from-secondary-constructor/57995849#57995849", "title": "How can I use val from secondary constructor?", "body": "<p>It is because <code>init</code> relies on the primary constructor. Since there is none, it fails to find <code>attrs</code>. The solution is to replace <code>init</code> with your own function, which is called by both secondary connstructors:</p>\n\n<pre><code>class StoreTotalPanel : RelativeLayout {\n\n    @JvmOverloads\n    constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0\n    ) : super(context, attrs, defStyleAttr) {\n        init(context, attrs)\n    }\n\n    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n    constructor(\n        context: Context,\n        attrs: AttributeSet?,\n        defStyleAttr: Int,\n        defStyleRes: Int\n    ) : super(context, attrs, defStyleAttr, defStyleRes) {\n        init(context, attrs)\n    }\n\n\n    private fun init(context: Context, attrs: AttributeSet?) {\n        LayoutInflater.from(context).inflate(layout.panel_store_total, this, true)\n\n        attrs?.let {\n            val typedArray = context.obtainStyledAttributes(it, R.styleable.custom_card_view)\n            val myString = typedArray.getString(R.styleable.custom_card_view_command)\n        }\n    }\n}\n</code></pre>\n\n<p>Be aware that <code>inflate()</code> returns a view which you do not use yet; the layout will be empty with this code snippet.</p>\n"}], "owner": {"reputation": 11, "user_id": 5977937, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ny-5Epih1_Y/AAAAAAAAAAI/AAAAAAAAAG4/y3YAtIxytsU/photo.jpg?sz=128", "display_name": "\uae40\uc9c0\uc12d", "link": "https://stackoverflow.com/users/5977937/%ea%b9%80%ec%a7%80%ec%84%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1568819107, "creation_date": 1568813392, "question_id": 57993942, "link": "https://stackoverflow.com/questions/57993942/how-can-i-use-val-from-secondary-constructor", "title": "How can I use val from secondary constructor?", "body": "<p>I'm making my custom view. Before I add constructor contain <code>defStyleRes</code>, the original constructor is primary constructor. so I can use <code>attrs</code> at <code>init</code>. How can I use it now?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class StoreTotalPanel : RelativeLayout {\n    @JvmOverloads\n    constructor(\n        context: Context,\n        attrs: AttributeSet? = null,\n        defStyleAttr: Int = 0)\n            : super(context, attrs, defStyleAttr)\n\n    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n    constructor(\n        context: Context,\n        attrs: AttributeSet?,\n        defStyleAttr: Int,\n        defStyleRes: Int)\n            : super(context, attrs, defStyleAttr, defStyleRes)\n\n    init {\n        LayoutInflater.from(context)\n            .inflate(layout.panel_store_total, this, true)\n\n        attrs?.let { // &lt;- Here is error\n            val typedArray = context.obtainStyledAttributes(it, R.styleable.custom_card_view)\n            val myString = typedArray.getString(R.styleable.custom_card_view_command)\n        }\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": ["kotlin", "deep-copy"], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "edited": false, "score": 0, "creation_date": 1568815821, "post_id": 57994482, "comment_id": 102396058, "body": "Hi Adam, thanks for your answer. Yes, I need to use mutable objects but thanks a lot about mentioning the library - I didn&#39;t know it and will definitely look into it!"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "edited": false, "score": 0, "creation_date": 1568816201, "post_id": 57994482, "comment_id": 102396291, "body": "I&#39;ve been using that lib for a while now and it is awesome!"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 2, "last_activity_date": 1568815020, "creation_date": 1568815020, "answer_id": 57994482, "question_id": 57993905, "link": "https://stackoverflow.com/questions/57993905/deep-copying-in-kotlin/57994482#57994482", "title": "Deep Copying in Kotlin", "body": "<p>You can use <code>data class</code>es which have built-in <code>copy</code> methods in conjunction with immutable objects (so a deep copy is the same as a shallow copy). If you can't use immutable objects you're left with the alternative you presented in your question, there is no other way to do so. Another thing which you can keep in mind is that Kotlin has its own persistent data structures <a href=\"https://github.com/Kotlin/kotlinx.collections.immutable\" rel=\"nofollow noreferrer\">here</a> which is a great solution for this problem!</p>\n"}], "owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57994482, "answer_count": 1, "score": 1, "last_activity_date": 1568951546, "creation_date": 1568813267, "last_edit_date": 1568951546, "question_id": 57993905, "link": "https://stackoverflow.com/questions/57993905/deep-copying-in-kotlin", "title": "Deep Copying in Kotlin", "body": "<p>I am from <code>Swift</code> and <code>Python</code> backgrounds and I have a problem which I would expect an easy answer. </p>\n\n<p>I have a custom class named <code>Event</code> and want to deep copy it. From related questions (if I understood right) - there is no inbuilt way to do this in Kotlin. There were suggestions to use Java's functions in Kotlin but since I don't know Java, I prefer to do in another way if possible.</p>\n\n<p>One way to do is in <code>Event</code> class:</p>\n\n<pre><code>fun copy() : Event {\n    val event = Event()\n    event.property1 = this.property1\n    event.property2 = this.property2\n    // and same goes for all other properties\n    return event\n    }\n}\n</code></pre>\n\n<p>Is there a more elegant and intuitive way to do it?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["testing", "kotlin", "report", "code-coverage", "jacoco"], "comments": [{"owner": {"reputation": 815, "user_id": 753975, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jWPtQ.png?s=128&g=1", "display_name": "MarkRobbo", "link": "https://stackoverflow.com/users/753975/markrobbo"}, "edited": false, "score": 1, "creation_date": 1568821478, "post_id": 57993495, "comment_id": 102399487, "body": "This appears to be a current limitation of JaCoCo due to the way it searches for these files (<a href=\"https://github.com/jacoco/jacoco/blob/master/org.jacoco.report/src/org/jacoco/report/InputStreamSourceFileLocator.java\" rel=\"nofollow noreferrer\">github.com/jacoco/jacoco/blob/master/org.jacoco.report/src/&zwnj;&#8203;org/&hellip;</a>), so I have created the following issue: <a href=\"https://github.com/jacoco/jacoco/issues/939\" rel=\"nofollow noreferrer\">github.com/jacoco/jacoco/issues/939</a>"}], "owner": {"reputation": 815, "user_id": 753975, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jWPtQ.png?s=128&g=1", "display_name": "MarkRobbo", "link": "https://stackoverflow.com/users/753975/markrobbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1568811925, "creation_date": 1568811925, "question_id": 57993495, "link": "https://stackoverflow.com/questions/57993495/source-files-not-found-for-kotlin-convention-packaging-during-jacoco-report-gene", "title": "Source files not found for Kotlin convention packaging during JaCoCo report generation", "body": "<p>When setting up JaCoCo for a Kotlin project using the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">Coding Conventions recommended directory structure</a> (putting files at the root if they share the same common package), the test coverage is calculated as expected <strong>but</strong> the report does not show the source files due to the following problem:</p>\n\n<blockquote>\n  <p>Source file \"com/example/controller/ExampleController.kt\" was not\n  found during generation of report.</p>\n</blockquote>\n\n<p>Is there a way to configure JaCoCo to pick up files from the correct directory such as in this example from <code>src/main/kotlin/controller</code> rather than <code>src/main/kotlin/com/example/controller</code> by perhaps providing a package prefix?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2236, "user_id": 11384392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5bfH.jpg?s=128&g=1", "display_name": "Das_Geek", "link": "https://stackoverflow.com/users/11384392/das-geek"}, "edited": false, "score": 4, "creation_date": 1568811489, "post_id": 57993350, "comment_id": 102393414, "body": "Welcome to StackOverflow! Screenshots of code and error messages are discouraged; please edit your question to include the relevant code/error text in the question itself."}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1568813630, "post_id": 57993350, "comment_id": 102394689, "body": "You could use a scratch file for your basic learning stuff. Press <code>Ctrl</code> + <code>Shift</code> + <code>Alt</code> + <code>Insert</code>, now scroll down and select <code>Kotlin</code>. There you can write hello world programs and such. Also, the hello world should be handled by the <code>Activity</code> class. If you just want to learn <code>Kotlin</code> for now, I would advise installing IntelliJ."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 11562164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oS0tz.jpg?s=128&g=1", "display_name": "Daniel Jorn", "link": "https://stackoverflow.com/users/11562164/daniel-jorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1570560751, "creation_date": 1570560751, "answer_id": 58292425, "question_id": 57993350, "link": "https://stackoverflow.com/questions/57993350/unresolved-reference-androidjunit4-an-annotation-argument-must-be-a-compile-tim/58292425#58292425", "title": "Unresolved reference: AndroidJUnit4 An annotation argument must be a compile-time constant", "body": "<p>Okay, it's a bit late, but, if you are still struggling with this issue, just delete file which leads to crash. This is </p>\n\n<blockquote>\n  <p>C:/Users/guilder/AndroidStudioProjects/MyApplication3/app/src/androidTest/java\n  com/example/myapplication/ExampleInstrumentedTest.kt</p>\n</blockquote>\n\n<p>file. Have a nice day!</p>\n"}], "owner": {"reputation": 11, "user_id": 12085176, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDl7DKxN6jEG04hkQ3CbFiU-QeVTWTObg1efLuA=k-s128", "display_name": "erjk bouwer", "link": "https://stackoverflow.com/users/12085176/erjk-bouwer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570560751, "creation_date": 1568811367, "last_edit_date": 1568822522, "question_id": 57993350, "link": "https://stackoverflow.com/questions/57993350/unresolved-reference-androidjunit4-an-annotation-argument-must-be-a-compile-tim", "title": "Unresolved reference: AndroidJUnit4 An annotation argument must be a compile-time constant", "body": "<p>I'm a complete beginner to coding and Android Studio. I've been trying to follow along with basic \"hello world\" guides and to my dismay, I am having zero luck. </p>\n\n<p>I keep getting error messages even when the code seems to be correct. I've tried searching for the fix, but I'm honestly not sure what to search for as I'm not sure where I am going wrong. </p>\n\n<p>I believe that it is a Kotlin issue. I've tried reinstalling android studio, resetting the settings and ensuring updates are current.</p>\n\n<p><strong>Code</strong>:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n   println(\"hello world!\")\n}\n</code></pre>\n\n<p><strong>Error log</strong>: </p>\n\n<blockquote>\n  <p>build failed  9 s 875 ms\n  Run build   9 s 583 ms\n  null</p>\n  \n  <p>C:/Users/guilder/AndroidStudioProjects/MyApplication3 \n  app/src/androidTest/java<br>\n  com/example/myapplication/ExampleInstrumentedTest.kt<br>\n  Unresolved reference: ext<br>\n  Unresolved reference: AndroidJUnit4 \n  An annotation argument must be a compile-time constant  </p>\n</blockquote>\n"}, {"tags": ["android", "user-interface", "gradle", "kotlin", "androidx"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1568813241, "post_id": 57993322, "comment_id": 102394462, "body": "Maybe an extension function in preferences-ktx is shadowing something of your own. What if you use the standard java dependency without the ktx?"}, {"owner": {"reputation": 621, "user_id": 1688731, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/28fa7500637215e4b39cb6d82f0f7423?s=128&d=identicon&r=PG", "display_name": "Sebek", "link": "https://stackoverflow.com/users/1688731/sebek"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1568815170, "post_id": 57993322, "comment_id": 102395663, "body": "@Tenfour04 Same result :("}], "answers": [{"tags": [], "owner": {"reputation": 4827, "user_id": 1722808, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lQuCP.png?s=128&g=1", "display_name": "lukjar", "link": "https://stackoverflow.com/users/1722808/lukjar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571226273, "last_edit_date": 1571226273, "creation_date": 1571225751, "answer_id": 58412345, "question_id": 57993322, "link": "https://stackoverflow.com/questions/57993322/why-does-androidx-preference-library-stop-my-custom-checkboxes-from-displaying-p/58412345#58412345", "title": "Why does androidx.preference library stop my custom checkboxes from displaying properly?", "body": "<p>It seems to be issue in <code>1.1.0</code> version of <code>Appcompat</code> library. \nYou can use <code>buttonCompat</code> attribute instead <code>button</code> and everything should work fine. </p>\n\n<p>You can replace:</p>\n\n<pre><code>&lt;item name=\"android:button\"&gt;@drawable/actioncenter_switch_button&lt;/item&gt;\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>&lt;item name=\"buttonCompat\"&gt;@drawable/actioncenter_switch_button&lt;/item&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/55631014/after-migration-to-androidx-androidbutton-is-not-respected-for-api-below-lollip\">After migration to AndroidX android:button is not respected for API below Lollipop</a></p>\n"}], "owner": {"reputation": 621, "user_id": 1688731, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/28fa7500637215e4b39cb6d82f0f7423?s=128&d=identicon&r=PG", "display_name": "Sebek", "link": "https://stackoverflow.com/users/1688731/sebek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1571226273, "creation_date": 1568811255, "question_id": 57993322, "link": "https://stackoverflow.com/questions/57993322/why-does-androidx-preference-library-stop-my-custom-checkboxes-from-displaying-p", "title": "Why does androidx.preference library stop my custom checkboxes from displaying properly?", "body": "<p>I've decided to update my Options activity to androidx.preference. So I added <code>implementation 'androidx.preference:preference-ktx:1.1.0'</code> to my dependencies. However, now my custom checkboxes from elsewhere in my app no longer use the custom button given to them and just use the default checkbox.<strong>(Note: this only happens on devices running Android 4.4 or lower)</strong></p>\n\n<p>Removing <code>implementation 'androidx.preference:preference-ktx:1.1.0'</code> fixes the issue. Does anyone know why this happens and how I can overcome it?</p>\n\n<hr>\n\n<p>in activity layout:</p>\n\n<pre><code> &lt;androidx.appcompat.widget.AppCompatCheckBox\n        android:id=\"@+id/cbSharePosition\"\n        style=\"@style/ActionCenter.Light.CheckBox\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"45dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginTop=\"16dp\"\n        android:checked=\"true\"/&gt;\n</code></pre>\n\n<p>in style_widgets.xml:</p>\n\n<pre><code>&lt;style name=\"ActionCenter.Light.CheckBox\" parent=\"android:style/Widget.CompoundButton.CheckBox\"&gt;\n    &lt;item name=\"android:button\"&gt;@drawable/actioncenter_switch_button&lt;/item&gt;\n    &lt;item name=\"android:background\"&gt;@color/transparent&lt;/item&gt;\n    &lt;item name=\"android:scaleType\"&gt;centerInside&lt;/item&gt;\n    &lt;item name=\"android:adjustViewBounds\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>actioncenter_switch_button.xml:</p>\n\n<pre><code>   &lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n   &lt;item android:drawable=\"@drawable/switch_on\"\n   android:state_checked=\"true\" /&gt;\n\n   &lt;item android:drawable=\"@drawable/switch_off\"\n   android:state_checked=\"false\" /&gt;\n\n   &lt;item android:drawable=\"@drawable/switch_on\" /&gt;\n   &lt;/selector&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "mvvm", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 6715226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDheZ.jpg?s=128&g=1", "display_name": "Muazzam A.", "link": "https://stackoverflow.com/users/6715226/muazzam-a"}, "reply_to_user": {"reputation": 779, "user_id": 5559386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1646e15991d504d01f7c914dc9169272?s=128&d=identicon&r=PG&f=1", "display_name": "Asue", "link": "https://stackoverflow.com/users/5559386/asue"}, "edited": false, "score": 0, "creation_date": 1568811442, "post_id": 57993024, "comment_id": 102393392, "body": "@Asue glad to hear that!"}], "tags": [], "owner": {"reputation": 529, "user_id": 6715226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDheZ.jpg?s=128&g=1", "display_name": "Muazzam A.", "link": "https://stackoverflow.com/users/6715226/muazzam-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1568811061, "last_edit_date": 1568811061, "creation_date": 1568810271, "answer_id": 57993024, "question_id": 57992709, "link": "https://stackoverflow.com/questions/57992709/how-to-solve-json-retrofit-error-with-deferred-response/57993024#57993024", "title": "How to solve JSON retrofit error with Deferred Response", "body": "<p><strong>You have to update your interface as:</strong></p>\n\n<pre><code>interface LocationService {\n    @GET(\"locations?countryid=fr\")\n    fun getLocationList() : Deferred&lt;Response&lt;List&lt;Location&gt;&gt;&gt;\n}\n</code></pre>\n\n<p>Also you don't need <strong><code>LocationResponse</code></strong> class and remove the below code:</p>\n\n<pre><code>data class LocationResponse (val results : List&lt;Location&gt;)\n</code></pre>\n\n<p><strong>You are expecting the response and parsing it like this:</strong></p>\n\n<pre><code>{\n  \"results\": [\n    { .. }\n  ]\n}\n</code></pre>\n\n<p><strong>But Actual response is like this:</strong></p>\n\n<pre><code> [\n    { .. }\n  ]\n</code></pre>\n\n<p>The error explains that you are expecting object at the root but actual json data is array, so you have to change it to array.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10148684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXYy9.png?s=128&g=1", "display_name": "kouranyi", "link": "https://stackoverflow.com/users/10148684/kouranyi"}, "is_accepted": false, "score": 1, "last_activity_date": 1568811878, "creation_date": 1568811878, "answer_id": 57993484, "question_id": 57992709, "link": "https://stackoverflow.com/questions/57992709/how-to-solve-json-retrofit-error-with-deferred-response/57993484#57993484", "title": "How to solve JSON retrofit error with Deferred Response", "body": "<p>In your API interface you're defining <strong>getLocationList()</strong> method to return a LocationResponse object whereas the API actually returns a list of objects, so to fix this define the method as follows..</p>\n\n<pre><code>interface LocationService {\n    @GET(\"locations?countryid=fr\")\n    fun getLocationList() : Deferred&lt;Response&lt;List&lt;Location&gt;&gt;&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 779, "user_id": 5559386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1646e15991d504d01f7c914dc9169272?s=128&d=identicon&r=PG&f=1", "display_name": "Asue", "link": "https://stackoverflow.com/users/5559386/asue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 1, "accepted_answer_id": 57993024, "answer_count": 2, "score": 0, "last_activity_date": 1568814095, "creation_date": 1568809311, "last_edit_date": 1568814095, "question_id": 57992709, "link": "https://stackoverflow.com/questions/57992709/how-to-solve-json-retrofit-error-with-deferred-response", "title": "How to solve JSON retrofit error with Deferred Response", "body": "<p>I followed with tutorial : <a href=\"https://android.jlelse.eu/android-networking-in-2019-retrofit-with-kotlins-coroutines-aefe82c4d777\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/android-networking-in-2019-retrofit-with-kotlins-coroutines-aefe82c4d777</a></p>\n\n<p>I need to recover data in <code>JSON</code> format, I get the following error message :</p>\n\n<pre><code>com.squareup.moshi.JsonDataException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at path $*\n</code></pre>\n\n<p>I looked at this answer but I don't know how to adapt it to my code : <a href=\"https://stackoverflow.com/questions/24154917/retrofit-expected-begin-object-but-was-begin-array\">Retrofit Expected BEGIN_OBJECT but was BEGIN_ARRAY</a></p>\n\n<p><strong>This is my interface</strong></p>\n\n<pre><code>interface LocationService {\n    @GET(\"locations?countryid=fr\")\n    fun getLocationList() : Deferred&lt;Response&lt;LocationResponse&gt;&gt;\n}\n</code></pre>\n\n<p><strong>LocationResponse</strong></p>\n\n<pre><code>data class LocationResponse (val results : List&lt;Location&gt;)\n</code></pre>\n\n<p><strong>Location Model</strong></p>\n\n<pre><code>data class Location (\n    @field:Json(name = \"id\") val id : String,\n    @field:Json(name = \"category\") val category : String,\n    @field:Json(name = \"label\") val label : String,\n    @field:Json(name = \"value\") val value : String\n)\n</code></pre>\n\n<p><strong>The JSON is like this</strong></p>\n\n<pre><code>[\n  {\n    \"id\":\"city_39522\",\n    \"category\":\"Villes\",\n    \"label\":\"Parisot (81310)\",\n    \"value\":null\n },\n {\n   \"id\":\"city_36661\",\n   \"category\":\"Villes\",\n   \"label\":\"Paris 9\u00e8me (75009)\",\n   \"value\":null\n },\n {\n   \"id\":\"city_39743\",\n   \"category\":\"Villes\",\n   \"label\":\"Parisot (82160)\",\n   \"value\":null\n }\n]\n</code></pre>\n\n<p>I'm already getting a list, I don't see how to correct the error ?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-security", "keycloak"], "owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1120, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1568812170, "creation_date": 1568808566, "last_edit_date": 1568812170, "question_id": 57992466, "link": "https://stackoverflow.com/questions/57992466/keycloak-code-to-token-error-error-invalid-client-credentials", "title": "Keycloak CODE_TO_TOKEN_ERROR error=invalid_client_credentials", "body": "<p>I use: </p>\n\n<ul>\n<li>Spring Boot</li>\n<li>Koting</li>\n<li>Keycloak Version 4.4.0.Final</li>\n</ul>\n\n<p>Keycloak is startet in Docker.</p>\n\n<p>If I try to send a request with Postman to a simple REST-endpoint like:</p>\n\n<pre><code>    @PreAuthorize(\"hasAnyRole('MONITORING_ADMIN')\") //this line is irrelevant, it doesn't matter\n                                                    //whether I use it or not, the issue remains\n    @PostMapping(\"/test\")\n    fun test() {\n        println(\"test\")\n    }\n</code></pre>\n\n<p>then I will be redirected to login page (Valid Redirect URIs: <a href=\"http://localhost:8085/\" rel=\"nofollow noreferrer\">http://localhost:8085/</a>*)</p>\n\n<p>The problem can be read in the Log  in Docker Console:</p>\n\n<blockquote>\n  <p>keycloak_1  | 12:54:28,866 WARN  [org.keycloak.events] (default task-112) type=CODE_TO_TOKEN_ERROR, realmId=smight, clientId=null, userId=null, ipAddress=172.19.0.1, error=invalid_client_credentials, grant_type=authorization_code</p>\n</blockquote>\n\n<p>I define the Authorization with a Postman (Basic Auth)<br>\nProblem: <strong><em>client Id=null userId=null</em></strong>\nIt can be that Keycloak doesn't see an userId, clientId or an Authorization header.</p>\n\n<p>This is my Security Config:</p>\n\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\nclass WebSecurityConfig @Autowired constructor(val basicAuthenticationProvider: BasicAuthenticationProvider) : KeycloakWebSecurityConfigurerAdapter() {\n...\n    @Throws(Exception::class)\n    override fun configure(http: HttpSecurity) {\n        super.configure(http)\n\n        http\n                .authorizeRequests()\n                .antMatchers(\"/**\").authenticated().anyRequest().permitAll()\n    }\n\n    @Bean\n    @Throws(Exception::class)\n    override fun keycloakAuthenticationProcessingFilter(): KeycloakAuthenticationProcessingFilter {\n        val requestMatcher = OrRequestMatcher(\n                AntPathRequestMatcher(KeycloakAuthenticationProcessingFilter.DEFAULT_LOGIN_URL),\n                QueryParamPresenceRequestMatcher(OAuth2Constants.ACCESS_TOKEN),\n\n                // We provide our own authorization header matcher\n                IgnoreKeycloakProcessingFilterRequestMatcher()\n        )\n        return KeycloakAuthenticationProcessingFilter(authenticationManagerBean(), requestMatcher)\n    }\n\n   ...\n    /**\n     * Ignore the default keycloak processing once we receive a basic authentication request.\n     */\n    internal class IgnoreKeycloakProcessingFilterRequestMatcher : RequestMatcher {\n\n        override fun matches(request: HttpServletRequest): Boolean {\n            val authorizationHeaderValue = request.getHeader(\"Authorization\")\n            return authorizationHeaderValue != null &amp;&amp; !authorizationHeaderValue.startsWith(\"Basic \")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "timeout", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1124, "user_id": 7414207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aq-QVnIFoQ/AAAAAAAAAAI/AAAAAAAAABw/bzR_iZRCIFs/photo.jpg?sz=128", "display_name": "Denis Dmitrienko", "link": "https://stackoverflow.com/users/7414207/denis-dmitrienko"}, "edited": false, "score": 0, "creation_date": 1569253030, "post_id": 58063776, "comment_id": 102527867, "body": "Thank you for your answer, but I still start to receive TimeoutExceptions after CONNECTION_TIMEOUT_SECONDS since subscription, not since item emission."}, {"owner": {"reputation": 186, "user_id": 3550923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8635cd7f5a6e41902fa8212b0b97465d?s=128&d=identicon&r=PG&f=1", "display_name": "chandra", "link": "https://stackoverflow.com/users/3550923/chandra"}, "reply_to_user": {"reputation": 1124, "user_id": 7414207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aq-QVnIFoQ/AAAAAAAAAAI/AAAAAAAAABw/bzR_iZRCIFs/photo.jpg?sz=128", "display_name": "Denis Dmitrienko", "link": "https://stackoverflow.com/users/7414207/denis-dmitrienko"}, "edited": false, "score": 1, "creation_date": 1569286601, "post_id": 58063776, "comment_id": 102539070, "body": "I&#39;ve add sample code to show that TimeoutExceptions happened after item emission. Is it consistent with your expectation?"}, {"owner": {"reputation": 1124, "user_id": 7414207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aq-QVnIFoQ/AAAAAAAAAAI/AAAAAAAAABw/bzR_iZRCIFs/photo.jpg?sz=128", "display_name": "Denis Dmitrienko", "link": "https://stackoverflow.com/users/7414207/denis-dmitrienko"}, "edited": false, "score": 0, "creation_date": 1569311913, "post_id": 58063776, "comment_id": 102546033, "body": "Well, it really fires timeout after subscription and emitting next item. Thank you for your attention!"}], "tags": [], "owner": {"reputation": 186, "user_id": 3550923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8635cd7f5a6e41902fa8212b0b97465d?s=128&d=identicon&r=PG&f=1", "display_name": "chandra", "link": "https://stackoverflow.com/users/3550923/chandra"}, "is_accepted": true, "score": 1, "last_activity_date": 1569286306, "last_edit_date": 1569286306, "creation_date": 1569245920, "answer_id": 58063776, "question_id": 57991660, "link": "https://stackoverflow.com/questions/57991660/how-to-make-timeout-operator-fire-exception-one-time-in-rxjava2-rxjava3-chain/58063776#58063776", "title": "How to make timeout operator fire exception one time in RxJava2 (RxJava3) chain before retry", "body": "<p>To get behavior that you wanted, you only need small changes in your <code>switchMap</code> block. So, i modified your <code>apply</code> implementation into this</p>\n\n<pre><code>override fun\n  apply(upstreamFlowable : Flowable&lt;T&gt;) : Publisher&lt;R&gt;\n  {\n    return upstreamFlowable\n    .compose(RxFlowableOnIo&lt;T&gt;())\n    .filter {emittedItem : T -&gt;\n      condition.test(emittedItem)\n    }\n    .switchMap {\n        Flowable.just(it)\n            .switchMap { emittedItem : T -&gt;\n                val anotherFlowable = switchFunction(emittedItem)\n\n                 anotherFlowable\n              }\n             .timeout(CONNECTION_TIMEOUT_SECONDS, SECONDS)\n         }\n  }\n</code></pre>\n\n<p>By doing it like this, <code>timeout</code> will start counting when value has been emitted. </p>\n\n<p><strong>Update</strong>\nFor testing, i've stage simple code and adding log:</p>\n\n<ol>\n<li>upstream will emit once after 2 seconds</li>\n<li>anotherFlowable will emit once after 1 second</li>\n<li>timeout is 500 ms</li>\n</ol>\n\n<p>// sample usage</p>\n\n<pre><code>val upstream = Flowable.timer(2, TimeUnit.SECONDS)\n        upstream\n                .doOnSubscribe { println(\"subscribed ${System.currentTimeMillis()}\") }\n                .compose(\n                        RxSwitchFlowablesOnCondition&lt;Long, Long&gt;(\n                                Predicate { true },\n                                { Flowable.timer(1, TimeUnit.SECONDS)})\n                )\n                .doOnError { println(\"timeout ${System.currentTimeMillis()}\") }\n                .retry()\n                .subscribe()\n</code></pre>\n\n<p>// RxSwitchFlowablesOnCondition </p>\n\n<pre><code>open class\n    RxSwitchFlowablesOnCondition&lt;T, R&gt;(private val condition : Predicate&lt;T&gt;,\n                                       private val switchFunction : (T) -&gt; Flowable&lt;R&gt;) : FlowableTransformer&lt;T, R&gt;\n    {\n        override fun\n                apply(upstreamFlowable : Flowable&lt;T&gt;) : Publisher&lt;R&gt;\n        {\n            return upstreamFlowable\n                    .observeOn(Schedulers.io())\n                    .filter {emittedItem : T -&gt;\n                        condition.test(emittedItem)\n                    }\n                    .switchMap {\n                        Flowable.just(it)\n                                .doOnNext { println(\"onNext ${System.currentTimeMillis()}\") }\n                                .switchMap { emittedItem : T -&gt;\n                                    val anotherFlowable = switchFunction(emittedItem)\n\n                                    anotherFlowable\n                                }\n                                .timeout(500, TimeUnit.MILLISECONDS)\n                    }\n\n        }\n    }\n</code></pre>\n\n<p>and this is sample output log</p>\n\n<pre><code>subscribed 1569286225769\nonNext 1569286227790\ntimeout 1569286228292  // around 500 ms after onNext\nsubscribed 1569286228295\nonNext 1569286230297\ntimeout 1569286230800\nsubscribed 1569286230800\nonNext 1569286232803\ntimeout 1569286233306\nsubscribed 1569286233306\n</code></pre>\n\n<p>Is it consistent with your expectation?</p>\n"}], "owner": {"reputation": 1124, "user_id": 7414207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--aq-QVnIFoQ/AAAAAAAAAAI/AAAAAAAAABw/bzR_iZRCIFs/photo.jpg?sz=128", "display_name": "Denis Dmitrienko", "link": "https://stackoverflow.com/users/7414207/denis-dmitrienko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 58063776, "answer_count": 1, "score": 0, "last_activity_date": 1569286306, "creation_date": 1568805885, "question_id": 57991660, "link": "https://stackoverflow.com/questions/57991660/how-to-make-timeout-operator-fire-exception-one-time-in-rxjava2-rxjava3-chain", "title": "How to make timeout operator fire exception one time in RxJava2 (RxJava3) chain before retry", "body": "<p>I am trying to extend functionality of my custom <code>FlowableTransformer</code> which I use to conditionally switch from one <code>Flowable</code> to another, returned by provided <code>Function&lt;T, Flowable&lt;R&gt;&gt;</code>, i.e. in my <code>switchFunction</code> I send an item to server and switch to a server response flowable if initial item matches some condition: </p>\n\n<pre><code>/**\n * Switches from upstreamFlowable to anotherFlowable\n * using switchFunction if item from upstreamFlowable\n * matches test condition\n *\n * usage:\n *       upstreamFlowable\n *       .compose(RxSwitchFlowablesOnCondition(condition, switchFunction))\n **/\nopen class\nRxSwitchFlowablesOnCondition&lt;T, R&gt;(private val condition : Predicate&lt;T&gt;,\n                                   private val switchFunction : Function&lt;T, Flowable&lt;R&gt;&gt;) : FlowableTransformer&lt;T, R&gt;\n{\n  override fun\n  apply(upstreamFlowable : Flowable&lt;T&gt;) : Publisher&lt;R&gt;\n  {\n    return upstreamFlowable\n    .compose(RxFlowableOnIo&lt;T&gt;())\n    .filter {emittedItem : T -&gt;\n      condition.test(emittedItem)\n    }\n    .switchMap {emittedItem : T -&gt;\n      val anotherFlowable = switchFunction.apply(emittedItem)\n\n      anotherFlowable\n      //.timeout(CONNECTION_TIMEOUT_SECONDS, SECONDS) // #1\n    }\n    //.timeout(CONNECTION_TIMEOUT_SECONDS, SECONDS) // #2\n  }\n}\n</code></pre>\n\n<p>To restart the chain if error happens, in my android application I use <code>retry</code> operator:</p>\n\n<pre><code>upstreamFlowable\n.compose(RxSwitchFlowablesOnCondition(condition, switchFunction))\n.retry() // to resubscribe on error\n.subscribe(...)\n</code></pre>\n\n<p>What I want to do is to add <code>timeout</code> logic, for example, if time between emitting an item by <code>upstreamFlowable</code> and obtaining the response in <code>anotherFlowable</code>is greater than <code>CONNECTION_TIMEOUT_SECONDS</code>, I would like to fire an error and resubscribe to the <code>upstreamFlowable</code>, so that I could wait for next <code>emittedItem</code>.</p>\n\n<p>What I have: </p>\n\n<ol>\n<li>If I uncomment line <code>#1</code>,  then timeout produces a <code>TimeoutException</code>, retry resubscribes to chain and I continue to get timeout exceptions every <code>CONNECTION_TIMEOUT_SECONDS</code> period of time even without next emitted items. <strong>How to skip them?</strong></li>\n<li>If I uncomment line <code>#2</code>, then I start to receive <code>TimeoutException</code>s after <code>CONNECTION_TIMEOUT_SECONDS</code> since subscription, not since item emission. <strong>How it can be fixed?</strong></li>\n</ol>\n\n<p>Need your help. Thank you in advance!</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-security", "oauth"], "answers": [{"tags": [], "owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "is_accepted": false, "score": 0, "last_activity_date": 1568808178, "creation_date": 1568808178, "answer_id": 57992354, "question_id": 57991287, "link": "https://stackoverflow.com/questions/57991287/storing-multiple-values-on-principle/57992354#57992354", "title": "Storing multiple values on Principle", "body": "<p>Solved this by using <strong>Authentication</strong>.</p>\n\n<p><strong>principalExtractor</strong></p>\n\n<pre><code>val principalExtractor: (MutableMap&lt;String, Any?&gt;) -&gt; Any? = { params -&gt;\n        val session = params.get(\"session\") as MutableMap&lt;String, Any?&gt;\n        val user = session.get(\"user\") as MutableMap&lt;String, Any?&gt;\n        val mapper = ObjectMapper()\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        val userDetails = mapper.convertValue(user, UserDetails::class.java)\n        userDetails\n    }\n</code></pre>\n\n<p><strong>usage</strong></p>\n\n<pre><code>@GetMapping(\"{userId}/activationWidgetUrl\")\n    fun getActivationWidgetUrl(authentication: Authentication, @PathVariable userId: String): ActivationWidgetResponse? {\n\n       (authentication.principal as UserDetails).let { userDetails -&gt;\n            let id = userDetails.id\n        }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 7313, "user_id": 3238178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/lwfYd.jpg?s=128&g=1", "display_name": "MCMatan", "link": "https://stackoverflow.com/users/3238178/mcmatan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568808178, "creation_date": 1568804710, "question_id": 57991287, "link": "https://stackoverflow.com/questions/57991287/storing-multiple-values-on-principle", "title": "Storing multiple values on Principle", "body": "<p>I'm using the Principle to store the current user id,</p>\n\n<p><strong>Storing</strong></p>\n\n<pre><code>   val principalExtractor: (MutableMap&lt;String, Any?&gt;) -&gt; Any? = { params -&gt;\n        val session = params.get(\"session\") as MutableMap&lt;String, Any?&gt;\n        val user = session.get(\"user\") as MutableMap&lt;String, Any?&gt;\n        user.get(\"email\")\n    }\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>@GetMapping(\"{userId}/activationWidgetUrl\")\n    fun getActivationWidgetUrl(principal: Principal, authentication: Authentication, @PathVariable userId: String): ActivationWidgetResponse? {\n\n   let id = principal.name\n}\n</code></pre>\n\n<p><strong>Issue:</strong>\nI am facing a situation where I need more details from the session, for example: -companyId-.</p>\n\n<p>I would like to store a User object on the principle instead of just a string, but principle.name returns string by default.</p>\n\n<p><strong>Question:</strong>\nHow can I store an object on principle (Subclass?), or is there a better way?</p>\n"}, {"tags": ["android", "kotlin", "android-location"], "comments": [{"owner": {"reputation": 4346, "user_id": 1292557, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccb0ba86944ca95bd765dfcc1ed3eb32?s=128&d=identicon&r=PG", "display_name": "Abu Yousuf", "link": "https://stackoverflow.com/users/1292557/abu-yousuf"}, "edited": false, "score": 1, "creation_date": 1568805216, "post_id": 57991209, "comment_id": 102389893, "body": "your <code>endLat</code> is same as <code>startLat</code> and <code>endLon</code> is same as <code>endLon</code>"}, {"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "reply_to_user": {"reputation": 4346, "user_id": 1292557, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccb0ba86944ca95bd765dfcc1ed3eb32?s=128&d=identicon&r=PG", "display_name": "Abu Yousuf", "link": "https://stackoverflow.com/users/1292557/abu-yousuf"}, "edited": false, "score": 0, "creation_date": 1568805576, "post_id": 57991209, "comment_id": 102390107, "body": "Where to get other values?"}, {"owner": {"reputation": 4346, "user_id": 1292557, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccb0ba86944ca95bd765dfcc1ed3eb32?s=128&d=identicon&r=PG", "display_name": "Abu Yousuf", "link": "https://stackoverflow.com/users/1292557/abu-yousuf"}, "edited": false, "score": 0, "creation_date": 1568805785, "post_id": 57991209, "comment_id": 102390243, "body": "You know it better. Distance depends on 2 <code>LatLng</code> values. First decide which 2 <code>LatLng</code> distance you need."}, {"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 1, "creation_date": 1568806195, "post_id": 57991209, "comment_id": 102390480, "body": "<i>&quot;Where to get other values?&quot;</i> You&#39;ll store the start position&#39;s coordinates in variables whose scope is outside the <code>onLocationChanged()</code> method. So, they could be members of the class inside which <code>onLocationChanged()</code> is."}, {"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1568806965, "post_id": 57991209, "comment_id": 102390911, "body": "You are right! Thank you so much for your help."}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1568805134, "post_id": 57991329, "comment_id": 102389845, "body": "I am not sure, but SphericalUtil is not very accurate. I&#39;ll wait for an answer to distanceBetween. If no one solves my problem, I&#39;ll use your code"}, {"owner": {"reputation": 607, "user_id": 10123247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5_42oucsI0/AAAAAAAAAAI/AAAAAAAAAB8/CLr0LYF96I4/photo.jpg?sz=128", "display_name": "Rezaul Karim", "link": "https://stackoverflow.com/users/10123247/rezaul-karim"}, "reply_to_user": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1568805684, "post_id": 57991329, "comment_id": 102390166, "body": "your method for distance gives the route distance between two points.. and my one gives the Spherical distance(independent on route) most probably the shortest distance.. That&#39;s the difference. hopefully you get it"}, {"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1568806397, "post_id": 57991329, "comment_id": 102390607, "body": "<i>&quot;your method for distance gives the route distance between two points&quot;</i> No it doesn&#39;t. (If I correctly understood what you mean by &quot;route distance&quot;.) The <code>Location</code> class knows nothing about streets, roads and routing."}, {"owner": {"reputation": 607, "user_id": 10123247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5_42oucsI0/AAAAAAAAAAI/AAAAAAAAAB8/CLr0LYF96I4/photo.jpg?sz=128", "display_name": "Rezaul Karim", "link": "https://stackoverflow.com/users/10123247/rezaul-karim"}, "edited": false, "score": 0, "creation_date": 1568806742, "post_id": 57991329, "comment_id": 102390786, "body": "thanks bro.. <a href=\"https://stackoverflow.com/questions/44018852/sphericalutil-computedistancebetween-vs-location-distancebetween\" title=\"sphericalutil computedistancebetween vs location distancebetween\">stackoverflow.com/questions/44018852/&hellip;</a> , this link clears everything."}], "tags": [], "owner": {"reputation": 607, "user_id": 10123247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5_42oucsI0/AAAAAAAAAAI/AAAAAAAAAB8/CLr0LYF96I4/photo.jpg?sz=128", "display_name": "Rezaul Karim", "link": "https://stackoverflow.com/users/10123247/rezaul-karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1568804844, "creation_date": 1568804844, "answer_id": 57991329, "question_id": 57991209, "link": "https://stackoverflow.com/questions/57991209/location-distancebetween-shows-0/57991329#57991329", "title": "Location.distanceBetween shows 0", "body": "<p>I am a java programmer.. So I gave you a java solution please convert it in kotlin..</p>\n\n<pre><code> //here arguments should be latlng objects.   \n double distance = SphericalUtil.computeDistanceBetween(firstLatLong, SecondLatLng);\n</code></pre>\n\n<p>In java latlong objects can be formed as follow..you can convert it too kotlin.</p>\n\n<pre><code>LatLng firstLatLong = new LatLng(firstlocationObject.getLat(), firstlocationObject.getLon());\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568804844, "creation_date": 1568804396, "question_id": 57991209, "link": "https://stackoverflow.com/questions/57991209/location-distancebetween-shows-0", "title": "Location.distanceBetween shows 0", "body": "<p>I want to do an application that counts the runner's distance, but distanceBetween provided by LocationManager still shows 0. I have speed and it works fine, so onLocationChanged function is fine, but I'm doing something wrong in getting the distance.</p>\n\n<pre><code>override fun onLocationChanged(location: Location?) {\n    val speed : Double = (location!!.speed * 3600 / 1000).toDouble()\n    updateUI(speed)\n\n    lat_text_view.text = location.latitude.toString()\n    lon_text_view.text = location.longitude.toString()\n\n    val startLat: Double = location.latitude\n    val startLon: Double = location.longitude\n    val endLat: Double = location.latitude\n    val endLon: Double = location.longitude\n\n    val results = FloatArray(1)\n    Location.distanceBetween(startLat, startLon, endLat, endLon, results)\n\n    distance_text_view.text = results[0].toString()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "android-activity"], "comments": [{"owner": {"reputation": 381, "user_id": 4450089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0528e03b86009fc291d6a6ebe80d6d15?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Rathore", "link": "https://stackoverflow.com/users/4450089/neha-rathore"}, "edited": false, "score": 0, "creation_date": 1568804382, "post_id": 57991128, "comment_id": 102389438, "body": "you can hide toolbar by adding backstackchangelistener and show toolbar from fragment where you wana show/hide or via interface and implement interface in activity, secondly what is the need to access activity UI component in fragment ?"}, {"owner": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "reply_to_user": {"reputation": 381, "user_id": 4450089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0528e03b86009fc291d6a6ebe80d6d15?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Rathore", "link": "https://stackoverflow.com/users/4450089/neha-rathore"}, "edited": false, "score": 0, "creation_date": 1568804544, "post_id": 57991128, "comment_id": 102389537, "body": "I have an Imageview which needs to be handled for different cases. That&#39;s why i am trying this @Ne"}, {"owner": {"reputation": 381, "user_id": 4450089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0528e03b86009fc291d6a6ebe80d6d15?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Rathore", "link": "https://stackoverflow.com/users/4450089/neha-rathore"}, "edited": false, "score": 0, "creation_date": 1568804657, "post_id": 57991128, "comment_id": 102389590, "body": "handle that in activity only and call from fragment via interface only"}], "owner": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568804165, "creation_date": 1568804165, "question_id": 57991128, "link": "https://stackoverflow.com/questions/57991128/access-activities-ui-component-inside-fragments", "title": "access Activities UI component inside fragments", "body": "<p>I have an activity where two fragments are attached. \nI am trying to access UI components of Activity.xml, in Fragment.xml.\nAlso i am trying to hide toolbar in specific fragment. \nBut unable to reach at any point.</p>\n\n<p>these are the things i have tried</p>\n\n<ol>\n<li><p>for hide fragment toolbar - </p></li>\n<li><p>for accessing the UI button of activity inside fragment</p>\n\n<pre><code>((DashBoardActivity) getActivity()).addButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        startActivity(new Intent(getActivity(), SecondActivity.class));\n    }\n});\n //For HIDING TOOLBAR IN FRAGMENT\n\n (activity as DashboardActivity).supportActionBar?.hide()\n</code></pre></li>\n</ol>\n\n<p>Can someone please help me achieving this in KOTLIN.\nThank you</p>\n"}, {"tags": ["android", "kotlin", "android-sqlite", "android-room"], "comments": [{"owner": {"reputation": 527, "user_id": 1937886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2A3ZN.jpg?s=128&g=1", "display_name": "Viral Thakker", "link": "https://stackoverflow.com/users/1937886/viral-thakker"}, "edited": false, "score": 0, "creation_date": 1568807008, "post_id": 57991063, "comment_id": 102390927, "body": "You need to used Kotlin variables in the String template right? You can do this via &quot;${variable}&quot; This will replace with the variable value in the string."}, {"owner": {"reputation": 1754, "user_id": 5251407, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/o4raw.jpg?s=128&g=1", "display_name": "Akhil Soman", "link": "https://stackoverflow.com/users/5251407/akhil-soman"}, "edited": false, "score": 1, "creation_date": 1568807077, "post_id": 57991063, "comment_id": 102390964, "body": "basically what you are doing is inserting and extra space in the sql query. Wouldn&#39;t it be automatically removed.? Could you try changing(add an extra &#39; inside the &quot; &quot;) -&gt; private const val NEW_COLUMN_#_EMPTY = &quot;&#39; &#39;&quot;"}, {"owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "reply_to_user": {"reputation": 1754, "user_id": 5251407, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/o4raw.jpg?s=128&g=1", "display_name": "Akhil Soman", "link": "https://stackoverflow.com/users/5251407/akhil-soman"}, "edited": false, "score": 1, "creation_date": 1568814311, "post_id": 57991063, "comment_id": 102395088, "body": "@AkhilSoman thanks for spotting this, an embarrassing error on my part :("}], "owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568805297, "creation_date": 1568803886, "last_edit_date": 1568805297, "question_id": 57991063, "link": "https://stackoverflow.com/questions/57991063/how-to-use-kotlin-string-templates-in-room-migration-statements", "title": "How to use Kotlin String Templates in Room Migration statements", "body": "<p>I am attempting to create a Room Migration as follows:-</p>\n\n<pre><code>class Migration_1_2(startVersion: Int = 1, endVersion: Int = 2) : Migration(startVersion, endVersion) {\n\n    override fun migrate(database: SupportSQLiteDatabase) {\n\n        database.execSQL(CREATE_TEMP_MY_TABLE_TABLE)\n        database.execSQL(COPY_MY_TABLE)\n        database.execSQL(DROP_MY_TABLE_TABLE)\n        database.execSQL(ALTER_TEMP_MY_TABLE_TABLE)\n\n    }\n\n    companion object {\n\n        private const val NEW_COLUMN_A_EMPTY = \" \"\n        private const val NEW_COLUMN_B_EMPTY = \" \"\n        private const val NEW_COLUMN_C_EMPTY = \" \"\n        private const val NEW_COLUMN_D_EMPTY = \" \"        \n\n        private const val CREATE_TEMP_MY_TABLE_TABLE = \"CREATE TABLE 'temp_myTable' ('column_one' TEXT, 'column_two' TEXT, 'column_three' TEXT, 'column_four' TEXT, 'uuid' TEXT NOT NULL, 'new_column_a' TEXT, 'column_five' TEXT, 'column_six' TEXT, 'new_column_b' TEXT, 'new_column_c' TEXT, 'new_column_d' TEXT, 'new_column_e' TEXT, PRIMARY KEY('uuid'))\"\n        private const val COPY_MY_TABLE = \"INSERT INTO temp_myTable SELECT column_one, column_two, column_three, column_four, uuid, $NEW_COLUMN_A_EMPTY, column_five, column_six, $NEW_COLUMN_B_EMPTY, $NEW_COLUMN_C_EMPTY, $NEW_COLUMN_D_EMPTY, $NEW_COLUMN_E_EMPTY FROM myTable\"\n        private const val DROP_MY_TABLE_TABLE = \"DROP TABLE 'myTable'\"\n        private const val ALTER_TEMP_MY_TABLE_TABLE = \"ALTER TABLE 'temp_myTable' RENAME TO 'myTable'\"\n\n    }\n}\n</code></pre>\n\n<p>using <code>NEW_COULMN_#_EMPTY</code> string constants instead of \"<code>' '</code>\" to document which column is being set to <code>BLANK</code>.</p>\n\n<p>This code does compile even though Android Studio reports <code>&lt;result column&gt; expected, got ','</code></p>\n\n<p>I guess this is <code>Room</code> not liking <code>Kotlin</code> string templates</p>\n\n<p>IS there any way I can employ <code>Kotlin</code> string templates in my sqlite raw SQL?</p>\n"}, {"tags": ["kotlin", "project-reactor", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6865143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b850f798abcbfc4d80882f543c9f0ad3?s=128&d=identicon&r=PG&f=1", "display_name": "Karol K", "link": "https://stackoverflow.com/users/6865143/karol-k"}, "edited": false, "score": 1, "creation_date": 1569348093, "post_id": 57991120, "comment_id": 102565516, "body": "So basically it means, nullability is not handled yet. Thx for information"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 0, "last_activity_date": 1568804140, "creation_date": 1568804140, "answer_id": 57991120, "question_id": 57991039, "link": "https://stackoverflow.com/questions/57991039/null-safety-with-reactor-and-kotlin/57991120#57991120", "title": "Null-safety with Reactor and kotlin", "body": "<p>The problem is that <code>map</code> doesn't have annotations on it, and since it is written in Java, <code>R</code> is a platform type in the code, so the Kotlin compiler won't complain:</p>\n\n<pre><code>    /**\n     * Transform the item emitted by this {@link Mono} by applying a synchronous function to it.\n     *\n     * &lt;p&gt;\n     * &lt;img class=\"marble\" src=\"doc-files/marbles/mapForMono.svg\" alt=\"\"&gt;\n     *\n     * @param mapper the synchronous transforming {@link Function}\n     * @param &lt;R&gt; the transformed type\n     *\n     * @return a new {@link Mono}\n     */\n    public final &lt;R&gt; Mono&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) {\n        if (this instanceof Fuseable) {\n            return onAssembly(new MonoMapFuseable&lt;&gt;(this, mapper));\n        }\n        return onAssembly(new MonoMap&lt;&gt;(this, mapper));\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6865143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b850f798abcbfc4d80882f543c9f0ad3?s=128&d=identicon&r=PG&f=1", "display_name": "Karol K", "link": "https://stackoverflow.com/users/6865143/karol-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568804140, "creation_date": 1568803811, "question_id": 57991039, "link": "https://stackoverflow.com/questions/57991039/null-safety-with-reactor-and-kotlin", "title": "Null-safety with Reactor and kotlin", "body": "<p>Based on this part of documentation Reactor should support null-safety:\n<a href=\"https://projectreactor.io/docs/core/release/reference/#kotlin-null-safety\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/reference/#kotlin-null-safety</a></p>\n\n<p>Nevertheless, using <code>map</code> I am able to easily skip null-checking :</p>\n\n<pre><code>internal class NullabilityTest {\n    @Test\n    fun nullability() {\n        val userWithMap: Mono&lt;String&gt; = UserRepo.findUser(5)\n            .map { it?.getName() }//this returns String?, it should not compile \n    }\n}\n\nclass User {\n    fun getName() = \"Mike\"\n}\n\nclass UserRepo {\n    companion object {\n        fun findUser(id: Int): Mono&lt;User?&gt; {\n            return Mono.empty()\n        }\n    }\n}\n</code></pre>\n\n<p>As shown in this example <code>String?</code> is assigned to <code>Mono&lt;String&gt;</code>. It would be great to receive a compiler failure in this case.\nIs it a bug in reactor or rather something that was never implemented?</p>\n\n<p>I am using:\nreactor 3.2.12</p>\n"}, {"tags": ["android", "xml", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1573, "user_id": 10245125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gI32k.jpg?s=128&g=1", "display_name": "mohammadReza Abiri", "link": "https://stackoverflow.com/users/10245125/mohammadreza-abiri"}, "edited": false, "score": 0, "creation_date": 1568801266, "post_id": 57990167, "comment_id": 102387730, "body": "post your error plZ"}, {"owner": {"reputation": 1613, "user_id": 10989990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8eSzj.jpg?s=128&g=1", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/10989990/priyanka"}, "edited": false, "score": 0, "creation_date": 1568801317, "post_id": 57990167, "comment_id": 102387767, "body": "can you please add error log?"}, {"owner": {"reputation": 500, "user_id": 8964498, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rSBcCMRbhpk/AAAAAAAAAAI/AAAAAAAAAeQ/rSSYeZjhMtg/photo.jpg?sz=128", "display_name": "Alireza aslami", "link": "https://stackoverflow.com/users/8964498/alireza-aslami"}, "edited": false, "score": 0, "creation_date": 1568801426, "post_id": 57990167, "comment_id": 102387826, "body": "if using findViewByID to call child there is no problem... i would not use findViewByID because my child count is very a lot"}], "answers": [{"tags": [], "owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1569387263, "last_edit_date": 1569387263, "creation_date": 1568801344, "answer_id": 57990260, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin/57990260#57990260", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>try this  in <code>onViewCreated</code> instead of <code>onCreateView</code></p>\n\n<pre><code>    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        tap_action_layout.setOnClickListener { v: View? -&gt;\n          //....\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 527, "user_id": 1937886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2A3ZN.jpg?s=128&g=1", "display_name": "Viral Thakker", "link": "https://stackoverflow.com/users/1937886/viral-thakker"}, "is_accepted": false, "score": 1, "last_activity_date": 1568802257, "creation_date": 1568802257, "answer_id": 57990562, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin/57990562#57990562", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>You cannot access directly included elements in your code.You need to use <strong>findviewbyid</strong> on parent layout in which you have included other layout.</p>\n\n<p>For Eg:</p>\n\n<p><code>&lt;include layout=\"@layout/bottomsheet_map\"\n  android:id=\"@+id/include_layout\" /&gt;</code></p>\n\n<pre><code> val tap_action_layout = include_layout.findViewById(R.id.tap_action_layout)\n tap_action_layout.setOnClickListener { v: View? -&gt;\n          //....\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 573, "user_id": 1537916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a565084904efb180c6e83ad003f7c841?s=128&d=identicon&r=PG", "display_name": "mmmatey", "link": "https://stackoverflow.com/users/1537916/mmmatey"}, "is_accepted": false, "score": 1, "last_activity_date": 1568802354, "creation_date": 1568802354, "answer_id": 57990591, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin/57990591#57990591", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>You have to set <strong>android:id</strong> to <code>include</code> tag in xml layout first:</p>\n\n<pre><code>&lt;include android:id=\"@+id/my_layout\" \n    layout=\"@layout/bottomsheet_map\" /&gt;\n</code></pre>\n\n<p>After you set id you need to call id from include layout tag first to get your <strong>tap_action_layout</strong> not nullable and you should call it from <code>onViewCreated</code> method in your fragment: (be aware that this works only if you are using <strong>kotlinx.android.synthetic</strong> for binding views)</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    my_layout.top_action_layout.setOnClickListener {\n        // do whatever you wanna do here..\n    }\n}\n</code></pre>\n\n<p>Otherwise if you are not using kotlin synthetic you would need to call <code>findViewById(R.id.top_action_layout)</code> first:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    my_layout.findViewById(R.id.top_action_layout).setOnClickListener {\n        // do whatever you wanna do here..\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1095, "user_id": 11484794, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OLbs_nYx4kw/AAAAAAAAAAI/AAAAAAAAAD0/lM7WaKQuHk0/photo.jpg?sz=128", "display_name": "bhuvnesh pattnaik", "link": "https://stackoverflow.com/users/11484794/bhuvnesh-pattnaik"}, "is_accepted": false, "score": 0, "last_activity_date": 1568802354, "creation_date": 1568802354, "answer_id": 57990593, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin/57990593#57990593", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>I guess <code>tap_action_layout</code> needs a view to be executed</p>\n\n<p>Try this</p>\n\n<pre><code>val view = inflater!!.inflate(R.layout.layout, container, false)\n\n        view.tap_action_layout.setOnClickListener { v: View? -&gt;\n          //....\n        }\n        return view\n</code></pre>\n\n<p>This should work perfectly.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 12107210, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDOuWK4pndpt857Lk7TpgyF08_u86-vnWzsm8M1=k-s128", "display_name": "rtour mobil", "link": "https://stackoverflow.com/users/12107210/rtour-mobil"}, "is_accepted": false, "score": 1, "last_activity_date": 1569315696, "creation_date": 1569315696, "answer_id": 58076665, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin/58076665#58076665", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>in xml layout  need to set android:id to :</p>\n\n<pre><code>&lt;include android:id=\"@+id/bottomsheet_map_layout\" \n    layout=\"@layout/bottomsheet_map\" /&gt;\n</code></pre>\n\n<p>then call your views to code in onViewCreated</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    my_layout.top_action_layout.setOnClickListener {\n        // do whatever you wanna do here..\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 8964498, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rSBcCMRbhpk/AAAAAAAAAAI/AAAAAAAAAeQ/rSSYeZjhMtg/photo.jpg?sz=128", "display_name": "Alireza aslami", "link": "https://stackoverflow.com/users/8964498/alireza-aslami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 1, "accepted_answer_id": 57990260, "answer_count": 5, "score": 1, "last_activity_date": 1569387263, "creation_date": 1568801089, "last_edit_date": 1568808662, "question_id": 57990167, "link": "https://stackoverflow.com/questions/57990167/i-have-crash-when-using-xml-include-tag-in-kotlin", "title": "I have Crash when Using xml &lt;include/&gt; tag in kotlin", "body": "<p>i'm coding in <strong><em>kotlin</em></strong> and using from <strong><em></em></strong> in my <strong><em>layout.xml</em></strong> and when I call a child of <strong><em>bottomsheet_map</em></strong> layout my app has crash.</p>\n\n<p>my parent layout :</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n     ...\n    &lt;include layout=\"@layout/bottomsheet_map\" /&gt;\n\n    ...\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>and bottomsheet_map.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/bottomsheet_map\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/bg_app\"\n    android:elevation=\"@dimen/medium\"\n    android:fadingEdgeLength=\"@dimen/xLarge\"\n    android:orientation=\"vertical\"\n    app:behavior_peekHeight=\"50dp\"\n    app:layout_behavior=\"com.idmpGroup.rtour.utilities.UI.AnchorSheetBehavior\"&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/tap_action_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:background=\"@android:color/white\"\n        android:elevation=\"@dimen/xSmall\"\n        android:fadingEdgeLength=\"@dimen/standard\"\n        android:gravity=\"center\"\n        android:paddingStart=\"@dimen/standard\"\n        android:paddingTop=\"@dimen/medium\"\n        android:paddingEnd=\"@dimen/standard\"\n        android:paddingBottom=\"@dimen/medium\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;View\n                android:layout_width=\"@dimen/xLarge\"\n                android:layout_height=\"@dimen/xSmall\"\n                android:layout_gravity=\"center\"\n                android:background=\"@drawable/dr_btn_radius_solid2\" /&gt;\n\n\n            &lt;TextView\n                android:id=\"@+id/bottom_sheet_title\"\n                style=\"@style/tvToolbar_style\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"@dimen/medium\"\n                android:gravity=\"center\"\n                android:text=\"@string/show_list\"\n                android:textColor=\"#979797\" /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>when i want set OnClickListener to tap_action_layout in onCreateView i have crash</p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater.inflate(R.layout.layout, container, false)\n\n        tap_action_layout.setOnClickListener { v: View? -&gt;\n          //....\n        }\n        return view\n    }\n</code></pre>\n\n<p><strong>Note:</strong> i would not use findViewByID .is there better solution to call <strong>tap_action_layout</strong> without findViewByID() ????</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.RelativeLayout.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n    at com.idmpGroup.rtour.fragments.BAS.NearlyFrag.onCreateView(NearlyFrag.kt:258)\n    at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2600)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:881)\n    at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1238)\n    at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1303)\n    at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\n    at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2079)\n    at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1869)\n    at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1824)\n    at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\n    at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)\n    at android.os.Handler.handleCallback(Handler.java:907)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:216)\n    at android.app.ActivityThread.main(ActivityThread.java:7625)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bitmap"], "comments": [{"owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "reply_to_user": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568802777, "post_id": 57990094, "comment_id": 102388575, "body": "@NatigBabayev this is a compression as is, but not doing grayscale"}], "answers": [{"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 1, "last_activity_date": 1568812678, "creation_date": 1568812678, "answer_id": 57993725, "question_id": 57990094, "link": "https://stackoverflow.com/questions/57990094/how-to-properly-grayscale-bitmap-on-android-to-make-the-file-lighter/57993725#57993725", "title": "How to properly grayscale bitmap on android to make the file lighter", "body": "<pre><code>bmp.compress(Bitmap.CompressFormat.JPEG, 100, out)\n</code></pre>\n\n<p>You are saving the image with an compression quality of 100. This <em>maximizes</em> file size (and minimizes quality loss).  </p>\n\n<p>If you want to make the most of compression, pass a lower value here. There is no ideal value because it really depends on the image being compressed and the tolerable amount of artefacts. It's a trade-of between file size and image quality.  </p>\n\n<p>For some more reading about the quality level see:<br>\n<a href=\"https://photo.stackexchange.com/questions/30243/what-quality-to-choose-when-converting-to-jpg\">What quality to choose when converting to JPG?</a><br>\nAnd some examples <a href=\"http://fotoforensics.com/tutorial-estq.php\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://en.wikipedia.org/wiki/JPEG#Sample_photographs\" rel=\"nofollow noreferrer\">2</a></p>\n"}], "owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1568812678, "creation_date": 1568800883, "last_edit_date": 1568800990, "question_id": 57990094, "link": "https://stackoverflow.com/questions/57990094/how-to-properly-grayscale-bitmap-on-android-to-make-the-file-lighter", "title": "How to properly grayscale bitmap on android to make the file lighter", "body": "<p>I'm trying to get the most out of compression and I need to make my image grayscale in order to make the file lighter. \nI found a function that makes image grayscale:</p>\n\n<pre><code>fun toGrayscale(bmpOriginal: Bitmap): Bitmap {\n        val width = bmpOriginal.width\n        val height = bmpOriginal.height\n\n        val bmpGrayscale = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n        val c = Canvas(bmpGrayscale)\n        val paint = Paint()\n        val cm = ColorMatrix()\n        cm.setSaturation(0f)\n        val f = ColorMatrixColorFilter(cm)\n        paint.colorFilter = f\n        c.drawBitmap(bmpOriginal, 0f, 0f, paint)\n        return bmpGrayscale\n}\n</code></pre>\n\n<p>Then I save it with </p>\n\n<pre><code>try {\n    FileOutputStream(filePathGrayScale).use { out -&gt;\n        bmp.compress(Bitmap.CompressFormat.JPEG, 100, out)\n    }\n} catch (e: IOException) {\n    e.printStackTrace()\n}\n</code></pre>\n\n<p>But the image size <strong>increase!</strong></p>\n\n<p>What exactly I'm doing wrong and how to make the thing correct?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "grpc"], "answers": [{"comments": [{"owner": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "edited": false, "score": 0, "creation_date": 1568828153, "post_id": 57997207, "comment_id": 102402316, "body": "I misunderstood which failure you were talking about. This all is true, but not the core problem of why the test failed."}, {"owner": {"reputation": 186, "user_id": 5562697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153415125666492/picture?type=large", "display_name": "benChung", "link": "https://stackoverflow.com/users/5562697/benchung"}, "edited": false, "score": 0, "creation_date": 1568903843, "post_id": 57997207, "comment_id": 102431084, "body": "Thank you! Can&#39;t believe I&#39;ve missed that part to be honest.  As for mocking, like you have suggested I have changed for mockito-core and have resorted to Kotlin&#39;s all-open plugin to open up Kotlin classes I intend to mock in the test."}], "tags": [], "owner": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1568824284, "creation_date": 1568824284, "answer_id": 57997207, "question_id": 57990053, "link": "https://stackoverflow.com/questions/57990053/hit-with-unimplemented-method-statusruntimeexception-when-unit-testing-generated/57997207#57997207", "title": "Hit with Unimplemented method StatusRuntimeException when unit testing generated grpc code in Android project", "body": "<p>There is no implementation for <code>sayHello</code>, so the exception is correct:</p>\n\n<pre><code>    private val serviceImpl = Mockito.mock(GreeterGrpc.GreeterImplBase::class.java, delegatesTo&lt;Any&gt;(object: GreeterGrpc.GreeterImplBase(){}))\n</code></pre>\n\n<p>The example doesn't fail because HelloWorldClient catches the exception and logs it. If you look in <code>build/reports/tests/test/index.html</code> and navigate to HelloWorldClientTest, the Standard error includes:</p>\n\n<pre><code>Sep 18, 2019 9:18:11 AM io.grpc.examples.helloworld.HelloWorldClient greet\nWARNING: RPC failed: Status{code=UNIMPLEMENTED, description=Method helloworld.Greeter/SayHello is unimplemented, cause=null}\n</code></pre>\n\n<p>To fix the problem, just provide a fake implementation of the sayHello method:</p>\n\n<pre><code>    private val serviceImpl = Mockito.mock(GreeterGrpc.GreeterImplBase::class.java, delegatesTo&lt;Any&gt;(object: GreeterGrpc.GreeterImplBase(){\n        override fun sayHello(req: HelloRequest, responseObserver: StreamObserver&lt;HelloReply&gt;) {\n            responseObserver.onNext(HelloReply.getDefaultInstance())\n            responseObserver.onCompleted()\n        }\n    }))\n</code></pre>\n\n<p>I've filed <a href=\"https://github.com/grpc/grpc-java/issues/6161\" rel=\"nofollow noreferrer\">issue 6161</a> to make the example more clear.</p>\n"}, {"tags": [], "owner": {"reputation": 16391, "user_id": 4690866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/854931adcbf75ac84630116123920854?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Anderson", "link": "https://stackoverflow.com/users/4690866/eric-anderson"}, "is_accepted": false, "score": 1, "last_activity_date": 1568828404, "creation_date": 1568828404, "answer_id": 57998160, "question_id": 57990053, "link": "https://stackoverflow.com/questions/57990053/hit-with-unimplemented-method-statusruntimeexception-when-unit-testing-generated/57998160#57998160", "title": "Hit with Unimplemented method StatusRuntimeException when unit testing generated grpc code in Android project", "body": "<p>You are using <code>mockito-inline</code>, which is mocking a <code>final</code> method. If you swap to <code>mockito-core</code> then the test should pass. I tested this with the example-kotlin; swapping the mockito dependency to mockito-inline broke the test. I'll mention that overriding final methods is strongly unsupported by grpc-java.</p>\n\n<p>As a quick fix you can use:</p>\n\n<pre><code>Mockito.`when`(grpcService.bindService()).thenCallRealMethod()\n</code></pre>\n"}], "owner": {"reputation": 186, "user_id": 5562697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153415125666492/picture?type=large", "display_name": "benChung", "link": "https://stackoverflow.com/users/5562697/benchung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1492, "favorite_count": 0, "accepted_answer_id": 57997207, "answer_count": 2, "score": 0, "last_activity_date": 1568828404, "creation_date": 1568800770, "question_id": 57990053, "link": "https://stackoverflow.com/questions/57990053/hit-with-unimplemented-method-statusruntimeexception-when-unit-testing-generated", "title": "Hit with Unimplemented method StatusRuntimeException when unit testing generated grpc code in Android project", "body": "<p>I have an Android project that generates gRPC classes from the proto file upon building, which is from here under the helloworld example:\n<a href=\"https://github.com/grpc/grpc-java/tree/master/examples/src\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/tree/master/examples/src</a></p>\n\n<p>My JUnit test follows to that of the test written for HelloWorldClient (<a href=\"https://github.com/grpc/grpc-java/blob/master/examples/example-kotlin/src/test/kotlin/io/grpc/examples/helloworld/HelloWorldClientTest.kt\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/examples/example-kotlin/src/test/kotlin/io/grpc/examples/helloworld/HelloWorldClientTest.kt</a>), and I thought it theoretically would work</p>\n\n<p>However, when I run the test, I was hit with an exception error as follows:</p>\n\n<pre><code>io.grpc.StatusRuntimeException: UNIMPLEMENTED: Method helloworld.Greeter/SayHello is unimplemented\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:235)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:216)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:141)\n    at io.grpc.examples.helloworld.GreeterGrpc$GreeterBlockingStub.sayHello(GreeterGrpc.java:177)\n    at com.android.grpcmvvm.data.GreeterRemoteDataSource.sayHello(GreeterRemoteDataSource.kt:49)\n    at com.android.grpcmvvm.view.GreeterViewModelUnitTest.testTestFunction(GreeterViewModelUnitTest.kt:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at io.grpc.testing.GrpcCleanupRule$1.evaluate(GrpcCleanupRule.java:125)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\n\nWanted but not invoked:\nserviceImpl.sayHello(\n    &lt;Capturing argument&gt;,\n    &lt;any&gt;\n);\n-&gt; at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.sayHello(GreeterGrpc.java:101)\n\nHowever, there was exactly 1 interaction with this mock:\nserviceImpl.bindService();\n-&gt; at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:114)\n\n\nWanted but not invoked:\nserviceImpl.sayHello(\n    &lt;Capturing argument&gt;,\n    &lt;any&gt;\n);\n-&gt; at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.sayHello(GreeterGrpc.java:101)\n\nHowever, there was exactly 1 interaction with this mock:\nserviceImpl.bindService();\n-&gt; at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:114)\n\n\n    at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.sayHello(GreeterGrpc.java:101)\n    at com.android.grpcmvvm.view.GreeterViewModelUnitTest.testTestFunction(GreeterViewModelUnitTest.kt:112)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at io.grpc.testing.GrpcCleanupRule$1.evaluate(GrpcCleanupRule.java:125)\n    at org.junit.rules.RunRules.evaluate(RunRules.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>The following is the test and the relevant code\n(Please mind the ViewModel name. I removed anything about ViewModel from the test for the purpose of this question)</p>\n\n<p><strong>GreeterViewModelUnitTest.kt</strong></p>\n\n<pre><code>import com.android.grpcmvvm.data.GreeterRemoteDataSource\nimport com.android.grpcmvvm.grpc.GrpcService\nimport io.grpc.ManagedChannel\nimport io.grpc.examples.helloworld.GreeterGrpc\nimport io.grpc.examples.helloworld.HelloReply\nimport io.grpc.examples.helloworld.HelloRequest\nimport io.grpc.inprocess.InProcessChannelBuilder\nimport io.grpc.inprocess.InProcessServerBuilder\nimport io.grpc.stub.StreamObserver\nimport io.grpc.testing.GrpcCleanupRule\nimport org.junit.Assert.assertEquals\nimport org.junit.Before\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.junit.runners.JUnit4\nimport org.mockito.*\nimport org.mockito.AdditionalAnswers.delegatesTo\nimport org.mockito.internal.matchers.Any\n\n@RunWith(JUnit4::class)\nclass GreeterViewModelUnitTest {\n    // region JUnit test rules\n    @get:Rule\n    val grpcCleanupRule = GrpcCleanupRule()\n\n    private val serviceImpl = Mockito.mock(GreeterGrpc.GreeterImplBase::class.java, delegatesTo&lt;Any&gt;(object: GreeterGrpc.GreeterImplBase(){}))\n    // endregion\n\n    // region Private properties\n    @Mock\n    private lateinit var grpcService: GrpcService\n\n    private lateinit var managedChannel: ManagedChannel\n\n    private lateinit var greeterRemoteDataSource: GreeterRemoteDataSource\n    // endregion\n\n    @Before\n    @Throws(Exception::class)\n    fun setUp() {\n        MockitoAnnotations.initMocks(this)\n\n        val serverName = InProcessServerBuilder.generateName()\n\n        grpcCleanupRule.register(InProcessServerBuilder\n            .forName(serverName)\n            .directExecutor()\n            .addService(serviceImpl)\n            .build()\n            .start())\n\n        managedChannel = grpcCleanupRule.register(InProcessChannelBuilder\n            .forName(serverName)\n            .directExecutor()\n            .build())\n\n        Mockito.`when`(grpcService.createManagedChannel()).thenReturn(managedChannel)\n        greeterRemoteDataSource = GreeterRemoteDataSource(grpcService)\n    }\n\n    @Test\n    fun testTestFunction() {\n        val requestCaptor = ArgumentCaptor.forClass(HelloRequest::class.java)\n\n        greeterRemoteDataSource.sayHello(\"once again\")\n\n        Mockito.verify&lt;GreeterGrpc.GreeterImplBase&gt;(serviceImpl)\n            .sayHello(requestCaptor.capture(), ArgumentMatchers.any&lt;StreamObserver&lt;HelloReply&gt;&gt;())\n\n        assertEquals(\"once again\", requestCaptor.value.name)\n    }\n</code></pre>\n\n<p><strong>GrpcService.kt</strong></p>\n\n<pre><code>import io.grpc.ManagedChannel\nimport io.grpc.ManagedChannelBuilder\nimport java.util.concurrent.Executors\n\nclass GrpcService(private val host: String, private val port: Int) {\n\n    fun createManagedChannel(): ManagedChannel {\n        return ManagedChannelBuilder\n            .forAddress(host, port)\n            .executor(Executors.newSingleThreadExecutor())\n            .usePlaintext()\n            .build()\n    }\n}\n</code></pre>\n\n<p><strong>GreeterRemoteDataSource.kt</strong></p>\n\n<pre><code>import com.android.grpcmvvm.grpc.GrpcService\nimport io.grpc.ManagedChannel\nimport io.grpc.StatusRuntimeException\nimport io.grpc.examples.helloworld.GreeterGrpc\nimport io.grpc.examples.helloworld.HelloReply\nimport io.grpc.examples.helloworld.HelloRequest\n\nclass GreeterRemoteDataSource constructor(private val grpcService: GrpcService) {\n\n    private lateinit var channel: ManagedChannel\n\n    fun sayHello(message: String): String {\n        channel = grpcService.createManagedChannel()\n\n        val stub = GreeterGrpc.newBlockingStub(channel)\n        val request = HelloRequest.newBuilder().setName(message).build()\n\n        val reply: HelloReply = try {\n            stub.sayHello(request)\n        } catch (e: StatusRuntimeException) {\n            e.printStackTrace()\n            return String.format(\"{0}\", e.status)\n        } finally {\n            channel.shutdown()\n        }\n\n        return reply.message\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'com.google.protobuf'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.android.grpcmvvm\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        multiDexEnabled true\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    def grpc_version = \"1.22.1\"\n    def lifecycle_version = \"2.2.0-alpha04\"\n    def mockito_kotlin_version = \"2.1.0\"\n    def mockito_version = \"3.0.0\"\n    def multidex_version = \"2.0.1\"\n    def truth_version = \"0.45\"\n\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation \"androidx.multidex:multidex:$multidex_version\"\n    implementation 'com.google.android.material:material:1.0.0'\n\n    // gRPC\n    implementation 'javax.annotation:javax.annotation-api:1.3.2'\n    implementation \"io.grpc:grpc-okhttp:$grpc_version\"\n    implementation \"io.grpc:grpc-protobuf-lite:$grpc_version\"\n    implementation \"io.grpc:grpc-stub:$grpc_version\"\n\n    // Lifecycle\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version\"\n\n    // Instrumented tests\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n\n    // Unit tests\n    testImplementation \"androidx.arch.core:core-testing:2.1.0\"\n    testImplementation \"com.google.truth:truth:$truth_version\"\n    testImplementation \"io.grpc:grpc-testing:$grpc_version\"\n    testImplementation \"com.nhaarman.mockitokotlin2:mockito-kotlin:$mockito_kotlin_version\"\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-debug:1.3.1'\n    testImplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.3.1'\n    testImplementation \"org.mockito:mockito-inline:$mockito_version\"\n}\n\nprotobuf {\n    protoc {\n        artifact = 'com.google.protobuf:protoc:3.9.0'\n    }\n    plugins {\n        grpc {\n            artifact = \"io.grpc:protoc-gen-grpc-java:1.22.1\"\n        }\n        javalite {\n            artifact = 'com.google.protobuf:protoc-gen-javalite:3.0.0'\n        }\n    }\n    generateProtoTasks {\n        all()*.plugins {\n            javalite {}\n        }\n        ofNonTest()*.plugins {\n            grpc {\n                // Options added to --grpc_out\n                option 'lite'\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.50'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.0'\n        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.10'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>I'm currently unable to find what exactly would cause such an error. I've also looked around for answers/insights to no avail.</p>\n\n<p>Any input is appreciated.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 5, "last_activity_date": 1568803171, "creation_date": 1568803171, "answer_id": 57990843, "question_id": 57989947, "link": "https://stackoverflow.com/questions/57989947/null-value-in-init-block-of-parent-class/57990843#57990843", "title": "null value in init block of parent class", "body": "<p>You are you using <code>open var</code> when you're not overriding any getter/setter methods. </p>\n\n<p>You're introducing weird initialization conflict since <code>Spice.init</code> (parent class constructor) is invoked before <code>SubSpice.init</code> and by overriding the fields they are no longer initialized alongside parent constructor - instead they will be available once <code>Subspice</code> is constructed.</p>\n\n<p>Remove <code>open</code> keyword from variables in parent class and <code>override var</code> in child constructor, that way fields will be properly initialized in <code>Spice</code> class and its <code>init</code> block should run successfully.</p>\n"}, {"comments": [{"owner": {"reputation": 2126, "user_id": 783707, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TAhHe.jpg?s=128&g=1", "display_name": "Ankur Aggarwal", "link": "https://stackoverflow.com/users/783707/ankur-aggarwal"}, "edited": false, "score": 0, "creation_date": 1568805588, "post_id": 57991127, "comment_id": 102390114, "body": "Thanks. Since I cannot mark both of your answers as &quot;accepted&quot;, I have marked Pawel&#39;s answer as the accepted one"}], "tags": [], "owner": {"reputation": 1104, "user_id": 3271729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90fc036972c653f06e511ebe6bbdf4b?s=128&d=identicon&r=PG&f=1", "display_name": "Eamon Scullion", "link": "https://stackoverflow.com/users/3271729/eamon-scullion"}, "is_accepted": false, "score": 2, "last_activity_date": 1568804161, "creation_date": 1568804161, "answer_id": 57991127, "question_id": 57989947, "link": "https://stackoverflow.com/questions/57989947/null-value-in-init-block-of-parent-class/57991127#57991127", "title": "null value in init block of parent class", "body": "<p>To add extra information to Pawel's answer:</p>\n\n<p>If you are overridding properties using <code>open</code>, the init block in the base class will run before the derived properties have been initialized.</p>\n\n<p>See docs: <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order</a></p>\n\n<p>So if we change the code like Pawel suggested, we end up with something like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Spice(\"salt\", \"non-spicy\")\n    Spice(name=\"spice\")\n    SubSpice(name = \"bhoot\", spiciness = \"hot\")\n    SubSpice(name=\"subspice\")\n}\n\nopen class Spice(var name:String, var spiciness : String = \"mild\" ) {\n    var heat : Int = 5\n        get() = when (spiciness){\n            \"mild\"-&gt;5\n            \"hot\"-&gt;10\n            \"non-spicy\"-&gt;1\n            else -&gt; 0\n        }\n\n    init{\n        if(spiciness === null) {println(\"spiciness is null\")}\n        else println(\"Spiciness of ${name} = ${spiciness}; heat = ${heat}\")\n    }\n}\n\nclass SubSpice(name: String, spiciness : String = \"hot\") : Spice(name, spiciness) {\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>Spiciness of salt = non-spicy; heat = 1\nSpiciness of spice = mild; heat = 5\nSpiciness of bhoot = hot; heat = 10\nSpiciness of subspice = hot; heat = 10\n</code></pre>\n"}], "owner": {"reputation": 2126, "user_id": 783707, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TAhHe.jpg?s=128&g=1", "display_name": "Ankur Aggarwal", "link": "https://stackoverflow.com/users/783707/ankur-aggarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 57990843, "answer_count": 2, "score": 1, "last_activity_date": 1568804161, "creation_date": 1568800407, "question_id": 57989947, "link": "https://stackoverflow.com/questions/57989947/null-value-in-init-block-of-parent-class", "title": "null value in init block of parent class", "body": "<p>I was creating a very simple kotlin program and saw a weird behavior for parent class.</p>\n\n<p>The code is:</p>\n\n<pre><code>fun makeSalt(name:String) = Spice(name, \"non-spicy\")\nfun main(args: Array&lt;String&gt;) {\n    var salt : Spice = Spice(\"salt\", \"non-spicy\")\n\n    println(\"Salt heat = ${salt.heat}\")\n\n    val spicelist = listOf&lt;Spice&gt;(\n        Spice(\"salt\", \"non-spicy\"),\n        Spice(\"turmeric\", \"mild\"),\n        Spice(\"Pepper\", \"hot\"),\n        Spice(\"Chilli\", \"hot\"),\n        Spice(\"Sugar\", \"non-spicy\")\n    )\n\n    val mildSpices = spicelist.filter{it.heat &lt;=5}\n\n    val salt2 = makeSalt(\"rock salt\")\n\n    val bhoot : SubSpice = SubSpice(\"bhoot\", \"hot\")\n}\n\n\nopen class Spice(open var name:String, open var spiciness:String = \"mild\" ){\n    var heat : Int = 5\n        get() = when (spiciness){\n            \"mild\"-&gt;5\n            \"hot\"-&gt;10\n            \"non-spicy\"-&gt;1\n            else -&gt; 0\n\n        }\n\n    init{\n        if(spiciness === null) {println(\"spiciness is null\")}\n        else println(\"Spiciness of ${name} = ${spiciness}; heat = ${heat}\")\n    }\n}\n\nclass SubSpice(override var name:String, override var spiciness:String = \"hot\") : Spice(name, spiciness){\n\n}\n</code></pre>\n\n<p>When I execute this program, the output is:</p>\n\n<pre><code>Spiciness of salt = non-spicy; heat = 1\nSalt heat = 1\nSpiciness of salt = non-spicy; heat = 1\nSpiciness of turmeric = mild; heat = 5\nSpiciness of Pepper = hot; heat = 10\nSpiciness of Chilli = hot; heat = 10\nSpiciness of Sugar = non-spicy; heat = 1\nSpiciness of rock salt = non-spicy; heat = 1\nspiciness is null\n</code></pre>\n\n<p>As you can see, when I created an object of the sub-class, the variable <code>spiciness</code> of parent class becomes null. Can someone explain why is that? I expected it to be null since it also has default parameter of <code>\"mild\"</code></p>\n"}, {"tags": ["android", "kotlin", "webview"], "comments": [{"owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568799969, "post_id": 57989653, "comment_id": 102387001, "body": "Have you added internet permissions to your AndroidManifest file?"}, {"owner": {"reputation": 380, "user_id": 8950733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsnOE.png?s=128&g=1", "display_name": "\u041c\u0438\u0445\u0430\u0438\u043b", "link": "https://stackoverflow.com/users/8950733/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb"}, "reply_to_user": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568800112, "post_id": 57989653, "comment_id": 102387080, "body": "@NatigBabayev oh, yes."}, {"owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 1, "creation_date": 1568800688, "post_id": 57989653, "comment_id": 102387404, "body": "I tried your code and it works for other websites. However, with your current url I got following error logs: <code>[ERROR:context_group.cc(136)] ContextResult::kFatalFailure: WebGL1 blacklisted</code>"}, {"owner": {"reputation": 380, "user_id": 8950733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsnOE.png?s=128&g=1", "display_name": "\u041c\u0438\u0445\u0430\u0438\u043b", "link": "https://stackoverflow.com/users/8950733/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb"}, "reply_to_user": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568801382, "post_id": 57989653, "comment_id": 102387800, "body": "@NatigBabayev Yeah, thank you. I know, that some sites are opening, but i need site from notion.so"}, {"owner": {"reputation": 607, "user_id": 10123247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5_42oucsI0/AAAAAAAAAAI/AAAAAAAAAB8/CLr0LYF96I4/photo.jpg?sz=128", "display_name": "Rezaul Karim", "link": "https://stackoverflow.com/users/10123247/rezaul-karim"}, "edited": false, "score": 0, "creation_date": 1568802174, "post_id": 57989653, "comment_id": 102388216, "body": "enable javascript..and try this may help you"}, {"owner": {"reputation": 380, "user_id": 8950733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsnOE.png?s=128&g=1", "display_name": "\u041c\u0438\u0445\u0430\u0438\u043b", "link": "https://stackoverflow.com/users/8950733/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb"}, "reply_to_user": {"reputation": 607, "user_id": 10123247, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w5_42oucsI0/AAAAAAAAAAI/AAAAAAAAAB8/CLr0LYF96I4/photo.jpg?sz=128", "display_name": "Rezaul Karim", "link": "https://stackoverflow.com/users/10123247/rezaul-karim"}, "edited": false, "score": 0, "creation_date": 1568812067, "post_id": 57989653, "comment_id": 102393758, "body": "@RezaulKarim I have tried. Nope, it does not solve the problem :("}], "answers": [{"tags": [], "owner": {"reputation": 2596, "user_id": 6834114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPD4g.jpg?s=128&g=1", "display_name": "OmiK", "link": "https://stackoverflow.com/users/6834114/omik"}, "is_accepted": false, "score": 0, "last_activity_date": 1568807531, "creation_date": 1568807531, "answer_id": 57992142, "question_id": 57989653, "link": "https://stackoverflow.com/questions/57989653/why-webview-does-not-open-a-site/57992142#57992142", "title": "Why WebView does not open a site?", "body": "<p>try below </p>\n\n<pre><code>    myWebVeiw.setWebViewClient(object:WebViewClient() {\n    fun shouldOverrideUrlLoading(view:WebView, url:String):Boolean {\n        return false\n    }\n   })\n</code></pre>\n\n<p>like</p>\n\n<pre><code>  MyButton.setOnClickListener{\n\n    val myWebVeiw = WebView(this)\n\n    myWebVeiw.getSettings().setBuiltInZoomControls(true)\n    myWebVeiw.getSettings().setDomStorageEnabled(true)\n    myWebVeiw.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_INSET)\n    myWebVeiw.settings.setJavaScriptEnabled(true)\n    myWebVeiw.getSettings().setAllowFileAccess(true)\n\n    myWebVeiw.loadUrl(\"https://www.notion.so/Blog-Post-20f83114dc15488eb5684c8c29821a4b\")\n    myWebVeiw.webViewClient = WebViewClient()\n\n    myWebVeiw.setWebViewClient(object:WebViewClient() {\n    fun shouldOverrideUrlLoading(view:WebView, url:String):Boolean {\n        return false\n    }\n   })\n\n    androidx.appcompat.app.AlertDialog.Builder(this)\n        .setView(myWebVeiw)\n        .setPositiveButton(applicationContext.getString(R.string.close)){ _, _ -&gt; /*nothing*/ }\n        .show()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1246, "user_id": 1019366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7facc38b253d59758c098aec6f9d75a6?s=128&d=identicon&r=PG", "display_name": "Kazuki", "link": "https://stackoverflow.com/users/1019366/kazuki"}, "edited": false, "score": 0, "creation_date": 1595480336, "post_id": 58120829, "comment_id": 111490236, "body": "Thanks for posting this. It saved tons of my time. I don&#39;t really understand &quot;security reasons&quot; here - sounds very absurd to me"}], "tags": [], "owner": {"reputation": 380, "user_id": 8950733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsnOE.png?s=128&g=1", "display_name": "\u041c\u0438\u0445\u0430\u0438\u043b", "link": "https://stackoverflow.com/users/8950733/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb"}, "is_accepted": true, "score": 3, "last_activity_date": 1569514181, "creation_date": 1569514181, "answer_id": 58120829, "question_id": 57989653, "link": "https://stackoverflow.com/questions/57989653/why-webview-does-not-open-a-site/58120829#58120829", "title": "Why WebView does not open a site?", "body": "<p>I have contacted with Notion.so.\nThey have written to me this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YuGF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuGF7.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, guys, some sites could be unreachable in Webview. From now we will know it. </p>\n"}], "owner": {"reputation": 380, "user_id": 8950733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsnOE.png?s=128&g=1", "display_name": "\u041c\u0438\u0445\u0430\u0438\u043b", "link": "https://stackoverflow.com/users/8950733/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 58120829, "answer_count": 2, "score": 1, "last_activity_date": 1569514181, "creation_date": 1568799476, "last_edit_date": 1568800181, "question_id": 57989653, "link": "https://stackoverflow.com/questions/57989653/why-webview-does-not-open-a-site", "title": "Why WebView does not open a site?", "body": "<p><strong>Conditions:</strong> I want to create a dialog which include WebView to show a special site, specifically <a href=\"https://www.notion.so/Blog-Post-20f83114dc15488eb5684c8c29821a4b\" rel=\"nofollow noreferrer\">this</a> (<code>https://www.notion.so/Blog-Post-20f83114dc15488eb5684c8c29821a4b</code>).</p>\n\n<p><strong>Code:</strong> I have writen this code in Kotlin:</p>\n\n<pre><code>     MyButton.setOnClickListener{\n\n        val myWebVeiw = WebView(this)\n\n        myWebVeiw.getSettings().setBuiltInZoomControls(true)\n        myWebVeiw.getSettings().setDomStorageEnabled(true)\n        myWebVeiw.setScrollBarStyle(WebView.SCROLLBARS_OUTSIDE_INSET)\n        myWebVeiw.settings.setJavaScriptEnabled(true)\n        myWebVeiw.getSettings().setAllowFileAccess(true)\n\n        myWebVeiw.loadUrl(\"https://www.notion.so/Blog-Post-20f83114dc15488eb5684c8c29821a4b\")\n        myWebVeiw.webViewClient = WebViewClient()\n\n        androidx.appcompat.app.AlertDialog.Builder(this)\n            .setView(myWebVeiw)\n            .setPositiveButton(applicationContext.getString(R.string.close)){ _, _ -&gt; /*nothing*/ }\n            .show()\n    }\n</code></pre>\n\n<p>And I have added this permission in AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p><strong>Problem:</strong> When I tap the button I can see a dialog, but it is empty and not deployed.</p>\n\n<p><strong>Question:</strong> How to open this site in the dialog?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1568797756, "post_id": 57988887, "comment_id": 102385658, "body": "try debug. Did it went through this line ?   <code>adat?.filter?.filter(p0)</code>"}, {"owner": {"reputation": 178, "user_id": 5871092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c75a8affc8abdccf47e4a11c8ffe0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Madhav", "link": "https://stackoverflow.com/users/5871092/madhav"}, "edited": false, "score": 0, "creation_date": 1568799627, "post_id": 57988887, "comment_id": 102386808, "body": "What kind of error you are getting ?"}], "owner": {"reputation": 1, "user_id": 12083975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cafe39ea861e9a4881e00d918ca86f8?s=128&d=identicon&r=PG&f=1", "display_name": "justKotlin123", "link": "https://stackoverflow.com/users/12083975/justkotlin123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568817536, "creation_date": 1568797172, "last_edit_date": 1568817536, "question_id": 57988887, "link": "https://stackoverflow.com/questions/57988887/problem-implementing-searchview-in-recycleview-in-a-fragment", "title": "Problem implementing Searchview in RecycleView in a fragment?", "body": "<p>Sorry for my bad English but it's not my first language.</p>\n\n<p>I have a fragment with a Recyclerview in it, and I'm trying to implement a searchview to filter the data.</p>\n\n<p>I tried following this tutorial -> <a href=\"https://www.youtube.com/watch?v=sJ-Z9G0SDhc&amp;\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sJ-Z9G0SDhc&amp;</a></p>\n\n<p>But the searchview just doesn't work; it doesn't filter anything.</p>\n\n<p>This is the code I implemented in my fragment (\"adat\" is my adapter in the fragment)</p>\n\n<pre><code>  override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\n\n        val vista2 = inflater.inflate(R.menu.main, menu)\n\n        var searchItem : MenuItem? = menu?.findItem(R.id.searchView)\n        var searchView : SearchView = MenuItemCompat.getActionView(searchItem) as SearchView\n\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener{\n            override fun onQueryTextSubmit(p0: String?): Boolean {\n                return false\n            }\n\n            override fun onQueryTextChange(p0: String?): Boolean {\n                adat?.filter?.filter(p0)\n                return false\n            }\n\n        })\n\n        //super.onCreateOptionsMenu(menu, inflater)\n    }\n</code></pre>\n\n<p>and this is my adapter </p>\n\n<pre><code>\n\nopen class Adattattore (): RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;(), Filterable {\n\n    private var list : ArrayList&lt;TecnicheData&gt;? = null\n    private var listFull : ArrayList&lt;TecnicheData&gt;? = null\n    private var contesto : Context? = null\n    private var recycleFilter : RecycleFilter?= null\n    var link : String? ? = null\n\n    constructor(context: Context, list : ArrayList&lt;TecnicheData&gt;) :this(){\n        this.listFull = list\n        this.list = list\n        this.contesto = context\n    }\n\n\n    inner class ViewHolder( view: View) : RecyclerView.ViewHolder(view){\n        var imgItemImage : ImageView ?= null\n        var txtItemName : TextView?= null\n\n\n\n        init{\n            imgItemImage = view.findViewById(R.id.imageViewTec)\n            txtItemName = view.findViewById(R.id.textViewTec)\n\n            view.setOnClickListener {\n                Snackbar.make(view, \"Value $link\",\n                    Snackbar.LENGTH_LONG)\n                    .show()\n            }\n\n        }\n\n\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n            return ViewHolder(LayoutInflater.from(contesto).inflate(R.layout.item_tecniche_list, parent, false))\n\n\n    }\n\n    override fun getItemCount(): Int {\n        return 2 //temporary hard coded value\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n\n        var holder0 : ViewHolder = holder as ViewHolder\n\n          holder0.imgItemImage?.setImageResource(list?.get(position)?.imgInt as Int)\n          holder0.txtItemName?.text = list?.get(position)?.titolo\n          link = list?.get(position)?.videoUrl\n\n\n\n\n    }\n\n\n    override fun getFilter(): Filter {\n        if(recycleFilter == null)\n            recycleFilter = RecycleFilter()\n\n        return recycleFilter as RecycleFilter\n    }\n\n    inner class RecycleFilter : Filter(){\n\n        override fun performFiltering(p0: CharSequence?): FilterResults {\n            var results : FilterResults = FilterResults()\n             var filtrata : ArrayList&lt;TecnicheData&gt;? = null\n\n            if(p0 != null &amp;&amp; p0.length &gt;0){\n                var localList1 : ArrayList&lt;TecnicheData&gt; = ArrayList&lt;TecnicheData&gt;()\n\n                var pattern = p0.toString().toLowerCase().trim()\n\n                for(i : Int in 0..listFull?.size?.minus(1) as Int){\n                    if(listFull?.get(i)?.titolo?.toLowerCase()?.contains(pattern) as Boolean){\n                        localList1.add(listFull?.get(i) as TecnicheData)\n                    }\n                }\n\n                results.values = localList1\n                results.count = localList1.size\n\n\n            }else{\n                results.values = listFull\n                results.count= listFull?.size as Int\n            }\n\n            return results\n        }\n\n        override fun publishResults(p0: CharSequence?, p1: FilterResults?) {\n            list?.clear()\n            list = p1?.values as ArrayList&lt;TecnicheData&gt;\n            notifyDataSetChanged()\n        }\n\n    }\n\n\n\n}\n\n</code></pre>\n\n<p>for better understanding, here's my \"TecnicheData\" class</p>\n\n<pre><code>data class TecnicheData(var id: String? = null, var titolo: String? = null, var videoUrl: String? = null, var imgUrl: String? = null, var categoria: String? = null, var imgInt : Int? = null)\n\n</code></pre>\n\n<p>I really really need your help, I've been stuck on this problem for 2 days and I don't know how to solve it. Please help me</p>\n\n<p>Thank you very much and sorry again for my bad English</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "bufferedwriter"], "comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 1, "creation_date": 1568797840, "post_id": 57988731, "comment_id": 102385715, "body": "Can you not just check for null and deal accordingly with that? e.g. an empty string, the string &quot;null&quot;?"}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1568798108, "post_id": 57988731, "comment_id": 102385868, "body": "How should I check and deal ? Can you provide some references?"}, {"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1568798983, "post_id": 57988731, "comment_id": 102386432, "body": "It would depend on how you are going to use the data in the rest of your project. What would be better for your use case? &quot;&quot; or &quot;null&quot; ?"}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1568799090, "post_id": 57988731, "comment_id": 102386497, "body": "In my case it would better to check &quot;null&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1568799977, "post_id": 57989601, "comment_id": 102387010, "body": "That&#39;s what I really wanted. Right on the spot. Thanks :)"}], "tags": [], "owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "is_accepted": true, "score": 2, "last_activity_date": 1568799324, "creation_date": 1568799324, "answer_id": 57989601, "question_id": 57988731, "link": "https://stackoverflow.com/questions/57988731/is-there-any-way-to-write-null-value-from-database-to-csv-file/57989601#57989601", "title": "Is there any way to write &quot;null&quot; value from database to csv file?", "body": "<p>Just do this</p>\n\n<pre><code>val s = cursor!!.getString(j)\n    if(s == null)\n        bw.write(\"whatever string value you want here\")\n    else\n        bw.write(s)\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 57989601, "answer_count": 1, "score": 0, "last_activity_date": 1568799324, "creation_date": 1568796644, "question_id": 57988731, "link": "https://stackoverflow.com/questions/57988731/is-there-any-way-to-write-null-value-from-database-to-csv-file", "title": "Is there any way to write &quot;null&quot; value from database to csv file?", "body": "<p>My first question is - Is BufferedWriter capable of writing null value to a file?\nIn my case, I am trying to export every data from database to csv file. There are null values in the database. I can export database without null values by using BufferedWriter. But not working with null. My question is , is it possible to export database including null with my current code? Here is the code.</p>\n\n<p>This is export class-</p>\n\n<pre><code>    private fun export() {\n    try {\n        db=DataBaseHelper(this)\n        val db=this.openOrCreateDatabase(REAL_DATABASE, Context.MODE_PRIVATE, null)\n        val selectQuery=\n            \"Select T.date,T.location, M.barcode,M.onhand_qty,T.scanned_qty,(M.onhand_qty-T.scanned_qty) as 'DIFFERENCE' from Master M Left Outer Join transaction_table T  On M.barcode = T.barcode1  \"\n        val cursor=db.rawQuery(selectQuery, null)\n        var rowcount: Int=0\n        var colcount: Int=0\n\n                val saveFile=\"/sdcard/Download/original.csv\"\n                val fw=FileWriter(saveFile)\n\n                val bw=BufferedWriter(fw)\n                rowcount=cursor.getCount()\n                colcount=cursor.getColumnCount()\n\n                if (rowcount&gt;0) {\n                    cursor!!.moveToFirst()\n\n                    for (i in 0 until colcount) {\n                        if (i != colcount - 1) {\n\n                            bw.write(cursor!!.getColumnName(i) + \",\")\n\n                        } else {\n\n                            bw.write(cursor!!.getColumnName(i))\n                        }\n                    }\n                    bw.newLine()\n\n                    for (i in 0 until rowcount) {\n                        cursor!!.moveToPosition(i)\n\n                        for (j in 0 until colcount) {\n                            if (j != colcount - 1)\n                                bw.write(cursor!!.getString(j) + \",\")\n                            else\n                                bw.write(cursor!!.getString(j))//This is where I get the error message\n                        }\n                        bw.newLine()\n                    }\n                    bw.flush()\n                }\n\n    } catch (ex: Exception) {\n        ex.printStackTrace()\n\n    } finally {\n\n    }\n\n}\n</code></pre>\n\n<p>This is the error message-</p>\n\n<pre><code>    java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.String.length()' on a null object reference\n</code></pre>\n"}, {"tags": ["android", "amazon-web-services", "amazon-s3", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 10792855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121087ed418f11dbd5063043380340a8?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Kilpatrick", "link": "https://stackoverflow.com/users/10792855/joey-kilpatrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1568863335, "creation_date": 1568863335, "answer_id": 58003285, "question_id": 57988466, "link": "https://stackoverflow.com/questions/57988466/how-to-get-the-object-url-in-aws-s3-using-amplify-from-android/58003285#58003285", "title": "How to get the Object URL in AWS S3 using Amplify from Android", "body": "<p>To directly answer the question, the URL of an object in an S3 Bucket is</p>\n\n<pre><code> https://BUCKET-NAME.s3.amazonaws.com/path/to/file\n</code></pre>\n\n<p>Note that to access it in this way, the object must be publicly available.</p>\n"}], "owner": {"reputation": 1821, "user_id": 7406389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOFCj.jpg?s=128&g=1", "display_name": "Abhijith K", "link": "https://stackoverflow.com/users/7406389/abhijith-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568863335, "creation_date": 1568795848, "question_id": 57988466, "link": "https://stackoverflow.com/questions/57988466/how-to-get-the-object-url-in-aws-s3-using-amplify-from-android", "title": "How to get the Object URL in AWS S3 using Amplify from Android", "body": "<p>In my Android Project using Kotlin, I am uploading an image to AWS S3 using Amplify. The  file is uploaded with <strong>transferUtility</strong> </p>\n\n<pre><code>val transferUtility = TransferUtility.builder()\n            .context(applicationContext)\n            .awsConfiguration(AWSMobileClient.getInstance().configuration)\n            .s3Client(AmazonS3Client(AWSMobileClient.getInstance()))\n            .build()\n\n    val file = File(\"path_to/file\")\n    val key = \"public/propic/\" + user.id+\".jpg\"\n    val uploadObserver = transferUtility.upload(key,file)\n\nuploadObserver.setTransferListener(object : TransferListener {\n\n        override fun onStateChanged(id: Int, state: TransferState) {\n            if (TransferState.COMPLETED === state) {\n                Toast.makeText(this@UploadActivity, \"File Uploaded\", Toast.LENGTH_LONG).show()\n            }\n        }\n}\n</code></pre>\n\n<p>The file is being perfectly uploaded to AWS S3. I need to get Object URL of the uploaded file once it has been uploaded. So that I can use the Object URL to load image view from the S3.</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-dokka", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6842262, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148011385245029/picture?type=large", "display_name": "Kamil Doleg\u0142o", "link": "https://stackoverflow.com/users/6842262/kamil-doleg%c5%82o"}, "is_accepted": false, "score": 1, "last_activity_date": 1581351077, "creation_date": 1581351077, "answer_id": 60154218, "question_id": 57988078, "link": "https://stackoverflow.com/questions/57988078/how-to-run-dokka-offline-in-android/60154218#60154218", "title": "How to run Dokka offline in Android", "body": "<p>Yes, there are <code>noStdlibLink</code>, <code>noJdkLink</code> and <code>noAndroidSdkLink</code>. If you specify all three, dokka won't connect to the Internet to download <code>package-list</code>s</p>\n"}], "owner": {"reputation": 1, "user_id": 9150117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de41a23419f0f8779f3657a0d1ffd348?s=128&d=identicon&r=PG&f=1", "display_name": "Binay Kumar Rana", "link": "https://stackoverflow.com/users/9150117/binay-kumar-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581351077, "creation_date": 1568794555, "question_id": 57988078, "link": "https://stackoverflow.com/questions/57988078/how-to-run-dokka-offline-in-android", "title": "How to run Dokka offline in Android", "body": "<p>I want to run Dokka offline to generate the documentation as the build running system doesn't need internet access so the document need to be generated offline.</p>\n\n<p>Is it possible? If yes, plz suggest the same.</p>\n\n<p>Thanks\nBinay</p>\n\n<p>As it doesn't seems working offline no information available.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1568789995, "post_id": 57986719, "comment_id": 102381547, "body": "I don&#39;t believe there is a way to do this without using reflection"}, {"owner": {"reputation": 745, "user_id": 6612401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qZzdw.jpg?s=128&g=1", "display_name": "Eugene Mamaev", "link": "https://stackoverflow.com/users/6612401/eugene-mamaev"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1568790260, "post_id": 57986719, "comment_id": 102381670, "body": "I don&#39;t either..."}, {"owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 1, "creation_date": 1568791132, "post_id": 57986719, "comment_id": 102382077, "body": "you can take a look at this <a href=\"https://stackoverflow.com/questions/30425846/how-to-get-parameter-names-via-reflection-in-kotlin\" title=\"how to get parameter names via reflection in kotlin\">stackoverflow.com/questions/30425846/&hellip;</a>"}, {"owner": {"reputation": 745, "user_id": 6612401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qZzdw.jpg?s=128&g=1", "display_name": "Eugene Mamaev", "link": "https://stackoverflow.com/users/6612401/eugene-mamaev"}, "reply_to_user": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 0, "creation_date": 1568791493, "post_id": 57986719, "comment_id": 102382288, "body": "@Daniel thanks, I suppose it&#39;s the closest possibility to use reflection."}], "answers": [{"comments": [{"owner": {"reputation": 5652, "user_id": 467968, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/42e81a0b12d4c3f0f3f93099e181660f?s=128&d=identicon&r=PG", "display_name": "Neil", "link": "https://stackoverflow.com/users/467968/neil"}, "edited": false, "score": 0, "creation_date": 1568790687, "post_id": 57986926, "comment_id": 102381858, "body": "Assuming the intention was to make an exact copy and then change one field with respect to the original, this could work just fine.  The wrapper method would then hide the setter unit logic."}, {"owner": {"reputation": 745, "user_id": 6612401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qZzdw.jpg?s=128&g=1", "display_name": "Eugene Mamaev", "link": "https://stackoverflow.com/users/6612401/eugene-mamaev"}, "edited": false, "score": 0, "creation_date": 1568790723, "post_id": 57986926, "comment_id": 102381879, "body": "Yes, It is what I want to do, but the problem is that the variable which I want to change can be val. Therefore the only chance is to copy the object replacing the variable with the named argument."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1568790839, "post_id": 57986926, "comment_id": 102381930, "body": "You can make the &quot;setter&quot; function return a value of type A, it will just lead to repeating the <code>copy</code> code, which I guess was what you wanted to avoid. Basically, using this answer leads to more code than the initial unrolled version of the OP :&#39;("}, {"owner": {"reputation": 745, "user_id": 6612401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qZzdw.jpg?s=128&g=1", "display_name": "Eugene Mamaev", "link": "https://stackoverflow.com/users/6612401/eugene-mamaev"}, "edited": false, "score": 0, "creation_date": 1568791263, "post_id": 57986926, "comment_id": 102382157, "body": "Yes, it might work, but I&#39;m afraid I want to avoid huge refactoring. If I change the signature of the variable, it may provoke many questions from my colleagues)"}], "tags": [], "owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1568790459, "creation_date": 1568790459, "answer_id": 57986926, "question_id": 57986719, "link": "https://stackoverflow.com/questions/57986719/kotlin-how-to-specify-a-named-arguent-with-a-variable/57986926#57986926", "title": "Kotlin: How to specify a named arguent with a variable?", "body": "<p>If I understand correctly what you are trying to archive I would recommend to pass a setter to the method e.g.</p>\n\n<pre><code>fun &lt;A&gt;  changer (a: A, setter: (a: A) -&gt; Unit ) {\n    // do stuff\n    setter(a)\n}\n\n</code></pre>\n\n<p>Is this what you are looking for?</p>\n"}, {"tags": [], "owner": {"reputation": 1011, "user_id": 9545537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4aee91ba61e53841e3b955806ac6985?s=128&d=identicon&r=PG&f=1", "display_name": "pixix4", "link": "https://stackoverflow.com/users/9545537/pixix4"}, "is_accepted": false, "score": 2, "last_activity_date": 1568812790, "creation_date": 1568812790, "answer_id": 57993768, "question_id": 57986719, "link": "https://stackoverflow.com/questions/57986719/kotlin-how-to-specify-a-named-arguent-with-a-variable/57993768#57993768", "title": "Kotlin: How to specify a named arguent with a variable?", "body": "<p>A possible solution for this problem (with usage of reflection) is:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; copyValues(a: T, values: Map&lt;String, Any?&gt;): T {\n    val function = a::class.functions.first { it.name == \"copy\" }\n    val parameters = function.parameters\n\n    return function.callBy(\n        values.map { (parameterName, value) -&gt;\n            parameters.first { it.name == parameterName } to value\n        }.toMap() + (parameters.first() to a)\n    ) as T\n}\n</code></pre>\n\n<p>This works with all data classes and all classes that have a custom copy function with the same semantics (as long as the parameter names are not erased while compiling). In the first step the function reference of the copy method is searched (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-function/index.html\" rel=\"nofollow noreferrer\"><code>KFunction&lt;*&gt;</code></a>). This object has two importent properties. The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/parameters.html\" rel=\"nofollow noreferrer\"><code>parameters</code></a> property and the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/call-by.html\" rel=\"nofollow noreferrer\"><code>callBy</code></a> function.</p>\n\n<p>With the <code>callBy</code> function you can execute all function references with a map for the parameters. This map must contain a reference to the receiver object.</p>\n\n<p>The <code>parameters</code> propery contains a collection of <code>KProperty</code>. They are needed as keys for the <code>callBy</code> map. The name can be used to find the right <code>KProperty</code>. If a function as a parameter that is not given in the map it uses the default value if available or throws an exception.</p>\n\n<p>Be aware that this solution requires the full reflection library and therefore only works with Kotlin-JVM. It also ignores typechecking for the parameters and can easily lead to runtime exceptions. </p>\n\n<p>You can use it like: </p>\n\n<pre><code>data class Person (\n    val name: String,\n    val age: Int,\n    val foo: Boolean\n)\n\nfun main() {\n    var p = Person(\"Bob\", 18, false)\n\n    println(p)\n    p = copyValues(p, mapOf(\n        \"name\" to \"Max\",\n        \"age\" to 35,\n        \"foo\" to true\n    ))\n    println(p)\n}\n\n// Person(name=Name, age=15, foo=false)\n// Person(name=Max, age=35, foo=true)\n</code></pre>\n"}], "owner": {"reputation": 745, "user_id": 6612401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qZzdw.jpg?s=128&g=1", "display_name": "Eugene Mamaev", "link": "https://stackoverflow.com/users/6612401/eugene-mamaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568812790, "creation_date": 1568789768, "question_id": 57986719, "link": "https://stackoverflow.com/questions/57986719/kotlin-how-to-specify-a-named-arguent-with-a-variable", "title": "Kotlin: How to specify a named arguent with a variable?", "body": "<p>Suppose I have two methods: </p>\n\n<pre><code>    private fun method1(a: A): A {\n        return a.copy(v1 = null)\n    }\n\n    private fun method2(a: A): A {\n        return a.copy(v2 = null)\n    }\n</code></pre>\n\n<p>Can I write something like:</p>\n\n<pre><code>    private fun commonMethod(a: A, variableToChange: String): A {\n        return a.copy($variableToChange = null)\n    }\n</code></pre>\n\n<p>Another words, can I use a variable to refer to a named argument?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1568795334, "post_id": 57986131, "comment_id": 102384258, "body": "You have <code>implementation &#39;io.scanbot:sdk-package-ui:$scanbotSdkVersion&#39;</code> twice"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1568795522, "post_id": 57986131, "comment_id": 102384364, "body": "@coroutineDispatcher, double-check it ))"}], "owner": {"reputation": 453, "user_id": 8631006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9xAqEj0KA7k/AAAAAAAAAAI/AAAAAAAAAM8/CNEzyzR0lIo/photo.jpg?sz=128", "display_name": "Fahry Mohammed", "link": "https://stackoverflow.com/users/8631006/fahry-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1610537521, "creation_date": 1568787203, "last_edit_date": 1610537521, "question_id": 57986131, "link": "https://stackoverflow.com/questions/57986131/how-to-prevent-the-duplicating-classes-error-in-android", "title": "How to prevent the duplicating classes error in Android", "body": "<p>I am using <a href=\"https://github.com/rmtheis/tess-two\" rel=\"nofollow noreferrer\">Tesseract</a> and <a href=\"https://scanbot.io/en/sdk/scanner-sdk/document-scanner.html\" rel=\"nofollow noreferrer\">Scanbot SDK PI</a>. Both contain the same class for OCR reading. Since I am using Tesseract I no need to go for the Scanbot PII package which is offering PI packages + OCR. But unfortunately, their PI also contains the Tesseract modules. I need to exclude those classes from scanbot and I tried similar question's answers but it doesn't help.</p>\n<p>Gradle:</p>\n<pre><code>implementation 'com.rmtheis:tess-two:6.0.0'\nimplementation 'io.scanbot:sdk-package-ui:$scanbotSdkVersion'\nimplementation (&quot;io.scanbot:sdk-package-1:$scanbotSdkVersion&quot;){\n    exclude group: &quot;com.googlecode.leptonica.android&quot;\n}\n</code></pre>\n<p>It gives the following error:</p>\n<pre><code>Duplicate class com.googlecode.leptonica.android.AdaptiveMap found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Binarize found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Box found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Boxa found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Clip found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Constants found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Convert found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Edge found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Enhance found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.GrayQuant found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.JpegIO found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.MorphApp found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Pix found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Pixa found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Pixa$1 found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Pixa$PixIterator found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.leptonica.android.ReadFile found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Rotate found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Scale found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Scale$1 found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Scale$ScaleType found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.leptonica.android.Skew found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.leptonica.android.WriteFile found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class com.googlecode.tesseract.android.PageIterator found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.ResultIterator found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.TessBaseAPI found in modules \nclasses.jar (com.rmtheis:tess-two:6.0.0) and classes.jar (io.scanbot:sdk- \ncore:1.54.0)\nDuplicate class \ncom.googlecode.tesseract.android.TessBaseAPI$PageIteratorLevel found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.TessBaseAPI$PageSegMode \nfound \nin modules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.TessBaseAPI$ProgressNotifier \nfound in modules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.TessBaseAPI$ProgressValues \nfound in modules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\nDuplicate class com.googlecode.tesseract.android.TessPdfRenderer found in \nmodules classes.jar (com.rmtheis:tess-two:6.0.0) and classes.jar \n(io.scanbot:sdk-core:1.54.0)\n</code></pre>\n"}, {"tags": ["kotlin", "timestamp"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1568786448, "post_id": 57985787, "comment_id": 102380103, "body": "<i>&quot;You can clearly see in logs 3,4 &amp; 5 that each one of these variables have a value greater than 0&quot;</i> But what you&#39;re printing is <code>minute</code> and <code>hourOfDay</code>, not <code>startMinute</code> and <code>startHour</code>."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1568786689, "post_id": 57985787, "comment_id": 102380198, "body": "@Michael sorry, in my code I assign to <code>startMinute</code> and <code>startHour</code> the values of <code>hourOfDay</code> and <code>minute</code>. I removed it to simplify my post but forgot to edit that out of this one line. Fixed it now. I also checked the simplified version of course, the values are assigned properly."}, {"owner": {"reputation": 276, "user_id": 2152064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RjUjt.jpg?s=128&g=1", "display_name": "adrianbukros", "link": "https://stackoverflow.com/users/2152064/adrianbukros"}, "edited": false, "score": 1, "creation_date": 1568787136, "post_id": 57985787, "comment_id": 102380359, "body": "But it&#39;s not the original value: 156*86709*22872 &lt; 156*87066*22872. It&#39;s just very similar."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 276, "user_id": 2152064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RjUjt.jpg?s=128&g=1", "display_name": "adrianbukros", "link": "https://stackoverflow.com/users/2152064/adrianbukros"}, "edited": false, "score": 0, "creation_date": 1568787229, "post_id": 57985787, "comment_id": 102380388, "body": "@adrianbukros OMG. I&#39;m such an idiot. A bit dialectic so completely missed it every time i looked at it! Thank you for pointing that out to me I was loosing my mind."}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568786542, "creation_date": 1568785294, "last_edit_date": 1568786542, "question_id": 57985787, "link": "https://stackoverflow.com/questions/57985787/values-dont-add-up-in-simple-calculation", "title": "Values don&#39;t add up in simple calculation", "body": "<p>I am trying to build an event calendar. Every event has a date and then a start time.</p>\n\n<p>The way I am building it is I get the base timestamp for the date once the user picks one, and then as they pick the hour and the minute I add to the timestamp the appropriate amount of milliseconds to change the timestamp.</p>\n\n<p>For some reason I really don't get, all the values come out fine but they just don't add together. There are no errors, the base timestamp value just stays the same.</p>\n\n<p>So, in a previous operation I got the base timestamp which works just fine, and then using this code I want to add the milliseconds.</p>\n\n<pre><code>    startTime.setOnTimeChangedListener { _, hourOfDay, minute -&gt;\n\n        if (baseMillis != null) {\n            startDate =\n                baseMillis!! + (hourOfDay.toLong() * 3600000) + (minute.toLong() * 60000)\n\n            Log.d(\"timeestart\", hourOfDay.toString())\n            Log.d(\"timeestart\", minute.toString())\n            Log.d(\"timeestart\", baseMillis.toString())\n            Log.d(\"timeestart\", (hourOfDay.toLong() * 3600000).toString())\n            Log.d(\"timeestart\", (minute.toLong() * 60000).toString())\n            Log.d(\"timeestart\", (baseMillis!! + (hourOfDay.toLong() * 3600000) + (minute.toLong() * 60000)).toString())\n            Log.d(\"timeestart\", startDate.toString())\n        }\n    }\n</code></pre>\n\n<p>And this is what I get printed:</p>\n\n<pre><code>2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 9\n2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 55\n2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 1568670922872\n2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 32400000\n2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 3300000\n2019-09-17 08:55:37.568 8080-8080/com.republicera D/timeestart: 1568706622872\n</code></pre>\n\n<p>You can clearly see in logs 3,4 &amp; 5 that each one of these variables have a value greater than 0, so why when I try to add them the value remains as the original value?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-tabs"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568783518, "post_id": 57985380, "comment_id": 102379207, "body": "How are you determining specifically that <code>getPageTitle()</code> is not being called? Have you put a breakpoint or log print there? Are you sure you just can&#39;t see the titles? &#39;cause you&#39;ve set the <code>tabTextColor</code> to white, and the background is white, too."}, {"owner": {"reputation": 315, "user_id": 5670397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31aad2a9cbc0949ae6961120c815fed8?s=128&d=identicon&r=PG&f=1", "display_name": "Chandra", "link": "https://stackoverflow.com/users/5670397/chandra"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568784359, "post_id": 57985380, "comment_id": 102379444, "body": "Yes, I tried by putting the break point in getpagetitle() and it did not work.  And also there is no display when I tried with different background."}], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 5670397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31aad2a9cbc0949ae6961120c815fed8?s=128&d=identicon&r=PG&f=1", "display_name": "Chandra", "link": "https://stackoverflow.com/users/5670397/chandra"}, "is_accepted": false, "score": 0, "last_activity_date": 1568848266, "creation_date": 1568848266, "answer_id": 58001785, "question_id": 57985380, "link": "https://stackoverflow.com/questions/57985380/getpagetitle-not-getting-called-by-tablayout-inside-fragment/58001785#58001785", "title": "getPageTitle() not getting called by Tablayout inside fragment", "body": "<p>Resolved by moving the code to the method:</p>\n\n<pre><code>class CamTabs : Fragment() {\n</code></pre>\n\n<p>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {</p>\n\n<pre><code>    view.view_pager.adapter = SectionsPagerAdapter(this.context!!, childFragmentManager)\n     view.tabs.setupWithViewPager(view.view_pager,true)\n\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 315, "user_id": 5670397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31aad2a9cbc0949ae6961120c815fed8?s=128&d=identicon&r=PG&f=1", "display_name": "Chandra", "link": "https://stackoverflow.com/users/5670397/chandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568848266, "creation_date": 1568782955, "last_edit_date": 1568787627, "question_id": 57985380, "link": "https://stackoverflow.com/questions/57985380/getpagetitle-not-getting-called-by-tablayout-inside-fragment", "title": "getPageTitle() not getting called by Tablayout inside fragment", "body": "<p>I just copied the Android studio template Tab layout from activity to the fragment. I am able to display and swipe the fragments, but unfortunately <code>getPageTitle()</code> is not getting called and the titles on tabs remain empty. The code is given below. Could you please review and help me in resolving this issue?</p>\n\n<p>TabLayout Fragment</p>\n\n<pre><code>class CamTabs : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        val view =  inflater.inflate(R.layout.fragment_cam_tabs, container, false)\n       val adapter = SectionsPagerAdapter(this.context!!,this.childFragmentManager!!)\n\n        view.viewPager.adapter = adapter\n        view.tabs.setupWithViewPager(viewPager)\n\n\n        return view\n    }\n\n}\n</code></pre>\n\n<p>Tabs layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    &gt;\n\n    &lt;androidx.viewpager.widget.ViewPager\n        android:id=\"@+id/view_pager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=\"@+id/tabs\"\n            android:layout_width=\"match_parent\"``\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\" /&gt;[![enter image description here][1]][1]\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Page Adapter</p>\n\n<pre><code>class SectionsPagerAdapter(private val context: Context, fm: FragmentManager)\n    : FragmentPagerAdapter(fm) {\n\n    override fun getItem(position: Int): Fragment {\n        // getItem is called to instantiate the fragment for the given page.\n        // Return a PlaceholderFragment (defined as a static inner class below).\n        return PlaceholderFragment.newInstance(position + 1)\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return context.resources.getString(TAB_TITLES[position])\n    }\n\n    override fun getCount(): Int {\n        // Show 2 total pages.\n        return 2\n    }\n}\n</code></pre>\n\n<p>PlaceHolder Fragment</p>\n\n<pre><code>class PlaceholderFragment : Fragment() {\n\n    private lateinit var pageViewModel: PageViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        pageViewModel = ViewModelProviders.of(this).get(PageViewModel::class.java).apply {\n            setIndex(arguments?.getInt(ARG_SECTION_NUMBER) ?: 1)\n        }\n    }\n\n    override fun onCreateView(\n            inflater: LayoutInflater, container: ViewGroup?,\n            savedInstanceState: Bundle?\n    ): View? {\n        val root = inflater.inflate(R.layout.fragment_main, container, false)\n        val textView: TextView = root.findViewById(R.id.section_label)\n        pageViewModel.text.observe(this, Observer&lt;String&gt; {\n            textView.text = it\n        })\n        return root\n    }\n\n    companion object {\n        /**\n         * The fragment argument representing the section number for this\n         * fragment.\n         */\n        private const val ARG_SECTION_NUMBER = \"section_number\"\n\n        /**\n         * Returns a new instance of this fragment for the given section\n         * number.\n         */\n        @JvmStatic\n        fun newInstance(sectionNumber: Int): PlaceholderFragment {\n            return PlaceholderFragment().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_SECTION_NUMBER, sectionNumber)\n                }\n            }`enter code here`\n        }\n    }\n}\n</code></pre>\n\n<p>The fragment image is displayed here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/aK94f.jpg\" alt=\"1st image\"><img src=\"https://i.stack.imgur.com/wsQIc.jpg\" alt=\"2nd image\"></p>\n"}, {"tags": ["android", "kotlin", "dialog"], "comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568783320, "post_id": 57985363, "comment_id": 102379160, "body": "Did you try <code>dialog.getWindow().setLayout(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);</code> before the show method?"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568804885, "post_id": 57985363, "comment_id": 102389713, "body": "Yes, I&#39;ve tried it with no success."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 1, "creation_date": 1568805002, "post_id": 57985363, "comment_id": 102389770, "body": "<code>Dialog dialog=new Dialog(this,android.R.style.Theme_Black_NoTitleBar_Fullscree&zwnj;&#8203;n);</code> try passing the theme in the constructor"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568805410, "post_id": 57985363, "comment_id": 102390009, "body": "Wow! It works as a charm."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568805494, "post_id": 57985363, "comment_id": 102390056, "body": "I&#39;ve posted as answer as well"}], "answers": [{"tags": [], "owner": {"reputation": 713, "user_id": 10214713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rStee.jpg?s=128&g=1", "display_name": "Alireza Bideli", "link": "https://stackoverflow.com/users/10214713/alireza-bideli"}, "is_accepted": false, "score": 1, "last_activity_date": 1568784157, "creation_date": 1568784157, "answer_id": 57985580, "question_id": 57985363, "link": "https://stackoverflow.com/questions/57985363/how-programmatically-make-a-custom-dialog-be-100-of-screen-height/57985580#57985580", "title": "How programmatically make a custom dialog be 100% of screen height?", "body": "<p>Initialize and show your dialog as below in onStart </p>\n\n<pre><code>override fun onStart() {\n        super.onStart()\n        val dial = Dialog(this);\n\n        var width = ViewGroup.LayoutParams.MATCH_PARENT;\n        var height = ViewGroup.LayoutParams.MATCH_PARENT;\n        dial.getWindow().setLayout(width, height);\n         dial.show()\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1568804432, "post_id": 57987438, "comment_id": 102389470, "body": "It makes  the dialog still smaller."}, {"owner": {"reputation": 237, "user_id": 4829777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fd00o_9XSa8/AAAAAAAAAAI/AAAAAAAAACs/vnG7c9l-_8s/photo.jpg?sz=128", "display_name": "Azay Gupta", "link": "https://stackoverflow.com/users/4829777/azay-gupta"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1568804883, "post_id": 57987438, "comment_id": 102389710, "body": "put in root layout&#39;s width and height match_parent and also apply requestFeature(Window.FEATURE_NO_TITLE);  setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1568806832, "post_id": 57987438, "comment_id": 102390830, "body": "The Rahul Khurana solution kills the problem."}], "tags": [], "owner": {"reputation": 237, "user_id": 4829777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fd00o_9XSa8/AAAAAAAAAAI/AAAAAAAAACs/vnG7c9l-_8s/photo.jpg?sz=128", "display_name": "Azay Gupta", "link": "https://stackoverflow.com/users/4829777/azay-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1568805182, "last_edit_date": 1568805182, "creation_date": 1568792257, "answer_id": 57987438, "question_id": 57985363, "link": "https://stackoverflow.com/questions/57985363/how-programmatically-make-a-custom-dialog-be-100-of-screen-height/57987438#57987438", "title": "How programmatically make a custom dialog be 100% of screen height?", "body": "<pre><code>    dialog?.window?.apply {\nrequestFeature(Window.FEATURE_NO_TITLE);  setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n                setLayout(ViewGroup.LayoutParams.MATCH_PARENT, \n                ViewGroup.LayoutParams.MATCH_PARENT)\n            }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1568804845, "post_id": 57990370, "comment_id": 102389689, "body": "<code>setView</code>  is not a method valid for a dialog. It&#39;s <code>setContentView</code>. I&#39;ve tried <code>setMinimumHeight</code> before <code>setContentView</code>, but it doesn&#39;t work."}], "tags": [], "owner": {"reputation": 116, "user_id": 9838889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3LYSY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/9838889/ashish"}, "is_accepted": false, "score": 0, "last_activity_date": 1568801666, "creation_date": 1568801666, "answer_id": 57990370, "question_id": 57985363, "link": "https://stackoverflow.com/questions/57985363/how-programmatically-make-a-custom-dialog-be-100-of-screen-height/57990370#57990370", "title": "How programmatically make a custom dialog be 100% of screen height?", "body": "<p>Use this snippet of code, it will work.</p>\n\n<pre><code>Activity activity = ...;\nAlertDialog dialog = ...;\n// retrieve display dimension\nRect displayRectangle = new Rect();\nWindow window = activity.getWindow();\nwindow.getDecorView().getWindowVisibleDisplayFrame(displayRectangle);\n\n// inflate layout\nLayoutInflater inflater =    (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\nView layout = inflater.inflate(R.layout.your_layout, null);\nlayout.setMinimumWidth((int)(displayRectangle.width() * 0.95f));\nlayout.setMinimumHeight((int)(displayRectangle.height() * 0.95f));\n\ndialog.setView(layout);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1568806250, "post_id": 57991541, "comment_id": 102390512, "body": "It&#39;s amazing as a so obscure  feature solves  the problem."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1568806378, "post_id": 57991541, "comment_id": 102390596, "body": "And the theme <code>Theme_DeviceDefault_Dialog_NoActionBar</code> solves my shade problem cited in the question."}], "tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": true, "score": 1, "last_activity_date": 1568816356, "last_edit_date": 1568816356, "creation_date": 1568805461, "answer_id": 57991541, "question_id": 57985363, "link": "https://stackoverflow.com/questions/57985363/how-programmatically-make-a-custom-dialog-be-100-of-screen-height/57991541#57991541", "title": "How programmatically make a custom dialog be 100% of screen height?", "body": "<p>Change the constructor like this:</p>\n\n<pre><code>val dialog=Dialog(this,android.R.style.Theme_Black_NoTitleBar_Fullscreen);\n</code></pre>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 57991541, "answer_count": 4, "score": 0, "last_activity_date": 1569160308, "creation_date": 1568782814, "last_edit_date": 1569160308, "question_id": 57985363, "link": "https://stackoverflow.com/questions/57985363/how-programmatically-make-a-custom-dialog-be-100-of-screen-height", "title": "How programmatically make a custom dialog be 100% of screen height?", "body": "<p>I have a relative layout that occupies 100% of the screen. I call many custom dialogs and always works well. I get positioning and correct height and width with no problems. </p>\n\n<p>However, now I need a dialog that is 100% of screen height and 100% of screen width. I get 100% width but I don't get 100% height. The maximum is around 95 of height.</p>\n\n<p>I've reduced my code to a minimum for better clarity:</p>\n\n<pre><code>  var lay = RelativeLayout(this)\n  var dial = Dialog(cx)   \n  val win = dial.window\n  val wlp = win.attributes\n  win.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n  wlp.apply {\n    gravity = Gravity.TOP or Gravity.LEFT\n    x = 0\n    y = 0\n  }\n  win.attributes = wlp\n\n // Here are my widgets linked to lay with lay.addView(widget).       \n\n  dial.setContentView(   // Connection between layout and dialog\n    lay, ViewGroup.LayoutParams(\n     screen_width,       // variable with screen width in pixels\n     screen_height ))      // variable with screen heigth in pixels\n</code></pre>\n\n<p>I've read many questions in <em>Stackoverflow</em>. What I have tried:</p>\n\n<p><strong>a)</strong> I've used MATCH_PARENT as height.    </p>\n\n<p><strong>b)</strong> I've tried some windows flags:    </p>\n\n<pre><code> win.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)   \n win.addFlags(WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN)   \n</code></pre>\n\n<p><strong>c)</strong> I've tried windows attribute property:    </p>\n\n<pre><code> wlp.verticalMargin = 0F \n</code></pre>\n\n<p>No success.     </p>\n\n<p><strong>PS:</strong> I also have a strange shade border at right and bottom side of dialog that I cannot get rid of it.</p>\n\n<p><strong>Update:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/users/4079010/rahul-khurana\">Rahul Khurana</a> solution has killed the problem. </p>\n\n<p>It just use </p>\n\n<pre><code>val dial = Dialog(cx,android.R.style.Theme_Black_NoTitleBar_Fullscreen)   \n</code></pre>\n\n<p>It also eliminates the shade in other no fullscreen dialogs</p>\n\n<pre><code>  val dial = Dialog(cx,\n    android.R.style.Theme_DeviceDefault_Dialog_NoActionBar)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 3, "creation_date": 1568782180, "post_id": 57985251, "comment_id": 102378861, "body": "<code>val urls = allBooks.map { it.buildBookUrl() }</code>"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568784068, "post_id": 57985251, "comment_id": 102379372, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html#functions\" rel=\"nofollow noreferrer\">There are a lot of functions in <code>kotlin.collections</code></a>."}, {"owner": {"reputation": 558, "user_id": 9504329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxKgg.png?s=128&g=1", "display_name": "Mr.Drew", "link": "https://stackoverflow.com/users/9504329/mr-drew"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568793542, "post_id": 57985251, "comment_id": 102383350, "body": "@Slaw, I don&#39;t want to map it, I finally found the right function though. Thanks for the link. <code>allBooks.forEach { it.buildBookUrl() }</code>"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 2, "creation_date": 1568794300, "post_id": 57985251, "comment_id": 102383737, "body": "My initial thought was <code>forEach</code>, but your wording made it sound like you wanted the result. Since <code>buildBookUrl()</code> doesn&#39;t do anything except return the result (i.e. doesn&#39;t set any state) I figured <code>map</code> may be more appropriate as you then have a <code>List&lt;String&gt;</code> holding each URL. The problem with <code>forEach</code> is it doesn&#39;t return anything (so you&#39;d have to use the URL inside the <code>forEach</code>). Note you could also map each URL to its book using <code>associateBy</code> or vice versa with <code>associateWith</code> (both give you a <code>Map&lt;K,V&gt;</code>). Regardless, glad you found a solution."}, {"owner": {"reputation": 558, "user_id": 9504329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxKgg.png?s=128&g=1", "display_name": "Mr.Drew", "link": "https://stackoverflow.com/users/9504329/mr-drew"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1569223374, "post_id": 57985251, "comment_id": 102512118, "body": "Yea I wasn&#39;t trying to hold it in memory cause I already had a list of objects in memory. Just trying to figure out different ways to access object methods in a collection of objects. I can see why you would suggest <code>.map</code> now as the method <code>buildBookUrl()</code> returns a string, but this was mostly just a scope exercise for me."}], "owner": {"reputation": 558, "user_id": 9504329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxKgg.png?s=128&g=1", "display_name": "Mr.Drew", "link": "https://stackoverflow.com/users/9504329/mr-drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568782183, "creation_date": 1568782069, "last_edit_date": 1568782183, "question_id": 57985251, "link": "https://stackoverflow.com/questions/57985251/how-to-access-an-objects-method-for-each-object-in-a-set", "title": "How to access an object&#39;s method for each object in a set?", "body": "<p>I'm new to Kotlin and I'm trying to figure out how to access each object's method of objects stored in a collection. For example:</p>\n\n<pre><code>open class Book(val title: String, val author: String) {\n    companion object BookConstants {\n        const val BASE_URL = \"https://kbooks.co/\"\n    }\n    open fun buildBookUrl(): String {\n        return \"$BASE_URL$title.html\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val allBooks = setOf&lt;Book&gt;(Book(\"Book Title 1\", \"Author 1\"),\n        Book(\"Book Title 2\", \"Author 2\"),\n        Book(\"Book Title 3\", \"Author 3\"))\n\n    //CODE HERE to access each book in `allBooks` set and call `buildBookUrl()` on it to get each custom url string\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit2", "okhttp"], "comments": [{"owner": {"reputation": 301, "user_id": 6947875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e735e06a18ae079ad608c5e904fdfef9?s=128&d=identicon&r=PG&f=1", "display_name": "jfawkes", "link": "https://stackoverflow.com/users/6947875/jfawkes"}, "edited": false, "score": 1, "creation_date": 1568773035, "post_id": 57983865, "comment_id": 102377075, "body": "<a href=\"https://github.com/square/okhttp/issues/1240\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/1240</a> , in short you can only call  <code>string()</code> once, and you already do it on the interceptor."}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 1, "creation_date": 1568780291, "post_id": 57983865, "comment_id": 102378411, "body": "Also, consider using <a href=\"https://github.com/square/okhttp/tree/master/okhttp-logging-interceptor\" rel=\"nofollow noreferrer\"><code>httplogginginterceptor</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "is_accepted": true, "score": 2, "last_activity_date": 1568771537, "creation_date": 1568771537, "answer_id": 57983984, "question_id": 57983865, "link": "https://stackoverflow.com/questions/57983865/retrofit-2-and-kotlin-not-deserializing-issue-illegelargumentexception-closed/57983984#57983984", "title": "Retrofit 2 and kotlin: Not deserializing issue: IllegelArgumentException: closed", "body": "<p>I don't know if this help, but try to read <a href=\"https://github.com/square/okhttp/issues/1240\" rel=\"nofollow noreferrer\">this thread</a> &amp; try to remove your log <code>Log.w(\"Retrofit@Response\", response.body()!!.string())</code> or replace with the hint in <a href=\"https://github.com/square/okhttp/issues/1240#issuecomment-371712118\" rel=\"nofollow noreferrer\">that thread</a></p>\n\n<pre><code>// Don't try to use response.body.string() directly. Just using like below:\nResponseBody responseBody = response.body();\nString content = responseBody.string();\n// Do something with \"content\" variable\n</code></pre>\n\n<p>Reason:\nThe the string of body is stored in memory to variable content, so we don't need to care of whether the state is closed.</p>\n"}], "owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 57983984, "answer_count": 1, "score": 1, "last_activity_date": 1568780703, "creation_date": 1568770406, "last_edit_date": 1568780703, "question_id": 57983865, "link": "https://stackoverflow.com/questions/57983865/retrofit-2-and-kotlin-not-deserializing-issue-illegelargumentexception-closed", "title": "Retrofit 2 and kotlin: Not deserializing issue: IllegelArgumentException: closed", "body": "<p>Hi I am new to retrofit and I am using</p>\n\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.6.1'\n// JSON Parsing\nimplementation 'com.google.code.gson:gson:2.8.5'\nimplementation 'com.squareup.retrofit2:converter-gson:2.1.0'\n</code></pre>\n\n<p>I am making an API call to login. The call is success(I can see the 200 response in the interceptor I added), but still I am getting onFailure callback in retrofit with <code>java.lang.IllegalStateException: closed</code> as throwable. I added some breakpoints inside Retrofit class and it seems like it is arising while parsing my response. I am also using Kotlin</p>\n\n<p>here is my data class:</p>\n\n<pre><code>data class LoginResponse(\n    @SerializedName(\"payload\") @Expose val payload: Payload,\n    @SerializedName(\"status\") @Expose val status: Int\n)\ndata class Payload(\n    @SerializedName(\"access_token\") @Expose val access_token: String?,\n    @SerializedName(\"expires_at\") @Expose val expires_at: String?,\n    @SerializedName(\"name\") @Expose val name: String?,\n    @SerializedName(\"org_name\") @Expose val org_name: String?,\n    @SerializedName(\"request_at\") @Expose val request_at: String,\n    @SerializedName(\"status_message\") @Expose val status_message: String\n)\n</code></pre>\n\n<p>Here is how I am creating my retrofit instance:</p>\n\n<pre><code>private val okHttpClient = OkHttpClient.Builder().addInterceptor(Interceptor {\n    Log.w(\"Retrofit@Request\", it.request().toString())\n    val requestBuilder = it.request().newBuilder()\n    requestBuilder.header(\"Content-Type\", \"application/json\")\n    val response = it.proceed(it.request())\n    Log.w(\"Retrofit@Response\", response.body()!!.string())  //correct 200 response with json is printed out here\n    return@Interceptor response\n}).build()\n\nval retrofitInstance: Retrofit\n    get() {\n        if (retrofit == null) {\n            retrofit = Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .client(okHttpClient)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n        return retrofit!!\n    }\n</code></pre>\n\n<p>Here is how I am making the call:</p>\n\n<pre><code>loginService.login(logindata).enqueue(object : Callback&lt;LoginResponse&gt; {\n                override fun onFailure(call: Call&lt;LoginResponse&gt;, t: Throwable) {\n                    Log.d(TAG, \"Login failure \"+t) //this is getting invoked with java.lang.IllegalStateException: closed\n                }\n\n                override fun onResponse(\n                    call: Call&lt;LoginResponse&gt;,\n                    response: Response&lt;LoginResponse&gt;\n                ) {\n                    onLoginState.value = true\n                }\n            })\n</code></pre>\n\n<p>I spend a lot of time trying to figure out what is happening, could not find what I am doing wrong here. I also tried replacing GSON with Moshi which gave me the same error. Please help me figure out the issue here.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "m2e-wtp"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1568769489, "post_id": 57983711, "comment_id": 102376443, "body": "Best of luck. Getting away from this problem is one of the primary benefits of modern launchers like Spring Boot and Micronaut."}], "answers": [{"comments": [{"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "edited": false, "score": 0, "creation_date": 1569904168, "post_id": 58093610, "comment_id": 102736464, "body": "These steps don&#39;t work (I get ClassNotFoundException). So I decided to award the bounty but keep the question open."}], "tags": [], "owner": {"reputation": 741, "user_id": 11486142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RQbiS.jpg?s=128&g=1", "display_name": "Ravi Mengar", "link": "https://stackoverflow.com/users/11486142/ravi-mengar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569397632, "creation_date": 1569397632, "answer_id": 58093610, "question_id": 57983711, "link": "https://stackoverflow.com/questions/57983711/what-are-the-pre-requisites-for-using-enable-workspace-resolution-in-a-kotlin/58093610#58093610", "title": "What are the pre-requisites for using &quot;Enable Workspace Resolution&quot; in a Kotlin/Tomcat/Eclipse/Maven project?", "body": "<p>Go through following steps,</p>\n\n<ul>\n<li><p>Enable Workspace Resolution for your project.</p></li>\n<li><p>Right-click the project, then Maven > Enable Workspace Resolution.</p></li>\n</ul>\n\n<p>Finally, if your project no longer resolved, </p>\n\n<ul>\n<li>Right-click the project, then Maven > Update Project</li>\n</ul>\n\n<p>This should resolve your problem. If after this, your dependencies are still referenced from the file system, test the <strong>groupId</strong>, <strong>artifactId</strong> and particularly model of each dependency again.</p>\n\n<p>And check if you don't have any errors in your project </p>\n\n<ul>\n<li>try to run Maven install.</li>\n</ul>\n"}], "owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 2, "closed_date": 1569997109, "answer_count": 1, "score": 2, "last_activity_date": 1569997134, "creation_date": 1568768635, "last_edit_date": 1569997134, "question_id": 57983711, "link": "https://stackoverflow.com/questions/57983711/what-are-the-pre-requisites-for-using-enable-workspace-resolution-in-a-kotlin", "closed_reason": "Duplicate", "title": "What are the pre-requisites for using &quot;Enable Workspace Resolution&quot; in a Kotlin/Tomcat/Eclipse/Maven project?", "body": "<p><em>UPDATE</em></p>\n\n<p>I edited the question after doing additional troubleshooting and realizing that the issue is specific to Kotlin and not a general problem with Eclipse.</p>\n\n<p><em>ORIGINAL QUESTION</em></p>\n\n<p>In an <a href=\"https://stackoverflow.com/questions/57968100/eclipse-maven-tomcat-context-initialization-failed-and-noclassdeferror-with-ko/57977553#57977553\">earlier question</a>, I found that I need to set the <em>Disable Workspace Resolution</em> setting in order to successfully deploy applications to Tomcat within Eclipse, when the application has references to co-developed dependencies (i.e. dependencies which I am also primarily developing along with the main application). The <em>Disable Workspace Resolution</em> setting has many inconveniences, not the least of which is a need to run <code>mvn install</code> any time the code in a dependency project is modified.</p>\n\n<p>My question now is: </p>\n\n<p><strong>What do I need to configure, either in Eclipse, Maven, or Tomcat, in order to start using <em>Enable Workspace Resolution</em> successfully <em>with Kotlin</em>?</strong></p>\n\n<p>I have reviewed essentially all of the SO questions on the topic, unfortunately none of them specifically address Eclipse with Kotlin:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/20750774/eclipse-maven-enabled-web-app-references-workspace-projects-but-those-are-not-d\">Eclipse maven-enabled web app references workspace projects, but those are not deployed when running Tomcat server</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5571442/how-to-get-maven-plugin-to-use-eclipse-workspace-resolution\">How to get Maven plugin to use Eclipse workspace resolution?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2918037/maven-workspace-resolution-horked\">Maven workspace resolution horked</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45992264/maven-assembly-plugin-and-eclipse-workspace-resolution\">maven-assembly-plugin and eclipse Workspace resolution</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50105371/how-make-eclipse-uses-maven-projects-even-if-workspace-resolution-is-not-working\">How make Eclipse uses maven projects even if Workspace resolution is not working?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10535799/maven-eclipse-workspace-resolution\">maven eclipse workspace resolution</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4683051/maven-workspace-resolution-missing-jars-for-local-tomcat-testing\">Maven workspace resolution missing jars for local Tomcat testing</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8852989/maven-project-and-eclipse-workspace\">Maven project and Eclipse workspace</a></li>\n<li><a href=\"https://stackoverflow.com/questions/15035751/m2e-eclipse-maven-workspace-resolution-and-cdi\">M2E Eclipse Maven Workspace resolution and CDI</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34822530/eclipse-maven-workspace-resolution-not-seeing-generated-classes\">Eclipse Maven Workspace Resolution not seeing Generated Classes</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6870217/using-tomcat-within-eclipse-for-a-maven-project\">Using Tomcat within Eclipse for a Maven project</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45845467/deploy-maven-project-using-eclipse-and-tomcat\">Deploy Maven Project using Eclipse and Tomcat</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21222978/maven-eclipse-tomcat-class-not-found-exception\">maven + eclipse + tomcat : class not found exception</a></li>\n<li><a href=\"https://stackoverflow.com/questions/921380/how-to-run-a-maven-project-in-tomcat-from-eclipse\">How to run a Maven Project In Tomcat From Eclipse</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9053793/deployment-to-tomcat-from-eclipse-via-m2eclipse-and-maven\">Deployment to tomcat from eclipse via M2eclipse and Maven</a></li>\n</ul>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1568974778, "post_id": 57983665, "comment_id": 102455198, "body": "Hi! I&#39;m sorry but I don&#39;t understand what the question you ask means. Can you please elaborate a bit? Thanks!"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1568984007, "post_id": 57983665, "comment_id": 102459888, "body": "Thanks! I mean that I have to remember these class name such as <code>CameraFragmentDirections</code>, <code>GalleryFragmentArgs</code> in order to use navigation framework. You know that class name  <code>CameraFragmentDirections</code> is based &#39;CameraFragment&#39; and plus &#39;Directions&#39;, I have to remember these rules without any prompt information by Android Studio."}], "answers": [{"tags": [], "owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "is_accepted": true, "score": 4, "last_activity_date": 1568997070, "last_edit_date": 1568997070, "creation_date": 1568994655, "answer_id": 58031633, "question_id": 57983665, "link": "https://stackoverflow.com/questions/57983665/how-can-i-know-the-retained-class-name-or-keyword-when-i-use-navigation-framewor/58031633#58031633", "title": "How can I know the retained class name or keyword when I use navigation framework in Android Studio?", "body": "<p>No you do not need to remember these things by yourself, if you know of a trick.</p>\n\n<p>For example, if you don't remember the \"keyword\" <code>Directions</code>, but you know you want to do something related to <code>CameraFragment</code>, you can start typing e.g. <code>CameraFragm</code> in Android Studio. It will then suggest <code>CameraFragment</code> and <code>CameraFragmentDirections</code> for you. That way you can find <code>CameraFragmentDirections</code> easily even though you did not remember the keyword <code>Directions</code>.</p>\n\n<p>There are not that many keywords to worry about though. After working with the Navigation framework for a while, you will remember them all.</p>\n\n<p>If you are curious, you can find the generated classes here after a build:</p>\n\n<pre><code>./app/build/generated/source/navigation-args/...\n</code></pre>\n\n<p>e.g. after a debug build:</p>\n\n<pre><code>./app/build/generated/source/navigation-args/debug/com/android/example/cameraxbasic/fragments/CameraFragmentDirections.java\n</code></pre>\n\n<p>If you are even more curious, the code that generates these classes is here:\n<a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-master-dev/navigation/navigation-safe-args-generator/src/main/kotlin/androidx/navigation/safe/args/generator/java/JavaNavWriter.kt\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-master-dev/navigation/navigation-safe-args-generator/src/main/kotlin/androidx/navigation/safe/args/generator/java/JavaNavWriter.kt</a></p>\n\n<p>There you can for example find this code:</p>\n\n<pre><code>internal fun Destination.toClassName(): ClassName {\n    val destName = name ?: throw IllegalStateException(\"Destination with actions must have name\")\n    return ClassName.get(destName.packageName(), \"${destName.simpleName()}Directions\")\n}\n</code></pre>\n\n<p>which is the code that decides what name <code>CameraFragmentDirections</code> gets. (Note <code>\"${destName.simpleName()}Directions\"</code> at the end.)</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 1, "accepted_answer_id": 58031633, "answer_count": 1, "score": 4, "last_activity_date": 1602160700, "creation_date": 1568768104, "question_id": 57983665, "link": "https://stackoverflow.com/questions/57983665/how-can-i-know-the-retained-class-name-or-keyword-when-i-use-navigation-framewor", "title": "How can I know the retained class name or keyword when I use navigation framework in Android Studio?", "body": "<p>The following code is from the project at <a href=\"https://github.com/mycwcgr/camera/tree/master/CameraXBasic\" rel=\"nofollow noreferrer\">https://github.com/mycwcgr/camera/tree/master/CameraXBasic</a></p>\n\n<p>The project use the latest navigation framework, I find there are some retained class name such as <em>CameraFragmentDirections</em>, <em>GalleryFragmentArgs</em>.</p>\n\n<p>The system have no prompt information for these class name, must I remember these keywords by myself?</p>\n\n<p><strong>Code</strong> </p>\n\n<pre><code> /** Method used to re-draw the camera UI controls, called every time configuration changes */\n    @SuppressLint(\"RestrictedApi\")\n    private fun updateCameraUi() {\n\n        // Listener for button used to view last photo\n        controls.findViewById&lt;ImageButton&gt;(R.id.photo_view_button).setOnClickListener {\n            Navigation.findNavController(requireActivity(), R.id.fragment_container).navigate(\n                    CameraFragmentDirections.actionCameraToGallery(outputDirectory.absolutePath))\n        }\n    }\n\n\n   /** Fragment used to present the user with a gallery of photos taken */\n   class GalleryFragment internal constructor() : Fragment() {\n\n       /** AndroidX navigation arguments */\n       private val args: GalleryFragmentArgs by navArgs()\n\n   }\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "data-binding"], "comments": [{"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1568781501, "post_id": 57983508, "comment_id": 102378721, "body": "just try another one, comment this line -&gt; notifyPropertyChanged(BR.title) after that Build -&gt; Clean Project, Rebuild Project and after try to uncomment that line"}, {"owner": {"reputation": 13826, "user_id": 92371, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/79b6a457022b4f21fb8b5e65a4bd5327?s=128&d=identicon&r=PG", "display_name": "RandomEngy", "link": "https://stackoverflow.com/users/92371/randomengy"}, "reply_to_user": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1568987286, "post_id": 57983508, "comment_id": 102461694, "body": "@ShwetaChauhan That did not work either."}, {"owner": {"reputation": 1295, "user_id": 843860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3e7e7a8527c81344c552d903e69e2f?s=128&d=identicon&r=PG", "display_name": "CHAN", "link": "https://stackoverflow.com/users/843860/chan"}, "edited": false, "score": 0, "creation_date": 1578460190, "post_id": 57983508, "comment_id": 105441260, "body": "same situation. my problem is that the BR.foo is located in another module, which is indeed not found (unresolved) in my current.package.BR, but the app compiles and runs just fine, the BR is probably being merged anyway at the end. i am simply looking for a way to ignore them so that i won&#39;t see red lines in everywhere. sure i could also do things like <code>another.package.BR.foo</code> or <code>import another.pacakge.BR as BR2</code> then <code>BR2.foo</code>, but it just don&#39;t seem right."}], "answers": [{"tags": [], "owner": {"reputation": 4395, "user_id": 1169863, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/05663d4e7f36f900ecd98ed1cbe76553?s=128&d=identicon&r=PG", "display_name": "syazdani", "link": "https://stackoverflow.com/users/1169863/syazdani"}, "is_accepted": true, "score": 5, "last_activity_date": 1578462769, "creation_date": 1578462769, "answer_id": 59640114, "question_id": 57983508, "link": "https://stackoverflow.com/questions/57983508/android-studio-kotlin-databinding-unresolved-reference-on-br/59640114#59640114", "title": "Android Studio Kotlin databinding: Unresolved reference on BR", "body": "<p>What fixed the problem for me was adding the following import to my files:</p>\n\n<pre><code>import androidx.databinding.library.baseAdapters.BR\n</code></pre>\n\n<p>I'm not entirely certain why this works, but it got rid of all the analysis problems and the application still compiles and works fine, so I'm personally happy.</p>\n"}], "owner": {"reputation": 13826, "user_id": 92371, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/79b6a457022b4f21fb8b5e65a4bd5327?s=128&d=identicon&r=PG", "display_name": "RandomEngy", "link": "https://stackoverflow.com/users/92371/randomengy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 1, "accepted_answer_id": 59640114, "answer_count": 1, "score": 2, "last_activity_date": 1578462769, "creation_date": 1568766528, "question_id": 57983508, "link": "https://stackoverflow.com/questions/57983508/android-studio-kotlin-databinding-unresolved-reference-on-br", "title": "Android Studio Kotlin databinding: Unresolved reference on BR", "body": "<p>I have some code that is generating a \"red squiggly\" error in Android Studio:</p>\n\n<pre><code>@get:Bindable\nvar title: String = \"\"\n    set(value) {\n        field = value\n        notifyPropertyChanged(BR.title)\n    }\n</code></pre>\n\n<p>It complains that \"title\" is an unresolved reference on <code>BR.title</code>. Building and running works fine though, and this is the only error I can see. I debug there and see that it's gotten the value for <code>BR.title</code> correctly.</p>\n\n<p>Still, I can't figure out how to make it go away. I verified that the generated BR class has the \"title\" field, but Android Studio refuses to recognize this. I've looked up people having this issue and have tried the following: (unsuccessfully)</p>\n\n<ul>\n<li>Closing Android Studio, deleting the .gradle, .idea and build folders and restarting</li>\n<li>Build -> Clean Project, Rebuild Project</li>\n<li>File -> Invalidate Caches and restart</li>\n<li>Disabling and enabling the Kotlin plugin</li>\n<li>Closing and reopening the project</li>\n</ul>\n\n<p>I have also checked and I have <code>apply plugin: 'kotlin-kapt'</code> in build.gradle.</p>\n\n<p>Anyone know what's going on? I assume it must be holding onto some cache files somewhere but I don't know where.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1775, "user_id": 792632, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ef3ed0c4374cf7e12992fbf0b7dac7c?s=128&d=identicon&r=PG", "display_name": "dominik", "link": "https://stackoverflow.com/users/792632/dominik"}, "edited": false, "score": 0, "creation_date": 1568914085, "post_id": 57983451, "comment_id": 102436079, "body": "What you presented is an expected behavior that is also obvious to me. I&#39;ll stick with @Marko Topolnik answer and assume that the documentation is outdated and this silent exception dropping behavior is not possible in current coroutines implementation."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1568765902, "creation_date": 1568765902, "answer_id": 57983451, "question_id": 57983244, "link": "https://stackoverflow.com/questions/57983244/android-kotlin-coroutine-await-might-silently-drop-exceptions/57983451#57983451", "title": "Android kotlin coroutine: await might silently drop exceptions", "body": "<p>Exceptions from <code>launch</code> are thrown \"instantly\" into exception handler, while those from <code>async</code> will be thrown the moment you call <code>await</code>.</p>\n\n<p>Sample code:</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nfun main(args: Array&lt;String&gt;) = runBlocking{\n    println(\"main start\")\n    val l = GlobalScope.launch{ justThrow(\"launch\") }\n    val a = GlobalScope.async { justThrow(\"async\") }\n    delay(500)\n    // a.await()\n    println(\"main finished\")\n}\n\nsuspend fun justThrow(who : String){\n    println(\"starting $who\")\n    delay(100)\n    throw Exception(\"Test exception from $who\")\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>main start\nstarting launch\nstarting async\nException in thread \"DefaultDispatcher-worker-2 @coroutine#2\" java.lang.Exception: Test exception from launch\n    at FileKt.justThrow(File.kt:15)\n    (... entire stack here )\nmain finished\n</code></pre>\n\n<p>You can see <code>launch</code> throwing exception in worker thread but there's nothing from <code>async</code>, even though it executed the same function that must fail.</p>\n\n<p>For next run modify the code by removing the <code>launch</code> for clarity and uncommenting <code>a.await()</code>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking{\n    println(\"main start\")\n    val a = GlobalScope.async { justThrow(\"async\") }\n    delay(500)\n    a.await()\n    println(\"main finished\")\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>main start\nstarting async\nException in thread \"main\" java.lang.Exception: Test exception from async\n at FileKt.justThrow (File.kt:15)\n (... entire stack here )\n</code></pre>\n\n<p>Exception is held instead of crashing in worker thread and is instead re-thrown the moment <code>await()</code> is called which causes the app to crash. You can notice it happened on <code>main</code> thread and there was no \"main finished\" print because of that.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1568800938, "creation_date": 1568800938, "answer_id": 57990107, "question_id": 57983244, "link": "https://stackoverflow.com/questions/57983244/android-kotlin-coroutine-await-might-silently-drop-exceptions/57990107#57990107", "title": "Android kotlin coroutine: await might silently drop exceptions", "body": "<p>The passage you quote from Kotlin documentation is outdated. It used to be true in the experimental phase, and you really could get swallow exceptions if you weren't very pedantic.</p>\n\n<p>The release version of coroutines acquired an additional key component: <em>structured concurrency</em>. When following the simple guidelines not to use <code>GlobalScope</code> and similar, your code will automatically be organized such that each coroutine has a parent and there's a well-defined scope within which all coroutines must complete either normally or abruptly, and the owner of that scope can await its completion, getting the exception that caused the abnormal completion.</p>\n\n<p>Within this new discipline, <code>launch</code> and <code>async</code> are on the same footing. If an exception thrown inside one of them escapes its top-level block, it goes on to cancel the coroutine, notify the parent of this, and then the parent may opt to cancel all the other children so that the whole scope ends prematurely.</p>\n\n<p>Note that getting an exception from the <code>await</code> call is an entirely different mechanism. The thing you <code>await</code> on is not the <code>async</code> block itself, but a standalone object of type <code>Deferred</code>, which is identical to Java's <code>Future</code> except that <code>await</code> suspends instead of blocks. The <code>async</code> block, upon completion, always does the same: it completes the <code>Deferred</code> with either the return value or the exception. You may retrieve that result from anywhere you pass the <code>Deferred</code>, it's completely decoupled from the destiny of the <code>async</code> coroutine.</p>\n"}, {"tags": [], "owner": {"reputation": 1775, "user_id": 792632, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ef3ed0c4374cf7e12992fbf0b7dac7c?s=128&d=identicon&r=PG", "display_name": "dominik", "link": "https://stackoverflow.com/users/792632/dominik"}, "is_accepted": false, "score": 0, "last_activity_date": 1569526584, "creation_date": 1569526584, "answer_id": 58123637, "question_id": 57983244, "link": "https://stackoverflow.com/questions/57983244/android-kotlin-coroutine-await-might-silently-drop-exceptions/58123637#58123637", "title": "Android kotlin coroutine: await might silently drop exceptions", "body": "<p>Ok, I found an example which is in line with Marko's answer concerning structured concurrency. Code snippet below presents the silent exception dropping usecase.</p>\n\n<p>This example comes from <a href=\"https://medium.com/androiddevelopers/coroutines-on-android-part-ii-getting-started-3bff117176dd\" rel=\"nofollow noreferrer\">https://medium.com/androiddevelopers/coroutines-on-android-part-ii-getting-started-3bff117176dd</a></p>\n\n<pre><code>val unrelatedScope = MainScope()\n\n// example of a lost error\nsuspend fun lostError() {\n    // async without structured concurrency\n    unrelatedScope.async {\n        throw InAsyncNoOneCanHearYou(\"except\")\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Note this code is declaring an unrelated coroutine scope that will launch a new coroutine without structured concurrency. [...]\n  The error is lost in this code because async assumes that you will eventually call await where it will rethrow the exception. However, if you never do call await, the exception will be stored forever waiting patiently to be raised.</p>\n</blockquote>\n"}], "owner": {"reputation": 1775, "user_id": 792632, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ef3ed0c4374cf7e12992fbf0b7dac7c?s=128&d=identicon&r=PG", "display_name": "dominik", "link": "https://stackoverflow.com/users/792632/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 57990107, "answer_count": 3, "score": 2, "last_activity_date": 1569526584, "creation_date": 1568763762, "question_id": 57983244, "link": "https://stackoverflow.com/questions/57983244/android-kotlin-coroutine-await-might-silently-drop-exceptions", "title": "Android kotlin coroutine: await might silently drop exceptions", "body": "<p>While reading <a href=\"https://developer.android.com/kotlin/coroutines\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin/coroutines</a> I stumbled upon the following warning:</p>\n\n<blockquote>\n  <p>Warning: launch and async handle exceptions differently. Since async expects an eventual call to await at some point, it holds exceptions and rethrows them as part of the await call. <strong>This means if you use await to start a new coroutine from a regular function, you might silently drop an exception.</strong> These dropped exceptions won't appear in your crash metrics or be noted in logcat.</p>\n</blockquote>\n\n<p>However I'm not able to find any example of this silent-dropping behavior while browsing <a href=\"https://kotlinlang.org/docs/reference/coroutines/exception-handling.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines/exception-handling.html</a> or any other resources returned by <a href=\"https://www.google.com/search?q=kotlin+await+exception+handling\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=kotlin+await+exception+handling</a> - on the contrary, all resources indicate that exception thrown in an async/await block will cause a failure in the whole coroutine scope which is correct and expected.</p>\n\n<p>I'm afraid I'm missing something here, can you provide an example where this silent exception dropping occurs which cannot be noted in logcat?</p>\n"}, {"tags": ["android-studio", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568786519, "creation_date": 1568786519, "answer_id": 57985987, "question_id": 57983087, "link": "https://stackoverflow.com/questions/57983087/how-to-fix-error-lkotlin-uninitializedpropertyaccessexception-lateinit-property/57985987#57985987", "title": "how to fix error lkotlin.UninitializedPropertyAccessException: lateinit property adapters has not been initialized in my code?", "body": "<p>You only set <code>adapters</code> in the line </p>\n\n<pre><code>adapters=RecyclerSaleAdapter(arr_sale.list)\n</code></pre>\n\n<p>when Retrofit receives a response. The lines</p>\n\n<pre><code>var rec=findViewById&lt;RecyclerView&gt;(R.id.rec_sale)\nrec.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\nrec.adapter=adapters\n</code></pre>\n\n<p>are executed after <code>get_sales_list</code> returns but the request is still likely enqueued or sent and the response is not received yet, so <code>adapters</code> isn't initialized.</p>\n\n<p>One workaround would be to pass <code>rec</code> to <code>get_sales_list</code> and make it set <code>rec.adapter</code> instead of <code>adapters</code>. I'd prefer to e.g. make <code>get_sales_list</code> return <code>Future&lt;sales_list&gt;</code> or to make it <code>suspend</code> and return <code>sales_list</code>, but these would be more work.</p>\n"}], "owner": {"reputation": 33, "user_id": 5331651, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h9JyztQLteY/AAAAAAAAAAI/AAAAAAAAAB0/h3DfKvfdWkc/photo.jpg?sz=128", "display_name": "Sobhan", "link": "https://stackoverflow.com/users/5331651/sobhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568786519, "creation_date": 1568762071, "question_id": 57983087, "link": "https://stackoverflow.com/questions/57983087/how-to-fix-error-lkotlin-uninitializedpropertyaccessexception-lateinit-property", "title": "how to fix error lkotlin.UninitializedPropertyAccessException: lateinit property adapters has not been initialized in my code?", "body": "<p>does not set adapter and work it in Kotlin</p>\n\n<p>I take data from retrofit and i test it ,it work.\nbut when pass array list to adapter,it cant set list\nand have error:</p>\n\n<p>kotlin.UninitializedPropertyAccessException: lateinit property adapters has not been initialized</p>\n\n<p>myadapter:</p>\n\n<pre><code>class RecyclerSaleAdapter(var sale_list: ArrayList&lt;sale_agahi&gt;): RecyclerView.Adapter&lt;RecyclerSaleAdapter.ViewHolder&gt;(){\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.recycler_sale_item, parent, false)\n        return ViewHolder(v)\n    }\n\n    override fun getItemCount(): Int {\n        return  sale_list.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.cost_view.text=sale_list[position].cost.toString()\n        holder.area.text=sale_list[position].area\n        holder.info_view.text=sale_list[position].info\n        holder.metr_view.text=sale_list[position].metr.toString()\n\n    }\n\n    class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n        val ImageView=itemView.findViewById&lt;ImageView&gt;(R.id.image_sale_view)\n        val cost_view=itemView.findViewById&lt;TextView&gt;(R.id.cost_text_rec_view)\n        val area=itemView.findViewById&lt;TextView&gt;(R.id.area_text_rec_view)\n        val info_view=itemView.findViewById&lt;TextView&gt;(R.id.info_text_rec_view)\n        val metr_view=itemView.findViewById&lt;TextView&gt;(R.id.metr_text_rec_view)\n        val btn_rec_item=itemView.findViewById&lt;Button&gt;(R.id.btn_item_rec)\n    }\n}\n</code></pre>\n\n<p>myactivity on create:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_profile)\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n\n        val fab: FloatingActionButton = findViewById(R.id.fab)\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n        }\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        val navView: NavigationView = findViewById(R.id.nav_view)\n        val toggle = ActionBarDrawerToggle(\n            this, drawerLayout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close\n        )\n        drawerLayout.addDrawerListener(toggle)\n        toggle.syncState()\n\n        //var intent=Intent(this,Profile::class.java)\n        var us= User_info()\n        us.name=intent.getStringExtra(\"username\")\n        us.image_url=intent.getStringExtra(\"image\")\n        user= User_info()\n        this.user =us\n        get_sales_list()\n        var rec=findViewById&lt;RecyclerView&gt;(R.id.rec_sale)\n        rec.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        rec.adapter=adapters\n\n\n\n\n\n        navView.setNavigationItemSelectedListener(this)\n    }\n</code></pre>\n\n<p>and get data fun:</p>\n\n<pre><code>fun get_sales_list()\n    {\n        var retrofit = Retrofit.Builder()\n            .baseUrl(\"http://sobosha.ir/\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n        val services=retrofit.create(Apiservices::class.java)\n        val call =services.sale_agahi(user.name.toString())\n        call.enqueue(object : Callback&lt;sales_list&gt; {\n            override fun onResponse(call: Call&lt;sales_list&gt;, response: retrofit2.Response&lt;sales_list&gt;) {\n                var temp:sales_list= response.body()!!\n                arr_sale= temp\n                Log.d(\"arr_sale\",arr_sale.list[0].phone.toString())\n                adapters=RecyclerSaleAdapter(arr_sale.list)\n\n            }\n            override fun onFailure(call: Call&lt;sales_list&gt;, t: Throwable) {\n                Toast.makeText(applicationContext,t.message,Toast.LENGTH_LONG).show()\n\n            }\n        })\n    }\n</code></pre>\n\n<p>I have an error on rec.adapter=adapters</p>\n"}, {"tags": ["android", "kotlin", "graphql", "apollo-client"], "comments": [{"owner": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1568772556, "post_id": 57982874, "comment_id": 102376977, "body": "Are you using Android Studio? You should have code completion that will suggest the available properties and methods once you type the period after <code>response</code>. Because <code>data</code> is always nullable, you may have to use the safe call operator (i.e. type <code>?.</code> instead of just <code>.</code>) to see the options populate. You can also just view the generated <code>LoginMutation.Data</code> class yourself."}], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568759967, "creation_date": 1568759967, "question_id": 57982874, "link": "https://stackoverflow.com/questions/57982874/how-to-read-the-response-data-of-apollo-client-response-graphql-response-in-kot", "title": "How to read the response data of Apollo Client response/ GraphQL response in Kotlin Andorid", "body": "<p>I am developing an Android application using Kotlin. In my application, I am consuming GraphQL API using Apollo Client. What I am trying to do now is that I want to retrieve a response field of the response.</p>\n\n<p>This is my code</p>\n\n<pre><code>protected fun _handleLoginButtonClick(view: View) {\n        val apolloClient = ApolloClient.builder()\n            .serverUrl(\"https://app.herokuapp.com/graphql\")\n            .okHttpClient(OkHttpClient())\n            .build()\n        val loginMutation = LoginMutation.builder()\n            .identity(view.etf_email.text.toString())\n            .password(view.etf_password.text.toString())\n            .build()\n\n        view.tv_login_error_message.text = \"Started making request\"\n        apolloClient.mutate(loginMutation).enqueue(object: ApolloCall.Callback&lt;LoginMutation.Data&gt;() {\n            override fun onFailure(e: ApolloException) {\n                view.tv_login_error_message.text = e.message\n\n            }\n\n            override fun onResponse(response: Response&lt;LoginMutation.Data&gt;) {\n                //here I dont know how to retrieve a field, accessToken\n            }\n        })\n    }\n</code></pre>\n\n<p>As you can see the comment in the onResponse callback, I cannot figure out how to retrieve the accessToken field. How can I retrieve it?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1568759999, "post_id": 57982774, "comment_id": 102374831, "body": "Can you alter your example because I don&#39;t really understand, at this moment your merged list is equal to second list."}, {"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1568760526, "post_id": 57982774, "comment_id": 102374946, "body": "1,2,3,4,5 repeats twice on the mergedList"}, {"owner": {"reputation": 3025, "user_id": 11374957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c735e8edc586ff9ee67c666f413846?s=128&d=identicon&r=PG&f=1", "display_name": "kaan", "link": "https://stackoverflow.com/users/11374957/kaan"}, "edited": false, "score": 0, "creation_date": 1568760618, "post_id": 57982774, "comment_id": 102374968, "body": "It isn&#39;t clear exactly what you&#39;re asking but seems like you could maybe achieve the result by using a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> \u2013 add all items from list 1 to the set, add all items from list 2 to the set, then use the iterator to get all the items in order. The set itself will handle guarantee that there are no duplicates, so you should end up with <code>1,2,3,4,5,6,7,8,9</code>."}, {"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "reply_to_user": {"reputation": 3025, "user_id": 11374957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c735e8edc586ff9ee67c666f413846?s=128&d=identicon&r=PG&f=1", "display_name": "kaan", "link": "https://stackoverflow.com/users/11374957/kaan"}, "edited": false, "score": 0, "creation_date": 1568762252, "post_id": 57982774, "comment_id": 102375285, "body": "@kaan the elements can be objects that have an id"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569253603, "post_id": 57982774, "comment_id": 102528128, "body": "in case you need those lists as is (given the accepted answer I assume you don&#39;t) you can also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html\" rel=\"nofollow noreferrer\"><code>distinct</code></a>, i.e.: <code>val mergedList = (myList + mySecondList).distinct()</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1569253818, "post_id": 57982774, "comment_id": 102528228, "body": "what did you mean by &quot;beginning in a specific position&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "is_accepted": true, "score": 4, "last_activity_date": 1568830594, "last_edit_date": 1568830594, "creation_date": 1568762756, "answer_id": 57983151, "question_id": 57982774, "link": "https://stackoverflow.com/questions/57982774/how-to-add-elements-beginning-in-a-specific-position/57983151#57983151", "title": "How to add elements beginning in a specific position?", "body": "<p>I know you are using lists in your question, but if you do not care about order, then you can use sets:</p>\n\n<pre><code>val myList = mutableSetOf(1, 2, 3, 4, 5)\nval mySecondList = setOf(1, 2, 3, 4, 5, 5, 6, 7, 8, 9)\nmyList.addAll(mySecondList)\n</code></pre>\n\n<p>If you <em>do</em> care about order, then you can use a tree set:</p>\n\n<pre><code>val myTree = TreeSet(setOf(1, 2, 3, 4, 5))\nval mySet = setOf(1, 2, 3, 4, 5, 5, 6, 7, 8, 9)\nmyTree.addAll(mySet)\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57983151, "answer_count": 1, "score": 1, "last_activity_date": 1568830594, "creation_date": 1568759174, "question_id": 57982774, "link": "https://stackoverflow.com/questions/57982774/how-to-add-elements-beginning-in-a-specific-position", "title": "How to add elements beginning in a specific position?", "body": "<p>I want to add an <code>array</code> of <code>Elements</code> beginning in an <strong>x</strong> position.</p>\n\n<p><strong>Given my start list</strong> </p>\n\n<p><code>val myList = muttableListOf(1,2,3,4,5)</code></p>\n\n<p><strong>Given my second list</strong> </p>\n\n<p><code>val mySecondList = muttableListOf(1,2,3,4,5,5,6,7,8,9)</code></p>\n\n<p>I want to merge both lists, and <strong>avoid</strong> repeated numbers like</p>\n\n<p><code>val mergedList = muttableListOf(1,2,3,4,5,1,2,3,4,5,6,7,8,9)</code></p>\n\n<p>The list I really want is <code>val mergedList = muttableListOf(1,2,3,4,5,6,7,8,9)</code></p>\n\n<p>How can I achieve this without \"tricks\" to delete repeated elements and doing it by checking if the element are already there? I will add <code>java</code> in the <strong>keywords</strong> because both more or less the same list methods.</p>\n"}, {"tags": ["android", "kotlin", "uri", "android-mediaplayer"], "comments": [{"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568759715, "post_id": 57982474, "comment_id": 102374762, "body": "did you check this: <a href=\"https://stackoverflow.com/a/11977292/2553984\">stackoverflow.com/a/11977292/2553984</a>"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568759834, "post_id": 57982474, "comment_id": 102374787, "body": "I have tried two files : <a href=\"https://watson-developer-cloud.github.io/doc-tutorial-downloads/text-to-speech/reference/hello_world.wav\" rel=\"nofollow noreferrer\">watson-developer-cloud.github.io/doc-tutorial-downloads/&hellip;</a> , this file does not work, and I have tried this : <a href=\"http://www.music.helsinki.fi/tmt/opetus/uusmedia/esim/a2002011001-e02.wav\" rel=\"nofollow noreferrer\">music.helsinki.fi/tmt/opetus/uusmedia/esim/a2002011001-e02.w&zwnj;&#8203;av</a> and it is working, I do not know what is the problem of first file"}, {"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568760105, "post_id": 57982474, "comment_id": 102374858, "body": "maybe it&#39;s not encoded correctly or something!"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568760161, "post_id": 57982474, "comment_id": 102374866, "body": "but it is already working in web , so it should work just like any other wav file"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568762010, "post_id": 57982474, "comment_id": 102375240, "body": "@y.allam : it seems problem in this format, the file is not running on default music player, put the problem that I have to make it run because I got this encoding from watson api, do you know any alternative to media player or how to open this encoding in android"}, {"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568803465, "post_id": 57982474, "comment_id": 102388935, "body": "did you try <a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\">github.com/google/ExoPlayer</a>? i didn&#39;t try it before, but it may help"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568756825, "creation_date": 1568756825, "question_id": 57982474, "link": "https://stackoverflow.com/questions/57982474/media-player-not-work-in-android-and-give-error-in-prepare", "title": "Media Player not work in android and give error in prepare", "body": "<p>I have the following code</p>\n\n<pre><code>val filePath = context.filesDir.path.toString() + \"/hello_world.mp3\"\nval inputStream = WaveUtils.reWriteWaveHeader(response.result)\nval size = File(filePath).outputStream().use { inputStream.copyTo(it) }\nval file = File (filePath)\n\nLog.i(\"AMIRA00000\" , \"size : \" + size)\nLog.i(\"AMIRA00000\" , \"filePath : \" + filePath)\n\n\nval player = MediaPlayer()\nplayer.setDataSource(context , Uri.parse(file.path))\nplayer.prepare()\nplayer.start()\n</code></pre>\n\n<p>the file size has value and the filePath is as following </p>\n\n<pre><code>/data/user/0/com.sbs16.ensofia/files/hello_world.mp3\n</code></pre>\n\n<p>which means that the file saved correctly, but the player does not work and give this error </p>\n\n<pre><code>java.io.IOException: Prepare failed.: status=0x1\n</code></pre>\n\n<p>can anyone please help ?</p>\n"}, {"tags": ["kotlin", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "is_accepted": false, "score": 1, "last_activity_date": 1568778785, "creation_date": 1568778785, "answer_id": 57984851, "question_id": 57982451, "link": "https://stackoverflow.com/questions/57982451/how-to-delete-just-one-attribute-from-dynamo-db-row-without-deleting-the-whole-r/57984851#57984851", "title": "How to delete just one attribute from dynamo Db row without deleting the whole row?", "body": "<p>You need to use the UpdateItem API with an update expression of <code>REMOVE C</code>. See <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.UpdateExpressions.html#Expressions.UpdateExpressions.REMOVE\" rel=\"nofollow noreferrer\">Deleting Attributes from an Item</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12253824, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBRBGIx8H3gqA2iCEJOSoceb0Egu4UV0hZXFs-M2g=k-s128", "display_name": "Mahesh Reddy Kukunooru", "link": "https://stackoverflow.com/users/12253824/mahesh-reddy-kukunooru"}, "is_accepted": false, "score": 0, "last_activity_date": 1571689835, "creation_date": 1571689835, "answer_id": 58493710, "question_id": 57982451, "link": "https://stackoverflow.com/questions/57982451/how-to-delete-just-one-attribute-from-dynamo-db-row-without-deleting-the-whole-r/58493710#58493710", "title": "How to delete just one attribute from dynamo Db row without deleting the whole row?", "body": "<p>When using updateItem, just as you have SET in the update expression to modify an attribute, there is REMOVE to delete a particular attribute from an item. Please refer <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.UpdateExpressions.html#Expressions.UpdateExpressions.REMOVE\" rel=\"nofollow noreferrer\">AWS documentation for REMOVE</a>. If you are looking for something in Kotlin, <a href=\"https://github.com/floodfx/aws-dynamodb-getting-started-guide-kotlin/blob/master/src/main/kotlin/floodfx/LearnDynamo.kt\" rel=\"nofollow noreferrer\">this</a> might help too.</p>\n\n<p>But most importantly make sure that the particular attribute you are trying to remove has no constraints on deleting it (not null properties or it might need some value by default). Hope this helps Varsha. </p>\n"}], "owner": {"reputation": 11, "user_id": 12081925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAQ2Pqqt9n4faUS_QvWHXNYXxBSabFCruGRKAGk1w=k-s128", "display_name": "Varsha Ravi", "link": "https://stackoverflow.com/users/12081925/varsha-ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571689835, "creation_date": 1568756671, "last_edit_date": 1568782902, "question_id": 57982451, "link": "https://stackoverflow.com/questions/57982451/how-to-delete-just-one-attribute-from-dynamo-db-row-without-deleting-the-whole-r", "title": "How to delete just one attribute from dynamo Db row without deleting the whole row?", "body": "<p>In a table abc </p>\n\n<pre><code>1. A   B    C\n2. 1    2     3\n3. 4    5     6\n4. 7    8     9\n</code></pre>\n\n<p>Suppose From the above table I only want to remove value <code>6</code> from column <code>C</code> row <code>3</code> without deleting any other value in the row how do I do it?</p>\n"}, {"tags": ["xml", "android-studio", "kotlin", "material-design"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568768788, "post_id": 57982193, "comment_id": 102376328, "body": "By &quot;Modal Bottom Sheet&quot;, do you mean that you&#39;re using a <code>BottomSheetDialog[Fragment]</code>?"}, {"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568774541, "post_id": 57982193, "comment_id": 102377348, "body": "By Modal, I&#39;m meaning a Modal type bottom sheet instead of a standard one. <a href=\"https://material.io/components/sheets-bottom/#modal-bottom-sheet\" rel=\"nofollow noreferrer\">material.io/components/sheets-bottom/#modal-bottom-sheet</a>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1568774759, "post_id": 57982193, "comment_id": 102377398, "body": "Right, but &quot;modal&quot; has a specific meaning that is rather independent of implementation. I&#39;m asking what you&#39;re using to effect this."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1568775502, "post_id": 57982193, "comment_id": 102377528, "body": "Forget about the modal part. I&#39;m just asking what you&#39;re using for the bottom sheet. Are you using a <code>BottomSheetDialog[Fragment]</code>? Or is this a <code>View</code> inside a <code>CoordinatorLayout</code> with <code>BottomSheetBehavior</code>? Something else?"}, {"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568775943, "post_id": 57982193, "comment_id": 102377596, "body": "I actually forgot to put this inside a <code>CoordinatorLayout</code> with <code>BottomSheetBehavior</code>. I originally had it set up with <code>BottomSheetFragment :BottomSheetDialogFragment()</code> and then calling this view to show from a <code>button.onClickListener()</code>. Placing it inside <code>CoordinatorLayout</code> should do the trick. Thanks for bringing that up!"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1568776416, "post_id": 57982193, "comment_id": 102377675, "body": "Sure thing. If you do that, though, you&#39;ll have to handle the modal behavior yourself, &#39;cause it&#39;ll be just another <code>View</code> inside the <code>CoordinatorLayout</code>. With the <code>Dialog</code>, it was inherently modal. Just FYI. Cheers!"}, {"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1568776764, "post_id": 57982193, "comment_id": 102377742, "body": "Yes thank you for the information! I had created a bottom sheet fragment a few months ago this same way. I just forgot about having to place it within the <code>Coordinator Layout</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1467, "user_id": 4826038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMrmV.jpg?s=128&g=1", "display_name": "HeyAlex", "link": "https://stackoverflow.com/users/4826038/heyalex"}, "is_accepted": false, "score": 0, "last_activity_date": 1607186061, "creation_date": 1607186061, "answer_id": 65159311, "question_id": 57982193, "link": "https://stackoverflow.com/questions/57982193/how-to-set-width-of-a-modal-bottom-sheet-in-xml/65159311#65159311", "title": "How to set width of a Modal Bottom Sheet in xml?", "body": "<p>Just use a <a href=\"https://github.com/HeyAlex/CornerSheet\" rel=\"nofollow noreferrer\">library</a> where i already handle all cases for making such material component</p>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1607186061, "creation_date": 1568755152, "question_id": 57982193, "link": "https://stackoverflow.com/questions/57982193/how-to-set-width-of-a-modal-bottom-sheet-in-xml", "title": "How to set width of a Modal Bottom Sheet in xml?", "body": "<p>I am trying to make the width of the bottom sheet to only wrap content and show on the bottom right of the screen. I am using an android tablet as the device. I have searched through the Bottom Sheet Material Design website for implementation and any properties in xml that could control width. I tried to set width to wrap content but no luck. </p>\n\n<p>This is the size I am looking for:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QItuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QItuc.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/bottom_sheet_layout\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"end\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;com.google.android.material.textview.MaterialTextView\n        android:id=\"@+id/bottom_sheet_text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"This is a bottom sheet\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=\"@+id/bottom_sheet_btn1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/bottom_sheet_text\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        /&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=\"@+id/bottom_sheet_btn2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toBottomOf=\"@id/bottom_sheet_btn1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "extension-function"], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 10997589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd205da5c101d996111d97005f3e1e76?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/10997589/joe"}, "is_accepted": true, "score": 3, "last_activity_date": 1568754948, "creation_date": 1568754948, "answer_id": 57982164, "question_id": 57982066, "link": "https://stackoverflow.com/questions/57982066/why-am-i-getting-inferred-type-is-observablet-but-observablet-was-expecte/57982164#57982164", "title": "Why am I getting &quot;inferred type is Observable&lt;T?&gt;! but Observable&lt;T&gt; was expected&quot; with Observable Kotlin extension function?", "body": "<p>It's happening because <code>event.value</code> is marked as <code>@Nullable</code>, so <code>Observable.just(event.value)</code> is an <code>Observable&lt;T?&gt;</code>.  You can make this compile by changing the return type to be <code>Observable&lt;T?&gt;</code>, or by using the <code>!!</code> operator to assert that <code>event.value</code> is not null when creating the Observable (or by otherwise dealing with a null value explicitly):</p>\n\n<pre><code>fun &lt;T&gt; Subject&lt;Notification&lt;T&gt;&gt;.fromNotifications(): Observable&lt;T&gt; {\n    return compose {\n        it.takeUntil { event -&gt;\n            !event.isOnNext\n        }.flatMap { event -&gt;\n            when {\n                event.isOnError -&gt; Observable.error(event.error)\n                event.isOnNext -&gt; Observable.just(event.value!!)\n                else -&gt; Observable.empty()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1108, "user_id": 678026, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ab62b67882bf27cb2a715358cde452dc?s=128&d=identicon&r=PG", "display_name": "serg66", "link": "https://stackoverflow.com/users/678026/serg66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 57982164, "answer_count": 1, "score": 0, "last_activity_date": 1568754948, "creation_date": 1568754354, "question_id": 57982066, "link": "https://stackoverflow.com/questions/57982066/why-am-i-getting-inferred-type-is-observablet-but-observablet-was-expecte", "title": "Why am I getting &quot;inferred type is Observable&lt;T?&gt;! but Observable&lt;T&gt; was expected&quot; with Observable Kotlin extension function?", "body": "<p>I have the following extension function:</p>\n\n<pre><code>import io.reactivex.Notification\nimport io.reactivex.Observable\nimport io.reactivex.subjects.Subject\n\nfun &lt;T&gt; Subject&lt;Notification&lt;T&gt;&gt;.fromNotifications(): Observable&lt;T&gt; {\n    return compose {\n        it.takeUntil { event -&gt;\n            !event.isOnNext\n        }.flatMap { event -&gt;\n            when {\n                event.isOnError -&gt; Observable.error(event.error)\n                event.isOnNext -&gt; Observable.just(event.value)\n                else -&gt; Observable.empty()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I use it to convert a <code>Subject</code> with <code>Notification</code> values to ordinary <code>Observable</code>.</p>\n\n<p>I don't quite understand why I'm getting the error</p>\n\n<p><code>Type inference failed. Expected type mismatch: inferred type is Observable&lt;T?&gt;! but Observable&lt;T&gt; was expected</code></p>\n\n<p>Where does <code>inferred type is Observable&lt;T?&gt;</code> come from? I guess it's related to the fact that in Java there's no difference between nullable and non-nullable types.</p>\n\n<p>What are the ways to deal with this problem?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "layout", "android-actionbar"], "comments": [{"owner": {"reputation": 1120, "user_id": 8926845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0eea0b64a929342f83e186ee01daad?s=128&d=identicon&r=PG&f=1", "display_name": "yuvrajsinh", "link": "https://stackoverflow.com/users/8926845/yuvrajsinh"}, "edited": false, "score": 0, "creation_date": 1568888731, "post_id": 57980503, "comment_id": 102422064, "body": "add xml code of this screen. so can guide much easily"}, {"owner": {"reputation": 79, "user_id": 9670995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeremy Brehe", "link": "https://stackoverflow.com/users/9670995/jeremy-brehe"}, "reply_to_user": {"reputation": 1120, "user_id": 8926845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0eea0b64a929342f83e186ee01daad?s=128&d=identicon&r=PG&f=1", "display_name": "yuvrajsinh", "link": "https://stackoverflow.com/users/8926845/yuvrajsinh"}, "edited": false, "score": 0, "creation_date": 1568997047, "post_id": 57980503, "comment_id": 102466544, "body": "Ok I&#39;m sorry for that. But I found out that i can remove the shadow below the action bar with <code>getSupportActionBar().setElevation(0);</code> but I don&#39;t know the kotlin code for that."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 9670995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeremy Brehe", "link": "https://stackoverflow.com/users/9670995/jeremy-brehe"}, "edited": false, "score": 0, "creation_date": 1568998734, "post_id": 58032383, "comment_id": 102467150, "body": "Thank you very much! Do you also know how to remove the shadow of the bottom navigation drawer?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 79, "user_id": 9670995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeremy Brehe", "link": "https://stackoverflow.com/users/9670995/jeremy-brehe"}, "edited": false, "score": 0, "creation_date": 1568998994, "post_id": 58032383, "comment_id": 102467250, "body": "Set this attribute: <code>app:elevation=&quot;0dp&quot;</code>"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 79, "user_id": 9670995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeremy Brehe", "link": "https://stackoverflow.com/users/9670995/jeremy-brehe"}, "edited": false, "score": 0, "creation_date": 1568999224, "post_id": 58032383, "comment_id": 102467330, "body": "In Kotlin: <code>bottomNavigationView.elevation = 0f</code> but it requires API 21+"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1568998198, "creation_date": 1568998198, "answer_id": 58032383, "question_id": 57980503, "link": "https://stackoverflow.com/questions/57980503/remove-shadow-from-action-bar-kotlin/58032383#58032383", "title": "Remove shadow from action bar - kotlin", "body": "<p>This similar code would work:</p>\n\n<pre><code>getSupportActionBar()?.setElevation(0f)\n</code></pre>\n\n<p>but AS would propose property access syntax which is used in Kotlin:</p>\n\n<pre><code>supportActionBar?.elevation = 0f\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 9670995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeremy Brehe", "link": "https://stackoverflow.com/users/9670995/jeremy-brehe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 58032383, "answer_count": 1, "score": 0, "last_activity_date": 1573996577, "creation_date": 1568746821, "last_edit_date": 1573996577, "question_id": 57980503, "link": "https://stackoverflow.com/questions/57980503/remove-shadow-from-action-bar-kotlin", "title": "Remove shadow from action bar - kotlin", "body": "<p>I'm currently working on an app with a very light design and I don't know how to remove this visible lines / transitions between the action bar an the app content aswell as the transition between content and bottom navigation drawer. Both elements have the same color. The java code for that is </p>\n\n<p><code>getSupportActionBar().setElevation(0);</code> but what is the kotlin code?</p>\n\n<p>You can see the lines in the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m2jMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m2jMW.png\" alt=\"enter image description here\"></a></p>\n\n<p>It would be really nice if someone could help me with this problem.</p>\n"}, {"tags": ["kotlin", "jakarta-mail", "amazon-ses"], "answers": [{"tags": [], "owner": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "is_accepted": false, "score": 1, "last_activity_date": 1568751310, "creation_date": 1568751310, "answer_id": 57981476, "question_id": 57980470, "link": "https://stackoverflow.com/questions/57980470/how-to-send-custom-email-with-a-file-attachment-in-kotlin/57981476#57981476", "title": "How to send custom email with a file attachment in kotlin?", "body": "<p>Your MIME type syntax is wrong.  And your code is unnecessarily complex.\nTry this:</p>\n\n<pre><code>        val textPart = MimeBodyPart()\n        textPart.setText(EMAIL_TEXT_BODY, \"utf-8\")\n\n        val htmlPart = MimeBodyPart()\n        htmlPart.setText(EMAIL_BODY_HTML, \"utf-8\", \"html\")\n</code></pre>\n\n<p>And you don't need to encode the text or set the Content-Transfer-Encoding header, JavaMail will do all of that for you.</p>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568751310, "creation_date": 1568746688, "question_id": 57980470, "link": "https://stackoverflow.com/questions/57980470/how-to-send-custom-email-with-a-file-attachment-in-kotlin", "title": "How to send custom email with a file attachment in kotlin?", "body": "<p>I need to send a custom email with an Excel file attachment. I followed a guide I found online but keep getting this error: <code>javax.mail.internet.ParseException: Expected ';', got \"charset\"</code> at <code>message.writeTo(out)</code>.  </p>\n\n<p>I think it may have something to do with the way I am encoding the text. I'm not 100% sure if that part is written correctly. </p>\n\n<pre><code>import com.amazonaws.auth.BasicAWSCredentials\nimport java.io.ByteArrayOutputStream\nimport java.nio.ByteBuffer\nimport java.util.Properties\n\nimport javax.activation.DataHandler\nimport javax.activation.FileDataSource\nimport javax.mail.Message\nimport javax.mail.Session\nimport javax.mail.internet.InternetAddress\nimport javax.mail.internet.MimeBodyPart\nimport javax.mail.internet.MimeMessage\nimport javax.mail.internet.MimeMultipart\nimport javax.mail.internet.MimeUtility\n\nimport com.amazonaws.regions.Regions\nimport com.amazonaws.services.simpleemail.AmazonSimpleEmailServiceClientBuilder\nimport com.amazonaws.services.simpleemail.model.RawMessage\nimport com.amazonaws.services.simpleemail.model.SendRawEmailRequest\nimport java.io.File\nimport java.lang.System.out\n\n.\n.\n.\n.\n\nfun sendEmail(){\n\n        val file = File(\"test.xlsx\")\n\n        try{\n            val defaultCharSet = MimeUtility.getDefaultJavaCharset()\n            val session = Session.getDefaultInstance(Properties())\n            val message = MimeMessage(session)\n            message.setSubject(EMAIL_SUBJECT, \"UTF-8\")\n            message.setFrom(InternetAddress(EMAIL_FROM))\n            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(EMAIL_TO))\n\n            val msg_body =  MimeMultipart(\"alternative\")\n            val wrap =  MimeBodyPart()\n            val textPart = MimeBodyPart()\n            textPart.setContent(MimeUtility\n                .encodeText(EMAIL_TEXT_BODY,defaultCharSet,\"B\"), \"text/plain charset=UTF-8\")\n            textPart.setHeader(\"Content-Transfer-Encoding\", \"base64\")\n\n            val htmlPart = MimeBodyPart()\n            htmlPart.setContent(MimeUtility\n                .encodeText(EMAIL_BODY_HTML,defaultCharSet,\"B\"),\"text/html charset=UTF-8\")\n            htmlPart.setHeader(\"Content-Transfer-Encoding\", \"base64\")\n\n            msg_body.addBodyPart(textPart)\n            msg_body.addBodyPart(htmlPart)\n\n            wrap.setContent(msg_body)\n\n            val msg = MimeMultipart(\"mixed\")\n            message.setContent(msg)\n            msg.addBodyPart(wrap)\n\n            val att = MimeBodyPart()\n            val fds = FileDataSource(file)\n            att.dataHandler = DataHandler(fds)\n            att.fileName = fds.name\n\n            msg.addBodyPart(att)\n\n            val client = AmazonSimpleEmailServiceClientBuilder.standard()\n                .withRegion(Regions.US_EAST_1).build()\n\n            message.writeTo(out)\n\n            val outputStream = ByteArrayOutputStream()\n            message.writeTo(outputStream)\n            val rawMessage = RawMessage(ByteBuffer.wrap(outputStream.toByteArray()))\n\n            val rawEmailRequest = SendRawEmailRequest(rawMessage)\n            client.sendRawEmail(rawEmailRequest)\n\n            println(\"Email sent\")\n\n        }catch (e: Exception){\n            println(\"Email failed to send with error: ${e.message}\")\n            println(e.printStackTrace())\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin", "protocol-buffers", "grpc-java", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 5457837, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28243dbf2d6651c4840616770e85b32c?s=128&d=identicon&r=PG&f=1", "display_name": "Unlucky", "link": "https://stackoverflow.com/users/5457837/unlucky"}, "edited": false, "score": 1, "creation_date": 1569593981, "post_id": 58124993, "comment_id": 102659349, "body": "gradle clean build . The solution."}], "tags": [], "owner": {"reputation": 4702, "user_id": 1108098, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9201c501532256286e60080ce8739045?s=128&d=identicon&r=PG", "display_name": "jordiburgos", "link": "https://stackoverflow.com/users/1108098/jordiburgos"}, "is_accepted": true, "score": 1, "last_activity_date": 1569533265, "creation_date": 1569533265, "answer_id": 58124993, "question_id": 57979260, "link": "https://stackoverflow.com/questions/57979260/protobuf-configuration-intellij-idea-plugin-gradle-kotlin-dsl-kotlin/58124993#58124993", "title": "Protobuf configuration Intellij Idea Plugin Gradle-kotlin-dsl kotlin", "body": "<p>Your error message is:</p>\n\n<pre><code>  ...Input is shadowed in the --proto_path by \"C:/Users/XXX/IdeaProjects/Windchill-Intellij-Plugin/src/main/proto/service.proto\". \n</code></pre>\n\n<p>The .proto files that are in your proto folder have some definition that is not valid.</p>\n"}], "owner": {"reputation": 153, "user_id": 5457837, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28243dbf2d6651c4840616770e85b32c?s=128&d=identicon&r=PG&f=1", "display_name": "Unlucky", "link": "https://stackoverflow.com/users/5457837/unlucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "accepted_answer_id": 58124993, "answer_count": 1, "score": 0, "last_activity_date": 1569533265, "creation_date": 1568741199, "question_id": 57979260, "link": "https://stackoverflow.com/questions/57979260/protobuf-configuration-intellij-idea-plugin-gradle-kotlin-dsl-kotlin", "title": "Protobuf configuration Intellij Idea Plugin Gradle-kotlin-dsl kotlin", "body": "<p>Hey I would like to set up protobuf in intellij idea plugin as a client for other protobuf server (written in golang). That will be my first java approach to grpc. I tried to use kotlin classess generator, but i had even less sucess than with this approach.</p>\n\n<p>My goal is:\n Best case scenario: Plugin will allow to compile proto to kt files\n Very OK case scenario: Plugin will output java files to src/main/proto </p>\n\n<p>Existing code structure:</p>\n\n<pre><code>\u2514\u2500\u2500\u2500src\n    \u251c\u2500\u2500\u2500main\n    \u2502   \u251c\u2500\u2500\u2500kotlin\n    \u2502   \u2502   \u2514\u2500\u2500\u2500pl\n    \u2502   \u2502       \u2514\u2500\u2500\u2500dominikw\n    \u2502   \u2502           \u251c\u2500\u2500\u2500configuration\n    \u2502   \u2502           \u251c\u2500\u2500\u2500model\n    \u2502   \u2502           \u251c\u2500\u2500\u2500service\n    \u2502   \u2502           \u2502   \u2514\u2500\u2500\u2500impl\n    \u2502   \u2502           \u2514\u2500\u2500\u2500ui\n    \u2502   \u251c\u2500\u2500\u2500proto\n    \u2502   \u2514\u2500\u2500\u2500resources\n    \u2502       \u251c\u2500\u2500\u2500icons\n    \u2502       \u2514\u2500\u2500\u2500META-INF\n    \u2514\u2500\u2500\u2500test\n        \u251c\u2500\u2500\u2500kotlin\n        \u2514\u2500\u2500\u2500resources\n</code></pre>\n\n<p>And Gradle kotlin dsl file :</p>\n\n<pre><code>import com.google.protobuf.gradle.*\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\ngroup = \"pl.dominikw\"\nversion = \"0.1.1\"\nval protobufVersion = \"3.9.1\"\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        maven(\"https://oss.sonatype.org/content/repositories/snapshots/\")\n        maven(\"https://dl.bintray.com/jetbrains/intellij-plugin-service\")\n    }\n    dependencies {\n        classpath(\"org.jetbrains.intellij.plugins:gradle-intellij-plugin:0.5.0-SNAPSHOT\")\n    }\n}\n\nplugins {\n    id(\"org.jetbrains.intellij\") version \"0.4.10\"\n    id(\"com.google.protobuf\") version \"0.8.10\"\n    kotlin(\"jvm\") version \"1.3.50\"\n    java\n    idea\n}\n\nrepositories {\n    mavenCentral()\n    maven(\"https://dl.bintray.com/kittinunf/maven\")\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.1\")\n    implementation(\"com.github.kittinunf.fuel\", \"fuel\", \"2.2.0\")\n\n    compile(\"com.google.protobuf:protobuf-java:$protobufVersion\")\n    compile(\"io.grpc:grpc-stub:1.15.1\")\n    compile(\"io.grpc:grpc-protobuf:1.15.1\")\n    if (JavaVersion.current().isJava9Compatible) {\n        compile(\"javax.annotation:javax.annotation-api:1.3.2\")\n    }\n//    protobuf(files(\"src/main/proto\"))\n//    \"mainProto\"(files(\"src/main/proto\"))\n    runtime(\"io.grpc:grpc-netty:1.14.0\")\n}\n\nsourceSets {\n    main {\n        java.srcDir(\"src/main/kotlin\")\n        resources.srcDir(\"src/main/resources\")\n        proto.srcDir(\"src/main/proto\")\n    }\n}\n\n// See https://github.com/JetBrains/gradle-intellij-plugin/\nintellij {\n    version = \"2019.2\"\n}\ntasks.getByName&lt;org.jetbrains.intellij.tasks.PatchPluginXmlTask&gt;(\"patchPluginXml\") {\n    changeNotes(\n        \"\"\"\n      Add change notes here.&lt;br&gt;\n      &lt;em&gt;most HTML tags may be used&lt;/em&gt;\"\"\"\n    )\n}\n\nconfigure&lt;org.jetbrains.intellij.IntelliJPluginExtension&gt; {\n    version = \"2019.2\"\n    updateSinceUntilBuild = true\n    pluginName = \"Windchill-Plugin\"\n}\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nprotobuf {\n    protoc {\n        artifact = \"com.google.protobuf:protoc:$protobufVersion\"\n    }\n    plugins {\n        id(\"grpc\") {\n            artifact = \"io.grpc:protoc-gen-grpc-java:1.15.1\"\n        }\n    }\n    generateProtoTasks {\n        ofSourceSet(\"main\").forEach {\n            it.plugins {\n                id(\"grpc\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And the error code is as follows:</p>\n\n<pre><code>7:17:20 PM: Executing task 'generateProto'...\n\n&gt; Task :extractIncludeProto UP-TO-DATE\n&gt; Task :extractProto UP-TO-DATE\n&gt; Task :generateProto FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':generateProto'.\n&gt; protoc: stdout: . stderr: C:\\Users\\XXX\\IdeaProjects\\Windchill-Intellij-Plugin\\build\\extracted-protos\\main\\service.proto: Input is shadowed in the --proto_path by \"C:/Users/XXX/IdeaProjects/Windchill-Intellij-Plugin/src/main/proto/service.proto\".  Either use the latter file as your input or reorder the --proto_path so that the former file's location comes first.\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 0s\n3 actionable tasks: 1 executed, 2 up-to-date\n7:17:20 PM: Task execution finished 'generateProto'.\n\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 1, "creation_date": 1568743732, "post_id": 57978959, "comment_id": 102368920, "body": "I guess, that spring is putting the query parameter into a LinkedHashMap, which is a Map but no MMap ... thats why map is working and MMap not ... what about having your MMap as a wrapper around a Map or use the kotlin extension functions to add your Map functions?"}, {"owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1568770264, "post_id": 57978959, "comment_id": 102376588, "body": "hi  @IEE1394, I have tried to extend MMap from LinkedHashMap once before but it still throw the same exception.  For Kotlin extension function, too bad, I forget about this useful feature. So i will give this a try. And for this sentence, &quot;MMap as a wrapper around a Map&quot;, i am not sure what it is so please give some explanation or example."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "edited": false, "score": 0, "creation_date": 1568771773, "post_id": 57980038, "comment_id": 102376851, "body": "Wow, this is so cool @Jordie. Now I have make it to:  ``` typealias MMap = HashMap&lt;String, Any&gt;  fun Map&lt;String, Any&gt;.getString(key: String) = get(key) as? String fun Map&lt;String, Any&gt;.getInt(key: String) = getString(key)?.toInt() ```  It works pretty well!"}], "tags": [], "owner": {"reputation": 109, "user_id": 8237967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4fb7291f96d752420e959324860a52?s=128&d=identicon&r=PG&f=1", "display_name": "Jordie", "link": "https://stackoverflow.com/users/8237967/jordie"}, "is_accepted": true, "score": 1, "last_activity_date": 1568745196, "last_edit_date": 1568745196, "creation_date": 1568744713, "answer_id": 57980038, "question_id": 57978959, "link": "https://stackoverflow.com/questions/57978959/custom-hashmap-class-get-argument-type-mismatch-when-using-with-requestparam-in/57980038#57980038", "title": "Custom HashMap class get argument type mismatch when using with @RequestParam in Kotlin", "body": "<p>You could do something like the following with <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a> and <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; Map&lt;String, Any&gt;.get(key: String) = get(key) as? T\n</code></pre>\n\n<p>You can then call the function on any Map like this:</p>\n\n<pre><code>@GetMapping(\"/user\")\nfun find(@RequestParam data: Map&lt;String, Any&gt;): Map&lt;String, Any&gt; {\n    val id = data.get&lt;String&gt;(\"id\") // string\n    println(id)\n    return data\n}\n</code></pre>\n\n<p>Or non-generic extension functions will also work (This is probably the better way to do it because <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">the parameter map will always be of type <code>Map&lt;String, String&gt;</code> and will not automatically convert numbers to integers</a>):</p>\n\n<pre><code>fun Map&lt;String, Any&gt;.getString(key: String) = get(key) as? String\nfun Map&lt;String, Any&gt;.getInt(key: String) = getString(key)?.toInt()\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 1, "accepted_answer_id": 57980038, "answer_count": 1, "score": 1, "last_activity_date": 1568745196, "creation_date": 1568739822, "question_id": 57978959, "link": "https://stackoverflow.com/questions/57978959/custom-hashmap-class-get-argument-type-mismatch-when-using-with-requestparam-in", "title": "Custom HashMap class get argument type mismatch when using with @RequestParam in Kotlin", "body": "<p>I am trying to write a simple route that will handle GET request with some query parameters. To achieve this, I have created my own Customs HashMap class to speed up some process and easily extend some functionality I need as below:</p>\n\n<pre><code>class MMap : HashMap&lt;String, Any&gt;()\n{\n    fun getString(key: String): String? = get(key) as? String\n...\n}\n</code></pre>\n\n<p>And then, in my controller I have everything done as the below code:</p>\n\n<pre><code>   @GetMapping(\"/user\")\n    fun find(@RequestParam data: MMap): MMap {\n        return data\n    }\n</code></pre>\n\n<p>After that, I have tried to do a get request to this route using <strong>GET localhost:8080/user?id=123&amp;username=admin</strong> and suddenly in the debug console I got some error:</p>\n\n<pre><code>Method [public com.cc.MMap com.cc.controller.UserController.find(com.cc.MMap)] with argument values:\n [0] [type=java.util.LinkedHashMap] [value={id=123,username=admin}] ] with root cause\n\njava.lang.IllegalArgumentException: argument type mismatch\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:887) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.2.0.RC1.jar:5.2.0.RC1]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.2.0.RC1.jar:5.2.0.RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\n</code></pre>\n\n<p>I have tried to change from: </p>\n\n<ol>\n<li><code>fun find(@RequestParam data: MMap)</code> to <code>fun find(@RequestParam data: HashMap&lt;String, Object&gt;)</code> and this works quite well but it is not what I really want to use because I have some shortcut in MMap so unless I have no choice otherwise it is not a good option for me. </li>\n<li><code>class MMap : HashMap&lt;String, Any&gt;()</code> to <code>class MMap : HashMap&lt;String, Object&gt;()</code> but nothing is working. </li>\n</ol>\n\n<p>So, if anyone can help, please share some idea. Thank you.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 8387554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZwPK.jpg?s=128&g=1", "display_name": "Mr.Sha1", "link": "https://stackoverflow.com/users/8387554/mr-sha1"}, "edited": false, "score": 0, "creation_date": 1568820036, "post_id": 57980377, "comment_id": 102398634, "body": "That library doesn&#39;t add the icon drawable to my project it just send me back an object of Drawable class"}, {"owner": {"reputation": 188, "user_id": 5523669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4421f054cd033b8a65e9fe96afd081?s=128&d=identicon&r=PG&f=1", "display_name": "indra lesmana", "link": "https://stackoverflow.com/users/5523669/indra-lesmana"}, "reply_to_user": {"reputation": 227, "user_id": 8387554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZwPK.jpg?s=128&g=1", "display_name": "Mr.Sha1", "link": "https://stackoverflow.com/users/8387554/mr-sha1"}, "edited": false, "score": 0, "creation_date": 1569596457, "post_id": 57980377, "comment_id": 102660699, "body": "I know what you want, I think you need to modify the library to change the return as resourceName and include on yout project"}], "tags": [], "owner": {"reputation": 188, "user_id": 5523669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b4421f054cd033b8a65e9fe96afd081?s=128&d=identicon&r=PG&f=1", "display_name": "indra lesmana", "link": "https://stackoverflow.com/users/5523669/indra-lesmana"}, "is_accepted": false, "score": 1, "last_activity_date": 1568746278, "creation_date": 1568746278, "answer_id": 57980377, "question_id": 57978860, "link": "https://stackoverflow.com/questions/57978860/store-object-of-drawable-class-in-database/57980377#57980377", "title": "Store object of Drawable class in database", "body": "<p>you can use <code>Resource.getIdentifier</code> </p>\n\n<pre><code>int imgId = res.getIdentifier(resourceName, \"drawable\", context.getPackageName());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 227, "user_id": 8387554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZwPK.jpg?s=128&g=1", "display_name": "Mr.Sha1", "link": "https://stackoverflow.com/users/8387554/mr-sha1"}, "edited": false, "score": 0, "creation_date": 1568819975, "post_id": 57981375, "comment_id": 102398595, "body": "Yea but the drawable is not in my project as R.drawable.XXX. It&#39;s just an object of Drawable class."}], "tags": [], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "is_accepted": false, "score": 0, "last_activity_date": 1568750852, "creation_date": 1568750852, "answer_id": 57981375, "question_id": 57978860, "link": "https://stackoverflow.com/questions/57978860/store-object-of-drawable-class-in-database/57981375#57981375", "title": "Store object of Drawable class in database", "body": "<p>I think you mean you want to store a Drawable in your SQLite database?\nYou could go with</p>\n\n<pre><code>val icon = BitmapFactory.decodeResource(this.resources, R.drawable.minus_vector_black)\nval stream = ByteArrayOutputStream()        \nicon.compress(Bitmap.CompressFormat.PNG, 100, stream)\nval iconAsByteArray = stream.toByteArray()\n</code></pre>\n\n<p>and then save that to your database as a BLOB</p>\n\n<p>(code shamelessly stolen from <a href=\"https://stackoverflow.com/questions/4989182/converting-java-bitmap-to-byte-array/36791309\">converting Java bitmap to byte array</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 8387554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZwPK.jpg?s=128&g=1", "display_name": "Mr.Sha1", "link": "https://stackoverflow.com/users/8387554/mr-sha1"}, "is_accepted": true, "score": 0, "last_activity_date": 1575378004, "last_edit_date": 1575378004, "creation_date": 1575058682, "answer_id": 59110554, "question_id": 57978860, "link": "https://stackoverflow.com/questions/57978860/store-object-of-drawable-class-in-database/59110554#59110554", "title": "Store object of Drawable class in database", "body": "<p>To all whose working with this library and have same problem as me. I found the answer by exploring on the library codes. There is a class called <strong>Icon</strong> which the <strong>IconDialog</strong> returns instances of this variable. As Icon's constructor is private you can't instantiate from that class so you should first convert them to <strong>Drawable</strong> then convert those <strong>Drawables</strong> to <strong>Bitmap</strong> (if you don't know how checkout <a href=\"https://stackoverflow.com/questions/3035692/how-to-convert-a-drawable-to-a-bitmap\">this link</a>).</p>\n\n<p>And for storing <strong>Bitmap</strong> in DataBase you can simply convert <strong>Bitmap</strong> to <strong>String</strong> using <a href=\"https://stackoverflow.com/questions/49715427/how-to-implement-sqlite-database-to-store-bitmap-image-and-text\">this link</a>.<br>\n<i>Or store Bitmap in file then store the link or any other ways you know.</i> </p>\n\n<p>Hope this solve your problem :)</p>\n"}], "owner": {"reputation": 227, "user_id": 8387554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZwPK.jpg?s=128&g=1", "display_name": "Mr.Sha1", "link": "https://stackoverflow.com/users/8387554/mr-sha1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59110554, "answer_count": 3, "score": 0, "last_activity_date": 1575378004, "creation_date": 1568739395, "question_id": 57978860, "link": "https://stackoverflow.com/questions/57978860/store-object-of-drawable-class-in-database", "title": "Store object of Drawable class in database", "body": "<p>I use <strong>IconDialog</strong> library to set an icon to my ImageView which user will set them. This library will return a Drawable object. I had no problem working with this library when I had no database as I just called setDrawable function and passed the returned drawable to it, but now I want to store a reference of this drawable to database and I can't find any methods in Drawable.class to get reference of drawable or something and I couldn't find any functions in the library which returns any reference. Any idea?</p>\n"}, {"tags": ["caching", "kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1568747300, "post_id": 57980086, "comment_id": 102370382, "body": "like what i&#39;m doing in the code in my question? <code>ContentType.Image.Any -&gt; CachingOptions(CacheControl.MaxAge(maxAgeSeconds = 30 * 24 * 60 * 60))</code>"}], "tags": [], "owner": {"reputation": 89, "user_id": 93091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tq5fw.png?s=128&g=1", "display_name": "Thorsten Schleinzer", "link": "https://stackoverflow.com/users/93091/thorsten-schleinzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1568744949, "creation_date": 1568744949, "answer_id": 57980086, "question_id": 57978856, "link": "https://stackoverflow.com/questions/57978856/respond-with-cache-headers-for-images-in-ktor/57980086#57980086", "title": "Respond with Cache headers for images in Ktor", "body": "<p>You can set caching headers by content type using: <a href=\"https://ktor.io/servers/features/caching-headers.html\" rel=\"nofollow noreferrer\">https://ktor.io/servers/features/caching-headers.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 2, "last_activity_date": 1569706818, "creation_date": 1569706818, "answer_id": 58150515, "question_id": 57978856, "link": "https://stackoverflow.com/questions/57978856/respond-with-cache-headers-for-images-in-ktor/58150515#58150515", "title": "Respond with Cache headers for images in Ktor", "body": "<p>Turns out that a standard eqauls check is being done on <code>*</code> instead of the actual file type, so using match instead sorts that problem out: </p>\n\n<pre><code>install(CachingHeaders) {\n    options { outgoingContent -&gt;\n        if (outgoingContent.contentType?.withoutParameters()?.match(ContentType.Image.Any) == true) {\n            CachingOptions(\n                cacheControl = CacheControl.MaxAge(\n                    mustRevalidate = false,\n                    maxAgeSeconds = 6 * 30 * 24 * 60 * 60,\n                    visibility = CacheControl.Visibility.Public\n                )\n            )\n        } else {\n            null\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 58150515, "answer_count": 2, "score": 2, "last_activity_date": 1569706818, "creation_date": 1568739391, "last_edit_date": 1569696309, "question_id": 57978856, "link": "https://stackoverflow.com/questions/57978856/respond-with-cache-headers-for-images-in-ktor", "title": "Respond with Cache headers for images in Ktor", "body": "<p>What is the correct way to send back cache headers for static images being served by Ktor?</p>\n\n<p>I have the following Ktor setup:</p>\n\n<p>In my <code>main</code>:</p>\n\n<pre><code>embeddedServer(\n        Netty,\n        watchPaths = listOf(\"module\"),\n        module = Application::module,\n        port = if (ENV.env == LOCAL) {\n            8080\n        } else {\n            80\n        }\n    ).apply {\n        start(wait = true)\n    }\n</code></pre>\n\n<p>and then outside the main:</p>\n\n<pre><code>fun Application.module() {\n    if (ENV.env != LOCAL) {\n        install(ForwardedHeaderSupport)\n        install(XForwardedHeaderSupport)\n        install(HttpsRedirect)\n    }\n    install(CachingHeaders) {\n        options { outgoingContent -&gt;\n            when (outgoingContent.contentType?.withoutParameters()) {\n                ContentType.Image.Any -&gt; CachingOptions(CacheControl.MaxAge(maxAgeSeconds = 30 * 24 * 60 * 60))\n                else -&gt; null\n            }\n        }\n    }\n    install(Compression) {\n        gzip {\n            priority = 1.0\n        }\n        deflate {\n            priority = 10.0\n            minimumSize(1024) // condition\n        }\n    }\n\n    routing {\n        static(\"/js/\") {\n            resources(\"/js/\")\n        }\n\n        static(\"/css/\") {\n            resources(\"/css/\")\n        }\n\n        static(\"/favicons\") {\n            resources(\"/favicons/\")\n        }\n\n        static(\"/img/\") {\n            resources(\"/static/img/\")\n            resources(\"/static/images/\")\n            resources(\"/background/\")\n            resources(\"/logos/\")\n            resources(\"/icons/\")\n        }\n    }\n}\n</code></pre>\n\n<p>The images however are coming back with no caching headers, any ideas?</p>\n\n<p><a href=\"https://i.stack.imgur.com/XOnn1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XOnn1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Changing <code>ContentType.Image.Any</code> to <code>ContentType.Image.JPEG</code> seems to work. Looking at the source code of <code>Image</code>, it seems to map to ContentType(<code>image</code>, <code>*</code>) but is not matching any image type at all.</p>\n\n<pre><code>install(CachingHeaders) {\n    options { outgoingContent -&gt;\n        when (outgoingContent.contentType?.withoutParameters()) {\n            ContentType.Image.JPEG -&gt; CachingOptions(\n                cacheControl = CacheControl.MaxAge(\n                    mustRevalidate = false,\n                    maxAgeSeconds = 30 * 24 * 60 * 60,\n                    visibility = CacheControl.Visibility.Public\n                )\n            )\n            else -&gt; null\n        }\n    }\n}\n</code></pre>\n\n<p>Filed a bug in the meantime: \n<a href=\"https://github.com/ktorio/ktor/issues/1366\" rel=\"nofollow noreferrer\">https://github.com/ktorio/ktor/issues/1366</a></p>\n"}, {"tags": ["android", "kotlin", "enums", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 3891, "user_id": 3166846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QoxDC.jpg?s=128&g=1", "display_name": "Dan Harms", "link": "https://stackoverflow.com/users/3166846/dan-harms"}, "is_accepted": true, "score": 4, "last_activity_date": 1568739648, "last_edit_date": 1568739648, "creation_date": 1568737712, "answer_id": 57978435, "question_id": 57978293, "link": "https://stackoverflow.com/questions/57978293/writing-a-type-safe-query-in-room-that-selects-based-on-a-certain-enum-value/57978435#57978435", "title": "Writing a type-safe query in Room that selects based on a certain enum value", "body": "<p>You could have a simple <code>getUsers(type)</code> that does the queries wrapped with a nicer interface that includes <code>getTrialUsers()</code>.</p>\n\n<pre><code>@Dao\nabstract class UserDao {\n    @Query(\"SELECT * FROM users WHERE type = :type\")\n    protected abstract suspend fun getUsers(type: Int): Array&lt;User&gt;\n\n    suspend fun getTrialUsers(): Array&lt;User&gt; = getUsers(UserType.Trial.ordinal)\n}\n</code></pre>\n"}], "owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 57978435, "answer_count": 1, "score": 1, "last_activity_date": 1568739648, "creation_date": 1568737116, "question_id": 57978293, "link": "https://stackoverflow.com/questions/57978293/writing-a-type-safe-query-in-room-that-selects-based-on-a-certain-enum-value", "title": "Writing a type-safe query in Room that selects based on a certain enum value", "body": "<p>In a Kotlin Android project, I want to have a Room query where I select records in a database table where one of the fields has a certain enum value. Room stores my enum values by running them through a <code>TypeConverter</code> that converts them to <code>Int</code> values.</p>\n\n<p>Here is my <code>Entity</code>:</p>\n\n<pre><code>@Entity(tableName = \"users\")\nclass User(\n    @PrimaryKey(autoGenerate = true)\n    val id: Int = 0,\n\n    @TypeConverters(UserType.Converter::class)\n    val type: UserType\n)\n\nenum class UserType {\n    Free,\n    Trial,\n    Paying;\n\n    object Converter {\n        @TypeConverter\n        fun toInt(userType: UserType): Int = userType.ordinal\n\n        @TypeConverter\n        fun fromInt(int: Int): UserType = values()[int]\n    }\n}\n</code></pre>\n\n<p>This is the query I want to write:</p>\n\n<pre><code>@Dao\ninterface UserDao {\n    @Query(\"SELECT * FROM users WHERE type = ${UserType.Trial.ordinal}\")\n    suspend fun getTrialUsers(): Array&lt;User&gt;\n}\n</code></pre>\n\n<p>The problem with that code is that Kotlin requires the parameter to the <code>Query</code> annotation to be a compile-time constant, but the <code>ordinal</code> value of an enum is not considered a compile-time constant. <strong>What would be a type-safe workaround?</strong> Currently, the non-type-safe workaround that I'm considering is to use <code>const</code> int values instead of an enum.</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-livedata", "android-mvvm"], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 10720040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pId0XAd1oQ/AAAAAAAAAAI/AAAAAAAAN6M/z0mIW1Icx6s/photo.jpg?sz=128", "display_name": "Miller Go Dev", "link": "https://stackoverflow.com/users/10720040/miller-go-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1568771389, "creation_date": 1568771389, "answer_id": 57983972, "question_id": 57977824, "link": "https://stackoverflow.com/questions/57977824/android-observing-db-changes-within-viewmodel/57983972#57983972", "title": "Android - observing DB changes within ViewModel", "body": "<blockquote>\n  <p>\"they are just a way to transform liveData objects, not a place where I can execute some viewmodel's logic.\"</p>\n</blockquote>\n\n<p>Yes you're right. It's because:</p>\n\n<blockquote>\n  <p>Functions in both map() and switchMap() run on the Main Thread,\n  so no long running operations should be done there!</p>\n</blockquote>\n\n<p>But I don't think observing LiveData in ViewModel is bad practice, because in Android we have <strong>MediatorLiveData</strong> for this purpose. If you take a look at source code of <strong>map</strong> and <strong>switchMap</strong> function, you'll see they use <strong>MediatorLiveData</strong> in there.</p>\n\n<p>So the only problem here is that if <em>some logic</em> you want to execute is a long running task, you must run it in background thread when observe changes from the source LiveData. You can use Rx or something to run it in background thread like below:</p>\n\n<pre><code>private val _downloadState = MutableLiveData&lt;DownloadDataState&gt;()\nval downloadState: LiveData&lt;DownloadDataState&gt; = _downloadState\n\n// version observe changes in downloadState\nval version = MediatorLiveData&lt;String&gt;().apply {\n    addSource(downloadState) {\n\n        // Whenever value of downloadState changes, this block will run your logic\n\n        Single.just(dataRepository.fetchDataVersion())\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(\n                { result -&gt;\n                    // Then set value to the observer \n                    value = result\n                },\n                { e: Throwable -&gt;\n                    e.printStackTrace()\n                }\n            )\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568771389, "creation_date": 1568735219, "question_id": 57977824, "link": "https://stackoverflow.com/questions/57977824/android-observing-db-changes-within-viewmodel", "title": "Android - observing DB changes within ViewModel", "body": "<p>I am using a lot of LiveData in my projects and it's great in those cases where I need to pass something to views since it's intention is to be observed by lifecycle owners (i.e. views). </p>\n\n<p>But I wonder what should I use in those cases when I need to apply some logic in my view models every time when some data from DB changes? </p>\n\n<p>I am familiar with Transformations (map and switch) but (if I am right) they are just a way to transform liveData objects, not a place where I can execute some viewmodel's logic. </p>\n\n<p>If I understand correctly, observing LiveData in viewModels is bad practice. \nWhat is an alternative? Some of the RxJava observable types? Or something else? </p>\n"}, {"tags": ["android", "api", "kotlin", "rx-java2", "android-glide"], "comments": [{"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 1, "creation_date": 1568734449, "post_id": 57977184, "comment_id": 102364837, "body": "first make a http request via retrofit and then use response which contains related url in order to be able download and load image into your image view"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568736136, "post_id": 57977184, "comment_id": 102365683, "body": "But the request returns me a photo, not the URL."}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568736479, "post_id": 57977184, "comment_id": 102365843, "body": "what&#39;s the log output about this request?"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568739450, "post_id": 57977184, "comment_id": 102367145, "body": "I can&#39;t track the log of a Retrofit request (?)"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568739498, "post_id": 57977184, "comment_id": 102367158, "body": "I solve my problem with another method, thanks anyway."}, {"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 1, "creation_date": 1568740578, "post_id": 57977184, "comment_id": 102367597, "body": "share your method please"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568882826, "post_id": 57977184, "comment_id": 102418821, "body": "I use the same method,but instead of the VM in the Fragment"}], "owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1594037507, "creation_date": 1568732778, "last_edit_date": 1594037507, "question_id": 57977184, "link": "https://stackoverflow.com/questions/57977184/load-image-from-api-with-get-request-in-glide", "title": "Load image from API with @GET request in Glide", "body": "<p>How i can load an image from an <code>API</code> method who uses <code>@GET</code> and return me a photo into an <code>ImageView</code> using Glide?\nIm using an VMMV Architecture so i have my repository and returning chains of <code>Observables</code> using <code>RxJava</code>. </p>\n\n<p>I try to use the conventional mode of <code>Glide</code> by an URL request with a header:</p>\n\n<pre><code>       Glide\n            .with(this)\n            .load(glideUrl)\n            .into(img_main_profile)\n</code></pre>\n\n<p>But it doesn't work.</p>\n\n<pre><code>    glideUrl = GlideUrl(\n        BASE_URL.plus(\"/api/user/profile_image?size=thumbnail\"),\n        LazyHeaders.Builder().addHeader(\"Authorization\", token).build())\n</code></pre>\n"}, {"tags": ["firebase", "gradle", "kotlin", "firebase-cloud-messaging", "synthetic"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1568737569, "post_id": 57976904, "comment_id": 102366312, "body": "Please file a bug report with Firebase support if you have a reproduction steps.  <a href=\"https://support.google.com/firebase/contact/support\" rel=\"nofollow noreferrer\">support.google.com/firebase/contact/support</a>"}], "owner": {"reputation": 1269, "user_id": 292665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8e3b593ec682a47c73296f916348843?s=128&d=identicon&r=PG", "display_name": "clauziere", "link": "https://stackoverflow.com/users/292665/clauziere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568731842, "creation_date": 1568731842, "question_id": 57976904, "link": "https://stackoverflow.com/questions/57976904/upgrading-to-firebase-messaging-19-0-0-and-up-breaks-kotlinxs-synthetic", "title": "Upgrading to firebase-messaging 19.0.0 and up breaks kotlinx&#39;s synthetic", "body": "<p>When I upgrade to firebase-messaging 19.0.0 and up it seems to cause conflict with kotlinx synthetic. The existing imports for synthetics are unused when I try with version 19. I didn't migrate to androidx yet.</p>\n\n<p>Anybody has seen this issue ?</p>\n"}, {"tags": ["kotlin", "aws-lambda", "amazon-ses"], "answers": [{"tags": [], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1568736691, "last_edit_date": 1568736691, "creation_date": 1568735987, "answer_id": 57978037, "question_id": 57976812, "link": "https://stackoverflow.com/questions/57976812/how-to-set-aws-keys-inside-a-lambda-function-written-in-kotlin/57978037#57978037", "title": "How to set AWS keys inside a lambda function written in kotlin?", "body": "<p>I was able to set the credentials using BasicAWSCredentials(AWS_ACCESS_KEY,AWS_SECRET_KEY)</p>\n\n<pre><code>    fun sendEmail(){\n        try{\n\n            BasicAWSCredentials(AWS_ACCESS_KEY,AWS_SECRET_KEY)\n\n            val client = AmazonSimpleEmailServiceClientBuilder.standard()\n                .withRegion(Regions.US_EAST_1).build()\n\n\n            val request = SendEmailRequest()\n                .withDestination(Destination().withToAddresses(EMAIL_TO))\n                .withMessage(Message().withBody(Body().withHtml(Content().withCharset(\"UTF-8\").withData(EMAIL_HTML_BODY))\n                    .withText(Content().withCharset(\"UTF-8\").withData(EMAIL_TEXT_BODY)))\n                    .withSubject(Content().withCharset(\"UTF-8\").withData(EMAIL_SUBJECT)))\n                    .withSource(EMAIL_FROM)\n                .withConfigurationSetName(EMAIL_CONFIGSET)\n            client.sendEmail(request)\n            println(\"Email sent\")\n\n        }catch (e: Exception){\n            println(\"Email failed to send with error: ${e.message}\")\n            println(e.printStackTrace())\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1765, "user_id": 6464013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800b098105b883e97c66cc3227a58807?s=128&d=identicon&r=PG", "display_name": "amittn", "link": "https://stackoverflow.com/users/6464013/amittn"}, "reply_to_user": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "edited": false, "score": 0, "creation_date": 1568753389, "post_id": 57978745, "comment_id": 102372870, "body": "@QThompson In that case your the lambda role has privileges to talk to Amazon SES. So you don&#39;t need to set the keys in your lambda then"}], "tags": [], "owner": {"reputation": 1765, "user_id": 6464013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800b098105b883e97c66cc3227a58807?s=128&d=identicon&r=PG", "display_name": "amittn", "link": "https://stackoverflow.com/users/6464013/amittn"}, "is_accepted": false, "score": 2, "last_activity_date": 1568738962, "creation_date": 1568738962, "answer_id": 57978745, "question_id": 57976812, "link": "https://stackoverflow.com/questions/57976812/how-to-set-aws-keys-inside-a-lambda-function-written-in-kotlin/57978745#57978745", "title": "How to set AWS keys inside a lambda function written in kotlin?", "body": "<ul>\n<li>I think the good practice would be to have an iam role (which your lambda would already have) and give that role appropriate access to invoke Amazon SES.</li>\n<li>For example just for the initial testing purpose attach the following policy <code>arn:aws:iam::aws:policy/AmazonSESFullAccess</code> to your lambda iam role. May be later on you can then restrict to only specific actions.</li>\n<li>The policy json is as follows</li>\n</ul>\n\n<pre><code>{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ses:*\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568738962, "creation_date": 1568731563, "last_edit_date": 1568736611, "question_id": 57976812, "link": "https://stackoverflow.com/questions/57976812/how-to-set-aws-keys-inside-a-lambda-function-written-in-kotlin", "title": "How to set AWS keys inside a lambda function written in kotlin?", "body": "<p>I am trying to set AWS keys inside my lambda function. I need to access AWS SES inside my lambda function so I can send an email. Ive tried setting the environment variables inside the lambda console, but it was unable to find the credentials. Is there a way to set the credentials programmatically?</p>\n\n<pre><code>    fun sendEmail(){\n        try{\n            val client = AmazonSimpleEmailServiceClientBuilder.standard()\n                .withRegion(Regions.US_EAST_1).build()\n\n\n            val request = SendEmailRequest()\n                .withDestination(Destination().withToAddresses(EMAIL_TO))\n                .withMessage(Message().withBody(Body().withHtml(Content().withCharset(\"UTF-8\").withData(EMAIL_HTML_BODY))\n                    .withText(Content().withCharset(\"UTF-8\").withData(EMAIL_TEXT_BODY)))\n                    .withSubject(Content().withCharset(\"UTF-8\").withData(EMAIL_SUBJECT)))\n                    .withSource(EMAIL_FROM)\n                .withConfigurationSetName(EMAIL_CONFIGSET)\n            client.sendEmail(request)\n            println(\"Email sent\")\n\n        }catch (e: Exception){\n            println(\"Email failed to send with error: ${e.message}\")\n            println(e.printStackTrace())\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 3, "creation_date": 1568733006, "post_id": 57976704, "comment_id": 102364063, "body": "ok... this seems a weird problem... maybe also a bug... I think it has to do with <code>Int</code> being translated to <code>int</code> in Java, but when you deal with generics in Java, you need to use <code>Integer</code>-type instead... if you instead would have the following function in place in <code>Impl</code>-class: <code>fun go(field : Int?)</code> it would not force you to implement that function in the java class... However, then you would have to implement it in any Kotlin class as there you didn&#39;t yet implement the <code>fun go(field : T)</code> then..."}, {"owner": {"reputation": 586, "user_id": 2429489, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gWyMB.png?s=128&g=1", "display_name": "Erlik", "link": "https://stackoverflow.com/users/2429489/erlik"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1568733838, "post_id": 57976704, "comment_id": 102364511, "body": "Indeed. If <code>T</code> was cast to <code>Int?</code> then it doesn&#39;t require me to reimplement the method. Unfortunately, that&#39;s not an option for me."}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1568735018, "post_id": 57977517, "comment_id": 102365138, "body": "However, if you use this approach, the compiler will give you warnings similar to the following: &quot;This class shouldn&#39;t be used in Kotlin. Use kotlin.Int instead.&quot;"}], "tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 2, "last_activity_date": 1568733982, "creation_date": 1568733982, "answer_id": 57977517, "question_id": 57976704, "link": "https://stackoverflow.com/questions/57976704/extending-kotlin-class-by-java-requires-me-to-reimplement-already-implemented-me/57977517#57977517", "title": "Extending Kotlin class by Java requires me to reimplement already implemented method", "body": "<p>You can use <code>javap</code> to analyze the problem, showing members of compiled interface and classes.</p>\n\n<p><em>javap Base</em></p>\n\n<pre><code>public interface Base&lt;T&gt; {\n  public abstract void go(T);\n}\n</code></pre>\n\n<p><em>javap Impl</em></p>\n\n<pre><code>public abstract class Impl implements Base&lt;java.lang.Integer&gt; {\n  public void go(int);\n  public void go(java.lang.Object);\n  public Impl();\n}\n</code></pre>\n\n<p>So, the problem is exactly that pointed out by @Roland: in order to satisfay the contract requested by the <code>Base</code> interface, the Java compiler needs a <code>public void go(java.lang.Integer)</code> method but the method generated by Kotlin compiler has <code>int</code> as parameter.</p>\n\n<p>If you implement the interface in Java, with something like</p>\n\n<pre><code>class JI implements Base&lt;Integer&gt; {\n    @Override\n    public void go(@NotNull Integer field) {\n\n    }\n}\n</code></pre>\n\n<p>you can analyze its compiled version with <code>javap</code> obtaining</p>\n\n<p><em>javap JI</em></p>\n\n<pre><code>class JI implements Base&lt;java.lang.Integer&gt; {\n  org.amicofragile.learning.kt.JI();\n  public void go(java.lang.Integer);\n  public void go(java.lang.Object);\n}\n</code></pre>\n\n<p>So, if you plan to use Kotlin class <code>Impl</code> as superclass of Java classes, the solution is simply to use <code>&lt;Integer&gt;</code>, not <code>&lt;Int&gt;</code>, as type parameter: <code>Int</code> is a Kotlin class, translated to <code>int</code> by the compiler; <code>Integer</code> is the Java class you usually use in Java code.</p>\n\n<p>Changing your example to</p>\n\n<pre><code>abstract class Impl : Base&lt;Integer&gt; {\n    override fun go(field: Integer) {}\n}\n\npublic class JavaImpl extends Impl {\n}\n</code></pre>\n\n<p>the <code>JavaImpl</code> Java class compiles without errors.</p>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 586, "user_id": 2429489, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gWyMB.png?s=128&g=1", "display_name": "Erlik", "link": "https://stackoverflow.com/users/2429489/erlik"}, "edited": false, "score": 0, "creation_date": 1568790376, "post_id": 57977647, "comment_id": 102381723, "body": "Meanwhile I had a bit more time to look at existing issues... it seems there are quite some issues that directly or indirectly relate to that problem: <a href=\"https://youtrack.jetbrains.com/issue/KT-17159\" rel=\"nofollow noreferrer\">KT-17159</a>, <a href=\"https://youtrack.jetbrains.com/issue/KT-30419\" rel=\"nofollow noreferrer\">KT-30419</a> ... but also others that have a problem with <code>T</code> as return value, where the overridden function is <code>Unit</code> in Kotlin (<a href=\"https://youtrack.jetbrains.com/issue/KT-5128\" rel=\"nofollow noreferrer\">KT-5128</a>)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1568790539, "last_edit_date": 1568790539, "creation_date": 1568734522, "answer_id": 57977647, "question_id": 57976704, "link": "https://stackoverflow.com/questions/57976704/extending-kotlin-class-by-java-requires-me-to-reimplement-already-implemented-me/57977647#57977647", "title": "Extending Kotlin class by Java requires me to reimplement already implemented method", "body": "<p>Looking at the byte code we can see, that the <code>Impl</code>-class basically has produced the following function:</p>\n\n<pre><code>public go(I)V\n</code></pre>\n\n<p>where the parameter is a primitive integer. Also a synthetic bridge-function (<code>go(Object)</code>) is generated, which however would also be generated on the Java-side for such generic functions.</p>\n\n<p>On the Java side however it doesn't suffice to have something like <code>public void go(int field)</code> in place. Now we need that <code>go(Integer field)</code>-function, which isn't present.\nFor me that sound's like an interop-problem that should probably be reported and linked back here again. Actually having had some time to investigate, there seem to be some issues already: <a href=\"https://youtrack.jetbrains.com/issue/KT-17159\" rel=\"nofollow noreferrer\">KT-17159</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-30419\" rel=\"nofollow noreferrer\">KT-30419</a>, but also <a href=\"https://youtrack.jetbrains.com/issue/KT-5128\" rel=\"nofollow noreferrer\">KT-5128</a> seem to relate to this problem. The kotlin compiler knows how to deal with this and doesn't need any further information about it in the class-file (i.e. the implementing Kotlin class knows, that it doesn't need to implement something like <code>fun go(field : Int?)</code>). For the Java-side such counterpart does not exist. I wonder whether this could even be fixed nicely with the compiler/byte-code or whether this will remain a specific interop-problem.</p>\n\n<p>Some workarounds to deal with that problem (in case this is deliberate and not a real problem):</p>\n\n<ol>\n<li><p>Add an additional function as follows to <code>Impl</code>:</p>\n\n<pre><code>fun go(field : Int?) = go(field ?: error(\"Actually the given field should never be null\"))\n// or simply:\nfun go(field : Int?) = go(field!!)\n</code></pre>\n\n<p>That way you would not need to implement it. However then you would also expose that nullable function to the Kotlin side, which you probably don't want.</p></li>\n<li><p>For that specific purpose it may seem more convenient to do it the other way around:\ndeclare the class and the interface in Java and use it on the Kotlin side. That way you could still declare something like</p>\n\n<pre><code>abstract class KotlinClass : JavaInterface&lt;Int&gt; {\n  override fun go(field : Int) { // an IDE might suggest you to use Int? here...\n    // ...\n  }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 586, "user_id": 2429489, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/gWyMB.png?s=128&g=1", "display_name": "Erlik", "link": "https://stackoverflow.com/users/2429489/erlik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 57977647, "answer_count": 2, "score": 7, "last_activity_date": 1568790539, "creation_date": 1568731231, "last_edit_date": 1568752396, "question_id": 57976704, "link": "https://stackoverflow.com/questions/57976704/extending-kotlin-class-by-java-requires-me-to-reimplement-already-implemented-me", "title": "Extending Kotlin class by Java requires me to reimplement already implemented method", "body": "<p>The simplest code to demonstrate the issue is this:</p>\n\n<p>Main interface in Kotlin:</p>\n\n<pre><code>interface Base &lt;T : Any&gt; {\n  fun go(field: T)\n}\n</code></pre>\n\n<p>Abstract class implementing it and the method:</p>\n\n<pre><code>abstract class Impl : Base&lt;Int&gt; {\n  override fun go(field: Int) {}\n}\n</code></pre>\n\n<p>Java class:</p>\n\n<pre><code>public class JavaImpl extends Impl {\n}\n</code></pre>\n\n<p>It should work, but it doesn't. The error is </p>\n\n<blockquote>\n  <p>Class 'JavaImpl' must either be declared abstract or implement abstract method 'go(T)' in 'Base'</p>\n</blockquote>\n\n<p>If the JavaImpl class was in Kotlin, it would work. Also if the <code>T</code> was cast to <code>String</code> or <code>Integer</code> or any object, it would work too. But not with Int.</p>\n\n<p>Is there any clever solution apart from using Integer and suppressing hundreds of warnings in Kotlin subclasses?</p>\n\n<p>Update: created the <a href=\"https://youtrack.jetbrains.com/issue/KT-33895?project=kt\" rel=\"nofollow noreferrer\">issue</a>. </p>\n"}, {"tags": ["android", "kotlin", "mvvm", "android-databinding", "ondestroy"], "comments": [{"owner": {"reputation": 1089, "user_id": 8893132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5G9K.jpg?s=128&g=1", "display_name": "mahdi shahbazi", "link": "https://stackoverflow.com/users/8893132/mahdi-shahbazi"}, "edited": false, "score": 0, "creation_date": 1568738324, "post_id": 57976409, "comment_id": 102366637, "body": "did you try to add your activity as your binding life cycle owner in <code>Product Detail Activity</code>?"}, {"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "reply_to_user": {"reputation": 1089, "user_id": 8893132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5G9K.jpg?s=128&g=1", "display_name": "mahdi shahbazi", "link": "https://stackoverflow.com/users/8893132/mahdi-shahbazi"}, "edited": false, "score": 0, "creation_date": 1568741480, "post_id": 57976409, "comment_id": 102367989, "body": "@mahdishahbazi i tried what you said sir, but the problem still persists."}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618472604, "post_id": 57976409, "comment_id": 118612596, "body": "I am also having the same problem, anyone plz suggest a solution, did anyone find solution?"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "edited": false, "score": 0, "creation_date": 1568752245, "post_id": 57981523, "comment_id": 102372427, "body": "Thanks a lot for suggesting. but i already tried this and it was of not an issue of instanceState @Joozd"}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618475216, "post_id": 57981523, "comment_id": 118613684, "body": "Tried this bro, but same problem persist"}], "tags": [], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "is_accepted": false, "score": 0, "last_activity_date": 1568751526, "creation_date": 1568751526, "answer_id": 57981523, "question_id": 57976409, "link": "https://stackoverflow.com/questions/57976409/old-view-data-appears-in-activity-briefly-before-new-data-is-put-into-activity/57981523#57981523", "title": "Old view data appears in activity briefly, before new data is put into activity using databinding and MVVM", "body": "<p><code>super.onCreate(null)</code> instead of <code>super.onCreate(savedInstanceState)</code> should do the trick.\nYou might want to put in some code to check if you want this to happen (ie. last instance was finished) or not (ie. you navigated away and system cleaned up your activity which it has to restart)</p>\n"}, {"comments": [{"owner": {"reputation": 60, "user_id": 11514311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecdbc4fdd140b4864ac37a128dfe0ddf?s=128&d=identicon&r=PG&f=1", "display_name": "Firat", "link": "https://stackoverflow.com/users/11514311/firat"}, "edited": false, "score": 0, "creation_date": 1593707753, "post_id": 57981653, "comment_id": 110881256, "body": "I am having the same problem. Can you explain how you solved it in detail?"}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618475276, "post_id": 57981653, "comment_id": 118613710, "body": "where should we use onCleared() can you plz explain in detail, for the past 1 month I am getting this issue and till not found a proper solution"}, {"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "reply_to_user": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618498270, "post_id": 57981653, "comment_id": 118624109, "body": "@Annie use use onCleared() inside your viewmodel class and clear out all the viewmodel objects (like livedata etc. in it). The onCleared() can be overriden inside a viewmodel and is called whenever a viewmodel is destroyed."}, {"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "reply_to_user": {"reputation": 60, "user_id": 11514311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecdbc4fdd140b4864ac37a128dfe0ddf?s=128&d=identicon&r=PG&f=1", "display_name": "Firat", "link": "https://stackoverflow.com/users/11514311/firat"}, "edited": false, "score": 0, "creation_date": 1618498438, "post_id": 57981653, "comment_id": 118624198, "body": "@Firat I used onCleared() inside viewmodel class to clear out my livedata objects. onCleared is called when viewmodel is destroyed. You need to override it."}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618584039, "post_id": 57981653, "comment_id": 118653602, "body": "Hi Kartik, inside onCleared() if I add &#39;getUserMeRepository()?.removeObservers(this)&#39;, getting error like &#39;inferred type is ViewModel but LifeCycleOwner was expected&#39; can u plz provide the line of code"}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618584218, "post_id": 57981653, "comment_id": 118653671, "body": "@KartikSaraf inside activity i can use &#39;viewModelStore.clear()&#39; but inside ViewModel() class I cant use this line of code"}, {"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "reply_to_user": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618597248, "post_id": 57981653, "comment_id": 118659255, "body": "@Annie just paste this inside your viewmodel   override fun onCleared() {         super.onCleared()     }  java -  void onCleared() {super.onCleared()}"}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618622730, "post_id": 57981653, "comment_id": 118665684, "body": "tried this also @KartikSaraf till old data appears for a second and then new data displayed"}, {"owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "reply_to_user": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618660679, "post_id": 57981653, "comment_id": 118672368, "body": "@Annie try removing the observer after the first time the data is observed"}, {"owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "edited": false, "score": 0, "creation_date": 1618828529, "post_id": 57981653, "comment_id": 118712027, "body": "@KartikSaraf , thankyou so much for your timely help, now its working for me"}], "tags": [], "owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "is_accepted": true, "score": 2, "last_activity_date": 1568752166, "creation_date": 1568752166, "answer_id": 57981653, "question_id": 57976409, "link": "https://stackoverflow.com/questions/57976409/old-view-data-appears-in-activity-briefly-before-new-data-is-put-into-activity/57981653#57981653", "title": "Old view data appears in activity briefly, before new data is put into activity using databinding and MVVM", "body": "<p>I found out the solution by implementing onCleared() inside my viewmodel and clearing my viewmodel objects.</p>\n"}], "owner": {"reputation": 115, "user_id": 7672293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUgL7.jpg?s=128&g=1", "display_name": "Kartik Saraf", "link": "https://stackoverflow.com/users/7672293/kartik-saraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 57981653, "answer_count": 2, "score": 3, "last_activity_date": 1568752166, "creation_date": 1568730257, "last_edit_date": 1568731445, "question_id": 57976409, "link": "https://stackoverflow.com/questions/57976409/old-view-data-appears-in-activity-briefly-before-new-data-is-put-into-activity", "title": "Old view data appears in activity briefly, before new data is put into activity using databinding and MVVM", "body": "<p>I have two activities-\nA. Product List\nB. Product Detail</p>\n\n<p>Whenever user clicks on product item, he goes to the product detail activity where an API is called which shows detail of that product.</p>\n\n<p>Now the problem is, that for the first time, the views in Product Detail initially have no data and i am inflating the data in views using livedata in viewmodel, with the help of data-binding. Now when the user navigates back to Product List , finish is called on Product Detail Activity. \nMow when user again clicks on another product, this time when he is taken to the product detail screen, old product detail briefly appears before new product detail is fetched from API and binded in the views. I don't know what is causing this behavior. Can somebody point me in the right direction ?</p>\n\n<p>I have already tried calling finish and System.gc, but somehow the view holds on to the old data before new data is inflated in it.</p>\n\n<p>Product List Activity</p>\n\n<pre><code>\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.os.Parcelable\nimport androidx.core.view.GravityCompat\nimport androidx.appcompat.app.ActionBarDrawerToggle\nimport android.view.MenuItem\nimport android.view.View\nimport androidx.drawerlayout.widget.DrawerLayout\nimport com.google.android.material.navigation.NavigationView\nimport android.widget.TextView\nimport androidx.databinding.DataBindingUtil\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProviders\nimport com.app.thingle.R\nimport com.app.thingle.databinding.ActivitySideMenuBinding\n\nimport com.app.thingle.data.model.dashBoardDataPackage.DashBoardStatus\nimport com.app.thingle.data.model.dashBoardDataPackage.Product\nimport com.app.thingle.utility.Constants\nimport com.app.thingle.viewModel.DashboardViewModel\nimport kotlinx.android.synthetic.main.activity_side_menu.view.*\nimport kotlinx.android.synthetic.main.app_bar_side_menu.view.*\nimport java.util.ArrayList\n\nclass SideMenuActivity : BaseActivity(), NavigationView.OnNavigationItemSelectedListener {\n    lateinit var sideMenuBinding: ActivitySideMenuBinding\n    lateinit var dashboardViewModel: DashboardViewModel\n    private lateinit var cartTextView: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        sideMenuBinding = DataBindingUtil.setContentView(this, R.layout.activity_side_menu)\n        dashboardViewModel = ViewModelProviders.of(this).get(DashboardViewModel::class.java)\n        sideMenuBinding.viewModel = dashboardViewModel\n        dashboardViewModel.getProductsFromServer()\n        sideMenuBinding.navView.setNavigationItemSelectedListener(this)\n        val toggle = ActionBarDrawerToggle(\n            this,\n            sideMenuBinding.drawerLayout,\n            sideMenuBinding.appBarSideMenu.mainToolbar,\n            R.string.navigation_drawer_open,\n            R.string.navigation_drawer_close\n        )\n        toggle.isDrawerIndicatorEnabled = false\n        sideMenuBinding.drawerLayout.addDrawerListener(toggle)\n        toggle.syncState()\n        if (!dashboardViewModel.isUser()) {\n            sideMenuBinding.drawerLayout.nav_view.menu.findItem(R.id.nav_log_out).isVisible = false\n        }\n        sideMenuBinding.appBarSideMenu.mainToolbar.toolbar_action_holder.menu_icon_id.setOnClickListener {\n            sideMenuBinding.drawerLayout.openDrawer(GravityCompat.START)\n        }\n        cartTextView =\n            sideMenuBinding.appBarSideMenu.mainToolbar.toolbar_action_holder.cart_holder.cart_amount\n        setUpBindings()\n\n    }\n\n    private fun setUpBindings() {\n        handleActivityStatus()\n        handleLoaderState()\n        handleApiResponse()\n        setUpListUpdate()\n        setUpCartStatus()\n        setUpListClicks()\n\n    }\n\n\n    private fun setUpListUpdate() {\n        dashboardViewModel.getProductsByType().observe(this, Observer {\n            dashboardViewModel.setItemsInAdapter(it)\n        })\n    }\n\n    private fun setUpCartStatus() {\n        dashboardViewModel.getCartCount().observe(this, Observer {\n            if (it &gt; 0) {\n                cartTextView.visibility = View.VISIBLE\n                cartTextView.text = it.toString()\n\n            }\n        })\n\n    }\n\n    private fun handleApiResponse() {\n        dashboardViewModel.getApiResponse().observe(this, Observer { handleResponse(it) })\n    }\n\n    private fun handleLoaderState() {\n        dashboardViewModel.getUiState().observe(this, Observer { handleState(it) })\n\n    }\n\n    private fun handleActivityStatus() {\n        dashboardViewModel.getDashboardStatus().observe(this, Observer {\n            when (it) {\n                DashBoardStatus.WRONG_PRODUCT_TYPE -&gt; {\n                    sideMenuBinding.appBarSideMenu.mainContent.noResultFoundLayout.visibility =\n                        View.VISIBLE\n                    sideMenuBinding.appBarSideMenu.mainContent.recyclerText.visibility = View.GONE\n                }\n                DashBoardStatus.GO_TO_CART_SCREEN -&gt; {\n                    showToast(\"Go to Cart\")\n                }\n                DashBoardStatus.GO_TO_SEARCH_SCREEN -&gt; {\n                    this.startActivity(\n                        Intent(this, SearchScreen::class.java)\n                    )\n                }\n                DashBoardStatus.EMPTY_LIST -&gt; {\n                    sideMenuBinding.appBarSideMenu.mainContent.noResultFoundLayout.visibility =\n                        View.VISIBLE\n                    sideMenuBinding.appBarSideMenu.mainContent.recyclerText.visibility = View.GONE\n                }\n                DashBoardStatus.FETCH_API_SUCCESS -&gt; {\n                    sideMenuBinding.appBarSideMenu.mainContent.recyclerText.visibility =\n                        View.VISIBLE\n                }\n                DashBoardStatus.FETCH_API_ERROR -&gt; {\n                    sideMenuBinding.appBarSideMenu.mainContent.noResultFoundLayout.visibility =\n                        View.VISIBLE\n                    sideMenuBinding.appBarSideMenu.mainContent.recyclerText.visibility = View.GONE\n                }\n                DashBoardStatus.NO_CONNECTION -&gt; {\n                    showToast(getString(R.string.no_network))\n                }\n                else -&gt; showToast(getString(R.string.something_went_wrong))\n\n            }\n        })\n    }\n\n    private fun setUpListClicks() {\n        dashboardViewModel.getSelectedProductType().observe(this, Observer {\n            this.startActivity(\n                Intent(this, BooksCategoryActivity::class.java)\n                    .putParcelableArrayListExtra(\n                        Constants.PRODUCT_LIST,\n                        it.Products as ArrayList&lt;Product&gt;\n                    )\n                    .putExtra(Constants.CATEGORY_NAME, it.name)\n                    .putExtra(Constants.ID, it.id)\n            )\n        })\n\n        dashboardViewModel.getSelectedProduct().observe(this, Observer {\n            this.startActivity(\n                Intent(this, BookDetailActivity::class.java)\n                    .putExtra(Constants.PRODUCT_ID, it.id)\n            )\n        })\n\n    }\n\n\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.nav_borrows -&gt; {\n                if (dashboardViewModel.isUser()) {\n                    this.startActivity(Intent(this, BorrowHistoryActivity::class.java))\n                } else {\n                    goToLogin()\n                }\n            }\n            R.id.nav_contributions -&gt; {\n                if (dashboardViewModel.isUser()) {\n                    this.startActivity(Intent(this, ContributionHistoryActivity::class.java))\n                } else {\n                    goToLogin()\n                }\n            }\n            R.id.nav_profile -&gt; {\n                if (dashboardViewModel.isUser()) {\n                    this.startActivity(Intent(this, EditProfileActivity::class.java))\n                } else {\n                    goToLogin()\n                }\n\n            }\n            R.id.nav_help_contact -&gt; {\n                if (dashboardViewModel.isUser()) {\n                    this.startActivity(Intent(this, ContactUsActivity::class.java))\n                } else {\n                    goToLogin()\n                }\n\n            }\n            R.id.nav_log_out -&gt; {\n                logOut()\n            }\n\n        }\n\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        drawerLayout.closeDrawer(GravityCompat.START)\n        return true\n    }\n\n    private fun goToLogin() {\n        this.startActivity(Intent(this, LoginActivity::class.java))\n        finishAffinity()\n    }\n\n    private fun logOut() {\n        dashboardViewModel.clearUserData()\n        goToLogin()\n    }\n\n    override fun onBackPressed() {\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            drawerLayout.closeDrawer(GravityCompat.START)\n        } else {\n            this.startActivity(Intent(this, ChooseTypeActivity::class.java))\n            killActivity()\n        }\n    }\n\n    private fun killActivity() {\n        this.finishAffinity()\n    }\n\n\n}\n</code></pre>\n\n<p>layout- Product Detail</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.app.thingle.viewModel.ProductDetailViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/main_layout_holder\"\n        tools:context=\".ui.activities.BookDetailActivity\"&gt;\n\n        &lt;include\n            android:id=\"@+id/about_book_toolbar\"\n            layout=\"@layout/thingle_search_and_cart_toolbar\" /&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/product_not_available_holder\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:elevation=\"3dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/about_book_toolbar\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@color/lightPink\"\n                android:fontFamily=\"@font/avenirltstd_book\"\n                android:gravity=\"center\"\n                android:padding=\"5dp\"\n                android:visibility=\"gone\"\n                android:text=\"@string/this_product_is_currently_unavailable\"\n                android:textColor=\"@color/white\"\n                android:textSize=\"14sp\" /&gt;\n\n        &lt;/FrameLayout&gt;\n\n        &lt;ScrollView\n            android:id=\"@+id/about_product_scrollView\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/product_not_available_holder\"&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n\n                &lt;ImageView\n                    android:id=\"@+id/book_image_id\"\n                    android:layout_width=\"100dp\"\n                    android:layout_height=\"140dp\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:scaleType=\"centerCrop\"\n                    app:layout_constraintStart_toStartOf=\"parent\"\n                    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/book_name_id\"\n                    app:layout_constraintVertical_chainStyle=\"packed\"\n                    app:layout_constraintVertical_bias=\"0.1\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginEnd=\"20dp\"\n                    android:fontFamily=\"@font/avenirltstd_black\"\n                    android:textColor=\"@color/black\"\n                    android:textSize=\"22sp\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toEndOf=\"@+id/book_image_id\"\n                    app:layout_constraintTop_toTopOf=\"@id/book_image_id\"\n                    app:layout_constraintBottom_toTopOf=\"@id/book_intro\"\n                    /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/book_intro\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginEnd=\"20dp\"\n                    android:fontFamily=\"@font/avenirltstd_book\"\n                    android:textColor=\"@color/black\"\n                    android:textSize=\"18sp\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toEndOf=\"@+id/book_image_id\"\n                    app:layout_constraintTop_toBottomOf=\"@id/book_name_id\"\n                    app:layout_constraintBottom_toBottomOf=\"@id/book_image_id\"\n                    /&gt;\n\n                &lt;Button\n                    android:id=\"@+id/add_cart_id\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:background=\"@drawable/pink_button_border\"\n                    android:fontFamily=\"@font/avenirltstd_book\"\n                    android:onClick=\"@{viewModel::onAddCartButtonClicked}\"\n                    android:text=\"@string/add_to_cart\"\n                    android:textAllCaps=\"false\"\n                    android:textColor=\"@color/white\"\n                    android:textSize=\"18sp\"\n                    app:layout_constraintEnd_toStartOf=\"@id/share_id\"\n                    app:layout_constraintHorizontal_weight=\"2\"\n                    app:layout_constraintStart_toStartOf=\"parent\"\n                    app:layout_constraintTop_toBottomOf=\"@id/book_image_id\" /&gt;\n\n                &lt;Button\n                    android:id=\"@+id/share_id\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:layout_marginEnd=\"20dp\"\n                    android:background=\"@drawable/pink_button_border\"\n                    android:fontFamily=\"@font/avenirltstd_book\"\n                    android:onClick=\"@{viewModel::onShareButtonClicked}\"\n                    android:text=\"@string/share\"\n                    android:textAllCaps=\"false\"\n                    android:textColor=\"@color/white\"\n                    android:textSize=\"18sp\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintHorizontal_weight=\"1\"\n                    app:layout_constraintStart_toEndOf=\"@id/add_cart_id\"\n                    app:layout_constraintTop_toBottomOf=\"@+id/book_image_id\" /&gt;\n\n                &lt;View\n                    android:id=\"@+id/line_id\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"0.1dp\"\n                    android:layout_marginTop=\"20dp\"\n                    android:background=\"@color/grey\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toStartOf=\"parent\"\n                    app:layout_constraintTop_toBottomOf=\"@id/add_cart_id\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/about_book_info\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"15dp\"\n                    android:fontFamily=\"@font/avenirltstd_book\"\n                    android:text=\"@string/about\"\n                    android:textColor=\"@color/black\"\n                    android:textSize=\"22sp\"\n                    app:layout_constraintStart_toStartOf=\"parent\"\n                    app:layout_constraintTop_toBottomOf=\"@id/line_id\" /&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/text_info_book\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginStart=\"20dp\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginEnd=\"20dp\"\n                    android:fontFamily=\"@font/avenirltstd_book\"\n                    android:lineSpacingExtra=\"@dimen/line_spacing\"\n                    android:textColor=\"@color/lightBlack\"\n                    android:textSize=\"16sp\"\n                    app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toStartOf=\"parent\"\n                    app:layout_constraintTop_toBottomOf=\"@id/about_book_info\" /&gt;\n\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n        &lt;/ScrollView&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Product Detail Activity</p>\n\n<pre><code>\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.TextView\nimport androidx.databinding.DataBindingUtil\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProviders\nimport com.app.thingle.R\nimport com.app.thingle.data.model.bookDetailDataPackage.ProductDetailStatus\nimport com.app.thingle.databinding.ActivityBookDetailBinding\nimport com.app.thingle.utility.Constants\nimport com.app.thingle.viewModel.ProductDetailViewModel\nimport kotlinx.android.synthetic.main.thingle_search_and_cart_toolbar.view.*\nimport android.view.KeyEvent.KEYCODE_BACK\nimport android.view.KeyEvent\nimport androidx.lifecycle.ViewModel\n\n\nclass BookDetailActivity : BaseActivity() {\n    private lateinit var bookDetailBinding: ActivityBookDetailBinding\n    private lateinit var productDetailViewModel: ProductDetailViewModel\n    private lateinit var cartTextView: TextView\n    private lateinit var toolBarTitle: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        bookDetailBinding = DataBindingUtil.setContentView(this, R.layout.activity_book_detail)\n        productDetailViewModel = ViewModelProviders.of(this).get(ProductDetailViewModel::class.java)\n        bookDetailBinding.viewModel = productDetailViewModel\n        productDetailViewModel.getProductById(intent.getIntExtra(Constants.PRODUCT_ID, -1))\n        setUpBindings()\n        setUpToolbar()\n\n    }\n\n    private fun setUpToolbar() {\n        toolBarTitle = bookDetailBinding.aboutBookToolbar.toolbar_action_holder.thingle_toolbar_text\n        toolBarTitle.text = getString(R.string.about_Book)\n        bookDetailBinding.aboutBookToolbar.toolbar_action_holder.thingle_logo_toolbar_back.setOnClickListener { onBackPressed() }\n        bookDetailBinding.aboutBookToolbar.toolbar_action_holder.toolbar_search_id.setOnClickListener {\n            this.startActivity(\n                Intent(this, SearchScreen::class.java)\n            )\n            finish()\n        }\n        bookDetailBinding.aboutBookToolbar.toolbar_action_holder.cart_id.setOnClickListener {\n            showToast(\n                \"Go To Cart\"\n            )\n        }\n        cartTextView =\n            bookDetailBinding.aboutBookToolbar.toolbar_action_holder.cart_holder.cart_amount\n    }\n\n    private fun setUpBindings() {\n        setUpValues()\n        handleLoaderState()\n        handleApiResponse()\n        setUpCartStatus()\n        handleActivityStatus()\n        setUpButtonClick()\n\n\n    }\n\n    private fun setUpValues() {\n        productDetailViewModel.getProduct().observe(this, Observer {\n            if (!it.isAvailable) {\n                bookDetailBinding.productNotAvailableHolder.visibility = View.VISIBLE\n                bookDetailBinding.addCartId.visibility = View.GONE\n            }\n            bookDetailBinding.bookNameId.text = it.title\n            bookDetailBinding.bookIntro.text = it.shortDescription\n            bookDetailBinding.textInfoBook.text = it.description\n            if (it.ProductImages!!.isNotEmpty()) {\n                if (it.ProductImages[0].imageUrl != null) {\n                    setImageUrlOnImageView(\n                        bookDetailBinding.bookImageId,\n                        it.ProductImages[0].imageUrl\n                    )\n                }\n\n            }\n\n        })\n    }\n\n    private fun setUpButtonClick() {\n        productDetailViewModel.getProductId().observe(this, Observer {\n            showToast(it.toString())\n        })\n    }\n\n    private fun handleActivityStatus() {\n        productDetailViewModel.getActivityStatus().observe(this, Observer {\n            when (it) {\n                ProductDetailStatus.FETCH_API_SUCCESS -&gt; {\n                }\n                ProductDetailStatus.FETCH_API_ERROR -&gt; {\n                    showToast(getString(R.string.something_went_wrong))\n                    onBackPressed()\n                }\n                ProductDetailStatus.NO_CONNECTION -&gt; {\n                    showToast(getString(R.string.no_network))\n                }\n                ProductDetailStatus.EMPTY_DATA -&gt; {\n                    showToast(getString(R.string.no_data))\n                    onBackPressed()\n                }\n                ProductDetailStatus.SHARE_BUTTON_CLICKED -&gt; {\n                    showToast(\"Share\")\n                }\n                //ProductDetailStatus.ADD_CART_BUTTON_CLICKED-&gt;{showToast(\"Add To Cart\")}\n                else -&gt; {\n                    showToast(getString(R.string.something_went_wrong))\n                }\n            }\n\n        })\n    }\n\n    private fun setUpCartStatus() {\n        productDetailViewModel.getCartCount().observe(this, Observer {\n            if (it &gt; 0) {\n                cartTextView.visibility = View.VISIBLE\n                cartTextView.text = it.toString()\n\n            }\n        })\n\n    }\n\n\n    private fun handleApiResponse() {\n        productDetailViewModel.getApiResponse().observe(this, Observer { handleResponse(it) })\n    }\n\n    private fun handleLoaderState() {\n        productDetailViewModel.getUiState().observe(this, Observer { handleState(it) })\n\n    }\n\n    override fun onBackPressed() {\n        super.onBackPressed()\n        killActivity()\n\n    }\n\n    private fun killActivity() {\n        finish()\n    }\n\n    override fun onKeyDown(keyCode: Int, event: KeyEvent): Boolean {\n        if (keyCode == KEYCODE_BACK) {\n            killActivity()\n        }\n        return super.onKeyDown(keyCode, event)\n    }\n\n\n\n}\n</code></pre>\n\n<p>Product Detail Viewmodel</p>\n\n<pre><code>\n\nimport android.app.Application\nimport android.view.View\nimport androidx.lifecycle.LiveData\nimport androidx.lifecycle.MutableLiveData\nimport com.app.thingle.data.model.bookDetailDataPackage.ProductDetailStatus\nimport com.app.thingle.data.model.bookDetailDataPackage.ResponseObject\nimport com.app.thingle.data.repository.CartRepository\nimport com.app.thingle.data.repository.ProductDetailRepository\nimport com.app.thingle.utility.ApiResponseCallback\nimport com.app.thingle.utility.ConnectionDetector\nimport com.app.thingle.utility.SingleLiveEvent\n\nclass ProductDetailViewModel(application: Application) : BaseViewModel(application) {\n    private var product: MutableLiveData&lt;ResponseObject&gt; = MutableLiveData()\n    private var productId: MutableLiveData&lt;Int&gt; = MutableLiveData()\n    private var userCartItems =\n        MutableLiveData&lt;List&lt;com.app.thingle.data.model.cartDataPackage.ResponseObject&gt;&gt;()\n    var cartCount: MutableLiveData&lt;Int&gt; = MutableLiveData()\n    private val productDetailStatus = SingleLiveEvent&lt;ProductDetailStatus&gt;()\n\n\n    fun getProductById(productId: Int) {\n\n        if (product.value == null &amp;&amp; productId != -1) {\n            fetchProductsByType(productId)\n        } else {\n            productDetailStatus.value = ProductDetailStatus.EMPTY_DATA\n        }\n    }\n\n    private fun fetchProductsByType(id: Int) {\n        if (ConnectionDetector.getInstance(context).isConnectionAvailable()) {\n            setLoaderState(true)\n            product = ProductDetailRepository.instance.fetchProductById(\n                id,\n                context,\n                object : ApiResponseCallback {\n                    override fun provideResponse(\n                        isApiError: Boolean,\n                        isResponseError: Boolean,\n                        response: String\n                    ) {\n                        if (isApiError || isResponseError) {\n                            setLoaderState(false)\n                            productDetailStatus.value = ProductDetailStatus.FETCH_API_ERROR\n                        } else {\n                            productDetailStatus.value = ProductDetailStatus.FETCH_API_SUCCESS\n                            if (product.value == null) {\n                                productDetailStatus.value = ProductDetailStatus.EMPTY_DATA\n                            }\n                            if (isUser()) {\n                                fetchCartForUser()\n                            } else {\n                                setLoaderState(false)\n                                cartCount.value = 0\n                            }\n\n                        }\n                    }\n\n                })\n\n\n        } else {\n            productDetailStatus.value = ProductDetailStatus.NO_CONNECTION\n        }\n\n\n    }\n\n    private fun fetchCartForUser() {\n        userCartItems =\n            CartRepository.instance.fetchCartForUser(context, object : ApiResponseCallback {\n                override fun provideResponse(\n                    isApiError: Boolean,\n                    isResponseError: Boolean,\n                    response: String\n                ) {\n                    setLoaderState(false)\n                    if (isApiError || isResponseError) {\n                        cartCount.value = 0\n                    } else {\n                        if (userCartItems.value!!.isNotEmpty()) {\n                            cartCount.value = userCartItems.value!!.size\n                        }\n                    }\n                }\n\n            })\n\n\n    }\n\n\n    fun getProductId(): LiveData&lt;Int&gt; {\n        return productId\n    }\n\n    fun getProduct(): LiveData&lt;ResponseObject&gt; {\n        return product\n    }\n\n    fun getCartCount(): LiveData&lt;Int&gt; {\n        return cartCount\n    }\n\n    fun getActivityStatus(): SingleLiveEvent&lt;ProductDetailStatus&gt; {\n        return productDetailStatus\n    }\n\n    fun onAddCartButtonClicked(v: View) {\n        productDetailStatus.value = ProductDetailStatus.ADD_CART_BUTTON_CLICKED\n        productId.value = product.value!!.id\n    }\n\n    fun onShareButtonClicked(v: View) {\n        productDetailStatus.value = ProductDetailStatus.SHARE_BUTTON_CLICKED\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 855, "user_id": 1561469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YFWJt.png?s=128&g=1", "display_name": "crazyloonybin", "link": "https://stackoverflow.com/users/1561469/crazyloonybin"}, "edited": false, "score": 0, "creation_date": 1568732245, "post_id": 57976379, "comment_id": 102363618, "body": "I&#39;m not familiar enough with IntelliJ to say whether it is possible or not (hence a comment, not an answer). But you ask why it doesn&#39;t give you the option, I&#39;d guess it&#39;s because of the complexity of implementing the feature. Assume you have <code>MyConstructor(int i1, int i2)</code>, and you provide 3 <code>int</code> values, how would IntelliJ know where you want the new parameter to go. Does it insert it before <code>i1</code>, between <code>i1</code> and <code>i2</code>, or after <code>i2</code>?"}, {"owner": {"reputation": 855, "user_id": 1561469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YFWJt.png?s=128&g=1", "display_name": "crazyloonybin", "link": "https://stackoverflow.com/users/1561469/crazyloonybin"}, "edited": false, "score": 0, "creation_date": 1568732623, "post_id": 57976379, "comment_id": 102363846, "body": "Another potential issue is if it <i>were</i> to add the parameter into the constructor, one may assume that any other places in the code where that constructor is called will be updated to include the new parameter too. However, IntelliJ wouldn&#39;t know what value to put into the refactored constructor call. As mentioned in the previous comment though, I don&#39;t know if it is actually possible or not - if so, these comments will be irrelevant!"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 855, "user_id": 1561469, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YFWJt.png?s=128&g=1", "display_name": "crazyloonybin", "link": "https://stackoverflow.com/users/1561469/crazyloonybin"}, "edited": false, "score": 0, "creation_date": 1568739177, "post_id": 57976379, "comment_id": 102367034, "body": "I believe IntelliJ is smart enough to do it because hitting ctrl+f6 brings up a dialog to change the signature in the same way, and it will step let you choose the default value of the new param. However it will assign that value to every instance, whereas really it should let you step through them one at a time. Maybe this feature doesn&#39;t exist, I am surprised though"}], "answers": [{"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1568822867, "post_id": 57996065, "comment_id": 102400234, "body": "Thanks yes it looks like that ticket is actually exactly what I am talking about (but more succinct) :)"}, {"owner": {"reputation": 46, "user_id": 12085932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mP51T.png?s=128&g=1", "display_name": "Sergei Dubrov", "link": "https://stackoverflow.com/users/12085932/sergei-dubrov"}, "reply_to_user": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1568904591, "post_id": 57996065, "comment_id": 102431511, "body": "Actually the <a href=\"https://youtrack.jetbrains.com/issue/KT-8478\" rel=\"nofollow noreferrer\">KT-8478</a> ticket is different.  In your case you have already added parameter to method (constructor) declaration and expecting to have an available quick fix to add argument to method (constructor) usage. There is no ticket for that feature because it is already supported with Code Completion both in Kotlin and Java.  The ticket fixes the opposite problem when argument is added to method usage but there is no parameter in method declaration. That is why I added it in FYI section."}], "tags": [], "owner": {"reputation": 46, "user_id": 12085932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mP51T.png?s=128&g=1", "display_name": "Sergei Dubrov", "link": "https://stackoverflow.com/users/12085932/sergei-dubrov"}, "is_accepted": true, "score": 2, "last_activity_date": 1568819821, "creation_date": 1568819821, "answer_id": 57996065, "question_id": 57976379, "link": "https://stackoverflow.com/questions/57976379/intellij-is-there-an-option-to-automatically-add-extra-parameters-to-a-constru/57996065#57996065", "title": "IntelliJ - is there an option to automatically add extra parameters to a constructor?", "body": "<p>The expected feature is supported in Code Completion. <code>memberId</code> argument is supposed in completion list with first priority. Using 'Ctrl+Space' and ',' completes the arguments. This behavior is also the same for other type of functions (not only for constructors).</p>\n\n<p>Note: there is no such quick fix in case of Java:</p>\n\n<pre><code>public class Test {\n    private String s;\n    private Integer n;\n\n    Test(String s, Integer n) {\n        this.s = s;\n        this.n = n;\n    }\n\n    public Test foo() {\n        return new Test(s); // there is no quick fox to add 'n' argument but it presents in completion\n    }\n}\n</code></pre>\n\n<p>FYI: There is an opposite situation when argument is added on use-site but parameter is not yet added at declaration site. Here is a ticket for supporting quick fix for that: <a href=\"https://youtrack.jetbrains.com/issue/KT-8478\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-8478</a>. (edited) </p>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 57996065, "answer_count": 1, "score": 0, "last_activity_date": 1568819821, "creation_date": 1568730136, "question_id": 57976379, "link": "https://stackoverflow.com/questions/57976379/intellij-is-there-an-option-to-automatically-add-extra-parameters-to-a-constru", "title": "IntelliJ - is there an option to automatically add extra parameters to a constructor?", "body": "<p>I am adding a 3rd parameter to this constructor (the <code>String?</code> <code>memberId</code>), does anyone know how or why IntelliJ doesn't give me the option to insert this new constructor parameter automatically? The best it can do is change the type of the next parameter, or make a second constructor, which I would have thought it should be kind of obvious to IntelliJ these are probably not useful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VOAPd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOAPd.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "button", "kotlin", "android-view", "show-hide"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1568729318, "post_id": 57976092, "comment_id": 102361865, "body": "you should set only 1 listener. Inside you check the current visibility. If visible you hide it, if hidden you show it."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 2, "creation_date": 1568729424, "post_id": 57976092, "comment_id": 102361922, "body": "<code>btnHideShow.setOnClickListener{ view1.isGone = !view1.isGone }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11846024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54daf556adb20eef356d7d6022a2f749?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/11846024/vadim"}, "is_accepted": false, "score": 0, "last_activity_date": 1568729919, "creation_date": 1568729919, "answer_id": 57976306, "question_id": 57976092, "link": "https://stackoverflow.com/questions/57976092/how-to-hide-and-show-a-view-with-the-same-button-in-kotlin/57976306#57976306", "title": "How to hide and show a view with the same button in Kotlin", "body": "<p>Thanks to the comment I found out it's easy like this:</p>\n\n<pre><code>btnHideShow.setOnClickListener{\n        if (view1.isVisible){\n            view1.visibility = View.GONE\n        }\n        else view1.visibility = View.VISIBLE\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 11846024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54daf556adb20eef356d7d6022a2f749?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/11846024/vadim"}, "edited": false, "score": 1, "creation_date": 1568888648, "post_id": 57989665, "comment_id": 102422024, "body": "That&#39;s true! Thanks!"}], "tags": [], "owner": {"reputation": 178, "user_id": 5871092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c75a8affc8abdccf47e4a11c8ffe0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Madhav", "link": "https://stackoverflow.com/users/5871092/madhav"}, "is_accepted": true, "score": 1, "last_activity_date": 1568799523, "creation_date": 1568799523, "answer_id": 57989665, "question_id": 57976092, "link": "https://stackoverflow.com/questions/57976092/how-to-hide-and-show-a-view-with-the-same-button-in-kotlin/57989665#57989665", "title": "How to hide and show a view with the same button in Kotlin", "body": "<p>Simplest way to achieve that</p>\n\n<p>btnHideShow.setOnClickListener{ view1.visibility = !view1.visibility  }</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11009408, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nGf71hybLG4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMAs6GjNzr0R0XZ9Z6eMXYA_1CTeA/mo/photo.jpg?sz=128", "display_name": "BestUserApps", "link": "https://stackoverflow.com/users/11009408/bestuserapps"}, "is_accepted": false, "score": 0, "last_activity_date": 1577611668, "last_edit_date": 1577611668, "creation_date": 1577610406, "answer_id": 59518080, "question_id": 57976092, "link": "https://stackoverflow.com/questions/57976092/how-to-hide-and-show-a-view-with-the-same-button-in-kotlin/59518080#59518080", "title": "How to hide and show a view with the same button in Kotlin", "body": "<p>The accepted answer is incorrect. Correctly:</p>\n\n<pre><code>btnHideShow.setOnClickListener { view1.isVisible = !view1.isVisible }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11846024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54daf556adb20eef356d7d6022a2f749?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/11846024/vadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 57989665, "answer_count": 3, "score": 0, "last_activity_date": 1577611668, "creation_date": 1568729257, "question_id": 57976092, "link": "https://stackoverflow.com/questions/57976092/how-to-hide-and-show-a-view-with-the-same-button-in-kotlin", "title": "How to hide and show a view with the same button in Kotlin", "body": "<p>For an android app I want to hide and show a view with the same button. It's probably a very basic understanding that I'm missing. So I would be really grateful for an explanation.</p>\n\n<p>I've tried the code below, but it's only working once. </p>\n\n<pre><code>if (view1.isVisible){\n        btnHideShow.setOnClickListener{\n            view1.visibility = View.GONE\n            if (view1.isGone) {\n                btnHideShow.setOnClickListener {\n                    view1.visibility = View.VISIBLE\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-linearlayout"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 11653137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027a49441862f7671958f5acf8d13623?s=128&d=identicon&r=PG&f=1", "display_name": "Jisip", "link": "https://stackoverflow.com/users/11653137/jisip"}, "edited": false, "score": 0, "creation_date": 1568728974, "post_id": 57975937, "comment_id": 102361627, "body": "Would changes would be needed in the *.kt file?"}, {"owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "reply_to_user": {"reputation": 175, "user_id": 11653137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027a49441862f7671958f5acf8d13623?s=128&d=identicon&r=PG&f=1", "display_name": "Jisip", "link": "https://stackoverflow.com/users/11653137/jisip"}, "edited": false, "score": 0, "creation_date": 1568729016, "post_id": 57975937, "comment_id": 102361655, "body": "No there should be no change in your Activities and Fragment."}], "tags": [], "owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "is_accepted": true, "score": 2, "last_activity_date": 1568730036, "last_edit_date": 1568730036, "creation_date": 1568728793, "answer_id": 57975937, "question_id": 57975867, "link": "https://stackoverflow.com/questions/57975867/how-to-dynamically-change-linearlayout-orientation-depending-on-device-orientati/57975937#57975937", "title": "How to Dynamically Change LinearLayout Orientation Depending on Device Orientation", "body": "<p>You need to use separate folders for your layouts : <code>layout</code> for portrait mode and <code>layout-land</code> for landscape mode, and put two separate xml files <code>with the same name</code> in each one.</p>\n\n<p>One of xml files with LinearLayout with a vertical orientation and another xml file with LinearLayout with horizontal orientation.</p>\n\n<p>For instance look at <a href=\"https://abhiandroid.com/androidstudio/add-create-landscape-layout-android-studio.html\" rel=\"nofollow noreferrer\">How to Add/Create Landscape Layout in Android Studio</a></p>\n"}], "owner": {"reputation": 175, "user_id": 11653137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027a49441862f7671958f5acf8d13623?s=128&d=identicon&r=PG&f=1", "display_name": "Jisip", "link": "https://stackoverflow.com/users/11653137/jisip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 57975937, "answer_count": 1, "score": -1, "last_activity_date": 1568730036, "creation_date": 1568728651, "last_edit_date": 1568729013, "question_id": 57975867, "link": "https://stackoverflow.com/questions/57975867/how-to-dynamically-change-linearlayout-orientation-depending-on-device-orientati", "title": "How to Dynamically Change LinearLayout Orientation Depending on Device Orientation", "body": "<p>How do I change the orientation of a LinearLayout when a device changes orientation? What changes would be needed in the *.xml's associated *.kt file?</p>\n\n<p>For example, the device is in Portrait and displays a LinearLayout with a vertical orientation. When the device turns and becomes Landscape, the LinearLayout should have a horizontal orientation.</p>\n\n<p>I imagine that two different layouts would be called depending on the configuration change but I'm not sure.</p>\n"}, {"tags": ["android", "kotlin", "reflection", "proguard", "android-r8"], "comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1568725468, "post_id": 57974556, "comment_id": 102359357, "body": "Have you tried adding the <code>@Keep</code> annotation?"}, {"owner": {"reputation": 57370, "user_id": 385478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a6f82bd8116b0260515a2b67bb560937?s=128&d=identicon&r=PG", "display_name": "Graham Borland", "link": "https://stackoverflow.com/users/385478/graham-borland"}, "reply_to_user": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1568725666, "post_id": 57974556, "comment_id": 102359475, "body": "@RobCo yes, makes no difference."}], "answers": [{"tags": [], "owner": {"reputation": 2085, "user_id": 2418642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/661bf0e57b634fc69c154d2e1901520c?s=128&d=identicon&r=PG", "display_name": "sgjesse", "link": "https://stackoverflow.com/users/2418642/sgjesse"}, "is_accepted": true, "score": 6, "last_activity_date": 1568735481, "creation_date": 1568735481, "answer_id": 57977901, "question_id": 57974556, "link": "https://stackoverflow.com/questions/57974556/r8-stripping-out-kotlin-companion-object-needed-for-reflection/57977901#57977901", "title": "R8 stripping out Kotlin companion object needed for reflection", "body": "<p>First of all, the keep rule</p>\n\n<pre><code>-keep class my.package.** {\n    *;\n}\n</code></pre>\n\n<p>should be sufficient to keep all the classes - including companion classes in your program. You should not need the <code>-dontoptimize</code> flag, so using the configuration <code>proguard-android-optimize.txt</code> should be fine.</p>\n\n<p>However, as you use Kotlin reflection you probably also need to keep the annotation class <code>kotlin.Metadata</code> and runtime visible annotations with these rules:</p>\n\n<pre><code>-keep @interface kotlin.Metadata {\n  *;\n}\n-keepattributes RuntimeVisibleAnnotations\n</code></pre>\n\n<p>If that does still not work could you please file an <a href=\"https://issuetracker.google.com/issues/new?component=326788&amp;template=1025938\" rel=\"noreferrer\">R8 issue</a>? If you can include a simple reproduction that would be great.</p>\n"}], "owner": {"reputation": 57370, "user_id": 385478, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a6f82bd8116b0260515a2b67bb560937?s=128&d=identicon&r=PG", "display_name": "Graham Borland", "link": "https://stackoverflow.com/users/385478/graham-borland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1155, "favorite_count": 0, "accepted_answer_id": 57977901, "answer_count": 1, "score": 6, "last_activity_date": 1568735481, "creation_date": 1568724488, "last_edit_date": 1568725692, "question_id": 57974556, "link": "https://stackoverflow.com/questions/57974556/r8-stripping-out-kotlin-companion-object-needed-for-reflection", "title": "R8 stripping out Kotlin companion object needed for reflection", "body": "<p>I have a class with a companion object which implements a factory interface.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class GoalInspectorData(\n    ...\n) {\n\n    companion object : DataClassFactory&lt;GoalInspectorData&gt; {\n\n        override fun fromV8Object(v8Object: V8Object): GoalInspectorData {\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>I have some code which examines this class at runtime using reflection to see if the class provides a factory method. It does this by checking to see if the class has a companion object (<code>companionObjectInstance</code>) and, if so, if that companion object implements the factory interface.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>internal inline fun &lt;reified T&gt; convert(obj: Any): T {\n\n    val companionObject = T::class.companionObjectInstance\n\n    @Suppress(\"UNCHECKED_CAST\")\n    return when {\n        T::class in builtInClasses -&gt; obj as T\n        companionObject as? DataClassFactory&lt;T&gt; != null -&gt; companionObject.fromV8Object(obj as V8Object)\n        else -&gt; throw IllegalArgumentException(\"No converter for type ${T::class}\")\n    }\n}\n</code></pre>\n\n<p>This all works fine in a debug build.</p>\n\n<p>It fails in a release build with R8 enabled (<code>minifyEnabled true</code> in <strong>build.gradle</strong>). It fails because <code>companionObjectInstance</code> returns <code>null</code>. </p>\n\n<p>I'm using the <em>don't optimize</em> Proguard config:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n</code></pre>\n\n<p>and in my own <strong>proguard-rules.pro</strong> I've added just about every <code>-keep</code> rule I can imagine in an attempt to retain this companion object, and added <code>@Keep</code> annotations to everything, but nothing works. R8 is determined to strip it out.</p>\n\n<p>For example:</p>\n\n<pre><code>-keep class my.package.** {\n    *;\n}\n-keep interface my.package.** {\n    *;\n}\n\n-if class **$Companion extends **\n-keep class &lt;2&gt;\n-if class **$Companion implements **\n-keep class &lt;2&gt;\n</code></pre>\n\n<p>Are there any other <code>-keep</code> rules or configuration options which would instruct R8 to retain this companion object?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1568719634, "post_id": 57973261, "comment_id": 102356341, "body": "Whats the error you are getting"}, {"owner": {"reputation": 285, "user_id": 10451133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7rdqRnuM800/AAAAAAAAAAI/AAAAAAAAAF0/r-hKmWFZ4pM/photo.jpg?sz=128", "display_name": "murugan mani", "link": "https://stackoverflow.com/users/10451133/murugan-mani"}, "reply_to_user": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "edited": false, "score": 0, "creation_date": 1568719668, "post_id": 57973261, "comment_id": 102356363, "body": "no error showing only show blank"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1568720208, "post_id": 57973261, "comment_id": 102356604, "body": "Plaintext communications are banned by default on modern versions of Android. Use <code>https</code> instead of <code>http</code>."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1568720651, "post_id": 57973261, "comment_id": 102356816, "body": "@muruganmani http issue"}, {"owner": {"reputation": 3305, "user_id": 356629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f563718f19b5aab648973d6e38a9d8af?s=128&d=identicon&r=PG", "display_name": "kenny_k", "link": "https://stackoverflow.com/users/356629/kenny-k"}, "edited": false, "score": 0, "creation_date": 1568721430, "post_id": 57973261, "comment_id": 102357175, "body": "If you put that url into a browser address bar, do you get your image? Maybe you need to include a port number?"}], "answers": [{"tags": [], "owner": {"reputation": 2596, "user_id": 6834114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPD4g.jpg?s=128&g=1", "display_name": "OmiK", "link": "https://stackoverflow.com/users/6834114/omik"}, "is_accepted": false, "score": 0, "last_activity_date": 1568721203, "creation_date": 1568721203, "answer_id": 57973665, "question_id": 57973261, "link": "https://stackoverflow.com/questions/57973261/picasso-load-url-image-not-working-in-kotlin/57973665#57973665", "title": "Picasso load Url image not working in kotlin", "body": "<p>try below this may help</p>\n\n<p>first create <code>network_security_config.xml</code> file at</p>\n\n<pre><code>res-&gt;xml-&gt;\n</code></pre>\n\n<p>which includes</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=\"true\"&gt;\n        &lt;domain includeSubdomains=\"true\"&gt;themaestro.in&lt;/domain&gt;\n\n    &lt;/domain-config&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n\n<p>now add   <code>android:networkSecurityConfig=\"@xml/network_security_config\"</code> this line in Manifest file like below</p>\n\n<pre><code>&lt;application\n        android:name=\".app.MyApplication\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:networkSecurityConfig=\"@xml/network_security_config\" //notice here\n        android:roundIcon=\"@mipmap/ic_launcher\"\n        .........\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 483, "user_id": 9460261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJzOO.jpg?s=128&g=1", "display_name": "Sagar Gadani", "link": "https://stackoverflow.com/users/9460261/sagar-gadani"}, "is_accepted": false, "score": 0, "last_activity_date": 1568725642, "creation_date": 1568725642, "answer_id": 57974921, "question_id": 57973261, "link": "https://stackoverflow.com/questions/57973261/picasso-load-url-image-not-working-in-kotlin/57974921#57974921", "title": "Picasso load Url image not working in kotlin", "body": "<p>Try this its working for me in pie and kotlin.</p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\n</code></pre>\n\n<p>Update to:</p>\n\n<pre><code>implementation 'com.squareup.picasso:picasso:2.71828'\n</code></pre>\n\n<p>Load url:</p>\n\n<p>http to https</p>\n\n<pre><code>Picasso.get().load(\"URL PATH\").into(Image_view)\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 10451133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7rdqRnuM800/AAAAAAAAAAI/AAAAAAAAAF0/r-hKmWFZ4pM/photo.jpg?sz=128", "display_name": "murugan mani", "link": "https://stackoverflow.com/users/10451133/murugan-mani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568725642, "creation_date": 1568719598, "last_edit_date": 1568721173, "question_id": 57973261, "link": "https://stackoverflow.com/questions/57973261/picasso-load-url-image-not-working-in-kotlin", "title": "Picasso load Url image not working in kotlin", "body": "<p>Library using build.gradle</p>\n\n<pre><code>implementation 'com.squareup.picasso:picasso:2.71828'\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>Picasso.get().load(\"http://localhost/maestro_ecomm/uploads/products/product_thumb_5d1b2f098900f_29.jpg\").placeholder(R.drawable.dustbin).into(holder.prod_user_image)\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568718257, "post_id": 57972814, "comment_id": 102355645, "body": "if you&#39;re inserting view at runtime then you should use findViewById method. As it was not present when the view was inflated into the fragment"}, {"owner": {"reputation": 1256, "user_id": 2206906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3dcbcf7fae73a6fc4ad9d53ad59e26e?s=128&d=identicon&r=PG", "display_name": "user2206906", "link": "https://stackoverflow.com/users/2206906/user2206906"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568718313, "post_id": 57972814, "comment_id": 102355673, "body": "well, how can he be not present if the view is inserted in the fragment&#39;s layout xml ? The view is inflated once the fragment&#39;s layout get inflated no ? thank you."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568718434, "post_id": 57972814, "comment_id": 102355739, "body": "Because kotlin builds a local view cache. So the first time a property is used, it will do a regular findViewById. But next times, the view will be recovered from the cache, so the access will be faster."}, {"owner": {"reputation": 1256, "user_id": 2206906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3dcbcf7fae73a6fc4ad9d53ad59e26e?s=128&d=identicon&r=PG", "display_name": "user2206906", "link": "https://stackoverflow.com/users/2206906/user2206906"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1568719576, "post_id": 57972814, "comment_id": 102356312, "body": "Thank you, is there a lifecycle method I should re-bind the view ? like onStop() onResume() ?"}, {"owner": {"reputation": 1560, "user_id": 4758618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f04c304d3c41dcc6f9b721cbe22d4f0?s=128&d=identicon&r=PG&f=1", "display_name": "V-master", "link": "https://stackoverflow.com/users/4758618/v-master"}, "edited": false, "score": 0, "creation_date": 1568730019, "post_id": 57972814, "comment_id": 102362311, "body": "no need to re-bind, but you need to be sure to <i>not</i> call this after <i>onViewDestroyed()</i> as the cache is there cleared (to not leak views) and it will return null. You probably just need to add null-check here (<i>?.</i>)"}, {"owner": {"reputation": 1256, "user_id": 2206906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3dcbcf7fae73a6fc4ad9d53ad59e26e?s=128&d=identicon&r=PG", "display_name": "user2206906", "link": "https://stackoverflow.com/users/2206906/user2206906"}, "edited": false, "score": 0, "creation_date": 1568819040, "post_id": 57972814, "comment_id": 102398084, "body": "No, I can avoid the crash using a null check, I got it, what I want is when my fragment is re-created after being destroyed I can still access the value, that&#39;s what I don&#39;t understand. Thank you."}], "owner": {"reputation": 1256, "user_id": 2206906, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3dcbcf7fae73a6fc4ad9d53ad59e26e?s=128&d=identicon&r=PG", "display_name": "user2206906", "link": "https://stackoverflow.com/users/2206906/user2206906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568717905, "creation_date": 1568717905, "question_id": 57972814, "link": "https://stackoverflow.com/questions/57972814/xml-layout-get-de-allocated-on-kotlin", "title": "Xml layout get de-allocated on Kotlin", "body": "<p>I wrote my first Korlin and android app. </p>\n\n<p>I create custom views like this : </p>\n\n<pre><code>class ViewDouble(context: Context?, attrs: AttributeSet?) : ConstraintLayout(context, attrs) {\n\n  View.inflate(context, R.layout.layout_view_double, this)\n\n  // other stuff goes here, like settings colors, set text ... \n\n\n}\n</code></pre>\n\n<p>with the associated xml : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root_layout_double\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/bg_header_radius\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text_content_double\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginStart=\"20dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"20dp\"\n        android:fontFamily=\"@font/montserratregular\"\n        android:gravity=\"center_vertical\"\n        android:maxLines=\"5\"\n        android:text=\"TextView\"\n        android:textAlignment=\"center\"\n        android:textSize=\"12sp\"\n        app:autoSizeMaxTextSize=\"12sp\"\n        app:autoSizeMinTextSize=\"5sp\"\n        app:autoSizeTextType=\"uniform\"\n        app:layout_constraintBottom_toTopOf=\"@id/button_later\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/layout_holding_twice\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n</code></pre>\n\n<p>On my fragment i simply inflate the layout's framgent &amp; refer to the view like this : </p>\n\n<pre><code>    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val inflated = inflater.inflate(R.layout.layout_mylayout, container, false)\n        return inflated\n    }\n</code></pre>\n\n<p>And i insert the view in the fragment's layout like this : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root_layout_fragment_open\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/bg_purple_pattern\"\n    android:clickable=\"true\"\n    android:focusable=\"true\"&gt;\n\n... \n\n\n    &lt;myapp.com.myapp.Views.ViewDouble\n        android:id=\"@+id/view_double\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginStart=\"40dp\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_marginEnd=\"40dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHeight_percent=\"0.5\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guideline_vertical_center\"&gt;\n\n\n</code></pre>\n\n<p>As kotlin does not require to bind view using findViewbyID... and then i call the code i need to this view like this: </p>\n\n<p><code>this.view_double.startLoadingAnimation()</code>\n<code>this.view_double.whatever...</code></p>\n\n<p>Thing is that when my app went live on the store i get a lot of crashes because this views get null and i have no idea why, i think it is related to the app's lifecyle but i'm not sure. How can i be sure the view does not get deallocated, it is inside the xml and being displayed on the screen but once i call it is null like : </p>\n\n<pre><code>Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method 'void myapp.com.myapp.Views.ViewDouble.c()' on a null object reference\n</code></pre>\n\n<p>Thank for any help. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "edited": false, "score": 0, "creation_date": 1568728467, "post_id": 57972799, "comment_id": 102361336, "body": "I add the custom adapter to my code above, could you please see it"}], "tags": [], "owner": {"reputation": 927, "user_id": 4608592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dNk4IS8-VAE/AAAAAAAAAAI/AAAAAAAAQcQ/mDI1ZKog4Zg/photo.jpg?sz=128", "display_name": "Brandon McAnsh", "link": "https://stackoverflow.com/users/4608592/brandon-mcansh"}, "is_accepted": false, "score": 1, "last_activity_date": 1569120342, "last_edit_date": 1569120342, "creation_date": 1568717848, "answer_id": 57972799, "question_id": 57972766, "link": "https://stackoverflow.com/questions/57972766/java-lang-illegalargumentexception-platform-class-java-time-localdatetime-with/57972799#57972799", "title": "java.lang.IllegalArgumentException: Platform class java.time.LocalDateTime (with no annotations) requires explicit JsonAdapter", "body": "<p>You either need an explicit LocalDateTime adapter for Moshi or you can change <code>birthDay</code> to be a <code>Date</code> instance. </p>\n\n<p>EDIT: To fix the issue with the updated code::</p>\n\n<p>ISO_LOCAL_DATE doesn't support date and time. You need ISO_LOCAL_DATE_TIME</p>\n"}], "owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3084, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1569120342, "creation_date": 1568717708, "last_edit_date": 1568728635, "question_id": 57972766, "link": "https://stackoverflow.com/questions/57972766/java-lang-illegalargumentexception-platform-class-java-time-localdatetime-with", "title": "java.lang.IllegalArgumentException: Platform class java.time.LocalDateTime (with no annotations) requires explicit JsonAdapter", "body": "<p>Reference to my question in the following Url : \nafter changing the minsdk to 26 and use an emulator with android 9\nthe following error appear </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: DefaultDispatcher-worker-4\n    Process: com.app.homecraft, PID: 28831\n    java.lang.IllegalArgumentException: Platform class java.time.LocalDateTime (with no annotations) requires explicit JsonAdapter to be registered\n    for class java.time.LocalDateTime birthDay\n    for class com.app.homecraft.swagger.client.models.UsersData\n        at com.squareup.moshi.Moshi$LookupChain.exceptionWithLookupStack(Moshi.java:348)\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:149)\n        at com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory.create(KotlinJsonAdapter.kt:241)\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:137)\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:97)\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:71)\n        at io.swagger.client.apis.MobileApi.apiMobileUsersGetByFireBaseIDGet(MobileApi.kt:4708)\n        at com.app.homecraft.ui.user.Authentication$signIn$1$1.invokeSuspend(Authentication.kt:87)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:233)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\n     Caused by: java.lang.IllegalArgumentException: Platform class java.time.LocalDateTime (with no annotations) requires explicit JsonAdapter to be registered\n        at com.squareup.moshi.ClassJsonAdapter$1.create(ClassJsonAdapter.java:60)\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:137)\n        at com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory.create(KotlinJsonAdapter.kt:241)\u00a0\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:137)\u00a0\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:97)\u00a0\n        at com.squareup.moshi.Moshi.adapter(Moshi.java:71)\u00a0\n        at io.swagger.client.apis.MobileApi.apiMobileUsersGetByFireBaseIDGet(MobileApi.kt:4708)\u00a0\n        at com.app.homecraft.ui.user.Authentication$signIn$1$1.invokeSuspend(Authentication.kt:87)\u00a0\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\u00a0\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:233)\u00a0\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\u00a0\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\u00a0\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\u00a0\n</code></pre>\n\n<p>in my models, i have a class UsersData that contains an attribute birthDay type of LocalDateTime, the problem is here how can i solve it </p>\n\n<pre><code>   data class UsersData (\n        val id: kotlin.String? = null,\n        val firstName: kotlin.String? = null,\n        val lastName: kotlin.String? = null,\n        val email: kotlin.String? = null,\n        val phone: kotlin.String? = null,\n        val image: kotlin.String? = null,\n        val birthDay: java.time.LocalDateTime? = null,\n\n    ) \n</code></pre>\n\n<p>the following code is the class for adapter :</p>\n\n<pre><code>class LocalDateTimeAdapter : JsonAdapter&lt;LocalDateTime&gt;(){\n    override fun toJson(writer: JsonWriter, value: LocalDateTime?) {\n        value?.let { writer?.value(it.format(formatter)) }\n\n    }\n\n    override fun fromJson(reader: JsonReader): LocalDateTime? {\n        return if (reader.peek() != JsonReader.Token.NULL) {\n            fromNonNullString(reader.nextString())\n        } else {\n            reader.nextNull&lt;Any&gt;()\n            null\n        }    }\n    private val formatter = DateTimeFormatter.ISO_LOCAL_DATE\n    private fun fromNonNullString(nextString: String) : LocalDateTime = LocalDateTime.parse(nextString, formatter)\n\n  }\n</code></pre>\n\n<p>the following code is the Serializer object:</p>\n\n<pre><code>    import com.squareup.moshi.Moshi\n    import com.squareup.moshi.adapters.Rfc3339DateJsonAdapter\n    import java.util.*\n\n object Serializer {\n    @JvmStatic\n    val moshi: Moshi = Moshi.Builder()\n            .add(com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory())\n            .add(LocalDateTime::class.java, LocalDateTimeAdapter().nullSafe())\n            .build()\n}\n</code></pre>\n\n<p>after add of custom adapter, a new error appear as the following :</p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '2019-09-16T09:00:00Z' could not be parsed, unparsed text found at index 10\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-activity", "fragment"], "comments": [{"owner": {"reputation": 178, "user_id": 5871092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c75a8affc8abdccf47e4a11c8ffe0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Madhav", "link": "https://stackoverflow.com/users/5871092/madhav"}, "edited": false, "score": 0, "creation_date": 1568718653, "post_id": 57972494, "comment_id": 102355837, "body": "you must have to initialize your lateinit var in kotlin else it throws error in fragment you can use onViewCreated(...) function to initialize your views ie. lateinit var imgAddress: AppCompatImageView imgAddress = view.findViewById(R.id.imgSelectAddress) as AppCompatImageView. Also there is no need to declare var. in activity you can directly use it with XML id name."}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1568723614, "post_id": 57973096, "comment_id": 102358335, "body": "I don&#39;t think the mention of ViewModel is necessary, it would crash just like it does now. Your version 1 answer was better."}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1591209757, "post_id": 57973096, "comment_id": 109972526, "body": "What if <code>varibleName</code> is in a companion object?"}], "tags": [], "owner": {"reputation": 1082, "user_id": 6903132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gIEIl.jpg?s=128&g=1", "display_name": "Mahavir Jain", "link": "https://stackoverflow.com/users/6903132/mahavir-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1568724564, "last_edit_date": 1568724564, "creation_date": 1568718976, "answer_id": 57973096, "question_id": 57972494, "link": "https://stackoverflow.com/questions/57972494/lateinit-properties-were-not-initialized-on-fragment/57973096#57973096", "title": "Lateinit properties were not initialized on Fragment", "body": "<p><code>lateinit</code> indicates that you are not assign the variable value at declaration time but you have to assign the value late in your java class before uses it.</p>\n\n<p>If you tries to get the value of lateinit variable before assignment than <code>lateinit property coordinator has not been initialized</code> exception is occur.</p>\n\n<p>If you are not sure that you lateinit varibale is assign or not you can check the value  using\n<code>isInitialized</code> method given for lateinit variable to avoid crashes.</p>\n\n<p><strong>Example :</strong></p>\n\n<pre><code>if(::varibleName.isInitialized){\n// do something\n}\n</code></pre>\n\n<p>If you want to save the variables values after configuration changes you have to use <code>ViewModel</code>.</p>\n\n<p>If you not uses ViewModel than pass the values by bundle and get the values again from it and re-assign the variables, but note that if you are passing too many values using bundle than you will get the <code>TooLargeTransition</code> exception. You can also used <code>onSaveInstanceState</code> to store the updated values and retrieve it in <code>onCreate</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 4, "last_activity_date": 1568720619, "creation_date": 1568720619, "answer_id": 57973508, "question_id": 57972494, "link": "https://stackoverflow.com/questions/57972494/lateinit-properties-were-not-initialized-on-fragment/57973508#57973508", "title": "Lateinit properties were not initialized on Fragment", "body": "<p>When your activity gets recreated, <code>FragmentManager</code> invokes 0-argument constructor of each attached <code>Fragment</code> to recreate them as well.</p>\n\n<p>Your <code>newInstance</code> method should only create a <code>Bundle</code> and use it in <a href=\"https://developer.android.com/reference/android/app/Fragment#setArguments(android.os.Bundle)\" rel=\"nofollow noreferrer\"><code>Fragment.setArguments(Bundle)</code></a> as this is the only way to ensure those arguments survive configuration changes. Then inside <code>onCreate</code> you can <code>getArguments</code> to retrieve that <code>Bundle</code>.</p>\n\n<p>If you need arguments that cannot be put in a <code>Bundle</code>, you have to inject / recreate / fetch them inside Fragments <code>onCreate</code> or other method.</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1568723453, "creation_date": 1568723453, "answer_id": 57974269, "question_id": 57972494, "link": "https://stackoverflow.com/questions/57972494/lateinit-properties-were-not-initialized-on-fragment/57974269#57974269", "title": "Lateinit properties were not initialized on Fragment", "body": "<blockquote>\n<pre><code>    fun newInstance(mainObject: MyObject, anotherObject: AnotherObject, coordinator: FragmentCoordinator): MyFragment {\n        val fragment = MyFragment()\n        fragment.mainObject = mainObject\n        fragment.anotherObject = ticket\n        fragment.coordinator = coordinator\n        return fragment\n    }\n</code></pre>\n</blockquote>\n\n<p>You cannot create a Fragment like this, you cannot set field variables like this.</p>\n\n<p>The system recreates fragments after low memory condition using <code>no-arg</code> constructor via reflection. Your code, here, <code>newInstance</code> and stuff - that never runs. Never.</p>\n\n<p>On another hand, <code>setArguments(Bundle</code> arguments are retained by the system, and you would be able to get them using <code>getArguments()</code>.</p>\n\n<p>So currently, if your app is put to background, killed by Android, and you open the app from launcher again, then you'll crash.</p>\n\n<p>See related questions:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/49046773/singleton-object-becomes-null-after-app-is-resumed/49107399#49107399\">Singleton object becomes null after app is resumed</a> (where I describe how you can reproduce this in dev environment easily)</p></li>\n<li><p>also maybe <a href=\"https://stackoverflow.com/questions/55753099/app-crash-after-activity-has-been-killed-in-background/55754360#55754360\">App crash after activity has been killed in background</a></p></li>\n</ul>\n"}], "owner": {"reputation": 111, "user_id": 2335528, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1d45dfc0a8e1a828e511d67e9dd07849?s=128&d=identicon&r=PG", "display_name": "user2335528", "link": "https://stackoverflow.com/users/2335528/user2335528"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2389, "favorite_count": 0, "accepted_answer_id": 57973508, "answer_count": 3, "score": 2, "last_activity_date": 1568724564, "creation_date": 1568716698, "last_edit_date": 1568717774, "question_id": 57972494, "link": "https://stackoverflow.com/questions/57972494/lateinit-properties-were-not-initialized-on-fragment", "title": "Lateinit properties were not initialized on Fragment", "body": "<p>I have write my first Kotlin and android app and i'm facing a lot of crashes on this app. </p>\n\n<p>All of them are related to the <code>lateinit</code>keyword. </p>\n\n<p>i get crashes like : </p>\n\n<p><code>Caused by e.y: lateinit property coordinator has not been initialized</code></p>\n\n<p>and: </p>\n\n<pre><code>Fatal Exception: java.lang.RuntimeException\nUnable to start activity ComponentInfo{app.myapp/mypackage.myapp.Controllers.MainActivity}: e.y: lateinit property coordinator has not been initialized\n\nCaused by e.y\nlateinit property coordinator has not been initialized\nmyapp.com.myapp.Controllers.Fragments.Parents.MyParentFragment.getCoordinator\n\n\n</code></pre>\n\n<p>Last one trace for example is related to a variable i set on my fragment once i initialize it like this : </p>\n\n<pre><code>        fun newInstance(mainObject: MyObject, anotherObject: AnotherObject, coordinator: FragmentCoordinator): MyFragment {\n            val fragment = MyFragment()\n            fragment.mainObject = mainObject\n            fragment.anotherObject = ticket\n            fragment.coordinator = coordinator\n            return fragment\n        }\n</code></pre>\n\n<p>Fragment side looks like : </p>\n\n<pre><code>class MyFragment: MyParentFragment() {\n\n     companion object {\n        fun newInstance(mainObject:...)\n     }\n\n    lateinit var mainObject: MainObject\n    lateinit var anotherObject: AnotherObject\n    ... \n}\n</code></pre>\n\n<p>What i understand is that when app changes its state (background...) this lateinit properties reference get lost, once the code call this variable property is null and app crash... Please understand that once they fragment is created all this variable are not null, they get allocated. </p>\n\n<p>i have found this article : <a href=\"https://www.bignerdranch.com/blog/kotlin-when-to-use-lazy-or-lateinit/\" rel=\"nofollow noreferrer\">https://www.bignerdranch.com/blog/kotlin-when-to-use-lazy-or-lateinit/</a> which indicates what happened and can be fixed linking the variable to the app lifecycle using <code>by lifecycleAwareLazy(lifecycle)</code> thing is at the ends of the article he adds: These two property delegates solve one problem, but not completely.\nThey still contain a memory leak. Why does he says \"they still contains memory leaks ?\" </p>\n\n<p>So how on android i can be sure that my variable always be set wether the app comes back from background or whatever, because this happen when the fragment is displayed by the app, some codes run good and then needs to call this lateinit variable and crash because this variable does not exist anymore but existed once the fragment where create. </p>\n\n<p>Thank you for any help. </p>\n"}, {"tags": ["list", "kotlin", "gson", "json-deserialization"], "comments": [{"owner": {"reputation": 4578, "user_id": 6207294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHNFn.jpg?s=128&g=1", "display_name": "shb", "link": "https://stackoverflow.com/users/6207294/shb"}, "edited": false, "score": 1, "creation_date": 1568717255, "post_id": 57972483, "comment_id": 102355080, "body": "&quot;There is no object&#39; Can you put some light over this? The code is valid."}, {"owner": {"reputation": 5451, "user_id": 4587527, "user_type": "registered", "profile_image": "https://graph.facebook.com/656830941094290/picture?type=large", "display_name": "Somesh Kumar", "link": "https://stackoverflow.com/users/4587527/somesh-kumar"}, "edited": false, "score": 2, "creation_date": 1568717798, "post_id": 57972483, "comment_id": 102355401, "body": "I am getting proper list of integers with your code.  What problem are you facing ?"}, {"owner": {"reputation": 49, "user_id": 10710852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363688ce593d9d28e5b1bfec76e9aff4?s=128&d=identicon&r=PG&f=1", "display_name": "E. Reuter", "link": "https://stackoverflow.com/users/10710852/e-reuter"}, "edited": false, "score": 0, "creation_date": 1568914841, "post_id": 57972483, "comment_id": 102436417, "body": "I think that it might have been a problem in another part of the code since I cannot reproduce the problem. With there is no object I meant that in the JSON-code I have no object like {&quot;name&quot;:&quot;joe&quot;,&quot;age&quot;:20} but only an array without a name like [1,2,4,8]"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10710852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363688ce593d9d28e5b1bfec76e9aff4?s=128&d=identicon&r=PG&f=1", "display_name": "E. Reuter", "link": "https://stackoverflow.com/users/10710852/e-reuter"}, "edited": false, "score": 0, "creation_date": 1568744712, "post_id": 57972855, "comment_id": 102369342, "body": "Thanks, but this did not work (fromJson gets undelinded with the error none of the functions can be called with the argument) - I now used the split-function to make a list"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12019713"}, "is_accepted": false, "score": 1, "last_activity_date": 1568718014, "creation_date": 1568718014, "answer_id": 57972855, "question_id": 57972483, "link": "https://stackoverflow.com/questions/57972483/gson-deserialize-array-of-integers-in-kotlin/57972855#57972855", "title": "Gson deserialize Array of Integers in kotlin", "body": "<p>I think you in kotlin you don't need to use TypeToken you can go like</p>\n\n<pre><code>     val result = gson.fromJson&lt;List&lt;Int&gt;&gt;(json)\n</code></pre>\n\n<p>here if you want to read <a href=\"https://www.kotlinresources.com/library/kotson/#setting-custom-deserializers\" rel=\"nofollow noreferrer\">more</a></p>\n"}], "owner": {"reputation": 49, "user_id": 10710852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363688ce593d9d28e5b1bfec76e9aff4?s=128&d=identicon&r=PG&f=1", "display_name": "E. Reuter", "link": "https://stackoverflow.com/users/10710852/e-reuter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568718014, "creation_date": 1568716619, "question_id": 57972483, "link": "https://stackoverflow.com/questions/57972483/gson-deserialize-array-of-integers-in-kotlin", "title": "Gson deserialize Array of Integers in kotlin", "body": "<p>Normally, when I deserialize a json-String I use something like this:</p>\n\n<pre><code>val result = gson.fromJson&lt;myObject&gt;(json, object : TypeToken&lt;myObject&gt;() {}.type)\n</code></pre>\n\n<p>But now I want to deserialize a simple List of Int and I cannot build an object for that. </p>\n\n<p>The json-String is extremely simple and looks like this:</p>\n\n<pre><code>[1,35,37,255]\n</code></pre>\n\n<p>and I would like to save it into a List but </p>\n\n<pre><code>val result = gson.fromJson&lt;List&lt;Int&gt;&gt;(json, object : TypeToken&lt;List&lt;Int&gt;&gt;() {}.type)\n</code></pre>\n\n<p>does not work because there is no object. How should I handle such an easy structure? Is it better without gson eg with explode?</p>\n"}, {"tags": ["css", "user-interface", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 11268550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-evYZvlqxjGg/AAAAAAAAAAI/AAAAAAAAAS8/2GAma8xFqDE/photo.jpg?sz=128", "display_name": "JCamacho", "link": "https://stackoverflow.com/users/11268550/jcamacho"}, "is_accepted": false, "score": 1, "last_activity_date": 1572042493, "last_edit_date": 1572042493, "creation_date": 1569448388, "answer_id": 58107024, "question_id": 57971691, "link": "https://stackoverflow.com/questions/57971691/tornadofx-addclass-does-not-add-css/58107024#58107024", "title": "TornadoFX addClass does not add CSS", "body": "<p>Try adding this to your init section of the view/fragment containing your listview:</p>\n\n<pre><code>init {\n   importStylesheet(StatBlockStyles::class)\n}\n</code></pre>\n\n<p>Note: You only need to use the import function once. The styling will remain for the rest of the program, even in other windows/views/fragments.</p>\n"}], "owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572042493, "creation_date": 1568713813, "question_id": 57971691, "link": "https://stackoverflow.com/questions/57971691/tornadofx-addclass-does-not-add-css", "title": "TornadoFX addClass does not add CSS", "body": "<p>TLDR; When trying to change the background color of a <code>listview</code> using inline CSS with <code>style { ... }</code> it works but <code>addClass</code> using a copy-pasted CSS does nothing.</p>\n\n<p>The following code (using inline CSS) works:</p>\n\n<pre><code>listview(monsterController.monsters) {\n    vgrow = Priority.ALWAYS\n\n    cellFormat {\n    // addClass(StatBlockStyles.monsterListCell)\n    style { \n        backgroundColor += Color.color(253.0 / 255.0, 241.0 / 255.0, 220.0 / 255.0) \n    }\n    graphic = label(it.name)\n}\n</code></pre>\n\n<p>But if I comment the <code>style { ... }</code> and uncomment the <code>addClass(...)</code> it seems to have no effect.</p>\n\n<p>The CSS class is a literaly copy-paste of the inline CSS:</p>\n\n<pre><code>import javafx.scene.paint.Color\nimport tornadofx.*\n\nclass StatBlockStyles: Stylesheet() {\n\n    companion object {\n        val monsterListCell by cssclass()\n    }\n\n    init {\n        monsterListCell {\n            backgroundColor += Color.color(253.0 / 255.0, 241.0 / 255.0, 220.0 / 255.0)\n        }\n    }\n}\n</code></pre>\n\n<p>Why does this happen and what should I do to be able to actually separate the styling from the rest of the code?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568710785, "post_id": 57970772, "comment_id": 102351733, "body": "only if you provide a default implementation in the abstract class"}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568711222, "post_id": 57970815, "comment_id": 102351973, "body": "That works. Thanks. But I did check the documentation at: <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a> But it does not mention anything about this. Do you know if it&#39;s located somewhere else in the Kotlin docs?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568711488, "post_id": 57970815, "comment_id": 102352120, "body": "None that I know of. :("}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1568714625, "post_id": 57970815, "comment_id": 102353824, "body": "The doc for this is simply <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-methods\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#overriding-method&zwnj;&#8203;s</a> . This here is a regular override, an abstract class doesn&#39;t need to have all its methods abstract. You just define a regular method in your abstract class for it to be overridden."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 4, "creation_date": 1568715612, "post_id": 57970815, "comment_id": 102354312, "body": "Those should be <code>open fun</code>, otherwise you won&#39;t be able to override them. And  they should have sensible default implementation as <code>TODO()</code> will crash the app."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1568802914, "post_id": 57970815, "comment_id": 102388652, "body": "I fixed the <code>open</code>. As for the <code>TODO()</code>, only the OP knows how a sensible implementation looks like so it is fine here."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 7, "last_activity_date": 1568802887, "last_edit_date": 1568802887, "creation_date": 1568710870, "answer_id": 57970815, "question_id": 57970772, "link": "https://stackoverflow.com/questions/57970772/implement-optional-functions-in-an-abstract-class/57970815#57970815", "title": "Implement optional functions in an abstract class", "body": "<p>It is very simple, you just provide the default implementation like in the example below and your inheritors can <code>override</code> them:</p>\n\n<pre><code>abstract class BaseDialogFragment {\n\n    open fun getButton1Text(): String {\n        TODO(\"Your default implementation here\")\n    }\n\n    open fun getButton2Text(): String {\n        TODO(\"Your default implementation here\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "accepted_answer_id": 57970815, "answer_count": 1, "score": 0, "last_activity_date": 1568802887, "creation_date": 1568710698, "question_id": 57970772, "link": "https://stackoverflow.com/questions/57970772/implement-optional-functions-in-an-abstract-class", "title": "Implement optional functions in an abstract class", "body": "<p>In Kotlin I have an abstract class that other classes can inherit from. I would like to have some functions that the class that inherits this class can optionally implement. In the code below, the function is <code>protected abstract</code>. This however requires that the class that is inheriting this class MUST implement these functions. Is there a way to make it so that the class that is inheriting can choose to implement the functions or not implement them?</p>\n\n<pre><code>abstract class BaseDialogFragment {\n    protected abstract fun getButton1Text(): String\n    protected abstract fun getButton2Text(): String\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10604, "user_id": 4217682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ba6e0495f2b7859ce08c7958a9739cb?s=128&d=identicon&r=PG&f=1", "display_name": "snachmsm", "link": "https://stackoverflow.com/users/4217682/snachmsm"}, "is_accepted": true, "score": 3, "last_activity_date": 1568708097, "last_edit_date": 1568708097, "creation_date": 1568706776, "answer_id": 57969701, "question_id": 57969632, "link": "https://stackoverflow.com/questions/57969632/setactionview-deprecated/57969701#57969701", "title": "setActionView deprecated", "body": "<p>change</p>\n\n<pre><code>MenuItemCompat.setActionView(item,R.layout.toolbar_mini_basket_layout);\n</code></pre>\n\n<p>to</p>\n\n<pre><code> item.setActionView(R.layout.toolbar_mini_basket_layout);\n</code></pre>\n\n<p><code>Compat</code> version isn't needed anymore if you are using <code>AppCompatActivity</code></p>\n"}, {"comments": [{"owner": {"reputation": 10604, "user_id": 4217682, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ba6e0495f2b7859ce08c7958a9739cb?s=128&d=identicon&r=PG&f=1", "display_name": "snachmsm", "link": "https://stackoverflow.com/users/4217682/snachmsm"}, "edited": false, "score": 0, "creation_date": 1568706941, "post_id": 57969705, "comment_id": 102349682, "body": "<code>setActionView</code> taking only @IntRes argument isn&#39;t static and <code>MenuItemCompat</code> don&#39;t have such method"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1568707021, "post_id": 57969705, "comment_id": 102349726, "body": "No, it is wrong."}, {"owner": {"reputation": 2646, "user_id": 446185, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7020f8bbc294513290fdf0395ab1c7aa?s=128&d=identicon&r=PG", "display_name": "papafe", "link": "https://stackoverflow.com/users/446185/papafe"}, "edited": false, "score": 0, "creation_date": 1568710473, "post_id": 57969705, "comment_id": 102351543, "body": "Yes, it&#39;s not static, it should be on item"}], "tags": [], "owner": {"reputation": 2646, "user_id": 446185, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7020f8bbc294513290fdf0395ab1c7aa?s=128&d=identicon&r=PG", "display_name": "papafe", "link": "https://stackoverflow.com/users/446185/papafe"}, "is_accepted": false, "score": 0, "last_activity_date": 1568706790, "creation_date": 1568706790, "answer_id": 57969705, "question_id": 57969632, "link": "https://stackoverflow.com/questions/57969632/setactionview-deprecated/57969705#57969705", "title": "setActionView deprecated", "body": "<p>According to the Android documentation you indeed need to use <code>setActionView(int)</code>.\nIn this case the parameter is the layout resource you want to use. </p>\n\n<p>So it will be:</p>\n\n<pre><code>MenuItemCompat.setActionView(R.layout.toolbar_mini_basket_layout) \n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5731746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/725fe26f3fec804a82faa154c715d4fb?s=128&d=identicon&r=PG&f=1", "display_name": "adamjk66", "link": "https://stackoverflow.com/users/5731746/adamjk66"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "closed_date": 1568707542, "accepted_answer_id": 57969701, "answer_count": 2, "score": 1, "last_activity_date": 1568708097, "creation_date": 1568706515, "question_id": 57969632, "link": "https://stackoverflow.com/questions/57969632/setactionview-deprecated", "closed_reason": "Duplicate", "title": "setActionView deprecated", "body": "<p>Bellow code works fine but it gives me setActionView and getActionView is deprecated</p>\n\n<pre><code>     val item = menu?.findItem(R.id.action_mini_basket)\n     MenuItemCompat.setActionView(item,R.layout.toolbar_mini_basket_layout)\n     val toolbarLayout = MenuItemCompat.getActionView(item)\n</code></pre>\n\n<p>android developer site says \" This method was deprecated in API level 26.1.0. Use setActionView(int) directly. \"\nI managed to fix getActionView but have no idea about setActionView it only takes one argument.</p>\n\n<pre><code>     val item = menu?.findItem(R.id.action_mini_basket)\n     MenuItemCompat.setActionView(item,R.layout.toolbar_mini_basket_layout) //??\n     val toolbarLayout = item.actionView as RelativeLayout\n\n</code></pre>\n\n<p>thanks</p>\n"}, {"tags": ["kotlin", "nullable", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1568722964, "post_id": 57970998, "comment_id": 102357970, "body": "As suggested by @Andrei Tanana, your <code>runCatching</code> invocation in <code>capitalize2</code> is an invocation of <code>public inline fun &lt;T, R&gt;</code> T.runCatching(block: T.() -&gt; R) : Result&lt;R&gt;` and type parameters are inferred as <code>runCatching&lt;Foo, String&gt;</code>: <code>T</code> is <code>Foo</code> for the compiler, not <code>Foo having not null property bar</code>, so you obtain the compilation error... When you inline the function there is no type inference between <code>when</code> and <code>bar.capitalize()</code>, so the compiler is happy and you have no errors..."}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 4, "last_activity_date": 1568711461, "creation_date": 1568711461, "answer_id": 57970998, "question_id": 57969532, "link": "https://stackoverflow.com/questions/57969532/kotlin-extension-function-compiler-cannot-infer-that-nullable-is-not-null/57970998#57970998", "title": "Kotlin extension function - compiler cannot infer that nullable is not null", "body": "<p>I think it's because in the first case you are calling this function:</p>\n\n<pre><code>public inline fun &lt;R&gt; runCatching(block: () -&gt; R): Result&lt;R&gt; {\n    return try {\n        Result.success(block())\n    } catch (e: Throwable) {\n        Result.failure(e)\n    }\n}\n</code></pre>\n\n<p>but in the second case you are calling function with receiver:</p>\n\n<pre><code>public inline fun &lt;T, R&gt; T.runCatching(block: T.() -&gt; R): Result&lt;R&gt; {\n    return try {\n        Result.success(block())\n    } catch (e: Throwable) {\n        Result.failure(e)\n    }\n}\n</code></pre>\n\n<p>For me, it looks like an issue in the Kotlin compiler because if you inline code of this function by yourself it will work fine:</p>\n\n<pre><code>fun Foo.captitalize2() = when {\n    bar != null -&gt; try {\n        Result.success(bar.capitalize())\n    } catch (e: Throwable) {\n        Result.failure&lt;String&gt;(e)\n    }\n    else -&gt; \"\"\n}\n</code></pre>\n\n<p>btw, if I were you I would like to write my <code>capitalize2</code> function like this :)</p>\n\n<pre><code>fun Foo.captitalize2() = bar?.capitalize() ?: \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1568731516, "last_edit_date": 1568731516, "creation_date": 1568723728, "answer_id": 57974338, "question_id": 57969532, "link": "https://stackoverflow.com/questions/57969532/kotlin-extension-function-compiler-cannot-infer-that-nullable-is-not-null/57974338#57974338", "title": "Kotlin extension function - compiler cannot infer that nullable is not null", "body": "<p>So, finally I found an alternative approach that allows us to use <code>runCatching</code> without having the problem you shows.\nAs in my comment to the answer of @Andrei Tanana, in your code type parameters of <code>fun &lt;T, R&gt; T.runCatching(block: () -&gt; R) : Result&lt;R&gt;</code> are inferred as <code>&lt;Foo, String&gt;</code> and the compiler can't use the information that <code>this.bar</code> is not <code>null</code>.</p>\n\n<p>If you rewrite the <code>capitalize2</code> function as follows</p>\n\n<pre><code>fun Foo.capitalize2(): Serializable = when {\n    bar != null -&gt; bar.runCatching { capitalize() }\n    else -&gt; \"\"\n}\n</code></pre>\n\n<p><code>T</code> is inferred as <code>String</code> (thanks of the <code>bar != null</code> case of the <code>when</code> expression) and the compiler does not complain about <code>this.capitalize()</code> invocation in the <em>block</em> passed to <code>runCatching</code>.</p>\n\n<p>I hope this can help you, both as an approach than allows you to solve the problem and as explanation of the problem itself.</p>\n"}], "owner": {"reputation": 121, "user_id": 1268682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e712d25560009ed57c941bb7981643?s=128&d=identicon&r=PG", "display_name": "Bohemen90", "link": "https://stackoverflow.com/users/1268682/bohemen90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1568731516, "creation_date": 1568706084, "question_id": 57969532, "link": "https://stackoverflow.com/questions/57969532/kotlin-extension-function-compiler-cannot-infer-that-nullable-is-not-null", "title": "Kotlin extension function - compiler cannot infer that nullable is not null", "body": "<p>Let's say I have a simple class <code>Foo</code> with a nullable <code>String?</code></p>\n\n<pre><code>data class Foo(\n    val bar: String?\n)\n</code></pre>\n\n<p>and I create a simple function <code>capitalize</code></p>\n\n<pre><code>fun captitalize(foo: Foo) = when {\n    foo.bar != null -&gt; runCatching { foo.bar.capitalize() }\n    else -&gt; \"\"\n}\n</code></pre>\n\n<p>which works fine, because the compiler infers that foo.bar cannot be null eventhough it's type is nullable. But then I decide to write the same function as an extension of <code>Foo</code></p>\n\n<pre><code>fun Foo.captitalize2() = when {\n    bar != null -&gt; runCatching { bar.capitalize() }\n    else -&gt; \"\"\n}\n</code></pre>\n\n<p>and all of a sudden the compiler is no longer able to infer that bar is not null, and IntelliJ tells me that \"only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable reciever of type String?\" </p>\n\n<p>Can anyone explain why?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1568721656, "post_id": 57969456, "comment_id": 102357276, "body": "You don&#39;t need <code>m: </code>, just <code>(String) -&gt; Unit</code>. You can name the parameter when it&#39;s useful, here it isn&#39;t."}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568706025, "post_id": 57969488, "comment_id": 102349148, "body": "Can that be reduced to something even shorter?"}, {"owner": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 3, "creation_date": 1568706054, "post_id": 57969488, "comment_id": 102349159, "body": "@AndroidDev No."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 3, "creation_date": 1568706118, "post_id": 57969488, "comment_id": 102349196, "body": "Not to my knowledge."}, {"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568708277, "post_id": 57969488, "comment_id": 102350363, "body": "@AndroidDev Maybe if you remove the whitespace, but I&#39;m not sure if that compiles. Plus it might look a little ugly."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 0, "creation_date": 1568708843, "post_id": 57969488, "comment_id": 102350633, "body": "@byxor Definitely still compiles without the whitespace but ugly indeed."}], "tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 6, "last_activity_date": 1568705913, "creation_date": 1568705913, "answer_id": 57969488, "question_id": 57969456, "link": "https://stackoverflow.com/questions/57969456/a-lambda-that-takes-no-parameters/57969488#57969488", "title": "A lambda that takes no parameters", "body": "<p>Just use empty parentheses:</p>\n\n<pre><code>private var mOnTextWatcherCallback: (() -&gt; Unit)? = null\n//                                   ^^                             \n</code></pre>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57969488, "answer_count": 1, "score": 0, "last_activity_date": 1568705913, "creation_date": 1568705790, "question_id": 57969456, "link": "https://stackoverflow.com/questions/57969456/a-lambda-that-takes-no-parameters", "title": "A lambda that takes no parameters", "body": "<p>In Kotlin I would like to create a lambda that takes no parameters and returns nothing. I know how to do this when it takes a string parameter and returns nothing:</p>\n\n<pre><code>private var mOnTextWatcherCallback: ((m: String) -&gt; Unit)? = null\n</code></pre>\n\n<p>But how do I do it for no parameters?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3305, "user_id": 356629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f563718f19b5aab648973d6e38a9d8af?s=128&d=identicon&r=PG", "display_name": "kenny_k", "link": "https://stackoverflow.com/users/356629/kenny-k"}, "edited": false, "score": 2, "creation_date": 1568702725, "post_id": 57968670, "comment_id": 102347631, "body": "Use the OkHttp library - see <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "edited": false, "score": 0, "creation_date": 1568704061, "post_id": 57968670, "comment_id": 102348231, "body": "Take a look at : <a href=\"https://stackoverflow.com/questions/57930178/android-http-request-post-json/57930329#57930329\" title=\"android http request post json\">stackoverflow.com/questions/57930178/&hellip;</a>"}, {"owner": {"reputation": 2933, "user_id": 97714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7a6eed5e2c200fbd0e12e4dc1bbc22e?s=128&d=identicon&r=PG", "display_name": "Gulshan", "link": "https://stackoverflow.com/users/97714/gulshan"}, "edited": false, "score": 0, "creation_date": 1568706053, "post_id": 57968670, "comment_id": 102349158, "body": "If you don&#39;t want to use a library- <a href=\"https://stackoverflow.com/a/50272269/97714\">stackoverflow.com/a/50272269/97714</a>"}, {"owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568707153, "post_id": 57968670, "comment_id": 102349794, "body": "some errors occur , still trying"}, {"owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568770787, "post_id": 57968670, "comment_id": 102376705, "body": "update OKHTTP for the lastest trying"}], "answers": [{"comments": [{"owner": {"reputation": 1095, "user_id": 11484794, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OLbs_nYx4kw/AAAAAAAAAAI/AAAAAAAAAD0/lM7WaKQuHk0/photo.jpg?sz=128", "display_name": "bhuvnesh pattnaik", "link": "https://stackoverflow.com/users/11484794/bhuvnesh-pattnaik"}, "reply_to_user": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568710007, "post_id": 57968848, "comment_id": 102351273, "body": "Create a new Activity and then Create a Webview in xml, then connect that webview in <code>kt</code> file, if still error occurred then check your URL with the post fields in POSTMAN to check if the POST request is working in Server end"}, {"owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568770750, "post_id": 57968848, "comment_id": 102376698, "body": "i&#39;ve update OKHTTP situation please take a look thanks"}, {"owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568773636, "post_id": 57968848, "comment_id": 102377191, "body": "Using OKHTTP and solve the unsafe HTTP REQUSET problem"}, {"owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "edited": false, "score": 0, "creation_date": 1568773658, "post_id": 57968848, "comment_id": 102377195, "body": "Now , POST success"}], "tags": [], "owner": {"reputation": 1095, "user_id": 11484794, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OLbs_nYx4kw/AAAAAAAAAAI/AAAAAAAAAD0/lM7WaKQuHk0/photo.jpg?sz=128", "display_name": "bhuvnesh pattnaik", "link": "https://stackoverflow.com/users/11484794/bhuvnesh-pattnaik"}, "is_accepted": true, "score": 0, "last_activity_date": 1568703289, "creation_date": 1568703289, "answer_id": 57968848, "question_id": 57968670, "link": "https://stackoverflow.com/questions/57968670/how-to-post-a-url-kotlin/57968848#57968848", "title": "how to POST a url Kotlin", "body": "<p>You just cannot directly open a POST URL in browser.</p>\n\n<p>You have to use Library like one of the following:</p>\n\n<ul>\n<li>Retrofit</li>\n<li>Volley</li>\n<li>OkHttp</li>\n</ul>\n\n<p>Or you can open it in WebView like below</p>\n\n<pre><code>WebView webview = new WebView(this);\nsetContentView(webview);\nbyte[] post = EncodingUtils.getBytes(\"Name=ABC&amp;Number=12\", \"BASE64\");\nwebview.postUrl(\"http://TEST/Data.php\", post);\n</code></pre>\n\n<p>convert the above code into Kotlin</p>\n"}], "owner": {"reputation": 3, "user_id": 12077749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78df44d15b017092d06de4eb9b77bb44?s=128&d=identicon&r=PG&f=1", "display_name": "dude69", "link": "https://stackoverflow.com/users/12077749/dude69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 57968848, "answer_count": 1, "score": 0, "last_activity_date": 1568772901, "creation_date": 1568702525, "last_edit_date": 1568772901, "question_id": 57968670, "link": "https://stackoverflow.com/questions/57968670/how-to-post-a-url-kotlin", "title": "how to POST a url Kotlin", "body": "<blockquote>\n  <p>Get a url like \"<a href=\"http://TEST/Data.php?Name=ABC&amp;Number=12\" rel=\"nofollow noreferrer\">http://TEST/Data.php?Name=ABC&amp;Number=12</a>\"</p>\n  \n  <p>Want to post this url ,but not open this link.</p>\n</blockquote>\n\n<p>Then Name and Number columns will change into ABC &amp; 12.</p>\n\n<p>setOnClickListener:</p>\n\n<pre><code>btn_send.setOnClickListener{\n            val i = Intent(Intent.ACTION_VIEW, Uri.parse(\"http://TEST/Data.php?Name=ABC&amp;Number=12\"))\n            startActivity(i)\n\n        }\n</code></pre>\n\n<p>This will open the link in a browser. How can I just post this url but not open it?</p>\n\n<p>with this code my app crushed after click button:</p>\n\n<pre><code>\nbtn_send.setOnClickListener{\n            URL(url).readText()\n        }\n</code></pre>\n\n<p>9/18 update----------------------------------</p>\n\n<p>tring OKHTTP but nothing happened</p>\n\n<pre><code>\nfun get() {\n            val client = OkHttpClient()\n            val url = URL(\"http://TEST/Data.php?Name=ABC&amp;Number=12\")\n\n            val request = Request.Builder()\n                .url(url)\n                .build()\n            OkHttpClient().newCall(request)\n\nroot.btn_submit.setOnClickListener {\n            get()\n        }\n</code></pre>\n\n<p>if I change <code>OkHttpClient().newCall(request)</code> into <code>OkHttpClient().newCall(request).execute()</code> app will crush</p>\n\n<p>I think is there a problem when i send request to HTTP which is unsafe cause the error</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 5978411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e7276555c4a3ee70cc8fb17371cbdc7?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep kolhal", "link": "https://stackoverflow.com/users/5978411/sandeep-kolhal"}, "edited": false, "score": 1, "creation_date": 1568702850, "post_id": 57968684, "comment_id": 102347681, "body": "Thanks but I want to know how to use above kontlin inline fun"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 6, "last_activity_date": 1568702950, "last_edit_date": 1568702950, "creation_date": 1568702585, "answer_id": 57968684, "question_id": 57968658, "link": "https://stackoverflow.com/questions/57968658/how-to-use-timer-scheduleatfixedrate-in-kotlin/57968684#57968684", "title": "How to use Timer.scheduleAtFixedRate in Kotlin", "body": "<p>Try this</p>\n\n<pre><code>    Timer().schedule(object : TimerTask() {\n        override fun run() {\n            Log.e(\"NIlu_TAG\",\"Hello World\")\n        }\n    }, 3000)\n</code></pre>\n\n<p>Or this one</p>\n\n<pre><code>Timer().schedule(timerTask {\n            Log.e(\"NIlu_TAG\",\"Hello World\")\n        }, 3000)\n</code></pre>\n\n<p>Or this one</p>\n\n<pre><code>    Timer().scheduleAtFixedRate(object : TimerTask() {\n        override fun run() {\n            Log.e(\"NIlu_TAG\",\"Hello World\")\n        }\n    },2000,2)\n</code></pre>\n\n<p>Short answer</p>\n\n<pre><code>Timer().scheduleAtFixedRate(timerTask {\n        Log.e(\"NIlu_TAG\",\"Hello World\")\n    },2000,2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 752, "user_id": 5371749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOVs.jpg?s=128&g=1", "display_name": "james04", "link": "https://stackoverflow.com/users/5371749/james04"}, "edited": false, "score": 0, "creation_date": 1616155478, "post_id": 61418121, "comment_id": 117920367, "body": "But how we start this. I have that in my viewModel and i want to start it from Activity."}], "tags": [], "owner": {"reputation": 11, "user_id": 13401779, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nRNs0j6qqb0/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJMr6Z-NlEChUNVuIvxCkwLhLToPcA/photo.jpg?sz=128", "display_name": "K1521", "link": "https://stackoverflow.com/users/13401779/k1521"}, "is_accepted": false, "score": 1, "last_activity_date": 1587765660, "creation_date": 1587765660, "answer_id": 61418121, "question_id": 57968658, "link": "https://stackoverflow.com/questions/57968658/how-to-use-timer-scheduleatfixedrate-in-kotlin/61418121#61418121", "title": "How to use Timer.scheduleAtFixedRate in Kotlin", "body": "<p>you can also do this:</p>\n\n<pre><code>val fixedRateTimer = fixedRateTimer(name = \"hello-timer\",\n        initialDelay = 1000, period = 1000,daemon = true) {\n        println(\"Hello\")\n    }\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 5978411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e7276555c4a3ee70cc8fb17371cbdc7?s=128&d=identicon&r=PG&f=1", "display_name": "sandeep kolhal", "link": "https://stackoverflow.com/users/5978411/sandeep-kolhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3753, "favorite_count": 0, "accepted_answer_id": 57968684, "answer_count": 2, "score": 1, "last_activity_date": 1587765660, "creation_date": 1568702461, "question_id": 57968658, "link": "https://stackoverflow.com/questions/57968658/how-to-use-timer-scheduleatfixedrate-in-kotlin", "title": "How to use Timer.scheduleAtFixedRate in Kotlin", "body": "<p>I am new in kotlin android development.\nSo I want to know how to use </p>\n\n<pre><code>inline fun Timer.scheduleAtFixedRate(\n    delay: Long,\n    period: Long,\n    crossinline action: TimerTask.() -&gt; Unit\n): TimerTask\n</code></pre>\n\n<p>Means any example....</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "dagger-2"], "comments": [{"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1568701216, "post_id": 57968242, "comment_id": 102347068, "body": "I think you can create an Object(Singleton) that extends RoomDatabase.Callback() inside your base package, that does the insertion, and then pass that object inside addCallback()"}, {"owner": {"reputation": 468, "user_id": 5193150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/928408757a99d47b3efb96f994bf406c?s=128&d=identicon&r=PG&f=1", "display_name": "Lingo", "link": "https://stackoverflow.com/users/5193150/lingo"}, "reply_to_user": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1568734999, "post_id": 57968242, "comment_id": 102365126, "body": "@Debanjan I created a <code>RoomCallback</code> class and implemented RoomDatabase.Callback(). Now i wanted to provide this <code>RoomCallback</code> class with dagger but this class need the MyRoomDatabase Class. And the MyRoomDatabase class needs the RoomCallback class. How do I solve this?"}, {"owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "edited": false, "score": 0, "creation_date": 1569214416, "post_id": 57968242, "comment_id": 102509151, "body": "@Lingo does my answer help?"}, {"owner": {"reputation": 468, "user_id": 5193150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/928408757a99d47b3efb96f994bf406c?s=128&d=identicon&r=PG&f=1", "display_name": "Lingo", "link": "https://stackoverflow.com/users/5193150/lingo"}, "reply_to_user": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "edited": false, "score": 0, "creation_date": 1569218524, "post_id": 57968242, "comment_id": 102510179, "body": "@Maddy No Sorry, I know how to use Dagger2 in combination with Room. But at the part with populating data at the beginning I`ve problems."}, {"owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "edited": false, "score": 0, "creation_date": 1569218618, "post_id": 57968242, "comment_id": 102510206, "body": "@Lingo Can you edit your question with more details of your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1568723262, "post_id": 57968344, "comment_id": 102358143, "body": "What does <code>.setJournalMode(JournalMode.TRUNCATE)</code> do?"}, {"owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1568723779, "post_id": 57968344, "comment_id": 102358418, "body": "@EpicPandaForce, please refer <a href=\"https://stackoverflow.com/a/51148013/4613320\">this</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1568723818, "post_id": 57968344, "comment_id": 102358438, "body": "&quot;you want to change the journal mode explicitly to Truncate, you can do it this way. But, it is not recommended because WAL is much better compared to Truncate&quot; okay :D"}], "tags": [], "owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "is_accepted": false, "score": 5, "last_activity_date": 1568700966, "creation_date": 1568700966, "answer_id": 57968344, "question_id": 57968242, "link": "https://stackoverflow.com/questions/57968242/dagger-2-get-own-room-instance/57968344#57968344", "title": "Dagger 2 get own Room instance", "body": "<p>Setup a database first</p>\n\n<pre><code>@Database(\n    entities = [User::class],\n    version = VERSION_CODE\n)\nabstract class DatabaseManager : RoomDatabase() {\n    abstract fun userDao(): UserDao\n}\n</code></pre>\n\n<p>Now create a DatabaseModule</p>\n\n<pre><code>@Module\nclass DatabaseModule {\n\n    @Singleton\n    @Provides\n    fun provideRoomDatabase(@ApplicationContext context: Context): RoomDatabase {\n        return Room.databaseBuilder(context, RoomDatabase::class.java, \"dbName\")\n            .setJournalMode(JournalMode.TRUNCATE)\n            .build()\n    }\n}\n</code></pre>\n\n<p>You can create a separate module or add a method in <code>DatabaseModule</code> it self providing dao object. Say for example I have a <code>UserDao</code> then </p>\n\n<pre><code>@Module\nclass UserModule {\n\n    @Singleton\n    @Provides\n    fun provideDao(database: DatabaseManager): UserDao {\n        return database.userDao()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1111, "user_id": 8617744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1Ctq.jpg?s=128&g=1", "display_name": "Md. Yamin Mollah", "link": "https://stackoverflow.com/users/8617744/md-yamin-mollah"}, "is_accepted": false, "score": 5, "last_activity_date": 1604137019, "last_edit_date": 1604137019, "creation_date": 1585596729, "answer_id": 60938147, "question_id": 57968242, "link": "https://stackoverflow.com/questions/57968242/dagger-2-get-own-room-instance/60938147#60938147", "title": "Dagger 2 get own Room instance", "body": "<p><strong>UPDATE</strong>: Using <code>Kotlin Coroutine</code> and <code>Dagger2</code></p>\n<p>Late in the party but for future readers, it's very easy to prepopulate your database at creation time or openning time. Make sure you have already added dependency in the <code>gradle</code> file for <code>Coroutine</code>. First create your database like:</p>\n<pre><code>    /**\n     * Main database.\n     */\n    @Database(\n        entities = [\n            Login::class],\n        version = 1,\n        exportSchema = false\n    )\n    abstract class AppDatabase : RoomDatabase() {\n        abstract fun loginDao(): LoginDao\n\n        companion object {\n            \n            @Volatile private var INSTANCE: AppDatabase? = null\n\n            fun getInstance(app: Application): AppDatabase = INSTANCE ?: synchronized(this) {\n            INSTANCE ?: buildDatabase(app).also { INSTANCE = it }\n        }\n\n        private fun buildDatabase(app: Application) =\n            Room.databaseBuilder(app,\n                AppDatabase::class.java,\n                &quot;your database name&quot;)\n            .addCallback(object : Callback() {\n                // Pre-populate the database after onCreate has been called. If you want to prepopulate at opening time then override onOpen function instead of onCreate.\n                override fun onCreate(db: SupportSQLiteDatabase) {\n                    super.onCreate(db)\n                    // Do database operations through coroutine or any background thread\n                    val handler = CoroutineExceptionHandler { _, exception -&gt;\n                        println(&quot;Caught during database creation --&gt; $exception&quot;)\n                    }\n\n                    CoroutineScope(Dispatchers.IO).launch(handler) {\n                        prePopulateAppDatabase(getInstance(app).loginDao())\n                    }\n                }\n            })\n            .build()\n\n        suspend fun prePopulateAppDatabase(loginDao: LoginDao) {\n            val admin = Login(0, &quot;Administrator&quot;, &quot;1234&quot;, 1, isActive = true, isAdmin = true, isLogged = false)\n            loginDao.insertLoginData(admin)\n        }\n    }\n}\n</code></pre>\n<p>Then you can provide singleton instance by placing below code to your dagger <code>AppModule</code> or in a separate database module as you wish.</p>\n<pre><code>@Singleton\n@Provides\nfun provideDb(app: Application): AppDatabase {\n    return AppDatabase.getInstance(app)\n}\n\n@Singleton\n@Provides\nfun provideLoginDao(db: AppDatabase): LoginDao {\n    return db.loginDao()\n}\n</code></pre>\n<p>that's it, you are done. Inject anywhere your singleton database object like:</p>\n<pre><code>@Inject lateinit var loginDao: LoginDao\n</code></pre>\n<p>then use it.</p>\n"}], "owner": {"reputation": 468, "user_id": 5193150, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/928408757a99d47b3efb96f994bf406c?s=128&d=identicon&r=PG&f=1", "display_name": "Lingo", "link": "https://stackoverflow.com/users/5193150/lingo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2429, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1604137019, "creation_date": 1568700417, "last_edit_date": 1569219393, "question_id": 57968242, "link": "https://stackoverflow.com/questions/57968242/dagger-2-get-own-room-instance", "title": "Dagger 2 get own Room instance", "body": "<p>I want to add a callback to the room database to populate initial data.</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideRoom(context: Context): MyRoomDatabase {\n    return Room.databaseBuilder(context, MyRoomDatabase::class.java, \"my_database\")\n        .fallbackToDestructiveMigration()\n        .addCallback(object : RoomDatabase.Callback() {\n            @Override\n            override fun onCreate(db: SupportSQLiteDatabase) {\n                super.onCreate(db)\n\n            }\n        })\n        .build()\n}\n</code></pre>\n\n<p>For that i need the database instance in the callback to access DAO for inserting data.\nHow does this work?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>What I want to achieve:</strong>\n<code>Create initial data for the room database at the app installation</code></p>\n\n<p>My <code>Callback Class</code>:</p>\n\n<pre><code>class RoomCallback(\n var myRoomDatabase : MyRoomDatabase\n)  : RoomDatabase.Callback()  {\noverride fun onCreate(db: SupportSQLiteDatabase) {\n    myRoomDatabase.basicItemDao().insertList(\n        listOf(\n            BasicItem(),\n            BasicItem()\n        )\n    )\n}\n</code></pre>\n\n<p>}</p>\n\n<p>How i provide the <code>RoomDatabase</code> and the <code>RoomCallback</code>:</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideRoom(context: Context, roomCallback: RoomCallback): MyRoomDatabase {\n    return Room.databaseBuilder(context, MyRoomDatabase::class.java, \"my_database\")\n        .fallbackToDestructiveMigration()\n        .addCallback(roomCallback)    \n        .build()\n}\n\n@Provides\n@Singleton\nfun provideRoomCallback(myRoomDatabase: MyRoomDatabase): RoomCallback {\n    return RoomCallback(myRoomDatabase)\n}\n</code></pre>\n\n<p><strong>PROBLEM:</strong>\n- The <code>RoomCallback</code> and <code>RoomDatabase</code> instance need both the other instance.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-activity", "android-context"], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1568700785, "creation_date": 1568700785, "answer_id": 57968312, "question_id": 57968229, "link": "https://stackoverflow.com/questions/57968229/how-to-get-context-for-clustermanager-in-kotlin/57968312#57968312", "title": "How to get Context for ClusterManager in Kotlin", "body": "<blockquote>\n  <p>Which Context i could use to init the ClusterManager in Kotlin Android?</p>\n</blockquote>\n\n<p>Its depend on where you are using <code>clusterManager = ClusterManager(context, map);</code></p>\n\n<p>For example, if you are using it inside any activity use like this</p>\n\n<pre><code>clusterManager = ClusterManager(this, map); \n// or \nclusterManager = ClusterManager(this@LoginActivity, map);\n</code></pre>\n\n<p>For example, if you are using it inside any fragment use like this</p>\n\n<pre><code>class FragmentOne : Fragment() {\n\n    var mContext: Context? = null\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n        mContext = context\n\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val rootView = inflater.inflate(R.layout.fragment_one, container, false)\n        clusterManager = ClusterManager(mContext, map)\n        return rootView\n    }\n\n}\n</code></pre>\n\n<p><strong>NOTE</strong></p>\n\n<p>You can use <code>getActivity()</code> and <code>getContext()</code> to get <code>context</code> inside fragment</p>\n\n<p>but <code>getActivity()</code> can return <code>null</code> so i suggest you should use <code>onAttach()</code> to get <code>context</code> inside fragment</p>\n"}], "owner": {"reputation": 23, "user_id": 12077658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da48541fc4f8c89426691d4d6fb492e1?s=128&d=identicon&r=PG&f=1", "display_name": "Nachbarino", "link": "https://stackoverflow.com/users/12077658/nachbarino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 57968312, "answer_count": 1, "score": 2, "last_activity_date": 1568701499, "creation_date": 1568700374, "last_edit_date": 1568701499, "question_id": 57968229, "link": "https://stackoverflow.com/questions/57968229/how-to-get-context-for-clustermanager-in-kotlin", "title": "How to get Context for ClusterManager in Kotlin", "body": "<p>Which Context i could use to init the ClusterManager in Kotlin Android?</p>\n\n<pre><code>var clusterManager: ClusterManager&lt;MarkerCluster&gt;? = null\nclusterManager = ClusterManager(context, map);\n</code></pre>\n"}, {"tags": ["eclipse", "maven", "kotlin", "m2e-wtp"], "comments": [{"owner": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700071, "post_id": 57968100, "comment_id": 102346598, "body": "Is the class available in the jar file? If not rebuild the project in local and confirm the class file is present in the jar file and try. Have you tried deploying your application outside eclipse in tomcat?"}, {"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "reply_to_user": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700167, "post_id": 57968100, "comment_id": 102346638, "body": "Yes, the missing class is present in the jar of the dependent project. I verified this by going into the <code>target&#47;</code> folder and <code>jar -tvf</code>"}, {"owner": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700310, "post_id": 57968100, "comment_id": 102346716, "body": "try to clean the tomcat work directory and start the application. Also try running the application outside eclipse in local tomcat."}, {"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "reply_to_user": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700358, "post_id": 57968100, "comment_id": 102346738, "body": "running outside of eclipse works fine (in another machine)"}, {"owner": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700618, "post_id": 57968100, "comment_id": 102346836, "body": "both project are in same workspace?. imported along with the main project?"}, {"owner": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700720, "post_id": 57968100, "comment_id": 102346874, "body": "What I mean is in your local is it in same workspace of eclipse ?"}, {"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "reply_to_user": {"reputation": 827, "user_id": 8413680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b35e13c3fd753de156fd841e2c1d322?s=128&d=identicon&r=PG&f=1", "display_name": "Sujay Mohan", "link": "https://stackoverflow.com/users/8413680/sujay-mohan"}, "edited": false, "score": 0, "creation_date": 1568700769, "post_id": 57968100, "comment_id": 102346893, "body": "both projects involved in the issue are local, on my machine, in the same Eclipse workspace"}, {"owner": {"reputation": 17233, "user_id": 27905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54c977d97a90429c73f3323dc59532a?s=128&d=identicon&r=PG&f=1", "display_name": "nitind", "link": "https://stackoverflow.com/users/27905/nitind"}, "edited": false, "score": 0, "creation_date": 1568714362, "post_id": 57968100, "comment_id": 102353678, "body": "Does the web project&#39;s Deployment Assembly property page include the containing jar file?"}, {"owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "edited": false, "score": 0, "creation_date": 1568730243, "post_id": 57968100, "comment_id": 102362455, "body": "Yes, the  Deployment Assembly for the webapp contains the dependency jar, in the same spot where other dependency jars are present."}], "answers": [{"tags": [], "owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1569998297, "last_edit_date": 1569998297, "creation_date": 1568734121, "answer_id": 57977553, "question_id": 57968100, "link": "https://stackoverflow.com/questions/57968100/kotlin-not-working-with-eclipse-workspace-resolution/57977553#57977553", "title": "Kotlin not working with Eclipse Workspace Resolution", "body": "<p><strong>TEMPORARY WORK-AROUND</strong></p>\n\n<p>I can get the app to work again by going <em>Project menu -> Maven -> \"Disable Workspace Resolution\"</em> and then manually going to each dependency project and doing a <em>Maven ->  install</em>. </p>\n\n<p>This is quite unsatisfactory as a lot of developer productivity features are lost when Workspace Resolution is disabled. <strong>So I'll keep the question open for now and offer a bounty in the hopes of a more permanent fix.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 8924712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ad6013540322a43024545c3fe6f4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Alfaizkhan", "link": "https://stackoverflow.com/users/8924712/alfaizkhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570603073, "last_edit_date": 1570603073, "creation_date": 1570602524, "answer_id": 58298215, "question_id": 57968100, "link": "https://stackoverflow.com/questions/57968100/kotlin-not-working-with-eclipse-workspace-resolution/58298215#58298215", "title": "Kotlin not working with Eclipse Workspace Resolution", "body": "<p>Your dependencies looks good. I haven't find any error.</p>\n\n<p>But Here is a rambling of some theories to you should look into:</p>\n\n<ul>\n<li><p>It could be because of having multiple projects in the workspace.</p>\n\n<p>It could be having multiple projects in the workspace increases the\nchances of the issue showing up.</p>\n\n<p>It could be because other projects have different natures.</p>\n\n<p>It could be because of how the projects land (sort order, load order,\nsomething else?).</p>\n\n<p>It could be because some logic somewhere is flaky.</p>\n\n<p>It could be building the project leaves eclipse in an unexpected\nstate.</p>\n\n<p>It could be because some kind of delta logic thinks there are no\nchanges to no build needs to be attempted because launching the\nproject.</p>\n\n<p>It could be because the launch mechanism being used is the wrong one.</p></li>\n</ul>\n"}], "owner": {"reputation": 10175, "user_id": 196032, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b75136316e93a66545dd346297fad09e?s=128&d=identicon&r=PG", "display_name": "Alex R", "link": "https://stackoverflow.com/users/196032/alex-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1570603073, "creation_date": 1568699799, "last_edit_date": 1570063720, "question_id": 57968100, "link": "https://stackoverflow.com/questions/57968100/kotlin-not-working-with-eclipse-workspace-resolution", "title": "Kotlin not working with Eclipse Workspace Resolution", "body": "<p>I have a Maven-based webapp with multiple \"local\" Maven dependencies (i.e. the dependencies are themselves projects that are maintained in the same Eclipse workspace as the main app).</p>\n\n<p>I recently rewrote one of the dependencies from Java to Kotlin. Here are the relevant bits from the Kotlin project's <code>pom.xml</code>:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;kotlin.version&gt;1.3.50&lt;/kotlin.version&gt;\n    &lt;project.build.sourceEncoding&gt;ISO-8859-1&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;ISO-8859-1&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$ --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;version&gt;2.9.9&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>When I try to start the application in Tomcat inside Eclipse I get the error:</p>\n\n<pre><code>22:40:22 SEVERE: Context initialization failed\n[...]\nCaused by: java.lang.NoClassDefFoundError: ... (one of my classes from the new project)\nat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1363)\n</code></pre>\n\n<p>I have executed a number of troubleshooting steps and determined beyond any doubt that the problem is caused by having Kotlin in the dependency project, i.e. if I restore the Kotlin project to the original Java project, everything works again.</p>\n\n<p><strong>What can I do to fix this problem using the latest versions of Eclipse, Kotlin, Maven, Tomcat, and m2e-wtp?</strong></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 51, "user_id": 12077617, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--fUqNYsSjjE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFWs8Don3QFGnQ4kjgXeOTUDGUFg/photo.jpg?sz=128", "display_name": "Sergey Avetisyan", "link": "https://stackoverflow.com/users/12077617/sergey-avetisyan"}, "edited": false, "score": 0, "creation_date": 1568739283, "post_id": 57968070, "comment_id": 102367076, "body": "<a href=\"https://stackoverflow.com/questions/56377914/what-purpose-does-appupdateinfo-isupdatetypeallowedappupdatetype-immediate-ser\" title=\"what purpose does appupdateinfo isupdatetypeallowedappupdatetype immediate ser\">stackoverflow.com/questions/56377914/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7381, "user_id": 6159856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r6bVp.jpg?s=128&g=1", "display_name": "Sanjayrajsinh", "link": "https://stackoverflow.com/users/6159856/sanjayrajsinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1616478482, "creation_date": 1616478482, "answer_id": 66757905, "question_id": 57968070, "link": "https://stackoverflow.com/questions/57968070/android-in-app-updates-where-should-i-set-update-type/66757905#66757905", "title": "Android In-app updates, where should i set update type?", "body": "<p>We need to call this: PUT API</p>\n<pre><code>https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/edits/{editId}/tracks/{track}\n</code></pre>\n<p>Pass data in body:</p>\n<pre><code>{\n  &quot;releases&quot;: [{\n      &quot;versionCodes&quot;: [&quot;12&quot;],\n      &quot;inAppUpdatePriority&quot;: 5,\n      &quot;status&quot;: &quot;completed&quot;\n  }]\n}\n</code></pre>\n<p>To determine priority, Google Play uses an integer value between 0 and 5, with 0 being the default, and 5 being the highest priority.\nFor example, consider the following strategy for setting update priority:</p>\n<ul>\n<li>Minor UI improvements: <strong>Low-priority</strong> update; request neither a <strong>flexible</strong> nor immediate update.</li>\n<li>Performance improvements: <strong>Medium-priority</strong> update; request a <strong>flexible</strong> update.</li>\n<li>Critical security update: <strong>High-priority</strong> update; require an <strong>immediate</strong> update.</li>\n</ul>\n<br>\n<p><strong>For Full info you can refer to below links:</strong></p>\n<p><a href=\"https://developer.android.com/guide/playcore/in-app-updates#:%7E:text=In%2Dapp%20updates%20is%20a,0%20or%20higher\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/playcore/in-app-updates#:~:text=In%2Dapp%20updates%20is%20a,0%20or%20higher</a>.</p>\n<p><a href=\"https://developers.google.com/android-publisher/api-ref/rest/v3/edits.tracks/update\" rel=\"nofollow noreferrer\">https://developers.google.com/android-publisher/api-ref/rest/v3/edits.tracks/update</a></p>\n"}], "owner": {"reputation": 51, "user_id": 12077617, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--fUqNYsSjjE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFWs8Don3QFGnQ4kjgXeOTUDGUFg/photo.jpg?sz=128", "display_name": "Sergey Avetisyan", "link": "https://stackoverflow.com/users/12077617/sergey-avetisyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1616478482, "creation_date": 1568699660, "last_edit_date": 1616476423, "question_id": 57968070, "link": "https://stackoverflow.com/questions/57968070/android-in-app-updates-where-should-i-set-update-type", "title": "Android In-app updates, where should i set update type?", "body": "<p>From where I can set app update type(IMMEDIATE/FLEXIBLE)? I can not find it in playstore console.</p>\n<p>From where this code knowing available update type?</p>\n<pre><code> // Creates an instance of the manager.\nAppUpdateManager appUpdateManager = AppUpdateManagerFactory.create(context);\n\n// Returns an intent object that you use to check for an update.\nTask&lt;AppUpdateInfo&gt; appUpdateInfoTask = appUpdateManager.getAppUpdateInfo();\n\n// Checks that the platform will allow the specified type of update.\nappUpdateInfoTask.addOnSuccessListener(appUpdateInfo -&gt; {\n    if (appUpdateInfo.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE\n          // For a flexible update, use AppUpdateType.FLEXIBLE\n          &amp;&amp; appUpdateInfo.isUpdateTypeAllowed(AppUpdateType.IMMEDIATE)) {\n              // Request the update.\n    }\n});\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1568698619, "post_id": 57967817, "comment_id": 102346067, "body": "<i>Please note</i> that making value lazy impacts on runtime, because compiler has to do extra efforts to resolve lazy values from java byte code."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5977937, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ny-5Epih1_Y/AAAAAAAAAAI/AAAAAAAAAG4/y3YAtIxytsU/photo.jpg?sz=128", "display_name": "\uae40\uc9c0\uc12d", "link": "https://stackoverflow.com/users/5977937/%ea%b9%80%ec%a7%80%ec%84%ad"}, "edited": false, "score": 0, "creation_date": 1568719060, "post_id": 57967888, "comment_id": 102356063, "body": "Thanks! Nice To use."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1568698419, "creation_date": 1568698419, "answer_id": 57967888, "question_id": 57967817, "link": "https://stackoverflow.com/questions/57967817/can-i-manage-color-resources-like-this/57967888#57967888", "title": "Can I manage color resources like this?", "body": "<p>Use below <strong>extension function</strong> to retrieve color using <code>ContextCompat</code>:</p>\n\n<pre><code>fun Context?.getResourceColor(@ColorRes color: Int): Int {\n    var finalColor: Int? = null // Create local color variable\n    this?.let { // check if context is null or not\n        finalColor = ContextCompat.getColor(it, color) // Retrive resource color using ContextCompat\n    }\n    return finalColor ?: Color.TRANSPARENT // return default color if resource color not found\n}\n</code></pre>\n\n<p>And now use it in any file with context like this : <code>context.getResourceColor(R.color.someColor)</code></p>\n"}], "owner": {"reputation": 11, "user_id": 5977937, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ny-5Epih1_Y/AAAAAAAAAAI/AAAAAAAAAG4/y3YAtIxytsU/photo.jpg?sz=128", "display_name": "\uae40\uc9c0\uc12d", "link": "https://stackoverflow.com/users/5977937/%ea%b9%80%ec%a7%80%ec%84%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568698419, "creation_date": 1568697947, "question_id": 57967817, "link": "https://stackoverflow.com/questions/57967817/can-i-manage-color-resources-like-this", "title": "Can I manage color resources like this?", "body": "<p>Im tired to type like <code>ContextCompat(context, color.red)</code>. Is there any simple way to get color code from colors.xml?</p>\n\n<p>I'm beginner of kotlin. I've try like this but I'm not sure this is the best. And can I use lazy like that?</p>\n\n<p>colors.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;color name=\"skyblue\"&gt;#00bcda&lt;/color&gt;\n&lt;color name=\"blue\"&gt;#4283e6&lt;/color&gt;\n&lt;color name=\"green\"&gt;#66bb6a&lt;/color&gt;\n&lt;color name=\"orange\"&gt;#ffa726&lt;/color&gt;\n&lt;color name=\"red\"&gt;#ff6b4e&lt;/color&gt;\n&lt;color name=\"pink\"&gt;#ffa5a5&lt;/color&gt;\n</code></pre>\n\n<p>ColorManager.kt</p>\n\n<pre><code>class ColorManager(val context: Context) {\n    private fun getColor(id: Int) = lazy { ContextCompat.getColor(context, id) }\n\n    val skyblue by getColor(color.skyblue)\n    val blue by getColor(color.blue)\n    val green by getColor(color.green)\n    val orange by getColor(color.orange)\n    val red by getColor(color.red)\n    val pink by getColor(color.pink)\n}\n</code></pre>\n\n<p>Use The Code</p>\n\n<pre><code>val colors by lazy { ColorManager(this) }\n...\ncolors.skyblue // this code return integer color code\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "appinstaller"], "comments": [{"owner": {"reputation": 911, "user_id": 1733810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa9tA.png?s=128&g=1", "display_name": "Neeraj Singh", "link": "https://stackoverflow.com/users/1733810/neeraj-singh"}, "edited": false, "score": 0, "creation_date": 1568696899, "post_id": 57967640, "comment_id": 102345620, "body": "you are install app directly from android studio or apk"}, {"owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "edited": false, "score": 0, "creation_date": 1568696900, "post_id": 57967640, "comment_id": 102345621, "body": "provide logs which you are getting while installing apk"}, {"owner": {"reputation": 229, "user_id": 9317457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/196b54ab83366d9e4977f001d699c5bd?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhesh Pawar", "link": "https://stackoverflow.com/users/9317457/siddhesh-pawar"}, "reply_to_user": {"reputation": 911, "user_id": 1733810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa9tA.png?s=128&g=1", "display_name": "Neeraj Singh", "link": "https://stackoverflow.com/users/1733810/neeraj-singh"}, "edited": false, "score": 0, "creation_date": 1568696952, "post_id": 57967640, "comment_id": 102345632, "body": "@NeerajSingh I build the APK and installed it"}, {"owner": {"reputation": 229, "user_id": 9317457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/196b54ab83366d9e4977f001d699c5bd?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhesh Pawar", "link": "https://stackoverflow.com/users/9317457/siddhesh-pawar"}, "edited": false, "score": 0, "creation_date": 1568696979, "post_id": 57967640, "comment_id": 102345639, "body": "By running the project works fine"}, {"owner": {"reputation": 911, "user_id": 1733810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fa9tA.png?s=128&g=1", "display_name": "Neeraj Singh", "link": "https://stackoverflow.com/users/1733810/neeraj-singh"}, "edited": false, "score": 0, "creation_date": 1568697124, "post_id": 57967640, "comment_id": 102345678, "body": "hmm you are installing apk directly from android studio or copy apk in device then install. can you attached error msg"}, {"owner": {"reputation": 1457, "user_id": 5557220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4d156a0d7df92f0036f1f5c1e5ba15?s=128&d=identicon&r=PG&f=1", "display_name": "kenmistry", "link": "https://stackoverflow.com/users/5557220/kenmistry"}, "edited": false, "score": 0, "creation_date": 1568697194, "post_id": 57967640, "comment_id": 102345703, "body": "are you missing the <code>debug.keystore</code> file?  was it ignored in the <code>.gitignore</code>?"}, {"owner": {"reputation": 229, "user_id": 9317457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/196b54ab83366d9e4977f001d699c5bd?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhesh Pawar", "link": "https://stackoverflow.com/users/9317457/siddhesh-pawar"}, "reply_to_user": {"reputation": 1457, "user_id": 5557220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4d156a0d7df92f0036f1f5c1e5ba15?s=128&d=identicon&r=PG&f=1", "display_name": "kenmistry", "link": "https://stackoverflow.com/users/5557220/kenmistry"}, "edited": false, "score": 0, "creation_date": 1568697516, "post_id": 57967640, "comment_id": 102345781, "body": "@kenmistry where is the debug.keystore file? anyways I checked my gitignore it was not there"}, {"owner": {"reputation": 1457, "user_id": 5557220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb4d156a0d7df92f0036f1f5c1e5ba15?s=128&d=identicon&r=PG&f=1", "display_name": "kenmistry", "link": "https://stackoverflow.com/users/5557220/kenmistry"}, "edited": false, "score": 0, "creation_date": 1568697953, "post_id": 57967640, "comment_id": 102345894, "body": "it is in the <code>android&#47;app&#47;</code>, is it not? this happened to me once while switching between machines. my <code>.gitignore</code> file had this entry <code>*.keystore</code> and i had an issue with <code>app:installDebug</code>. i can be wrong here unless you share your error logs."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1568697975, "post_id": 57967640, "comment_id": 102345897, "body": "Don&#39;t rebuild the project and install apk from outputs, Instead build the apk from build menu and then copy and install apk from outputs."}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568726662, "post_id": 57975210, "comment_id": 102360127, "body": "if the drivers are missing you can&#39;t even see the device let alone install the app on it"}, {"owner": {"reputation": 483, "user_id": 9460261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJzOO.jpg?s=128&g=1", "display_name": "Sagar Gadani", "link": "https://stackoverflow.com/users/9460261/sagar-gadani"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568726957, "post_id": 57975210, "comment_id": 102360338, "body": "Can you please share more detail of error log from android studio?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568727102, "post_id": 57975210, "comment_id": 102360414, "body": "that comment makes no sense"}, {"owner": {"reputation": 483, "user_id": 9460261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJzOO.jpg?s=128&g=1", "display_name": "Sagar Gadani", "link": "https://stackoverflow.com/users/9460261/sagar-gadani"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568727463, "post_id": 57975210, "comment_id": 102360658, "body": "We can do this ... for that if you like please share logs"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1568728081, "post_id": 57975210, "comment_id": 102361082, "body": "that comment also makes no sense"}], "tags": [], "owner": {"reputation": 483, "user_id": 9460261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJzOO.jpg?s=128&g=1", "display_name": "Sagar Gadani", "link": "https://stackoverflow.com/users/9460261/sagar-gadani"}, "is_accepted": false, "score": -1, "last_activity_date": 1568726520, "creation_date": 1568726520, "answer_id": 57975210, "question_id": 57967640, "link": "https://stackoverflow.com/questions/57967640/app-not-being-installed-on-device-after-changing-machine/57975210#57975210", "title": "App not being installed on device after changing machine", "body": "<p>I had the same problem once, i found like adb driver was missing in my case.\nYou can also try after instating this universal adb driver then restart computer.</p>\n\n<p><a href=\"http://adbdriver.com/\" rel=\"nofollow noreferrer\">http://adbdriver.com/</a></p>\n\n<p>Just give this try and let me know i also have other solution in mind as a suggestion.</p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 9317457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/196b54ab83366d9e4977f001d699c5bd?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhesh Pawar", "link": "https://stackoverflow.com/users/9317457/siddhesh-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568812125, "creation_date": 1568812125, "answer_id": 57993575, "question_id": 57967640, "link": "https://stackoverflow.com/questions/57967640/app-not-being-installed-on-device-after-changing-machine/57993575#57993575", "title": "App not being installed on device after changing machine", "body": "<p>I managed to solve this problem, I just uninstalled and re-installed Android Studio which solved my problem, Thanks!</p>\n"}], "owner": {"reputation": 229, "user_id": 9317457, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/196b54ab83366d9e4977f001d699c5bd?s=128&d=identicon&r=PG&f=1", "display_name": "Siddhesh Pawar", "link": "https://stackoverflow.com/users/9317457/siddhesh-pawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568812125, "creation_date": 1568696693, "question_id": 57967640, "link": "https://stackoverflow.com/questions/57967640/app-not-being-installed-on-device-after-changing-machine", "title": "App not being installed on device after changing machine", "body": "<p>I have a project, which was running clean and good, later I changed my machine and now from the new machine whenever I build the APK and install it on a physical device. it shows app not installed and the thing i did from my co-workers machine the app got installed.</p>\n\n<p>I tried deleting the project and cloned it again from GitHub, I tried invalidate/caches restart, but it did not solved the problem.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 887, "user_id": 10744483, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CjLvQ4iDtIs/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jvMox244hDKkwqumYBSfGrPujRjA/mo/photo.jpg?sz=128", "display_name": "Olga Klisho", "link": "https://stackoverflow.com/users/10744483/olga-klisho"}, "edited": false, "score": 1, "creation_date": 1568710347, "post_id": 57965836, "comment_id": 102351477, "body": "Please follow the issue created for your report at YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/KT-33881\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-33881</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3030, "user_id": 443836, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6a1767f6664b99900d9f7d93be9a6dbe?s=128&d=identicon&r=PG", "display_name": "Marco Eckstein", "link": "https://stackoverflow.com/users/443836/marco-eckstein"}, "is_accepted": true, "score": 0, "last_activity_date": 1568849442, "creation_date": 1568849442, "answer_id": 58001899, "question_id": 57965836, "link": "https://stackoverflow.com/questions/57965836/intellij-does-not-detect-cyclic-dependencies-between-packages/58001899#58001899", "title": "IntelliJ does not detect cyclic dependencies between packages", "body": "<p>According to <a href=\"https://stackoverflow.com/users/10744483/\">Olga Klisho</a>'s comment and linked <a href=\"https://youtrack.jetbrains.com/issue/KT-33881\" rel=\"nofollow noreferrer\">issue</a>, this is a Kotlin-specific bug.</p>\n"}], "owner": {"reputation": 3030, "user_id": 443836, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6a1767f6664b99900d9f7d93be9a6dbe?s=128&d=identicon&r=PG", "display_name": "Marco Eckstein", "link": "https://stackoverflow.com/users/443836/marco-eckstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 58001899, "answer_count": 1, "score": 1, "last_activity_date": 1568849442, "creation_date": 1568679649, "question_id": 57965836, "link": "https://stackoverflow.com/questions/57965836/intellij-does-not-detect-cyclic-dependencies-between-packages", "title": "IntelliJ does not detect cyclic dependencies between packages", "body": "<p>Given:</p>\n\n<p>A.kt</p>\n\n<pre><code>package server.a\n\nimport server.b.B\n\nclass A(val b: B)\n</code></pre>\n\n<p>B.kt</p>\n\n<pre><code>package server.b\n\nimport server.a.A\n\nclass B(val a: A)\n</code></pre>\n\n<p>When I build the project and select <em>Main menu | Analyze | Analyze Cyclic Dependencies... | Analyze the whole project</em>, no cycles are shown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k6dAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6dAH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this a bug? If not, what kind of cycles would IntelliJ detect? Or is this a restriction of the Community Edition?</p>\n\n<p>IntelliJ IDEA 2019.2.2 (Community Edition)<br>\nBuild #IC-192.6603.28, built on September 6, 2019</p>\n"}, {"tags": ["android", "kotlin", "google-nearby"], "comments": [{"owner": {"reputation": 1458, "user_id": 5623474, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sWTfTOZYG30/AAAAAAAAAAI/AAAAAAAAACc/LqQT3oBNvb0/photo.jpg?sz=128", "display_name": "Xlythe", "link": "https://stackoverflow.com/users/5623474/xlythe"}, "edited": false, "score": 0, "creation_date": 1569468480, "post_id": 57965578, "comment_id": 102608369, "body": "You&#39;ll need to upload more code (or a link to a github project). I need to see the DiscoveryOptions, as well as what you&#39;re doing for startAdvertising."}, {"owner": {"reputation": 51, "user_id": 10301507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R3QyjFjCzk8/AAAAAAAAAAI/AAAAAAAAMww/NeTfflPUClQ/photo.jpg?sz=128", "display_name": "MiqeyM", "link": "https://stackoverflow.com/users/10301507/miqeym"}, "reply_to_user": {"reputation": 1458, "user_id": 5623474, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sWTfTOZYG30/AAAAAAAAAAI/AAAAAAAAACc/LqQT3oBNvb0/photo.jpg?sz=128", "display_name": "Xlythe", "link": "https://stackoverflow.com/users/5623474/xlythe"}, "edited": false, "score": 1, "creation_date": 1569847594, "post_id": 57965578, "comment_id": 102717672, "body": "Here&#39;s the github repo <a href=\"https://github.com/MiqeyM/QuizMiko/blob/testingAllMain/app/src/main/java/com/example/quizmiko/MainActivity.kt\" rel=\"nofollow noreferrer\">github.com/MiqeyM/QuizMiko/blob/testingAllMain/app/src/main/&zwnj;&#8203;&hellip;</a>"}], "owner": {"reputation": 51, "user_id": 10301507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R3QyjFjCzk8/AAAAAAAAAAI/AAAAAAAAMww/NeTfflPUClQ/photo.jpg?sz=128", "display_name": "MiqeyM", "link": "https://stackoverflow.com/users/10301507/miqeym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568715006, "creation_date": 1568677035, "last_edit_date": 1568715006, "question_id": 57965578, "link": "https://stackoverflow.com/questions/57965578/how-to-debug-endpoint-discovery-in-google-nearby-connections-api-on-android", "title": "How to debug endpoint discovery in google nearby connections API on Android?", "body": "<p>I am trying to test google nearby connections API by writing a simple, single class android program. Unfortunately I am not able to connect to physical devices, after starting discovering and advertising.</p>\n\n<p>All code is located within single class. App is written with <em>Kotlin</em> by almost directly copying the code from API <a href=\"https://developers.google.com/nearby/connections/overview\" rel=\"nofollow noreferrer\">website</a> and translating it from Java to Kotlin.\nI don't know where to look for a problem. Logs doesn't seem to show any obvious results. \nI kept one phone advertising for more than a couple of minutes and the other one discovering meanwhile. Bluetooth is on, and both devices are in one WiFi network with Internet access. I use <em>Star</em> Strategy.\nEndpointDiscoveryCallback is never called.</p>\n\n<p>Here are my implementations of startDiscovery and endpointCallback</p>\n\n<pre><code>private fun startClient() {\n    connClient.startDiscovery(deviceId, endpointDiscoveryCallback, discOptions)\n        .addOnSuccessListener {\n            Toast.makeText(\n                applicationContext,\n                \"Discovering started\",\n                Toast.LENGTH_SHORT\n            ).show()\n            currentStateTextView.text = \"discovering\"\n\n        }.addOnFailureListener { exception -&gt;\n            Toast.makeText(\n                applicationContext,\n                \"Discovery failed, exception thrown: ${exception.message}.\",\n                Toast.LENGTH_SHORT\n            ).show()\n        }\n}\n\n\nprivate val endpointDiscoveryCallback = object : EndpointDiscoveryCallback() {\n    override fun onEndpointFound(endpointId: String, info: DiscoveredEndpointInfo) {\n        connClient.requestConnection(deviceId, endpointId, connectionLifecycleCallback)\n            .addOnSuccessListener {\n\n            }\n            .addOnFailureListener {\n\n            }\n    }\n\n    override fun onEndpointLost(endpointId: String) {\n        Toast.makeText(applicationContext, \"Endpoint: $endpointId lost!\", Toast.LENGTH_SHORT)\n            .show()\n    }\n\n}\n</code></pre>\n\n<p>I succeeded to connect the same decives using sample app \"Rock, Paper, Scissors\" which is based on the same API. Unfortunately, till now i cannot find the clue why the devices wont find each other with my code, and where to look for a hint.</p>\n"}, {"tags": ["android", "google-chrome", "kotlin", "android-webview"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13763298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjdRUIghWEmTezldnBIehhOBaWGz7TC4uzHlHUZjw=k-s128", "display_name": "Vipin Dhiman", "link": "https://stackoverflow.com/users/13763298/vipin-dhiman"}, "is_accepted": false, "score": 0, "last_activity_date": 1594925027, "last_edit_date": 1594925027, "creation_date": 1594923780, "answer_id": 62941222, "question_id": 57964510, "link": "https://stackoverflow.com/questions/57964510/unable-to-open-mht-file-in-webview-when-updating-chrome-v77/62941222#62941222", "title": "Unable to open mht file in WebView when updating Chrome v77", "body": "<p>Sorry for my late answer because i face same problem and i was searching solution yesterday and i resolve it today like below.</p>\n<p>In your java class you have to give below code</p>\n<pre><code>        webView.setWebViewClient(new WebViewClient() {\n\n            @Override\n            public void onLoadResource(WebView view, String url) {\n                super.onLoadResource(view, url);\n                if (one_time==1)//one_time is only a variable because i want\n                                // to run view.loadUrl(url); only one time.\n                    view.loadUrl(url);\n                one_time++;\n            }\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                return true;\n            }\n\n            @Override\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\n                super.onPageStarted(view, url, favicon);\n            }\n\n            @Override\n            public void onPageFinished(WebView view, final String url) {\n\n            }\n\n        });\n</code></pre>\n<p>I think you are giving</p>\n<pre><code>   view.loadUrl(url);\n</code></pre>\n<p>in below method</p>\n<pre><code>  @Override\n  public boolean shouldOverrideUrlLoading(WebView view, String url) {\n     // view.loadUrl(url); like this\n     // you will need this when you will load the url but in case \n     //of mht page it will not work \n     return true;\n  }\n</code></pre>\n<p>do not do this if you are loading mht page because</p>\n<pre><code> shouldOverrideUrlLoading(WebView view, String url){...}\n</code></pre>\n<p>loads the url and it also run when first time you open webview activity.</p>\n<p>so,</p>\n<pre><code>onLoadResource(WebView view, String url){...}\n</code></pre>\n<p>method load the Resource.</p>\n"}], "owner": {"reputation": 11, "user_id": 12076355, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HmTPAHKiuFQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rencaATGP8wkLcFPMgUkVK2kSlBDw/photo.jpg?sz=128", "display_name": "onsen", "link": "https://stackoverflow.com/users/12076355/onsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1594925027, "creation_date": 1568668528, "question_id": 57964510, "link": "https://stackoverflow.com/questions/57964510/unable-to-open-mht-file-in-webview-when-updating-chrome-v77", "title": "Unable to open mht file in WebView when updating Chrome v77", "body": "<p>I can't open mht files in WebView.\nIt worked fine until Chrome v76, but v77 had a read error</p>\n\n<p>If chrome is returned to v76, the read was successful.\nfile: /// also didn't work.\nLoading with loadDataWithBaseURL also didn't work</p>\n\n<pre><code>webview.loadUrl(\"file://{$context.cacheDir}/file.mht\")\n</code></pre>\n\n<p>cid: Frame- \"Random string\" @ mhtml.blink\nNet :: ERR_UNKNOWN_URL_SHCEME</p>\n"}, {"tags": ["java", "generics", "kotlin", "coroutine"], "comments": [{"owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 0, "creation_date": 1568675079, "post_id": 57963799, "comment_id": 102341604, "body": "Change <code>inline fun &lt;reified T&gt; String.jsonToObject</code> to <code>fun &lt;T&gt; String.jsonToObject</code> and see if it works."}, {"owner": {"reputation": 972, "user_id": 5762040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7b128fabc7c7d39e0c69410511b40f?s=128&d=identicon&r=PG", "display_name": "Michal Zhradnk Nono3551", "link": "https://stackoverflow.com/users/5762040/michal-zhradnk-nono3551"}, "reply_to_user": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 0, "creation_date": 1568706342, "post_id": 57963799, "comment_id": 102349343, "body": "Hi, this did not help. After I have changed function declaration it breaks first call in as well."}, {"owner": {"reputation": 1386, "user_id": 8900311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6aaH4Ficf2M/AAAAAAAAAAI/AAAAAAAAABk/LzbVZy7Pqwc/photo.jpg?sz=128", "display_name": "Quaffel", "link": "https://stackoverflow.com/users/8900311/quaffel"}, "edited": false, "score": 0, "creation_date": 1568729688, "post_id": 57963799, "comment_id": 102362104, "body": "That the first call breaks after removing the <code>inline</code> and <code>reified</code> keywords makes perfect sense as type erasure comes into effect. Instead of representing the type you pass to the type variable T, T would represent Object <i>at runtime</i>. It&#39;s therefore impossible for Gson to determine which type you want to deserialize. I expect a similar effect during your second call, but I&#39;m not sure yet."}, {"owner": {"reputation": 1386, "user_id": 8900311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6aaH4Ficf2M/AAAAAAAAAAI/AAAAAAAAABk/LzbVZy7Pqwc/photo.jpg?sz=128", "display_name": "Quaffel", "link": "https://stackoverflow.com/users/8900311/quaffel"}, "edited": false, "score": 0, "creation_date": 1568730380, "post_id": 57963799, "comment_id": 102362537, "body": "Could you please provide the source code of the field declaration inside HttpRequest? It would make analyzing Gson&#39;s behaviour at that point a lot easier."}, {"owner": {"reputation": 972, "user_id": 5762040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7b128fabc7c7d39e0c69410511b40f?s=128&d=identicon&r=PG", "display_name": "Michal Zhradnk Nono3551", "link": "https://stackoverflow.com/users/5762040/michal-zhradnk-nono3551"}, "edited": false, "score": 0, "creation_date": 1568730882, "post_id": 57963799, "comment_id": 102362832, "body": "It is already provided in post.    <b>data class HttpResponse&lt;T&gt; ( val response: T )</b>"}], "answers": [{"comments": [{"owner": {"reputation": 992, "user_id": 3225001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVXrx.jpg?s=128&g=1", "display_name": "Gurupad Mamadapur", "link": "https://stackoverflow.com/users/3225001/gurupad-mamadapur"}, "reply_to_user": {"reputation": 972, "user_id": 5762040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7b128fabc7c7d39e0c69410511b40f?s=128&d=identicon&r=PG", "display_name": "Michal Zhradnk Nono3551", "link": "https://stackoverflow.com/users/5762040/michal-zhradnk-nono3551"}, "edited": false, "score": 0, "creation_date": 1580912406, "post_id": 57982480, "comment_id": 106254091, "body": "@MichalZhradnkNono3551 I believe this is due to this bug - <a href=\"https://youtrack.jetbrains.com/issue/KT-22798\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22798</a>  If you pass HttpResponse&lt;LoginData&gt; itself as T  to <code>executeRequestAsync</code>, it&#39;ll work fine."}], "tags": [], "owner": {"reputation": 1386, "user_id": 8900311, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6aaH4Ficf2M/AAAAAAAAAAI/AAAAAAAAABk/LzbVZy7Pqwc/photo.jpg?sz=128", "display_name": "Quaffel", "link": "https://stackoverflow.com/users/8900311/quaffel"}, "is_accepted": true, "score": 7, "last_activity_date": 1568927843, "last_edit_date": 1568927843, "creation_date": 1568756870, "answer_id": 57982480, "question_id": 57963799, "link": "https://stackoverflow.com/questions/57963799/reified-generic-parameter-inside-coroutine-is-not-working/57982480#57982480", "title": "Reified generic parameter inside coroutine is not working", "body": "<p>In order to understand why the second call behaves kind of strangely and why, as proposed by Leo Aso, removing the keywords <code>inline</code> and <code>reified</code> (which requires an inlinable function) also breaks the first call, you have to understand type erasure and how <code>reified</code>  enables type reification first. </p>\n\n<p><em>Note: The following code is written in Java since I'm more familiar with Java's than with Kotlin's syntax. Furthermore, this makes type erasure easier to explain.</em></p>\n\n<p>The <em>type parameter</em> of a <em>generic function</em> isn't available at runtime; Generics are a \"compile-time trick\" only. This applies to both, Java and Kotlin (since Kotlin is able to run on the JVM). The process in which the generic type information is removed is called <em>type erasure</em> and happens during compilation. So how do generic functions work <em>at runtime</em>? Consider the following function which returns the most valuable element of an arbitrary collection.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; T findHighest(Comparator&lt;T&gt; comparator, Collection&lt;? extends T&gt; collection) {\n    T highest = null;\n    for (T element : collection) {\n        if (highest == null || comparator.compare(element, highest) &gt; 0)\n            highest = element;\n    }\n\n    return highest;\n}\n</code></pre>\n\n<p>As this function can be invoked with many different kinds of collections etc, the value of the <em>type variable</em> <code>T</code> might vary over time. To ensure compatiblity with all of them, the function gets refactored during type erasure. After type erasure has completed, the function will look somehow similar to this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Object findHighest(Comparator comparator, Collection collection) {\n    Object highest = null;\n    for (Object element : collection) {\n        if (highest == null || comparator.compare(element, highest) &gt; 0)\n            highest = element;\n    }\n\n    return highest;\n}\n</code></pre>\n\n<p>During type erasure, type variables are replaced with their bound. In this case, the bound type is <code>Object</code>. Parameterized don't keep their generic type information generally. </p>\n\n<p>However, if you'd compile the erased code, some problems will occur. Consider the following code (unerased) which calls the erased one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;CharSequence&gt; comp = ...\nList&lt;String&gt; list = ...\nString max = findHighest(comp, list);\n</code></pre>\n\n<p>As <code>#findHighest(Comparator, Collection)</code> now returns <code>Object</code>, the assignment in line 3 would be illegal. The compiler therefore inserts a cast there during type erasure.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>...\nString max = (String) findHighest(comp, list);\n</code></pre>\n\n<p>As the compiler always knows which cast it has to insert, type erasue doesn't cause any problems in most cases. However, it comes with a few restrictions: <code>instanceof</code> doesn't work, <code>catch (T exception)</code> is illegal (whereas <code>throws T</code> is allowed since the calling function knows what kind of exception it has to expect), etc. The restriction you had to fight with is the lack of <em>reifiable</em> (= full type information available at runtime) generic types (there are a few exceptions, but they do not matter in this context). </p>\n\n<hr>\n\n<p>But wait, Kotlin has support for reified types, right? That's true, but as I've mentioned earlier, this is only true for inlinable functions. But why is that?</p>\n\n<p>When a function which signature contains the keyword <code>inline</code> is invoked, the invoking code is replaced with the code of this function. As the \"copied\" code no longer has to be compatible with all kinds of types, it can be optimized for the context it is used in. </p>\n\n<p>One possible optimization is to replace the type variables in the \"copied code\" (there's a lot more happening under the hood) <em>before</em> type erasure is done. The type information is therefore preserved and also available at runtime; it is indistinguishable from any other non-generic code. </p>\n\n<hr>\n\n<p><s>Although both of your functions, <code>#jsonToObject(ExclusionStrategy?)</code> and <code>#sendRequestAsync(String, Any?, Int, Token?)</code>, are marked as inlinable and have reifiable type parameters, there's still something you've missed: <code>T</code> is, at least in your call to <code>#toJsonObject(ExclusionStrategy?)</code>, NOT reifiable. </p>\n\n<p>One reason for this is your call to <code>#suspendCoroutine(...)</code>. To understand why this is a problem, we have to look at its declaration first:</p>\n\n<pre><code>suspend inline fun &lt;T&gt; suspendCoroutine(\n    crossinline block: (Continuation&lt;T&gt;) -&gt; Unit\n): T\n</code></pre>\n\n<p>The <code>crossinline</code>-keyword is problematic as it stops the compiler from inlining the code that is declared inside <code>block</code>. The lambda you pass to <code>#suspendCoroutine</code> will therefore be transfered into an anonymous inner class. Technically, this happens under the hood at runtime. </p>\n\n<p>The generic type information is therefore NOT available anymore, at least not at runtime. \nAt the point where you invoke <code>#jsonToObject(...)</code>, the type variable <code>T</code> is erased to <code>Object</code>. The <code>TypeToken</code> Gson generates therefore looks like this: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;HttpResponse&lt;Object&gt;&gt;\n</code></pre>\n\n<p></s></p>\n\n<p><strong>Update</strong>: This is, as I've found after some further research, NOT true. <code>crossinline</code> doesn't stop the compiler from inlining lambdas, it just forbids them to influence the function's control flow. I probably mixed it up with the keyword <code>noinline</code>, which, as the name implies, actually forbids inlining. </p>\n\n<p>However, I'm pretty sure about the following part. However, I still have to find out why Gson is unable to determine and/or to deserialize the type correctly. I'll update this post as soon as I know more. </p>\n\n<hr>\n\n<p>That brings us to the final part which tries to explain the weird exception you received. For that, we have to take a look at Gsons' internals. </p>\n\n<p>Internally, Gson has two main types that are responsible for reflective serialization and deserialization: <code>TypeAdapterFactory</code> and <code>TypeAdapter&lt;T&gt;.</code></p>\n\n<p>A <code>TypeAdapter&lt;T&gt;</code> only adapts (= provides the (de-)serialization logic for) one specific type. This means that <code>Integer</code>, <code>Double</code>, <code>List&lt;String&gt;</code> and <code>List&lt;Float&gt;</code> are all handled by different <code>TypeAdapter&lt;T&gt;</code>s.</p>\n\n<p><code>TypeAdapterFactory</code>s are responsible for, as their names already imply, providing matching <code>TypeAdapter&lt;T&gt;</code>s. The differentiation between <code>TypeAdapter&lt;T&gt;</code>s and <code>TypeAdapterFactory</code>s is extremely useful as one factory might create all adapters for e.g. a collection type like <code>List</code> as they all work in a similar way. </p>\n\n<p>In order to determine what kind of adapter you need, Gson expects you to pass a <code>TypeToken&lt;T&gt;</code> when calling a (de-)serialization function which should process a generic type. <code>TypeToken&lt;T&gt;</code> uses a \"trick\" to access the type information passed to its type parameter.</p>\n\n<p>As soon as you call <code>Gson#fromJson(this, object: TypeToken&lt;T&gt;() {}.type)</code>, Gson iterates through all available <code>TypeAdapterFactory</code>s until it finds one that can provide an appropriate <code>TypeAdapter&lt;T&gt;</code>. Gson comes with a variety of <code>TypeAdapterFactory</code>s, including factories for primitive data types, wrapper types, basic collection types, date and many more. Besides that, Gson provides two special factories:</p>\n\n<ul>\n<li>ReflectiveTypeAdapterFactory As the name already implies, this factory tries to access the object's data reflectively. In order to adapt the type of each field appropriately, it requests one matching TypeAdapter per field. This is the factory that will be selected for (de-)serialzing HttpRequest.</li>\n\n<li>ObjectTypeAdapter.Factory This factory only returns an ObjectTypeAdapter. The snippet below shows what it does on object deserialization (respectively the field in your HttpRequest object):</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override public Object read(JsonReader in) throws IOException {\n    JsonToken token = in.peek();\n    switch (token) {\n    ...\n    case BEGIN_OBJECT:\n      Map&lt;String, Object&gt; map = new LinkedTreeMap&lt;String, Object&gt;(); // &lt;-----\n      in.beginObject();\n      while (in.hasNext()) {\n        map.put(in.nextName(), read(in));\n      }\n      in.endObject();\n      return map;   // &lt;-----\n    ...\n  }\n\n</code></pre>\n\n<p>That's why you get a <code>ClassCastException</code> with a <code>com.google.gson.internal.LinkedTreeMap</code>.</p>\n"}], "owner": {"reputation": 972, "user_id": 5762040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc7b128fabc7c7d39e0c69410511b40f?s=128&d=identicon&r=PG", "display_name": "Michal Zhradnk Nono3551", "link": "https://stackoverflow.com/users/5762040/michal-zhradnk-nono3551"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 57982480, "answer_count": 1, "score": 7, "last_activity_date": 1568927843, "creation_date": 1568664671, "last_edit_date": 1568797584, "question_id": 57963799, "link": "https://stackoverflow.com/questions/57963799/reified-generic-parameter-inside-coroutine-is-not-working", "title": "Reified generic parameter inside coroutine is not working", "body": "<p>I am creating http json client. I am using Volley in combination with coroutines. I wanted to create generic http client so I can use it everywhere.</p>\n\n<p>I have created generic extension method to parse JSON string into object.</p>\n\n<pre><code>inline fun &lt;reified T&gt;String.jsonToObject(exclusionStrategy: ExclusionStrategy? = null) : T {\nval builder = GsonBuilder()\n\nif(exclusionStrategy != null){\n    builder.setExclusionStrategies(exclusionStrategy)\n}\n\nreturn builder.create().fromJson(this, object: TypeToken&lt;T&gt;() {}.type)\n</code></pre>\n\n<p>}</p>\n\n<p>Problem is that when I call this method I don't get expected result. First call gives proper result. Object is initialized. But second call, where I use generic parameter which is passed to method, ends with exception \"LinkedTreeMap can not be cast into Token\".</p>\n\n<pre><code>    protected inline fun &lt;reified T&gt;sendRequestAsync(endpoint: String, data: Any?, method: Int, token: Token?): Deferred&lt;T&gt; {\n    return ioScope.async {\n        suspendCoroutine&lt;T&gt; { continuation -&gt;\n            val jsonObjectRequest = HttpClient.createJsonObjectRequest(\n                endpoint,\n                data?.toJsonString(),\n                method,\n                Response.Listener {\n                    //this call is successful and object is initialized\n                    val parsedObject : HttpResponse&lt;Token&gt; = it.toString().jsonToObject()\n\n                    //this call is not successful and object is not initialized properly\n                    val brokenObject : HttpResponse&lt;T&gt; = it.toString().jsonToObject()\n                    continuation.resume(brokenObject.response)\n                },\n                Response.ErrorListener {\n                    continuation.resumeWithException(parseException(it))\n                },\n                token)\n            HttpClient.getInstance(context).addToRequestQueue(jsonObjectRequest)\n        }\n    }\n}\n</code></pre>\n\n<p>Call of generic method.</p>\n\n<pre><code>fun loginAsync(loginData: LoginData): Deferred&lt;Token&gt; {\n    return sendRequestAsync(\"/tokens/\", loginData, Request.Method.POST, null)\n}\n</code></pre>\n\n<p>This is how httpresponse data class looks.</p>\n\n<pre><code>data class HttpResponse&lt;T&gt; (\nval response: T\n)\n</code></pre>\n\n<p>I saw a workaround here using Type::class.java but I don't like this approach and I would like to use reified and inline keywords.\n<a href=\"https://stackoverflow.com/questions/45949584/how-does-the-reified-keyword-in-kotlin-work\">How does the reified keyword in Kotlin work?</a></p>\n\n<p><strong>UPDATE</strong>\nThis is exception which I am getting. </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to com.xbionicsphere.x_card.entities.Token</p>\n</blockquote>\n\n<p><strong>POSSIBLE WORKAROUND</strong>\nI found possible workaround. If I create method which will parse Token into from response and use this method in executeRequestAsync everything starts working but I don't like this solution since I have to add additional parameter for each request.</p>\n\n<p><strong>New loginAsync</strong></p>\n\n<pre><code>fun loginAsync(loginData: LoginData): Deferred&lt;Token&gt; {\n    val convertToResponse : (JSONObject) -&gt; HttpResponse&lt;Token&gt; = {\n        it.toString().jsonToObject()\n    }\n\n    return executeRequestAsync(\"/tokens/\", loginData, Request.Method.POST, null, convertToResponse)\n}\n</code></pre>\n\n<p><strong>New executeRequestAsync</strong></p>\n\n<pre><code>    protected inline fun &lt;reified T&gt;executeRequestAsync(endpoint: String, data: Any?, method: Int, token: Token?, crossinline responseProvider: (JSONObject) -&gt; HttpResponse&lt;T&gt;): Deferred&lt;T&gt; {\n    return ioScope.async {\n        suspendCoroutine&lt;T&gt; { continuation -&gt;\n            val jsonObjectRequest =\n                HttpClient.createJsonObjectRequest(\n                    endpoint,\n                    data?.toJsonString(),\n                    method,\n                    Response.Listener {\n                        val response: HttpResponse&lt;T&gt; = responseProvider(it)\n                        continuation.resume(response.response)\n                    },\n                    Response.ErrorListener {\n                        continuation.resumeWithException(parseException(it))\n                    },\n                    token\n                )\n            HttpClient.getInstance(\n                context\n            ).addToRequestQueue(jsonObjectRequest)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>\nI probably have found working solution. executeRequestAsync needs final type definition provided through generic parameters so I enhanced declaration of method. Now method declaration looks like this:</p>\n\n<pre><code>    protected inline fun &lt;reified HttpResponseOfType, Type&gt;executeRequestAsync(endpoint: String, data: Any?, method: Int, token: Token?) : Deferred&lt;Type&gt; where HttpResponseOfType : HttpResponse&lt;Type&gt; {\n    val scopedContext = context\n\n    return ioScope.async {\n        suspendCoroutine&lt;Type&gt; { continuation -&gt;\n            val jsonObjectRequest =\n                HttpClient.createJsonObjectRequest(\n                    endpoint,\n                    data?.toJsonString(),\n                    method,\n                    Response.Listener {\n                        val response: HttpResponseOfType = it.toString().jsonToObject()\n                        continuation.resume(response.response)\n                    },\n                    Response.ErrorListener {\n                        continuation.resumeWithException(parseException(it))\n                    },\n                    token\n                )\n            HttpClient.getInstance(\n                scopedContext\n            ).addToRequestQueue(jsonObjectRequest)\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks this complicated function declaration I can execute request with this call:</p>\n\n<pre><code>fun loginAsync(loginData: LoginData): Deferred&lt;Token&gt; {\n    return executeRequestAsync(\"/tokens/\", loginData, Request.Method.POST, null)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1568714475, "post_id": 57965189, "comment_id": 102353740, "body": "Can I create Instance of a class using Strategy Pattern?"}], "tags": [], "owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "is_accepted": false, "score": 0, "last_activity_date": 1568673410, "creation_date": 1568673410, "answer_id": 57965189, "question_id": 57963707, "link": "https://stackoverflow.com/questions/57963707/create-singleton-using-strategy-design-pattern-android/57965189#57965189", "title": "Create Singleton using Strategy Design Pattern - Android", "body": "<p>I feel bad you are receiving a bunch of downvotes. From your reputation, you are probably a newbie and are just throwing out a bunch of technical terms you have heard without actually knowing what they are. Let me try to give you a quick tutorial, and then perhaps you will be able to better ask your question.</p>\n\n<p><strong>What Is the Singleton Pattern?</strong>\nThe Singleton Pattern is a software design pattern that guarantees a class has one instance only and a global point of access to it is provided by that class. Anytime multiple classes or clients request for that class, they get the same instance of the class. This Singleton class may be responsible for instantiating itself, or you can delegate the object creation to a factory class.  </p>\n\n<p>Simple example using one of your classes</p>\n\n<pre><code>public class PaymentRepository {\n\n    private static PaymentRepository INSTANCE = null;\n\n    // other instance variables can be here\n\n    private PaymentRepository() {};\n\n    public static PaymentRepository getInstance() {\n        if (INSTANCE == null) {\n            INSTANCE = new PaymentRepository();\n        }\n        return(INSTANCE);\n    }\n\n    // other instance methods can follow \n}\n</code></pre>\n\n<p>A couple notes, notice that the constructor is non-static and private, while the getInstance() method is static and public.</p>\n\n<p>Regarding Strategy pattern, this is used when a class behavior or its algorithm can be changed at runtime.  </p>\n\n<p><strong>What Is the Strategy Pattern?</strong>\nIn Strategy pattern, we create objects which represent various strategies and a context object whose behavior varies as per its strategy object. The strategy object changes the executing algorithm of the context object.</p>\n\n<p>Start by creating an interface</p>\n\n<pre><code>public interface OperationStrategy {\n   public int doOperation(int num1, int num2);\n}\n</code></pre>\n\n<p>Create concrete classes implementing that interface</p>\n\n<pre><code>public class OperationAddition implements OperationStrategy {\n   @Override\n   public int doOperation(int num1, int num2) {\n      return num1 + num2;\n   }\n}\n</code></pre>\n\n<p>Create Context class</p>\n\n<pre><code>public class Context {\n   private OperationStrategy strategy;\n\n   public Context(OperationStrategy strategy){\n      this.strategy = strategy;\n   }\n\n   public int executeStrategy(int num1, int num2){\n      return strategy.doOperation(num1, num2);\n   }\n}\n</code></pre>\n\n<p>Use the Context to see change in behaviour when it changes its Strategy.</p>\n\n<pre><code>public class StrategyPatternDemo {\n   public static void main(String[] args) {\n      Context context = new Context(new OperationAddition());       \n      System.out.println(\"10 + 5 = \" + context.executeStrategy(10, 5));\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1576585252, "creation_date": 1568664195, "last_edit_date": 1576585252, "question_id": 57963707, "link": "https://stackoverflow.com/questions/57963707/create-singleton-using-strategy-design-pattern-android", "title": "Create Singleton using Strategy Design Pattern - Android", "body": "<p>I know about <code>Singleton Design Pattern</code>, <code>Strategy Design Pattern</code> and <code>Composite Design Pattern</code> and the usage of these patterns. </p>\n\n<p>What  I want is that I want an only method (might be static) that is responsible for creating objects that accepts the <code>class</code> and return the Object of that <code>class</code> (will return singleton object if already created) </p>\n\n<p>For instance,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class AuthRepository\nclass SettingRepository\nclass PaymentRepository\n....\n</code></pre>\n\n<p>How can I create singleton of these classes using <strong>Strategy Design Pattern?</strong></p>\n"}, {"tags": ["kotlin", "annotations", "kapt"], "comments": [{"owner": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1590764810, "post_id": 57963698, "comment_id": 109813608, "body": "have you figured out a solution for this?"}, {"owner": {"reputation": 171, "user_id": 11030459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9f8b03551d2c1c2413bb3c8262bd97?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/11030459/peter"}, "reply_to_user": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 1, "creation_date": 1590851933, "post_id": 57963698, "comment_id": 109840315, "body": "I didn&#39;t, what I do is: <code>gradle clean compileKotlin &amp;&amp; gradle compileKotlin</code> and that works for me"}, {"owner": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1590909947, "post_id": 57963698, "comment_id": 109854991, "body": "That should work indeedn but also think about <code>automation</code>"}], "owner": {"reputation": 171, "user_id": 11030459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9f8b03551d2c1c2413bb3c8262bd97?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/11030459/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1568664160, "creation_date": 1568664160, "question_id": 57963698, "link": "https://stackoverflow.com/questions/57963698/multi-round-annotation-processing-with-kapt", "title": "Multi round annotation processing with kapt", "body": "<p>I have written an annotation processor which generates some Kotlin code which itself has annotations which require processing by another processor.</p>\n\n<p>As kapt doesn't support multi-round annotation processing I have to build then re-build my project to have the annotations on the generated code be processed. This works but is inconvenient and non-obvious.</p>\n\n<p>How can I get kapt to run twice? (Even if this requires a custom build task or similar).</p>\n"}, {"tags": ["kotlin", "jackson", "deserialization"], "answers": [{"tags": [], "owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "is_accepted": true, "score": 0, "last_activity_date": 1568665387, "creation_date": 1568665387, "answer_id": 57963945, "question_id": 57963693, "link": "https://stackoverflow.com/questions/57963693/cannot-construct-instance-of-class-although-at-least-one-creator-exists/57963945#57963945", "title": "Cannot construct instance of class although at least one Creator exists", "body": "<p>The problem I had was that I somehow Jackson lost visibility of the constructor, so I provided a default implementation for the generic cases and annotated the constructor and attributes of my generic implementation.</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY,\n        property = \"type\", visible = true, defaultImpl = LocationGeneric::class)\n@JsonSubTypes(\n        JsonSubTypes.Type(value = LocationOne::class, name = \"ONE\"),\n        JsonSubTypes.Type(value = LocationTwo::class, name = \"TWO\")\n)\nabstract class Location(\n        val type: String\n)\n\nclass LocationGeneric @JsonCreator constructor(\n        @JsonProperty(\"type\") type: String\n): Location(type)\n</code></pre>\n\n<p>This also allows me to add an <code>init</code> to handle weird mapping cases.</p>\n"}], "owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3179, "favorite_count": 0, "accepted_answer_id": 57963945, "answer_count": 1, "score": 1, "last_activity_date": 1568665460, "creation_date": 1568664137, "last_edit_date": 1568665460, "question_id": 57963693, "link": "https://stackoverflow.com/questions/57963693/cannot-construct-instance-of-class-although-at-least-one-creator-exists", "title": "Cannot construct instance of class although at least one Creator exists", "body": "<p>I am having the following problem in Kotlin when deserializing a <code>LocationGeneric</code> with Jackson. It is a case when I add no extra info to the abstract class I use to construct the concrete classes. It works good when I deserialize <code>LocationOne</code> or <code>LocationTwo</code>.</p>\n\n<p>This is the code I have written:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, \n        property = \"type\", visible = true)\n@JsonSubTypes(\n        JsonSubTypes.Type(value = LocationOne::class, name = \"ONE\"),\n        JsonSubTypes.Type(value = LocationTwo::class, name = \"TWO\"),\n        JsonSubTypes.Type(value = LocationGeneric::class, name = \"GENERIC_1\"),\n        JsonSubTypes.Type(value = LocationGeneric::class, name = \"GENERIC_2\")\n)\nabstract class Location(\n        val type: String\n)\n\nclass LocationGeneric(\n        type: String\n): Location(type)\n\nclass LocationOne(\n        type: String,\n        val somethingSpecific: String\n): Location(type)\n\nclass LocationAirport(\n        type: String,\n        val somethingElse: String\n): Location(type)\n</code></pre>\n\n<p>This is the error I am getting:</p>\n\n<blockquote>\n  <p>Cannot construct instance of <code>Location</code> (although at least one Creator\n  exists): cannot deserialize from Object value (no delegate- or\n  property-based Creator)</p>\n</blockquote>\n\n<p>I tried changing the abstract class to an open class, but had no luck so far. I works for the other cases. Why doesn't it find the default Kotlin constructor in the <code>LocationGeneric</code> case? Any ideas?</p>\n"}]