[{"tags": ["android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 578, "user_id": 58106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e4fb8dfc046aa06f25572cf8498acd9?s=128&d=identicon&r=PG", "display_name": "eapen", "link": "https://stackoverflow.com/users/58106/eapen"}, "edited": false, "score": 0, "creation_date": 1511768344, "post_id": 47191743, "comment_id": 81967550, "body": "Try importing it as a gradle project as the instructions say."}, {"owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "edited": false, "score": 0, "creation_date": 1513064134, "post_id": 47191743, "comment_id": 82495739, "body": "I don&#39;t know how it should works, but if you write <code>.&#47;gradlew test</code> in terminal then you&#39;ll be able to run separate unit test"}], "answers": [{"tags": [], "owner": {"reputation": 1494, "user_id": 1635803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jIXgO.jpg?s=128&g=1", "display_name": "Grzegorz D.", "link": "https://stackoverflow.com/users/1635803/grzegorz-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1520282506, "creation_date": 1520282506, "answer_id": 49119108, "question_id": 47191743, "link": "https://stackoverflow.com/questions/47191743/run-kotlin-koans-tests-from-android-studio/49119108#49119108", "title": "Run Kotlin Koans tests from Android Studio", "body": "<p>If the GitHub version is not working for you, you can also install Kotlin Koans via IntelliJ plugin.</p>\n\n<p>Check out the instruction here: <a href=\"https://kotlinlang.org/docs/tutorials/edu-tools-learner.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/edu-tools-learner.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 7594205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a797c51c05c0ae4ce57f9089637a38f8?s=128&d=identicon&r=PG&f=1", "display_name": "Guillodacosta", "link": "https://stackoverflow.com/users/7594205/guillodacosta"}, "is_accepted": false, "score": 0, "last_activity_date": 1535128076, "creation_date": 1535128076, "answer_id": 52008455, "question_id": 47191743, "link": "https://stackoverflow.com/questions/47191743/run-kotlin-koans-tests-from-android-studio/52008455#52008455", "title": "Run Kotlin Koans tests from Android Studio", "body": "<p>you must use the icon \"check task\" (<em>is the check green icon in photo attachment</em>) on \"Task Description\" for tests your implementations.\n<a href=\"https://i.stack.imgur.com/MnEb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnEb6.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 482, "user_id": 1484715, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f1ad7a4c1280fb475e23e80288679285?s=128&d=identicon&r=PG", "display_name": "JaLoveAst1k", "link": "https://stackoverflow.com/users/1484715/jaloveast1k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1535128076, "creation_date": 1510185355, "question_id": 47191743, "link": "https://stackoverflow.com/questions/47191743/run-kotlin-koans-tests-from-android-studio", "title": "Run Kotlin Koans tests from Android Studio", "body": "<p>Windows 10, Android Studio 3.0.<br>\nSo I just cloned Kotlin Koans repo from master branch and tried to run tests in two different ways:<br>\n1. Using IDE, when I press the green arrow next to the test method I see:</p>\n\n<pre><code>Process finished with exit code 1\nClass not found: \"i_introduction._0_Hello_World.N00StartKtTest\"Empty test suite.\n</code></pre>\n\n<p>2. And when I try to use terminal as described in Kotlin Koans Readme:</p>\n\n<pre><code>gradlew test --tests i_*\n</code></pre>\n\n<p>it gives me an output of:</p>\n\n<pre><code>:compileKotlin                                                                   \nUsing kotlin incremental compilation\nCaught an exception trying to connect to Kotlin Daemon\njava.lang.ClassNotFoundException: com.sun.tools.javac.util.Context\n</code></pre>\n\n<p>I've seen a lot of suggestions that there might be tools.jar missing in jdk folder, I am using internal Android Studios jdk and it's presented here.\nI also tried to disable gradle deamons - result is still the same.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1510180126, "post_id": 47190759, "comment_id": 81330998, "body": "What are <code>someMap</code> and <code>someString</code>?"}, {"owner": {"reputation": 798, "user_id": 3722218, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qUm6q.jpg?s=128&g=1", "display_name": "vyudi", "link": "https://stackoverflow.com/users/3722218/vyudi"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1510180294, "post_id": 47190759, "comment_id": 81331080, "body": "@OliverCharlesworth just made up names. The error message points that the wildcard is found in a value stored in the m1: Map&lt;String, Any&gt;."}], "answers": [{"comments": [{"owner": {"reputation": 798, "user_id": 3722218, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qUm6q.jpg?s=128&g=1", "display_name": "vyudi", "link": "https://stackoverflow.com/users/3722218/vyudi"}, "edited": false, "score": 0, "creation_date": 1510186469, "post_id": 47191587, "comment_id": 81333087, "body": "That was it! Solved my problem!"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1510184332, "creation_date": 1510184332, "answer_id": 47191587, "question_id": 47190759, "link": "https://stackoverflow.com/questions/47190759/generic-wildcard-types-are-not-supported/47191587#47191587", "title": "Generic wildcard types are not supported", "body": "<p>In the <a href=\"https://firebase.google.com/support/release-notes/android\" rel=\"nofollow noreferrer\">release notes</a> for the Firebase SDKs, it mentions for version 11.6.0:</p>\n\n<blockquote>\n  <p>Feature: Added support for deserializing field types with wildcard generic parameters (e.g. kotlin.Map).</p>\n</blockquote>\n\n<p>Sounds like you should just upgrade your client library to 11.6.0.</p>\n"}], "owner": {"reputation": 798, "user_id": 3722218, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qUm6q.jpg?s=128&g=1", "display_name": "vyudi", "link": "https://stackoverflow.com/users/3722218/vyudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 47191587, "answer_count": 1, "score": 3, "last_activity_date": 1510231379, "creation_date": 1510179962, "last_edit_date": 1510231379, "question_id": 47190759, "link": "https://stackoverflow.com/questions/47190759/generic-wildcard-types-are-not-supported", "title": "Generic wildcard types are not supported", "body": "<p>I'm getting the following error:</p>\n\n<blockquote>\n  <p>Could not deserialize object. Generic wildcard types are not supported (found in field <code>m1(Map&lt;String,Any&gt;).someStringInM1(String)</code>)</p>\n</blockquote>\n\n<p>This error is generated by the following line (I'm using Firestore's Android SDK):</p>\n\n<pre><code>task.result.toObjects(SomeClass::class.java)\n</code></pre>\n\n<p>In which I'm trying to map the result to a list of a Custom Class which has the following constructor:</p>\n\n<pre><code>constructor(s1: String, s2: String, d1: Double, m1: Map&lt;String, Any&gt;, dr1: DocumentReference, i1: Int, d2: Double) {\n        this.s1 = s1\n        this.s2 = s2\n        this.d1 = d1\n        this.m1 = m1\n        this.dr1 = dr1\n        this.i1 = i1\n        this.d2 = d2\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 1, "creation_date": 1510179558, "post_id": 47190592, "comment_id": 81330729, "body": "I see @tynn. Then my options are to manually overload <code>fun newInstance(mouse: Mouse?)</code> <b>or</b> use it by <code>MyFragmentKt.newInstance(null, null, null, mouse);</code>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1510213486, "post_id": 47190592, "comment_id": 81341511, "body": "I think that&#39;s the best options you&#39;ve got."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1510179161, "creation_date": 1510179161, "answer_id": 47190592, "question_id": 47190428, "link": "https://stackoverflow.com/questions/47190428/using-kotlins-jvmoverloads-with-androids-fragment-newinstance-pattern/47190592#47190592", "title": "Using Kotlin&#39;s @JvmOverloads with Android&#39;s Fragment.newInstance() pattern", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/\" rel=\"nofollow noreferrer\"><code>@JvmOverloads</code></a> annotation makes the compiler generate all methods by leaving out the end-parameters. It does not generate methods for all permutations of parameters.</p>\n\n<blockquote>\n  <p>If a method has <em>N</em> parameters and <em>M</em> of which have default values, <em>M</em> overloads are generated: the first one takes <em>N-1</em> parameters (all but the last one that takes a default value), the second takes <em>N-2</em> parameters, and so on.</p>\n</blockquote>\n\n<p>So <code>MyFragmentKt.newInstance(bird)</code> will exist, while <code>MyFragmentKt.newInstance(mouse)</code> or even <code>MyFragmentKt.newInstance(bee)</code> won't exist.</p>\n"}], "owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510179161, "creation_date": 1510178399, "question_id": 47190428, "link": "https://stackoverflow.com/questions/47190428/using-kotlins-jvmoverloads-with-androids-fragment-newinstance-pattern", "title": "Using Kotlin&#39;s @JvmOverloads with Android&#39;s Fragment.newInstance() pattern", "body": "<p>I've tried to accomplish this by defining the both as top-level fun and as a companion object static fun, but I get the same result. I'm able to see generated methods but there's none for <code>newInstance(mouse: Mouse?)</code> What am I misunderstanding about how this gets called from Java?</p>\n\n<pre><code>// MyFragment.kt\n@JvmOverloads\nfun newInstance(bird: Bird? = null, bee: Bee? = null, cat: Int? = -1, mouse: Mouse? = null) : MyFragment {\n  //Put params in Bundle, put bundle in fragment...\n  return MyFragment()\n}\n\n// MyActivity.java\nMyFragment fragment = MyFragmentKt.newInstance(bird, bee, cat); // compiles\nMyFragment fragment = MyFragmentKt.newInstance(mouse); // does not compile\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-interop"], "answers": [{"tags": [], "owner": {"reputation": 38, "user_id": 2208189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1321330a072dfc9dfa38dc2ba6c42ed?s=128&d=identicon&r=PG", "display_name": "cmorriss", "link": "https://stackoverflow.com/users/2208189/cmorriss"}, "is_accepted": true, "score": 1, "last_activity_date": 1510179686, "creation_date": 1510179686, "answer_id": 47190708, "question_id": 47188634, "link": "https://stackoverflow.com/questions/47188634/smart-cast-doesnt-work-as-expected/47190708#47190708", "title": "Smart cast doesn&#39;t work as expected", "body": "<p>The problem is that the generic Collection declaration needs an actual type. However, you're using List&lt;*> which does not have a specified type and the compiler is assuming the generic type associated with the Box is \"Nothing\".</p>\n\n<p>There are a couple of ways you can fix this.</p>\n\n<ul>\n<li><p>If you know a specific set of types for which this will be used ahead of time, you can use a when statement to do a proper smart cast of the List type and then you'll be able to create a correct instance of Box call the put() method without an issue.</p>\n\n<pre><code>if(clazz is List&lt;*&gt; &amp;&amp; clazz.size &gt; 0){\n    val items = clazz\n    val item = items.get(0)\n    when (item) {\n        is Int -&gt; {\n            val box = store.boxFor(Int::class.java)\n            box.put(items.filterIsInstance&lt;Int&gt;())\n        }\n        is ...\n    }\n\n}\n</code></pre></li>\n<li><p>Use reflection to get the put() method from Box and then make the call on it. This will bypass the semantic checks of the compiler, but it's a bit more dubious and could run into issues later.</p>\n\n<pre><code>if(clazz is List&lt;*&gt; &amp;&amp; clazz.size &gt; 0){\n    val items = clazz\n    val item = items.get(0)\n    val box = store.boxFor(Int::class.java)\n    val putMethod = box::class.java.getDeclaredMethod(\"put\", item!!::class.java)\n    putMethod.invoke(box, items)\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 123, "user_id": 4233843, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/54144656dc4e85b771f04080e3cb5904?s=128&d=identicon&r=PG", "display_name": "Allan Ara&#250;jo", "link": "https://stackoverflow.com/users/4233843/allan-ara%c3%bajo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 47190708, "answer_count": 1, "score": 1, "last_activity_date": 1510179686, "creation_date": 1510171207, "question_id": 47188634, "link": "https://stackoverflow.com/questions/47188634/smart-cast-doesnt-work-as-expected", "title": "Smart cast doesn&#39;t work as expected", "body": "<p>I have the following Kotlin code:</p>\n\n<pre><code>fun handleResult(clazz: Any){\n    val store = App.getBoxStore();\n    if(clazz is List&lt;*&gt; &amp;&amp; clazz.size &gt; 0){\n        val items: List&lt;*&gt; = clazz;\n        val item = items.get(0);\n        val box = store.boxFor(item!!::class.java)\n        box.put(items)\n    }\n}\n</code></pre>\n\n<p>It takes a object, checks if it is a collection and if it is, takes a item to check the class of the collection items, create a Box from a library called ObjectBox which is an database, and them put the list of items in the database.</p>\n\n<p>However, i get the following error in the Box.put statment:</p>\n\n<pre><code>Error:(45, 17) None of the following functions can be called with the \narguments supplied:\npublic open fun put(@Nullable vararg p0: Nothing!): Unit defined in \nio.objectbox.Box\npublic open fun put(@Nullable p0: (Nothing..Collection&lt;Nothing!&gt;?)): \nUnit defined in io.objectbox.Box\npublic open fun put(p0: Nothing!): Long defined in io.objectbox.Box\n</code></pre>\n\n<p>The signature of the method I want to use is:</p>\n\n<pre><code> public void put(@Nullable Collection&lt;T&gt; entities)\n</code></pre>\n\n<p>It recivies a Collection of a generic type, as a list is a collection, it should work.</p>\n\n<p>I've also explicitly casted it to a List, but it still says the same thing.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["gradle", "kotlin", "travis-ci"], "comments": [{"owner": {"reputation": 494, "user_id": 8843830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u98GxMSaCTo/AAAAAAAAAAI/AAAAAAAAEE0/80CGxOFijd4/photo.jpg?sz=128", "display_name": "Florian Wilhelm", "link": "https://stackoverflow.com/users/8843830/florian-wilhelm"}, "edited": false, "score": 0, "creation_date": 1510172864, "post_id": 47188609, "comment_id": 81327408, "body": "How do you invoke the tests locally? &quot;./gradlew check&quot;? Also, is there a log from travis? Can you post it? Does it say which Gradle tasks are run?"}, {"owner": {"reputation": 1116, "user_id": 28256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/13602fe3edcb55aeb7143427a0c3b2f3?s=128&d=identicon&r=PG", "display_name": "menapole", "link": "https://stackoverflow.com/users/28256/menapole"}, "reply_to_user": {"reputation": 494, "user_id": 8843830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u98GxMSaCTo/AAAAAAAAAAI/AAAAAAAAEE0/80CGxOFijd4/photo.jpg?sz=128", "display_name": "Florian Wilhelm", "link": "https://stackoverflow.com/users/8843830/florian-wilhelm"}, "edited": false, "score": 0, "creation_date": 1510234061, "post_id": 47188609, "comment_id": 81354472, "body": "I did have an error in my build.gradle file which caused some problems locally and your suggestion here helped me fix that.  Mismatch between kotlin version in use in IDE and that in specified in the build.gradle file."}], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 5705324, "user_type": "registered", "profile_image": "https://graph.facebook.com/1101354429877706/picture?type=large", "display_name": "Artur Czopek", "link": "https://stackoverflow.com/users/5705324/artur-czopek"}, "is_accepted": true, "score": 8, "last_activity_date": 1510174602, "creation_date": 1510174602, "answer_id": 47189549, "question_id": 47188609, "link": "https://stackoverflow.com/questions/47188609/kotlin-build-on-travis-ci-passes-but-no-tests-get-run/47189549#47189549", "title": "Kotlin Build on travis-CI passes but no tests get run", "body": "<p>Try this:</p>\n\n<pre><code>language: java\njdk:\n  - oraclejdk8\nbefore_install:\n  - chmod +x gradlew\n  - chmod +x gradle/wrapper/gradle-wrapper.jar\nscript:\n  - ./gradlew test build\n</code></pre>\n"}], "owner": {"reputation": 1116, "user_id": 28256, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/13602fe3edcb55aeb7143427a0c3b2f3?s=128&d=identicon&r=PG", "display_name": "menapole", "link": "https://stackoverflow.com/users/28256/menapole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1572, "favorite_count": 1, "accepted_answer_id": 47189549, "answer_count": 1, "score": 7, "last_activity_date": 1510174602, "creation_date": 1510171119, "question_id": 47188609, "link": "https://stackoverflow.com/questions/47188609/kotlin-build-on-travis-ci-passes-but-no-tests-get-run", "title": "Kotlin Build on travis-CI passes but no tests get run", "body": "<p>I'm attempting to setup my project to run builds on travis-CI.  I've gotten it setup so that it runs and passes but my tests don't get run at all.  Locally they pass. To test I setup a test to fail and the proceeding build still passed.  THis is a gradle project and uses testng.  </p>\n\n<p>build.gradle file</p>\n\n<pre><code>group 'org.napoleon'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    testCompile group : 'org.testng', name : 'testng', version: '6.8'\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '3.4.1'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ntest {\n    // enable TestNG support (default is JUnit)\n    useTestNG()\n}\n</code></pre>\n\n<p>and travis.yml</p>\n\n<pre><code>language: java\njdk:\n  - oraclejdk8\nbefore_install:\n  - chmod +x gradlew\n  - chmod +x gradle/wrapper/gradle-wrapper.jar\n</code></pre>\n\n<p>I'm basically new to both travis-CI and kotlin so struggling with a few things as I go.  </p>\n"}, {"tags": ["kotlin", "rx-kotlin"], "comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1510303045, "post_id": 47187808, "comment_id": 81386607, "body": "What happens if you run <code>mvn dependency:tree</code> ? If it shows up twice with different versions, it is a good idea to add an explicit dependency on it in your <code>pom.xml</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5360, "user_id": 3139545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c4a158119260b6a27a6bab276cac749?s=128&d=identicon&r=PG&f=1", "display_name": "user3139545", "link": "https://stackoverflow.com/users/3139545/user3139545"}, "edited": false, "score": 0, "creation_date": 1510218426, "post_id": 47189055, "comment_id": 81344167, "body": "Even after exclusion it does not work, it solves the conflict but im getting the same error."}, {"owner": {"reputation": 496, "user_id": 1102761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTyHf.jpg?s=128&g=1", "display_name": "jtonic", "link": "https://stackoverflow.com/users/1102761/jtonic"}, "reply_to_user": {"reputation": 5360, "user_id": 3139545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c4a158119260b6a27a6bab276cac749?s=128&d=identicon&r=PG&f=1", "display_name": "user3139545", "link": "https://stackoverflow.com/users/3139545/user3139545"}, "edited": false, "score": 0, "creation_date": 1510474611, "post_id": 47189055, "comment_id": 81443815, "body": "I would try the following:  1. mvn dependency:tree -Dverbose -Dincludes= rxjava2 2. mvn compile 3. run the application with exec maven plugin (java) - <a href=\"http://www.mojohaus.org/exec-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">mojohaus.org/exec-maven-plugin/usage.html</a> 4. (optional) delete local maven cache 5. check the versions of idea kotlin plugin and maven plugin. I urge you to keep the same value."}], "tags": [], "owner": {"reputation": 496, "user_id": 1102761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTyHf.jpg?s=128&g=1", "display_name": "jtonic", "link": "https://stackoverflow.com/users/1102761/jtonic"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173728, "last_edit_date": 1510173728, "creation_date": 1510172992, "answer_id": 47189055, "question_id": 47187808, "link": "https://stackoverflow.com/questions/47187808/kotlin-with-rxkotlinfx-stack-gives-cannot-access-class-error/47189055#47189055", "title": "Kotlin with RxKotlinFX stack gives Cannot access class error", "body": "<p><strong>io.reactivex.Observable</strong> resides in <strong>rxjava-2.1.3.jar</strong> library, which is a transitive dependency brought by 2 dependencies you declared in pom.xml:</p>\n\n<ul>\n<li><p>com.github.thomasnield:rxkotlinfx:2.2.0</p></li>\n<li><p>io.reactivex.rxjava2:rxkotlin:2.1.0</p></li>\n</ul>\n\n<p>I tried your setup with gradle (sorry, I like more gradle than maven) and I use gradle command line to see what is the conflict resolution: \nHere is the outcome:</p>\n\n<pre><code>io.reactivex.rxjava2:rxjava:2.1.3 (conflict resolution)\n\\--- io.reactivex.rxjava2:rxjavafx:2.2.0\n     \\--- com.github.thomasnield:rxkotlinfx:2.2.0\n          \\--- compileClasspath\n\nio.reactivex.rxjava2:rxjava:2.1.0 -&gt; 2.1.3\n\\--- io.reactivex.rxjava2:rxkotlin:2.1.0\n     \\--- compileClasspath\n\nio.reactivex.rxjava2:rxjavafx:2.2.0\n\\--- com.github.thomasnield:rxkotlinfx:2.2.0\n     \\--- compileClasspath\n\nio.reactivex.rxjava2:rxkotlin:2.1.0 (selected by rule)\n\\--- compileClasspath\n</code></pre>\n\n<p>and gradle conflict resolution chosen the v <strong>2.1.3</strong></p>\n\n<p>I know that dependency management in gradle is more powerful than in maven, but I would force maven to use a specific version of the transitive dependency by excluding the unwanted dependency version.</p>\n\n<p>I would try the following:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n  &lt;artifactId&gt;rxkotlin&lt;/artifactId&gt;\n  &lt;version&gt;${rxkotlin.version}&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n      &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Or, in case you don't need some API from it, you can remove the</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.thomasnield&lt;/groupId&gt;\n        &lt;artifactId&gt;rxkotlinfx&lt;/artifactId&gt;\n        &lt;version&gt;${rxkotlinfx.version}&lt;/version&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35454, "user_id": 1366871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3ec9d9128a25ba6eae8a1d42c2eb04a?s=128&d=identicon&r=PG", "display_name": "dreamcrash", "link": "https://stackoverflow.com/users/1366871/dreamcrash"}, "edited": false, "score": 0, "creation_date": 1613559706, "post_id": 47208767, "comment_id": 117109769, "body": "If this solved you problem then mark it as accepted :)"}], "tags": [], "owner": {"reputation": 5360, "user_id": 3139545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c4a158119260b6a27a6bab276cac749?s=128&d=identicon&r=PG&f=1", "display_name": "user3139545", "link": "https://stackoverflow.com/users/3139545/user3139545"}, "is_accepted": false, "score": 2, "last_activity_date": 1510250848, "creation_date": 1510250848, "answer_id": 47208767, "question_id": 47187808, "link": "https://stackoverflow.com/questions/47187808/kotlin-with-rxkotlinfx-stack-gives-cannot-access-class-error/47208767#47208767", "title": "Kotlin with RxKotlinFX stack gives Cannot access class error", "body": "<p>The only solution I found was to make an explicit dependency on:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n    &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n    &lt;version&gt;2.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 5360, "user_id": 3139545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c4a158119260b6a27a6bab276cac749?s=128&d=identicon&r=PG&f=1", "display_name": "user3139545", "link": "https://stackoverflow.com/users/3139545/user3139545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1510250848, "creation_date": 1510168349, "last_edit_date": 1510169358, "question_id": 47187808, "link": "https://stackoverflow.com/questions/47187808/kotlin-with-rxkotlinfx-stack-gives-cannot-access-class-error", "title": "Kotlin with RxKotlinFX stack gives Cannot access class error", "body": "<p>When im using the following dependencies in my pom file:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;rxkotlinfx.version&gt;2.2.0&lt;/rxkotlinfx.version&gt;\n    &lt;rxkotlin.version&gt;2.1.0&lt;/rxkotlin.version&gt;\n    &lt;kotlin.version&gt;1.1.51&lt;/kotlin.version&gt;\n    &lt;tornadofx.version&gt;1.7.12&lt;/tornadofx.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.thomasnield&lt;/groupId&gt;\n        &lt;artifactId&gt;rxkotlinfx&lt;/artifactId&gt;\n        &lt;version&gt;${rxkotlinfx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n        &lt;artifactId&gt;rxkotlin&lt;/artifactId&gt;\n        &lt;version&gt;${rxkotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;no.tornado&lt;/groupId&gt;\n        &lt;artifactId&gt;tornadofx&lt;/artifactId&gt;\n        &lt;version&gt;${tornadofx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And running the following code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val source = listOf(\"A\", \"B\", \"C\").toObservable()\n            .filter { it == \"B\" }\n            .subscribeBy(\n                    onNext = { println(it) }\n            )\n}\n</code></pre>\n\n<p>Im getting the following error:</p>\n\n<pre><code>Error:(37, 40) Kotlin: Cannot access class 'io.reactivex.Observable'. Check your module classpath for missing or conflicting dependencies\n</code></pre>\n\n<p>Why am I getting this error and what setup of dependencies do I need to be able to work with this stack?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 1, "creation_date": 1510168330, "post_id": 47187657, "comment_id": 81324834, "body": "Its a shortcoming of Dagger in general-  it can&#39;t access private fields.  Doing so would require reflection and would be impossible to do at compile time like Dagger prefers.  Doing so at run time would cost loading time to do reflective calls.  So it just doesn&#39;t support it at all."}], "answers": [{"comments": [{"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1510169255, "post_id": 47187741, "comment_id": 81325407, "body": "I have posted Gradle Build Messages. I do not understand what private field is problem."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 1, "creation_date": 1510169429, "post_id": 47187741, "comment_id": 81325513, "body": "The error message has been changed to a different one, which differs from your original question. Refer to other similar questions."}, {"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1510174858, "post_id": 47187741, "comment_id": 81328531, "body": "Thanks for help. I have changed my question back to original."}, {"owner": {"reputation": 7784, "user_id": 1114329, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/q5A69.jpg?s=128&g=1", "display_name": "Gaurav Arora", "link": "https://stackoverflow.com/users/1114329/gaurav-arora"}, "edited": false, "score": 0, "creation_date": 1520504314, "post_id": 47187741, "comment_id": 85346323, "body": "@azizbekian I have removed internal modifier, then too I am getting this error."}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1571142917, "post_id": 47187741, "comment_id": 103135215, "body": "Why remove <code>internal</code>? It works perfectly well with Dagger. By omitting a visibility modifier you&#39;re making your fields public and breaking encapsulation."}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 57, "last_activity_date": 1525717916, "last_edit_date": 1525717916, "creation_date": 1510168104, "answer_id": 47187741, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/47187741#47187741", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>Accidentally I came across to my own answer and have to confess, that in fact it isn't working (at least for my use-case). Please consider <a href=\"https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/48554204#48554204\">Avilio's answer</a> which worked for me also: substitute <code>internal</code> with <code>lateinit</code>.</p>\n\n<hr>\n\n<h2>Old answer</h2>\n\n<p>Remove <code>internal</code> modifier. Dagger needs at least package-private access in order to access annotated field. In Kotlin <code>internal</code> modifier is <strong>not</strong> a substitution for Java's package-private access modifier.</p>\n\n<p>For detailed explanation of differences between modifiers in Java and Kotlin refer to Fragmented podcast's <a href=\"http://fragmentedpodcast.com/episodes/101/\" rel=\"noreferrer\">episode #101</a> - <em>\"Learning Kotlin \u2013 visibility modifiers, internal modifier, modules\"</em>, as well as the <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"noreferrer\">official docs</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1510257582, "post_id": 47209528, "comment_id": 81370303, "body": "Yes I did. I have defined KotlinFragment in my DgAeaComponent.java Problem is with definition of var mSharedPreferences in my KotlinFragment.kt"}, {"owner": {"reputation": 1742, "user_id": 2642024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifi9n.jpg?s=128&g=1", "display_name": "finki", "link": "https://stackoverflow.com/users/2642024/finki"}, "reply_to_user": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1510303278, "post_id": 47209528, "comment_id": 81386727, "body": "I added the provide method for the <code>SharedPreferences</code> like you should have defined in any of your modules which is used in a Component like this: <code>@Component(modules = AndroidModule.class)</code>"}, {"owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "edited": false, "score": 0, "creation_date": 1510308605, "post_id": 47209528, "comment_id": 81389971, "body": "I provide method for the SharedPreferences in my Module. The problem was with declaration of  var mSharedPreferences in my KotlinFragment.kt. It has to be @Inject lateinit var mSharedPreferences: SharedPreferences Edit your answer i would like to check."}], "tags": [], "owner": {"reputation": 1742, "user_id": 2642024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifi9n.jpg?s=128&g=1", "display_name": "finki", "link": "https://stackoverflow.com/users/2642024/finki"}, "is_accepted": false, "score": 2, "last_activity_date": 1510303218, "last_edit_date": 1510303218, "creation_date": 1510253698, "answer_id": 47209528, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/47209528#47209528", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>Have you defined <code>fun inject(fragment: KotlinFragment)</code> in your <code>ApplicationComponent</code>? Because it looks like your error message is saying exactly that.</p>\n\n<p>EDIT: maybe you haven't provided <code>SharedPreferences</code> in your Module like this:</p>\n\n<pre><code>@Module\npublic class AndroidModule {\n    private final TimrApplication application;\n\n    public AndroidModule(TimrApplication application) {\n        this.application = application;\n    }\n\n    @Provides\n    SharedPreferences provideSharedPreferences(){\n        return PreferenceManager.getDefaultSharedPreferences(application);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9728, "user_id": 334493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93ad7552a203f15cfa3776d5d53a7d5a?s=128&d=identicon&r=PG", "display_name": "Benoit Duffez", "link": "https://stackoverflow.com/users/334493/benoit-duffez"}, "edited": false, "score": 0, "creation_date": 1527032718, "post_id": 48410035, "comment_id": 87969380, "body": "Thanks a lot. I may add that in case of DI, it may be useful to annotate the setter parameter. For example if you want to inject two <code>String</code> and you differentiate them with <code>@Qualifier</code> annotation classes, the setter needs to have that information: <code>@Inject set(@CustomAnnotation param) { field = param }</code>."}, {"owner": {"reputation": 975, "user_id": 6761823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UypSX.jpg?s=128&g=1", "display_name": "Andrzej Zabost", "link": "https://stackoverflow.com/users/6761823/andrzej-zabost"}, "edited": false, "score": 5, "creation_date": 1535365412, "post_id": 48410035, "comment_id": 91024568, "body": "You can also: <code>@set:Inject var mSharedPreferences: SharedPreferences? = null</code>"}, {"owner": {"reputation": 7231, "user_id": 4370279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tjPvY.png?s=128&g=1", "display_name": "theapache64", "link": "https://stackoverflow.com/users/4370279/theapache64"}, "reply_to_user": {"reputation": 975, "user_id": 6761823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UypSX.jpg?s=128&g=1", "display_name": "Andrzej Zabost", "link": "https://stackoverflow.com/users/6761823/andrzej-zabost"}, "edited": false, "score": 0, "creation_date": 1547793142, "post_id": 48410035, "comment_id": 95321626, "body": "@AndrzejZabost (y)"}, {"owner": {"reputation": 2929, "user_id": 3024565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ns51P.jpg?s=128&g=1", "display_name": "Ishaan", "link": "https://stackoverflow.com/users/3024565/ishaan"}, "edited": false, "score": 1, "creation_date": 1568807196, "post_id": 48410035, "comment_id": 102391023, "body": "This should be the accepted answer. Please follow the above method to correctly implement dagger with Kotlin."}], "tags": [], "owner": {"reputation": 3603, "user_id": 1748464, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/0LFx2.jpg?s=128&g=1", "display_name": "Danylo Volokh", "link": "https://stackoverflow.com/users/1748464/danylo-volokh"}, "is_accepted": false, "score": 53, "last_activity_date": 1516738357, "creation_date": 1516738357, "answer_id": 48410035, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/48410035#48410035", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>You have mistake here:</p>\n\n<pre><code>    @Inject\ninternal var mSharedPreferences: SharedPreferences? = null\n</code></pre>\n\n<p>This looks like you added <code>@Inject</code> annotation to the <code>KotlinFragment</code> class</p>\n\n<p>Please change it to this and it will work:</p>\n\n<pre><code>var mSharedPreferences: SharedPreferences? = null\n        @Inject set\n</code></pre>\n\n<p>Here is the link to the documentation: <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/annotations.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 1939549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1235eef6811dd1150bd91c0734f4d9?s=128&d=identicon&r=PG&f=1", "display_name": "OnJohn", "link": "https://stackoverflow.com/users/1939549/onjohn"}, "edited": false, "score": 1, "creation_date": 1529582478, "post_id": 48554204, "comment_id": 88932364, "body": "Note that lateinit doesn&#39;t allow nullable type (? type). For nullable field, please make use of Provider or Lazy. The wrapped type can be nullable it."}, {"owner": {"reputation": 606, "user_id": 6114891, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7144d099114fc0bc55047180efe3d0ef?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/6114891/jonathan"}, "edited": false, "score": 0, "creation_date": 1565630334, "post_id": 48554204, "comment_id": 101404405, "body": "This seems very odd, why does this work? Dagger&#39;s complaining about the <code>var</code> being <code>private</code> (which it isn&#39;t), and making it <code>lateinit</code> fixes that? Why?"}], "tags": [], "owner": {"reputation": 531, "user_id": 3904992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MQnMN.jpg?s=128&g=1", "display_name": "Avilio", "link": "https://stackoverflow.com/users/3904992/avilio"}, "is_accepted": false, "score": 33, "last_activity_date": 1521523910, "last_edit_date": 1521523910, "creation_date": 1517450174, "answer_id": 48554204, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/48554204#48554204", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>I had the same error, even upon removing the internal keyword. So I replaced <strong>internal</strong> with <strong>lateinit</strong> and it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 5522085, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m1w7AdL7Z-Y/AAAAAAAAAAI/AAAAAAAAAJ8/aCvO5Fywve4/photo.jpg?sz=128", "display_name": "Federico Heiland", "link": "https://stackoverflow.com/users/5522085/federico-heiland"}, "is_accepted": false, "score": 3, "last_activity_date": 1524259830, "last_edit_date": 1524259830, "creation_date": 1524258779, "answer_id": 49949793, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/49949793#49949793", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>Remove the <code>internal</code> modifier. And I also had to declare <code>lateinit</code> and remove the Optional. </p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 10484331, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gIsrVSyR1o/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUwL_oIWIc9zXezvQFOKDcxxCJ6Vg/mo/photo.jpg?sz=128", "display_name": "Mohammad Reza Lohrasbi", "link": "https://stackoverflow.com/users/10484331/mohammad-reza-lohrasbi"}, "edited": false, "score": 2, "creation_date": 1570430405, "post_id": 52342219, "comment_id": 102896920, "body": "Thanks! This work for me to inject primitive type like integer."}, {"owner": {"reputation": 699, "user_id": 2806948, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/GI8kp.png?s=128&g=1", "display_name": "Chinthaka Devinda", "link": "https://stackoverflow.com/users/2806948/chinthaka-devinda"}, "edited": false, "score": 2, "creation_date": 1578465919, "post_id": 52342219, "comment_id": 105442850, "body": "Nice.Works like charm.Thank you!"}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 35, "last_activity_date": 1536992582, "creation_date": 1536992582, "answer_id": 52342219, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/52342219#52342219", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>As simple you can do this, change this line </p>\n\n<pre><code>@Inject\ninternal var mSharedPreferences: SharedPreferences? = null\n</code></pre>\n\n<p>To</p>\n\n<pre><code>@set:Inject\ninternal var mSharedPreferences: SharedPreferences? = null\n</code></pre>\n\n<p>this work like charm  in my case.</p>\n"}, {"tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": false, "score": 9, "last_activity_date": 1542284437, "creation_date": 1542284437, "answer_id": 53319409, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/53319409#53319409", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<pre><code>@Inject\nlateinit var mSharedPreferences: SharedPreferences\n</code></pre>\n\n<p>Also, this worked for me as well for late initialization variable</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6566051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bccdd4578e0739fe21a83f4b393e6f?s=128&d=identicon&r=PG&f=1", "display_name": "G K", "link": "https://stackoverflow.com/users/6566051/g-k"}, "is_accepted": false, "score": 4, "last_activity_date": 1571144175, "last_edit_date": 1571144175, "creation_date": 1571139902, "answer_id": 58393942, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/58393942#58393942", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>I followed the above advise of not making the field internal. But, that was not enough.  Kapt still converting the var to private during compilation. </p>\n\n<p>I had to add the <code>@JvmField</code> annotation to make it behave better.  </p>\n\n<p>The answer I found was here: \n<a href=\"https://discuss.kotlinlang.org/t/kapt-converting-public-fields-to-private-during-compilation/11757\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kapt-converting-public-fields-to-private-during-compilation/11757</a></p>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 13268194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a2234addd76d0f132b858c7c1beda6e?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun A", "link": "https://stackoverflow.com/users/13268194/tarun-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1612262134, "creation_date": 1612262134, "answer_id": 66007975, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/66007975#66007975", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>In My case, I changed</p>\n<pre><code>@Inject\nvar locationDBWrapper: LocationDBWrapper? = null\n</code></pre>\n<p>to</p>\n<pre><code>@Inject\nlateinit var locationDBWrapper: LocationDBWrapper\n</code></pre>\n<p>Issue got resolved</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 13002482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/667fd978a7ac5c5fc76e46a8a7c580c5?s=128&d=identicon&r=PG&f=1", "display_name": "Serge", "link": "https://stackoverflow.com/users/13002482/serge"}, "is_accepted": false, "score": 0, "last_activity_date": 1616087253, "creation_date": 1616087253, "answer_id": 66695787, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields/66695787#66695787", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>You can't make injected vars private, but you can make them protected, which is effectively the same in a final class (and in Kotlin classes are final by default unless you use the &quot;open&quot; modifier). Also, use lateinit modifier like it has been said already.</p>\n<pre><code>@Inject\nprotected lateinit var mSharedPreferences: SharedPreferences\n</code></pre>\n<p>If your class is not open, this might produce a warning in Android Studio saying &quot;'protected' visibility is effectively 'private' in a final class&quot; - you can just suppress that with:</p>\n<pre><code>@Suppress(&quot;ProtectedInFinal&quot;)\n</code></pre>\n"}], "owner": {"reputation": 2544, "user_id": 4030157, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/urP4E.png?s=128&g=1", "display_name": "eurosecom", "link": "https://stackoverflow.com/users/4030157/eurosecom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22620, "favorite_count": 3, "accepted_answer_id": 47187741, "answer_count": 10, "score": 49, "last_activity_date": 1616087253, "creation_date": 1510167790, "last_edit_date": 1510174775, "question_id": 47187657, "link": "https://stackoverflow.com/questions/47187657/kotlin-error-dagger-does-not-support-injection-into-private-fields", "title": "Kotlin Error: Dagger does not support injection into private fields", "body": "<p>I use in kotlin activity ViewPager and I want in Kotlin Fragment use the dagger injection. I have got Error: Dagger does not support injection into private fields.\nIn Java Fragment the dagger injection work.\nWhy can i not inject dagger in kotlin faragment ?</p>\n\n<p>in my kotlin activity</p>\n\n<pre><code>mPagerAdapter = object : FragmentPagerAdapter(supportFragmentManager) {\n\n        private val mFragments = arrayOf(KotlinFragment(), JavaFragment())\n        private val mFragmentNames = arrayOf(getString(R.string.cashdocuments), getString(R.string.action_absmysql))\n\n        override fun getItem(position: Int): Fragment {\n            return mFragments[position]\n        }\n\n        override fun getCount(): Int {\n            return mFragments.size\n        }\n\n        override fun getPageTitle(position: Int): CharSequence {\n            return mFragmentNames[position]\n        }\n    }\n</code></pre>\n\n<p>my kotlin fragment</p>\n\n<pre><code>class KotlinFragment : Fragment()  {\n\n\n@Inject\ninternal var mSharedPreferences: SharedPreferences? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    (activity.application as SamfantozziApp).dgaeacomponent().inject(this)\n\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    super.onCreateView(inflater, container, savedInstanceState)\n    val rootView = inflater!!.inflate(R.layout.activity_absserver, container, false)\n\n    return rootView\n}\n\n}\n</code></pre>\n\n<p>messages gradle build</p>\n\n<p><a href=\"https://i.stack.imgur.com/WDYxt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WDYxt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 247, "user_id": 6697357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c9f53c30839d80237967a1d6119e17?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbajt", "link": "https://stackoverflow.com/users/6697357/hobbajt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510161777, "creation_date": 1510161777, "question_id": 47185935, "link": "https://stackoverflow.com/questions/47185935/wrong-position-of-popupwindow-inside-recyclerview-after-notifyitemchanged", "title": "Wrong position of PopupWindow inside RecyclerView after notifyItemChanged", "body": "<p>I have RecyclerView inside another RecyclerView. When item of inner RecyclerView is clicked, I'm showing PopupWindow like below.\n <a href=\"https://i.stack.imgur.com/QzN0r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QzN0r.png\" alt=\"enter image description here\"></a></p>\n\n<p>When user would click button inside popup, item of outer RecyclerView should update data. The problem is that, after update outer item <code>notifyItemChanged(position)</code>, PopupWindow displays in left, top corner of fragment, instead of below item of inner RecyclerView.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lEOSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEOSC.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>override fun onBindViewHolder(holder : MessageItemHolder, messagePosition : Int)\n{\n    val item = messages[messagePosition]\n    //Display some data\n\n    if(item.isRateViewOpened)\n      showRatePopup(holder, messagePosition, item)\n\n    holder.tvMessage.setOnLongClickListener {\n        showRatePopup(holder, messagePosition, item)\n        true\n\n    }\n}\n\nprivate fun showRatePopup(holder : MessageItemHolder, messagePosition : Int, message : Message)\n{\n    messages[messagePosition].isRateViewOpened = true\n    val rateView = layoutInflater.inflate(R.layout.popup_rate, null)\n\n    setRateIcons(message.status, rateView)\n\n    rateView.ibLike.setOnClickListener { displayRateStatus(RateStatus.LIKE, message, messagePosition, rateView) }\n    rateView.ibDislike.setOnClickListener { displayRateStatus(RateStatus.DISLIKE, message, messagePosition, rateView) }\n\n    val popupWindow = PopupWindow(rateView, FrameLayout.LayoutParams.WRAP_CONTENT, FrameLayout.LayoutParams.WRAP_CONTENT, true)\n\n    popupWindow.setBackgroundDrawable(ColorDrawable())\n    popupWindow.isOutsideTouchable = true\n    val location = IntArray(2)\n    holder.tvMessage.getLocationOnScreen(location)\n    popupWindow.showAsDropDown(holder.tvMessage, 0, 0, Gravity.NO_GRAVITY)\n    popupWindow.setOnDismissListener {\n        messages[messagePosition].isRateViewOpened = false\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-animation", "lottie-android"], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 3494397, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb9d705e43ab7b9eaf9bb9452675df?s=128&d=identicon&r=PG&f=1", "display_name": "hkchakladar", "link": "https://stackoverflow.com/users/3494397/hkchakladar"}, "edited": false, "score": 0, "creation_date": 1544183003, "post_id": 47191437, "comment_id": 94195142, "body": "<code>animationView.loop(false)</code> is deprecated as on 2.8.0. What is the equivalent method?"}, {"owner": {"reputation": 544, "user_id": 748300, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bee076b42d88f39badeeaf94ac778868?s=128&d=identicon&r=PG", "display_name": "ASP", "link": "https://stackoverflow.com/users/748300/asp"}, "reply_to_user": {"reputation": 693, "user_id": 3494397, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/51cb9d705e43ab7b9eaf9bb9452675df?s=128&d=identicon&r=PG&f=1", "display_name": "hkchakladar", "link": "https://stackoverflow.com/users/3494397/hkchakladar"}, "edited": false, "score": 2, "creation_date": 1558093643, "post_id": 47191437, "comment_id": 98996736, "body": "@hkchakladar I&#39;m using <code>animationDrawable.repeatCount = LottieDrawable.INFINITE</code> and <code>animationDrawable.repeatMode = LottieDrawable.RESTART</code>."}], "tags": [], "owner": {"reputation": 1165, "user_id": 7355128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoNgX.png?s=128&g=1", "display_name": "Andre Breton", "link": "https://stackoverflow.com/users/7355128/andre-breton"}, "is_accepted": false, "score": 12, "last_activity_date": 1510183513, "creation_date": 1510183513, "answer_id": 47191437, "question_id": 47185639, "link": "https://stackoverflow.com/questions/47185639/pause-and-resume-lottie-animation/47191437#47191437", "title": "Pause and Resume Lottie Animation", "body": "<p>What you can do is use <strong>progress</strong> from LottieAnimationView, threads and a flag, this will allow you to <strong>pause</strong> at a certain progress and <strong>resume</strong> exactly when you need to play your animation again</p>\n\n<p>I created the following example:</p>\n\n<pre><code>animationView.playAnimation()\nanimationView.loop(false)\n\nisAnimating = true // Setup your flag\n\nthread {\n    while (isAnimating){ // Loop that checks the progress of your animation\n        if (animationView.progress &gt;= 0.5f){// If animation reaches 50%\n            runOnUiThread {\n                animationView.pauseAnimation()// Pause Animation\n            }\n            Thread.sleep(5000) // Pause for 5 seconds\n            runOnUiThread {\n                animationView.playAnimation(0.5f,1f) // Resume your animation from 50% to 100%\n            }\n            isAnimating = false\n        }\n        if(animationView.progress &gt;= 1f){ // If animation reaches 100% stop animation\n            runOnUiThread {\n                animationView.cancelAnimation()\n                isAnimating = false\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 10174, "user_id": 1381093, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/9570843d0928a7ca5877056d8a907021?s=128&d=identicon&r=PG", "display_name": "JackDev", "link": "https://stackoverflow.com/users/1381093/jackdev"}, "edited": false, "score": 1, "creation_date": 1566287740, "post_id": 57568474, "comment_id": 101598741, "body": "Hi Mr.hir, welcome to stackoverflow, a handy tip going forward, some explanations about your answer would make your post much more valued and upvoted. =)"}], "tags": [], "owner": {"reputation": 417, "user_id": 9037254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba2d49c6b08167eca6ccfebb10b18216?s=128&d=identicon&r=PG&f=1", "display_name": "mr.hir", "link": "https://stackoverflow.com/users/9037254/mr-hir"}, "is_accepted": false, "score": 2, "last_activity_date": 1566285458, "creation_date": 1566285458, "answer_id": 57568474, "question_id": 47185639, "link": "https://stackoverflow.com/questions/47185639/pause-and-resume-lottie-animation/57568474#57568474", "title": "Pause and Resume Lottie Animation", "body": "<pre><code>animationView.setMinAndMaxProgress(0.0f, 0.5f);//set 50% animation //lottie version 2.7.0\n</code></pre>\n"}], "owner": {"reputation": 2667, "user_id": 3959246, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/646060905/picture?type=large", "display_name": "Andy Joyce", "link": "https://stackoverflow.com/users/3959246/andy-joyce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14512, "favorite_count": 2, "answer_count": 2, "score": 9, "last_activity_date": 1566285458, "creation_date": 1510160813, "last_edit_date": 1510187222, "question_id": 47185639, "link": "https://stackoverflow.com/questions/47185639/pause-and-resume-lottie-animation", "title": "Pause and Resume Lottie Animation", "body": "<p>I'm implementing a Lottie animation and the entire animation works great! However, i would like to add a bit of code that will pause the animation after 30 frames which I can then resume after a certain amount of time. Here is the code so far </p>\n\n<pre><code>animationView.playAnimation(0, 30)\nanimationView.addAnimatorListener(object : Animator.AnimatorListener {\n   override fun onAnimationEnd(animation: Animator) {\n      if (isLoading == false) {\n         //Everything has loaded. Continue Animation \n\n         //This line has no effect. The animation does not continue\n         animationView.playAnimation(30, 60)\n         //Resuming the animation just makes the animation disappear\n         //animation.resume()\n      }\n }\n</code></pre>\n\n<p>Any advice would be appreciated! </p>\n"}, {"tags": ["javascript", "kotlin"], "comments": [{"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1510160577, "post_id": 47185392, "comment_id": 81320117, "body": "Ah, I see. You know about fully qualified reference. Is there any reason you don&#39;t want to pass it?"}, {"owner": {"reputation": 160, "user_id": 7512448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OgLAI.png?s=128&g=1", "display_name": "Zonico", "link": "https://stackoverflow.com/users/7512448/zonico"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1511642519, "post_id": 47185392, "comment_id": 81935908, "body": "@AlexeyAndreev Hmm... I don&#39;t know, what fully qualified references are :P. The only reason, I don&#39;t want to pass it with namespace prefix is for sake of look. It looks more &quot;simple javascript&quot; and nicer to me. HelI can&#39;t even descripe, why I want to avoid that. I guess there&#39;s no proper reason and I&#39;m gonna just use a namespace. EDIT: I&#39;m not a Web developer <i>at all</i>"}], "answers": [{"tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": false, "score": 0, "last_activity_date": 1510160450, "creation_date": 1510160450, "answer_id": 47185520, "question_id": 47185392, "link": "https://stackoverflow.com/questions/47185392/define-global-function-in-kotlin-that-i-be-used-in-html-file-to-use-as-onclick-c/47185520#47185520", "title": "Define global function in Kotlin that I be used in html file to use as onclick callback", "body": "<p>Consider you have module named <code>sample</code>, with either <code>plain</code> or <code>UMD</code> module type. It's content is following:</p>\n\n<pre><code>package foo\n\nfun doClick() {\n    println(\"Hello, world\")\n}\n</code></pre>\n\n<p>Then you can assign it to click handler as follows:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Click me!\" onclick=\"sample.foo.doClick();&gt;\n</code></pre>\n\n<p>See <a href=\"http://kotlinlang.org/docs/reference/js-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">documentation</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 3347059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cedcc7653d8cd3a6caf9bb018a072bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Belonozhko", "link": "https://stackoverflow.com/users/3347059/sergey-belonozhko"}, "is_accepted": true, "score": 1, "last_activity_date": 1549768962, "creation_date": 1549768962, "answer_id": 54613046, "question_id": 47185392, "link": "https://stackoverflow.com/questions/47185392/define-global-function-in-kotlin-that-i-be-used-in-html-file-to-use-as-onclick-c/54613046#54613046", "title": "Define global function in Kotlin that I be used in html file to use as onclick callback", "body": "<p>I was struggling with similar problem, although specifying a module was not enough in my case.\nSo referring to the initial question <code>Define global function in Kotlin</code> I would suggest a workaround:</p>\n\n<pre><code>import kotlin.browser.window\n\nfun main() {\n    window.asDynamic()[\"doClick\"] = ::doClick\n}\n\nfun doClick() {\n    println(\"Hello, world\")\n}\n</code></pre>\n\n<p>In this code a kotlin function is explicitly assigned to a variable in global scope. Now you can simply call your function using <code>doClick()</code></p>\n"}], "owner": {"reputation": 160, "user_id": 7512448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OgLAI.png?s=128&g=1", "display_name": "Zonico", "link": "https://stackoverflow.com/users/7512448/zonico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 54613046, "answer_count": 2, "score": 0, "last_activity_date": 1549768962, "creation_date": 1510160078, "question_id": 47185392, "link": "https://stackoverflow.com/questions/47185392/define-global-function-in-kotlin-that-i-be-used-in-html-file-to-use-as-onclick-c", "title": "Define global function in Kotlin that I be used in html file to use as onclick callback", "body": "<p>I want to define a function inside Kotlin/transpiled JavaScript, that I can pass \"in it's raw and global form\" to some inputs inside my html.\nWith raw form, I mean not as [project  name].doClick().</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Click me!\" onclick=\"doClick();&gt;\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "edited": false, "score": 0, "creation_date": 1510190671, "post_id": 47182598, "comment_id": 81334108, "body": "You have to declare the function to be overrided inside the object."}], "answers": [{"comments": [{"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1510154419, "post_id": 47183304, "comment_id": 81315702, "body": "Thanks for the answer. This is almost right, I had to ad the type in the parameters, and an override to the onItemClicked function. It worked in the end"}], "tags": [], "owner": {"reputation": 1163, "user_id": 4284706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-N1hr-LIggYE/AAAAAAAAAAI/AAAAAAAAAdg/aSJqCiLre6k/photo.jpg?sz=128", "display_name": "Rivu Chakraborty", "link": "https://stackoverflow.com/users/4284706/rivu-chakraborty"}, "is_accepted": true, "score": 2, "last_activity_date": 1510170182, "last_edit_date": 1510170182, "creation_date": 1510154216, "answer_id": 47183304, "question_id": 47182598, "link": "https://stackoverflow.com/questions/47182598/kotlin-expecting-member-declaration/47183304#47183304", "title": "Kotlin - expecting member declaration", "body": "<p>Since you've converted both files to Kotlin and as the <code>OnItemClickListener</code> interface is written in Kotlin, you can't pass a function lambda like that.\nBest way is to create an anonymous instance of the interface (you can also use lambda for that, but I'm posting without lambda for sake of understanding)</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView!!)\n    .setOnItemClickListener (object:OnItemClickListener{\n        override fun onItemClicked(recyclerView: RecyclerView, position: Int, v: View ){ \n            val itemIntent = Intent(this@AddSubscription, CreateSubscription::class.java)\n             ... \n        }\n    })\n</code></pre>\n\n<p>Alternatively, you can use HighOrder Function inside <code>ItemClickSupport</code> to receive lambda only and avoid interface.</p>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9177, "favorite_count": 0, "closed_date": 1510177990, "accepted_answer_id": 47183304, "answer_count": 1, "score": 0, "last_activity_date": 1510170182, "creation_date": 1510152296, "last_edit_date": 1510154187, "question_id": 47182598, "link": "https://stackoverflow.com/questions/47182598/kotlin-expecting-member-declaration", "closed_reason": "Duplicate", "title": "Kotlin - expecting member declaration", "body": "<p>I was trying to convert my app from Java to Kotlin.</p>\n\n<p>I used the Android Studio Built-in converter and fixed most of the errors it generated.</p>\n\n<p>Being new to Kotlin this one is giving me a really hard time:</p>\n\n<p>I got this class which was written in Java and got converted, apparently without any error, which helps me managing item clicks in a <code>RecyclerView</code>:</p>\n\n<pre><code>class ItemClickSupport private constructor(private val mRecyclerView: RecyclerView) {\n    private var mOnItemClickListener: OnItemClickListener? = null\n    private var mOnItemLongClickListener: OnItemLongClickListener? = null\n    private val mOnClickListener = View.OnClickListener { v -&gt;\n        if (mOnItemClickListener != null) {\n            val holder = mRecyclerView.getChildViewHolder(v)\n            mOnItemClickListener!!.onItemClicked(mRecyclerView, holder.adapterPosition, v)\n        }\n    }\n\n    private val mOnLongClickListener = View.OnLongClickListener { v -&gt;\n        if (mOnItemLongClickListener != null) {\n            val holder = mRecyclerView.getChildViewHolder(v)\n            return@OnLongClickListener mOnItemLongClickListener!!.onItemLongClicked(mRecyclerView, holder.adapterPosition, v)\n        }\n        false\n    }\n\n    private val mAttachListener = object : RecyclerView.OnChildAttachStateChangeListener {\n        override fun onChildViewAttachedToWindow(view: View) {\n            if (mOnItemClickListener != null) {\n                view.setOnClickListener(mOnClickListener)\n            }\n            if (mOnItemLongClickListener != null) {\n                view.setOnLongClickListener(mOnLongClickListener)\n            }\n        }\n\n        override fun onChildViewDetachedFromWindow(view: View) {\n\n        }\n    }\n\n    init {\n        mRecyclerView.setTag(R.id.item_click_support, this)\n        mRecyclerView.addOnChildAttachStateChangeListener(mAttachListener)\n    }\n\n    fun setOnItemClickListener(listener: OnItemClickListener): ItemClickSupport {\n        mOnItemClickListener = listener\n        return this\n    }\n\n    fun setOnItemLongClickListener(listener: OnItemLongClickListener): ItemClickSupport {\n        mOnItemLongClickListener = listener\n        return this\n    }\n\n    private fun detach(view: RecyclerView) {\n        view.removeOnChildAttachStateChangeListener(mAttachListener)\n        view.setTag(R.id.item_click_support, null)\n    }\n\n    interface OnItemClickListener {\n\n        fun onItemClicked(recyclerView: RecyclerView, position: Int, v: View)\n    }\n\n    interface OnItemLongClickListener {\n\n        fun onItemLongClicked(recyclerView: RecyclerView, position: Int, v: View): Boolean\n    }\n\n    companion object {\n\n        fun addTo(view: RecyclerView): ItemClickSupport {\n            var support: ItemClickSupport? = view.getTag(R.id.item_click_support) as ItemClickSupport\n            if (support == null) {\n                support = ItemClickSupport(view)\n            }\n            return support\n        }\n\n        fun removeFrom(view: RecyclerView): ItemClickSupport? {\n            val support = view.getTag(R.id.item_click_support) as ItemClickSupport\n            support?.detach(view)\n            return support\n        }\n    }\n}\n</code></pre>\n\n<p>In the main activity, after conversion it's set like this in the <code>onCreate</code> function:</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView!!).setOnItemClickListener { recyclerView, position, v -&gt;\n            val itemIntent = Intent(this@AddSubscription, CreateSubscription::class.java)\n\n            ...\n        }\n</code></pre>\n\n<p>The IDE is giving me the following error:</p>\n\n<blockquote>\n  <p>Type mismatch: </p>\n  \n  <p>required: ItemClickSupport.OnItemClickListener</p>\n  \n  <p>Found: (???, ???, ???) -> Unit</p>\n</blockquote>\n\n<p>Now, I know <code>Unit</code> is Kotlin's <code>void</code>, but I can't figure out where the error is. </p>\n\n<p>After checking <a href=\"https://stackoverflow.com/a/44190547/6427630\">this answer</a> as suggested, I wrote the following code:</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView!!).setOnItemClickListener(\n                object: ItemClickSupport.OnItemClickListener {\n                    val itemIntent = Intent(this@AddSubscription, CreateSubscription::class.java)\n                    val bundle = Bundle()\n                    bundle.putParcelable(\"selected\", filteredList!![position])\n                    itemIntent.putExtras(bundle)\n                    startActivity(itemIntent)\n        })\n</code></pre>\n\n<p>Now I'm getting an</p>\n\n<blockquote>\n  <p>expected member declaration</p>\n</blockquote>\n\n<p>which as stated in <a href=\"https://stackoverflow.com/a/44368763/6427630\">this other answer</a> it has to do with the constructor. </p>\n\n<p>Is this the ItemClickSupport.OnItemClickListener constructor? If so, what should I change? </p>\n\n<p>I suspect the error is still caused by the <code>OnClickSupport</code> class being poorly converted into kotlin even if it does not have any sintax errors</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1510151263, "post_id": 47181547, "comment_id": 81313274, "body": "See also: <a href=\"https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions\">When should one prefer Kotlin extension functions?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 14, "last_activity_date": 1510149664, "creation_date": 1510149664, "answer_id": 47181681, "question_id": 47181547, "link": "https://stackoverflow.com/questions/47181547/kotlin-extension-functions-vs-member-functions/47181681#47181681", "title": "Kotlin extension functions vs member functions?", "body": "<h1>When to use member functions</h1>\n\n<p>You should use member functions if all of the following apply:</p>\n\n<ul>\n<li>The code is written originally in Kotlin</li>\n<li>You can modify the code</li>\n<li>The method makes sense to be able to use from any other code</li>\n</ul>\n\n<h1>When to use extension functions</h1>\n\n<p>You should use extension functions if any of the following apply:</p>\n\n<ul>\n<li>The code was originally written in Java and you want to add methods written in Kotlin</li>\n<li>You cannot change the original code</li>\n<li>You want a special function that only makes sense for a particular part of the code</li>\n</ul>\n\n<h1>Why?</h1>\n\n<p>Generally, member functions are easier to find than extension functions, as they are guaranteed to be in the class they are a member of (or a super class/interface).</p>\n\n<p>They also do not need to be imported into all of the code that uses them.</p>\n"}, {"comments": [{"owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "edited": false, "score": 1, "creation_date": 1510149913, "post_id": 47181695, "comment_id": 81312299, "body": "Yes, I am the original author of the class (it&#39;s for a personal project) so #1 isn&#39;t a concern. Could you explain exactly what you mean by providing scope for a particular functionality? Thanks."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "edited": false, "score": 0, "creation_date": 1510150080, "post_id": 47181695, "comment_id": 81312430, "body": "@FarbodSalamat-Zadeh - I&#39;ve added a little detail to #2 - let me know if that helps clarify."}, {"owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "edited": false, "score": 0, "creation_date": 1510150233, "post_id": 47181695, "comment_id": 81312542, "body": "Thanks, that&#39;s great!"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1510150351, "post_id": 47181695, "comment_id": 81312623, "body": "You can find detail explanation <a href=\"https://stackoverflow.com/questions/34797366/in-kotlin-how-do-i-add-extension-methods-to-another-class-but-only-visible-in\">here</a> about #2."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 9, "last_activity_date": 1510150066, "last_edit_date": 1510150066, "creation_date": 1510149699, "answer_id": 47181695, "question_id": 47181547, "link": "https://stackoverflow.com/questions/47181547/kotlin-extension-functions-vs-member-functions/47181695#47181695", "title": "Kotlin extension functions vs member functions?", "body": "<p>From my point of view, there are two compelling reasons to use extension functions:</p>\n\n<ol>\n<li><p>To \"extend\" the behaviour of a class you're not the author of / can't change (and where inheritance doesn't make sense or isn't possible).</p></li>\n<li><p>To provide a scope for particular functionality.  For example, an extension function may be declared as a freestanding function, in which case it's usable everywhere.  Or you may choose to declare it as a (private) member function of another class, in which case it's only usable from inside that class.</p></li>\n</ol>\n\n<p>It sounds like #1 isn't a concern in your case, so it's really more down to #2.</p>\n"}, {"tags": [], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "is_accepted": false, "score": 2, "last_activity_date": 1510383327, "creation_date": 1510383327, "answer_id": 47235266, "question_id": 47181547, "link": "https://stackoverflow.com/questions/47181547/kotlin-extension-functions-vs-member-functions/47235266#47235266", "title": "Kotlin extension functions vs member functions?", "body": "<p>Extension functions are similar to those you create as a utility functions. </p>\n\n<p>A basic example would be something like this:</p>\n\n<pre><code>// Strings.kt\nfun String.isEmail() : Boolean {\n    // check for email pattern and return true/false\n}\n</code></pre>\n\n<p>This code can be written as a utility function in Java like this:</p>\n\n<pre><code>class StringUtils {\n    public static boolean isEmail(String email) {\n        // check for email pattern and return true/false\n    }\n}\n</code></pre>\n\n<p>So what it essentially does is, calling the same function with the object you call on will be passed as the first parameter to the argument. Like the same function I have given example of in <code>Java</code>. </p>\n\n<p>If you want to call the extension function created in <code>kotlin</code> from <code>java</code>, you need to pass the caller as the first argument. Like, </p>\n\n<pre><code>StringsKt.isEmail(\"example@example.com\")\n</code></pre>\n\n<p>As per the documentation,</p>\n\n<blockquote>\n  <p>Extensions do not actually modify classes they extend. By defining an extension, you do not insert new members into a class, but merely make new functions callable with the dot-notation on variables of this type.</p>\n</blockquote>\n\n<p>They are simply static functions with the caller as the first argument and other parameters followed by it. It just extends the ability for us to write it that way.</p>\n\n<h3>When to create extension functions?</h3>\n\n<ul>\n<li>When you don't have access to that class. When that class belongs to some library you have not created. </li>\n<li>For primitive types. Int, Float, String, etc. </li>\n</ul>\n\n<p>The another reason for using extension function is, you don't have to extend that class in order to use the methods, as if they belong to that class (but not actually part of that class). </p>\n\n<p>Hope it makes a bit clear for you..</p>\n"}], "owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3664, "favorite_count": 0, "accepted_answer_id": 47181695, "answer_count": 3, "score": 11, "last_activity_date": 1510383327, "creation_date": 1510149319, "question_id": 47181547, "link": "https://stackoverflow.com/questions/47181547/kotlin-extension-functions-vs-member-functions", "title": "Kotlin extension functions vs member functions?", "body": "<p>I am aware that extension functions are used in Kotlin to extend the functionality of a class (for example, one from a library or API).</p>\n\n<p>However, is there any advantage, in terms of code readability/structure, by using extension functions:</p>\n\n<pre><code>class Foo { ... }\n\nfun Foo.bar() {\n    // Some stuff\n}\n</code></pre>\n\n<p>As opposed to member functions:</p>\n\n<pre><code>class Foo {\n\n    ...\n\n    fun bar() {\n        // Some stuff\n    }\n}\n</code></pre>\n\n<p>?</p>\n\n<p>Is there a recommended practice?</p>\n"}, {"tags": ["api", "spring-boot", "kotlin", "microservices"], "answers": [{"comments": [{"owner": {"reputation": 4745, "user_id": 4265, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90287472740729cae63ed49d50a36a8e?s=128&d=identicon&r=PG", "display_name": "Peter Hart", "link": "https://stackoverflow.com/users/4265/peter-hart"}, "edited": false, "score": 1, "creation_date": 1510152625, "post_id": 47182077, "comment_id": 81314233, "body": "In this case, throwing an exception only to catch it again does not make sense. It would be better to return not found from an else branch, and remove the try/catch."}, {"owner": {"reputation": 13895, "user_id": 1707520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba1608948ed951d470209e9403674fa?s=128&d=identicon&r=PG", "display_name": "sol4me", "link": "https://stackoverflow.com/users/1707520/sol4me"}, "reply_to_user": {"reputation": 4745, "user_id": 4265, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90287472740729cae63ed49d50a36a8e?s=128&d=identicon&r=PG", "display_name": "Peter Hart", "link": "https://stackoverflow.com/users/4265/peter-hart"}, "edited": false, "score": 0, "creation_date": 1510157649, "post_id": 47182077, "comment_id": 81318109, "body": "@PeterHart, fully agree, thought that OP posted the minimal code thats why didn&#39;t mentioned it. Updated my code"}], "tags": [], "owner": {"reputation": 13895, "user_id": 1707520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba1608948ed951d470209e9403674fa?s=128&d=identicon&r=PG", "display_name": "sol4me", "link": "https://stackoverflow.com/users/1707520/sol4me"}, "is_accepted": false, "score": 1, "last_activity_date": 1510157726, "last_edit_date": 1510157726, "creation_date": 1510150742, "answer_id": 47182077, "question_id": 47181503, "link": "https://stackoverflow.com/questions/47181503/response-status-http-springboot-kotlin-api/47182077#47182077", "title": "Response Status HTTP SpringBoot Kotlin Api", "body": "<p>You are not throwing an exception anywhere, hence catch block is not getting executed. Here is updated code.</p>\n\n<pre>\n<code>\n    @DeleteMapping(\"{id}\")\n    fun delete(@PathVariable id: Long): ResponseEntity {\n        try {\n            if (dogRepository.exists(id)) {\n                dogRepository.delete(id)\n                return ResponseEntity.ok().build()\n            }\n            return ResponseEntity.notFound().build()\n        } catch (e: Exception) {\n            return ResponseEntity.notFound().build()\n        }\n    }\n</code>\n</pre>\n\n<p>You can check the response header via curl . E.g.\n<code>curl -v -X  DELETE http://YOUR_API_URL</code></p>\n"}, {"comments": [{"owner": {"reputation": 1163, "user_id": 4284706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-N1hr-LIggYE/AAAAAAAAAAI/AAAAAAAAAdg/aSJqCiLre6k/photo.jpg?sz=128", "display_name": "Rivu Chakraborty", "link": "https://stackoverflow.com/users/4284706/rivu-chakraborty"}, "reply_to_user": {"reputation": 65, "user_id": 8407472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9917d58d1b227b08ca1860ae19ab5446?s=128&d=identicon&r=PG&f=1", "display_name": "Desenvolvimento Ophos", "link": "https://stackoverflow.com/users/8407472/desenvolvimento-ophos"}, "edited": false, "score": 0, "creation_date": 1510223802, "post_id": 47182866, "comment_id": 81347697, "body": "Glad it helped you. Would you consider upvote if this solved your problem?"}, {"owner": {"reputation": 65, "user_id": 8407472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9917d58d1b227b08ca1860ae19ab5446?s=128&d=identicon&r=PG&f=1", "display_name": "Desenvolvimento Ophos", "link": "https://stackoverflow.com/users/8407472/desenvolvimento-ophos"}, "edited": false, "score": 0, "creation_date": 1510224217, "post_id": 47182866, "comment_id": 81347967, "body": "yes, but I do not have enough score yet to up, my account is new"}, {"owner": {"reputation": 1163, "user_id": 4284706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-N1hr-LIggYE/AAAAAAAAAAI/AAAAAAAAAdg/aSJqCiLre6k/photo.jpg?sz=128", "display_name": "Rivu Chakraborty", "link": "https://stackoverflow.com/users/4284706/rivu-chakraborty"}, "reply_to_user": {"reputation": 65, "user_id": 8407472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9917d58d1b227b08ca1860ae19ab5446?s=128&d=identicon&r=PG&f=1", "display_name": "Desenvolvimento Ophos", "link": "https://stackoverflow.com/users/8407472/desenvolvimento-ophos"}, "edited": false, "score": 0, "creation_date": 1510224375, "post_id": 47182866, "comment_id": 81348057, "body": "@DesenvolvimentoOphos No issues."}], "tags": [], "owner": {"reputation": 1163, "user_id": 4284706, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-N1hr-LIggYE/AAAAAAAAAAI/AAAAAAAAAdg/aSJqCiLre6k/photo.jpg?sz=128", "display_name": "Rivu Chakraborty", "link": "https://stackoverflow.com/users/4284706/rivu-chakraborty"}, "is_accepted": true, "score": 4, "last_activity_date": 1510153084, "creation_date": 1510153084, "answer_id": 47182866, "question_id": 47181503, "link": "https://stackoverflow.com/questions/47181503/response-status-http-springboot-kotlin-api/47182866#47182866", "title": "Response Status HTTP SpringBoot Kotlin Api", "body": "<p>I think an else block can do that</p>\n\n<pre><code> @DeleteMapping(\"{id}\") fun delete(@PathVariable id: Long): ResponseEntity&lt;Unit&gt; { \n   try {\n             if (dogRepository.exists(id)) { \n                dogRepository.delete(id)\n                return ResponseEntity.ok().build()\n            } else {\n                return ResponseEntity.notFound().build()\n            } \n    } catch (e: Exception) { return ResponseEntity.notFound().build() }\n }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8407472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9917d58d1b227b08ca1860ae19ab5446?s=128&d=identicon&r=PG&f=1", "display_name": "Desenvolvimento Ophos", "link": "https://stackoverflow.com/users/8407472/desenvolvimento-ophos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2679, "favorite_count": 0, "accepted_answer_id": 47182866, "answer_count": 2, "score": 2, "last_activity_date": 1510157726, "creation_date": 1510149208, "question_id": 47181503, "link": "https://stackoverflow.com/questions/47181503/response-status-http-springboot-kotlin-api", "title": "Response Status HTTP SpringBoot Kotlin Api", "body": "<p>I'm starting in kotlin and if anyone can help me, I've had a question about how I can return the http status, when my true if it returns 200 Ok and when it's any other way, return 404 NotFound.</p>\n\n<p>I tried to do according to the code below, but it is only returning status 200 Ok, in all situations</p>\n\n<pre><code>@DeleteMapping(\"{id}\")\nfun delete(@PathVariable id: Long): ResponseEntity&lt;Unit&gt; {\n    try {\n        if (dogRepository.exists(id)) {\n            dogRepository.delete(id)\n        }\n        return ResponseEntity.ok().build()\n    } catch (e: Exception) {\n        return ResponseEntity.notFound().build()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "partial-application"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1510158770, "post_id": 47181275, "comment_id": 81318906, "body": "But your <code>act</code> returns <code>Unit</code>, how could that <code>yield</code> gather something?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1510162669, "post_id": 47181275, "comment_id": 81321439, "body": "The biggest problem in your case that prevents me from arriving at an easy solution is that Kotlin coroutines can do suspend calls only from higher-order functions that are inlined, so you cannot just make a partially applied function by writing a lambda that works with the last argument and pass <code>{ yield(it) }</code> there: the compiler needs the place where you pass it to be an inline function."}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1510200752, "post_id": 47181275, "comment_id": 81336602, "body": "@hotkey Inline could be ok for these test procedures, but I&#39;m still not sure what that syntax would look like.  I tried, but I think I&#39;m still not getting the types right.  Could you show me what the syntax would look like if everything were inlined?"}], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 6382484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-WeuQ98-xtxk/AAAAAAAAAAI/AAAAAAAAABc/cugEXnf1jwY/photo.jpg?sz=128", "display_name": "Steven Waterman", "link": "https://stackoverflow.com/users/6382484/steven-waterman"}, "is_accepted": false, "score": 0, "last_activity_date": 1552999791, "creation_date": 1552999791, "answer_id": 55241484, "question_id": 47181275, "link": "https://stackoverflow.com/questions/47181275/partial-function-application-in-kotlin/55241484#55241484", "title": "Partial function application in Kotlin", "body": "<p>It's not entirely clear what you're trying to achieve. If you give more details we can provide a better answer. That said, the following code will hopefully point you in the right direction.</p>\n\n<pre><code>import kotlin.coroutines.experimental.*\n\ninline fun &lt;T,S&gt; Iterable&lt;T&gt;.mapFrom(beg:Int, act:(T)-&gt;S) =\n    drop(beg).map {act(it)}\n\nfun main(a:Array&lt;String&gt;) {\n    val l = listOf(\"zero\", \"one\", \"two\", \"three\", \"four\")\n    fun &lt;T&gt; test(values: List&lt;T&gt;) = values.joinToString(\"-\")\n    println(test(l.mapFrom(2) {it}))\n}\n</code></pre>\n\n<p><code>forEachFrom</code> was not really being used as a <code>forEach</code>, but as a <code>map</code>. This was the main issue, as you were using <code>yield</code> to output the results instead of just returning the results. If <code>forEachFrom</code> was also going to be used for its side-effects, it can still be used for that purpose.</p>\n\n<p>Also, there was no reason for <code>test</code> to take a function as a parameter instead of just accepting the output of that function as its parameter. The <code>buildSequence</code> call was also redundant as you immediately call <code>joinToString</code> which is terminal and forces eager computation of the function inside <code>buildSequence</code>.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1552999791, "creation_date": 1510148593, "last_edit_date": 1539314199, "question_id": 47181275, "link": "https://stackoverflow.com/questions/47181275/partial-function-application-in-kotlin", "title": "Partial function application in Kotlin", "body": "<p>I am having trouble with syntax for partial function application.  The following code works fine, and it outputs: <code>two-three-four</code></p>\n\n<pre><code>import kotlin.coroutines.experimental.*\n\ninline fun &lt;T&gt; Iterable&lt;T&gt;.forEachFrom(beg:Int, act:(T)-&gt;Unit) {\n  var i=0;  if (beg&gt;=0) for (e in this) if (i++ &gt;= beg) act(e)\n}    // sample function I am testing; please don't change this!\n\nfun main(a:Array&lt;String&gt;) {\n  val l = listOf(\"zero\", \"one\", \"two\", \"three\", \"four\")\n  fun test() = buildSequence { l.forEachFrom(2) { yield(it) } }.joinToString(\"-\")\n  println(test())\n}\n</code></pre>\n\n<p>I'd like to encapsulate my <code>test()</code>, so it is called as:\n<code>test(l.forEachFrom(2))</code>  However, I can't seem to get the types/syntax right. \n <strong>How would I re-write the <code>test()</code> function definition to make this possible?</strong></p>\n"}, {"tags": ["android", "kotlin", "android-inflate"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1510146715, "post_id": 47180589, "comment_id": 81310018, "body": "Is anyone able to reproduce in a blank android studio project configured with Kotlin? It takes 2 minutes if you have android studio installed, I am unable to validate as I only have one environment at home."}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510146522, "creation_date": 1510146522, "question_id": 47180589, "link": "https://stackoverflow.com/questions/47180589/recruit-mp-lightcalendarview-error-inflating-class-nosuchmethodexception", "title": "Recruit-MP LightCalendarView - Error inflating class, noSuchMethodException", "body": "<p>This is an odd one. Yesterday I added the following library as a dependency to my module level gradle in a simple empty default android project:</p>\n\n<p><a href=\"https://github.com/recruit-mp/LightCalendarView\" rel=\"nofollow noreferrer\">https://github.com/recruit-mp/LightCalendarView</a></p>\n\n<p>I added the view to the activities layout file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.thomascoook.testbed.MainActivity\"&gt;\n\n    &lt;jp.co.recruit_mp.android.lightcalendarview.MonthView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n    &lt;/jp.co.recruit_mp.android.lightcalendarview.MonthView&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And ran the application on a Nexus 5X API 25 emulator. It worked, the month view displayed just like on the GitHub.</p>\n\n<p>Then today, I'm working from home. I've done exactly the same thing on my home environment and I'm getting a NoSuchMethodException when the activities view is inflated. The missing method is a constructor in the MonthView class. Here is the full stack trace:</p>\n\n<pre><code>Process: com.thomascoook.testbed, PID: 4539\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.thomascoook.testbed/com.thomascoook.testbed.MainActivity}: android.view.InflateException: Binary XML file line #0: Binary XML file line #0: Error inflating class jp.co.recruit_mp.android.lightcalendarview.MonthView\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6077)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\nCaused by: android.view.InflateException: Binary XML file line #0: Binary XML file line #0: Error inflating class jp.co.recruit_mp.android.lightcalendarview.MonthView\nCaused by: android.view.InflateException: Binary XML file line #0: Error inflating class jp.co.recruit_mp.android.lightcalendarview.MonthView\nCaused by: java.lang.NoSuchMethodException: &lt;init&gt; [class android.content.Context, interface android.util.AttributeSet]\nat java.lang.Class.getConstructor0(Class.java:2204)\nat java.lang.Class.getConstructor(Class.java:1683)\nat android.view.LayoutInflater.createView(LayoutInflater.java:618)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:787)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:858)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:821)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:518)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:426)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:377)\nat android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\nat android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\nat com.thomascoook.testbed.MainActivity.onCreate(MainActivity.kt:10)\nat android.app.Activity.performCreate(Activity.java:6662)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\nat android.app.ActivityThread.-wrap12(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6077)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<p>When I look at the source code for the offending class in the library, MonthView, I can see that it is indeed missing the required constructors:</p>\n\n<pre><code>/*\n * Copyright (C) 2016 RECRUIT MARKETING PARTNERS CO., LTD.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage jp.co.recruit_mp.android.lightcalendarview\n\nimport android.content.Context\nimport android.view.ViewGroup\nimport android.widget.LinearLayout\nimport jp.co.recruit_mp.android.lightcalendarview.accent.Accent\nimport java.util.*\n\n/**\n * \u6708\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u8868\u793a\u3059\u308b {@link LinearLayout}\n * Created by masayuki-recruit on 8/19/16.\n */\nclass MonthView(context: Context, private val settings: CalendarSettings, var month: Date) : LinearLayout(context), DayLayout.Callback {\n\n    internal var callback: Callback? = null\n\n    private val weekDayLayout: WeekDayLayout\n    private val dayLayout: DayLayout\n\n    init {\n        orientation = LinearLayout.VERTICAL\n\n        weekDayLayout = WeekDayLayout(context, settings)\n        addView(weekDayLayout, LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT))\n\n        dayLayout = DayLayout(context, settings, month).apply { callback = this@MonthView }\n        addView(dayLayout, LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT))\n    }\n\n    override fun onDateSelected(date: Date) {\n        callback?.onDateSelected(date)\n    }\n\n    fun setSelectedDate(date: Date) {\n        dayLayout.setSelectedDay(date)\n    }\n\n    fun setAccents(date: Date, accents: Collection&lt;Accent&gt;) = dayLayout.let {\n        it.getDayView(date)?.setAccents(accents)\n        it.invalidateDayViews()\n    }\n\n    fun setAccents(map: Map&lt;Date, Collection&lt;Accent&gt;&gt;) {\n        map.forEach { it -&gt;\n            val (date, accents) = it\n            dayLayout.getDayView(date)?.setAccents(accents)\n        }\n        dayLayout.invalidateDayViews()\n    }\n\n    interface Callback {\n        fun onDateSelected(date: Date)\n    }\n\n    override fun toString(): String = \"MonthView(${month})\"\n}\n</code></pre>\n\n<p>How was this working yesterday? There have been no changes to the source code of the library between the 2 times. The only possible thing that may be different is my home environment  vs my work environment (i.e. my android studio setup).</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1510141264, "post_id": 47178697, "comment_id": 81306490, "body": "Or <code>val i = str.toIntOrNull() ?: 0</code>"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 1, "creation_date": 1510152411, "post_id": 47178697, "comment_id": 81314074, "body": "<code>fun String.toIntOrElse(defaultValue: Int) :Int = toIntOrNull() ?: defaultValue</code> usage: <code>val i = str.toIntOrElse(0)</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1510140899, "creation_date": 1510140899, "answer_id": 47178697, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long/47178697#47178697", "title": "How to cast String into Int and Long?", "body": "<p>You can just use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int.html\" rel=\"noreferrer\"><code>toInt</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-long.html\" rel=\"noreferrer\"><code>toLong</code></a>, and similar conversion extensions.</p>\n\n<p>For example:</p>\n\n<pre><code>val i: Int = str.toInt()\nval l: Long = str.toLong()\n</code></pre>\n\n<p>There's also <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int-or-null.html\" rel=\"noreferrer\"><code>toIntOrNull</code></a>, etc. in case your strings might not be valid numbers:</p>\n\n<pre><code>val i: Int? = str.toIntOrNull()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 1, "last_activity_date": 1510140911, "creation_date": 1510140911, "answer_id": 47178700, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long/47178700#47178700", "title": "How to cast String into Int and Long?", "body": "<p>Kotlin has extension methods for String class that do the same but more elegantly.</p>\n\n<pre><code>str.toInt()\nstr.toLong()\n</code></pre>\n\n<p>Note that you can write <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension methods</a> yourself as well.</p>\n"}, {"tags": [], "owner": {"reputation": 13895, "user_id": 1707520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba1608948ed951d470209e9403674fa?s=128&d=identicon&r=PG", "display_name": "sol4me", "link": "https://stackoverflow.com/users/1707520/sol4me"}, "is_accepted": false, "score": 1, "last_activity_date": 1510141342, "creation_date": 1510141342, "answer_id": 47178821, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long/47178821#47178821", "title": "How to cast String into Int and Long?", "body": "<p>Kotlin define <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension</a> function in <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/text/StringNumberConversions.kt\" rel=\"nofollow noreferrer\">StringNumberConversions.kt</a> like <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/text/StringNumberConversions.kt#L113\" rel=\"nofollow noreferrer\">toInt</a>, <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/text/StringNumberConversions.kt#L141\" rel=\"nofollow noreferrer\">toLong</a> etc. These functions internally invoke standard java function like \n<code>java.lang.Integer.parseInt(...)</code> or <code>java.lang.Long.parseLong(...)</code></p>\n\n<p>You can use them like :</p>\n\n<pre><code>\"123\".toInt()\n\"123\".toLong()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 1, "last_activity_date": 1510141492, "creation_date": 1510141492, "answer_id": 47178869, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long/47178869#47178869", "title": "How to cast String into Int and Long?", "body": "<p>These are Extension methods available for <code>Strings</code> to parse in KOTLIN:</p>\n\n<pre><code>    str.toBoolean()\n    str.toInt()\n    str.toLong()\n    str.toFloat()\n    str.toDouble()\n    str.toByte()\n    str.toShort()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5319352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSFks.jpg?s=128&g=1", "display_name": "Jun Shi Yan", "link": "https://stackoverflow.com/users/5319352/jun-shi-yan"}, "is_accepted": false, "score": 0, "last_activity_date": 1590561218, "creation_date": 1590561218, "answer_id": 62036810, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long/62036810#62036810", "title": "How to cast String into Int and Long?", "body": "<p>it is better to </p>\n\n<pre><code>val str = \"\"\nval quotaInteger = str.toDouble().toInt()\n</code></pre>\n\n<p>cos sometime end give us like \"123.22\", if we use toInt(), it will throw out NumberFormatException</p>\n"}], "owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5024, "favorite_count": 1, "accepted_answer_id": 47178697, "answer_count": 5, "score": 3, "last_activity_date": 1590561218, "creation_date": 1510140818, "last_edit_date": 1512476692, "question_id": 47178668, "link": "https://stackoverflow.com/questions/47178668/how-to-cast-string-into-int-and-long", "title": "How to cast String into Int and Long?", "body": "<p>In <code>Java</code> we use </p>\n\n<pre><code>Integer.valueOf(str)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Long.valueOf(str)\n</code></pre>\n\n<p>to get the <code>integer</code> but how can we do the same in <code>Kotlin</code>?</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1510136512, "creation_date": 1510136512, "answer_id": 47177122, "question_id": 47176555, "link": "https://stackoverflow.com/questions/47176555/using-reflection-to-pass-and-modify-a-primitive-without-using-array/47177122#47177122", "title": "Using reflection to pass and modify a primitive without using array", "body": "<blockquote>\n  <p>Does this play nice with java?</p>\n</blockquote>\n\n<p>One thing that won't work is referencing synthetic properties that Kotlin uses to represent Java getters and setters, e.g. <code>getFoo</code> + <code>setFoo</code> \u2192 <code>foo</code> (and you cannot use a bound callable reference <code>bar::foo</code>). This is not supported for now.</p>\n\n<p>You can try to workaround that by a custom <code>KMutableProperty0</code> implementation that accepts unbound callable references to <code>Bar::getFoo</code>, <code>Bar::setFoo</code> and <code>bar</code> and acts as a property reference in the sense of getting and setting its value.</p>\n\n<blockquote>\n  <p>Are there any contraindications I should be aware of, if I go down this route? Such as performances or whatever?</p>\n</blockquote>\n\n<p>A bound callable reference holds a reference to the receiver, so <code>style::antiAliasedLines</code> will keep <code>style</code> from GC, and you have to be careful about which callable references you store.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 47177122, "answer_count": 1, "score": 1, "last_activity_date": 1510136512, "creation_date": 1510135052, "question_id": 47176555, "link": "https://stackoverflow.com/questions/47176555/using-reflection-to-pass-and-modify-a-primitive-without-using-array", "title": "Using reflection to pass and modify a primitive without using array", "body": "<p>Working on a imgui <a href=\"https://github.com/kotlin-graphics/imgui\" rel=\"nofollow noreferrer\">port</a>, I've been always used primitive arrays to simulate c++ pointers/addresses pass. </p>\n\n<p>For example:</p>\n\n<pre><code>checkbox(\"Anti-aliased lines\", bool.apply { set(0, style.antiAliasedLines) })\nstyle.antiAliasedLines = bool[0]\n</code></pre>\n\n<p>where <code>bool: BooleanArray</code></p>\n\n<p>I just explored the possibility to directly pass the field instead, sort of c++:</p>\n\n<p><code>ImGui::Checkbox(\"Anti-aliased lines\", &amp;style.AntiAliasedLines);</code></p>\n\n<p>kotlin: </p>\n\n<p><code>checkbox(\"Anti-aliased lines\", style::antiAliasedLines })</code></p>\n\n<p>I just needed to accomodate a corresponding <code>KMutableProperty0&lt;Boolean&gt;</code> on <code>checkbox()</code>, and I also double checked to have the possibility to set that field within the same function: there is a <code>get(): Boolean</code> and a <code>set(Boolean)</code></p>\n\n<p>My concerns are:</p>\n\n<ul>\n<li><p>does this play nice with java?</p></li>\n<li><p>are there any contraindications I should be aware of, if I go down this route? Such as performances or whatever?</p></li>\n</ul>\n\n<p>Because I got the feeling that since this approach is somehow hacky and dirty</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1510133084, "post_id": 47175802, "comment_id": 81300779, "body": "why did you tag this as Java?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1510144766, "post_id": 47175802, "comment_id": 81308743, "body": "If the book you are reading doesn&#39;t already have answers to most of your last questions, it doesn&#39;t work as an introduction to Kotlin and you should read another one (and then get back to this example if you want). I suspect that if you read the previous sections more carefully, you&#39;ll find that it explains it."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1510133644, "creation_date": 1510133644, "answer_id": 47176086, "question_id": 47175802, "link": "https://stackoverflow.com/questions/47175802/why-isnt-mydayforecast-map-empty/47176086#47176086", "title": "Why isn&#39;t myDayForecast.map empty?", "body": "<p>You're using a <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">map to store your property data</a> in it. This is done via <code>by map</code> and works for getting and setting. By assigning a value to the properties you add elements to the map. So initially your <code>HashMap</code> is empty, but at the end of the constructor, you've added values to it implicitly. <em>Kotlin</em> doesn't create another field or mechanism to store the values otherwise.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510146377, "post_id": 47176792, "comment_id": 81309780, "body": "Thanks! What I can&#39;t understand is why  &quot;this.date = date&quot;  is equal to  &quot;this.map.date = date&quot;"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510146538, "post_id": 47176792, "comment_id": 81309893, "body": "it&#39;s due to the &quot;var date: Long by map&quot;  request to data are forwarded to the map object.  read the delegate-properties link I included above for more info"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510147908, "post_id": 47176792, "comment_id": 81310882, "body": "specifically the &quot;by map&quot; being the key part,  ie date is accessed via the object referred to by the map property"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510153305, "post_id": 47176792, "comment_id": 81314758, "body": "Thanks! Do you mean that both this.date and map[&quot;&quot;] point to the same address ?"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510171730, "post_id": 47176792, "comment_id": 81326794, "body": "I updated my answer with more info on how this works but, no this.date and map[&quot;&quot;] are not the same address.  The compiler recognizes that you marked the field data (and the others) as being provided <i>by</i> the delegate object referred to by map,  and compiles the code such that this.date = 15L,  really calls something like this.map.put(&quot;date&quot;, 15L), ie it <i>delegates</i> the date property to the map field of type MuteableMap"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510186487, "post_id": 47176792, "comment_id": 81333096, "body": "Thank you! Do you mean that the system do the operation this.map.put(&quot;date&quot;, 15L) automatically when I do this.date = 15L ? And the system do the operation this.date = 80L automatically when I do this.map.put(&quot;date&quot;, 80L) ?"}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510195113, "post_id": 47176792, "comment_id": 81335211, "body": "yes to this.date =&gt; this.map.put(&quot;date&quot;, 15L), as that is the &quot;real&quot; operation and this.date is just a short cut.  so no to this.map.put(&quot;date&quot;, 15L) being changed to this.date = 15L,  as this.map.put(&quot;date&quot;, 15L) is the real operation.  Hopefully this answers your question, any thing more and we should do it in chat"}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": true, "score": 2, "last_activity_date": 1510171476, "last_edit_date": 1510171476, "creation_date": 1510135715, "answer_id": 47176792, "question_id": 47175802, "link": "https://stackoverflow.com/questions/47175802/why-isnt-mydayforecast-map-empty/47176792#47176792", "title": "Why isn&#39;t myDayForecast.map empty?", "body": "<p>In at the end if the secondary constructor definition line: </p>\n\n<pre><code>constructor(date: Long, description: String, high: Int, low: Int, iconUrl: String, cityId: Long)\n            : this(HashMap()) {\n</code></pre>\n\n<p><code>: this(HashMap())</code> is a call to the primary constructor:</p>\n\n<pre><code>DayForecast(var map: MutableMap&lt;String, Any?&gt;) \n</code></pre>\n\n<p>but with an empty HashMap as the argument.</p>\n\n<p>So when you make the call :</p>\n\n<pre><code>var myDayForecast=DayForecast(15L,\"Desciption\",10,5,\"http://www.a.com\",10L)\n</code></pre>\n\n<p>one of the first things that happens is that the primary constructor is called with the empty HashMap as noted above.</p>\n\n<p>This is as if you called the primary constructor like this:</p>\n\n<p>DayForcast(map = HashMap())</p>\n\n<p>So now map has been set to an empty HashMap.</p>\n\n<p>In the secondary constructor,  each of the fields are marked with <code>by</code> <code>map</code>, where <code>map</code> is a MutableMap property of DayForecast. as seen here:</p>\n\n<pre><code>class DayForecast(var map: MutableMap&lt;String, Any?&gt;) {\n    var _id: Long by map\n    var date: Long by map\n    var description: String by map\n    var high: Int by map\n    var low: Int by map\n    var iconUrl: String by map\n    var cityId: Long by map \n    ...\n}   \n</code></pre>\n\n<p>This means that any access to those fields is delegated to the object referred to by <code>map</code>, which in this case is a <code>MutableMap</code> object.  For a MutableMap object this means that the compiler will translate calls such as <code>this.date = 15L</code> into something like this this.map.put(\"date\", 15L) and references like <code>blah = this.date</code> will be translated into something like,  <code>blah = this.map.get(\"date\")</code></p>\n\n<p>Next, after the primary constructor has been called, the second part of the secondary constructor is run.</p>\n\n<pre><code>    this.date = date\n    this.description = description\n    this.high = high\n    this.low = low\n    this.iconUrl = iconUrl\n    this.cityId = cityId\n</code></pre>\n\n<p>Now since each of these properties are declared as <code>var propXYZ by map</code>\neach of these calls are translated into calls like <code>this.map.put(\"date\", date)</code>, which will fill in the initially empty HashMap with values, so that by the time you call </p>\n\n<p><code>var bb=myDayForecast.map</code> , map is now a filled in HashMap.</p>\n\n<p>Please take a look at the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegate-properties</a> section of the Kotlin documentation, if this is still confusing.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 47176792, "answer_count": 2, "score": 0, "last_activity_date": 1510171476, "creation_date": 1510132909, "last_edit_date": 1510133243, "question_id": 47175802, "link": "https://stackoverflow.com/questions/47175802/why-isnt-mydayforecast-map-empty", "title": "Why isn&#39;t myDayForecast.map empty?", "body": "<p>I create a object myDayForecast with secondary construction, I think the var bb will be empty because the parmater of secondary construction which pass to main construction is HashMap().\nI see some document about HashMap(), it will return empty.</p>\n\n<p>But after I run the code, I find the var bb isn't empty (You can see image), why?</p>\n\n<pre><code>var myDayForecast= DayForecast(15L,\"Desciption\",10,5,\"http://www.a.com\",10L)\nvar bb=myDayForecast.map\n\nclass DayForecast(var map: MutableMap&lt;String, Any?&gt;) {\n    var _id: Long by map\n    var date: Long by map\n    var description: String by map\n    var high: Int by map\n    var low: Int by map\n    var iconUrl: String by map\n    var cityId: Long by map\n\n    constructor(date: Long, description: String, high: Int, low: Int, iconUrl: String, cityId: Long)\n            : this(HashMap()) {\n        this.date = date\n        this.description = description\n        this.high = high\n        this.low = low\n        this.iconUrl = iconUrl\n        this.cityId = cityId\n    }\n}\n</code></pre>\n\n<p><strong>Result Image</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/QLkCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QLkCY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "collections", "hashmap", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 2, "last_activity_date": 1510143121, "last_edit_date": 1510143121, "creation_date": 1510131414, "answer_id": 47175315, "question_id": 47175077, "link": "https://stackoverflow.com/questions/47175077/what-will-hashmapit-do/47175315#47175315", "title": "What will HashMap(it) do?", "body": "<blockquote>\n  <p>I can't understand what the function <code>HashMap(it)</code> will do. Is <code>HashMap()</code> a class and accept a parameter <code>it</code>?</p>\n</blockquote>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#HashMap-java.util.Map-\" rel=\"nofollow noreferrer\">docs of <code>HashMap(Map)</code></a>:</p>\n\n<blockquote>\n  <p>Constructs a new <code>HashMap</code> with the same mappings as the specified <code>Map</code>. The <code>HashMap</code> is created with default load factor (0.75) and an initial capacity sufficient to hold the mappings in the specified <code>Map</code>.</p>\n</blockquote>\n\n<p>To answer your question: yes, <code>HashMap</code> is a class, which accepts parameter <code>it</code> which need to be an instance of <code>Map</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": true, "score": 2, "last_activity_date": 1510137943, "creation_date": 1510137943, "answer_id": 47177642, "question_id": 47175077, "link": "https://stackoverflow.com/questions/47175077/what-will-hashmapit-do/47177642#47177642", "title": "What will HashMap(it) do?", "body": "<p>I think from the answer <a href=\"https://stackoverflow.com/questions/47066705/what-happened-when-the-code-hashmapit-is-run/47112857#47112857\">here</a> , you should already understand that parseList provides the closure <code>{ DayForecast(HashMap(it)) }</code> with a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> object.</p>\n\n<p>But as you now show the definition of <code>DayForecast</code> </p>\n\n<p><code>class DayForecast(var map: MutableMap&lt;String, Any?&gt;)</code></p>\n\n<p>requires a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html\" rel=\"nofollow noreferrer\"><code>MutableMap</code></a></p>\n\n<p>The primary difference between a <code>MutableMap</code> and a <code>Map</code> is that a <code>Map</code> cannot be changed,  while a <code>MutableMap</code> can be changed. </p>\n\n<p>The reason <code>DayForecast</code> needs a <code>MutableMap</code> is because in the secondary constructor the object passed in, referred to as <code>map</code> is altered (mutated).  This is part of you other recent <a href=\"https://stackoverflow.com/questions/47175802/why-isnt-mydayforecast-map-empty/47176792#47176792\">question</a>.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-hash-map/index.html\" rel=\"nofollow noreferrer\">HashMap</a> is a Hash table based implementation of the <code>MutableMap</code> interface, so it can be used were ever a <code>MutableMap</code> is expected.</p>\n\n<p>So to summarize:</p>\n\n<p>DayForecast() expects a <code>MutableMap</code> object to be passed to it's primary constructor, but parseList only provides a <code>Map</code> to the closure it receives, so the solution is to insert the <code>HashMap()</code> to create a <code>MutableMap</code>.</p>\n\n<p>This should also answer a question you posed in a comment, why can't parseList just take the closure <code>{ DayForecast(it) }</code> instead of <code>{ DayForecast(HashMap(it)) }</code> ?  It's because as you show above the constructor for DayForecast() expects a <code>MutableMap</code>,  which <code>it</code> is not (it is a <code>Map</code>) while <code>HashMap(it)</code> is a <code>MutableMap</code>.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 1, "accepted_answer_id": 47177642, "answer_count": 2, "score": 0, "last_activity_date": 1510143121, "creation_date": 1510130693, "last_edit_date": 1510133873, "question_id": 47175077, "link": "https://stackoverflow.com/questions/47175077/what-will-hashmapit-do", "title": "What will HashMap(it) do?", "body": "<p>I'm learning the sample code about \u300aKotlin for android developers\u300b at <a href=\"https://github.com/antoniolg/Kotlin-for-Android-Developers\" rel=\"nofollow noreferrer\">https://github.com/antoniolg/Kotlin-for-Android-Developers</a></p>\n\n<p>In the code  <code>.parseList { DayForecast(HashMap(it)) }</code>, I can't understand what the function HashMap(it) will do. Is HashMap() a class and accept a parmater <code>it</code>?</p>\n\n<p>And more, I think that the full code of class <code>DayForecast(...)..</code> is Code A, right?</p>\n\n<p>Again, If I create a object <code>var myDayForecast=DayForecast(10L,\"Desciption\",10,5,\"http://www.a.com\",10L)</code>, will myDayForecast.map be empty, right?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class DayForecast(var map: MutableMap&lt;String, Any?&gt;) {\n    var _id: Long by map\n    var date: Long by map\n    var description: String by map\n    var high: Int by map\n    var low: Int by map\n    var iconUrl: String by map\n    var cityId: Long by map\n\n    constructor(date: Long, description: String, high: Int, low: Int, iconUrl: String, cityId: Long)\n            : this(map: MutableMap&lt;String, Any?&gt;=HashMap()) {\n        this.date = date\n        this.description = description\n        this.high = high\n        this.low = low\n        this.iconUrl = iconUrl\n        this.cityId = cityId\n    }\n}\n</code></pre>\n\n<p><strong>Original Code</strong></p>\n\n<pre><code>override fun requestForecastByZipCode(zipCode: Long, date: Long) = forecastDbHelper.use {\n\n        val dailyRequest = \"${DayForecastTable.CITY_ID} = ? AND ${DayForecastTable.DATE} &gt;= ?\"\n        val dailyForecast = select(DayForecastTable.NAME)\n                .whereSimple(dailyRequest, zipCode.toString(), date.toString())\n                .parseList { DayForecast(HashMap(it)) }\n\n        val city = select(CityForecastTable.NAME)\n                .whereSimple(\"${CityForecastTable.ID} = ?\", zipCode.toString())\n                .parseOpt { CityForecast(HashMap(it), dailyForecast) }\n\n        city?.let { dataMapper.convertToDomain(it) }\n}\n\n\nclass DayForecast(var map: MutableMap&lt;String, Any?&gt;) {\n    var _id: Long by map\n    var date: Long by map\n    var description: String by map\n    var high: Int by map\n    var low: Int by map\n    var iconUrl: String by map\n    var cityId: Long by map\n\n    constructor(date: Long, description: String, high: Int, low: Int, iconUrl: String, cityId: Long)\n            : this(HashMap()) {\n        this.date = date\n        this.description = description\n        this.high = high\n        this.low = low\n        this.iconUrl = iconUrl\n        this.cityId = cityId\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "mockito"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1510128989, "post_id": 47174507, "comment_id": 81298427, "body": "<code>val bytes = byteArrayOf()</code>"}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1510134577, "post_id": 47174507, "comment_id": 81301868, "body": "Yes, I wrote like this. Thanks for your koltin mockito helpers!)"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5265079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e285207927cfb486963e5e70ef4cef?s=128&d=identicon&r=PG&f=1", "display_name": "Rishav Chudal", "link": "https://stackoverflow.com/users/5265079/rishav-chudal"}, "edited": false, "score": 0, "creation_date": 1590642233, "post_id": 47174680, "comment_id": 109757486, "body": "Can you help me doing the same thing using &quot;mockk&quot; library?"}, {"owner": {"reputation": 441, "user_id": 4381679, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/291b18f582b91fc3b01e20b00c73c539?s=128&d=identicon&r=PG&f=1", "display_name": "Monte Creasor", "link": "https://stackoverflow.com/users/4381679/monte-creasor"}, "edited": false, "score": 0, "creation_date": 1600271551, "post_id": 47174680, "comment_id": 113037398, "body": "This is incorrect. Using mockito-core:3.5.10 will produce the error: org.mockito.exceptions.base.MockitoException:  Cannot mock/spy class [Ljava.lang.Byte; Mockito cannot mock/spy because :  - VM does not not support modification of given type"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1510129199, "creation_date": 1510129199, "answer_id": 47174680, "question_id": 47174507, "link": "https://stackoverflow.com/questions/47174507/how-to-mock-kotlin-bytearray-using-mockito/47174680#47174680", "title": "How to mock kotlin ByteArray using Mockito?", "body": "<p>If you need a mocked array of <code>Byte</code> you can do the following:</p>\n\n<p><code>val bytes = Mockito.mock(Array&lt;Byte&gt;::class.java)</code></p>\n\n<p><code>ByteArray</code> on the other hand is mapped to an array of primitives, i.e. <code>byte []</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5230, "user_id": 305532, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/be1815a0a124a8a1935f67426690a3eb?s=128&d=identicon&r=PG", "display_name": "Thomas Keller", "link": "https://stackoverflow.com/users/305532/thomas-keller"}, "is_accepted": false, "score": 4, "last_activity_date": 1510131250, "creation_date": 1510131250, "answer_id": 47175257, "question_id": 47174507, "link": "https://stackoverflow.com/questions/47174507/how-to-mock-kotlin-bytearray-using-mockito/47175257#47175257", "title": "How to mock kotlin ByteArray using Mockito?", "body": "<p>Personally I would not mock <code>ByteArray</code>, because it is a value type, just like <code>String</code> or <code>Int</code>. Arbitrary <code>ByteArray</code>s are also easy enough to create with Kotlin's <code>byteArrayOf()</code>.</p>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2149, "favorite_count": 0, "accepted_answer_id": 47174680, "answer_count": 2, "score": 1, "last_activity_date": 1510131250, "creation_date": 1510128470, "question_id": 47174507, "link": "https://stackoverflow.com/questions/47174507/how-to-mock-kotlin-bytearray-using-mockito", "title": "How to mock kotlin ByteArray using Mockito?", "body": "<p>When I run this:</p>\n\n<pre><code>class SomeTest {\n    fun howToMockByteArray() {\n        val bytes = Mockito.mock(ByteArray::class.java)\n    }\n}\n</code></pre>\n\n<p>throwing:</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: \nCannot mock/spy class [B\nMockito cannot mock/spy because :\n - VM does not not support modification of given type\n</code></pre>\n\n<p>How can I mock <code>kotlin</code>'s ByteArray using <code>Mockito</code>?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1510127555, "post_id": 47174236, "comment_id": 81297617, "body": "Just because all types are technically nullable doesn&#39;t mean that they are in practice, at runtime. If your design guarantees that the mCameraDevice can&#39;t possibly be null (unless there is a bug that needs to be fixed anyway), then use CameraDevice. If null is a valid value for mCameraDevice, then use CameraDevice?. Whether CameraDevice is a Java class or a Kotlin class doesn&#39;t change anything, BTW."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1510132618, "post_id": 47174236, "comment_id": 81300436, "body": "You should use nullable types for Java inter-op parts unless the code or JavaDoc of the Java library states it is guaranteed not null."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 7357839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d94756498a49f27bd0ecfb9d6d5256c?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/7357839/pagrate"}, "edited": false, "score": 0, "creation_date": 1510128630, "post_id": 47174487, "comment_id": 81298255, "body": "If I set something as can&#39;t be null in Java and then Java sets it to null does that just cause a NullPointerException?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 81, "user_id": 7357839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d94756498a49f27bd0ecfb9d6d5256c?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/7357839/pagrate"}, "edited": false, "score": 0, "creation_date": 1510128906, "post_id": 47174487, "comment_id": 81298387, "body": "Yes, that will happen"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1510129021, "last_edit_date": 1510129021, "creation_date": 1510128393, "answer_id": 47174487, "question_id": 47174236, "link": "https://stackoverflow.com/questions/47174236/kotlin-null-from-java/47174487#47174487", "title": "Kotlin null from Java", "body": "<p>If you're not sure, you should better use the nullable types, because it's always possible that the legacy Java code returnes <code>null</code>. This version is safest. If otherwise you know that <code>null</code> is impossible, use the non-nullable type.</p>\n\n<p>As written in the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Any reference in Java may be null, which makes Kotlin's requirements of strict null-safety impractical for objects coming from Java. Types of Java declarations are treated specially in Kotlin and called platform types. Null-checks are relaxed for such types, so that safety guarantees for them are the same as in Java.</p>\n</blockquote>\n\n<p>If you work with Java returned values, which you think will never be null, are going to cause <code>NullpointerException</code>s at runtime if you work with them as not nullable types.</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>public class Nullable {\n\n    public String get(){\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code>Nullable().get().length //-&gt; NPE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "is_accepted": false, "score": 1, "last_activity_date": 1510132851, "creation_date": 1510132851, "answer_id": 47175784, "question_id": 47174236, "link": "https://stackoverflow.com/questions/47174236/kotlin-null-from-java/47175784#47175784", "title": "Kotlin null from Java", "body": "<p>try this <code>mCameraDevice?.yourMethod()</code></p>\n\n<p>It will perform your method if <code>mCameraDevice</code> is not null.</p>\n\n<p>ref : <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html#safe-calls</a></p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 7357839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d94756498a49f27bd0ecfb9d6d5256c?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/7357839/pagrate"}, "edited": false, "score": 0, "creation_date": 1510208997, "post_id": 47175821, "comment_id": 81339419, "body": "One thing I don&#39;t get with Kotlin&#39;s null safety is this lack of else scenario.  if I do something like mCameraDevice? or mCameraDevice?.let I am basically saying do this is mCameraDevice is not equal to null but if it is null don&#39;t do ANYTHING at all.  That to me seems like a really bad coding practice as the code would fail silently and the user would have no idea that something had failed.  And using if else doesn&#39;t seem to work because Kotlin shows an error saying that it can&#39;t smart cast by this point because the mutable might have changed by this point!"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1510133283, "last_edit_date": 1510133283, "creation_date": 1510132954, "answer_id": 47175821, "question_id": 47174236, "link": "https://stackoverflow.com/questions/47174236/kotlin-null-from-java/47175821#47175821", "title": "Kotlin null from Java", "body": "<blockquote>\n<pre><code>if (mCameraDevice != null) { // do something }\n</code></pre>\n</blockquote>\n\n<p>What are you going to do in the <code>else</code> case? If the answer is \"throw an exception\", just use a non-nullable type and Kotlin will effectively do it for you; otherwise a nullable type is reasonable.</p>\n\n<p>Also, if <code>mCameraDevice</code> is a <code>var</code>, inside <code>// do something</code> Kotlin can't assume it's non-<code>null</code>: something could change it after the check! A common idiom is</p>\n\n<pre><code>mCameraDevice?.let { mCameraDevice -&gt; // do something }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 0, "last_activity_date": 1510142701, "last_edit_date": 1510142701, "creation_date": 1510140032, "answer_id": 47178403, "question_id": 47174236, "link": "https://stackoverflow.com/questions/47174236/kotlin-null-from-java/47178403#47178403", "title": "Kotlin null from Java", "body": "<p><code>lateinit</code> is really meant for just what is sounds like, variable that you initialize late.</p>\n\n<p>For example in android you don't have assess to the constructor for an activity, so <code>lateinit</code> comes in handy where you want to access a variable that you know is not null because you set its value in onCreate with out any null checks, <code>?</code> 's or <code>!!</code> 's.</p>\n\n<p>For example:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var field: EditText\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        field = findViewById&lt;EditText&gt;(R.id.field)\n    }\n\n    fun someOtherMethod() {\n        println(field.text)\n    }\n\n}\n</code></pre>\n\n<p>Without <code>lateinit</code> you would need to declare <code>field</code> as an <code>EditText?</code> and then use all the null safety options that Kotlin provides.</p>\n\n<p>In Java interop,  if a library method can return a null, then you should just treat it like a Kotlin nullable, and access via save navigation <code>someObject?.someMethod</code> or in some other safe manner such as the let method.</p>\n\n<pre><code>someObject?.let { it.someMethod }  // as also pointed out by Alexey Romanov\n</code></pre>\n\n<p>So in your case since you specifically say Java may provide you with a null <code>CameraDevice</code>, you should definitely <strong>not</strong> use lateinit for this as it is not the intended purpose. </p>\n"}], "owner": {"reputation": 81, "user_id": 7357839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d94756498a49f27bd0ecfb9d6d5256c?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/7357839/pagrate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1778, "favorite_count": 0, "accepted_answer_id": 47174487, "answer_count": 4, "score": 1, "last_activity_date": 1510142701, "creation_date": 1510127290, "last_edit_date": 1510132324, "question_id": 47174236, "link": "https://stackoverflow.com/questions/47174236/kotlin-null-from-java", "title": "Kotlin null from Java", "body": "<p>When I am converting Java code from a library to Kotlin I see if null checks in the Java code and wonder how best to convert this.</p>\n\n<p>Do I still need the if null check in Kotlin because I cant control if Java will make the object null?</p>\n\n<p>Lets say I have a CameraDevice which could come back null from Java</p>\n\n<p>Should I define this like this..</p>\n\n<pre><code>private lateinit var mCameraDevice: CameraDevice\n</code></pre>\n\n<p>and then no null check is needed or like this..</p>\n\n<pre><code>private var mCameraDevice: CameraDevice? = null\n</code></pre>\n\n<p>and then keep the null check</p>\n\n<pre><code>if (mCameraDevice != null) { // do something }\n</code></pre>\n\n<p>Nullability in Kotlin confuses me because I feel like I shouldn't have to deal with the null and should use option one, but basically every library I use is Java so I have to deal with nulls and go with option two</p>\n"}, {"tags": ["spring", "kotlin", "ssm"], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 38, "last_activity_date": 1510133301, "last_edit_date": 1510133301, "creation_date": 1510128638, "answer_id": 47174551, "question_id": 47174036, "link": "https://stackoverflow.com/questions/47174036/exception-thrown-when-using-service-in-kotlin/47174551#47174551", "title": "Exception thrown when using @Service in Kotlin", "body": "<p>Kotlin's <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">reflection facilities</a> needed by Spring are shipped in a separate JAR. Try adding it into your build:</p>\n\n<p><strong><code>build.gradle</code></strong>:</p>\n\n<pre><code>compile 'org.jetbrains.kotlin:kotlin-reflect:1.1.51'\n</code></pre>\n\n<p><strong><code>pom.xml</code></strong>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;version&gt;1.1.51&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 7616443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jfQ6C.jpg?s=128&g=1", "display_name": "Zenas Chen", "link": "https://stackoverflow.com/users/7616443/zenas-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5745, "favorite_count": 1, "accepted_answer_id": 47174551, "answer_count": 1, "score": 11, "last_activity_date": 1510133301, "creation_date": 1510126650, "question_id": 47174036, "link": "https://stackoverflow.com/questions/47174036/exception-thrown-when-using-service-in-kotlin", "title": "Exception thrown when using @Service in Kotlin", "body": "<p>I'm writing an SSM project in Kotlin and this happens as long as I try to annotate a class (a service implementation) with <code>@Service</code>.</p>\n\n<ol>\n<li><strong>Tried to code this implementation class in Java instead and it worked all fine.</strong></li>\n<li>Tried to keep only the necessary overriding methods.</li>\n<li><code>open</code> is already added.</li>\n<li><code>context:component-scan</code> is configured.</li>\n</ol>\n\n<hr>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:107)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:242)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'seckillServiceImpl' defined in file [blahblah\\target\\classes\\service\\impl\\SeckillServiceImpl.class]: Unexpected exception during bean creation; nested exception is java.lang.NoClassDefFoundError: kotlin/reflect/full/KClasses\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)\nat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\nat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)\nat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:246)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n... 24 more\nCaused by: java.lang.NoClassDefFoundError: kotlin/reflect/full/KClasses\nat org.springframework.beans.BeanUtils$KotlinDelegate.findPrimaryConstructor(BeanUtils.java:703)\nat org.springframework.beans.BeanUtils.findPrimaryConstructor(BeanUtils.java:193)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:286)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1197)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1122)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\n... 37 more\nCaused by: java.lang.ClassNotFoundException: kotlin.reflect.full.KClasses\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n... 44 more\n</code></pre>\n\n<hr>\n\n<p><strong>Additional info:</strong></p>\n\n<p><strong>Relative structures</strong></p>\n\n<pre><code>- src\n  - kotlin\n      - service\n        An interface\n        - impl\n          -&gt; The implementation &lt;-\n</code></pre>\n\n<p><strong><code>spring-service.xml</code></strong></p>\n\n<pre><code>&lt;context:component-scan base-package=\"service\" /&gt;\n</code></pre>\n\n<p><strong>Tried to keep only the necessary methods</strong></p>\n\n<pre><code>@Service\nopen class SeckillServiceImpl : SeckillService {\n    override fun getAll(): List&lt;Seckill&gt; {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getById(seckillId: Long): Seckill? {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun exportSeckillUrl(seckillId: Long): SeckillUrlExposer {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun doSeckill(seckillId: Long, userPhone: Long, md5: String?): SeckillExecutionResult {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>What's wrong and what should I do? Thanks!</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-testing", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1510125051, "post_id": 47171302, "comment_id": 81296286, "body": "Can&#39;t you just make the delay timeout configurable so that in your test you can choose a very small one?!"}, {"owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1510162863, "post_id": 47171302, "comment_id": 81321556, "body": "@s1m0nw1 Yes, but I&#39;d rather have a general solution, and not have to modify my code like that."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "reply_to_user": {"reputation": 1049, "user_id": 1976720, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/3nn0r.jpg?s=128&g=1", "display_name": "eoinmullan", "link": "https://stackoverflow.com/users/1976720/eoinmullan"}, "edited": false, "score": 0, "creation_date": 1519985108, "post_id": 47171302, "comment_id": 85138717, "body": "@eoinmullan, Can you share a minimal git project for the same?"}], "answers": [{"comments": [{"owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "edited": false, "score": 0, "creation_date": 1520100289, "post_id": 49078296, "comment_id": 85180340, "body": "And <code>dispatch()</code> can just be <code>block.run()</code>, which keeps execution in the main thread."}, {"owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "reply_to_user": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "edited": false, "score": 0, "creation_date": 1520149659, "post_id": 49078296, "comment_id": 85191464, "body": "True, and that might make sense for testing, though he seemed to want it to use CommonPool."}, {"owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "edited": false, "score": 0, "creation_date": 1520272467, "post_id": 49078296, "comment_id": 85238433, "body": "I&#39;m the OP, and I&#39;d rather it use the same thread. Make the change and I&#39;ll accept your answer."}, {"owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "edited": false, "score": 1, "creation_date": 1550599447, "post_id": 49078296, "comment_id": 96324812, "body": "The <code>Delay</code> interface is now an internal API in the KotlinX coroutine library. This class, and any class which uses it, must be marked with the <code>@InternalCoroutinesApi</code> annotation."}], "tags": [], "owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "is_accepted": false, "score": 25, "last_activity_date": 1520361605, "last_edit_date": 1520361605, "creation_date": 1520029450, "answer_id": 49078296, "question_id": 47171302, "link": "https://stackoverflow.com/questions/47171302/unit-testing-a-kotlin-coroutine-with-delay/49078296#49078296", "title": "Unit testing a Kotlin coroutine with delay", "body": "<p>If you don't want any delay, why don't you simply resume the continuation in the schedule call?:</p>\n\n<pre><code>class TestUiContext : CoroutineDispatcher(), Delay {\n    override fun scheduleResumeAfterDelay(time: Long, unit: TimeUnit, continuation: CancellableContinuation&lt;Unit&gt;) {\n        continuation.resume(Unit)\n    }\n\n    override fun dispatch(context: CoroutineContext, block: Runnable) {\n        //CommonPool.dispatch(context, block)  // dispatch on CommonPool\n        block.run()  // dispatch on calling thread\n    }\n}\n</code></pre>\n\n<p>That way <code>delay()</code> will resume with no delay.  Note that this still suspends at delay, so other coroutines can still run (like <code>yield()</code>)</p>\n\n<pre><code>@Test\nfun `test with delay`() {\n    runBlocking(TestUiContext()) {\n        launch { println(\"launched\") }\n        println(\"start\")\n        delay(5000)\n        println(\"stop\")\n    }\n}\n</code></pre>\n\n<p>Runs without delay and prints:</p>\n\n<pre><code>start\nlaunched\nstop\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>You can control where the continuation is run by customizing the <code>dispatch</code> function.</p>\n"}, {"comments": [{"owner": {"reputation": 1561, "user_id": 3859199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26she.jpg?s=128&g=1", "display_name": "Bwvolleyball", "link": "https://stackoverflow.com/users/3859199/bwvolleyball"}, "edited": false, "score": 0, "creation_date": 1563998888, "post_id": 51642811, "comment_id": 100890854, "body": "A quick update that the <code>TestCoroutineContext</code> has already been deprecated in later versions of the coroutines library."}, {"owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "reply_to_user": {"reputation": 1561, "user_id": 3859199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26she.jpg?s=128&g=1", "display_name": "Bwvolleyball", "link": "https://stackoverflow.com/users/3859199/bwvolleyball"}, "edited": false, "score": 0, "creation_date": 1564006630, "post_id": 51642811, "comment_id": 100893351, "body": "In v1.2.1 they added the experimental <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/kotlinx-coroutines-test\" rel=\"nofollow noreferrer\">kotlinx-coroutines-test</a> module, including <code>runBlockingTest</code>, <code>TestCoroutineScope</code>, and <code>TestCoroutineDispatcher</code>."}], "tags": [], "owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "is_accepted": false, "score": 4, "last_activity_date": 1564130792, "last_edit_date": 1564130792, "creation_date": 1533160594, "answer_id": 51642811, "question_id": 47171302, "link": "https://stackoverflow.com/questions/47171302/unit-testing-a-kotlin-coroutine-with-delay/51642811#51642811", "title": "Unit testing a Kotlin coroutine with delay", "body": "<p>In kotlinx.coroutines v0.23.0 they introduced a <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental.test/-test-coroutine-context/index.html\" rel=\"nofollow noreferrer\">TestCoroutineContext</a>.</p>\n\n<p>Pro: it makes truly testing coroutines with <code>delay</code> possible. You can set the CoroutineContext's virtual clock to a moment in time and verify the expected behavior.</p>\n\n<p>Con: if your coroutine code doesn't use <code>delay</code>, and you just want it to execute synchronously on the calling thread, it is slightly more cumbersome to use than the <code>TestUiContext</code> from @bj0's answer (you need to call <code>triggerActions()</code> on the TestCoroutineContext to get the coroutine to execute).</p>\n\n<p>Sidenote:\nThe <code>TestCoroutineContext</code> now lives in the <code>kotlinx-coroutines-test</code> module starting with coroutines version 1.2.1, and will be marked deprecated or not exist in the standard coroutine library in versions above this version.</p>\n"}, {"comments": [{"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 1, "creation_date": 1592249981, "post_id": 57809924, "comment_id": 110352950, "body": "Great resources shared @Erik Browne! Specifically, how would you implement <code>runBlockingTest</code>, <code>TestCoroutineScope</code>, or <code>TestCoroutineDispatcher</code> to handle the <code>delay</code> in the unit test?"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1592256134, "post_id": 57809924, "comment_id": 110355382, "body": "I&#39;ve expanded upon this solution with a specific implementation <a href=\"https://stackoverflow.com/a/62397243/2253682\">here</a>."}], "tags": [], "owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "is_accepted": true, "score": 13, "last_activity_date": 1567702313, "creation_date": 1567702313, "answer_id": 57809924, "question_id": 47171302, "link": "https://stackoverflow.com/questions/47171302/unit-testing-a-kotlin-coroutine-with-delay/57809924#57809924", "title": "Unit testing a Kotlin coroutine with delay", "body": "<p>In kotlinx.coroutines v1.2.1 they added the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/\" rel=\"noreferrer\">kotlinx-coroutines-test</a> module. It includes the <code>runBlockingTest</code> coroutine builder, as well as a <code>TestCoroutineScope</code> and <code>TestCoroutineDispatcher</code>. They allow auto-advancing time, as well as explicitly controlling time for testing coroutines with <code>delay</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 222, "user_id": 4034143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8b9624c3b5e085309e53567fcbf7fb?s=128&d=identicon&r=PG&f=1", "display_name": "hmac", "link": "https://stackoverflow.com/users/4034143/hmac"}, "edited": false, "score": 1, "creation_date": 1592403426, "post_id": 62397243, "comment_id": 110413492, "body": "if I use the <code>testDispatcher.advanceTimeBy</code> I get that unfinished coroutines error and I&#39;m not sure how to resolve that. <code>testDispatcher.advanceUntilIdle</code> works nicely though"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 222, "user_id": 4034143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8b9624c3b5e085309e53567fcbf7fb?s=128&d=identicon&r=PG&f=1", "display_name": "hmac", "link": "https://stackoverflow.com/users/4034143/hmac"}, "edited": false, "score": 0, "creation_date": 1592407726, "post_id": 62397243, "comment_id": 110416157, "body": "That is good to hear <code>advanceUntilIdle</code> does the job for you. Running the test in a <code>TestCoroutineDispatcher().runBlockingTest{...}</code> may resolve the unfinished coroutine error as <a href=\"https://craigrussell.io/2019/11/unit-testing-coroutine-suspend-functions-using-testcoroutinedispatcher/\" rel=\"nofollow noreferrer\">outlined by Craig Russell here</a>."}], "tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": false, "score": 3, "last_activity_date": 1592256050, "creation_date": 1592256050, "answer_id": 62397243, "question_id": 47171302, "link": "https://stackoverflow.com/questions/47171302/unit-testing-a-kotlin-coroutine-with-delay/62397243#62397243", "title": "Unit testing a Kotlin coroutine with delay", "body": "<h1>Use TestCoroutineDispatcher, TestCoroutineScope, or Delay</h1>\n\n<p>TestCoroutineDispatcher, TestCoroutineScope, or Delay can be used to handle a <code>delay</code> in a Kotlin coroutine made in the production code tested. </p>\n\n<h2>Implement</h2>\n\n<p>In this case <em>SomeViewModel</em>'s view state is being tested. In the <code>ERROR</code> state a view state is emitted with the error value being true. After the defined Snackbar time length has passed using a <code>delay</code> a new view state is emitted with the error value set to false.</p>\n\n<p><em>SomeViewModel.kt</em></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun loadNetwork() {\n    repository.getData(...).onEach {\n        when (it.status) {\n            LOADING -&gt; ...\n            SUCCESS ...\n            ERROR -&gt; {\n                _viewState.value = FeedViewState.SomeFeedViewState(\n                    isLoading = false,\n                    feed = it.data,\n                    isError = true\n                )\n                delay(SNACKBAR_LENGTH)\n                _viewState.value = FeedViewState.SomeFeedViewState(\n                    isLoading = false,\n                    feed = it.data,\n                    isError = false\n                )\n            }\n        }\n    }.launchIn(coroutineScope)\n}\n</code></pre>\n\n<p>There are numerous ways to handle the <code>delay</code>. <code>advanceUntilIdle</code> is good because it doesn't require specifying a hardcoded length. Also, if injecting the TestCoroutineDispatcher, as <a href=\"https://craigrussell.io/2019/11/unit-testing-coroutine-suspend-functions-using-testcoroutinedispatcher/\" rel=\"nofollow noreferrer\">outlined by Craig Russell</a>, this will be handled by the same dispatcher used inside of the ViewModel.</p>\n\n<p><em>SomeTest.kt</em></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val testDispatcher = TestCoroutineDispatcher()\nprivate val testScope = TestCoroutineScope(testDispatcher)\n\n// Code that initiates the ViewModel emission of the view state(s) here.\n\ntestDispatcher.advanceUntilIdle()\n</code></pre>\n\n<p>These will also work:</p>\n\n<ul>\n<li><code>testScope.advanceUntilIdle()</code></li>\n<li><code>testDispatcher.delay(SNACKBAR_LENGTH)</code></li>\n<li><code>delay(SNACKBAR_LENGTH)</code></li>\n<li><code>testDispatcher.resumeDispatcher()</code></li>\n<li><code>testScope.resumeDispatcher()</code></li>\n<li><code>testDispatcher.advanceTimeBy(SNACKBAR_LENGTH)</code></li>\n<li><code>testScope.advanceTimeBy(SNACKBAR_LENGTH)</code></li>\n</ul>\n\n<h2>Error without handling the delay</h2>\n\n<blockquote>\n  <p>kotlinx.coroutines.test.UncompletedCoroutinesError: Unfinished coroutines during teardown. Ensure all coroutines are completed or cancelled by your test.</p>\n  \n  <p>at kotlinx.coroutines.test.TestCoroutineDispatcher.cleanupTestCoroutines(TestCoroutineDispatcher.kt:178)\n      at app.topcafes.FeedTest.cleanUpTest(FeedTest.kt:127)\n      at app.topcafes.FeedTest.access$cleanUpTest(FeedTest.kt:28)\n      at app.topcafes.FeedTest$topCafesTest$1.invokeSuspend(FeedTest.kt:106)\n      at app.topcafes.FeedTest$topCafesTest$1.invoke(FeedTest.kt)\n      at kotlinx.coroutines.test.TestBuildersKt$runBlockingTest$deferred$1.invokeSuspend(TestBuilders.kt:50)\n      at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n      at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:56)\n      at kotlinx.coroutines.test.TestCoroutineDispatcher.dispatch(TestCoroutineDispatcher.kt:50)\n      at kotlinx.coroutines.DispatchedContinuationKt.resumeCancellableWith(DispatchedContinuation.kt:288)\n      at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:26)\n      at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:109)\n      at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:158)\n      at kotlinx.coroutines.BuildersKt__Builders_commonKt.async(Builders.common.kt:91)\n      at kotlinx.coroutines.BuildersKt.async(Unknown Source)\n      at kotlinx.coroutines.BuildersKt__Builders_commonKt.async$default(Builders.common.kt:84)\n      at kotlinx.coroutines.BuildersKt.async$default(Unknown Source)\n      at kotlinx.coroutines.test.TestBuildersKt.runBlockingTest(TestBuilders.kt:49)\n      at kotlinx.coroutines.test.TestBuildersKt.runBlockingTest(TestBuilders.kt:80)\n      at app.topcafes.FeedTest.topCafesTest(FeedTest.kt:41)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke(Method.java:498)\n      at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n      at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n      at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n      at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n      at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n      at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n      at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n      at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n      at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n      at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n      at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n      at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n      at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n      at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n      at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n      at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n      at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n      at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)</p>\n</blockquote>\n"}], "owner": {"reputation": 965, "user_id": 3130879, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d997eba3cbe2bc5c42f744662f7bfcf7?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Browne", "link": "https://stackoverflow.com/users/3130879/erik-browne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8358, "favorite_count": 5, "accepted_answer_id": 57809924, "answer_count": 4, "score": 32, "last_activity_date": 1592407504, "creation_date": 1510113292, "last_edit_date": 1592407504, "question_id": 47171302, "link": "https://stackoverflow.com/questions/47171302/unit-testing-a-kotlin-coroutine-with-delay", "title": "Unit testing a Kotlin coroutine with delay", "body": "<p>I'm trying to unit test a Kotlin coroutine that uses <code>delay()</code>. For the unit test I don't care about the <code>delay()</code>, it's just slowing the test down. I'd like to run the test in some way that doesn't actually delay when <code>delay()</code> is called.</p>\n\n<p>I tried running the coroutine using a custom context which delegates to CommonPool:</p>\n\n<pre><code>class TestUiContext : CoroutineDispatcher(), Delay {\n    suspend override fun delay(time: Long, unit: TimeUnit) {\n        // I'd like it to call this\n    }\n\n    override fun scheduleResumeAfterDelay(time: Long, unit: TimeUnit, continuation: CancellableContinuation&lt;Unit&gt;) {\n        // but instead it calls this\n    }\n\n    override fun dispatch(context: CoroutineContext, block: Runnable) {\n        CommonPool.dispatch(context, block)\n    }\n}\n</code></pre>\n\n<p>I was hoping I could just return from my context's <code>delay()</code> method, but instead it's calling my <code>scheduleResumeAfterDelay()</code> method, and I don't know how to delegate that to the default scheduler.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": true, "score": 2, "last_activity_date": 1510114226, "last_edit_date": 1510114226, "creation_date": 1510113828, "answer_id": 47171384, "question_id": 47171122, "link": "https://stackoverflow.com/questions/47171122/hashmap-with-arraylist-data-type-kotlin/47171384#47171384", "title": "Hashmap with ArrayList data type (Kotlin)?", "body": "<p><code>ArrayList&lt;TongQuan&gt;</code> is not a child of <code>ArrayList&lt;Any&gt;</code>.</p>\n\n<p>So instead of this: <code>listChild = HashMap&lt;String, ArrayList&lt;Any&gt;&gt;()</code></p>\n\n<p>you should have: <code>listChild = HashMap&lt;String, ArrayList&lt;TongQuan&gt;&gt;()</code></p>\n\n<hr>\n\n<p>However, this will let you add only <code>ArrayList&lt;TongQuan&gt;</code>. If you want the ability to add <code>ArrayList&lt;TongQuan&gt;</code> or <code>ArrayList&lt;BangGia&gt;</code>, then you need to do the below:</p>\n\n<p><code>listChild = HashMap&lt;String, ArrayList&lt;out Any&gt;&gt;()</code></p>\n\n<p>For a detailed documentation on Variance, refer here: <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 8871780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c97073f559331cea0d019e9c00b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "duongluu", "link": "https://stackoverflow.com/users/8871780/duongluu"}, "edited": false, "score": 1, "creation_date": 1510166042, "post_id": 47171642, "comment_id": 81323470, "body": "Thank you guys! Both worked correctly. I&#39;m reading, learning that."}], "tags": [], "owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "is_accepted": false, "score": 0, "last_activity_date": 1510115596, "creation_date": 1510115596, "answer_id": 47171642, "question_id": 47171122, "link": "https://stackoverflow.com/questions/47171122/hashmap-with-arraylist-data-type-kotlin/47171642#47171642", "title": "Hashmap with ArrayList data type (Kotlin)?", "body": "<p><code>Any</code> is different with <code>Object</code> in Java. Unlike in java where every class is child of Object, in kotlin not every class is child of <code>Any</code>.</p>\n\n<p>Instead of using ArrayList, you should use kotlin List.\nit should work like this:</p>\n\n<pre><code>ar arrayTQ = mutableListOf&lt;TongQuan&gt;()\nvar arrayBG = mutableListOf&lt;BangGia&gt;()\nvar epdbLV: ExpandableListView? = null\nvar listHeader: List&lt;String&gt; = listOf()\nvar listChild = HashMap&lt;String, List&lt;Any&gt;&gt;()\n\nvar arrayListData = mutableListOf&lt;String&gt;()\nprivate fun addControl() {\n    epdbLV = findViewById(R.id.epdbList)\n    listHeader = ArrayList()\n    listChild = HashMap&lt;String, List&lt;Any&gt;&gt;()\n    listHeader = listOf(\"T\u1ed5ng Quan Th\u1ecb Quan Th\u1ecb Tr\u01b0\u1eddng, B\u1ea3ng Gi\u00e1, L\u1ecbch S\u1ef1 Ki\u1ec7n, Tin T\u1ee9c, Ch\u1ec9 S\u1ed1 Th\u1ebf Gi\u1edbi\")\n    arrayListData.clear()\n    arrayTQ.clear()\n    arrayBG.clear()\n}\n</code></pre>\n\n<p>it should be safe to call</p>\n\n<pre><code>override fun onPostExecute(result: ArrayList&lt;String&gt;) {\n        super.onPostExecute(result)\n        getDataTQ()\n        getDataBG()\n        listChild.clear()\n        listChild.put(listHeader.get(1), arrayTQ)\n    }\n</code></pre>\n\n<p>as @Henry suggest, you should read kotlin <em>Variance</em> <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8871780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c97073f559331cea0d019e9c00b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "duongluu", "link": "https://stackoverflow.com/users/8871780/duongluu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4352, "favorite_count": 0, "accepted_answer_id": 47171384, "answer_count": 2, "score": 2, "last_activity_date": 1510115596, "creation_date": 1510111806, "question_id": 47171122, "link": "https://stackoverflow.com/questions/47171122/hashmap-with-arraylist-data-type-kotlin", "title": "Hashmap with ArrayList data type (Kotlin)?", "body": "<p>This is the variables and addControl fun I used.</p>\n\n<pre><code>var arrayTQ = ArrayList&lt;TongQuan&gt;()\nvar arrayBG = ArrayList&lt;BangGia&gt;()\nvar epdbLV: ExpandableListView? = null\nvar listHeader: List&lt;String&gt; = listOf()\nvar listChild = HashMap&lt;String, ArrayList&lt;Any&gt;&gt;()\n\nvar arrayListData = ArrayList&lt;String&gt;()\nprivate fun addControl() {\n    epdbLV = findViewById(R.id.epdbList)\n    listHeader = ArrayList()\n    listChild = HashMap&lt;String, ArrayList&lt;Any&gt;&gt;()\n    listHeader = listOf(\"T\u1ed5ng Quan Th\u1ecb Quan Th\u1ecb Tr\u01b0\u1eddng, B\u1ea3ng Gi\u00e1, L\u1ecbch S\u1ef1 Ki\u1ec7n, Tin T\u1ee9c, Ch\u1ec9 S\u1ed1 Th\u1ebf Gi\u1edbi\")\n    arrayListData = ArrayList()\n    arrayTQ = ArrayList()\n    arrayBG = ArrayList()\n}\n</code></pre>\n\n<p>And I put the listChild.put into override fun in inner class GetData extend AsyncTask. The error at arrayTQ is about the type of data TongQuan not match with Any. In Java, It is no need to add typedata after ArrayList in HashMap. Help me fix it, I had searched and tried. Thanks Guys.</p>\n\n<pre><code>override fun onPostExecute(result: ArrayList&lt;String&gt;) {\n        super.onPostExecute(result)\n        getDataTQ()\n        getDataBG()\n        listChild.clear()\n        listChild.put(listHeader.get(1), arrayTQ)\n    }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 497, "user_id": 2470297, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ipYCA.png?s=128&g=1", "display_name": "bearlysophisticated", "link": "https://stackoverflow.com/users/2470297/bearlysophisticated"}, "edited": false, "score": 5, "creation_date": 1510135518, "post_id": 47170118, "comment_id": 81302515, "body": "Try a clean build from CLI, it worked for me: close Android Studio and run <code>.&#47;gradlew clean assembleDebug</code> then start Android Studio again."}, {"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 0, "creation_date": 1510824787, "post_id": 47170118, "comment_id": 81602696, "body": "This worked for me. You should add it as an answer"}, {"owner": {"reputation": 1943, "user_id": 1154390, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/432e442a9f1a89f13b008e8feb2100cb?s=128&d=identicon&r=PG", "display_name": "user1154390", "link": "https://stackoverflow.com/users/1154390/user1154390"}, "reply_to_user": {"reputation": 497, "user_id": 2470297, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ipYCA.png?s=128&g=1", "display_name": "bearlysophisticated", "link": "https://stackoverflow.com/users/2470297/bearlysophisticated"}, "edited": false, "score": 0, "creation_date": 1533635304, "post_id": 47170118, "comment_id": 90407806, "body": "thanks @m3dw3 . It worked for me. I faced this issue after changing my  .gradle directory path."}, {"owner": {"reputation": 5947, "user_id": 1276636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5pipn.jpg?s=128&g=1", "display_name": "Sufian", "link": "https://stackoverflow.com/users/1276636/sufian"}, "edited": false, "score": 0, "creation_date": 1544706111, "post_id": 47170118, "comment_id": 94376542, "body": "In my newly created project (via Android Studio 3.2.1 stable), I had following kotlin version defined in project&#39;s build.gradle: <code>ext.kotlin_version = &#39;1.3.11&#39; &#39;1.2.71&#39;</code>. I removed the second version and so it looked like this <code>ext.kotlin_version = &#39;1.3.11&#39;</code>."}, {"owner": {"reputation": 454, "user_id": 1804727, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b42bc6f8f4b1c8681ab5273e6286fc6?s=128&d=identicon&r=PG", "display_name": "vortek", "link": "https://stackoverflow.com/users/1804727/vortek"}, "edited": false, "score": 6, "creation_date": 1550168981, "post_id": 47170118, "comment_id": 96181021, "body": "<code>File -&gt; Sync Project with Gradle files</code> worked for me ..."}], "answers": [{"comments": [{"owner": {"reputation": 10836, "user_id": 341091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77cb2312d5b3b6dcc793510e59226e9d?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/341091/martin"}, "edited": false, "score": 2, "creation_date": 1523865865, "post_id": 47506112, "comment_id": 86719125, "body": "A few lines of context to know where the line need to be replaced would have been nice."}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 2, "creation_date": 1541914536, "post_id": 47506112, "comment_id": 93377241, "body": "I tried this which I thought resolved the issue. However, when I reverted to my original <i>implementation</i> <code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;</code> the error was still resolved. I must of just needed to have the gradle file re0run."}, {"owner": {"reputation": 64, "user_id": 2579004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48aefd0b782dfa5741a2cfcff86d116b?s=128&d=identicon&r=PG", "display_name": "garbus", "link": "https://stackoverflow.com/users/2579004/garbus"}, "edited": false, "score": 0, "creation_date": 1551031218, "post_id": 47506112, "comment_id": 96481184, "body": "Thanks! Removing jre7 from dependency helped me to sync and finally build project with a new Kotlin version."}], "tags": [], "owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "is_accepted": true, "score": 41, "last_activity_date": 1530123922, "last_edit_date": 1530123922, "creation_date": 1511769183, "answer_id": 47506112, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/47506112#47506112", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>I first tried with invalidate cache/ restart option but it doesn't help me. </p>\n\n<p>When I updated Kotlin to 1.1.60 in project's gradle file, problem is solved.</p>\n\n<p>Also, use this in app's gradle for stdlib </p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.1.60\" \n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.60\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "is_accepted": false, "score": 3, "last_activity_date": 1511979120, "creation_date": 1511979120, "answer_id": 47559175, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/47559175#47559175", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>Closing and restarting Android Studio works for me in that case. Important is that there are no other projects opened in Android Studio before you close it. I suspect that closing Android Studio with multiple opened project windows sometimes messes up the configuration especially after plugin upgrades etc.</p>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 4, "last_activity_date": 1516035397, "creation_date": 1516035397, "answer_id": 48267512, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/48267512#48267512", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>The only thing that worked for me was to uninstall the kotlin plugin (File -> Settings -> Plugins -> Kotlin press uninstall) and after a restart of Android Studio reinstall the plugin.</p>\n"}, {"comments": [{"owner": {"reputation": 10836, "user_id": 341091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77cb2312d5b3b6dcc793510e59226e9d?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/341091/martin"}, "edited": false, "score": 0, "creation_date": 1523865840, "post_id": 49512570, "comment_id": 86719109, "body": "A few lines of context to know where the line goes would have been nice."}, {"owner": {"reputation": 3258, "user_id": 2140414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8dff753d44fa68a1b36f60b9f848764?s=128&d=identicon&r=PG", "display_name": "johnml1135", "link": "https://stackoverflow.com/users/2140414/johnml1135"}, "edited": false, "score": 0, "creation_date": 1527103983, "post_id": 49512570, "comment_id": 88005038, "body": "This was very helpful to see it all laid out."}], "tags": [], "owner": {"reputation": 199, "user_id": 3315959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000053258968/picture?type=large", "display_name": "Kanishk Gupta", "link": "https://stackoverflow.com/users/3315959/kanishk-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1523879927, "last_edit_date": 1523879927, "creation_date": 1522152763, "answer_id": 49512570, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/49512570#49512570", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>I have faced this issue recently... when I updated to Android Studio 3.1 . </p>\n\n<p>I did a few things to fix this.</p>\n\n<ol>\n<li><p>First I updated the Kotlin version in my app gradle file and added </p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.2.31\" \n</code></pre>\n\n<p>in my app gradle file. But this alone didn't fix it.</p></li>\n<li><p>Then uninstalled the kotlin plugin from settings, restarted Android Studio and installed it again.</p></li>\n</ol>\n\n<p><strong>EDIT :</strong></p>\n\n<p>This is my project gradle file</p>\n\n<pre><code>buildscript {\n   ext.kotlin_version = '1.2.31'\n   repositories {\n      jcenter()\n      google()\n    }\n   dependencies {\n      classpath 'com.android.tools.build:gradle:3.1.1'\n      classpath 'com.google.gms:google-services:3.1.0'\n      classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.31\"\n\n   }\n }\n\nallprojects {\n   repositories {\n      jcenter()\n      maven { url \"https://jitpack.io\" }\n      google()\n   }\n}\n</code></pre>\n\n<p>And this is my app gradle file</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n\n   compileSdkVersion 27\n\n   buildToolsVersion '27.0.3'\n\n   defaultConfig {\n       ...\n    }\n\n    buildTypes {\n        ...\n    }\n\n    sourceSets {\n         main.java.srcDirs += 'src/main/kotlin'\n     }\n\n     kapt { generateStubs = true }\n\n\n}\nrepositories {\n     ...\n}\n\n\ndependencies {\n    ...\n    ...\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.2.31\"\n    ...\n    ...\n\n }\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1549754107, "post_id": 50289492, "comment_id": 96017796, "body": "This answer is not specific to Mac. It also worked on my Windows machine."}], "tags": [], "owner": {"reputation": 329, "user_id": 4090382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/98bca8ff113cac0d310afd4441fa6bd4?s=128&d=identicon&r=PG&f=1", "display_name": "Colibri", "link": "https://stackoverflow.com/users/4090382/colibri"}, "is_accepted": false, "score": 24, "last_activity_date": 1549783300, "last_edit_date": 1549783300, "creation_date": 1526031860, "answer_id": 50289492, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/50289492#50289492", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>In Android Studio, click on File -> Invalidate Caches / Restart... , then select \"Invalidated and Restart\". This solved my problem.</p>\n"}, {"tags": [], "owner": {"reputation": 7540, "user_id": 4266957, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-hn2_WWVX1LQ/AAAAAAAAAAI/AAAAAAAAADM/AKc2MeKbj_M/photo.jpg?sz=128", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/4266957/ricardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1542102933, "creation_date": 1542102933, "answer_id": 53278294, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/53278294#53278294", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>None of the other solutions solved my problem. I ended up figuring out that the problem lied in the google services version. Just update it to the latest. </p>\n\n<p>Top level gradle at dependencies: </p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.1.0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 3, "last_activity_date": 1548320813, "last_edit_date": 1548320813, "creation_date": 1542884263, "answer_id": 53429427, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/53429427#53429427", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<h1>Important Update</h1>\n\n<h3>You should check JDK version before setting config</h3>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">Kotlin gradle config</a> page has detailed information about this. </p>\n\n<h2>Step 1</h2>\n\n<p>Check kotlin version in project level gradle file. </p>\n\n<blockquote>\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n  \n  <h2>For <code>kotlin_version '1.2.x'</code> Use <code>jdk</code> NOT <code>jre</code></h2>\n</blockquote>\n\n<h2>Step 2</h2>\n\n<p>Check JDK version in <strong>File > Project Structure</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/e0bNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0bNp.png\" alt=\"sc\"></a></p>\n\n<p><strong>Or</strong> check in <code>build.gradle</code></p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>If no JDK version is set in Project Structure, then choose by Android Studio version</p>\n\n<ul>\n<li>JDK version is 1.7 for Android Studio Version &lt; 2.2.1 </li>\n<li>JDK version is 1.8 for Android Studio Version &lt; 2.2.1 </li>\n</ul>\n\n<p><strong>Because Android Studio is bundled with jdk 1.8 since 2.2.1 version.</strong></p>\n\n<p><strong>You have 3 options of kotlin stdlib, choose according JDK version</strong></p>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\" //jdk_version == 1.8\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\" //jdk_version == 1.7\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" // jdk_version is &lt; 1.7\n</code></pre>\n\n<blockquote>\n  <h2>if <code>kotlin version is'1.1.x'</code> Use jre NOT jdk</h2>\n</blockquote>\n\n<pre><code>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\" // or jre8\n</code></pre>\n\n<h3>Update Kotlin Version?</h3>\n\n<p>You can update Kotlin version from <strong>Tools > Kotlin > Configure Kotlin Updates</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1915, "user_id": 2750224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YVZYK.jpg?s=128&g=1", "display_name": "Zia", "link": "https://stackoverflow.com/users/2750224/zia"}, "is_accepted": false, "score": 3, "last_activity_date": 1552543015, "creation_date": 1552543015, "answer_id": 55155832, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/55155832#55155832", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>Kotlin-stdlib-jre7 is deprecated since 1.2.0 and should be replaced with kotlin-stdlib-<strong>jdk7</strong></p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\" \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9820667, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Pedro", "link": "https://stackoverflow.com/users/9820667/pedro"}, "is_accepted": false, "score": 1, "last_activity_date": 1552952327, "creation_date": 1552952327, "answer_id": 55231646, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/55231646#55231646", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>In my case, after the update of Android Studio and plugins, I could create new projects, but my old projects were having \"Gradle Sync Issues\".</p>\n\n<p>The solution was in File/Project Structure.../App/Dependencies:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\" \n</code></pre>\n\n<p>And then I just updated the Kotlin version in my project build.gradle:</p>\n\n<p>From:</p>\n\n<blockquote>\n  <p>ext.kotlin_version = '1.2.30'</p>\n</blockquote>\n\n<p>To:</p>\n\n<blockquote>\n  <p>ext.kotlin_version = '1.3.21'</p>\n</blockquote>\n\n<p>Then I tried Sync again.</p>\n\n<p>Obs: You can check your Kotlin version in Tools/Kotlin/Configure Kotlin Plugin Updates</p>\n"}, {"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1558603939, "last_edit_date": 1558603939, "creation_date": 1558603561, "answer_id": 56272085, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/56272085#56272085", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>One other point to check is version of your Gradle in <code>gradle-wrapper.properties</code>, if you use one.</p>\n\n<p>Make sure that \n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip</code></p>\n\n<p>Has version 4.1 or higher.</p>\n\n<p>You may also have the following in your <code>build.gradle</code>:</p>\n\n<pre><code>task wrapper(type: Wrapper) {\n    gradleVersion = '4.1'\n    distributionUrl = \"https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip\"\n}\n</code></pre>\n\n<p>Where Gradle version is lower that 4.1</p>\n"}, {"tags": [], "owner": {"reputation": 2638, "user_id": 2243178, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/6vqYV.jpg?s=128&g=1", "display_name": "Phan Dinh Thai", "link": "https://stackoverflow.com/users/2243178/phan-dinh-thai"}, "is_accepted": false, "score": 1, "last_activity_date": 1561376392, "creation_date": 1561376392, "answer_id": 56735766, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/56735766#56735766", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>I have tried all above solutions but non of them works for me.</p>\n\n<p>Then finally I got success with below solution, so it may helpful for some one like me.</p>\n\n<ol>\n<li>Delele all <code>.iml</code> files (in root project, libraries and modules)</li>\n<li>Rebuild project</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6697549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zYA3b.png?s=128&g=1", "display_name": "simpleParadox", "link": "https://stackoverflow.com/users/6697549/simpleparadox"}, "is_accepted": false, "score": 0, "last_activity_date": 1561829402, "creation_date": 1561829402, "answer_id": 56819501, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/56819501#56819501", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>Though I see that the question already has answers that work, one might also try the following solution.</p>\n\n<p>Right click on the file name (Main.kt) -> Run 'Main.kt'.</p>\n\n<p>This will download a gradle file from the gradle.org website.</p>\n\n<p>Wait for it to unzip. The errors were cleared.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6541446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2872d8758713f77a6e6c61aef2288da1?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj Kumar", "link": "https://stackoverflow.com/users/6541446/anuj-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1568357907, "creation_date": 1568357907, "answer_id": 57918696, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/57918696#57918696", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>In my case I had to update Android studio from version 3.4.1. to 3.5 and it resolved the <em>kotlin not configured</em> error.</p>\n"}, {"tags": [], "owner": {"reputation": 334, "user_id": 7548514, "user_type": "registered", "profile_image": "https://graph.facebook.com/1383918058319065/picture?type=large", "display_name": "Kyo Huu", "link": "https://stackoverflow.com/users/7548514/kyo-huu"}, "is_accepted": false, "score": 1, "last_activity_date": 1583492959, "creation_date": 1583492959, "answer_id": 60562867, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/60562867#60562867", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>Delete <strong><em>.AndroidStudio3.6</em></strong> folder in <strong><em>C:\\Users\\Username</em></strong> and re-open Android studio works for me</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 7791756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lP2x.jpg?s=128&g=1", "display_name": "Shaharyar Keerio", "link": "https://stackoverflow.com/users/7791756/shaharyar-keerio"}, "is_accepted": false, "score": -1, "last_activity_date": 1590042530, "creation_date": 1590042530, "answer_id": 61928578, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/61928578#61928578", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>Simply Create a new Activity and select its language to kotlin Android studio Automatically configured kotlin for you.</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 9242141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bswjX.jpg?s=128&g=1", "display_name": "Ziad H.", "link": "https://stackoverflow.com/users/9242141/ziad-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1592389109, "creation_date": 1592389109, "answer_id": 62426674, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/62426674#62426674", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>The only fix for me was adding </p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>in build.gradle (:app)</p>\n"}, {"tags": [], "owner": {"reputation": 3049, "user_id": 1823992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a4ab9e8b0b5101ad75de1a1261bd8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "ar-g", "link": "https://stackoverflow.com/users/1823992/ar-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1595004977, "creation_date": 1595004977, "answer_id": 62958540, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/62958540#62958540", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>In my case, it was a broken update of one of the plugins I've used. Check your error logs from Android Studio this will lead you to what is the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7162221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29f88b2fb465aeb722ed6fc6c836cf2d?s=128&d=identicon&r=PG", "display_name": "user7162221", "link": "https://stackoverflow.com/users/7162221/user7162221"}, "is_accepted": false, "score": 0, "last_activity_date": 1600274983, "creation_date": 1600274983, "answer_id": 63924644, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/63924644#63924644", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>just delete .idea folder from project,and run android studio again, it will resolve KOTLIN NOT CONFIGURED issue.</p>\n"}, {"comments": [{"owner": {"reputation": 599, "user_id": 1748502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2GdW.jpg?s=128&g=1", "display_name": "benchuk", "link": "https://stackoverflow.com/users/1748502/benchuk"}, "edited": false, "score": 1, "creation_date": 1607603075, "post_id": 65234449, "comment_id": 115327729, "body": "saved my day! i had a bad csv plugin. once removed - everything was back to normal"}], "tags": [], "owner": {"reputation": 51, "user_id": 2237678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBECi.jpg?s=128&g=1", "display_name": "feranf", "link": "https://stackoverflow.com/users/2237678/feranf"}, "is_accepted": false, "score": 2, "last_activity_date": 1607602962, "creation_date": 1607602962, "answer_id": 65234449, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error/65234449#65234449", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>A common reason of the &quot;Kotlin Not Configured&quot; message is <strong>an internal Android Studio exception due to a bad plugin</strong>.\nIn order to fix that you should disable the bad plugin.</p>\n<p>When such plugin crash occurs, on the &quot;Wellcome screen&quot; you'll see a small notification (see illustration image) where you can click it and disable the bad plugin:</p>\n<p><a href=\"https://i.stack.imgur.com/3XY7F.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3XY7F.jpg\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 323, "user_id": 8903465, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a7OKpoBdEvg/AAAAAAAAAAI/AAAAAAAAAC4/P4yq737RT8E/photo.jpg?sz=128", "display_name": "Ryan Lertola", "link": "https://stackoverflow.com/users/8903465/ryan-lertola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30706, "favorite_count": 1, "accepted_answer_id": 47506112, "answer_count": 19, "score": 32, "last_activity_date": 1607602962, "creation_date": 1510104533, "last_edit_date": 1543858235, "question_id": 47170118, "link": "https://stackoverflow.com/questions/47170118/updated-to-android-studio-3-0-getting-a-kotlin-not-configured-error", "title": "Updated to Android Studio 3.0. Getting a &quot;Kotlin not configured&quot; error", "body": "<p>I just updated to Android Studio 3.0 and I'm getting this error with an existing project:</p>\n\n<blockquote>\n  <p>Kotlin not configured</p>\n</blockquote>\n\n<p>When I go to <em>Tools>Kotlin>Configure Kotlin in Project</em>, I get an error saying \"<em>no configurators available</em>\". Also get the error below with the red java:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pqaFh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pqaFh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've also tried:</p>\n\n<ul>\n<li>Restarting</li>\n<li>Clean and Rebuild</li>\n<li>Invalidate caches/restart. </li>\n</ul>\n"}, {"tags": ["android", "kotlin", "ontouchlistener"], "answers": [{"comments": [{"owner": {"reputation": 3806, "user_id": 1160360, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee8ae4bae84db7a44b550655f7c33289?s=128&d=identicon&r=PG", "display_name": "Fran Marzoa", "link": "https://stackoverflow.com/users/1160360/fran-marzoa"}, "edited": false, "score": 0, "creation_date": 1592475987, "post_id": 47170922, "comment_id": 110441577, "body": "In AS 4.0 using Java with an EditText the warning persist even after adding the call to performClick inside the onTouch listener method, at least in my own code. I had to suppress the warning explicitly."}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1614005915, "post_id": 47170922, "comment_id": 117244695, "body": "Whose listener did you overwrite? Why should it make any difference? Looks like fluke..."}], "tags": [], "owner": {"reputation": 690, "user_id": 5584127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ahA1f.jpg?s=128&g=1", "display_name": "lambda", "link": "https://stackoverflow.com/users/5584127/lambda"}, "is_accepted": true, "score": 7, "last_activity_date": 1530081626, "last_edit_date": 1530081626, "creation_date": 1510110309, "answer_id": 47170922, "question_id": 47170075, "link": "https://stackoverflow.com/questions/47170075/kotlin-ontouchlistener-called-but-it-does-not-override-performclick/47170922#47170922", "title": "Kotlin OnTouchListener called but it does not override performClick", "body": "<p>Okay, I solved my own problem by overriding the OnTouch listener.</p>\n\n<pre><code>override fun onTouch(view: View, motionEvent: MotionEvent): Boolean {\n    when (view) {\n        next -&gt; {\n            Log.d(\"next\", \"yeyy\")\n            when (motionEvent.action){\n                MotionEvent.ACTION_DOWN -&gt; {\n                    val icon: Drawable = ContextCompat.getDrawable(activity.applicationContext, R.drawable.layer_bt_next)\n                    icon.setColorFilter(Color.GRAY, PorterDuff.Mode.MULTIPLY)\n                    next.setImageDrawable(icon)\n                }\n                MotionEvent.ACTION_UP -&gt; {\n                    view.performClick()\n                    next.setImageResource(R.drawable.layer_bt_next)\n                }\n            }\n        }\n        previous -&gt; {\n            //ingredients here XD\n        }\n    }\n    return true\n}\n</code></pre>\n\n<p>And in that way, I can call single onTouch and implement it to many button and also can use the onClick by :</p>\n\n<pre><code>view.performClick()\n</code></pre>\n\n<p>Don't forget to implement :</p>\n\n<pre><code>View.OnTouchListener\n</code></pre>\n\n<p>And set the listener : </p>\n\n<pre><code>next.setOnTouchListener(this)\nprevious.setOnTouchListener(this)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3194, "user_id": 6667442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9zY9.png?s=128&g=1", "display_name": "Ketan Ramani", "link": "https://stackoverflow.com/users/6667442/ketan-ramani"}, "edited": false, "score": 0, "creation_date": 1520417313, "post_id": 48944835, "comment_id": 85302645, "body": "Can you just give example in terms of code ? for better understanding. Thanks"}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1614006224, "post_id": 48944835, "comment_id": 117244843, "body": "Doesn&#39;t make any sense to me. I have code that must not be executed onClick(). It&#39;s kind of progress indication for a long touch. Accessibility doesn&#39;t matter. If you can&#39;t touch you can&#39;t use it. Maybe I really have to ignore the warning."}, {"owner": {"reputation": 135, "user_id": 2936375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a7ba89c4b0a39171dcd8688b57656?s=128&d=identicon&r=PG&f=1", "display_name": "mhswtf", "link": "https://stackoverflow.com/users/2936375/mhswtf"}, "reply_to_user": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1619088340, "post_id": 48944835, "comment_id": 118801610, "body": "@TheincredibleJan - The warning is for accessibility purposes, so if that is not important or relevant to you, then yes, you should ignore it."}], "tags": [], "owner": {"reputation": 135, "user_id": 2936375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a7ba89c4b0a39171dcd8688b57656?s=128&d=identicon&r=PG&f=1", "display_name": "mhswtf", "link": "https://stackoverflow.com/users/2936375/mhswtf"}, "is_accepted": false, "score": 7, "last_activity_date": 1541523947, "last_edit_date": 1541523947, "creation_date": 1519378460, "answer_id": 48944835, "question_id": 47170075, "link": "https://stackoverflow.com/questions/47170075/kotlin-ontouchlistener-called-but-it-does-not-override-performclick/48944835#48944835", "title": "Kotlin OnTouchListener called but it does not override performClick", "body": "<p>I don't think your solution will actually solve them problem presented by the warning. The warning states that certain accessibility functions use <code>performClick()</code> to activate buttons. If you look in the <code>View</code> class, the <code>performClick()</code> funtions calls the <code>onClickListener</code> directly, meaning the code in the <code>onTouchListener</code> will not be executed (<code>next.setImageResource(R.drawable.layer_bt_next)</code>) for these accessibility functions, since the view will never be physically touched, and thus your <code>onTouch</code> code won't run. You have to do one of either:</p>\n\n<ol>\n<li>Subclass the view you are setting the <code>onTouchListener</code> on, and override <code>performClick</code> to execute the code, or</li>\n<li>Set an <code>onClickListener</code> on the view that executes the code.</li>\n</ol>\n\n<p>You could just implement <code>onClickListener</code> in your onTouchListener class and manually call <code>onClick()</code> from your <code>onTouchListener</code> (where you have <code>view.performClick()</code> now), and then move your executable code to the <code>onClick</code> override. You would also have to set BOTH <code>onTouchListener</code> and <code>onClickListener</code> on your views.</p>\n"}, {"comments": [{"owner": {"reputation": 762, "user_id": 8572503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/97zqG.jpg?s=128&g=1", "display_name": "exploitr", "link": "https://stackoverflow.com/users/8572503/exploitr"}, "edited": false, "score": 4, "creation_date": 1548618087, "post_id": 49593119, "comment_id": 95596106, "body": "Casting a sub-class of View as a View doesn&#39;t really solve the problem, it just fools the IDE."}, {"owner": {"reputation": 762, "user_id": 8572503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/97zqG.jpg?s=128&g=1", "display_name": "exploitr", "link": "https://stackoverflow.com/users/8572503/exploitr"}, "edited": false, "score": 0, "creation_date": 1548618766, "post_id": 49593119, "comment_id": 95596306, "body": "You need to override <code>performClick()</code> in a custom view extending the targetView type. Then, call <code>performClick()</code> under touch event"}], "tags": [], "owner": {"reputation": 1140, "user_id": 1346778, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VJY7c.jpg?s=128&g=1", "display_name": "head in the codes", "link": "https://stackoverflow.com/users/1346778/head-in-the-codes"}, "is_accepted": false, "score": 2, "last_activity_date": 1600985574, "last_edit_date": 1600985574, "creation_date": 1522536080, "answer_id": 49593119, "question_id": 47170075, "link": "https://stackoverflow.com/questions/47170075/kotlin-ontouchlistener-called-but-it-does-not-override-performclick/49593119#49593119", "title": "Kotlin OnTouchListener called but it does not override performClick", "body": "<p>I'm not sure this is the same issue you saw, but since I found this page searching for my issue, I thought I'd add my experience to help others :)</p>\n<p>In my case the warning was being generated because the nullable view could have been of type <code>Void</code>. Calling the following:</p>\n<pre><code>nullableView?.setOnTouchListener(this)\n</code></pre>\n<p>produced the error:</p>\n<blockquote>\n<p>Custom view Void has setOnTouchListener called on it but does not override performClick</p>\n</blockquote>\n<p>Performing a null check and casting to a <code>View</code> before setting the listener solved for me in this case, since <code>View</code> will override <code>performClick</code>:</p>\n<pre><code>if (nullableView != null) (nullableView as View).setOnTouchListener(this)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 1, "creation_date": 1614005609, "post_id": 50468715, "comment_id": 117244536, "body": "Makes no difference."}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "reply_to_user": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1614009222, "post_id": 50468715, "comment_id": 117246366, "body": "It should works . make sure you have proper parent which does not override the OnTouchListener"}, {"owner": {"reputation": 380, "user_id": 11319773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bZ4_ENIpF3Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd0woEiR5ylqC2yg2aF6GwuiJvkKw/mo/photo.jpg?sz=128", "display_name": "Axes Grinds", "link": "https://stackoverflow.com/users/11319773/axes-grinds"}, "edited": false, "score": 0, "creation_date": 1615772519, "post_id": 50468715, "comment_id": 117787237, "body": "How did this get so many upvotes? It doesn&#39;t make any difference."}], "tags": [], "owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "is_accepted": false, "score": 36, "last_activity_date": 1526994971, "creation_date": 1526994971, "answer_id": 50468715, "question_id": 47170075, "link": "https://stackoverflow.com/questions/47170075/kotlin-ontouchlistener-called-but-it-does-not-override-performclick/50468715#50468715", "title": "Kotlin OnTouchListener called but it does not override performClick", "body": "<p>Try this way :</p>\n\n<pre><code> next.setOnTouchListener(object : View.OnTouchListener {\n        override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n            when (event?.action) {\n                MotionEvent.ACTION_DOWN -&gt; //Do Something\n            }\n\n            return v?.onTouchEvent(event) ?: true\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 690, "user_id": 5584127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ahA1f.jpg?s=128&g=1", "display_name": "lambda", "link": "https://stackoverflow.com/users/5584127/lambda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54220, "favorite_count": 4, "accepted_answer_id": 47170922, "answer_count": 4, "score": 27, "last_activity_date": 1600985574, "creation_date": 1510104233, "last_edit_date": 1554175083, "question_id": 47170075, "link": "https://stackoverflow.com/questions/47170075/kotlin-ontouchlistener-called-but-it-does-not-override-performclick", "title": "Kotlin OnTouchListener called but it does not override performClick", "body": "<p>How to override <code>performClick</code> in <strong>Kotlin</strong> to avoid warning?</p>\n\n<pre><code>next.setOnTouchListener(View.OnTouchListener { view, motionEvent -&gt;\n        when (motionEvent.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                val icon: Drawable = ContextCompat.getDrawable(activity.applicationContext, R.drawable.layer_bt_next)\n                icon.setColorFilter(Color.GRAY, PorterDuff.Mode.MULTIPLY)\n                next.setImageDrawable(icon)\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                //view.performClick()\n                next.setImageResource(R.drawable.layer_bt_next)\n            }\n        }\n        return@OnTouchListener true\n    })\n</code></pre>\n\n<p><code>view.performClick</code> does not work.</p>\n"}, {"tags": ["android", "listview", "kotlin", "rx-java", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 1477303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1361244318/picture?type=large", "display_name": "Jerfeson Guerreiro", "link": "https://stackoverflow.com/users/1477303/jerfeson-guerreiro"}, "edited": false, "score": 0, "creation_date": 1510102981, "post_id": 47169811, "comment_id": 81289556, "body": "I will try this;"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1510102247, "creation_date": 1510102247, "answer_id": 47169811, "question_id": 47169772, "link": "https://stackoverflow.com/questions/47169772/how-to-fill-a-listview-using-kotlin-retrofit-and-rxjava/47169811#47169811", "title": "How to fill a listview using Kotlin, retrofit and RXjava", "body": "<p>Your Object is this</p>\n\n<pre><code>{\"0\":\n     {\"id\":1,\"nome\":\"teste\"}\n</code></pre>\n\n<p>Gson expected to parse only this piece as one Object </p>\n\n<pre><code>{\"id\":1,\"nome\":\"teste\"}\n</code></pre>\n\n<p>Since it could not, it has returned null.</p>\n\n<p>If possible, you need to fix the server code to return you a list of objects, not an \"indexed map\" </p>\n\n<p>The server response should be </p>\n\n<pre><code>[\n   {\"id\":1,\"nome\":\"teste\"},\n   {\"id\":2,\"nome\":\"teste 2\"}\n]\n</code></pre>\n\n<p>After you fix the server to return that, Retrofit needs to be updated with this </p>\n\n<pre><code>Observable&lt;List&lt;Instituicao&gt;&gt;\n</code></pre>\n\n<p>And if that's not possible, you'll need to research about making custom parsers for Gson and register them in Retrofit </p>\n\n<p>(... or parse your JSON manually) </p>\n"}], "owner": {"reputation": 715, "user_id": 1477303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1361244318/picture?type=large", "display_name": "Jerfeson Guerreiro", "link": "https://stackoverflow.com/users/1477303/jerfeson-guerreiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 47169811, "answer_count": 1, "score": -1, "last_activity_date": 1510102247, "creation_date": 1510101877, "question_id": 47169772, "link": "https://stackoverflow.com/questions/47169772/how-to-fill-a-listview-using-kotlin-retrofit-and-rxjava", "title": "How to fill a listview using Kotlin, retrofit and RXjava", "body": "<p>My integration with the service is ready, I can see my array in the requisition log, but I can not fill the listview.</p>\n\n<p>I honestly already tried everything I know, I'm new with kotlin the language makes me a little confused. Someone could identify where the error might be, which I'm doing wrong.</p>\n\n<p>json/request:</p>\n\n<pre><code>{\"0\":{\"id\":1,\"nome\":\"teste\"},\"1\":{\"id\":2,\"nome\":\"teste 2\"}}\n</code></pre>\n\n<p>apiClient.kt</p>\n\n<pre><code> val service : ApiInterface\n    val URL = \"json\"\n\n    init {\n\n        val logging = HttpLoggingInterceptor()\n        logging.level = HttpLoggingInterceptor.Level.BODY\n\n        val httpClient = OkHttpClient.Builder()\n        httpClient.addInterceptor(logging)\n\n        val gson = GsonBuilder().setLenient().create()\n\n        val retrofit = Retrofit.Builder()\n                .baseUrl(URL)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .client(httpClient.build())\n                .build()\n\n        service = retrofit.create&lt;ApiInterface&gt;(ApiInterface::class.java)\n    }\n</code></pre>\n\n<p>ApiInterface.kt</p>\n\n<pre><code> @Headers(\"Accept: application/json\")\n @GET(\"/request\")\n fun getInstituicoes(): Observable&lt;Instituicao&gt;\n</code></pre>\n\n<p>Instituicao.kt (entity)</p>\n\n<pre><code> data class Instituicao(val id: Int, val nome: String)\n</code></pre>\n\n<p>InstituicaoActivity::listview </p>\n\n<pre><code>   listView = ListView(this)\n        setContentView(listView)\n        instituicao = ArrayAdapter(this, android.R.layout.simple_list_item_1, instituicoes)\n        listView?.adapter = instituicao\n\n        var api = ApiClient()\n        api.service.getInstituicoes()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({\n                    instituicao -&gt; instituicoes.add(\"${instituicao.id} - ${instituicao.nome}\")\n                }, {\n                    e -&gt; e.printStackTrace()\n                }, {\n                    instituicao?.notifyDataSetChanged()\n                })\n\n    }\n</code></pre>\n\n<p>result :(</p>\n\n<pre><code>0-null\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-dokka"], "comments": [{"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1510111030, "post_id": 47167919, "comment_id": 81291610, "body": "have you added dependencies {         classpath &quot;org.jetbrains.dokka:dokka-gradle-plugin:${dokka_version}&quot;     } and make sure gradle isn&#39;t in offline mode"}, {"owner": {"reputation": 219, "user_id": 4138537, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/siUyd.png?s=128&g=1", "display_name": "Melchior ", "link": "https://stackoverflow.com/users/4138537/melchior"}, "reply_to_user": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 1, "creation_date": 1510133981, "post_id": 47167919, "comment_id": 81301443, "body": "Yes add the dependencies but I&#39;m getting the following error:  Error:(13, 0) Could not get unknown property &#39;dokka_version&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler."}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1565108839, "post_id": 47167919, "comment_id": 101245213, "body": "@Melchior did you ever figure out the problem? The solutions below is nothing but the instructions that you (and I) already followed. There is another step missing. What is that?"}], "answers": [{"tags": [], "owner": {"reputation": 763, "user_id": 1072135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94e7e92c3235d77997ddf6136f3a37b0?s=128&d=identicon&r=PG", "display_name": "colbadhombre", "link": "https://stackoverflow.com/users/1072135/colbadhombre"}, "is_accepted": false, "score": 0, "last_activity_date": 1514754560, "creation_date": 1514754560, "answer_id": 48045665, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3/48045665#48045665", "title": "Dokka plugin not found in Android studio 3", "body": "<p>When running Dokka on Android code, you need to use the versions of the plugin specific to Android, instead of the stand-alone Gradle forms:</p>\n\n<blockquote>\n  <p>apply plugin: 'org.jetbrains.dokka-android'</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>classpath \"org.jetbrains.dokka:dokka-android-gradle-plugin:${versions.dokka}\"</p>\n</blockquote>\n\n<p>as pointed out in the Android section of the Dokka GitHub page.</p>\n"}, {"tags": [], "owner": {"reputation": 6347, "user_id": 1347507, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2e8616bfd95c514a8c29bff67b9dc17?s=128&d=identicon&r=PG", "display_name": "mike.tihonchik", "link": "https://stackoverflow.com/users/1347507/mike-tihonchik"}, "is_accepted": false, "score": 3, "last_activity_date": 1532113884, "creation_date": 1532113884, "answer_id": 51448995, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3/51448995#51448995", "title": "Dokka plugin not found in Android studio 3", "body": "<p>So, when I ran into the issue, example I was reading, did not specify exactly where to put <code>dokka</code> dependencies. Once I figured those out, the project compiled and build:</p>\n\n<p><strong>build.gradle (Project level file):</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.51'\n    ext.kotlin_version = '1.2.30'\n    ext.dokka_version = '0.9.17'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.dokka:dokka-android-gradle-plugin:$dokka_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle (Module level file):</strong></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'org.jetbrains.dokka-android'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n...\n\n    dokka {\n        outputFormat = 'javadoc'\n        outputDirectory = \"$buildDir/javadoc\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1754, "user_id": 7096016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ur81C.jpg?s=128&g=1", "display_name": "Alexander Savin", "link": "https://stackoverflow.com/users/7096016/alexander-savin"}, "is_accepted": false, "score": -1, "last_activity_date": 1533463139, "creation_date": 1533463139, "answer_id": 51693292, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3/51693292#51693292", "title": "Dokka plugin not found in Android studio 3", "body": "<p>You can generate Dokka documentatiton without Dokka plugin... Use <a href=\"https://github.com/Vorlonsoft/EasyDokkaPlugin\" rel=\"nofollow noreferrer\">EasyDokkaPlugin</a></p>\n\n<p>Add the following at the end of <code>build.gradle</code> of each sub-module that you wish to generate documentation:</p>\n\n<pre><code>apply from: 'https://raw.github.com/Vorlonsoft/EasyDokkaPlugin/master/dokka.gradle'\n</code></pre>\n\n<p>You can now generate documentation by Dokka documentation engine in Javadoc format:</p>\n\n<pre><code>$ gradle dokkaJavadocsJar\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4625816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mW40x.jpg?s=128&g=1", "display_name": "xuming liu", "link": "https://stackoverflow.com/users/4625816/xuming-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1562903074, "creation_date": 1562903074, "answer_id": 56999940, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3/56999940#56999940", "title": "Dokka plugin not found in Android studio 3", "body": "<p>when running android <code>apply plugin: 'org.jetbrains.dokka-android'</code><br>\n result is Plugin with id 'org.jetbrains.dokka-android' not found. </p>\n\n<p>so change to <code>org.jetbrains.dokka</code> is working  </p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 12343500, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wLbZpROHqX4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rex_0nPJOYiobsXiHWnvMlbHMsZCA/photo.jpg?sz=128", "display_name": "mitch", "link": "https://stackoverflow.com/users/12343500/mitch"}, "is_accepted": false, "score": 3, "last_activity_date": 1612836864, "last_edit_date": 1612836864, "creation_date": 1575547554, "answer_id": 59194793, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3/59194793#59194793", "title": "Dokka plugin not found in Android studio 3", "body": "<h1>Using Dokka with Kotlin in Android Studio for the first time</h1>\n<p>#1. Settings</p>\n<p>##1.1 Settings in build.gradle(Project)</p>\n<pre><code>buildscript {\n    ext {\n        version_dokka = &quot;0.10.0&quot;\n        version_gradle = &quot;3.5.2&quot;\n        version_kotlin = &quot;1.3.41&quot;\n        ...\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:$version_gradle&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$version_kotlin&quot;\n        classpath &quot;org.jetbrains.dokka:dokka-gradle-plugin:${version_dokka}&quot;\n        ...\n    }\n}\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>##1.2 Settings in build.gradle(Module:app)</p>\n<pre><code>android {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.2&quot;\n    ...\n    // Dokka used for auto-generation documentation\n    dokka {\n        outputFormat = 'html'\n        //outputDirectory = &quot;$buildDir/dokka&quot;\n\n        configuration {\n            // Do not output deprecated members\n            skipDeprecated = true\n\n            // Emit warnings about not documented members.\n            reportUndocumented = true\n\n            // Do not create index pages for empty packages\n            skipEmptyPackages = true\n        }\n    }\n}\n\n// workaround: create DocsByDokka\ntask DocsByDokka (type: org.jetbrains.dokka.gradle.DokkaTask) {\n    outputFormat = &quot;html&quot;\n    outputDirectory = &quot;$buildDir/dokka&quot;\n}\n</code></pre>\n<p><strong>Don't forget to sync</strong></p>\n<p>#2. Building the docs</p>\n<p>##2.1 Your code should contain comments.\nTake a look at the following link, in order to get more details:\n<a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/kotlin-doc.html</a></p>\n<p>##2.2 Go to the Gradle-Window in Android Studio\nI have to click on &quot;Gradle&quot; at the right top corner in Android Studio 3\nAfter clicking on &quot;Gradle&quot; a window opens.\n--&gt; MyProject --&gt; app --&gt; Tasks --&gt; DocsByDokka</p>\n<p><a href=\"https://i.stack.imgur.com/eAPAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAPAU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/N1xH3.png\" rel=\"nofollow noreferrer\">Gradle-Window in Android Studio</a></p>\n<p>##2.3 Generate Docs\nDouble Click on DocsByDokka in the Gradle-Window.</p>\n<p>#3. Find the docs\n##3.1 Go to your Project-Folder\nSelect the Project and not the Android view. I find this by default at the left corner of Android Studio.\n--&gt; MyProject --&gt; app --&gt; build --&gt; dokka --&gt; app\nThere you are going to find <code>index.html</code>. Right-click and select &quot;Open in Browser&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/MxV3N.png\" rel=\"nofollow noreferrer\">index.html in project view</a></p>\n"}], "owner": {"reputation": 219, "user_id": 4138537, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/siUyd.png?s=128&g=1", "display_name": "Melchior ", "link": "https://stackoverflow.com/users/4138537/melchior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2932, "favorite_count": 0, "answer_count": 5, "score": 7, "last_activity_date": 1612836864, "creation_date": 1510090955, "last_edit_date": 1510102089, "question_id": 47167919, "link": "https://stackoverflow.com/questions/47167919/dokka-plugin-not-found-in-android-studio-3", "title": "Dokka plugin not found in Android studio 3", "body": "<p>I'm trying to use the dokka plugin in my Kotlin project, but I'm getting the following message: </p>\n\n<blockquote>\n  <p>Error:(7, 0) Plugin with id 'org.jetbrains.dokka' not found.</p>\n</blockquote>\n\n<p>I'm using Android Studio version 3.0.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["libgdx", "kotlin"], "comments": [{"owner": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 0, "creation_date": 1510094658, "post_id": 47166762, "comment_id": 81287253, "body": "Your question is very weird and unclear: &quot;How do then repeat that single texture which is actually just a position on the main texture?&quot;. That just doesn&#39;t make sense. Please carefully read <a href=\"https://stackoverflow.com/help/how-to-ask/\">stackoverflow.com/help/how-to-ask</a> and update your question accordingly."}, {"owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "reply_to_user": {"reputation": 7708, "user_id": 2512687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vl8dl.png?s=128&g=1", "display_name": "Xoppa", "link": "https://stackoverflow.com/users/2512687/xoppa"}, "edited": false, "score": 0, "creation_date": 1510094710, "post_id": 47166762, "comment_id": 81287273, "body": "Understood I will try and improve it"}, {"owner": {"reputation": 402, "user_id": 3177465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6edd8903d92100b65f9a81ef1bddc751?s=128&d=identicon&r=PG", "display_name": "yigiter", "link": "https://stackoverflow.com/users/3177465/yigiter"}, "edited": false, "score": 0, "creation_date": 1510135914, "post_id": 47166762, "comment_id": 81302779, "body": "See if this helps: <a href=\"https://stackoverflow.com/a/16618766/3177465\">stackoverflow.com/a/16618766/3177465</a>"}], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510094870, "creation_date": 1510086129, "last_edit_date": 1510094870, "question_id": 47166762, "link": "https://stackoverflow.com/questions/47166762/repeating-a-texture-in-a-texture-region", "title": "Repeating a texture in a Texture Region", "body": "<p>I have a single texture map that contains 64 different textures (think Minecraft) which gets split up using the Texture Region function.  </p>\n\n<p>How do repeat a texture that uses the Texture Region function?  I cant multiply the texture size (so * 3 would repeat it 3 times) because it will just pick up the next textures in the texture map (so 9 in total).</p>\n\n<pre><code>texture.setWrap(Texture.TextureWrap.Repeat, Texture.TextureWrap.Repeat);\nMeshBuilder.regions = TextureRegion.split(texture, 64, 64)\n\nvar cube: Model\ncubes = Array()\nfor (x in 0..7) {\n   for (y in 0..7) {\n\n         modelBuilder.begin()\n         val mpb = modelBuilder.part(\"box\", GL20.GL_TRIANGLES, (VertexAttributes.Usage.Position or VertexAttributes.Usage.Normal or VertexAttributes.Usage.TextureCoordinates).toLong(), Material(ColorAttribute.createDiffuse(Color.BLUE)))\n         mpb.setUVRange(MeshBuilder.regions[x][y])\n         mpb.box(1.0f, 1.0f, 1.0f)\n         cube = modelBuilder.end()\n         cube.meshes.get(0).scale(Constants.cubeSize, Constants.cubeSize, Constants.cubeSize)\n         cubes.add(cube)\n      }\n   }\n</code></pre>\n"}, {"tags": ["android", "annotations", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 891, "user_id": 6674369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-KutjM-8rSy8/AAAAAAAAAAI/AAAAAAAAAFE/LY4tfl7x0fc/photo.jpg?sz=128", "display_name": "Andriy Antonov", "link": "https://stackoverflow.com/users/6674369/andriy-antonov"}, "edited": false, "score": 0, "creation_date": 1510130924, "post_id": 47170520, "comment_id": 81299397, "body": "not implemented feature that right now looks like a bug :) but still thanks for answering! will be waiting for updates!"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 891, "user_id": 6674369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-KutjM-8rSy8/AAAAAAAAAAI/AAAAAAAAAFE/LY4tfl7x0fc/photo.jpg?sz=128", "display_name": "Andriy Antonov", "link": "https://stackoverflow.com/users/6674369/andriy-antonov"}, "edited": false, "score": 0, "creation_date": 1510131508, "post_id": 47170520, "comment_id": 81299760, "body": "@AndriyAntonov Technically, this is not a bug because it is just a lint checking at compile time. It depends on the IDE to support it."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 2, "last_activity_date": 1510107556, "creation_date": 1510107556, "answer_id": 47170520, "question_id": 47166722, "link": "https://stackoverflow.com/questions/47166722/bug-in-kotlin-annotation/47170520#47170520", "title": "bug in kotlin annotation?", "body": "<p>This is not a bug. This is a feature that is not yet implement in Kotlin. It is planned in the future.</p>\n"}], "owner": {"reputation": 891, "user_id": 6674369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-KutjM-8rSy8/AAAAAAAAAAI/AAAAAAAAAFE/LY4tfl7x0fc/photo.jpg?sz=128", "display_name": "Andriy Antonov", "link": "https://stackoverflow.com/users/6674369/andriy-antonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 47170520, "answer_count": 1, "score": 1, "last_activity_date": 1510107556, "creation_date": 1510085949, "question_id": 47166722, "link": "https://stackoverflow.com/questions/47166722/bug-in-kotlin-annotation", "title": "bug in kotlin annotation?", "body": "<p>here are two code examples</p>\n\n<p>java:</p>\n\n<pre><code>public class Q {\n\n    @Retention(RetentionPolicy.SOURCE)\n    @IntDef({LOL.one, LOL.two})\n    @interface Lol{}\n\n    public final class LOL{\n        public final static int one = 1;\n        public final static int two = 2;\n    }\n\n    public Q(){\n        q(1);\n    }\n\n    void q (@Lol int q){\n\n    }\n}\n</code></pre>\n\n<p>kotlin:</p>\n\n<pre><code>class Q {\n\n    @Retention(AnnotationRetention.SOURCE)\n    @IntDef(LOL.one, LOL.two)\n    internal annotation class Lol\n\n    object LOL {\n        const val one = 1L\n        const val two = 2L\n    }\n\n    init {\n        q(1)\n    }\n\n    internal fun q(@Lol q: Int) {\n\n    }\n}\n</code></pre>\n\n<p>probleb here: in java calling this <strong>q(1);</strong> will show you an error like :\"must be one of...\"</p>\n\n<p>but in kotlin there are no any error message, so we can put as parameter any long we want... so we lose advantages of annotation as parameter...</p>\n\n<p>looks like a bug or I am dooing something wrong?</p>\n"}, {"tags": ["gradle", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1510084170, "post_id": 47166073, "comment_id": 81282330, "body": "This isn&#39;t a questions..."}, {"owner": {"reputation": 1211, "user_id": 4097495, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-TXN7zotlwZ4/AAAAAAAAAAI/AAAAAAAAADw/cqzqoh4DrAc/photo.jpg?sz=128", "display_name": "Mahdi Azadbar", "link": "https://stackoverflow.com/users/4097495/mahdi-azadbar"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1510085573, "post_id": 47166073, "comment_id": 81283102, "body": "i add some detail. i hope help you"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1510086039, "post_id": 47166073, "comment_id": 81283360, "body": "Unrelated: That&#39;s not how you create fragments. Just call the constructor <code>CategoryFragment()</code> instead of <code>instantiate</code>."}], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 55, "last_activity_date": 1510086383, "creation_date": 1510086383, "answer_id": 47166834, "question_id": 47166073, "link": "https://stackoverflow.com/questions/47166073/error-cannot-find-symbol-class-for-add-kotlin-class-into-java-class-in-android/47166834#47166834", "title": "error: cannot find symbol class for add kotlin class into java class in android studio 3.0 stable", "body": "<p>To work with Kotlin files you need to add Kotlin to your project.</p>\n\n<h3>project/build.gradle</h3>\n\n<pre><code>buildscript {\n    ext.kotlinVersion = '1.1.51'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n    }\n}\n</code></pre>\n\n<h3>project/module/build.gradle</h3>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\"\n}\n</code></pre>\n\n<h3>What's next</h3>\n\n<p>Since you're using support library 25.3.1 and Android plugin 3.0.0 your next question will probably be this: <a href=\"https://stackoverflow.com/questions/47033594\">style attribute '@android:attr/windowEnterAnimation' not found</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3130, "user_id": 1352919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N4fsQ.jpg?s=128&g=1", "display_name": "Faakhir", "link": "https://stackoverflow.com/users/1352919/faakhir"}, "is_accepted": false, "score": 1, "last_activity_date": 1567936851, "creation_date": 1567936851, "answer_id": 57840921, "question_id": 47166073, "link": "https://stackoverflow.com/questions/47166073/error-cannot-find-symbol-class-for-add-kotlin-class-into-java-class-in-android/57840921#57840921", "title": "error: cannot find symbol class for add kotlin class into java class in android studio 3.0 stable", "body": "<p>I have added all kotlin classes in separate folder and it work for me!\nKeep your java classes separate from kotlin. I was having</p>\n\n<pre><code>app:compileDebugJavaWithJavac Kotlin class calling from java:  error: cannot find symbol \n</code></pre>\n\n<p>compile time error. </p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1991683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26360420a64ee429c711e6f26d8ee12a?s=128&d=identicon&r=PG", "display_name": "bboyairwreck", "link": "https://stackoverflow.com/users/1991683/bboyairwreck"}, "is_accepted": false, "score": 0, "last_activity_date": 1615225022, "creation_date": 1615225022, "answer_id": 66534526, "question_id": 47166073, "link": "https://stackoverflow.com/questions/47166073/error-cannot-find-symbol-class-for-add-kotlin-class-into-java-class-in-android/66534526#66534526", "title": "error: cannot find symbol class for add kotlin class into java class in android studio 3.0 stable", "body": "<p>My issue was that I have imported a submodule using\n<code>testImplementation</code> instead of <code>implementation</code> inside of module gradle file that is declaring your module as a dependency.</p>\n<p>Changing the dependency declaration fixed it for me.</p>\n"}], "owner": {"reputation": 1211, "user_id": 4097495, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-TXN7zotlwZ4/AAAAAAAAAAI/AAAAAAAAADw/cqzqoh4DrAc/photo.jpg?sz=128", "display_name": "Mahdi Azadbar", "link": "https://stackoverflow.com/users/4097495/mahdi-azadbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13752, "favorite_count": 0, "accepted_answer_id": 47166834, "answer_count": 3, "score": 20, "last_activity_date": 1615225022, "creation_date": 1510083190, "last_edit_date": 1564936089, "question_id": 47166073, "link": "https://stackoverflow.com/questions/47166073/error-cannot-find-symbol-class-for-add-kotlin-class-into-java-class-in-android", "title": "error: cannot find symbol class for add kotlin class into java class in android studio 3.0 stable", "body": "<p>i use android studio 3.0 and some old java class Convert Java to Kotlin. after that Kotlin class cant import in java class! \nin below you can see my gradle and a picture of my error. </p>\n\n<p>module build.grade </p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath 'com.google.gms:google-services:3.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>in app level build.gradle in normally i use gradle code and in android 3.0 i think we need any thing</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '26.0.2'\n    defaultConfig {\n        applicationId \"com.idehnavazan.beautifierclient\"\n        minSdkVersion 14\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n\n}\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url 'https://maven.google.com' }\n    maven { url 'https://jitpack.io' }\n\n\n}\ndependencies {\n    compile 'com.android.support:multidex:1.0.1'  \n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.github.rey5137:material:1.2.2'\n    compile 'com.android.support:cardview-v7:25.3.1'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O4Ymn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/O4Ymn.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "sql", "postgresql", "kotlin"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 1, "creation_date": 1510081817, "post_id": 47165673, "comment_id": 81281129, "body": "I&#39;d imagine you will get more help if you post come code samples of what you tried that is not working."}], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 0, "last_activity_date": 1510082698, "creation_date": 1510082698, "answer_id": 47165941, "question_id": 47165673, "link": "https://stackoverflow.com/questions/47165673/cant-run-where-in-query-in-kotlin/47165941#47165941", "title": "Can&#39;t run &quot;Where In&quot; query in Kotlin", "body": "<p>You can create an extension function to convert a list to string (1,2,3)</p>\n\n<pre><code>fun List&lt;Int&gt;.toParenthesis() = this.joinToString(separator = \",\", prefix = \"(\", postfix = \")\")\n</code></pre>\n\n<p>usage: </p>\n\n<pre><code>\"select * from users where user_id in ${listOf(1,2,3).toParenthesis()}\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 188291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e74cfcc8ac58504f8e47fad5251690?s=128&d=identicon&r=PG", "display_name": "tweitzel", "link": "https://stackoverflow.com/users/188291/tweitzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1510087564, "last_edit_date": 1510087564, "creation_date": 1510086709, "answer_id": 47166919, "question_id": 47165673, "link": "https://stackoverflow.com/questions/47165673/cant-run-where-in-query-in-kotlin/47166919#47166919", "title": "Can&#39;t run &quot;Where In&quot; query in Kotlin", "body": "<p>If possible, it's preferred to work with prepared statements instead of dynamically generated SQL strings. The expression <code>con.createArrayOf(\"INTEGER\", array)</code> should work in PostgreSQL:</p>\n\n<pre><code>val array = arrayOf(1, 2, 3)\n\n/*\n * Or:\n * val data = listOf(1, 2, 3)\n * val array = data.toTypedArray()\n */\n\nval con = getConnection()\nval stmt = con.prepareStatement(\"select * from users where user_id in ?\")\nstmt.setArray(1, con.createArrayOf(\"INTEGER\", array))\n\nval rs = stmt.executeQuery()\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 8902174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKasyi-gmB4/AAAAAAAAAAI/AAAAAAAAACA/Kk4RoM_LBEg/photo.jpg?sz=128", "display_name": "Tal Shani", "link": "https://stackoverflow.com/users/8902174/tal-shani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1510087564, "creation_date": 1510081665, "question_id": 47165673, "link": "https://stackoverflow.com/questions/47165673/cant-run-where-in-query-in-kotlin", "title": "Can&#39;t run &quot;Where In&quot; query in Kotlin", "body": "<p>I'm trying to make this kind of query (I'm working with postgres)to work:</p>\n\n<pre><code> select * from users where user_id in [1,2,3]\n</code></pre>\n\n<p>the only problem is that the query can't work with this kind [1,2,3] of list\nits working only with this kind (1,2,3).</p>\n\n<p>I tried to convert the list [1,2,3] to the list (1,2,3)\nbut in Kotlin it didn't let me do it..</p>\n\n<p>I would love for some help.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1510082430, "post_id": 47165405, "comment_id": 81281451, "body": "Store those string array in JSON format. It will be more easy to parse and lightweight."}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1510098617, "post_id": 47165405, "comment_id": 81288471, "body": "Do the values have to be stored as resources?"}, {"owner": {"reputation": 121, "user_id": 526336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d976483fd9b4b82b78c3a1bc27e2ee2d?s=128&d=identicon&r=PG", "display_name": "S Pimenta", "link": "https://stackoverflow.com/users/526336/s-pimenta"}, "edited": false, "score": 0, "creation_date": 1511290029, "post_id": 47165405, "comment_id": 81795097, "body": "Tried several times but JSON is way too much complicated to implement... Just used a when case to an array."}], "answers": [{"tags": [], "owner": {"reputation": 758, "user_id": 3300893, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100002357784466/picture?type=large", "display_name": "myatmins", "link": "https://stackoverflow.com/users/3300893/myatmins"}, "is_accepted": false, "score": 0, "last_activity_date": 1510081536, "creation_date": 1510081536, "answer_id": 47165646, "question_id": 47165405, "link": "https://stackoverflow.com/questions/47165405/how-to-find-variable-name-from-string-array-on-strings-xml/47165646#47165646", "title": "How to find variable name from string-array on strings.xml", "body": "<p>String array resources are constants. You can't call R.array.somevariable. You should use <a href=\"https://developer.android.com/training/basics/network-ops/xml.html\" rel=\"nofollow noreferrer\">XML parser</a> instead.</p>\n"}], "owner": {"reputation": 121, "user_id": 526336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d976483fd9b4b82b78c3a1bc27e2ee2d?s=128&d=identicon&r=PG", "display_name": "S Pimenta", "link": "https://stackoverflow.com/users/526336/s-pimenta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510081536, "creation_date": 1510080624, "question_id": 47165405, "link": "https://stackoverflow.com/questions/47165405/how-to-find-variable-name-from-string-array-on-strings-xml", "title": "How to find variable name from string-array on strings.xml", "body": "<p>Maybe this is a bit complicated but I have an Kotlin Android Studio app that says the year and the month the car was registered based on the Letters of the 2 letters of the license plate.</p>\n\n<p>The letters goes AA to ZZ (example: AA, AB, AC ... AZ, BA, BB ... ZX ZZ)</p>\n\n<p>and I have in the file strings.xml the values stored</p>\n\n<p>Example:</p>\n\n<pre><code> &lt;string-array name='AP'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;9&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name='AQ'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;9&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name='AR'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;10&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name='AS'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;10&lt;/item&gt;\n    &lt;/string-array&gt;\n    &lt;string-array name='AT'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;10&lt;/item&gt;\n   &lt;/string-array&gt;\n    &lt;string-array name='AU'&gt;\n        &lt;item&gt;2005&lt;/item&gt;\n        &lt;item&gt;11&lt;/item&gt;\n    &lt;/string-array&gt;\n</code></pre>\n\n<p>Then, based in the user input on EditText checks the letters and finds on the Strings.xml</p>\n\n<p>The problem is if I do </p>\n\n<pre><code>when (x) {\n    \"AA\" -&gt; print(\"x == 1\")\n    \"AB\" -&gt; print(\"x == 2\")\n    .....\n}\n</code></pre>\n\n<p>will result in 529 lines of code just to check the the letters on the license plate...</p>\n\n<p>My question is if there is an better and tidier way of doing this, like this:</p>\n\n<pre><code> val stringArray = resources.getStringArray(R.array.\"EditText.getText()\")\n</code></pre>\n\n<p>Sounds complicated... and I'm an beginner in Kotlin</p>\n"}, {"tags": ["java", "intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1510080591, "post_id": 47165154, "comment_id": 81280407, "body": "Please see <a href=\"http://stackoverflow.com/a/42518961/104891\">stackoverflow.com/a/42518961/104891</a>."}, {"owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1510081300, "post_id": 47165154, "comment_id": 81280841, "body": "I am not sure I follow, I am using the gradle build file - I am just using gradle clean idea to clear the project down, and then I am trying to build, and I am getting this error..."}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1510081344, "post_id": 47165154, "comment_id": 81280869, "body": "File a bug at <a href=\"https://youtrack.jetbrains.com/issues/KOTLIN\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KOTLIN</a> with <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> attached."}, {"owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 1, "creation_date": 1510081552, "post_id": 47165154, "comment_id": 81280994, "body": "It probably isn&#39;t a bug in Kotlin - this is probably my own problem"}], "owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510080121, "creation_date": 1510079748, "last_edit_date": 1510080121, "question_id": 47165154, "link": "https://stackoverflow.com/questions/47165154/unresolved-reference-in-regards-to-a-gradle-dependency", "title": "Unresolved reference in regards to a gradle dependency?", "body": "<p>I have the following maven repo listen in my gradle build file,</p>\n\n<pre><code>maven {\n    url 'https://nexus.company.com/repository/maven-company-releases'\n\n    // Omitting the credentials block for brevity.\n}\n</code></pre>\n\n<p>and, in my dependencies I have the following. </p>\n\n<pre><code>compile \"com.company:dependency:0.0.1\"\n</code></pre>\n\n<p>Now, when I do</p>\n\n<pre><code>gradle clean idea\n</code></pre>\n\n<p>it seems to work, and doesn't seem to complain about not being able to find the dependency or anything - so I assume it gets it from nexus.</p>\n\n<p>Anyways, when I try to build - I get the following error.</p>\n\n<pre><code>Kotlin: Unresolved reference: dependency\n</code></pre>\n\n<p>Adding a tag for intelliJ - in case this is some silly syncing issue... in case anyone is wondering...</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1510077553, "post_id": 47164508, "comment_id": 81278680, "body": "You may want to quote or summarize the relevant part in the off chance that link breaks."}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1510077593, "post_id": 47164508, "comment_id": 81278705, "body": "@RuckusT-Boom I don&#39;t know how to do that, I saw other users done it"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1510077716, "post_id": 47164508, "comment_id": 81278771, "body": "Just copy/paste (maybe rewrite) the relevant part of the page you refer to in your answer."}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1510077757, "post_id": 47164508, "comment_id": 81278792, "body": "@RuckusT-Boom thanks! I found it! I edited the answer with the correct link"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": false, "score": 2, "last_activity_date": 1510077661, "last_edit_date": 1510077661, "creation_date": 1510077464, "answer_id": 47164508, "question_id": 47164320, "link": "https://stackoverflow.com/questions/47164320/carat-syntax-in-kotlin-interfaces/47164508#47164508", "title": "Carat Syntax in Kotlin Interfaces", "body": "<p>You can use the kotlin constraints, specifically Upper bounds:</p>\n\n<pre><code>interface Book&lt;T : Page&gt; {\n    fun write(page: T)\n    fun read(title: String) : T\n}\n</code></pre>\n\n<p>docs <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "edited": false, "score": 1, "creation_date": 1510077992, "post_id": 47164630, "comment_id": 81278941, "body": "Thanks, that&#39;s exactly what I was trying to do. Just couldn&#39;t pinpoint in the docs.   Generic Constraints! Whodathunkit!  Thanks again!"}], "tags": [], "owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "is_accepted": true, "score": 4, "last_activity_date": 1510077819, "creation_date": 1510077819, "answer_id": 47164630, "question_id": 47164320, "link": "https://stackoverflow.com/questions/47164320/carat-syntax-in-kotlin-interfaces/47164630#47164630", "title": "Carat Syntax in Kotlin Interfaces", "body": "<blockquote>\n  <p>Am I misunderstanding how generics work here?</p>\n</blockquote>\n\n<p>Yes, a little.</p>\n\n<pre><code>interface Book&lt;Page&gt; {\n    fun write(page: Page)\n    fun read(title: String) : Page\n}\n</code></pre>\n\n<p>What you've essentially declared here is this:</p>\n\n<pre><code>interface Book&lt;Foo&gt; {\n    fun write(page: Foo)\n    fun read(title: String) : Foo\n}\n</code></pre>\n\n<p><code>Page</code> was just an identifier, representing any old type. You could make a <code>Book&lt;String&gt;</code>, a <code>Book&lt;HttpClient&gt;</code> or a <code>Book&lt;ArrayList&lt;String&gt;&gt;</code>. Ordinarily, rather than <code>Foo</code> or <code>Page</code>, the identifier <code>T</code> is used, standing for 'type'.</p>\n\n<p>The fact that the identifier matches a type you've created yourself is only incidental. </p>\n\n<p>What I suppose you were trying to declare was that a book is a collection of pages, or <em>anything more specialised</em> than a page. This is called a <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">'generic constraint'</a>, and you would express that like so:</p>\n\n<pre><code>interface Book&lt;T : Page&gt; {\n    fun write(page: T)\n    fun read(title: String) : T\n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 47164630, "answer_count": 2, "score": 4, "last_activity_date": 1510077819, "creation_date": 1510076815, "question_id": 47164320, "link": "https://stackoverflow.com/questions/47164320/carat-syntax-in-kotlin-interfaces", "title": "Carat Syntax in Kotlin Interfaces", "body": "<p>May help to explain this just a bit.</p>\n\n<p>Say I have an abstract class called Page that looks like so:</p>\n\n<pre><code>abstract class Page {\n    abstract fun title() : String\n}\n</code></pre>\n\n<p>And an interface called Book:</p>\n\n<pre><code>interface Book {\n    fun write(page: Page)\n    fun read(title: String) Page\n}\n</code></pre>\n\n<p>My question is how can I use the carat generic syntax to specify that the methods must be used by derived instance of the Page class. Maybe like this:</p>\n\n<pre><code>interface Book&lt;Page&gt; {\n    fun write(page: Page)\n    fun read(title: String) : Page\n}\n\nclass AdventureBookPage(val pageTitle: String, val content: String) : Page() {\n\n    override fun title() : String {\n        return title\n    }\n}\n\nclass AdventureBook : Book&lt;AdventureBookPage&gt; {\n    override fun write(abp: AdventureBookPage) {\n        // do writing ops\n    }\n    override fun read(title: String) : AdventureBookPage {\n        // do read ops\n    }\n}\n</code></pre>\n\n<p>Am I misunderstanding how generics work here? Any help would be very much appreciated.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "retrofit2", "dagger-2"], "comments": [{"owner": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "edited": false, "score": 0, "creation_date": 1510076975, "post_id": 47164232, "comment_id": 81278361, "body": "so you want to achieve this with only a single provide function?"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "edited": false, "score": 0, "creation_date": 1510077179, "post_id": 47164232, "comment_id": 81278470, "body": "Yeah I think so! Maybe it&#39;s not possible, and I should just use different module classes?"}, {"owner": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "edited": false, "score": 0, "creation_date": 1510077633, "post_id": 47164232, "comment_id": 81278719, "body": "Still thinking about it. But why different module classes. The functions would be in a single (network) module, right?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1510077695, "post_id": 47164232, "comment_id": 81278763, "body": "it is very ugly, but you could have a set of <code>@Named</code> provides methods"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "edited": false, "score": 0, "creation_date": 1510078125, "post_id": 47164232, "comment_id": 81279010, "body": "@Yashasvi Well instead of one module having 10 okhttp / retrofit <code>@Provides</code>, I could have 10 network modules and each api module can include the one it needs. I <i>think</i> that&#39;s neater, but it&#39;s hard to tell :D"}, {"owner": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "edited": false, "score": 0, "creation_date": 1510078859, "post_id": 47164232, "comment_id": 81279386, "body": "haha, 10 network modules doesn&#39;t seem neat to me :) tomorrow if you want to look at all these methods at once, you won&#39;t be able to find them at one place."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1510085591, "post_id": 47164232, "comment_id": 81283109, "body": "You could use a completely different approach and create a custom <code>CallAdapter</code> where you call OkHttp methods directly and can use annotations on a per-call basis to communicate your needs to the adapter, possibly along with interceptors for even more options"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1510164088, "post_id": 47164232, "comment_id": 81322305, "body": "You can also have a factory that creates your http clients based on a given criteria and provide the factory in the network module. You can have a look at the multibinding capabilities of dagger too - Seems like a good use case for this too."}], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 1538992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba99e0e0be941ec7f092e8876fbcbf?s=128&d=identicon&r=PG", "display_name": "mcassiano", "link": "https://stackoverflow.com/users/1538992/mcassiano"}, "is_accepted": false, "score": 0, "last_activity_date": 1512407745, "creation_date": 1512407745, "answer_id": 47638588, "question_id": 47164232, "link": "https://stackoverflow.com/questions/47164232/dagger-2-customizing-provided-retrofit/47638588#47638588", "title": "Dagger 2 customizing provided retrofit", "body": "<p>You can play with multiple instances of <code>OkHttpClient</code> (that share stuff, see: <a href=\"https://github.com/square/okhttp/wiki/Recipes#per-call-configuration\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/wiki/Recipes#per-call-configuration</a>) and network interceptors with custom headers. People used to do this for caching in the past (see: <a href=\"https://krtkush.github.io/2016/06/02/caching-using-okhttp-part-2.html\" rel=\"nofollow noreferrer\">https://krtkush.github.io/2016/06/02/caching-using-okhttp-part-2.html</a>). Also, instead of using <code>@Named</code>, try <a href=\"https://docs.oracle.com/javaee/7/api/javax/inject/Qualifier.html\" rel=\"nofollow noreferrer\">@Qualifiers</a>!</p>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1512407745, "creation_date": 1510076533, "question_id": 47164232, "link": "https://stackoverflow.com/questions/47164232/dagger-2-customizing-provided-retrofit", "title": "Dagger 2 customizing provided retrofit", "body": "<p>I'm looking for a better way to manage my retrofit DI. My app could call for several variations of retrofit: non-retryable, longer timeouts, cached or non-cached etc.</p>\n\n<p>I've worked out I can use named params and specify a different kind of okhttp/retrofit to be provided when I use it, but it means I have to make a different provided function for every possible combination, and maintain the strings for the named params. I can see my NetworkModule class becoming very large then.</p>\n\n<p><strong>NetworkModule.kt</strong></p>\n\n<pre><code>@Module\nclass NetworkModule {\n\n    @Provides\n    @Singleton\n    fun provideHttpLoggingInterceptor(): HttpLoggingInterceptor {\n        val loggingInterceptor = HttpLoggingInterceptor { message -&gt; Timber.d(message) }\n        loggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\n        return loggingInterceptor\n    }\n\n    @Provides\n    @Named(\"standard\")\n    @Singleton\n    fun provideOkHttpClient(httpLoggingInterceptor: HttpLoggingInterceptor): OkHttpClient {\n        val httpClientBuilder = OkHttpClient.Builder()\n        if (BuildConfig.DEBUG) httpClientBuilder.addInterceptor(httpLoggingInterceptor)\n        return httpClientBuilder.build()\n    }\n\n    @Provides\n    @Named(\"standard\")\n    @Singleton\n    fun provideRetrofit(@Named(\"baseUrl\") baseUrl: String, @Named(\"standard\") okHttpClient: OkHttpClient): Retrofit {\n        return Retrofit.Builder()\n                .baseUrl(baseUrl)\n                .client(okHttpClient)\n                .addConverterFactory(GsonConverterFactory.create())\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .build()\n    }\n}\n</code></pre>\n\n<p><strong>LoginApiModule.kt</strong></p>\n\n<pre><code>@Module(includes = arrayOf(NetworkModule::class))\nclass LoginApiModule {\n\n    @Provides\n    @Singleton\n    internal fun provideLoginApi( @Named(\"standard\") retrofit: Retrofit): LoginService {\n        return retrofit.create(LoginService::class.java)\n    }\n}\n</code></pre>\n\n<p>In this example I would need a <code>provide&lt;some specialization&gt;OkHttpClient()</code> function for every specialization: </p>\n\n<ul>\n<li>one for a longer timeout</li>\n<li>one for non-retryability</li>\n<li>one for both</li>\n<li>one for caching</li>\n<li>one for caching with a longer timeout</li>\n<li>one for cachine with non-retryability etc. etc.</li>\n</ul>\n"}, {"tags": ["rest", "spring-mvc", "kotlin", "rest-assured"], "comments": [{"owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1510480078, "post_id": 47163424, "comment_id": 81444991, "body": "Are you using the RestAssuredMockMvc API or standard RestAssured?"}, {"owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "reply_to_user": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1510568306, "post_id": 47163424, "comment_id": 81474727, "body": "<a href=\"http://clip2net.com/s/3Ppyw9q\" rel=\"nofollow noreferrer\">clip2net.com/s/3Ppyw9q</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 13680154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04b3c6991a1e81f8908f7eb288f1ba1?s=128&d=identicon&r=PG&f=1", "display_name": "swati.sumn", "link": "https://stackoverflow.com/users/13680154/swati-sumn"}, "is_accepted": false, "score": 0, "last_activity_date": 1591277444, "creation_date": 1591277444, "answer_id": 62195919, "question_id": 47163424, "link": "https://stackoverflow.com/questions/47163424/rest-assured-multipart-is-null-in-rest-controller/62195919#62195919", "title": "Rest assured multipart is null in rest controller", "body": "<p>The reason your file is null, because in your test configuration class, you need to have @bean for MultipartFileResolver.</p>\n\n<p>Something like this:</p>\n\n<p><code>@Bean\n  public MultipartResolver multipartResolver() {\n        return new CommonsMultipartResolver();\n  }</code></p>\n"}], "owner": {"reputation": 1161, "user_id": 6776032, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/603620b3c1e795e6457e15ccd5b8f621?s=128&d=identicon&r=PG&f=1", "display_name": "sva605", "link": "https://stackoverflow.com/users/6776032/sva605"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591277444, "creation_date": 1510073781, "last_edit_date": 1560370656, "question_id": 47163424, "link": "https://stackoverflow.com/questions/47163424/rest-assured-multipart-is-null-in-rest-controller", "title": "Rest assured multipart is null in rest controller", "body": "<p>I'm building rest-assured test for rest controller. \nRest-assured test:</p>\n\n<pre><code>@Test\nfun saveFileReturnsFileKeyAndStatusCreated() {\n    given()\n    .multiPart(\"file\", File(\"d:/2.txt\"))\n    .multiPart(\"fileDescription\", \"...file description here...\")\n    .multiPart(\"fileExtension\", \".txt\")\n    .`when`()\n    .post(\"/file\")\n    .then()\n    .statusCode(HttpStatus.CREATED.value())\n    .body(notNullValue&lt;String&gt;(String::class.java))\n}\n</code></pre>\n\n<p>Rest controller method:</p>\n\n<pre><code>@RestController\n@RequestMapping(produces = arrayOf(MediaType.APPLICATION_JSON_UTF8_VALUE))\nclass ClientActionsController(private var clientActionsService: ClientActionsService) {\n\n    @PostMapping(value = \"/file\", consumes = arrayOf(MediaType.MULTIPART_FORM_DATA_VALUE))\n    fun saveFile(request: HttpServletRequest): ResponseEntity&lt;String&gt; {\n        println(request.getPart(\"fileDescription\"))\n        println(request.getPart(\"fileExtension\"))\n        println(request.getPart(\"file\"))\n\n        return ResponseEntity(clientActionsService.saveFile(request), HttpStatus.CREATED)\n    }\n}\n</code></pre>\n\n<p>Real code works fine, but when I start the test all the parts in request are null.\nWhat might be the cause for not receiving rest-assured's multiparts in rest controller's HttpServletRequest?</p>\n\n<p>Spring Boot 1.5.8, rest-assured 3.0.5</p>\n"}, {"tags": ["maven", "jar", "kotlin"], "comments": [{"owner": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596563011, "post_id": 47163103, "comment_id": 111849205, "body": "Hi @icarumbas, have you found a solution on this?"}, {"owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "reply_to_user": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596627311, "post_id": 47163103, "comment_id": 111870620, "body": "@KennethC yes, i use gradle"}, {"owner": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596717898, "post_id": 47163103, "comment_id": 111904789, "body": "I see.. too bad my library only supports maven.. thanks for the reply!"}, {"owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "reply_to_user": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596776134, "post_id": 47163103, "comment_id": 111924954, "body": "@KennethC i&#39;m not completely sure, but i think library doesn&#39;t know anything about what dependency build system you&#39;re using."}, {"owner": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596777428, "post_id": 47163103, "comment_id": 111925273, "body": "i think for selenium, they do..   <a href=\"https://www.selenium.dev/documentation/en/selenium_installation/installing_selenium_libraries/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/en/selenium_installation/&hellip;</a>  &quot;Due to missing native language bindings for Kotlin, you have to use the Java Bindings, e.g. with maven Java&quot;"}, {"owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "reply_to_user": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 0, "creation_date": 1596792632, "post_id": 47163103, "comment_id": 111930881, "body": "@KennethC they&#39;re talking about java bindings compatible with Kotlin there, not about maven or gradle. I think you were confused by this line. Just try with gradle)"}, {"owner": {"reputation": 666, "user_id": 2953265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e75d04a7d3ccb921a2b9fd7703092d1d?s=128&d=identicon&r=PG&f=1", "display_name": "KennethC", "link": "https://stackoverflow.com/users/2953265/kennethc"}, "edited": false, "score": 1, "creation_date": 1596877497, "post_id": 47163103, "comment_id": 111956104, "body": "Woah. you&#39;re right, it worked with gradle. thanks sir!!"}], "answers": [{"tags": [], "owner": {"reputation": 234, "user_id": 2093801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ec3f0e9408477acc01cd26a9149ffe?s=128&d=identicon&r=PG", "display_name": "Boris Davidov", "link": "https://stackoverflow.com/users/2093801/boris-davidov"}, "is_accepted": false, "score": 4, "last_activity_date": 1511961721, "last_edit_date": 1511961721, "creation_date": 1511944355, "answer_id": 47548249, "question_id": 47163103, "link": "https://stackoverflow.com/questions/47163103/kotlin-maven-assembling-no-main-manifest-attribute/47548249#47548249", "title": "Kotlin + Maven assembling: no main manifest attribute", "body": "<p>I've got such problems with kotlin and maven.\nI've solved it in following way (Application.kt):</p>\n\n<pre><code>package org.somepackage\n\nopen class Application {\n    companion object {\n        @JvmStatic fun main(args: Array&lt;String&gt;) {\n            // something..\n        }\n    }\n}\n</code></pre>\n\n<p>-- So first i've written the kotlin class with main inside it.</p>\n\n<p>Secondly as in your case defined the main class in props in a following way <code>&lt;main.class&gt;org.somepackage.Application&lt;/main.class&gt;</code></p>\n\n<p>After mvn clean install command finished i've got the necessary someapp-1.0-SNAPSHOT-jar-with-dependencies.jar which was able to work.</p>\n\n<p>And at the end please pay attention that you run exactly jar-with-dependencies.jar (not a stripped version like a app-1.0-SNAPSHOT.jar).</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 8564869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVCrc.png?s=128&g=1", "display_name": "Deividas Duda", "link": "https://stackoverflow.com/users/8564869/deividas-duda"}, "is_accepted": false, "score": 0, "last_activity_date": 1521066986, "last_edit_date": 1521066986, "creation_date": 1521065424, "answer_id": 49288424, "question_id": 47163103, "link": "https://stackoverflow.com/questions/47163103/kotlin-maven-assembling-no-main-manifest-attribute/49288424#49288424", "title": "Kotlin + Maven assembling: no main manifest attribute", "body": "<p>it seems like you have one of the plugins missing. add the bellow to pom.xml file</p>\n\n<pre><code>`&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;\n                            yourclassnameKt\n                        &lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;`\n</code></pre>\n\n<p>The plugin will add MANIFEST.mf file, which will tell the Java runtime which class to execute.</p>\n\n<p>There is  another issue that has the same problem ->\n<a href=\"https://stackoverflow.com/questions/15751714/maven-jar-builder-could-not-find-or-load-main-class/49288721#49288721\">Maven Jar Builder: Could not find or load main class</a></p>\n\n<p>Reference: <a href=\"https://michaelrice.com/2016/08/hello-world-with-kotlin-and-maven/\" rel=\"nofollow noreferrer\">https://michaelrice.com/2016/08/hello-world-with-kotlin-and-maven/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1166, "user_id": 2324456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YW0tt.jpg?s=128&g=1", "display_name": "Quirino Gervacio", "link": "https://stackoverflow.com/users/2324456/quirino-gervacio"}, "is_accepted": false, "score": 1, "last_activity_date": 1561211388, "creation_date": 1561211388, "answer_id": 56715997, "question_id": 47163103, "link": "https://stackoverflow.com/questions/47163103/kotlin-maven-assembling-no-main-manifest-attribute/56715997#56715997", "title": "Kotlin + Maven assembling: no main manifest attribute", "body": "<p>Your POM file is correct, no need to add anything. Just run the generated JAR postfixed with <code>*-jar-with-dependencies.jar</code> in target directory.</p>\n"}], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4793, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1561211388, "creation_date": 1510072787, "last_edit_date": 1510246030, "question_id": 47163103, "link": "https://stackoverflow.com/questions/47163103/kotlin-maven-assembling-no-main-manifest-attribute", "title": "Kotlin + Maven assembling: no main manifest attribute", "body": "<p><strong>I have problem assembling Kotlin project with some dependencies to JAR file using Maven.</strong></p>\n\n<p>How am i assembling project to JAR:</p>\n\n<pre><code>RightPanel -&gt; MavenProjects -&gt; Lifecycle -&gt; package -&gt; run\n</code></pre>\n\n<p>When i running JAR file:</p>\n\n<pre><code>java -jar path.jar\n</code></pre>\n\n<p>I'm getting following error:</p>\n\n<pre><code>no main manifest attribute, in path.jar\n</code></pre>\n\n<p>I've added  <code>maven-assembly-plugin</code> like <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<p><strong>So my plugins directory looks like this:</strong></p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><code>main.class</code> property defined here:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;kotlin.version&gt;1.1.51&lt;/kotlin.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;main.class&gt;ru.icarumbas.main.HelloKt&lt;/main.class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p><strong>Some facts:</strong></p>\n\n<ul>\n<li><code>Hello.kt</code> is starter class and it has fun <code>main(...){}</code></li>\n<li>When i unarchive JAR it has META-INF folder.</li>\n</ul>\n\n<p><strong>Versions:</strong></p>\n\n<ul>\n<li>Platform: Mac OS </li>\n<li>Kotlin version: 1.1.51</li>\n<li>Maven version: 4.0.0</li>\n</ul>\n\n<p>Maybe i'm missing something. I've already looked on a lot of questions alike this, and they didn't help me. So please don't mark this as duplicate and write a comment if you want to see more code. I didn't show my full <code>pom.xml</code> file so write me if you want to see it full.</p>\n"}, {"tags": ["string", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 3001, "user_id": 2054138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/0daba6b2a76f43c0d9f6c1a75b1430ca?s=128&d=identicon&r=PG", "display_name": "Martin Joiner", "link": "https://stackoverflow.com/users/2054138/martin-joiner"}, "edited": false, "score": 1, "creation_date": 1510072632, "post_id": 47162946, "comment_id": 81275653, "body": "Is there a question here?  The blockquote explains why x is a string."}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 3001, "user_id": 2054138, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/0daba6b2a76f43c0d9f6c1a75b1430ca?s=128&d=identicon&r=PG", "display_name": "Martin Joiner", "link": "https://stackoverflow.com/users/2054138/martin-joiner"}, "edited": false, "score": 0, "creation_date": 1510073436, "post_id": 47162946, "comment_id": 81276171, "body": "@MartinJoiner for me it remains strange that the first parameter <code>null</code> is the string."}, {"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 5, "creation_date": 1510073923, "post_id": 47162946, "comment_id": 81276504, "body": "Please provide a reference for the quote"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1510074130, "post_id": 47162946, "comment_id": 81276632, "body": "@CodyG. you can in the Android Studio to write <code>null.plus(null)</code>, and then when you switch to the method you will be able to read the annotation."}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 1, "creation_date": 1510074306, "post_id": 47162946, "comment_id": 81276744, "body": "The reference comes from the <code>plus()</code> operator. Here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/plus.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/plus.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 45, "last_activity_date": 1512565124, "last_edit_date": 1512565124, "creation_date": 1510074176, "answer_id": 47163535, "question_id": 47162946, "link": "https://stackoverflow.com/questions/47162946/why-is-the-type-of-null-null-implicitly-string-in-kotlin/47163535#47163535", "title": "Why is the type of null + null implicitly String in Kotlin?", "body": "<p>Probably because <code>String?.plus(Any?)</code> is the only <code>plus</code> function which accepts a nullable type as a receiver in Kotlin library. Therefore, when you call <code>null + null</code>, the compiler will treat the first <code>null</code> as <code>String?</code>.</p>\n\n<p>If you define an extension function where the receiver type is <code>Int?</code> and the return type is <code>Int</code>, then <code>x</code> will be inferred as <code>Int</code>.</p>\n\n<pre><code>public operator fun Int?.plus(other: Any?): Int = 1\nval x = null + null\n</code></pre>\n\n<p>If you declare another similar function within the same file (nullable type as the receiver type), when you call <code>null + null</code>, it causes the compile time error: <code>Overload resolution ambiguity. All these functions match.</code>.</p>\n\n<pre><code>public operator fun Int?.plus(other: Any?): Int = 1\npublic operator fun Float?.plus(other: Any?): Float = 1F\nval x = null + null    //compile time error\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": false, "score": 4, "last_activity_date": 1510075289, "creation_date": 1510075289, "answer_id": 47163859, "question_id": 47162946, "link": "https://stackoverflow.com/questions/47162946/why-is-the-type-of-null-null-implicitly-string-in-kotlin/47163859#47163859", "title": "Why is the type of null + null implicitly String in Kotlin?", "body": "<pre><code>val x = null + null\n</code></pre>\n\n<p>Try to rephrase this as below and you will find you answer:</p>\n\n<pre><code>val x = null.plus(null)\n</code></pre>\n\n<p>The below is what IntelliJ shows as the signature of the <code>plus</code> method:</p>\n\n<pre><code>public operator fun String?.plus(other: Any?): String\n</code></pre>\n\n<p>So the first <code>null</code> is treated as <code>String?</code> type and then when you try to plus anything else, the above <code>plus</code> method is the only match you have. Printing out <code>x</code> will result in <code>nullnull</code></p>\n"}, {"comments": [{"owner": {"reputation": 13378, "user_id": 1607485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debd6c0529c9caf21089970a7cf3366b?s=128&d=identicon&r=PG", "display_name": "Nikita Kukushkin", "link": "https://stackoverflow.com/users/1607485/nikita-kukushkin"}, "edited": false, "score": 2, "creation_date": 1510133476, "post_id": 47175661, "comment_id": 81301098, "body": "I&#39;m getting js vibes"}], "tags": [], "owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "is_accepted": false, "score": 5, "last_activity_date": 1510132992, "last_edit_date": 1510132992, "creation_date": 1510132437, "answer_id": 47175661, "question_id": 47162946, "link": "https://stackoverflow.com/questions/47162946/why-is-the-type-of-null-null-implicitly-string-in-kotlin/47175661#47175661", "title": "Why is the type of null + null implicitly String in Kotlin?", "body": "<p>We need to start with the type of <code>Nothing</code>. This type has exactly zero possible values. It's a <a href=\"https://en.wikipedia.org/wiki/Bottom_type\" rel=\"noreferrer\">bottom type</a>, and is a subtype of every other type (not to be confused with <code>Any</code>, which is a <a href=\"https://en.wikipedia.org/wiki/Top_type\" rel=\"noreferrer\">supertype of every other type</a>). <code>Nothing</code> can be coerced to any type, so that you can do stuff like:</p>\n\n<pre><code>fun doStuff(a: Int): String =\n    TODO(\"this typechecks\")\n</code></pre>\n\n<p>Moving on to the type of <code>Nothing?</code>, meaning <code>Nothing</code> or <code>null</code>. It has 0 + 1 possible values. So <code>null</code> has a type of <code>Nothing?</code>. <code>Nothing?</code> can be coerced to any nullable type, so that you can do stuff like:</p>\n\n<pre><code>var name: String? = null\n</code></pre>\n\n<p>Here <code>null : Nothing?</code> is coerced to <code>String?</code>.</p>\n\n<p>For some reason, unfortunately, there's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/plus.html\" rel=\"noreferrer\">this function defined in stdlib</a>:</p>\n\n<pre><code>operator fun String?.plus(other: Any?): String\n</code></pre>\n\n<p>that allows <code>null + null</code> leveraging those coercion rules I mentioned above</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2458, "favorite_count": 3, "accepted_answer_id": 47163535, "answer_count": 3, "score": 32, "last_activity_date": 1512565124, "creation_date": 1510072333, "last_edit_date": 1511726863, "question_id": 47162946, "link": "https://stackoverflow.com/questions/47162946/why-is-the-type-of-null-null-implicitly-string-in-kotlin", "title": "Why is the type of null + null implicitly String in Kotlin?", "body": "<p>The following Kotlin code:</p>\n\n<pre><code>val x = null + null\n</code></pre>\n\n<p>results in <code>x</code> being of type <code>String</code>, which is correct as according to the docs for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/plus.html\" rel=\"noreferrer\"><code>String.plus</code></a>:</p>\n\n<blockquote>\n  <p>Concatenates this string with the string representation of the given [other] object. If either the receiver or the [other] object are null, they are represented as the string \"null\".</p>\n</blockquote>\n\n<p>However, I don't understand why this happens - is it due to some special feature of the language?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1709, "user_id": 1294982, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fb2a35340cf7b991a942773d3f5247c3?s=128&d=identicon&r=PG&f=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/1294982/maurice"}, "edited": false, "score": 0, "creation_date": 1510127650, "post_id": 47163131, "comment_id": 81297678, "body": "Thanks for the tip and the help."}], "tags": [], "owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "is_accepted": true, "score": 1, "last_activity_date": 1510201198, "last_edit_date": 1510201198, "creation_date": 1510072889, "answer_id": 47163131, "question_id": 47162811, "link": "https://stackoverflow.com/questions/47162811/kotlin-primary-and-secondary-constructor-issue/47163131#47163131", "title": "Kotlin primary and secondary constructor issue", "body": "<p>A couple of things look a little off.  You're calling your primary constructor's \"this\" with no arguments, and not setting the passed in values in the secondary either; since they aren't declared inline on the constructor as <code>val</code> or <code>var</code> so they won't stick around after the constructor finishes.</p>\n\n<p>A better approach here would be to just use one constructor declare all your val/vars in the constructor rather than the class body, and provide default initialization values.  This way, you can use named arguments for construction, which negates the need for multiple in this case.</p>\n\n<p>Ex:</p>\n\n<pre><code>open class SomeClass(@PrimaryKey\n                     open var id: Long = 0,\n                     open var login: String? = null,\n                     open var firstName: String? = null,\n                     open var surname: String? = null,\n                     open var isAdmin: Boolean = false,\n                     open var groups: RealmList&lt;Int&gt;? = null): RealmObject()\n</code></pre>\n"}], "owner": {"reputation": 1709, "user_id": 1294982, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fb2a35340cf7b991a942773d3f5247c3?s=128&d=identicon&r=PG&f=1", "display_name": "Maurice", "link": "https://stackoverflow.com/users/1294982/maurice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 47163131, "answer_count": 1, "score": 1, "last_activity_date": 1510201198, "creation_date": 1510071949, "question_id": 47162811, "link": "https://stackoverflow.com/questions/47162811/kotlin-primary-and-secondary-constructor-issue", "title": "Kotlin primary and secondary constructor issue", "body": "<p>I have two constructors in my Kotlin object, a primary and a secondary. The primary has nothing in it and the secondary takes some parameters. I would like to map a DTO in the secondary constructor, but I don't see what is the problem. </p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>open class User(): RealmObject() {\n\n    @PrimaryKey\n    open var id: Long = 0\n\n    open var login: String? = null\n\n    open var firstName: String? = null\n\n    open var surname: String? = null\n\n    open var isAdmin: Boolean = false\n\n    open var groups: RealmList&lt;Int&gt;? = null\n\n    constructor(id: Long?, login: String?, firstName: String?, surname: String?, admin: Boolean?, groups: List&lt;Int&gt;?) : this()\n\n    companion object {\n        fun map(dto: UserDTO): User {\n            Timber.d(dto.toString()) //The response data from the WS, OK with some data\n            val groups = RealmList&lt;Int&gt;()\n            dto.groups?.forEach { groups.add(it) }\n            val u = User(dto.id, dto.login, dto.firstName, dto.surname, dto.admin, groups) //Calling the secondary constructor\n            Timber.d(u.toString()) // Everything is null or false, KO\n            return u\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "assertj"], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 0, "creation_date": 1510068223, "post_id": 47160768, "comment_id": 81272528, "body": "Thanks, Changing List to Set in data class works like a charm <code>val attributes: List&lt;Attribute?&gt;? -&gt;   val attributes: Set&lt;Attribute?&gt;?</code>"}], "tags": [], "owner": {"reputation": 461, "user_id": 2826895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1ac85bebef6dc019a101d4d7c0fee6?s=128&d=identicon&r=PG&f=1", "display_name": "Jotunacorn", "link": "https://stackoverflow.com/users/2826895/jotunacorn"}, "is_accepted": true, "score": 2, "last_activity_date": 1510066141, "creation_date": 1510066141, "answer_id": 47160768, "question_id": 47160677, "link": "https://stackoverflow.com/questions/47160677/check-lists-of-objects-for-equality-without-order-check-in-their-list-property/47160768#47160768", "title": "Check lists of objects for equality without order check in their List property", "body": "<p>If order does not matter for your attributes and they are unique (i.e. may not have multiple attributes of the same type) you might change the structure into a <code>Set&lt;Attribute?&gt;</code> instead and just use the regular compare.</p>\n\n<p>If you want to preserve order but compare (unique) attributes you may convert them to set when comparing, see <a href=\"https://stackoverflow.com/questions/1429860/easiest-way-to-convert-a-list-to-a-set-in-java\">Easiest way to convert a List to a Set in Java</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 0, "creation_date": 1510067617, "post_id": 47161028, "comment_id": 81272074, "body": "Thanks, I tried this method. It works with Arrays, but in my case I have an Array of Objects which have one more array as property. In my case assertion fails on checking List&lt;Attribute&gt; for ServiceFeature"}, {"owner": {"reputation": 13895, "user_id": 1707520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba1608948ed951d470209e9403674fa?s=128&d=identicon&r=PG", "display_name": "sol4me", "link": "https://stackoverflow.com/users/1707520/sol4me"}, "reply_to_user": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 0, "creation_date": 1510068539, "post_id": 47161028, "comment_id": 81272734, "body": "You can tweak the method to compare the lists, see updated answer"}], "tags": [], "owner": {"reputation": 13895, "user_id": 1707520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eba1608948ed951d470209e9403674fa?s=128&d=identicon&r=PG", "display_name": "sol4me", "link": "https://stackoverflow.com/users/1707520/sol4me"}, "is_accepted": false, "score": 2, "last_activity_date": 1510068623, "last_edit_date": 1510068623, "creation_date": 1510066872, "answer_id": 47161028, "question_id": 47160677, "link": "https://stackoverflow.com/questions/47160677/check-lists-of-objects-for-equality-without-order-check-in-their-list-property/47161028#47161028", "title": "Check lists of objects for equality without order check in their List property", "body": "<p>If order of elements doesn't matter, then you can use <code>Set</code> instead of <code>List</code>. Having said that, You can use <a href=\"http://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/ListAssert.html#containsExactlyInAnyOrder(ELEMENT...)\" rel=\"nofollow noreferrer\">containsExactlyInAnyOrder()</a> method provided by AssertJ. This method expects var-args as an argument, so in order to convert list to array we can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"nofollow noreferrer\">toTypedArray</a> along with <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator</a> E.g. </p>\n\n<pre><code>\nimport org.junit.Test\nimport org.assertj.core.api.Assertions.*\n\ndata class ServiceFeature(\n        val flagValue: String?,\n        val effectiveFlagValue: String?,\n        val name: String?,\n        val attributes: List?\n)\n\ndata class Attribute(val name: String?)\n\nclass SimpleTest {\n    @Test\n    fun test() {\n        val list1 = listOf(ServiceFeature(\"flagA\", \"effectiveFlagA\", \"foo\", listOf(Attribute(\"a\"), Attribute(\"b\"))))\n        val list2 = listOf(ServiceFeature(\"flagA\", \"effectiveFlagA\", \"foo\", listOf(Attribute(\"b\"), Attribute(\"a\"))))\n        list1.zip(list2).forEach {\n            assertThat(it.first.name).isEqualTo(it.second.name)\n            assertThat(it.first.effectiveFlagValue).isEqualTo(it.second.effectiveFlagValue)\n            assertThat(it.first.name).isEqualTo(it.second.name)\n            val toTypedArray = it.second.attributes!!.toTypedArray() // null-check as per your need\n            assertThat(it.first.attributes).containsExactlyInAnyOrder(*toTypedArray)\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2147, "favorite_count": 0, "accepted_answer_id": 47160768, "answer_count": 2, "score": 0, "last_activity_date": 1510070100, "creation_date": 1510065823, "last_edit_date": 1510070100, "question_id": 47160677, "link": "https://stackoverflow.com/questions/47160677/check-lists-of-objects-for-equality-without-order-check-in-their-list-property", "title": "Check lists of objects for equality without order check in their List property", "body": "<p>Preconditions: I am deserializing a complex json into data class. Destination class has a bit complex hierarchy. </p>\n\n<p>I have a list of objects List. Where ServiceFeature is the following (it's in kotlin, but does not matter):</p>\n\n<pre><code>data class ServiceFeature(\n        val flagValue: String?,\n        val effectiveFlagValue: String?,\n        val name: String?,\n        val attributes: List&lt;Attribute?&gt;?\n)\n</code></pre>\n\n<p>As you can see ServiceFeature has an \"attributes\" property which includes another List of \"Attribute\". The main point is that Attributes in list might be in any order.\nIs there a reliable way to compare two lists of ServiceFeatures without order check from List</p>\n\n<p>I am trying to find a solution with assertJ.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["java", "intellij-idea", "javafx", "jar", "kotlin"], "comments": [{"owner": {"reputation": 1806, "user_id": 3659052, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c0b4802abd3a19ef158b23936ddf9d83?s=128&d=identicon&r=PG&f=1", "display_name": "logger", "link": "https://stackoverflow.com/users/3659052/logger"}, "edited": false, "score": 0, "creation_date": 1510065966, "post_id": 47160298, "comment_id": 81270907, "body": "class loader behaves different when you run as jar. (directory level) instead of using FXMLLoader. Try loading from path instead.... javaClass.getResource(&quot;/&quot;).toURI().resolve(&quot;sample.fxml&quot;).ge&zwnj;&#8203;tPath(); &lt;-- load this path"}, {"owner": {"reputation": 316, "user_id": 1656012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fxpzf.png?s=128&g=1", "display_name": "Trenton Telge", "link": "https://stackoverflow.com/users/1656012/trenton-telge"}, "edited": false, "score": 0, "creation_date": 1510072229, "post_id": 47160298, "comment_id": 81275420, "body": "Please don&#39;t repost your question. Delete or edit your previous one."}], "owner": {"reputation": 67, "user_id": 8894803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3a2bb20a08af3196247777bcc2cdca?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ad8\u4e07\u7965", "link": "https://stackoverflow.com/users/8894803/%e9%ab%98%e4%b8%87%e7%a5%a5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1535538540, "creation_date": 1510064710, "last_edit_date": 1535538540, "question_id": 47160298, "link": "https://stackoverflow.com/questions/47160298/javafx-by-kotlin-went-wrong-when-i-export-it-to-runnable-jar", "title": "Javafx by kotlin went wrong when I export it to runnable jar", "body": "<p>I try to write javafx application using kotlin. After I export it to runnable jar,I double click jar file but it doesn't work. But everything ok if I use Java.</p>\n\n<p>For example: Create a new javafx project by IDEA 2017.2.5.Select File-Project Structure,then click JavaFX tab,Native bundle choose all.Then apply setting.\n<img src=\"https://i.stack.imgur.com/t1zcS.png\" alt=\"enter image description here\"></p>\n\n<p>Then choose Build-Build Artifact-Build.\n<img src=\"https://i.stack.imgur.com/cSpty.png\" alt=\"enter image description here\"></p>\n\n<p>I can run it.Everything OK.\n<img src=\"https://i.stack.imgur.com/JJeCU.png\" alt=\"enter image description here\"></p>\n\n<p>But when I use kotlin and do same thing as java.\nEverything ok when I run it in IDEA. </p>\n\n<p>code:</p>\n\n<pre><code>package sample\n\nimport javafx.application.Application\nimport javafx.fxml.FXMLLoader\nimport javafx.scene.Parent\nimport javafx.scene.Scene\nimport javafx.stage.Stage\n\nclass Main : Application() {\n\n    @Throws(Exception::class)\n    override fun start(primaryStage: Stage) {\n        val root = FXMLLoader.load&lt;Parent&gt;(javaClass.getResource(\"sample.fxml\"))\n        primaryStage.title = \"Hello World\"\n        primaryStage.scene = Scene(root, 300.0, 275.0)\n        primaryStage.show()\n    }\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            Application.launch(Main::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/UJEf8.png\" alt=\"enter image description here\">\nI double click it but nothing happend.What's wrong???</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1510066764, "post_id": 47160241, "comment_id": 81271476, "body": "Why you need to make the viewmodel inside the databinding instance ? It would be a trouble if you have advanced ui flow(such as your question) in your activity since the viewmodel does not contains the object of the binding."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1510067626, "post_id": 47160241, "comment_id": 81272083, "body": "@LongRanger I dont know much, newbie with mvvm. can you please suggest"}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1510070908, "post_id": 47160241, "comment_id": 81274508, "body": "Let say if you login failure in your view model and you need to make a toast or snackbar to tell the user about this information, you will have a trouble to create these views since you dont have the view or context inside the viewmodel. I suggest you to  follow the google sample about aac. You will know more about it. It provides the simple sample to guide you how to solve these problems in a easy way."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 1, "creation_date": 1510073074, "post_id": 47160241, "comment_id": 81275929, "body": "@LongRanger can you suggest specific file of that sample where context or view is being used in viewmodel"}], "answers": [{"tags": [], "owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "is_accepted": true, "score": 2, "last_activity_date": 1510106690, "creation_date": 1510106690, "answer_id": 47170397, "question_id": 47160241, "link": "https://stackoverflow.com/questions/47160241/how-to-start-activity-from-viewmodel-on-login-success-in-mvvm-pattern/47170397#47170397", "title": "How to start activity from viewmodel on login success in mvvm pattern", "body": "<p>Let say a simple scenario using your login idea, user login fail and the app need to make a simple Toast or SnackBar to show the related information such as \"Your username and password is incorrect\". The code you need is </p>\n\n<p>Toast (Required <code>Context</code>)</p>\n\n<pre><code>Toast.makeText(context, text, duration).show();\n</code></pre>\n\n<p>Snackbar (Required <code>View</code>)</p>\n\n<pre><code>Snackbar.make(findViewById(R.id.myCoordinatorLayout),\n                                R.string.email_archived, Snackbar.LENGTH_SHORT);\n</code></pre>\n\n<p>If you want to use it inside your ViewModel (I am not familiar with Kotlin)</p>\n\n<pre><code>  @Suppress(\"PARAMETER_NAME_CHANGED_ON_OVERRIDE\")\n    void function login(final View view) {\n      // here I am calling API and on success\n      repo.login(result -&gt; {\n           if(result.statusCode == 401)\n           Toast.makeText(view.getContext(), \"Login failed...\", duration).show();\n      });\n    }\n</code></pre>\n\n<p>You are going to find the reference of the activity in the reverse way, which make more complex code and hard to maintain since every time you need to get the reference of <strong>the activity or context to do something related to the view or activity in the view model instead of the Activity</strong></p>\n\n<p>From the <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/ui/search/SearchFragment.java\" rel=\"nofollow noreferrer\">google sample</a>, you can see <code>doSearch()</code> function is called when the input is done. And after the search result fetched , the binding will put the latest result back to this observer , and now it is the activity job to update the result in the adapter. </p>\n\n<pre><code>private void initSearchInputListener() {\n        binding.get().input.setOnEditorActionListener((v, actionId, event) -&gt; {\n            if (actionId == EditorInfo.IME_ACTION_SEARCH) {\n                doSearch(v);\n                return true;\n            }\n            return false;\n        });\n        binding.get().input.setOnKeyListener((v, keyCode, event) -&gt; {\n            if ((event.getAction() == KeyEvent.ACTION_DOWN)\n                    &amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {\n                doSearch(v);\n                return true;\n            }\n            return false;\n        });\n    }\n\n    private void doSearch(View v) {\n        String query = binding.get().input.getText().toString();\n        // Dismiss keyboard\n        dismissKeyboard(v.getWindowToken());\n        binding.get().setQuery(query);\n        searchViewModel.setQuery(query);\n    }\n\nprivate void initRecyclerView() {\n\n        binding.get().repoList.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n                LinearLayoutManager layoutManager = (LinearLayoutManager)\n                        recyclerView.getLayoutManager();\n                int lastPosition = layoutManager\n                        .findLastVisibleItemPosition();\n                if (lastPosition == adapter.get().getItemCount() - 1) {\n                    searchViewModel.loadNextPage();\n                }\n            }\n        });\n        searchViewModel.getResults().observe(this, result -&gt; {\n            binding.get().setSearchResource(result);\n            binding.get().setResultCount((result == null || result.data == null)\n                    ? 0 : result.data.size());\n            adapter.get().replace(result == null ? null : result.data);\n            binding.get().executePendingBindings();\n        });\n\n        searchViewModel.getLoadMoreStatus().observe(this, loadingMore -&gt; {\n            if (loadingMore == null) {\n                binding.get().setLoadingMore(false);\n            } else {\n                binding.get().setLoadingMore(loadingMore.isRunning());\n                String error = loadingMore.getErrorMessageIfNotHandled();\n                if (error != null) {\n                    Snackbar.make(binding.get().loadMoreBar, error, Snackbar.LENGTH_LONG).show();\n                }\n            }\n            binding.get().executePendingBindings();\n        });\n    }\n</code></pre>\n\n<p>Also, according to the answer from @Emanuel S, you will see his argument </p>\n\n<blockquote>\n  <p>WeakReference to a NavigationController which holds the Context of the\n  Activity. This is a common used pattern for handling context-bound\n  stuff inside a ViewModel.</p>\n  \n  <p>I highly decline this for several reasons. First: that usually means\n  that you have to keep a reference to your NavigationController which\n  fixes the context leak, but doesnt solve the architecture at all.</p>\n  \n  <p>The best way (in my oppinion) is using LiveData which is lifecycle\n  aware and can do all the wanted stuff.</p>\n</blockquote>\n\n<p>Another question you may think about it if you implement ui action inside the viewmodel  , if you get a NullPointerException in your view or context or do some enhancement about it, which class you will find first ? ViewModel or Activity ? Since the first one you hold the UI action , the second one you hold the data binding. Both may be possible in the troubleshoot. </p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6302, "favorite_count": 0, "closed_date": 1510145696, "accepted_answer_id": 47170397, "answer_count": 1, "score": 2, "last_activity_date": 1510106690, "creation_date": 1510064570, "question_id": 47160241, "link": "https://stackoverflow.com/questions/47160241/how-to-start-activity-from-viewmodel-on-login-success-in-mvvm-pattern", "closed_reason": "Duplicate", "title": "How to start activity from viewmodel on login success in mvvm pattern", "body": "<p>Hi I have one activity <code>LoginActivity.kt</code> and <code>LoginViewModel</code>. I am calling the login API in the <code>login</code> method of <code>LoginViewModel</code>. On success of it, I want to start home activity. What is the correct way to do it in MVVM approach ?</p>\n\n<p>LoginViewModel.kt</p>\n\n<pre><code>class LoginViewModel : BaseViewModel&lt;LoginNavigator&gt;(), AnkoLogger {\n\n    val emailField = ObservableField&lt;String&gt;()\n\n    private val email: String\n        get() = emailField.get()\n\n    val passwordField = ObservableField&lt;String&gt;()\n\n    private val password: String\n        get() = passwordField.get()\n\n    val progressVisibility: ObservableInt = ObservableInt(View.GONE)\n\n    @Suppress(\"PARAMETER_NAME_CHANGED_ON_OVERRIDE\")\n    fun login(view: View) {\n      // here I am calling API and on success\n    }\n\n    /**\n     * Validate email and password. It checks email and password is empty or not\n     * and validate email address is correct or not\n     * @param email email address for login\n     * @param password password for login\n     * @return true if email and password pass all conditions else false\n     */\n    private fun isEmailAndPasswordValid(email: String, password: String): Boolean {\n\n        if (email.isEmpty()) return false\n\n        if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) return false\n\n        if (password.isEmpty()) return false\n\n        return true\n    }\n\n}\n</code></pre>\n\n<p>LoginActivity.kt</p>\n\n<pre><code>class LoginActivity : BaseActivity(), LoginNavigator {\n\n    @Inject\n    lateinit var loginViewModel: LoginViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        performDependencyInjection()\n        super.onCreate(savedInstanceState)\n        val activityLoginBinding: ActivityLoginBinding = DataBindingUtil.setContentView&lt;ActivityLoginBinding&gt;(this, R.layout.activity_login)\n        activityLoginBinding.loginViewModel = loginViewModel\n        loginViewModel.mNavigator = this\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1510064562, "post_id": 47160136, "comment_id": 81269976, "body": "Could you please explain in more detail why you think that adding the line <code>var myMap = it</code> should cause any problem? Or have I misunderstood that you think so?"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510101096, "post_id": 47160273, "comment_id": 81289097, "body": "Thank you! Now I see, lambda expression is a anonymous function, so I still pass a function to .parseList , so I can get correct result, right?"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510107871, "post_id": 47160273, "comment_id": 81290714, "body": "@HelloCW I think you got it!"}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": true, "score": 1, "last_activity_date": 1510070927, "last_edit_date": 1510070927, "creation_date": 1510064650, "answer_id": 47160273, "question_id": 47160136, "link": "https://stackoverflow.com/questions/47160136/why-can-i-insert-a-line-code-before-dayforecasthashmapit-in-kotlin/47160273#47160273", "title": "Why can I insert a line code before DayForecast(HashMap(it)) in Kotlin?", "body": "<p>The signature of the function is <code>parseList(parser: (Map&lt;String, Any?&gt;) -&gt; T)</code>. The <code>(Map&lt;String, Any?&gt;) -&gt; T)</code> as a parameter means that the <code>parseList</code> function takes as an argument a function type with a signature of a single argument (<code>Map&lt;String, Any?&gt;</code>) that returns a <code>T</code>.</p>\n\n<p>This is an example of <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\"><em>higher-order functions</em></a>).</p>\n\n<p>In your example, you are passing in a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\"><em>lambda expression</em></a>:</p>\n\n<pre><code>.parseList { \n   var myMap=it\n   DayForecast(HashMap(it)) \n}\n</code></pre>\n\n<p>In your lambda expression, you can really do anything as long as you return the type <code>T</code>. You can call multiple functions, create objects, assign variables, whatever, as long as you return the type <code>T</code> at the end.</p>\n\n<p>To further illustrate this imagine we have a function that takes another function as an argument, that takes an <code>Int</code> as a parameter and returns an <code>Int</code>:</p>\n\n<pre><code>fun funTakingOne(function: (Int) -&gt; Int): Int {\n  return function(1)\n}\n</code></pre>\n\n<p>Now, one way to call that function is to pass in a lambda expression:</p>\n\n<pre><code>val output = funTakingOne { \n  it + 5\n}\nprintln(output)\n</code></pre>\n\n<p>The output here is <code>6</code>.</p>\n\n<p>You can also explicitly return a value from the lambda using the <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\"><em>qualified return syntax</em></a>. Below are two identical calls:</p>\n\n<pre><code>funTakingOne { \n  it + 2 \n}\nfunTakingOne { \n  return@funTakingOne it + 2\n}\n</code></pre>\n\n<p>The return of this lambda expression is an <code>Int</code>. We can also do other things inside of our lambda expression, as long as the output is an <code>Int</code>:</p>\n\n<pre><code>funTakingOne {\n  val someCalculation: Int = expensiveCalculation(it)\n  val otherCalculation: Int = otherCalculation(it)\n  someCalculation / otherCalculation\n}\n</code></pre>\n\n<p>If you try to return anything other than <code>Int</code> here, the compiler will fail with a type mismatch:</p>\n\n<pre><code>// This fails to compile\nfunTakingOne {\n  \"oh no, I fail\"\n}\n</code></pre>\n\n<p>In your example, the signature has a <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">generic</a> parameter (the type <code>T</code>). It is similar to the above examples, except that the function must return something of type <code>T</code>.</p>\n\n<p>Here is another contrived example. A function that takes a function as an argument that has a single <code>String</code> parameter and returns something of type <code>T</code>:</p>\n\n<pre><code>fun &lt;T&gt; funReturnT(function: (String) -&gt; T): T {\n  return function(\"Hello World\")\n}\n</code></pre>\n\n<p>Calling it might look like this:</p>\n\n<pre><code>val output = funReturnT {\n  \"$it! Great day today!\"\n}\nprintln(output)\n</code></pre>\n\n<p>And the output here being <code>Hello World! Great day today!</code>. The inferred type of <code>output</code> here is <code>String</code>, because our lambda expression is returning a <code>String</code> (the inferred type <code>T</code> of the function). This is the same as doing the following:</p>\n\n<pre><code>val output: String = funReturnT {\n  \"$it! Great day today!\"\n}\nprintln(output)\n</code></pre>\n\n<p>If we change the expected type of the <code>output</code>, we will get a compiler failure because of type mismatch.</p>\n\n<pre><code>// This fails to compile\nval output: Int = funReturnT {\n  \"$it! Great day today!\"\n}\nprintln(output)\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 47160273, "answer_count": 1, "score": 1, "last_activity_date": 1510070927, "creation_date": 1510064218, "question_id": 47160136, "link": "https://stackoverflow.com/questions/47160136/why-can-i-insert-a-line-code-before-dayforecasthashmapit-in-kotlin", "title": "Why can I insert a line code before DayForecast(HashMap(it)) in Kotlin?", "body": "<p>I'm learning the sample code about Anko at Kotlin for Android Developers (the book) at <a href=\"https://github.com/antoniolg/Kotlin-for-Android-Developers\" rel=\"nofollow noreferrer\">https://github.com/antoniolg/Kotlin-for-Android-Developers</a></p>\n\n<p>I add a line <code>var myMap=it</code> before <code>DayForecast(HashMap(it))</code>, I think that the App will crash because the definition of parseList is <code>parseList(parser: (Map&lt;String, Any?&gt;) -&gt; T)</code>, I can only assign a funtion to  parseList.But the app can run correctly, why?  </p>\n\n<p><strong>My modified ForecastDb.kt</strong></p>\n\n<pre><code>override fun requestForecastByZipCode(zipCode: Long, date: Long) = forecastDbHelper.use {\n\n        val dailyRequest = \"${DayForecastTable.CITY_ID} = ? AND ${DayForecastTable.DATE} &gt;= ?\"\n        val dailyForecast = select(DayForecastTable.NAME)\n                .whereSimple(dailyRequest, zipCode.toString(), date.toString())\n                .parseList { \n                   var myMap=it\n                   DayForecast(HashMap(it)) \n                 }\n\n}\n</code></pre>\n\n<p><strong>ForecastDb.kt</strong></p>\n\n<pre><code>override fun requestForecastByZipCode(zipCode: Long, date: Long) = forecastDbHelper.use {\n\n        val dailyRequest = \"${DayForecastTable.CITY_ID} = ? AND ${DayForecastTable.DATE} &gt;= ?\"\n        val dailyForecast = select(DayForecastTable.NAME)\n                .whereSimple(dailyRequest, zipCode.toString(), date.toString())\n                .parseList { DayForecast(HashMap(it)) }\n\n}\n</code></pre>\n\n<p><strong>DatabaseExtensions.kt</strong></p>\n\n<pre><code>fun &lt;T : Any&gt; SelectQueryBuilder.parseList(parser: (Map&lt;String, Any?&gt;) -&gt; T): List&lt;T&gt; =\n        parseList(object : MapRowParser&lt;T&gt; {\n            override fun parseRow(columns: Map&lt;String, Any?&gt;): T = parser(columns)\n})\n</code></pre>\n"}, {"tags": ["android", "testing", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 1, "last_activity_date": 1510064808, "last_edit_date": 1510064808, "creation_date": 1510064296, "answer_id": 47160160, "question_id": 47160000, "link": "https://stackoverflow.com/questions/47160000/error-with-mock-methods/47160160#47160160", "title": "Error with mock methods", "body": "<p>There's nothing wrong with your mocking of <code>shared</code>, I think the problem is with: </p>\n\n<pre><code> presenter.vote(ArgumentMatchers.anyInt(), Vote.QUESTION_DOWN)\n</code></pre>\n\n<p>Just use a real <code>Int</code> instead of the <code>ArgumentMatchers.anyInt()</code>. \nLike </p>\n\n<pre><code>presenter.vote(0, Vote.QUESTION_DOWN)\n</code></pre>\n\n<p>Matchers are used when matching arguments on a mocked object, for example</p>\n\n<pre><code>val calulator = (mock with Mockito)\nwhen(calculator.divideByTwo(anyInt()).thenReturn(1)\n</code></pre>\n\n<p>would mean <code>calculator.divideByTwo(int: Int)</code> returns <code>1</code> when called with any <code>Int</code>. </p>\n\n<p>When calling methods of real objects to test them (like you do with your presenter), you use real parameters. </p>\n"}], "owner": {"reputation": 11, "user_id": 6757416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506f43593103077c0dc1bd061eb64a19?s=128&d=identicon&r=PG&f=1", "display_name": "Valeriy Makarshin", "link": "https://stackoverflow.com/users/6757416/valeriy-makarshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 47160160, "answer_count": 1, "score": 0, "last_activity_date": 1510064808, "creation_date": 1510063738, "question_id": 47160000, "link": "https://stackoverflow.com/questions/47160000/error-with-mock-methods", "title": "Error with mock methods", "body": "<p>I try to mock some methods in the project so that when they are called, a certain value is returned.\nBut when you run the tests, they fall with the output:</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n  Invalid use of argument matchers! 0 matchers expected, 1 recorded:\n  -> at com.hodzi.stackviewer.questions.detail.QuestionDetailPresenterTest.voteTest(QuestionDetailPresenterTest.kt:69)</p>\n  \n  <p>This exception may occur if matchers are combined with raw values:\n      //incorrect:\n      someMethod(anyObject(), \"raw String\"); When using matchers, all arguments have to be provided by matchers. For example:\n      //correct:\n      someMethod(anyObject(), eq(\"String by matcher\"));</p>\n</blockquote>\n\n<p>If you run the same code in debug mode and run through all the lines, then when you call shared.getToken (), the value that we specified is returned. But with normal startup, tests fall on this line.</p>\n\n<p>Code:</p>\n\n<pre><code>import com.hodzi.stackviewer.questions.QuestionsInteractor\nimport com.hodzi.stackviewer.utils.Shared\nimport com.hodzi.stackviewer.utils.Vote\nimport org.junit.BeforeClass\nimport org.junit.Test\nimport org.mockito.ArgumentMatchers\nimport org.mockito.Mockito\n\n\ninternal class QuestionDetailPresenterTest {\n    companion object {\n        lateinit var presenter: QuestionDetailPresenter\n        lateinit var view: QuestionDetailView\n\n        @BeforeClass @JvmStatic\n        fun setUp() {\n            val questionsInteractor: QuestionsInteractor =\n                Mockito.mock(QuestionsInteractor::class.java)\n\n            val shared: Shared =\n                Mockito.mock(Shared::class.java)\n\n            Mockito.`when`(shared.getToken()).thenReturn(\"23\")\n\n//            Mockito.doReturn(\"23\").`when`(shared).getToken()\n\n\n            view = Mockito.mock(QuestionDetailView::class.java)\n            presenter = QuestionDetailPresenter(questionsInteractor, shared)\n        }\n\n    }\n    @Test\n    fun voteTest() {\n        presenter.vote(ArgumentMatchers.anyInt(), Vote.QUESTION_DOWN)\n        Mockito.verify(view).goToAuth()    \n    }\n\n}\n</code></pre>\n\n<p>Shared:</p>\n\n<pre><code>interface Shared {\n    companion object {\n        const val KEY_TOKEN: String = \"keyToken\"\n    }\n\n    fun getToken(): String\n\n    fun saveToken(token: String?)\n}\n</code></pre>\n\n<p>Presenter:</p>\n\n<pre><code>class QuestionDetailPresenter(val questionsInteractor: QuestionsInteractor, val shared: Shared) :\n    BasePresenter&lt;QuestionDetailView&gt;() {\n    lateinit var question: Question\n\n    fun vote(id: Int, vote: Vote) {\n        print(vote)\n        if (Strings.isEmptyString(shared.getToken())) {\n            view?.goToAuth()\n            return\n        }\n\n        val observable: Observable&lt;out Data&gt; = when (vote) {\n            Vote.ANSWER_UP     -&gt; {\n                questionsInteractor.answerUpVote(id, shared.getToken())\n            }\n            Vote.ANSWER_DOWN   -&gt; {\n                questionsInteractor.answerDownVote(id, shared.getToken())\n            }\n            Vote.QUESTION_UP   -&gt; {\n                questionsInteractor.questionUpVote(id, shared.getToken())\n            }\n            Vote.QUESTION_DOWN -&gt; {\n                questionsInteractor.questionDownVote(id, shared.getToken())\n            }\n        }\n        baseObservableData(observable,\n            { data -&gt;\n                run {\n                    Log.d(Const.LOG_TAG, \"success\")\n                }\n            },\n            { throwable -&gt;\n                run {\n                    Log.d(Const.LOG_TAG, \"error\")\n                }\n            }\n        )\n    }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 2862, "user_id": 538408, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/7O3z3.jpg?s=128&g=1", "display_name": "Murat", "link": "https://stackoverflow.com/users/538408/murat"}, "is_accepted": false, "score": 0, "last_activity_date": 1528726573, "creation_date": 1528726573, "answer_id": 50799884, "question_id": 47159328, "link": "https://stackoverflow.com/questions/47159328/autovalue-with-gsontypeadapter-in-kotlin/50799884#50799884", "title": "AutoValue with GsonTypeAdapter in Kotlin", "body": "<p>Just dont use it. If it is for Retrofit, you can just use .addConverterFactory(GsonConverterFactory.create()) and the kotlin data class.In your case, you need to remove MediaObject java class, and create data class:</p>\n\n<pre><code>data class MediaObject(\n    @SerializedName(\"mimetype\")\n    val mimetypeString:String,\n\n    @SerializedName(\"url\")\n    val uri:String)\n</code></pre>\n"}], "owner": {"reputation": 86, "user_id": 1333462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31fafc303bc898f0ecf4ff79c33feb4f?s=128&d=identicon&r=PG", "display_name": "Shai Herman", "link": "https://stackoverflow.com/users/1333462/shai-herman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1528726573, "creation_date": 1510061731, "last_edit_date": 1549310398, "question_id": 47159328, "link": "https://stackoverflow.com/questions/47159328/autovalue-with-gsontypeadapter-in-kotlin", "title": "AutoValue with GsonTypeAdapter in Kotlin", "body": "<p>I am trying to integrate <code>Kotlin</code> in an existing android Java project. After making the changes in the build and adding <code>Kotlin</code> to the project I can't find a solution to my <code>AutoValue</code> classes that have <code>GsonTypeAdapter</code> there doesn't seem to be support for this.</p>\n\n<pre><code>    @AutoValue\n    public abstract class MediaObject implements Parcelable {\n\n    public static TypeAdapter&lt;MediaObject&gt; typeAdapter(Gson gson) {\n        return new AutoValue_MediaObject.GsonTypeAdapter(gson);\n    }\n\n    @SerializedName(\"mimetype\")\n    public abstract String getMimeType();\n\n    @SerializedName(\"url\")\n    public abstract String getUri();\n}\n</code></pre>\n\n<p><strong><code>My Gson builder:</code></strong></p>\n\n<pre><code>GsonBuilder().registerTypeAdapterFactory(new AutoValueGsonTypeAdapterFactory())\n</code></pre>\n\n<p>Any suggestions how to resolve this or what to use instead?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "cucumber", "kotlin"], "comments": [{"owner": {"reputation": 6590, "user_id": 3945473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7a840257b5609850cabee995c052c3?s=128&d=identicon&r=PG", "display_name": "M.P. Korstanje", "link": "https://stackoverflow.com/users/3945473/m-p-korstanje"}, "edited": false, "score": 1, "creation_date": 1510265951, "post_id": 47159056, "comment_id": 81374589, "body": "Did you include <code>cucumber-spring</code>  as dependency?"}, {"owner": {"reputation": 3578, "user_id": 2731545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbaa55683cc693c2e95f63431af00ed0?s=128&d=identicon&r=PG", "display_name": "Thomas Sundberg", "link": "https://stackoverflow.com/users/2731545/thomas-sundberg"}, "edited": false, "score": 0, "creation_date": 1510293545, "post_id": 47159056, "comment_id": 81382441, "body": "I wrote a blogpost about Cucumber and dependency injection using Spring. Maybe it can give you a hint, <a href=\"http://www.thinkcode.se/blog/2017/06/24/sharing-state-between-steps-in-cucumberjvm-using-spring\" rel=\"nofollow noreferrer\">thinkcode.se/blog/2017/06/24/&hellip;</a>"}, {"owner": {"reputation": 2164, "user_id": 7121619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e413a729d8325c52d4861a97a928959?s=128&d=identicon&r=PG&f=1", "display_name": "Marit", "link": "https://stackoverflow.com/users/7121619/marit"}, "edited": false, "score": 0, "creation_date": 1559992371, "post_id": 47159056, "comment_id": 99599200, "body": "Do you have a Bean <code>PortForwardSshR</code>?"}, {"owner": {"reputation": 20110, "user_id": 472245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/395b65e986e8aca7c1af4643d162012e?s=128&d=identicon&r=PG", "display_name": "towi", "link": "https://stackoverflow.com/users/472245/towi"}, "reply_to_user": {"reputation": 2164, "user_id": 7121619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e413a729d8325c52d4861a97a928959?s=128&d=identicon&r=PG&f=1", "display_name": "Marit", "link": "https://stackoverflow.com/users/7121619/marit"}, "edited": false, "score": 0, "creation_date": 1561383113, "post_id": 47159056, "comment_id": 100034077, "body": "@Marit I think I had, but I can check again"}], "owner": {"reputation": 20110, "user_id": 472245, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/395b65e986e8aca7c1af4643d162012e?s=128&d=identicon&r=PG", "display_name": "towi", "link": "https://stackoverflow.com/users/472245/towi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533212069, "creation_date": 1510060871, "last_edit_date": 1533212069, "question_id": 47159056, "link": "https://stackoverflow.com/questions/47159056/how-to-have-cucumber-let-spring-inject-step-definition-classes", "title": "How to have Cucumber let Spring inject step definition classes?", "body": "<p>I have a SpringBootApplication which executes Cucumber (not as part of the tests but as the main application).</p>\n\n<p>I happen to do this in Kotlin, but that should not matter.</p>\n\n<p>This is the application class. The body of <code>demo02</code> is copied from some Cucumber sources and has been working fine. I think there is nothing wrong with it.</p>\n\n<pre><code>package cutest\n\nimport ...\n\n@CucumberOptions(tags = arrayOf(\"not @ignore\"),\n            features = arrayOf(\"sandbox/cutest/src/main/resources\"),\n            // features = arrayOf(\"src/main/resources\"),\n            format = arrayOf(\n                    \"pretty\",\n                    \"html:target/site/cucumber/cucumber\",\n                    \"json:target/failsafe-reports/cucumber.json\"\n            ),\n            strict = true)\n@SpringBootApplication\nopen class CucumberApplication {\n\n    @Bean\n    open fun demo02() = CommandLineRunner {\n\n        val cl : ClassLoader = javaClass.getClassLoader()\n        val rl = MultiLoader(cl)\n        val roFactory = RuntimeOptionsFactory(this.javaClass)\n\n        val ro = roFactory.create()\n\n        val classFinder : ClassFinder = ResourceLoaderClassFinder(rl, cl)\n        val runtime : cucumber.runtime.Runtime = cucumber.runtime.Runtime(rl, classFinder, cl, ro)\n        runtime.run()\n\n        if(runtime.exitStatus().toInt() != 0) {\n            throw RuntimeException(\"exit status: \" + runtime.exitStatus());\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(CucumberApplication::class.java, *args)\n}\n</code></pre>\n\n<p>Then I have a feature file:</p>\n\n<pre><code>Feature: Server is reachable\n  Here I try to connect to my web server app\n\n  @Basic\n  Scenario: Can connect to REST service of the web server\n    Given Cucumber is up and running\n    Then I can connect to the REST web server\n</code></pre>\n\n<p>Here are simple working Step Definitions, matching and passing the step <code>Given Cucumber is up and running</code>:</p>\n\n<pre><code>package cutest\n\nimport cucumber.api.java.en.Given\n\nclass SomeSteps {    \n    class SomeStepDefs {    \n        @Given(value = \"\"\"^Cucumber is up and running$\"\"\")\n        fun a() {\n            assert(true)\n        }    \n    }\n}\n</code></pre>\n\n<p>And now the problematic Step Definitions. It has some <code>@Autowired</code> annotations in it which seem to be problematic:</p>\n\n<pre><code>package cutest\n\nimport ...\n\nclass RestSteps {\n\n    @Autowired lateinit var ssh : PortForwardSshR\n\n    @Value(\"\\${cutest.url}\")\n    private val url = \"http://example.com:8080/app/rest\"\n\n    @Given(value = \"\"\"^I can connect to the REST web server$\"\"\")\n    fun connectRest() {\n        ....    \n    }\n}\n</code></pre>\n\n<p>When I run this I get the following output:</p>\n\n<pre><code>Feature: Cucumber is present\n  Cucumber framework must be up and running\n\n  @Basic\n  Scenario: Cucumber works          \n    Given Cucumber is up and running\n\nFeature: Reseller Interface is reachable\n  Here I try to ...\n\n  @Basic\n  Scenario: Can connect to REST service of the web server\n    Given Cucumber is up and running\n    Then I can connect to the REST web server\n\n\n  kotlin.UninitializedPropertyAccessException: lateinit property ssh has not been initialized\nat cutest.RestSteps.connectRest(RestSteps.kt:47)\nat \u273d.I can connect to the CAPs \n...\n\nFailed scenarios:\n\n... cutest/rest.feature:7\n\n2 Scenarios (1 failed, 1 passed)\n3 Steps (1 failed, 2 passed)\n</code></pre>\n\n<p>There probably not much more information in the stacktrace, but here it is:</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property ssh has not been initialized\nat cutest.RestSteps.connectRest(RestSteps.kt:47)\nat \u273d.I can connect to the CAPs ResellerInterface(...cutest/rest.feature:9)\n\n2017-11-07 13:46:08.974  INFO 11433 --- [  restartedMain] utoConfigurationReportLoggingInitializer :\n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2017-11-07 13:46:08.985 ERROR 11433 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:735) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:716) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:703) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:304) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nat cutest.CucumberApplicationKt.main(CucumberApplication.kt:50) [classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_144]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_144]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_144]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_144]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.7.RELEASE.jar:1.5.7.RELEASE]\nCaused by: java.lang.RuntimeException: exit status: 1\nat vc.capper.cutest.CucumberApplication$demo02$1.run(CucumberApplication.kt:44) ~[classes/:na]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:732) [spring-boot-1.5.7.RELEASE.jar:1.5.7.RELEASE]\n... 11 common frames omitted\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510059247, "post_id": 47158288, "comment_id": 81266273, "body": "Thanks... I probably should have come up with a better forEachFrom example.  :) I&#39;m not trying to improve that function, but more trying to understand if one can accumulate a test string within a Unit-returning function in a purely functional way -- without using a <code>var</code> in the enclosing scope?  I have a bunch of more complicated <code>Unit</code>-returning functions that I need to write tests for.  It&#39;s more of an exercise to stretch my mind about whether there&#39;s no good alternative to <code>var s</code> here."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510059383, "post_id": 47158288, "comment_id": 81266371, "body": "@sirksel, basically, accumulating state in functional style is usually done with the <i>fold</i> idiom (there&#39;s a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html\" rel=\"nofollow noreferrer\"><code>fold</code> extension function</a> in Kotlin)."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510059521, "post_id": 47158288, "comment_id": 81266467, "body": "@sirksel, here&#39;s an example implementation of the function above with <code>fold</code>: <a href=\"https://gist.github.com/h0tk3y/20f7985c79f746e91312e375de571dbb\" rel=\"nofollow noreferrer\">(gist)</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510059785, "post_id": 47158288, "comment_id": 81266648, "body": "You can make the accumulator type as complex as you need, e.g. use a <code>data</code> class with a property for each value that you need to accumulate."}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510059818, "post_id": 47158288, "comment_id": 81266673, "body": "what I couldn&#39;t figure out is how to use <code>fold</code> with a function returning Unit.  In other words, assume I can&#39;t change <code>forEachFrom</code>. If the function returned a value, I&#39;d know how to apply fold or reduce or what not by chaining. Is there a way to use a lambda in the <code>act</code> block (purely separate from modifying the base function being tested) that employs the fold concept but without referencing a var in the enclosing scope? If there is, I just couldn&#39;t get the syntax right."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510060379, "post_id": 47158288, "comment_id": 81267057, "body": "@sirksel I&#39;m not sure it&#39;s exactly what you want, but you can make another sequence using your custom function for iteration (with <code>buildSequence { ... }</code>, which uses coroutines) and then fold it: <a href=\"https://gist.github.com/h0tk3y/0307c90ddc85c5ff68093ee9e25e79be\" rel=\"nofollow noreferrer\">(gist)</a>"}, {"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510065533, "post_id": 47158288, "comment_id": 81270604, "body": "Your suggestion has me thinking down a new path - thanks!  It won&#39;t be simpler than string accumulation with a var, but it&#39;s teaching me something about functional programming.  Only problem is I&#39;m getting <code>error: suspension functions can be called only within coroutine body</code> pointing at the <code>yield(it)</code> in your gist.  I don&#39;t understand it enough to know why..."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1510066549, "post_id": 47158288, "comment_id": 81271315, "body": "That looks strange, here&#39;s a demo that compiles and works just fine: <a href=\"https://try.kotlinlang.org/#/UserProjects/j6ltpti7sboo3cps1p0dr1khin/9qetmjie7ck2ruivp13g3hhmh8\" rel=\"nofollow noreferrer\">(runnable demo)</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1510068185, "last_edit_date": 1510068185, "creation_date": 1510058473, "answer_id": 47158288, "question_id": 47158107, "link": "https://stackoverflow.com/questions/47158107/functional-way-to-accumulate-within-a-unit-function-in-kotlin/47158288#47158288", "title": "Functional way to accumulate within a Unit function in Kotlin?", "body": "<p>A way to do the same with only kotlin-stdlib and retain the semantics of the code (i.e. iterate only once) is to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-sequence.html\" rel=\"nofollow noreferrer\">convert the <code>Iterable&lt;T&gt;</code> to <code>Sequence&lt;T&gt;</code></a> and use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/drop.html\" rel=\"nofollow noreferrer\"><code>.drop(n)</code></a> extension:</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.forEachFrom(beg: Int, act: (T) -&gt; Unit) =\n    if (beg &gt;= 0)\n        asSequence().drop(beg).forEach(act) else\n        Unit\n</code></pre>\n\n<hr> \n\n<p><strong>UPD:</strong> After discussing the overall question, we came up with another approach.</p>\n\n<p>When you have a custom higher-order function that iterates over the items and only accepts a callback but does not return anything, you can wrap that custom iteration logic into a <code>Sequence&lt;T&gt;</code> by using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/build-sequence.html\" rel=\"nofollow noreferrer\"><code>buildSequence { ... }</code></a> and passing <code>yield(it)</code> as the callback:</p>\n\n<pre><code>val sequenceFromCustomFunction = buildSequence {\n    l.forEachFrom(2) { yield(it) }\n}\n</code></pre>\n\n<p>This allows you to work with this sequence in functional style and, in particular, fold the sequence:</p>\n\n<pre><code>val s = sequenceFromCustomFunction.fold(\"\") { acc, it -&gt; acc + it + \"-\" }\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 47158288, "answer_count": 1, "score": 1, "last_activity_date": 1510145820, "creation_date": 1510057930, "last_edit_date": 1510145820, "question_id": 47158107, "link": "https://stackoverflow.com/questions/47158107/functional-way-to-accumulate-within-a-unit-function-in-kotlin", "title": "Functional way to accumulate within a Unit function in Kotlin?", "body": "<p>I'm trying to force myself to employ functional programming in Kotlin, and wherever possible, avoid using mutable vars.  Ordinarily, for an <em>ad hoc</em> test for a unit-returning function, I'd just <code>println()</code> something inside the function to see if it's working right.  But for this test, I need to accumulate a string and then ultimately use <code>assertEquals(...)</code>.</p>\n\n<p>As usual, I found myself declaring a <code>var</code> in the enclosing scope and using <code>+=</code> to accumulate into it.  <strong>Is there a more functional way to do this by passing/chaining a function and eliminating the mutable var?</strong>  Here's some simplified but illustrative code:</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.forEachFrom(beg:Int, act:(T)-&gt;Unit) {\n  var i=0;  if (beg&gt;=0) for (e in this) if (i++ &gt;= beg) act(e)\n}\n\nfun main(args:Array&lt;String&gt;) {\n  val l = listOf(\"zero\", \"one\", \"two\", \"three\", \"four\")\n\n  // print-to-screen test\n  l.forEachFrom(2){print(\"$it-\")};  println()\n  // output:  two-three-four-\n\n  // accumulate-in-var test\n  var s = \"\"\n  l.forEachFrom(2){s += \"$it-\"};  println(s)\n  // output:  two-three-four-\n\n  // Is there a purely functional way, without declaring a mutable var?\n  // val s = l.forEachFrom(2){accumulator???(\"$it-\")}\n  // - OR -\n  // val s = l.forEachFrom(2).accumulator???(\"$it-\")\n  // println(s)\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1510058290, "post_id": 47157875, "comment_id": 81265557, "body": "what is the reason to use kotlin-script and not traditional gradle - groovy? at the moment android gradle plugin is not ready for production, so you need to do this things step by step. Here is video step by step <a href=\"https://youtu.be/XLNJkxWoCoc?list=PLt8lEzcLNl33F_6cQqDpnWK1iR4fJC4zu&amp;t=1269\" rel=\"nofollow noreferrer\">youtu.be/&hellip;</a>"}, {"owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "reply_to_user": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1510069833, "post_id": 47157875, "comment_id": 81273755, "body": "Thx for the video link! it helped me."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "edited": false, "score": 0, "creation_date": 1510069853, "post_id": 47158031, "comment_id": 81273774, "body": "Yeah, thats what I thought. Thx for the help! :)"}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 2, "last_activity_date": 1510057732, "creation_date": 1510057732, "answer_id": 47158031, "question_id": 47157875, "link": "https://stackoverflow.com/questions/47157875/app-build-gradle-kts-file-unresolved-reference-erros/47158031#47158031", "title": "App build.gradle.kts File Unresolved Reference Erros", "body": "<p>in <code>gradle</code> <code>compileSdkVersion</code> is <code>int</code> value and should looks like this </p>\n\n<pre><code>compileSdkVersion (28)\n</code></pre>\n\n<p>And i think you are mixed up <code>Project:gradle</code> and <code>Module:gradle</code></p>\n"}], "owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510057732, "creation_date": 1510057283, "question_id": 47157875, "link": "https://stackoverflow.com/questions/47157875/app-build-gradle-kts-file-unresolved-reference-erros", "title": "App build.gradle.kts File Unresolved Reference Erros", "body": "<p>i have a build.gradle.kts file in my Appfolder.</p>\n\n<pre><code>import org.gradle.internal.impldep.com.amazonaws.PredefinedClientConfigurations.defaultConfig\n\n\n\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        configurations {\n           classpath (\"com.github.shyiko:ktlint:0.11.1\")\n        }\n\n        classpath (\"com.android.tools.build:gradle:3.1.0-alpha01\")\n        classpath (\"org.jetbrains.kotlin:kotlin-gradle-plugin:${\"kotlin_version\"}\")\n\n\n    }  \n}\n\nplugins {\n    id (\"org.jmailen.kotlinter\") version \"1.5.0\"\n    id (\"io.gitlab.arturbosch.detekt\") version \"1.0.0.RC5-3\"\n\n}\n\napply { from (\"com.android.application\") }\napply { from ( \"kotlin-android\" ) }\napply { from ( \"kotlin-android-extensions\" )}\n\n\nandroid {\n    compileSdkVersion (\"28\")\n    buildToolsVersion (\"27.0.0\")\n\n    androidExtensions {\n        experimental = true\n    }\n}\n\next {\n    ankoVersion = \"0.10.2\"\n\n    moshiVersion = \"1.5.0\"\n    okioVersion = \"1.13.0\"\n    okhttpVersion = \"3.8.1\"\n    okhttpUrlconnectionVersion = \"${okhttpVersion}\"\n    okhttpAndroidSupportVersion = \"${okhttpVersion}\"\n    okhttpLoggingInterceptorVersion = \"${okhttpVersion}\"\n    retrofitVersion = '2.3.0'\n    retrofitMoshiVersion = \"${retrofitVersion}\"\n\n    robolectricVersion = '3.5.1'\n    robolectricAndroidAllVersion = '8.1.0-robolectric-r4402310'\n\n    kluentVersion = '1.30'\n}\n\n\n\n\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    implementation (\"com.android.support.constraint:constraint-layout\") version \"1.1.0-beta3\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre8\" version ($kotlin_version)\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    implementation \"org.jetbrains.anko:anko-common:$ankoVersion\"\n    implementation \"com.squareup.moshi:moshi:$moshiVersion\"\n    implementation \"com.squareup.moshi:moshi-kotlin:$moshiVersion\"\n\n    implementation \"com.squareup.okio:okio:$okioVersion\"\n    implementation \"com.squareup.okhttp3:okhttp:$okhttpVersion\"\n    implementation \"com.squareup.okhttp3:okhttp-urlconnection:$okhttpUrlconnectionVersion\"\n    implementation \"com.squareup.okhttp3:okhttp-android-support:$okhttpAndroidSupportVersion\"\n    implementation \"com.squareup.okhttp3:logging-interceptor:$okhttpLoggingInterceptorVersion\"\n    implementation(\"com.squareup.retrofit2:retrofit:$retrofitVersion\") {\n        exclude module: \"okhttp\"\n    }\n    implementation \"com.squareup.retrofit2:converter-moshi:$retrofitMoshiVersion\"\n    testImplementation \"org.robolectric:robolectric:$robolectricVersion\"\n    testImplementation \"org.robolectric:android-all:$robolectricAndroidAllVersion\"\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.3-alpha', {\n        exclude group: \"com.android.support\", module: \"support-annotations\"\n    })\n    testImplementation 'junit:junit:4.12'\n    testImplementation \"org.amshove.kluent:kluent:$kluentVersion\"\n}\n\ndetekt {\n    profile(\"main\") {\n        input = \"$projectDir/src/main/kotlin\"\n\n    }\n}\n</code></pre>\n\n<p>This is my complete build.gradle file.\nThe first Part from the top to android is , in my opion fine. Android Studio also shows no error. </p>\n\n<p>But, starting with the Keyword Android {, every single line is flagged as an error.\ni used this <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">page</a> to check how android should be implemented. But again this isn\u00b4t working for me. I guess i missunderstand the Docu or mix something up.</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1510053920, "post_id": 47155242, "comment_id": 81262655, "body": "<code>SET_ALARM</code> is listed as a Normal Permission, for which the following applies: <i>&quot;If an app declares in its manifest that it needs a normal permission, the system automatically grants the app that permission at install time. The system does not prompt the user to grant normal permissions, and users cannot revoke these permissions.&quot;</i>"}, {"owner": {"reputation": 1, "user_id": 8874098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651aad4f1fb464b0e3ae98d1c299f380?s=128&d=identicon&r=PG&f=1", "display_name": "Wilhelm Fors", "link": "https://stackoverflow.com/users/8874098/wilhelm-fors"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1510127750, "post_id": 47155242, "comment_id": 81297736, "body": "That doesn&#39;t seem to work since I declare in my manifest that I need the permission, and still the Permission Check returns -1, which I believe is Permission Denied... Any ideas what might cause this? I&#39;ve tried on several devices and emulators, and not even Android Developers sample alarm project works. Could there be some settings that are blocking it for me?"}], "owner": {"reputation": 1, "user_id": 8874098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651aad4f1fb464b0e3ae98d1c299f380?s=128&d=identicon&r=PG&f=1", "display_name": "Wilhelm Fors", "link": "https://stackoverflow.com/users/8874098/wilhelm-fors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510057303, "creation_date": 1510049617, "last_edit_date": 1510057303, "question_id": 47155242, "link": "https://stackoverflow.com/questions/47155242/permission-check-for-set-alarm-always-returns-permission-denied-without-asking-u", "title": "Permission Check for SET_ALARM always returns PERMISSION_DENIED without asking user for permission in Android Studio, Kotlin", "body": "<p>I'm trying to set an alarm for my app in Android Studio using <code>Kotlin</code>. However, running <code>alarmManager.setRepeating(...)</code>, doesn't work and <code>alarmManager.nextAlarmClock</code> returns null. I've found that when I try to check for <code>SET_ALARM</code> permission I get <code>PERMISSION_DENIED</code> (-1), even though I've specified using it in the manifest. <code>ActivityCompat.requestPermission</code> won't open the alert so the user is not able to grant permission. How can I get my app to allow <code>SET_ALARM</code>? Code below:</p>\n\n<pre><code>val permissionCheck = ContextCompat.checkSelfPermission(this, android.Manifest.permission.SET_ALARM)\n    if(permissionCheck != PackageManager.PERMISSION_GRANTED) {\n        Log.d(\"Notification\", \"Permission not granted earlier, permission: $permissionCheck\")\n        ActivityCompat.requestPermissions(this, arrayOf&lt;String&gt;(android.Manifest.permission.SET_ALARM),1)\n    } else {\n        Log.d(\"Notification\", \"Permission was already granted\")\n    }\n\n\n    val calendar = Calendar.getInstance()\n\n    calendar.set(Calendar.HOUR_OF_DAY, hour)\n    calendar.set(Calendar.MINUTE, minute)\n    calendar.set(Calendar.SECOND, 0)\n\n    val intent = Intent(this, NotificationReceiver::class.java)\n    val pendingIntent = PendingIntent.getBroadcast(this,Values.ALARM_REQUEST_CODE, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    val alarmManager = this.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.timeInMillis, AlarmManager.INTERVAL_DAY, pendingIntent)\n    Log.d(\"Norif\", \"Notifications set: ${alarmManager.nextAlarmClock}\")\n</code></pre>\n\n<p>and Manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SET_ALARM\"/&gt;\n&lt;uses-permission \nandroid:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/&gt;\n\n\n&lt;application&gt;\n&lt;receiver android:name=\"NotificationReceiver\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.tester.alarmmanager\"/&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n&lt;/application&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1510046658, "post_id": 47153013, "comment_id": 81257843, "body": "Downvoted for lack of prior research."}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 2641491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5Nag.png?s=128&g=1", "display_name": "Fatih Co\u015fkun", "link": "https://stackoverflow.com/users/2641491/fatih-co%c5%9fkun"}, "is_accepted": false, "score": 1, "last_activity_date": 1510045692, "last_edit_date": 1510045692, "creation_date": 1510045367, "answer_id": 47153752, "question_id": 47153013, "link": "https://stackoverflow.com/questions/47153013/how-does-kotlin-code-get-executed-in-an-android-application-and-how-is-it-diffe/47153752#47153752", "title": "How does Kotlin code get executed in an Android application, and how is it different from Java?", "body": "<p>Basically Kotlin is compiled to the same byte code as Java. </p>\n\n<p>You can find Kotlin tutorials all over the web. But they never explain very much about the generated bytecode other than 'it is jvm bytecode'. So one would imagine that there is no big difference to Java-compiled bytecode.</p>\n\n<p>I can imagine that one difference is that Kotlin augments the generated bytecode with annotations so as to enable Kotlin specific language features. This is probably also the reason why Kotlin has its own KClass type. It is probably capable of reading the kotlin specific class annotations. In effect there are 2 types that represent a class (KClass and Class). The old-school Class type instance is reference via class.java.</p>\n\n<p>Also note that Kotlin can be compiled to other languages than JVM bytecode. In those other cases there will be no Class reference, but still a KClass reference.</p>\n\n<p>A good starting point for tutorials is <a href=\"https://kotlinlang.org\" rel=\"nofollow noreferrer\">https://kotlinlang.org</a></p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 7, "last_activity_date": 1510060562, "creation_date": 1510060562, "answer_id": 47158960, "question_id": 47153013, "link": "https://stackoverflow.com/questions/47153013/how-does-kotlin-code-get-executed-in-an-android-application-and-how-is-it-diffe/47158960#47158960", "title": "How does Kotlin code get executed in an Android application, and how is it different from Java?", "body": "<blockquote>\n  <p>how is it different from Java code execution with Android</p>\n</blockquote>\n\n<p>It isn't. Android doesn't execute Java code or Kotlin code. Instead there is the following chain:</p>\n\n<ol>\n<li><p>Java/Kotlin/Scala/etc. compiler takes Java/Kotlin/Scala code and emits JVM bytecode in <code>.class</code> files.</p></li>\n<li><p>Android Gradle plugin takes JVM bytecode, converts it to Dalvik bytecode (using <code>dx</code> program) and packs it into <code>.apk</code>.</p></li>\n<li><p>When the <code>.apk</code> file is installed on device, <a href=\"https://en.wikipedia.org/wiki/Android_Runtime\" rel=\"noreferrer\">ART</a> converts Dalvik bytecode it contains to machine code.</p></li>\n<li><p>It's that machine code (and/or Dalvik bytecode) which is executed. ART has no idea which language source code was in at step 1 and doesn't care.</p></li>\n</ol>\n\n<blockquote>\n  <p>I also want to know why we write MainActivity::class.java (class.java) to reference class file.</p>\n</blockquote>\n\n<p>You don't. You write it to reference the <code>Class</code> object corresponding to the <code>MainActivity</code> class. </p>\n"}], "owner": {"reputation": 1831, "user_id": 3156908, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/3HteR.jpg?s=128&g=1", "display_name": "Ashish Tiwari", "link": "https://stackoverflow.com/users/3156908/ashish-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 47158960, "answer_count": 2, "score": 0, "last_activity_date": 1510060562, "creation_date": 1510042716, "last_edit_date": 1510046542, "question_id": 47153013, "link": "https://stackoverflow.com/questions/47153013/how-does-kotlin-code-get-executed-in-an-android-application-and-how-is-it-diffe", "title": "How does Kotlin code get executed in an Android application, and how is it different from Java?", "body": "<p>I am learning Kotlin and would like to understand how the compiled code gets executed, and how is it different from Java code execution with Android.</p>\n\n<p>I also want to know why we write <code>MainActivity::class.java</code> (<code>class.java</code>) to reference class file.</p>\n\n<p>Thank you! </p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "is_accepted": false, "score": 1, "last_activity_date": 1510053415, "creation_date": 1510053415, "answer_id": 47156554, "question_id": 47152521, "link": "https://stackoverflow.com/questions/47152521/how-to-design-to-reduce-redundant-classes-in-kotlin/47156554#47156554", "title": "How to design to reduce redundant classes in Kotlin?", "body": "<p>In terms of database related classes, you may think about using ORM Library that will annotate fields and generate database table schema (remove need for DayForecastTable) e.g. Room (<a href=\"https://developer.android.com/training/data-storage/room/index.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/room/index.html</a>)</p>\n\n<p>You could technically use those classes across your whole app to reduce the need for DomainClasses, although I would suggest keeping Domain layer classes to make domain model independent from database.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510053415, "creation_date": 1510040896, "question_id": 47152521, "link": "https://stackoverflow.com/questions/47152521/how-to-design-to-reduce-redundant-classes-in-kotlin", "title": "How to design to reduce redundant classes in Kotlin?", "body": "<p>I'm learning the sample \"Kotlin for Android Developers (the book) \" at <a href=\"https://github.com/antoniolg/Kotlin-for-Android-Developers\" rel=\"nofollow noreferrer\">https://github.com/antoniolg/Kotlin-for-Android-Developers</a></p>\n\n<p>There are three classes in different kt file, I think the three classes are similar, and these mulit classes  make the program complex.</p>\n\n<p>How can I redesign the project framework and make project more clear?</p>\n\n<p><strong>DbClasses.kt</strong></p>\n\n<pre><code>class DayForecast(var map: MutableMap&lt;String, Any?&gt;) {\n    var _id: Long by map\n    var date: Long by map\n    var description: String by map\n    var high: Int by map\n    var low: Int by map\n    var iconUrl: String by map\n    var cityId: Long by map\n\n    constructor(date: Long, description: String, high: Int, low: Int, iconUrl: String, cityId: Long)\n            : this(HashMap()) {\n        this.date = date\n        this.description = description\n        this.high = high\n        this.low = low\n        this.iconUrl = iconUrl\n        this.cityId = cityId\n    }\n}\n</code></pre>\n\n<p><strong>tables.kt</strong></p>\n\n<pre><code>object DayForecastTable {\n    val NAME = \"DayForecast\"\n    val ID = \"_id\"\n    val DATE = \"date\"\n    val DESCRIPTION = \"description\"\n    val HIGH = \"high\"\n    val LOW = \"low\"\n    val ICON_URL = \"iconUrl\"\n    val CITY_ID = \"cityId\"\n}\n</code></pre>\n\n<p><strong>DomainClasses.kt</strong></p>\n\n<pre><code>data class Forecast(\n    val id: Long,\n    val date: Long,\n    val description: String,\n    val high: Int, \n    val low: Int,\n    val iconUrl: String\n)\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-databinding", "android-binding-adapter"], "comments": [{"owner": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "edited": false, "score": 0, "creation_date": 1510039185, "post_id": 47151825, "comment_id": 81253573, "body": "Can you post your code for the <code>getSpanSizeFromScreenWidth</code> method? Thanks!"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "reply_to_user": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "edited": false, "score": 1, "creation_date": 1510040873, "post_id": 47151825, "comment_id": 81254422, "body": "Just added :) didn&#39;t put it before as it&#39;s nothing special ^^"}], "answers": [{"comments": [{"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 0, "creation_date": 1510043848, "post_id": 47153060, "comment_id": 81256011, "body": "But my problem is that with the debugger recycler.width is equal to 0 not the all function :/ so availableWidth = 0, px= 825.0 and margin = 15.0"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 1, "creation_date": 1510044157, "post_id": 47153060, "comment_id": 81256208, "body": "Maybe my calculation is wrong for small screen and density you&#39;re right, but here I&#39;m testing on a big screen and density so should be right. But thanks I&#39;ll take a look for smaller densities when this one is fixed ^^"}, {"owner": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "reply_to_user": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 0, "creation_date": 1510045889, "post_id": 47153060, "comment_id": 81257344, "body": "Hold on.. I somehow completely missed the <code>Math.max(1, ...)</code>. But that means that the last line would <b>have</b> to resolve to <code>&lt;value_1_or_greater&gt; * DevicesBindableAdapter.WIDTH_UNIT_VALUE</code>. And if you said it&#39;s returning <code>0</code>, then that means that either <code>WIDTH_UNIT_VALUE</code> equals <code>0</code> or it is <code>&gt; 0 and &lt; 0.5</code> potentially causing it to round down to <code>0</code>.  Hopefully that helps. Haha if not, good luck! Hope you get it working..  P.S. this post may have some similar ideas to try: <a href=\"https://stackoverflow.com/questions/3591784/getwidth-and-getheight-of-view-returns-0?rq=1\" title=\"getwidth and getheight of view returns 0\">stackoverflow.com/questions/3591784/&hellip;</a>"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 1, "creation_date": 1510051276, "post_id": 47153060, "comment_id": 81260968, "body": "No getSpanSizeFromScreenWidth always return 8 because WIDTH_UNIT_VALUE equal 8 :) but that&#39;s because my recyclerView.width always return 0 :( I&#39;ll keep digging but thanks but your inputs :)"}], "tags": [], "owner": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1510042865, "creation_date": 1510042865, "answer_id": 47153060, "question_id": 47151825, "link": "https://stackoverflow.com/questions/47151825/call-getmeasuredwidth-or-getwidth-for-recyclerview-return-0-on-data-binding/47153060#47153060", "title": "Call getMeasuredWidth() or getWidth() for RecyclerView return 0 on data binding", "body": "<p>In inspecting the code, it appears that your <code>RecyclerView</code> may actually be fine, but your logic in <code>getSpanSizeFromScreenWidth</code> may not be.</p>\n\n<p>It looks like this: <code>Math.floor((availableWidth / (px + margin)).toDouble()).toInt()</code> will <em>always</em> be 0 when <code>availableWidth</code> is less than <code>(px + margin)</code>. This will then cause <code>getSpanSizeFromScreenWidth</code> to return <code>0</code>.</p>\n\n<hr>\n\n<p>Breaking it down:</p>\n\n<ul>\n<li><code>Math.floor</code> - rounds a <code>double</code> <strong>down</strong> to a whole number</li>\n<li><code>availableWidth / (px + margin)</code> - will be a <strong>low</strong> number (a fraction of <code>availableWidth</code>)</li>\n</ul>\n\n<p>Therefore, you're going to get <code>0</code> at times <em>especially</em> on smaller screens and/or smaller density screens.</p>\n\n<p>Does that make sense? May not be this issue, but I'd start there. It's hard to tell you exactly the issue without knowing the whole context, but that's likely your issue.</p>\n\n<hr>\n\n<p>If that is <em>not</em> your issue, could you say what your value is for <code>availableWidth</code>, <code>px</code>, and <code>margin</code> during execution?</p>\n"}], "owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 668, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510042865, "creation_date": 1510038211, "last_edit_date": 1510040826, "question_id": 47151825, "link": "https://stackoverflow.com/questions/47151825/call-getmeasuredwidth-or-getwidth-for-recyclerview-return-0-on-data-binding", "title": "Call getMeasuredWidth() or getWidth() for RecyclerView return 0 on data binding", "body": "<p>I'm using data binding to setup a <code>RecyclerView</code>. Here is the binding adapter:</p>\n\n<pre><code>fun setRecyclerDevices(recyclerView: RecyclerView, items: List&lt;Device&gt;, itemBinder: MultipleTypeItemBinder,\n                                   listener: BindableListAdapter.OnClickListener&lt;Device&gt;?) {\n\n        var adapter = recyclerView.adapter as? DevicesBindableAdapter\n        if (adapter == null) {\n            val spannedGridLayoutManager = SpannedGridLayoutManager(orientation = SpannedGridLayoutManager.Orientation.VERTICAL,\n                    spans = getSpanSizeFromScreenWidth(recyclerView.context, recyclerView))\n            recyclerView.layoutManager = spannedGridLayoutManager\n            recyclerView.addItemDecoration(SpaceItemDecorator(left = 15, top = 15, right = 15, bottom = 15))\n            adapter = DevicesBindableAdapter(items, itemBinder)\n            adapter.setOnClickListener(listener)\n            recyclerView.adapter = adapter\n        } else {\n            adapter.setOnClickListener(listener)\n            adapter.setItemBinder(itemBinder)\n            adapter.setItems(items)\n        }\n    }\n</code></pre>\n\n<p><code>getSpanSizeFromScreenWidth</code> needs the recycler's width to do some calculation. But it always returns <code>0</code>.</p>\n\n<p>I tried to apply a <code>ViewTreeObserver</code> like this:</p>\n\n<pre><code>recyclerView.viewTreeObserver.addOnGlobalLayoutListener(object: ViewTreeObserver.OnGlobalLayoutListener {\n\n                override fun onGlobalLayout() {\n                    recyclerView.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    val spannedGridLayoutManager = SpannedGridLayoutManager(orientation = SpannedGridLayoutManager.Orientation.VERTICAL,\n                            spans = getSpanSizeFromScreenWidth(recyclerView.context, recyclerView))\n                    recyclerView.layoutManager = spannedGridLayoutManager\n                }\n            })\n</code></pre>\n\n<p>Or use <code>post</code> like this: </p>\n\n<pre><code>recyclerView.post({\n                val spannedGridLayoutManager = SpannedGridLayoutManager(orientation = SpannedGridLayoutManager.Orientation.VERTICAL,\n                        spans = getSpanSizeFromScreenWidth(recyclerView.context, recyclerView))\n                recyclerView.layoutManager = spannedGridLayoutManager\n            })\n</code></pre>\n\n<p>Code of getSpanSizeFormScreenWidth: </p>\n\n<pre><code>private fun getSpanSizeFromScreenWidth(context: Context, recyclerView: RecyclerView): Int {\n        val availableWidth = recyclerView.width.toFloat()\n        val px = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 300f, context.resources.displayMetrics)\n        val margin = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_PX, 15f, context.resources.displayMetrics)\n        return Math.max(1, Math.floor((availableWidth / (px + margin)).toDouble()).toInt()) * DevicesBindableAdapter.WIDTH_UNIT_VALUE\n    }\n</code></pre>\n\n<p>But it still returns <code>0</code> despite my <code>RecyclerView</code> being displayed on the screen (not <code>0</code>).</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 0, "creation_date": 1510034754, "post_id": 47150966, "comment_id": 81251581, "body": "Post your gradle files both project and module"}, {"owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "edited": false, "score": 0, "creation_date": 1510035400, "post_id": 47150966, "comment_id": 81251854, "body": "This may be an issue in KOTLIN configuration wizard that is fixed in newer plugin versions. Better you can move to Android Studio 3.0 for KOTLIN."}, {"owner": {"reputation": 243, "user_id": 8057911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXmLOr365DE/AAAAAAAAAAI/AAAAAAAAAF0/UlsYJkHTMdo/photo.jpg?sz=128", "display_name": "Nirav Shah", "link": "https://stackoverflow.com/users/8057911/nirav-shah"}, "edited": false, "score": 0, "creation_date": 1510035458, "post_id": 47150966, "comment_id": 81251881, "body": "Already using android 3.0"}, {"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1510035743, "post_id": 47150966, "comment_id": 81252013, "body": "can u please try to sync gradle after removing compile &quot;org.jetbrains.kotlin:kotlin-reflect:1.1.4&quot; and espresso and test:runner dependency ? let me know if u still face issue...please remove those 3 dependency first..than file-&gt; invalidate cache and restart the studio"}, {"owner": {"reputation": 243, "user_id": 8057911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXmLOr365DE/AAAAAAAAAAI/AAAAAAAAAF0/UlsYJkHTMdo/photo.jpg?sz=128", "display_name": "Nirav Shah", "link": "https://stackoverflow.com/users/8057911/nirav-shah"}, "edited": false, "score": 0, "creation_date": 1510035967, "post_id": 47150966, "comment_id": 81252107, "body": "When I remove  &quot;org.jetbrains.kotlin:kotlin-reflect:1.1.4&quot; error gone But I need to use &quot;org.jetbrains.kotlin:kotlin-reflect:1.1.4&quot; for getting classname"}, {"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1510036025, "post_id": 47150966, "comment_id": 81252143, "body": "let me post that solution below so other can also use it...i will guide for getting classname"}, {"owner": {"reputation": 243, "user_id": 8057911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXmLOr365DE/AAAAAAAAAAI/AAAAAAAAAF0/UlsYJkHTMdo/photo.jpg?sz=128", "display_name": "Nirav Shah", "link": "https://stackoverflow.com/users/8057911/nirav-shah"}, "edited": false, "score": 0, "creation_date": 1510036662, "post_id": 47150966, "comment_id": 81252408, "body": "Not solved..i have tried invalid cache and restart and synch.Any Other Solution.?Any other way to get class name in kotlin?"}, {"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1510036686, "post_id": 47150966, "comment_id": 81252420, "body": "@NiravShah compile &quot;org.jetbrains.kotlin:kotlin-reflect&quot; can you try this dependency?"}, {"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1510036749, "post_id": 47150966, "comment_id": 81252446, "body": "other way for getting class name is you can add jar file for it i already posted link in answer"}, {"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "reply_to_user": {"reputation": 243, "user_id": 8057911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXmLOr365DE/AAAAAAAAAAI/AAAAAAAAAF0/UlsYJkHTMdo/photo.jpg?sz=128", "display_name": "Nirav Shah", "link": "https://stackoverflow.com/users/8057911/nirav-shah"}, "edited": false, "score": 0, "creation_date": 1510036892, "post_id": 47150966, "comment_id": 81252501, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/158375/discussion-between-lokesh-desai-and-nirav-shah\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "is_accepted": true, "score": 1, "last_activity_date": 1510036420, "last_edit_date": 1510036420, "creation_date": 1510036115, "answer_id": 47151327, "question_id": 47150966, "link": "https://stackoverflow.com/questions/47150966/kotlin-configuration-error/47151327#47151327", "title": "Kotlin Configuration error", "body": "<p>Sync your gradle after Just removing compile \"org.jetbrains.kotlin:kotlin-reflect:1.1.4\" than file-> invalidate cache and restart option from the studio</p>\n\n<p>For getting classname please refer below link.\n<a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html</a></p>\n"}], "owner": {"reputation": 243, "user_id": 8057911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fXmLOr365DE/AAAAAAAAAAI/AAAAAAAAAF0/UlsYJkHTMdo/photo.jpg?sz=128", "display_name": "Nirav Shah", "link": "https://stackoverflow.com/users/8057911/nirav-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 47151327, "answer_count": 1, "score": 0, "last_activity_date": 1510036420, "creation_date": 1510034504, "last_edit_date": 1510035015, "question_id": 47150966, "link": "https://stackoverflow.com/questions/47150966/kotlin-configuration-error", "title": "Kotlin Configuration error", "body": "<p>I have started  kotlin programing in android.I setup the kotlin in android studio.But gradle failed to build project. Kotlin reflection lib error.</p>\n\n<p>Here is my Logcat:</p>\n\n<blockquote>\n  <p>Information:Gradle tasks [:app:assembleDebug]\n  Error:com.android.builder.dexing.DexArchiveBuilderException: Failed to\n  process\n  C:\\Users\\USER.gradle\\wrapper\\dists\\gradle-4.1-all\\gradle-4.1\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.1.4\\27053164a2b459671c4b9fe791408a5bc064937f\\kotlin-reflect-1.1.4.jar\n  Error:com.android.builder.dexing.DexArchiveBuilderException: Error\n  while dexing. Error:java.util.NoSuchElementException Error:Execution\n  failed for task ':app:transformClassesWithDexBuilderForDebug'.</p>\n  \n  <blockquote>\n    <p>com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException:\n    com.android.builder.dexing.DexArchiveBuilderException: Failed to\n    process\n    C:\\Users\\USER.gradle\\wrapper\\dists\\gradle-4.1-all\\gradle-4.1\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-reflect\\1.1.4\\27053164a2b459671c4b9fe791408a5bc064937f\\kotlin-reflect-1.1.4.jar\n    Information:BUILD FAILED in 19s Information:4 errors Information:0\n    warnings Information:See complete output in console</p>\n  </blockquote>\n</blockquote>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.4'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0-alpha01'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n\n\napply plugin: 'kotlin-android'\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.codefuelindia.healthcircleordermgmt\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            postprocessing {\n                removeUnusedCode false\n                removeUnusedResources false\n                obfuscate false\n                optimizeCode false\n                proguardFile 'proguard-rules.pro'\n            }\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.2.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    implementation 'com.android.support:design:26.1.0'\n    compile 'com.github.bumptech.glide:glide:4.0.0-RC0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.0.0-RC0'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.8.0'\n    compile 'com.google.code.gson:gson:2.8.0'\n    implementation 'com.android.support:cardview-v7:27.0.0'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:1.1.4\"\n\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>How to solve..Need help.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "edited": false, "score": 0, "creation_date": 1510034705, "post_id": 47150579, "comment_id": 81251560, "body": "Look at the conversion of your code <a href=\"https://pastebin.com/AcYKGHRH\" rel=\"nofollow noreferrer\">pastebin.com/AcYKGHRH</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1510034067, "post_id": 47150778, "comment_id": 81251312, "body": "Vote up my question if you think that will help others in the future :)"}], "tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": true, "score": 2, "last_activity_date": 1510033516, "creation_date": 1510033516, "answer_id": 47150778, "question_id": 47150579, "link": "https://stackoverflow.com/questions/47150579/omitted-return-in-kotlin-need-extra-code-how-to-fix-that/47150778#47150778", "title": "Omitted `Return` in Kotlin need extra code. How to fix that?", "body": "<p>Use <a href=\"http://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">qualified return</a>:</p>\n\n<pre><code>if (response.isSuccessful) {\n    val responseBody = response.body()\n    if (responseBody != null)\n        return@map Person.parseFrom(responseBody.byteStream())\n}\nreturn@map null\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1510047099, "post_id": 47150886, "comment_id": 81258120, "body": "The response.body once accessed, is no longer accessible. Hence it has to be stored in a variable."}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1510050407, "post_id": 47150886, "comment_id": 81260416, "body": "@Elye How about now?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1510050950, "post_id": 47150886, "comment_id": 81260751, "body": "That&#39;s possible. But we don&#39;t want to waste time accessing and storing the body (an expensive process) if it is not successful."}], "tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1510050370, "last_edit_date": 1510050370, "creation_date": 1510034123, "answer_id": 47150886, "question_id": 47150579, "link": "https://stackoverflow.com/questions/47150579/omitted-return-in-kotlin-need-extra-code-how-to-fix-that/47150886#47150886", "title": "Omitted `Return` in Kotlin need extra code. How to fix that?", "body": "<p>Even shorter</p>\n\n<pre><code>val body = response.body\nif (response.isSuccessful &amp;&amp; body != null) {\n       Person.parseFrom(body.byteStream())\n} else null\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 47150778, "answer_count": 2, "score": 1, "last_activity_date": 1510050370, "creation_date": 1510032507, "question_id": 47150579, "link": "https://stackoverflow.com/questions/47150579/omitted-return-in-kotlin-need-extra-code-how-to-fix-that", "title": "Omitted `Return` in Kotlin need extra code. How to fix that?", "body": "<p>When I code an Rx Observable in Java (7), it is as below</p>\n\n<pre><code>private Observable observable = Observable.just(\"http://myurl.com/\")\n        .map(new Function&lt;String, Person&gt;() {\n            @Override\n            public Person apply(String url) throws Exception {\n\n                Request request = new Request.Builder().url(url).build();\n                Call call = okHttpClient.newCall(request);\n                Response response = call.execute();\n\n                if (response.isSuccessful()) {\n                    ResponseBody responseBody = response.body();\n                    if (responseBody != null) {\n                        return Person.parseFrom(responseBody.byteStream());\n                    }\n                }\n\n                return null;\n        }\n}).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread());\n</code></pre>\n\n<p>When I convert it to Kotlin, it is as below</p>\n\n<pre><code>private val observable = Observable.just(\"http://myurl.com/\")\n        .map{\n            val request = Request.Builder().url(it).build()\n            val call = okHttpClient.newCall(request)\n            val response = call.execute()\n\n            if (response.isSuccessful) {\n                val responseBody = response.body()\n                if (responseBody != null) {\n                    Person.parseFrom(responseBody.byteStream())\n                } else {\n                    null\n                }\n            } else {\n                null\n            }\n        }.subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n\n<p>In the Kotlin version, you might notice I have two <code>null</code>s. But in Java, I could avoid doing that, as I could have a return statement in the Map function. How could I achieve that in Kotlin as well without duplicating the <code>null</code>?</p>\n"}, {"tags": ["tuples", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 27, "last_activity_date": 1510024386, "creation_date": 1510024386, "answer_id": 47149372, "question_id": 47149305, "link": "https://stackoverflow.com/questions/47149305/kotlin-how-to-modify-a-value-in-a-pair/47149372#47149372", "title": "Kotlin: How to modify a value in a pair?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html\" rel=\"noreferrer\">Pair</a>, like most data classes, is immutable. Its definition is effectively</p>\n\n<pre><code>data class Pair&lt;out A, out B&gt;(val first: A, val second: B)\n</code></pre>\n\n<p>If it were mutable, it could not be covariant in <code>out A</code> and <code>out B</code>, nor would it be safe to use as a Map key.</p>\n\n<p>However, like other data classes, it can be <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#copying\" rel=\"noreferrer\">copied with changes</a>.</p>\n\n<pre><code>p = p.copy(first = 3)\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 4513189, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6281a74903790bf5a7335b92f7f2a14f?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Weidman", "link": "https://stackoverflow.com/users/4513189/joey-weidman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7358, "favorite_count": 1, "closed_date": 1510055205, "accepted_answer_id": 47149372, "answer_count": 1, "score": 9, "last_activity_date": 1510024386, "creation_date": 1510023821, "question_id": 47149305, "link": "https://stackoverflow.com/questions/47149305/kotlin-how-to-modify-a-value-in-a-pair", "closed_reason": "Duplicate", "title": "Kotlin: How to modify a value in a pair?", "body": "<p>Why can't I change the values in the pair:</p>\n\n<pre><code>var p: Pair&lt;Int, String&gt; = Pair(5, \"Test\")\np.first = 3\n</code></pre>\n\n<p>Error under <code>p.first</code>: Val cannot be reassigned  </p>\n"}, {"tags": ["jackson", "kotlin", "feign"], "comments": [{"owner": {"reputation": 1666, "user_id": 794779, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6fcb78bccab141509b0d9f74953dd4c9?s=128&d=identicon&r=PG", "display_name": "fred", "link": "https://stackoverflow.com/users/794779/fred"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1510021771, "post_id": 47148778, "comment_id": 81247978, "body": "I&#39;m calling jacksonObjectMapper() as instructed by <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-module-kotlin</a>. Before .encoder(new JacksonEncoder(jacksonObjectMapper())), I&#39;ve tried configuring it using ObjectMapper mapper = jacksonObjectMapper();         JacksonEncoder encoder = new JacksonEncoder(mapper);         mapper.setPropertyNamingStrategy(new PropertyNamingStrategy());         mapper.registerModule(new KotlinModule()); to no avail."}, {"owner": {"reputation": 1666, "user_id": 794779, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6fcb78bccab141509b0d9f74953dd4c9?s=128&d=identicon&r=PG", "display_name": "fred", "link": "https://stackoverflow.com/users/794779/fred"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1510022496, "post_id": 47148778, "comment_id": 81248131, "body": "MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES is for incoming, so it doesn&#39;t work. But mapper.configure(USE_STD_BEAN_NAMING, true); seems like it has the desired effect, cheers."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1510022686, "post_id": 47148778, "comment_id": 81248172, "body": "Yes I was just wondering if it was worth investigating if that property was breaking something on outgoing. I&#39;ve been looking at the differences between 2.7.9 and master, and I see there&#39;s a <a href=\"https://github.com/FasterXML/jackson-module-kotlin/tree/jackson-module-kotlin-2.7.9#caveats\" rel=\"nofollow noreferrer\">caveat in 2.7.9</a> that is no longer in master: &quot;Currently we use parameter name information in Kotlin that is compatible with Kotlin M8 through M11&quot;. Could that explain the problem? Are you able to upgrade Jackson and jackson-module-kotlin?"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1510022802, "post_id": 47148778, "comment_id": 81248206, "body": "Nice find about USE_STD_BEAN_NAMING."}, {"owner": {"reputation": 1666, "user_id": 794779, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6fcb78bccab141509b0d9f74953dd4c9?s=128&d=identicon&r=PG", "display_name": "fred", "link": "https://stackoverflow.com/users/794779/fred"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1510022882, "post_id": 47148778, "comment_id": 81248225, "body": "On second thought, doesn&#39;t the fact I explicitly have to mapper.configure(USE_STD_BEAN_NAMING, true); mean @JsonProperty(&quot;TPID&quot;) is in fact still being ignored?   I should be able to upgrade."}, {"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1522155651, "post_id": 47148778, "comment_id": 86031741, "body": "Use jackson-module-kotlin <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-module-kotlin</a> for Kotlin"}, {"owner": {"reputation": 3190, "user_id": 2987755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHWsA.jpg?s=128&g=1", "display_name": "dkb", "link": "https://stackoverflow.com/users/2987755/dkb"}, "edited": false, "score": 0, "creation_date": 1614241179, "post_id": 47148778, "comment_id": 117326782, "body": "Still no luck even with <code>jackson-module-kotlin</code>"}], "answers": [{"tags": [], "owner": {"reputation": 253, "user_id": 6422400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFaLr.png?s=128&g=1", "display_name": "Milosz Tylenda", "link": "https://stackoverflow.com/users/6422400/milosz-tylenda"}, "is_accepted": false, "score": 2, "last_activity_date": 1526388372, "creation_date": 1526388372, "answer_id": 50350594, "question_id": 47148778, "link": "https://stackoverflow.com/questions/47148778/kotlin-data-class-jackson-jsonproperty-not-honored/50350594#50350594", "title": "Kotlin data class Jackson @JsonProperty not honored", "body": "<p>What helped to me was to specify that the annotation should be applied to the getter: <code>@get:JsonProperty(\"TPID\")</code></p>\n"}], "owner": {"reputation": 1666, "user_id": 794779, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6fcb78bccab141509b0d9f74953dd4c9?s=128&d=identicon&r=PG", "display_name": "fred", "link": "https://stackoverflow.com/users/794779/fred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2008, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1591708227, "creation_date": 1510019681, "question_id": 47148778, "link": "https://stackoverflow.com/questions/47148778/kotlin-data-class-jackson-jsonproperty-not-honored", "title": "Kotlin data class Jackson @JsonProperty not honored", "body": "<p>I'm wiring up Feign to POST using a Kotlin data class. </p>\n\n<p>The API I'm calling expects {...\"brandInfo\":{\"TPID\":1}...}</p>\n\n<p>My understanding is, if the jackson-module-kotlin dependency wasn't being picked up correctly, Feign wouldn't be able to POST at all, because Jackson encoding would fail outright. </p>\n\n<p>However, Feign is able to POST, and Jackson is able to encode, but no matter what I do, what's being posted is {...\"brandInfo\":{\"tpid\":1}...}, despite the brandInfo val being annotated with @JsonProperty(\"TPID\"). </p>\n\n<p>What am I missing?</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class KBrandInfo (\n    @JsonProperty(\"TPID\") //not honored\n    val TPID: Long\n)\n\n\ninterface KConversationServiceClient {\n    @RequestLine(\"POST v2/conversations\")\n    @Headers(\"Content-Type: application/json\")\n    fun createConversation(createConversation: KCreateConversation): String\n}\n\n\n@Provides\npublic KConversationServiceClient getKConversationServiceClient(\n        @Named(\"conversationServiceUrl\") String baseUri,\n        Feign.Builder builder) {\n    return builder\n            .logLevel(Logger.Level.FULL)\n            .decoder(new StringDecoder())\n            .encoder(new JacksonEncoder(jacksonObjectMapper())) //does this need some extra configuration in order to pick up @JsonProperty annotations?\n            .requestInterceptor(requestTemplate -&gt;\n                    requestTemplate\n                            .header(\"requestId\", UUID.randomUUID().toString())\n            .target(KConversationServiceClient.class, baseUri);\n}\n\n\n&lt;properties&gt;\n    ...\n    &lt;feign.version&gt;9.3.1&lt;/feign.version&gt;\n    &lt;kotlin.version&gt;1.1.51&lt;/kotlin.version&gt;\n    ...\n&lt;/properties&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n        &lt;artifactId&gt;feign-core&lt;/artifactId&gt;\n        &lt;version&gt;${feign.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n        &lt;artifactId&gt;feign-hystrix&lt;/artifactId&gt;\n        &lt;version&gt;${feign.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n        &lt;artifactId&gt;feign-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${feign.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n        &lt;artifactId&gt;feign-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${feign.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n        &lt;artifactId&gt;feign-gson&lt;/artifactId&gt;\n        &lt;version&gt;${feign.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-parameter-names&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;${fasterxml.jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!--Kotlin + Java + Maven implies some funky temporal dependencies and handling of annotation processing when building--&gt;\n        &lt;!--* https://kotlinlang.org/docs/reference/using-maven.html--&gt;\n        &lt;!--* https://kotlinlang.org/docs/reference/kapt.html--&gt;\n        &lt;!--* https://github.com/JetBrains/kotlin-examples/blob/master/maven/dagger-maven-example/pom.xml--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                            &lt;source&gt;src/main/java&lt;/source&gt;\n                            &lt;source&gt;target/generated-sources/annotations&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n        ...\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510041847, "post_id": 47151563, "comment_id": 81254911, "body": "Thanks! but why can you insert &quot; val map = it&quot; before  DayForecast(HashMap(it)) ? I think that the App will be crash because the defined of parseList is parseList(parser: (Map&lt;String, Any?&gt;) -&gt; T)"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510042397, "post_id": 47151563, "comment_id": 81255189, "body": "In fact, your code can run, but I don&#39;t know yet how to display the value of &quot;it&quot; using Android Studio , could you tell me the operation step using Android Studio to display the value of  &quot;it&quot;?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510051045, "post_id": 47151563, "comment_id": 81260811, "body": "This is just so that you can look at <code>map</code> in the debugger."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1510064494, "post_id": 47151563, "comment_id": 81269938, "body": "Thanks! your code work, and more I can add any line before  DayForecast(HashMap(it)) , such as val map = 3,and I can see the value of it when I click Run -&gt; Debug &#39;app&#39; to start Debug the app"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1510037107, "creation_date": 1510037107, "answer_id": 47151563, "question_id": 47148467, "link": "https://stackoverflow.com/questions/47148467/how-can-i-display-the-value-of-it-in-the-code-parselist-dayforecasthashmapit/47151563#47151563", "title": "How can I display the value of it in the code .parseList{ DayForecast(HashMap(it)) } under Android Studio 3.0?", "body": "<p>You can give it a name temporarily:</p>\n\n<pre><code>.parseList { \n    val map = it\n    DayForecast(HashMap(it)) \n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 47151563, "answer_count": 1, "score": 1, "last_activity_date": 1510037107, "creation_date": 1510017497, "question_id": 47148467, "link": "https://stackoverflow.com/questions/47148467/how-can-i-display-the-value-of-it-in-the-code-parselist-dayforecasthashmapit", "title": "How can I display the value of it in the code .parseList{ DayForecast(HashMap(it)) } under Android Studio 3.0?", "body": "<p>The following sample code is from <a href=\"https://github.com/antoniolg/Kotlin-for-Android-Developers/blob/master/app/src/main/java/com/antonioleiva/weatherapp/data/db/ForecastDb.kt\" rel=\"nofollow noreferrer\">https://github.com/antoniolg/Kotlin-for-Android-Developers/blob/master/app/src/main/java/com/antonioleiva/weatherapp/data/db/ForecastDb.kt</a></p>\n\n<p>I hope to display the value of \"it\" in the code  <code>.parseList{ DayForecast(HashMap(it)) }</code></p>\n\n<p>So I set a breakpoint before the code <code>val dailyForecast ...</code>, and click <em>Run</em> -> <em>Debug 'app</em> menu in Android Studio, the press F7 to start Step Into, but I can't find how I can the value of \"it\" in the code  <code>.parseList{ DayForecast(HashMap(it)) }</code></p>\n\n<p>How can I do? Thanks!</p>\n\n<pre><code>override fun requestForecastByZipCode(zipCode: Long, date: Long) = forecastDbHelper.use {\n\n    val dailyRequest = \"${DayForecastTable.CITY_ID} = ? AND ${DayForecastTable.DATE} &gt;= ?\"\n    val dailyForecast = select(DayForecastTable.NAME)\n            .whereSimple(dailyRequest, zipCode.toString(), date.toString())\n            .parseList { DayForecast(HashMap(it)) }\n\n     val city = select(CityForecastTable.NAME)\n            .whereSimple(\"${CityForecastTable.ID} = ?\", zipCode.toString())\n            .parseOpt { CityForecast(HashMap(it), dailyForecast) }\n\n\n     city?.let { dataMapper.convertToDomain(it) }\n\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "edited": false, "score": 0, "creation_date": 1510020211, "post_id": 47148686, "comment_id": 81247658, "body": "Oooooh... Different than Java but still good. Thanks @user2759839"}], "tags": [], "owner": {"reputation": 125, "user_id": 2759839, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/aa1d618b68c5d71aefa91d23a13fef47?s=128&d=identicon&r=PG&f=1", "display_name": "user2759839", "link": "https://stackoverflow.com/users/2759839/user2759839"}, "is_accepted": false, "score": 0, "last_activity_date": 1510019034, "creation_date": 1510019034, "answer_id": 47148686, "question_id": 47148116, "link": "https://stackoverflow.com/questions/47148116/onclick-and-textview-in-android-studio-3/47148686#47148686", "title": "OnClick and TextView in Android Studio 3", "body": "<p>Oh yeah. It won't work because <code>textView.text</code> is a <code>CharSequence</code>, which will never be able to cast to <code>Int</code>. This gets even more tricky because you can't treat a <code>CharSequence</code> as if it's a <code>String</code>. What you need to do is convert the <code>text</code> to a <code>String</code>, parse the current number in the <code>textView</code>, convert it into an Int and then re-add it back to the <code>textView</code> object.</p>\n\n<p>Something like this:</p>\n\n<pre><code>fun click(v: View){\n    val currentText = textView.text.toString()\n\n    //Make sure that this will always be a number or you'll get an exception!\n    val currentNumber = currentText.toInt()\n    textView.text = currentNumber.plus(1).toString()\n}\n</code></pre>\n\n<p>You can also do it all in one line but the above is much cleaner:</p>\n\n<pre><code>textView.text = textView.text.toString().toInt().plus(1).toString()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 0, "last_activity_date": 1510090647, "creation_date": 1510090647, "answer_id": 47167839, "question_id": 47148116, "link": "https://stackoverflow.com/questions/47148116/onclick-and-textview-in-android-studio-3/47167839#47167839", "title": "OnClick and TextView in Android Studio 3", "body": "<p>The compiler is telling you that it is impossible to cast a the text (CharSequence) to an Int as mentioned by user2759839</p>\n\n<p>But getting beyond the simple syntax error, you should not have to read from the textView at all.\nIn general view objects should not hold state.  They should capture user input or display info.</p>\n\n<p>What you should do is create a private variable to hold the click count state, update that and then just use the TextView to display the value.</p>\n\n<p>so something like this.</p>\n\n<pre><code>private var clickCount = 0\n\nfun click(v: View) {\n      clickCount += 1\n      textView.text = \"$clickCount\"\n}\n</code></pre>\n\n<p>This has the added benefit that you don't have to worry about the exception that can be thrown if the toInt() were to fail.</p>\n"}], "owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 782, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1510090647, "creation_date": 1510014773, "question_id": 47148116, "link": "https://stackoverflow.com/questions/47148116/onclick-and-textview-in-android-studio-3", "title": "OnClick and TextView in Android Studio 3", "body": "<p>I am making a basic clicker game. For this who are not femuler: (Evertime the button is clicked it adds 1 to the value of the textView) which starts at 0 of course. This is what I have but there is an error at \"as\" which says this cast will never succeed(crushing my dreams)</p>\n\n<pre><code>fun click(v: View){\n      textView.text as Int + 1\n}\n</code></pre>\n"}, {"tags": ["java", "http", "download", "kotlin", "absolute-path"], "comments": [{"owner": {"reputation": 4885, "user_id": 8533940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed54c7190f769d2cd7f7ba62ddac211a?s=128&d=identicon&r=PG&f=1", "display_name": "Lothar", "link": "https://stackoverflow.com/users/8533940/lothar"}, "edited": false, "score": 0, "creation_date": 1510010724, "post_id": 47147497, "comment_id": 81245325, "body": "<code>URL.getPath</code> should provide you with that information."}], "answers": [{"tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": true, "score": 7, "last_activity_date": 1510010641, "creation_date": 1510010641, "answer_id": 47147517, "question_id": 47147497, "link": "https://stackoverflow.com/questions/47147497/need-to-get-absolute-path-of-a-webpage-using-java/47147517#47147517", "title": "Need to get absolute path of a webpage using Java", "body": "<blockquote>\n  <p>I need to retain the original filenames and folder structure as are on the server</p>\n</blockquote>\n\n<p>This not possible, you cannot know the structure of the data on the server.  There may not even exist a file and folder structure on the server, the returned data could be all dynamically generated an not be based on a filesystem.</p>\n"}], "owner": {"reputation": 316, "user_id": 1656012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fxpzf.png?s=128&g=1", "display_name": "Trenton Telge", "link": "https://stackoverflow.com/users/1656012/trenton-telge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 47147517, "answer_count": 1, "score": 0, "last_activity_date": 1510010641, "creation_date": 1510010489, "question_id": 47147497, "link": "https://stackoverflow.com/questions/47147497/need-to-get-absolute-path-of-a-webpage-using-java", "title": "Need to get absolute path of a webpage using Java", "body": "<p>I am writing a program that downloads some HTML. I need to retain the original filenames and folder structure as are on the server, so I need a way to handle links like \"www.google.com\". If you type it in, it will obviously download some PHP, but I need to know exactly what that file is called. I am writing in Kotlin, but if you can provide an answer in Java that'll work. </p>\n"}, {"tags": ["android", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510011683, "post_id": 47147167, "comment_id": 81245653, "body": "What is the code of <code>LocationsUseCase.setInstance</code>?"}, {"owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510011886, "post_id": 47147167, "comment_id": 81245721, "body": "I just modified the question. Thanks"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510012338, "post_id": 47147167, "comment_id": 81245839, "body": "You&#39;re passing a non-initialized <code>locationsUseCase</code> to <code>LocationsUseCase.setInstance</code>, hence the error. Don&#39;t you mean <code>LocationsUseCase.setInstance(LocationsUseCase.getInstance())</code>&zwnj;&#8203;?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510012486, "post_id": 47147167, "comment_id": 81245878, "body": "Also why are you doing all that when you can simply do <code>object Singleton {     val instance = LocationsUseCase(                LocationsRepository.instance) }</code>?"}, {"owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510012507, "post_id": 47147167, "comment_id": 81245884, "body": "Mmmmm seems to work like that, but I have the same code  (or basically similar) in a unit test, and it works."}, {"owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510012550, "post_id": 47147167, "comment_id": 81245896, "body": "Probably thinking totally opposite is the way to work. I was just migrating from Java to Kotlin and I haven&#39;t touched anything, that would work for Java though. Thank you very much! If you can develop a proper answer, I&#39;ll mark it as valid"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1510012722, "post_id": 47147167, "comment_id": 81245937, "body": "You&#39;re welcome. The code transform from IntelliJ is nice but sometimes generates bloat code, which is logical since Java is more verbose than Kotlin :)"}], "answers": [{"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 2, "last_activity_date": 1510012651, "creation_date": 1510012651, "answer_id": 47147824, "question_id": 47147167, "link": "https://stackoverflow.com/questions/47147167/kotlin-mockito-and-android-test-instrumentation-lateinit-property-has-not-been/47147824#47147824", "title": "Kotlin, Mockito and Android Test Instrumentation. Lateinit Property has not been initialized", "body": "<p>I think this way is simpler and acheives what you want:</p>\n\n<pre><code>object Singleton {\n    val instance = LocationsUseCase(LocationsRepository.instance)\n}\n</code></pre>\n"}], "owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1510012651, "creation_date": 1510008680, "last_edit_date": 1510011875, "question_id": 47147167, "link": "https://stackoverflow.com/questions/47147167/kotlin-mockito-and-android-test-instrumentation-lateinit-property-has-not-been", "title": "Kotlin, Mockito and Android Test Instrumentation. Lateinit Property has not been initialized", "body": "<p>I'm trying to mock an UseCase dependency in a test instrumentation.</p>\n\n<p>I am creating a <code>@Rule</code> to work with this:</p>\n\n<p><code>LocationsUseCaseRule.kt</code></p>\n\n<pre><code>class LocationsUseCaseRule : ExternalResource() {\n\n    @Mock\n    lateinit var locationsUseCase : LocationsUseCase\n\n    @Throws(Throwable::class)\n    override fun before() {\n        super.before()\n        LocationsUseCase.setInstance(locationsUseCase)\n    }\n}\n</code></pre>\n\n<p>but when I hit on <code>before()</code>, the usecase is not loaded.</p>\n\n<p>I have the same implementation in Unit Tests and it works.</p>\n\n<p>These are my dependencies:</p>\n\n<pre><code>// Mockito\ndef mockitoVersion = \"2.6.3\"\ntestCompile 'org.mockito:mockito-core:' + mockitoVersion\nandroidTestCompile 'org.mockito:mockito-core:' + mockitoVersion\nandroidTestCompile \"org.mockito:mockito-android:\" + mockitoVersion\n\ntestCompile \"com.nhaarman:mockito-kotlin-kt1.1:1.5.0\"\n</code></pre>\n\n<p>This is how I set my instance in <code>LocationsUseCase</code>:</p>\n\n<pre><code>object Singleton {\n    var instance: LocationsUseCase? = null\n}\n\ncompanion object {\n\n    fun setInstance(locationsUseCase: LocationsUseCase?) {\n        Singleton.instance = locationsUseCase\n    }\n\n    fun getInstance(): LocationsUseCase {\n        if (Singleton.instance == null) {\n            Singleton.instance = LocationsUseCase(\n                    LocationsRepository.instance\n            )\n        }\n\n        return Singleton.instance!!\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5405865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e98fcbffaeabd0af5161f478f42f773f?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/5405865/jose-ramon"}, "edited": false, "score": 0, "creation_date": 1510007334, "post_id": 47146823, "comment_id": 81244066, "body": "omg i read that and i forgot to write the inner, give me a min and let me try it, thanks!"}], "tags": [], "owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "is_accepted": true, "score": 3, "last_activity_date": 1510008054, "last_edit_date": 1510008054, "creation_date": 1510006937, "answer_id": 47146823, "question_id": 47146781, "link": "https://stackoverflow.com/questions/47146781/modify-the-value-of-a-global-variable-from-a-inner-class/47146823#47146823", "title": "Modify the value of a global variable from a inner class", "body": "<p>It looks like you want to mark your inner class with <code>inner</code>.  See here: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/nested-classes.html</a></p>\n\n<p>So you would have:</p>\n\n<pre><code>class createLobby : AppCompatActivity() {\n    var invited = ArrayList&lt;String&gt;()\n    private inner class myCustomAdapter(context: Context, users:ArrayList&lt;User&gt;): BaseAdapter() {\n        override fun getView(position: Int, convertView: View?, viewGroup: ViewGroup?): View {\n            invited.add(mUsers.get(position).idUser)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5405865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e98fcbffaeabd0af5161f478f42f773f?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/5405865/jose-ramon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47146823, "answer_count": 1, "score": 0, "last_activity_date": 1510008054, "creation_date": 1510006691, "question_id": 47146781, "link": "https://stackoverflow.com/questions/47146781/modify-the-value-of-a-global-variable-from-a-inner-class", "title": "Modify the value of a global variable from a inner class", "body": "<p>So i have a class</p>\n\n<pre><code>class createLobby : AppCompatActivity() {\n    var invited = ArrayList&lt;String&gt;()\n    private class myCustomAdapter(context: Context, users:ArrayList&lt;User&gt;): BaseAdapter() {\n        override fun getView(position: Int, convertView: View?, viewGroup: ViewGroup?): View {\n            invited.add(mUsers.get(position).idUser)\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that i can't modify invited, it says unresolved reference</p>\n\n<p>I have tried to change <code>invited.add(mUsers.get(position).idUser)</code>  for:</p>\n\n<pre><code>this.invited...\ncreateLobby.invited...\n((createLobby) stuff here)\n</code></pre>\n\n<p>but it hasn't work, any ideas or help?\nThanks!</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 2063, "user_id": 3448282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cadf6173fd340e6921318c56206e1b81?s=128&d=identicon&r=PG&f=1", "display_name": "user3448282", "link": "https://stackoverflow.com/users/3448282/user3448282"}, "edited": false, "score": 1, "creation_date": 1510004632, "post_id": 47146077, "comment_id": 81242968, "body": "Yes, that was it. Thank you. BTW. there are a lot of things to keep in mind when configuring Dagger2."}], "tags": [], "owner": {"reputation": 295, "user_id": 1538992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba99e0e0be941ec7f092e8876fbcbf?s=128&d=identicon&r=PG", "display_name": "mcassiano", "link": "https://stackoverflow.com/users/1538992/mcassiano"}, "is_accepted": true, "score": 11, "last_activity_date": 1510003550, "creation_date": 1510003550, "answer_id": 47146077, "question_id": 47145490, "link": "https://stackoverflow.com/questions/47145490/error-while-trying-to-inject-viewmodelprovider-into-activity-with-dagger2-and-ko/47146077#47146077", "title": "Error while trying to inject ViewModelProvider into Activity with Dagger2 and Kotlin", "body": "<p>My guess is that you missed the <code>AndroidSupportInjectionModule</code>. Add it to the list of modules in your <code>AppComponent</code>. I can't <em>really</em> tell because you did not post your BaseActivity.</p>\n\n<p>Reference:\n<a href=\"https://github.com/google/dagger/issues/783\" rel=\"noreferrer\">https://github.com/google/dagger/issues/783</a>.</p>\n"}], "owner": {"reputation": 2063, "user_id": 3448282, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cadf6173fd340e6921318c56206e1b81?s=128&d=identicon&r=PG&f=1", "display_name": "user3448282", "link": "https://stackoverflow.com/users/3448282/user3448282"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2699, "favorite_count": 1, "accepted_answer_id": 47146077, "answer_count": 1, "score": 2, "last_activity_date": 1510003550, "creation_date": 1510001164, "question_id": 47145490, "link": "https://stackoverflow.com/questions/47145490/error-while-trying-to-inject-viewmodelprovider-into-activity-with-dagger2-and-ko", "title": "Error while trying to inject ViewModelProvider into Activity with Dagger2 and Kotlin", "body": "<p>I'm receiving following error while trying to inject <code>ViewModelProvider.Factory</code> into <code>Activity</code>:</p>\n\n<pre><code>e: D:\\AndroidStudioProjects\\VolleyballStats\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\example\\kamil\\volleyballstats\\di\\AppComponent.java:6: error: [dagger.android.AndroidInjector.inject(T)] java.util.Map&lt;java.lang.Class&lt;? extends android.support.v4.app.Fragment&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.support.v4.app.Fragment&gt;&gt;&gt; cannot be provided without an @Provides-annotated method.\ne: \n\ne: public abstract interface AppComponent extends dagger.android.AndroidInjector&lt;com.example.kamil.volleyballstats.VolleyballStatsApp&gt; {\ne:                 ^\ne:       java.util.Map&lt;java.lang.Class&lt;? extends android.support.v4.app.Fragment&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.support.v4.app.Fragment&gt;&gt;&gt; is injected at\ne:           dagger.android.DispatchingAndroidInjector.&lt;init&gt;(injectorFactories)\ne:       dagger.android.DispatchingAndroidInjector&lt;android.support.v4.app.Fragment&gt; is injected at\ne:           dagger.android.support.DaggerAppCompatActivity.supportFragmentInjector\ne:       com.example.kamil.volleyballstats.views.main.MainActivity is injected at\ne:           dagger.android.AndroidInjector.inject(arg0)\n</code></pre>\n\n<p>I've created pretty standard Dagger2 implementation, which looks like this:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(\n        AndroidInjectionModule::class,\n        AppModule::class,\n        MainActivityModule::class))\ninterface AppComponent : AndroidInjector&lt;VolleyballStatsApp&gt; {\n\n@Component.Builder\ninterface Builder {\n    @BindsInstance\n    fun application(application: VolleyballStatsApp): Builder\n    fun build(): AppComponent\n}\n\noverride fun inject(app: VolleyballStatsApp)\n}\n\n@Module\nabstract class ViewModelModule {\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainViewModel::class)\n    abstract fun bindMainViewModel(viewModel: MainViewModel): ViewModel\n\n    @Binds\n    abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n}\n\n@Module(includes = arrayOf(ViewModelModule::class))\nclass AppModule {\n\n    @Provides\n    fun provideDisposable(): CompositeDisposable {\n        return CompositeDisposable()\n    }\n}\n\n@Module\ninternal abstract class MainActivityModule {\n\n    @ContributesAndroidInjector(modules = arrayOf(FragmentBuilders::class))\n    internal abstract fun contributeMainActivity(): MainActivity\n}\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FUNCTION, AnnotationTarget.PROPERTY_GETTER, AnnotationTarget.PROPERTY_SETTER)\n@MapKey\ninternal annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n\n\n\nclass ViewModelFactory @Inject constructor(private val creators: @JvmSuppressWildcards Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n) : ViewModelProvider.Factory {\n\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators[modelClass]\n        if (creator == null) {\n            for ((key, value) in creators) {\n                if (modelClass.isAssignableFrom(key)) {\n                    creator = value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class \" + modelClass)\n        }\n        try {\n            @Suppress(\"UNCHECKED_CAST\")\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n    }\n}\n</code></pre>\n\n<p>My <code>MainActivity</code> is defined as following:</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n    @Inject lateinit var viewModelFactory: ViewModelProvider.Factory\n    private lateinit var viewModel: MainViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewModel = ViewModelProviders.of(this, viewModelFactory).get(MainViewModel::class.java)\n    }\n}\n</code></pre>\n\n<p>Here is <code>MainViewModel</code> class:</p>\n\n<pre><code>class MainViewModel @Inject constructor(private val disposable: CompositeDisposable) : ViewModel() {\n}\n</code></pre>\n\n<p>And finally <code>App</code> class:</p>\n\n<pre><code>class VolleyballStatsApp : DaggerApplication() {\n\n    override fun applicationInjector() = DaggerAppComponent.builder()\n            .application(this)\n            .build()\n}\n</code></pre>\n\n<p>I've been following Android Architecture Components Sample from Google repository and I think everything seems to be similar to that implementation, so I don't get why this is not working.</p>\n\n<p>When I'm trying to inject <code>Application</code> to <code>MainAcitvity</code> then it's working, so the problem is definitely with <code>ViewModelProvider.Factory</code>, but unfortunately I don't know where the problem is.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 1, "creation_date": 1509995549, "post_id": 47143676, "comment_id": 81238153, "body": "There is an open style guide issue for this at <a href=\"https://github.com/yole/kotlin-style-guide/issues/35\" rel=\"nofollow noreferrer\">github.com/yole/kotlin-style-guide/issues/35</a>."}, {"owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "edited": false, "score": 1, "creation_date": 1510033773, "post_id": 47143676, "comment_id": 81251189, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45977011/example-of-when-should-we-use-run-let-apply-also-and-with-on-kotlin\">Example of when should we use run, let, apply, also and with on Kotlin</a>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1510126825, "post_id": 47143676, "comment_id": 81297216, "body": "The referred question doesn&#39;t really give alternative ways to use it, which is what I was asking for"}], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1510127365, "post_id": 47144740, "comment_id": 81297502, "body": "So basically for shortening the var name?"}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": true, "score": 5, "last_activity_date": 1509998165, "creation_date": 1509998165, "answer_id": 47144740, "question_id": 47143676, "link": "https://stackoverflow.com/questions/47143676/reasonable-situations-to-use-kotlins-let/47144740#47144740", "title": "Reasonable situations to use Kotlin&#39;s `let`", "body": "<p>I've seen <code>let</code> used to scope nested variables (ignoring <code>let</code>'s return):</p>\n\n<pre><code>    some.nested.foo.bar.let { bar -&gt; \n        doSomething(bar)\n        doMoreStuff(bar)\n    }\n</code></pre>\n\n<p>It can be nice since it replaces the need to define a local variable, but I'm not sure how useful it actually is. </p>\n\n<p>Could also be done with <code>apply</code>, though the readability is a bit worse, (<code>this</code> instead of <code>bar</code> in the scope).</p>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1510127328, "post_id": 47148735, "comment_id": 81297480, "body": "This does not make sense to me; why not just do  <code>boo?.length</code> then? <code>let</code> is redundant"}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1510128398, "post_id": 47148735, "comment_id": 81298118, "body": "@s1m0nw1 In this case, you are right. But I tried to show a case when you need not null variable."}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1510128646, "post_id": 47148735, "comment_id": 81298260, "body": "@s1m0nw1 I&#39;ve changed example"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1510129613, "post_id": 47148735, "comment_id": 81298709, "body": "So know we&#39;re back to what I already suggested in the question itself, right? That&#39;s independent of <code>var</code>."}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1510137681, "post_id": 47148735, "comment_id": 81304022, "body": "@s1m0nw1 yes, you are right. It doesn&#39;t matter use either <code>if</code> or <code>let</code> with <code>val</code> but if you use <code>var</code> and <code>if</code> you have to declare a <code>val</code> variable"}], "tags": [], "owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "is_accepted": false, "score": 2, "last_activity_date": 1510128617, "last_edit_date": 1510128617, "creation_date": 1510019374, "answer_id": 47148735, "question_id": 47143676, "link": "https://stackoverflow.com/questions/47143676/reasonable-situations-to-use-kotlins-let/47148735#47148735", "title": "Reasonable situations to use Kotlin&#39;s `let`", "body": "<p><code>let</code> is also useful when you work with <code>var</code> variables which are nullable.\nFor instance, we have this code</p>\n\n<pre><code>fun doSomething(value: String) {\n\n}\n\nclass A {\n    var boo: String? = null\n    fun b() {\n        if (boo != null) {\n            doSomething(boo)\n        }\n    }\n}\n</code></pre>\n\n<p>There, we have compile-time error inside <code>if</code> block because <code>boo</code> can be changed outside. To fix that we should either create a <code>val</code> variable</p>\n\n<pre><code>class A {\n    var boo: String? = null\n    fun b() {\n        val b = boo\n        if (b != null) {\n            doSomething(b)\n        }\n    }\n}\n</code></pre>\n\n<p>or use <code>let</code></p>\n\n<pre><code>class A {\n    var boo: String? = null\n    fun b() {\n        boo?.let {\n            doSomething(it)\n        }\n    }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1516249340, "last_edit_date": 1516249340, "creation_date": 1512458879, "answer_id": 47648244, "question_id": 47143676, "link": "https://stackoverflow.com/questions/47143676/reasonable-situations-to-use-kotlins-let/47648244#47648244", "title": "Reasonable situations to use Kotlin&#39;s `let`", "body": "<h2>scoping capabilities</h2>\n\n<p>The stdlib function <code>let</code> enables you to <strong>confine a variable's scope</strong> to a specific block of code. Shown here:</p>\n\n<pre><code>compile(\"a:b:c\")\n\"io.vertx:vertx\".let { v-&gt;\n    compile(\"$v-lang-kotlin:$vertxVersion\")\n    compile(\"$v-lang-kotlin-coroutines:$vertxVersion\")\n} \ncompile(\"x:y:z\")\n</code></pre>\n\n<p>We could alternatively define a <code>val v: String = \"io.vertx:vertx\"</code> which might make the code more readable since that's what we'd do in Java for example. Yet, that <code>val</code> would be accessible throughout the whole method. We just want to have it available for the <code>compile</code> units with <em>vertx</em> involved, thus we confine the variable holding <code>io.vertx:vertx</code> to the <code>let</code> block.</p>\n\n<p>Informations on the different scoping function alternatives can be found in <a href=\"https://stackoverflow.com/questions/48218400/scope-functions-apply-with-run-also-let-where-do-the-names-come-from\">this thread</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "is_accepted": false, "score": 0, "last_activity_date": 1539793421, "creation_date": 1539793421, "answer_id": 52859487, "question_id": 47143676, "link": "https://stackoverflow.com/questions/47143676/reasonable-situations-to-use-kotlins-let/52859487#52859487", "title": "Reasonable situations to use Kotlin&#39;s `let`", "body": "<p>you can use let in let in let by naming</p>\n\n<pre><code>someMethodCall()?.let{ nameOne -&gt;\n       // ....\n       // some code here\n       // ....\n       val resultCall = nameOne\n       someMethod2Call()?.let { -&gt; nameTwo\n          // ...\n          val myVariable = nameTwo + resultCall\n          // ... \n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 3, "accepted_answer_id": 47144740, "answer_count": 4, "score": 4, "last_activity_date": 1539793421, "creation_date": 1509993981, "last_edit_date": 1510126885, "question_id": 47143676, "link": "https://stackoverflow.com/questions/47143676/reasonable-situations-to-use-kotlins-let", "title": "Reasonable situations to use Kotlin&#39;s `let`", "body": "<p>In Kotlin, it's common to use <code>let</code> to execute code if an object (<code>let</code> receiver) isn't <code>null</code>, as an alternative to an <code>if != null</code> check, as in the following:</p>\n\n<pre><code>val nullable: String? = \"anything\"\nnullable?.let {\n    println(it)\n}\n</code></pre>\n\n<p>In what other situations does it make sense to make use of <code>let</code>? </p>\n\n<p>FYI, <code>let</code> is part of Kotlin's stdlib and is defined as follows:</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R = block(this)\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 18, "last_activity_date": 1545833747, "last_edit_date": 1545833747, "creation_date": 1509993800, "answer_id": 47143621, "question_id": 47143127, "link": "https://stackoverflow.com/questions/47143127/spring-data-jpa-how-to-use-kotlin-nulls-instead-of-optional/47143621#47143621", "title": "Spring Data JPA How to use Kotlin nulls instead of Optional", "body": "<p><strong>Update 12/2018:</strong> </p>\n\n<p>An upcoming change in the Spring Data framework will make this answer obsolete. The update basically does the same as this answer: define an appropriate extension function. Please see <a href=\"https://stackoverflow.com/a/53672633/1788806\">S\u00e9bastien Deleuze's answer</a> for further details.</p>\n\n<p><strong>Original answer:</strong></p>\n\n<p>As you correctly stated, you don't need <code>Optional</code> in Kotlin, because handling nullability in a concise manner is a build in language feature.</p>\n\n<p>You could create your own extension function to achieve the desired behaviour:</p>\n\n<pre><code>fun &lt;T, ID&gt; CrudRepository&lt;T, ID&gt;.findOne(id: ID): T? = findById(id).orElse(null)\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>val fruit: Fruit? = fruitRepository.findOne(id)\n</code></pre>\n\n<p><sub>\nThanks to <a href=\"https://stackoverflow.com/users/431668/giordano\">Giordano</a> who showed me a way to make the function more concise.\n</sub></p>\n"}, {"tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": true, "score": 54, "last_activity_date": 1548061894, "last_edit_date": 1548061894, "creation_date": 1544197205, "answer_id": 53672633, "question_id": 47143127, "link": "https://stackoverflow.com/questions/47143127/spring-data-jpa-how-to-use-kotlin-nulls-instead-of-optional/53672633#53672633", "title": "Spring Data JPA How to use Kotlin nulls instead of Optional", "body": "<p>As of Spring Data Lovelace SR4 / Spring Boot 2.1.2, a <code>CrudRepository.findByIdOrNull(id: ID): T? = findById(id).orElse(null)</code> Kotlin extension now provides out of the box a way to retrieve nullable entities in Spring Data.</p>\n\n<p>If for performance reasons you would like to avoid the usage of <code>Optional&lt;T&gt;</code> wrapper, be aware that you have also the possibility to create a custom interface with a <code>findFooById(id: ID): T?</code> function. Query execution is store specific, but and most are using internally nullable values and will avoid the cost of <code>Optional&lt;T&gt;</code> wrapper. Notice this overhead should be negligible for most use cases, so using the builtin extension is recommended method.</p>\n\n<p>See <a href=\"https://jira.spring.io/browse/DATACMNS-1346\" rel=\"noreferrer\">DATACMNS-1346</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 77900, "user_id": 238134, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d80ce5271185447eb06b360959acd71f?s=128&d=identicon&r=PG", "display_name": "deamon", "link": "https://stackoverflow.com/users/238134/deamon"}, "is_accepted": false, "score": 2, "last_activity_date": 1589467095, "creation_date": 1589467095, "answer_id": 61800124, "question_id": 47143127, "link": "https://stackoverflow.com/questions/47143127/spring-data-jpa-how-to-use-kotlin-nulls-instead-of-optional/61800124#61800124", "title": "Spring Data JPA How to use Kotlin nulls instead of Optional", "body": "<p>Short version of <a href=\"https://stackoverflow.com/a/53672633/238134\">S\u00e9bastien Deleuze's answer</a>: Just define a <strong>function with a nullable return type</strong>:</p>\n\n<pre><code>interface UserRepository : Repository&lt;User, String&gt; {\n\n  // throws EmptyResultDataAccessException, if no user is found\n  fun findByUsername(username: String): User     \n\n  // return null, if no user is found\n  fun findByFirstname(firstname: String?): User? \n}\n</code></pre>\n\n<p>See Spring Data Reference <a href=\"https://docs.spring.io/spring-data/jpa/docs/2.3.0.RELEASE/reference/html/#repositories.nullability.kotlin\" rel=\"nofollow noreferrer\">Documentation</a>.</p>\n"}], "owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10661, "favorite_count": 7, "accepted_answer_id": 53672633, "answer_count": 3, "score": 35, "last_activity_date": 1589467095, "creation_date": 1509991689, "question_id": 47143127, "link": "https://stackoverflow.com/questions/47143127/spring-data-jpa-how-to-use-kotlin-nulls-instead-of-optional", "title": "Spring Data JPA How to use Kotlin nulls instead of Optional", "body": "<p>I'm writing a Spring Boot app with Spring Data JPA and Kotlin, and I've noticed that in <code>CrudRepository</code> there is the following method:</p>\n\n<pre><code>Optional&lt;T&gt; findById(ID id);\n</code></pre>\n\n<p>I'm using Kotlin, though, which has much more fluent ways of dealing with nulls than <code>Optional</code>. Does anyone know how I would convert that method to work like this?</p>\n\n<pre><code>fun findById(id: ID): T?\n</code></pre>\n\n<p>When I extend <code>Repository</code> itself and create a repo with that signature I get the error:</p>\n\n<pre><code>java.lang.ClassCastException: java.util.Optional cannot be cast to com.books.Book\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3111, "user_id": 7337723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/edc61b04a0c7e1160cd7227987874927?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Shandilya", "link": "https://stackoverflow.com/users/7337723/kartik-shandilya"}, "edited": false, "score": 0, "creation_date": 1509989177, "post_id": 47142328, "comment_id": 81234930, "body": "Use   val imageView = view.findViewById&lt;ImageView&gt;(R.id.tabImage) and then              imageView.setImageResource(selector)"}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 41, "user_id": 2958065, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/34731d0302a31a338e5e277bce48ca24?s=128&d=identicon&r=PG&f=1", "display_name": "taoufik-Storm", "link": "https://stackoverflow.com/users/2958065/taoufik-storm"}, "edited": false, "score": 0, "creation_date": 1509990971, "post_id": 47142399, "comment_id": 81235888, "body": "@taoufik-Storm, That doesn&#39;t seem to match the error in the question. Those look like different <code>findViewById</code> definitions."}], "tags": [], "owner": {"reputation": 478, "user_id": 2813434, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/O92B8.jpg?s=128&g=1", "display_name": "Otterman", "link": "https://stackoverflow.com/users/2813434/otterman"}, "is_accepted": false, "score": 1, "last_activity_date": 1509996018, "last_edit_date": 1509996018, "creation_date": 1509988760, "answer_id": 47142399, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/47142399#47142399", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<pre><code>ImageView imageView = view.findViewById(R.id.tabImage) as ImageView\nimageView.setImageResource(selector)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "is_accepted": false, "score": 0, "last_activity_date": 1509991875, "creation_date": 1509991875, "answer_id": 47143164, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/47143164#47143164", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>It should be like</p>\n\n<pre><code>ImageView imageView = view.findViewById&lt;ImageView&gt;(R.id.tabImage)  \nimageView.setImageResource(selector)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 0, "last_activity_date": 1510028094, "creation_date": 1510028094, "answer_id": 47149874, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/47149874#47149874", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>Try this</p>\n\n<pre><code>private var aImageView : ImageView? = null\naImageView = findViewById(R.id.imageview) as ImageView\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 331, "user_id": 1385367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a460ce27aa1531aa52a056e5531fddc3?s=128&d=identicon&r=PG", "display_name": "Mayur Rathod", "link": "https://stackoverflow.com/users/1385367/mayur-rathod"}, "edited": false, "score": 0, "creation_date": 1546198723, "post_id": 49265970, "comment_id": 94798855, "body": "Thanks a Lot buddy"}], "tags": [], "owner": {"reputation": 668, "user_id": 1797782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4223436efdd1a3e1747b398a28d36be3?s=128&d=identicon&r=PG", "display_name": "Dzwiedziu-nkg", "link": "https://stackoverflow.com/users/1797782/dzwiedziu-nkg"}, "is_accepted": false, "score": 1, "last_activity_date": 1520975626, "creation_date": 1520975626, "answer_id": 49265970, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/49265970#49265970", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>Maybe one or more dependencies replace the SDK to older? Please check your dependencies and repositories.</p>\n\n<p>I was the same problem with <code>org.jetbrains.anko:anko-sdk25-coroutines:0.10.0-beta-2</code> and <code>com.android.tools.build:gradle:3.0.1</code> but with <code>com.android.tools.build:gradle:2.3.3</code> work fine.</p>\n\n<p>I solve it by upgrade to <code>org.jetbrains.anko:anko-sdk25-coroutines:0.10.4</code>. Now it works with <code>com.android.tools.build:gradle:3.0.1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5315647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd74bc3f647c5d05ab35a74deb6125f0?s=128&d=identicon&r=PG&f=1", "display_name": "user5315647", "link": "https://stackoverflow.com/users/5315647/user5315647"}, "is_accepted": false, "score": 0, "last_activity_date": 1527349878, "creation_date": 1527349878, "answer_id": 50544516, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/50544516#50544516", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>Try this</p>\n\n<pre><code>val tabimage = findViewById(R.id.tabImage) as ImageView\ntabimage.setImageResource(selector)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7776187, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LYBiv7_gFq8/AAAAAAAAAAI/AAAAAAAAANU/SZeWyscW8Wo/photo.jpg?sz=128", "display_name": "Eliran Azulay", "link": "https://stackoverflow.com/users/7776187/eliran-azulay"}, "is_accepted": false, "score": 0, "last_activity_date": 1533368059, "last_edit_date": 1533368059, "creation_date": 1533367395, "answer_id": 51683451, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view/51683451#51683451", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>I had the same problem and using safe casting '?' solved it.</p>\n\n<pre><code>private var imageView: ImageView? = null\n</code></pre>\n\n<p>.\n.\n.</p>\n\n<pre><code>   imageView = view.findViewById(R.id.tabImage)  as? ImageView\n   imageView.setImageResource(selector)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 2958065, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/34731d0302a31a338e5e277bce48ca24?s=128&d=identicon&r=PG&f=1", "display_name": "taoufik-Storm", "link": "https://stackoverflow.com/users/2958065/taoufik-storm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "answer_count": 6, "score": 0, "last_activity_date": 1533368059, "creation_date": 1509988518, "question_id": 47142328, "link": "https://stackoverflow.com/questions/47142328/no-type-arguments-expected-for-fun-findviewbyidp0-int-view", "title": "No type arguments expected for fun findViewById(p0: Int): View", "body": "<p>i tried to declare an imageView on Kotlin like this :</p>\n\n<pre><code>view.findViewById&lt;ImageView&gt;(R.id.tabImage)).setImageResource(selector)\n</code></pre>\n\n<p>but i get always this error,</p>\n\n<pre><code>Error:(30, 27) No type arguments expected for fun findViewById(p0: Int): View!\n</code></pre>\n\n<p>Could someone help PLZ ?\nThx</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1509985557, "post_id": 47141388, "comment_id": 81232693, "body": "You are missing the <code>fun</code> keyword from the overrides, and you have a have extra brackets on the interface, are these typos?"}, {"owner": {"reputation": 119, "user_id": 7724522, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/070b528db419618d00d09c7d7612379d?s=128&d=identicon&r=PG&f=1", "display_name": "ric", "link": "https://stackoverflow.com/users/7724522/ric"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1509986068, "post_id": 47141388, "comment_id": 81233015, "body": "@jrtapsell thank you for your comment, they were my mistakes when I wrote this question and I have fixed it."}], "answers": [{"tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": false, "score": 1, "last_activity_date": 1509986489, "last_edit_date": 1509986489, "creation_date": 1509986326, "answer_id": 47141717, "question_id": 47141388, "link": "https://stackoverflow.com/questions/47141388/kotlin-function-argument-without-type-annotation/47141717#47141717", "title": "Kotlin function argument without type annotation", "body": "<pre><code>fun test_method(inst){\n    inst.method()\n}\n</code></pre>\n\n<p>What, in your opinion, could help the compiler derive the type of <code>inst</code> and decide whether <code>inst</code> even has <code>.method()</code>?</p>\n\n<p>I suppose you need <code>inst: Base</code> declared somewhere for inference to work.</p>\n"}, {"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1509988551, "post_id": 47141751, "comment_id": 81234603, "body": "A shorter one: <code>val testMethod = Base::method</code>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1509993120, "post_id": 47141751, "comment_id": 81236884, "body": "@chris well, that&#39;s not really equivalent. <code>fun</code> defines a method, and in your case <code>testMethod</code> is assigned a value of type <code>KFunction</code>."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1509994028, "post_id": 47141751, "comment_id": 81237346, "body": "Not completely equivalent, but still usable through the same syntax."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1509996285, "post_id": 47141751, "comment_id": 81238576, "body": "Unless Java interop is a concern. I also find functions are usually easier to reason about than function references in properties."}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 8, "last_activity_date": 1509986481, "creation_date": 1509986481, "answer_id": 47141751, "question_id": 47141388, "link": "https://stackoverflow.com/questions/47141388/kotlin-function-argument-without-type-annotation/47141751#47141751", "title": "Kotlin function argument without type annotation", "body": "<p>You can just do</p>\n\n<pre><code>fun testMethod(inst: Base) {\n    inst.method()\n}\n</code></pre>\n\n<p>Since both <code>DervA</code> and <code>DervB</code> are <code>Base</code>s, they can also be passed to <code>testMethod</code> and their overridden <code>method</code> will be called. That's one of the fundamental principles of OOP.</p>\n\n<hr>\n\n<p>Note that if <code>method</code> and <code>testMethod</code> have the same return type, you can shorten it to</p>\n\n<pre><code>fun testMethod(inst: Base) = inst.method()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1509993694, "creation_date": 1509993694, "answer_id": 47143595, "question_id": 47141388, "link": "https://stackoverflow.com/questions/47141388/kotlin-function-argument-without-type-annotation/47143595#47143595", "title": "Kotlin function argument without type annotation", "body": "<p>Your method signature isn't correct, the compiler doesn't have a chance to know the parameter's type, there's no inference available in this situation:</p>\n\n<pre><code>fun test_method(inst)\n</code></pre>\n\n<p>It's necessary to declare it like this:</p>\n\n<pre><code>fun test_method(inst: Base)\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 7724522, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/070b528db419618d00d09c7d7612379d?s=128&d=identicon&r=PG&f=1", "display_name": "ric", "link": "https://stackoverflow.com/users/7724522/ric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9859, "favorite_count": 0, "accepted_answer_id": 47141751, "answer_count": 3, "score": 5, "last_activity_date": 1587158070, "creation_date": 1509985320, "last_edit_date": 1587158070, "question_id": 47141388, "link": "https://stackoverflow.com/questions/47141388/kotlin-function-argument-without-type-annotation", "title": "Kotlin function argument without type annotation", "body": "<p>On Kotlin, Arguments of a function require their type annotation when defining the method.</p>\n\n<p>In my case, I have two classes from an interface.</p>\n\n<pre><code>interface Base{\n    fun method()\n}\n\nclass DervA():Base{\n    fun override method(){\n        ...\n    }\n}\n\nclass DervB():Base{\n    fun override method(){\n        ...\n    }\n}\n</code></pre>\n\n<p>And, I hope to call their methods from other function like</p>\n\n<pre><code>fun test_method(inst){\n    inst.method()\n}\n</code></pre>\n\n<p>But, Kotlin compiler complains \"a type annotation is required on a value parameter\" .</p>\n\n<p>Should I define \"test_method\" for each of the classes ?</p>\n\n<pre><code>fun test_method_for_DervA(inst:DervA){\n    inst.method()\n}\n\nfun test_method_for_DervB(inst:DervB){\n    inst.method()\n}\n</code></pre>\n\n<p>Do you have any smarter way for it?</p>\n"}, {"tags": ["kotlin", "realm", "parceler"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1509985999, "post_id": 47140044, "comment_id": 81232976, "body": "You are missing code for <code>RealmListParcelConverter</code>"}, {"owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1510043639, "post_id": 47140044, "comment_id": 81255888, "body": "Sorry, updated!!"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1510044291, "post_id": 47140044, "comment_id": 81256295, "body": "Try this approach <a href=\"https://github.com/Commit451/Regalia/blob/3835da4d65509efb462a649c610b6bc9b0560bd8/regalia-parceler/src/main/java/com/commit451/regalia/parceler/RealmListParcelConverter.java\" rel=\"nofollow noreferrer\">github.com/Commit451/Regalia/blob/&hellip;</a>"}, {"owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1510045063, "post_id": 47140044, "comment_id": 81256779, "body": "I&#39;ll try and let you know! Many thanks!!!"}], "answers": [{"comments": [{"owner": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "edited": false, "score": 0, "creation_date": 1510181633, "post_id": 47174524, "comment_id": 81331606, "body": "How does your converter looks like? I am trying the same but it always fails with exception: Code generation did not complete successfully"}], "tags": [], "owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "is_accepted": false, "score": 1, "last_activity_date": 1527330937, "last_edit_date": 1527330937, "creation_date": 1510128552, "answer_id": 47174524, "question_id": 47140044, "link": "https://stackoverflow.com/questions/47140044/parceler-unable-to-find-read-write-generator-for-type-io-realm-realmlist/47174524#47174524", "title": "Parceler: Unable to find read/write generator for type io.realm.RealmList", "body": "<p>The approach suggested by @EpicPandaForce works. I added the RealmListParcelerConverter from the Github repository and let the <code>annotation @Parcel(implementations = arrayOf(ProfilePhotoRealmProxy::class))</code> on the affected class.</p>\n"}], "owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527330937, "creation_date": 1509981066, "last_edit_date": 1525558028, "question_id": 47140044, "link": "https://stackoverflow.com/questions/47140044/parceler-unable-to-find-read-write-generator-for-type-io-realm-realmlist", "title": "Parceler: Unable to find read/write generator for type io.realm.RealmList", "body": "<p>My app needs to parcel some objects with realm list attributes. This is the error:</p>\n\n<blockquote>\n  <p>/StudioProjects/ML/dat-core-android/datcorelibrary/build/tmp/kapt3/stubs/release/com/ret/datcorelibrary/model/UserTest.java:29: error: Parceler: Unable to find read/write generator for type io.realm.RealmList for com.retoglobal.datingcorelibrary.model.UserTest#photos</p>\n</blockquote>\n\n<p>Find below the main classes:</p>\n\n<p><strong>UserTest class</strong></p>\n\n<pre><code>@Parcel(implementations = arrayOf(UserTestRealmProxy::class),\n        value = Parcel.Serialization.BEAN)\n\n@RealmClass\nopen class UserTest(\n\n    @PrimaryKey open var id: String = \"\",\n    open var years : Int = 0,\n    @SerializedName(\"profile_photo\") open var profilePhoto: ProfilePhoto? = ProfilePhoto(\"www\", \"fd\"),\n    open var location : Property? = null,\n    open var town : String? = \"\",\n    open var username : String? = \"\") : RealmObject()\n{\n\n    @ParcelPropertyConverter(RealmUserTestParcelConverter::class)\n    open var photos : RealmList&lt;ProfilePhoto&gt;? = null\n    set\n\n}\n\nclass RealmUserTestParcelConverter : RealmListParcelConverter&lt;ProfilePhoto&gt;() {\n\n    override fun itemFromParcel(parcel: android.os.Parcel?): ProfilePhoto {\n        return Parcels.unwrap(parcel?.readParcelable&lt;Parcelable&gt;(ProfilePhoto::class.java.classLoader))\n\n    }\n\n    override fun itemToParcel(item: ProfilePhoto?, parcel: android.os.Parcel?) {\n        parcel?.writeParcelable(Parcels.wrap(ProfilePhoto::class.java, item), 0)\n    }\n\n\n}\n</code></pre>\n\n<p><strong>ProfilePhoto class</strong></p>\n\n<pre><code>@Parcel(implementations = arrayOf(ProfilePhotoRealmProxy::class),\n        value = org.parceler.Parcel.Serialization.BEAN)\n@RealmClass\nopen class ProfilePhoto(\n        @SerializedName(\"m\") open var photo : String = \"\",\n        open var id : String = \"\") : RealmObject()\n</code></pre>\n\n<p><strong>UPDATE</strong>\n<strong>RealmListParcelConverter</strong></p>\n\n<pre><code>abstract class RealmListParcelConverter&lt;T:RealmObject&gt; : CollectionParcelConverter&lt;T, RealmList&lt;T&gt;&gt;() {\n\noverride fun createCollection(): RealmList&lt;T&gt; {\n    return RealmList&lt;T&gt;()\n}\n}\n</code></pre>\n"}, {"tags": ["android", "initialization", "kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1509978802, "post_id": 47139248, "comment_id": 81227940, "body": "You can use <code>lateinit</code> keyword"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1509978895, "post_id": 47139248, "comment_id": 81227998, "body": "Thanks this worked, write an answer argomenting on that if you want. It&#39;s gonna be useful for other users too"}, {"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1509979145, "post_id": 47139248, "comment_id": 81228191, "body": "Great, glad to help you ;)"}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1509979608, "post_id": 47139248, "comment_id": 81228511, "body": "Don&#39;t use lateinit blindly, understand what it does and why it may not be what you want."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1509981358, "post_id": 47139248, "comment_id": 81229772, "body": "<code>init()</code> is only a function, you cannot guarantee it is called before the property being accessed."}], "answers": [{"comments": [{"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 1, "creation_date": 1509979657, "post_id": 47139371, "comment_id": 81228557, "body": "This solves the problem ... until the code path changes and variables are accessed before being initialized. We do not have enough code to know if lateinit is appropriate or if initializing in constructor / declaration is better."}, {"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "reply_to_user": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1509980099, "post_id": 47139371, "comment_id": 81228865, "body": "Well, in this case, it works for the OP... but ok, you&#39;re right."}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1509989704, "post_id": 47139371, "comment_id": 81235234, "body": "OMG, OMG, Never use FEATURE XYZZY because it has A PITFALL is seldom helpful  (there are a few cases of language features that should not actually be used, but they are rare.)  <code>lateinit</code> is in the language for a reason.  As long as the answer mentions the pitfall (or in this case says &quot;read the docs&quot;) it is helpful."}], "tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": false, "score": 0, "last_activity_date": 1509979133, "creation_date": 1509979133, "answer_id": 47139371, "question_id": 47139248, "link": "https://stackoverflow.com/questions/47139248/kotlin-property-must-be-initialized-or-be-abstract-even-if-there-is-an-init/47139371#47139371", "title": "Kotlin - Property must be initialized or be abstract even if there is an init() function", "body": "<p>You need the <code>lateinit</code> keyword. Check <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "is_accepted": true, "score": 15, "last_activity_date": 1511546699, "last_edit_date": 1511546699, "creation_date": 1509979562, "answer_id": 47139503, "question_id": 47139248, "link": "https://stackoverflow.com/questions/47139248/kotlin-property-must-be-initialized-or-be-abstract-even-if-there-is-an-init/47139503#47139503", "title": "Kotlin - Property must be initialized or be abstract even if there is an init() function", "body": "<p>Before using <code>lateinit</code>, you must understand what that means. </p>\n\n<p>Your variables are not initialized properly. Various ways to solve that problem:</p>\n\n<ul>\n<li>Initialize the variables inside the constructor or a proper <code>init</code> block (not a private function as you declared it)</li>\n<li>Initialize the variables at the same time as you declare them</li>\n<li>Initialize the variables later and let Kotlin know that (this is the <code>lateinit</code> keyword)</li>\n</ul>\n\n<p>Those 3 options are not equivalent, and depending on your code, the two first ones may be more appropriate than the third one.</p>\n\n<p><code>lateinit</code> will make your app crash if you access the variables before they are actually initialized.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 6, "last_activity_date": 1509984908, "creation_date": 1509984908, "answer_id": 47141243, "question_id": 47139248, "link": "https://stackoverflow.com/questions/47139248/kotlin-property-must-be-initialized-or-be-abstract-even-if-there-is-an-init/47141243#47141243", "title": "Kotlin - Property must be initialized or be abstract even if there is an init() function", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"noreferrer\"><code>init</code> blocks</a> are not functions, just remove the <code>private fun</code> part and the parentheses:</p>\n\n<pre><code>internal var background: Drawable\ninternal var xMark: Drawable\n\ninit {\n    background = ColorDrawable(Color.RED)\n    xMark = ContextCompat.getDrawable(this@Subscriptions_main, R.drawable.delete)\n}\n</code></pre>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14876, "favorite_count": 0, "accepted_answer_id": 47139503, "answer_count": 3, "score": 6, "last_activity_date": 1560784474, "creation_date": 1509978703, "question_id": 47139248, "link": "https://stackoverflow.com/questions/47139248/kotlin-property-must-be-initialized-or-be-abstract-even-if-there-is-an-init", "title": "Kotlin - Property must be initialized or be abstract even if there is an init() function", "body": "<p>I have converted this code from Java to Kotlin using Android Studio 3.0</p>\n\n<pre><code>internal var background: Drawable\ninternal var xMark: Drawable\n\nprivate fun init() {\n    background = ColorDrawable(Color.RED)\n    xMark = ContextCompat.getDrawable(this@Subscriptions_main, R.drawable.delete)\n}\n</code></pre>\n\n<p>On line 1 and 2 I'm getting the error: </p>\n\n<blockquote>\n  <p>Property must be initialized or be abstract</p>\n</blockquote>\n\n<p>even though it is going to be initialized in the init function.</p>\n\n<p>Is writing:</p>\n\n<pre><code>internal var background: Drawable? = null\ninternal var xMark: Drawable? = null\n</code></pre>\n\n<p>a viable and efficient solution? Is there any other better way?</p>\n"}, {"tags": ["hibernate", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 1, "creation_date": 1509989368, "post_id": 47140371, "comment_id": 81235048, "body": "Welcome to Stack Overflow! Thank you for this code snippet, which might provide some limited, immediate help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please <a href=\"https://stackoverflow.com/posts/47140371/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made."}], "tags": [], "owner": {"reputation": 259, "user_id": 8868685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etB6p.jpg?s=128&g=1", "display_name": "Konstantin Shendenkov", "link": "https://stackoverflow.com/users/8868685/konstantin-shendenkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1509982154, "creation_date": 1509982154, "answer_id": 47140371, "question_id": 47138866, "link": "https://stackoverflow.com/questions/47138866/can-i-using-closedranget-in-hibernate-entity/47140371#47140371", "title": "Can i using ClosedRange&lt;T&gt; in hibernate entity", "body": "<pre><code>@Entity\ndata Foo (\n    @Id @GeneratedValue var id: Int? = null,\n    var target: IntRange = target in 0..100  \n)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4060937, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/371449ab2fe3a8b0c64131973cb7f5da?s=128&d=identicon&r=PG&f=1", "display_name": "Benny Leung", "link": "https://stackoverflow.com/users/4060937/benny-leung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1510144512, "creation_date": 1509977510, "last_edit_date": 1510144512, "question_id": 47138866, "link": "https://stackoverflow.com/questions/47138866/can-i-using-closedranget-in-hibernate-entity", "title": "Can i using ClosedRange&lt;T&gt; in hibernate entity", "body": "<p>Hibernate was throw below exception when using <code>ClosedRange&lt;T&gt;</code></p>\n\n<p>I know walk around is create own Range class with <code>@Entity</code> or <code>@Embeddable</code>,\nbut no another solution?</p>\n\n<p>Exception:</p>\n\n<pre><code>org.hibernate.MappingException: Could not determine type for: kotlin.ranges.IntRange, at table: Foo, for columns: [org.hibernate.mapping.Column(myRange)]\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\nclass Foo (\n    @Id @GeneratedValue var id: Long? = null,\n    var myRange: IntRange = 0..0\n)\n</code></pre>\n"}, {"tags": ["android", "mvvm", "kotlin", "rx-java", "android-databinding"], "comments": [{"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 0, "creation_date": 1509976432, "post_id": 47138322, "comment_id": 81226314, "body": "I just found out, that it only does not work if the .set method is called from the unit test. When it&#39;s done though data binding it works like a charm."}, {"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 0, "creation_date": 1509976444, "post_id": 47138322, "comment_id": 81226323, "body": "Just updated the examples"}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 0, "creation_date": 1510148611, "post_id": 47162184, "comment_id": 81311369, "body": "I think you mean the <code>executePendingBindings()</code> method on the <code>ViewModelBinding</code> class. The problem is that I can&#39;t access it within my UnitTests"}, {"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 0, "creation_date": 1510309135, "post_id": 47162184, "comment_id": 81390358, "body": "Any idea how to get the binding within the test case?"}, {"owner": {"reputation": 18928, "user_id": 4163092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hG10UsnxJIA/AAAAAAAAAAI/AAAAAAAAHU4/S4nVl0ZofGA/photo.jpg?sz=128", "display_name": "George Mount", "link": "https://stackoverflow.com/users/4163092/george-mount"}, "reply_to_user": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 0, "creation_date": 1510353962, "post_id": 47162184, "comment_id": 81415325, "body": "I assumed that there was a backing Binding, done in some setup() method. Your test doesn&#39;t show any binding. The binding is required because that is where the expressions are executed. You&#39;ll need to instantiate it with <code>YourLayoutBinding.inflate()</code>, <code>YourLayoutBinding.bind()</code>, or <code>DataBindingUtil.setContentView()</code>."}], "tags": [], "owner": {"reputation": 18928, "user_id": 4163092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hG10UsnxJIA/AAAAAAAAAAI/AAAAAAAAHU4/S4nVl0ZofGA/photo.jpg?sz=128", "display_name": "George Mount", "link": "https://stackoverflow.com/users/4163092/george-mount"}, "is_accepted": false, "score": 0, "last_activity_date": 1510163338, "last_edit_date": 1510163338, "creation_date": 1510070105, "answer_id": 47162184, "question_id": 47138322, "link": "https://stackoverflow.com/questions/47138322/observablefield-value-changes-not-propagated/47162184#47162184", "title": "ObservableField value changes not propagated", "body": "<p>Data Binding attempts to be efficient when setting bound values. When a value is changed, it posts to be sure you're done making changes before setting all the values. There's no need to evaluate changes if you're still making them.</p>\n\n<p>You can force evaluating the bound values for circumstances like this with <code>executePendingBindings()</code>:</p>\n\n<pre><code>    viewModel.username.set(\"\")\n    binding.executePendingBindings()\n    assertThat(viewModel.emailErrorVisibility.get(), equalTo(false))\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1170, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510163338, "creation_date": 1509975637, "last_edit_date": 1509976480, "question_id": 47138322, "link": "https://stackoverflow.com/questions/47138322/observablefield-value-changes-not-propagated", "title": "ObservableField value changes not propagated", "body": "<p>I am new to mvvm and rxbinding.\nI am trying to decouple my ViewModel completely from the android context using RxJava and DataBinding.</p>\n\n<p>When I Unit-Test some code of the ViewModel (i.e. form validation) my ObservableFields does not change value and the value stays null.</p>\n\n<p>Minimal example of my ViewModel:</p>\n\n<pre><code>class RegistrationViewModel(var validator: Validator) : ViewModel {\n\n    val username: ObservableField&lt;String&gt; = ObservableField()\n    val password: ObservableField&lt;String&gt; = ObservableField()\n\n    var signInButtonEnabled: ObservableField&lt;Boolean&gt;\n    var emailErrorVisibility: ObservableField&lt;Boolean&gt;\n\n    private fun validatePassword(password: String?) = password?.trim()!!.length &gt;= 6\n\n    private fun validateUsername(username: String?) = validator.isValid(Validator.Field.EMAIL, username)\n\n    init {\n        val inputValid = Observable.combineLatest(\n                toObservable(username),\n                toObservable(password),\n                BiFunction&lt;String, String, Boolean&gt; { t1, t2 -&gt;\n                    validateUsername(t1) &amp;&amp; validatePassword(t2)\n                }\n        )\n\n        signInButtonEnabled = toField(inputValid)\n        emailErrorVisibility = toField(toObservable(username).map { t -&gt; !validateUsername(t) })\n    }\n}\n</code></pre>\n\n<p><em>I expect that the ObservableField emailErrorVisibility is set whenever the value of ObservableField username changes</em></p>\n\n<p>My UnitTest:</p>\n\n<pre><code>@Test\nfun test_hideUsernameErrorMessage() {\n        val validator = mock(RegistrationValidator::class.java)\n\n        val viewModel = RegistrationViewModel(validator)\n\n        viewModel.username.set(\"\")\n        assertThat(viewModel.emailErrorVisibility.get(), equalTo(false))\n\n        val invalidValue = \"ABC\"\n        Mockito.`when`(validator.isValid(Validator.Field.EMAIL, invalidValue)).thenReturn(false)\n        viewModel.username.set(invalidValue)\n        assertThat(viewModel.username.get(), equalTo(invalidValue))\n        assertThat(viewModel.emailErrorVisibility.get(), equalTo(true))\n}\n</code></pre>\n\n<p>After the line <code>viewModel.username.set(\"\")</code> in this test the value of viewMode.emailErrorVisibility is still not.</p>\n\n<p>Am I wrong that the value should update itself by changing/setting the usernames value?</p>\n\n<p><em>Note, the function toField(Observble) is from <a href=\"https://github.com/manas-chaudhari/android-mvvm/blob/master/android-mvvm/src/main/java/com/manaschaudhari/android_mvvm/FieldUtils.java\" rel=\"nofollow noreferrer\">https://github.com/manas-chaudhari/android-mvvm/blob/master/android-mvvm/src/main/java/com/manaschaudhari/android_mvvm/FieldUtils.java</a></em></p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 5155761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTP1j.jpg?s=128&g=1", "display_name": "vishal sharma", "link": "https://stackoverflow.com/users/5155761/vishal-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1522401859, "last_edit_date": 1522401859, "creation_date": 1522399969, "answer_id": 49571343, "question_id": 47137679, "link": "https://stackoverflow.com/questions/47137679/how-to-call-baseactivity-function-from-viewmodel-in-android/49571343#49571343", "title": "How to call baseactivity function from viewmodel in android", "body": "<p><strong><em>There can be 2 approach for same</em></strong> </p>\n\n<p>1) Use all functions i.e related to UI update or UI event listener from a view (Activity or Fragment) according to mvp and from viewmodel only try to manage data like api's and other logic</p>\n\n<pre><code>class LoginActivity : BaseActivity(), LoginNavigator {\n\n    @Inject\n    lateinit var mLoginViewModel: LoginViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n        mLoginViewModel.mNavigator = this\n\n        callApi()\n    }\n\n    private fun callApi() {\n        showLoading()\n        mLoginViewModel.callApi()\n    }\n\n    override fun openHomeScreen(model: Model) {\n        hideLoading()\n        showSnackBar(constraint_root, model.Domain)\n    }\n\n}\n\n\nclass LoginViewModel(sessionManager: SessionManager, requestInterface: RequestInterface) : BaseViewModel&lt;LoginNavigator&gt;(sessionManager, requestInterface) {\n\n    fun callApi() {\n        requestInterface.getServiceIP()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(this::handleResponse, this::handleError)\n    }\n\n    private fun handleResponse(model: Model) {\n        if (model.Domain == null) {\n            mNavigator!!.openHomeScreen(model)\n        } else {\n\n        }\n    }\n\n    private fun handleError(error: Throwable) {\n        error.printStackTrace()\n    }\n}\n</code></pre>\n\n<p>2)\n<strong>In Login interface add a function</strong> </p>\n\n<pre><code>interface LoginNavigator {\n    fun openHomeScreen()\n    fun getActivity(): BaseActivity\n}\n</code></pre>\n\n<p><strong>In LoginActivity override the function and return</strong></p>\n\n<pre><code>override fun getActivity(): BaseActivity = this\n</code></pre>\n\n<p><strong>Now using navigator you can access base activity &amp; call show/hide loader function</strong></p>\n\n<pre><code>mNavigator!!.getActivity().showLoading()\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2597, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522401859, "creation_date": 1509973514, "last_edit_date": 1509974240, "question_id": 47137679, "link": "https://stackoverflow.com/questions/47137679/how-to-call-baseactivity-function-from-viewmodel-in-android", "title": "How to call baseactivity function from viewmodel in android", "body": "<p>Hi I have <code>LoginActivity</code> and <code>LoginViewModel</code> and some more classes. I have  <code>showLoading</code> and <code>hideLoading</code> in the <code>BaseActivity</code> so it can be accessible from each activity. </p>\n\n<p>I am able to call <code>LoginActivity</code> method from the <code>LoginViewModel</code> like <code>mNavigator?.startForgotPasswordActivity()\n</code></p>\n\n<p>I want to call it from the <code>LoginViewModel</code> then what the way to do it using MVVM ? or I am going with wrong approach. Please suggest what is the correct way to do this ?</p>\n\n<p><strong>BaseActivity.kt</strong></p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity(), AnkoLogger {\n\n    private val progressBar: ProgressBar? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    protected fun getToolbar(): Toolbar {\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n        return toolbar\n    }\n\n    protected fun performDependencyInjection() {\n        AndroidInjection.inject(this);\n    }\n\n    @TargetApi(Build.VERSION_CODES.M)\n    fun requestPermissionsSafely(permissions: Array&lt;String&gt;, requestCode: Int) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            requestPermissions(permissions, requestCode)\n        }\n    }\n\n    @TargetApi(Build.VERSION_CODES.M)\n    fun hasPermission(permission: String): Boolean {\n        return Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M || checkSelfPermission(permission) == PackageManager.PERMISSION_GRANTED\n    }\n\n    fun isNetworkConnected(): Boolean {\n        return NetworkUtils.isNetworkConnected(applicationContext)\n    }\n\n    fun showLoading() {\n        hideLoading()\n        // show progress bar\n    }\n\n    fun hideLoading() {\n        // hide progress bar\n    }\n\n}\n</code></pre>\n\n<p><strong>LoginActivity.kt</strong></p>\n\n<pre><code>class LoginActivity : BaseActivity(), LoginNavigator {\n\n    @Inject\n    lateinit var loginViewModel: LoginViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        performDependencyInjection()\n        super.onCreate(savedInstanceState)\n        val activityLoginBinding: ActivityLoginBinding = DataBindingUtil.setContentView&lt;ActivityLoginBinding&gt;(this, R.layout.activity_login)\n        activityLoginBinding.loginViewModel = loginViewModel\n        loginViewModel.mNavigator = this\n    }\n\n    override fun startHomeActivity() {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun startRegistrationActivity() {\n        startActivity(Intent(this, RegistrationActivity::class.java))\n    }\n\n    override fun startForgotPasswordActivity() {\n        startActivity(Intent(this, ForgotPasswordActivity::class.java))\n    }\n\n    override fun handleError(throwable: Throwable) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n}\n</code></pre>\n\n<p><strong>LoginViewModel.kt</strong></p>\n\n<pre><code>class LoginViewModel : BaseViewModel&lt;LoginNavigator&gt;(), AnkoLogger {\n\n    val emailField = ObservableField&lt;String&gt;()\n\n    private val email: String\n        get() = emailField.get()\n\n    val passwordField = ObservableField&lt;String&gt;()\n\n    private val password: String\n        get() = passwordField.get()\n\n    @Suppress(\"PARAMETER_NAME_CHANGED_ON_OVERRIDE\")\n    fun login(view: View) {\n        if (isEmailAndPasswordValid(email, password)) {\n            ApiHelperImpl().doServerLoginApiCall(email, password)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(object : CallbackWrapper&lt;LoginResponse&gt;() {\n\n                        override fun onSuccess(loginResponse: LoginResponse) {\n                            info { loginResponse }\n                        }\n                    })\n        }\n    }\n\n    /**\n     * Validate email and password. It checks email and password is empty or not\n     * and validate email address is correct or not\n     * @param email email address for login\n     * @param password password for login\n     * @return true if email and password pass all conditions else false\n     */\n    private fun isEmailAndPasswordValid(email: String, password: String): Boolean {\n\n        if (email.isEmpty()) return false\n\n        if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) return false\n\n        if (password.isEmpty()) return false\n\n        return true\n    }\n\n}\n</code></pre>\n\n<p><strong>BaseViewModel.kt</strong></p>\n\n<pre><code>abstract class BaseViewModel&lt;N&gt; {\n    var mNavigator: N? = null\n}\n</code></pre>\n"}, {"tags": ["opengl", "libgdx", "kotlin"], "comments": [{"owner": {"reputation": 888, "user_id": 3865846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JWKac.jpg?s=128&g=1", "display_name": "Hllink", "link": "https://stackoverflow.com/users/3865846/hllink"}, "edited": false, "score": 1, "creation_date": 1509983694, "post_id": 47137100, "comment_id": 81231453, "body": "why use a shader? you can create a material and choose the defuse color."}, {"owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "reply_to_user": {"reputation": 888, "user_id": 3865846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JWKac.jpg?s=128&g=1", "display_name": "Hllink", "link": "https://stackoverflow.com/users/3865846/hllink"}, "edited": false, "score": 0, "creation_date": 1509999541, "post_id": 47137100, "comment_id": 81240203, "body": "I am using the function from heres answer <a href=\"https://stackoverflow.com/questions/20170758/slow-model-batch-rendering-in-libgdx/20937752#20937752\" title=\"slow model batch rendering in libgdx\">stackoverflow.com/questions/20170758/&hellip;</a>"}], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509975273, "creation_date": 1509971427, "last_edit_date": 1509975273, "question_id": 47137100, "link": "https://stackoverflow.com/questions/47137100/libgdx-3d-turning-textures-off-on-shader-opengl", "title": "LIBGDX 3D : Turning textures off on shader : OpenGL", "body": "<p>Sorry if question is a bit niche. I wrote some code a few years back and it renders many meshes as 1 big mesh for performance.  </p>\n\n<p>What I am trying to do now is just render meshes without textures, so a single colour</p>\n\n<pre><code>boxModel = modelBuilder.createBox(10f, 10f, 10f, Material(ColorAttribute.createDiffuse(Color.WHITE), ColorAttribute.createSpecular(Color.RED), FloatAttribute.createShininess(15f)), (VertexAttributes.Usage.Position or VertexAttributes.Usage.Normal or VertexAttributes.Usage.TextureCoordinates).toLong()) // or VertexAttributes.Usage.TextureCoordinates\n            for (x in 1..10) {\n                for (y in 1..10) {\n                    modelInstance = ModelInstance(boxModel, x * 15f, 0.0f, y * 15f)\n                    chunks2[0].addMesh(modelInstance.model.meshes, modelInstance.transform, btBoxShape(Vector3(10f, 10f, 10f)))\n                }\n            }\n\nchunks2[0].mergeBaby() \n</code></pre>\n\n<p>So I build up the giant mesh and then render it</p>\n\n<pre><code>shaderProgram.begin()\ntexture.bind()\nshaderProgram.setUniformMatrix(\"u_projTrans\", camera.combined)\nshaderProgram.setAttributef(\"a_color\", 1f, 1f, 1f, 1f)\nshaderProgram.setUniformi(\"u_texture\", 0)\n\nrenderChunks()\nshaderProgram.end()\n</code></pre>\n\n<p>This works for textured stuff great and the right texture is shown etc but the base colour (I guess that's \"a_color\" is set to white) where I actually want it to use what I supplied in the Material property.</p>\n"}, {"tags": ["groovy", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "edited": false, "score": 0, "creation_date": 1510045027, "post_id": 47139300, "comment_id": 81256760, "body": "Thanks for the fast and clear answer. I &#180;ve implemented the top gradle file and it works well. Thx for that. I&#180;ve read the Docu and had a look at the Samples."}, {"owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "edited": false, "score": 0, "creation_date": 1510045769, "post_id": 47139300, "comment_id": 81257256, "body": "In fact, i don&#180;t get it all. If i try to convert my 2nd file the same way as you &quot;told&quot; to do. there are several errors like &quot;unresolved References&quot; etc.  For example:   This is my code:  android {     compileSdkVersion (&quot;28&quot;)     buildToolsVersion (&quot;27.0.0&quot;) } but android and the following is an unknow expression. What is my failure? Is there a docu as well. I&#180;m so sorry for being so dumb. I&#180;m new to this whole area."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "edited": false, "score": 1, "creation_date": 1510053559, "post_id": 47139300, "comment_id": 81262430, "body": "We&#39;re here to help. Please, create another question with the issues you have with other file. I guess, most probably you&#39;ll need to use <code>configure&lt;Android...Extension&gt; {}</code> (I do not know the class), instead of <code>android</code>, but let us see it all."}, {"owner": {"reputation": 3991, "user_id": 918608, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8e40c00556954cd5c6159ef6ae54ed?s=128&d=identicon&r=PG&f=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/918608/josh-c"}, "edited": false, "score": 0, "creation_date": 1565285032, "post_id": 47139300, "comment_id": 101315290, "body": "Is there any advantage of switching to .kts? I&#39;m trying to convert my build.gradle now, and I keep stubbing my toe."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1565290967, "post_id": 47139300, "comment_id": 101317750, "body": "Probably if you&#39;re fine with Groovy then there will be no advantage. Kotlin scripts will be even a little bit slower. However, Kotlin scripts provide better IDE support due to static typing. Moreover (that&#39;s totally my IMHO): Groovy is loosing its positions and we&#39;ll see more Kotlin support and Kotlin-centric features in Gradle in future."}, {"owner": {"reputation": 33970, "user_id": 125407, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/66hws.jpg?s=128&g=1", "display_name": "Johannes Rudolph", "link": "https://stackoverflow.com/users/125407/johannes-rudolph"}, "edited": false, "score": 0, "creation_date": 1577453976, "post_id": 47139300, "comment_id": 105175450, "body": "I want to point out that there&#39;s a [GradleKotlinConverter][1] script to automate some of the more common chores when converting groovy gradle files to kotlin.      [1]: <a href=\"https://github.com/bernaferrari/GradleKotlinConverter\" rel=\"nofollow noreferrer\">github.com/bernaferrari/GradleKotlinConverter</a>"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 24, "last_activity_date": 1509979925, "last_edit_date": 1509979925, "creation_date": 1509978876, "answer_id": 47139300, "question_id": 47136876, "link": "https://stackoverflow.com/questions/47136876/convert-an-existing-groovy-build-gradle-file-into-a-kotlin-based-build-gradle-kt/47139300#47139300", "title": "Convert an existing groovy build.gradle file into a kotlin based build.gradle.kts", "body": "<p>Of course renaming won't help. You'll need to re-write it using Kotlin DSL. It is similar to Groovy, but with some differences. <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"noreferrer\">Read their docs</a>, look at <a href=\"https://github.com/gradle/kotlin-dsl/tree/master/samples\" rel=\"noreferrer\">the examples</a>.</p>\n\n<p>In your case, the issues are:</p>\n\n<ol>\n<li><code>ext.kotlin_version</code> is not valid Kotlin syntax, use <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#indexed\" rel=\"noreferrer\">square brackets</a></li>\n<li>All <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#strings\" rel=\"noreferrer\">Kotlin strings</a> use double quotes</li>\n<li>Braces are required around parameters for <a href=\"https://kotlinlang.org/docs/reference/functions.html#function-usage\" rel=\"noreferrer\">most function calls</a> (there are exceptions, like <a href=\"https://kotlinlang.org/docs/reference/functions.html#infix-notation\" rel=\"noreferrer\">infix functions</a>)</li>\n<li>Slighlty different task management API. There are different styles available. You can declare <a href=\"https://github.com/gradle/kotlin-dsl/blob/master/samples/copy/build.gradle.kts\" rel=\"noreferrer\">all the tasks in <code>tasks</code> block as strings</a>, or use a single typed function, as in the example below.</li>\n</ol>\n\n<p>Take a look at the converted top-level <code>build.gradle.kts</code>:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext[\"kotlin_version\"] = \"1.1.51\"\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath (\"com.android.tools.build:gradle:3.1.0-alpha01\")\n        classpath (\"org.jetbrains.kotlin:kotlin-gradle-plugin:${ext[\"kotlin_version\"]}\")\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask&lt;Delete&gt;(\"clean\") {\n    delete(rootProject.buildDir)\n}\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 8893323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2456edea8e42456588c696bf921a5f7?s=128&d=identicon&r=PG&f=1", "display_name": "Exitare", "link": "https://stackoverflow.com/users/8893323/exitare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10117, "favorite_count": 3, "accepted_answer_id": 47139300, "answer_count": 1, "score": 24, "last_activity_date": 1586970131, "creation_date": 1509970666, "last_edit_date": 1533487232, "question_id": 47136876, "link": "https://stackoverflow.com/questions/47136876/convert-an-existing-groovy-build-gradle-file-into-a-kotlin-based-build-gradle-kt", "title": "Convert an existing groovy build.gradle file into a kotlin based build.gradle.kts", "body": "<p>my project has two different build.gradle files written with groovy Syntax.\nI\u00b4d like to change this groovy written gradle file into a gradle file written with Kotlin Syntax (build.gradle.kts).</p>\n\n<p>I\u00b4ll show you the root project build.gradle file.</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    //ext.kotlin_version = '1.2-M2'\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0-alpha01'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>I tried several \"ways\" i found in the internet, but nothing worked. Renaming the file, which is obviously not the Solution, didn\u00b4t help. I\u00b4ve created a new build.gradle.kts file in my root project but the file isn\u00b4t shown in my project. \nAlso gradle didn\u00b4t recognize the new file.</p>\n\n<p>So my question is: How can i transform my groovy build.gradle file into a kotlin build.gradle.kts and add this new file into my existing project?</p>\n\n<p>Thanks for your help. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 2, "last_activity_date": 1509971161, "creation_date": 1509971161, "answer_id": 47137028, "question_id": 47136691, "link": "https://stackoverflow.com/questions/47136691/is-it-possible-to-map-a-higher-order-function-in-kotlin-to-a-string/47137028#47137028", "title": "Is it possible to map a higher order function in kotlin to a string", "body": "<p>yes this is possible:</p>\n\n<pre><code>val functionMap: Map&lt;String, (Int) -&gt; Int&gt; =\n        mapOf(\"a2\" to { a: Int -&gt; a * 2 },\n                \"a3\" to {a: Int -&gt; a * 3} )\n\nfun execute(a: Int, myBlock: (Int) -&gt; Int) {\n    println( myBlock(a) )\n}\n</code></pre>\n\n<p>Than you can get the function out of the map and use it as parameter for another function:</p>\n\n<pre><code>val fun1 = functionMap[\"a2\"]\n\nif (fun1 != null) {\n    execute(3, fun1)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": true, "score": 2, "last_activity_date": 1509973415, "creation_date": 1509973415, "answer_id": 47137651, "question_id": 47136691, "link": "https://stackoverflow.com/questions/47136691/is-it-possible-to-map-a-higher-order-function-in-kotlin-to-a-string/47137651#47137651", "title": "Is it possible to map a higher order function in kotlin to a string", "body": "<p>It is possible. There are only some syntax errors on your code. And note that you need a <code>MutableMap</code> in order to put value into the map.</p>\n\n<pre><code>private val topicCallbackMap = mutableMapOf&lt;String, (String, ByteArray) -&gt; Unit&gt;()\n\nfun connectToTopic(topic:String, body: (String, ByteArray) -&gt; Unit) {\n    topicCallbackMap.put(topic, body)\n    //OR\n    topicCallbackMap[topic] = body\n}\n</code></pre>\n"}], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 1, "accepted_answer_id": 47137651, "answer_count": 2, "score": 2, "last_activity_date": 1509973415, "creation_date": 1509970016, "question_id": 47136691, "link": "https://stackoverflow.com/questions/47136691/is-it-possible-to-map-a-higher-order-function-in-kotlin-to-a-string", "title": "Is it possible to map a higher order function in kotlin to a string", "body": "<p>I have to make an async request, and then notify the result to the listeners involved.</p>\n\n<pre><code>fun connectToTopic(topic:String, body:(topic:String, data : ByteArray ) -&gt; Void){\ntopicCallbackMap.put(topic, body) // is this possible???\n    }\n</code></pre>\n\n<p>I want to create a map from \"topic\" to the higher order function, so that I can call the particular higher order function for a particular topic, like this</p>\n\n<pre><code>private val topicCallbackMap: Map&lt;String, body:(topic:String, data : ByteArray ) -&gt; Void&gt;\n</code></pre>\n\n<p>The above one is a wrong code, just wanted to give the essence.</p>\n\n<p>What I want can be easily achieved by using an interface listener, but I wanted to know if this is possible in Kotlin. Thank you.</p>\n"}, {"tags": ["string", "split", "kotlin"], "comments": [{"owner": {"reputation": 14756, "user_id": 4475605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Rnw9H.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4475605/adrian"}, "edited": false, "score": 0, "creation_date": 1509967942, "post_id": 47135962, "comment_id": 81221164, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510051124, "post_id": 47136203, "comment_id": 81260859, "body": "Thanks, this is exactly what I am looking for... in the future :) I ended up doing something like this: private fun formatMacAddress(): String {         return id.toLowerCase()                 .mapIndexed { index, char -&gt;                     if (index != 0 &amp;&amp; index % 2 == 0) &quot;:$char&quot; else &quot;$char&quot; }                 .joinToString(&quot;&quot;)     } probably won&#39;t format in the comment, but you get the idea..."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510054247, "post_id": 47136203, "comment_id": 81262861, "body": "@lidkxx Nice, that looks actually pretty good! Btw, you can format code in comments by wrapping it in backticks ( ` )"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 8, "last_activity_date": 1509968518, "creation_date": 1509968518, "answer_id": 47136203, "question_id": 47135962, "link": "https://stackoverflow.com/questions/47135962/split-a-string-by-fixed-number-of-chars/47136203#47136203", "title": "Split a string by fixed number of chars", "body": "<p>In Kotlin 1.2 you can do this:</p>\n\n<pre><code>\"544A1609B62E\".toLowerCase().chunked(2).joinToString(\":\")\n</code></pre>\n\n<p>The <code>chunked</code> function is new in Kotlin 1.2. It splits a collection into chunks of the given size.</p>\n\n<p>Doing this in Kotlin 1.1 or lower is a bit more cumbersome. You could look at the answers in the question posted by @NSimon here: <a href=\"https://stackoverflow.com/questions/9276639/java-how-to-split-a-string-by-a-number-of-characters\">Java: How to split a string by a number of characters?</a></p>\n"}, {"comments": [{"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510050112, "post_id": 47136629, "comment_id": 81260227, "body": "This loop is infinite :&gt;"}, {"owner": {"reputation": 2601, "user_id": 5742304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TytFF.jpg?s=128&g=1", "display_name": "Febi M Felix", "link": "https://stackoverflow.com/users/5742304/febi-m-felix"}, "reply_to_user": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510050184, "post_id": 47136629, "comment_id": 81260271, "body": "Did you tried ?"}, {"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510051193, "post_id": 47136629, "comment_id": 81260913, "body": "Yes, that&#39;s why I am saying it is infinite. While is always true."}, {"owner": {"reputation": 2601, "user_id": 5742304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TytFF.jpg?s=128&g=1", "display_name": "Febi M Felix", "link": "https://stackoverflow.com/users/5742304/febi-m-felix"}, "reply_to_user": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1510051365, "post_id": 47136629, "comment_id": 81261045, "body": "Until sampleString is fixed length and value of &quot;i&quot; is incrementing inside while loop, it wont happen."}], "tags": [], "owner": {"reputation": 2601, "user_id": 5742304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TytFF.jpg?s=128&g=1", "display_name": "Febi M Felix", "link": "https://stackoverflow.com/users/5742304/febi-m-felix"}, "is_accepted": false, "score": 1, "last_activity_date": 1509969793, "creation_date": 1509969793, "answer_id": 47136629, "question_id": 47135962, "link": "https://stackoverflow.com/questions/47135962/split-a-string-by-fixed-number-of-chars/47136629#47136629", "title": "Split a string by fixed number of chars", "body": "<p>Another try in Kotlin,</p>\n\n<pre><code>val sampleString = \"544A1609B62E\"\n        var i = 0\n        var sampleBuffer = \"\";\n        while(i &lt; sampleString.length - 2) {\n            sampleBuffer = sampleBuffer.plus(sampleString.toLowerCase ().substring(i, i + 2)).plus(\":\")\n            i += 2\n        }\n\n        sampleBuffer = sampleBuffer.plus(sampleString.toLowerCase().substring(i))\n        Log.e(TAG, sampleBuffer)\n</code></pre>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "closed_date": 1509972788, "accepted_answer_id": 47136203, "answer_count": 2, "score": 1, "last_activity_date": 1509969793, "creation_date": 1509967753, "question_id": 47135962, "link": "https://stackoverflow.com/questions/47135962/split-a-string-by-fixed-number-of-chars", "closed_reason": "Duplicate", "title": "Split a string by fixed number of chars", "body": "<p>Is there a quick way to split a String by fixed number of chars in Kotlin?</p>\n\n<p>I need to split this <code>544A1609B62E</code>, lowercase it, add <code>:</code> where needed and achieve this: <code>54:4a:16:09:b6:2e</code>.</p>\n\n<p>What would be the idiomatic way to do it?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "edited": false, "score": 2, "creation_date": 1509965571, "post_id": 47135189, "comment_id": 81219820, "body": "You have to declare the <code>fun</code> before you use. Put it higher in your code."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1509965854, "post_id": 47135189, "comment_id": 81219973, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46511633/must-kotlin-local-functions-be-declared-before-use\">Must Kotlin Local Functions be Declared Before Use</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 1, "last_activity_date": 1509966154, "last_edit_date": 1509966154, "creation_date": 1509965803, "answer_id": 47135312, "question_id": 47135189, "link": "https://stackoverflow.com/questions/47135189/unresolved-reference-to-function-in-kotlin-android/47135312#47135312", "title": "Unresolved reference to function in Kotlin Android", "body": "<p>You must define <code>toggle_rest</code> function before you use in your code, otherwise you will get <strong>unresolve reference</strong> compile error:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var selected_answer = 0\n\n    //Declare your function before you use\n    fun toggle_rest(toCheck : Int, btn_list : List&lt;ToggleButton&gt;){\n        for (i in btn_list) {\n            i.setChecked(btn_list.indexOf(i) == toCheck)\n        }\n    }\n\n    val btn_list = mutableListOf&lt;ToggleButton&gt;(button1, button2, button3, button4)\n\n    for(i in btn_list){\n        i.setOnClickListener{\n            toggle_rest(btn_list.indexOf(i), btn_list)\n            selected_answer = btn_list.indexOf(i)+1\n        }\n    }\n\n    question_txt.setText(\"Quiz will begin shortly!\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "is_accepted": false, "score": 0, "last_activity_date": 1509966442, "creation_date": 1509966442, "answer_id": 47135531, "question_id": 47135189, "link": "https://stackoverflow.com/questions/47135189/unresolved-reference-to-function-in-kotlin-android/47135531#47135531", "title": "Unresolved reference to function in Kotlin Android", "body": "<p>You can also define function outside the onCreate() method, like below.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var selected_answer = 0\n\n    val btn_list = mutableListOf&lt;ToggleButton&gt;(button1, button2, button3, button4)\n\n    for(i in btn_list){\n        i.setOnClickListener{\n            toggle_rest(btn_list.indexOf(i), btn_list)\n            selected_answer = btn_list.indexOf(i)+1\n\n        }\n    }\n    question_txt.setText(\"Quiz will begin shortly!\")\n}\n\nfun toggle_rest(toCheck : Int, btn_list : List&lt;ToggleButton&gt;){\n\n\n    for (i in btn_list) {\n        i.setChecked(btn_list.indexOf(i) == toCheck)\n\n    }\n}\n</code></pre>\n\n<p>Works as per your expectation.</p>\n"}], "owner": {"reputation": 2765, "user_id": 8893667, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7a4429c16c124e321b31d72f41764131?s=128&d=identicon&r=PG&f=1", "display_name": "Kotlinboy", "link": "https://stackoverflow.com/users/8893667/kotlinboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 1, "accepted_answer_id": 47135312, "answer_count": 2, "score": 1, "last_activity_date": 1515361557, "creation_date": 1509965423, "last_edit_date": 1515361557, "question_id": 47135189, "link": "https://stackoverflow.com/questions/47135189/unresolved-reference-to-function-in-kotlin-android", "title": "Unresolved reference to function in Kotlin Android", "body": "<p>I have the following <code>onCreate</code> function in my MainActivity.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var selected_answer = 0\n\n    val btn_list = mutableListOf&lt;ToggleButton&gt;(button1, button2, button3, button4)\n\n    for(i in btn_list){\n        i.setOnClickListener{\n            toggle_rest(btn_list.indexOf(i), btn_list)\n            selected_answer = btn_list.indexOf(i)+1\n\n        }\n    }\n\n\n    fun toggle_rest(toCheck : Int, btn_list : List&lt;ToggleButton&gt;){\n\n\n        for (i in btn_list) {\n            i.setChecked(btn_list.indexOf(i) == toCheck)\n\n        }\n    }\n    question_txt.setText(\"Quiz will begin shortly!\")\n}\n</code></pre>\n\n<p>When I call <code>toggle_rest</code> it gives an error <code>toggle_rest:Unresolved reference</code>.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "edited": false, "score": 2, "creation_date": 1518686884, "post_id": 47135150, "comment_id": 84610195, "body": "You shouldn&#39;t ignore it. The warning is there for a reason. But adding a const is the correct approach."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1522386148, "post_id": 47135150, "comment_id": 86145406, "body": "How do you add <code>const</code> within a class?  That&#39;s so that each TAG has its own scope in debug logs."}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1522388090, "post_id": 47135150, "comment_id": 86145865, "body": "@scottbiggs use a companion object"}, {"owner": {"reputation": 7920, "user_id": 157804, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2KyP2.jpg?s=128&g=1", "display_name": "mobibob", "link": "https://stackoverflow.com/users/157804/mobibob"}, "edited": false, "score": 0, "creation_date": 1605827566, "post_id": 47135150, "comment_id": 114779540, "body": "add &#39;const&#39;, then the &#39;analyze code&#39; report will suggest putting in a companion object."}, {"owner": {"reputation": 1888, "user_id": 8536239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef95deb577f83fc571bc5ab416461daa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Padgett", "link": "https://stackoverflow.com/users/8536239/jeff-padgett"}, "edited": false, "score": 0, "creation_date": 1610386204, "post_id": 47135150, "comment_id": 116110922, "body": "Putting it top level also creates a Java object.  So either way you will have a static object."}], "tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": false, "score": 33, "last_activity_date": 1523862371, "last_edit_date": 1523862371, "creation_date": 1509965317, "answer_id": 47135150, "question_id": 47135012, "link": "https://stackoverflow.com/questions/47135012/private-property-name-doesnt-match-regex/47135150#47135150", "title": "Private property name doesn&#39;t match regex", "body": "<p>it is a warning and you could ignore it. It bothers you, declare them as <code>private const</code></p>\n\n<pre><code>private const val REQUEST_CODE = 11 \nprivate const val TAG = \"RecentCallsActivity\"\n\nclass RecentCallsActivity : AppCompatActivity() {\n</code></pre>\n\n<p>Or you could declare the <code>const val</code> in a companion object. The main difference between the two approaches Is the in the latter you will create a pointless additional object (the companion).</p>\n"}, {"tags": [], "owner": {"reputation": 2601, "user_id": 5742304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TytFF.jpg?s=128&g=1", "display_name": "Febi M Felix", "link": "https://stackoverflow.com/users/5742304/febi-m-felix"}, "is_accepted": false, "score": 9, "last_activity_date": 1509965828, "creation_date": 1509965828, "answer_id": 47135323, "question_id": 47135012, "link": "https://stackoverflow.com/questions/47135012/private-property-name-doesnt-match-regex/47135323#47135323", "title": "Private property name doesn&#39;t match regex", "body": "<p>Kotlin default to the Java Coding Conventions. So use of lowerCamelCase is suggested for Variables. Full caps naming is suggested for Constant variables.\nMore info here <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/coding-conventions.html</a>\n<a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/codeconventions-135099.html</a> </p>\n"}], "owner": {"reputation": 1409, "user_id": 3150830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SSo7j.jpg?s=128&g=1", "display_name": "Ashildr", "link": "https://stackoverflow.com/users/3150830/ashildr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6393, "favorite_count": 0, "answer_count": 2, "score": 23, "last_activity_date": 1523862371, "creation_date": 1509964892, "last_edit_date": 1510500326, "question_id": 47135012, "link": "https://stackoverflow.com/questions/47135012/private-property-name-doesnt-match-regex", "title": "Private property name doesn&#39;t match regex", "body": "<p>The following code returns this warning in Kotlin project using Android studio 3.0 on Mac.</p>\n\n<pre><code>private val REQUEST_CODE = 11 \nprivate val TAG = \"RecentCallsActivity\"\n</code></pre>\n\n<p>Private property name 'REQUEST_CODE' doesn't match regex '<code>_?[a-z][A-Za-z\\d]*</code>' less... (\u2318F1)\n<strong>Reports private property names that do not follow the recommended naming conventions.</strong></p>\n\n<p>What is the recommended naming convention ?</p>\n\n<p>I found , a similar <a href=\"https://stackoverflow.com/questions/38951610/local-variable-or-instance-field-name-doesnt-match-regex-a-z#\">question</a>,  that answers how to disable the same.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9lUVJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9lUVJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update:</strong> In some examples , I have seen this usage which removes the warning.</p>\n\n<pre><code>class KotlinExampleActivity : Activity() {\n\ncompanion object {\n    val TAG: String = KotlinExampleActivity::class.java.simpleName\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3678, "user_id": 3990222, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xVAWT.jpg?s=128&g=1", "display_name": "Edson Menegatti", "link": "https://stackoverflow.com/users/3990222/edson-menegatti"}, "edited": false, "score": 4, "creation_date": 1509962410, "post_id": 47134138, "comment_id": 81218079, "body": "I think that&#39;s pretty much the only way to go. You could make <code>firstName</code> and <code>lastName</code> non-nullable, but that won&#39;t really change much on the class definition."}], "answers": [{"comments": [{"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 10, "creation_date": 1553847841, "post_id": 47134349, "comment_id": 97545529, "body": "I don&#39;t think that null safety means not to use nulls. I think its better to think of null safety as not getting a nullpointerexception in places where you don&#39;t expect it. By adding a question mark we inform every user of the class to expect a null value and add measures to deal with it. I personally think that a null is more appropriate for a non-provided address instead of an empty string."}], "tags": [], "owner": {"reputation": 5365, "user_id": 1166926, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bef2acbb62b879e00ac413d781406c40?s=128&d=identicon&r=PG", "display_name": "Hardik Trivedi", "link": "https://stackoverflow.com/users/1166926/hardik-trivedi"}, "is_accepted": true, "score": 24, "last_activity_date": 1509962808, "creation_date": 1509962808, "answer_id": 47134349, "question_id": 47134138, "link": "https://stackoverflow.com/questions/47134138/kotlin-data-class-optional-variable/47134349#47134349", "title": "Kotlin data class optional variable", "body": "<p>I am not sure the solution I am giving you is the best or not. But definitely neat. </p>\n\n<p>The only thing I don't like to go with nulls as default param, because Kotlin offers Null Safety, lets not remove it just because to fulfil some other requirement. Mark them null only if they can be null. Else old Java way is good. Initialize them with some default value.</p>\n\n<pre><code>data class Student(val id: Int,\n                   val firstName: String,\n                   val lastName: String,\n                   val hobbyId: Int,\n                   val address1: String,\n                   val address2: String,\n                   val created: String,\n                   val updated: String) {\n    constructor(firstName: String, lastName: String) :\n            this(Int.MIN_VALUE, firstName, lastName, Int.MIN_VALUE, \"\", \"\", \"\", \"\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6057, "user_id": 49881, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d04b84e6ffd0c36ed6767c66da22bf6e?s=128&d=identicon&r=PG", "display_name": "Newbie", "link": "https://stackoverflow.com/users/49881/newbie"}, "is_accepted": false, "score": 51, "last_activity_date": 1521686849, "creation_date": 1521686849, "answer_id": 49419721, "question_id": 47134138, "link": "https://stackoverflow.com/questions/47134138/kotlin-data-class-optional-variable/49419721#49419721", "title": "Kotlin data class optional variable", "body": "<p>You can set <a href=\"https://www.programiz.com/kotlin-programming/constructors#default-primary\" rel=\"noreferrer\">default values in your primary constructor</a> as shown below.</p>\n\n<pre><code>data class Student(val id: Int = Int.MIN_VALUE,\n               val firstName: String,\n               val lastName: String,\n               val hobbyId: Int = Int.MIN_VALUE,\n               val address1: String = \"\",\n               val address2: String = \"\",\n               val created: String = \"\",\n               val updated: String = \"\")\n</code></pre>\n\n<p>Then you can use named arguments when creating a new student instance as shown below.</p>\n\n<pre><code>Student(firstName = \"Mark\", lastName = \"S\")\n</code></pre>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28274, "favorite_count": 0, "accepted_answer_id": 47134349, "answer_count": 2, "score": 33, "last_activity_date": 1548708586, "creation_date": 1509962127, "question_id": 47134138, "link": "https://stackoverflow.com/questions/47134138/kotlin-data-class-optional-variable", "title": "Kotlin data class optional variable", "body": "<pre><code>data class Student(\n    val id: Int?,\n    val firstName: String?,\n    val lastName: String?,\n    val hobbyId: Int?,\n    val address1: String?,\n    val address2: String?,\n    val created: String?,\n    val updated: String?,\n    ...\n)\n</code></pre>\n\n<p>I have like above data class, and I want to create a Student instance with only first name and last name.\nSo If I run this,</p>\n\n<pre><code>// creating a student \nStudent(\n    firstName = \"Mark\"\n    lastName = \"S\"\n)\n</code></pre>\n\n<p>I will get <strong>No value passed for parameter 'id' ...</strong> errors.</p>\n\n<p>To avoid that, I modified the Student class like this,</p>\n\n<pre><code>data class Student(\n    val id: Int? = null,\n    val firstName: String? = null,\n    val lastName: String? = null,\n    val hobbyId: Int? = null,\n    val address1: String? = null,\n    val address2: String? = null,\n    val created: String? = null,\n    val updated: String? = null,\n    ...\n)\n</code></pre>\n\n<p>But it looks so ugly. </p>\n\n<p>Is there any better way?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1509960981, "post_id": 47133552, "comment_id": 81217167, "body": "Is there a crash, when you try second time? Post the stack trace if so"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "reply_to_user": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1509961126, "post_id": 47133552, "comment_id": 81217275, "body": "yes it&#39;s stopped working when i try the second time. sorry i am new in android studio. where i can find &quot;stack trace&quot; ?"}, {"owner": {"reputation": 1815, "user_id": 2758499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sjbph.png?s=128&g=1", "display_name": "Saran Sankaran", "link": "https://stackoverflow.com/users/2758499/saran-sankaran"}, "edited": false, "score": 0, "creation_date": 1509961252, "post_id": 47133552, "comment_id": 81217364, "body": "at the bottom of AS you will see logcat. If the app is crashing, it will print some lines in read which can be used to analyze the reason for crash."}, {"owner": {"reputation": 92, "user_id": 3493120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/724eef486561002da3b447cd7bbbc6bd?s=128&d=identicon&r=PG&f=1", "display_name": "aurilio", "link": "https://stackoverflow.com/users/3493120/aurilio"}, "edited": false, "score": 0, "creation_date": 1509961692, "post_id": 47133552, "comment_id": 81217624, "body": "can you add the crash logs too ?"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1509961693, "post_id": 47133552, "comment_id": 81217628, "body": "ah after i try again multiple times, i realized the error appears when i select only one photo. the error caused by this code &quot;println(&quot;++count&quot; + data.clipData!!.itemCount)&quot;. it works fine if i select more than one photos. how to fix this?"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509960298, "creation_date": 1509960298, "question_id": 47133552, "link": "https://stackoverflow.com/questions/47133552/select-multiple-photo-works-only-once", "title": "select multiple photo works only once", "body": "<p>I am creating multiple upload feature (for now it's only to select multiple photos) but my code only works once to select some photos. here is the flow of my application:</p>\n\n<ol>\n<li>click button \"select photo\".</li>\n<li>open default android gallery and select some photos and then click \"open\".</li>\n<li>default android gallery closed and back to activity where \"select photo\" button belong.</li>\n</ol>\n\n<p>my problem is after I pass those 3 steps and try to click \"select photo\" button again, my application stopped working.</p>\n\n<p>here is my activity code:</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.upload_motif_activity)\n    btnAddPhots.setOnClickListener(View.OnClickListener { test() })\n}\n\npublic fun test(){\n    val i = Intent()\n    i.type = \"image/*\"\n    //i.setType(\"video/*\");\n    i.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true)\n    i.action = Intent.ACTION_GET_CONTENT\n    startActivityForResult(\n            Intent.createChooser(i, \"android.intent.action.SEND_MULTIPLE\"), 1)\n}\n\n@RequiresApi(Build.VERSION_CODES.JELLY_BEAN)\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n    println(\"++count\" + data.clipData!!.itemCount)\n    val selectedImage = data.clipData!!.getItemAt(0).uri//As of now use static position 0 use as per itemcount.\n    var bitmap: Bitmap? = null\n    //        Uri selectedImage1 = data.getData();\n    try {\n        bitmap = MediaStore.Images.Media.getBitmap(this.contentResolver, selectedImage)\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n\n    println(\"+++ clipdate\" + selectedImage)\n\n    var condata: Uri? = null\n    for (i in 0..(data.clipData!!.itemCount - 1)) {\n        val ab = data.clipData!!.getItemAt(i).uri\n        textView2.text = ab.toString() + \"\\n\"\n    }\n}\n</code></pre>\n\n<p>strangely my logcat doesnt show any \"red\" warning. this is my last 8 lines of my logcat:</p>\n\n<pre><code>11-06 16:11:08.947 30224-30224/tigaer.inventory V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@b340b63\n11-06 16:11:08.947 30224-30224/tigaer.inventory V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@2333360\n11-06 16:11:08.963 30224-30224/tigaer.inventory V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@63583db\n11-06 16:11:08.963 30224-30224/tigaer.inventory V/BoostFramework: BoostFramework() : mPerf = com.qualcomm.qti.Performance@9580e78\n11-06 16:11:09.170 30224-30392/tigaer.inventory D/OpenGLRenderer: endAllStagingAnimators on 0x558a11f950 (ListPopupWindow$DropDownListView) with handle 0x558a0b6e70\n11-06 16:11:10.161 30224-30392/tigaer.inventory D/OpenGLRenderer: endAllStagingAnimators on 0x558a15ed50 (RippleDrawable) with handle 0x558a0b70e0\n11-06 16:11:15.359 30224-30224/tigaer.inventory I/System.out: ++count3\n11-06 16:11:15.430 30224-30224/tigaer.inventory I/System.out: +++ clipdatecontent://com.android.providers.media.documents/document/image%3A19001\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1509960043, "post_id": 47133436, "comment_id": 81216512, "body": "You need to call <code>component.inject(this)</code> in the <code>ApiHelperImpl</code> class"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1509963416, "post_id": 47133436, "comment_id": 81218592, "body": "@H&#233;ctor Where I should call <code>component.inject(this)</code>"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510134284, "post_id": 47133436, "comment_id": 81301651, "body": "@Williams, can you post a simple project with that behavior at github?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510150363, "post_id": 47133436, "comment_id": 81312632, "body": "@azizbekian I think this is all I have in my code related to dagger"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510289001, "post_id": 47133436, "comment_id": 81380949, "body": "@azizbekian can you please suggest if you think something is missing"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510292312, "post_id": 47133436, "comment_id": 81381959, "body": "As I said, if you upload a simple project at github, I&#39;ll have a look."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510331020, "post_id": 47133436, "comment_id": 81404441, "body": "@azizbekian please see here <a href=\"https://www.dropbox.com/s/z3pquzr2jc159xy/android.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/z3pquzr2jc159xy/android.zip?dl=0</a>"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510382500, "post_id": 47133436, "comment_id": 81420713, "body": "@Williams, that doesn&#39;t look like a valid android project, it&#39;s just a bunch of files. Can you post a project, that can be imported into Android Studio and reproduced your issue?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1510387475, "post_id": 47133436, "comment_id": 81421833, "body": "@azizbekian I see but it has very large codebase and confidential, can you create project and put these classes. I am creating <code>retrofit</code> inside <code>ApiHelperImpl.kt</code> where I am getting an error"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509960288, "post_id": 47133491, "comment_id": 81216667, "body": "I am calling it <code>ApiHelperImpl</code> from the <code>LoginViewModel</code> what to pass here ? like <code>ApiHelperImpl().doServerLoginApiCall(email, password)</code>"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509960501, "post_id": 47133491, "comment_id": 81216797, "body": "Do you mean this <code>class LoginViewModel @Inject constructor(val retrofit: Retrofit) : AnkoLogger {</code>"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510669880, "post_id": 47133491, "comment_id": 81526746, "body": "check <a href=\"https://github.com/bblackbelt/BreweryApp/tree/develop/app/src/main/java/com/blackbelt/brewery/di\" rel=\"nofollow noreferrer\">this</a> out"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510685593, "post_id": 47133491, "comment_id": 81537202, "body": "Thanks. I am getting this error: dagger.internal.codegen.ComponentProcessor was unable to process this interface because not all of its dependencies could be resolved"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510756527, "post_id": 47133491, "comment_id": 81570565, "body": "e: public abstract interface AppComponent { e:                 ^"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1510758549, "post_id": 47133491, "comment_id": 81572153, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/159073/discussion-between-williams-and-blackbelt\">continue this discussion in chat</a>."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510760234, "post_id": 47133491, "comment_id": 81573521, "body": "here you can see <a href=\"https://chat.stackoverflow.com/transcript/message/40043912#40043912\">chat.stackoverflow.com/transcript/message/40043912#40043912</a>"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510850716, "post_id": 47133491, "comment_id": 81621307, "body": "Did you get a chance to look"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510853432, "post_id": 47133491, "comment_id": 81623171, "body": "It worked, I made one variable private, so it was the issue. Now I want to create instance of <code>ApiHelperImpl</code> to call <code>doServerLoginApiCall</code> how should i do in loginviewmodel"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510896670, "post_id": 47133491, "comment_id": 81639644, "body": "Ok thank you will try today, btw why it is constructor injection here ?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510897440, "post_id": 47133491, "comment_id": 81639887, "body": "Well, I guess you want dagger to instante the VM for you. When you inject it, Android will be resolve the dependency(ies) for you. If VM is part of the life cycle extensions, then you are probably using the ViewModelProvider from the sdk. If that&#39;s the case you will need a custom factory. I&#39;ll provide an example in few hours if you need it"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510899380, "post_id": 47133491, "comment_id": 81640596, "body": "I am doing it like this in <code>LoginActivity </code> class <code>private val loginViewModel: LoginViewModel by lazy {         ViewModelProviders.of(this).get(LoginViewModel::class.java)     }</code> so here it will inject all dependencies which are in the constructor of loginviewmodel right ?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510912059, "post_id": 47133491, "comment_id": 81647059, "body": "ok. just for learning what changes I need to make if I want to inject like this    <code>@Inject     lateinit var apiHelper : ApiHelper</code> ? in loginviewmodel"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510915701, "post_id": 47133491, "comment_id": 81649540, "body": "to inject that one in your Activity, you don&#39;t have to change anything."}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510926640, "post_id": 47133491, "comment_id": 81656312, "body": "something like <a href=\"https://gist.github.com/bblackbelt/8cd5ec78ab2a5150a1f72606ce22a365\" rel=\"nofollow noreferrer\">this</a> should do it"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510996239, "post_id": 47133491, "comment_id": 81681503, "body": "I tried suggested solution, I am getting this error <a href=\"https://pastebin.com/FvdhJSYL\" rel=\"nofollow noreferrer\">pastebin.com/FvdhJSYL</a> can you look please"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510996391, "post_id": 47133491, "comment_id": 81681532, "body": "As usual some code would help. Btw yesterday I pushed some VMs on the same repository. Very close to what your are trying right now. Give it a try!"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1511026332, "post_id": 47133491, "comment_id": 81690332, "body": "Thank you so much. It worked :)  I am getting this error <a href=\"https://pastebin.com/aqLVkMby\" rel=\"nofollow noreferrer\">pastebin.com/aqLVkMby</a> and code here <a href=\"https://pastebin.com/QhJH1Gbr\" rel=\"nofollow noreferrer\">pastebin.com/QhJH1Gbr</a> can you have a look pls"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1511026491, "post_id": 47133491, "comment_id": 81690382, "body": "<code>ViewModelProviders.of(this).get(LoginViewModel::class.java)</code> should be <code>ViewModelProviders.of(this, mFactory).get(LoginViewModel::class.java)</code>"}], "tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 1, "last_activity_date": 1509960570, "last_edit_date": 1509960570, "creation_date": 1509960107, "answer_id": 47133491, "question_id": 47133436, "link": "https://stackoverflow.com/questions/47133436/dagger2-retrofit-is-not-injecting-in-apihelperimpl/47133491#47133491", "title": "Dagger2- Retrofit is not injecting in ApiHelperImpl", "body": "<p>in order to use <code>@Inject</code> in <code>ApiHelperImpl</code> you have to add it (calling <code>inject</code> on the component) to the dependency graph. In this case I would pass it as dependency to the constructor of <code>ApiHelperImpl</code></p>\n\n<pre><code>  class ApiHelperImpl @Inject constructor(val retrofit : Retrofit) : ApiHelper {\n\n     val mRetrofit = retrofit\n</code></pre>\n\n<p>should do it</p>\n"}, {"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510636884, "post_id": 47277975, "comment_id": 81507196, "body": "I have two methods as of now in <code>doServerLoginApiCall</code> which returns <code>Observable&lt;LoginResponse&gt;</code> and <code>doServerRegistrationApiCall</code> which returns <code>Observable&lt;RegistrationResponse&gt;</code> in <code>ApiHelperImpl</code>. I couldn&#39;t understand what changes I have to make in my code. can you show with few more line of code thank you"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510638300, "post_id": 47277975, "comment_id": 81507629, "body": "I updated my question, can you please check it again"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510643022, "post_id": 47277975, "comment_id": 81509501, "body": "What is <code>WebService</code> and how to inject <code>apiService()</code>"}, {"owner": {"reputation": 4274, "user_id": 4647628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vwyho.jpg?s=128&g=1", "display_name": "Aks4125", "link": "https://stackoverflow.com/users/4647628/aks4125"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510645519, "post_id": 47277975, "comment_id": 81510785, "body": "WebService is your interface class where your GET,POST methods are declared. Use <code>ApiHelper </code> instead of WebService. and inject in your ApiHelper Implementation."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510646672, "post_id": 47277975, "comment_id": 81511386, "body": "Inject where in ApiHelper? Constructor ?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510651986, "post_id": 47277975, "comment_id": 81514427, "body": "Thank you so much. I will try your solution."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510669807, "post_id": 47277975, "comment_id": 81526700, "body": "Problem is not to initialize ApiHelperImpl. I am doing it like <code>ApiHelperImpl()</code> but it crashes when it tries to use <code>retrofit</code> there. it is not getting initialized, though I injected it there"}, {"owner": {"reputation": 4274, "user_id": 4647628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vwyho.jpg?s=128&g=1", "display_name": "Aks4125", "link": "https://stackoverflow.com/users/4647628/aks4125"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1510674488, "post_id": 47277975, "comment_id": 81530227, "body": "@Williams I suggest you to go for dagger 2.10 implementation because for dagger 2.11 &amp; 2.12, you won&#39;t be able to find proper documentation in Kotlin. Still, I tried but I will implement my own then only I can provide a proper solution."}], "tags": [], "owner": {"reputation": 4274, "user_id": 4647628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vwyho.jpg?s=128&g=1", "display_name": "Aks4125", "link": "https://stackoverflow.com/users/4647628/aks4125"}, "is_accepted": false, "score": 2, "last_activity_date": 1510651758, "last_edit_date": 1510651758, "creation_date": 1510635564, "answer_id": 47277975, "question_id": 47133436, "link": "https://stackoverflow.com/questions/47133436/dagger2-retrofit-is-not-injecting-in-apihelperimpl/47277975#47277975", "title": "Dagger2- Retrofit is not injecting in ApiHelperImpl", "body": "<p>You can implement the same using module</p>\n\n<pre><code>@Module\nclass ApiModule {\n\n\n@Provides\n@Singleton\nfun apiService(context: Context): WebService {\n    val mBaseUrl = context.getString(if (BuildConfig.DEBUG) R.string.local_url else R.string.live_url)\n\n    val loggingInterceptor = HttpLoggingInterceptor()\n    loggingInterceptor.level = if (BuildConfig.DEBUG) HttpLoggingInterceptor.Level.BODY else HttpLoggingInterceptor.Level.NONE\n\n    val okHttpClient = OkHttpClient.Builder()\n            .readTimeout(120, TimeUnit.SECONDS)\n            .writeTimeout(120, TimeUnit.SECONDS)\n            .connectTimeout(120, TimeUnit.SECONDS)\n            .addInterceptor(loggingInterceptor)\n            //.addNetworkInterceptor(networkInterceptor)\n            .build()\n\n    return Retrofit.Builder().baseUrl(mBaseUrl)\n            .client(okHttpClient)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build().create(WebService::class.java)\n\n}\n\n}\n</code></pre>\n\n<p>Also change in <code>AppComponent</code></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ApplicationModule::class, ApiModule::class))\ninterface AppComponent {\n...\n\nfun apiService(): WebService\n\n...\n}\n</code></pre>\n\n<p>your changes</p>\n\n<pre><code>@Component(modules = arrayOf(AndroidInjectionModule::class, AppModule::class, ApiModule ::class))\n</code></pre>\n\n<p><em>add APIModule in relevant sub modules also</em></p>\n\n<p><strong>UPDATE</strong></p>\n\n<pre><code>@Component(modules = arrayOf(AndroidInjectionModule::class, AppModule::class, ActivityBuilder::class))\n@Singleton\ninterface AppComponent {\nfun inject(app: PartnerApplication)\nfun apiService(): ApiHelper \n}\n</code></pre>\n\n<p>and then inject whenever you want to use.</p>\n\n<pre><code>@Inject\nvar webService: WebService? = null\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 1, "accepted_answer_id": 47133491, "answer_count": 2, "score": -4, "last_activity_date": 1510651758, "creation_date": 1509959931, "last_edit_date": 1510638276, "question_id": 47133436, "link": "https://stackoverflow.com/questions/47133436/dagger2-retrofit-is-not-injecting-in-apihelperimpl", "title": "Dagger2- Retrofit is not injecting in ApiHelperImpl", "body": "<p>Hi I am trying to inject <code>retrofit</code> in <code>ApiHelperImpl.kt</code> class. I have below module and component.</p>\n\n<p>AppComponent.kt</p>\n\n<pre><code>@Component(modules = arrayOf(AndroidInjectionModule::class, AppModule::class, ActivityBuilder::class))\n@Singleton\ninterface AppComponent {\n    fun inject(app: PartnerApplication)\n}\n</code></pre>\n\n<p>AppModule.kt</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Provides\n    @Singleton\n    fun providesPartnerApplication(application: Application): Application = application\n\n    @Provides\n    @Singleton\n    fun providesSharedPreferences(application: Application): SharedPreferences {\n        return PreferenceManager.getDefaultSharedPreferences(application)\n    }\n\n    @Provides\n    @Singleton\n    fun provideOkHttpCache(application: Application): Cache {\n        val cacheSize = 10 * 1024 * 1024L // 10 MiB\n        return Cache(application.cacheDir, cacheSize)\n    }\n\n    @Provides\n    @Singleton\n    fun provideMoshi(): Moshi = Moshi.Builder().build()\n\n    @Provides\n    @Singleton\n    fun provideOkHttpClient(cache: Cache): OkHttpClient {\n        val okHttpClient = OkHttpClient()\n        okHttpClient.newBuilder()\n                .cache(cache)\n                .build()\n        return okHttpClient\n    }\n\n    @Provides\n    @Singleton\n    fun provideRetrofit(moshi: Moshi, okHttpClient: OkHttpClient): Retrofit {\n        return Retrofit.Builder()\n                .addConverterFactory(MoshiConverterFactory.create(moshi))\n                .baseUrl(BuildConfig.BASE_URL)\n                .client(okHttpClient)\n                .build()\n    }\n\n}\n</code></pre>\n\n<p>PartnerApplication.kt</p>\n\n<pre><code>class PartnerApplication : Application(), AnkoLogger, HasActivityInjector {\n\n    @Inject lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n        return activityInjector\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        DaggerAppComponent.create().inject(this)\n    }\n\n    override protected fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n}\n</code></pre>\n\n<p>ApiHelper.kt</p>\n\n<pre><code>interface ApiHelper {\n    fun doServerLoginApiCall(email: String, password: String): Observable&lt;LoginResponse&gt;\n    fun doServerRegistrationApiCall(): Observable&lt;RegistrationResponse&gt;\n}\n</code></pre>\n\n<p>ApiHelperImpl.kt</p>\n\n<pre><code>class ApiHelperImpl : ApiHelper {\n\n    @Inject\n    lateinit var retrofit: Retrofit\n\n    override fun doServerLoginApiCall(email: String, password: String): Observable&lt;LoginResponse&gt; {\n        return retrofit.create(RestApi::class.java).login(email, password)\n    }\n\n    override fun doServerRegistrationApiCall(): Observable&lt;RegistrationResponse&gt; {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n</code></pre>\n\n<p>LoginActivity.kt</p>\n\n<pre><code>class LoginActivity : BaseActivity() {\n\n    @Inject\n    lateinit var loginViewModel: LoginViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        performDependencyInjection()\n        super.onCreate(savedInstanceState)\n        val activityLoginBinding: ActivityLoginBinding = DataBindingUtil.setContentView&lt;ActivityLoginBinding&gt;(this, R.layout.activity_login)\n        activityLoginBinding.loginViewModel = loginViewModel\n    }\n}\n</code></pre>\n\n<p>LoginViewModel.kt</p>\n\n<pre><code>class LoginViewModel : ViewModel(), AnkoLogger {\n\n    val emailField = ObservableField&lt;String&gt;()\n\n    private val email: String\n        get() = emailField.get()\n\n    val passwordField = ObservableField&lt;String&gt;()\n\n    private val password: String\n        get() = passwordField.get()\n\n    val progressVisibility: ObservableInt = ObservableInt(View.GONE)\n\n    @Suppress(\"PARAMETER_NAME_CHANGED_ON_OVERRIDE\")\n    fun login(view: View) {\n        if (isEmailAndPasswordValid(email, password))\n            ApiHelperImpl().doServerLoginApiCall(email, password)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(object : CallbackWrapper&lt;LoginResponse&gt;() {\n\n                        override fun onSuccess(loginResponse: LoginResponse) {\n                        }\n                    })\n\n    }\n\n    /**\n     * Validate email and password. It checks email and password is empty or not\n     * and validate email address is correct or not\n     * @param email email address for login\n     * @param password password for login\n     * @return true if email and password pass all conditions else false\n     */\n    private fun isEmailAndPasswordValid(email: String, password: String): Boolean {\n\n        if (email.isEmpty()) return false\n\n        if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) return false\n\n        if (password.isEmpty()) return false\n\n        return true\n    }\n\n}\n</code></pre>\n\n<p>LoginActivityModule.kt</p>\n\n<pre><code>@Module\nclass LoginActivityModule {\n\n    @Provides\n    fun providesLoginActivityViewModel(): LoginViewModel {\n        return LoginViewModel()\n    }\n}\n</code></pre>\n\n<p>ActivityBuilder.kt</p>\n\n<pre><code>@Module\nabstract class ActivityBuilder {\n\n    @ContributesAndroidInjector(modules = arrayOf(LoginActivityModule::class))\n    abstract fun bindLoginActivity(): LoginActivity\n\n}\n</code></pre>\n\n<p>I am getting an error</p>\n\n<pre><code>Process: com.partner.android, PID: 9697\nkotlin.UninitializedPropertyAccessException: lateinit property retrofit has not been initialized\n    at com.partner.android.data.remote.ApiHelperImpl.doServerLoginApiCall(ApiHelperImpl.kt:32)\n    at com.partner.android.login.LoginViewModel.login(LoginViewModel.kt:45)\n    at com.partner.android.databinding.ActivityLoginBinding$OnClickListenerImpl.onClick(ActivityLoginBinding.java:298)\n    at android.view.View.performClick(View.java:5637)\n    at android.view.View$PerformClick.run(View.java:22429)\n    at android.os.Handler.handleCallback(Handler.java:751)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6119)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n\n<p>Why <code>retrofit</code> is not injecting in ApiHelperImpl class.</p>\n"}, {"tags": ["android", "video", "kotlin", "android-videoview"], "comments": [{"owner": {"reputation": 1012, "user_id": 5657745, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/rymyn.jpg?s=128&g=1", "display_name": "Mohd Asif Ahmed", "link": "https://stackoverflow.com/users/5657745/mohd-asif-ahmed"}, "edited": false, "score": 1, "creation_date": 1509958985, "post_id": 47132802, "comment_id": 81215913, "body": "Use RelativeLayout instead of FrameLayout and in VideoView tag add this attribute &quot;android:layout_centerInParent=&quot;true&quot;&quot; It will fix your problem"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1509959900, "post_id": 47132802, "comment_id": 81216413, "body": "<a href=\"https://stackoverflow.com/questions/1957831/center-a-button-in-a-linear-layout\" title=\"center a button in a linear layout\">stackoverflow.com/questions/1957831/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "edited": false, "score": 0, "creation_date": 1556271549, "post_id": 47133314, "comment_id": 98389755, "body": "you saved me from a minor headache"}, {"owner": {"reputation": 1861, "user_id": 3017473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m88R3.jpg?s=128&g=1", "display_name": "Shohel Rana", "link": "https://stackoverflow.com/users/3017473/shohel-rana"}, "reply_to_user": {"reputation": 1597, "user_id": 5115254, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VlKEh.jpg?s=128&g=1", "display_name": "Koen Van Looveren", "link": "https://stackoverflow.com/users/5115254/koen-van-looveren"}, "edited": false, "score": 0, "creation_date": 1556296141, "post_id": 47133314, "comment_id": 98403234, "body": "Thank you @KoenVanLooveren"}], "tags": [], "owner": {"reputation": 1861, "user_id": 3017473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m88R3.jpg?s=128&g=1", "display_name": "Shohel Rana", "link": "https://stackoverflow.com/users/3017473/shohel-rana"}, "is_accepted": true, "score": 5, "last_activity_date": 1509959538, "creation_date": 1509959538, "answer_id": 47133314, "question_id": 47132802, "link": "https://stackoverflow.com/questions/47132802/center-vertically-a-videoview-on-portrait/47133314#47133314", "title": "Center vertically a VideoView on portrait", "body": "<p>You can use this below code.</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"&gt;\n    &lt;VideoView\n        android:id=\"@+id/videoView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Its work perfectly.</p>\n"}, {"comments": [{"owner": {"reputation": 648, "user_id": 6666677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h4rCB.jpg?s=128&g=1", "display_name": "Bhavesh Desai", "link": "https://stackoverflow.com/users/6666677/bhavesh-desai"}, "reply_to_user": {"reputation": 3404, "user_id": 298627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sV28v.png?s=128&g=1", "display_name": "bashan", "link": "https://stackoverflow.com/users/298627/bashan"}, "edited": false, "score": 0, "creation_date": 1509968524, "post_id": 47133315, "comment_id": 81221512, "body": "in my case its works, please provide more code with your video URL if possible"}], "tags": [], "owner": {"reputation": 648, "user_id": 6666677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h4rCB.jpg?s=128&g=1", "display_name": "Bhavesh Desai", "link": "https://stackoverflow.com/users/6666677/bhavesh-desai"}, "is_accepted": false, "score": 2, "last_activity_date": 1509959542, "creation_date": 1509959542, "answer_id": 47133315, "question_id": 47132802, "link": "https://stackoverflow.com/questions/47132802/center-vertically-a-videoview-on-portrait/47133315#47133315", "title": "Center vertically a VideoView on portrait", "body": "<p>Try this,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;VideoView\n        android:id=\"@+id/videoView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 3404, "user_id": 298627, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sV28v.png?s=128&g=1", "display_name": "bashan", "link": "https://stackoverflow.com/users/298627/bashan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2162, "favorite_count": 0, "accepted_answer_id": 47133314, "answer_count": 2, "score": 1, "last_activity_date": 1509976457, "creation_date": 1509957719, "last_edit_date": 1509976457, "question_id": 47132802, "link": "https://stackoverflow.com/questions/47132802/center-vertically-a-videoview-on-portrait", "title": "Center vertically a VideoView on portrait", "body": "<p>Is there a way to center a VideoView in activity on portrait. I tried many options, for example:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_gravity=\"center\"\nandroid:layout_height=\"fill_parent\" &gt;\n\n&lt;VideoView\n    android:id=\"@+id/videoView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center|center_vertical\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Here is how I start the activity:</p>\n\n<pre><code>    val intent = Intent(this, VideoActivity::class.java)\n    startActivity(intent)\n</code></pre>\n\n<p>Here is the code in the activity:</p>\n\n<pre><code>class VideoActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_video)\n\n    val uriPath = \"android.resource://\" + packageName + \"/raw/ad\"\n    val uri = Uri.parse(uriPath)\n\n    videoView.setVideoURI(uri)\n    videoView.requestFocus()\n    videoView.start()\n\n   }\n\n}\n</code></pre>\n\n<p>It keeps aligning to the top:\n<a href=\"https://i.stack.imgur.com/QucQx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QucQx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 0, "creation_date": 1509956291, "post_id": 47132374, "comment_id": 81214462, "body": "Did you try with <code>subscribeWith(new CallbackWrapper&lt;LoginResponse&gt;(view)</code>?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 1277, "user_id": 1737811, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab510b7d0d145c538fcc7638395ee703?s=128&d=identicon&r=PG", "display_name": "mutantkeyboard", "link": "https://stackoverflow.com/users/1737811/mutantkeyboard"}, "edited": false, "score": 1, "creation_date": 1509956519, "post_id": 47132374, "comment_id": 81214578, "body": "@mutantkeyboard If you see my <code>CallbackWrapper</code> I dont have view"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509956574, "post_id": 47132437, "comment_id": 81214597, "body": "If you see my <code>CallbackWrapper</code> I dont have view and Do we need new operator in Kotlin to create object ?"}, {"owner": {"reputation": 5227, "user_id": 3635454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k0PRy.png?s=128&g=1", "display_name": "pleft", "link": "https://stackoverflow.com/users/3635454/pleft"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509956623, "post_id": 47132437, "comment_id": 81214624, "body": "I didn&#39;t say anything about <code>view</code>, just about the <code>new</code> operator which appears in the example url you posted."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509956688, "post_id": 47132437, "comment_id": 81214657, "body": "Yes, I think we don&#39;t need new operator to initialize in kotlin. Please correct me if I am wrong"}, {"owner": {"reputation": 5227, "user_id": 3635454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k0PRy.png?s=128&g=1", "display_name": "pleft", "link": "https://stackoverflow.com/users/3635454/pleft"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509956767, "post_id": 47132437, "comment_id": 81214695, "body": "Correct but you are also missing the <code>()</code> after <code>CallbackWrapper&lt;LoginResponse&gt;</code>. I will update my answer"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509956909, "post_id": 47132437, "comment_id": 81214787, "body": "see I am getting <a href=\"https://imgur.com/a/jg6Ab\" rel=\"nofollow noreferrer\">imgur.com/a/jg6Ab</a> can not create an instance of an abstract class"}, {"owner": {"reputation": 5227, "user_id": 3635454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k0PRy.png?s=128&g=1", "display_name": "pleft", "link": "https://stackoverflow.com/users/3635454/pleft"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509957006, "post_id": 47132437, "comment_id": 81214836, "body": "<a href=\"https://stackoverflow.com/questions/34143564/create-an-instance-of-an-abstract-class-in-kotlin\" title=\"create an instance of an abstract class in kotlin\">stackoverflow.com/questions/34143564/&hellip;</a>"}, {"owner": {"reputation": 5227, "user_id": 3635454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k0PRy.png?s=128&g=1", "display_name": "pleft", "link": "https://stackoverflow.com/users/3635454/pleft"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509957560, "post_id": 47132437, "comment_id": 81215112, "body": "You need to implement the <code>onSuccess</code> abstract method"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 2, "creation_date": 1509957687, "post_id": 47132437, "comment_id": 81215178, "body": "Thank you so much :) I didn&#39;t know how to instantiate abstract class +1"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1509995953, "post_id": 47132437, "comment_id": 81238364, "body": "Does anyone know in Kotlin if there is a nice shorter way to override onSuccess using <code>it</code> and lambda arrows <code>override fun onSuccess(r: LoginResponse) { }</code> ? I can&#39;t do it :)"}], "tags": [], "owner": {"reputation": 5227, "user_id": 3635454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k0PRy.png?s=128&g=1", "display_name": "pleft", "link": "https://stackoverflow.com/users/3635454/pleft"}, "is_accepted": true, "score": 4, "last_activity_date": 1509957648, "last_edit_date": 1509957648, "creation_date": 1509956231, "answer_id": 47132437, "question_id": 47132374, "link": "https://stackoverflow.com/questions/47132374/how-to-use-contextwrapper-class-with-subscribewith/47132437#47132437", "title": "How to use ContextWrapper class with subscribeWith", "body": "<p>You need to put the <code>()</code> after <code>CallbackWrapper&lt;LoginResponse&gt;</code> and to instantiate an abstract class in <code>kotlin</code> you have to call it as: <code>object: AbstractClass(...params){}</code></p>\n\n<pre><code>ApiHelperImpl().doServerLoginApiCall(email, password)\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribeWith(object: CallbackWrapper&lt;LoginResponse&gt;() {\n        override fun onSuccess(r: LoginResponse) { }\n    })\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 47132437, "answer_count": 1, "score": 2, "last_activity_date": 1509957648, "creation_date": 1509955936, "last_edit_date": 1509956754, "question_id": 47132374, "link": "https://stackoverflow.com/questions/47132374/how-to-use-contextwrapper-class-with-subscribewith", "title": "How to use ContextWrapper class with subscribeWith", "body": "<p>Hi I have made <code>ContextWrapper</code> for retrofit error handling at single place and want to use it in <code>subscribeWith</code>.</p>\n\n<pre><code>abstract class CallbackWrapper&lt;T : BaseResponse&gt; : DisposableObserver&lt;T&gt;() {\n\n    protected abstract fun onSuccess(t: T)\n\n    override fun onNext(t: T) {\n        //You can return StatusCodes of different cases from your API and handle it here. I usually include these cases on BaseResponse and inherit it from every Response\n        onSuccess(t)\n    }\n\n    override fun onError(e: Throwable) {\n        when (e) {\n            is HttpException -&gt; {\n                val responseBody = (e as HttpException).response().errorBody()\n                responseBody?.let {\n                    // view?.onUnknownError(getErrorMessage(it))\n                }\n            }\n            is SocketTimeoutException -&gt; {\n                // view?.onTimeout()\n            }\n            is IOException -&gt; {\n                // view?.onNetworkError()\n            }\n            else -&gt; {\n                e.message?.let {\n                    // view?.onUnknownError(it)\n                }\n            }\n        }\n    }\n\n\n    override fun onComplete() {\n\n    }\n\n    private fun getErrorMessage(responseBody: ResponseBody): String {\n        val jsonObject = JSONObject(responseBody.string())\n        return jsonObject.getString((\"message\"))\n    }\n}\n</code></pre>\n\n<p>I am trying to use this like below</p>\n\n<pre><code>ApiHelperImpl().doServerLoginApiCall(email, password)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(CallbackWrapper&lt;LoginResponse&gt; {\n\n                    })\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Noux0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Noux0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to do something like <a href=\"https://blog.mindorks.com/rxjava2-and-retrofit2-error-handling-on-a-single-place-8daf720d42d6\" rel=\"nofollow noreferrer\">https://blog.mindorks.com/rxjava2-and-retrofit2-error-handling-on-a-single-place-8daf720d42d6</a> Does anyone know how to do it ?</p>\n"}, {"tags": ["android", "view", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1509953532, "post_id": 47131821, "comment_id": 81213100, "body": "could you post your onCreate code?"}, {"owner": {"reputation": 914, "user_id": 5667747, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/P9IWQ.jpg?s=128&g=1", "display_name": "Milan Gajera", "link": "https://stackoverflow.com/users/5667747/milan-gajera"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1509957282, "post_id": 47131821, "comment_id": 81214962, "body": "class MainActivity : AppCompatActivity(){      var x:Int = 10;     var lblValue:TextView=findViewById(R.id.lbl_value);      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_main)          lblValue.setText(&quot;&quot;+getSum(10,20));     }     fun getSum(a:Int,b:Int): Int{         return a+b;     } }"}, {"owner": {"reputation": 5365, "user_id": 1166926, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bef2acbb62b879e00ac413d781406c40?s=128&d=identicon&r=PG", "display_name": "Hardik Trivedi", "link": "https://stackoverflow.com/users/1166926/hardik-trivedi"}, "edited": false, "score": 0, "creation_date": 1509960729, "post_id": 47131821, "comment_id": 81216971, "body": "Multiple mistakes. You are finding view outside onCreate. You can never get view object until it&#39;s set. Find the view always after onCreate. You don&#39;t need to put semicolons, its Kotlin :) In Kotlin also there is no need to find the view by id. Read this <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}], "owner": {"reputation": 914, "user_id": 5667747, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/P9IWQ.jpg?s=128&g=1", "display_name": "Milan Gajera", "link": "https://stackoverflow.com/users/5667747/milan-gajera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 887, "favorite_count": 0, "closed_date": 1509954232, "answer_count": 0, "score": 2, "last_activity_date": 1509960563, "creation_date": 1509953351, "last_edit_date": 1509960563, "question_id": 47131821, "link": "https://stackoverflow.com/questions/47131821/how-to-cast-view-elements-in-kotlin", "closed_reason": "Duplicate", "title": "How to cast view elements in kotlin?", "body": "<p>Explanation :\n           I am trying to cast my <code>view</code> elements in <code>kotlin</code>. In <code>kotlin</code> there is only possible in <code>onCreate()</code> but the problem is the scope of this variable or view elements inside the <code>onCreate()</code> method only. I tried to declare outside the <code>onCreate()</code> and inside the <code>class</code>. It raised me an error.</p>\n\n<p>Please help me to resolve.</p>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{ \n    var x:Int = 10; \n    var lblValue:TextView=findViewById(R.id.lbl_value); \n\n    override fun onCreate(savedInstanceState: Bundle?) { \n       super.onCreate(savedInstanceState) \n       setContentView(R.layout.activity_main) \n       lblValue.setText(\"\"+getSum(10,20)); \n    } \n\n    fun getSum(a:Int,b:Int): Int{ \n      return a+b; \n    } \n} \n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": true, "score": 3, "last_activity_date": 1509953955, "creation_date": 1509953955, "answer_id": 47131958, "question_id": 47131251, "link": "https://stackoverflow.com/questions/47131251/how-to-do-error-handling-in-rxjava2-in-android/47131958#47131958", "title": "How to do error handling in rxjava2 in android", "body": "<p>If you want to implement onError for your subscribe block, you can do it like this:</p>\n\n<pre><code>retrofit.create(RestApi::class.java).login(email, password)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(\n                // success\n                { loginResponse -&gt;\n                    liveData.setValue(loginResponse)\n                },\n                // error\n                { e -&gt; handleError(e) })\n\n...\n\nfun handleError(e: Throwable) {\n    when (e) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "accepted_answer_id": 47131958, "answer_count": 1, "score": 1, "last_activity_date": 1509953955, "creation_date": 1509950878, "last_edit_date": 1509952275, "question_id": 47131251, "link": "https://stackoverflow.com/questions/47131251/how-to-do-error-handling-in-rxjava2-in-android", "title": "How to do error handling in rxjava2 in android", "body": "<p>Hi I am using <code>RxJava2</code> with the <code>LiveData</code> in my android app. I am making a http call using below </p>\n\n<pre><code>@Inject\nlateinit var retrofit: Retrofit\n\noverride fun doServerLoginApiCall(email: String, password: String): LiveData&lt;LoginResponse&gt; {\n    val liveData = MutableLiveData&lt;LoginResponse&gt;()\n\n    retrofit.create(RestApi::class.java).login(email, password)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe { loginResponse -&gt;\n                liveData.setValue(loginResponse);\n            }\n\n    return liveData\n} \n</code></pre>\n\n<p>How I can handle an error like below in above code.</p>\n\n<pre><code>when (e) {\n    is HttpException -&gt; {\n        val responseBody = (e as HttpException).response().errorBody()\n        responseBody?.let {\n            view?.onUnknownError(getErrorMessage(it))\n        }\n    }\n    is SocketTimeoutException -&gt; {\n        view?.onTimeout()\n    }\n    is IOException -&gt; {\n        view?.onNetworkError()\n    }\n    else -&gt; {\n        e.message?.let {\n            view?.onUnknownError(it)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 699, "user_id": 3918109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b12Vp.jpg?s=128&g=1", "display_name": "melomg", "link": "https://stackoverflow.com/users/3918109/melomg"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1509947708, "post_id": 47130006, "comment_id": 81210819, "body": "@pskink nothing wrong with <code>LivePagedListProvider. GistModel().getYourGists() </code>returns <code>LiveData&lt;PagedList&gt;</code>. but I want to observe LivePagedListProvider&#39;s data which is <code>ArrayList&lt;Gist&gt;</code> not itself. the problem is that allGistsLiveData is changing when it is initialized not when data come back from remote."}, {"owner": {"reputation": 699, "user_id": 3918109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b12Vp.jpg?s=128&g=1", "display_name": "melomg", "link": "https://stackoverflow.com/users/3918109/melomg"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509950786, "post_id": 47130006, "comment_id": 81211953, "body": "@pskink I added my repository and remoteDataSource classes to show LivePagedListProvider implementation."}], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 4475206, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JEpYR.jpg?s=128&g=1", "display_name": "Roar Gr&#248;nmo", "link": "https://stackoverflow.com/users/4475206/roar-gr%c3%b8nmo"}, "edited": false, "score": 0, "creation_date": 1547158892, "post_id": 47239304, "comment_id": 95107028, "body": "I hope sometime the Android guys will come up with a solution for MediatorLiveData capable using Paging. Like a MediatorLivePagedListBuilder. We should file it on our wish lists"}], "tags": [], "owner": {"reputation": 699, "user_id": 3918109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b12Vp.jpg?s=128&g=1", "display_name": "melomg", "link": "https://stackoverflow.com/users/3918109/melomg"}, "is_accepted": true, "score": 1, "last_activity_date": 1510412580, "creation_date": 1510412580, "answer_id": 47239304, "question_id": 47130006, "link": "https://stackoverflow.com/questions/47130006/how-to-observe-pagedlist-data/47239304#47239304", "title": "How to observe PagedList data?", "body": "<p>Finally, I found a working solution but I don't think it is a best solution. So if you have any ideas please don't hesitate to answer. Here is my solution:</p>\n\n<p>I gave up from wrapping my <a href=\"https://developer.android.com/reference/android/arch/paging/PagedList.html\" rel=\"nofollow noreferrer\">PagedList</a> data with <a href=\"https://developer.android.com/reference/android/arch/lifecycle/MediatorLiveData.html\" rel=\"nofollow noreferrer\">MediatorLiveData</a>. I still leave my all other live data(<code>isLoadingLiveData, isEmptyLiveData, errorLiveData</code>) as <code>MediatorLiveData</code> but added their source when my gists PagedList LiveData initialized. Here is the code:</p>\n\n<pre><code>private var gists: LiveData&lt;PagedList&lt;Gist&gt;&gt;? = null\nprivate val userNameLiveData = MutableLiveData&lt;String&gt;()\nval isLoadingLiveData = MediatorLiveData&lt;Boolean&gt;()\nval isEmptyLiveData = MediatorLiveData&lt;Boolean&gt;()\nval errorLiveData = MediatorLiveData&lt;ErrorMessage&gt;()\n\nval allGistsLiveData: LiveData&lt;PagedList&lt;Gist&gt;&gt;\n    get() {\n        if (gists == null) {\n                gists = GistModel(NetManager(getApplication()), getApplication()).getYourGists(userNameLiveData.value!!).create(0,\n                        PagedList.Config.Builder()\n                                .setPageSize(Constants.PAGED_LIST_PAGE_SIZE)\n                                .setInitialLoadSizeHint(Constants.PAGED_LIST_PAGE_SIZE)\n                                .setEnablePlaceholders(Constants.PAGED_LIST_ENABLE_PLACEHOLDERS)\n                                .build())\n\n\n                isLoadingLiveData.addSource(gists) { isLoadingLiveData.value = false }\n                isEmptyLiveData.addSource(gists) {\n                    if (it?.size == 0) {\n                        isEmptyLiveData.value = true\n                    }\n                }\n                errorLiveData.addSource(gists) {\n                    if (it == null) {\n                        errorLiveData.value = ErrorMessage(errorCode = ErrorCode.GENERAL_ERROR)\n                    }\n                }\n            }\n        }\n        return gists!!\n    }\n\n\nfun setUserName(userName: String) {\n    isLoadingLiveData.value = true\n    userNameLiveData.value = userName\n    gists = null\n    allGistsLiveData\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "is_accepted": false, "score": 0, "last_activity_date": 1597435351, "creation_date": 1597435351, "answer_id": 63419348, "question_id": 47130006, "link": "https://stackoverflow.com/questions/47130006/how-to-observe-pagedlist-data/63419348#63419348", "title": "How to observe PagedList data?", "body": "<p>There is a better way to do this. Look this example:</p>\n<p><a href=\"https://github.com/android/architecture-components-samples/tree/master/PagingWithNetworkSample\" rel=\"nofollow noreferrer\">https://github.com/android/architecture-components-samples/tree/master/PagingWithNetworkSample</a></p>\n<p>The trick is putting inside your DataSource a mutable live data like this:</p>\n<pre><code>enum class NetworkState { LOADING, LOADED, FAILURE }\n\nval networkState = MutableLiveData&lt;NetworkState&gt;()\n\noverride fun loadInitial(params: LoadInitialParams&lt;String&gt;, callback: LoadInitialCallback&lt;String,  OrderService.Resource&gt;) {\n    networkState.post(NetworkState.LOADING)\n    ApiClient.listMyObjects(\n            onSuccess = { list -&gt;\n                networkState.post(NetworkState.LOADED)\n                callback.onResult(list)\n            }\n            onFailure = {\n                networkState.post(NetworkState.FAILURE)\n            }\n    )\n}\n</code></pre>\n<p>Then you can listen to your paged list and network state with:</p>\n<pre><code>val myDataSource = MyDataSource.Factory().create()\nmyDataSource.toLiveData().observe(viewLifeCycle, Observer { pagedList -&gt;\n    // Update your recycler view\n    myRecyclerViewAdapter.submitList(pagedList)\n})\nmyDataSource.networkState.observe(viewLifeCycle, Observer { state -&gt;\n    // Show errors, retry button, progress view etc. according to state  \n})\n</code></pre>\n"}], "owner": {"reputation": 699, "user_id": 3918109, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b12Vp.jpg?s=128&g=1", "display_name": "melomg", "link": "https://stackoverflow.com/users/3918109/melomg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3312, "favorite_count": 0, "accepted_answer_id": 47239304, "answer_count": 2, "score": 2, "last_activity_date": 1597435351, "creation_date": 1509944410, "last_edit_date": 1509950730, "question_id": 47130006, "link": "https://stackoverflow.com/questions/47130006/how-to-observe-pagedlist-data", "title": "How to observe PagedList data?", "body": "<p>I'm using <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">Paging Library</a> and Android Architecture Components. I simply want to observe pagedlist livedata and update my RecyclerView when there is a change.</p>\n\n<p>I'm observing isLoadingLiveData, isEmptyLiveData and errorLiveData objects which are MediatorLiveData objects created in my ViewModel and observed in my fragment. And also observing resultLiveData which returns the fetched Gist list from remote.</p>\n\n<p>In my ViewModel, I created a PagedList LiveData and whenever it's data changed, I wanted to update isLoadingLiveData, isEmptyLiveData, errorLiveData and <a href=\"https://developer.android.com/reference/android/arch/paging/PagedListAdapter.html\" rel=\"nofollow noreferrer\">PagedListAdapter</a>. Therefore, I defined isLoadingLiveData, isEmptyLiveData, errorLiveData and resultLiveData as MediatorLiveData objects. I added resultLiveData as a source of these objects. So when resultLiveData has changed, these objects' onChanged methods will be called. And resultLiveData is depend on userNameLiveData, so when userNameLiveData has changed, allGistsLiveData will be called and it will fetch the data. For example when the user swipe the list, I'm setting userNameLiveData and doing network call again.</p>\n\n<p>My ViewModel:</p>\n\n<pre><code>private val userNameLiveData = MutableLiveData&lt;String&gt;()\nprivate var gists: LiveData&lt;PagedList&lt;Gist&gt;&gt;? = null\n\nval allGistsLiveData: LiveData&lt;PagedList&lt;Gist&gt;&gt;\n    get() {\n        if (null == gists) {\n            gists = GistModel(NetManager(getApplication()), getApplication()).getYourGists(userNameLiveData.value!!).create(0,\n                    PagedList.Config.Builder()\n                            .setPageSize(PAGED_LIST_PAGE_SIZE)\n                            .setInitialLoadSizeHint(PAGED_LIST_PAGE_SIZE)\n                            .setEnablePlaceholders(PAGED_LIST_ENABLE_PLACEHOLDERS)\n                            .build())\n        }\n        return gists!!\n    }\n\nval resultLiveData = MediatorLiveData&lt;LiveData&lt;PagedList&lt;Gist&gt;&gt;&gt;().apply {\n    this.addSource(userNameLiveData) {\n        gists = null\n        this.value = allGistsLiveData\n    }\n}\n\n\nval isLoadingLiveData = MediatorLiveData&lt;Boolean&gt;().apply {\n    this.addSource(resultLiveData) { this.value = false }\n}\n\nval isEmptyLiveData = MediatorLiveData&lt;Boolean&gt;().apply {\n    this.addSource(resultLiveData) { this.value = false }\n}\n\nval errorLiveData = MediatorLiveData&lt;Boolean&gt;().apply {\n    this.addSource(resultLiveData) {\n        if (it == null) {\n            this.value = true\n        }\n    }\n}\n\nfun setUserName(userName: String) {\n    userNameLiveData.value = userName\n}\n</code></pre>\n\n<p>and my fragment:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    viewModel.isEmptyLiveData.observe(this@YourGistsFragment, Observer&lt;Boolean&gt; { isVisible -&gt;\n        emptyView.visibility = if (isVisible!!) View.VISIBLE else View.GONE\n    })\n\n    viewModel.isLoadingLiveData.observe(this@YourGistsFragment, Observer&lt;Boolean&gt; {\n        it?.let {\n            swipeRefreshLayout.isRefreshing = it\n        }\n    })\n\n    viewModel.errorLiveData.observe(this@YourGistsFragment, Observer&lt;Boolean&gt; {\n        it?.let {\n            showSnackBar(context.getString(R.string.unknown_error))\n        }\n    })\n\n    viewModel.setUserName(\"melomg\")\n    viewModel.resultLiveData.observe(this@YourGistsFragment, Observer { it -&gt; gistAdapter.setList(it?.value) })\n}\n\n\noverride fun onRefresh() {\n    viewModel.setUserName(\"melomg\")\n}\n</code></pre>\n\n<p>my repository:</p>\n\n<pre><code>fun getYourGists(userName: String): LivePagedListProvider&lt;Int, Gist&gt; {\n    return remoteDataSource.getYourGists(userName, GitHubApi.getGitHubService(context))\n}\n</code></pre>\n\n<p>my remoteDataSource:</p>\n\n<pre><code>fun getYourGists(username: String, dataProvider: GitHubService): LivePagedListProvider&lt;Int, Gist&gt; {\n    return object : LivePagedListProvider&lt;Int, Gist&gt;() {\n        override fun createDataSource(): GistTiledRemoteDataSource&lt;Gist&gt; = object : GistTiledRemoteDataSource&lt;Gist&gt;(username, dataProvider) {\n            override fun convertToItems(items: ArrayList&lt;Gist&gt;?): ArrayList&lt;Gist&gt;? {\n                return items\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I tried to create this solution from <a href=\"https://github.com/KucherenkoIhor/Android-Architecture-Components\" rel=\"nofollow noreferrer\">this project</a>. But my problem is\nresultLiveData has been changing without waiting the network call response and therefore the result of response ignored and my ui is being updated before the data has arrived. Since resultLiveData is changing before request and therefore there is no data yet. Simply how can I observe  pagedlist livedata?</p>\n"}, {"tags": ["kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1509980032, "post_id": 47129990, "comment_id": 81228816, "body": "Does pressing &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; one more time on the full import prompt to replace it with a short form?"}, {"owner": {"reputation": 1482, "user_id": 1468531, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HYEt1.jpg?s=128&g=1", "display_name": "Moses Aprico", "link": "https://stackoverflow.com/users/1468531/moses-aprico"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1509982826, "post_id": 47129990, "comment_id": 81230833, "body": "@madhead doesnt work. It automatically create the long one"}], "owner": {"reputation": 1482, "user_id": 1468531, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HYEt1.jpg?s=128&g=1", "display_name": "Moses Aprico", "link": "https://stackoverflow.com/users/1468531/moses-aprico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509980107, "creation_date": 1509944273, "last_edit_date": 1509980107, "question_id": 47129990, "link": "https://stackoverflow.com/questions/47129990/bug-in-importing-project-code-classes-in-android-studio-3-0", "title": "Bug in importing project code classes in android studio 3.0", "body": "<p>So, say I have this code,</p>\n\n<p><a href=\"https://i.stack.imgur.com/nDS8O.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nDS8O.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And then, normally, if I want to import that class, i just hover on the red-coded code (in this case <code>MenuType</code>), and press <kbd>Alt</kbd>+<kbd>Enter</kbd>. But, annoyingly, instead of importing the class, it turns into this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sz3Fx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sz3Fx.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And it's error. </p>\n\n<p>To make it work, I need to manually insert the supposed-to-be-imported package into the <code>import</code> section, and it works normally. It's workable, but kinda annoying.</p>\n\n<p>This however, work normally with non-project code (classes in dependencies, etc)</p>\n\n<p>Anyone knows what caused this and how to fix it? Maybe it's because of Kotlin?</p>\n\n<p>P.S. I think I didn't find this kind of bug in Android Studio prior to 3.0</p>\n"}, {"tags": ["android", "dart", "kotlin", "flutter"], "comments": [{"owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "edited": false, "score": 0, "creation_date": 1509959742, "post_id": 47129580, "comment_id": 81216327, "body": "May sounds weird. But you shouldn&#39;t use &quot;Hi&quot;, &quot;Hello&quot;, or whatever similar. Nor &quot;thanks&quot;. <a href=\"https://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\" title=\"should hi thanks taglines and salutations be removed from posts\">meta.stackexchange.com/questions/2950/&hellip;</a>"}, {"owner": {"reputation": 2727, "user_id": 331317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb57cd505805db642628fe32332b8563?s=128&d=identicon&r=PG", "display_name": "FreewheelNat", "link": "https://stackoverflow.com/users/331317/freewheelnat"}, "edited": false, "score": 0, "creation_date": 1511364308, "post_id": 47129580, "comment_id": 81831168, "body": "If intent is to an external app, then platform specific code as per Darky&#39;s answer. If you mean startActivityForResult, then check out <a href=\"https://flutter.io/flutter-for-android/#what-is-the-equivalent-of-startactivityforresult\" rel=\"nofollow noreferrer\">flutter.io/flutter-for-android/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 159093, "user_id": 8394265, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c97e09efbd01ce2633edd27688bc9751?s=128&d=identicon&r=PG", "display_name": "R&#233;mi Rousselet", "link": "https://stackoverflow.com/users/8394265/r%c3%a9mi-rousselet"}, "is_accepted": false, "score": 2, "last_activity_date": 1509959827, "creation_date": 1509959827, "answer_id": 47133394, "question_id": 47129580, "link": "https://stackoverflow.com/questions/47129580/flutter-how-to-launch-and-android-intent-and-return-data-to-flutter/47133394#47133394", "title": "Flutter: how to launch and android intent and return data to flutter", "body": "<p>What you want is most likely to use platform-specific code.</p>\n\n<p>You can look here for more info on own to write native android code in flutter. <a href=\"https://flutter.io/platform-channels/\" rel=\"nofollow noreferrer\">https://flutter.io/platform-channels/</a></p>\n"}], "owner": {"reputation": 71, "user_id": 3689702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c9c6d168cdca7df4f5fffafcc292b0b?s=128&d=identicon&r=PG&f=1", "display_name": "FranzSilva87", "link": "https://stackoverflow.com/users/3689702/franzsilva87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5900, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1532162405, "creation_date": 1509941113, "last_edit_date": 1510005669, "question_id": 47129580, "link": "https://stackoverflow.com/questions/47129580/flutter-how-to-launch-and-android-intent-and-return-data-to-flutter", "title": "Flutter: how to launch and android intent and return data to flutter", "body": "<p>Like the title says, im looking to launch an android intent from flutter but then after doing an operation, for it to return the result back to flutter. </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1509950361, "post_id": 47129340, "comment_id": 81211786, "body": "Thanks! but what does SQLiteDatabase.() mean ?"}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1509953901, "post_id": 47129340, "comment_id": 81213274, "body": "@HelloCW I&#39;ve edited the answer and added the explanation."}], "tags": [], "owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "is_accepted": true, "score": 2, "last_activity_date": 1509953842, "last_edit_date": 1509953842, "creation_date": 1509939068, "answer_id": 47129340, "question_id": 47128767, "link": "https://stackoverflow.com/questions/47128767/why-need-the-code-b-to-use-sqlitedatabase-in-input-parameter/47129340#47129340", "title": "Why need the Code B to use SQLiteDatabase.() in input parameter?", "body": "<p><strong>Code A</strong> is good but to get access to your <code>dbHelper</code> you should declare a variable and send it to the lambda.\nCode B is better because you have access to <code>dbHelper</code> without the variable because it is extension function. I think it is looking better.\nFor example, call <strong>Code A</strong> looks like </p>\n\n<pre><code>fun callCodeA() {\n    excuteTransaction {\n        dbHelper.execSQL(\"sone query\")\n    }\n}\n</code></pre>\n\n<p>call <strong>Code B</strong> looks like</p>\n\n<pre><code>fun callCodeB() {\n    dbHelper.executeTransaction {\n        execSQL(\"sone query\")\n    }\n}\n</code></pre>\n\n<p>Regarding <code>SQLiteDatabase.() -&gt; Unit</code>. It needs to avoid variables and get access to <code>this</code>. Inside a lambda, you don't have access to the current object instance. The simplest way to achieve this is sending the current object to a lambda. For instance, you can do</p>\n\n<pre><code>fun SQLiteDatabase.executeTransaction(transactionFun: (SQLiteDatabase) -&gt; Unit){\n    try{\n        beginTransaction()\n        transactionFun(this)\n        setTransactionSuccessful()\n    }finally {\n        endTransaction()\n    }\n}\n</code></pre>\n\n<p>but by using extension functions with lambdas it looks better.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 47129340, "answer_count": 1, "score": -2, "last_activity_date": 1509953842, "creation_date": 1509934227, "question_id": 47128767, "link": "https://stackoverflow.com/questions/47128767/why-need-the-code-b-to-use-sqlitedatabase-in-input-parameter", "title": "Why need the Code B to use SQLiteDatabase.() in input parameter?", "body": "<p>The Code A is good,  in order to make it simply, somebody write the Code B.</p>\n\n<p>I can't understand why the parameter shoud be <code>(transactionFun:SQLiteDatabase.()-&gt;Unit)</code> in Code B</p>\n\n<p>I think  <code>(transactionFun: ()-&gt;Unit)</code> in Code B is good too, right?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>fun excuteTransaction(transactionFun:()-&gt;Unit){\n    val db = dbHelper.writableDatabase\n    try{\n        db.beginTransaction()\n        transactionFun()\n        db.setTransactionSuccessful()\n    }finally {\n        db.endTransaction()\n    }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>fun SQLiteDatabase.executeTransaction(transactionFun:SQLiteDatabase.()-&gt;Unit){\n    try{\n        beginTransaction()\n        transactionFun()\n        setTransactionSuccessful()\n    }finally {\n        endTransaction()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "ide", "kotlin"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1509947376, "post_id": 47128696, "comment_id": 81210717, "body": "run is not a gradle task."}], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1510520634, "post_id": 47250351, "comment_id": 81458225, "body": "wow, that seems complex, but thank you for explaining.  Is there a simpler/easier way to launch an app from the IDE?"}, {"owner": {"reputation": 1265, "user_id": 799162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1f76d0470d76487a3355b2ebf419f2?s=128&d=identicon&r=PG", "display_name": "moxi", "link": "https://stackoverflow.com/users/799162/moxi"}, "reply_to_user": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1510527703, "post_id": 47250351, "comment_id": 81460491, "body": "Yes, if you&#39;re using android studio just press the &quot;play&quot; button it&#39;s a green triangle. If you want a keyboard shortcut it&#39;s CTRL + R on Mac, I see you&#39;re on linux this post might be useful for you: <a href=\"https://stackoverflow.com/a/27657174/799162\">stackoverflow.com/a/27657174/799162</a>"}], "tags": [], "owner": {"reputation": 1265, "user_id": 799162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1f76d0470d76487a3355b2ebf419f2?s=128&d=identicon&r=PG", "display_name": "moxi", "link": "https://stackoverflow.com/users/799162/moxi"}, "is_accepted": false, "score": 1, "last_activity_date": 1510499475, "creation_date": 1510499475, "answer_id": 47250351, "question_id": 47128696, "link": "https://stackoverflow.com/questions/47128696/run-helloandroid-from-gradle/47250351#47250351", "title": "run HelloAndroid from gradle?", "body": "<p>gradle run isn't used for the Android project, try instead one of the assemble[Flavor] tasks. To \"install and run\" an apk into an emulator or Android device, there are 3 steps:</p>\n\n<p>1) Create the apk.\nFor example, first you will have to run:</p>\n\n<pre><code>$ ./gradlew clean assembleDebug\n</code></pre>\n\n<p>That's going to generate an apk file, and I'll assume the apk generated is named app-debug.apk.</p>\n\n<p>2) Install the generated apk in your device or emulator:</p>\n\n<pre><code>$ adb install -r app/build/outputs/apk/debug/app-debug.apk \n</code></pre>\n\n<p>If you had adb installed and a running emulator or a connected device the output should be \"Success\". The -r option is used if you already have the same apk installed, you could learn more about other adb install options.</p>\n\n<p>3) \"Run\" your app in your emulator or device:</p>\n\n<pre><code>$ adb shell am start -n \"android.kotlin.dur.bounceme.net.helloandroid/android.kotlin.dur.bounceme.net.helloandroid.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\n</code></pre>\n\n<p>I'm assuming your Launcher is your MainActivity, you could change that in the AndroidManifest.xml, and you will need the package name as well.</p>\n"}, {"tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": false, "score": 0, "last_activity_date": 1559225992, "creation_date": 1559225992, "answer_id": 56380074, "question_id": 47128696, "link": "https://stackoverflow.com/questions/47128696/run-helloandroid-from-gradle/56380074#56380074", "title": "run HelloAndroid from gradle?", "body": "<p>You can see</p>\n\n<pre><code>gradle installDebug\n</code></pre>\n\n<p>which installs the app onto the device. You still need to run it as described by @moxi: <code>$ adb shell am start -n \"android.kotlin.dur.bounceme.net.helloandroid/android.kotlin.dur.bounceme.net.helloandroid.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER</code> If you have some tests, you could also use</p>\n\n<pre><code>gradle connectedAndroidTest\n</code></pre>\n\n<p>which starts the app to run the tests.</p>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559225992, "creation_date": 1509933519, "last_edit_date": 1509934094, "question_id": 47128696, "link": "https://stackoverflow.com/questions/47128696/run-helloandroid-from-gradle", "title": "run HelloAndroid from gradle?", "body": "<p>There are an overwhelming number and variety of gradle tasks:  </p>\n\n<pre><code>thufir@dur:~/AndroidStudioProjects/HelloAndroid$ \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ gradle clean run\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nTask 'run' not found in root project 'HelloAndroid'.\n\n* Try:\nRun gradle tasks to get a list of available tasks. Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 0s\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ gradle tasks --all\n\n&gt; Task :tasks\n\n------------------------------------------------------------\nAll tasks runnable from root project\n------------------------------------------------------------\n\nAndroid tasks\n-------------\napp:androidDependencies - Displays the Android dependencies of the project.\napp:signingReport - Displays the signing info for each variant.\napp:sourceSets - Prints out all the source sets defined in this project.\n\nBuild tasks\n-----------\napp:assemble - Assembles all variants of all applications and secondary packages.\napp:assembleAndroidTest - Assembles all the Test applications.\napp:assembleDebug - Assembles all Debug builds.\napp:assembleRelease - Assembles all Release builds.\napp:build - Assembles and tests this project.\napp:buildDependents - Assembles and tests this project and all projects that depend on it.\napp:buildNeeded - Assembles and tests this project and all projects it depends on.\napp:clean - Deletes the build directory.\napp:cleanBuildCache - Deletes the build cache directory.\napp:compileDebugAndroidTestSources\napp:compileDebugSources\napp:compileDebugUnitTestSources\napp:compileReleaseSources\napp:compileReleaseUnitTestSources\napp:mockableAndroidJar - Creates a version of android.jar that's suitable for unit tests.\n\nBuild Setup tasks\n-----------------\ninit - Initializes a new Gradle build.\nwrapper - Generates Gradle wrapper files.\n\nHelp tasks\n----------\nbuildEnvironment - Displays all buildscript dependencies declared in root project 'HelloAndroid'.\napp:buildEnvironment - Displays all buildscript dependencies declared in project ':app'.\ncomponents - Displays the components produced by root project 'HelloAndroid'. [incubating]\napp:components - Displays the components produced by project ':app'. [incubating]\ndependencies - Displays all dependencies declared in root project 'HelloAndroid'.\napp:dependencies - Displays all dependencies declared in project ':app'.\ndependencyInsight - Displays the insight into a specific dependency in root project 'HelloAndroid'.\napp:dependencyInsight - Displays the insight into a specific dependency in project ':app'.\ndependentComponents - Displays the dependent components of components in root project 'HelloAndroid'. [incubating]\napp:dependentComponents - Displays the dependent components of components in project ':app'. [incubating]\nhelp - Displays a help message.\napp:help - Displays a help message.\nmodel - Displays the configuration model of root project 'HelloAndroid'. [incubating]\napp:model - Displays the configuration model of project ':app'. [incubating]\nprojects - Displays the sub-projects of root project 'HelloAndroid'.\napp:projects - Displays the sub-projects of project ':app'.\nproperties - Displays the properties of root project 'HelloAndroid'.\napp:properties - Displays the properties of project ':app'.\ntasks - Displays the tasks runnable from root project 'HelloAndroid' (some of the displayed tasks may belong to subprojects).\napp:tasks - Displays the tasks runnable from project ':app'.\n\nInstall tasks\n-------------\napp:installDebug - Installs the Debug build.\napp:installDebugAndroidTest - Installs the android (on device) tests for the Debug build.\napp:uninstallAll - Uninstall all applications.\napp:uninstallDebug - Uninstalls the Debug build.\napp:uninstallDebugAndroidTest - Uninstalls the android (on device) tests for the Debug build.\napp:uninstallRelease - Uninstalls the Release build.\n\nVerification tasks\n------------------\napp:check - Runs all checks.\napp:connectedAndroidTest - Installs and runs instrumentation tests for all flavors on connected devices.\napp:connectedCheck - Runs all device checks on currently connected devices.\napp:connectedDebugAndroidTest - Installs and runs the tests for debug on connected devices.\napp:deviceAndroidTest - Installs and runs instrumentation tests using all Device Providers.\napp:deviceCheck - Runs all device checks using Device Providers and Test Servers.\napp:lint - Runs lint on all variants.\napp:lintDebug - Runs lint on the Debug build.\napp:lintRelease - Runs lint on the Release build.\napp:lintVitalRelease - Runs lint on just the fatal issues in the release build.\napp:test - Run unit tests for all variants.\napp:testDebugUnitTest - Run unit tests for the debug build.\napp:testReleaseUnitTest - Run unit tests for the release build.\n\nOther tasks\n-----------\napp:assembleDebugAndroidTest\napp:assembleDebugUnitTest\napp:assembleReleaseUnitTest\napp:bundleAppClassesDebug\napp:bundleAppClassesDebugAndroidTest\napp:bundleAppClassesDebugUnitTest\napp:bundleAppClassesRelease\napp:bundleAppClassesReleaseUnitTest\napp:checkDebugManifest\napp:checkReleaseManifest\nclean\napp:compileDebugAidl\napp:compileDebugAndroidTestAidl\napp:compileDebugAndroidTestJavaWithJavac\napp:compileDebugAndroidTestKotlin - Compiles the debugAndroidTest kotlin.\napp:compileDebugAndroidTestNdk\napp:compileDebugAndroidTestRenderscript\napp:compileDebugAndroidTestShaders\napp:compileDebugJavaWithJavac\napp:compileDebugKotlin - Compiles the debug kotlin.\napp:compileDebugNdk\napp:compileDebugRenderscript\napp:compileDebugShaders\napp:compileDebugUnitTestJavaWithJavac\napp:compileDebugUnitTestKotlin - Compiles the debugUnitTest kotlin.\napp:compileLint\napp:compileReleaseAidl\napp:compileReleaseJavaWithJavac\napp:compileReleaseKotlin - Compiles the release kotlin.\napp:compileReleaseNdk\napp:compileReleaseRenderscript\napp:compileReleaseShaders\napp:compileReleaseUnitTestJavaWithJavac\napp:compileReleaseUnitTestKotlin - Compiles the releaseUnitTest kotlin.\napp:consumeConfigAttr\napp:createDebugCompatibleScreenManifests\napp:createReleaseCompatibleScreenManifests\napp:extractProguardFiles\napp:generateDebugAndroidTestAssets\napp:generateDebugAndroidTestBuildConfig\napp:generateDebugAndroidTestResources\napp:generateDebugAndroidTestResValues\napp:generateDebugAndroidTestSources\napp:generateDebugAssets\napp:generateDebugBuildConfig\napp:generateDebugResources\napp:generateDebugResValues\napp:generateDebugSources\napp:generateReleaseAssets\napp:generateReleaseBuildConfig\napp:generateReleaseResources\napp:generateReleaseResValues\napp:generateReleaseSources\napp:javaPreCompileDebug\napp:javaPreCompileDebugAndroidTest\napp:javaPreCompileDebugUnitTest\napp:javaPreCompileRelease\napp:javaPreCompileReleaseUnitTest\napp:mergeDebugAndroidTestAssets\napp:mergeDebugAndroidTestJniLibFolders\napp:mergeDebugAndroidTestResources\napp:mergeDebugAndroidTestShaders\napp:mergeDebugAssets\napp:mergeDebugJniLibFolders\napp:mergeDebugResources\napp:mergeDebugShaders\napp:mergeReleaseAssets\napp:mergeReleaseJniLibFolders\napp:mergeReleaseResources\napp:mergeReleaseShaders\napp:packageDebug\napp:packageDebugAndroidTest\napp:packageRelease\napp:platformAttrExtractor\napp:preBuild\napp:preDebugAndroidTestBuild\napp:preDebugBuild\napp:preDebugUnitTestBuild\napp:prepareLintJar\napp:preReleaseBuild\napp:preReleaseUnitTestBuild\napp:processDebugAndroidTestJavaRes\napp:processDebugAndroidTestManifest\napp:processDebugAndroidTestResources\napp:processDebugJavaRes\napp:processDebugManifest\napp:processDebugResources\napp:processDebugUnitTestJavaRes\napp:processReleaseJavaRes\napp:processReleaseManifest\napp:processReleaseResources\napp:processReleaseUnitTestJavaRes\napp:resolveConfigAttr\napp:splitsDiscoveryTaskDebug\napp:splitsDiscoveryTaskDebugAndroidTest\napp:splitsDiscoveryTaskRelease\napp:transformClassesWithDexBuilderForDebug\napp:transformClassesWithDexBuilderForDebugAndroidTest\napp:transformClassesWithPreDexForRelease\napp:transformDexArchiveWithDexMergerForDebug\napp:transformDexArchiveWithDexMergerForDebugAndroidTest\napp:transformDexArchiveWithExternalLibsDexMergerForDebug\napp:transformDexArchiveWithExternalLibsDexMergerForDebugAndroidTest\napp:transformDexWithDexForRelease\napp:transformNativeLibsWithMergeJniLibsForDebug\napp:transformNativeLibsWithMergeJniLibsForDebugAndroidTest\napp:transformNativeLibsWithMergeJniLibsForRelease\napp:transformResourcesWithMergeJavaResForDebug\napp:transformResourcesWithMergeJavaResForDebugAndroidTest\napp:transformResourcesWithMergeJavaResForDebugUnitTest\napp:transformResourcesWithMergeJavaResForRelease\napp:transformResourcesWithMergeJavaResForReleaseUnitTest\napp:validateSigningDebug\napp:validateSigningDebugAndroidTest\napp:writeDebugApplicationId\napp:writeReleaseApplicationId\n\n\nBUILD SUCCESSFUL in 1s\n1 actionable task: 1 executed\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ gradle clean\n\nBUILD SUCCESSFUL in 0s\n2 actionable tasks: 1 executed, 1 up-to-date\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ tree\n.\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 libs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 proguard-rules.pro\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 src\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 androidTest\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 java\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 android\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0             \u2514\u2500\u2500 dur\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0                 \u2514\u2500\u2500 bounceme\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0                     \u2514\u2500\u2500 net\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0                         \u2514\u2500\u2500 helloandroid\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0                             \u2514\u2500\u2500 ExampleInstrumentedTest.kt\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 main\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 AndroidManifest.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 java\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 android\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 dur\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0             \u2514\u2500\u2500 bounceme\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0                 \u2514\u2500\u2500 net\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0                     \u2514\u2500\u2500 helloandroid\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2502\u00a0\u00a0                         \u2514\u2500\u2500 MainActivity.kt\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 res\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 drawable\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_dashboard_black_24dp.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_home_black_24dp.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher_background.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_notifications_black_24dp.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 drawable-v24\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_foreground.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 layout\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 activity_main.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 menu\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 navigation.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-anydpi-v26\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher_round.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-hdpi\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_round.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-mdpi\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_round.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-xhdpi\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_round.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-xxhdpi\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_round.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u251c\u2500\u2500 mipmap-xxxhdpi\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 ic_launcher.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 ic_launcher_round.png\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0     \u2514\u2500\u2500 values\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u251c\u2500\u2500 colors.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u251c\u2500\u2500 dimens.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u251c\u2500\u2500 strings.xml\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0         \u2514\u2500\u2500 styles.xml\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 test\n\u2502\u00a0\u00a0         \u2514\u2500\u2500 java\n\u2502\u00a0\u00a0             \u2514\u2500\u2500 android\n\u2502\u00a0\u00a0                 \u2514\u2500\u2500 kotlin\n\u2502\u00a0\u00a0                     \u2514\u2500\u2500 dur\n\u2502\u00a0\u00a0                         \u2514\u2500\u2500 bounceme\n\u2502\u00a0\u00a0                             \u2514\u2500\u2500 net\n\u2502\u00a0\u00a0                                 \u2514\u2500\u2500 helloandroid\n\u2502\u00a0\u00a0                                     \u2514\u2500\u2500 ExampleUnitTest.kt\n\u251c\u2500\u2500 build\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 android-profile\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 profile-2017-11-05-17-50-01-533.json\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 profile-2017-11-05-17-50-01-533.rawproto\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 kotlin-build\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 version.txt\n\u251c\u2500\u2500 build.gradle\n\u251c\u2500\u2500 gradle\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wrapper\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 gradle-wrapper.jar\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 gradle-wrapper.properties\n\u251c\u2500\u2500 gradle.properties\n\u251c\u2500\u2500 gradlew\n\u251c\u2500\u2500 gradlew.bat\n\u251c\u2500\u2500 HelloAndroid.iml\n\u251c\u2500\u2500 local.properties\n\u2514\u2500\u2500 settings.gradle\n\n44 directories, 41 files\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ \n</code></pre>\n\n<p>From <code>Android Studio</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SWjAr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWjAr.png\" alt=\"run\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cjWb4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjWb4.png\" alt=\"virtual device?\"></a></p>\n\n<p>Simplest possible \"run\" is what I'm after.  Something analogous to <code>runShadow</code>?</p>\n\n<p>Generated code and build file:</p>\n\n<pre><code>thufir@dur:~/AndroidStudioProjects/HelloAndroid$ \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ cat build.gradle \n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$            \nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ cat app/src/main/java/android/kotlin/dur/bounceme/net/helloandroid/MainActivity.kt \npackage android.kotlin.dur.bounceme.net.helloandroid\n\nimport android.os.Bundle\nimport android.support.design.widget.BottomNavigationView\nimport android.support.v7.app.AppCompatActivity\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_home -&gt; {\n                message.setText(R.string.title_home)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_dashboard -&gt; {\n                message.setText(R.string.title_dashboard)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_notifications -&gt; {\n                message.setText(R.string.title_notifications)\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    }\n}\nthufir@dur:~/AndroidStudioProjects/HelloAndroid$ \n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1509933900, "post_id": 47128645, "comment_id": 81207429, "body": "Kotlin already has Singleton implementation. Look at doc <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1509973984, "post_id": 47128645, "comment_id": 81224675, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha\">Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time</a>"}], "answers": [{"comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1509936446, "post_id": 47128764, "comment_id": 81208073, "body": "Or <code>instance</code> could be made non-null and <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\"><code>lateinit</code></a>"}, {"owner": {"reputation": 574, "user_id": 2123961, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/350a4de4937f98c0ec1c97caad52c510?s=128&d=identicon&r=PG", "display_name": "mradzinski", "link": "https://stackoverflow.com/users/2123961/mradzinski"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1509938480, "post_id": 47128764, "comment_id": 81208535, "body": "It can also be lazy-instantiated using <code>by lazy { PresenterManager() }</code>. My point answering this question isn&#39;t about the options available for making <code>instance</code> non-null but to rather explain there&#39;s no need for it in first place and explain the reason behind the lint error :)"}], "tags": [], "owner": {"reputation": 574, "user_id": 2123961, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/350a4de4937f98c0ec1c97caad52c510?s=128&d=identicon&r=PG", "display_name": "mradzinski", "link": "https://stackoverflow.com/users/2123961/mradzinski"}, "is_accepted": false, "score": 2, "last_activity_date": 1509938754, "last_edit_date": 1509938754, "creation_date": 1509934222, "answer_id": 47128764, "question_id": 47128645, "link": "https://stackoverflow.com/questions/47128645/smart-cast-impossible-because-instance-is-mutable-property/47128764#47128764", "title": "smart cast impossible because instance is mutable property", "body": "<blockquote>\n  <p>This seems like a pretty standard way to make a singleton.</p>\n</blockquote>\n\n<p>I do recommend you to read a bit more about Kotlin.</p>\n\n<pre><code>object PresenterManager {\n    init {\n       // init code\n    }\n\n    fun whatever() {}\n}\n</code></pre>\n\n<p>What I wrote above is a Singleton in Kotlin. Now, to explain the message you are getting:</p>\n\n<blockquote>\n  <p>smart cast to PresenterManager is impossible because instance is mutable property that could have been changed at this time</p>\n</blockquote>\n\n<p><code>instance</code> is nullable (<code>private var instance: PresenterManager? = null</code>), and the <code>getManager</code> function expects a non-null return type, so one of the many ways of solving this is by either make <code>getManager</code> return a nullable type (<code>fun getManager(): PresenterManager?</code>) or make use of the <code>!!</code> operator on your return type.</p>\n\n<p>The main point is that you really don't need of that <code>instance</code> variable at all if you use an <code>object</code> instead of a <code>class</code> to declare your singleton.</p>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509938754, "creation_date": 1509933040, "question_id": 47128645, "link": "https://stackoverflow.com/questions/47128645/smart-cast-impossible-because-instance-is-mutable-property", "title": "smart cast impossible because instance is mutable property", "body": "<p>I'm trying to make a singleton in Kotlin and am running into problems because I get a <code>smart cast to PresenterManager is impossible because instance is mutable property that could have been changed at this time</code>.</p>\n\n<p>This seems like a pretty standard way to make a singleton. Why won't it let me and how can I fix it?</p>\n\n<pre><code>PresenterManager {\n    //some code\n    ....\n\n    companion object {\n        private val PRESENTER_ID = \"presenter_id\"\n        private var instance: PresenterManager? = null\n\n        fun getManager(): PresenterManager {\n            if (instance == null) {\n                instance = PresenterManager(10, 30, TimeUnit.SECONDS)\n            }\n            return instance\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "edited": false, "score": 0, "creation_date": 1509934313, "post_id": 47127998, "comment_id": 81207531, "body": "Thank you it worked when I added it to <code>onActivityCreated</code>! so I cannot use them anywhere else is what you are saying? or just not in <code>onCreateView</code>?"}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "reply_to_user": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "edited": false, "score": 0, "creation_date": 1509974688, "post_id": 47127998, "comment_id": 81225139, "body": "you can use Kotlin android extensions in any lifecycle where the fragment view hierarchy has been completely created, and the first lifecycle method and the recommended one is <code>onViewCreated</code>"}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": true, "score": 1, "last_activity_date": 1509926909, "creation_date": 1509926909, "answer_id": 47127998, "question_id": 47127677, "link": "https://stackoverflow.com/questions/47127677/clicking-a-textview-to-change-fragment/47127998#47127998", "title": "Clicking a textview to change fragment", "body": "<p>One reason you may be getting NPE is that you are using it in the wrong lifecycle method I was having a similar error when using it in <code>onCreateView</code> instead you should only use Kotlin android extensions in <code>onViewCreated</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 47127998, "answer_count": 1, "score": 0, "last_activity_date": 1509926909, "creation_date": 1509923903, "question_id": 47127677, "link": "https://stackoverflow.com/questions/47127677/clicking-a-textview-to-change-fragment", "title": "Clicking a textview to change fragment", "body": "<p>I am trying to build my first android app using Kotlin but I am stuck on a very simple situation. I am using Kotlin android extensions and I am getting a Null pointer exception.</p>\n\n<pre><code>&lt;TextView\n        android:id=\"@+id/tvGoToRegisterFrag\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@id/btn_sign_in\"\n        android:text=\"@string/haven_t_registered_yet\"\n        android:paddingTop=\"10dp\"\n        android:textColor=\"@color/colorAccent\"\n        android:layout_centerHorizontal=\"true\"/&gt;\n</code></pre>\n\n<p>With this I used</p>\n\n<pre><code>tvGoToRegisterFrag.setOnClickListener {\n        goToRegister()\n    }\n</code></pre>\n\n<p>I do know I can use</p>\n\n<pre><code>tvGoToRegisterFrag?.setOnClickListener {\n        goToRegister()\n    }\n</code></pre>\n\n<p>To get rid of crashing but still I am not sure why the object is null and does not do anything when clicked. All of this is done in a Fragment if that changes anything.</p>\n"}, {"tags": ["java", "jpa", "kotlin", "stack-overflow", "bidirectional"], "answers": [{"tags": [], "owner": {"reputation": 379, "user_id": 3341096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1da90e0c1bb0883b7ef40fa0a945ddb2?s=128&d=identicon&r=PG&f=1", "display_name": "zenn1337", "link": "https://stackoverflow.com/users/3341096/zenn1337"}, "is_accepted": true, "score": 6, "last_activity_date": 1509922244, "creation_date": 1509922244, "answer_id": 47127488, "question_id": 47127427, "link": "https://stackoverflow.com/questions/47127427/stackoverflowerror-with-jpa-bidirectional-references-in-kotlin/47127488#47127488", "title": "StackOverflowError with JPA bidirectional references in Kotlin", "body": "<p>I've actually managed to solve the problem - all I've had to do was to override the <em>toString()</em> method in at least one of the entities. The implementations provided by Kotlin included calling each other's <em>toString()</em> methods recursively thus resulting in <em>StackOverflowError</em>.</p>\n\n<pre><code>@Entity\n@Table(name = \"FIELDS\")\ndata class Field(\n\n        @Id @GeneratedValue\n        @Column(name = \"ID\")\n        var id: Long = 0,\n\n        @Column(name = \"NAME\")\n        var name: String = \"\",\n\n        @ManyToOne\n        @JoinColumn(name = \"SECTION_ID\")\n        var section: Section? = null\n) {\n    override fun toString(): String {\n        return \"Field(id=$id, name=$name)\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 3341096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1da90e0c1bb0883b7ef40fa0a945ddb2?s=128&d=identicon&r=PG&f=1", "display_name": "zenn1337", "link": "https://stackoverflow.com/users/3341096/zenn1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1676, "favorite_count": 1, "accepted_answer_id": 47127488, "answer_count": 1, "score": 5, "last_activity_date": 1509922487, "creation_date": 1509921676, "last_edit_date": 1509922487, "question_id": 47127427, "link": "https://stackoverflow.com/questions/47127427/stackoverflowerror-with-jpa-bidirectional-references-in-kotlin", "title": "StackOverflowError with JPA bidirectional references in Kotlin", "body": "<p>I have data classes as following:</p>\n\n<pre><code>@Entity\n@Table(name = \"SECTIONS\")\ndata class Section(\n\n        @Id @GeneratedValue\n        @Column(name = \"ID\")\n        var id: Long = 0,\n\n        @Column(name = \"NAME\")\n        var name: String = \"\",\n\n        @OneToMany(\n                mappedBy = \"section\",\n                fetch = FetchType.EAGER,\n                cascade = arrayOf(CascadeType.ALL),\n                orphanRemoval = true\n        )\n        var fields: MutableList&lt;Field&gt; = mutableListOf()\n)\n\n@Entity\n@Table(name = \"FIELDS\")\ndata class Field(\n\n        @Id @GeneratedValue\n        @Column(name = \"ID\")\n        var id: Long = 0,\n\n        @Column(name = \"NAME\")\n        var name: String = \"\",\n\n        @ManyToOne\n        @JoinColumn(name = \"SECTION_ID\")\n        var section: Section? = null\n)\n</code></pre>\n\n<p>As you can see, there is a bidirectional mapping between Section and Field. When I create a Section object, a Field object and I add the Field object to the list of fields in the Section object, it works fine. However, when I also set the Field's section reference to the Section object and then persist, I get a StackOverflowError:</p>\n\n<pre><code>@Test\nfun testCascadeSaving() {\n    val section = Section(name = \"Section 1\")\n    val field = Field(name = \"Field 1\")\n\n    section.fields.add(field)\n    field.section = section\n\n    val savedSection = sectionRepository.save(section)\n    val savedField = savedSection.fields[0]\n\n    // This causes an StackOverflowError\n    val f = fieldRepository.findOne(savedField.id)\n}\n</code></pre>\n\n<p>I have to comment the <em>field.section = section</em> line in order for the code above to work properly.<br></p>\n\n<p>Any ideas why setting bidirectional relationship causes this error?</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1509920337, "post_id": 47127237, "comment_id": 81204652, "body": "do this <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "reply_to_user": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1509921433, "post_id": 47127237, "comment_id": 81204935, "body": "I have created a new project and the new project works although the error continues on the previous one. Any ideas?"}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "edited": false, "score": 0, "creation_date": 1509965219, "post_id": 47128650, "comment_id": 81219615, "body": "I just installed Android Studio 3.0 which comes with the kotlin plugin embedded so I have the latest version of the plugin (v1.1.51). Checking the bug on the link you&#39;ve provided I see the stack trace has a few differences so maybe the issue is a little different this time, I don&#39;t know. I tried invalidating caches and restart option and it did not solve the problem unfortunatelly"}], "tags": [], "owner": {"reputation": 574, "user_id": 2123961, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/350a4de4937f98c0ec1c97caad52c510?s=128&d=identicon&r=PG", "display_name": "mradzinski", "link": "https://stackoverflow.com/users/2123961/mradzinski"}, "is_accepted": false, "score": 1, "last_activity_date": 1509933109, "creation_date": 1509933109, "answer_id": 47128650, "question_id": 47127237, "link": "https://stackoverflow.com/questions/47127237/android-studio-3-0-kotlin-not-working-properly/47128650#47128650", "title": "Android Studio 3.0 Kotlin not working properly", "body": "<p>This bug you are reporting has been resolved almost a year ago and it was affecting an old version of the Kotlin plugin: <a href=\"https://youtrack.jetbrains.com/issue/KT-12264\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-12264</a></p>\n\n<p>Try invalidating the AS cache and restarting it (File -> Invalidate Caches / Restart -> Invalidate Caches and Restart).</p>\n"}, {"comments": [{"owner": {"reputation": 335, "user_id": 3243751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGV4a.png?s=128&g=1", "display_name": "FLUXparticle", "link": "https://stackoverflow.com/users/3243751/fluxparticle"}, "edited": false, "score": 0, "creation_date": 1526065826, "post_id": 47145348, "comment_id": 87614349, "body": "How do I mark it as source folder? This option is missing in my context menu :/"}, {"owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "reply_to_user": {"reputation": 335, "user_id": 3243751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGV4a.png?s=128&g=1", "display_name": "FLUXparticle", "link": "https://stackoverflow.com/users/3243751/fluxparticle"}, "edited": false, "score": 0, "creation_date": 1526075496, "post_id": 47145348, "comment_id": 87618183, "body": "@FLUXparticle You right click on it, and then there is an option called &quot;Mark Directory as&quot; and inside that, the option &quot;Sources Root&quot;. <a href=\"https://snag.gy/LNzl60.jpg\" rel=\"nofollow noreferrer\">snag.gy/LNzl60.jpg</a>"}, {"owner": {"reputation": 335, "user_id": 3243751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oGV4a.png?s=128&g=1", "display_name": "FLUXparticle", "link": "https://stackoverflow.com/users/3243751/fluxparticle"}, "edited": false, "score": 0, "creation_date": 1526097019, "post_id": 47145348, "comment_id": 87621740, "body": "Yes, that&#39;s how it should look like. But in my Android Studio (3.1) this option is missing. Strange..."}], "tags": [], "owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1510000682, "creation_date": 1510000682, "answer_id": 47145348, "question_id": 47127237, "link": "https://stackoverflow.com/questions/47127237/android-studio-3-0-kotlin-not-working-properly/47145348#47145348", "title": "Android Studio 3.0 Kotlin not working properly", "body": "<p>The issue happened because I renamed app/src/main/java to app/src/main/kotlin (since Android Studio doesn't do this itself even though the project was setup to include kotlin support from scratch) and the latter was not marked as a source folder. Once it was marked as a source folder, the issue resolved immediately.</p>\n"}], "owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1636, "favorite_count": 0, "accepted_answer_id": 47145348, "answer_count": 2, "score": 0, "last_activity_date": 1510000682, "creation_date": 1509920244, "last_edit_date": 1509920875, "question_id": 47127237, "link": "https://stackoverflow.com/questions/47127237/android-studio-3-0-kotlin-not-working-properly", "title": "Android Studio 3.0 Kotlin not working properly", "body": "<p>I have recently installed Android Studio 3.0 and started a new project using Kotlin. The kotlin plugin with highlighting and code completion have been working fine since I started the project. However, a couple of days ago I closed Android Studio for the first time since I started this project, and now when I reopened it, code completion and highlighting have stopped working and Android Studio shows me the following exception:</p>\n\n<pre><code>2017-11-05 19:38:03,424 [ thread 19]  ERROR - on.CompletionProgressIndicator - Resolver for 'completion/highlighting in org.jetbrains.kotlin.idea.caches.resolve.NotUnderContentRootModuleInfo@3a2816ac for files GameMainActivity.kt for platform JVM' does not know how to resolve ModuleProductionSourceInfo(module=Module: 'app') \njava.lang.AssertionError: Resolver for 'completion/highlighting in org.jetbrains.kotlin.idea.caches.resolve.NotUnderContentRootModuleInfo@3a2816ac for files GameMainActivity.kt for platform JVM' does not know how to resolve ModuleProductionSourceInfo(module=Module: 'app')\n    at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.descriptorForModule(AnalyzerFacade.kt:168)\n    at org.jetbrains.kotlin.analyzer.ResolverForProjectImpl.descriptorForModule(AnalyzerFacade.kt:77)\n    at org.jetbrains.kotlin.analyzer.ResolverForProject.resolverForModule(AnalyzerFacade.kt:56)\n    at org.jetbrains.kotlin.idea.caches.resolve.ProjectResolutionFacade.resolverForModuleInfo(ProjectResolutionFacade.kt:73)\n    at org.jetbrains.kotlin.idea.caches.resolve.ResolutionFacadeImpl.tryGetFrontendService(ResolutionFacadeImpl.kt:87)\n    at org.jetbrains.kotlin.idea.caches.resolve.JavaResolutionUtils.getJavaDescriptorResolver(JavaResolveExtension.kt:109)\n    at org.jetbrains.kotlin.idea.caches.resolve.JavaResolutionUtils.getJavaClassDescriptor(JavaResolveExtension.kt:55)\n    at org.jetbrains.kotlin.idea.caches.resolve.JavaResolutionUtils.resolveToDescriptor(JavaResolveExtension.kt:103)\n    at org.jetbrains.kotlin.idea.caches.resolve.JavaResolutionUtils.resolveToDescriptor$default(JavaResolveExtension.kt:95)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1$completeNonImported$6.invoke(BasicCompletionSession.kt:379)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1$completeNonImported$6.invoke(BasicCompletionSession.kt:182)\n    at org.jetbrains.kotlin.idea.completion.AllClassesCompletion$addAdaptedJavaCompletion$1.consume(AllClassesCompletion.kt:100)\n    at org.jetbrains.kotlin.idea.completion.AllClassesCompletion$addAdaptedJavaCompletion$1.consume(AllClassesCompletion.kt:41)\n    at com.intellij.codeInsight.completion.LimitedAccessibleClassPreprocessor.process(LimitedAccessibleClassPreprocessor.java:80)\n    at com.intellij.codeInsight.completion.LimitedAccessibleClassPreprocessor.process(LimitedAccessibleClassPreprocessor.java:32)\n    at com.intellij.psi.impl.search.AllClassesSearchExecutor.processClassesByNames(AllClassesSearchExecutor.java:84)\n    at com.intellij.codeInsight.completion.AllClassesGetter.processJavaClasses(AllClassesGetter.java:157)\n    at com.intellij.codeInsight.completion.AllClassesGetter.processJavaClasses(AllClassesGetter.java:143)\n    at org.jetbrains.kotlin.idea.completion.AllClassesCompletion.addAdaptedJavaCompletion(AllClassesCompletion.kt:89)\n    at org.jetbrains.kotlin.idea.completion.AllClassesCompletion.collect(AllClassesCompletion.kt:72)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1.completeNonImported(BasicCompletionSession.kt:379)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1.access$completeNonImported(BasicCompletionSession.kt:182)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1$doComplete$4.invoke(BasicCompletionSession.kt:304)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1$doComplete$4.invoke(BasicCompletionSession.kt:182)\n    at org.jetbrains.kotlin.idea.completion.CompletionSession.withContextVariablesProvider(CompletionSession.kt:385)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession$ALL$1.doComplete(BasicCompletionSession.kt:274)\n    at org.jetbrains.kotlin.idea.completion.BasicCompletionSession.doComplete(BasicCompletionSession.kt:154)\n    at org.jetbrains.kotlin.idea.completion.CompletionSession._complete(CompletionSession.kt:233)\n    at org.jetbrains.kotlin.idea.completion.CompletionSession.complete(CompletionSession.kt:208)\n    at org.jetbrains.kotlin.idea.completion.KotlinCompletionContributor.doComplete(KotlinCompletionContributor.kt:301)\n    at org.jetbrains.kotlin.idea.completion.KotlinCompletionContributor.doComplete$default(KotlinCompletionContributor.kt:262)\n    at org.jetbrains.kotlin.idea.completion.KotlinCompletionContributor.performCompletion(KotlinCompletionContributor.kt:255)\n    at org.jetbrains.kotlin.idea.completion.KotlinCompletionContributor.access$performCompletion(KotlinCompletionContributor.kt:47)\n    at org.jetbrains.kotlin.idea.completion.KotlinCompletionContributor$provider$1.addCompletions(KotlinCompletionContributor.kt:58)\n    at com.intellij.codeInsight.completion.CompletionProvider.addCompletionVariants(CompletionProvider.java:36)\n    at com.intellij.codeInsight.completion.CompletionContributor.fillCompletionVariants(CompletionContributor.java:151)\n    at com.intellij.codeInsight.completion.CompletionService.getVariantsFromContributors(CompletionService.java:81)\n    at com.intellij.codeInsight.completion.CompletionResultSet.runRemainingContributors(CompletionResultSet.java:138)\n    at com.intellij.codeInsight.completion.CompletionResultSet.runRemainingContributors(CompletionResultSet.java:131)\n    at com.intellij.codeInsight.template.impl.LiveTemplateCompletionContributor$2.addCompletions(LiveTemplateCompletionContributor.java:88)\n    at com.intellij.codeInsight.completion.CompletionProvider.addCompletionVariants(CompletionProvider.java:36)\n    at com.intellij.codeInsight.completion.CompletionContributor.fillCompletionVariants(CompletionContributor.java:151)\n    at com.intellij.codeInsight.completion.CompletionService.getVariantsFromContributors(CompletionService.java:81)\n    at com.intellij.codeInsight.completion.CompletionService.performCompletion(CompletionService.java:110)\n    at com.intellij.codeInsight.completion.CompletionProgressIndicator.calculateItems(CompletionProgressIndicator.java:831)\n    at com.intellij.codeInsight.completion.CompletionProgressIndicator.access$600(CompletionProgressIndicator.java:93)\n    at com.intellij.codeInsight.completion.CompletionProgressIndicator$1CalculateItems.run(CompletionProgressIndicator.java:813)\n    at com.intellij.codeInsight.completion.AsyncCompletion.lambda$null$0(CompletionThreading.java:108)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:931)\n    at com.intellij.codeInsight.completion.AsyncCompletion.lambda$null$1(CompletionThreading.java:105)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:176)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:556)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)\n    at com.intellij.codeInsight.completion.AsyncCompletion.lambda$startThread$2(CompletionThreading.java:103)\n    at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - Android Studio 3.0  Build #AI-171.4408382 \n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - JDK: 1.8.0_152-release \n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - VM: OpenJDK 64-Bit Server VM \n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - Vendor: JetBrains s.r.o \n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - OS: Mac OS X \n2017-11-05 19:38:03,425 [ thread 19]  ERROR - on.CompletionProgressIndicator - Last Action: EditorBackSpace \n2017-11-05 19:38:04,922 [ thread 19]  ERROR - on.CompletionProgressIndicator - Resolver for 'completion/highlighting in org.jetbrains.kotlin.idea.caches.resolve.NotUnderContentRootModuleInfo@3a2816ac for files GameMainActivity.kt for platform JVM' does not know how to resolve ModuleProductionSourceInfo(module=Module: 'app') \n</code></pre>\n\n<p>I have raised a bug already which seems has been sent to JetBrains from within Android Studio, however I wonder if anyone else has gone through this and has found a workaround that I can try on my end to get over this bug momentarily until it is resolved by JetBrains.</p>\n"}, {"tags": ["kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 1, "creation_date": 1509919585, "post_id": 47127124, "comment_id": 81204446, "body": "Real-time with a garbage collected language? What kind of real-time do you mean? I wouldn&#39;t suggest using it to pilot a missile or cool a nuclear power plant."}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "reply_to_user": {"reputation": 25103, "user_id": 3199595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TwK8q.png?s=128&g=1", "display_name": "Malt", "link": "https://stackoverflow.com/users/3199595/malt"}, "edited": false, "score": 0, "creation_date": 1509919810, "post_id": 47127124, "comment_id": 81204511, "body": "Kotlin-Native is a flavour that can run without garbage collector also."}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551562746, "creation_date": 1509919425, "last_edit_date": 1551562746, "question_id": 47127124, "link": "https://stackoverflow.com/questions/47127124/is-it-possible-to-compile-kotlin-native-without-runtime-checks", "title": "Is it possible to compile Kotlin Native without runtime checks?", "body": "<p>I couldn't find a list of compiler flags for the Kotlin compiler. I wanted to know if it is possible to compile Kotlin Native to \"unsafe\" code without Null check Range checks for arrays etc' in order to create code with less runtime overhead?<br>\nIt is especially relevant for real-time systems. Is that a valid use case for Kotlin?</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3990, "user_id": 108350, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d3c9a4e663c77df1fe4888da3ba85bcc?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/108350/will"}, "edited": false, "score": 1, "creation_date": 1521464410, "post_id": 47126966, "comment_id": 85727336, "body": "Just me then, unnecessary clutter is always something to worry about.  It needs to be added to <code>.ignore</code> files, since Gradle doesn&#39;t make a build directory for the Root Project.  More stuff to remove before making a <code>.7z</code> file.  And also it is possible on occasions when  I want to dump caches, and temp folders one more folder add to the <i>clean-up list</i>.  Which is something to deal with because <code>gradle project2:clean</code> does Not clean-up the root project <code>build&#47;</code> directory.  Basically, I find it untidy."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1509918244, "creation_date": 1509918244, "answer_id": 47126966, "question_id": 47126699, "link": "https://stackoverflow.com/questions/47126699/gradle-multi-project-build-directory-appears-in-root-dir-containing-kotlin-arte/47126966#47126966", "title": "gradle multi-project: build directory appears in root dir containing Kotlin artefacts", "body": "<p>The resulting artifacts are actually placed under the subproject directories, quite as you expect.</p>\n\n<p>The <code>build/kotlin</code> and <code>build/kotlin-build</code> directories in the root project contain some internal state that the Kotlin Gradle plugin stores and uses across builds (such as multi-module incremental compilation cache). It's placed under the root project directory, because it is also shared across the subprojects. </p>\n\n<p>In other words, it's not something to worry about.</p>\n"}], "owner": {"reputation": 120, "user_id": 8408533, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rjcTy.png?s=128&g=1", "display_name": "hoos", "link": "https://stackoverflow.com/users/8408533/hoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 47126966, "answer_count": 1, "score": 3, "last_activity_date": 1509918244, "creation_date": 1509916442, "question_id": 47126699, "link": "https://stackoverflow.com/questions/47126699/gradle-multi-project-build-directory-appears-in-root-dir-containing-kotlin-arte", "title": "gradle multi-project: build directory appears in root dir containing Kotlin artefacts", "body": "<p>Our multi-project build has the following structure:</p>\n\n<p><code>root-project\n\\-project1\n\\-project2\n\\-build.gradle\n\\-settings.gradle</code></p>\n\n<p>When I run a <code>gradle build</code> from the root-project directory the build artefacts in project1 (not a Kotlin project) remain under the project1/build directory as expected. However, a build directory appears under the root-directory containing only <code>build/kotlin</code> and <code>build/kotlin-build</code> directories. </p>\n\n<p>Even if I run <code>gradle build</code> from <code>root-project/project2</code> I see the same behaviour.</p>\n\n<p>What am I missing to order force all of the kotlin build artefacts to be placed under:</p>\n\n<p><code>root-dir/project2/build</code></p>\n\n<p>I have the following in my <code>root-dir/build.gradle</code> which may be shed some light on the behaviour:</p>\n\n<pre>\n\n    task root-project(dependsOn: ':project1:build') {\n       doLast {\n           copy {\n               from project(':project1:').file('dist')\n               into project(':project2:').file('build/resources/main/static/')\n           }\n       }\n    }\n\n    project(':project1') {\n        task UI(dependsOn: ':project1:runAll') {\n            doLast {\n                println 'UI'\n            }\n        }\n    }\n\n    project(':project2') {\n        task API(dependsOn: ':project2:bootRun') {\n            doLast {\n                println 'API'\n            }\n        }\n    }\n\n</pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-room", "kapt"], "comments": [{"owner": {"reputation": 574, "user_id": 2123961, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/350a4de4937f98c0ec1c97caad52c510?s=128&d=identicon&r=PG", "display_name": "mradzinski", "link": "https://stackoverflow.com/users/2123961/mradzinski"}, "edited": false, "score": 0, "creation_date": 1509933523, "post_id": 47125824, "comment_id": 81207339, "body": "What does the Gradle console say? Normally a rebuild fixes this kind of issues (unless there&#39;s an issue on your code, which in that case the stacktrace printed on the console will evidence)."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1509959769, "post_id": 47125824, "comment_id": 81216338, "body": "You should inspect the gradle console, probably there is an issue with your Room code or sometimes there is some diffrerent error - unfortunately you must seek for it in gradle console, the error you get is just too general, maybe soon there will be more clear error appearing"}, {"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 1, "creation_date": 1510545201, "post_id": 47125824, "comment_id": 81464569, "body": "Can you try to build the project from the terminal? E.g., <code>.&#47;gradlew clean assembleDebug</code>. Gradle should print you all diagnostic messages."}], "owner": {"reputation": 9, "user_id": 3550246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba59309e0a7478e3033c80303a1d1bcf?s=128&d=identicon&r=PG&f=1", "display_name": "Pooyanmjd", "link": "https://stackoverflow.com/users/3550246/pooyanmjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509910883, "creation_date": 1509910824, "last_edit_date": 1509910883, "question_id": 47125824, "link": "https://stackoverflow.com/questions/47125824/appkaptdebugkotlin-error-on-android-studio-3-stable-version-with-room-1rc", "title": "&#39;:app:kaptDebugKotlin&#39; error on android studio 3 stable version with room 1(RC)", "body": "<p>I still get this error while compiling my project written in kotlin :</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>Does anyone have a workaround or solution for this bug? I've seen almost all answers around this problem but non was useful at this level.</p>\n\n<p>I should add that the project was working fine without changing anything from gradle all of a sudden I got that compile error  </p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 639, "user_id": 1052671, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e49a587f262ef7c6bc02d0875b85247d?s=128&d=identicon&r=PG", "display_name": "Lyck", "link": "https://stackoverflow.com/users/1052671/lyck"}, "edited": false, "score": 1, "creation_date": 1509926696, "post_id": 47125184, "comment_id": 81206034, "body": "Turns out i must have clicked no since only the last option is checked. Works - thanks!"}, {"owner": {"reputation": 406, "user_id": 2794352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SOPOi.jpg?s=128&g=1", "display_name": "rpaulin56", "link": "https://stackoverflow.com/users/2794352/rpaulin56"}, "edited": false, "score": 0, "creation_date": 1613915855, "post_id": 47125184, "comment_id": 117217907, "body": "Now under File-&gt;Settings-&gt;Editor-&gt;General-&gt;Smart Keys-&gt; etc"}], "tags": [], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "is_accepted": true, "score": 18, "last_activity_date": 1611219363, "last_edit_date": 1611219363, "creation_date": 1509907153, "answer_id": 47125184, "question_id": 47125145, "link": "https://stackoverflow.com/questions/47125145/convert-java-to-kotlin-on-paste/47125184#47125184", "title": "Convert java to kotlin on paste", "body": "<p>Preferences -&gt; Editor -&gt; General -&gt; Smart Keys -&gt; Convert pasted Java code to Kotlin (at the end of the page)</p>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 4601894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXfj.jpg?s=128&g=1", "display_name": "Vins", "link": "https://stackoverflow.com/users/4601894/vins"}, "is_accepted": false, "score": 0, "last_activity_date": 1582194021, "creation_date": 1582194021, "answer_id": 60317656, "question_id": 47125145, "link": "https://stackoverflow.com/questions/47125145/convert-java-to-kotlin-on-paste/60317656#60317656", "title": "Convert java to kotlin on paste", "body": "<p>In my case I needed to have the \"Do you want to convert ...\" dialog again, despite the option to convert checked.</p>\n\n<ol>\n<li>Preferences -> Editor -> General -> Smart Keys -> Scroll to the end -> Convert posted Java code to Kotlin (checked)</li>\n<li>Preferences -> Editor -> General -> Smart Keys -> Scroll to the end -> Don't show Java to Kotlin conversion dialog on paste (unchecked)</li>\n<li>File -> Invalidate Caches / Restart</li>\n</ol>\n"}], "owner": {"reputation": 639, "user_id": 1052671, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e49a587f262ef7c6bc02d0875b85247d?s=128&d=identicon&r=PG", "display_name": "Lyck", "link": "https://stackoverflow.com/users/1052671/lyck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2956, "favorite_count": 1, "accepted_answer_id": 47125184, "answer_count": 2, "score": 10, "last_activity_date": 1611219363, "creation_date": 1509906918, "question_id": 47125145, "link": "https://stackoverflow.com/questions/47125145/convert-java-to-kotlin-on-paste", "title": "Convert java to kotlin on paste", "body": "<p>So I checked \"Don't show this dialog next time\", but it turns out that it will then never convert the code again.</p>\n\n<p>Where do I remove the checkmark again so I can get back to converting the java code to kotlin when pasted?</p>\n\n<p>Thanks in advance.</p>\n\n<p><a href=\"https://developer.android.com/kotlin/get-started.html#convert-to-kotlin-code\" rel=\"noreferrer\">https://developer.android.com/kotlin/get-started.html#convert-to-kotlin-code</a></p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 3539594, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8c86bc5f909ac2793ee36d6484797ff8?s=128&d=identicon&r=PG", "display_name": "SafaOrhan", "link": "https://stackoverflow.com/users/3539594/safaorhan"}, "edited": false, "score": 0, "creation_date": 1546411798, "post_id": 47128596, "comment_id": 94841345, "body": "Sir, you saved my day!"}, {"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 9, "creation_date": 1546425961, "post_id": 47128596, "comment_id": 94846502, "body": "Isn&#39;t a bad practice to expose your libraries that other layers don&#39;t need with api?"}, {"owner": {"reputation": 5781, "user_id": 845296, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1567763160/picture?type=large", "display_name": "epool", "link": "https://stackoverflow.com/users/845296/epool"}, "edited": false, "score": 2, "creation_date": 1568858368, "post_id": 47128596, "comment_id": 102410923, "body": "this seems to be an know <a href=\"https://github.com/google/dagger/issues/970\" rel=\"nofollow noreferrer\">Dagger issue</a>, another approach could be implement Retrofit in the main module too."}, {"owner": {"reputation": 3702, "user_id": 1059969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKhUL.jpg?s=128&g=1", "display_name": "Agent_L", "link": "https://stackoverflow.com/users/1059969/agent-l"}, "edited": false, "score": 0, "creation_date": 1600866626, "post_id": 47128596, "comment_id": 113223323, "body": "Modules that don&#39;t interact with Retrofit should not know anything about it."}], "tags": [], "owner": {"reputation": 1599, "user_id": 2418588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiSZ2.jpg?s=128&g=1", "display_name": "fe_araujo_", "link": "https://stackoverflow.com/users/2418588/fe-araujo"}, "is_accepted": true, "score": 44, "last_activity_date": 1509932601, "creation_date": 1509932601, "answer_id": 47128596, "question_id": 47124987, "link": "https://stackoverflow.com/questions/47124987/dagger-2-cannot-access-retrofit/47128596#47128596", "title": "Dagger 2 cannot access Retrofit", "body": "<p>I found the problem, was in the build.gradle ...\nMy retrofit instance was in a separate module. This module is a api:</p>\n\n<p>App build.gradle</p>\n\n<pre><code>api project(':data')\n</code></pre>\n\n<p>And I was using <strong>implementation</strong> in the retrofit dependencies. I changed to <strong>api</strong> and the problem was fixed.</p>\n\n<pre><code>api \"com.squareup.retrofit2:retrofit:$retrofit_version\"\napi \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3856, "user_id": 2391964, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/feb0d3e2c88c96973a504df4b8d11f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Tartar", "link": "https://stackoverflow.com/users/2391964/tartar"}, "is_accepted": false, "score": 3, "last_activity_date": 1580678824, "creation_date": 1580678824, "answer_id": 60030738, "question_id": 47124987, "link": "https://stackoverflow.com/questions/47124987/dagger-2-cannot-access-retrofit/60030738#60030738", "title": "Dagger 2 cannot access Retrofit", "body": "<p>The accepted answer works but using the <code>api</code> function exposes all the other libraries used by the <code>data</code> module to the <code>app</code> module. To avoid this just add the retrofit dependencies to your app module or where ever you need the dependencies.</p>\n\n<pre><code>implementation \"com.squareup.retrofit2:retrofit:$retrofit_version\"\nimplementation \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\n</code></pre>\n\n<p>Above goes to the <code>app</code> module's Gradle file. If your Retrofit instance also has other dependencies such as <code>RxJava2CallAdapterFactory</code> do not forget to add these depencies too.</p>\n"}], "owner": {"reputation": 1599, "user_id": 2418588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tiSZ2.jpg?s=128&g=1", "display_name": "fe_araujo_", "link": "https://stackoverflow.com/users/2418588/fe-araujo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5712, "favorite_count": 3, "accepted_answer_id": 47128596, "answer_count": 2, "score": 20, "last_activity_date": 1580678824, "creation_date": 1509905936, "last_edit_date": 1509930743, "question_id": 47124987, "link": "https://stackoverflow.com/questions/47124987/dagger-2-cannot-access-retrofit", "title": "Dagger 2 cannot access Retrofit", "body": "<p>I'm trying to provide an instance of Retrofit to my Repository using Dagger 2 (with Android module). Buy I'm facing the error:</p>\n\n<blockquote>\n  <p>Error:cannot access Retrofit</p>\n</blockquote>\n\n<p>Other instances like Picasso was injected with success, I just have problems with Retrofit.</p>\n\n<p>My Module</p>\n\n<pre><code>@Module\nclass NetworkModule {\n\n@Provides\n@Singleton\nfun providesRetrofit(): Retrofit {\n    return Retrofit.Builder()\n            .addConverterFactory(GsonConverterFactory.create())\n            .baseUrl(URL_BASE)\n            .build()\n}\n\n@Provides\n@Singleton\nfun providesPicasso(context: Context): Picasso {\n    return Picasso.Builder(context)\n            .loggingEnabled(true)\n            .build()\n}\n\n@Provides\n@Singleton\nfun providesRemoteRepository(retrofit: Retrofit): RemoteRepository = RemoteRepository(retrofit)\n\n@Provides\n@Singleton\nfun providesRepository(remote: RemoteRepository): Repository = RepositoryImp(remote)\n\n}\n</code></pre>\n\n<p>My Application component</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(\n        AppModule::class, NetworkModule::class, AndroidInjectionModule::class, ActivityBuilder::class\n))\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(app: Application): Builder\n\n        fun build(): AppComponent\n\n    }\n\n    fun inject(application: AppApplication)\n\n}\n</code></pre>\n\n<p>App Component</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Provides\n    @Singleton\n    fun providesApplicationContext(app: Application): Context = app\n\n}\n</code></pre>\n\n<p>Activity Builder</p>\n\n<pre><code>@Module\nabstract class ActivityBuilder {\n\n    @ContributesAndroidInjector(modules = arrayOf(MainActivityModule::class))\n    abstract fun bindMainActivity(): MainActivity\n\n}\n</code></pre>\n\n<p>My repository'</p>\n\n<pre><code>class RepositoryImp @Inject constructor(val remoteRepository: RemoteRepository) : Repository {\n\n    override fun fetchData() {\n\n    }\n\n}\n</code></pre>\n\n<p>My Remote repository</p>\n\n<pre><code>class RemoteRepository @Inject constructor(retrofit: Retrofit) {\n\n    val service: ApiService\n\n    init {\n        service = retrofit.create(ApiService::class.java)\n    }\n\n}\n</code></pre>\n\n<p>Gradle Log</p>\n\n<pre><code>e: error: cannot access Retrofit\ne: \n\ne:   class file for retrofit2.Retrofit not found\ne:   Consult the following stack trace for details.\ne:   com.sun.tools.javac.code.Symbol$CompletionFailure: class file for retrofit2.Retrofit not found\n\nw: warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.lifecycle.LifecycleProcessor' less than -source '1.8'\nw: \n\n\ne: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:138)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:103)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:889)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:916)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:888)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor86.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\n    ... 29 more\n\n\n:app:kaptDebugKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1509960665, "post_id": 47123004, "comment_id": 81216917, "body": "I&#39;m a bit disappointed because I thought I was onto something but it&#39;s a bit more complicated than I thought. I don&#39;t see how to create subscoped subcomponent for activity / fragment with AndroidInjection."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1509961371, "post_id": 47123004, "comment_id": 81217429, "body": "Maybe the answer is in <a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp-dagger/todoapp/app/src/main/java/com/example/android/architecture/blueprints/todoapp/di\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture/tree/&hellip;</a>"}], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1210, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509898107, "creation_date": 1509893995, "question_id": 47123004, "link": "https://stackoverflow.com/questions/47123004/dagger-2-11-how-to-make-activity-and-fragment-share-common-values", "title": "Dagger 2.11 - how to make Activity and Fragment share common values?", "body": "<p>I am currently learning Dagger 2 on Android and I would like to inject the Activity's injection into the Fragment, but I do not know how.</p>\n\n<p>This a working setup, that shows the values being injected into the fragment and the activity.</p>\n\n<p>Sorry for the wall of code, I simplified my code so that it only contains the relevant parts.</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidSupportInjectionModule::class, AppModule::class, BuildersModule::class))\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun setApplication(application: Application): Builder\n\n        fun build(): AppComponent\n\n    }\n\n    fun apiService() : ApiService\n\n    fun inject(app: App)\n}\n\n@Module(subcomponents = arrayOf(MainActivitySubComponent::class, MainFragmentSubComponent::class))\nclass AppModule\n\n@Module\nabstract class BuildersModule {\n\n    @Binds\n    @IntoMap\n    @ActivityKey(MainActivity::class)\n    abstract fun bindMainActivity(builder: MainActivitySubComponent.Builder): AndroidInjector.Factory&lt;out Activity&gt;\n\n\n    @Binds\n    @IntoMap\n    @dagger.android.support.FragmentKey(MainFragment::class)\n    abstract fun bindMainFragment(builder: MainFragmentSubComponent.Builder): AndroidInjector.Factory&lt;out Fragment&gt;\n\n}\n</code></pre>\n\n<p>The <code>AppComponent</code> is created inside the Application:</p>\n\n<pre><code>class App : Application(), HasActivityInjector {\n\n    @Inject\n    var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;? = null\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerAppComponent\n                .builder()\n                .setApplication(this)\n                .build()\n                .inject(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt;? {\n        return activityInjector\n    }\n\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>@Subcomponent(modules = arrayOf(MainActivityModule::class))\ninterface MainActivitySubComponent : AndroidInjector&lt;MainActivity&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;MainActivity&gt;()\n}\n\n@Module\nclass MainActivityModule {\n\n    @Provides\n    fun providePresenter(mainView: MainView, apiService: ApiService): MainPresenter\n            = MainPresenterImpl(mainView, apiService)\n\n}\n\nclass MainActivity : AppCompatActivity(), HasSupportFragmentInjector {\n\n    @Inject\n    lateinit var mainPresenter: MainPresenter\n\n    @Inject\n    lateinit var fragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        if (savedInstanceState == null) {\n            supportFragmentManager\n                    .beginTransaction()\n                    .add(R.id.container, MainFragment())\n                    .commitAllowingStateLoss()\n        }\n    }\n\n    override fun supportFragmentInjector() = fragmentInjector\n\n}\n</code></pre>\n\n<p>MainFragment:</p>\n\n<pre><code>@Subcomponent(modules = arrayOf(MainFragmentModule::class))\ninterface MainFragmentSubComponent : AndroidInjector&lt;MainFragment&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;MainFragment&gt;()\n}\n\n@Module\nclass MainFragmentModule {\n\n    @Provides\n    fun providePresenter(mainView: MainView, apiService: ApiService): MainPresenter\n            = MainPresenterImpl(mainView, apiService)\n}\n\nclass MainFragment : Fragment() {\n\n    @Inject\n    lateinit var mainPresenter: MainPresenter\n\n    override fun onAttach(context: Context?) {\n        AndroidSupportInjection.inject(this)\n        super.onAttach(context)\n    }\n}\n</code></pre>\n\n<p>So I've found out how activity and fragment can use the same <code>ApiService</code> class.\nI'd like to inject the same instance of <code>MainPresenter</code> in both <code>MainActivity</code> and <code>MainFragment</code>.</p>\n\n<p>How could I gain access to the Activity's injected <code>MainPresenter</code> without changing the code in <code>MainFragment</code>? Basically, I don't want the <code>MainFragment</code> to know anything about how it is injected.</p>\n"}]