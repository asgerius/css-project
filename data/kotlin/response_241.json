[{"tags": ["java", "android", "kotlin", "dialogfragment"], "comments": [{"owner": {"reputation": 161, "user_id": 4456038, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b14d7dc0ac7af1a85f5a13feede6e11b?s=128&d=identicon&r=PG&f=1", "display_name": "asdcvf", "link": "https://stackoverflow.com/users/4456038/asdcvf"}, "edited": false, "score": 0, "creation_date": 1566447426, "post_id": 57600487, "comment_id": 101660561, "body": "you can get FragmentManager object from an FragmentActivity object, should make activity object in your Application class"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11874447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a358fe67016b8e09fee656a75602ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alexsius", "link": "https://stackoverflow.com/users/11874447/alexsius"}, "edited": false, "score": 0, "creation_date": 1566545514, "post_id": 57603619, "comment_id": 101697367, "body": "Sorry but this didn&#39;t work, at compile time it was ok but not at runtime. There were other null references. I found out that i can setDialogInterface even from an activity getting the WebService instance. I did so in a parent activity and now it works out."}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": false, "score": 0, "last_activity_date": 1566457033, "creation_date": 1566457033, "answer_id": 57603619, "question_id": 57600487, "link": "https://stackoverflow.com/questions/57600487/bind-custom-dialogfragment-to-service-intialized-into-application-scope/57603619#57603619", "title": "Bind custom DialogFragment to service intialized into Application scope", "body": "<p>You can register an <code>ActivityLifecycleCallbacks</code> in the <code>Application</code> class to know which activity is currently running, and get the <code>FragmentManager</code>:</p>\n\n<pre><code>class MyApplication : Application() {\n\n    private var currentActivityRef : WeakReference&lt;FragmentActivity?&gt;? = null\n\n    private val supportFragmentManager : FragmentManager? \n        get() = currentActivityRef?.get()?.supportFragmentManager\n\n    override fun onCreate() {\n        super.onCreate()\n\n        registerActivityLifecycleCallbacks(object : ActivityLifecycleCallbacks {\n\n            override fun onActivityStarted(activity: Activity?) {\n                currentActivityRef = WeakReference(activity as? FragmentActivity)\n            }\n\n            override fun onActivityStopped(activity: Activity?) {\n                currentActivityRef = null\n            }\n\n            override fun onActivityPaused(activity: Activity?) {}\n\n            override fun onActivityResumed(activity: Activity?) {}\n\n            override fun onActivityDestroyed(activity: Activity?) {}\n\n            override fun onActivitySaveInstanceState(activity: Activity?,\n                                                     outState: Bundle?) {\n            }\n\n            override fun onActivityCreated(activity: Activity?,\n                                           savedInstanceState: Bundle?) {\n            }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11874447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a358fe67016b8e09fee656a75602ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alexsius", "link": "https://stackoverflow.com/users/11874447/alexsius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566457033, "creation_date": 1566431836, "question_id": 57600487, "link": "https://stackoverflow.com/questions/57600487/bind-custom-dialogfragment-to-service-intialized-into-application-scope", "title": "Bind custom DialogFragment to service intialized into Application scope", "body": "<p>I'm working to an application that makes some webcalls and i want to add a DialogFragment (with a ProgressBar at the center) that shows when i'm waiting for the call to complete.</p>\n\n<p>Webcalls are extended from AsyncTask with a private library that gives an interface (<em>DialogInterface</em>) to set what to do when the dialog it's shown and hidden.\nFor the DialogFragment i've found some nice code from here:<br>\n<a href=\"https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/\" rel=\"nofollow noreferrer\">https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/</a></p>\n\n<p>It works without problems from an Activity class, but the DialogInterface has to be set to the WebService builder wich is initialized into the Application class</p>\n\n<p>This is the init sequence in the Application class</p>\n\n<pre><code>WebService.init(\n    WebServiceBuilder(this)\n        .setBaseUrlTest(\"http://google.it/\")\n        .setUrlType(UrlType.TEST)\n        .setDialogInterface(object : DialogInterface {\n            override fun showDialog(context: Context?) {\n                if (context != null)\n\n                val busyDialog = BusyDialogFragment.show(supportFragmentManager)\n\n            }\n            override fun hideDialog() {\n                //code that hide the DialogFragment\n            }\n        })\n</code></pre>\n\n<p>Obviously in the Application class i cannot get the FragmentManager so this code doesn't works.</p>\n"}, {"tags": ["android", "audio", "kotlin", "wav", "tarsosdsp"], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "is_accepted": false, "score": 0, "last_activity_date": 1568893973, "creation_date": 1568893973, "answer_id": 58010419, "question_id": 57600343, "link": "https://stackoverflow.com/questions/57600343/saving-floatarray-audio-buffer-to-a-wav-file-on-android/58010419#58010419", "title": "Saving FloatArray audio buffer to a wav file on Android", "body": "<p>TarsosDSP offers the <code>WriterProcessor</code> class, for writing audio to file:</p>\n\n<p><a href=\"https://github.com/JorenSix/TarsosDSP/blob/c26e5004e203ee79be1ec25c2603b1f11b69d276/src/core/be/tarsos/dsp/writer/WriterProcessor.java\" rel=\"nofollow noreferrer\">https://github.com/JorenSix/TarsosDSP/blob/c26e5004e203ee79be1ec25c2603b1f11b69d276/src/core/be/tarsos/dsp/writer/WriterProcessor.java</a></p>\n\n<p>Here's your modified example:</p>\n\n<pre><code>private var dispatcher =\n        AudioDispatcherFactory.fromDefaultMicrophone(SAMPLE_RATE, BUFFER_SIZE, 128)\n\ninit {\n\nblankProcessor = object : AudioProcessor {\n   override fun processingFinished() {}\n\n   override fun process(audioEvent: AudioEvent): Boolean {\n      var buffer = audioEvent.floatBuffer\n      val insertPoint = audioBuffer.lastIndex - buffer.lastIndex\n      Arrays.copyOfRange(audioBuffer, insertPoint, audioBuffer.size)\n                    .copyInto(audioBuffer, 0)\n      buffer.copyInto(audioBuffer, insertPoint)\n      return true\n    }\n}\n\ndispatcher.addAudioProcessor(blankProcessor)\n\n// The important bit\n\nval outputFile = File(context.filesDir, \"file_name\")\nval randomAccessFile = RandomAccessFile(outputFile, \"rw\")\nval fileWriter = WriterProcessor(audioFormat, randomAccessFile)\n\ndispatcher.addAudioProcessor(fileWriter)\n\naudioThread = Thread(dispatcher, \"Audio Thread\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9926568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c88cef776aeb4c9d73470d5d030c1e?s=128&d=identicon&r=PG&f=1", "display_name": "Ken Malley", "link": "https://stackoverflow.com/users/9926568/ken-malley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568893973, "creation_date": 1566430356, "question_id": 57600343, "link": "https://stackoverflow.com/questions/57600343/saving-floatarray-audio-buffer-to-a-wav-file-on-android", "title": "Saving FloatArray audio buffer to a wav file on Android", "body": "<p>I'm having issues finding a solution to saving a FloatArray buffer of audio data produced from TarsosDSP on Android, using Kotlin. The goal is to have a buffer of 1 second of audio, that is continuously updated with new buffer data, and older data discarded. I wish to save this buffer when requested.</p>\n\n<p>I've tried to find a solution using the TarsosDSP library, but it want to write a continuous stream to a wav file; I need it limited to only one second, and have saved on demand. This WavFileWriter looked promising -> <a href=\"https://github.com/philburk/jsyn/blob/master/src/com/jsyn/util/WaveFileWriter.java\" rel=\"nofollow noreferrer\">https://github.com/philburk/jsyn/blob/master/src/com/jsyn/util/WaveFileWriter.java</a> but as I had added it to my android project, javax was needed. I didn't know until looking up what javax was, and it was not supported in android. Trying to find a library that could solve this issue turned up with little results.</p>\n\n<pre><code>private val SAMPLE_RATE = 16000\nprivate val BUFFER_SIZE = 1024\nprivate val SECONDS = 1.0\nprivate val sampleFileName: String = \"audio_sample.wav\"\nprivate var audioBuffer = FloatArray(SAMPLE_RATE * SECONDS.toInt())\n\nprivate var dispatcher =\n        AudioDispatcherFactory.fromDefaultMicrophone(SAMPLE_RATE, BUFFER_SIZE, 128)\ninit {\n\nblankProcessor = object : AudioProcessor {\n   override fun processingFinished() {}\n\n   override fun process(audioEvent: AudioEvent): Boolean {\n      var buffer = audioEvent.floatBuffer\n      val insertPoint = audioBuffer.lastIndex - buffer.lastIndex\n      Arrays.copyOfRange(audioBuffer, insertPoint, audioBuffer.size)\n                    .copyInto(audioBuffer, 0)\n      buffer.copyInto(audioBuffer, insertPoint)\n      return true\n    }\n}\n\ndispatcher.addAudioProcessor(blankProcessor)\n\naudioThread = Thread(dispatcher, \"Audio Thread\")\n}\n\n\nprivate fun writeWavFile() {\n   val file = File(context.cacheDir.absolutePath + \"/\" + sampleFileName)\n   // missing wav write code\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "edited": false, "score": 0, "creation_date": 1566435189, "post_id": 57600314, "comment_id": 101658602, "body": "Now that i&#39;m reading through the Logcat, I see a lot of it is VR related. The repo didn&#39;t have any VR content in it as far as I could tell. I think it was calling on oculus and youtube VR and things like that. Im also seeing things like failed sensor readings maybe (?), and call on, not facebook.com, but acebook.com"}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 2, "creation_date": 1566438039, "post_id": 57600314, "comment_id": 101659088, "body": "<code>Manifest merger failed with multiple errors</code> simply means there is a conflict between the <code>attribute values</code> of your <code>project manifest</code> and another from <code>a referenced library</code>. To see your actual error follow <a href=\"https://stackoverflow.com/a/42023614/8043806\">this reply</a>"}, {"owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "reply_to_user": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1566514769, "post_id": 57600314, "comment_id": 101690641, "body": "@GiddyNaya - I get this error:  &#39;Error: tools:replace specified at line:17 for attribute android:appComponentFactory, but no new value specified Android-Instagram-Clone-master-app main manifest (this file), line 16&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "is_accepted": true, "score": 1, "last_activity_date": 1566514983, "creation_date": 1566514983, "answer_id": 57617967, "question_id": 57600314, "link": "https://stackoverflow.com/questions/57600314/reviving-an-old-project-but-the-manifest-merger-failed/57617967#57617967", "title": "Reviving an old project but the manifest merger failed?", "body": "<p>SOLVED:</p>\n\n<p>All I had to do was add</p>\n\n<pre><code>android:appComponentFactory=\"android.support.v4.app.CoreComponentFactory\"\n</code></pre>\n\n<p>in the application tag in my AndroidManifest.xml</p>\n"}], "owner": {"reputation": 120, "user_id": 11667657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f02ddf7af6533ccb6e5e0281b20b4aa?s=128&d=identicon&r=PG&f=1", "display_name": "Foster", "link": "https://stackoverflow.com/users/11667657/foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57617967, "answer_count": 1, "score": 2, "last_activity_date": 1566514983, "creation_date": 1566430105, "last_edit_date": 1566514861, "question_id": 57600314, "link": "https://stackoverflow.com/questions/57600314/reviving-an-old-project-but-the-manifest-merger-failed", "title": "Reviving an old project but the manifest merger failed?", "body": "<p>I am reviving an <a href=\"https://github.com/mitchtabian/Android-Instagram-Clone\" rel=\"nofollow noreferrer\">old github repo</a> of an instagram clone. The problem is, the manifest merger keeps failing. </p>\n\n<p>I have tried updating, adding overrides, downgrading, removing then syncing then re-adding but nothing works.</p>\n\n<p>I end up with the error:</p>\n\n<pre><code>Manifest merger failed with multiple errors, see logs\n</code></pre>\n\n<p>I think it has something to do with firebase starting because one of the error is as follows</p>\n\n<pre><code>2019-08-21 19:24:34.311 32240-32240/? E/FirebaseInstanceId: Failed to start service while in background: java.lang.IllegalStateException: Not allowed to start service Intent { act=com.google.firebase.INSTANCE_ID_EVENT pkg=com.facebook.orca cmp=com.facebook.orca/com.facebook.push.fcm.FcmInstanceIDListenerService (has extras) }: app is in background uid UidRecord{c44bfd u0a246 TRNB idle change:uncached procs:1 proclist:32240, seq(0,0,0)}\n</code></pre>\n\n<p>Then again I get hundreds of other errors thrown at me upon running.</p>\n\n<p><a href=\"https://pastebin.com/TMsesZUX\" rel=\"nofollow noreferrer\">https://pastebin.com/TMsesZUX</a> &lt;- The full logcat</p>\n\n<p>EDIT:</p>\n\n<p>The error I get is:</p>\n\n<pre><code>Error: tools:replace specified at line:17 for attribute android:appComponentFactory, but no new value specified Android-Instagram-Clone-master-app main manifest (this file), line 16\n</code></pre>\n"}, {"tags": ["android", "kotlin", "calendar"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1566464802, "post_id": 57599218, "comment_id": 101667306, "body": "Consider using <code>LocalDate</code> rather then the outdated <code>Date</code> and <code>Calendar</code>. It\u2019s much nicer to work with and matches your requirements much better. If programming for Android API level under 26, use <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, the Android Backport of java.time."}], "answers": [{"tags": [], "owner": {"reputation": 2293, "user_id": 4195337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uwDzC.jpg?s=128&g=1", "display_name": "jmart", "link": "https://stackoverflow.com/users/4195337/jmart"}, "is_accepted": true, "score": 2, "last_activity_date": 1566422191, "creation_date": 1566422191, "answer_id": 57599275, "question_id": 57599218, "link": "https://stackoverflow.com/questions/57599218/find-in-the-last-day-of-the-month-using-calendar-on-android/57599275#57599275", "title": "Find in the last day of the month using calendar on Android", "body": "<p>Do it like this:</p>\n\n<ol>\n<li>Instead of adding 3 months, add 4 --> <code>maxDay.add(Calendar.MONTH, 4)</code></li>\n<li>Set the day of the month to 1 --> <code>maxDay.set(Calendar.DAY_OF_MONTH, 1)</code></li>\n<li>Subtract one day --> <code>maxDay.add(Calendar.DAY_OF_MONTH, -1)</code></li>\n</ol>\n\n<p>This will give you the last day of the third month.</p>\n"}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57599275, "answer_count": 1, "score": 0, "last_activity_date": 1566422191, "creation_date": 1566421875, "question_id": 57599218, "link": "https://stackoverflow.com/questions/57599218/find-in-the-last-day-of-the-month-using-calendar-on-android", "title": "Find in the last day of the month using calendar on Android", "body": "<p>I am trying to change the last day allowed in my calendar Widget based on the current date or fix date.</p>\n\n<p>The code below is using a date as a default start date and I need to allow the user to select between this date and date + 3 months later. </p>\n\n<pre><code>val maxDay = Calendar.getInstance() \n\nsetSelectedDate(currentShipDate.toDate())\n\nmaxDay.add(Calendar.MONTH, 3)\n\nstate().edit()\n     .setMinimumDate(minDay.time)\n     .setMaximumDate(maxDay.time)\n     .commit()\n</code></pre>\n\n<p>The <code>maxDay</code> is now set to 3 months later using the <code>currentShipDate</code>. However, I am looking to allow the user to also select a date until the end of the 3rd months.</p>\n\n<p>For example, if the ship happened in 21st July, you can change the shipping date til 31st October (instead of 21st October)</p>\n\n<p>For example, if the ship happened in 10th July, you can change the shipping date til 31st October (instead of 10st October)</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["kotlin", "extension-function"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1566422041, "post_id": 57599036, "comment_id": 101655717, "body": "Strings are immutable: <a href=\"https://kotlinlang.org/docs/reference/native/immutability.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/native/immutability.html</a>"}, {"owner": {"reputation": 41, "user_id": 9507356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user9507356", "link": "https://stackoverflow.com/users/9507356/user9507356"}, "edited": false, "score": 0, "creation_date": 1566422796, "post_id": 57599036, "comment_id": 101655937, "body": "ok change example to MutableList.myfunc(). The point is it has to be an in-place function like reverse() instead of reversed()"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1566422893, "post_id": 57599036, "comment_id": 101655968, "body": "Please show your attempt."}, {"owner": {"reputation": 41, "user_id": 9507356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user9507356", "link": "https://stackoverflow.com/users/9507356/user9507356"}, "edited": false, "score": 0, "creation_date": 1566423288, "post_id": 57599036, "comment_id": 101656101, "body": "fun String.reversed():String{     return this.toMutableList().reversed().joinToString(separator = &quot;&quot;)      }"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1566423586, "post_id": 57599036, "comment_id": 101656198, "body": "I mean in-place attempt."}, {"owner": {"reputation": 41, "user_id": 9507356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user9507356", "link": "https://stackoverflow.com/users/9507356/user9507356"}, "edited": false, "score": 0, "creation_date": 1566467350, "post_id": 57599036, "comment_id": 101668700, "body": "fun main(args: Array&lt;String&gt;) { var s=mutableListOf(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)  s.myReverse()  println(s) }   fun MutableList&lt;Char&gt;.myReverse(){     with(this){     reverse()         } }"}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 0, "last_activity_date": 1566434747, "creation_date": 1566434747, "answer_id": 57600720, "question_id": 57599036, "link": "https://stackoverflow.com/questions/57599036/how-to-write-in-place-extension-function/57600720#57600720", "title": "How to write in-place extension-function", "body": "<p>You can check how the in-place extension function <code>reverse</code> is implemented for <code>MutableList</code> in the Kotlin codebase: <a href=\"https://github.com/JetBrains/kotlin/blob/1.3.50/libraries/stdlib/js/src/generated/_CollectionsJs.kt#L20\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/1.3.50/libraries/stdlib/js/src/generated/_CollectionsJs.kt#L20</a></p>\n\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.reverse(): Unit {\n    val midPoint = (size / 2) - 1\n    if (midPoint &lt; 0) return\n    var reverseIndex = lastIndex\n    for (index in 0..midPoint) {\n        val tmp = this[index]\n        this[index] = this[reverseIndex]\n        this[reverseIndex] = tmp\n        reverseIndex--\n    }\n}\n</code></pre>\n\n<p>In general, you take <code>this</code> instance and call mutating methods on it to modify its content in place. </p>\n\n<p>However, <code>String</code> class is immutable: it doesn't provide methods to modify its content in place, and, therefore, you cannot write an extension that modifies a string in place either.</p>\n"}], "owner": {"reputation": 41, "user_id": 9507356, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user9507356", "link": "https://stackoverflow.com/users/9507356/user9507356"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57600720, "answer_count": 1, "score": -2, "last_activity_date": 1566434747, "creation_date": 1566420688, "question_id": 57599036, "link": "https://stackoverflow.com/questions/57599036/how-to-write-in-place-extension-function", "title": "How to write in-place extension-function", "body": "<pre><code>fun String.reversed():String{\n// return another String..no \nprob\n}\n\nfun String.reverse(){\n//in-place change this\n} \n</code></pre>\n\n<p>How to write the String.reverse()?</p>\n"}, {"tags": ["android", "kotlin", "androidx", "android-instrumentation", "kodein"], "comments": [{"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1566470449, "post_id": 57598701, "comment_id": 101670390, "body": "<code>AndroidJUnitRunner</code> is used for instrumentation tests. You cannot use it in regular Android unit tests."}], "owner": {"reputation": 11, "user_id": 11959096, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g9oHsKOF8AI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf3Z2JKMAgnzBgM3DweEaseJOhLew/photo.jpg?sz=128", "display_name": "user11959096", "link": "https://stackoverflow.com/users/11959096/user11959096"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566418773, "creation_date": 1566418773, "question_id": 57598701, "link": "https://stackoverflow.com/questions/57598701/custom-androidjunitrunner-not-being-used-despite-following-examples", "title": "Custom AndroidJUnitRunner not being used despite following examples", "body": "<p>I am trying to use a custom AndroidJUnitRunner implementation with ActivityScenarios. The goal is to provide the unit tests an Application instance that is KodeinAware.</p>\n\n<p>However, despite following the examples found online, the custom runner does not appear to be used. I am testing by printing a statement in the below override: </p>\n\n<pre><code>class KodeinAwareRunner : AndroidJUnitRunner() {\n    @Throws(Exception::class)\n    override fun newApplication(cl: ClassLoader, className: String, context: Context): Application {\n        println(\"hellooOOOOooooo\")\n        return super.newApplication(\n            cl, KodeinAwareApplication::class.java.name, context\n        )\n    }\n}\n</code></pre>\n\n<p>I have also updated the build.gradle to utilize the custom runner:</p>\n\n<pre><code> testInstrumentationRunner \"my.custom.testrunner.KodeinAwareRunner\"\n</code></pre>\n\n<p>To be extra sure I was not missing the print statement in logs, I also have the following initialization code in my KodeinAware Activity:</p>\n\n<pre><code>override val kodein: Kodein by lazy {\n        (applicationContext as KodeinAware).kodein\n    }\n</code></pre>\n\n<p>As a result, I keep getting the following exception, suggesting that the custom test runner is not being utilized:</p>\n\n<p>java.lang.ClassCastException: android.app.Application cannot be cast to org.kodein.di.KodeinAware</p>\n\n<hr>\n\n<p>I would like to emphasize that the custom runner is only for regular Android unit tests and NOT the instrumentation tests.</p>\n\n<p>I am also not using the production Application class due to the aforementioned tests being part of an Android library, so I do not want an Application in the module.</p>\n\n<p>Does anyone know what I may be doing wrong or whether there are steps I missed?</p>\n"}, {"tags": ["android-studio", "kotlin", "build.gradle", "algolia", "kapt"], "comments": [{"owner": {"reputation": 3546, "user_id": 1364347, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c8f81c26acb96d1cc3574cf4dff420f1?s=128&d=identicon&r=PG", "display_name": "barq", "link": "https://stackoverflow.com/users/1364347/barq"}, "edited": false, "score": 0, "creation_date": 1566417503, "post_id": 57598408, "comment_id": 101654072, "body": "Please paste your build.gradle file."}, {"owner": {"reputation": 57, "user_id": 11921964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dyKEwgW_QNI/AAAAAAAAAAI/AAAAAAAAKio/Nfm9Pzi1i1Y/photo.jpg?sz=128", "display_name": "Dvir Barzilay", "link": "https://stackoverflow.com/users/11921964/dvir-barzilay"}, "reply_to_user": {"reputation": 3546, "user_id": 1364347, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c8f81c26acb96d1cc3574cf4dff420f1?s=128&d=identicon&r=PG", "display_name": "barq", "link": "https://stackoverflow.com/users/1364347/barq"}, "edited": false, "score": 0, "creation_date": 1566418129, "post_id": 57598408, "comment_id": 101654304, "body": "@barq I pasted it."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 11921964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dyKEwgW_QNI/AAAAAAAAAAI/AAAAAAAAKio/Nfm9Pzi1i1Y/photo.jpg?sz=128", "display_name": "Dvir Barzilay", "link": "https://stackoverflow.com/users/11921964/dvir-barzilay"}, "edited": false, "score": 0, "creation_date": 1566418953, "post_id": 57598605, "comment_id": 101654615, "body": "I add <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.41&quot;</code> and it&#39;s still not working with the <code>Gradle DSL method not found: &#39;kapt()&#39;</code> error."}], "tags": [], "owner": {"reputation": 3546, "user_id": 1364347, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/c8f81c26acb96d1cc3574cf4dff420f1?s=128&d=identicon&r=PG", "display_name": "barq", "link": "https://stackoverflow.com/users/1364347/barq"}, "is_accepted": true, "score": 1, "last_activity_date": 1566419217, "last_edit_date": 1566419217, "creation_date": 1566418335, "answer_id": 57598605, "question_id": 57598408, "link": "https://stackoverflow.com/questions/57598408/gradle-dsl-method-not-found-kapt-and-plugin-with-id-kotlin-kapt-not-found/57598605#57598605", "title": "Gradle DSL method not found: &#39;kapt()&#39; and Plugin with id &#39;kotlin-kapt&#39; not found", "body": "<p>You need to apply the following plugin as well:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 775, "user_id": 6935045, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rbz1vU4F2t4/AAAAAAAAAAI/AAAAAAAAAFM/-DJXH_gVREU/photo.jpg?sz=128", "display_name": "Pavel Santaev", "link": "https://stackoverflow.com/users/6935045/pavel-santaev"}, "edited": false, "score": 0, "creation_date": 1577187633, "post_id": 59467955, "comment_id": 105115794, "body": "Hi, <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> is optional, add this line if you are using kotlin extensions for android."}], "tags": [], "owner": {"reputation": 171, "user_id": 11955705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c326e76cbc42410cc6780bb680d8d7e?s=128&d=identicon&r=PG&f=1", "display_name": "Asad", "link": "https://stackoverflow.com/users/11955705/asad"}, "is_accepted": false, "score": 1, "last_activity_date": 1577185974, "creation_date": 1577185974, "answer_id": 59467955, "question_id": 57598408, "link": "https://stackoverflow.com/questions/57598408/gradle-dsl-method-not-found-kapt-and-plugin-with-id-kotlin-kapt-not-found/59467955#59467955", "title": "Gradle DSL method not found: &#39;kapt()&#39; and Plugin with id &#39;kotlin-kapt&#39; not found", "body": "<p>if you use kotlin, you must use this:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11921964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dyKEwgW_QNI/AAAAAAAAAAI/AAAAAAAAKio/Nfm9Pzi1i1Y/photo.jpg?sz=128", "display_name": "Dvir Barzilay", "link": "https://stackoverflow.com/users/11921964/dvir-barzilay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1121, "favorite_count": 0, "accepted_answer_id": 57598605, "answer_count": 2, "score": 3, "last_activity_date": 1577185974, "creation_date": 1566417261, "last_edit_date": 1566418065, "question_id": 57598408, "link": "https://stackoverflow.com/questions/57598408/gradle-dsl-method-not-found-kapt-and-plugin-with-id-kotlin-kapt-not-found", "title": "Gradle DSL method not found: &#39;kapt()&#39; and Plugin with id &#39;kotlin-kapt&#39; not found", "body": "<p>I develop an Android app with a search interface using Algolia.</p>\n\n<p>For this purpose, I follow this guide for <a href=\"https://www.algolia.com/doc/guides/building-search-ui/getting-started/android/\" rel=\"nofollow noreferrer\">InstantSearch</a> but when I add the <code>kapt \"androidx.lifecycle:lifecycle-compiler:2.0.0\"</code> dependency to my app build.gradle I got <code>ERROR: Gradle DSL method not found: 'kapt()'</code> error.</p>\n\n<p>I tried to add <code>apply plugin: 'kotlin-kapt'</code> in the top of the app build.gradle file (see <a href=\"https://stackoverflow.com/questions/56100431/gradle-dsl-method-not-found-kapt\">this</a>) but then I got <code>Plugin with id 'kotlin-kapt' not found.</code> error.</p>\n\n<p>Here is my app build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    buildToolsVersion \"28.0.3\"\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.memoryDiary.Activity.Start\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'com.sangcomz:FishBun:0.9.1'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.getbase:floatingactionbutton:1.10.1'\n    implementation 'com.github.clans:fab:1.6.4'\n    implementation 'com.github.bumptech.glide:glide:4.9.0'\n    implementation 'com.mobsandgeeks:android-saripaar:2.0.3'\n    implementation 'androidx.legacy:legacy-support-v13:1.0.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n\n    implementation 'com.google.firebase:firebase-auth:17.0.0'\n    implementation 'com.google.firebase:firebase-database:17.0.0'\n    implementation 'com.google.firebase:firebase-core:16.0.9'\n    implementation 'com.google.firebase:firebase-storage:17.0.0'\n    implementation 'com.google.firebase:firebase-ml-vision:22.0.0'\n    implementation 'com.google.firebase:firebase-ml-vision-image-label-model:18.0.0'\n\n    implementation 'com.algolia:algoliasearch-android:3.+'\n    implementation 'com.algolia:instantsearch-android:2.0.0'\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.0.0\"\n    kapt \"androidx.lifecycle:lifecycle-compiler:2.0.0\"\n\n    implementation 'com.google.code.gson:gson:2.8.5'\n}\n</code></pre>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "edited": false, "score": 0, "creation_date": 1566418889, "post_id": 57598531, "comment_id": 101654587, "body": "Wow. Thank you."}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": true, "score": 1, "last_activity_date": 1566417874, "creation_date": 1566417874, "answer_id": 57598531, "question_id": 57598387, "link": "https://stackoverflow.com/questions/57598387/data-being-returned-from-sqlite-database-not-being-assigned-to-a-variable/57598531#57598531", "title": "Data being returned from SQLite database not being assigned to a variable", "body": "<p>Your <code>Token</code> class has a constructor taking three arguments but you're not doing anything with the values passed in.</p>\n\n<p>In addition the class has three immutable properties that are initialised to <code>null</code>s.</p>\n\n<p>To make the constructor arg values to be reflected in those property values, combine the two, e.g.:</p>\n\n<pre><code>class Token (\n    @SerializedName(\"token_type\")\n    @Expose\n    val tokenType:String, \n\n    @SerializedName(\"expires_in\")\n    @Expose\n    expirationTime:Int,\n\n    @SerializedName(\"access_token\")\n    @Expose\n    accessToken:String) {}\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 9996859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a96acd8b90c93283345107873c06d1?s=128&d=identicon&r=PG&f=1", "display_name": "andrewedgar", "link": "https://stackoverflow.com/users/9996859/andrewedgar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 57598531, "answer_count": 1, "score": 0, "last_activity_date": 1566417874, "creation_date": 1566417174, "question_id": 57598387, "link": "https://stackoverflow.com/questions/57598387/data-being-returned-from-sqlite-database-not-being-assigned-to-a-variable", "title": "Data being returned from SQLite database not being assigned to a variable", "body": "<p>I have a method to return a token from an SQLCipher database that only contains one item.</p>\n\n<pre><code>fun checkForToken(context: Context, password: String): Token\n\n    var returnToken = Token(\"\", 0, \"\")\n\n    SQLiteDatabase.loadLibs(context)\n\n    val databaseFile: File = context.getDatabasePath(\"$storagePath/IndyGoTest.db\")\n    val database: SQLiteDatabase =\n        SQLiteDatabase.openOrCreateDatabase(databaseFile, password, null)\n\n    database.execSQL(\"CREATE TABLE IF NOT EXISTS Token(tokenType STRING, expirationDate INTEGER, accessToken STRING)\")\n\n    val query = database.rawQuery(\"SELECT * FROM Token\", null)\n\n    query.use {\n        if (it.moveToNext()) {\n\n            with(query) {\n\n                val returnTokenType = getString(0)\n                val returnTokenExpiration = getInt(1)\n                val returnTokenAccessToken = getString(2)\n\n                returnToken =\n                    Token(returnTokenType, returnTokenExpiration, returnTokenAccessToken)\n\n\n                Log.d(TAG, \"Expiration value returned from DB: $returnTokenExpiration\")\n\n                Log.d(TAG, \"Expiration of token to be returned: ${returnToken.expirationTime.toString()}\")\n\n            }\n        }\n    }\n\n    if (returnToken.expirationTime != 0 &amp;&amp; returnToken.expirationTime != null) {\n        Log.d(TAG, \"Token retrieved from Database\")\n    }\n    query.close()\n    database.close()\n\n    return returnToken\n\n}\n</code></pre>\n\n<p>The item's values are being found, which allows the first print statement to succeed. However, when I try and pass those values into a new instance of my custom Token object, it isn't working, and the second log statement prints null. Here is my Token object (with Retrofit annotations):</p>\n\n<pre><code>class Token (tokenType:String, expirationTime:Int, accessToken:String){\n\n\n@SerializedName(\"token_type\")\n@Expose\nval tokenType: String? = null\n\n@SerializedName(\"expires_in\")\n@Expose\nval expirationTime: Int? = null\n\n@SerializedName(\"access_token\")\n@Expose\nval accessToken: String? = null\n</code></pre>\n\n<p>}</p>\n\n<p>What is happening between the retrieval of the rows and creation of the object that keeps the values from being passed?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "edited": false, "score": 2, "creation_date": 1566410628, "post_id": 57596707, "comment_id": 101651189, "body": "Why must you use a fake? What is the real one doing that you want changed in your tests?"}, {"owner": {"reputation": 12662, "user_id": 997162, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/M5HoQ.png?s=128&g=1", "display_name": "emix", "link": "https://stackoverflow.com/users/997162/emix"}, "edited": false, "score": 0, "creation_date": 1566410667, "post_id": 57596707, "comment_id": 101651209, "body": "In need of multiple versions of the same class? You are supposed to use an interface then. Mocking becomes easy when you write proper OOP code."}], "answers": [{"tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": true, "score": 1, "last_activity_date": 1566416268, "creation_date": 1566416268, "answer_id": 57598210, "question_id": 57596707, "link": "https://stackoverflow.com/questions/57596707/how-to-create-object-from-data-class-kotlin/57598210#57598210", "title": "How to create object from Data class? Kotlin", "body": "<p>To mock final classes update mockito </p>\n\n<p><code>testCompile 'org.mockito:mockito-core:2.8.9'</code>\nand then add a folder in your resources folder called mockito-extensions that includes a text file called <code>org.mockito.plugins.MockMaker</code>. Inside there just add </p>\n\n<p><code>mock-maker-inline</code></p>\n\n<p>That should solve your problem</p>\n"}], "owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57598210, "answer_count": 1, "score": 0, "last_activity_date": 1566416268, "creation_date": 1566409142, "last_edit_date": 1566410506, "question_id": 57596707, "link": "https://stackoverflow.com/questions/57596707/how-to-create-object-from-data-class-kotlin", "title": "How to create object from Data class? Kotlin", "body": "<p>I have a</p>\n\n<p><code>data class A(){\n   fun c(){}\n  }</code> . </p>\n\n<p>I need to create a fake implementation of it for testing, but it says that class must be open. open modifier is incompatible with data class. Any ways to do it?</p>\n"}, {"tags": ["android", "kotlin", "location"], "comments": [{"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1566408388, "post_id": 57596433, "comment_id": 101650270, "body": "You have add location permissions in the manifest and app settings allow using locations?"}, {"owner": {"reputation": 489, "user_id": 3430222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fXEXK.jpg?s=128&g=1", "display_name": "Jonah Starling", "link": "https://stackoverflow.com/users/3430222/jonah-starling"}, "edited": false, "score": 0, "creation_date": 1566408444, "post_id": 57596433, "comment_id": 101650290, "body": "Are you getting any error messages?"}, {"owner": {"reputation": 125, "user_id": 11720147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1520ef623b493e7a95e9d37f7174bc89?s=128&d=identicon&r=PG&f=1", "display_name": "jamesxbrown", "link": "https://stackoverflow.com/users/11720147/jamesxbrown"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1566408446, "post_id": 57596433, "comment_id": 101650292, "body": "yeah, of course @Barns"}, {"owner": {"reputation": 125, "user_id": 11720147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1520ef623b493e7a95e9d37f7174bc89?s=128&d=identicon&r=PG&f=1", "display_name": "jamesxbrown", "link": "https://stackoverflow.com/users/11720147/jamesxbrown"}, "reply_to_user": {"reputation": 489, "user_id": 3430222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fXEXK.jpg?s=128&g=1", "display_name": "Jonah Starling", "link": "https://stackoverflow.com/users/3430222/jonah-starling"}, "edited": false, "score": 0, "creation_date": 1566408463, "post_id": 57596433, "comment_id": 101650296, "body": "no, nothing. @JonahStarling"}, {"owner": {"reputation": 489, "user_id": 3430222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fXEXK.jpg?s=128&g=1", "display_name": "Jonah Starling", "link": "https://stackoverflow.com/users/3430222/jonah-starling"}, "edited": false, "score": 0, "creation_date": 1566409061, "post_id": 57596433, "comment_id": 101650561, "body": "Is there a reason you are using <code>println()</code> over <code>Log.v()</code>? <code>println()</code> doesn&#39;t print to the android log while <code>Log.v()</code> does."}, {"owner": {"reputation": 125, "user_id": 11720147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1520ef623b493e7a95e9d37f7174bc89?s=128&d=identicon&r=PG&f=1", "display_name": "jamesxbrown", "link": "https://stackoverflow.com/users/11720147/jamesxbrown"}, "edited": false, "score": 0, "creation_date": 1566413348, "post_id": 57596433, "comment_id": 101652306, "body": "Even with <code>Log.v()</code> nothing happen"}, {"owner": {"reputation": 125, "user_id": 11720147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1520ef623b493e7a95e9d37f7174bc89?s=128&d=identicon&r=PG&f=1", "display_name": "jamesxbrown", "link": "https://stackoverflow.com/users/11720147/jamesxbrown"}, "edited": false, "score": 0, "creation_date": 1566413521, "post_id": 57596433, "comment_id": 101652383, "body": "So, it works with the emulator, but not with a real device. Very confused..."}], "owner": {"reputation": 125, "user_id": 11720147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1520ef623b493e7a95e9d37f7174bc89?s=128&d=identicon&r=PG&f=1", "display_name": "jamesxbrown", "link": "https://stackoverflow.com/users/11720147/jamesxbrown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566407868, "creation_date": 1566407868, "question_id": 57596433, "link": "https://stackoverflow.com/questions/57596433/user-location-doesnt-print-latitude-longitude", "title": "User location doesn&#39;t print latitude/longitude", "body": "<p>Firstly, I want to check the location settings of the user:</p>\n\n<pre><code>fun checkSettings() {\n    val builder = LocationSettingsRequest.Builder()\n\n    val client: SettingsClient = LocationServices.getSettingsClient(this)\n    val task: Task&lt;LocationSettingsResponse&gt; = client.checkLocationSettings(builder.build())\n\n    task.addOnSuccessListener { locationSettingsResponse -&gt;\n        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null)\n    }\n\n    task.addOnFailureListener { exception -&gt;\n        if (exception is ResolvableApiException){\n             fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, null)\n            try {\n                exception.startResolutionForResult(this@MainActivity, 500)\n            } catch (sendEx: IntentSender.SendIntentException) {\n                println(\"Error\")\n            }\n        }\n    }\n</code></pre>\n\n<p>I added this function in the <code>onCreate</code> method. If everything is fine, this other function in <code>onCreate</code> should print the latitude und longitude:</p>\n\n<pre><code>locationCallback = object : LocationCallback() {\n        override fun onLocationResult(locationResult: LocationResult?) {\n            locationResult ?: return\n            for (location in locationResult.locations){\n                println(location.latitude)\n                println(location.longitude)\n            }\n        }\n    }\n</code></pre>\n\n<p>But it doesn't work. I'm so sorry but I'm very confused and I have no idea what I should do. Any ideas?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-dialogfragment"], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 3, "last_activity_date": 1566410356, "creation_date": 1566410356, "answer_id": 57596972, "question_id": 57596427, "link": "https://stackoverflow.com/questions/57596427/dialog-fragment-and-detecting-touches-to-the-outside-of-its-window/57596972#57596972", "title": "Dialog Fragment and Detecting Touches to the Outside of Its Window", "body": "<pre><code>class MyDialogFragment : DialogFragment() {                   \n\n    override fun onCreateDialog(savedInstanceState: Bundle?)  \n            : Dialog {                                        \n\n        return object : Dialog(activity, theme){              \n\n            override fun onTouchEvent(event: MotionEvent?)    \n                    : Boolean {                               \n                // Here you can handle the touch event        \n                return super.onTouchEvent(event)              \n            }                                                 \n        }                                                     \n    }                                                         \n}                   \n</code></pre>\n\n<p>Also call the <code>setCanceledOnTouchOutside(false)</code>, because touching outside the dialog will automatically dismiss it.</p>\n"}], "owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 57596972, "answer_count": 1, "score": 0, "last_activity_date": 1566410356, "creation_date": 1566407835, "last_edit_date": 1566409508, "question_id": 57596427, "link": "https://stackoverflow.com/questions/57596427/dialog-fragment-and-detecting-touches-to-the-outside-of-its-window", "title": "Dialog Fragment and Detecting Touches to the Outside of Its Window", "body": "<p>I have a <code>DialogFragment</code> which contains a <code>ProgressBar</code>. What I want to do is to show an <code>AlertDialog</code> whenever user clicks outside the window of dialog fragment. In <code>onCreateView</code> of the dialog fragment, I can detect touch events inside the dialog fragment by calling <code>setOnTouchListener</code> to view that is about to be created. How can I detect touches to the outside?</p>\n\n<p>By following a suggestion from another stackoverflow question, I tried to set flags:</p>\n\n<pre><code>    val dialogWindow = dialog.window\n    dialogWindow?.setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL, WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL)\n    dialogWindow?.setFlags(WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH, WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH)\n</code></pre>\n\n<p>But couldn't detect touches in <code>setOnTouchListener</code>.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "background-process", "android-workmanager"], "owner": {"reputation": 27, "user_id": 6805593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64577ca830465781e1d8ea8a96547341?s=128&d=identicon&r=PG&f=1", "display_name": "jacek3107", "link": "https://stackoverflow.com/users/6805593/jacek3107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566406562, "creation_date": 1566406562, "question_id": 57596169, "link": "https://stackoverflow.com/questions/57596169/app-with-workmanager-work-better-on-android-api-27-than-api-28", "title": "app with WorkManager work better on android API 27 than API 28", "body": "<p>The same application that uses workManager and displays local notifications about every full hour works better on API 27 than on API 28.</p>\n\n<p>On my API 27 android phone I receive a notification with a maximum delay of 15 minutes. Even when i have a low battery.</p>\n\n<p>But on the Android phone with API 28 it sometimes happens that I receive a notification with over an hour delay.</p>\n\n<p>For example, in my worker I set the notification to come at 13:00:00 and in API 27 I get it at 13:05:34. And that's ok. While in API 28 I receive notification at 14:43:06.</p>\n\n<p>Why does the same application work differently? What does API 28 have?</p>\n"}, {"tags": ["java", "kotlin", "interface", "nullpointerexception", "rx-java2"], "comments": [{"owner": {"reputation": 1135, "user_id": 5130921, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f28675aaf91c493896c88f2365efa41?s=128&d=identicon&r=PG", "display_name": "Aarjav", "link": "https://stackoverflow.com/users/5130921/aarjav"}, "edited": false, "score": 0, "creation_date": 1566417848, "post_id": 57596063, "comment_id": 101654208, "body": "check the stack trace, it could be that <code>state()</code> is called and subscribed to somewhere from parent constructor."}, {"owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 0, "creation_date": 1566659916, "post_id": 57596063, "comment_id": 101730365, "body": "Post the full <code>MonitoringStateReducer.apply</code> method. If it&#39;s too long, then post at least a few branches of the <code>when</code> block. The problem likely has to do with something in there."}], "answers": [{"comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566584354, "post_id": 57631138, "comment_id": 101716212, "body": "Was curious how you went about this. Sounds like a very good possibility. I naively searched dagger&#39;s repo for Unsafe and found no mentions to it. The reason I ask is also because being a framework that generates the code at compile tine and requires all the info about classes, if find it strange that they would require unsafe."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566584466, "post_id": 57631138, "comment_id": 101716251, "body": "Maybe it isn&#39;t explicitly <code>Unsafe</code>, and there&#39;s some other way (that I&#39;m not aware of) to create instances without normal initialization. As for how I went about it, really it was just that I had read that blog post somewhat recently so the idea of creating instances without initialization was fresh in my mind."}, {"owner": {"reputation": 623, "user_id": 7154308, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c9532852ef1cf4acafa980432850fa3?s=128&d=identicon&r=PG&f=1", "display_name": "GianMS", "link": "https://stackoverflow.com/users/7154308/gianms"}, "edited": false, "score": 0, "creation_date": 1566599280, "post_id": 57631138, "comment_id": 101720457, "body": "I highly doubt that this is a Dagger issue. They don&#39;t use <code>Unsafe</code> anywhere in their repository nor in the generated code. Similarly, ViewModel doesn&#39;t <code>Unsafe</code>. I think this might be a Kotlin issue, but I don&#39;t know too much about the internals of Kotlin."}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1566821823, "post_id": 57631138, "comment_id": 101765018, "body": "Upvoting as this is a good answer, but for the scenario of this question, the problem is correctly described by @Valeriy Katkov"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1566583589, "creation_date": 1566583589, "answer_id": 57631138, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57631138#57631138", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>I suspect that this part of the stacktrace holds the answer:</p>\n\n<blockquote>\n<pre><code>at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:8)\nat dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\nat com.name.app.di.viewmodel.ViewModelFactory.create(ViewModelFactory.kt:12)\nat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:164)\n</code></pre>\n</blockquote>\n\n<p>What I'm taking from this is that you're using Dagger to create instances of your <code>MonitoringViewModel</code> class. I'm not <em>sure</em> that Dagger does what I'm about to describe, but I know other libraries (like Gson) do, and it fits the pattern...</p>\n\n<p>It is possible to create instances of objects without actually invoking constructors if you use the <code>Unsafe</code> class. See the \"Avoid Initialization\" section of this article: <a href=\"http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\" rel=\"nofollow noreferrer\">http://mishadoff.com/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/</a></p>\n\n<p>If that's happening here, then your <code>private val reducer = MonitoringStateReducer()</code> won't ever actually be executed, because that's part of the class initialization. Therefore, <code>reducer</code> is never initialized and is <code>null</code> when you try to use it in <code>compose()</code>.</p>\n\n<p>I'm not sure why that would make it not work when using the <code>by lazy</code> delegate, but it does make sense for why it works when you provide a custom <code>get()</code>: it is no longer part of class initialization, and is instead evaluated on demand.</p>\n\n<p>Try creating instances of this class without using Dagger and see if your \"normal\" initialization works.</p>\n"}, {"comments": [{"owner": {"reputation": 77900, "user_id": 238134, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d80ce5271185447eb06b360959acd71f?s=128&d=identicon&r=PG", "display_name": "deamon", "link": "https://stackoverflow.com/users/238134/deamon"}, "edited": false, "score": 2, "creation_date": 1567168079, "post_id": 57635447, "comment_id": 101893535, "body": "Related: <a href=\"https://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors\">What&#39;s wrong with overridable method calls in constructor</a>"}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 10, "last_activity_date": 1566627436, "last_edit_date": 1566627436, "creation_date": 1566625886, "answer_id": 57635447, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57635447#57635447", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>The problem comes from the Kotlin class initialization order. The crash is due to the fact that <code>BaseViewModel</code> constructor is calling the <code>state()</code> method that is overridden in the child <code>MonitoringViewModel</code> class. As a result, when the <code>reducer</code> is accessed, it hasn't  initialized yet. During construction of a new instance of a derived class, the base class initialization is done as the first step and it happens before the initialization logic of the derived class is run. Take a look at <a href=\"https://medium.com/keepsafe-engineering/an-in-depth-look-at-kotlins-initializers-a0420fcbf546\" rel=\"noreferrer\">this article</a>, which describes a pretty similar problem. <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"noreferrer\">Derived class initialization order</a> Kotlin's documentation section should be useful too.</p>\n"}, {"tags": [], "owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "is_accepted": false, "score": 4, "last_activity_date": 1566824435, "last_edit_date": 1566824435, "creation_date": 1566821638, "answer_id": 57657748, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin/57657748#57657748", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p><strong>@Valeriy Katkov's <a href=\"https://stackoverflow.com/a/57635447/1401164\">answer</a> is correct, please accept his answer.</strong></p>\n\n<p>Here is a code simulating the same scenario:</p>\n\n<pre><code>fun main() {\n    MonitoringViewModel()\n}\n\nopen abstract class BaseViewModel {\n\n    init {\n        state()\n    }\n\n    abstract fun state()\n}\n\nclass MonitoringViewModel: BaseViewModel() {\n\n    private val reducer1: MonitoringStateReducer = MonitoringStateReducer()\n    private val reducer2: BiFunction&lt;MonitoringViewState, MonitoringResult, MonitoringViewState&gt;\n        get() = MonitoringStateReducer()\n\n    override fun state() {\n        Observable.just(MonitoringResult(3))\n                .scan(MonitoringViewState(0), reducer1)\n                .subscribe { state -&gt; println(state.value) }\n    }\n\n}\n\ndata class MonitoringViewState(val value: Int)\n\ndata class MonitoringResult(val value: Int)\n\nclass MonitoringStateReducer : BiFunction&lt;MonitoringViewState, MonitoringResult,\n        MonitoringViewState&gt; {\n    override fun apply(\n            previousState: MonitoringViewState,\n            result: MonitoringResult\n    ): MonitoringViewState {\n        return MonitoringViewState(previousState.value + result.value)\n    }\n}\n</code></pre>\n\n<p>If you run this code with the <code>scan</code> operator using <code>reducer1</code> you will see the exception:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NullPointerException: accumulator is null</p>\n</blockquote>\n\n<p>If you run the code with <code>scan</code> operator using <code>reducer2</code>, it succeeds.</p>\n\n<h3>Why does it crash when using <code>reduce1</code>?</h3>\n\n<p>From @Valeriy Katkov's <a href=\"https://stackoverflow.com/a/57635447/1401164\">answer</a>:</p>\n\n<blockquote>\n  <p>The crash is due to the fact that BaseViewModel constructor is calling the state() method that is overridden in the child MonitoringViewModel class. As a result, when the reducer is accessed, it hasn't initialized yet. During construction of a new instance of a derived class, the base class initialization is done as the first step and it happens before the initialization logic of the derived class is run. </p>\n</blockquote>\n"}], "owner": {"reputation": 623, "user_id": 7154308, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7c9532852ef1cf4acafa980432850fa3?s=128&d=identicon&r=PG&f=1", "display_name": "GianMS", "link": "https://stackoverflow.com/users/7154308/gianms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1567156191, "creation_date": 1566405947, "last_edit_date": 1567156191, "question_id": 57596063, "link": "https://stackoverflow.com/questions/57596063/nullpointerexception-when-implementing-java-interface-from-kotlin", "title": "NullPointerException when implementing Java interface from Kotlin", "body": "<p>I'm trying to implement <code>BiFunction</code> interface from RxJava in Kotlin and I'm getting a <code>NullPointerException</code>.</p>\n\n<p>This is the Java interface that I'm implementing in Kotlin. It's from RxJava 2.</p>\n\n<pre><code>package io.reactivex.functions;\n\nimport io.reactivex.annotations.NonNull;\n\n/**\n * A functional interface (callback) that computes a value based on multiple input values.\n * @param &lt;T1&gt; the first value type\n * @param &lt;T2&gt; the second value type\n * @param &lt;R&gt; the result type\n */\npublic interface BiFunction&lt;T1, T2, R&gt; {\n\n    /**\n     * Calculate a value based on the input values.\n     * @param t1 the first value\n     * @param t2 the second value\n     * @return the result value\n     * @throws Exception on error\n     */\n    @NonNull\n    R apply(@NonNull T1 t1, @NonNull T2 t2) throws Exception;\n}\n</code></pre>\n\n<p>This is my implementation</p>\n\n<pre><code>class MonitoringStateReducer: BiFunction&lt;MonitoringViewState, MonitoringResult, \n    MonitoringViewState&gt; {\n    override fun apply(\n        previousState: MonitoringViewState,\n        result: MonitoringResult\n    ): MonitoringViewState {\n        when (result) {\n           //Returns a non-null new state\n        }\n    }\n}\n</code></pre>\n\n<p>And then, in the ViewModel, I try to use it, but it throws a NullPointerException.</p>\n\n<blockquote>\n  <p>2019-08-22 09:57:41.049 6925-6925/com.name.app E/AndroidRuntime:\n  FATAL EXCEPTION: main\n      Process: com.name.app, PID: 6925\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.name.app/com.name.app.features.monitoring.presentation.MonitoringActivity}:\n  java.lang.NullPointerException: accumulator is null\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2907)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2986)\n          at android.app.ActivityThread.-wrap11(Unknown Source:0)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1641)\n          at android.os.Handler.dispatchMessage(Handler.java:105)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.app.ActivityThread.main(ActivityThread.java:6694)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n       Caused by: java.lang.NullPointerException: accumulator is null\n          at io.reactivex.internal.functions.ObjectHelper.requireNonNull(ObjectHelper.java:39)\n          at io.reactivex.Observable.scanWith(Observable.java:11537)\n          at io.reactivex.Observable.scan(Observable.java:11502)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel.compose(MonitoringViewModel.kt:47)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel.(MonitoringViewModel.kt:18)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:25)\n          at com.name.app.features.monitoring.presentation.MonitoringViewModel_Factory.get(MonitoringViewModel_Factory.java:8)\n          at dagger.internal.DoubleCheck.get(DoubleCheck.java:47)\n          at com.name.app.di.viewmodel.ViewModelFactory.create(ViewModelFactory.kt:12)\n          at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:164)\n          at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.java:130)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity$viewModel$2.invoke(MonitoringActivity.kt:46)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity$viewModel$2.invoke(MonitoringActivity.kt:26)\n          at kotlin.UnsafeLazyImpl.getValue(Lazy.kt:81)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.getViewModel(Unknown\n  Source:7)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.bind(MonitoringActivity.kt:85)\n          at com.name.app.features.monitoring.presentation.MonitoringActivity.onCreate(MonitoringActivity.kt:119)\n          at android.app.Activity.performCreate(Activity.java:6984)\n          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1235)\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2860)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2986)\u00a0\n          at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1641)\u00a0\n          at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n          at android.os.Looper.loop(Looper.java:164)\u00a0\n          at android.app.ActivityThread.main(ActivityThread.java:6694)\u00a0\n          at java.lang.reflect.Method.invoke(Native Method)\u00a0\n          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)</p>\n</blockquote>\n\n<pre><code>class MonitoringViewModel @Inject constructor(\n    private val processor: MonitoringProcessor\n) : BaseViewModel&lt;MonitoringIntention, MonitoringViewState&gt;() {\n    //Properties that are not relevant for the question\n\n    private val reducer: MonitoringStateReducer = MonitoringStateReducer()\n\n    private fun compose(): Observable&lt;MonitoringViewState&gt; {\n        return intentsSubject.compose(intentFilter)\n            .map(actionFromIntent)\n            .compose(processor)\n            .scan(MonitoringViewState.init(), reducer) //Exception is here\n            .distinctUntilChanged()\n            .replay(1)\n            .autoConnect(0)\n    }\n\n    override fun state(): Observable&lt;MonitoringViewState&gt; = compose()\n\n    //Functions that are not relevant for the question\n}\n</code></pre>\n\n<p>This code doesn\u00b4t work either.</p>\n\n<pre><code>private val reducer by lazy(LazyThreadSafetyMode.NONE) {\n    MonitoringStateReducer()\n}\n</code></pre>\n\n<p>However, if I replace the reducer with this code, it works.</p>\n\n<pre><code>private val reducer: BiFunction&lt;MonitoringViewState, MonitoringResult, MonitoringViewState&gt;\n    get() = MonitoringStateReducer()\n</code></pre>\n\n<p>Tested on Kotlin 1.3.40 and 1.3.50.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1566410367, "post_id": 57596002, "comment_id": 101651073, "body": "The fact your using Kotlin makes no real difference here: you are using the Java API, so the answers in the duplicate apply, because they are more about API usage than about language (Java vs Kotlin)."}], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1566407927, "post_id": 57596371, "comment_id": 101650085, "body": "Does <code>DecimalFormatSymbols()</code> use the current locale by default?"}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566407928, "post_id": 57596371, "comment_id": 101650087, "body": "Thanks William, however Code-Apprentice is correct, it needs to work everywhere"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566407976, "post_id": 57596371, "comment_id": 101650108, "body": "@Maff My original comment might be incorrect, so I deleted it. See my new comment. I suggest researching how <code>DecimalFormatSymbols</code> works."}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566408699, "post_id": 57596371, "comment_id": 101650401, "body": "thank you v much William, marked as answer, much appreciated"}, {"owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "reply_to_user": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1566408803, "post_id": 57596371, "comment_id": 101650454, "body": "@Maff I&#39;ve updated the answer to something simpler which should work on a per-locale (everywhere) basis provided that a locale can be determined (currentLocale)"}], "tags": [], "owner": {"reputation": 4234, "user_id": 5752737, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4399530f88749f2a24bcbaef6f625490?s=128&d=identicon&r=PG&f=1", "display_name": "William Burnham", "link": "https://stackoverflow.com/users/5752737/william-burnham"}, "is_accepted": true, "score": 1, "last_activity_date": 1566408562, "last_edit_date": 1566408562, "creation_date": 1566407624, "answer_id": 57596371, "question_id": 57596002, "link": "https://stackoverflow.com/questions/57596002/java-lang-numberformatexception-invalid-double-for-european-languages-using/57596371#57596371", "title": "&#39;java.lang.NumberFormatException: Invalid double&#39; for European languages, using Kotlin", "body": "<p>I can't try it at the moment but something like</p>\n\n<pre><code>val otherSymbols = DecimalFormatSymbols()\notherSymbols.setDecimalSeparator(',')\notherSymbols.setGroupingSeparator('.')\nDecimalFormat df = DecimalFormat(\"#.##\", otherSymbols)\ndf.roundingMode = RoundingMode.CEILING\nval lengthCalc = 0.01658\nval length = df.format(lengthCalc)\n</code></pre>\n\n<p>should do the trick. You need to use decimal format symbols for Europe, so a comma for the decimals and a full stop for the thousands.</p>\n\n<p>An alternative to do it on a locale basis is to use NumberFormat and cast it to a DecimalFormat</p>\n\n<pre><code>val df = NumberFormat.getNumberInstance(currentLocale) as DecimalFormat\ndf.applyPattern(\"#.##\")\n...\ndf.format(lengthCalc)\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1566410316, "accepted_answer_id": 57596371, "answer_count": 1, "score": 0, "last_activity_date": 1566408562, "creation_date": 1566405637, "last_edit_date": 1566407287, "question_id": 57596002, "link": "https://stackoverflow.com/questions/57596002/java-lang-numberformatexception-invalid-double-for-european-languages-using", "closed_reason": "Duplicate", "title": "&#39;java.lang.NumberFormatException: Invalid double&#39; for European languages, using Kotlin", "body": "<p>each solution I've found for this uses java rather than Kotlin, please can anyone help?\nI've written an app and I'm just trying to translate to some European countries, however the math part is falling over as Germans, French etc use commas rather than a full stop. I can't figure out how to fix this with the solutions on here.</p>\n\n<p>part of .kt file:</p>\n\n<pre><code>import java.math.RoundingMode\nimport java.text.DecimalFormat\n...\nval df = DecimalFormat(\"#.##\")\ndf.roundingMode = RoundingMode.CEILING\nval lengthCalc = 0.01658\nval length = df.format(lengthCalc)\n</code></pre>\n\n<p>any help appreciated thanks</p>\n\n<p>EDIT: I have looked here: <a href=\"https://stackoverflow.com/questions/5054132/how-to-change-the-decimal-separator-of-decimalformat-from-comma-to-dot-point\">How to change the decimal separator of DecimalFormat from comma to dot/point?</a> but as I said originally, all the solutions are for Java, not Kotlin</p>\n"}, {"tags": ["android", "kotlin", "android-handlerthread"], "answers": [{"tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1566401403, "creation_date": 1566401403, "answer_id": 57594966, "question_id": 57594418, "link": "https://stackoverflow.com/questions/57594418/how-to-use-onlooperprepared-of-handlerthread-in-android-kotlin/57594966#57594966", "title": "How to use onLooperPrepared of HandlerThread in Android kotlin?", "body": "<p>The <code>onLooperPrepared()</code> method is a <code>protected</code> method inside of the <code>HandlerThread.java</code> class, with no default implementation. If you want to use it in your code, you'd need to override it in a class that extends the <code>HandlerThread</code> class</p>\n\n<pre><code>class YourHandlerThread(val name = \"MyHandlerThread\") : HandlerThread(name) {\n    override fun onLoopPrepared() {...}\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1566401498, "creation_date": 1566401498, "answer_id": 57594984, "question_id": 57594418, "link": "https://stackoverflow.com/questions/57594418/how-to-use-onlooperprepared-of-handlerthread-in-android-kotlin/57594984#57594984", "title": "How to use onLooperPrepared of HandlerThread in Android kotlin?", "body": "<p>Not sure what are you trying to achieve, however if you want to execute something on other thread without blocking the main thread I <strong>HIGHLY</strong> recommend to start using coroutines, this is the new and recommended way to handle multi threading in kotlin.</p>\n\n<p>To use them you will need to add the following dependencies to your gradle file:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.1'\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.2.1'\n</code></pre>\n\n<p>Coroutines are a big box of different chocolates so you should take your time to learn the capabilities, since it is a different mechanism compared to java threads. However for example to run your timer on a different thread is as easy as:</p>\n\n<pre><code>// it doesn't matter what thread you are currently on\nCoroutineScope(Dispatchers.Default).launch {\n// the code in brackets runs on a separate thread (read about dispatchers for more information) without blocking the current thread\ncountDownTimer = object : CountDownTimer(COUNT_DOWN_MAX_TIME.toLong(), COUNT_DOWN_INTERVAL.toLong()) {\n                override fun onTick(millisUntilFinished: Long) {\n                    Log.d(TAG, \"time:$millisUntilFinished \")\n                }\n\n                override fun onFinish() {\n                    Log.d(TAG, \"Timer countDown Finish \")\n\n                }\n            }.start()\n}\n</code></pre>\n\n<p>This code will work without any problems since Log allows posting from different threads, however this will not work in case when you want to update UI, since UI can be updated only from the main thread. Before coroutines this was a pain in the ass since you had to make a handler and always send/receive messages with limited capability on cancelling the currently running task. With coroutines this is as easy as:</p>\n\n<pre><code>withContext(Dispatchers.Main) {\n// do your ui updates here\n}\n</code></pre>\n\n<p>This snippet can be used inside of your coroutine to switch the context, you don't need anything more, once you switch the context to main thread you can do all the UI updates.</p>\n"}], "owner": {"reputation": 5283, "user_id": 2810515, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/160502dd8d476f8569de9fbf98b489c5?s=128&d=identicon&r=PG&f=1", "display_name": "Wun", "link": "https://stackoverflow.com/users/2810515/wun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566401498, "creation_date": 1566399630, "question_id": 57594418, "link": "https://stackoverflow.com/questions/57594418/how-to-use-onlooperprepared-of-handlerthread-in-android-kotlin", "title": "How to use onLooperPrepared of HandlerThread in Android kotlin?", "body": "<p>I am developing in Android, I want to use <code>HandlerThread</code> to start a <code>countdownTimer</code> like the following code.</p>\n\n<pre><code>private var bgHandlerThread: HandlerThread? = HandlerThread(\"MyHandlerThread\")\n\nprivate fun startTimer() {\n\n        bgHandlerThread = HandlerThread(\"MyHandlerThread\")\n\n        bgHandlerThread!!.start()\n\n        val bgHandler = Handler(bgHandlerThread!!.looper)\n        bgHandler.post {\n            countDownTimer = object : CountDownTimer(COUNT_DOWN_MAX_TIME.toLong(), COUNT_DOWN_INTERVAL.toLong()) {\n                override fun onTick(millisUntilFinished: Long) {\n                    Log.d(TAG, \"time:$millisUntilFinished \")\n                }\n\n                override fun onFinish() {\n                    Log.d(TAG, \"Timer countDown Finish \")\n\n                }\n            }.start()\n        }\n    }\n</code></pre>\n\n<p>But it show the following error</p>\n\n<pre><code>Attempt to read from field 'android.os.MessageQueue android.os.Looper.mQueue' on a null object reference\ncom.xx.Test.startTimer\n</code></pre>\n\n<p>So I want to move the <code>startTimer()</code> to the <code>onLooperPrepared</code>.</p>\n\n<p>In Java, it is like the following:</p>\n\n<pre><code>@Override\n      public void onLooperPrepared() {\n}\n</code></pre>\n\n<p>But I did not see the method in kotlin.\nHot to use the <code>onLooperPrepared</code> in kotlin ?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-lifecycle", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 11152684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f6f8c7d8159601a4a976ee24daa30e2?s=128&d=identicon&r=PG&f=1", "display_name": "X. Android", "link": "https://stackoverflow.com/users/11152684/x-android"}, "edited": false, "score": 0, "creation_date": 1566398270, "post_id": 57593365, "comment_id": 101645469, "body": "Thank you, that was all I needed! (y)"}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": true, "score": 5, "last_activity_date": 1566395774, "creation_date": 1566395774, "answer_id": 57593365, "question_id": 57592885, "link": "https://stackoverflow.com/questions/57592885/why-does-the-new-livedata-builder-from-kotlin-may-update-not-working-in-my-proje/57593365#57593365", "title": "Why does the new LiveData builder from Kotlin May update not working in my project", "body": "<p>From the <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>For <code>liveData</code>, use <code>androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-alpha01</code> or higher.</p>\n</blockquote>\n\n<p>So you're just missing the dependency:</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-alpha03\"\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 11152684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f6f8c7d8159601a4a976ee24daa30e2?s=128&d=identicon&r=PG&f=1", "display_name": "X. Android", "link": "https://stackoverflow.com/users/11152684/x-android"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 57593365, "answer_count": 1, "score": 1, "last_activity_date": 1566395774, "creation_date": 1566394357, "question_id": 57592885, "link": "https://stackoverflow.com/questions/57592885/why-does-the-new-livedata-builder-from-kotlin-may-update-not-working-in-my-proje", "title": "Why does the new LiveData builder from Kotlin May update not working in my project", "body": "<p><a href=\"https://i.stack.imgur.com/mdtyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdtyQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here are my dependencies:</p>\n\n<pre><code> //Room and Lifecycle Libraries\n    kapt \"androidx.room:room-compiler:2.2.0-alpha02\"\n    kapt 'androidx.room:room-compiler:2.2.0-alpha02'\n    kapt \"androidx.lifecycle:lifecycle-compiler:2.2.0-alpha03\"\n    implementation \"androidx.room:room-runtime:2.2.0-alpha02\"\n    implementation 'androidx.room:room-runtime:2.2.0-alpha02'\n    implementation \"androidx.lifecycle:lifecycle-viewmodel:2.2.0-alpha03\"\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.2.0-alpha03\"\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0-alpha03\"\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-savedstate:1.0.0-alpha03\"\n    implementation 'com.jakewharton.retrofit:retrofit2-kotlin-coroutines-adapter:0.9.2'\n</code></pre>\n\n<p>As you can see, I implemented the final versions and yet I do not have access to the liveData builder. How can I fix this?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 1, "creation_date": 1566393830, "post_id": 57592692, "comment_id": 101642739, "body": "you can clear list before adding the data."}], "answers": [{"tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": true, "score": 3, "last_activity_date": 1566393876, "creation_date": 1566393876, "answer_id": 57592731, "question_id": 57592692, "link": "https://stackoverflow.com/questions/57592692/duplicate-data-from-firebase-realtime-databse/57592731#57592731", "title": "Duplicate data from firebase realtime databse", "body": "<p>This can help you to clear the old data and store the new one in list.</p>\n\n<pre><code>private fun getTargetsFromDb() {\n        val uid = firebaseUser!!.uid\n        val targetsRef = databaseReference?.child(\"targets\")?.child(\"users\")?.child(uid)?.child(\"targets\")\n        val valueEventListener = object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                targetList.clear()\n                for (targetSnapshot in dataSnapshot.children) {\n                    val target = targetSnapshot.getValue(Target::class.java)\n                    target?.let { targetList.add(it) }\n                }\n                recyclerView?.adapter = adapter\n            }\n\n            override fun onCancelled(databaseError: DatabaseError) {\n                Log.d(\"some\", \"Error trying to get targets for ${databaseError.message}\")\n            }\n        }\n        targetsRef?.addListenerForSingleValueEvent(valueEventListener)\n    }\n</code></pre>\n\n<p>Above code will check if response is successful then it will clear list and store the values or it won't clear the list and just give you exception.</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57592731, "answer_count": 1, "score": 1, "last_activity_date": 1566393876, "creation_date": 1566393712, "question_id": 57592692, "link": "https://stackoverflow.com/questions/57592692/duplicate-data-from-firebase-realtime-databse", "title": "Duplicate data from firebase realtime databse", "body": "<p>There is a method that adds data to my list from the firebase realtime database:</p>\n\n<pre><code>private fun getTargetsFromDb() {\n        val uid = firebaseUser!!.uid\n        val targetsRef = databaseReference?.child(\"targets\")?.child(\"users\")?.child(uid)?.child(\"targets\")\n        val valueEventListener = object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                for (targetSnapshot in dataSnapshot.children) {\n                    val target = targetSnapshot.getValue(Target::class.java)\n                    target?.let { targetList.add(it) }\n                }\n                recyclerView?.adapter = adapter\n            }\n\n            override fun onCancelled(databaseError: DatabaseError) {\n                Log.d(\"some\", \"Error trying to get targets for ${databaseError.message}\")\n            }\n        }\n        targetsRef?.addListenerForSingleValueEvent(valueEventListener)\n    }\n</code></pre>\n\n<p>But sometimes when I jump from fragment to fragment, I have a duplicate list of data.</p>\n\n<p>Q: I need somewhere to <code>remove</code> the data for the <code>targetList</code>?</p>\n"}, {"tags": ["android", "kotlin", "local-storage", "android-10.0"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1566392123, "post_id": 57592022, "comment_id": 101641590, "body": "You <a href=\"https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html\" rel=\"nofollow noreferrer\">do not have filesystem access to most of external storage on Android Q</a>."}], "answers": [{"tags": [], "owner": {"reputation": 20129, "user_id": 2944616, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4JSYv.png?s=128&g=1", "display_name": "greywolf82", "link": "https://stackoverflow.com/users/2944616/greywolf82"}, "is_accepted": false, "score": 2, "last_activity_date": 1566415038, "creation_date": 1566415038, "answer_id": 57597973, "question_id": 57592022, "link": "https://stackoverflow.com/questions/57592022/get-list-of-files-from-specific-folder-in-android-q/57597973#57597973", "title": "Get list of files from specific Folder in Android Q", "body": "<p>With Android Q file interface can't be used to access public directories, unless you use the <code>requestLegacyStorage</code> in your app manifest (not raccomanded since it won't work anymore with Android R). To access the directory you need to use the <code>DocumentFile</code> class, for example:</p>\n\n<pre><code>DocumentFile f = DocumentFile.fromTreeUri(context, uri);\nf.listFiles();\n</code></pre>\n"}], "owner": {"reputation": 1695, "user_id": 7579041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YtuXi.jpg?s=128&g=1", "display_name": "Amin Pinjari", "link": "https://stackoverflow.com/users/7579041/amin-pinjari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1566415038, "creation_date": 1566391691, "question_id": 57592022, "link": "https://stackoverflow.com/questions/57592022/get-list-of-files-from-specific-folder-in-android-q", "title": "Get list of files from specific Folder in Android Q", "body": "<p>I am trying to access the specific folder in android Q but the app is getting crashed.</p>\n\n<p>I am using below code which is working fine till Android PIE but it is not working in Android Q</p>\n\n<pre><code>    val directory = File(path)\n    val files = directory.listFiles()\n\n\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Getting bellow error</p>\n\n<pre><code>NullPointerException: Attempt to get length of null array\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-bitmap"], "comments": [{"owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "edited": false, "score": 0, "creation_date": 1566391657, "post_id": 57591950, "comment_id": 101641279, "body": "What exactly doesn&#39;t work?"}, {"owner": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1566391688, "post_id": 57591950, "comment_id": 101641304, "body": "What is the problem? Does this code doesn&#39;t work?"}, {"owner": {"reputation": 713, "user_id": 10214713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rStee.jpg?s=128&g=1", "display_name": "Alireza Bideli", "link": "https://stackoverflow.com/users/10214713/alireza-bideli"}, "edited": false, "score": 0, "creation_date": 1566391718, "post_id": 57591950, "comment_id": 101641323, "body": "i want to make a single bitmap with one imageView and several textViewView on imageView  .That&#39;s it"}, {"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "edited": false, "score": 1, "creation_date": 1566391962, "post_id": 57591950, "comment_id": 101641485, "body": "You need to a viewgroup where your Imageview and textview as child and when you want to create bitmap you need to pass viewgroup to your function that&#39;s create your bitmap"}], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 10214713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rStee.jpg?s=128&g=1", "display_name": "Alireza Bideli", "link": "https://stackoverflow.com/users/10214713/alireza-bideli"}, "edited": false, "score": 0, "creation_date": 1566715081, "post_id": 57592098, "comment_id": 101738707, "body": "my imageView and textViews  parent layout is a RelativeLayout . And  imageView is not fullscreen how can i put textViews and imageView in a viewGroup ..Shoud i do it in code or layout ? how?  I try but I can&#39;t"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 713, "user_id": 10214713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rStee.jpg?s=128&g=1", "display_name": "Alireza Bideli", "link": "https://stackoverflow.com/users/10214713/alireza-bideli"}, "edited": false, "score": 0, "creation_date": 1566808765, "post_id": 57592098, "comment_id": 101758737, "body": "I would suggest to use ConstraintLayout. In ypur layout xml file of fragmant or activity place desired views and in you fragment/activity code take a scrennshot of inflated view, I think taking screenshot in onResume() should work"}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": true, "score": 5, "last_activity_date": 1566391993, "creation_date": 1566391993, "answer_id": 57592098, "question_id": 57591950, "link": "https://stackoverflow.com/questions/57591950/what-is-the-simplest-way-to-get-screenshot-in-android-using-kotlin/57592098#57592098", "title": "What is the simplest way to get screenshot in android using kotlin?", "body": "<p>Add desired views in xml layout inflate it and take screenshot of parent layout that is containing your views.</p>\n\n<p>Code for taking screenshoot:</p>\n\n<pre><code> fun takeScreenshotOfView(view: View, height: Int, width: Int): Bitmap {\n            val bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)\n            val canvas = Canvas(bitmap)\n            val bgDrawable = view.background\n            if (bgDrawable != null) {\n                bgDrawable.draw(canvas)\n            } else {\n                canvas.drawColor(Color.WHITE)\n            }\n            view.draw(canvas)\n            return bitmap\n        }\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 10214713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rStee.jpg?s=128&g=1", "display_name": "Alireza Bideli", "link": "https://stackoverflow.com/users/10214713/alireza-bideli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2655, "favorite_count": 1, "accepted_answer_id": 57592098, "answer_count": 1, "score": 3, "last_activity_date": 1569221750, "creation_date": 1566391475, "last_edit_date": 1569046013, "question_id": 57591950, "link": "https://stackoverflow.com/questions/57591950/what-is-the-simplest-way-to-get-screenshot-in-android-using-kotlin", "title": "What is the simplest way to get screenshot in android using kotlin?", "body": "<p>I have an imageView and several textViews \nMy app allows user to drag textViews on evey coordinates of  imageView <strong>(imageView is not full screen)</strong> that user wants .</p>\n\n<p>In other words this app allows user to add several captions to user image \nand convert that image and captions to a <strong>single</strong> image and store it on user device.</p>\n\n<p>According to one of <strong>stackOverFlow</strong> responses I can just convert one <strong>textView</strong> text to a bitamp</p>\n\n<p>id there any way to screenshot from final image which user have created with its captions  in kotlin??</p>\n\n<p>This is my code:</p>\n\n<pre><code>@Throws(IOException::class)\nfun foo(text: String) {\n    val textPaint = object : Paint() {\n        init {\n            setColor(Color.WHITE)\n            setTextAlign(Align.CENTER)\n            setTextSize(20f)\n            setAntiAlias(true)\n\n        }\n    }\n    val bounds = Rect()\n    textPaint.getTextBounds(text, 0, text.length, bounds)\n\n    val bmp = Bitmap.createBitmap(mImgBanner.getWidth(), mImgBanner.getHeight(), Bitmap.Config.RGB_565) //use ARGB_8888 for better quality\n    val canvas = Canvas(bmp)\n    canvas.drawText(text, 0, 20f, textPaint)\n    val path = Environment.getExternalStorageDirectory().getAbsolutePath() + \"/image.png\"\n    val stream = FileOutputStream(path)\n    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream)\n    bmp.recycle()\n    stream.close()\n}\n</code></pre>\n"}, {"tags": ["java", "javafx", "kotlin", "fxml", "fxmlloader"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566392843, "post_id": 57590068, "comment_id": 101642069, "body": "Interesting. Scanning the JavaFX libraries, the only class that has both <code>@DefaultProperty</code> and <code>@NamedArg</code> is <code>javafx.scene.Scene</code>. And that class is one of the few classes that still has a dedicated <code>Builder</code> implementation; that <code>Builder</code> class &quot;duplicates&quot; the <code>@DefaultProperty</code> present on the <code>Scene</code> class which, going by the explanation in the linked question, is why that works. However, I don&#39;t believe <code>@DefaultProperty</code> was designed to work with constructor parameters, only properties. As you have no image property, this isn&#39;t possible."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566392932, "post_id": 57590068, "comment_id": 101642110, "body": "That said, why not accept a <code>String</code> URL in the constructor instead of the <code>Image</code> itself? Then you could even declare the URL in an attribute, not just a single-line element."}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 1, "creation_date": 1566393201, "post_id": 57590068, "comment_id": 101642297, "body": "You can&#39;t have both <code>@NamedArg</code> and <code>@DefaultProperty</code>, because as soon you use the former, the <code>ProxyBuilder</code> is used, and the latter won&#39;t work, as explained in the linked question. Having an empty constructor (or one with a <code>String text</code> argument), and an <code>ObjectProperty&lt;Image&gt; image</code> property works, but you will be missing the other arguments. Note that <code>prefWidth</code> and <code>prefHeight</code> can be set directly from <code>&lt;ImageButton&gt;</code>, so there is no need for them. Would that work for you?"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "reply_to_user": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1566393946, "post_id": 57590068, "comment_id": 101642815, "body": "@Jos&#233;Pereda Should the incompatibility between <code>@DefaultProperty</code> and <code>@NamedArg</code> be considered a bug? I tried finding a report (fixed or not) but was unsuccessful."}, {"owner": {"reputation": 65, "user_id": 11630686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207e2b23e2bee1ecdcc97ca425f780d?s=128&d=identicon&r=PG&f=1", "display_name": "pjaro", "link": "https://stackoverflow.com/users/11630686/pjaro"}, "edited": false, "score": 0, "creation_date": 1566395713, "post_id": 57590068, "comment_id": 101644055, "body": "I&#39;ve indeed opted for the &quot;URL in the constructor&quot; solution. I only wanted to have the <code>Image</code> as the <code>@DefaultProperty</code> because I&#39;m using my <code>ImageButton</code> as a base class for some more complex classes and wanted to take advantage of the fxml&#39;s location resolution instead of having to <code>App::class.java.getResource</code> every time but It&#39;s fine"}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1566407314, "post_id": 57590068, "comment_id": 101649878, "body": "I&#39;ve managed to get it working using the <code>Builder</code> pattern... Though builders were deprecated a long time ago, they are still used internally, and you can implement your own Builder, and add your own BuilderFactory (sadly it can&#39;t extend <code>JavaFXBuilderFactory</code>). The builder will allow <code>DefaultProperty</code>, while <code>NamedArg</code> can be used in the control..."}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566407619, "post_id": 57590068, "comment_id": 101649966, "body": "@Slaw I wouldn&#39;t say it is a bug, but definitely there is room for improvement. See my previous comment... builders could be still an option..."}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "edited": false, "score": 0, "creation_date": 1566411992, "post_id": 57590068, "comment_id": 101651749, "body": "Ok, I&#39;ve posted it, I haven&#39;t found documented cases of a custom builder, so I guess someone might find it useful..."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566430263, "post_id": 57590068, "comment_id": 101657827, "body": "@pjaro You could have another constructor continue to accept an <code>Image</code> argument."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11630686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207e2b23e2bee1ecdcc97ca425f780d?s=128&d=identicon&r=PG&f=1", "display_name": "pjaro", "link": "https://stackoverflow.com/users/11630686/pjaro"}, "edited": false, "score": 0, "creation_date": 1566462329, "post_id": 57597326, "comment_id": 101666137, "body": "It works, but It&#39;s an awful lot of boilerplate code just to be able to use a <code>@DefaultProperty</code> annotation. Also, this solution doesn&#39;t cooperate with <code>SceneBuilder</code> - at least the one imbedded in <code>IntelliJ IDEA</code> so I will remain using the <code>@NamedArg(&quot;url&quot;)</code> solution. However, thank you for the detailed response and an actual example of how to use the <code>BuilderFactory</code> - even though it&#39;s deprecated now"}, {"owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "reply_to_user": {"reputation": 65, "user_id": 11630686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207e2b23e2bee1ecdcc97ca425f780d?s=128&d=identicon&r=PG&f=1", "display_name": "pjaro", "link": "https://stackoverflow.com/users/11630686/pjaro"}, "edited": false, "score": 0, "creation_date": 1566462666, "post_id": 57597326, "comment_id": 101666293, "body": "Indeed it is not pretty, compared to <code>NamedArg</code>, ... but <code>BuilderFactory</code> is still a valid solution, as I mentioned, it is still used by FXMLLoader itself, so that part is not deprecated. I didn&#39;t check Scene Builder, probably it will complain."}], "tags": [], "owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "is_accepted": true, "score": 2, "last_activity_date": 1566412343, "last_edit_date": 1566412343, "creation_date": 1566411920, "answer_id": 57597326, "question_id": 57590068, "link": "https://stackoverflow.com/questions/57590068/how-to-properly-add-defaultproperty-annotation-to-custom-class-that-uses-named/57597326#57597326", "title": "How to properly add @DefaultProperty annotation to custom class that uses @NamedArg", "body": "<p>There are a few options here, but the more simple one is stated by @Slaw in a comment:</p>\n\n<blockquote>\n  <p>Use a String URL in the constructor instead of the Image</p>\n</blockquote>\n\n<p>So this should work:</p>\n\n<pre><code>public ImageButton(@NamedArg(\"url\") String url, @NamedArg(\"text\") String text) {\n    setEffect(new ImageInput(new Image(url)));\n    setText(text);\n}\n</code></pre>\n\n<p>with the FXML like:</p>\n\n<pre><code>&lt;ImageButton fx:id=\"imageButton\" text=\"Click Me!\" url=\"@icon.png\"/&gt;\n</code></pre>\n\n<hr/>\n\n<p>Let's explore now the use of <code>&lt;image /&gt;</code> combined with <code>@DefaultProperty</code>. </p>\n\n<p><strong>ImageButton control</strong></p>\n\n<p>First of all, let's define our control. For the sake of simplicity (and also because these can't be overridden), I won't include <code>width</code> and <code>height</code>:</p>\n\n<pre><code>public class ImageButton extends Button {\n\n    public ImageButton(@NamedArg(\"image\") Image image, @NamedArg(\"text\") String text) {\n        setImage(image);\n        setText(text);\n    }\n\n    private final ObjectProperty&lt;Image&gt; image = new SimpleObjectProperty&lt;&gt;(this, \"image\") {\n        @Override\n        protected void invalidated() {\n            // setGraphic(new ImageView(get()));\n            setEffect(new ImageInput(get()));\n        }\n    };\n\n    public final ObjectProperty&lt;Image&gt; imageProperty() {\n       return image;\n    }\n\n    public final Image getImage() {\n       return image.get();\n    }\n\n    public final void setImage(Image value) {\n        image.set(value);\n    }\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>&lt;ImageButton fx:id=\"imageButton\" text=\"Click Me!\"&gt;\n     &lt;image&gt;\n         &lt;Image url=\"@icon.png\"/&gt;\n     &lt;/image&gt;\n&lt;/ImageButton&gt;\n</code></pre>\n\n<p>will work perfectly fine. However, the purpose is to remove the <code>&lt;image&gt;</code> tag.</p>\n\n<p><strong>DefaultProperty</strong></p>\n\n<p>The theory says you could do:</p>\n\n<pre><code>@DefaultProperty(\"image\")\npublic class ImageButton extends Button {\n...\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;ImageButton fx:id=\"imageButton\" text=\"Click Me!\"&gt;\n     &lt;Image url=\"@icon.png\"/&gt;\n&lt;/ImageButton&gt;\n</code></pre>\n\n<p>However, an exception is thrown:</p>\n\n<blockquote>\n  <p>Caused by: javafx.fxml.LoadException: Element does not define a default property.</p>\n</blockquote>\n\n<p>For more details, why this exception happens, see the linked <a href=\"https://stackoverflow.com/questions/43457717/element-does-not-define-a-default-property-when-defaultproperty-is-used\">question</a>.</p>\n\n<p>Basically, as discussed within comments, <code>@DefaultProperty</code> and <code>@NamedArg</code> don't work together: In order to extend the FXML attributes of a given class, <code>@NamedArg</code> provide new constructors to this class, which require the use of <code>ProxyBuilder</code>, so <code>FXMLLoader</code> will use instances of <code>ProxyBuilder</code> instead, and these don't have included the <code>@DefaultProperty</code> annotation.</p>\n\n<p><strong>Builders</strong></p>\n\n<p>Though builder design pattern was used in JavaFX 2.0, and it was deprecated a long time ago (in Java 8, removed in Java 9, <a href=\"http://mail.openjdk.java.net/pipermail/openjfx-dev/2013-March/006725.html\" rel=\"nofollow noreferrer\">link</a>), there are still some <em>builders</em> in the current JavaFX code.</p>\n\n<p>In fact, <code>FXMLLoader</code> makes use of <a href=\"https://github.com/javafxports/openjdk-jfx/blob/fb3d08b83fe615b76e891221bc237462f5c9c748/modules/javafx.fxml/src/main/java/javafx/fxml/JavaFXBuilderFactory.java\" rel=\"nofollow noreferrer\"><code>JavaFXBuilderFactory</code></a>, as default builder factory, that will call this <code>ProxyBuilder</code> if <code>NamedArg</code> annotations are found in the class constructor, among other builders like <code>JavaFXImageBuilder</code>.</p>\n\n<p>There is some description about builders <a href=\"https://github.com/javafxports/openjdk-jfx/blob/fb3d08b83fe615b76e891221bc237462f5c9c748/modules/javafx.fxml/src/main/docs/javafx/fxml/doc-files/introduction_to_fxml.html#L200\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Builder implementation</strong></p>\n\n<p>How can we add our own builder factory? <code>FXMLLoader</code> has a way: <a href=\"https://openjfx.io/javadoc/12/javafx.fxml/javafx/fxml/FXMLLoader.html#setBuilderFactory(javafx.util.BuilderFactory)\" rel=\"nofollow noreferrer\"><code>setBuilderFactory</code></a>.</p>\n\n<p>Can we extend <code>JavaFXBuilderFactory</code>? No, it's final, we can't extend it, we have to create one from the scratch. </p>\n\n<p><strong>ImageButtonBuilderFactory</strong></p>\n\n<p>Let's create it:</p>\n\n<pre><code>import javafx.util.Builder;\nimport javafx.util.BuilderFactory;\n\npublic class ImageButtonBuilderFactory implements BuilderFactory {\n\n    @Override\n    public Builder&lt;?&gt; getBuilder(Class&lt;?&gt; type) {\n        if (type == null) {\n            throw new NullPointerException();\n        }\n        if (type == ImageButton.class) {\n            return ImageButtonBuilder.create();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>Now let's add the builder:</p>\n\n<p><strong>ImageButtonBuilder</strong></p>\n\n<pre><code>import javafx.scene.image.Image;\nimport javafx.util.Builder;\n\nimport java.util.AbstractMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class ImageButtonBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;ImageButton&gt; {\n\n    private String text = \"\";\n    private Image image;\n\n    private ImageButtonBuilder() {}\n\n    @Override\n    public Set&lt;Entry&lt;String, Object&gt;&gt; entrySet() {\n        return new HashSet&lt;&gt;();\n    }\n\n    public static ImageButtonBuilder create() {\n        return new ImageButtonBuilder();\n    }\n\n    @Override\n    public Object put(String key, Object value) {\n        if (value != null) {\n            String str = value.toString();\n\n            if (\"image\".equals(key)) {\n                image = (Image) value;\n            } else if (\"text\".equals(key)) {\n                text = str;\n            } else {\n                throw new IllegalArgumentException(\"Unknown property: \" + key);\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public ImageButton build() {\n        return new ImageButton(image, text);\n    }\n\n}\n</code></pre>\n\n<p>Note that <code>ImageButton</code> is the same class as above (without <code>DefaultProperty</code> annotation).</p>\n\n<p><strong>Using the custom builder</strong></p>\n\n<p>Now we could use our custom builder:</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader();\nloader.setLocation(getClass().getResource(\"imagebutton.fxml\"));\nloader.setBuilderFactory(new ImageButtonBuilderFactory());\nParent root = loader.load();\nScene scene = new Scene(root);\n...\n</code></pre>\n\n<p>where the FXML is:</p>\n\n<pre><code>&lt;StackPane prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/11\" xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n      &lt;ImageButton fx:id=\"imageButton\" text=\"Click Me!\"&gt;\n            &lt;image&gt;\n                  &lt;Image url=\"@icon.png\"/&gt;\n            &lt;/image&gt;\n      &lt;/ImageButton&gt;\n&lt;/StackPane&gt;\n</code></pre>\n\n<p>If we run this now, it should work. We have verified that our new builder works. If we comment out the <code>setBuilderFactory</code> call, it will work as well (using <code>NamedArg</code> and <code>ProxyBuilder</code>). With the custom builder factory, it won't use <code>ProxyBuilder</code> but our custom builder.</p>\n\n<p><strong>Final step</strong></p>\n\n<p>Finally, we can make use of <code>DefaultProperty</code> to get rid of the <code>&lt;image&gt;</code> tag.</p>\n\n<p>And we'll add the annotation to the builder class, not to the control!</p>\n\n<p>So now we have:</p>\n\n<pre><code>\n@DefaultProperty(\"image\")\npublic class ImageButtonBuilder extends AbstractMap&lt;String, Object&gt; implements Builder&lt;ImageButton&gt; {\n...\n}\n</code></pre>\n\n<p>and finally we can remove the <code>&lt;image&gt;</code> tag from the FXML file:</p>\n\n<pre><code>&lt;StackPane prefHeight=\"400.0\" prefWidth=\"600.0\" xmlns=\"http://javafx.com/javafx/11\" xmlns:fx=\"http://javafx.com/fxml/1\"&gt;\n      &lt;ImageButton fx:id=\"imageButton\" text=\"Click Me!\"&gt;\n            &lt;Image url=\"@icon.png\"/&gt;\n      &lt;/ImageButton&gt;\n&lt;/StackPane&gt;\n</code></pre>\n\n<p>and it will work!</p>\n"}], "owner": {"reputation": 65, "user_id": 11630686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207e2b23e2bee1ecdcc97ca425f780d?s=128&d=identicon&r=PG&f=1", "display_name": "pjaro", "link": "https://stackoverflow.com/users/11630686/pjaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 57597326, "answer_count": 1, "score": 3, "last_activity_date": 1566412343, "creation_date": 1566384957, "question_id": 57590068, "link": "https://stackoverflow.com/questions/57590068/how-to-properly-add-defaultproperty-annotation-to-custom-class-that-uses-named", "title": "How to properly add @DefaultProperty annotation to custom class that uses @NamedArg", "body": "<p>I've created a custom class <code>ImageButton</code> to get rid of some boilerplate code</p>\n\n<pre><code>open class ImageButton(@NamedArg(\"image\") image: Image,\n                       @NamedArg(\"tooltipText\") tooltipText: String,\n                       @NamedArg(\"width\") width: Double, \n                       @NamedArg(\"height\") height: Double) : Button() {\n    init {\n        prefWidth = width\n        minWidth = NEGATIVE_INFINITY\n        maxWidth = NEGATIVE_INFINITY\n\n        prefHeight = height\n        minHeight = NEGATIVE_INFINITY\n        maxHeight = NEGATIVE_INFINITY\n\n        cursor = ImageCursor.HAND\n        effect = ImageInput(image)\n        tooltip = Tooltip(tooltipText)\n    }\n}\n</code></pre>\n\n<p>Now, instead of this:</p>\n\n<pre><code>&lt;Button fx:id=\"deleteButton\" prefWidth=\"32.0\" prefHeight=\"32.0\" \n        minHeight=\"-Infinity\" maxHeight=\"-Infinity\"\n        minWidth=\"-Infinity\" maxWidth=\"-Infinity\" \n        onMouseClicked=\"#deleteThePiece\"&gt;\n    &lt;cursor&gt;\n        &lt;ImageCursor fx:constant=\"HAND\"/&gt;\n    &lt;/cursor&gt;\n    &lt;tooltip&gt;\n        &lt;Tooltip text=\"Delete Current Piece\"/&gt;\n    &lt;/tooltip&gt;\n    &lt;effect&gt;\n        &lt;ImageInput&gt;\n            &lt;source&gt;\n                &lt;Image url=\"@/icons/delete.png\"/&gt;\n            &lt;/source&gt;\n        &lt;/ImageInput&gt;\n    &lt;/effect&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>I can write this:</p>\n\n<pre><code>&lt;ImageButton fx:id=\"deleteButton\" width=\"32.0\" height=\"32.0\"\n        onMouseClicked=\"#deleteThePiece\" tooltipText=\"Delete Current Piece\"&gt;\n    &lt;image&gt;\n        &lt;Image url=\"@/icons/dice.png\"/&gt;\n    &lt;/image&gt;\n&lt;/ImageButton&gt;\n</code></pre>\n\n<p>However, I would like to be able to shorten it even more, like this:</p>\n\n<pre><code>&lt;ImageButton fx:id=\"deleteButton\" width=\"32.0\" height=\"32.0\"\n        onMouseClicked=\"#deleteThePiece\" tooltipText=\"Delete Current Piece\"&gt;\n    &lt;Image url=\"@/icons/dice.png\"/&gt;\n&lt;/ImageButton&gt;\n</code></pre>\n\n<p>I have a lot of these objects so it would be nice to be able to keep the fxml tags as short as possible.</p>\n\n<p>I know that there is an annotation <code>@DefaultProperty</code> that can be used to unwrap the default tag (e.g you can omit the <code>&lt;children&gt;</code> tag inside a <code>&lt;Pane&gt;</code> tag because it has the <code>@DefaultProperty(\"children\")</code> annotation) so I used it:</p>\n\n<pre><code>@DefaultProperty(\"image\")\nopen class ImageButton(...) {...}\n</code></pre>\n\n<p>but then when loading fxml file I get the following error:</p>\n\n<pre><code>javafx.fxml.LoadException: Element does not define a default property.\n</code></pre>\n\n<p>I've done some research and come across this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43457717/element-does-not-define-a-default-property-when-defaultproperty-is-used\">&quot;Element does not define a default property&quot; when @DefaultProperty is used</a></p>\n\n<p>It, however, does not contain a solution. It only explains the problem.</p>\n\n<p>So my question is:</p>\n\n<p>Is it possible to use the <code>@DefaultProperty</code> annotation on custom classes that use <code>@NamedArg</code> annotation? </p>\n\n<p>If yes, how do I achieve this?</p>\n\n<p>If no, should I try constructing my <code>ImageButton</code> objects differently? e.g using <code>&lt;fx:factory&gt;</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 1, "creation_date": 1566383302, "post_id": 57589452, "comment_id": 101636592, "body": "I copied your code and I can&#39;t reproduce your problem... <code>card.setCardBackgroundColor(Color.RED)</code> . I have the whole card in red"}, {"owner": {"reputation": 5965, "user_id": 1894517, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/fEJ9w.jpg?s=128&g=1", "display_name": "Vinay Prajapati", "link": "https://stackoverflow.com/users/1894517/vinay-prajapati"}, "edited": false, "score": 0, "creation_date": 1566384080, "post_id": 57589452, "comment_id": 101636980, "body": "what has happened to Text view? Can you please put comparable images in both cases"}, {"owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "edited": false, "score": 0, "creation_date": 1566384291, "post_id": 57589452, "comment_id": 101637094, "body": "The only thing I did with the texview was changing its text like this:  textView!!.text = newText"}, {"owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1566384419, "post_id": 57589452, "comment_id": 101637159, "body": "@ZachBvy Color.RED works also fine with me but &quot;newColor&quot; has a transparant alpa channel. So the problem seems to be only present with semi transparent colors"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1566389843, "post_id": 57589452, "comment_id": 101640095, "body": "its again correct for me when i try :         <code>card.setCardBackgroundColor(Color.argb(120,80,200,80))</code>"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1566389942, "post_id": 57589452, "comment_id": 101640164, "body": "are you sure your textview doesn&#39;t have a background?"}, {"owner": {"reputation": 529, "user_id": 988378, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/782c8516a2aa690d982b3acef5349606?s=128&d=identicon&r=PG", "display_name": "Abhishek Sharma", "link": "https://stackoverflow.com/users/988378/abhishek-sharma"}, "edited": false, "score": 0, "creation_date": 1583248348, "post_id": 57589452, "comment_id": 107047668, "body": "@WouterVandenputte did you find a solution for this?"}], "owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566384465, "creation_date": 1566382832, "last_edit_date": 1566384465, "question_id": 57589452, "link": "https://stackoverflow.com/questions/57589452/android-cardview-background-color-with-cornerradius", "title": "Android Cardview background color with cornerradius", "body": "<p>I have a Cardview with a textview in it. Here's the xml</p>\n\n<pre><code>&lt;androidx.cardview.widget.CardView\n        android:id=\"@+id/cardViewLabel\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"80dp\"\n        app:cardCornerRadius=\"15dp\"\n        android:minHeight=\"80dp\"\n        android:layout_margin=\"10dp\"\n        &gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center\"\n            android:layout_margin=\"10dp\"\n            android:autoSizeMaxTextSize=\"100sp\"\n            android:autoSizeMinTextSize=\"12sp\"\n            android:autoSizeStepGranularity=\"2sp\"\n            android:autoSizeTextType=\"uniform\"\n            android:maxLines=\"2\"\n            android:text=\"PLACEHOLDER\"\n            android:textAlignment=\"center\"\n            app:autoSizeMaxTextSize=\"100sp\"\n            app:autoSizeMinTextSize=\"12sp\"\n            app:autoSizeStepGranularity=\"2sp\"\n            app:autoSizeTextType=\"uniform\" /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p>And I want to programmatically change the background color of the cardview. I use the following code</p>\n\n<pre><code>cardViewLabel!!.setCardBackgroundColor(newColor)\n</code></pre>\n\n<p>But the result of this code is like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/ixVcE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixVcE.png\" alt=\"real view\"></a></p>\n\n<p>While when I put a color in the xml file, it looks like this\n<a href=\"https://i.stack.imgur.com/LiFz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LiFz8.png\" alt=\"how it should look\"></a></p>\n\n<p>As you can see, doing it programatically does something weird with the inner TextView. And when I use this piece of code</p>\n\n<pre><code>cardViewLabel!!.setBackgroundColor(newColor)\n</code></pre>\n\n<p>then the color is consistent in the cardview (i.e. the textview adapts with it), but then the corner of the cardview is gone.\nSo how can I set the background color of a CardView programmatically while keeping the radius?</p>\n\n<p><strong>EDIT</strong>\nThe problem seems to be only when <code>newColor</code> has a transparant alpha channel. In my case, the alpha value is about 100. Solid colors do not have this problem</p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "layout"], "comments": [{"owner": {"reputation": 3293, "user_id": 1047418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3deab5aa1be96fe145d3103251263523?s=128&d=identicon&r=PG", "display_name": "Torben", "link": "https://stackoverflow.com/users/1047418/torben"}, "edited": false, "score": 0, "creation_date": 1566382135, "post_id": 57589105, "comment_id": 101635963, "body": "Have you seen this? Did it help? <a href=\"https://stackoverflow.com/questions/16788959/is-there-any-way-in-android-to-get-the-height-of-virtual-keyboard-of-device\" title=\"is there any way in android to get the height of virtual keyboard of device\">stackoverflow.com/questions/16788959/&hellip;</a>"}, {"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "reply_to_user": {"reputation": 3293, "user_id": 1047418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3deab5aa1be96fe145d3103251263523?s=128&d=identicon&r=PG", "display_name": "Torben", "link": "https://stackoverflow.com/users/1047418/torben"}, "edited": false, "score": 0, "creation_date": 1566388638, "post_id": 57589105, "comment_id": 101639433, "body": "@Torben Yes I&#39;ve seen this post, is from it that I get my method <code>onKeyBoardHeightChanged</code>"}], "owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566392343, "creation_date": 1566381668, "last_edit_date": 1566392343, "question_id": 57589105, "link": "https://stackoverflow.com/questions/57589105/how-to-put-view-behind-keyboard", "title": "How to put view behind keyboard?", "body": "<p>Hello,</p>\n\n<p>I need to put a view (a ViewPager with a RecyclerView inside) behind my keyboard, so this view will be visible when keyboard is hidden.</p>\n\n<p>My view needs also to have the same height of the keyboard. To get that height I use <a href=\"https://github.com/siebeprojects/samples-keyboardheight\" rel=\"nofollow noreferrer\">this method</a>.</p>\n\n<p>For information, I'm in a fragment</p>\n\n<p>I've tried many SoftInputMode but each have problems :</p>\n\n<ul>\n<li><strong>adjustResize/adjustUnspecified</strong> : The view is above of keyboard and not behind</li>\n<li><strong>adjustPan</strong> : I get the height of keyboard but without the \"autocorrection\" part, and it breaks the RecyclerView behavior</li>\n<li><strong>adjustNothing</strong> : Doesn't get the height of keyboard</li>\n</ul>\n\n<p>I've also tried to change the SoftInputMode programmatically, but it doesn't work either.</p>\n\n<p>I also sometimes strange behaviors like : </p>\n\n<ul>\n<li>The view have height of keyboard without \"autocorrection\" part, but height change correctly when I change viewpagers's tab</li>\n<li>Sometimes the RecyclerView inside my view doesn't work correctly (I have to scroll Recycler to update him)</li>\n</ul>\n\n<p>Below some part of my code :</p>\n\n<p><strong>AndroidManifest</strong></p>\n\n<pre><code>android:windowSoftInputMode=\"stateHidden|adjustUnspecified\"\n</code></pre>\n\n<p><strong>onViewCreated</strong></p>\n\n<pre><code>// I store the height of Keyboard in a custom object Utilities,\n// to avoid to instantiate KeyboardHeightProvider\n// if I go in this fragment multiple times\nif (Utilities.keyboardHeight &gt; 0) { \n    (viewPager?.layoutParams as ConstraintLayout.LayoutParams).height = Utilities.keyboardHeight\n    viewPager?.requestLayout()\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_MASK_ADJUST)\n} else {\n    keyboardHeightProvider = KeyboardHeightProvider(activity!!)\n    textLayout.post { keyboardHeightProvider?.start() }\n}\n</code></pre>\n\n<p><strong>onKeyBoardHeightChanged(height: Int)</strong></p>\n\n<pre><code>if (Utilities.keyboardHeight &lt; height) {\n    Utilities.keyboardHeight = height\n    (viewPager?.layoutParams as ConstraintLayout.LayoutParams).height = Utilities.keyboardHeight\n    viewPager?.requestLayout()\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_MASK_ADJUST)\n}\n</code></pre>\n\n<p><strong>onDestroy()</strong></p>\n\n<pre><code>super.onDestroy()\nkeyboardHeightProvider?.close()\nactivity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_UNSPECIFIED + WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN)\n</code></pre>\n\n<p>I'm sorry for my bad english, Thank you for your time and your help</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've found a solution ! With this setting in my manifest</p>\n\n<pre><code>android:windowSoftInputMode=\"stateHidden|adjustUnspecified\"\n</code></pre>\n\n<p>I change the softInputState in the <code>onViewCreated</code> with this line </p>\n\n<pre><code>activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING)\n</code></pre>\n\n<p>and I restore the previous SoftInputMode in the <code>onDestroy</code></p>\n\n<p>I don't know how it works because if I set <code>adjustNothing</code> directly in the Manifest, it doesn't get the height of keyboard.</p>\n\n<p>Hope it can help someone</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 377, "user_id": 3095612, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7f91a433e350751cc7c112e9d39f598?s=128&d=identicon&r=PG&f=1", "display_name": "Johann67", "link": "https://stackoverflow.com/users/3095612/johann67"}, "edited": false, "score": 2, "creation_date": 1566379524, "post_id": 57588460, "comment_id": 101634331, "body": "What&#39;s the error/exception in LogCat ?"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566379694, "post_id": 57588460, "comment_id": 101634441, "body": "Please post your database screenshot and poko for better understanding."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11955569"}, "edited": false, "score": 0, "creation_date": 1566381247, "post_id": 57588460, "comment_id": 101635440, "body": "08-21 09:49:28.578 4088-4088/com.example.rndm E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.rndm, PID: 4088     java.lang.ClassCastException: com.google.firebase.Timestamp cannot be cast to java.util.Date         at com.example.rndm.MainActivity$onCreate$2.onSuccess(MainActiv&zwnj;&#8203;ity.kt:44)         at com.example.rndm.MainActivity$onCreate$2.onSuccess(MainActiv&zwnj;&#8203;ity.kt:16)         at com.google.android.gms.tasks.zzn.run(Unknown Source)"}, {"owner": {"reputation": 377, "user_id": 3095612, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7f91a433e350751cc7c112e9d39f598?s=128&d=identicon&r=PG&f=1", "display_name": "Johann67", "link": "https://stackoverflow.com/users/3095612/johann67"}, "edited": false, "score": 2, "creation_date": 1566381291, "post_id": 57588460, "comment_id": 101635473, "body": "<code>val timestamp = data?.get(TIMESTAMP) as Date</code> This field is not a Date but a Timestamp"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566381340, "post_id": 57588460, "comment_id": 101635489, "body": "@TodorGeorgiev Please check updated answer it will help you in better way"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11955569"}, "edited": false, "score": 0, "creation_date": 1566381377, "post_id": 57588460, "comment_id": 101635505, "body": "im following a course from Alison  that uses Firebase. i have continued the class before but this error kept bugging me. It says that the Date cannot be cast but i have done exactly as the tutorial said"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11955569"}, "edited": false, "score": 0, "creation_date": 1566381610, "post_id": 57588460, "comment_id": 101635643, "body": "08-21 09:59:36.822 4199-4199/com.example.rndm E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.rndm, PID: 4199     java.lang.ClassCastException: com.google.firebase.Timestamp cannot be cast to java.sql.Timestamp         at com.example.rndm.MainActivity$onCreate$2.onSuccess(MainActiv&zwnj;&#8203;ity.kt:45)         at com.example.rndm.MainActivity$onCreate$2.onSuccess(MainActiv&zwnj;&#8203;ity.kt:17)"}], "answers": [{"comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566382570, "post_id": 57589262, "comment_id": 101636211, "body": "the similar way i tried and it says Unresolved Reference <code>USERNAME</code>"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1566382695, "post_id": 57589262, "comment_id": 101636286, "body": "@Ashish I&#39;m assuming the constants <code>USERNAME</code>, <code>TIMESTAMP</code>, etc. are already defined. The OP mentioned he has these variables defined."}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 1, "last_activity_date": 1566382190, "creation_date": 1566382190, "answer_id": 57589262, "question_id": 57588460, "link": "https://stackoverflow.com/questions/57588460/hashmap-is-null-so-i-cant-get-my-data-shown-in-the-emulator-from-firebase-databa/57589262#57589262", "title": "HashMap is null so i cant get my data shown in the emulator from Firebase database", "body": "<p>The <code>data?.get(TIMESTAMP)</code> call returns a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/Timestamp\" rel=\"nofollow noreferrer\">Firebase <code>Timestamp</code></a> object. So instead of casting it to <code>Date</code>, you should cast it to <code>com.google.firebase.Timestamp</code>:</p>\n\n<pre><code>// imports\nimport com.google.firebase.Timestamp\n\n...\n\n// rest of the code\nval timestamp = data?.get(TIMESTAMP) as? Timestamp\n</code></pre>\n\n<p>If you want to end up with a <code>Date</code> object, you can use the <code>Timestamp</code> method <code>toDate()</code>:</p>\n\n<pre><code>val date = timestamp?.toDate()\n</code></pre>\n\n<p>Also note that you should use a safe casting operator <code>as?</code> instead of <code>as</code> in this case:</p>\n\n<pre><code>val name = data?.get(USERNAME) as? String\nval timestamp = data?.get(TIMESTAMP) as? Timestamp\nval thoughtTxt = data?.get(THOUGHT_TXT) as? String\nval numLikes = data?.get(NUM_LIKES) as? Long\nval numComments = data?.get(NUM_COMMENTS) as? Long\n</code></pre>\n\n<p>The <code>data?.get(KEY)</code> may produce a <code>null</code> object, which can't be cast to any type and the operation will result in a crash.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11955569"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566382190, "creation_date": 1566379459, "last_edit_date": 1566381436, "question_id": 57588460, "link": "https://stackoverflow.com/questions/57588460/hashmap-is-null-so-i-cant-get-my-data-shown-in-the-emulator-from-firebase-databa", "title": "HashMap is null so i cant get my data shown in the emulator from Firebase database", "body": "<p><code>Android studio</code> showed a warning so with <code>ALT + ENTER</code> the code </p>\n\n<pre><code> val name = data[USERNAME] as String\n</code></pre>\n\n<p>became</p>\n\n<pre><code>val name = data?.get(USERNAME) as String\n</code></pre>\n\n<p>but my emulator is still crashing</p>\n\n<pre><code> thoughtsCollectionRef.get()\n.addOnSuccessListener { snapshot -&gt; \nfor(document in snapshot.documents){\nval data = document.data \n\n//this is my code after listening to android studio \n\nval name = data?.get(USERNAME) as String\nval timestamp = data?.get(TIMESTAMP) as Date\nval thoughtTxt = data?.get(THOUGHT_TXT) as String\nval numLikes = data?.get(NUM_LIKES) as Long\nval numComments = data?.get(NUM_COMMENTS) as Long\n val documentId = document.id\n</code></pre>\n\n<p>//I edited every other variable with the <code>safecall ?.get()</code> and its still crashing</p>\n\n<pre><code> val newThought = Thought(name,timestamp,thoughtTxt,numLikes.toInt(),numComments.toInt(),\n                    documentId)\n\n\nthoughts.add(newThought)\n}\n\n thoughtsAdapter.notifyDataSetChanged()\n</code></pre>\n"}, {"tags": ["kotlin", "gradle-kotlin-dsl", "spring-boot-gradle-plugin", "spring-initializr"], "comments": [{"owner": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "edited": false, "score": 0, "creation_date": 1566799547, "post_id": 57588050, "comment_id": 101755167, "body": "Have you tried turning it off an on again? That is, have you tried <code>Gradle\u00a0\u2192\u00a0Reimport\u00a0All\u00a0Gradle\u00a0Projects</code>, or perhaps <code>File\u00a0\u2192\u00a0Invalidate\u00a0Caches\u00a0&#47;\u00a0Restart...</code>?"}, {"owner": {"reputation": 1, "user_id": 9641010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5517a23080a6649137f15f1b3031bedf?s=128&d=identicon&r=PG&f=1", "display_name": "gelong", "link": "https://stackoverflow.com/users/9641010/gelong"}, "reply_to_user": {"reputation": 2268, "user_id": 3133286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8eb9502875ead75092230df8fdcf5dd7?s=128&d=identicon&r=PG", "display_name": "ordonezalex", "link": "https://stackoverflow.com/users/3133286/ordonezalex"}, "edited": false, "score": 0, "creation_date": 1567040192, "post_id": 57588050, "comment_id": 101846987, "body": "I have restarted it many times and tried what you said, but it didn&#39;t solve the problem."}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1567057172, "post_id": 57588050, "comment_id": 101850203, "body": "Check the Gradle wrapper version in both projects: <code>.&#47;gradlew -v</code> (or <code>gradlew.bat -v</code> on Windows). And also make sure that you IDE uses gradle wrapper instead of installation of Gradle."}], "owner": {"reputation": 1, "user_id": 9641010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5517a23080a6649137f15f1b3031bedf?s=128&d=identicon&r=PG&f=1", "display_name": "gelong", "link": "https://stackoverflow.com/users/9641010/gelong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571049690, "creation_date": 1566378117, "last_edit_date": 1571049690, "question_id": 57588050, "link": "https://stackoverflow.com/questions/57588050/what-are-the-requirements-for-gradle-kts-generated-by-spring-initializr", "title": "What are the requirements for gradle.kts generated by spring initializr?", "body": "<p>I modified the build.gradle file of the newly created gradle project named build.gradle.kts, and then copied the build.gradle.kts content of the demo project generated by spring initializr, and then build, this file reported a lot of errors, but spring initializr project can be built correctly.</p>\n\n<p>The two build.gradle.kts are exactly the same. What's wrong?</p>\n\n<p>This is the wrong screenshot <a href=\"https://s2.ax1x.com/2019/08/21/mNvASA.png\" rel=\"nofollow noreferrer\">https://s2.ax1x.com/2019/08/21/mNvASA.png</a></p>\n\n<p>This is the correct screenshot <a href=\"https://s2.ax1x.com/2019/08/21/mNvEQI.png\" rel=\"nofollow noreferrer\">https://s2.ax1x.com/2019/08/21/mNvEQI.png</a> </p>\n\n<p>This is the content</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.springframework.boot\") version \"2.1.7.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.8.RELEASE\"\n    kotlin(\"jvm\") version \"1.2.71\"\n    kotlin(\"plugin.spring\") version \"1.2.71\"\n}\n\ngroup = \"com.example\"\nversion = \"0.0.1-SNAPSHOT\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    api(\"org.springframework.boot:spring-boot-starter\")\n    api(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "androidx"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1566377638, "post_id": 57587878, "comment_id": 101633208, "body": "Why not just use <code>fab.setOnClickListener{}</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1566377774, "post_id": 57587878, "comment_id": 101633290, "body": "Then how I can pass <code>this</code>..?"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1566377922, "post_id": 57587878, "comment_id": 101633378, "body": "its same , You just need to implement the <code>onClickListener</code> for activity"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1566377940, "post_id": 57587878, "comment_id": 101633390, "body": "You don&#39;t need to pass <code>this</code>. Just write code logic inside <code>{}</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1566377972, "post_id": 57587878, "comment_id": 101633408, "body": "ok I will apply this and then let you know"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1566377987, "post_id": 57587878, "comment_id": 101633418, "body": "also its <code>AppCompatActivity()</code> not <code>appCompatActivity()</code>"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1566377993, "post_id": 57587878, "comment_id": 101633426, "body": "if you want to use <code>fab.setonclicklistener(this)</code> then you need your activity to implement the interface <code>View.OnClickListener</code>. If you don&#39;t want to implement the interface, then just pass in a lambda with the onclick logic <code>fab.setonclicklistener { &#47;&#47;logic }</code>"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1566378322, "post_id": 57587878, "comment_id": 101633614, "body": "I agree with you @JohnJoe, the <code>fab.setOnClickListener{}</code> approach is probably better"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1566378362, "post_id": 57587878, "comment_id": 101633631, "body": "I only saw your comment now @ManoharReddy, but yes, the <code>onClickListener</code> implementation is how you&#39;d achieve the same thing"}], "answers": [{"tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 1, "last_activity_date": 1566378587, "last_edit_date": 1566378587, "creation_date": 1566378224, "answer_id": 57588076, "question_id": 57587878, "link": "https://stackoverflow.com/questions/57587878/how-to-convert-fab-setonclicklistenerthis-into-kotlin/57588076#57588076", "title": "How to convert fab.setOnclickListener(this) into kotlin.?", "body": "<p>What @John Joe is trying to say is that you can just use:</p>\n\n<pre><code>fab?.setOnClickListener { \n            //implement logic\n        }\n</code></pre>\n\n<p>There's no need to be passing in <code>this</code> because <code>this</code> refers to the handler of the <code>setOnClickListener</code> method</p>\n\n<p>so, you could also have it :</p>\n\n<pre><code>MainActivity: AppCompatActivity(),  View.OnClickListener{\n override fun onClick(p0: View?) {\n   //handle logic for fab here    \n    }\n}\n</code></pre>\n\n<p>Which would then allow you to simply use:</p>\n\n<pre><code>fab?.setOnClickListener(this)\n</code></pre>\n\n<p>But, the first solution is way simpler. </p>\n\n<hr>\n\n<p>Side note, because Kotlin has synthetic imports, you probably do not have to use <code>fab = findViewById(R.id.fab)</code> : <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57588076, "answer_count": 1, "score": -1, "last_activity_date": 1566378587, "creation_date": 1566377546, "question_id": 57587878, "link": "https://stackoverflow.com/questions/57587878/how-to-convert-fab-setonclicklistenerthis-into-kotlin", "title": "How to convert fab.setOnclickListener(this) into kotlin.?", "body": "<p>I am writing code in kotlin.I want to know how to convert <code>fab.setOnclickListener(this)</code> into kotlin language.?</p>\n\n<pre><code>class MainActivity: appCompatActivity(){\n   private var fab: FloatingActionButton? = null\n   override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n        fab = findViewById(R.id.fab)\n     fab.setOnClickListener(this)\n}\n</code></pre>\n\n<p><strong>Expected</strong></p>\n\n<p>Convert into kotlin</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "is_accepted": false, "score": 0, "last_activity_date": 1566464906, "last_edit_date": 1566464906, "creation_date": 1566464564, "answer_id": 57605689, "question_id": 57587872, "link": "https://stackoverflow.com/questions/57587872/unit-testing-cover-catch-block-in-rxjava-observable-response/57605689#57605689", "title": "Unit testing cover catch block in RxJava Observable response", "body": "<p>Your test code is making the original code throw an exception when <code>mApi.add()</code> is called.</p>\n\n<p>What you want is to emit an error when the result of <code>mApi.add()</code> is subscribed to. </p>\n\n<p>Your test code should be:</p>\n\n<pre><code>    val exception = Throwable()\n    val observableError = Observable.error(exception)\n    Mockito.doReturn(observableError).`when`(\n        mApi.add()\n      )\n    )\n\n    val testObserver = mApi.add().test()\n\n    testObserver\n        .assertNotComplete()\n        .assertError(exception)    \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11934736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46acda71b036395298dac0e26baeb513?s=128&d=identicon&r=PG&f=1", "display_name": "VishX", "link": "https://stackoverflow.com/users/11934736/vishx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566464906, "creation_date": 1566377529, "last_edit_date": 1566464758, "question_id": 57587872, "link": "https://stackoverflow.com/questions/57587872/unit-testing-cover-catch-block-in-rxjava-observable-response", "title": "Unit testing cover catch block in RxJava Observable response", "body": "<p>I have a try-catch block in the onError part of the subscriber of RxJava as shown. </p>\n\n<pre><code>    fun requestAutocomplete() {\n        mApi.add().subscribeOn(\n            Schedulers.io()\n          ).observeOn(\n            AndroidSchedulers.mainThread()\n          ).subscribe({\n            it?.let {\n              //do something\n            }\n          }, {\n            try {\n             //do something\n            } catch (ex: Exception) {\n              view.doThis(ex)\n            }\n          })\n        )\n      }\n</code></pre>\n\n<p>I want to cover the catch block to increase my code coverage. I can not remove it from actual code which was written a long time back. </p>\n\n<p>This is what I tried but with no success: </p>\n\n<pre><code>    @Test fun handleExceptionRequestAutoComplete() {\n        Mockito.doAnswer({throwException()}).`when`(\n            mApi.add()\n          )\n        )\n        presenter.requestAutocomplete()\n        Mockito.verify(view).doThis(throwException())\n      }\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "jjwt"], "comments": [{"owner": {"reputation": 16114, "user_id": 407170, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bbe6060ecf2908092f4ee44dba9dced9?s=128&d=identicon&r=PG", "display_name": "Les Hazlewood", "link": "https://stackoverflow.com/users/407170/les-hazlewood"}, "edited": false, "score": 0, "creation_date": 1566507891, "post_id": 57586942, "comment_id": 101688923, "body": "JJWT 0.10.7&#39;s Keys.java line 69 is just a standard (non-reflective) Java method call: <a href=\"https://github.com/jwtk/jjwt/blob/0.10.7/api/src/main/java/io/jsonwebtoken/security/Keys.java\" rel=\"nofollow noreferrer\">github.com/jwtk/jjwt/blob/0.10.7/api/src/main/java/io/&hellip;</a>. I&#39;ve no idea why Kotlin would have a problem with it - I wish I knew myself :/"}, {"owner": {"reputation": 16114, "user_id": 407170, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bbe6060ecf2908092f4ee44dba9dced9?s=128&d=identicon&r=PG", "display_name": "Les Hazlewood", "link": "https://stackoverflow.com/users/407170/les-hazlewood"}, "edited": false, "score": 0, "creation_date": 1570201611, "post_id": 57586942, "comment_id": 102850555, "body": "were you able to resolve this? Any luck?"}, {"owner": {"reputation": 340, "user_id": 6067158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4xUeR.jpg?s=128&g=1", "display_name": "Aarkon", "link": "https://stackoverflow.com/users/6067158/aarkon"}, "reply_to_user": {"reputation": 16114, "user_id": 407170, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bbe6060ecf2908092f4ee44dba9dced9?s=128&d=identicon&r=PG", "display_name": "Les Hazlewood", "link": "https://stackoverflow.com/users/407170/les-hazlewood"}, "edited": false, "score": 0, "creation_date": 1570282386, "post_id": 57586942, "comment_id": 102868259, "body": "Unfortunately, no. :/"}, {"owner": {"reputation": 16114, "user_id": 407170, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bbe6060ecf2908092f4ee44dba9dced9?s=128&d=identicon&r=PG", "display_name": "Les Hazlewood", "link": "https://stackoverflow.com/users/407170/les-hazlewood"}, "edited": false, "score": 0, "creation_date": 1570296393, "post_id": 57586942, "comment_id": 102871748, "body": "I wonder what it could be - it&#39;s a normal Java call, no reflection.  :/"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 9496342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eJYlr.jpg?s=128&g=1", "display_name": "Kris-Gerhard Aabrams", "link": "https://stackoverflow.com/users/9496342/kris-gerhard-aabrams"}, "is_accepted": false, "score": 2, "last_activity_date": 1596202955, "last_edit_date": 1596202955, "creation_date": 1596202551, "answer_id": 63192909, "question_id": 57586942, "link": "https://stackoverflow.com/questions/57586942/nomethoderror-when-calling-jjwt-from-kotlin/63192909#63192909", "title": "NoMethodError when calling JJWT from Kotlin", "body": "<p>I stumbled upon the same issue. The reason for this is most probably a dependency conflict. Check if you have any other dependency using jjwt. For us it was <code>com.twilio.sdk</code>.</p>\n<p>You can do it using</p>\n<pre><code>mvn dependency:tree -Dverbose\n</code></pre>\n<p>After you've identified the conflicting dependency you can either match your jjwt version or exclude it from the dependency.</p>\n"}], "owner": {"reputation": 340, "user_id": 6067158, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4xUeR.jpg?s=128&g=1", "display_name": "Aarkon", "link": "https://stackoverflow.com/users/6067158/aarkon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596202955, "creation_date": 1566374180, "last_edit_date": 1566382410, "question_id": 57586942, "link": "https://stackoverflow.com/questions/57586942/nomethoderror-when-calling-jjwt-from-kotlin", "title": "NoMethodError when calling JJWT from Kotlin", "body": "<p>I'm working on a small Spring Boot application in Kotlin and now I want to secure it using JJWT. Roughly speaking, I am translating this tutorial to my use case: <a href=\"https://jakublesko.com/spring-security-with-jwt/\" rel=\"nofollow noreferrer\">https://jakublesko.com/spring-security-with-jwt/</a></p>\n\n<p>In the project I have this AuthenticationFilter:</p>\n\n<pre><code>class JwtAuthenticationFilter(val authManager: AuthenticationManager) : UsernamePasswordAuthenticationFilter() {\n\n    // other stuff omitted for brevity\n\n    override fun successfulAuthentication(request: HttpServletRequest?, response: HttpServletResponse?, chain: FilterChain?, authResult: Authentication?) {\n        val user = authResult?.principal as User\n\n        val roles = user.authorities\n                .stream()\n                .map(GrantedAuthority::getAuthority)\n\n        val signingKey = JWT_SECRET.toByteArray()\n\n        val token = Jwts.builder()\n                .signWith(SignatureAlgorithm.HS512, Keys.hmacShaKeyFor(signingKey))\n                .setHeaderParam(\"typ\", TOKEN_TYPE) // validate that \"typ\" does not actually mean \"type\"\n                .setIssuer(TOKEN_ISSUER)\n                .setAudience(TOKEN_AUDIENCE)\n                .setSubject(user.username)\n                .setExpiration(Date(System.currentTimeMillis() + 864000000))\n                .claim(\"rol\", roles)\n                .compact()\n\n        response?.addHeader(TOKEN_HEADER, TOKEN_PREFIX + token)\n    }\n}\n</code></pre>\n\n<p>When I post to the authentication URL that is supposed to issue a token though, I receive:</p>\n\n<p><code>java.lang.NoSuchMethodError: io.jsonwebtoken.SignatureAlgorithm.getMinKeyLength()I\n    at io.jsonwebtoken.security.Keys.hmacShaKeyFor(Keys.java:69) ~[jjwt-api-0.10.7.jar:na]</code></p>\n\n<p>I can debug into the <code>successfulAuthentication</code> method and see that it is called with reasonable parameters. What catches my eye is the \"I\" after the parenthesis at the end of the <code>getMinKeyLength()I</code>. My googling skills apparently do not suffice to find a reason why it is there, but I strongly suspect it is related to reflection &amp; calling Java libs from Kotlin code.</p>\n\n<p>Is anyone around who can tell me how to fix this? I have run out of guesses.</p>\n"}, {"tags": ["android", "generics", "kotlin", "moshi", "kotlin-reified-type-parameters"], "comments": [{"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1566824193, "post_id": 57586709, "comment_id": 101766179, "body": "What is the actual code that causes the crash? Could you please add it?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1566827012, "post_id": 57586709, "comment_id": 101767675, "body": "It&#39;s an issue in <code>adapter&lt;GenericType&lt;String&gt;&gt;()</code> with a basic <i>Moshi</i> configuration with  <code>@JsonClass(generateAdapter = true)</code> and <i>Kotlin</i> codegen."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 4, "last_activity_date": 1567268927, "creation_date": 1567268927, "answer_id": 57739794, "question_id": 57586709, "link": "https://stackoverflow.com/questions/57586709/get-parameterizedtype-from-reified-generic-type-for-moshi-type-adapter/57739794#57739794", "title": "Get ParameterizedType from reified generic type for Moshi type adapter", "body": "<p>I'm achieving my goal for now with a custom <code>TypeToken</code> approach similar to <em>Gson</em></p>\n\n<pre><code>abstract class TypeToken&lt;T&gt;\n\ninline fun &lt;reified T : Any&gt; type() = object : TypeToken&lt;T&gt;() {}::class\n      .java\n      .genericSuperclass\n      .let { it as ParameterizedType }\n      .actualTypeArguments\n      .first()\n</code></pre>\n\n<p>But I'm still hoping to find an approach to get the the <code>ParameterizedType</code> from <code>T</code> directly.</p>\n"}], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 2, "answer_count": 1, "score": 7, "last_activity_date": 1606749949, "creation_date": 1566373192, "last_edit_date": 1566827183, "question_id": 57586709, "link": "https://stackoverflow.com/questions/57586709/get-parameterizedtype-from-reified-generic-type-for-moshi-type-adapter", "title": "Get ParameterizedType from reified generic type for Moshi type adapter", "body": "<p>The given assertion will fail due to the error</p>\n\n<blockquote>\n  <p>Failed to find the generated JsonAdapter constructor for class GenericType</p>\n</blockquote>\n\n<p>How do I get the proper type from the reified type <code>T</code> for <code>Moshi</code>?</p>\n\n<p>The <code>GenericType</code> type is annotated with <code>@JsonClass(generateAdapter = true)</code> using the <em>Kotlin</em> codegen for <em>Moshi</em> using only <code>Moshi.Builder().build()</code>.</p>\n\n<p>I could generate <code>ParameterizedType</code> manually with</p>\n\n<pre><code>Types.newParameterizedType(GenericType::class.java, String::class.java)\n</code></pre>\n\n<p>where <code>GenericType::class.java</code> is given with <code>T:class.java</code>. But I don\u2019t know how to get the <code>String</code> type parameter to generify the approach.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; adapter() =\n    moshi.adapter&lt;T&gt;(type&lt;T&gt;())\n\ninline fun &lt;reified T : Any&gt; type() =\n    T::class.java\n\nassert(adapter&lt;GenericType&lt;String&gt;&gt;() != null)\n</code></pre>\n\n<p><strong>Note</strong> that the adapter is available for any <code>GenericType&lt;T&gt;</code>, just not for the actual class <code>GenericType::class.java</code> without generic information.</p>\n\n<p>So the following <code>genericType</code> would find an adapter as long as I know about <code>G</code>:</p>\n\n<pre><code>inline fun &lt;reified G : Any&gt; genericType() =\n    newParameterizedType(GenericType::class.java, G::class.java)\n</code></pre>\n\n<p>This <code>G</code> is what I'm looking to find in <code>type()</code>, as <code>T::class.java\n</code> is just <code>GenericType::class.java</code> there.</p>\n"}, {"tags": ["android", "kotlin", "java-native-interface", "bintray"], "comments": [{"owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1566372742, "post_id": 57586352, "comment_id": 101630879, "body": "Why would the Java/Jni/Android approach not work for Kotlin/Jni/Android? What difficulties did you encounter with those approaches?"}, {"owner": {"reputation": 159, "user_id": 7449777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QV4Lo.jpg?s=128&g=1", "display_name": "barsoosayque", "link": "https://stackoverflow.com/users/7449777/barsoosayque"}, "reply_to_user": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "edited": false, "score": 0, "creation_date": 1566373643, "post_id": 57586352, "comment_id": 101631330, "body": "@Botje I believe they were outdated or just didn&#39;t work in my case -- I had some Gradle undefined stuff errors (sorry, I can&#39;t really recall them). However, in this question, I want to find out <i>is</i> there any differences between Kotlin and Java in such a task."}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 7449777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QV4Lo.jpg?s=128&g=1", "display_name": "barsoosayque", "link": "https://stackoverflow.com/users/7449777/barsoosayque"}, "edited": false, "score": 0, "creation_date": 1566445587, "post_id": 57590157, "comment_id": 101660247, "body": "Can you please elaborate on this more ? What kind of gradle commands I should write in my <i>build.gradle</i> to automate this ? (Example doesn&#39;t seem to be an android project)"}, {"owner": {"reputation": 9545, "user_id": 5295429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XcJZr.png?s=128&g=1", "display_name": "Oo.oO", "link": "https://stackoverflow.com/users/5295429/oo-oo"}, "reply_to_user": {"reputation": 159, "user_id": 7449777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QV4Lo.jpg?s=128&g=1", "display_name": "barsoosayque", "link": "https://stackoverflow.com/users/7449777/barsoosayque"}, "edited": false, "score": 0, "creation_date": 1566454323, "post_id": 57590157, "comment_id": 101662391, "body": "I am not <code>gradle</code> expert :( For my samples I use <code>make</code> and explicit commands that are available in <code>JDK</code>. I suspect, for <code>gradle</code> you need to somehow mark <code>jar</code> as part of the process of <code>JAR</code> creation."}], "tags": [], "owner": {"reputation": 9545, "user_id": 5295429, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XcJZr.png?s=128&g=1", "display_name": "Oo.oO", "link": "https://stackoverflow.com/users/5295429/oo-oo"}, "is_accepted": false, "score": 0, "last_activity_date": 1582233837, "last_edit_date": 1582233837, "creation_date": 1566385309, "answer_id": 57590157, "question_id": 57586352, "link": "https://stackoverflow.com/questions/57586352/how-to-publish-kotlin-jni-android-library-to-bintray/57590157#57590157", "title": "How to publish Kotlin + JNI android library to Bintray?", "body": "<p>If you want to package <code>.so</code> with your application, note that you can always put it inside <code>JAR</code> file. Then, you can unpack it, and load it using <code>System.load</code>.</p>\n\n<p>You can find sample here: <a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo031\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo031</a></p>\n\n<p><strong>Note</strong></p>\n\n<p>Remember that packaging <code>.so</code> inside application is a risky thing. As you deal with native code, you have to be 100% sure that all native dependencies are there. You have to pay attention to architecture as well.</p>\n"}], "owner": {"reputation": 159, "user_id": 7449777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QV4Lo.jpg?s=128&g=1", "display_name": "barsoosayque", "link": "https://stackoverflow.com/users/7449777/barsoosayque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582233837, "creation_date": 1566371742, "question_id": 57586352, "link": "https://stackoverflow.com/questions/57586352/how-to-publish-kotlin-jni-android-library-to-bintray", "title": "How to publish Kotlin + JNI android library to Bintray?", "body": "<p>I've been developing a library to use in my project, and while it is working locally, I would like to share it and use it as an external dependency.</p>\n\n<p>How do I wrap my library so that built AAR contains both <em>*.so</em> native library and generated <em>*.java</em> classes (generated by Kotlin compiler) ? Because there are two-way interactions in my library: Kotlin external functions defined in C++, and some C++ code calling Kotlin classes and methods.</p>\n\n<p>So, my questions are:</p>\n\n<ul>\n<li>How to correctly package Kotlin + JNI android library ?</li>\n<li>How to upload said package to Bintray so users (and myself) could use it as a dependency ?</li>\n</ul>\n\n<p><em>(Note: I've seen tutorials and examples, but they were either Kotlin/Android or Java/Jni/Android)</em> </p>\n"}, {"tags": ["android", "kotlin", "calendarview"], "owner": {"reputation": 821, "user_id": 2638180, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bfe1adb4c7f213e282650e668c81c203?s=128&d=identicon&r=PG", "display_name": "user2638180", "link": "https://stackoverflow.com/users/2638180/user2638180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566372997, "creation_date": 1566371092, "last_edit_date": 1566372997, "question_id": 57586190, "link": "https://stackoverflow.com/questions/57586190/unselect-a-selected-date-in-calendarview-in-kotlin", "title": "Unselect a selected date in CalendarView in Kotlin", "body": "<p>Some of the shown dates in my calendar view shouldn't be selected. If some of them are pressed I show an AlertDialog that explains the reason why it cannot be selected.</p>\n\n<p>I want to achieve that, apart from that alertDialog showing, the selected Date that has caused it to open automatically unselects.</p>\n\n<p>In kotlin pseudocode, it would be something like this for my app.</p>\n\n<pre><code>calendar_view.onDateClickListener = { date -&gt;\n[...]\n[Condition that shows AlertDialog with showDialog()];calendar_view.getLastSelectedDate().unSelect()\n[...]\nfun showDialog()\n</code></pre>\n\n<p>The functions I've declared to try to get the last selected day from calendar_view are made up, it's just so it's clear what my intention is.</p>\n"}, {"tags": ["docker", "kotlin", "openshift", "grafana", "prometheus"], "comments": [{"owner": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566371800, "post_id": 57586107, "comment_id": 101630450, "body": "did you see any error logs in Kotlin? did the server correctly listining to 8080 ? is the path under root is accessible from Kotlin ?"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566372128, "post_id": 57586107, "comment_id": 101630596, "body": "@LinPy Yeah, path is accessible from Kotlin because when I package my code, everything which I want to copy on OpenShift pod gets copied. I am not sure about port because I don&#39;t know what should I put as port because everything is running on openshift cluster. Maybe i need to put url so that i can get metrics. But I am not sure.."}, {"owner": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566372358, "post_id": 57586107, "comment_id": 101630697, "body": "for sure the port should be accessible to work"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566372435, "post_id": 57586107, "comment_id": 101630735, "body": "@LinPy I dont understand.. :-("}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566373028, "post_id": 57586107, "comment_id": 101631010, "body": "@LinPy do i need to add some maven dependencies for prometheus?"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1566376558, "post_id": 57586107, "comment_id": 101632654, "body": "@misiek do you have any idea about it?"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 12305, "user_id": 8192635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcaf44c9ff9eeeb51fc78c816891d75a?s=128&d=identicon&r=PG&f=1", "display_name": "LinPy", "link": "https://stackoverflow.com/users/8192635/linpy"}, "edited": false, "score": 0, "creation_date": 1568028255, "post_id": 57586107, "comment_id": 102132288, "body": "@LinPy..You were right. I gave incorrect path. I changed it and now I can scrape metrics from my application&#39;s pod on OpenShift but not from promethus UI.."}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "is_accepted": false, "score": 0, "last_activity_date": 1568098676, "creation_date": 1568098676, "answer_id": 57865524, "question_id": 57586107, "link": "https://stackoverflow.com/questions/57586107/expose-metrics-for-kotlin-using-jmx-exporter-to-prometheus/57865524#57865524", "title": "Expose metrics for Kotlin using JMX_Exporter to prometheus", "body": "<p>After trying many things, I came to know that I needed to expose the port of my application's container in order to let Prometheus or other deployments to know. After exposing the port, I could see my application under targets on Prometheus and I could scrape all JMX and JVM metrics. Hope this would help someone in future...</p>\n"}], "owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568098676, "creation_date": 1566370780, "last_edit_date": 1568028157, "question_id": 57586107, "link": "https://stackoverflow.com/questions/57586107/expose-metrics-for-kotlin-using-jmx-exporter-to-prometheus", "title": "Expose metrics for Kotlin using JMX_Exporter to prometheus", "body": "<p>I am trying to use JMX_Exporter for my kotlin code to expose metrics to prometheus in order to show it in Grafana. I have gone through many articles and tried to understand how could it be done. I have found below two links useful and trying to achieve using those.</p>\n\n<ol>\n<li><a href=\"https://github.com/prometheus/jmx_exporter\" rel=\"nofollow noreferrer\">https://github.com/prometheus/jmx_exporter</a></li>\n<li><a href=\"https://www.openlogic.com/blog/monitoring-java-applications-prometheus-and-grafana-part-1\" rel=\"nofollow noreferrer\">https://www.openlogic.com/blog/monitoring-java-applications-prometheus-and-grafana-part-1</a></li>\n</ol>\n\n<p>What i did so far is, created a folder 'prometheus-jmx' in root directory and added mentioned JAR and config.yml file in that folder. Then, i added below parameter to my dockerfile.</p>\n\n<pre><code>CMD java -Xms128m -Xmx256m -javaagent:./jmx_prometheus_javaagent-0.12.0.jar=8080:./config.yml -Dconfig.file=config/routing.conf -cp jagathe-jar-with- \n    dependencies.jar:./* com.bmw.otd.agathe.AppKt\n</code></pre>\n\n<p>My prometheus is running in my OpenShift cluster along with my application. I could scrape metrics for my other applications/deployments like Jenkins, SonarQube etc without any modifications in deployment.yml of Prometheus.</p>\n\n<p>My application is running properly now on OpenShift and from application's pod, I can scrape metrics by using below command.</p>\n\n<pre><code>curl http://localhost:portNumber\n</code></pre>\n\n<p>But on promethus UI, I cant see any JVM or JMX related metric.</p>\n\n<p>Can someone please tell me where and what am i doing wrong? Any kind of help would be appreciated.</p>\n"}, {"tags": ["android", "function", "kotlin", "viewmodel"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566367577, "post_id": 57585314, "comment_id": 101628689, "body": "Maybe <code>activity</code> is null? At which point of the fragment lifecycle are calling this? Maybe <code>it</code> is null?"}, {"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1566367660, "post_id": 57585314, "comment_id": 101628716, "body": "@Fred I don&#39;t get what you are trying to say. Can you explain further? Sorry, but I really do not understand what you are trying to tell me. Thank you for helping me :) Also, would you like me to add my activity&#39;s code?"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566368268, "post_id": 57585314, "comment_id": 101628949, "body": "i updated with some other changes you could potentially make"}, {"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566368307, "post_id": 57585314, "comment_id": 101628963, "body": "@a_local_nobody Thanks I am still trying it out."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566368330, "post_id": 57585314, "comment_id": 101628973, "body": "feel free to comment on my answer if you need more help"}, {"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1566368345, "post_id": 57585314, "comment_id": 101628979, "body": "@a_local_nobody Ok. Thanks. It works"}], "answers": [{"comments": [{"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1566377127, "post_id": 57585423, "comment_id": 101632944, "body": "I want to add data to the arraylist via viewmodel. How would I do that? I tried the Testlist.add(var) method. Then, I tried to fetch the array then use toast to display the text which is Testlist[0] but it makes the app crash. How would I solve this? Thanks"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1566377875, "post_id": 57585423, "comment_id": 101633356, "body": "a quick fix for that is: <code>Testlist.value = someArrayList</code> @TechMaxed"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1566378755, "post_id": 57585423, "comment_id": 101633873, "body": "<code>val example = arrayListOf&lt;String&gt;(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;)         testlist.value = example</code> This works for me @TechMaxed"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1566379777, "post_id": 57585423, "comment_id": 101634494, "body": "no, remember, a MutableLiveData&lt;anything&gt; is a wrapper for <code>anything</code> so you are trying to do : <code>string&quot; = array of string</code>"}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 2, "last_activity_date": 1566368210, "last_edit_date": 1566368210, "creation_date": 1566367882, "answer_id": 57585423, "question_id": 57585314, "link": "https://stackoverflow.com/questions/57585314/function-not-getting-called-kotlin/57585423#57585423", "title": "Function not getting called Kotlin", "body": "<pre><code>viewmodel.Testlist?.observe(viewLifecycleOwner, Observer {\n        it?.let {\n            Toast.makeText(context, \"inside works\", Toast.LENGTH_LONG).show()\n        }\n    })\n</code></pre>\n\n<p>This won't work because your <code>Testlist</code> is null (you defined it as being null here):</p>\n\n<pre><code>val Testlist: MutableLiveData&lt;ArrayList&lt;String&gt;&gt;? = null\n</code></pre>\n\n<p>remember that kotlin has nullability (?), which means that the inside of your function :</p>\n\n<pre><code>it?.let { Toast.makeText(context, \"inside works\", Toast.LENGTH_LONG).show()\n        }\n</code></pre>\n\n<p>never runs , because <code>viewmodel.Testlist?</code> is evaluated as null and then does nothing further. </p>\n\n<p>One change you could do, is to implement it like this :</p>\n\n<pre><code>val Testlist: MutableLiveData&lt;ArrayList&lt;String&gt;&gt; = MutableLiveData() \n</code></pre>\n\n<p>now, your mutable data will not be null</p>\n\n<p>in your viewmodel, you can then do an <code>init</code> block :</p>\n\n<pre><code> init {\n        Testlist.value = arrayListOf()\n    }\n</code></pre>\n\n<p>which will assign an empty array to the value of your mutable live data in the viewmodel</p>\n"}], "owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 57585423, "answer_count": 1, "score": 1, "last_activity_date": 1566368210, "creation_date": 1566367267, "question_id": 57585314, "link": "https://stackoverflow.com/questions/57585314/function-not-getting-called-kotlin", "title": "Function not getting called Kotlin", "body": "<p>how would I be able to solve this problem? The function below won\u2019t run. I couldn\u2019t see the toast message. I am trying to implement a viewmodel.</p>\n\n<p>This is the onCreateView of my fragment:</p>\n\n<pre><code>activity?.let {\n    val viewmodel = ViewModelProviders.of(this).get(Testviewmodel::class.java)\n    observeInput(viewmodel)\n}\n</code></pre>\n\n<p>This is the one outside onCreateView I am trying to execute:</p>\n\n<pre><code>private fun observeInput(viewmodel: Testviewmodel) {\n    viewmodel.Testlist?.observe(viewLifecycleOwner, Observer {\n        it?.let {\n            Toast.makeText(context, \"inside works\", Toast.LENGTH_LONG).show()\n        }\n    })\n}\n</code></pre>\n\n<p>Here is the Viewmodel:</p>\n\n<pre><code>class Testviewmodel: ViewModel() {\n    val Testlist: MutableLiveData&lt;ArrayList&lt;String&gt;&gt;? = null\n}\n</code></pre>\n"}, {"tags": ["android", "button", "kotlin", "navigation-drawer"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1566380485, "post_id": 57584801, "comment_id": 101634979, "body": "I want to add button in my drawer navigation header bar, not textview. Can u show me how to embedded your code in my scenario? thx"}], "tags": [], "owner": {"reputation": 191, "user_id": 11951874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98cc25669b776e913b9ab1f5e659a261?s=128&d=identicon&r=PG&f=1", "display_name": "Raju Tukadiya", "link": "https://stackoverflow.com/users/11951874/raju-tukadiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1566381921, "last_edit_date": 1566381921, "creation_date": 1566364361, "answer_id": 57584801, "question_id": 57583609, "link": "https://stackoverflow.com/questions/57583609/drawer-navigation-header-button-does-not-work-after-click/57584801#57584801", "title": "Drawer navigation header button does not work after click", "body": "<p>please try this code navigation view. we must be taken to getHeaderView. </p>\n\n<pre><code>NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\nView headerview = navigationView.getHeaderView(0);\nButton profilename = (Button ) headerview.findViewById(R.id.prof_username);\nprofilename.setText(\"your name\")\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 57584801, "answer_count": 1, "score": 1, "last_activity_date": 1566381921, "creation_date": 1566353780, "question_id": 57583609, "link": "https://stackoverflow.com/questions/57583609/drawer-navigation-header-button-does-not-work-after-click", "title": "Drawer navigation header button does not work after click", "body": "<p>I create a login button in navigation header bar. I can see the button but no respond when click on it.</p>\n\n<p>I tried to add button click event in MainActivity > OnCreate() but it does not work. </p>\n\n<p><a href=\"https://i.stack.imgur.com/uCUID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCUID.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       setContentView(R.layout.activity_main)\n\n       //FragNav\n       //list of fragments\n       val fragments = ArrayList&lt;Fragment&gt;(3)\n\n       //add fragments to list\n       fragments.add(BottomHome.newInstance(0))\n       fragments.add(BottomMap.newInstance(0))\n       fragments.add(BottomCategory.newInstance(0))\n\n       //link fragments to container\n       fragNavController = FragNavController(supportFragmentManager, R.id.container, fragments)\n       //End of FragNav\n\n       //BottomBar menu\n       mBottomBar = BottomBar.attach(this, savedInstanceState)\n       mBottomBar!!.setItems(R.menu.bottombar_menu)\n       mBottomBar!!.setOnMenuTabClickListener(object : OnMenuTabClickListener {\n           override fun onMenuTabSelected(@IdRes menuItemId: Int) {\n               //switch between tabs\n               when (menuItemId) {\n                   R.id.bottomBarItemOne -&gt; fragNavController!!.switchTab(TAB_FIRST)\n                   R.id.bottomBarItemSecond -&gt; fragNavController!!.switchTab(TAB_SECOND)\n                   R.id.bottomBarItemThird -&gt; fragNavController!!.switchTab(TAB_THIRD)\n               }\n           }\n\n           override fun onMenuTabReSelected(@IdRes menuItemId: Int) {\n               if (menuItemId == R.id.bottomBarItemOne) {\n                   fragNavController!!.clearStack()\n               }\n           }\n       })\n       //End of BottomBar menu\n\n       //Navigation drawer\n       DrawerBuilder().withActivity(this).build()\n\n\n\n       //primary items\n       val menuHome = PrimaryDrawerItem()\n               .withIdentifier(1)\n               .withName(R.string.menu_home)\n               .withIcon(R.drawable.menu_home)\n\n       val menuEvent = PrimaryDrawerItem()\n               .withIdentifier(3)\n               .withName(R.string.menu_event)\n               .withIcon(R.drawable.menu_event)\n\n\n\n       //Toolbar\n       val toolbar = findViewById&lt;View&gt;(R.id.toolbar) as Toolbar\n       setSupportActionBar(toolbar)\n       supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n       supportActionBar!!.setHomeButtonEnabled(false)\n\n       DrawerBuilder()\n               .withActivity(this)\n               .withHeader(R.layout.nav_header_main)\n               .withToolbar(toolbar)\n               .withActionBarDrawerToggleAnimated(true)\n               .withTranslucentStatusBar(false)\n               .withFullscreen(true)\n               .withSavedInstance(savedInstanceState)\n               .addDrawerItems(\n                       menuHome,\n                       menuEvent,\n\n                       DividerDrawerItem()\n\n\n               )\n               .withOnDrawerItemClickListener { view, position, drawerItem -&gt;\n                   if (drawerItem != null) {\n                       var intent: Intent? = null\n                       if (drawerItem.identifier == 1L) {\n                           intent = Intent(this@MainActivity, MainActivity::class.java)\n\n                       } else if (drawerItem.identifier == 2L) {\n                           intent = Intent(this@MainActivity, LeftMenuMerchant::class.java)\n                       } \n                       if (intent != null) {\n                           this@MainActivity.startActivity(intent)\n                       }\n\n                       val btnLogin = findViewById&lt;Button&gt;(R.id.btnLogin)\n                       btnLogin?.setOnClickListener {\n                           var intent = Intent(this, LoginPage::class.java)\n                           startActivity(intent)\n\n                       }\n                   }\n\n                   false\n               }\n               .build()\n       //End of Navigation drawer\n\n   }\n</code></pre>\n\n<p>How can I call login button event in OnCreate() so that it will link to login page after click on Login button?</p>\n\n<p>Please help. Thank you</p>\n"}, {"tags": ["android", "animation", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "edited": false, "score": 0, "creation_date": 1592454609, "post_id": 57583526, "comment_id": 110432539, "body": "Make sure you have set <code>transitionDrawable.isCrossFadeEnabled=true</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "is_accepted": false, "score": 0, "last_activity_date": 1592462456, "last_edit_date": 1592462456, "creation_date": 1592455758, "answer_id": 62442576, "question_id": 57583526, "link": "https://stackoverflow.com/questions/57583526/animate-change-of-floatingactionbutton-image-on-android/62442576#62442576", "title": "Animate change of FloatingActionButton image on Android", "body": "<blockquote>\n  <p>Not a wrong icon, It' a combination of the icons, One overlays another\n  during the transition. You could try the following -</p>\n</blockquote>\n\n<pre><code>val transitionDrawable = fabMain.drawable as TransitionDrawable\ntransitionDrawable.isCrossFadeEnabled = true\ntransitionDrawable.apply { if (isFabOpen) reverseTransition(200) else startTransition(0) }\n</code></pre>\n\n<blockquote>\n  <p>Be aware that <code>VectorDrawables</code> won't be cross-faded in\n  the<code>TransitionDrawable</code>, You'll need to convert them into\n  <code>BitmapDrawables</code> first. See the below code -</p>\n</blockquote>\n\n<pre><code> private fun bitmapDrawableFromVector(\n        context: Context,\n        drawableId: Int\n    ) = BitmapDrawable(context.resources, getBitmapFromVectorDrawable(context, drawableId))\n\n    private fun getBitmapFromVectorDrawable(context: Context, drawableId: Int): Bitmap? {\n        val drawable = ContextCompat.getDrawable(context, drawableId)\n        val bitmap = Bitmap.createBitmap(\n            drawable!!.intrinsicWidth,\n            drawable.intrinsicHeight,\n            Bitmap.Config.ARGB_8888\n        )\n        val canvas = Canvas(bitmap)\n        drawable.setBounds(0, 0, canvas.width, canvas.height)\n        drawable.draw(canvas)\n        return bitmap\n    }\n</code></pre>\n\n<p>Related Thread - <a href=\"https://stackoverflow.com/a/62442627/4694013\">https://stackoverflow.com/a/62442627/4694013</a></p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1592462456, "creation_date": 1566353060, "last_edit_date": 1566364987, "question_id": 57583526, "link": "https://stackoverflow.com/questions/57583526/animate-change-of-floatingactionbutton-image-on-android", "title": "Animate change of FloatingActionButton image on Android", "body": "<p>I am developing a sample app.</p>\n\n<p>It has a main Floating Action Button and sub Floating Action Buttons.</p>\n\n<p>When the main Fab is clicked, sub Fabs should be shown.\nI solved this using ObjectAnimator.</p>\n\n<p>And now, I have only one thing.</p>\n\n<p>I want to change the main Fab icon image when it opened.</p>\n\n<p>Simply, I can use just setImageResource api.</p>\n\n<pre><code>val res = if (isFabOpened) R.drawable.ic_close else R.drawable.ic_open\nfabMain.setImageResource(res)\n</code></pre>\n\n<p>But I want to add transition animation for smooth change effect.</p>\n\n<p>And I found \"TransitionDrawable\".</p>\n\n<p>So I tried below code:</p>\n\n<ol>\n<li>res/drawable/transition_fab_main.xml</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;transition xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:drawable=\"@drawable/ic_add\" /&gt;\n    &lt;item android:drawable=\"@drawable/ic_close\" /&gt;\n&lt;/transition&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>res/layout/activity_main.xml</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    ......&gt;\n\n    &lt;!-- ...... --&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/fabMain\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"24dp\"\n            android:src=\"@drawable/transition_fab_main\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>MainActivity.kt</li>\n</ol>\n\n<pre><code>val transitionDrawable = fabMain.drawable as TransitionDrawable\nif (isFabOpen) {\n    transitionDrawable.reverseTransition(300)\n} else {\n    transitionDrawable.startTransition(300)\n}\n</code></pre>\n\n<p>But it doesn't work correctly...\nStart and End are ok, but in the middle of the animation wrong image is shown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wswfh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wswfh.gif\" alt=\"enter image description here\"></a></p>\n\n<p>somebody help me, please?</p>\n"}, {"tags": ["android", "animation", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 430, "user_id": 9175247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb2db01a9d8e8dfb66e3437f18cdd0b?s=128&d=identicon&r=PG&f=1", "display_name": "Josip Domazet", "link": "https://stackoverflow.com/users/9175247/josip-domazet"}, "is_accepted": false, "score": 0, "last_activity_date": 1566348236, "creation_date": 1566348236, "answer_id": 57583096, "question_id": 57582758, "link": "https://stackoverflow.com/questions/57582758/how-to-move-a-button-to-an-specific-x-y-position-in-kotlin/57583096#57583096", "title": "How to move a button to an specific x/y position in Kotlin?", "body": "<p>Have you taken a look at the translation methods?\n<a href=\"https://developer.android.com/reference/android/view/View.html#setTranslationX(float)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View.html#setTranslationX(float)</a></p>\n\n<p>If you want to be super fancy you could use animations: <a href=\"https://developer.android.com/training/animation/reposition-view\" rel=\"nofollow noreferrer\">https://developer.android.com/training/animation/reposition-view</a></p>\n\n<p>Alternatively, you could place a hidden button at x = 50 and then hide the original button. (with setVisibility() in Java, Keep in mind that it wouldn't be the same button anymore)</p>\n\n<p>I hope I could help.</p>\n"}], "owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566348316, "creation_date": 1566344561, "last_edit_date": 1566348316, "question_id": 57582758, "link": "https://stackoverflow.com/questions/57582758/how-to-move-a-button-to-an-specific-x-y-position-in-kotlin", "title": "How to move a button to an specific x/y position in Kotlin?", "body": "<p>How can I move a button to a specific x/y position on the view with a duration?</p>\n\n<p>the code should look like this:\nButton is clicked-> Button moves to x = 50  </p>\n\n<p><i></p>\n\n<pre><code>settings.setOnClickListener {\n settings.....\n}\n</code></pre>\n\n<p></i></p>\n"}, {"tags": ["android", "kotlin", "kotlinx.serialization"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 5693929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QQYe9LPA88M/AAAAAAAAAAI/AAAAAAAAAlY/yMThShZrEsc/photo.jpg?sz=128", "display_name": "Gilberto Ibarra", "link": "https://stackoverflow.com/users/5693929/gilberto-ibarra"}, "edited": false, "score": 0, "creation_date": 1566342320, "post_id": 57582504, "comment_id": 101624189, "body": "I cant because this is a web service with 8000 values in each row."}, {"owner": {"reputation": 513, "user_id": 8773880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EbXH.jpg?s=128&g=1", "display_name": "David Innocent", "link": "https://stackoverflow.com/users/8773880/david-innocent"}, "reply_to_user": {"reputation": 325, "user_id": 5693929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QQYe9LPA88M/AAAAAAAAAAI/AAAAAAAAAlY/yMThShZrEsc/photo.jpg?sz=128", "display_name": "Gilberto Ibarra", "link": "https://stackoverflow.com/users/5693929/gilberto-ibarra"}, "edited": false, "score": 0, "creation_date": 1566342983, "post_id": 57582504, "comment_id": 101624312, "body": "You can use a nested for loop to extract the data from the json and map it into your data class."}, {"owner": {"reputation": 325, "user_id": 5693929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QQYe9LPA88M/AAAAAAAAAAI/AAAAAAAAAlY/yMThShZrEsc/photo.jpg?sz=128", "display_name": "Gilberto Ibarra", "link": "https://stackoverflow.com/users/5693929/gilberto-ibarra"}, "edited": false, "score": 0, "creation_date": 1566420261, "post_id": 57582504, "comment_id": 101655102, "body": "Yes I do that, but i was looking for a native solution . but i couldn&#39;t find it"}], "tags": [], "owner": {"reputation": 513, "user_id": 8773880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EbXH.jpg?s=128&g=1", "display_name": "David Innocent", "link": "https://stackoverflow.com/users/8773880/david-innocent"}, "is_accepted": false, "score": 0, "last_activity_date": 1566342019, "creation_date": 1566342019, "answer_id": 57582504, "question_id": 57582325, "link": "https://stackoverflow.com/questions/57582325/how-convert-a-json-of-a-arrayof-jsonarray-to-an-object/57582504#57582504", "title": "How convert a JSON of a arrayOf JSONArray to an Object", "body": "<p>You need to change your json from </p>\n\n<pre><code>[\n [\n{\n  \"body\": \"Text\",\n  \"bodyType\": \"Text\",\n  \"nameType\": \"Text\",\n  \"makeDisplay\": \"Acura\"\n}\n],\n[\n{\n  \"body\": \"text\",\n  \"bodyType\": \"text\",\n  \"nameType\": \"text\",\n  \"makeDisplay\": \"text\"\n }\n ]\n ]\n</code></pre>\n\n<p>to </p>\n\n<pre><code>        [\n      {\n            \"body\": \"Text\",\n            \"bodyType\": \"Text\",\n            \"nameType\": \"Text\",\n            \"makeDisplay\": \"Acura\"\n        },\n        {\n            \"body\": \"text\",\n            \"bodyType\": \"text\",\n            \"nameType\": \"text\",\n            \"makeDisplay\": \"text\"\n        }\n    ]\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 5693929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QQYe9LPA88M/AAAAAAAAAAI/AAAAAAAAAlY/yMThShZrEsc/photo.jpg?sz=128", "display_name": "Gilberto Ibarra", "link": "https://stackoverflow.com/users/5693929/gilberto-ibarra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566392712, "creation_date": 1566340553, "last_edit_date": 1566392712, "question_id": 57582325, "link": "https://stackoverflow.com/questions/57582325/how-convert-a-json-of-a-arrayof-jsonarray-to-an-object", "title": "How convert a JSON of a arrayOf JSONArray to an Object", "body": "<p>I have the following JSON array:</p>\n\n<pre><code>[\n  [\n    {\n      \"body\": \"Text\",\n      \"bodyType\": \"Text\",\n      \"nameType\": \"Text\",\n      \"makeDisplay\": \"Acura\"\n    }\n  ],\n  [\n    {\n      \"body\": \"text\",\n      \"bodyType\": \"text\",\n      \"nameType\": \"text\",\n      \"makeDisplay\": \"text\"\n    }\n  ]\n]\n</code></pre>\n\n<p>I want to convert it to an object, but the problem is that I have nested arrays and the solution below doesn't work; </p>\n\n<pre><code>private var items: List&lt;CarModel&gt; = emptyList()\n\nitems = Json(JsonConfiguration.Stable).parse(CarsResponse.serializer().list, \"MiJSON.json ....\")\n\n@Serializable\ndata class CarsResponse(\n    val items: List&lt;ItemsModels&gt; = emptyList()\n)\n\n@Serializable\ndata class ItemsModels(\n    val items: List&lt;CarModel&gt; = emptyList()\n)\n\n@Serializable\ndata class CarModel(\n    val body: String = EMPTY_STRING,\n    val bodyType: String = EMPTY_STRING,\n    val nameType: String = EMPTY_STRING,\n    val makeDisplay: String = EMPTY_STRING\n)\n</code></pre>\n"}, {"tags": ["android", "swift", "encryption", "kotlin", "sha256"], "comments": [{"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1566340580, "post_id": 57582226, "comment_id": 101623866, "body": "Did you see the Java? <a href=\"https://stackoverflow.com/a/26361457/1820553\">stackoverflow.com/a/26361457/1820553</a>"}, {"owner": {"reputation": 13141, "user_id": 546509, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e8a65a04b4753027786f88f2d39eede?s=128&d=identicon&r=PG", "display_name": "Ethan Allen", "link": "https://stackoverflow.com/users/546509/ethan-allen"}, "reply_to_user": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1566341006, "post_id": 57582226, "comment_id": 101623963, "body": "No I didn&#39;t see that. Thank you."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1566341681, "post_id": 57582226, "comment_id": 101624084, "body": "It&#39;s just binary SHA-256 without any encoding / decoding. What&#39;s there to see? Oh, and a guard statement in case the system isn&#39;t able to allocate 32 mutable bites (sigh)."}, {"owner": {"reputation": 13141, "user_id": 546509, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e8a65a04b4753027786f88f2d39eede?s=128&d=identicon&r=PG", "display_name": "Ethan Allen", "link": "https://stackoverflow.com/users/546509/ethan-allen"}, "edited": false, "score": 0, "creation_date": 1566341837, "post_id": 57582226, "comment_id": 101624111, "body": "Ah, such a helpful comment."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1566342238, "post_id": 57582226, "comment_id": 101624175, "body": "Well, you can lookup how to perform <i>just</i> SHA-256 in Java or Kotlin, right? Create algorithm, feed data, get output. That&#39;s it."}], "answers": [{"comments": [{"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1566378485, "post_id": 57582757, "comment_id": 101633709, "body": "Could you add some test cases, too?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1566393175, "post_id": 57582757, "comment_id": 101642286, "body": "@EthanAllen if you don&#39;t want to import a whole new library just for SHA-256 you can have a look at the built-in <a href=\"https://developer.android.com/reference/kotlin/java/security/MessageDigest\" rel=\"nofollow noreferrer\">MessageDigest</a> class. You can get an instance with <code>MessageDigest.getInstance(&quot;SHA-256&quot;)</code> and then call <code>digest</code> with your input (if short, otherwise consider chunking the input and feeding the digest via <code>update</code>)"}], "tags": [], "owner": {"reputation": 13141, "user_id": 546509, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e8a65a04b4753027786f88f2d39eede?s=128&d=identicon&r=PG", "display_name": "Ethan Allen", "link": "https://stackoverflow.com/users/546509/ethan-allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1566344533, "creation_date": 1566344533, "answer_id": 57582757, "question_id": 57582226, "link": "https://stackoverflow.com/questions/57582226/what-is-the-kotlin-equivalent-of-cc-sha256-from-swift/57582757#57582757", "title": "What is the Kotlin equivalent of CC_SHA256 from Swift?", "body": "<p>I was able to accomplish what I needed with this:</p>\n\n<pre><code>import android.util.Base64\nimport com.google.common.hash.Hashing\nimport java.nio.charset.StandardCharsets\n\nfun calculateSH256(secret: String): String {\n   val sha256hex = Hashing.sha256()\n       .hashString(secret, StandardCharsets.UTF_8)\n       .asBytes()\n\n   return Base64.encodeToString(sha256hex, Base64.DEFAULT)\n}\n</code></pre>\n\n<p>and this in the Gradle file:</p>\n\n<pre><code>dependencies {\n    implementation 'com.google.guava:guava:28.0-android'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 869, "user_id": 5146268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKNvl.jpg?s=128&g=1", "display_name": "Carsten Hagemann", "link": "https://stackoverflow.com/users/5146268/carsten-hagemann"}, "is_accepted": false, "score": 0, "last_activity_date": 1585269837, "creation_date": 1585269837, "answer_id": 60878327, "question_id": 57582226, "link": "https://stackoverflow.com/questions/57582226/what-is-the-kotlin-equivalent-of-cc-sha256-from-swift/60878327#60878327", "title": "What is the Kotlin equivalent of CC_SHA256 from Swift?", "body": "<p>A more generic approach (as suggested by user2340612):</p>\n\n<pre><code>private fun hashString(input: String, algorithm: String): String    {\n    return MessageDigest.getInstance(algorithm)\n        .digest(input.toByteArray())\n        .fold(\"\", { str, it -&gt; str + \"%02x\".format(it) })\n} \n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/kotlin/java/security/MessageDigest\" rel=\"nofollow noreferrer\">List of valid algorithms</a></p>\n\n<p>Kudos to <a href=\"https://gist.github.com/lovubuntu/164b6b9021f5ba54cefc67f60f7a1a25#gistcomment-3123763\" rel=\"nofollow noreferrer\">this guy</a>.</p>\n"}], "owner": {"reputation": 13141, "user_id": 546509, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e8a65a04b4753027786f88f2d39eede?s=128&d=identicon&r=PG", "display_name": "Ethan Allen", "link": "https://stackoverflow.com/users/546509/ethan-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1860, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1585269837, "creation_date": 1566339804, "question_id": 57582226, "link": "https://stackoverflow.com/questions/57582226/what-is-the-kotlin-equivalent-of-cc-sha256-from-swift", "title": "What is the Kotlin equivalent of CC_SHA256 from Swift?", "body": "<p>I have the following code in Swift:</p>\n\n<pre><code>static func sha256(_ data: Data) -&gt; Data? \n{\n   guard let res = NSMutableData(length: Int(CC_SHA256_DIGEST_LENGTH)) else { return nil }\n   CC_SHA256((data as NSData).bytes, CC_LONG(data.count), res.mutableBytes.assumingMemoryBound(to: UInt8.self))\n   return res as Data\n}\n</code></pre>\n\n<p>I'm unsure how to translate <code>CC_SHA256_DIGEST_LENGTH</code> and <code>CC_SHA256</code> when doing Android development in Kotlin.</p>\n\n<p>What is the proper way to do this?</p>\n"}, {"tags": ["java", "hibernate", "kotlin", "annotations"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566339560, "post_id": 57582135, "comment_id": 101623691, "body": "What about using <code>@field:ExcludeFromJSON</code>?"}, {"owner": {"reputation": 187, "user_id": 4183141, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Gxfjy.png?s=128&g=1", "display_name": "Sjenkie", "link": "https://stackoverflow.com/users/4183141/sjenkie"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566339920, "post_id": 57582135, "comment_id": 101623761, "body": "@Slaw It works! You&#39;ve saved my sanity, please post it as an answer too! Then I can give it the good &#39;ol checkmark. Please also explain why this is a thing (it worked just fine 3 days ago) for future reference (and my interest)."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566342061, "post_id": 57582135, "comment_id": 101624145, "body": "Has anything updated in your environment within the last few days?"}, {"owner": {"reputation": 187, "user_id": 4183141, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Gxfjy.png?s=128&g=1", "display_name": "Sjenkie", "link": "https://stackoverflow.com/users/4183141/sjenkie"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566373407, "post_id": 57582135, "comment_id": 101631199, "body": "No, not that I can specifically point out. Same machine, same code, same gradle file. I&#39;ve also gone back in my git history, that didn&#39;t do anything either. So, no, not that I can say of."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566376409, "post_id": 57582135, "comment_id": 101632591, "body": "Then I&#39;m not sure why your code used to work. That said, I added an answer to address the problem in general."}], "answers": [{"tags": [], "owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "is_accepted": true, "score": 4, "last_activity_date": 1566376853, "last_edit_date": 1566376853, "creation_date": 1566376373, "answer_id": 57587515, "question_id": 57582135, "link": "https://stackoverflow.com/questions/57582135/kotlin-annotation-not-in-fielddecleration-or-compiled-java/57587515#57587515", "title": "Kotlin annotation not in fieldDecleration or compiled java", "body": "<p>You should qualify the annotation with the appropriate use-site target:</p>\n\n<pre><code>@field:ExcludeFromJSON\nprivate var password: String\n</code></pre>\n\n<p>This will cause the annotation to be present on the Java field generated by this property.</p>\n\n<hr>\n\n<p>From the <em>Kotlin Reference</em> regarding <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Annotation Use-site Targets</a>:</p>\n\n<blockquote>\n  <p>When you're annotating a property or a primary constructor parameter, there are multiple Java elements which are generated from the corresponding Kotlin element, and therefore multiple possible locations for the annotation in the generated Java bytecode. [...]</p>\n  \n  <p>[...]</p>\n  \n  <p>The full list of supported use-site targets is:</p>\n  \n  <ul>\n  <li><code>file</code>;</li>\n  <li><code>property</code> (annotations with this target are not visible to Java);</li>\n  <li><code>field</code>;</li>\n  <li><code>get</code> (property getter);</li>\n  <li><code>set</code> (property setter);</li>\n  <li><code>receiver</code> (receiver parameter of an extension function or property);</li>\n  <li><code>param</code> (constructor parameter);</li>\n  <li><code>setparam</code> (property setter parameter);</li>\n  <li><code>delegate</code> (the field storing the delegate instance for a delegated property).</li>\n  </ul>\n  \n  <p>[...]</p>\n  \n  <p>If you don't specify a use-site target, the target is chosen according to the <code>@Target</code> annotation of the annotation being used. If there are multiple applicable targets, the first applicable target from the following list is used:</p>\n  \n  <ul>\n  <li><code>param</code>;</li>\n  <li><code>property</code>;</li>\n  <li><code>field</code>.</li>\n  </ul>\n</blockquote>\n\n<p>The three important things to take away from that are:</p>\n\n<ol>\n<li>Annotations in Kotlin have a certain amount of ambiguity<sup>1</sup> regarding where they're ultimately applied. For instance, placing your annotation where you did means said annotation could be applied to one of at least <em>five</em> different locations: property, field, getter, setter, setter parameter.</li>\n<li>An annotation applied to a Kotlin property is not visible on the Java side.</li>\n<li>An annotation on a Kotlin property, without a use-site target, will only be applied to the backing field if it's not also applicable to being applied to the Kotlin property.</li>\n</ol>\n\n<p>Your annotation has both <code>AnnotationTarget.FIELD</code> and <code>AnnotationTarget.PROPERTY</code> in its <code>@Target</code> annotation. Since you don't specify a use-site target, the property takes precedence\u2014meaning the annotation is not visible to Java.</p>\n\n<p>For more information regarding properties and fields, see the <a href=\"https://kotlinlang.org/docs/reference/properties.html#properties-and-fields\" rel=\"nofollow noreferrer\">Properties and Fields</a> page of the <em>Kotlin Reference</em>.</p>\n\n<hr>\n\n<p><sup>1. It's not <em>technically</em> ambiguous, as everything is well defined.</sup></p>\n"}], "owner": {"reputation": 187, "user_id": 4183141, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Gxfjy.png?s=128&g=1", "display_name": "Sjenkie", "link": "https://stackoverflow.com/users/4183141/sjenkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 57587515, "answer_count": 1, "score": 3, "last_activity_date": 1566376853, "creation_date": 1566339132, "question_id": 57582135, "link": "https://stackoverflow.com/questions/57582135/kotlin-annotation-not-in-fielddecleration-or-compiled-java", "title": "Kotlin annotation not in fieldDecleration or compiled java", "body": "<p>For my data objects in Kotlin I have added a custom annotation for GSON to have an exclusion rule. </p>\n\n<p>In the past this has worked perfectly, now it does not show up in my class reflection (<code>this.javaClass.declaredFields[3].annotations</code> is <code>null</code>) nor does it show up in the compiled java output. </p>\n\n<p>I have tried different things, like upgrading my kotlin version, adding kotlin-kapt, using different <code>@Retention</code> types, restarting my computer (you never know) and have looked at other annotations. Those other annotations (for instance for Hibernate a <code>@OneToOne</code>) shows up with no issue.</p>\n\n<p><b>Annotation definition: </b></p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@Repeatable\n@Target(\n        AnnotationTarget.FIELD,\n        AnnotationTarget.PROPERTY_GETTER,\n        AnnotationTarget.PROPERTY_SETTER,\n        AnnotationTarget.PROPERTY,\n        AnnotationTarget.VALUE_PARAMETER\n)\nannotation class ExcludeFromJSON\n</code></pre>\n\n<p><b>Usage in data class: </b></p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\nclass User (\n\n        var username: String = \"\",\n        var email: String = \"\",\n\n        @ExcludeFromJSON\n        private var password: String\n) {}\n</code></pre>\n\n<p>I expect the annotation to show up in the javaClass reflection and in the compiled java code. It does neither. </p>\n\n<p><b>Compiled password var</b> (no annotation...):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private final var password: kotlin.String /* compiled code */`\n</code></pre>\n"}, {"tags": ["java", "multithreading", "kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 2, "last_activity_date": 1566340955, "creation_date": 1566340955, "answer_id": 57582373, "question_id": 57581718, "link": "https://stackoverflow.com/questions/57581718/does-kotlin-coroutines-or-any-coroutine-block-the-thread-when-performing-db-oper/57582373#57582373", "title": "Does Kotlin Coroutines or any coroutine block the thread when performing DB operation?", "body": "<p>Yes, calling a long running function will block the thread the coroutine is running on.</p>\n\n<p>In your example, if you have a long running db operation, you could write a function like this</p>\n\n<pre><code>suspend fun writeToDb(data: Data) = withContext(Dispatchers.IO) {\n    // write data to db here\n    // return result\n}\n</code></pre>\n\n<p>and you could safely call it from the UI thread like this</p>\n\n<pre><code>scope.launch(Dispatchers.main) {\n    val result = writeToDb(data)\n    if (result == success) {\n         // todo\n    }\n}\n</code></pre>\n\n<p>Making a function <code>suspend</code> does not automatically make it non-blocking. For instance, if you have something like this</p>\n\n<pre><code>suspend fun dontDoThis() {\n    timeConsumingFunction()\n}\n\nfun timeConsumingFunction() {\n    // execute long running operation in current thread\n}\n</code></pre>\n\n<p>There is nothing suspending in <code>timeConsumingFunction</code>, so the <code>suspend</code> modified in <code>dontDoThis</code> is redundant (and the IDE will warn you of this), so the code will run synchronously in whichever thread it was started.</p>\n"}], "owner": {"reputation": 454, "user_id": 6396560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CB6vd.png?s=128&g=1", "display_name": "bumblebeen", "link": "https://stackoverflow.com/users/6396560/bumblebeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566340955, "creation_date": 1566336352, "question_id": 57581718, "link": "https://stackoverflow.com/questions/57581718/does-kotlin-coroutines-or-any-coroutine-block-the-thread-when-performing-db-oper", "title": "Does Kotlin Coroutines or any coroutine block the thread when performing DB operation?", "body": "<p>I am trying to learn coroutines vs threads in Java/Kotlin. From my understanding, at least when you call a DB operation inside a thread it blocks the thread itself and wait for the response of the DB for it to be unlocked. On the other hand, Coroutines are \"lightweight threads\" but from my research they are just \"routines\" inside a thread. </p>\n\n<p>So if I used a coroutine with a DB operation, will it block the thread as well hence other coroutines running inside the thread will be blocked??</p>\n"}, {"tags": ["android", "android-studio", "animation", "kotlin"], "comments": [{"owner": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 1, "creation_date": 1566332551, "post_id": 57580813, "comment_id": 101621574, "body": "Change contextClickListener to clickListener, all errors should gone"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "reply_to_user": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 0, "creation_date": 1566333239, "post_id": 57580813, "comment_id": 101621805, "body": "Thanks @Arthur all errors are gone. But I still need help with the rotation. It still doesn&#180;t work and I can&#180;t figure out why."}, {"owner": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 0, "creation_date": 1566337348, "post_id": 57580813, "comment_id": 101623166, "body": "Not sure how it&#39;s in kotlin, but you need some how to call .animate() on clicked object, try to use &quot;this&quot; instead of settings in onClickListener"}, {"owner": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 1, "creation_date": 1566337431, "post_id": 57580813, "comment_id": 101623185, "body": "Set duration to 2000, in animations duration is in milliseconds."}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "reply_to_user": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 0, "creation_date": 1566338423, "post_id": 57580813, "comment_id": 101623461, "body": "@Arthur thanks man, this was the selution"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "reply_to_user": {"reputation": 746, "user_id": 6134394, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ebc2fbd1b54c13fefc237d226e82ca19?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/6134394/arthur"}, "edited": false, "score": 0, "creation_date": 1566338449, "post_id": 57580813, "comment_id": 101623466, "body": "Appreciate your time!"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1566333686, "post_id": 57581195, "comment_id": 101621958, "body": "should I just put this in the onCreate function?"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1566334885, "post_id": 57581195, "comment_id": 101622359, "body": "can you show me how to implement the code properly?"}, {"owner": {"reputation": 62, "user_id": 11130032, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--puh87fEWt0/AAAAAAAAAAI/AAAAAAAABbE/P0DFkDo-wl4/photo.jpg?sz=128", "display_name": "Alireza Haji gholamreza", "link": "https://stackoverflow.com/users/11130032/alireza-haji-gholamreza"}, "reply_to_user": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1566334890, "post_id": 57581195, "comment_id": 101622362, "body": "@JoyLucas  if user clicked and you want to show rotation : use inside onClickListener Object (Button)"}, {"owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "edited": false, "score": 0, "creation_date": 1566336510, "post_id": 57581195, "comment_id": 101622934, "body": "what do I need to import in order to use RotateAnimation?"}], "tags": [], "owner": {"reputation": 62, "user_id": 11130032, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--puh87fEWt0/AAAAAAAAAAI/AAAAAAAABbE/P0DFkDo-wl4/photo.jpg?sz=128", "display_name": "Alireza Haji gholamreza", "link": "https://stackoverflow.com/users/11130032/alireza-haji-gholamreza"}, "is_accepted": false, "score": 0, "last_activity_date": 1566333349, "creation_date": 1566333349, "answer_id": 57581195, "question_id": 57580813, "link": "https://stackoverflow.com/questions/57580813/how-to-rotate360-a-button-if-clicked-on-in-kotlin/57581195#57581195", "title": "How to rotate(360&#176;) a button if clicked on in Kotlin?", "body": "<p>try it :\nits some code i use in my project</p>\n\n<pre><code>  RotateAnimation rotate = new RotateAnimation(0, 180, A \n  nimation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\n  rotate.setDuration(5000);\n  rotate.setInterpolator(new LinearInterpolator());\n\n  ImageView image= (ImageView) findViewById(R.id.imageView);\n\n  image.startAnimation(rotate);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8661215, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nBSXj.jpg?s=128&g=1", "display_name": "Joy Lucas", "link": "https://stackoverflow.com/users/8661215/joy-lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566335860, "creation_date": 1566331309, "last_edit_date": 1566335860, "question_id": 57580813, "link": "https://stackoverflow.com/questions/57580813/how-to-rotate360-a-button-if-clicked-on-in-kotlin", "title": "How to rotate(360&#176;) a button if clicked on in Kotlin?", "body": "<p>I want to rotate the settings button of my MainActivity if clicked on.</p>\n\n<p>This is the code I wrote so far in the <code>MainActivity.kt</code> file:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState)\n  setContentView(R.layout.activity_main)\n\n  //Spin Settings Button\n\n  settings.setOnContextClickListener {  //First error\n  settings.animate().setDuration(2).rotationBy(180f).start() //second error\n      }\n   }\n}\n</code></pre>\n\n<p>Following this code I receive two errors:</p>\n\n<p>First error: </p>\n\n<blockquote>\n  <p>Call\u00a0requires\u00a0API\u00a0level\u00a023\u00a0(current\u00a0min\u00a0is\u00a021):\u00a0android.view.View#setOnContextClickListene....</p>\n</blockquote>\n\n<p>Second Error:</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is Unit but Boolean was expected</p>\n</blockquote>\n\n<p>Thanks for your time!!</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines", "ktor"], "comments": [{"owner": {"reputation": 6451, "user_id": 75793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3120e3db401361292eab43c7be870af5?s=128&d=identicon&r=PG", "display_name": "Kimble", "link": "https://stackoverflow.com/users/75793/kimble"}, "edited": false, "score": 0, "creation_date": 1566329368, "post_id": 57580222, "comment_id": 101620404, "body": "Just found this gem: <a href=\"https://github.com/ktorio/ktor/blob/master/ktor-utils/jvm/src/io/ktor/util/Nonce.kt#L30\" rel=\"nofollow noreferrer\">github.com/ktorio/ktor/blob/master/ktor-utils/jvm/src/io/kto&zwnj;&#8203;r/&hellip;</a>  Seems like one of the &quot;leaked&quot; coroutines are explicitly launched into global scope."}], "answers": [{"tags": [], "owner": {"reputation": 6451, "user_id": 75793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3120e3db401361292eab43c7be870af5?s=128&d=identicon&r=PG", "display_name": "Kimble", "link": "https://stackoverflow.com/users/75793/kimble"}, "is_accepted": true, "score": 0, "last_activity_date": 1566370962, "last_edit_date": 1566370962, "creation_date": 1566329840, "answer_id": 57580483, "question_id": 57580222, "link": "https://stackoverflow.com/questions/57580222/how-can-i-make-sure-all-kotlin-coroutines-created-by-a-ktor-websocket-client-are/57580483#57580483", "title": "How can I make sure all Kotlin coroutines created by a ktor websocket client are cleared up?", "body": "<p>Seems like I have figured it out (obviously just after ripping my hair out long enough to make this post in the first place). When I wrote the post I leaked two coroutines and one of them \"solved itself\" (I'm not very happy about that, but what ever I do I can't reproduce it). </p>\n\n<p>The second coroutine leaked because Nonce.kt from Ktor explicitly launches a coroutine in GlobalScope.</p>\n\n<p><a href=\"https://github.com/ktorio/ktor/blob/master/ktor-utils/jvm/src/io/ktor/util/Nonce.kt#L30\" rel=\"nofollow noreferrer\">https://github.com/ktorio/ktor/blob/master/ktor-utils/jvm/src/io/ktor/util/Nonce.kt#L30</a></p>\n\n<pre><code>private val nonceGeneratorJob =\nGlobalScope.launch(\n    context = Dispatchers.IO + NonCancellable + NonceGeneratorCoroutineName,\n    start = CoroutineStart.LAZY\n) { ....\n</code></pre>\n"}], "owner": {"reputation": 6451, "user_id": 75793, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3120e3db401361292eab43c7be870af5?s=128&d=identicon&r=PG", "display_name": "Kimble", "link": "https://stackoverflow.com/users/75793/kimble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "accepted_answer_id": 57580483, "answer_count": 1, "score": 2, "last_activity_date": 1566370962, "creation_date": 1566328544, "last_edit_date": 1566329577, "question_id": 57580222, "link": "https://stackoverflow.com/questions/57580222/how-can-i-make-sure-all-kotlin-coroutines-created-by-a-ktor-websocket-client-are", "title": "How can I make sure all Kotlin coroutines created by a ktor websocket client are cleared up?", "body": "<p>I'm trying to wrap my head around Kotlin coroutines and Ktors websocket support. My understanding is that <code>runBlocking</code> will create a scope and that it will block as long as there are coroutines living inside that scope (or child scopes), but I when the call to <code>runBlocking</code> in the test below returns there are still two coroutines alive..</p>\n\n<p>Why am I leaking coroutines here?</p>\n\n<pre><code>package dummy\n\nimport io.ktor.client.HttpClient\nimport io.ktor.client.features.websocket.WebSockets\nimport io.ktor.client.features.websocket.wss\nimport io.ktor.http.HttpMethod\nimport io.ktor.http.cio.websocket.Frame\nimport io.ktor.http.cio.websocket.readBytes\nimport io.ktor.http.cio.websocket.readText\nimport io.ktor.util.KtorExperimentalAPI\nimport kotlinx.coroutines.*\nimport kotlinx.coroutines.debug.DebugProbes\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\n\n@ExperimentalCoroutinesApi\n@KtorExperimentalAPI\nclass WebsocketTest {\n\n    @Test\n    fun tidy() {\n        DebugProbes.install()\n\n        runBlocking {\n            val socketJob = Job()\n\n            launch(CoroutineName(\"Websocket\") + socketJob) {\n                println(\"Connecting to websocket\")\n                connectWebsocket(socketJob)\n                println(\"Websocket dead?\")\n            }\n\n            launch(CoroutineName(\"Ninja socket killer\")) {\n                delay(3500)\n                println(\"Killing websocket client\")\n                socketJob.cancel(message = \"Time to die..\")\n            }\n        }\n\n        println(\"\\n\\n-------\")\n        DebugProbes.dumpCoroutines(System.err)\n        Assertions.assertEquals(0, DebugProbes.dumpCoroutinesInfo().size, \"It would be nice if all coroutines had been cleared up by now..\")\n    }\n\n}\n\n\n@KtorExperimentalAPI\nprivate suspend fun connectWebsocket(socketJob: CompletableJob) {\n\n    val client = HttpClient {\n        install(WebSockets)\n    }\n\n    socketJob.invokeOnCompletion {\n        println(\"Shutting down ktor http client\")\n        client.close()\n    }\n\n    client.wss(\n            method = HttpMethod.Get,\n            host = \"echo.websocket.org\",\n            port = 443,\n            path = \"/\"\n    ) {\n\n        send(Frame.Text(\"Hello World\"))\n\n        for (frame in incoming) {\n            when (frame) {\n                is Frame.Text -&gt; println(frame.readText())\n                is Frame.Binary -&gt; println(frame.readBytes())\n            }\n\n            delay(1000)\n            send(Frame.Text(\"Hello World\"))\n        }\n    }\n\n}\n</code></pre>\n\n<p>build.gradle.kts</p>\n\n<pre><code>import org.gradle.api.tasks.testing.logging.TestExceptionFormat\nimport org.gradle.api.tasks.testing.logging.TestLogEvent\n\nplugins {\n    kotlin(\"jvm\") version \"1.3.41\" apply true\n}\n\nrepositories {\n    mavenCentral()\n}\n\nval ktorVersion = \"1.2.3\"\nval junitVersion = \"5.5.1\"\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n\n    implementation(\"io.ktor:ktor-client-websockets:$ktorVersion\")\n    implementation(\"io.ktor:ktor-client-okhttp:$ktorVersion\")\n\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-debug:1.3.0-RC2\")\n\n\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:$junitVersion\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:$junitVersion\")\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n    testLogging {\n        showExceptions = true\n        showStackTraces = true\n        exceptionFormat = TestExceptionFormat.FULL\n        events = setOf(TestLogEvent.PASSED, TestLogEvent.SKIPPED, TestLogEvent.FAILED)\n    }\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-security"], "comments": [{"owner": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "edited": false, "score": 0, "creation_date": 1566327567, "post_id": 57579607, "comment_id": 101619651, "body": "Annotations like <code>@CrossOrigin</code> on top of my controllers methods work perfect for me."}, {"owner": {"reputation": 305, "user_id": 1979892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w7kd2.png?s=128&g=1", "display_name": "Tom&#225;\u0161 Chyl&#253;", "link": "https://stackoverflow.com/users/1979892/tom%c3%a1%c5%a1-chyl%c3%bd"}, "reply_to_user": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "edited": false, "score": 0, "creation_date": 1566328454, "post_id": 57579607, "comment_id": 101620020, "body": "As I wrote in the question, I get the same result using them. I tried annotations first, before I tried to use the WebSecurityConfigurerAdapter."}, {"owner": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "edited": false, "score": 0, "creation_date": 1566329987, "post_id": 57579607, "comment_id": 101620647, "body": "Just in case, what spring boot version do you use? I&#39;m using 2.1.4.RELEASE. Could you also provide more code? Will try to reproduce it locally."}, {"owner": {"reputation": 305, "user_id": 1979892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w7kd2.png?s=128&g=1", "display_name": "Tom&#225;\u0161 Chyl&#253;", "link": "https://stackoverflow.com/users/1979892/tom%c3%a1%c5%a1-chyl%c3%bd"}, "reply_to_user": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "edited": false, "score": 0, "creation_date": 1566332465, "post_id": 57579607, "comment_id": 101621553, "body": "Spring Boot is 2.1.6.RELEASE, I will update the question with more code."}, {"owner": {"reputation": 305, "user_id": 1979892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w7kd2.png?s=128&g=1", "display_name": "Tom&#225;\u0161 Chyl&#253;", "link": "https://stackoverflow.com/users/1979892/tom%c3%a1%c5%a1-chyl%c3%bd"}, "reply_to_user": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "edited": false, "score": 1, "creation_date": 1566334017, "post_id": 57579607, "comment_id": 101622063, "body": "Thank you :) When I was about to update the question, I re-read the code and was able to find bug, it was completely somewhere else."}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 1979892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w7kd2.png?s=128&g=1", "display_name": "Tom&#225;\u0161 Chyl&#253;", "link": "https://stackoverflow.com/users/1979892/tom%c3%a1%c5%a1-chyl%c3%bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1566367462, "last_edit_date": 1566367462, "creation_date": 1566334169, "answer_id": 57581354, "question_id": 57579607, "link": "https://stackoverflow.com/questions/57579607/spring-boot-security-cors-with-post-request/57581354#57581354", "title": "Spring Boot Security CORS with POST request", "body": "<p>Ok, when I was re-reading the code, I found the reason why this does not work.\nThere was a bug in the CMS not Spring Boot API. I was using wrong API endpoint.\nSo you do not get 404 error, but CORS one.</p>\n\n<p>But, for some reason the CORS does not work using the WebSecurityConfigurerAdapter.\nInstead I have returned back to using annotations, @CrossOrigin, on controllers.</p>\n"}], "owner": {"reputation": 305, "user_id": 1979892, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w7kd2.png?s=128&g=1", "display_name": "Tom&#225;\u0161 Chyl&#253;", "link": "https://stackoverflow.com/users/1979892/tom%c3%a1%c5%a1-chyl%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 57581354, "answer_count": 1, "score": 0, "last_activity_date": 1566367462, "creation_date": 1566325708, "question_id": 57579607, "link": "https://stackoverflow.com/questions/57579607/spring-boot-security-cors-with-post-request", "title": "Spring Boot Security CORS with POST request", "body": "<p>I have Spring Boot REST API and React based CMS.</p>\n\n<p>When I send GET ajax requests to the API, they work fine. But when I send POST requests I am stopped by CORS error:</p>\n\n<p><strong>Access to XMLHttpRequest at '<a href=\"http://localhost:8080/item/add\" rel=\"nofollow noreferrer\">http://localhost:8080/item/add</a>' from origin '<a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">http://localhost:3000</a>' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</strong></p>\n\n<p>I am using <strong>WebSecurityConfigurerAdapter</strong> to configure security.</p>\n\n<p><strong>BasicWebSecurityConfigurerAdapter.kt</strong></p>\n\n<pre><code>override fun configure(http: HttpSecurity?) {\n    http?.csrf()?.disable()\n    http?.cors()\n    http?.authorizeRequests()\n            ?.anyRequest()?.authenticated()\n            ?.and()\n            ?.httpBasic()\n}\n\n@Bean\nfun corsConfigurationSource(): CorsConfigurationSource {\n    val configuration = CorsConfiguration()\n    configuration.allowedOrigins = mutableListOf(\"http://localhost:3000\")\n    configuration.allowedMethods = mutableListOf(\"GET\", \"POST\")\n\n    val source = UrlBasedCorsConfigurationSource()\n    source.registerCorsConfiguration(\"/**\", configuration)\n\n    return source\n}\n</code></pre>\n\n<p>I have also tried using annotations instead on my RestControllers, but I had the same issue, GET requests working and POST requests not working.\nI am still fairly new to Spring Boot, so I am sure there is something I am missing.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "custom-adapter"], "comments": [{"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566323165, "post_id": 57578940, "comment_id": 101617934, "body": "Can you post your code for <code>GrpsViewHolder</code>"}, {"owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "reply_to_user": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566323397, "post_id": 57578940, "comment_id": 101618027, "body": "@BlackHatSamurai It&#39;s exactly in the code. before the getItemViewType function."}], "answers": [{"comments": [{"owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "edited": false, "score": 0, "creation_date": 1566332583, "post_id": 57579240, "comment_id": 101621587, "body": "It&#39;s working fine until notifyDataSetChanged() function! The crash will happen when the holder.txtDelete.onClick or holder.txtEdit.onClick function fires!"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "reply_to_user": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "edited": false, "score": 0, "creation_date": 1566333660, "post_id": 57579240, "comment_id": 101621946, "body": "with the same class cast exception?"}, {"owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "edited": false, "score": 0, "creation_date": 1566334160, "post_id": 57579240, "comment_id": 101622120, "body": "Yes! Now I changed the logic as you said and now It&#39;s working without a crash! but when removing a group, it removes perfectly from db but in the recyclerview, it removes the last item. It shows normal after closing and reopening the app."}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "reply_to_user": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "edited": false, "score": 1, "creation_date": 1566334457, "post_id": 57579240, "comment_id": 101622224, "body": "That&#39;s because you&#39;re probably not populating the recyclerview&#39;s data after updating the db. you&#39;re declaring your itemsList as private `    private var itemsList = mutableListOf&lt;ItemsValues&gt;()` and you don&#39;t have a method to se the items in that list anywhere. That means that you&#39;re only going to get new data every time you re create the adapter."}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "reply_to_user": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "edited": false, "score": 1, "creation_date": 1566334816, "post_id": 57579240, "comment_id": 101622341, "body": "` init {         this.activity = activity         this.context = context         this.grpList = grplist         this.itemsList = itemslist     } `  You can also get rid of having to assign these values that are passed in as parameters, to the class instance by adding the <code>var</code> keyword in front of all of them in the constructor  class RecAdapter(     var context: Context,     var activity: Activity,     ...      etc }"}], "tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": true, "score": 2, "last_activity_date": 1566324365, "last_edit_date": 1566324365, "creation_date": 1566324006, "answer_id": 57579240, "question_id": 57578940, "link": "https://stackoverflow.com/questions/57578940/viewholder-cannot-be-cast-to-otherviewholder/57579240#57579240", "title": "ViewHolder cannot be cast to OtherViewHolder", "body": "<p>You can't cast one child of the ViewHolder type to another type of the ViewHolder class, because they're not the same type.</p>\n\n<pre><code>    ViewHolder\n       /\\\nRecHolder ItemsViewHolder\n</code></pre>\n\n<p>A <code>RecHolder</code> <em>is</em> a ViewHolder and an <code>ItemsViewHolder</code> is a viewholder, but just because they share the same parent doesn't make a <code>RecHolder</code> an <code>ItemsViewHolder</code> so the cast can never succeed. </p>\n\n<p>Check your logic for determining what ViewHolder your <code>onCreateViewHolder</code> returns because that's the <code>ViewHolder</code> type that gets past into your <code>onBindViewHolder</code> </p>\n\n<p>If you want a way to double check, inside of your logic, before you cast each one do <code>if (viewHolder is RecHolder)</code> or <code>if(viewHolder is ItemViewHolder</code>) to verify that you're getting the one you think you're getting.</p>\n"}], "owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1632, "favorite_count": 0, "accepted_answer_id": 57579240, "answer_count": 1, "score": 1, "last_activity_date": 1566332637, "creation_date": 1566322743, "last_edit_date": 1566332637, "question_id": 57578940, "link": "https://stackoverflow.com/questions/57578940/viewholder-cannot-be-cast-to-otherviewholder", "title": "ViewHolder cannot be cast to OtherViewHolder", "body": "<p>I have a problem with my Recyclerview's custom adapter.\nI'm trying to display two different views with different data source in one recycler view.\nIt was working great before I make some changes and now it gets an exception.</p>\n\n<p><em>It's working fine until <strong>notifyDataSetChanged()</strong> function!\nThe crash will happen when the holder.txtDelete.onClick or holder.txtEdit.onClick function fires!</em></p>\n\n<p>I searched a lot but can't find the solution. Thanks for helping</p>\n\n<p>My Custom Adapter:</p>\n\n<pre><code>import android.app.Activity\nimport android.content.Context\nimport android.content.DialogInterface\nimport android.content.Intent\nimport android.os.Vibrator\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.*\nimport androidx.cardview.widget.CardView\nimport androidx.recyclerview.widget.RecyclerView\nimport artemis.team.picandtext.*\nimport com.squareup.picasso.Picasso\nimport org.jetbrains.anko.alert\nimport org.jetbrains.anko.sdk27.coroutines.onClick\nimport java.util.*\n\nclass RecAdapter(\n    context: Context,\n    activity: Activity,\n    grplist: MutableList&lt;GrpsValues&gt; = mutableListOf(),\n    itemslist: MutableList&lt;ItemsValues&gt; = mutableListOf()\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n    private var context: Context? = null\n    private var activity: Activity? = null\n    private var grpList = mutableListOf&lt;GrpsValues&gt;()\n    private var itemsList = mutableListOf&lt;ItemsValues&gt;()\n    private lateinit var tts: TextToSpeech\n    private var voiceText = \"Text not found!\"\n    private var voiceLocale = \"en-US\"\n    private var mode = 0\n    private var itemsSize = 0\n    private var groupsSize = 0\n    private val ITEM = 100\n    private val GROUP = 200\n    private var HOLDER = GROUP\n\n    init {\n        this.activity = activity\n        this.context = context\n        this.grpList = grplist\n        this.itemsList = itemslist\n        itemsSize = itemsList.size\n        groupsSize = grpList.size\n    }\n\n    override fun getItemCount(): Int {\n        return (itemsList.size + grpList.size)\n    } // getItemCount\n\n    override fun onBindViewHolder(recHolder: RecyclerView.ViewHolder, pos: Int) {\n\n        Mode()\n\n        if (mode == ITEM &amp;&amp; HOLDER == ITEM) {\n\n            val holder = recHolder as ItemsViewHolder\n\n            if (itemsList.size &gt; 0) {\n                val position = pos - grpList.size\n\n                Picasso.get()\n                    .load(itemsList[position].url)\n                    .error(R.drawable.empty)\n                    .into(holder.image)\n\n                holder.title.text = itemsList[position].title\n                holder.txtID.text = itemsList[position].id\n                holder.grpID.text = itemsList[position].grpID\n\n                val grpID = holder.grpID.text.toString()\n\n                lateinit var dialog: DialogInterface\n\n                holder.layout.onClick {\n                    (context!!.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator?)!!.vibrate(30)\n                    dialog = context!!.alert {\n                        val view = activity!!.layoutInflater.inflate(R.layout.dialog_item_details, null)\n                        val prgDatabase = PrgDatabase(context)\n                        val value = prgDatabase.ItemsFind(holder.txtID.text.toString())\n                        view.findViewById&lt;TextView&gt;(R.id.TxtText).text = value.title\n                        Picasso.get()\n                            .load(value.url)\n                            .error(R.drawable.empty)\n                            .into(view.findViewById&lt;ImageView&gt;(R.id.imageView))\n\n                        customView = view\n                    }.show()\n                }\n\n                holder.txtDelete.onClick {\n                    (context!!.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator?)!!.vibrate(30)\n                    context!!.alert {\n                        title = \"ItemsDelete\"\n                        message = \"ItemsDelete item from the list?\"\n\n                        positiveButton(\"Yup\") {\n                            val prgDatabase = PrgDatabase(context)\n                            prgDatabase.ItemsDelete(holder.txtID.text.toString())\n                            itemsList = PrgDatabase(context).ItemsGetAll(grpID)\n\n                            this@RecAdapter.notifyDataSetChanged()\n\n                            it.dismiss()\n                        }\n\n                        negativeButton(\"NO\") {\n                            it.dismiss()\n                        }\n\n                    }.show()\n                }\n\n                holder.txtEdit.onClick {\n                    (context!!.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator?)!!.vibrate(30)\n\n                    dialog = context!!.alert {\n                        val view = activity!!.layoutInflater.inflate(R.layout.dialog_items, null)\n                        view.findViewById&lt;Button&gt;(R.id.BTNsaveID).text = \"Save changes\"\n                        val prgDatabase = PrgDatabase(context)\n\n                        val adapter = ArrayAdapter&lt;String&gt;(\n                            context!!,\n                            android.R.layout.simple_spinner_item,\n                            context!!.resources.getStringArray(\n                                R.array.langueges\n                            )\n                        )\n                        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n                        view.findViewById&lt;Spinner&gt;(R.id.SpLangsID).adapter = adapter\n\n                        val value = prgDatabase.ItemsFind(holder.txtID.text.toString())\n                        view.findViewById&lt;EditText&gt;(R.id.ETtitleID).setText(value.title)\n                        view.findViewById&lt;EditText&gt;(R.id.ETurlID).setText(value.url)\n                        view.findViewById&lt;Spinner&gt;(R.id.SpLangsID).setSelection(\n                            when (value.local) {\n                                \"English\" -&gt; 0\n                                \"Russian\" -&gt; 1\n                                \"Turkish\" -&gt; 2\n                                \"French\" -&gt; 3\n                                \"German\" -&gt; 4\n                                \"Italian\" -&gt; 5\n                                \"Korean\" -&gt; 6\n                                else -&gt; 0\n                            }\n                        )\n                        view.findViewById&lt;Button&gt;(R.id.BTNsaveID).onClick {\n                            if (view.findViewById&lt;EditText&gt;(R.id.ETtitleID).text.isNotEmpty()\n                                &amp;&amp; view.findViewById&lt;EditText&gt;(R.id.ETurlID).text.isNotEmpty()\n                            ) {\n                                val value = ItemsValues(\n                                    title = view.findViewById&lt;EditText&gt;(R.id.ETtitleID).text.toString(),\n                                    url = view.findViewById&lt;EditText&gt;(R.id.ETurlID).text.toString(),\n                                    id = holder.txtID.text.toString(),\n                                    grpID = grpID,\n                                    local = view.findViewById&lt;Spinner&gt;(R.id.SpLangsID).selectedItem.toString()\n                                )\n                                prgDatabase.ItemsUpdate(\n                                    value\n                                )\n                                itemsList[position] = value\n                                dialog.dismiss()\n\n\n                                this@RecAdapter.notifyDataSetChanged()\n                                this@RecAdapter.notifyItemChanged(position)\n\n\n                            }// if\n                        } // btn on click\n                        customView = view\n\n                    }.show()\n                } // on click\n            }\n\n        } // if Items\n        else if (mode == GROUP &amp;&amp; HOLDER == GROUP) {\n\n            val holder = recHolder as GrpsViewHolder\n            if (grpList.size &gt; 0) {\n\n                val position = pos\n\n                holder.titleGrp.text = grpList[position].title\n\n                holder.txtItemIDGrp.text = grpList[position].id\n                holder.txtParentGrpIDGrp.text = grpList[position].parent\n\n                holder.layoutGrp.onClick {\n                    val intent = Intent(context, MainActivity::class.java)\n                    intent.putExtra(\"GrpID\", holder.txtItemIDGrp.text.toString())\n                    intent.putExtra(\"GrpTitle\", grpList[position].title)\n                    activity!!.startActivity(intent)\n                }\n\n                holder.txtDeleteGrp.onClick {\n                    (context!!.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator?)!!.vibrate(30)\n                    context!!.alert {\n                        title = \"Delete\"\n                        message = \"\"\"\n                        Delete Group from the list?\n\n                        * With delete this group, all it's words and pictures will be removed!\n                        \"\"\".trimIndent()\n\n                        positiveButton(\"Yup\") {\n                            val prgDatabase = PrgDatabase(context)\n                            prgDatabase.GrpsDelete(holder.txtItemIDGrp.text.toString())\n\n                            grpList = PrgDatabase(context).GrpsGetAll(grpList[position].parent)\n\n                            this@RecAdapter.notifyItemRemoved(position)\n                            this@RecAdapter.notifyDataSetChanged()\n\n                            it.dismiss()\n                        }\n\n                        negativeButton(\"NO\") {\n                            it.dismiss()\n                        }\n\n                    }.show()\n                }\n\n                lateinit var dialog: DialogInterface\n                holder.txtEditGrp.onClick {\n                    (context!!.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator?)!!.vibrate(30)\n\n                    dialog = context!!.alert {\n                        val view = activity!!.layoutInflater.inflate(R.layout.dialog_grps, null)\n\n                        view.findViewById&lt;Button&gt;(R.id.BTNsaveID).text = \"Save changes\"\n                        val prgDatabase = PrgDatabase(context)\n                        val value = prgDatabase.GrpsFind(holder.txtItemIDGrp.text.toString())\n                        view.findViewById&lt;EditText&gt;(R.id.ETtitleID).setText(value.title)\n                        view.findViewById&lt;Button&gt;(R.id.BTNsaveID).onClick {\n                            if (view.findViewById&lt;EditText&gt;(R.id.ETtitleID).text.isNotEmpty()) {\n                                val value = GrpsValues(\n                                    title = view.findViewById&lt;EditText&gt;(R.id.ETtitleID).text.toString(),\n                                    id = holder.txtItemIDGrp.text.toString(),\n                                    parent = holder.txtParentGrpIDGrp.text.toString()\n                                )\n                                prgDatabase.GrpsUpdate(\n                                    value\n                                )\n                                grpList[position] = value\n                                dialog.dismiss()\n\n                                this@RecAdapter.notifyDataSetChanged()\n                                this@RecAdapter.notifyItemChanged(position)\n\n                            }// if\n                        } // btn on click\n                        customView = view\n                    }.show()\n                } // on click\n            } // if\n        } // GROUP\n\n    } // onBindViewHolder\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        if (groupsSize &gt; 0) {\n            HOLDER = GROUP\n            return GrpsViewHolder(\n                LayoutInflater.from(parent.context).inflate(\n                    R.layout.custom_rec_grps_layout,\n                    parent,\n                    false\n                )\n            )\n\n        } else {\n            HOLDER = ITEM\n            return ItemsViewHolder(\n                LayoutInflater.from(parent.context).inflate(\n                    R.layout.custom_rec_items_layout,\n                    parent,\n                    false\n                )\n            )\n        }\n    }\n\n    inner class ItemsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        val image: ImageView = view.findViewById(R.id.imageView)\n        val title: TextView = view.findViewById(R.id.TxtText)\n        val txtID: TextView = view.findViewById(R.id.TxtItemID)\n        val grpID: TextView = view.findViewById(R.id.TxtGrpID)\n        val txtDelete: TextView = view.findViewById(R.id.TxtDeleteID)\n        val txtEdit: TextView = view.findViewById(R.id.TxtEditID)\n        val layout: CardView = view.findViewById(R.id.ConstItemsID)\n    }\n\n    inner class GrpsViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        val titleGrp: TextView = view.findViewById(R.id.GrpTxtText)\n        val txtItemIDGrp: TextView = view.findViewById(R.id.GrpTxtItemID)\n        val txtParentGrpIDGrp: TextView = view.findViewById(R.id.GrpTxtGrpID)\n        val txtDeleteGrp: TextView = view.findViewById(R.id.GrpTxtDeleteID)\n        val txtEditGrp: TextView = view.findViewById(R.id.GrpTxtEditID)\n        val layoutGrp: CardView = view.findViewById(R.id.CnstGrpsID)\n\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return position\n    }\n\n\n    fun Mode() {\n        if (groupsSize &gt; 0) {\n            groupsSize--\n            mode = GROUP\n        } else if (itemsSize &gt; 0) {\n            itemsSize--\n            mode = ITEM\n        }\n    }\n}\n</code></pre>\n\n<p>and this is the logcat error:</p>\n\n<blockquote>\n<pre><code>   --------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: artemis.team.picandtext, PID: 18621\n    java.lang.ClassCastException: GrpsViewHolder cannot be cast to RecAdapter$ItemsViewHolder\n       enter code here at RecAdapter.onBindViewHolder(RecAdapter.kt:66)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6781)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6823)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5752)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6019)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2230)\n        at androidx.recyclerview.widget.GridLayoutManager.layoutChunk(GridLayoutManager.java:557)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1517)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:612)\n        at androidx.recyclerview.widget.GridLayoutManager.onLayoutChildren(GridLayoutManager.java:171)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\n        at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3336)\n        at android.view.View.measure(View.java:22071)\n        at androidx.constraintlayout.widget.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:1227)\n        at androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1572)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6602)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at androidx.appcompat.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:143)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6602)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1514)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:806)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:685)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6602)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6602)\n        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1514)\n        at android.widget.LinearLayout.measureVertical(LinearLayout.java:806)\n        at android.widget.LinearLayout.onMeasure(LinearLayout.java:685)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6602)\n        at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n        at com.android.internal.policy.DecorView.onMeasure(DecorView.java:724)\n        at android.view.View.measure(View.java:22071)\n        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2422)\n        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1504)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1761)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1392)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6752)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:723)\n        at android.view.Choreographer.doFrame(Choreographer.java:658)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\nE/AndroidRuntime:     at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n\n\n    --------- beginning of system\n</code></pre>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin", "bottom-sheet"], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 10725071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a18f4657e6b307fd5ecc28098688a1?s=128&d=identicon&r=PG&f=1", "display_name": "P1NG2WIN", "link": "https://stackoverflow.com/users/10725071/p1ng2win"}, "is_accepted": false, "score": 1, "last_activity_date": 1566343478, "creation_date": 1566343478, "answer_id": 57582654, "question_id": 57578829, "link": "https://stackoverflow.com/questions/57578829/change-fragment-inside-bottom-sheet/57582654#57582654", "title": "Change fragment inside bottom sheet", "body": "<p>So. To implement this idea, I slightly changed the structure of the application. I created a single <code>BaseBottomSheet</code> class, in the layout of which there is a container for fragments (I set an empty FrameLayout). Which fragment will appear is determined by the tag in the bungle. Also, if you need to change a fragment to another one inside fragment, for example, by using the button, I created public fragment replacement functions available on <code>parentFragment as BaseBottomSheet...</code></p>\n\n<pre><code>fun showAuthFragment() {\n    val fragmentTransaction = childFragmentManager.beginTransaction()\n    fragmentTransaction.replace(R.id.fragmentContainer, AuthView())\n    fragmentTransaction.commit()\n    expandView()\n}\n\nfun showRegistrationFragment() {\n    val fragmentTransaction = childFragmentManager.beginTransaction()\n    fragmentTransaction.replace(R.id.fragmentContainer, RegistrationView())\n    fragmentTransaction.commit()\n    expandView()\n}\n</code></pre>\n\n<p>Also, if your fragments have different sizes, it may happen that your fragment will not be fully visible when displayed. I fixed this by creating the bottomSheetBehavior variable and initializing it in onCreateView *(this is necessary, just calling and setting the value for the BottomSheetBehavior will not work)</p>\n\n<pre><code>    private var bottomSheetBehavior: BottomSheetBehavior&lt;View&gt;? = null\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    dialog?.setOnShowListener { dialog -&gt;\n        val bottomSheet = (dialog as BottomSheetDialog).findViewById&lt;View&gt;(R.id.design_bottom_sheet) as FrameLayout?\n\n        bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet!!)\n    }\n\n    return inflater.inflate(R.layout.base_bottom_sheet, container, false)\n}\n\nfun expandView() {\n    bottomSheetBehavior?.state = BottomSheetBehavior.STATE_EXPANDED\n}\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 10725071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a18f4657e6b307fd5ecc28098688a1?s=128&d=identicon&r=PG&f=1", "display_name": "P1NG2WIN", "link": "https://stackoverflow.com/users/10725071/p1ng2win"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1458, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566343478, "creation_date": 1566322254, "question_id": 57578829, "link": "https://stackoverflow.com/questions/57578829/change-fragment-inside-bottom-sheet", "title": "Change fragment inside bottom sheet", "body": "<p>I have two bottom sheet fragments, authorization and registration. I can open one on top of the other, but it doesn\u2019t look very good. I would like to replace one fragment with another inside one bottom sheet. Is it possible?</p>\n"}, {"tags": ["rest", "api", "kotlin"], "comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1566323511, "post_id": 57578255, "comment_id": 101618075, "body": "please include the full error"}, {"owner": {"reputation": 127, "user_id": 9738078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marina", "link": "https://stackoverflow.com/users/9738078/marina"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1566377118, "post_id": 57578255, "comment_id": 101632938, "body": "there is no error, only my log show this &#39;* * * retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall@9d&zwnj;&#8203;aee07&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 9738078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marina", "link": "https://stackoverflow.com/users/9738078/marina"}, "edited": false, "score": 0, "creation_date": 1566377473, "post_id": 57578903, "comment_id": 101633123, "body": "yeah, I understand that, but still don&#39;t know how to display data in recyclerview. I&#39;ve tried that what you said but got an error &#39;<i>Type mismatch. Required List&lt;MovieResponse&gt;, found Call &lt;List&lt;MovieResponse&gt;&gt;</i>&#39;."}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "reply_to_user": {"reputation": 127, "user_id": 9738078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marina", "link": "https://stackoverflow.com/users/9738078/marina"}, "edited": false, "score": 0, "creation_date": 1566395073, "post_id": 57578903, "comment_id": 101643596, "body": "you need to add the data, that&#39;s the step you&#39;re missing. I couldn&#39;t infer the type of <code>results</code> beforehand, but if you look for a property inside of results, probably <code>results.body()</code> and pass that in, then you might not get that error anymore"}], "tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1566323250, "last_edit_date": 1566323250, "creation_date": 1566322548, "answer_id": 57578903, "question_id": 57578255, "link": "https://stackoverflow.com/questions/57578255/kotlin-how-to-display-data/57578903#57578903", "title": "Kotlin: How to display data?", "body": "<p>You aren't actually passing back any items to display after you've set up your recyclerview. So what you're doing is setting it up, sending a network request, and then you do nothing with that data.</p>\n\n<pre><code>val mainAdapter = MainAdapter()\n...\n\nprivate fun findMovies() {\n        GlobalScope.launch(Dispatchers.Main) {\n            val results = Networking.showSearchService.getPopularMovies(\"0b0e8d104f0d6130a4fc67848f89e107\")\n            Log.d(\"results\", results.toString())\n\n            //Assuming you're returning a list \n            mainAdapter.refreshData(results)\n        }}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 9738078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marina", "link": "https://stackoverflow.com/users/9738078/marina"}, "edited": false, "score": 0, "creation_date": 1566378311, "post_id": 57579060, "comment_id": 101633605, "body": "thanks, i&#39;ll change that :) i don&#39;t have any errors and nothing shows on my screen, just Log tell me smth is wrong. I changed to <code>@SerializedName</code> and <code>Call&lt;MovieResponse&gt;</code> but still the same Log <i>* * * retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall@9d&zwnj;&#8203;aee07</i> Do you have any ideas how to display fetched data?"}], "tags": [], "owner": {"reputation": 41, "user_id": 3806726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GmVKS.png?s=128&g=1", "display_name": "Nathan K", "link": "https://stackoverflow.com/users/3806726/nathan-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1566323252, "creation_date": 1566323252, "answer_id": 57579060, "question_id": 57578255, "link": "https://stackoverflow.com/questions/57578255/kotlin-how-to-display-data/57579060#57579060", "title": "Kotlin: How to display data?", "body": "<p>1) If I were you, I would edit your post to exclude your API key. Take your response and paste in on a site like <a href=\"https://pastebin.com/\" rel=\"nofollow noreferrer\">Pastebin</a>. In the future, try to paste the stacktrace of the error as well as it makes the answers' life much easier.</p>\n\n<p>2) In your response data classes you may need to have <code>@SerializedName</code> for your other values. It's been awhile since I have used Gson as my deserializer, so perhaps that is incorrect. This is likely the reason for this <em>\"Also, I don't know how to get properties in List(Movie) inside of MovieResponse.\"</em></p>\n\n<p>3) Your return type for the API service is wrong. Here is the result of the API call formatted: <a href=\"https://pastebin.com/TQb0YSty\" rel=\"nofollow noreferrer\">https://pastebin.com/TQb0YSty</a>. You can see that the return type is not a list, it is a single JSON object. So your return type of <code>Call&lt;List&lt;MovieResponse&gt;&gt;</code> should be <code>Call&lt;MovieResponse&gt;</code>. This may be what is resulting in the <code>ExecutorCallbackCall</code> error.</p>\n\n<p>There may be other issues, but those are the things that stood out to me right away</p>\n"}], "owner": {"reputation": 127, "user_id": 9738078, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marina", "link": "https://stackoverflow.com/users/9738078/marina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566377580, "creation_date": 1566319710, "last_edit_date": 1566377580, "question_id": 57578255, "link": "https://stackoverflow.com/questions/57578255/kotlin-how-to-display-data", "title": "Kotlin: How to display data?", "body": "<p>I'm working on this app that shows popular movies. I got this Log: \"/results: retrofit2.ExecutorCallAdapterFactory$ExecutorCallbackCall@9daee07\". I got everything done but I don't get any result in my RecyclerView. I don't know how to display data that I fetched. This is url: <a href=\"http://api.themoviedb.org/3/movie/popular?api_key=api_key_goes_here\" rel=\"nofollow noreferrer\">http://api.themoviedb.org/3/movie/popular?api_key=api_key_goes_here</a>. </p>\n\n<p>MovieResponse.kt</p>\n\n<pre><code>data class MovieResponse(\n    val page: Int,\n    val results: List&lt;Movie&gt;,\n    @SerializedName(\"total_pages\") val totalPages: Int,\n    @SerializedName(\"total_results\") val totalResults: Int\n)\n</code></pre>\n\n<p>Movie.kt</p>\n\n<pre><code>data class Movie(\n    val id: Int,\n    val overview: String,\n    val popularity: Double,\n    @SerializedName(\"poster_path\") val posterPath: String,\n    @SerializedName(\"release_date\") val releaseDate: String,\n    val title: String,\n    @SerializedName(\"vote_average\") val voteAverage: Double\n)\n</code></pre>\n\n<p>MainAdapter.kt</p>\n\n<pre><code>package com.example.sloomena.ui\n\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.sloomena.R\nimport com.example.sloomena.data.MovieResponse\nimport kotlinx.android.synthetic.main.movie_details_row.view.*\n\nclass MainAdapter: RecyclerView.Adapter&lt;CustomHolder&gt;(){\n\n    val movies: MutableList&lt;MovieResponse&gt; = mutableListOf()\n\n    fun refreshData(newResults: List&lt;MovieResponse&gt;) {\n        movies.clear()\n        movies.addAll(newResults)\n        notifyDataSetChanged()\n    }\n\n    override fun getItemCount(): Int {\n        return movies.size\n    }\n\n    override fun onBindViewHolder(holder: CustomHolder, position: Int) {\n        holder.bind(movies.get(position))\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomHolder {\n        val layoutInflater = LayoutInflater.from(parent?.context)\n        val cellForRow =  layoutInflater.inflate(R.layout.movie_details_row, parent, false)\n        return CustomHolder(cellForRow)\n    }\n}\nclass CustomHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    fun bind(movie: MovieResponse) {\n\n        itemView.title.text = movie.results.toString()\n    }\n}\n</code></pre>\n\n<p>thmdbAPI.kt</p>\n\n<pre><code>interface tmdbAPI {\n\n    @GET(\"movie/popular\")\n    fun getPopularMovies(\n        @Query(\"api_key\") api_key: String\n    ): Call&lt;List&lt;MovieResponse&gt;&gt;\n}\n</code></pre>\n\n<p>Networking.kt</p>\n\n<pre><code>const val BASE_URL = \"http://api.themoviedb.org/3/\"\n\nobject Networking{\n    val showSearchService: tmdbAPI = Builder()\n        .addConverterFactory(ConverterFactory.converterFactory)\n        .client(HttpClient.client)\n        .baseUrl(BASE_URL)\n        .build()\n        .create(tmdbAPI::class.java)\n}\nobject ConverterFactory{\n    val converterFactory = GsonConverterFactory.create()\n}\nobject HttpClient{\n    val client = OkHttpClient.Builder()\n        .addInterceptor(HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))\n        .build()\n}\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setUpUi()\n        findMovies()\n    }\n\n    private fun setUpUi() {\n        id_recyclerview.layoutManager = LinearLayoutManager(this)\n        id_recyclerview.adapter = MainAdapter()\n    }\n\n    private fun findMovies() {\n        GlobalScope.launch(Dispatchers.Main) {\n            val results = Networking.showSearchService.getPopularMovies(\"api_key_goes_here\")\n            Log.d(\"results\", results.toString())\n        }}\n}\n</code></pre>\n\n<p>In my movie_details_row.xml I have (id_picture_movie, id_movie_realise_date and title). \nAlso, I don't know how to get properties in List(Movie) inside of MovieResponse.</p>\n"}, {"tags": ["spring", "spring-boot", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10512799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O3mCT4VQdcQ/AAAAAAAAAAI/AAAAAAAAijU/ASqJgef_lvQ/photo.jpg?sz=128", "display_name": "Guilherme Biff Zarelli", "link": "https://stackoverflow.com/users/10512799/guilherme-biff-zarelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1566325837, "creation_date": 1566325837, "answer_id": 57579643, "question_id": 57577604, "link": "https://stackoverflow.com/questions/57577604/spring-conflict-when-using-property-expansion-processresources-and-use-prope/57579643#57579643", "title": "Spring - Conflict when using property expansion (processResources) and use properties references in application.yml file", "body": "<p>Solution:</p>\n\n<p>The Gradle expand ${..} style conflicts with the same Spring property placeholder style and therefor needs to be escaped like \\${..}. This is added to Spring Boot docs now: </p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/commit/c0c67f2593dbfd17aa304b43f4da3a3678fa58eb\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/commit/c0c67f2593dbfd17aa304b43f4da3a3678fa58eb</a></p>\n\n<p>The escape must be add in your property reference, like this:</p>\n\n<pre><code>server:\n  port: 123\n\napplication:\n  version: ${version}\n\nfoo:\n  bar: \\${server.port}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10512799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O3mCT4VQdcQ/AAAAAAAAAAI/AAAAAAAAijU/ASqJgef_lvQ/photo.jpg?sz=128", "display_name": "Guilherme Biff Zarelli", "link": "https://stackoverflow.com/users/10512799/guilherme-biff-zarelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566325837, "creation_date": 1566317146, "question_id": 57577604, "link": "https://stackoverflow.com/questions/57577604/spring-conflict-when-using-property-expansion-processresources-and-use-prope", "title": "Spring - Conflict when using property expansion (processResources) and use properties references in application.yml file", "body": "<p>Environment:\n- Spring boot\n- Gradle\n- Kotlin</p>\n\n<p>I was configure the Automatic Property Expansion in Gradle to use gradle properties in my application.yml</p>\n\n<pre><code>processResources {\n    filesMatching(\"application.yml\") {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p>It's work perfectly when I don't use properties references in the same application.yml:</p>\n\n<pre><code>server:\n  port: 123\n\napplication:\n  version: ${version}\n</code></pre>\n\n<p>But, when I use properties references in the application.yml like this :</p>\n\n<pre><code>server:\n  port: 123\n\napplication:\n  version: ${version}\n\nfoo:\n  bar: ${server.port}\n</code></pre>\n\n<p>Occurs that problem in compilation:</p>\n\n<p><strong>* No such property: server for class: SimpleTemplateScript23 *</strong></p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':application:configuration:processResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:148)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:138)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionStateTaskExecuter.execute(ResolveBeforeExecutionStateTaskExecuter.java:75)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:108)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.gradle.api.GradleException: Could not copy file '/home/gbzarelli/Documents/github/java/klean-arch-sample/application/configuration/src/main/resources/application.yml' to '/home/gbzarelli/Documents/github/java/klean-arch-sample/application/configuration/build/resources/main/application.yml'.\n    at org.gradle.api.internal.file.AbstractFileTreeElement.copyTo(AbstractFileTreeElement.java:79)\n    at org.gradle.api.internal.file.copy.DefaultFileCopyDetails.copyTo(DefaultFileCopyDetails.java:109)\n    at org.gradle.api.internal.file.copy.FileCopyAction$FileCopyDetailsInternalAction.processFile(FileCopyAction.java:44)\n    at org.gradle.api.internal.file.copy.NormalizingCopyActionDecorator$1$1.processFile(NormalizingCopyActionDecorator.java:66)\n    at org.gradle.api.internal.file.copy.DuplicateHandlingCopyActionDecorator$1$1.processFile(DuplicateHandlingCopyActionDecorator.java:60)\n    at org.gradle.api.internal.file.copy.CopyFileVisitorImpl.processFile(CopyFileVisitorImpl.java:62)\n    at org.gradle.api.internal.file.copy.CopyFileVisitorImpl.visitFile(CopyFileVisitorImpl.java:46)\n    at org.gradle.api.internal.file.collections.jdk7.Jdk7DirectoryWalker$1.visitFile(Jdk7DirectoryWalker.java:86)\n    at org.gradle.api.internal.file.collections.jdk7.Jdk7DirectoryWalker$1.visitFile(Jdk7DirectoryWalker.java:59)\n    at java.nio.file.Files.walkFileTree(Files.java:2670)\n    at org.gradle.api.internal.file.collections.jdk7.Jdk7DirectoryWalker.walkDir(Jdk7DirectoryWalker.java:59)\n    at org.gradle.api.internal.file.collections.DirectoryFileTree.walkDir(DirectoryFileTree.java:154)\n    at org.gradle.api.internal.file.collections.DirectoryFileTree.visitFrom(DirectoryFileTree.java:132)\n    at org.gradle.api.internal.file.collections.DirectoryFileTree.visit(DirectoryFileTree.java:117)\n    at org.gradle.api.internal.file.collections.FileTreeAdapter.visit(FileTreeAdapter.java:118)\n    at org.gradle.api.internal.file.CompositeFileTree.visit(CompositeFileTree.java:93)\n    at org.gradle.api.internal.file.copy.CopySpecActionImpl.execute(CopySpecActionImpl.java:39)\n    at org.gradle.api.internal.file.copy.CopySpecActionImpl.execute(CopySpecActionImpl.java:24)\n    at org.gradle.api.internal.file.copy.DefaultCopySpec$DefaultCopySpecResolver.walk(DefaultCopySpec.java:698)\n    at org.gradle.api.internal.file.copy.DefaultCopySpec$DefaultCopySpecResolver.walk(DefaultCopySpec.java:700)\n    at org.gradle.api.internal.file.copy.DefaultCopySpec.walk(DefaultCopySpec.java:499)\n    at org.gradle.api.internal.file.copy.DelegatingCopySpecInternal.walk(DelegatingCopySpecInternal.java:282)\n    at org.gradle.api.internal.file.copy.CopySpecBackedCopyActionProcessingStream.process(CopySpecBackedCopyActionProcessingStream.java:38)\n    at org.gradle.api.internal.file.copy.DuplicateHandlingCopyActionDecorator$1.process(DuplicateHandlingCopyActionDecorator.java:44)\n    at org.gradle.api.internal.file.copy.NormalizingCopyActionDecorator$1.process(NormalizingCopyActionDecorator.java:57)\n    at org.gradle.api.internal.file.copy.FileCopyAction.execute(FileCopyAction.java:35)\n    at org.gradle.api.internal.file.copy.NormalizingCopyActionDecorator.execute(NormalizingCopyActionDecorator.java:53)\n    at org.gradle.api.internal.file.copy.DuplicateHandlingCopyActionDecorator.execute(DuplicateHandlingCopyActionDecorator.java:42)\n    at org.gradle.api.internal.file.copy.CopyActionExecuter.execute(CopyActionExecuter.java:40)\n    at org.gradle.api.tasks.AbstractCopyTask.copy(AbstractCopyTask.java:179)\n    at org.gradle.language.jvm.tasks.ProcessResources.copy(ProcessResources.java:33)\n    at sun.reflect.GeneratedMethodAccessor943.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:48)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:702)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:669)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$5.run(ExecuteActionsTaskExecuter.java:401)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:390)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:373)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:79)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:210)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\n    at java.util.Optional.orElseGet(Optional.java:267)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:33)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:39)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n    at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:45)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:31)\n    at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:201)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:70)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:45)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n    at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:43)\n    at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:32)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\n    at java.util.Optional.map(Optional.java:215)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:54)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:77)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:90)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:48)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:117)\n    ... 38 more\nCaused by: groovy.lang.MissingPropertyException: No such property: server for class: SimpleTemplateScript23\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:67)\n    at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:51)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:309)\n    at SimpleTemplateScript23.run(SimpleTemplateScript23.groovy:1)\n    at groovy.text.SimpleTemplateEngine$SimpleTemplate$1.writeTo(SimpleTemplateEngine.java:181)\n    at org.gradle.api.internal.file.copy.FilterChain$3.transform(FilterChain.java:120)\n    at org.gradle.api.internal.file.copy.FilterChain$3.transform(FilterChain.java:109)\n    at org.gradle.api.internal.file.copy.ChainingTransformer.transform(ChainingTransformer.java:36)\n    at org.gradle.api.internal.file.copy.FilterChain.transform(FilterChain.java:55)\n    at org.gradle.api.internal.file.copy.FilterChain.transform(FilterChain.java:63)\n    at org.gradle.api.internal.file.copy.DefaultFileCopyDetails.open(DefaultFileCopyDetails.java:93)\n    at org.gradle.api.internal.file.AbstractFileTreeElement.copyTo(AbstractFileTreeElement.java:56)\n    at org.gradle.api.internal.file.copy.DefaultFileCopyDetails.copyTo(DefaultFileCopyDetails.java:101)\n    at org.gradle.api.internal.file.AbstractFileTreeElement.copyFile(AbstractFileTreeElement.java:93)\n    at org.gradle.api.internal.file.AbstractFileTreeElement.copyTo(AbstractFileTreeElement.java:74)\n    ... 125 more\n</code></pre>\n\n<p>In this case the application file in <code>build/resources</code> is empty, I believe that has a conflict or a properties references replacement  when I use the extension <code>proccessResources</code>, I didn't find any references in the <code>Spring</code> documentations about it. I found one references in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-properties-and-configuration.html</a></p>\n"}, {"tags": ["android", "kotlin", "android-lifecycle", "androidx", "kotlin-extension"], "owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1566381308, "creation_date": 1566313922, "last_edit_date": 1566381308, "question_id": 57576680, "link": "https://stackoverflow.com/questions/57576680/lifecycle-addobserveruntildestroy-extension-stopped-working-with-androidx", "title": "Lifecycle.addObserverUntilDestroy extension stopped working with AndroidX", "body": "<p>I've been using following Kotlin extension to add my lifecycle observers:</p>\n\n<pre><code>fun Lifecycle.addObserverUntilDestroy(observer: LifecycleObserver) {\n    addObserver(observer)\n\n    addObserver(object : LifecycleObserver {\n        @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n        fun onDestroy() {\n            removeObserver(this)\n            removeObserver(observer)\n        }\n    })\n}\n</code></pre>\n\n<p>The idea was to automatically remove the observer when the Lifecycle is being destroyed.</p>\n\n<p>So I can call it in Activity's onPostCreate (in this case a Java code but it is the same when calling from Kotlin):</p>\n\n<pre><code>ArchitectureComponentExtensions.addObserverUntilDestroy(getLifecycle(), myViewModel);\n</code></pre>\n\n<p>And have this code in my ViewModel (a custom one, not the on from Architecture Components):</p>\n\n<pre><code>@OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\npublic void onViewDestroyed() {\n    // This is not being called anymore\n}\n</code></pre>\n\n<p>But this stopped working after migrating from:</p>\n\n<pre><code>import android.arch.lifecycle.Lifecycle\nimport android.arch.lifecycle.LifecycleObserver\nimport android.arch.lifecycle.LifecycleOwner\nimport android.arch.lifecycle.OnLifecycleEvent\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>import androidx.lifecycle.Lifecycle\nimport androidx.lifecycle.LifecycleObserver\nimport androidx.lifecycle.LifecycleOwner\nimport androidx.lifecycle.OnLifecycleEvent\n</code></pre>\n\n<p>Any ideas why this is not working anymore? </p>\n"}, {"tags": ["java", "eclipse", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1566323185, "post_id": 57576248, "comment_id": 101617943, "body": "Not sure what your constraints are, but it&#39;s a pretty outdated version of Kotlin. it&#39;s on 1.3+ now, if it&#39;s possible, you might want to start by updating it if you can."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1566323288, "post_id": 57576248, "comment_id": 101617982, "body": "I\u2019m sorry. It\u2019s the kotlin eclipse plugin version. Will correct the list of used tools."}, {"owner": {"reputation": 10449, "user_id": 2660952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Yg9mk.jpg?s=128&g=1", "display_name": "Kai Huppmann", "link": "https://stackoverflow.com/users/2660952/kai-huppmann"}, "edited": false, "score": 0, "creation_date": 1566914914, "post_id": 57576248, "comment_id": 101800075, "body": "Hi. Same here. Any progress on your side?"}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1566915276, "post_id": 57576248, "comment_id": 101800286, "body": "Unfortunately not. Building via gradlew on the command line or IntelliJ IDEA, but no running inside Eclipse."}, {"owner": {"reputation": 10449, "user_id": 2660952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Yg9mk.jpg?s=128&g=1", "display_name": "Kai Huppmann", "link": "https://stackoverflow.com/users/2660952/kai-huppmann"}, "edited": false, "score": 0, "creation_date": 1566915733, "post_id": 57576248, "comment_id": 101800546, "body": "@MichielLeegwater Thanks for quick answer. I think I&#39;ll change to IDEA/Gradle for now. Just in order to make things work and fix the we-should-also-be-able-to-work-with-eclipse-problem later."}, {"owner": {"reputation": 10449, "user_id": 2660952, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Yg9mk.jpg?s=128&g=1", "display_name": "Kai Huppmann", "link": "https://stackoverflow.com/users/2660952/kai-huppmann"}, "edited": false, "score": 0, "creation_date": 1566916036, "post_id": 57576248, "comment_id": 101800715, "body": "I just observed something strange: When I try to configure a different Java Build Path in project properties via Browse-button, the file view offers a kotlin_bin folder (including exactly the subfolders it should have), but this folder is not really present on disk. Is this where you got your screenshot from or is it showing a &quot;realistic file situation&quot;?"}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1566928901, "post_id": 57576248, "comment_id": 101806806, "body": "The screenshot is an actual screenshot of a part of eclipse. If you look at the .project file there is a linkedResource. I\u2019ve been told this explains the screenshot and no files on the file system."}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 1, "creation_date": 1569030044, "post_id": 58033844, "comment_id": 102474914, "body": "Thanks for your reply. It seems very Java only, therefore I am not sure yet that the reply will point out the problem. A superficial check yielded: It seems that there is something peculiar going on. The kotlin compiled classes are put in a virtual folder called kotlin_bin. At runtime the virtual folder is not used. I\u2019ve edited the classpath to no avail. Will continue investigation later this weekend."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 1, "creation_date": 1569106125, "post_id": 58033844, "comment_id": 102489399, "body": "Thanks for providing the explanation. It does not yet result in a solved situation. Understanding has improved due to this answer."}, {"owner": {"reputation": 2631, "user_id": 2851311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HzvnJ.jpg?s=128&g=1", "display_name": "hfontanez", "link": "https://stackoverflow.com/users/2851311/hfontanez"}, "reply_to_user": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 1, "creation_date": 1569254991, "post_id": 58033844, "comment_id": 102528854, "body": "@MichielLeegwater, it appears that support for Kotlin in Eclipse is broken: <a href=\"https://discuss.kotlinlang.org/t/eclipse-kotlin-plug-in-java-lang-noclassdeffounderror-org-eclipse-jdt-internal-ui-javaeditor-compilationuniteditor/10789\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2631, "user_id": 2851311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HzvnJ.jpg?s=128&g=1", "display_name": "hfontanez", "link": "https://stackoverflow.com/users/2851311/hfontanez"}, "is_accepted": false, "score": 0, "last_activity_date": 1569005818, "creation_date": 1569005818, "answer_id": 58033844, "question_id": 57576248, "link": "https://stackoverflow.com/questions/57576248/kotlin-and-java-project-in-eclipse-noclassdeffounderror-where-are-the-class-fi/58033844#58033844", "title": "Kotlin and Java project in Eclipse, NoClassDefFoundError, where are the class files?", "body": "<p>Typically, when you get a <code>NoClassDefFoundError</code> it means that the class loader cannot find your classes because your class \"disappeared\". In Eclipse, this is typically fixed with a simple \"Clean Project\" to force rebuilding. On the other hand, <code>ClassNotFoundException</code> means something went wrong with your classpath. If cleaning the project and rebuilding doesn't work, I think it might still be possible something could be wrong with your classpath. To check your classpath in Eclipse, change to the Navigator View  and open your <code>.classpath</code> file (see image below). </p>\n\n<p><a href=\"https://i.stack.imgur.com/deM8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/deM8I.png\" alt=\"Navigator View\"></a></p>\n\n<p>Then, check your <code>classpathentry</code> nodes to see \"output\" path. Your <code>.classpath</code> should contains mappings for your source location, your output location (where compiled classes reside), as well as references to your JRE container and any libraries imported by the project. Make sure all of these entries are correct.</p>\n\n<p>My guess is that your classpath is not right. To fix, follow these instructions: <a href=\"https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html\" rel=\"nofollow noreferrer\">https://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html</a>.  One of those suggestions should work.</p>\n"}, {"tags": [], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "is_accepted": true, "score": 1, "last_activity_date": 1569952766, "creation_date": 1569952766, "answer_id": 58190072, "question_id": 57576248, "link": "https://stackoverflow.com/questions/57576248/kotlin-and-java-project-in-eclipse-noclassdeffounderror-where-are-the-class-fi/58190072#58190072", "title": "Kotlin and Java project in Eclipse, NoClassDefFoundError, where are the class files?", "body": "<p>This issue seems to be an issue with the Eclipse plugin. See <a href=\"https://youtrack.jetbrains.com/issue/KE-344\" rel=\"nofollow noreferrer\">KE-344</a>. All symptoms seem to match.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 14129761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0fa638816a65408ec064bcc9e3c53a8?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Tom", "link": "https://stackoverflow.com/users/14129761/jerry-tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1604979787, "creation_date": 1604979787, "answer_id": 64762555, "question_id": 57576248, "link": "https://stackoverflow.com/questions/57576248/kotlin-and-java-project-in-eclipse-noclassdeffounderror-where-are-the-class-fi/64762555#64762555", "title": "Kotlin and Java project in Eclipse, NoClassDefFoundError, where are the class files?", "body": "<p>since i branch my project ,then refactor project name suit next feature.\nthen my project can't find kotlin class.i search google and stackoverflow no effect.\ni diff project with scm HEAD version, discover the differece in</p>\n<p>.project</p>\n<pre><code>&lt;linkedResources&gt;\n    &lt;link&gt;\n        &lt;name&gt;kotlin_bin&lt;/name&gt;\n        &lt;type&gt;2&lt;/type&gt;\n        &lt;locationURI&gt;org.jetbrains.kotlin.core.filesystem:/**YOUR_PROJECT**/kotlin_bin&lt;/locationURI&gt;\n    &lt;/link&gt;\n&lt;/linkedResources&gt;\n</code></pre>\n<p>then i fix project name in .project file. it was fixed after rebuild</p>\n"}], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 1, "accepted_answer_id": 58190072, "answer_count": 3, "score": 7, "last_activity_date": 1604979787, "creation_date": 1566312444, "last_edit_date": 1566373382, "question_id": 57576248, "link": "https://stackoverflow.com/questions/57576248/kotlin-and-java-project-in-eclipse-noclassdeffounderror-where-are-the-class-fi", "title": "Kotlin and Java project in Eclipse, NoClassDefFoundError, where are the class files?", "body": "<p>In <a href=\"https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse\">this question</a> the basic configuration of Kotlin + Java + Gradle in Eclipse is described. It allows me to create Kotlin code. The Kotlin and Java natures are correctly present. Unfortunately, the code does not run. Not as Kotlin application nor as JUnit test.</p>\n\n<p>When my (i.e. created by me) Kotlin class is called from Java code, it yields a NoClassDefFoundError. When the same test/application is run from Gradle or IntelliJ the code runs correctly.</p>\n\n<p>My investigation thus far has uncovered that the class files in the bin folder are not there to be found when executing.</p>\n\n<p><strong>Using the buildship plugin</strong></p>\n\n<p>The image below shows that the <code>src</code> tree exists. All Java compile classes are in the <code>src</code> tree. The <code>kotlin_bin</code> folder has the correct folders, but no files.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jzOlB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jzOlB.png\" alt=\"Eclipse bin folder\"></a></p>\n\n<p><strong>Using gradlew eclipse and import .project files</strong></p>\n\n<p>This results in the same behavior. I prefer buildship to manage gradle.</p>\n\n<p><strong>Tool versions</strong></p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>Eclipse 2019-03 or 2019-06</li>\n<li>Kotlin eclipse plugin 0.8.17</li>\n<li>Kotlin-gradle eclipse plugin 0.8.17</li>\n<li>Buildship plugin 3.1.0</li>\n<li>Gradle 5.4.1</li>\n<li>Kotlin 1.3</li>\n<li>Java 11</li>\n</ul>\n\n<p>Any tips on how to proceed? I would like to be able to run in Eclipse. We're adding a small Kotlin part to the project, I would prefer not to force my team to switch to IntelliJ.</p>\n"}, {"tags": ["android-fragments", "kotlin", "android-recyclerview", "onclicklistener"], "comments": [{"owner": {"reputation": 2089, "user_id": 1406322, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3YHvq.jpg?s=128&g=1", "display_name": "Aaditya Sharma", "link": "https://stackoverflow.com/users/1406322/aaditya-sharma"}, "edited": false, "score": 1, "creation_date": 1566313067, "post_id": 57576182, "comment_id": 101613039, "body": "Can you brief about the errors you&#39;re getting?"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1566323686, "post_id": 57576182, "comment_id": 101618150, "body": "How are you setting it up in your fragment?"}], "owner": {"reputation": 1, "user_id": 11952244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ttS0W0ppFiQ/AAAAAAAAAAI/AAAAAAAAAM8/KZD5dJGOrNU/photo.jpg?sz=128", "display_name": "Ashutosh Bodade", "link": "https://stackoverflow.com/users/11952244/ashutosh-bodade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566312735, "creation_date": 1566312241, "last_edit_date": 1566312735, "question_id": 57576182, "link": "https://stackoverflow.com/questions/57576182/onclick-recyclerview-fragment-kotlin", "title": "onclick recyclerview fragment kotlin", "body": "<p>Following Code works perfectly on Activity but not on fragment</p>\n\n<pre><code>class MyProjects(view: View) : RecyclerView.ViewHolder(view) {\n    init {\n        view.setOnClickListener { println(\"Test\") }\n    }\n\n    var partyname = view.findViewById&lt;TextView&gt;(R.id.txtBorn)\n    var service = view.findViewById&lt;TextView&gt;(R.id.txtFirst)\n    var status = view.findViewById&lt;TextView&gt;(R.id.txtLast)\n\n    fun bind(b: String, f: String, l: String) {\n        partyname.text = b.toString()\n        service.text = f.toString()\n        if (l == \"completed\") {\n            status.text = \"C\"\n            status.setTextColor(Color.parseColor(\"#bdbdbd\"))\n        } else {\n            status.text = l.toString()\n        }\n    }\n}\n</code></pre>\n\n<p>I am new to Kotlin\u2026</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1566311787, "creation_date": 1566311787, "answer_id": 57576037, "question_id": 57575980, "link": "https://stackoverflow.com/questions/57575980/how-to-perform-sequential-operation-with-too-much-completable-methods/57576037#57576037", "title": "How to perform sequential operation with too much Completable methods", "body": "<p>There is a method called <code>doOnComplete()</code> which you can use to make your second call through a lambda or jack. </p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 11504837, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ihVAR81qYHY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY6-I8JU-F5ESz6KaLBYDuBmQnww/mo/photo.jpg?sz=128", "display_name": "Isak", "link": "https://stackoverflow.com/users/11504837/isak"}, "is_accepted": true, "score": 2, "last_activity_date": 1566312178, "creation_date": 1566312178, "answer_id": 57576151, "question_id": 57575980, "link": "https://stackoverflow.com/questions/57575980/how-to-perform-sequential-operation-with-too-much-completable-methods/57576151#57576151", "title": "How to perform sequential operation with too much Completable methods", "body": "<p>I disagree with using <code>doOnComplete()</code>. In that case your not combining the Completables into a single Completable event that you can observe. What you probably want is something like <code>doThingA().andThen(Completable.defer(() -&gt; doThingB())</code> as mentioned in <a href=\"https://stackoverflow.com/a/51866155/11504837\">this</a> answer on a similar question.</p>\n"}], "owner": {"reputation": 13, "user_id": 9128175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69425b33f47a700d6dfe37c597580ad0?s=128&d=identicon&r=PG&f=1", "display_name": "G&#252;rcan ATAMAN", "link": "https://stackoverflow.com/users/9128175/g%c3%bcrcan-ataman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 57576151, "answer_count": 2, "score": 1, "last_activity_date": 1566313678, "creation_date": 1566311582, "last_edit_date": 1566313678, "question_id": 57575980, "link": "https://stackoverflow.com/questions/57575980/how-to-perform-sequential-operation-with-too-much-completable-methods", "title": "How to perform sequential operation with too much Completable methods", "body": "<p>I am trying to save the data on the server to the local database with Room. Since these tables are related to each other, I want the insertion to be done in order.I listen to these operations with RxJava. For example i have school's and season's tables and  and that's how I add the data:</p>\n\n<pre><code>fun insertAllSchools(vararg schools: School):Completable=dao.insertAll(*schools)\n\nfun insertAllSeasons(vararg seasons: Season):Completable=dao.insertAll(*seasons)\n</code></pre>\n\n<p>When I create a separate method for each table, the insertion process is done, but I have to write a disposable method for each of them. Like this:</p>\n\n<pre><code>fun insertAllSchools(allData:ResponseAll){\n        if(allData.schoolList!=null){\n            disposable.add(\n                    repositorySchool.insertAll(*allData.schoolList.toTypedArray())\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribeWith(object : DisposableCompletableObserver(){\n                                override fun onComplete() {\n                                    Log.d(TAG,\"OnComplete\")\n                                }\n                                override fun onError(e: Throwable) {\n                                    Log.e(TAG,\"Error\"+e.localizedMessage)\n                                }\n\n                            })\n            )\n        }\n    }\n\n</code></pre>\n\n<p>When one is complete, I call the other method, but this time there is a lot of unnecessary code.</p>\n\n<p>I have tried different methods to combine these completable methods and work sequentially, but it does not add to the database even though it appears in the logs. </p>\n\n<p>For example, I tried to combine it this way:</p>\n\n<pre><code>if(allData.schoolList!=null){\n            mObservable = Observable.fromArray(\n                    repositorySchool.clearAllData(),\n                    repositorySchool.insertAll(*allData.schoolList.toTypedArray())\n            )\n\n            disposable.add(\n                    mObservable\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribeWith(object : DisposableObserver&lt;Completable&gt;() {\n                                override fun onComplete() {\n                                    Log.d(TAG,\"onComplete\")\n                                    isDataLoad.value = true\n                                }\n                                override fun onNext(t: Completable) {\n                                    Log.d(TAG,\"onNext\"+t)\n                                }\n                                override fun onError(e: Throwable) {\n                                    Log.e(TAG,\"onError\")\n                                }\n                            })\n            )\n        }\n</code></pre>\n\n<p>I do not receive any errors. How can I combine these completable methods and make them work sequentially. Thanks!</p>\n\n<p>Edit(Solution): It works like this:------------></p>\n\n<pre><code>if(allData.schoolList!=null) {\n            disposable.add(\n                    repositorySchool.clearAllData()\n                            .andThen(Completable.defer { repositorySchool.insertAll(*allData.schoolList.toTypedArray()) })\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribeWith(object : DisposableCompletableObserver() {\n                                override fun onComplete() {\n                                    isDataLoad.value = true\n                                }\n\n                                override fun onError(e: Throwable) {\n                                    Log.e(TAG,\"\"+e.localizedMessage)\n                                }\n\n                            })\n            )\n        }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "reply_to_user": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "edited": false, "score": 0, "creation_date": 1566311388, "post_id": 57575746, "comment_id": 101612004, "body": "@MadhuBhat, I see, thank you for answer"}], "answers": [{"tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": true, "score": 3, "last_activity_date": 1566311541, "creation_date": 1566311541, "answer_id": 57575971, "question_id": 57575746, "link": "https://stackoverflow.com/questions/57575746/how-to-pass-argument-that-inherits-base-class-and-implements-interface/57575971#57575971", "title": "How to pass argument that inherits base class and implements interface?", "body": "<p>You can set multiple upper bounds on generic types using the <code>where</code> clause:</p>\n\n<pre><code>fun &lt;T&gt; destroyBrains(justKillMe: T)\n    where T : BaseClass,\n          T : IListener {\n\n}\n</code></pre>\n\n<p>Depending on what you are trying to achieve, maybe this will be useful. </p>\n"}], "owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1566313355, "accepted_answer_id": 57575971, "answer_count": 1, "score": 1, "last_activity_date": 1566311541, "creation_date": 1566310860, "question_id": 57575746, "link": "https://stackoverflow.com/questions/57575746/how-to-pass-argument-that-inherits-base-class-and-implements-interface", "closed_reason": "Duplicate", "title": "How to pass argument that inherits base class and implements interface?", "body": "<p>I need to pass in the method an object which class inherits from base class and implements my interface. I wrote it below in pseudo Kotlin syntax:  </p>\n\n<pre><code>fun destroyBrains(justKillMe: BaseClass &amp; IListener) {\n}\n</code></pre>\n\n<p>Is it possible in Kotlin? (I mean not to introduce a new class that will implements <code>BaseClass</code> and <code>IListener</code>)</p>\n"}, {"tags": ["kotlin", "cucumber", "cucumber-java"], "comments": [{"owner": {"reputation": 2091, "user_id": 7736617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Th0P.jpg?s=128&g=1", "display_name": "Arnaud Claudel", "link": "https://stackoverflow.com/users/7736617/arnaud-claudel"}, "edited": false, "score": 0, "creation_date": 1566311432, "post_id": 57575136, "comment_id": 101612019, "body": "Can&#39;t you write <code>Given(&quot;abc&quot;) { commonMethod() }</code> and <code>When(&quot;abc&quot;) { commonMethod() }</code> ?"}, {"owner": {"reputation": 8275, "user_id": 4512398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjm4v.jpg?s=128&g=1", "display_name": "Grasshopper", "link": "https://stackoverflow.com/users/4512398/grasshopper"}, "edited": false, "score": 0, "creation_date": 1566317260, "post_id": 57575136, "comment_id": 101615380, "body": "U can try making the <code>-page</code> part optional. <code>FAQ(-page) is open</code> or even alternate <code>FAQ&#47;FAQ-page is open</code>"}], "owner": {"reputation": 341, "user_id": 6870790, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HbNj-VUJszI/AAAAAAAAAAI/AAAAAAAADkk/hZMfE9U6izc/photo.jpg?sz=128", "display_name": "Boris", "link": "https://stackoverflow.com/users/6870790/boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1566308794, "creation_date": 1566308794, "question_id": 57575136, "link": "https://stackoverflow.com/questions/57575136/can-i-have-two-step-definitions-for-one-step-when-having-java8-lambda-style", "title": "Can I have two step definitions for one step when having java8 lambda style", "body": "<p>After switching to lambda step definitions for my glue code, I have the problem that some steps had two step-definitions (one for When and one for Given). Now it seems that lambda-style step-definitions cannot have two cucumberexpressions</p>\n\n<p>Please, no advisories of leaving one of the Regex. I'm doing all the stuff in German and there is a spelling problem when having the same sentence with \"Angenommen\" or \"Wenn\" (which is Given and When)</p>\n\n<p>The code example is from a kotlin-project!</p>\n\n<pre><code>Given(\"FAQ is open\"),\nWhen(\"FAQ-page is open\") {\n            getWebDriver.gotoUrl(PageUrls.FAQ, FAQPage::class, testDataContainer)\n            getPage(FAQPage::class).waitForPageLoaded()\n        }\n</code></pre>\n\n<p>Is there a way to do it in java8-lambda Style?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "sonarqube"], "comments": [{"owner": {"reputation": 127, "user_id": 1936826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73602b0f889a78a2c9275f2dfba6518d?s=128&d=identicon&r=PG", "display_name": "adrem7", "link": "https://stackoverflow.com/users/1936826/adrem7"}, "edited": false, "score": 0, "creation_date": 1616107673, "post_id": 57574953, "comment_id": 117907431, "body": "Do you understand why this warning is appearing? I am seeing a similar warning on lateinit vars and wondered if you knew what was causing this and how to fix or suppress? Did you even get a solution??"}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "reply_to_user": {"reputation": 127, "user_id": 1936826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73602b0f889a78a2c9275f2dfba6518d?s=128&d=identicon&r=PG", "display_name": "adrem7", "link": "https://stackoverflow.com/users/1936826/adrem7"}, "edited": false, "score": 0, "creation_date": 1616230005, "post_id": 57574953, "comment_id": 117941003, "body": "Alas, as far as I know there is no solution yet. It seems to me that it is a problem in sonar where the Java rules are applied to Kotlin. My guess is that the warnings are based on the bytecode. The bytecode for Kotlin is optimized on the premise that the compiler insures the issues detected by sonar will not occur. Suppression of these warnings has thus far failed. Amending the rule set was deemed too drastic in my case."}], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566632122, "creation_date": 1566308134, "last_edit_date": 1566632122, "question_id": 57574953, "link": "https://stackoverflow.com/questions/57574953/sonarqube-with-mixed-kotlin-java-project-reports-java-issues-on-kotlin-files", "title": "Sonarqube with mixed Kotlin/Java project reports Java issues on Kotlin files", "body": "<p>Basically my question is: Is this a sonarqube bug or incorrect configuration? (The reported errors are from findbugs, this example is: <code>findbugs:RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE</code>)\n<a href=\"https://i.stack.imgur.com/SB6g2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SB6g2.png\" alt=\"Sonar screenshot\"></a></p>\n\n<p>What is my setup:</p>\n\n<ul>\n<li>Sonarqube 7.5 with a Kotlin (company wide) profile and a Java (company wide) profile enabled for my project</li>\n<li>Gradle 5.4 project with both Kotlin 1.3 and Java 11</li>\n</ul>\n\n<p>I did not expect to see this findbugs warning in my Kotlin code, as the check that produces this warning is part of the Java profile. </p>\n\n<p>To the best of my knowledge I cannot configure which profile to apply to which part of my code in de Gradle configuration. It happens automagically in Sonarqube.</p>\n\n<p>So the next approach was to suppress the warnings. Both <code>@Suppress</code> from Kotlin and <code>@SuppressWarnings</code> from Java fail to suppress the issue.</p>\n\n<p><strong>Edit:</strong> That is the topic of <a href=\"https://stackoverflow.com/questions/51646917/sonarqube-how-to-suppress-a-warning-in-kotlin-code/57635948#57635948\">SonarQube: How to suppress a warning in Kotlin code</a>. Recent updates may yield different results. If that helps I\u2019ll update.</p>\n\n<p>Any tips on how to remove these Sonar issues from my project? I would prefer keeping the findbugs checks enabled.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566308608, "post_id": 57575009, "comment_id": 101610340, "body": "<code>setValue</code> is unresolved reference. Mb i need cast to <code>Target</code>?  <code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: @InlineOnly public inline operator fun &lt;V&gt; MutableMap&lt;in String, in TypeVariable(V)&gt;.setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: TypeVariable(V)): Unit defined in kotlin.collections</code>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566308804, "post_id": 57575009, "comment_id": 101610479, "body": "Oh sorry, my bad. I just added a call to <code>.getRef()</code> function. Please see my updated answer."}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566309071, "post_id": 57575009, "comment_id": 101610651, "body": "cool, it&#39;s working, thanks. we couldn&#39;t do it with the method: <code>updateChildren()</code>?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 1, "creation_date": 1566309157, "post_id": 57575009, "comment_id": 101610707, "body": "Good to hear that :) Yes you could do that but in that case you could only update a single element. In this case, you can update multiple. Glad I could help."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566308764, "last_edit_date": 1566308764, "creation_date": 1566308333, "answer_id": 57575009, "question_id": 57574885, "link": "https://stackoverflow.com/questions/57574885/update-target-in-firebase/57575009#57575009", "title": "Update target in firebase", "body": "<p>To update the value of your <code>name</code> property, please use the following lines of code:</p>\n\n<pre><code>val uid = FirebaseAuth.getInstance().currentUser!!.uid\nval rootRef = FirebaseDatabase.getInstance().reference\nval targetsRef = rootRef!!.child(\"targets\").child(\"users\").child(uid).child(\"targets\")\nval query = targetsRef.orderByChild(\"guid\").equalTo(\"-LmjBTkVXhmXaqL0b4RG\")\nval valueEventListener = object : ValueEventListener {\n    override fun onDataChange(dataSnapshot: DataSnapshot) {\n        for (ds in dataSnapshot.children) {\n            ds.child(\"name\").getRef().setValue(\"The New Vadim Morozov\")\n        }\n    }\n\n    override fun onCancelled(databaseError: DatabaseError) {\n        Log.d(TAG, databaseError.getMessage()) //Don't ignore errors!\n    }\n}\nquery.addListenerForSingleValueEvent(valueEventListener)\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57575009, "answer_count": 1, "score": 1, "last_activity_date": 1566308764, "creation_date": 1566307919, "question_id": 57574885, "link": "https://stackoverflow.com/questions/57574885/update-target-in-firebase", "title": "Update target in firebase", "body": "<p>I have a <code>target</code> on my <code>recyclerView</code>\nWhen I move on to this task, I call the <code>updateTarget()</code> method:</p>\n\n<pre><code>private fun updateTarget(name: String, description: String) {\n        val map = mapOf(\"name\" to name, \"description\" to description)\n        databaseReference?.child(\"targets\")?.child(\"users\")\n            ?.child(uid.toString())?.child(\"targets\")?.child(targetGuid)?.updateChildren(map)\n    }\n</code></pre>\n\n<p>But after I change the <code>name</code> with the <code>description</code>, and click update,\nit does not change the existing <code>target</code> but adds a new one without the <code>guid</code> field.\nAnd it turns out the following structrure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LPmnB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LPmnB.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>-LmjBTkVXhmXaqL0b4RG</code> here redundant.</p>\n"}, {"tags": ["string", "kotlin", "idioms"], "comments": [{"owner": {"reputation": 9141, "user_id": 2015912, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/186a1b9d7c47d6c3927ea3db23c45d07?s=128&d=identicon&r=PG", "display_name": "scottb", "link": "https://stackoverflow.com/users/2015912/scottb"}, "edited": false, "score": 1, "creation_date": 1566308066, "post_id": 57574853, "comment_id": 101610003, "body": "You&#39;re asking .... which is more clear <i>to read</i>? ... How is that question answerable?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 5, "creation_date": 1566308163, "post_id": 57574853, "comment_id": 101610070, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>. It&#39;s just <code>val s = buildString { append(data) }</code>"}, {"owner": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "edited": false, "score": 0, "creation_date": 1566308672, "post_id": 57574853, "comment_id": 101610382, "body": "thanks @dyukha - that is what I was looking for!"}], "answers": [{"comments": [{"owner": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "edited": false, "score": 0, "creation_date": 1566308291, "post_id": 57574933, "comment_id": 101610155, "body": "If in sting generation 3 or more conditionals interpolated string is much more messy than StringBuilder"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "edited": false, "score": 1, "creation_date": 1566308353, "post_id": 57574933, "comment_id": 101610196, "body": "That&#39;s a fair critique. However, the original question doesn&#39;t have that, so I was just offering alternatives. Not every solution works for every problem. :)"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1566308070, "creation_date": 1566308070, "answer_id": 57574933, "question_id": 57574853, "link": "https://stackoverflow.com/questions/57574853/idiomatic-way-of-using-stringbuilder-in-kotlin/57574933#57574933", "title": "Idiomatic way of using StringBuilder in kotlin?", "body": "<p>You could skip the <code>StringBuilder</code> and use Kotlin's built-in String Interpolation:</p>\n\n<pre><code>val string = \"$data\"\n</code></pre>\n\n<p>Or if things are more complicated:</p>\n\n<pre><code>val string = \"The answer is: $data\"\n</code></pre>\n\n<p>Or, using raw strings:</p>\n\n<pre><code>val string = \n    \"\"\"\n    {\n        \"name\": $name,\n        \"value\": $value\n    }\n    \"\"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 1, "creation_date": 1566313604, "post_id": 57575137, "comment_id": 101613348, "body": "You can also use chained form <code>StringBuilder().append(&quot;first&quot;).append(&quot;second&quot;).toString()</code>"}, {"owner": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1566375740, "post_id": 57575137, "comment_id": 101632255, "body": "in description: &quot;usually there are a lot of conditionals, so single liners are not fit&quot;"}], "tags": [], "owner": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "is_accepted": true, "score": 7, "last_activity_date": 1566308795, "creation_date": 1566308795, "answer_id": 57575137, "question_id": 57574853, "link": "https://stackoverflow.com/questions/57574853/idiomatic-way-of-using-stringbuilder-in-kotlin/57575137#57575137", "title": "Idiomatic way of using StringBuilder in kotlin?", "body": "<p>@dyukha answer is 100% best choice: \n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html</a></p>\n\n<p>It's just </p>\n\n<pre><code>val s = buildString { append(data) } \n</code></pre>\n"}], "owner": {"reputation": 1583, "user_id": 1583039, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5415610437f529f596e7c0901d70f356?s=128&d=identicon&r=PG", "display_name": "curioushikhov", "link": "https://stackoverflow.com/users/1583039/curioushikhov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1679, "favorite_count": 0, "closed_date": 1566336273, "accepted_answer_id": 57575137, "answer_count": 2, "score": 4, "last_activity_date": 1566308795, "creation_date": 1566307816, "question_id": 57574853, "link": "https://stackoverflow.com/questions/57574853/idiomatic-way-of-using-stringbuilder-in-kotlin", "closed_reason": "Opinion-based", "title": "Idiomatic way of using StringBuilder in kotlin?", "body": "<p>I often write pretty complex toString() methods and this question is always bothering me - which variant is more clear to read. Following examples are simplified, usually there are a lot of conditionals, so single liners are not fit.</p>\n\n<p>1) like in plain java: </p>\n\n<pre><code>val sb = StringBuilder()\nsb.append(data)\nval string = sb.toString()\n</code></pre>\n\n<p>2) apply + toString() - not pretty yeah?</p>\n\n<pre><code>val string = StringBuilder().apply {\n    append(data)\n}.toString()\n</code></pre>\n\n<p>3) run + toString() last statement also is not superb</p>\n\n<pre><code>val string = StringBuilder().run {\n    append(data)\n    toString()\n}\n</code></pre>\n\n<p>4) ??</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "edited": false, "score": 0, "creation_date": 1566392133, "post_id": 57576033, "comment_id": 101641598, "body": "Yes, I was using <code>CoroutineCallAdapterFactory</code>. Even so, I removed it and upgraded Retrofit to <code>2.6.2</code>, but nothing chaged. I&#39;m getting the same error. Seems that <code>Deferred</code> can not be found in the libraries."}, {"owner": {"reputation": 21, "user_id": 6839227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/di9p3.jpg?s=128&g=1", "display_name": "faogustavo", "link": "https://stackoverflow.com/users/6839227/faogustavo"}, "reply_to_user": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "edited": false, "score": 0, "creation_date": 1566397528, "post_id": 57576033, "comment_id": 101645265, "body": "Try to also add android coroutines library (<code>org.jetbrains.kotlinx:kotlinx-coroutines-android:1.2.2</code>). Also, check the proguard/R8. If it&#39;s on, maybe you should add some rules to the configuration file. <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-core/jvm/resources/META-INF/proguard/coroutines.pro\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "edited": false, "score": 0, "creation_date": 1566481984, "post_id": 57576033, "comment_id": 101677135, "body": "I just created another project, now in Android Studio 3.5, imported the same modules and it&#39;s working."}, {"owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "edited": false, "score": 0, "creation_date": 1566855670, "post_id": 57576033, "comment_id": 101779222, "body": "The same error is being displayed on logcat again! I just added coroutines as dependency (<code>org.jetbrains.kotlinx:kotlinx-coroutines-android:1.2.2</code>), but it didn&#39;t work. About proguard. I did nothing with it. It&#39;s just AS default."}], "tags": [], "owner": {"reputation": 21, "user_id": 6839227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/di9p3.jpg?s=128&g=1", "display_name": "faogustavo", "link": "https://stackoverflow.com/users/6839227/faogustavo"}, "is_accepted": false, "score": 0, "last_activity_date": 1566311770, "creation_date": 1566311770, "answer_id": 57576033, "question_id": 57574640, "link": "https://stackoverflow.com/questions/57574640/java-lang-nosuchmethoderror-no-interface-method-gettopratedmoviesasynclkotlin/57576033#57576033", "title": "java.lang.NoSuchMethodError: No interface method getTopRatedMoviesAsync()Lkotlinx/coroutines/Deferred;", "body": "<p>Check if your retrofit implementation is adding the <code>CoroutineCallAdapterFactory</code> like the example below.</p>\n\n<pre><code>val retrofit = Retrofit.Builder()\n    .baseUrl(\"https://example.com/\")\n    .addCallAdapterFactory(CoroutineCallAdapterFactory()) // &lt;- Check this line\n    .build()\n</code></pre>\n\n<hr>\n\n<p>Another way to use coroutines with Retrofit is by upgrading it to <code>2.6.+</code>. In this version, the coroutines are supported by default, and then you can remove the <code>retrofit2-kotlin-coroutines-adapter</code> library.</p>\n"}], "owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 755, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566311770, "creation_date": 1566307111, "question_id": 57574640, "link": "https://stackoverflow.com/questions/57574640/java-lang-nosuchmethoderror-no-interface-method-gettopratedmoviesasynclkotlin", "title": "java.lang.NoSuchMethodError: No interface method getTopRatedMoviesAsync()Lkotlinx/coroutines/Deferred;", "body": "<p>I'm getting this error when trying to run my app that uses an Android Module to load a list of objects from the Web:</p>\n\n<pre><code>java.lang.NoSuchMethodError: No interface method getTopRatedMoviesAsync()Lkotlinx/coroutines/Deferred; in class Lcom/example/topratedmovies/network/TmdbApi; or its super classes (declaration of 'com.example.topratedmovies.network.TmdbApi' appears in /data/app/com.example.mynetflixclone-mj27Djaz9ecQx8TopvKI0A==/split_lib_slice_8_apk.apk)\n        at com.example.topratedmovies.viewmodel.TopRatedMoviesViewModel$fetchAllTrending$1.invokeSuspend(TopRatedMoviesViewModel.kt:17)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:238)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-08-20 09:42:16.280 1607-1607/? E/lowmemorykiller: Error writing /proc/29688/oom_score_adj; errno=22\n2019-08-20 09:42:16.335 1884-1958/? E/InputDispatcher: channel '48df775 com.example.mynetflixclone/com.example.mynetflixclone.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n2019-08-20 09:42:19.086 1736-1821/? E/storaged: getDiskStats failed with result NOT_SUPPORTED and size 0\n2019-08-20 09:42:19.540 1884-2011/? E/TaskPersister: File error accessing recents directory (directory doesn't exist?).\n2019-08-20 09:42:23.866 1884-1898/? E/memtrack: Couldn't load memtrack module\n2019-08-20 09:42:23.870 1884-1898/? E/memtrack: Couldn't load memtrack module\n</code></pre>\n\n<p><strong>I've tried the solution in this two links:</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/52037520/kotlin-coroutines-nosuchmethoderror-when-calling-overriden-suspended-function\">kotlin, coroutines, NoSuchMethodError when calling overriden suspended function from other module</a> </p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/775\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/775</a> </p>\n\n<p><strong>But didn't work.</strong></p>\n\n<p>I tried to fix this by inserting this line in my android module:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.2.61'\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.2'\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p>each line at a time. Nothing worked.</p>\n\n<p><strong>This is the method that contains the line pointed in the logcat:</strong></p>\n\n<pre><code>fun fetchAllTrending(){\n        Log.d(\"trendingtitle\", \"fetchAllTrending() called\")\n        viewModelScope.launch {\n            val trendings = Apifactory.tmdbApi.getTopRatedMoviesAsync() &lt;--LINE POINTED BY LOGCAT\n            try {\n                var result = trendings.await()\n                trendingsLiveData.value = result.results\n\n            } catch (e: Exception) {\n                trendingsLiveData.value = ArrayList&lt;TopRatedMovies&gt;()\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>The <code>getTopRatedMoviesAsync</code> method:</strong></p>\n\n<pre><code>import com.example.topratedmovies.model.TopRatedMoviesResponse\nimport kotlinx.coroutines.Deferred\nimport retrofit2.http.GET\n\ninterface TmdbApi{\n    @GET(\"movie/top_rated\")\n    fun getTopRatedMoviesAsync() : Deferred&lt;TopRatedMoviesResponse&gt;\n}\n</code></pre>\n\n<p><strong><code>Build.gradle</code> Project level:</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.41'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong><code>build.gradle</code> file of the module:</strong></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion \"29.0.0\"\n\n\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.0.0'\n\n    //To solve NoSuchMethod Error\n//    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.2.61'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.2'\n//    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n\n    def moshiVersion=\"1.8.0\"\n    def retrofit2_version = \"2.5.0\"\n    def okhttp3_version = \"3.12.0\"\n    def kotlinCoroutineVersion = \"1.0.1\"\n    def picassoVersion = \"2.71828\"\n\n    //ViewModel Scope\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0-alpha01'\n\n    //TODO Test app on an amulator with API 28\n    //recyclerview\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n\n    implementation 'com.google.android.material:material:1.0.0'\n\n    //Moshi\n    implementation \"com.squareup.moshi:moshi-kotlin:$moshiVersion\"\n    kapt \"com.squareup.moshi:moshi-kotlin-codegen:$moshiVersion\"\n\n    //Retrofit2\n    implementation \"com.squareup.retrofit2:retrofit:$retrofit2_version\"\n    implementation \"com.squareup.retrofit2:converter-moshi:$retrofit2_version\"\n    implementation \"com.jakewharton.retrofit:retrofit2-kotlin-coroutines-adapter:0.9.2\"\n    //Because of an error with JAR version\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:'1.3.31'\"\n\n    //Okhttp3\n    implementation \"com.squareup.okhttp3:okhttp:$okhttp3_version\"\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'\n\n    //Picasso\n    implementation (\"com.squareup.picasso:picasso:$picassoVersion\"){\n        exclude group: \"com.android.support\"\n    }\n\n    implementation 'com.facebook.shimmer:shimmer:0.4.0'\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java"], "comments": [{"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1566306394, "post_id": 57574323, "comment_id": 101608985, "body": "why is not working? could you please be more specific - which error you are getting"}], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "edited": false, "score": 0, "creation_date": 1566307398, "post_id": 57574564, "comment_id": 101609558, "body": "I try your approach (slightly different because i assume you forgot to close bracket in the single) and now ive got only the type mismatch errors &quot;Type mismatch. Required: SingleSource &lt;out List&lt;Single&lt;ApiResponse1&gt;&gt;!&gt;! Found: List&lt;Single&lt;ApiResponse1&gt;&gt;?&quot;"}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "reply_to_user": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "edited": false, "score": 0, "creation_date": 1566307607, "post_id": 57574564, "comment_id": 101609707, "body": "This is because your observablesAPI1 and observablesAPI2 return a <code>List</code> instead of a <code>Single&lt;List&gt;</code>. You should change them to return <code>Single&lt;List&lt;Single&lt;ApiResponse*&gt;&gt;&gt;</code>."}, {"owner": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "edited": false, "score": 0, "creation_date": 1566307952, "post_id": 57574564, "comment_id": 101609939, "body": "but int the end Id like to make operations for the List&lt;ApiReposnse1&gt; and List&lt;ApiResponse2&gt; objects"}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "reply_to_user": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "edited": false, "score": 0, "creation_date": 1566308148, "post_id": 57574564, "comment_id": 101610057, "body": "then change your observablesAPI* to return a a <code>Single&lt;List&lt;ApiResponse*&gt;&gt;</code>. Inside the BiFunction their types will be <code>List&lt;ApiResponse*&gt;</code>"}, {"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "reply_to_user": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "edited": false, "score": 0, "creation_date": 1566308233, "post_id": 57574564, "comment_id": 101610116, "body": "In order to do the above, check @Andrei Tanana&#39;s answer below"}], "tags": [], "owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "is_accepted": false, "score": 1, "last_activity_date": 1566307738, "last_edit_date": 1566307738, "creation_date": 1566306864, "answer_id": 57574564, "question_id": 57574323, "link": "https://stackoverflow.com/questions/57574323/zip-2-lists-of-observable-with-different-return-types/57574564#57574564", "title": "Zip 2 lists of Observable with different return types", "body": "<p>It looks like you are having compilation errors.</p>\n\n<p>This is from the javadocs of <a href=\"https://github.com/ReactiveX/RxJava/blob/3.x/src/main/java/io/reactivex/rxjava3/functions/BiFunction.java\" rel=\"nofollow noreferrer\">BiFunction</a>:</p>\n\n<pre><code>/**\n * A functional interface (callback) that computes a value based on multiple input values.\n * @param &lt;T1&gt; the first value type\n * @param &lt;T2&gt; the second value type\n * @param &lt;R&gt; the result type\n */\npublic interface BiFunction&lt;T1, T2, R&gt; {\n</code></pre>\n\n<p>Your observablesAPI1 and observablesAPI2 have the type <code>List&lt;Single&lt;ApiResponse*&gt;</code> but you are writing <code>List&lt;ApiResponse*&gt;</code>.</p>\n\n<p>You are also missing the result type. For example, if you want to return a String, this is how your code should look like:</p>\n\n<pre><code>Single.zip(\n    observablesAPI1, \n    observablesAPI2,\n    BiFunction&lt;List&lt;Single&lt;ApiResponse1&gt;, List&lt;Single&lt;ApiResponse2&gt;, String&gt; {\n        apiResultList1, apiResultList2 -&gt; \"my result!\"\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 3, "last_activity_date": 1566307969, "creation_date": 1566307969, "answer_id": 57574897, "question_id": 57574323, "link": "https://stackoverflow.com/questions/57574323/zip-2-lists-of-observable-with-different-return-types/57574897#57574897", "title": "Zip 2 lists of Observable with different return types", "body": "<p>I would like to suggest you change the way which you map ids to data.</p>\n\n<pre><code>val observablesAPI1 = Observable.fromIterable(idApi1List)\n    .flatMapSingle { id -&gt; api1Repository.getData(id) }\n    .toList()\n\nval observablesAPI2 = Observable.fromIterable(idApi2List)\n    .flatMapSingle { id -&gt; api2Repository.getData(id) }\n    .toList()\n\nSingle.zip(observablesAPI1, observablesAPI2, BiFunction&lt;List&lt;ApiResponse1&gt;, List&lt;ApiResponse2&gt;, String&gt; { list1, list2 -&gt;\n    //do something\n}).subscribe()\n</code></pre>\n\n<p>Note, that in my solution in <code>zip</code> function you have just two easy maintainable lists of <code>ApiResponse1</code> and <code>ApiResponse2</code>.</p>\n"}], "owner": {"reputation": 728, "user_id": 4776020, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/8ab9eb7c680235255173296dcb3ceb02?s=128&d=identicon&r=PG&f=1", "display_name": "Expiredmind", "link": "https://stackoverflow.com/users/4776020/expiredmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 57574897, "answer_count": 2, "score": 0, "last_activity_date": 1566308070, "creation_date": 1566306127, "last_edit_date": 1566308070, "question_id": 57574323, "link": "https://stackoverflow.com/questions/57574323/zip-2-lists-of-observable-with-different-return-types", "title": "Zip 2 lists of Observable with different return types", "body": "<p>I'd like to wait until all the data from the API to be downloaded successfully and then do some operations on it. </p>\n\n<p>The data result from observablesAPI1 and observablesAPI2 are different. </p>\n\n<pre><code>    val observablesAPI1:List&lt;Single&lt;ApiResponse1&gt;? = idApi1List.map{api1Repository.getData(it)}\n    val observablesAPI2:List&lt;Single&lt;ApiResponse2&gt;? = idApi2List.map{api2Repository.getData(it)}\n\n    // this is not working\n    Single.zip(observablesAPI1,observablesAPI2,BiFunction &lt;List&lt;ApiResponse1&gt;, List&lt;ApiResponse2&gt;&gt; { apiResultList1, apiResultList2 -&gt; // operations}\n</code></pre>\n\n<p>I thought about using nested zips but I'm not sure if it's possible to do that.</p>\n\n<p><br>Edit:<br> \nThere is actually 2 errors\nwhen hover on observablesAPI1(similiar error on observablesAPI2):</p>\n\n<blockquote>\n  <p>Type missmatch. Required: SingleSource!>!\n  Found: List>?</p>\n</blockquote>\n\n<p>when hover on BiFunction:</p>\n\n<blockquote>\n  <p>3 type arguments expected for fun\n  BiFunction(function:(t1: T1, t2: T2) ->R):BiFunction))</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-vectordrawable"], "comments": [{"owner": {"reputation": 517, "user_id": 11937169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDVLX.jpg?s=128&g=1", "display_name": "Matthew E. Miller", "link": "https://stackoverflow.com/users/11937169/matthew-e-miller"}, "edited": false, "score": 0, "creation_date": 1566305387, "post_id": 57573974, "comment_id": 101608348, "body": "<a href=\"https://stackoverflow.com/questions/2521959/how-to-scale-an-image-in-imageview-to-keep-the-aspect-ratio\" title=\"how to scale an image in imageview to keep the aspect ratio\">stackoverflow.com/questions/2521959/&hellip;</a> does this help?"}, {"owner": {"reputation": 580, "user_id": 5940334, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e85947d8e50d81a401fdfceed9e9529c?s=128&d=identicon&r=PG&f=1", "display_name": "Matej Ko\u0161&#250;t", "link": "https://stackoverflow.com/users/5940334/matej-ko%c5%a1%c3%bat"}, "reply_to_user": {"reputation": 517, "user_id": 11937169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDVLX.jpg?s=128&g=1", "display_name": "Matthew E. Miller", "link": "https://stackoverflow.com/users/11937169/matthew-e-miller"}, "edited": false, "score": 0, "creation_date": 1566305723, "post_id": 57573974, "comment_id": 101608590, "body": "Unfortunately no. Already checked that."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1566331237, "post_id": 57573974, "comment_id": 101621082, "body": "I believe this is the same issue as <a href=\"https://stackoverflow.com/a/56152587/8298909\">stackoverflow.com/a/56152587/8298909</a>"}, {"owner": {"reputation": 580, "user_id": 5940334, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e85947d8e50d81a401fdfceed9e9529c?s=128&d=identicon&r=PG&f=1", "display_name": "Matej Ko\u0161&#250;t", "link": "https://stackoverflow.com/users/5940334/matej-ko%c5%a1%c3%bat"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1566374314, "post_id": 57573974, "comment_id": 101631640, "body": "@BenP. It looked promising, but it didn&#39;t help. Tried couple combinations with mutate(). I am using only one ImageView, maybe that prevented it from working. Updated question."}], "answers": [{"tags": [], "owner": {"reputation": 580, "user_id": 5940334, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e85947d8e50d81a401fdfceed9e9529c?s=128&d=identicon&r=PG&f=1", "display_name": "Matej Ko\u0161&#250;t", "link": "https://stackoverflow.com/users/5940334/matej-ko%c5%a1%c3%bat"}, "is_accepted": true, "score": 0, "last_activity_date": 1566396813, "creation_date": 1566396813, "answer_id": 57593681, "question_id": 57573974, "link": "https://stackoverflow.com/questions/57573974/vector-drawable-is-pixelated-when-size-changes-to-smaller/57593681#57593681", "title": "Vector drawable is pixelated when size changes to smaller", "body": "<p>Solved it by using pngs instead. Vectors are not usable in this scope.</p>\n"}], "owner": {"reputation": 580, "user_id": 5940334, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e85947d8e50d81a401fdfceed9e9529c?s=128&d=identicon&r=PG&f=1", "display_name": "Matej Ko\u0161&#250;t", "link": "https://stackoverflow.com/users/5940334/matej-ko%c5%a1%c3%bat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 1, "accepted_answer_id": 57593681, "answer_count": 1, "score": 0, "last_activity_date": 1566396813, "creation_date": 1566305022, "last_edit_date": 1566374609, "question_id": 57573974, "link": "https://stackoverflow.com/questions/57573974/vector-drawable-is-pixelated-when-size-changes-to-smaller", "title": "Vector drawable is pixelated when size changes to smaller", "body": "<p>I am using this image:</p>\n\n<pre><code>&lt;vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"32dp\"\n    android:height=\"39dp\"\n    android:viewportWidth=\"32\"\n    android:viewportHeight=\"39\"&gt;\n &lt;path\n    android:pathData=\"M15.8575,6.5831L15.8575,1.0031C15.8575,0.1031 14.7775,-0.3369 14.1575,0.3031L6.5575,7.8831C6.1575,8.2831 6.1575,8.9031 6.5575,9.3031L14.1375,16.8831C14.7775,17.5031 15.8575,17.0631 15.8575,16.1631L15.8575,10.5831C23.3175,10.5831 29.2175,17.4231 27.5775,25.1631C26.6375,29.7031 22.9575,33.3631 18.4375,34.3031C11.2975,35.8031 4.9375,30.9031 3.9775,24.2831C3.8375,23.3231 2.9975,22.5831 2.0175,22.5831C0.8175,22.5831 -0.1425,23.6431 0.0175,24.8431C1.2575,33.6231 9.6175,40.1231 19.0775,38.2831C25.3175,37.0631 30.3375,32.0431 31.5575,25.8031C33.5375,15.5431 25.7375,6.5831 15.8575,6.5831Z\"\n    android:strokeWidth=\"1\"\n    android:fillColor=\"#fff\"\n    android:fillType=\"evenOdd\"\n    android:strokeColor=\"#00000000\"/&gt;\n  &lt;path\n    android:pathData=\"M-34,-30h100v100h-100z\"\n    android:strokeWidth=\"1\"\n    android:fillType=\"evenOdd\"\n    android:strokeColor=\"#00000000\"/&gt;\n&lt;/vector&gt;\n</code></pre>\n\n<p>in this ImageView:</p>\n\n<pre><code>&lt;ImageView\n   android:id=\"@+id/icon\"\n   android:layout_width=\"wrap_content\"\n   android:layout_height=\"wrap_content\"\n   android:src=\"@drawable/icon\"\n   android:scaleType=\"fitXY\"/&gt;\n</code></pre>\n\n<p>I am using focus navigation and thus I need to enlarge and reduce the size of a image. I tried these aproaches in onFocusChanged methods</p>\n\n<pre><code>override fun onFocusChanged(gainFocus: Boolean, direction: Int, previouslyFocusedRect: Rect?) {\n  if (gainFocus) {\n    imageView.layoutParams.height = 60\n    imageView.layoutParams.width = 60\n  } else {\n    imageView.layoutParams.height = 50\n    imageView.layoutParams.width = 50\n  }\n}  \n</code></pre>\n\n<p>and</p>\n\n<pre><code>override fun onFocusChanged(gainFocus: Boolean, direction: Int, previouslyFocusedRect: Rect?) {\n if (gainFocus) {\n   imageView.drawable.setBounds(0,0,60,60)\n } else {\n   imageView.drawable.setBounds(0,0,50,50)\n }\n}\n</code></pre>\n\n<p>None of these two methods are working. Icon is pixelated when reduced to smaller state. Why is this happening and how can i fix it?</p>\n\n<p>Note that:</p>\n\n<pre><code>minSdkVersion 26\ntargetSdkVersion 28\n</code></pre>\n\n<p>EDIT: \nI just found out that the actual behavior is like this:</p>\n\n<ol>\n<li>app is first launched - icon is in reduced state - not pixelated</li>\n<li>icon focused - enlarged state - not pixelated</li>\n<li>icon not focused - reduced state - pixelated</li>\n<li>icon focused - enlarged state - not pixelated\n...</li>\n</ol>\n\n<p>EDIT2:\nAccording to comments, tried mutate() method in these combinations:</p>\n\n<pre><code>    if (gainFocus) {\n        imageView.layoutParams.height = 60\n        imageView.layoutParams.width = 60\n        imageView.drawable.mutate().setBounds(0,0,60,60)\n    } else {\n        imageView.layoutParams.height = 50\n        imageView.layoutParams.width = 50\n        imageView.drawable.mutate().setBounds(0,0,50,50)\n    }\n</code></pre>\n\n<p>then the same, but without layoutParams\nand one more:</p>\n\n<pre><code>override fun onFocusChanged(gainFocus: Boolean, direction: Int, previouslyFocusedRect: Rect?) {\n if (gainFocus) {\n   imageView.drawable.setBounds(0,0,60,60)\n } else {\n   imageView.drawable.setBounds(0,0,50,50)\n }\n imageView.invalidateDrawable(imageView.drawable.mutate())\n}\n</code></pre>\n\n<p>Nothing helped.\nAlso tried to do it via animation, but the result is the same. I am starting to run out of ideas.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1566304923, "post_id": 57573900, "comment_id": 101608040, "body": "There is nothing named <code>SharedData</code> or <code>SharedData.Info</code> in the Android SDK. What are they?"}, {"owner": {"reputation": 121, "user_id": 5516447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PeVm5.png?s=128&g=1", "display_name": "Rafsan", "link": "https://stackoverflow.com/users/5516447/rafsan"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1566305369, "post_id": 57573900, "comment_id": 101608341, "body": "Update my post , sorry for my ugly post."}, {"owner": {"reputation": 384, "user_id": 3489351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cfd8f32c6c0a17953f90fb1d9bfd2ed?s=128&d=identicon&r=PG&f=1", "display_name": "androidStud", "link": "https://stackoverflow.com/users/3489351/androidstud"}, "edited": false, "score": 0, "creation_date": 1566306724, "post_id": 57573900, "comment_id": 101609176, "body": "Use intent to send data from one activity to another and in the end call finish(). This will send the data first through intent and then remove the first activity from stack."}, {"owner": {"reputation": 121, "user_id": 5516447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PeVm5.png?s=128&g=1", "display_name": "Rafsan", "link": "https://stackoverflow.com/users/5516447/rafsan"}, "edited": false, "score": 0, "creation_date": 1566307713, "post_id": 57573900, "comment_id": 101609791, "body": "I&#39;m  try to save data in shared way that is used by all the activity.So update or save in firstactivity and use second activity. Main problem is here , Is saved data destroy after finish call ??"}, {"owner": {"reputation": 384, "user_id": 3489351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cfd8f32c6c0a17953f90fb1d9bfd2ed?s=128&d=identicon&r=PG&f=1", "display_name": "androidStud", "link": "https://stackoverflow.com/users/3489351/androidstud"}, "edited": false, "score": 0, "creation_date": 1566308507, "post_id": 57573900, "comment_id": 101610284, "body": "No, it doesn\u2019t. I am assuming you are saving data in shared preferences or database, if so, then it will not be destroyed even if you close the activity."}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "is_accepted": true, "score": 2, "last_activity_date": 1586106515, "last_edit_date": 1586106515, "creation_date": 1566308640, "answer_id": 57575089, "question_id": 57573900, "link": "https://stackoverflow.com/questions/57573900/finish-call-in-android/57575089#57575089", "title": "finish() call in android", "body": "<p><code>finish()</code> can be called to kill (destroy) an <code>Activity</code> instance. If you don't need to close your <code>Activity</code> manually, which is true in many cases, you don't need to call this method.</p>\n\n<p>But if you need a button in your <code>Activity</code> that says \"close\" or something like that then you should use this method. In general though the back button behavior in Android will handle things like this.</p>\n\n<p>As for passing data between activities thats a completely different question</p>\n\n<p>Depending on how much data you have to send you can pass something like this </p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), SecondActivity.class);\nintent.putExtra(\"Variable Name\",string_to_be_sent);\nstartActivity(intent);\nfinish();//if you want to close previous activity.\n</code></pre>\n\n<p>then to get the information</p>\n\n<pre><code>String value = getIntent().getStringExtra(\"Variable Name\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 11951874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98cc25669b776e913b9ab1f5e659a261?s=128&d=identicon&r=PG&f=1", "display_name": "Raju Tukadiya", "link": "https://stackoverflow.com/users/11951874/raju-tukadiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1566309092, "creation_date": 1566309092, "answer_id": 57575232, "question_id": 57573900, "link": "https://stackoverflow.com/questions/57573900/finish-call-in-android/57575232#57575232", "title": "finish() call in android", "body": "<p><strong>finish()</strong> method is used to finish activity but write in the last.</p>\n\n<p>Please check below ex.</p>\n\n<pre><code>  Intent intent=new Inent(currentActivity.this,otheractivity.class)\n  startActivity(intent)\n   **finish()** // last line\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5516447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PeVm5.png?s=128&g=1", "display_name": "Rafsan", "link": "https://stackoverflow.com/users/5516447/rafsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 57575089, "answer_count": 2, "score": -1, "last_activity_date": 1586106515, "creation_date": 1566304771, "last_edit_date": 1566305795, "question_id": 57573900, "link": "https://stackoverflow.com/questions/57573900/finish-call-in-android", "title": "finish() call in android", "body": "<p>What happen if call finish() and switchactivity ??</p>\n\n<pre><code> finish()\n switchActivity(SecondActivity::class.java) \n</code></pre>\n\n<p>In my case i want to destroy my first activity becasue no more need this also i want to use the data in my secondActivity which save in my firstactivity.\nHow can i do it ??</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 1, "creation_date": 1566303390, "post_id": 57573364, "comment_id": 101607123, "body": "You have to check for null: no way around it. It&#39;s not a hack, it&#39;s a normal flow. Also the code you say works doesn&#39;t compile."}, {"owner": {"reputation": 3713, "user_id": 3801327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jBaPg.png?s=128&g=1", "display_name": "Rick Sanchez", "link": "https://stackoverflow.com/users/3801327/rick-sanchez"}, "edited": false, "score": 0, "creation_date": 1566303667, "post_id": 57573364, "comment_id": 101607282, "body": "That&#39;d need to be  aImpl?.run{ ::test } . But it does remove the extra it. Thank you :) Didn&#39;t think of it."}, {"owner": {"reputation": 3713, "user_id": 3801327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jBaPg.png?s=128&g=1", "display_name": "Rick Sanchez", "link": "https://stackoverflow.com/users/3801327/rick-sanchez"}, "edited": false, "score": 0, "creation_date": 1566303801, "post_id": 57573364, "comment_id": 101607383, "body": "@dyukha You&#39;re right, should be lambda in let.My bad"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 1, "creation_date": 1566303961, "post_id": 57573364, "comment_id": 101607476, "body": "You are welcome. <code>And I was trying to avoid an extra lambda.</code> Are you concerned about performance? in the generated code there will be no lambdas, since <code>let</code> is an <code>inline</code>-function."}, {"owner": {"reputation": 3713, "user_id": 3801327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jBaPg.png?s=128&g=1", "display_name": "Rick Sanchez", "link": "https://stackoverflow.com/users/3801327/rick-sanchez"}, "edited": false, "score": 0, "creation_date": 1566305365, "post_id": 57573364, "comment_id": 101608336, "body": "Didn&#39;t know that. Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 7729375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvAEh.jpg?s=128&g=1", "display_name": "Benjamin Charais", "link": "https://stackoverflow.com/users/7729375/benjamin-charais"}, "is_accepted": false, "score": 0, "last_activity_date": 1585854945, "creation_date": 1585854945, "answer_id": 60999348, "question_id": 57573364, "link": "https://stackoverflow.com/questions/57573364/passing-a-method-reference-of-a-nullable-type-idiomatically/60999348#60999348", "title": "Passing a method reference of a nullable type idiomatically", "body": "<p>As mentioned in the comments there are a few ways of accomplishing this</p>\n\n<pre><code>interface A{\n fun test(foo:Int,bar:Int)\n}\n\nval aImpl:A? = .....\n\nfun higherOrder(f:((a:Int,B:Int)-&gt; Unit)?){ ... }\n\n\n// Not very Kotlin\nif (aImpl != null) higherOrder(aImpl::test)\n\n// Kotlin, but weird\nhigherOrder( aImpl?.let { it::test } )\n\n// Very kotlin, maybe a bit more overhead in understanding\nhigherOrder { a, b -&gt; aImpl?.test(a, b) }\n</code></pre>\n"}], "owner": {"reputation": 3713, "user_id": 3801327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jBaPg.png?s=128&g=1", "display_name": "Rick Sanchez", "link": "https://stackoverflow.com/users/3801327/rick-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1585854945, "creation_date": 1566303040, "last_edit_date": 1566303759, "question_id": 57573364, "link": "https://stackoverflow.com/questions/57573364/passing-a-method-reference-of-a-nullable-type-idiomatically", "title": "Passing a method reference of a nullable type idiomatically", "body": "<p>I have an interface:</p>\n\n<pre><code>interface A{\n fun test(foo:Int,bar:Int)\n}\n</code></pre>\n\n<p>And I have a nullable reference to an implementation of A</p>\n\n<pre><code>val aImpl:A? = .....\n</code></pre>\n\n<p>I then have a  higher order function which receives a nullable function of signature same as test</p>\n\n<p>...</p>\n\n<pre><code>fun higherOrder(f:((a:Int,B:Int)-&gt; Unit)?){ ... }\n</code></pre>\n\n<p>How do I pass a reference of test function to higherOrder? For example this doesn't work:</p>\n\n<pre><code>higherOrder(aImpl::test)  // aImpl is nullable\nhigherOrder(aImpl?::test) // I'd expect reasonably this to work, but syntax is invalid\n</code></pre>\n\n<p>This works, but it feels kinda hacky and long. And I was trying to avoid an extra lambda. </p>\n\n<pre><code>higherOrder(aImpl?.let{it::test}) \n</code></pre>\n\n<p>Is there a more idiomatic way of doing this?</p>\n"}, {"tags": ["generics", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1566303579, "post_id": 57573008, "comment_id": 101607230, "body": "hmmm... I wonder whether you make things more complicated than easier... If you have a set of <code>T</code> then just do: <code>yourSet.filter { it.name == search }</code> which will automatically return you a new list with the filtered items... I wouldn&#39;t introduce <code>SearchableObject</code> for something like that..."}, {"owner": {"reputation": 23, "user_id": 11951197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zm9W1vFyYZ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSR_u2sTHiQQCdz4prK6tH49zHQg/photo.jpg?sz=128", "display_name": "R P", "link": "https://stackoverflow.com/users/11951197/r-p"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1566306501, "post_id": 57573008, "comment_id": 101609042, "body": "I probably have made it more complicated than it needs to be, but the filter by it.name == search is not the only way I&#39;m filtering it. for example the full code has several filter checks:   //Add to top of list if the search term exactly matches the name         set.forEach { if (it.name.toLowerCase() == (search.toLowerCase())) orderedList.add(it) }         //Add to list if name starts with the exact search term as a standalone word         set.forEach { if(it.name.toLowerCase().startsWith(search.toLowerCase() + &quot; &quot;)) addToOrderedListIfNotAlreadyAdded(orderedList, it) }   etc"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1566311539, "post_id": 57573008, "comment_id": 101612086, "body": "that sounds a bit ineffective, if I get <code>addToOrderedListOfNotAlreadyAdded</code> correctly... you may want to iterate over your set only once and check all filters within the foreach directly... or pass the filters in an ordered list (which should also be taken as the order of the resulting list) and be completely flexible on which filter you want to pass or not... ... I will put some sample code in an answer..."}], "answers": [{"tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 0, "last_activity_date": 1566303566, "creation_date": 1566303566, "answer_id": 57573525, "question_id": 57573008, "link": "https://stackoverflow.com/questions/57573008/kotlin-using-inheritance-or-generics-to-reuse-a-function-for-different-classes/57573525#57573525", "title": "Kotlin: using inheritance or generics to reuse a function for different classes", "body": "<p>You can set an <a href=\"https://kotlinlang.org/docs/reference/generics.html#upper-bounds\" rel=\"nofollow noreferrer\">upper bound</a> to the generic type:</p>\n\n<pre><code>fun &lt;T : SearchableObject&gt; sortObjectsBySearchRelevance(search: String, set: Set&lt;T&gt;): List&lt;T&gt; \n</code></pre>\n\n<p>This way the generic type <code>T</code> is constrained to be a <strong>subtype</strong> of <code>SearchableObject</code>, so you can access the <code>SearchableObject</code> properties and methods inside your generic function.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11951197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zm9W1vFyYZ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSR_u2sTHiQQCdz4prK6tH49zHQg/photo.jpg?sz=128", "display_name": "R P", "link": "https://stackoverflow.com/users/11951197/r-p"}, "edited": false, "score": 0, "creation_date": 1566303884, "post_id": 57573535, "comment_id": 101607430, "body": "Filtering by instance on a generic function with <code>reified</code> type parameter seems to be what I&#39;m after as a more elegant way of getting the right object type in the returned list. I&#39;ll give that a go now, thanks!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 0, "last_activity_date": 1566303596, "creation_date": 1566303596, "answer_id": 57573535, "question_id": 57573008, "link": "https://stackoverflow.com/questions/57573008/kotlin-using-inheritance-or-generics-to-reuse-a-function-for-different-classes/57573535#57573535", "title": "Kotlin: using inheritance or generics to reuse a function for different classes", "body": "<p>Normally, you would have <code>SearchableObject</code> as an interface, not a class, as its contract doesn't assume any state. This also allows the implementation classes to derive some other class. So it would be:</p>\n\n<pre><code>interface SearchableObject {\n    val name: String\n}\n\nclass Allergy(override var name: String = \"Allery name not given\") : SearchableObject {\n    /* ... */\n}\n</code></pre>\n\n<p>As for filtering instances of <code>Allergy</code> in the search results, you could use the standard library function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-is-instance.html\" rel=\"nofollow noreferrer\"><code>filterIsInstance&lt;...&gt;()</code></a>:</p>\n\n<pre><code>override fun autoSuggest(search: String): List&lt;Allergy&gt; =\n    utils.sortObjectsBySearchRelevance(search, allergies).filterIsInstance&lt;Allergy&gt;()\n</code></pre>\n\n<p>To be able to generically filter instances of a certain type, consider defining a generic function with a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code> type parameter</a> (which is, in particular, the way to use the type parameter for type checks at runtime):</p>\n\n<pre><code>inline fun &lt;reified T : SearchableObject&gt; autoSuggestInstancesOf(search: String): List&lt;T&gt; = \n    utils.sortObjectsBySearchRelevance(search, allergies).filterIsInstance&lt;T&gt;()\n</code></pre>\n\n<p>With the usage: <code>autoSuggestInstancesOf&lt;Allergy&gt;(\"...\")</code>. You may also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"nofollow noreferrer\"><code>.filter { ... }</code></a> for filtering the results list by any other criteria, but note that it won't affect the inferred elements type of the returned list (it will still be <code>List&lt;SearchableObjects&gt;</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11951197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zm9W1vFyYZ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSR_u2sTHiQQCdz4prK6tH49zHQg/photo.jpg?sz=128", "display_name": "R P", "link": "https://stackoverflow.com/users/11951197/r-p"}, "edited": false, "score": 0, "creation_date": 1566390351, "post_id": 57576553, "comment_id": 101640429, "body": "That&#39;s great! Much less overhead without multiple iterations over the set, and just the sort of thing I was hoping to get right with this learning project, thank you!"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1566313479, "creation_date": 1566313479, "answer_id": 57576553, "question_id": 57573008, "link": "https://stackoverflow.com/questions/57573008/kotlin-using-inheritance-or-generics-to-reuse-a-function-for-different-classes/57576553#57576553", "title": "Kotlin: using inheritance or generics to reuse a function for different classes", "body": "<p>I wouldn't introduce something like a <code>SearchableObject</code>, but rather stick to default functions as often as possible, e.g. <code>filter</code>. Note also that you should iterate over your <code>Set</code> as few times as possible (what about \"once\"?). Depending on the size of your <code>Set</code>, how often you call that search function and how complex your actual search algorithm is, you otherwise slow down the whole search unnecessarily.</p>\n\n<p>Putting your search-functionality in its own function is ok, if want to reuse it.</p>\n\n<p>Now I assume that you usually have a <code>List</code> or <code>Set</code> of a single type only (if not, you can still use <code>filterIsInstance&lt;YourType&gt;</code> to filter for certain types before applying the search).</p>\n\n<p>A possible generic solution could be to add something as follows (if you only want to support <code>String</code> you can also replace <code>C</code> directly with <code>String</code>):</p>\n\n<pre><code>/**\n * Returns all entries matching any of the given filters, sorted by the order of the given filters.\n */\nfun &lt;C, T&gt; Set&lt;T&gt;.filterAndSortBy(\n    propertyToCompare: (T) -&gt; C,\n    vararg filters: (C) -&gt; Boolean\n): List&lt;T&gt; {\n  val indexedFilters = filters.withIndex()\n  return asSequence()\n      .mapNotNull { entry -&gt;\n        val property = propertyToCompare(entry)\n        indexedFilters.firstOrNull { (_, filter) -&gt; filter(property) }\n                      ?.index?.let { it to entry }\n      }\n      .sortedBy { it.first }\n      .map { it.second }\n      .toList()\n}\n</code></pre>\n\n<p>and then implement your specific <code>search</code>-function as you need it, e.g.:</p>\n\n<pre><code>fun &lt;T&gt; Set&lt;T&gt;.search(\n    searchString: String,\n    propertyToCompare: (T) -&gt; String\n) = filterAndSortBy(propertyToCompare,\n                    // exact matches first\n                    { it == searchString },\n                    // exact matches ignoring case second\n                    { it.equals(searchString, true) },\n                    // third\n                    { it.contains(searchString) },\n                    // last\n                    { it.contains(searchString, true) }\n)\n</code></pre>\n\n<p>Finally for all the interested specific objects you can either call that last function directly or supply another extension function, e.g.:</p>\n\n<pre><code>// calling it directly\nyourSet.search(\"some value\") {\n  it.propertyToSearch // when comparing the search string, use this given property\n}\n\n// or adding an extension function\nfun Set&lt;MyObj&gt;.search(searchString : String) = search(searchString) { it.propertyToSearch }\n</code></pre>\n\n<p>With the implementaton above you can simply call that function on your <code>Set</code> directly. If you want to filter and sort some other things, you can still use the <code>filterAndSortBy</code>-function instead.</p>\n\n<p>Some sample code:</p>\n\n<pre><code>data class MyObj(val name: String) {\n  override fun toString() = name\n}\n\nval set = sequenceOf(\"one\", \"onE\", \"containing one\", \"filtered out\", \"ONE\", \"ONE!!!\")\n    .map(::MyObj)\n    .toSet()\n    .also(::println)\n\nsequenceOf(\"ONE\", \"one\", \"onE\")\n    .forEach { searchString -&gt;\n      set.search(searchString) {\n        it.name\n      }.run(::println)\n    }\n</code></pre>\n\n<p>which then produces an output similar to:</p>\n\n<pre><code>[one, onE, containing one, filtered out, ONE, ONE!!!] // the input set\n[ONE, one, onE, ONE!!!, containing one] // when searching for: ONE\n[one, onE, ONE, containing one, ONE!!!] // when searching for: one\n[onE, one, ONE, containing one, ONE!!!] // when searching for: onE\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11951197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zm9W1vFyYZ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSR_u2sTHiQQCdz4prK6tH49zHQg/photo.jpg?sz=128", "display_name": "R P", "link": "https://stackoverflow.com/users/11951197/r-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 57573535, "answer_count": 3, "score": 2, "last_activity_date": 1566313479, "creation_date": 1566301843, "question_id": 57573008, "link": "https://stackoverflow.com/questions/57573008/kotlin-using-inheritance-or-generics-to-reuse-a-function-for-different-classes", "title": "Kotlin: using inheritance or generics to reuse a function for different classes", "body": "<p>I'm doing a simple project in Kotlin to try and learn the language a bit better, but I'm stuck on one particular problem.</p>\n\n<p>The project is for a simple recipe management app, so far i just have basic objects for recipes, ingredients, and allergies, as well as objects for storing collections of them. </p>\n\n<p>I have decided that I would like the option to search for a recipe by it's name variable. To do this I created a function which searches the recipe list in the recipe store, and adds results to a mutable list of recipes based on a number of conditions, which ensures the first elements of the list are the most relevant.</p>\n\n<p>I was able to do this, but then decided that the other object stores should have this functionality, to allow easy searching for info about ingredients, as well as giving the option of adding a simple autocomplete function that returns relevant suggestions when entering ingredients in the recipe creation UI.</p>\n\n<p>Since the search/filtering function is rather large I wanted to re-use it, given that it would be the same for each object: take a HashSet and a String, and return a filtered and sorted list e.g. given a HashSet and a String, do the search and return a List.</p>\n\n<p>Where I'm struggling is making a generic function like this that can take any of the 3 types of object I want to be able to filter, and returns a list of that object.</p>\n\n<p>I initially made a Utils class, and in it tried making the function take generics:</p>\n\n<pre><code>fun &lt;T&gt; sortObjectsBySearchRelevance(search: String, set: Set&lt;T&gt;): List&lt;T&gt; {\n  var orderedList = mutableListOf&lt;T&gt;()\n\n  set.forEach{\n    if(it.name == search) orderedList.add(it)\n  }\n\n  return orderedList\n}\n</code></pre>\n\n<p>(the actual filtering/searching code is a lot bigger with plenty of if else and forEach statements, but for simplicity i have just included the exact match case since the sorting functionality isn't important here)</p>\n\n<p>I realized when doing this that accessing the name parameter of object T was not possible.</p>\n\n<p>I then created a class \"SearchableObject\" which always has a name parameter, and set the other classes to extend to extend it, so I could set the parameter type of the sortObjectsBySearchRelevance to be SearchableObject, allowing the function to access the name variable:</p>\n\n<pre><code>open class SearchableObject (open var name: String){\n\n\n}\n</code></pre>\n\n<pre><code>import common.SearchableObject\n\nclass Allergy(override var name: String = \"Allery name not given\") : SearchableObject(name){\n    override fun toString(): String {\n        return \"Allergy(name='$name')\"\n    }\n\n}\n</code></pre>\n\n<p>The re-usable search function was then:</p>\n\n<pre><code>fun sortObjectsBySearchRelevance(search: String, set: Set&lt;SearchableObject&gt;): List&lt;SearchableObject&gt; {\n  var orderedList = mutableListOf&lt;SearchableObject&gt;()\n\n  set.forEach{\n    if(it.name == search) orderedList.add(it)\n  }\n\n  return orderedList\n}\n</code></pre>\n\n<p>However in the AllergyStoreImpl class, the search method looks like this:</p>\n\n<pre><code>override fun autoSuggest(search: String): List&lt;Allergy&gt; {\n\n        val orderedList = utils.sortObjectsBySearchRelevance(search, allergies)\n        var orderedAllergyList = mutableListOf&lt;Allergy&gt;()\n        orderedList.forEach { if(it is Allergy) orderedAllergyList.add(it) }\n        return orderedAllergyList\n</code></pre>\n\n<p>I had to add some extra lines of code to verify that every element of the list is an allergy and then add it to a new list, which I was then able to return.</p>\n\n<p>Is there an easier or more elegant way to do this? </p>\n\n<p>I want to have the Utils class, available to other classes, which contains an publicly available function. The function takes a string and a set of objects, the set will either be all Recipe objects, all Ingredient objects, or all Allergy objects. The function must then be able to perform operations on the objects in the set (by using their 'name' parameter, which all of them will have), and then returns a list of that type of object.</p>\n\n<p>e.g. takes set of recipes and string, returns ordered list of recipes.</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle", "corda", "gradle-plugin"], "comments": [{"owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 0, "creation_date": 1566303649, "post_id": 57571470, "comment_id": 101607273, "body": "that might be an issue with the corda artifactory, I&#39;ll confirm if this is the case."}, {"owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 0, "creation_date": 1566304843, "post_id": 57571470, "comment_id": 101607984, "body": "The plugins come from maven (<code>mavenCentral</code> in your build.gradle).  Is it possible that your corporate environment is preventing you from downloading from these repositories?"}], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 2, "last_activity_date": 1566305617, "creation_date": 1566305617, "answer_id": 57574170, "question_id": 57571470, "link": "https://stackoverflow.com/questions/57571470/could-not-resolve-org-jetbrains-kotlinkotlin-gradle-plugin1-2-51/57574170#57574170", "title": "Could not resolve org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51", "body": "<p>According to the error log you posted, I believe your Gradle is configured to work in \"offline mode\", so it doesn't try to download dependencies if you don't already have them cached locally.</p>\n\n<p>You can disable it in different ways depending on the way you're using Gradle:</p>\n\n<ul>\n<li>if it's called from the command line then remove <code>--offline</code>;</li>\n<li><p>if you're using it via IntelliJ IDEA or Android Studio then toggle the following button (from the Gradle tool window on the right-hand side of the IDE):</p>\n\n<p><a href=\"https://i.stack.imgur.com/JaIhk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JaIhk.png\" alt=\"Gradle offline mode button\"></a></p></li>\n<li>if you're using Eclipse, then you'll find a checkbox called \"offline mode\" under Gradle preferences</li>\n<li>Other IDEs will have a similar setting as well</li>\n</ul>\n"}], "owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1581, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566305617, "creation_date": 1566296389, "question_id": 57571470, "link": "https://stackoverflow.com/questions/57571470/could-not-resolve-org-jetbrains-kotlinkotlin-gradle-plugin1-2-51", "title": "Could not resolve org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51", "body": "<p>I am unable to run my corda project under corporate environment/desktop. I have been building this project on my personal desktop but right now I am going to shift it to my work desktop and is unable to build the project by applying script build.gradle. I have research on this but still have 0 clues about what might be the caused. </p>\n\n<p>My build.gradle file:</p>\n\n<pre><code>        buildscript {\n    ext.corda_release_group = 'net.corda'\n    ext.corda_release_version = '3.3-corda'\n    ext.corda_gradle_plugins_version = '3.2.1'\n    ext.kotlin_version = '1.2.51'\n    ext.junit_version = '4.12'\n    ext.quasar_version = '0.7.9'\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"net.corda.plugins:cordapp:$corda_gradle_plugins_version\"\n        classpath \"net.corda.plugins:cordformation:$corda_gradle_plugins_version\"\n        classpath \"net.corda.plugins:quasar-utils:$corda_gradle_plugins_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        jcenter()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n        maven { url 'https://ci-artifactory.corda.r3cev.com/artifactory/corda-dev/' }\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'net.corda.plugins.cordapp'\napply plugin: 'net.corda.plugins.cordformation'\napply plugin: 'net.corda.plugins.quasar-utils'\n\nsourceSets {\n    main {\n        resources {\n            srcDir \"config/dev\"\n        }\n    }\n    test {\n        resources {\n            srcDir \"config/test\"\n        }\n    }\n    integrationTest {\n        kotlin {\n            compileClasspath += main.output + test.output\n            runtimeClasspath += main.output + test.output\n            srcDir file('src/integrationTest/kotlin')\n        }\n    }\n}\n\nconfigurations {\n    integrationTestCompile.extendsFrom testCompile\n    integrationTestRuntime.extendsFrom testRuntime\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n    testCompile \"junit:junit:$junit_version\"\n\n    // Corda integration dependencies\n    cordaCompile \"$corda_release_group:corda-core:$corda_release_version\"\n    cordaCompile \"$corda_release_group:corda-finance:$corda_release_version\"\n    cordaCompile \"$corda_release_group:corda-jackson:$corda_release_version\"\n    cordaCompile \"$corda_release_group:corda-rpc:$corda_release_version\"\n    cordaCompile \"$corda_release_group:corda-node-api:$corda_release_version\"\n    cordaRuntime \"$corda_release_group:corda:$corda_release_version\"\n\n    testCompile \"$corda_release_group:corda-node-driver:$corda_release_version\"\n\n    // CorDapp dependencies\n    // Specify your CorDapp's dependencies below, including dependent CorDapps.\n    // We've defined Cash as a dependent CorDapp as an example.\n    cordapp project(\":cordapp\")\n    cordapp project(\":cordapp-contracts-states\")\n    cordapp project(\":oracle\")\n    cordapp project(\":banking\")\n    cordapp \"$corda_release_group:corda-finance:$corda_release_version\"\n\n    testCompile project(path: ':cordapp', configuration: 'testOutput')\n}\n\ntask integrationTest(type: Test, dependsOn: []) {\n    testClassesDirs = sourceSets.integrationTest.output.classesDirs\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        languageVersion = \"1.1\"\n        apiVersion = \"1.1\"\n        jvmTarget = \"1.8\"\n        javaParameters = true   // Useful for reflection.\n    }\n}\n\ntask deployNodes(type: net.corda.plugins.Cordform, dependsOn: ['jar']) {\n    directory \"./build/nodes\"\n    node {\n        name \"O=Notary,L=London,C=GB\"\n        notary = [validating: false]\n        p2pPort 10002\n        rpcSettings {\n            address(\"localhost:10003\")\n            adminAddress(\"localhost:10043\")\n        }\n        cordapps = []\n        rpcUsers = [[user: \"user1\", \"password\": \"test\", \"permissions\": [\"ALL\"]]]\n    }\n    node {\n        name \"O=PartyA,L=London,C=GB\"\n        p2pPort 10005\n        rpcSettings {\n            address(\"localhost:10006\")\n            adminAddress(\"localhost:10046\")\n        }\n        cordapps = [\n                \"$project.group:banking:$project.version\",\n                \"$project.group:cordapp-contracts-states:$project.version\",\n                \"$project.group:cordapp:$project.version\",\n                \"$corda_release_group:corda-finance:$corda_release_version\"\n        ]\n        rpcUsers = [[user: \"user1\", \"password\": \"test\", \"permissions\": [\"ALL\"]]]\n    }\n    node {\n        name \"O=PartyB,L=New York,C=US\"\n        p2pPort 10008\n        rpcSettings {\n            address(\"localhost:10009\")\n            adminAddress(\"localhost:10049\")\n        }\n        cordapps = [\n                \"$project.group:banking:$project.version\",\n                \"$project.group:cordapp-contracts-states:$project.version\",\n                \"$project.group:cordapp:$project.version\",\n                \"$corda_release_group:corda-finance:$corda_release_version\"\n        ]\n        rpcUsers = [[user: \"user1\", \"password\": \"test\", \"permissions\": [\"ALL\"]]]\n    }\n    node {\n        name \"O=Oracle,L=New York,C=US\"\n        p2pPort 10011\n        rpcSettings {\n            address(\"localhost:10012\")\n            adminAddress(\"localhost:10052\")\n        }\n\n        cordapps = [\n                \"$project.group:banking:$project.version\",\n                \"$project.group:cordapp-contracts-states:$project.version\",\n                \"$project.group:oracle:$project.version\",\n                \"$project.group:cordapp:$project.version\",\n                \"$corda_release_group:corda-finance:$corda_release_version\"\n        ]\n        rpcUsers = [[user: \"user1\", \"password\": \"test\", \"permissions\": [\"ALL\"]]]\n    }\n}\n\ntask runTemplateClient(type: JavaExec) {\n    classpath = sourceSets.main.runtimeClasspath\n    main = 'com.template.ClientKt'\n    args 'localhost:10006'\n}\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':classpath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:882)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1500(DefaultConfiguration.java:114)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:856)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:382)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n    at org.gradle.api.internal.initialization.DefaultScriptHandler.getScriptClassPath(DefaultScriptHandler.java:73)\nCause 1: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51.\nRequired by:\n    project :\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:100)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:60)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.ComponentResolversChain$ComponentMetaDataResolverChain.resolve(ComponentResolversChain.java:93)\n    at org.gradle.api.internal.artifacts.ivyservice.clientmodule.ClientModuleResolver.resolve(ClientModuleResolver.java:45)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.resolve(DependencyGraphBuilder.java:854)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.getMetaData(DependencyGraphBuilder.java:865)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$EdgeState.calculateTargetConfigurations(DependencyGraphBuilder.java:446)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$EdgeState.attachToTargetConfigurations(DependencyGraphBuilder.java:417)\nCause 2: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version of org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.51 available for offline mode.\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.StartParameterResolutionOverride$FailedRemoteAccess.resolveComponentMetaData(StartParameterResolutionOverride.java:129)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveComponentMetaData(CachingModuleComponentRepository.java:363)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveComponentMetaData(BaseModuleComponentRepositoryAccess.java:50)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveComponentMetaData(InMemoryCachedModuleComponentRepository.java:95)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveComponentMetaData(ErrorHandlingModuleComponentRepository.java:109)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.process(ComponentMetaDataResolveState.java:66)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.resolve(ComponentMetaDataResolveState.java:58)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:133)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.findBestMatch(RepositoryChainComponentMetaDataResolver.java:116)\n    Cause 2: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve net.corda.plugins:cordapp:3.2.1.\nRequired by:\n    project :\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:100)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:60)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.ComponentResolversChain$ComponentMetaDataResolverChain.resolve(ComponentResolversChain.java:93)\n    at org.gradle.api.internal.artifacts.ivyservice.clientmodule.ClientModuleResolver.resolve(ClientModuleResolver.java:45)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.resolve(DependencyGraphBuilder.java:854)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.getMetaData(DependencyGraphBuilder.java:865)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$EdgeState.calculateTargetConfigurations(DependencyGraphBuilder.java:446)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$EdgeState.attachToTargetConfigurations(DependencyGraphBuilder.java:417)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder.attachToTargetRevisionsSerially(DependencyGraphBuilder.java:223)\nCause 1: org.gradle.internal.resolve.ModuleVersionResolveException: No cached version of net.corda.plugins:cordapp:3.2.1 available for offline mode.\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.StartParameterResolutionOverride$FailedRemoteAccess.resolveComponentMetaData(StartParameterResolutionOverride.java:129)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.CachingModuleComponentRepository$ResolveAndCacheRepositoryAccess.resolveComponentMetaData(CachingModuleComponentRepository.java:363)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.BaseModuleComponentRepositoryAccess.resolveComponentMetaData(BaseModuleComponentRepositoryAccess.java:50)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.memcache.InMemoryCachedModuleComponentRepository$CachedAccess.resolveComponentMetaData(InMemoryCachedModuleComponentRepository.java:95)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ErrorHandlingModuleComponentRepository$ErrorHandlingModuleComponentRepositoryAccess.resolveComponentMetaData(ErrorHandlingModuleComponentRepository.java:109)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.ComponentMetaDataResolveState.process(ComponentMetaDataResolveState.java:66)\n    Cause 3: org.gradle.internal.resolve.ModuleVersionResolveException: Could not resolve net.corda.plugins:cordformation:3.2.1.\nRequired by:\n    project :\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:100)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:60)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.ComponentResolversChain$ComponentMetaDataResolverChain.resolve(ComponentResolversChain.java:93)\n    at org.gradle.api.internal.artifacts.ivyservice.clientmodule.ClientModuleResolver.resolve(ClientModuleResolver.java:45)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.resolve(DependencyGraphBuilder.java:854)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$ComponentState.getMetaData(DependencyGraphBuilder.java:865)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.DependencyGraphBuilder$EdgeState.calculateTargetConfigurations(DependencyGraphBuilder.java:446)\n.....\n\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1566296746, "post_id": 57571459, "comment_id": 101603615, "body": "even if your answer is correct and accepted, remember to add an explanation. simply giving code doesn&#39;t really help teach anyone much"}], "tags": [], "owner": {"reputation": 1067, "user_id": 5212417, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-imJXj68IF_Q/AAAAAAAAAAI/AAAAAAAABGw/NHVRcnjDzyI/photo.jpg?sz=128", "display_name": "Peter Staranchuk", "link": "https://stackoverflow.com/users/5212417/peter-staranchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1566296865, "last_edit_date": 1566296865, "creation_date": 1566296315, "answer_id": 57571459, "question_id": 57571383, "link": "https://stackoverflow.com/questions/57571383/kotlin-retrofit-rx-android-os-networkonmainthreadexception/57571459#57571459", "title": "Kotlin Retrofit Rx android.os.NetworkOnMainThreadException", "body": "<p>You try to call apiService.getContactList in Main thread (you can see it if you will put breakpoint in this line and call Thread.currentThread() in Watcher). Move subscribeOn upper in the chain.</p>\n\n<pre><code>disposable = RxTextView.textChangeEvents(searchEditText)\n        .skipInitialValue()\n        .subscribeOn(Schedulers.io())\n        .flatMap {\n            apiService.getContactList(\"\", it.text().toString())\n        }\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe({\n                   adapter?.addItem(it)\n                }, { error -&gt;\n                    Toast.makeText(this@MainActivity, error.message, Toast.LENGTH_SHORT).show()\n                }\n        )\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8930543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc77ce032d5b63d34f287762065ea70?s=128&d=identicon&r=PG&f=1", "display_name": "Demoz_Dev", "link": "https://stackoverflow.com/users/8930543/demoz-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1566296865, "creation_date": 1566296070, "question_id": 57571383, "link": "https://stackoverflow.com/questions/57571383/kotlin-retrofit-rx-android-os-networkonmainthreadexception", "title": "Kotlin Retrofit Rx android.os.NetworkOnMainThreadException", "body": "<p>In my activity there are one search EditText and RecylerView which load data from server. When start typing on search, real time search will call to api. Now I got android.os.NetworkOnMainThreadException error.\nDo you have any idea about this?</p>\n\n<pre><code>disposable = RxTextView.textChangeEvents(searchEditText)\n            .skipInitialValue()\n            .flatMap {\n                apiService.getContactList(\"\", it.text().toString())\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(\n                {\n                    adapter?.addItem(it)\n                }, { error -&gt;\n                    Toast.makeText(this@MainActivity, error.message, Toast.LENGTH_SHORT).show()\n                }\n            )\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore", "firebase-storage"], "comments": [{"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 1, "creation_date": 1566298219, "post_id": 57571207, "comment_id": 101604355, "body": "Can&#39;t you just pass a <code>CoroutineScope</code> tied to the caller&#39;s lifecycle as a parameter of <code>downloadEventInformationAndImages</code>?"}, {"owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "reply_to_user": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 0, "creation_date": 1566302120, "post_id": 57571207, "comment_id": 101606441, "body": "Hey @RicardoCosteira ! It works - I am surprised answer was this straightforward - thanks! :) Since I am new to Kotlin and Coroutines, is there a specific thing I should be careful while passing CoroutineScope as a parameter such as memory leak etc?"}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "edited": false, "score": 1, "creation_date": 1566304814, "post_id": 57571207, "comment_id": 101607960, "body": "Glad it worked :) I&#39;ll write up a more detailed answer in a few minutes."}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "edited": false, "score": 2, "creation_date": 1566302206, "post_id": 57572006, "comment_id": 101606492, "body": "Hello Andrei! Thanks a lot for your answer. Since I am new to Kotlin and Coroutines, I couldn&#39;t implement your answer (the way I should - I think). But the way Ricardo proposed at the comment to first post worked for me. Thanks again though for your answer."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "edited": false, "score": 2, "creation_date": 1566303800, "post_id": 57572006, "comment_id": 101607380, "body": "Hello Metin. No problem :) Extension is very useful Kotlin feature. If you want to know Kotlin well you read this someday <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/extensions.html</a>"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1566298354, "creation_date": 1566298354, "answer_id": 57572006, "question_id": 57571207, "link": "https://stackoverflow.com/questions/57571207/firebase-and-kotlin-coroutines/57572006#57572006", "title": "Firebase And Kotlin Coroutines", "body": "<p>You can write your function as <code>CoroutineScope</code> extension function:</p>\n\n<pre><code>fun CoroutineScope.downloadEventInformationAndImages() {\n    ...\n    launch(Dispatchers.Main) {\n    ...\n}\n</code></pre>\n\n<p>and call it from ViewModel or some other place with scope:</p>\n\n<pre><code>uiScope.downloadEventInformationAndImages()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": true, "score": 1, "last_activity_date": 1566306741, "creation_date": 1566306741, "answer_id": 57574515, "question_id": 57571207, "link": "https://stackoverflow.com/questions/57571207/firebase-and-kotlin-coroutines/57574515#57574515", "title": "Firebase And Kotlin Coroutines", "body": "<p>The best option I see here is to pass a <code>CoroutineScope</code> as a parameter of <code>downloadEventInformationAndImages</code>. So that would be </p>\n\n<pre><code>fun downloadEventInformationAndImages(scope: CoroutineScope) {\n  FirebaseFirestore.getInstance().collection(\"events\").document(downloadedEventID)\n  .get().addOnSuccessListener { snap -&gt;\n\n  //Download Event Information Here\n  //Do stuff\n\n    scope.launch(Dispatchers.Main) { ... }\n  }\n}\n</code></pre>\n\n<p>The one thing you have to be careful is that every coroutine you launch here is now launched in the scope you pass in, which means that if it fails or is cancelled, it'll also cancel any parent coroutines. To understand how to deal with this, you should check the documentation for <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-job/\" rel=\"nofollow noreferrer\">Jobs</a>. On the other hand, you can also build your <code>CoroutineScope</code> with a <code>SupervisorJob</code> (mentioned in the documentation link above), where child coroutines fail without affecting the parents. Finally, it's also good practice to cleanup your <code>CoroutineScope</code> when the object that owns it reaches the end of its lifecycle. This will avoid possible memory leaks. The cleanup can be done either with <code>scope.cancel()</code> or <code>scope.coroutineContext.cancelChildren()</code>. The first one terminates the scope's job (which gets propagated to all child jobs),  and the second one just cancels any child jobs that may exist. I suggest you spend some of your time just reading articles or even documentation about coroutines, because there are a lot of nuances :)</p>\n"}], "owner": {"reputation": 144, "user_id": 9854637, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156179465143444/picture?type=large", "display_name": "Metin", "link": "https://stackoverflow.com/users/9854637/metin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 57574515, "answer_count": 2, "score": 0, "last_activity_date": 1566306741, "creation_date": 1566295412, "last_edit_date": 1566296601, "question_id": 57571207, "link": "https://stackoverflow.com/questions/57571207/firebase-and-kotlin-coroutines", "title": "Firebase And Kotlin Coroutines", "body": "<p>I have this static (companion object) function to download event information from Firebase Firestore and event images from Firebase Storage:</p>\n\n<pre><code>fun downloadEventInformationAndImages() {\n    FirebaseFirestore.getInstance().collection(\"events\").document(downloadedEventID)\n    .get().addOnSuccessListener { snap -&gt;\n\n    //Download Event Information Here\n    //Do stuff\n\n    GlobalScope.launch(Dispatchers.Main) {\n        //Download Event Images Here\n        val downloadEventImage = FirebaseStorage.getInstance().reference.child(\"Images/Events/$eventID/eventPhoto.jpeg\")\n                            .getBytes(1024 * 1024).asDeferred()\n        val downloadEventFounderImage = FirebaseStorage.getInstance().reference.child(\"Images/Users/$founderID/profilePhoto.jpeg\")\n                            .getBytes(1024 * 1024).asDeferred()\n\n        try {\n           val downloadedImages = mutableListOf&lt;ByteArray&gt;(\n                                downloadEventImage.await(),\n                                downloadEventFounderImage.await())\n            // Update stuff on UI\n        } catch(e: StorageException) {\n            // Error handling\n        }\n     }.addOnFailureListener { exception -&gt;\n     // Error handling\n     }\n    }\n}\n</code></pre>\n\n<p>What I want to do is avoid using GlobalScope but when I tried to add <code>runBlocking</code> to <code>downloadEventInformationAndImages()</code>:</p>\n\n<pre><code>fun downloadEventInformationAndImages() = runBlocking {\n    // Do stuff\n    launch(Dispatchers.Main) {\n</code></pre>\n\n<p>it didn't work (It didn't wait Firebase to finish downloading - then I moved runBlocking to inside of function, also didn't work). How can I avoid using GlobalScope? Thanks in advance.</p>\n"}, {"tags": ["maven", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 0, "creation_date": 1566322635, "post_id": 57574727, "comment_id": 101617694, "body": "Tried this but it did not work. I understand the hack. As a matter of fact, you do not need <code>@SpringBootApplication</code>, just <code>@Configuration</code> and <code>@ComponentScan</code>. However, with the newer version of <code>Spring Boot</code> and <code>Kotlin</code> this hack is no longer needed. The problem remains the same - <b>its not working</b> :`("}], "tags": [], "owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "is_accepted": false, "score": 0, "last_activity_date": 1566307430, "creation_date": 1566307430, "answer_id": 57574727, "question_id": 57570509, "link": "https://stackoverflow.com/questions/57570509/specifying-main-class-in-pom-xml-for-spring-boot-projects-in-kotlin/57574727#57574727", "title": "Specifying Main class in pom.xml for spring boot projects in Kotlin", "body": "<p>Most likely exactly as the exception states: you are missing a class <code>Application</code> inside the package <code>com.example</code> having a companion object with a main method.</p>\n\n<pre><code>package com.example\n\nimport org.springframework.boot.ApplicationArguments\nimport org.springframework.boot.ApplicationRunner\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.context.annotation.Configuration\n\n@SpringBootApplication\n@Configuration\nopen class Application : ApplicationRunner {\n    override fun run(args: ApplicationArguments) {\n    }\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            SpringApplication.run(Application::class.java, *args)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 3791964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7df8946441a1c424f3d201ebbc6b1ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Miles_Dowe", "link": "https://stackoverflow.com/users/3791964/miles-dowe"}, "is_accepted": true, "score": 2, "last_activity_date": 1570747997, "last_edit_date": 1570747997, "creation_date": 1570222455, "answer_id": 58243080, "question_id": 57570509, "link": "https://stackoverflow.com/questions/57570509/specifying-main-class-in-pom-xml-for-spring-boot-projects-in-kotlin/58243080#58243080", "title": "Specifying Main class in pom.xml for spring boot projects in Kotlin", "body": "<p>I am just attempting to learn Kotlin myself, but I suspect you may need to append <code>Kt</code> to the end of your classname. For example:</p>\n\n<pre><code>&lt;manifest&gt;\n    &lt;mainClass&gt;com.example.ApplicationKt&lt;/mainClass&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Unrelated to Spring, I encountered this issue myself when attempting to build an executable JAR. If you unzip your JAR and look at the class files, I believe you will find an <code>ApplicationKt.class</code>.</p>\n\n<p>If so, this is because you did not define the <code>main</code> function within a class.  In this scenario, Kotlin generates a static method belonging to a <code>&lt;filename&gt;Kt.class</code> version of your file. According to <a href=\"https://stackoverflow.com/a/45505308/3791964\">this SO answer</a>:</p>\n\n<blockquote>\n  <p>Unlike Java, Kotlin allows you to define functions that are not inside a class. But if you want Java to talk to Kotlin that becomes a problem. How to solve it? Convert those functions into static methods of a class named as the file with the \"Kt\" suffix</p>\n  \n  <p>You can find more info about that in the documentation</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 0, "creation_date": 1613043095, "post_id": 66144870, "comment_id": 116956607, "body": "You are right. kt is needed to be added as answer by Miles_Dowe suggests. I had forgotten that I ever asked this question. Your answer reminded me to accept the original answer by Miles_Dowe"}], "tags": [], "owner": {"reputation": 54, "user_id": 6726298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895d1b2b62e092b2dba9284b364b2c77?s=128&d=identicon&r=PG&f=1", "display_name": "akang", "link": "https://stackoverflow.com/users/6726298/akang"}, "is_accepted": false, "score": 1, "last_activity_date": 1612990514, "creation_date": 1612990514, "answer_id": 66144870, "question_id": 57570509, "link": "https://stackoverflow.com/questions/57570509/specifying-main-class-in-pom-xml-for-spring-boot-projects-in-kotlin/66144870#66144870", "title": "Specifying Main class in pom.xml for spring boot projects in Kotlin", "body": "<p>Similar to other answers, I got this working with Spring Boot 2.4.2 and Maven</p>\n<p>pom.xml</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;mainClass&gt;demoapi.DemoApiApplicationKt&lt;/mainClass&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>DemoApiApplicationKt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package demoapi\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass DemoApiApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApiApplication&gt;(*args)\n}\n</code></pre>\n"}], "owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "accepted_answer_id": 58243080, "answer_count": 3, "score": 0, "last_activity_date": 1612990514, "creation_date": 1566293096, "question_id": 57570509, "link": "https://stackoverflow.com/questions/57570509/specifying-main-class-in-pom-xml-for-spring-boot-projects-in-kotlin", "title": "Specifying Main class in pom.xml for spring boot projects in Kotlin", "body": "<p>I have created a <code>Spring Boot</code> project using <code>Kotlin</code>. I would like to create a <code>.jar</code> file with all the dependencies so that I can run the application from the command line. The FQCN for the main class is: <code>com.example.Application.kt</code>. I have following configuration in my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;com.example.Application&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The application fails to start complaining that the mainClass was not found. Here is the sample exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: com.example.Application\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["kotlin", "retrofit", "okhttp"], "answers": [{"tags": [], "owner": {"reputation": 571, "user_id": 3599375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHjgd.jpg?s=128&g=1", "display_name": "VadzimV", "link": "https://stackoverflow.com/users/3599375/vadzimv"}, "is_accepted": true, "score": 3, "last_activity_date": 1596957049, "last_edit_date": 1596957049, "creation_date": 1585653403, "answer_id": 60949304, "question_id": 57569025, "link": "https://stackoverflow.com/questions/57569025/retrofit-okhttp-wont-work-after-i-turn-on-internet-on-phone/60949304#60949304", "title": "Retrofit &amp; okhttp won&#39;t work after I turn on internet on phone", "body": "<p>Your issue looks like <a href=\"https://github.com/square/okhttp/issues/3146\" rel=\"nofollow noreferrer\">OkHttp Bug</a>. If you follow the link, you will find long discussion with many possible solutions.</p>\n<h3>Following solution works for my project:</h3>\n<ol>\n<li>Update OkHttp at lest up to 4.3.0.</li>\n<li>Set <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/OkHttpClient.Builder.html#pingInterval-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">ping interval</a>, for example 1 second</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>okHttpClientBuilder.pingInterval(1, TimeUnit.SECONDS)\n</code></pre>\n<h3>How it works</h3>\n<p>The root of the issue is that Android OS doesn't provide any way to know that connection isn't active any more. So that for library connection looks like alive, but it's already dead. As a result we get timeout exception on every request. Once we set ping, OkHttp starts sending <a href=\"https://http2.github.io/http2-spec/#PING\" rel=\"nofollow noreferrer\">Ping frames</a>, so that if server doesn't respond library knows that connection is already dead, and it's time to create a new one.</p>\n<h2>Not recommended solutions, but it should work</h2>\n<ol>\n<li>Turn-off connection pool</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>okHttpClientBuilder.connectionPool(new ConnectionPool(0, 1, TimeUnit.NANOSECONDS))\n</code></pre>\n<ol start=\"2\">\n<li>Use Http 1.1</li>\n</ol>\n<pre><code>okHttpClientBuilder.protocols(listOf(Protocol.HTTP_1_1))\n</code></pre>\n<p>In both not recommended solutions you just stop reusing already opened connection that makes each request time little bit longer.</p>\n"}], "owner": {"reputation": 4835, "user_id": 2704885, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nGr5K.jpg?s=128&g=1", "display_name": "Boldijar Paul", "link": "https://stackoverflow.com/users/2704885/boldijar-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 60949304, "answer_count": 1, "score": 2, "last_activity_date": 1596957049, "creation_date": 1566287748, "last_edit_date": 1566290134, "question_id": 57569025, "link": "https://stackoverflow.com/questions/57569025/retrofit-okhttp-wont-work-after-i-turn-on-internet-on-phone", "title": "Retrofit &amp; okhttp won&#39;t work after I turn on internet on phone", "body": "<p>Scenario:</p>\n\n<ol>\n<li>Open app without internet, the app will try to do a request, and will fail</li>\n<li>Turn on internet connection, and press retry button to trigger internet request</li>\n<li>Retrofit &amp; okhttp will always give me HTTP FAILED: java.net.SocketTimeoutException: timeout</li>\n</ol>\n\n<p>Restarting the app with internet enabled from start will make everything work, unless I close it again, and fail a request, from that point on it will give me the same error. \nI never had this issue on Java, just on Kotlin.</p>\n\n<pre><code>private val interceptor: Interceptor =\n        object : Interceptor {\n            override fun intercept(chain: Interceptor.Chain): Response {\n                var builder = chain.request().newBuilder()\n                Prefs.token?.let { token -&gt;\n                    builder = builder.addHeader(\"Authorization\", \"Bearer $token\")\n                }\n                return chain.proceed(builder.build())\n            }\n        }\n\nprivate val httpLoggingInterceptor: HttpLoggingInterceptor by lazy {\n    val interceptor = HttpLoggingInterceptor()\n    interceptor.level =\n            if (BuildConfig.DEBUG) HttpLoggingInterceptor.Level.BODY else HttpLoggingInterceptor.Level.NONE\n    interceptor\n}\nprivate val httpClient: OkHttpClient by lazy {\n    OkHttpClient.Builder()\n            .addInterceptor(httpLoggingInterceptor)\n            .addInterceptor(interceptor)\n            .build()\n}\n\nval retrofit: Retrofit by lazy {\n    Retrofit.Builder()\n            .baseUrl(\"https://api.secret.com/v1/\")\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .client(httpClient)\n            .build()\n}\n</code></pre>\n\n<p>And the service classes look like this</p>\n\n<pre><code>@GET(\"something\")\nfun something(): Call&lt;SomeResponse&gt;\n</code></pre>\n\n<p>I've tried playing around with timeout values, no matter the timeout time, I will get the same error.</p>\n\n<p>Creating a new http client for every request will fix the issue, but I don't think is a good idea.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-spinner"], "answers": [{"comments": [{"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1566294862, "post_id": 57569297, "comment_id": 101602596, "body": "I dont want to select item in list, I want to scroll to specific position at start (without selecting option in Spinner header (or how to call it))"}], "tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": false, "score": 0, "last_activity_date": 1566288708, "creation_date": 1566288708, "answer_id": 57569297, "question_id": 57568969, "link": "https://stackoverflow.com/questions/57568969/how-to-scroll-spinner-to-specific-position-when-dropdown-menu-appears/57569297#57569297", "title": "How to scroll Spinner to specific position when dropdown menu appears?", "body": "<p>Try to use <a href=\"https://developer.android.com/reference/android/widget/AbsSpinner#setSelection(int)\" rel=\"nofollow noreferrer\"><code>setSelection</code></a>.</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/a/10161277/1231245\">https://stackoverflow.com/a/10161277/1231245</a></p>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566288708, "creation_date": 1566287528, "question_id": 57568969, "link": "https://stackoverflow.com/questions/57568969/how-to-scroll-spinner-to-specific-position-when-dropdown-menu-appears", "title": "How to scroll Spinner to specific position when dropdown menu appears?", "body": "<p>I want to scroll my <code>Spinner</code> to specific position when user clicks on it. There are more than 50 items in it. That means I want to add initial position to almost top of the dropdown menu.</p>\n\n<p>Tried this, doesnt work.</p>\n\n<pre><code>spinner?.setOnTouchListener { v, event -&gt;\n            v.scrollTo(v.scrollX, 0)\n            v.performClick()\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1566287314, "post_id": 57568836, "comment_id": 101598508, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16501/what-is-a-lambda-function\">What is a lambda (function)?</a>"}, {"owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "edited": false, "score": 3, "creation_date": 1566287417, "post_id": 57568836, "comment_id": 101598561, "body": "Both comments here are simply not true. He is asking about the <code>when</code> expression. Not about something related to a lambda!"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11950155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0206c218e5fc82c6320577a91759b781?s=128&d=identicon&r=PG&f=1", "display_name": "nIMaaZx", "link": "https://stackoverflow.com/users/11950155/nimaazx"}, "edited": false, "score": 0, "creation_date": 1566287872, "post_id": 57568936, "comment_id": 101598795, "body": "yes your right. I studied about &quot;When()&quot; with &quot;is ... -&gt;&quot;. as I understand they are the same without &quot;is&quot;."}, {"owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "reply_to_user": {"reputation": 83, "user_id": 11950155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0206c218e5fc82c6320577a91759b781?s=128&d=identicon&r=PG&f=1", "display_name": "nIMaaZx", "link": "https://stackoverflow.com/users/11950155/nimaazx"}, "edited": false, "score": 0, "creation_date": 1566288007, "post_id": 57568936, "comment_id": 101598862, "body": "You have to use the <code>is</code> keyword if you want to check the type of a instance. See <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html</a>"}, {"owner": {"reputation": 83, "user_id": 11950155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0206c218e5fc82c6320577a91759b781?s=128&d=identicon&r=PG&f=1", "display_name": "nIMaaZx", "link": "https://stackoverflow.com/users/11950155/nimaazx"}, "edited": false, "score": 0, "creation_date": 1566289386, "post_id": 57568936, "comment_id": 101599559, "body": "ok thanks. I have another question . when we enter to &quot;when&quot; block and for example first statement like : &quot;XmlPullParser.START_TAG -&gt;{} &quot; is true . at this time does it break from &quot;when block&quot; or continue with next statements until end?"}, {"owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "reply_to_user": {"reputation": 83, "user_id": 11950155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0206c218e5fc82c6320577a91759b781?s=128&d=identicon&r=PG&f=1", "display_name": "nIMaaZx", "link": "https://stackoverflow.com/users/11950155/nimaazx"}, "edited": false, "score": 0, "creation_date": 1566289618, "post_id": 57568936, "comment_id": 101599680, "body": "It does not fall through like the Java <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><code>switch</code></a>. So it will break for the first condition it matches.  I&#39;ve linked the <code>when</code> documentation in the post. Please read it \ud83d\ude09"}], "tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": false, "score": 6, "last_activity_date": 1566287746, "last_edit_date": 1566287746, "creation_date": 1566287387, "answer_id": 57568936, "question_id": 57568836, "link": "https://stackoverflow.com/questions/57568836/what-does-arrow-do-in-kotlin/57568936#57568936", "title": "What does arrow do in Kotlin?", "body": "<p>This is just the <a href=\"https://en.wikipedia.org/wiki/Syntax\" rel=\"nofollow noreferrer\">syntax</a> for a Kotlin <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">when expression</a>.</p>\n\n<p>Basically, it checks the condition inside the <code>when ()</code> and executes the block after <code>-&gt;</code> if it matches.\nYou can either \"inline\" the code which has to be executed <strong>or</strong> wrap it into curly brackets. </p>\n\n<p>See also <a href=\"https://pl.kotl.in/03lRI3SZp\" rel=\"nofollow noreferrer\">this example (Kotlin Playground)</a> and change the <code>aString</code> to another value.</p>\n"}], "owner": {"reputation": 83, "user_id": 11950155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0206c218e5fc82c6320577a91759b781?s=128&d=identicon&r=PG&f=1", "display_name": "nIMaaZx", "link": "https://stackoverflow.com/users/11950155/nimaazx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1566288165, "creation_date": 1566286969, "last_edit_date": 1566288165, "question_id": 57568836, "link": "https://stackoverflow.com/questions/57568836/what-does-arrow-do-in-kotlin", "title": "What does arrow do in Kotlin?", "body": "<p>I'm starting developing for Android using Kotlin. I have a problem with some concepts.<br>\nI use \"->\" in a condition statement but I don't know what that means in this example:</p>\n\n<pre><code> XmlPullParser.START_TAG -&gt; {...}\n XmlPullParser.TEXT -&gt; textValue = xpp.text\n XmlPullParser.END_TAG -&gt; {...}\n</code></pre>\n\n<p>All the code is:</p>\n\n<pre><code>        val factory = XmlPullParserFactory.newInstance()\n        factory.isNamespaceAware = true\n        val xpp = factory.newPullParser()\n        xpp.setInput(xmlData.reader())\n        var eventType = xpp.eventType\n        var currentRecord = FeedEntry()\n        while (eventType != XmlPullParser.END_DOCUMENT) {\n            val tagName = xpp.name.toLowerCase()    \n            when (eventType) {\n\n              XmlPullParser.START_TAG -&gt; {\n                    Log.d(TAG, \"parse: Starting tag for \" + tagName)\n                    if (tagName == \"entry\") {\n                        inEntry = true\n                    }\n                }\n\n                XmlPullParser.TEXT -&gt; textValue = xpp.text\n\n                   XmlPullParser.END_TAG -&gt; {\n                    Log.d(TAG, \"parse: Ending tag for \" + tagName)\n                    if (inEntry) {\n                        when (tagName) {\n                            \"entry\" -&gt; {\n                                applications.add(currentRecord)\n                                inEntry = false\n                                currentRecord = FeedEntry()  \n                            }\n\n                            \"name\" -&gt; currentRecord.name = textValue\n                            \"artist\" -&gt; currentRecord.artist = textValue\n                            \"releasedate\" -&gt; currentRecord.releaseDate = textValue\n                            \"summary\" -&gt; currentRecord.summary = textValue\n                            \"image\" -&gt; currentRecord.imageURL = textValue\n                        }\n                    }\n                }\n            }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2", "android-vitals"], "answers": [{"comments": [{"owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "edited": false, "score": 0, "creation_date": 1566388048, "post_id": 57590562, "comment_id": 101639113, "body": "To be sure. Global error handler will handle error only when observer couldn&#39;t ? Otherwise normal onError() will be called ?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "edited": false, "score": 0, "creation_date": 1566388770, "post_id": 57590562, "comment_id": 101639514, "body": "If your local onError is valid, it&#39;ll always be called."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1566386702, "creation_date": 1566386702, "answer_id": 57590562, "question_id": 57568723, "link": "https://stackoverflow.com/questions/57568723/rxjava-global-handler-and-android-vitals/57590562#57590562", "title": "RxJava global handler and Android Vitals", "body": "<p>Your goal should be to reduce crashes. So whenever you're able to handle exceptions properly, you should do it.</p>\n\n<p>The <code>UndeliverableException</code> usually pops up, when an exception couldn't be deliverd to an observer. That could be a case when a <code>Subject</code> that has no observers.</p>\n\n<p>Often you could easily fix these easily. Or you could just ignore it and rethrow any other error.</p>\n\n<pre><code>RxJavaPlugins.setErrorHandler(e -&gt; {\n    if (e instanceof UndeliverableException) {\n        return;\n    }\n    throw e;\n});\n</code></pre>\n\n<p>Maybe also log the issue to be aware of it.</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566386702, "creation_date": 1566286473, "question_id": 57568723, "link": "https://stackoverflow.com/questions/57568723/rxjava-global-handler-and-android-vitals", "title": "RxJava global handler and Android Vitals", "body": "<p>I have question about RxJava global handler and Android Vitals. \nIn Android Vitals I can see</p>\n\n<blockquote>\n  <p>io.reactivex.exceptions.UndeliverableException</p>\n  \n  <p>Caused by: java.lang.InterruptedException:    at\n  com.google.common.util.concurrent.AbstractFuture.get\n  (AbstractFuture.java:527)   at\n  com.google.common.util.concurrent.FluentFuture$TrustedFuture.get\n  (FluentFuture.java:82)</p>\n</blockquote>\n\n<p>But already I don't know where is the problem so I thought about adding RxJava global error handler:</p>\n\n<pre><code>RxJavaPlugins.setErrorHandler(e -&gt; {\n    if (e instanceof UndeliverableException) {\n        e = e.getCause();\n    }\n    if ((e instanceof IOException) || (e instanceof SocketException)) {\n        // fine, irrelevant network problem or API that throws on cancellation\n        return;\n    }\n    if (e instanceof InterruptedException) {\n        // fine, some blocking code was interrupted by a dispose call\n        return;\n    }\n    if ((e instanceof NullPointerException) || (e instanceof IllegalArgumentException)) {\n        // that's likely a bug in the application\n        Thread.currentThread().getUncaughtExceptionHandler()\n            .handleException(Thread.currentThread(), e);\n        return;\n    }\n    if (e instanceof IllegalStateException) {\n        // that's a bug in RxJava or in a custom operator\n        Thread.currentThread().getUncaughtExceptionHandler()\n            .handleException(Thread.currentThread(), e);\n        return;\n    }\n    Log.warning(\"Undeliverable exception received, not sure what to do\", e);\n});\n</code></pre>\n\n<p>And there is my question. If I will add global error handler I will lost reports from Android Vitals ? By lost I mean there will be no new reports becase we will handle the error which causing crash. </p>\n\n<p>Is it possible to add global error handler and still get reports in Android Vitals ? </p>\n"}, {"tags": ["android", "amazon-web-services", "react-native", "kotlin", "aws-sdk"], "owner": {"reputation": 21, "user_id": 9271695, "user_type": "registered", "profile_image": "https://graph.facebook.com/1302992654/picture?type=large", "display_name": "Nico Martens", "link": "https://stackoverflow.com/users/9271695/nico-martens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566285145, "creation_date": 1566285145, "question_id": 57568389, "link": "https://stackoverflow.com/questions/57568389/migrate-users-to-with-a-lambda-trigger-with-aws-android-sdk", "title": "Migrate users to with a Lambda Trigger with AWS Android SDK", "body": "<p>I'm trying to migrate users from our existing user management system into our user pool without a password reset using the AWS-SDK for Android.</p>\n\n<p>For iOS I found <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/using-amazon-cognito-ios-sdk-user-migration-lambda.html\" rel=\"nofollow noreferrer\">this example</a> which explains that adding a boolean to the awsconfiguration.json with the key <code>MigrationEnabled</code> and value <code>YES</code> should do the magic. This works.</p>\n\n<p>For Android I found <a href=\"https://docs.aws.amazon.com/cognito/latest/developerguide/using-amazon-cognito-android-sdk-user-migration-lambda.html\" rel=\"nofollow noreferrer\">an example</a> which totally doesn't match our Kotlin setup. For Android we're also using the awsconfiguration.json, but the <code>MigrationEnabled</code> boolean is not doing any magic in this case. Unfortunately with the above documentation I can't figure out how to do this in our Android app.</p>\n\n<p>Can anyone point me in the right direction for this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566282129, "post_id": 57567655, "comment_id": 101596217, "body": "Hi Raj, are you using an emulator for Pie or actual device? What are the exact system environments you are using?"}, {"owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "reply_to_user": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566283566, "post_id": 57567655, "comment_id": 101596816, "body": "First of all thanks for interest .I&#39;m using real device .sir,I&#39;m using Samsung galaxy S8+"}, {"owner": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566285368, "post_id": 57567655, "comment_id": 101597603, "body": "What other devices and facebook accounts have you used?"}, {"owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "reply_to_user": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566293995, "post_id": 57567655, "comment_id": 101602049, "body": "I tried on Era 2x 3GB android version 6.0 and its working fine"}, {"owner": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566302779, "post_id": 57567655, "comment_id": 101606801, "body": "Is this the same Facebook account?"}, {"owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "reply_to_user": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566371056, "post_id": 57567655, "comment_id": 101630100, "body": "yes , for both same account"}, {"owner": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566459758, "post_id": 57567655, "comment_id": 101664882, "body": "What gradle version of the facebook SDK are you using?"}, {"owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "reply_to_user": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1566460612, "post_id": 57567655, "comment_id": 101665345, "body": "implementation &#39;com.facebook.android:facebook-android-sdk:4.38.1&#39;"}, {"owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "reply_to_user": {"reputation": 2635, "user_id": 2917564, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2cd0716a73616056c16134893f51a635?s=128&d=identicon&r=PG", "display_name": "jobbert", "link": "https://stackoverflow.com/users/2917564/jobbert"}, "edited": false, "score": 0, "creation_date": 1567142107, "post_id": 57567655, "comment_id": 101882620, "body": "Is here someone who can guide me."}], "owner": {"reputation": 1, "user_id": 11877925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91eb37bbcc6daf50551f683631d9a71d?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/11877925/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566281845, "creation_date": 1566281845, "question_id": 57567655, "link": "https://stackoverflow.com/questions/57567655/on-pie-spinner-is-not-showing-data-as-well-as-social-media-integration-is-not-wo", "title": "On Pie spinner is not showing data as well as social media integration is not working", "body": "<p>I'm facing two issues regarding android pie version these are\n1) My social media integration is not working :- I have integrated facebook in my code.Code is in kotlin. When I'm clicking on custom facebook button then after successful login with facebook it's not moving on home screen.It show login screen .Same code if i run on another versions then it's working .\n2) Spinner Value:- I'm fetching data from server and showing list in spinner .Same code is working on another versions but when I'm running this code on Pie it also not working .</p>\n\n<p>Please suggest me here , what should I do for this.</p>\n\n<p>Hope for best solution and answer !!!</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["android", "kotlin", "position", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1566331360, "post_id": 57567701, "comment_id": 101621143, "body": "In general, this will always happen if you use <code>wrap_content</code> for your RecyclerView size"}], "tags": [], "owner": {"reputation": 364, "user_id": 9595956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVX0C.png?s=128&g=1", "display_name": "Sekhon123", "link": "https://stackoverflow.com/users/9595956/sekhon123"}, "is_accepted": true, "score": 0, "last_activity_date": 1566282081, "creation_date": 1566282081, "answer_id": 57567701, "question_id": 57567429, "link": "https://stackoverflow.com/questions/57567429/same-kotlin-code-in-different-projects-running-in-different-ways-android-studio/57567701#57567701", "title": "Same kotlin code in different projects running in different ways android studio", "body": "<p>here is what the problem was..</p>\n\n<p>i had added my recylerview in nestedscrollview and set nested scroll enable to false.. which loading my all the items at one time. so always check and then use nestedscroll for recyclerview</p>\n"}], "owner": {"reputation": 364, "user_id": 9595956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVX0C.png?s=128&g=1", "display_name": "Sekhon123", "link": "https://stackoverflow.com/users/9595956/sekhon123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57567701, "answer_count": 1, "score": 0, "last_activity_date": 1566282081, "creation_date": 1566280657, "question_id": 57567429, "link": "https://stackoverflow.com/questions/57567429/same-kotlin-code-in-different-projects-running-in-different-ways-android-studio", "title": "Same kotlin code in different projects running in different ways android studio", "body": "<p>i was working with two projects. Same code in both the projects running very different ways.\nhere is my code explained</p>\n\n<p>(Project 1)\nin RecylerView Adapter , in bindview holder when running code it printing all the position at one time , does not matter how much</p>\n\n<p>(project 2)\npositions are printing according to their scroll , which is i think correct </p>\n\n<p>///here is what i have tried .......</p>\n\n<p>\"project 2\" have kotlin version (ext.kotlin_version = '1.3.41') , so i updated my kotlin version of \"project 2\" to 1.3.30 to 1.3.41. </p>\n\n<p>\"project 2 was made with androidX\" so i migrated my \"project 1\" to androidX</p>\n\n<p>updated my whole project, cleaned multiple time, rebuild the project, re-imported the project but nothing works</p>\n\n<p>i have to apply pagination and this needs to print position according to their scroll. But problen is that , since all the position are printing at one time so it keeps on loading next to the next page continuously in \"project 1\"</p>\n\n<p>//here is my adapter</p>\n\n<pre><code>class All_Blogs_adapter(\nval mylist: ArrayList&lt;Model_class_one&gt;,\nval fragmentActivity: FragmentActivity,\nval pages: Int,\nval api: String ) :\nRecyclerView.Adapter&lt;All_Blogs_adapter.Viewholder&gt;() {\nvar n_page = 2\n\ninner class Viewholder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    fun mydata(list: Model_class_one, posit: Int) {\n\n    ///here my positions are printing\n        Log.i(\"scrollposition\", \" my &gt;&gt;$posit\")\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, p1: Int): Viewholder {\n    val layout = LayoutInflater.from(fragmentActivity).inflate(R.layout.allplayer_adp_admin, parent, false)\n    return Viewholder(layout)\n}\n\noverride fun getItemCount(): Int {\n    return mylist.size\n}\n\noverride fun onBindViewHolder(holder: Viewholder, position: Int) {\n    val Values = mylist[position]\n    Log.d(\"running\", \"in bind holder $position\")\n    holder.mydata(Values, position)\n}\n}\n</code></pre>\n\n<p>///here is my build.gradle</p>\n\n<p>////Project 1</p>\n\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'io.fabric'\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n    applicationId 'com.sekhontech.nextcricketscoring'\n    minSdkVersion 19\n    targetSdkVersion 28\n    versionCode 6\n    versionName '1.5'\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    multiDexEnabled true\n\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0-rc01'\nimplementation 'com.google.android.material:material:1.1.0-alpha09'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta2'\ntestImplementation 'junit:junit:4.13-beta-3'\nandroidTestImplementation 'androidx.test:runner:1.3.0-alpha02'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0-alpha02'\n\nimplementation 'com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1'\nimplementation 'com.facebook.fresco:fresco:2.0.0'\nimplementation 'com.android.support:multidex:1.0.3'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>///// build.gradle (project) </p>\n\n<pre><code> buildscript {\next.kotlin_version = '1.3.41'\nrepositories {\n    google()\n    jcenter()\n    maven { url 'https://maven.fabric.io/public' }\n    mavenCentral()\n}\ndependencies {\n    classpath 'io.fabric.tools:gradle:1.27.0'\n    classpath 'com.android.tools.build:gradle:3.4.2'\n    classpath 'com.google.gms:google-services:4.3.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n} \nallprojects {\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n}\n}\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>////Project 2</p>\n\n<pre><code>  apply plugin: 'com.android.application'\n  apply plugin: 'kotlin-android'\n  apply plugin: 'kotlin-android-extensions'\n  android {\n      compileSdkVersion 28\n      defaultConfig {\n    applicationId 'com.sekhontech.ncricketonline'\n    minSdkVersion 19\n    targetSdkVersion 28\n    versionCode 4\n    versionName '1.3'\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    vectorDrawables.useSupportLibrary = true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n  }\n\n  dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.core:core-ktx:1.0.2'\nimplementation 'com.google.android.material:material:1.0.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.vectordrawable:vectordrawable:1.0.1'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:runner:1.2.0'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n</code></pre>\n\n<p>//// build grade(project)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n  buildscript {\next.kotlin_version = '1.3.41'\nrepositories {\n    google()\n    jcenter()\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.4.2'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n }\n allprojects {\nrepositories {\n    google()\n    jcenter()\n\n}\n }\n\n task clean(type: Delete) {\ndelete rootProject.buildDir\n }\n</code></pre>\n\n<p>This might be the bug of project , but how to clear project bug. How can I resolve this problem</p>\n"}, {"tags": ["android", "asynchronous", "kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 76, "user_id": 2444441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95a919ef2fdaca649607409b4e0c20a?s=128&d=identicon&r=PG", "display_name": "Poe Poe", "link": "https://stackoverflow.com/users/2444441/poe-poe"}, "edited": false, "score": 1, "creation_date": 1566281299, "post_id": 57567231, "comment_id": 101595923, "body": "I think it is because runBlocking runs on main thread and async doesn&#39;t change the current thread it is on. How about switch to default dispatcher to run on different thread for async task?"}, {"owner": {"reputation": 151, "user_id": 5120709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c3230ef89b3ef89ee3d8afd709e090?s=128&d=identicon&r=PG&f=1", "display_name": "Ying Zhou", "link": "https://stackoverflow.com/users/5120709/ying-zhou"}, "reply_to_user": {"reputation": 76, "user_id": 2444441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95a919ef2fdaca649607409b4e0c20a?s=128&d=identicon&r=PG", "display_name": "Poe Poe", "link": "https://stackoverflow.com/users/2444441/poe-poe"}, "edited": false, "score": 0, "creation_date": 1566281935, "post_id": 57567231, "comment_id": 101596128, "body": "@PoePoe Thanks! You guys are all correct! However now this problem of <code>FileNotFoundException</code> returned. Is there anything I&#39;m missing with respect to <code>Klaxon</code>?"}, {"owner": {"reputation": 454, "user_id": 10883621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B5rWY5RLkGs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbPn2Gj6c0lWb8J5X5jWTlhmedFOw/mo/photo.jpg?sz=128", "display_name": "isaaaaame", "link": "https://stackoverflow.com/users/10883621/isaaaaame"}, "edited": false, "score": 1, "creation_date": 1566282346, "post_id": 57567231, "comment_id": 101596297, "body": "If one of the answers below fixes your issue, you should accept it (click the check mark next to the appropriate answer). That does two things. It lets everyone know your issue has been resolved to your satisfaction, and it gives the person that helps you credit for the assist. <a href=\"http://meta.stackexchange.com/a/5235\">See here</a> for a full explanation.  As you can only mark one answer as correct solution, I&#39;d suggest asking in a new question."}, {"owner": {"reputation": 151, "user_id": 5120709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c3230ef89b3ef89ee3d8afd709e090?s=128&d=identicon&r=PG&f=1", "display_name": "Ying Zhou", "link": "https://stackoverflow.com/users/5120709/ying-zhou"}, "reply_to_user": {"reputation": 454, "user_id": 10883621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B5rWY5RLkGs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbPn2Gj6c0lWb8J5X5jWTlhmedFOw/mo/photo.jpg?sz=128", "display_name": "isaaaaame", "link": "https://stackoverflow.com/users/10883621/isaaaaame"}, "edited": false, "score": 0, "creation_date": 1566282421, "post_id": 57567231, "comment_id": 101596325, "body": "@isaaaaame Yep. I have done that. I solved the Klaxon problem on my own."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1566283476, "post_id": 57567231, "comment_id": 101596768, "body": "<code>{&quot;data&quot;: {&quot;AGGRAVATED ASSAULT&quot;: 6.87, &quot;AUTO THEFT&quot;: 4.4, &quot;COMMERCIAL BURGLARY&quot;: 1.3, &quot;HOMICIDE&quot;: 0.62, &quot;LARCENY&quot;: 30.72, &quot;OTHER BURGLARY&quot;: 0.59, &quot;RESIDENTIAL BURGLARY&quot;: 4.21, &quot;ROBBERY&quot;: 3.16}, &quot;year&quot;: 2019, &quot;month&quot;: 8, &quot;day&quot;: 20}</code> isn&#39;t a filename."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566559839, "post_id": 57567231, "comment_id": 101704429, "body": "Please don&#39;t use <code>runBlocking</code>!"}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1566280844, "creation_date": 1566280844, "answer_id": 57567468, "question_id": 57567231, "link": "https://stackoverflow.com/questions/57567231/why-do-i-still-get-a-networkonmainthreadexception-despite-using-async/57567468#57567468", "title": "Why do I still get a NetworkOnMainThreadException despite using async?", "body": "<p>You shouldn't call network in the main thread. You can fix it by using <code>IO</code> dispatcher:</p>\n\n<pre><code>async(Dispatchers.IO){ obtainJson() }.await()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1218, "user_id": 6570945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ntKZxXqL_z0/AAAAAAAAAAI/AAAAAAAAAKE/cSeB-EtbS9Y/photo.jpg?sz=128", "display_name": "Ashu Tyagi", "link": "https://stackoverflow.com/users/6570945/ashu-tyagi"}, "is_accepted": true, "score": 9, "last_activity_date": 1566280963, "creation_date": 1566280963, "answer_id": 57567490, "question_id": 57567231, "link": "https://stackoverflow.com/questions/57567231/why-do-i-still-get-a-networkonmainthreadexception-despite-using-async/57567490#57567490", "title": "Why do I still get a NetworkOnMainThreadException despite using async?", "body": "<p>It's because <strong>async</strong> block is running with <strong>Dispatchers.Main</strong> try using it with <strong>Dispatchers.IO</strong></p>\n\n<pre><code>val json = async(Dispatchers.IO){obtainJson()}.await()\n</code></pre>\n\n<p>Also a better syntax would be to use withContext</p>\n\n<pre><code>val json = withContext(Dispatchers.IO){obtainJson()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1566382926, "creation_date": 1566382926, "answer_id": 57589475, "question_id": 57567231, "link": "https://stackoverflow.com/questions/57567231/why-do-i-still-get-a-networkonmainthreadexception-despite-using-async/57589475#57589475", "title": "Why do I still get a NetworkOnMainThreadException despite using async?", "body": "<p>You <strong>should not</strong> use <code>runBlocking {}</code> in production code! It'll block your main thread.</p>\n\n<p>Since you're calling this within the main thread, every following call to <code>async</code> or <code>launch</code> will be run in the same scope and thus on the main thread.</p>\n\n<p>Instead you should launch a coroutine preferable with a <code>viewModelScope</code> (<code>GlobalScope</code> would be an acceptable start as well) and run the view updates on the main thread:</p>\n\n<pre><code>GlobalScope.launch(IO) {\n    val json = obtainJson()\n    Log.d(\"postcoroutine\", json.toString())\n    val crime1: Double? = json.obj(\"data\")?.double(\"AGGRAVATED ASSAULT\")\n    ...\n    val year: Int? = json.int(\"year\")\n    val month: Int? = json.int(\"month\")\n    val day: Int? = json.int(\"day\")\n    launch(Main) {\n        val textView1: TextView = findViewById(R.id.editText1B)\n        textView1.text = crime1?.toString() ?: \"N/A\"\n        ...\n        val textViewDate: TextView = findViewById(R.id.editTextDate)\n        textViewDate.text = \"Date: $month/$day/$year\"\n    }\n}\n</code></pre>\n\n<p>Using <code>async</code> is not necessary here. Instead of <code>launch(Main)</code> you could use <code>withContext(Main)</code> though.</p>\n"}], "owner": {"reputation": 151, "user_id": 5120709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c3230ef89b3ef89ee3d8afd709e090?s=128&d=identicon&r=PG&f=1", "display_name": "Ying Zhou", "link": "https://stackoverflow.com/users/5120709/ying-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 57567490, "answer_count": 3, "score": 0, "last_activity_date": 1566382926, "creation_date": 1566279375, "last_edit_date": 1566282312, "question_id": 57567231, "link": "https://stackoverflow.com/questions/57567231/why-do-i-still-get-a-networkonmainthreadexception-despite-using-async", "title": "Why do I still get a NetworkOnMainThreadException despite using async?", "body": "<p>Here is my program to display results from a web app (data product) I made on an Android device.</p>\n\n<pre><code>package studio.nyaa.crimeprediction\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport java.net.URL\nimport android.util.Log\nimport android.widget.TextView\nimport com.beust.klaxon.JsonObject\nimport com.beust.klaxon.Parser\nimport kotlinx.coroutines.runBlocking\nimport kotlinx.coroutines.async\n\nsuspend fun obtainJson():JsonObject {\n    val sourceURL = \"http://yingzhou474.pythonanywhere.com/api\"\n    val jsonRes: String = URL(sourceURL).readText()\n    val parser: Parser = Parser.default()\n    val json = parser.parse(jsonRes) as JsonObject\n    Log.d(\"oj\", \"oj finished\")\n    return json\n}\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        runBlocking {\n            val json = async{obtainJson()}.await()\n            Log.d(\"postcoroutine\", json.toString())\n            val crime1: Double? = json.obj(\"data\")?.double(\"AGGRAVATED ASSAULT\")\n            val crime2: Double? = json.obj(\"data\")?.double(\"AUTO THEFT\")\n            val crime3: Double? = json.obj(\"data\")?.double(\"COMMERCIAL BURGLARY\")\n            val crime4: Double? = json.obj(\"data\")?.double(\"HOMICIDE\")\n            val crime5: Double? = json.obj(\"data\")?.double(\"LARCENY\")\n            val crime6: Double? = json.obj(\"data\")?.double(\"OTHER BURGLARY\")\n          val crime7: Double? = json.obj(\"data\")?.double(\"RESIDENTIAL BURGLARY\")\n          val crime8: Double? = json.obj(\"data\")?.double(\"ROBBERY\")\n            val year: Int? = json.int(\"year\")\n            val month: Int? = json.int(\"month\")\n            val day: Int? = json.int(\"day\")\n            val textView1: TextView = findViewById(R.id.editText1B)\n            textView1.text = crime1?.toString() ?: \"N/A\"\n            val textView2: TextView = findViewById(R.id.editText2B)\n            textView2.text = crime2?.toString() ?: \"N/A\"\n            val textView3: TextView = findViewById(R.id.editText3B)\n            textView3.text = crime3?.toString() ?: \"N/A\"\n            val textView4: TextView = findViewById(R.id.editText4B)\n            textView4.text = crime4?.toString() ?: \"N/A\"\n            val textView5: TextView = findViewById(R.id.editText5B)\n            textView5.text = crime5?.toString() ?: \"N/A\"\n            val textView6: TextView = findViewById(R.id.editText6B)\n            textView6.text = crime6?.toString() ?: \"N/A\"\n            val textView7: TextView = findViewById(R.id.editText7B)\n            textView7.text = crime7?.toString() ?: \"N/A\"\n            val textView8: TextView = findViewById(R.id.editText8B)\n            textView8.text = crime8?.toString() ?: \"N/A\"\n            val textViewDate: TextView = findViewById(R.id.editTextDate)\n            textViewDate.text = \"Date: $month/$day/$year\"\n        }\n    }\n}\n</code></pre>\n\n<p>Here the data source is <a href=\"http://yingzhou474.pythonanywhere.com/api\" rel=\"nofollow noreferrer\">this site</a> which returns a JsonObject of this kind:</p>\n\n<pre><code>{\"data\": {\"AGGRAVATED ASSAULT\": 6.87, \"AUTO THEFT\": 4.4, \"COMMERCIAL BURGLARY\": 1.3, \"HOMICIDE\": 0.62, \"LARCENY\": 30.72, \"OTHER BURGLARY\": 0.59, \"RESIDENTIAL BURGLARY\": 4.21, \"ROBBERY\": 3.16}, \"year\": 2019, \"month\": 8, \"day\": 20}\n</code></pre>\n\n<p>Edited2: I fixed the Klaxon error on my own.</p>\n\n<p>Edited: After fixing this now I'm getting something else:</p>\n\n<pre><code>08-19 23:13:32.385 2175-2175/? E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: studio.nyaa.crimeprediction, PID: 2175\njava.lang.RuntimeException: Unable to start activity ComponentInfo{studio.nyaa.crimeprediction/studio.nyaa.crimeprediction.MainActivity}: java.io.FileNotFoundException: {\"data\": {\"AGGRAVATED ASSAULT\": 6.87, \"AUTO THEFT\": 4.4, \"COMMERCIAL BURGLARY\": 1.3, \"HOMICIDE\": 0.62, \"LARCENY\": 30.72, \"OTHER BURGLARY\": 0.59, \"RESIDENTIAL BURGLARY\": 4.21, \"ROBBERY\": 3.16}, \"year\": 2019, \"month\": 8, \"day\": 20}: open failed: ENOENT (No such file or directory)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2404)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)\n    at android.app.ActivityThread.access$900(ActivityThread.java:175)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1369)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5418)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1037)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\n Caused by: java.io.FileNotFoundException: {\"data\": {\"AGGRAVATED ASSAULT\": 6.87, \"AUTO THEFT\": 4.4, \"COMMERCIAL BURGLARY\": 1.3, \"HOMICIDE\": 0.62, \"LARCENY\": 30.72, \"OTHER BURGLARY\": 0.59, \"RESIDENTIAL BURGLARY\": 4.21, \"ROBBERY\": 3.16}, \"year\": 2019, \"month\": 8, \"day\": 20}: open failed: ENOENT (No such file or directory)\n    at libcore.io.IoBridge.open(IoBridge.java:456)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:76)\n    at com.beust.klaxon.Parser$DefaultImpls.parse(Parser.kt:21)\n    at com.beust.klaxon.KlaxonParser.parse(KlaxonParser.kt:9)\n    at studio.nyaa.crimeprediction.MainActivityKt.obtainJson(MainActivity.kt:16)\n    at studio.nyaa.crimeprediction.MainActivity$onCreate$1$json$1.invokeSuspend(MainActivity.kt:25)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:740)\n Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n    at libcore.io.Posix.open(Native Method)\n    at libcore.io.BlockGuardOs.open(BlockGuardOs.java:186)\n    at libcore.io.IoBridge.open(IoBridge.java:442)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:76)\u00a0\n    at com.beust.klaxon.Parser$DefaultImpls.parse(Parser.kt:21)\u00a0\n    at com.beust.klaxon.KlaxonParser.parse(KlaxonParser.kt:9)\u00a0\n    at studio.nyaa.crimeprediction.MainActivityKt.obtainJson(MainActivity.kt:16)\u00a0\n    at studio.nyaa.crimeprediction.MainActivity$onCreate$1$json$1.invokeSuspend(MainActivity.kt:25)\u00a0\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\u00a0\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\u00a0\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\u00a0\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\u00a0\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:740)\u00a0\n08-19 23:13:32.555 2175-2175/? I/Process: Sending signal. PID: 2175 SIG: 9\n</code></pre>\n\n<p><strong>Old stuff:</strong></p>\n\n<p>Despite using <code>async</code> and <code>await</code> I still got the <code>android.os.NetworkOnMainThreadException</code>. Here is my stack trace:</p>\n\n<pre><code>08-19 22:28:06.675 28015-28015/? E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: studio.nyaa.crimeprediction, PID: 28015\njava.lang.RuntimeException: Unable to start activity ComponentInfo{studio.nyaa.crimeprediction/studio.nyaa.crimeprediction.MainActivity}: android.os.NetworkOnMainThreadException\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2404)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)\n    at android.app.ActivityThread.access$900(ActivityThread.java:175)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1369)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5418)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1037)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\n Caused by: android.os.NetworkOnMainThreadException\n    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1147)\n    at java.net.InetAddress.lookupHostByName(InetAddress.java:418)\n    at java.net.InetAddress.getAllByNameImpl(InetAddress.java:252)\n    at java.net.InetAddress.getAllByName(InetAddress.java:215)\n    at com.android.okhttp.HostResolver$1.getAllByName(HostResolver.java:29)\n    at com.android.okhttp.internal.http.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:232)\n    at com.android.okhttp.internal.http.RouteSelector.next(RouteSelector.java:124)\n    at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:272)\n    at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:211)\n    at com.android.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:382)\n    at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:332)\n    at com.android.okhttp.internal.http.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:199)\n    at java.net.URL.openStream(URL.java:470)\n    at kotlin.io.TextStreamsKt.readBytes(ReadWrite.kt:150)\n    at studio.nyaa.crimeprediction.MainActivityKt.obtainJson(MainActivity.kt:17)\n    at studio.nyaa.crimeprediction.MainActivity$onCreate$1$json$1.invokeSuspend(MainActivity.kt:28)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:270)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:79)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:54)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:36)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at studio.nyaa.crimeprediction.MainActivity.onCreate(MainActivity.kt:27)\n    at android.app.Activity.performCreate(Activity.java:6083)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1115)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2357)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2466)\u00a0\n    at android.app.ActivityThread.access$900(ActivityThread.java:175)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1369)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:135)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5418)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1037)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\u00a0\n</code></pre>\n\n<p>This question is a variant of <a href=\"https://stackoverflow.com/questions/57565463/why-doesnt-my-kotlin-coroutine-run-at-all?noredirect=1#comment101595281_57565463\">my earlier question</a>. </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-jetpack"], "answers": [{"tags": [], "owner": {"reputation": 435, "user_id": 4334109, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wDi8k.png?s=128&g=1", "display_name": "the1900", "link": "https://stackoverflow.com/users/4334109/the1900"}, "is_accepted": false, "score": 3, "last_activity_date": 1566275990, "last_edit_date": 1566275990, "creation_date": 1566275361, "answer_id": 57566747, "question_id": 57566102, "link": "https://stackoverflow.com/questions/57566102/what-are-the-differences-between-mediasessioncompat-and-mediasession-in-android/57566747#57566747", "title": "what are the differences between MediaSessionCompat and MediaSession in android? and why there are androidx.media2 androidx.media both exists?", "body": "<p><strong>I found it.</strong></p>\n\n<blockquote>\n  <p>assuming you are using at least API level 28 SDK version with kotlin.</p>\n</blockquote>\n\n<p>According to <a href=\"https://developer.android.com/guide/topics/media-apps/media-apps-overview#compat-library\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media-apps/media-apps-overview#compat-library</a> MediaSessionCompat is a backport for supporting earlier than Android 4.1 (API level 16) and when android 5.0 released <a href=\"https://developer.android.com/reference/android/media/session/MediaSession.html\" rel=\"nofollow noreferrer\">MediaSession</a> came out.</p>\n\n<p>AndroidX is the next library of <a href=\"https://developer.android.com/topic/libraries/support-library/index\" rel=\"nofollow noreferrer\">android  support library</a>. It needs Android 9.0 (API level 28).</p>\n\n<p>In androidx, The package androidx.media is for supporting compabilities and package androidx.media2 is a next version of android.media.* which added API level 21. For example <a href=\"https://developer.android.com/reference/kotlin/androidx/media2/session/MediaSession.html\" rel=\"nofollow noreferrer\">MediaSession</a></p>\n\n<p>So If you want to use some classes in android.support.v4.media.session package which is media-compat library. You should add <code>implementation 'com.android.support:support-media-compat:28.0.0'</code> in your <code>build.gradle</code></p>\n"}], "owner": {"reputation": 435, "user_id": 4334109, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wDi8k.png?s=128&g=1", "display_name": "the1900", "link": "https://stackoverflow.com/users/4334109/the1900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1566275990, "creation_date": 1566269340, "last_edit_date": 1566273338, "question_id": 57566102, "link": "https://stackoverflow.com/questions/57566102/what-are-the-differences-between-mediasessioncompat-and-mediasession-in-android", "title": "what are the differences between MediaSessionCompat and MediaSession in android? and why there are androidx.media2 androidx.media both exists?", "body": "<p>I start new android app project with kotlin. my gradle configs for sdk are compileSdkVersion 29 and buildToolsVersion \"29.0.1\"</p>\n\n<p>I tried to make a feature which is remapping button of bluetooth earphone. So I found that I have to handle ACTION_MEDIA_BUTTON.</p>\n\n<p>It looks like <a href=\"https://developer.android.com/reference/kotlin/androidx/media2/session/MediaSession.html\" rel=\"nofollow noreferrer\">MediaSession</a> is later then <a href=\"https://developer.android.com/reference/kotlin/android/support/v4/media/session/MediaSessionCompat.html\" rel=\"nofollow noreferrer\">MediaSessionCompat</a>. But I don't know what should I use.</p>\n\n<p>About androidx. I wonder why they divided the package like androidx.media and androidx.media2?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "is_accepted": false, "score": 1, "last_activity_date": 1566270796, "creation_date": 1566270796, "answer_id": 57566242, "question_id": 57566026, "link": "https://stackoverflow.com/questions/57566026/convert-rx-apply-with-retrofit-to-lambda-in-kotlin/57566242#57566242", "title": "Convert Rx apply with Retrofit to lambda in Kotlin", "body": "<p>If your IDE showing that it can be converted to <code>lambda</code> it will probably does it instead of you. </p>\n\n<p>As an example for Android Studio. Here is how your code will look like and how you convert it to lambda.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nma1T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nma1T.png\" alt=\"enter image description here\"></a></p>\n\n<p>So if you click on that line that has wavy line below it. You will get <strong>yellow lamb</strong> icon next to it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J8WDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J8WDt.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you click on <code>Convert to lambda</code> your IDE will convert your code to lambda equivalent.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7NWc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7NWc6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Equivalently, you can do this with a shortcut <code>Option + Enter</code> on <em>Mac</em>. </p>\n"}], "owner": {"reputation": 107, "user_id": 8930543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc77ce032d5b63d34f287762065ea70?s=128&d=identicon&r=PG&f=1", "display_name": "Demoz_Dev", "link": "https://stackoverflow.com/users/8930543/demoz-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566270796, "creation_date": 1566268632, "question_id": 57566026, "link": "https://stackoverflow.com/questions/57566026/convert-rx-apply-with-retrofit-to-lambda-in-kotlin", "title": "Convert Rx apply with Retrofit to lambda in Kotlin", "body": "<p>I'm not familiar with using lambda expression in Kotlin. I successfully make network call using Rx apply with Retrofit in Kotlin, but IDE warm me that my code can convert to lambda. could you give me some idea with below code? </p>\n\n<pre><code>disposable = publishSubject\n            .debounce(300, TimeUnit.MILLISECONDS)\n            .switchMap(object: Function&lt;String, Observable&lt;ArrayList&lt;Contact&gt;&gt;&gt; {\n                override fun apply(t: String): Observable&lt;ArrayList&lt;Contact&gt;&gt; {\n                    return apiService.getContactList(\"\", t)\n                }\n            })\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object: DisposableObserver&lt;ArrayList&lt;Contact&gt;&gt;() {\n                override fun onNext(t: ArrayList&lt;Contact&gt;) {\n                    adapter?.addItem(t)\n                }\n\n                override fun onError(e: Throwable) {\n                    Toast.makeText(this@MainActivity, e.message, Toast.LENGTH_SHORT).show()\n                }\n                override fun onComplete() {\n\n                }\n            })\n</code></pre>\n"}, {"tags": ["oop", "kotlin", "properties", "delegates"], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "edited": false, "score": 0, "creation_date": 1566315002, "post_id": 57567051, "comment_id": 101614187, "body": "But here comes the problem: in my case <code>class A</code> is an internal Java API so I can&#39;t modify what interfaces it implements."}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1566278639, "last_edit_date": 1566278639, "creation_date": 1566278077, "answer_id": 57567051, "question_id": 57565951, "link": "https://stackoverflow.com/questions/57565951/how-to-delegate-a-property-in-a-class-with-its-other-propertys-same-property-in/57567051#57567051", "title": "How to delegate a property in a class with its other property&#39;s same property in Kotlin", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">Delegation</a> like this:</p>\n\n<pre><code>interface IA {\n    var someProperty: String\n}\n\nclass A : IA {\n    override var someProperty: String = \"\"\n        get() {\n            println(\"get by otherMember\")\n            return field\n        }\n        set(value) {\n            println(\"set by otherMember\")\n            field = value\n        }\n}\n\nclass B(private val otherMember:A) : IA by otherMember\n\nfun main() {\n    val b = B(A())\n    b.someProperty = \"test\" // prints \"set by otherMember\"\n    println(b.someProperty) // prints \"get by otherMember\" \"test\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1566288122, "answer_count": 1, "score": 0, "last_activity_date": 1566278639, "creation_date": 1566267806, "question_id": 57565951, "link": "https://stackoverflow.com/questions/57565951/how-to-delegate-a-property-in-a-class-with-its-other-propertys-same-property-in", "closed_reason": "Duplicate", "title": "How to delegate a property in a class with its other property&#39;s same property in Kotlin", "body": "<p>How to delegate a property in a class with its other property's same property in Kotlin? In other words, is there a simple way to replace the code below?</p>\n\n<pre><code>var someProperty: Type\n    get() = otherMember.someProperty\n    set(value) { otherMember.someProperty = value }\n</code></pre>\n\n<p>I could't find any info about this from <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">the official \n docs for Delegated Propeties</a>.</p>\n"}, {"tags": ["kotlin", "delegation"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1566254328, "post_id": 57564523, "comment_id": 101590993, "body": "<a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/delegation.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "edited": false, "score": 0, "creation_date": 1610319474, "post_id": 57565400, "comment_id": 116088834, "body": "Very good write up!"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 3, "last_activity_date": 1566261522, "creation_date": 1566261522, "answer_id": 57565400, "question_id": 57564523, "link": "https://stackoverflow.com/questions/57564523/please-explain-to-me-class-delegation-in-kotlin/57565400#57565400", "title": "Please explain to me class delegation in Kotlin", "body": "<p>Assuming you've already read the <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">docs</a>, and want some more, I'll try to give you my explanation\u2026</p>\n\n<p>To show why delegation is needed, let's look at the main alternative.\u00a0 And because your example is a little too simplified to demonstrate the issues, let's pick another one:</p>\n\n<p>Suppose you need a class that behaves like (say) the stdlib <code>LinkedList</code>, but adds some extra behaviour.\u00a0\u00a0(Say you need to log every item added to the list.)</p>\n\n<p>The traditional way to do this would be to use inheritance: you'd create a subclass of <code>LinkedList</code>, and override the <code>add()</code> method:</p>\n\n<pre><code>class MyLinkedList&lt;E&gt; : LinkedList&lt;E&gt;() {\n    override fun add(e: E)\n        = super.add(e).also{ println(e) }\n}\n</code></pre>\n\n<p>(I've used the Kotlin <code>also()</code> function to simplify this a bit.\u00a0 The alternative would be to call the superclass method, store the result in a temporary value, do the logging, and then return the temporary value\u2026)</p>\n\n<p>The idea is easy enough.\u00a0 But there are quite a few hidden problems with this approach\u2026</p>\n\n<p>For example: if you've tried to be thorough, you'd also spot that there are other ways to add elements to the list: there's a second <code>add()</code> method which lets you specify the position as well.\u00a0 And there are two <code>addFirst()</code> and two <code>addAll()</code> methods as well.\u00a0 So you override those as well.</p>\n\n<p>But then you find that sometimes items are getting logged <em>twice</em>\u2026\u00a0 And after some investigation, you discover why: in <code>LinkedList</code>, the implementation of one of the <code>addAll()</code> methods simply calls the other one.\u00a0 (If someone calls your first <code>addAll()</code> method, that logs and then calls the superclass method; that calls the other, but because you've overridden that too, it logs <em>again</em> before calling <em>that</em> superclass method.)</p>\n\n<p>This is the main problem: <strong>you don't just need to know the public interface of the class you're inheriting from, you also need to know the private details of how it's implemented too.</strong></p>\n\n<p>In the case of the Java stdlib you're lucky, because Oracle publish the source code.\u00a0 (If it's a third-party library, you may be less lucky.)\u00a0 So you could work around this by only overriding one of the two <code>addAll()</code> methods.</p>\n\n<p>But this isn't a proper solution.\u00a0 What if Oracle change the implementation in a future version?\u00a0 (This isn't a theoretical problem; it happens a lot in practice!)</p>\n\n<p>This is known as the <a href=\"https://en.wikipedia.org/wiki/Fragile_base_class\" rel=\"nofollow noreferrer\">fragile base class</a> problem, and there are no really good ways around it.\u00a0 <strong>Unless you control the superclass too, subclassing isn't safe: it's far too easy to leave hidden problems, and for your code to break if the superclass changes.</strong></p>\n\n<p>So what's the alternative to this?\u00a0 Delegation.</p>\n\n<p>Instead of creating a subclass, you write a separate implementation of the <code>List</code> interface; your class contains an instance of <code>LinkedList</code>, and all your methods simply call the methods on that instance \u2014 except for the <code>add\u2026()</code> methods, which also do your logging, e.g.:</p>\n\n<pre><code>class MyLinkedList&lt;E&gt;(val delegate: LinkedList&lt;E&gt;) : List&lt;E&gt; {\n    fun add(e: E)\n        = delegate.add(e).also{ println(e) }\n    // ...similar for the other add methods...\n\n    override val size = delegate.size\n    override fun get(index: Int) = delegate.get(index)\n    // ...similar for all the remaining List methods...\n}\n</code></pre>\n\n<p>This is much safer.\u00a0 It doesn't matter if the <code>LinkedList</code> you're delegating to calls its own methods; that won't have any effect on your code.\u00a0 Your class is insulated from the internal details of <code>LinkedList</code>, and from changes to it.\u00a0 Great!</p>\n\n<p>So why isn't delegation used more often?\u00a0 Because in Java and similar languages, it's very long-winded.\u00a0 As you can see from the above, not only do you have to write implementations of the <code>add\u2026</code> methods you're interested in; you also have to write implementations of every other method in the interface, all just forwarding those calls to your delegate instance.\u00a0 That's a lot of boilerplate in every case, but <code>java.util.List</code> has about 30 public methods!\u00a0 (And of course that introduces a new type of fragility: if any new methods get added to the interface, your code will break until you add them in.)</p>\n\n<p>Very painful.</p>\n\n<p>But not in Kotlin!\u00a0 Kotlin gives you the benefit of delegation <em>without</em> having to write all that boilerplate!\u00a0 You simply tell it what interface you're implementing, and what instance you want to delegate to, and it'll automatically generate all the necessary forwarding methods!\u00a0 You just override the ones you want, and it does the rest!</p>\n\n<pre><code>class MyLinkedList&lt;E&gt;(val delegate: LinkedList&lt;E&gt;) : List&lt;E&gt; by delegate {\n    fun add(e: E)\n        = delegate.add(e).also{ println(e) }\n    // ...similar for the other add methods...\n}\n</code></pre>\n\n<p>So you get the best of both worlds: <strong>you can write Kotlin code that's as simple and concise as the traditional subclassing approach, but with all the safety and robustness of delegation \u2014 and without the breaking if the interface changes, either.</strong></p>\n"}], "owner": {"reputation": 13, "user_id": 11393616, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210990766085599/picture?type=large", "display_name": "Safwen Chaieb", "link": "https://stackoverflow.com/users/11393616/safwen-chaieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "closed_date": 1566265434, "answer_count": 1, "score": -1, "last_activity_date": 1566261522, "creation_date": 1566252780, "last_edit_date": 1566253451, "question_id": 57564523, "link": "https://stackoverflow.com/questions/57564523/please-explain-to-me-class-delegation-in-kotlin", "closed_reason": "Needs more focus", "title": "Please explain to me class delegation in Kotlin", "body": "<p>I don't understand the (BY) keyword in Kotlin like this:</p>\n\n<pre><code>interface a {\n}\n\nclass b():a {\n}\n\nclass c(x:a):a by x {\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566252352, "post_id": 57564420, "comment_id": 101590490, "body": "Can you post your build files and/or code? It helps to have that along with the error."}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "reply_to_user": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566254048, "post_id": 57564420, "comment_id": 101590928, "body": "im trying to add the gradle at this current moment but overflow wont let me , keeps telling me to indent it four times before posting it which i did but keeps preventing me from doing so. please wait a bit more thank you"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "reply_to_user": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566255148, "post_id": 57564420, "comment_id": 101591164, "body": "gradle code uploaded plus manifest"}, {"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 1, "creation_date": 1566311625, "post_id": 57564420, "comment_id": 101612137, "body": "Please don&#39;t post text data as images / screenshots"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566330787, "post_id": 57564420, "comment_id": 101620934, "body": "James Z, I would post the actual code but stack overflow wont let me indent my post hence I have to resort to images and screen shot."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1566417975, "post_id": 57564420, "comment_id": 101654249, "body": "Stack Overflow really will allow you to use code formatting - this very post contains post formatting. Please try again."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566266498, "post_id": 57565098, "comment_id": 101592978, "body": "So i made the changes in my code by replacing the ones you mentioned as well as adding the access network state command as well and nothing seems to have changed. Also I couldnt use this &quot;androidx.fragment:fragment-ktx:$version&quot; it kept failing to resolve so I used this instead &quot; androidx.fragment:fragment-ktx:1.2.0-alpha02&quot;.  Although everything seemed to be successful upon syncing the gradle after the changes above, when I clicked &quot; make build&quot; the errors I mentioned above appeared so yea. I figured even if I was to hit &quot;run&quot; the same result would show as well."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566320877, "post_id": 57565098, "comment_id": 101616996, "body": "@DragonicShadowWalker see my updated answer."}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566326726, "post_id": 57565098, "comment_id": 101619342, "body": "So I tried implementing the changes you mentioned within your edited comment. After making those changes the gradle was synced successfully but when the program was executed I received the same errors : [Fatal Error] core-1.0.0.pom:2:1: Content is not allowed in prolog. [Fatal Error] vectordrawable-1.0.0.pom:2:1: Content is not allowed in prolog."}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566326842, "post_id": 57565098, "comment_id": 101619392, "body": "this part of the code was based off this websites :<a href=\"https://thesimplycoder.com/137/android-image-gallery-using-kotlin-tutorial/\" rel=\"nofollow noreferrer\">thesimplycoder.com/137/&hellip;</a> - Im trying to the image gallery on my end to work. Im starting to think it might a configuration error within my Manifest but im not so sure."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566326952, "post_id": 57565098, "comment_id": 101619436, "body": "Did you add all the: apply plugin: &#39;com.android.application&#39; apply plugin: &#39;kotlin-android&#39; apply plugin: &#39;kotlin-android-extensions&#39; apply plugin: &#39;kotlin-kapt&#39;"}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566327050, "post_id": 57565098, "comment_id": 101619470, "body": "You can also try just using <code>glide.4.8.0</code> instead of 4.9.0"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566328464, "post_id": 57565098, "comment_id": 101620023, "body": "yes , i have all of those apply plugins implemented as well"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566328479, "post_id": 57565098, "comment_id": 101620035, "body": "ill see if changing glide 4.9 to 4.8 will have any change, i just did it , after syncing it, I clicked &quot; Make Project&quot; instead of having the  [Fatal Error] vectordrawable-1.0.0.pom:2:1: Content is not allowed in prolog. and the latter now I only have [Fatal Error] core-1.0.0.pom:2:1"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566329836, "post_id": 57565098, "comment_id": 101620591, "body": "I just made a few changes myself , I took of one of the kapt glide implementations, now i have these 2 left implementation &#39;com.github.bumptech.glide:glide:4.9.0&#39;     kapt &#39;com.github.bumptech.glide:compiler:4.9.0&#39; After doing this and clicking &quot;Make Project&quot; I managed to get get the above result."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566330376, "post_id": 57565098, "comment_id": 101620793, "body": "Looks like it worked. Good luck :)"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566331021, "post_id": 57565098, "comment_id": 101621010, "body": "yea it finally worked but now the image gallery is hiding my images , see the post I just made a  moment ago, you mind helping me out once again. I really appreciate and am really grateful that you are taking your time to teach me. I thank you for that"}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566357216, "post_id": 57565098, "comment_id": 101626534, "body": "knock knock samurai you there?"}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "reply_to_user": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566402164, "post_id": 57565098, "comment_id": 101647623, "body": "The image issue would be another question."}, {"owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "edited": false, "score": 0, "creation_date": 1566407647, "post_id": 57565098, "comment_id": 101649980, "body": "<a href=\"https://stackoverflow.com/questions/57588015/trying-to-resolve-an-issue-image-is-hiding-at-the-corner-of-the-screen-when-i\" title=\"trying to resolve an issue image is hiding at the corner of the screen when i\">stackoverflow.com/questions/57588015/&hellip;</a> this is the link to the other question I made abot the image gallery not working and so forth"}], "tags": [], "owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "is_accepted": true, "score": 0, "last_activity_date": 1566320864, "last_edit_date": 1566320864, "creation_date": 1566257955, "answer_id": 57565098, "question_id": 57564420, "link": "https://stackoverflow.com/questions/57564420/my-image-gallery-content-is-not-allowed-in-prolog/57565098#57565098", "title": "My image gallery: Content is not allowed in prolog", "body": "<p>It looks like you have a transitive dependency in one of your files. You need to force the use of <code>android.core.1.0.0</code>: </p>\n\n<pre><code>implementation('androidx.core:core:1.0.0') {\n    force = true\n}\n</code></pre>\n\n<p>You may also need to do the same for the <code>vectorDrawable</code>: </p>\n\n<pre><code>    implementation('androidx.vectordrawable:vectordrawable:1.0.0') {\n        force = true\n    }\n</code></pre>\n\n<p>You should also add <code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n</code> to your manifest. </p>\n"}], "owner": {"reputation": 1, "user_id": 11948708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5alow.png?s=128&g=1", "display_name": "Dragonic Shadow Walker", "link": "https://stackoverflow.com/users/11948708/dragonic-shadow-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "closed_date": 1567559016, "accepted_answer_id": 57565098, "answer_count": 1, "score": -2, "last_activity_date": 1566417940, "creation_date": 1566251965, "last_edit_date": 1566417940, "question_id": 57564420, "link": "https://stackoverflow.com/questions/57564420/my-image-gallery-content-is-not-allowed-in-prolog", "closed_reason": "Not suitable for this site", "title": "My image gallery: Content is not allowed in prolog", "body": "<p>I tried adding new implementations to see if I could bypass the issue to get the gradle to build but it didn't work just kept telling me of the this issue.</p>\n\n<pre><code>[Fatal Error] core-1.0.0.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] vectordrawable-1.0.0.pom:2:1: Content is not allowed in prolog.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:kaptDebugKotlin'.\n&gt; Could not resolve all task dependencies for configuration ':app:kapt'.\n   &gt; Could not resolve androidx.core:core:1.0.0.\n     Required by:\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-utils:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.loader:loader:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.customview:customview:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.viewpager:viewpager:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.coordinatorlayout:coordinatorlayout:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.drawerlayout:drawerlayout:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.slidingpanelayout:slidingpanelayout:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.swiperefreshlayout:swiperefreshlayout:1.0.0\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.fragment:fragment:1.0.0 &gt; androidx.legacy:legacy-support-core-ui:1.0.0 &gt; androidx.asynclayoutinflater:asynclayoutinflater:1.0.0\n      &gt; Could not resolve androidx.core:core:1.0.0.\n         &gt; Could not parse POM https://dl.google.com/dl/android/maven2/androidx/core/core/1.0.0/core-1.0.0.pom\n            &gt; Content is not allowed in prolog.\n   &gt; Could not resolve androidx.vectordrawable:vectordrawable:1.0.0.\n     Required by:\n         project :app &gt; com.github.bumptech.glide:glide:4.9.0 &gt; androidx.vectordrawable:vectordrawable-animated:1.0.0\n      &gt; Could not resolve androidx.vectordrawable:vectordrawable:1.0.0.\n         &gt; Could not parse POM https://dl.google.com/dl/android/maven2/androidx/vectordrawable/vectordrawable/1.0.0/vectordrawable-1.0.0.pom\n            &gt; Content is not allowed in prolog.\n</code></pre>\n\n<p>Gradle Build for the module</p>\n\n<p><a href=\"https://i.stack.imgur.com/NTwEj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NTwEj.png\" alt=\"\"></a></p>\n\n<p>Gradle build</p>\n\n<p><a href=\"https://i.stack.imgur.com/tUrTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUrTB.png\" alt=\"\"></a></p>\n\n<p>Manifest</p>\n\n<p><a href=\"https://i.stack.imgur.com/67lef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67lef.png\" alt=\"\"></a></p>\n\n<p>screenshot of the error</p>\n\n<p><a href=\"https://i.stack.imgur.com/L71ey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L71ey.png\" alt=\"\"></a></p>\n\n<p>I use Kotlin</p>\n\n<p><a href=\"https://i.stack.imgur.com/M87G6.png\" rel=\"nofollow noreferrer\">Implemented BlackSamurai advice, managed to get this in the end, I don't know if it works though, I will try it now</a></p>\n\n<p>So I managed to get the build to build successfully, I ran the emulator to see if my image gallery worked or not and I got this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Woy2f.png\" rel=\"nofollow noreferrer\">I think my images are hiding in the corner</a> </p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "comments": [{"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566247815, "post_id": 57563654, "comment_id": 101589213, "body": "Why not to use Kotlin coroutines instead? May be your callback is null?"}, {"owner": {"reputation": 3, "user_id": 11926369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c181525e65b9c98820a87dd0b5f46dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex208", "link": "https://stackoverflow.com/users/11926369/alex208"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566248002, "post_id": 57563654, "comment_id": 101589274, "body": "Could you give me an example please with room and coroutines? I am not sure how I could return some deferred when I insert, update to room. With Rx, I could just use Flowable or Completable. And between, I dont get the log &quot;Callback to upper layers&quot;. So I am pretty sure it is not reaching the subscribe"}, {"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566248184, "post_id": 57563654, "comment_id": 101589328, "body": "Sorry for repeating question, but please double check (debug) the callback field first."}, {"owner": {"reputation": 3, "user_id": 11926369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c181525e65b9c98820a87dd0b5f46dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex208", "link": "https://stackoverflow.com/users/11926369/alex208"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566248284, "post_id": 57563654, "comment_id": 101589356, "body": "Checked... It is not null"}, {"owner": {"reputation": 3, "user_id": 11926369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c181525e65b9c98820a87dd0b5f46dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex208", "link": "https://stackoverflow.com/users/11926369/alex208"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566249111, "post_id": 57563654, "comment_id": 101589633, "body": "I used single and it works now... With Flowable it is not working"}, {"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566249967, "post_id": 57563654, "comment_id": 101589862, "body": "Just guessing, you are using two parameters for <code>subscribe</code> method, please put the third one, override <code>onNext</code>, <code>onCompleted</code> as well."}], "owner": {"reputation": 3, "user_id": 11926369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c181525e65b9c98820a87dd0b5f46dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex208", "link": "https://stackoverflow.com/users/11926369/alex208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566328797, "creation_date": 1566247140, "question_id": 57563654, "link": "https://stackoverflow.com/questions/57563654/flowable-not-returning-value-from-room-db", "title": "Flowable not returning value from Room DB", "body": "<p>I have problems reading value from RoomDB.</p>\n\n<p>Here is my RoomDBInterface - </p>\n\n<pre><code>@Dao\ninterface RoomDao {\n\n    @Query(\"SELECT * FROM accountTable\")\n    fun getAccountData(): Flowable&lt;AccountModel&gt;\n}\n</code></pre>\n\n<p>The Repo that reads from this interface looks like this - </p>\n\n<pre><code>override fun retrieveAccountData() {\n        Log.e(\"hi\", \"inside retrieveAccountData()\")\n        disposable.add(\n            roomDao.getAccountData().subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ userData -&gt;\n                    Log.e(\"hi\", \"callback to upper layers\")\n                    callback?.onAccountDataRetrieved(userData)\n                },\n                    { throwable -&gt; callback?.onAccountDataRetrieved(null) })\n        )\n    }\n</code></pre>\n\n<p>I just get the first log which is inside <code>retrieveAccountData()</code> but the disposable subscribe does not return the callback. What am I doing wrong here?</p>\n"}, {"tags": ["kotlin", "ethereum", "smartcontracts", "web3js"], "owner": {"reputation": 11, "user_id": 11948459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6490f65b9732ad01da3616472d43aedc?s=128&d=identicon&r=PG&f=1", "display_name": "sof94", "link": "https://stackoverflow.com/users/11948459/sof94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566246986, "creation_date": 1566246986, "question_id": 57563629, "link": "https://stackoverflow.com/questions/57563629/call-contract-via-web3-from-kotlinjs", "title": "Call contract via web3 from KotlinJS", "body": "<p>I want to call the smart contract from KotlinJS using web3.js (v1.x.x).\nSo, the web3 class contains the class \"Eth\". The \"Eth\" class contains the \"Contract\" class that needs to be initialized.</p>\n\n<p>Please tell me how I can do this on Kotlin <strong>without call js(\"some code\")</strong>.</p>\n\n<p>How can I create external class inside an another external class?</p>\n\n<h3>Code on JS:</h3>\n\n<pre><code>var Web3 = require(\"web3\");\nvar web3 = new Web3(\"https://rinkeby.infura.io:443\");\nvar json = //some json;\nvar address = //some address;\nvar contract = new web.eth.Contract(json, address);\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 3, "last_activity_date": 1566249215, "last_edit_date": 1566249215, "creation_date": 1566245542, "answer_id": 57563364, "question_id": 57563216, "link": "https://stackoverflow.com/questions/57563216/how-to-initialize-default-values-for-geopoint-in-a-data-class/57563364#57563364", "title": "How to initialize default values for GeoPoint in a data class", "body": "<p>The problem is that the Firestore SDK isn't finding a default, no argument constructor for MapObj.  Kotlin data classes don't have one if all of their properties are declared with <code>val</code>.  For properties declared <code>val</code>, Kotlin requires that their values be specified in the constructor, since they can't possibly change afterward.</p>\n\n<p>If you must get a data class back from Firestore, you will have to make all of its properties optional <code>var</code> with a default value, so that Kotlin will generate a no-arg constructor for it.</p>\n\n<pre><code>data class MapObj(var geopoint: Geopoint? = null)\n</code></pre>\n"}], "owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 57563364, "answer_count": 1, "score": 0, "last_activity_date": 1566249215, "creation_date": 1566244812, "last_edit_date": 1566245081, "question_id": 57563216, "link": "https://stackoverflow.com/questions/57563216/how-to-initialize-default-values-for-geopoint-in-a-data-class", "title": "How to initialize default values for GeoPoint in a data class", "body": "<p>I'm trying to convert documents to objects from Firestore, but when I create my data class , I dont know how to initialize the GeoPoint with default values as it needs to be declared for an empty constructor</p>\n\n<pre><code>data class MapObj(val geopoint:Geopoint) //--&gt; how to initialize it to get an empty constructor\n</code></pre>\n\n<p>The problem relies on this line </p>\n\n<pre><code>val obj = snapshot.toObject(MapObj::class.java)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566250979, "post_id": 57563076, "comment_id": 101590127, "body": "Was it not answered here? <a href=\"https://stackoverflow.com/questions/25787955/display-a-view-on-top-of-keyboard\" title=\"display a view on top of keyboard\">stackoverflow.com/questions/25787955/&hellip;</a>"}, {"owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "reply_to_user": {"reputation": 319, "user_id": 6656818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e629ee2481c49d17f4c763c55ee34ae?s=128&d=identicon&r=PG&f=1", "display_name": "J.D.1731", "link": "https://stackoverflow.com/users/6656818/j-d-1731"}, "edited": false, "score": 0, "creation_date": 1566252099, "post_id": 57563076, "comment_id": 101590423, "body": "doesn&#39;t work unfortunatly"}], "answers": [{"tags": [], "owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "is_accepted": true, "score": 1, "last_activity_date": 1566283888, "creation_date": 1566283888, "answer_id": 57568093, "question_id": 57563076, "link": "https://stackoverflow.com/questions/57563076/complete-layout-moves-upwards-if-soft-keyboard-is-shown/57568093#57568093", "title": "Complete Layout moves upwards if Soft Keyboard is shown", "body": "<p>Try below code, It works for me</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/colorBackGround\"\n            android:orientation=\"vertical\"&gt;\n\n           //toolbar code here\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:isScrollContainer=\"true\"\n                android:layout_weight=\"1\"&gt;\n\n                &lt;androidx.recyclerview.widget.RecyclerView\n                    android:id=\"@+id/recyclerMessages\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:clipToPadding=\"false\"\n                    android:padding=\"@dimen/_10sdp\" /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n\n           //comment layout code here\n\n        &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and add below type in manifest</p>\n\n<pre><code>android:windowSoftInputMode=\"adjustUnspecified\"\n</code></pre>\n"}], "owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57568093, "answer_count": 1, "score": 1, "last_activity_date": 1566283888, "creation_date": 1566244124, "last_edit_date": 1566250020, "question_id": 57563076, "link": "https://stackoverflow.com/questions/57563076/complete-layout-moves-upwards-if-soft-keyboard-is-shown", "title": "Complete Layout moves upwards if Soft Keyboard is shown", "body": "<p>is there a way to just move a certain layout above the keyboard and let the rest untouched? I have tried using <code>android:windowSoftInputMode=\"stateVisible|adjustResize\"</code> and using a scrollview, but neither of them worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V6hA2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V6hA2.png\" alt=\"default layout\"></a></p>\n\n<p>This is how it looks, if the keyboard is shown, but I just need to move the comment layout on the bottom above the keyboard and let the rest as it was.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Klhly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Klhly.png\" alt=\"resized layout\"></a></p>\n\n<p>My code looks like shown below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"match_parent\"\n          android:background=\"@color/colorWhite\"\n          android:orientation=\"vertical\"&gt;\n\n&lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_weight=\"20\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/scrollView\"&gt;\n\n    &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n        &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"@color/colorTransparent\" android:id=\"@+id/toolbar_comments\"&gt;\n\n            &lt;ImageButton\n                    android:layout_width=\"50dp\"\n                    android:layout_height=\"match_parent\"\n                    android:src=\"@drawable/ic_arrow_back\"\n                    android:tint=\"@android:color/black\"\n                    android:background=\"@color/colorTransparent\"   android:id=\"@+id/back_btn_comments\"/&gt;\n\n            &lt;TextView\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:textAlignment=\"center\"\n                    android:gravity=\"center\"\n                    android:textSize=\"20sp\"\n                    android:textColor=\"@android:color/black\"\n                    android:text=\"Kommentare\"/&gt;\n            &lt;View\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"0.5dp\"\n                    android:layout_alignParentBottom=\"true\"\n                    android:background=\"@color/colorFont\"/&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/comments_list\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_below=\"@+id/toolbar_comments\"\n                android:layout_marginTop=\"5dp\"&gt;\n\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/ScrollView&gt;\n\n&lt;include\n        layout=\"@layout/message_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"bottom\"\n        android:layout_marginTop=\"5dp\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["android", "firebase", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 2, "creation_date": 1566243562, "post_id": 57562864, "comment_id": 101587589, "body": "<a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-play-services\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/tree/master/integration&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 2599, "user_id": 4581287, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/uPq3y.jpg?s=128&g=1", "display_name": "Parag Kadam", "link": "https://stackoverflow.com/users/4581287/parag-kadam"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1566243734, "post_id": 57562864, "comment_id": 101587646, "body": "@DougStevenson: Thanks I&#39;ll try it out."}, {"owner": {"reputation": 65, "user_id": 13321079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcdb7a849ebcba5bdffc47cb4a9e2d55?s=128&d=identicon&r=PG&f=1", "display_name": "MohamedHarmoush", "link": "https://stackoverflow.com/users/13321079/mohamedharmoush"}, "edited": false, "score": 0, "creation_date": 1587597057, "post_id": 57562864, "comment_id": 108577878, "body": "check my answer here <a href=\"https://stackoverflow.com/a/61376574/13321079\">upload multiple photos to firebase using kotlin coroutine</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1566291776, "post_id": 57569808, "comment_id": 101600830, "body": "@coroutineDispatcher Yes, it does. But the question is about getting rid of callbacks. The code above is more readable I think, especially if you work with a bunch of remote calls at the same time."}, {"owner": {"reputation": 633, "user_id": 2325614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kZrgk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/2325614/jon"}, "edited": false, "score": 0, "creation_date": 1573184312, "post_id": 57569808, "comment_id": 103807420, "body": "For me works: <code>imageRef                 .putFile(file)                 .await()                 .storage                 .downloadUrl                 .await()                 .toString()</code>"}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 633, "user_id": 2325614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kZrgk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/2325614/jon"}, "edited": false, "score": 0, "creation_date": 1573197634, "post_id": 57569808, "comment_id": 103810713, "body": "@Johnnie90 Thanks for the correction! I&#39;ve fixed the answer."}, {"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1578425545, "post_id": 57569808, "comment_id": 105431991, "body": "how do you catch multiple exceptions if throw ?"}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 6, "last_activity_date": 1573197547, "last_edit_date": 1573197547, "creation_date": 1566290567, "answer_id": 57569808, "question_id": 57562864, "link": "https://stackoverflow.com/questions/57562864/using-firebase-with-kotlin-coroutines/57569808#57569808", "title": "Using Firebase with Kotlin coroutines", "body": "<p><code>kotlinx-coroutines-play-services</code> <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-play-services\" rel=\"nofollow noreferrer\">library</a> provides <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-play-services/kotlinx.coroutines.tasks/com.google.android.gms.tasks.-task/await.html\" rel=\"nofollow noreferrer\">await</a> extension function that allows to await the task completion, like:</p>\n\n<pre><code>...\ndependencies {\n  ...\n  implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.3.1\"\n}\n</code></pre>\n\n<pre><code>return withContext(Dispatchers.IO) {\n    imageRef\n        .putFile(file)\n        .await() // await() instead of snapshot\n        .storage\n        .downloadUrl\n        .await() // await the url\n        .toString()\n}\n</code></pre>\n"}], "owner": {"reputation": 2599, "user_id": 4581287, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/uPq3y.jpg?s=128&g=1", "display_name": "Parag Kadam", "link": "https://stackoverflow.com/users/4581287/parag-kadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1587641739, "creation_date": 1566242983, "question_id": 57562864, "link": "https://stackoverflow.com/questions/57562864/using-firebase-with-kotlin-coroutines", "title": "Using Firebase with Kotlin coroutines", "body": "<p>I am using Kotlin coroutines in my app and have chosen firebase as my choice for database and storage.\nAfter exploring firebase I realized that all its APIs are asynchronous and the result of the asynchronous calls are returned in a callback, and getting rid of callbacks is the main reason why I am using Kotlin coroutines in my app.</p>\n\n<p>This is the code I have written to upload a file to firebase cloud storage but it is giving \"Task is not yet complete\" error.</p>\n\n<pre><code>private suspend fun saveImage(filePath: String): String? {\n        val storage = FirebaseStorage.getInstance(\"gs://myapp-9a648.appspot.com/\")\n        val storageRef = storage.reference\n        val file = Uri.fromFile(File(filePath))\n        val imageRef = storageRef.child(\"images/${file.lastPathSegment}\")\n        return withContext(Dispatchers.IO) {\n            imageRef.putFile(file).snapshot.storage.downloadUrl.result.toString()\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: pk.com.kotlinapp, PID: 7491\n      java.lang.IllegalStateException: Task is not yet complete\n          at com.google.android.gms.common.internal.Preconditions.checkState(Unknown\n  Source)\n          at com.google.android.gms.tasks.zzu.zzb(Unknown Source)\n          at com.google.android.gms.tasks.zzu.getResult(Unknown Source)\n          at prk.com.kotlinapptest.DatabaseManager$saveImage$2.invokeSuspend(DatabaseManager.kt:28)\n          at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n          at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:740)</p>\n</blockquote>\n\n<p>Is there any way I can upload a file to firebase cloud storage and get back the download URL without getting the download URL in its success callback?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "google-places-api"], "comments": [{"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1566458580, "post_id": 57562837, "comment_id": 101664258, "body": "Note that you cannot install both the compatibility library and the new client library. Can you use the client library only? Try following the get started guides <a href=\"https://developers.google.com/places/android-sdk/start\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://developers.google.com/places/android-sdk/autocomplete#option_2_use_an_intent_to_launch_the_autocomplete_activity\" rel=\"nofollow noreferrer\">2</a> and using Google&#39;s exact code, please let us know if the issue persists even after doing so."}, {"owner": {"reputation": 883, "user_id": 4171350, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/374c3f0e48a68ba94fb8bc7463cf8b87?s=128&d=identicon&r=PG&f=1", "display_name": "Prethia", "link": "https://stackoverflow.com/users/4171350/prethia"}, "reply_to_user": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1566587367, "post_id": 57562837, "comment_id": 101717148, "body": "Client library and compatibility library features different kind of attributes for the object &quot;Place&quot; (for example I couldn&#39;t get opening hours when I use the compatibility library, and some things I could get with compatibility library, I couldn&#39;t get with new api (maybe that&#39;s my bad) I found my mistake in the code, I am posting the solution"}, {"owner": {"reputation": 883, "user_id": 4171350, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/374c3f0e48a68ba94fb8bc7463cf8b87?s=128&d=identicon&r=PG&f=1", "display_name": "Prethia", "link": "https://stackoverflow.com/users/4171350/prethia"}, "reply_to_user": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1566588261, "post_id": 57562837, "comment_id": 101717432, "body": "I  wrote my solution to the question. I would be more than happy if you can comment on it if I am wrong in some part, and about the billing. Because with new library I can just get opening hours directly without sending any additional http request which seems to be cheaper. This is important since I will let my users, use this feature"}, {"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1566591551, "post_id": 57562837, "comment_id": 101718500, "body": "Hey glad to hear you were able to fix this, although the compatibility library is just meant to help you migrate to the new SDK client (hence all its limitations). You should still install the client library. i.e <code>com.google.android.libraries.places:places:2.0.0</code> + AndroidX migration asap."}, {"owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "edited": false, "score": 0, "creation_date": 1566591564, "post_id": 57562837, "comment_id": 101718509, "body": "As for billing, as long as you only request Basic Data SKU fields you won&#39;t be extra charged (opening hours is a basic data field yes) but you may still be billed for the places detail + autocomplete call. It&#39;s explained in this doc please do read it carefully: <a href=\"https://developers.google.com/places/android-sdk/usage-and-billing\" rel=\"nofollow noreferrer\">developers.google.com/places/android-sdk/usage-and-billing</a>"}], "answers": [{"tags": [], "owner": {"reputation": 883, "user_id": 4171350, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/374c3f0e48a68ba94fb8bc7463cf8b87?s=128&d=identicon&r=PG&f=1", "display_name": "Prethia", "link": "https://stackoverflow.com/users/4171350/prethia"}, "is_accepted": false, "score": 0, "last_activity_date": 1566588107, "creation_date": 1566588107, "answer_id": 57631935, "question_id": 57562837, "link": "https://stackoverflow.com/questions/57562837/autocomplete-cant-be-found-in-new-compatibility-library-and-gives-program-type/57631935#57631935", "title": "AutoComplete can&#39;t be found in new compatibility library and Gives Program Type Already Present With New Places Library", "body": "<p>My first mistake was that in compatibility library, I should use the <code>Place</code> prefix with AutoComplete to find the necessary imports. </p>\n\n<pre><code>   val intent = PlaceAutocomplete.IntentBuilder(PlaceAutocomplete.MODE_FULLSCREEN).build(this@AddPartnerActivity)\n</code></pre>\n\n<p>Second issue was that I wanted to get the property <code>opening_hours</code>(and data about photos) from <code>Place</code>object which was present in new places library, but not present in compatibility library. In compatibility library to retrieve this, one should send a query instead of creating a list of types he wants to retrieve directly from the place object like I did in the question.\nBasically one should sent a request to this url using the id retrieved from autocomplete. Documentation for this can be found here <a href=\"https://developers.google.com/places/web-service/details\" rel=\"nofollow noreferrer\">place details</a></p>\n\n<pre><code>val url = \"https://maps.googleapis.com/maps/api/place/details/json?placeid=$placeId&amp;fields=opening_hours,photos,reviews&amp;key=YOUR_API_KEY\" //place id is the id of the place you got from autocomplete\n</code></pre>\n\n<p>My confusion came from the fact that you need to send a query in one library which I thnk is subject to billing while in the new api you can directly retrieve the opening hours.</p>\n"}], "owner": {"reputation": 883, "user_id": 4171350, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/374c3f0e48a68ba94fb8bc7463cf8b87?s=128&d=identicon&r=PG&f=1", "display_name": "Prethia", "link": "https://stackoverflow.com/users/4171350/prethia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566588107, "creation_date": 1566242863, "question_id": 57562837, "link": "https://stackoverflow.com/questions/57562837/autocomplete-cant-be-found-in-new-compatibility-library-and-gives-program-type", "title": "AutoComplete can&#39;t be found in new compatibility library and Gives Program Type Already Present With New Places Library", "body": "<p>I was trying to add an AutoComplete feature while letting user select a place. I followed <a href=\"https://developers.google.com/places/android-sdk/client-migration\" rel=\"nofollow noreferrer\">the official documents</a> and implemented the feature. But if I just use the compatibility library  <code>('com.google.android.libraries.places:places-compat:2.0.0')</code> and don't use the new places library <code>('com.google.android.libraries.places:places:2.0.0')</code> I cannot import anything useful related to AutoComplete.(only 4 classes from widget which are not useful for coding and I believe they cause the program type already present error when I include the new places library)</p>\n\n<p>To start auto complete I use this code</p>\n\n<pre><code> val fields = Arrays.asList(Place.Field.ID,\n                Place.Field.NAME,\n                Place.Field.ADDRESS,\n                Place.Field.ADDRESS_COMPONENTS,\n                Place.Field.LAT_LNG,\n                Place.Field.OPENING_HOURS,\n                Place.Field.PHONE_NUMBER,\n                Place.Field.PRICE_LEVEL,\n                Place.Field.RATING,\n                Place.Field.TYPES,\n                Place.Field.PHOTO_METADATAS,\n                Place.Field.TYPES,\n                Place.Field.VIEWPORT,\n                Place.Field.USER_RATINGS_TOTAL)\n\n        val intent = Autocomplete.IntentBuilder(\n                AutocompleteActivityMode.FULLSCREEN, fields)\n                .build(this@AddPartnerActivity)\n        startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE)//Request code is just a number\n    }\n</code></pre>\n\n<p>Android doesn't suggest me any useful import while new places library is missing.When I use exclude in gradle <code>Error: Program type already present: com.google.android.libraries.places.widget.AutocompleteActivity</code>is not fixed. I can also paste my gradle file for your reference (it's a mess and I tried to write exclude into any import that can possibly create a problem). One important thing to note is code was working fine without adding the new places api if I don't use autocomplete.</p>\n\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation ('com.google.android.gms:play-services-maps:16.0.0'){\n        exclude group: 'com.google.android.libraries.places.widget'\n    }\n\n\n\n\n    //Ion\n    implementation 'com.koushikdutta.ion:ion:2.+'\n\n    //Facebook Login\n    implementation 'com.facebook.android:facebook-login:4.41.0'\n\n    //Google Login\n    implementation 'com.google.android.gms:play-services-auth:16.0.1'\n\n    //Anko\n    implementation \"org.jetbrains.anko:anko:$anko_version\"\n\n    // Anko Layout\n    implementation \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n    implementation \"org.jetbrains.anko:anko-commons:$anko_version\"\n    implementation \"org.jetbrains.anko:anko-design:$anko_version\"\n\n\n\n    //Picasso\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'jp.wasabeef:picasso-transformations:2.2.1'\n\n    //PlaceholderView\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'com.mindorks.android:placeholderview:1.0.3'\n    kapt 'com.mindorks.android:placeholderview-compiler:1.0.3'\n\n\n    //Web Sockets\n    implementation 'com.koushikdutta.async:androidasync:2.+'\n    implementation 'com.squareup.okhttp3:okhttp:3.12.3'\n\n    //Gson\n    implementation 'com.google.code.gson:gson:2.8.5'\n\n    //Firebase Cloud Messaging\n    implementation 'com.google.firebase:firebase-core:16.0.6'\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n    implementation 'com.google.firebase:firebase-database:19.0.0'\n\n    implementation 'com.google.android.play:core:1.5.0'\n\n\n\n    //Kotlin Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1'\n\n\n    //Firebase Crashlytics\n    implementation 'com.crashlytics.sdk.android:crashlytics:2.9.9'\n\n    //Map Utility\n    implementation 'com.google.maps.android:android-maps-utils:0.5+'\n\n\n\n    //room\n    implementation 'androidx.room:room-runtime:2.0.0'\n    kapt 'androidx.room:room-compiler:2.0.0'\n\n    implementation 'com.google.android.gms:play-services-oss-licenses:16.0.0'\n\n\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n\n    implementation ('com.schibstedspain.android:leku:6.2.1') {\n        exclude group: 'com.google.android.gms'\n        exclude group: 'androidx.appcompat'\n        exclude group: 'com.google.android.libraries.places.widget'\n    }\n    implementation ('com.google.android.libraries.places:places-compat:2.0.0'){\n        exclude group: 'com.google.android.libraries.places.widget'\n    }\n    implementation 'com.google.android.libraries.places:places:2.0.0')\n\n    apply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566288096, "post_id": 57568612, "comment_id": 101598911, "body": "Also data is empty("}], "tags": [], "owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "is_accepted": false, "score": 0, "last_activity_date": 1566286017, "creation_date": 1566286017, "answer_id": 57568612, "question_id": 57562650, "link": "https://stackoverflow.com/questions/57562650/display-target-data-from-firebase/57568612#57568612", "title": "Display target data from firebase", "body": "<p>You are not getting any data because to get above data your guid value in query should be \"-LmfEVnx-y7c3oh8_U9F\" but you are passing \"-LmfEVnwgqCUqt7beHDg\".</p>\n\n<p>You can try below query to get above data:</p>\n\n<pre><code>val uid = firebaseUser!!.uid\n        // Attach a listener to read the data at the target id\n        databaseReference?.child(\"targets\")?.child(\"users\")?.child(uid)?.child(\"targets\")?.orderByChild(\"guid\").equalTo(guid)?.addValueEventListener(object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                val data = dataSnapshot.value as? HashMap&lt;String, String&gt;?\n                val name = data?.get(\"name\") ?: \"\"\n                val description = data?.get(\"description\") ?: \"\"\n\n                if (name.isEmpty()) Log.d(\"some\", \"nameIsEmpty\")\n                else updateViewsContent(name = name, description = description)\n            }\n\n            override fun onCancelled(databaseError: DatabaseError) {\n                Log.d(\"some\", databaseError.message)\n            }\n        })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566296845, "post_id": 57569957, "comment_id": 101603664, "body": "but for update my <code>target</code> I need to call the <code>updateChildren()</code> method for the same query? or better to make a separate question?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1566297085, "post_id": 57569957, "comment_id": 101603791, "body": "In order to update the value of a property, yes, you need to use <code>updateChildren()</code>. If you can&#39;t solve it, please post another fresh question so me or other Firebase developers can help you."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566291075, "creation_date": 1566291075, "answer_id": 57569957, "question_id": 57562650, "link": "https://stackoverflow.com/questions/57562650/display-target-data-from-firebase/57569957#57569957", "title": "Display target data from firebase", "body": "<p>To display the data that belongs to a single <code>guid</code>, you should use a query and then iterate through the <code>DataSnapshot</code> object like in the following lines of code: </p>\n\n<pre><code>val uid = FirebaseAuth.getInstance().currentUser!!.uid\nval rootRef = FirebaseDatabase.getInstance().reference\nval targetsRef = rootRef!!.child(\"targets\").child(\"users\").child(uid).child(\"targets\")\nval query = targetsRef.orderByChild(\"guid\").equalTo(\"-LmfEVnwgqCUqt7beHDg\")\nval valueEventListener = object : ValueEventListener {\n    override fun onDataChange(dataSnapshot: DataSnapshot) {\n        for (ds in dataSnapshot.children) {\n            val target = ds.getValue(Target::class.java)\n            Log.d(TAG, target.name)\n        }\n    }\n\n    override fun onCancelled(databaseError: DatabaseError) {\n        Log.d(TAG, databaseError.getMessage()) //Don't ignore errors!\n    }\n}\nquery.addListenerForSingleValueEvent(valueEventListener)\n</code></pre>\n\n<p>The result in the logcat will be:</p>\n\n<pre><code>fgg\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57569957, "answer_count": 2, "score": 0, "last_activity_date": 1566291075, "creation_date": 1566241969, "last_edit_date": 1566246316, "question_id": 57562650, "link": "https://stackoverflow.com/questions/57562650/display-target-data-from-firebase", "title": "Display target data from firebase", "body": "<p>I display a list of my targets in <code>fragmentA</code>, when I click on one of them, I pass the guid of this target to the <code>fragmentB</code></p>\n\n<p>After that, I try in the <code>fragmentB</code> display the data of this target for this guid:</p>\n\n<pre><code>private fun fetchTarget(guid: String) {\n        val uid = firebaseUser!!.uid\n        // Attach a listener to read the data at the target id\n        databaseReference?.child(\"targets\")?.child(\"users\")\n            ?.child(uid)?.child(\"targets\")?.child(guid)?.addValueEventListener(object : ValueEventListener {\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                val data = dataSnapshot.value as? HashMap&lt;String, String&gt;?\n                val name = data?.get(\"name\") ?: \"\"\n                val description = data?.get(\"description\") ?: \"\"\n\n                if (name.isEmpty()) Log.d(\"some\", \"nameIsEmpty\")\n                else updateViewsContent(name = name, description = description)\n            }\n\n            override fun onCancelled(databaseError: DatabaseError) {\n                Log.d(\"some\", databaseError.message)\n            }\n        })\n    }\n</code></pre>\n\n<p>Here I get the guid: <code>-LmfEVnwgqCUqt7beHDg</code>\nAnd in my console i have next structure:\n<a href=\"https://i.stack.imgur.com/YwN4B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YwN4B.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately I can't display data of target, though like all the chains I installed</p>\n\n<p>Q: How i can download <code>-LmfEVnx-y7c3oh8_U9F</code> ?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "ion"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11491838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a553debfdd082bb97b089be807423eb?s=128&d=identicon&r=PG&f=1", "display_name": "Levyaton", "link": "https://stackoverflow.com/users/11491838/levyaton"}, "edited": false, "score": 0, "creation_date": 1566378033, "post_id": 57579090, "comment_id": 101633450, "body": "Thanks for the tip, I will use it! Do you have any idea on what I can do to make the main thread wait for Ion to finish it&#39;s task :)? My current solution doesn&#39;t seem like the best one"}, {"owner": {"reputation": 2962, "user_id": 704837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2446a7dad1b7cb8a953e7da7467a5caf?s=128&d=identicon&r=PG", "display_name": "koush", "link": "https://stackoverflow.com/users/704837/koush"}, "reply_to_user": {"reputation": 31, "user_id": 11491838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a553debfdd082bb97b089be807423eb?s=128&d=identicon&r=PG&f=1", "display_name": "Levyaton", "link": "https://stackoverflow.com/users/11491838/levyaton"}, "edited": false, "score": 0, "creation_date": 1573071758, "post_id": 57579090, "comment_id": 103765854, "body": "I would not make the main thread &quot;wait&quot;, because that would block the main thread. You can use get() to block for a result, but I would not do that. That will cause an app ANR."}], "tags": [], "owner": {"reputation": 2962, "user_id": 704837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2446a7dad1b7cb8a953e7da7467a5caf?s=128&d=identicon&r=PG", "display_name": "koush", "link": "https://stackoverflow.com/users/704837/koush"}, "is_accepted": false, "score": 0, "last_activity_date": 1566323364, "creation_date": 1566323364, "answer_id": 57579090, "question_id": 57561186, "link": "https://stackoverflow.com/questions/57561186/i-keep-getting-random-variatons-of-the-same-two-errors-when-downloading-files-in/57579090#57579090", "title": "I keep getting random variatons of the same two errors when downloading files in Android Studio through Ion", "body": "<p>In your first stack trace, your file has a slash in it, so that file could not be created as the directory does not exist.</p>\n\n<pre><code>/data/user/0/com.example.comicschedule/files/Friendly_Neighborhood_Spider-Man_#10_Sliney_/_BobG_Cover.json (No such file or directory)\n</code></pre>\n\n<p>Try using File.mkdirs on the parent file to ensure it exists, before writing.</p>\n"}], "owner": {"reputation": 31, "user_id": 11491838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a553debfdd082bb97b089be807423eb?s=128&d=identicon&r=PG&f=1", "display_name": "Levyaton", "link": "https://stackoverflow.com/users/11491838/levyaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566323364, "creation_date": 1566234567, "last_edit_date": 1566240280, "question_id": 57561186, "link": "https://stackoverflow.com/questions/57561186/i-keep-getting-random-variatons-of-the-same-two-errors-when-downloading-files-in", "title": "I keep getting random variatons of the same two errors when downloading files in Android Studio through Ion", "body": "<p>I am new to programming in Android Studio and I keep running into problems with asynchronous downloading (at least, that is where I think the problem is).</p>\n\n<p>I am trying to make an app that will display every new comic by a given publisher for a given week (by comic, I mean the information about them, as in the name, description, publisher and covers). For this to work, I need to be able to access a websites html and store an image from a site as a ByteArray.\nI then put the gathered information into a JSONComic object, which stores itself into internal memory in a way that will be easy to parse through Gson. For now, this is the only thing I need the program to do for now, as later I will make it so that the download (which may take a while, as it will cover hundreds of comics, depending on the week) happens only once pre week and display the information in an appealing way.\nAs far as I know, my code gives me three types of errors: </p>\n\n<p>FileNotFoundException, when the comic is supposed to save into a file, </p>\n\n<p>IllegalStateException: result must not be null, within the callback of the Ion download referring to the result (this seems to happen in all of my uses of Ion, but most frequently with the link to a cover)</p>\n\n<p>and then there is some sort of handshake failure, of which I understand nothing, not even it's importance. I just wanted to mention it, in case it is important. </p>\n\n<p>I have a few Ideas as to why I am getting these errors, but I may be totally wrong, because I am a beginner at Android. </p>\n\n<ol>\n<li><p>The way I structured the cycle with the Ion downloads might be problematic. Perhaps the cycle continues while the background thread is executing, causing the threads to be confused? Ideally, I would make the main thread wait for the Ion download to complete, but using .get() caused the program to freeze for eternity, and the await method from Ion-kotlin is, for whatever reason unavailable.</p>\n\n<p>It is possible that I just imported Ion incorrectly, but I spent days trying to get await to be available to me, to no avail, so I just decided to make the program continue from the callback, and do this each time I ask for Ion. I am sure there is a better way to use Ion, but I just don't know it (If you do, please, tell me, as I kind of hate my solution, but it's the only one that I figured out that semi-works).</p></li>\n<li><p>Perhaps the cycle executes faster then the file is able to be created? It doesn't make much sense, but I tried to put the main thread to sleep in multiple places, to slow it down, just in case this was the issue. Sleeping didn't help, so I again removed it. </p></li>\n<li><p>Most likely, I am using Ion completely wrong</p></li>\n</ol>\n\n<p>How can I fix the code?</p>\n\n<p>The Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val comics: ArrayList&lt;JSONComic&gt; = arrayListOf()\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        getComics(\"https://freshcomics.us/issues/2019-08-14\")\n    }\n\n    //Sends the html of a website with a given link as a string to the function parseHTML\n    fun getComics(link: String){\n        Ion.with(applicationContext).load(link).asString()\n            .setCallback { e, result -&gt; parseHTML(result) }\n    }\n\n\n    //Searches the html string for comic properties, which are in the JSONComic class. It also downloads the image from found link belonging to the comic\n    fun parseHTML(file: String){\n\n        var publisher: String = \"\"\n        val html: List&lt;String&gt; = file.lines()\n        Log.d(\"HTML SIZE\", html.size.toString())\n        var lineIsPublisher: Boolean = false\n        for (line in html) {\n            if (line.contains(\"entry-title\")) {\n                lineIsPublisher = true\n            } else if (lineIsPublisher) {\n                publisher = line\n                lineIsPublisher = false\n\n                //Log.d(\"Publisher\", \"Found\")\n            } else if (line.contains(\"&lt;a href=\") &amp;&amp; line.contains(\"&lt;img src=\") &amp;&amp; line.contains(\n                    \"alt=\"\n                ) &amp;&amp; !line.contains(\"(True Believers)\") &amp;&amp; !line.contains(\" Printing)\") &amp;&amp; !line.contains(\n                    \"(Complete Collection)\"\n                ) &amp;&amp; !line.contains(\" Vol. \")\n            ) {\n                Log.d(\"Found Comic\", \"I found it\")\n                var temp_title =\n                    line.substring(line.indexOf(\"alt=\") + 5, line.indexOf(\"style=\") - 2)\n                var link: String =\n                    line.substring(line.indexOf(\"src=\") + 5, line.indexOf(\"alt=\") - 2)\n                Ion.with(this)\n                    .load(link)\n                    .progress(ProgressCallback { downloaded, total -&gt; println(\"$downloaded / $total\") })\n                    .asByteArray()\n                    .setCallback(FutureCallback&lt;ByteArray&gt; { e, image -&gt;\n                        if(image == null){\n                            Log.d(\"Link was:    \", link)\n                        }\n                        finalizeParsingComic(line,image,publisher,temp_title)\n                    })\n            }\n        }\n        Log.d(\"Done\", \"Done\")\n    }\n\n    //Creates the comic, after downloading its description as a string\n    fun finalizeParsingComic(line: String, cover: ByteArray, publisher: String, temp_title: String){\n        if (temp_title.contains(\"Cover\") &amp;&amp; comics.size &gt; 0) {\n            comics.elementAt(comics.lastIndex).addCover(cover)\n        } else {\n            val descriptionLink = \"https://freshcomics.us/\" + line.substring(\n                line.indexOf(\"&lt;a href=\") + 9,\n                line.indexOf(\"&gt;&lt;img\") - 1\n            )\n            Ion.with(this)\n                .load(descriptionLink)\n                .progress(ProgressCallback { downloaded, total -&gt; println(\"$downloaded / $total\") })\n                .asString()\n                .setCallback(FutureCallback&lt;String&gt; { e, description -&gt;\n                    val title = temp_title\n                    val coverArray: ArrayList&lt;ByteArray&gt; = arrayListOf()\n                    coverArray.add(cover)\n                    // mainCover = line.substring(line.indexOf(\"src=\") + 5,line.indexOf(\"alt=\")-2)\n                    val comic: JSONComic = JSONComic(title,this,publisher,coverArray, description)\n                    comics.add(comic)\n                    Log.d(\"Created Comic\", publisher)\n                })\n        }\n`\n\n    //Formats the given string into a format that is appropriate for the description of a comic\n    fun descriptionFormatter(text: String): String{\n        val lines: List&lt;String&gt; = text.lines()\n        var description: String = \"\"\n        val sliceEnd: String  = \"&lt;/p&gt;\"\n        val sliceStart: String = \"&lt;p&gt;\"\n        var found: Boolean = false\n        lines.forEach {\n            if(it.contains(\"entry-content\") &amp;&amp; it.contains(\"&lt;div class=\")){\n                found = true\n            }\n            else if(found &amp;&amp; it.contains(sliceStart)){\n                description = it.substring(it.indexOf(sliceStart)+sliceStart.length,it.indexOf(sliceEnd)-1)\n                description = description.replace(\"&lt;br&gt;&lt;br&gt;\",\"\\n\")\n                description = description.replace(\"&amp;#39;\", \"'\")\n                description = description.replace(\"&lt;br /&gt;\", \"\\n\")\n                description = description.replace(\"&amp;quot;\", \"''\")\n                found = false\n            }\n        }\n        return description\n    }\n\n}\n\n</code></pre>\n\n<p>JSONComic class:</p>\n\n<pre><code>//The comic is stored in a way that should allow for easy JSON parsing\n\nclass JSONComic(val title:String, val context: Context, val publish: String, val coversArr: ArrayList&lt;ByteArray&gt;, val descrip: String) {\n\n//The properties of each comic (each comic may have multiple covers, but the first one will be the main one)\n    private val comic: JsonObject = createComic()\n    private val pub: String = publish\n    private val cov: ArrayList&lt;ByteArray&gt; = coversArr\n    private val desc: String = descrip\n    private val name: String = title\n\n//Stores the comic\n    private fun createComic(): JsonObject{\n        val temp_comic: JsonObject = JsonObject()\n        var coversString: String = \"\"\n        for (cover in coversArr){\n            coversString += String(cover) + \"[*]\"\n        }\n        coversString = coversString.substring(0,coversString.length-3)\n\n        temp_comic.addProperty(\"publisher\",pub)\n        temp_comic.addProperty(\"title\",title)\n        temp_comic.addProperty(\"description\",descrip)\n        temp_comic.addProperty(\"covers\",coversString)\n        var fileName: String = title\n        fileName = fileName.replace(\" \", \"_\")\n        fileName = fileName.replace(\")\", \"\")\n        fileName = fileName.replace(\"(\", \"\")\n        val file: File = File(context.filesDir.path, \"$fileName.json\")\n        val gson = Gson()\n        val jsonString:String = gson.toJson(temp_comic)\n        file.writeText(jsonString)\n        Log.d(\"File Path\", file.path)\n\n        return temp_comic\n    }\n\n//Adds aditional covers to the comic\n    fun addCover(cover: ByteArray){\n        val newCoversString = comic.get(\"covers\").asString + \"[*]\" + String(cover)\n        comic.remove(\"covers\")\n        comic.addProperty(\"covers\", newCoversString)\n    }\n\n\n}\n</code></pre>\n\n<p>Android Manifest: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          xmlns:dist=\"http://schemas.android.com/apk/distribution\" xmlns:tools=\"http://schemas.android.com/tools\"\n          package=\"com.example.comicschedule\"&gt;\n\n    &lt;dist:module dist:instant=\"true\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n\n    &lt;application\n            tools:replace=\"android:icon\"\n            android:allowBackup=\"true\"\n            android:icon=\"@mipmap/ic_launcher\"\n            android:label=\"@string/app_name\"\n            android:roundIcon=\"@mipmap/ic_launcher_round\"\n            android:supportsRtl=\"true\"\n            android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.1\"\n    defaultConfig {\n        applicationId \"com.example.stackoverflowtesting\"\n        minSdkVersion 24\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.koushikdutta.ion:ion:2.2.1'\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n</code></pre>\n\n<p>These are examples of the errors I get. I don't get each one every time, but I do always get at least one of them</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.comicschedule, PID: 5137\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\u00a0\n     Caused by: java.io.FileNotFoundException: /data/user/0/com.example.comicschedule/files/Friendly_Neighborhood_Spider-Man_#10_Sliney_/_BobG_Cover.json (No such file or directory)\n        at java.io.FileOutputStream.open(Native Method)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:221)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:169)\n        at kotlin.io.FilesKt__FileReadWriteKt.writeBytes(FileReadWrite.kt:84)\n        at kotlin.io.FilesKt__FileReadWriteKt.writeText(FileReadWrite.kt:110)\n        at kotlin.io.FilesKt__FileReadWriteKt.writeText$default(FileReadWrite.kt:110)\n        at com.example.comicschedule.JSONComic.createComic(JSONComic.kt:48)\n        at com.example.comicschedule.JSONComic.&lt;init&gt;(JSONComic.kt:20)\n        at com.example.comicschedule.MainActivity$finalizeParsingComic$2.onCompleted(MainActivity.kt:105)\n        at com.example.comicschedule.MainActivity$finalizeParsingComic$2.onCompleted(MainActivity.kt:27)\n        at com.koushikdutta.async.future.SimpleFuture.handleCallbackUnlocked(SimpleFuture.java:107)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:141)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:128)\n        at com.koushikdutta.ion.IonRequestBuilder$1.run(IonRequestBuilder.java:246)\n        at com.koushikdutta.async.AsyncServer$RunnableWrapper.run(AsyncServer.java:60)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\u00a0\n</code></pre>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.comicschedule, PID: 5374\n    java.lang.IllegalStateException: result must not be null\n        at com.example.comicschedule.MainActivity$getComics$1.onCompleted(MainActivity.kt:41)\n        at com.example.comicschedule.MainActivity$getComics$1.onCompleted(MainActivity.kt:27)\n        at com.koushikdutta.async.future.SimpleFuture.handleCallbackUnlocked(SimpleFuture.java:107)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:141)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:124)\n        at com.koushikdutta.ion.IonRequestBuilder$1.run(IonRequestBuilder.java:244)\n        at com.koushikdutta.async.AsyncServer$RunnableWrapper.run(AsyncServer.java:60)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.stackoverflowtesting, PID: 6194\n    java.lang.IllegalStateException: result must not be null\n        at com.example.stackoverflowtesting.MainActivity$getComics$1.onCompleted(MainActivity.kt:27)\n        at com.example.stackoverflowtesting.MainActivity$getComics$1.onCompleted(MainActivity.kt:14)\n        at com.koushikdutta.async.future.SimpleFuture.handleCallbackUnlocked(SimpleFuture.java:107)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:141)\n        at com.koushikdutta.async.future.SimpleFuture.setComplete(SimpleFuture.java:124)\n        at com.koushikdutta.ion.IonRequestBuilder$1.run(IonRequestBuilder.java:244)\n        at com.koushikdutta.async.AsyncServer$RunnableWrapper.run(AsyncServer.java:60)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n\n<p>And sometimes I get this one, though I am not sure of its importance:</p>\n\n<pre><code>W/System.err: javax.net.ssl.SSLHandshakeException: Handshake failed\n        at com.android.org.conscrypt.OpenSSLEngineImpl.unwrap(OpenSSLEngineImpl.java:441)\n        at javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:1270)\n        at com.koushikdutta.async.AsyncSSLSocketWrapper$5.onDataAvailable(AsyncSSLSocketWrapper.java:194)\n        at com.koushikdutta.async.Util.emitAllData(Util.java:23)\n        at com.koushikdutta.async.AsyncNetworkSocket.onReadable(AsyncNetworkSocket.java:152)\n        at com.koushikdutta.async.AsyncServer.runLoop(AsyncServer.java:821)\n        at com.koushikdutta.async.AsyncServer.run(AsyncServer.java:658)\n        at com.koushikdutta.async.AsyncServer.access$800(AsyncServer.java:44)\n        at com.koushikdutta.async.AsyncServer$14.run(AsyncServer.java:600)\n    Caused by: javax.net.ssl.SSLHandshakeException: Connection closed by peer\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake_bio(Native Method)\n        at com.android.org.conscrypt.OpenSSLEngineImpl.unwrap(OpenSSLEngineImpl.java:426)\n        ... 8 more\n</code></pre>\n"}, {"tags": ["kotlin", "enums"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 2, "creation_date": 1566232368, "post_id": 57560580, "comment_id": 101583099, "body": "While it&#39;s a good question, I don&#39;t see why you need companion object at all in your case. What&#39;s wrong with <code>TENT(&quot;tent&quot;)</code>?"}, {"owner": {"reputation": 1523, "user_id": 1305997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6287a75bdd3b8267e56fd9677b96f8be?s=128&d=identicon&r=PG", "display_name": "Braden Steffaniak", "link": "https://stackoverflow.com/users/1305997/braden-steffaniak"}, "edited": false, "score": 0, "creation_date": 1566233364, "post_id": 57560580, "comment_id": 101583534, "body": "@dyukha I need to interpolate the code in annotation strings, and they need to be compile time constants. I tried the way you are suggesting before I resorted to this method."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 3, "creation_date": 1566234923, "post_id": 57560580, "comment_id": 101584249, "body": "btw you can declare these constants on the file level like this <a href=\"https://pl.kotl.in/48uHeStGH\" rel=\"nofollow noreferrer\">pl.kotl.in/48uHeStGH</a>"}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 1386556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad910878330645f4efc8c285a70a2794?s=128&d=identicon&r=PG&f=1", "display_name": "DevinM", "link": "https://stackoverflow.com/users/1386556/devinm"}, "edited": false, "score": 0, "creation_date": 1618239050, "post_id": 57619686, "comment_id": 118535614, "body": "This is an extremely important distinction. I have been struggling for days on this without an understanding of why. ty ty ty"}], "tags": [], "owner": {"reputation": 194, "user_id": 2370982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1S8Zj.png?s=128&g=1", "display_name": "baguIO", "link": "https://stackoverflow.com/users/2370982/baguio"}, "is_accepted": false, "score": 7, "last_activity_date": 1566532235, "creation_date": 1566532235, "answer_id": 57619686, "question_id": 57560580, "link": "https://stackoverflow.com/questions/57560580/kotlin-enum-constructor-argument-must-be-initialized-with-companion-object-con/57619686#57619686", "title": "Kotlin enum constructor argument &#39;must be initialized&#39; with companion object constant without qualifier name", "body": "<p>That <code>companion object</code> will be instantiated the moment your class becomes available (compile time). Then you are telling your class that, for it to become available, it needs a class that is not yet available (because you're compiling it at the moment and, apparently, Kotlin makes enum cases available before companion objects)</p>\n\n<p>I can't tell for sure if this is intended from Kotlin, but  to avoid this kind of cases, declare your constants outside this class</p>\n"}, {"tags": [], "owner": {"reputation": 1163, "user_id": 869377, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51e996a9ff96df8f3b977c6519af490d?s=128&d=identicon&r=PG", "display_name": "nepa", "link": "https://stackoverflow.com/users/869377/nepa"}, "is_accepted": false, "score": 2, "last_activity_date": 1597734923, "creation_date": 1597734923, "answer_id": 63463586, "question_id": 57560580, "link": "https://stackoverflow.com/questions/57560580/kotlin-enum-constructor-argument-must-be-initialized-with-companion-object-con/63463586#63463586", "title": "Kotlin enum constructor argument &#39;must be initialized&#39; with companion object constant without qualifier name", "body": "<p>There are two solutions for that:</p>\n<ol>\n<li>make the variable a top-level declaration (as @baguIO mentioned)</li>\n<li>mention the scope explicitly (use <code>CampsiteCategoryCode.TENT_CODE</code> instead of just <code>TENT_CODE</code>)</li>\n</ol>\n"}], "owner": {"reputation": 1523, "user_id": 1305997, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6287a75bdd3b8267e56fd9677b96f8be?s=128&d=identicon&r=PG", "display_name": "Braden Steffaniak", "link": "https://stackoverflow.com/users/1305997/braden-steffaniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 1, "answer_count": 2, "score": 11, "last_activity_date": 1597734923, "creation_date": 1566231743, "question_id": 57560580, "link": "https://stackoverflow.com/questions/57560580/kotlin-enum-constructor-argument-must-be-initialized-with-companion-object-con", "title": "Kotlin enum constructor argument &#39;must be initialized&#39; with companion object constant without qualifier name", "body": "<p>This code compiles successfully with the qualified name used to access the constants from the companion object:</p>\n\n<pre><code>enum class CampsiteCategoryCode(val code: String) {\n  TENT(CampsiteCategoryCode.TENT_CODE), // intellij says 'Redundant qualifier name'\n  OTHER(CampsiteCategoryCode.OTHER_CODE), // intellij says 'Redundant qualifier name'\n  LODGING(CampsiteCategoryCode.LODGING_CODE), // intellij says 'Redundant qualifier name'\n  RV(CampsiteCategoryCode.RV_CODE); // intellij says 'Redundant qualifier name'\n\n  override fun toString() = code\n\n  companion object {\n    const val TENT_CODE = \"tent\"\n    const val OTHER_CODE = \"other\"\n    const val LODGING_CODE = \"lodging\"\n    const val RV_CODE = \"rv\"\n  }\n}\n</code></pre>\n\n<p>However, the same code without the qualifier name fails compilation:</p>\n\n<pre><code>enum class CampsiteCategoryCode(val code: String) {\n  TENT(TENT_CODE), // Variable 'TENT_CODE' must be initialized\n  OTHER(OTHER_CODE), // Variable 'OTHER_CODE' must be initialized\n  LODGING(LODGING_CODE), // Variable 'LODGING_CODE' must be initialized\n  RV(RV_CODE); // Variable 'RV_CODE' must be initialized\n\n  override fun toString() = code\n\n  companion object {\n    const val TENT_CODE = \"tent\"\n    const val OTHER_CODE = \"other\"\n    const val LODGING_CODE = \"lodging\"\n    const val RV_CODE = \"rv\"\n  }\n}\n</code></pre>\n\n<p>Why does specifying the qualifier name allow this code to compile? Or put another way, why does <em>not</em> having the qualifier name make the code fail to compile?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1566235793, "post_id": 57560333, "comment_id": 101584612, "body": "The <code>LiveData&lt;out LocationSearchResponse&gt;</code> is not null, that says nothing about the values returned from that LiveData though."}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1566238352, "post_id": 57560333, "comment_id": 101585587, "body": "So <code>it</code> being null means that the data itself could be null?"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1566242279, "post_id": 57560333, "comment_id": 101587115, "body": "How would I be able to debug that to check the values?"}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1566234509, "post_id": 57560787, "comment_id": 101584065, "body": "This function is being called inside of a fragment.  Sorry, I should have clarified that."}, {"owner": {"reputation": 420, "user_id": 9697266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f53b988aa0c7e0e1b9a811e1fc783e?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/9697266/max"}, "reply_to_user": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1566234878, "post_id": 57560787, "comment_id": 101584235, "body": "Ok, good then does it work without the coroutine or the lifecycle aware coroutine?"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1566238314, "post_id": 57560787, "comment_id": 101585566, "body": "Nope, still null"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1566322818, "post_id": 57560787, "comment_id": 101617780, "body": "So it looks like the value is null.  I know that this is done asynchronously, so it makes sense that it might be null at some point, but it looks like whatever the observer is observing is never being updated, because it never gets called with anything other than a null value"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1566323272, "post_id": 57560787, "comment_id": 101617973, "body": "I&#39;m using <code>@Query(&quot;select * from location_search_results WHERE `query` = :searchQuery&quot;)     fun searchForLocation(searchQuery: String): LiveData&lt;LocationSearchResponse&gt;</code> to query the db, and that returns a live tracking data object whose value is always null"}], "tags": [], "owner": {"reputation": 420, "user_id": 9697266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f53b988aa0c7e0e1b9a811e1fc783e?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/9697266/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1566751687, "last_edit_date": 1566751687, "creation_date": 1566232716, "answer_id": 57560787, "question_id": 57560333, "link": "https://stackoverflow.com/questions/57560333/observer-has-null-object-even-though-the-object-is-instantiated-right-above/57560787#57560787", "title": "Observer has null object, even though the object is instantiated right above", "body": "<p><s>Dispatcher.Main may be the UI thread, but the UI thread by itself does not have a view lifecycle like Activities and Fragments.</p>\n\n<p>You have to bind your viewmodel within a fragment or activity or viewLifecycleOwner is going to be null.</p>\n\n<p>When you think about it it makes sense that this cannot work, because you could have say 5 fragments on screen at the same time. All of them run on the UI thread with seperate lifecycles. Witch of them do you propose viewLifecycleOwner should be referring to?</p>\n\n<p>Since you said this runs on a button click. Just remove the coroutine and it should probably work.</p>\n\n<p>There also is a lifecycle aware coroutine scope 'viewLifecycleOwner.lifecycleScope.launch' if you wish to use a coroutine and make it lifecycle aware. But I dont really see the point here. It is possible though and maybe there is a point and somebody can enlighten me. ^^</s></p>\n\n<p>Seems like that's not the problem like @ianhanniballake suggested your LiveData's data might be null. You can get the data with the <code>locationResults.value</code> or when you debug your <code>locationResults</code> should have a field <code>mData</code>. That's is later your <code>it</code>.</p>\n"}], "owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566751687, "creation_date": 1566230637, "question_id": 57560333, "link": "https://stackoverflow.com/questions/57560333/observer-has-null-object-even-though-the-object-is-instantiated-right-above", "title": "Observer has null object, even though the object is instantiated right above", "body": "<p>I have this function in my app: </p>\n\n<pre><code>fun bindUI() = launch(Dispatchers.Main){\n        val locationResults = locationViewModel.locationResponse\n        val owner = viewLifecycleOwner\n\n        locationResults.observe(owner, Observer {\n            if (it == null) return@Observer\n\n            // TODO: set loading icon to GONE\n\n            initRecyclerView(it.features.toLocationSearchResultListItem())\n        })\n    }\n</code></pre>\n\n<p>This function is triggered when a certain button is pressed in the app.  When debugging the code, the locationResults field is set to a RoomTrackingLiveData object, but then when it gets to the if condition inside the observer, <code>it</code> is null, and it returns out of the function.  In this case <code>it</code> is of type <code>LocationSearchResponse!</code> and <code>locationViewModel.locationResponse</code> is of type <code>LiveData&lt;out LocationSearchResponse&gt;</code></p>\n\n<p>Why would <code>it</code> be null right after results are correctly retrieved from that variable just a few lines before?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 3, "last_activity_date": 1566230883, "creation_date": 1566230883, "answer_id": 57560384, "question_id": 57560245, "link": "https://stackoverflow.com/questions/57560245/how-does-kotlin-android-extensions-replacement-for-findviewbyid-prevent-null-vie/57560384#57560384", "title": "How does Kotlin Android Extensions replacement for findViewById prevent null views?", "body": "<blockquote>\n  <p>What I don't understand is how this prevents potential NPEs?</p>\n</blockquote>\n\n<p>It doesn't. If you try referencing a widget that does not exist, you crash.</p>\n\n<p>So long as your <code>import</code> statements are only for the relevant layout for your Kotlin code, you should not wind up referencing a widget that does not exist. Where the problem comes in is if you accidentally import the synthetic properties from another layout.</p>\n\n<p>For example, suppose you have a project with <code>activity_main.xml</code> and <code>scrap.xml</code> layouts, and your activity is:</p>\n\n<pre><code>package com.commonsware.android.myapplication\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport kotlinx.android.synthetic.main.scrap.*\n\nclass MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    scrapView.visibility = View.GONE\n  }\n}\n</code></pre>\n\n<p>Here, we are referencing a <code>scrapView</code> view in the <code>scrap</code> layout. We have not inflated that layout, and so this crashes with an <code>IllegalStateException</code>:</p>\n\n<pre><code> Caused by: java.lang.IllegalStateException: scrapView must not be null\n    at com.commonsware.android.myapplication.MainActivity.onCreate(MainActivity.kt:14)\n</code></pre>\n\n<blockquote>\n  <p>What type is welcomeMessage? TextView or TextView?</p>\n</blockquote>\n\n<p>Technically, it is <code>TextView!</code>, where <code>!</code> means \"it's a platform type, so we don't know if it can be <code>null</code> or not\". Practically, <code>TextView!</code> is used the same as <code>TextView</code>, which is why you crash if it winds up being <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4510, "user_id": 8412192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaBoM.jpg?s=128&g=1", "display_name": "musooff", "link": "https://stackoverflow.com/users/8412192/musooff"}, "is_accepted": false, "score": 0, "last_activity_date": 1566432896, "creation_date": 1566432896, "answer_id": 57600574, "question_id": 57560245, "link": "https://stackoverflow.com/questions/57560245/how-does-kotlin-android-extensions-replacement-for-findviewbyid-prevent-null-vie/57600574#57600574", "title": "How does Kotlin Android Extensions replacement for findViewById prevent null views?", "body": "<p>While @CommonsWare's <a href=\"https://stackoverflow.com/a/57560384/8412192\">answer</a> is correct, I also wanted to spare my 2 cents on this subject.</p>\n\n<p>As @CommonsWare pointed out, you have to import relevant layout in order to be able to use <code>Kotlin Extensions</code>. The tricky part here is, it's not only about importing relevant layout but also inflating the layout before you call it with Kotlin Extensions. </p>\n\n<p>So, if you have something like below</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    welcomeMessage.text = \"Hello Kotlin!\"\n    setContentView(R.layout.activity_main)\n\n  }\n}\n\n</code></pre>\n\n<p>You will still get</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: welcomeMessage must not be null</p>\n</blockquote>\n\n<p>And your app will crash.</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 6402604, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-57Szv78xG5o/AAAAAAAAAAI/AAAAAAABHWE/dIeakdiaO0Y/photo.jpg?sz=128", "display_name": "Milan Jurkulak", "link": "https://stackoverflow.com/users/6402604/milan-jurkulak"}, "is_accepted": false, "score": 0, "last_activity_date": 1607130585, "last_edit_date": 1607130585, "creation_date": 1607127885, "answer_id": 65152518, "question_id": 57560245, "link": "https://stackoverflow.com/questions/57560245/how-does-kotlin-android-extensions-replacement-for-findviewbyid-prevent-null-vie/65152518#65152518", "title": "How does Kotlin Android Extensions replacement for findViewById prevent null views?", "body": "<p>I got crash with NPE also in listener.\nI made ZoomRecyclerView, which call onZoom listener method onZoom when zoomed.\nThis event is then propagated to activity, where i call synthetic imagebuttonview method, to set image resource to set zoom button image if item is zoomed or not.\nIt simply crash on synthetic call.</p>\n<p>Example :</p>\n<pre><code>zoomRecycler.onZoom {\n  // exception here : zoomButton must be not null\n  zoomButton.setImageDrawable(...)\n}\n\nzoomButton.click {\n  // calling zoom which raise onZoom inside zoomRecycler\n  zoomRecycler.toggleZoom();\n}\n</code></pre>\n"}], "owner": {"reputation": 7636, "user_id": 1650674, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6U9F1.png?s=128&g=1", "display_name": "tir38", "link": "https://stackoverflow.com/users/1650674/tir38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 57560384, "answer_count": 3, "score": 1, "last_activity_date": 1607130585, "creation_date": 1566230308, "question_id": 57560245, "link": "https://stackoverflow.com/questions/57560245/how-does-kotlin-android-extensions-replacement-for-findviewbyid-prevent-null-vie", "title": "How does Kotlin Android Extensions replacement for findViewById prevent null views?", "body": "<p>I know that Kotlin's Android Extensions creates synthetic properties + caching function to replace any need to call <code>findViewById</code>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/46482618/1650674\">https://stackoverflow.com/a/46482618/1650674</a></li>\n<li><a href=\"https://www.raywenderlich.com/84-kotlin-android-extensions\" rel=\"nofollow noreferrer\">https://www.raywenderlich.com/84-kotlin-android-extensions</a></li>\n<li><a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/kotlin-android-extensions/</a></li>\n</ul>\n\n<p>All of these examples show that the similar java code would look like</p>\n\n<pre><code>private HashMap _$_findViewCache;\n...\npublic View _$_findCachedViewById(int var1) {\n   if(this._$_findViewCache == null) {\n      this._$_findViewCache = new HashMap();\n   }\n\n   View var2 = (View)this._$_findViewCache.get(Integer.valueOf(var1));\n   if(var2 == null) {\n      var2 = this.findViewById(var1);\n      this._$_findViewCache.put(Integer.valueOf(var1), var2);\n   }\n\n   return var2;\n}\n\npublic void _$_clearFindViewByIdCache() {\n   if(this._$_findViewCache != null) {\n      this._$_findViewCache.clear();\n   }\n}\n</code></pre>\n\n<p>What I don't understand is how this prevents potential NPEs? <code>var2 = this.findViewById(var1);</code> may still return null.</p>\n\n<p>Using the example from that last link:</p>\n\n<pre><code>&lt;TextView\n        android:id=\"@+id/welcomeMessage\"\n        ... \n        android:text=\"Hello World!\"/&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    welcomeMessage.text = \"Hello Kotlin!\"\n}\n</code></pre>\n\n<p>What type is <code>welcomeMessage</code>? <code>TextView</code> or <code>TextView?</code></p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-jetpack-navigation"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566407765, "post_id": 57559819, "comment_id": 101650022, "body": "Could you have a look into possibilities to attach <code>MyStartFragment</code> manually? From your code you posted it should work."}, {"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566411486, "post_id": 57559819, "comment_id": 101651562, "body": "What do you mean by attaching it manually?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566411728, "post_id": 57559819, "comment_id": 101651652, "body": "The exception states that <code>arguments</code> is null. Since navigation components takes care of setting these, there might be a place where you create the fragment differently. Calling the constructor without setting any arguments or some configuration you omitted."}, {"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566412227, "post_id": 57559819, "comment_id": 101651848, "body": "But that&#39;s the thing: the navigation component is supposed to set those arguments, and it does so in other fragments where I navigate after using actions. But for some reason, either because of a bug in the navigation component, or indeed a missing configuration, it fails to do it in this case."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566415496, "post_id": 57559819, "comment_id": 101653237, "body": "Have you tried an unstable version of the library? I implemented your example with version <code>2.1.0-rc01</code> and everything worked fine."}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566422238, "post_id": 57559819, "comment_id": 101655789, "body": "Can you post you <code>MyDataObject </code> class?"}, {"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1566423297, "post_id": 57559819, "comment_id": 101656102, "body": "@tynn I just tried to use the latest version of the navigation component (2.2.0-alpha01) but now I have compilation errors everywhere I try to use navArgs(): Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6. Please specify proper &#39;-jvm-target&#39; option. And yet I set sourceCompatibility and targetCompatibility to 1.8 in my compileOptions."}, {"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "reply_to_user": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566423529, "post_id": 57559819, "comment_id": 101656186, "body": "@BlackHatSamurai I added it to my question"}, {"owner": {"reputation": 21755, "user_id": 1283845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FpLkg.jpg?s=128&g=1", "display_name": "BlackHatSamurai", "link": "https://stackoverflow.com/users/1283845/blackhatsamurai"}, "edited": false, "score": 0, "creation_date": 1566424514, "post_id": 57559819, "comment_id": 101656436, "body": "Can you post the Fragment you are trying to pass the data to @Sebastien"}, {"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "edited": false, "score": 0, "creation_date": 1566428580, "post_id": 57559819, "comment_id": 101657443, "body": "The fragment I&#39;m trying to pass the data to is MyStartFragment. It is both a start destination and a target destination for an action that comes from another fragment. When it is loaded as a start destination, the argument should be null. And when it is loaded from another fragment, this other fragment will pass a non-null value into the argument."}], "answers": [{"comments": [{"owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "edited": false, "score": 0, "creation_date": 1566584948, "post_id": 57607977, "comment_id": 101716425, "body": "Thanks a lot. That fixed my issue."}, {"owner": {"reputation": 2825, "user_id": 1898527, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/qCDPj.png?s=128&g=1", "display_name": "narko", "link": "https://stackoverflow.com/users/1898527/narko"}, "edited": false, "score": 0, "creation_date": 1567761124, "post_id": 57607977, "comment_id": 102068421, "body": "I was using version 2.0.0 for passing a nullable string as argument and I was getting the same complaint as in the title. After updating to 2.1.0 and adding the kotlinOptions bit, the error went off. Thanks for sharing!"}], "tags": [], "owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "is_accepted": true, "score": 7, "last_activity_date": 1566472042, "creation_date": 1566472042, "answer_id": 57607977, "question_id": 57559819, "link": "https://stackoverflow.com/questions/57559819/jetpack-navigation-component-throws-an-illegalstateexception-when-loading-a-star/57607977#57607977", "title": "Jetpack navigation component throws an IllegalStateException when loading a start destination with nullable argument", "body": "<p>Hello I am assuming you want to achieve something like below</p>\n\n<pre><code>BeforeFragment --arg--&gt; StartFragment --&gt; AfterFragment\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zsvPG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zsvPG.png\" alt=\"sample nav graph\"></a></p>\n\n<p>This flows are similar first time user, returning user flows. Here <code>BeforeFragment</code> is last fragment in <code>login_nav_graph</code> nested graph. <code>StartFragment</code> is the starting destination of <code>main_nav_graph</code>. <code>StartFragment</code> is the first screen returning user sees.</p>\n\n<p>So in <code>BeforeFragment</code> you may set args as follows</p>\n\n<pre><code>val userJohn:User = User(34, \"John\", 645, UserType.TYPE2, Guardian(\"Mike\"))\nval action = BeforeFragmentDirections.actionGlobalStart(userJohn)\nfindNavController().navigate(action)\n</code></pre>\n\n<p>and in <code>StartFragment</code> you may do following as you already did</p>\n\n<pre><code>title = if(this.args.user == null)\n   getString(R.string.user_name) // mocks loading saved user name\nelse\n   this.args.user?.name // when user is first time user read from passed args\n</code></pre>\n\n<p>Sample Repo can be found <a href=\"https://github.com/kaushalyap/so-navargs\" rel=\"noreferrer\">here</a></p>\n\n<hr>\n\n<p><strong>My best guess</strong></p>\n\n<p>This issue is due to bug in older navigation version, so use <code>2.2.0-alpha01</code> which is I am using in the sample repo.</p>\n\n<p>In order to fix errors that occurs when moved to new navigation version\nin you module gradle file add following</p>\n\n<pre><code>android {\n    ...\n    kotlinOptions {\n        jvmTarget = \"1.8\" // set your Java version here\n    }\n}\n</code></pre>\n\n<p>This fixes the error</p>\n\n<blockquote>\n  <p>Cannot inline byte code ...</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Keep in mind passing complex objects as arguments is not recommended.</strong> Quoting from <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data\" rel=\"noreferrer\">docs</a>.</p>\n\n<blockquote>\n  <p>In general, you should strongly prefer passing only the minimal amount\n  of data between destinations. For example, you should pass a key to\n  retrieve an object rather than passing the object itself, as the total\n  space for all saved states is limited on Android. If you need to pass\n  large amounts of data, consider using a ViewModel as described in\n  Share data between fragments.</p>\n</blockquote>\n\n<p>If this fixes your issue please confirm the answer, since I spent lot of time preparing this post.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "is_accepted": false, "score": 0, "last_activity_date": 1600302376, "creation_date": 1600302376, "answer_id": 63929605, "question_id": 57559819, "link": "https://stackoverflow.com/questions/57559819/jetpack-navigation-component-throws-an-illegalstateexception-when-loading-a-star/63929605#63929605", "title": "Jetpack navigation component throws an IllegalStateException when loading a start destination with nullable argument", "body": "<p>If you create a fragment with a bundle, but without NavController.navigate, and you still want to keep &quot;by navArgs()&quot; in destination fragment e.g because you want to use it in launchFragmentInContainer when testing, then use try/catch. The IllegalStateException is thrown before you start checking nullable type.</p>\n<pre><code>private fun updateArguments(){\n    this.title = try{\n        val args: DestinationFragmentArgs by navArgs()\n\n        if (args.dataObject?.name == &quot;&quot;){\n            // default value provided so check whether bundle was used\n            arguments?.getString(&quot;name&quot;) ?: &quot;&quot;\n        }else {\n            args?.venueId\n        }\n    }catch (ex: Exception){\n        // fragment created without using NavController.navigate\n        arguments?.getString(&quot;venueId&quot;) ?: &quot;&quot;\n    }\n}\n</code></pre>\n<p>Room is very fast, so retrieving an object from the id as an argument should not be an issue, so try using primitive types for your arguments if possible, otherwise use Parcelable or Serialize for inexpensive objects.</p>\n"}], "owner": {"reputation": 2401, "user_id": 100822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/022eb4a3f3b256ca6224d6800aec9541?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/100822/sebastien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2849, "favorite_count": 1, "accepted_answer_id": 57607977, "answer_count": 2, "score": 6, "last_activity_date": 1600302376, "creation_date": 1566228712, "last_edit_date": 1566423507, "question_id": 57559819, "link": "https://stackoverflow.com/questions/57559819/jetpack-navigation-component-throws-an-illegalstateexception-when-loading-a-star", "title": "Jetpack navigation component throws an IllegalStateException when loading a start destination with nullable argument", "body": "<p>I added a nullable argument to my start destination:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/nav_graph\"\n        app:startDestination=\"@id/startDest\"&gt;\n\n    &lt;fragment android:id=\"@+id/startDest\"\n          android:name=\"com.myapp.MyStartFragment\"\n          android:label=\"Start\"\n          tools:layout=\"@layout/fragment_start\"&gt;\n        &lt;argument\n            android:name=\"dataObject\"\n            app:argType=\"com.myapp.MyDataObject\"\n            android:defaultValue=\"@null\"\n            app:nullable=\"true\"/&gt;\n        ...\n    &lt;/fragment&gt;\n    ...\n&lt;/navigation&gt;\n</code></pre>\n\n<p>But when I load my app, I get the following exception:</p>\n\n<pre><code>java.lang.IllegalStateException: Fragment MyStartFragment{a4ffd1f (ca52d4dc-ff36-4a93-8ebf-f11af7b7d5aa) id=0x7f080145} has null arguments\n    at com.myapp.MyStartFragment$$special$$inlined$navArgs$1.invoke(FragmentNavArgsLazy.kt:42)\n    at com.myapp.MyStartFragment$$special$$inlined$navArgs$1.invoke(Unknown Source:0)\n    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:44)\n    at androidx.navigation.NavArgsLazy.getValue(NavArgsLazy.kt:34)\n    at com.myapp.MyStartFragment.getArgs(Unknown Source:27)\n    at com.myapp.MyStartFragment.onAttach(MyStartFragment.kt:85)\n</code></pre>\n\n<p>And the exception is triggered by this piece of code in MyStartFragment:</p>\n\n<pre><code>private val args: MyStartFragmentArgs by navArgs()\noverride fun onAttach(context: Context) {\n    super.onAttach(context)\n    val title = if(this.args.dataObject == null) getString(R.string.start_list_title) else this.args.dataObject!!.name\n    ...\n}\n</code></pre>\n\n<p>And here is the code for MyDataObject:</p>\n\n<pre><code>@Parcelize\ndata class MyDataObject (\n    val id: String,\n    val name: String,\n    val externalIdentifier: String\n    val type: MyDataEnumType,\n    var responsibleUser: SomeOtherParcelableClass?\n): Parcelable \n</code></pre>\n\n<p>What I don't understand is that my start destination doesn't get passed arguments properly by the navigation controller. Am I missing something here?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4634, "user_id": 678448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVbqu.jpg?s=128&g=1", "display_name": "Thommy", "link": "https://stackoverflow.com/users/678448/thommy"}, "edited": false, "score": 1, "creation_date": 1566226650, "post_id": 57559184, "comment_id": 101580380, "body": "First guess. it got garbage collected: Warning: If a FileObserver is garbage collected, it will stop sending events. To ensure you keep receiving events, you must keep a reference to the FileObserver instance from some other live object. (from <a href=\"https://developer.android.com/reference/android/os/FileObserver\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/FileObserver</a>)"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1566226710, "post_id": 57559184, "comment_id": 101580411, "body": "Beyond that, make sure that you hold permissions to read that directory, including requesting <code>READ_EXTERNAL_STORAGE</code> at runtime. And note that this approach will not work on Android Q (by default) or Android R+ (for all apps), as you no longer have filesystem access to this directory."}], "owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566226326, "creation_date": 1566226326, "question_id": 57559184, "link": "https://stackoverflow.com/questions/57559184/observe-a-file-in-android", "title": "Observe a file in Android", "body": "<p>I try to observe a Json file in Android but it's not working.\nMy file is located in the Download directory.</p>\n\n<p>In my Activity I observe my file like this :</p>\n\n<pre><code>val jsonConfig = JsonConfigFileObserver(File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), FILE_NAME_CONF).absolutePath) { jsonConfig -&gt;\n            runActionFromConfig(jsonConfig)\n        }\njsonConfig.startWatching()\n</code></pre>\n\n<p>This is my <strong>JsonConfigFileObserver</strong> class :</p>\n\n<pre><code>class JsonConfigFileObserver(private var path: String, var onModify: (JsonConfig) -&gt; Unit) : FileObserver(path, MODIFY) {\n    override fun onEvent(event: Int, pathNullable: String?) {\n            Log.d(\"FileObserver: \", \"File Modified\")\n            onModify(jsonConfig(path))\n    }\n}\n</code></pre>\n\n<p>So I push a new version of my config file using adb :</p>\n\n<pre><code>adb push myConfigFile.json ./storage/emulated/0/Download/myConfigFile.json\n</code></pre>\n\n<p>The file is updated but I never enter in the <code>onEvent</code> method.</p>\n\n<p>What I am doing wrong ?</p>\n"}, {"tags": ["java", "asynchronous", "kotlin", "asynchttpclient"], "comments": [{"owner": {"reputation": 3456, "user_id": 1731935, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c23790f4c3fd69f51d462d4772d89c5b?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/1731935/manuel"}, "edited": false, "score": 2, "creation_date": 1566226754, "post_id": 57559042, "comment_id": 101580436, "body": "Posting the stracktrace might help."}, {"owner": {"reputation": 863, "user_id": 5363011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqqla.jpg?s=128&g=1", "display_name": "George Leung", "link": "https://stackoverflow.com/users/5363011/george-leung"}, "edited": false, "score": 0, "creation_date": 1566283590, "post_id": 57559042, "comment_id": 101596825, "body": "How can the <code>createTicket</code> call both &quot;hangs&quot; and &quot;throws an error&quot;?"}, {"owner": {"reputation": 673, "user_id": 2485873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c22c48006d8f3334d58de119eeebb50e?s=128&d=identicon&r=PG", "display_name": "N4v", "link": "https://stackoverflow.com/users/2485873/n4v"}, "reply_to_user": {"reputation": 3456, "user_id": 1731935, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c23790f4c3fd69f51d462d4772d89c5b?s=128&d=identicon&r=PG", "display_name": "Manuel", "link": "https://stackoverflow.com/users/1731935/manuel"}, "edited": false, "score": 0, "creation_date": 1566309282, "post_id": 57559042, "comment_id": 101610797, "body": "@Manuel, I added the stack trace."}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 2485873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c22c48006d8f3334d58de119eeebb50e?s=128&d=identicon&r=PG", "display_name": "N4v", "link": "https://stackoverflow.com/users/2485873/n4v"}, "edited": false, "score": 0, "creation_date": 1566309374, "post_id": 57573234, "comment_id": 101610849, "body": "Thanks. I added the stack trace to my post, and I think your answer makes a lot of sense. When I enclose <code>zd.createTicket(ticket)</code> in a try-catch block, it allows the program to exit as normally, and it doesn&#39;t hang anymore."}, {"owner": {"reputation": 1222, "user_id": 489795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3748457afdc8704deb75f6d6ae1f33?s=128&d=identicon&r=PG", "display_name": "systemkern", "link": "https://stackoverflow.com/users/489795/systemkern"}, "reply_to_user": {"reputation": 673, "user_id": 2485873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c22c48006d8f3334d58de119eeebb50e?s=128&d=identicon&r=PG", "display_name": "N4v", "link": "https://stackoverflow.com/users/2485873/n4v"}, "edited": false, "score": 0, "creation_date": 1566324174, "post_id": 57573234, "comment_id": 101618345, "body": "I am happy I could help you :) if this solved your issue you can also mark my answer as correct."}], "tags": [], "owner": {"reputation": 1222, "user_id": 489795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3748457afdc8704deb75f6d6ae1f33?s=128&d=identicon&r=PG", "display_name": "systemkern", "link": "https://stackoverflow.com/users/489795/systemkern"}, "is_accepted": true, "score": 1, "last_activity_date": 1566302596, "creation_date": 1566302596, "answer_id": 57573234, "question_id": 57559042, "link": "https://stackoverflow.com/questions/57559042/why-doesnt-asynchttpclient-close-the-thread-after-throwing-an-exception/57573234#57573234", "title": "Why doesn&#39;t AsyncHttpClient close the thread after throwing an exception?", "body": "<p>Depending on how the async client is implemented it can throw an error in one thread/coroutine and then wait for a completion message or trigger in another part of its code.</p>\n\n<p>Because the error was thrown, the trigger is never sent and thus the thread hangs in perpetuity.</p>\n\n<p>I \"built\" a problem like this once, so yes it is possible. </p>\n\n<p>Obviously, I don't know if this is actually the issue at hand.</p>\n\n<p>Cheers and all the best!</p>\n"}], "owner": {"reputation": 673, "user_id": 2485873, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c22c48006d8f3334d58de119eeebb50e?s=128&d=identicon&r=PG", "display_name": "N4v", "link": "https://stackoverflow.com/users/2485873/n4v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 1, "accepted_answer_id": 57573234, "answer_count": 1, "score": 0, "last_activity_date": 1566309258, "creation_date": 1566225785, "last_edit_date": 1566309258, "question_id": 57559042, "link": "https://stackoverflow.com/questions/57559042/why-doesnt-asynchttpclient-close-the-thread-after-throwing-an-exception", "title": "Why doesn&#39;t AsyncHttpClient close the thread after throwing an exception?", "body": "<p>I'm using the <a href=\"https://github.com/cloudbees/zendesk-java-client\" rel=\"nofollow noreferrer\">Zendesk Java Client</a>. When I supply the correct credentials, it works as expected. However, I stumbled on a scenario where if the wrong credentials are passed in, the thread just hangs and it throws an error. Whether I run the code with or without the debugger, the code just stays running. It doesn't exit or return control to the debugger.</p>\n\n<p>Is this an issue with the library, or am I misunderstanding how the AsyncHttpClient works?</p>\n\n<p>My code is below:</p>\n\n<pre><code>fun zdtestWrongCredentials() {\n    val client = asyncHttpClient(\n        config()\n            .setRequestTimeout(5000)\n            .setReadTimeout(5000)\n            .setShutdownTimeout(3000)\n            .setPooledConnectionIdleTimeout(5000)\n            .setKeepAlive(false)\n    )\n\n    var zd = Zendesk.Builder(\"https://website.zendesk.com\")\n        .setClient(client)\n        .setUsername(\"john.doe@website.com\")\n        .setPassword(\"abcd\")\n        .build()\n\n    var ticket = Ticket(123, \"a\", Comment(\"abc\"))\n\n    // The code hangs here. It's unclear why it exhibits this behavior.\n    var test = zd.createTicket(ticket)\n\n    // The code does not reach this line.\n    client.close()\n\n    return\n}\n</code></pre>\n\n<p>Although I'm using Kotlin, I tried replicating this issue in a simple Java project and the issue persists.</p>\n\n<p>The stack trace is below. There is an exception at the bottom, but even after this exception, the program does not exit/give control back to the debugger.</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-11.0.4\\bin\\java.exe\"\n09:47:01.463 [main] DEBUG io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework\n09:47:01.480 [main] DEBUG io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple\n09:47:01.480 [main] DEBUG io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4\n09:47:01.550 [main] DEBUG io.netty.util.internal.PlatformDependent - Platform: Windows\n09:47:01.562 [main] DEBUG io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false\n09:47:01.562 [main] DEBUG io.netty.util.internal.PlatformDependent0 - Java version: 11\n09:47:01.566 [main] DEBUG io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available\n09:47:01.567 [main] DEBUG io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available\n09:47:01.568 [main] DEBUG io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available\n09:47:01.575 [main] DEBUG io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable\njava.lang.UnsupportedOperationException: Reflective setAccessible(true) disabled\n    at io.netty.util.internal.ReflectionUtil.trySetAccessible(ReflectionUtil.java:31)\n    at io.netty.util.internal.PlatformDependent0$4.run(PlatformDependent0.java:224)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:218)\n    at io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:212)\n    at io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:80)\n    at io.netty.util.ResourceLeakDetector.&lt;init&gt;(ResourceLeakDetector.java:171)\n    at io.netty.util.ResourceLeakDetector.&lt;init&gt;(ResourceLeakDetector.java:213)\n    at io.netty.util.ResourceLeakDetectorFactory$DefaultResourceLeakDetectorFactory.newResourceLeakDetector(ResourceLeakDetectorFactory.java:201)\n    at io.netty.util.HashedWheelTimer.&lt;clinit&gt;(HashedWheelTimer.java:89)\n    at org.asynchttpclient.DefaultAsyncHttpClient.newNettyTimer(DefaultAsyncHttpClient.java:96)\n    at org.asynchttpclient.DefaultAsyncHttpClient.&lt;init&gt;(DefaultAsyncHttpClient.java:87)\n    at org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\n    at com.website.MainKt.test123(Main.kt:321)\n    at com.website.MainKt.main(Main.kt:288)\n    at com.website.MainKt.main(Main.kt)\n09:47:01.577 [main] DEBUG io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true\n09:47:01.579 [main] DEBUG io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable\njava.lang.IllegalAccessException: class io.netty.util.internal.PlatformDependent0$6 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @4de5031f\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n    at io.netty.util.internal.PlatformDependent0$6.run(PlatformDependent0.java:334)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at io.netty.util.internal.PlatformDependent0.&lt;clinit&gt;(PlatformDependent0.java:325)\n    at io.netty.util.internal.PlatformDependent.isAndroid(PlatformDependent.java:212)\n    at io.netty.util.internal.PlatformDependent.&lt;clinit&gt;(PlatformDependent.java:80)\n    at io.netty.util.ResourceLeakDetector.&lt;init&gt;(ResourceLeakDetector.java:171)\n    at io.netty.util.ResourceLeakDetector.&lt;init&gt;(ResourceLeakDetector.java:213)\n    at io.netty.util.ResourceLeakDetectorFactory$DefaultResourceLeakDetectorFactory.newResourceLeakDetector(ResourceLeakDetectorFactory.java:201)\n    at io.netty.util.HashedWheelTimer.&lt;clinit&gt;(HashedWheelTimer.java:89)\n    at org.asynchttpclient.DefaultAsyncHttpClient.newNettyTimer(DefaultAsyncHttpClient.java:96)\n    at org.asynchttpclient.DefaultAsyncHttpClient.&lt;init&gt;(DefaultAsyncHttpClient.java:87)\n    at org.asynchttpclient.Dsl.asyncHttpClient(Dsl.java:32)\n    at com.website.MainKt.test123(Main.kt:321)\n    at com.website.MainKt.main(Main.kt:288)\n    at com.website.MainKt.main(Main.kt)\n09:47:01.579 [main] DEBUG io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.&lt;init&gt;(long, int): unavailable\n09:47:01.579 [main] DEBUG io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available\n09:47:01.634 [main] DEBUG io.netty.util.internal.PlatformDependent - maxDirectMemory: 6404702208 bytes (maybe)\n09:47:01.635 [main] DEBUG io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: C:\\Users\\john~1.doe\\AppData\\Local\\Temp (java.io.tmpdir)\n09:47:01.635 [main] DEBUG io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)\n09:47:01.639 [main] DEBUG io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes\n09:47:01.639 [main] DEBUG io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1\n09:47:01.649 [main] DEBUG io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available\n09:47:01.649 [main] DEBUG io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false\n09:47:01.649 [main] DEBUG io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@13acb0d1\n09:47:01.705 [main] DEBUG io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available\n09:47:02.621 [main] DEBUG io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \n09:47:02.622 [main] DEBUG io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]\n09:47:02.651 [main] DEBUG io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 8\n09:47:02.674 [main] DEBUG io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false\n09:47:02.675 [main] DEBUG io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512\n09:47:02.714 [main] DEBUG io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n09:47:02.714 [main] DEBUG io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 8\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 8\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 11\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 16777216\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.tinyCacheSize: 512\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: true\n09:47:02.728 [main] DEBUG io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n09:47:02.738 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled\n09:47:02.738 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0\n09:47:02.738 [main] DEBUG io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384\n09:47:03.522 [main] DEBUG org.zendesk.client.v2.Zendesk - Request POST https://website.zendesk.com/api/v2/tickets.json application/json; charset=UTF-8 92 bytes\n09:47:03.568 [main] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true\n09:47:03.568 [main] DEBUG io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true\n09:47:03.569 [main] DEBUG io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@604c5de8\n09:47:03.650 [main] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.processId: 12648 (auto-detected)\n09:47:03.653 [main] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false\n09:47:03.653 [main] DEBUG io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false\n09:47:04.352 [main] DEBUG io.netty.util.NetUtil - Loopback interface: [lo, Software Loopback Interface 1, 127.0.0.1] ([lo, Software Loopback Interface 1, 127.0.0.1], {})\n09:47:04.353 [main] DEBUG io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200\n09:47:05.043 [main] DEBUG io.netty.channel.DefaultChannelId - -Dio.netty.machineId: 00:50:b6:ff:fe:ae:6e:01 (auto-detected)\n09:47:05.172 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096\n09:47:05.172 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n09:47:05.173 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.linkCapacity: 16\n09:47:05.173 [AsyncHttpClient-3-1] DEBUG io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8\n09:47:05.614 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.channel.NettyConnectListener - Using new Channel '[id: 0xf398d3e1, L:/192.168.108.56:64305 - R:website.zendesk.com/104.16.54.111:443]' for 'POST' to '/api/v2/tickets.json'\n09:47:05.630 [AsyncHttpClient-3-1] DEBUG io.netty.handler.ssl.SslHandler - [id: 0xf398d3e1, L:/192.168.108.56:64305 - R:website.zendesk.com/104.16.54.111:443] HANDSHAKEN: TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n09:47:05.810 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.handler.HttpHandler - \n\nRequest DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: UnpooledHeapByteBuf(freed))\nPOST /api/v2/tickets.json HTTP/1.1\nContent-type: application/json; charset=UTF-8\ncontent-length: 92\nconnection: close\nhost: website.zendesk.com\nauthorization: Basic RGVyZWsudG93cmlzc0BkZWxhd2FyZWxpZmUuY29tOlRlczE=\naccept: */*\nuser-agent: AHC/2.1\n\nResponse DefaultHttpResponse(decodeResult: success, version: HTTP/1.1)\nHTTP/1.1 401 Unauthorized\nDate: Tue, 20 Aug 2019 13:47:06 GMT\nContent-Type: application/json; charset=UTF-8\nContent-Length: 37\nConnection: close\nSet-Cookie: __cfduid=d807076f1918856a9ecbded67e619ee901566308826; expires=Wed, 19-Aug-20 13:47:06 GMT; path=/; domain=.website.zendesk.com; HttpOnly\nWWW-Authenticate: Basic realm=\"Web Password\"\nStrict-Transport-Security: max-age=31536000;\nCache-Control: no-cache\nX-Zendesk-Origin-Server: app23.pod20.usw2.zdsys.com\nX-Request-Id: 5094d137ce35e1fa-SEA\nX-Runtime: 0.060433\nX-Zendesk-Request-Id: 7d89cc0062f1b7e6f05c\nSet-Cookie: __cfruid=b0a77a0d73109c7862b0ab39be944601c81b0353-1566308826; path=/; domain=.website.zendesk.com; HttpOnly\nExpect-CT: max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"\nServer: cloudflare\nCF-RAY: 5094d137ce35e1fa-ORD\n\n09:47:05.829 [AsyncHttpClient-3-1] INFO org.asynchttpclient.netty.handler.intercept.Unauthorized401Interceptor - Can't handle 401 as auth was already performed\n09:47:05.839 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.channel.ChannelManager - Closing Channel [id: 0xf398d3e1, L:/192.168.108.56:64305 - R:website.zendesk.com/104.16.54.111:443] \n09:47:05.844 [AsyncHttpClient-3-1] DEBUG org.zendesk.client.v2.Zendesk - Response HTTP/401 Unauthorized\n{\"error\":\"Couldn't authenticate you\"}\n09:47:05.846 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.AsyncCompletionHandler - HTTP/401: Unauthorized - {\"error\":\"Couldn't authenticate you\"}\norg.zendesk.client.v2.ZendeskResponseException: HTTP/401: Unauthorized - {\"error\":\"Couldn't authenticate you\"}\n    at org.zendesk.client.v2.Zendesk$BasicAsyncCompletionHandler.onCompleted(Zendesk.java:1997)\n    at org.asynchttpclient.AsyncCompletionHandler.onCompleted(AsyncCompletionHandler.java:66)\n    at org.asynchttpclient.netty.NettyResponseFuture.loadContent(NettyResponseFuture.java:223)\n    at org.asynchttpclient.netty.NettyResponseFuture.done(NettyResponseFuture.java:258)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.finishUpdate(AsyncHttpClientHandler.java:239)\n    at org.asynchttpclient.netty.handler.HttpHandler.handleChunk(HttpHandler.java:113)\n    at org.asynchttpclient.netty.handler.HttpHandler.handleRead(HttpHandler.java:142)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:76)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1436)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1203)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1247)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:502)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:441)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nException in thread \"main\" org.zendesk.client.v2.ZendeskResponseException: HTTP/401: Unauthorized - {\"error\":\"Couldn't authenticate you\"}\n    at org.zendesk.client.v2.Zendesk.complete(Zendesk.java:2252)\n    at org.zendesk.client.v2.Zendesk.createTicket(Zendesk.java:307)\n    at com.website.MainKt.test123(Main.kt:349)\n    at com.website.MainKt.main(Main.kt:288)09:47:05.849 [AsyncHttpClient-3-1] DEBUG org.asynchttpclient.netty.handler.HttpHandler - Channel Closed: [id: 0xf398d3e1, L:/192.168.108.56:64305 ! R:website.zendesk.com/104.16.54.111:443] with attribute DISCARD\n\n    at com.website.MainKt.main(Main.kt)\nCaused by: org.zendesk.client.v2.ZendeskResponseException: HTTP/401: Unauthorized - {\"error\":\"Couldn't authenticate you\"}\n    at org.zendesk.client.v2.Zendesk$BasicAsyncCompletionHandler.onCompleted(Zendesk.java:1997)\n    at org.asynchttpclient.AsyncCompletionHandler.onCompleted(AsyncCompletionHandler.java:66)\n    at org.asynchttpclient.netty.NettyResponseFuture.loadContent(NettyResponseFuture.java:223)\n    at org.asynchttpclient.netty.NettyResponseFuture.done(NettyResponseFuture.java:258)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.finishUpdate(AsyncHttpClientHandler.java:239)\n    at org.asynchttpclient.netty.handler.HttpHandler.handleChunk(HttpHandler.java:113)\n    at org.asynchttpclient.netty.handler.HttpHandler.handleRead(HttpHandler.java:142)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:76)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:438)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:253)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1436)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1203)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1247)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:502)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:441)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1408)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:930)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:677)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:612)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:529)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:491)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:905)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"}, {"tags": ["android", "api", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1566225945, "post_id": 57558800, "comment_id": 101580010, "body": "where is &quot;someapi&quot; coming from"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1566226192, "post_id": 57558800, "comment_id": 101580135, "body": "@TimCastelijns sorry,  i updated the question a bit. I expect that will come:  <code>&quot;https:&#47;&#47;google.com&#47;myroute&#47;api&#47;mandarine&#47;v1&#47;authorizations&quot;</code> but get: <code>&quot;https:&#47;&#47;google.com&#47;api&#47;mandarine&#47;v1&#47;authorizations&quot;</code>"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1566226279, "post_id": 57558800, "comment_id": 101580194, "body": "@TimCastelijns <code>myroute</code> clipped"}], "answers": [{"tags": [], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566237801, "creation_date": 1566237801, "answer_id": 57561850, "question_id": 57558800, "link": "https://stackoverflow.com/questions/57558800/truncates-the-link-in-the-wrong-way/57561850#57561850", "title": "Truncates the link in the wrong way", "body": "<p>Modified my own function:</p>\n\n<pre><code>internal fun createRequestUrl(baseUrl: String, vararg routePaths: String): String {\n    val baseUri = Uri.parse(baseUrl)\n    val builder = Uri.Builder()\n        .scheme(baseUri.scheme ?: \"https\")\n        .encodedAuthority(baseUri.authority ?: \"\")\n    routePaths.forEach { builder.appendEncodedPath(it) }\n    return builder.build().toString()\n}\n</code></pre>\n\n<p>now I can install as many string additions as I want</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566237801, "creation_date": 1566224960, "last_edit_date": 1566225971, "question_id": 57558800, "link": "https://stackoverflow.com/questions/57558800/truncates-the-link-in-the-wrong-way", "title": "Truncates the link in the wrong way", "body": "<p>Have next fun:</p>\n\n<pre><code>internal fun createRequestUrl(baseUrl: String, routePath: String): String {\n    val baseUri = Uri.parse(baseUrl)\n    return Uri.Builder()\n            .scheme(baseUri.scheme ?: \"https\")\n            .encodedAuthority(baseUri.authority ?: \"\")\n            .appendEncodedPath(routePath)\n            .build()\n            .toString()\n}\n</code></pre>\n\n<p>But the third condition in the test falls:</p>\n\n<pre><code>@Test\n    @Throws(Exception::class)\n    fun createRequestUrlTest() {\n        assertThat(createRequestUrl(\"https://google.com\", API_AUTHORIZATIONS),\n                equalTo(\"https://google.com/api/mandarine/v1/authorizations\"))\n        assertThat(createRequestUrl(\"https://google.com/\", API_AUTHORIZATIONS),\n                equalTo(\"https://google.com/api/mandarine/v1/authorizations\"))\n        assertThat(createRequestUrl(\"https://google.com/myroute/\", API_AUTHORIZATIONS),\n            equalTo(\"https://google.com/myroute/api/mandarine/v1/authorizations\"))\n    }\n</code></pre>\n\n<p>it doesn't add a <code>myroute</code> after the <code>base url</code></p>\n\n<blockquote>\n  <p>Expected: \"<a href=\"https://google.com/myroute/api/mandarine/v1/authorizations\" rel=\"nofollow noreferrer\">https://google.com/myroute/api/mandarine/v1/authorizations</a>\"</p>\n  \n  <p>but: was \"<a href=\"https://google.com/api/mandarine/v1/authorizations\" rel=\"nofollow noreferrer\">https://google.com/api/mandarine/v1/authorizations</a>\"</p>\n</blockquote>\n\n<p>I think that the problem is in this line, but the alternative can't find:</p>\n\n<pre><code>.appendEncodedPath(routePath)\n</code></pre>\n"}, {"tags": ["java", "kotlin", "connection-pooling", "hikaricp"], "comments": [{"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1566227931, "post_id": 57558574, "comment_id": 101581001, "body": "How about just setting minimumIdle=0?"}, {"owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "reply_to_user": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1566229668, "post_id": 57558574, "comment_id": 101581815, "body": "I&#39;ve not used HikariCP, but it looks like the starting point is a <code>HikariConfig</code>. I want to not have that - because they are not relevant. The library I use <i>creates</i> the connections. I just want the pool to manage. Does <code>minimumIdle</code> help?"}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 1, "creation_date": 1566231585, "post_id": 57558574, "comment_id": 101582773, "body": "Take a look at <a href=\"https://gist.github.com/brettwooldridge/dfd21934416fc2a3c865\" rel=\"nofollow noreferrer\">intercepted datasource</a>. May be give you an starting point."}, {"owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "reply_to_user": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1566235748, "post_id": 57558574, "comment_id": 101584588, "body": "Luis Mu&#241;oz: That looks promising, Thanks! Curious, did you find it by searching or have you used it or remember hearing about it? If searching, what did you look for? I want to refine my search skills."}, {"owner": {"reputation": 5895, "user_id": 2834978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b09a797fd0c59d1627b30fb4cdba01?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Mu&#241;oz", "link": "https://stackoverflow.com/users/2834978/luis-mu%c3%b1oz"}, "edited": false, "score": 1, "creation_date": 1566237907, "post_id": 57558574, "comment_id": 101585426, "body": "A mix of  both ;) I intercepted connections in a pool some time ago so I searched for <code>hikari intercept connection</code>."}], "owner": {"reputation": 2693, "user_id": 1338952, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8b68393134f679f403bf573569e94161?s=128&d=identicon&r=PG", "display_name": "user1338952", "link": "https://stackoverflow.com/users/1338952/user1338952"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1566224121, "creation_date": 1566224121, "question_id": 57558574, "link": "https://stackoverflow.com/questions/57558574/can-client-be-responsible-for-on-demand-creation-java-sql-connnections-to-be-m", "title": "Can client be responsible for on-demand creation `java.sql.Connnection`s to be managed by HikariCP (or other pool solution)?", "body": "<p>For security reasons the configuration/details of creation of  <code>java.sql.Connection</code> is out of my hands and controlled by a library. We speficy an identifier for the connection and it returns it. I would still like to use pooling of some sort for the management of those connections - just not the creation. Is this something that can be done with either HikariCP or some other java/kotlin pooling solution?</p>\n\n<p>Ideally I'm looking for a solution that allows me to pass my own connection factory into the pool which it uses to create the connections when needed.</p>\n"}, {"tags": ["reactjs", "npm", "kotlin"], "comments": [{"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1566223850, "post_id": 57558465, "comment_id": 101578848, "body": "Maybe run <code>npm install</code> between 2 and 3 Step 2 should be <code>npx create-react-kotlin-app my-app</code>"}, {"owner": {"reputation": 626, "user_id": 6747620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K9gc4.jpg?s=128&g=1", "display_name": "Amin Memariani", "link": "https://stackoverflow.com/users/6747620/amin-memariani"}, "reply_to_user": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1566224163, "post_id": 57558465, "comment_id": 101579009, "body": "@HMR, do i need to do &#39;cd my-app&#39; before that?"}, {"owner": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1566224284, "post_id": 57558465, "comment_id": 101579086, "body": "Yes, you can also create an app with <code>create-react-app my-app --scripts-version react-scripts-kotlin</code> according to ]the documentation](<a href=\"https://github.com/JetBrains/create-react-kotlin-app\" rel=\"nofollow noreferrer\">github.com/JetBrains/create-react-kotlin-app</a>)&zwnj;&#8203;. The docs say that npm install is not needed (maybe start will take care of that)."}, {"owner": {"reputation": 626, "user_id": 6747620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K9gc4.jpg?s=128&g=1", "display_name": "Amin Memariani", "link": "https://stackoverflow.com/users/6747620/amin-memariani"}, "reply_to_user": {"reputation": 29842, "user_id": 1641941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Q8zet.png?s=128&g=1", "display_name": "HMR", "link": "https://stackoverflow.com/users/1641941/hmr"}, "edited": false, "score": 0, "creation_date": 1566225006, "post_id": 57558465, "comment_id": 101579479, "body": "no luck even with &#39;create-react-app my-app --scripts-version react-scripts-kotlin&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 626, "user_id": 6747620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K9gc4.jpg?s=128&g=1", "display_name": "Amin Memariani", "link": "https://stackoverflow.com/users/6747620/amin-memariani"}, "is_accepted": true, "score": 0, "last_activity_date": 1569338077, "last_edit_date": 1569338077, "creation_date": 1566371301, "answer_id": 57586246, "question_id": 57558465, "link": "https://stackoverflow.com/questions/57558465/failed-to-compile-after-npm-start-in-create-react-kotlin-app-module/57586246#57586246", "title": "Failed to compile after npm start in create-react-kotlin-app module", "body": "<p>Issue resolved after uninstalling Node from my MacBook and installing it again. follow these steps to uninstall Node completely: <a href=\"https://stackoverflow.com/questions/11177954/how-do-i-completely-uninstall-node-js-and-reinstall-from-beginning-mac-os-x\">How to uninstall Node from MacOS</a>\nThen I installed Node again using <code>brew install node</code> (Don't forget <code>brew update</code> before that)</p>\n"}], "owner": {"reputation": 626, "user_id": 6747620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K9gc4.jpg?s=128&g=1", "display_name": "Amin Memariani", "link": "https://stackoverflow.com/users/6747620/amin-memariani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 57586246, "answer_count": 1, "score": 1, "last_activity_date": 1569338077, "creation_date": 1566223732, "last_edit_date": 1566232473, "question_id": 57558465, "link": "https://stackoverflow.com/questions/57558465/failed-to-compile-after-npm-start-in-create-react-kotlin-app-module", "title": "Failed to compile after npm start in create-react-kotlin-app module", "body": "<p>I am trying to run <code>create-react-kotlin-app</code> module using <code>npm</code> but it gives me this error: </p>\n\n<blockquote>\n  <p>Failed to compile</p>\n  \n  <p>multi ./node_modules/react-dev-utils/webpackHotDevClient.js\n  ./node_modules/react-scripts-kotlin/config/polyfills.js kotlinApp\n  Module not found: Syntax/Users/amin/package.json (directory\n  description file): SyntaxError: /Users/amin/package.json (directory\n  description file): SyntaxError: Unexpected end of JSON input </p>\n  \n  <p>This error occurred during the build time and cannot be dismissed.</p>\n</blockquote>\n\n<p>Although I have just followed these instructions:</p>\n\n<ol>\n<li><code>npm install -g create-react-kotlin-app</code> </li>\n<li><code>create-react-kotlin-app my-app</code></li>\n<li><code>cd my-app</code></li>\n<li><code>npm start</code></li>\n</ol>\n\n<p>Note: I could successfully run <code>create-react-app</code> module with no errors. My JDK is also 1.8.111 in case it matters. Does anyone know why do I get such an error and how to fix it?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566219637, "post_id": 57557077, "comment_id": 101576364, "body": "<code>fun provideAppDrawable(application: Application): Drawable?</code>"}, {"owner": {"reputation": 172, "user_id": 5436986, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce520f684ff12d019c602b8f1c072865?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/5436986/displayname"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566219679, "post_id": 57557077, "comment_id": 101576388, "body": "then you can&#39;t use lateinit with nullable types."}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566219804, "post_id": 57557077, "comment_id": 101576459, "body": "<a href=\"https://stackoverflow.com/questions/44310196/kotlin-and-dagger-can-i-use-inject-to-an-object-still-make-it-nullable-optiona\">does this help</a>?"}, {"owner": {"reputation": 172, "user_id": 5436986, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce520f684ff12d019c602b8f1c072865?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/5436986/displayname"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566220521, "post_id": 57557077, "comment_id": 101576878, "body": "it gives an error that lateinit can&#39;t used for nullable types."}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566220545, "post_id": 57557077, "comment_id": 101576896, "body": "did you check the link ?"}, {"owner": {"reputation": 172, "user_id": 5436986, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce520f684ff12d019c602b8f1c072865?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/5436986/displayname"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1566220836, "post_id": 57557077, "comment_id": 101577056, "body": "Yes it helped. thanks a lot. can you also explain what if I use something like is also working  <code>@set:Inject     internal var drawableLogo: Drawable? = null</code> what&#39;s actually happening here?"}, {"owner": {"reputation": 5423, "user_id": 595543, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/34b80e2e60b18f5c337abf661512557c?s=128&d=identicon&r=PG", "display_name": "Shaiful", "link": "https://stackoverflow.com/users/595543/shaiful"}, "edited": false, "score": 0, "creation_date": 1566220977, "post_id": 57557077, "comment_id": 101577128, "body": "Handle the null case from provider method and return a non null Drawable."}], "owner": {"reputation": 172, "user_id": 5436986, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ce520f684ff12d019c602b8f1c072865?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/5436986/displayname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1566220917, "answer_count": 0, "score": 0, "last_activity_date": 1566219981, "creation_date": 1566218818, "question_id": 57557077, "link": "https://stackoverflow.com/questions/57557077/dagger-nullable-getting-issues-with-nullable-while-creating-dagger-bindings", "closed_reason": "Duplicate", "title": "Dagger Nullable - Getting issues with Nullable while creating dagger bindings", "body": "<p>Getting [Dagger/Nullable] error while using <code>@Inject</code> for <code>Drawable</code> field.</p>\n\n<p>AppModule.kt</p>\n\n<pre><code>@Module\nobject AppModule {\n\n    @JvmStatic\n    @Provides\n    fun provideRequestOptions() = RequestOptions.placeholderOf(R.drawable.white_background)\n            .error(R.drawable.white_background)\n\n    @JvmStatic\n    @Provides\n    fun provideGlideInstance(application: Application, requestOptions: RequestOptions) =\n            Glide.with(application).setDefaultRequestOptions(requestOptions)\n\n    @JvmStatic\n    @Provides\n    fun provideAppDrawable(application: Application) =\n            ContextCompat.getDrawable(application, R.drawable.logo)\n}\n\n</code></pre>\n\n<p>This is my activity where I am consuming the Drawable.</p>\n\n<p>AuthActivity</p>\n\n<pre><code>class AuthActivity : DaggerAppCompatActivity() {\n\n    object Constants {\n        const val TAG = \"AuthActivity\"\n    }\n\n    @Inject\n    lateinit var drawableLogo: Drawable\n\n    @Inject\n    lateinit var requestManager: RequestManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_auth)\n        setLogo()\n    }\n\n    fun setLogo() = requestManager.load(drawableLogo).into(loginLogo)\n}\n</code></pre>\n\n<p>Error that I am getting is :-</p>\n\n<pre><code>/app/build/tmp/kapt3/stubs/debug/com/example/di/AppComponent.java:7: error: [Dagger/Nullable] android.graphics.drawable.Drawable is not nullable, but is being provided by @org.jetbrains.annotations.Nullable @Provides android.graphics.drawable.Drawable com.example.di.AppModule.provideAppDrawable(android.app.Application)\npublic abstract interface AppComponent extends dagger.android.AndroidInjector&lt;com.example.BaseApplication&gt; {\n                ^\n      android.graphics.drawable.Drawable is injected at\n          com.example.AuthActivity.drawableLogo\n      com.example.AuthActivity is injected at\n          dagger.android.AndroidInjector.inject(T) [com.example.di.AppComponent \u2192 com.example.di.ActivityBuildersModule_ContributeAuthActivity$app_debug.AuthActivitySubcomponent]\n\nFAILURE: Build failed with an exception.\n</code></pre>\n\n<p>I am not sure what exactly is the issue here. Can someone help.</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1566301904, "post_id": 57556924, "comment_id": 101606300, "body": "regarding <code>isEmpty</code> Kiskae (or the documentation) already states it... regarding reuse of the channel... maybe you want to use a <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/reactive/coroutines-guide-reactive.md#rx-subject-vs-broadcastchannel\" rel=\"nofollow noreferrer\">broadcast channel</a> instead? Or are <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/\" rel=\"nofollow noreferrer\">flows</a> what you are after?"}], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1566223335, "creation_date": 1566223335, "answer_id": 57558346, "question_id": 57556924, "link": "https://stackoverflow.com/questions/57556924/is-there-any-way-to-reuse-a-coroutiness-channel-values/57558346#57558346", "title": "Is there any way to reuse a coroutines&#39;s channel values", "body": "<p>Your answer lies in the documentation of <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/-receive-channel/is-empty.html\" rel=\"nofollow noreferrer\"><code>ReceiveChannel#isEmpty</code></a>:</p>\n\n<blockquote>\n  <p>Returns true if the channel is empty (contains no elements) and the receive attempt will suspend. This function returns false for isClosedForReceive channel.</p>\n</blockquote>\n"}], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566223335, "creation_date": 1566218240, "question_id": 57556924, "link": "https://stackoverflow.com/questions/57556924/is-there-any-way-to-reuse-a-coroutiness-channel-values", "title": "Is there any way to reuse a coroutines&#39;s channel values", "body": "<p>I wonder if there is any solution to reuse a channel's elements after they've been consumed. for example, irritating through channel 2 times.</p>\n\n<p>I've tried this:</p>\n\n<pre><code>fun main() = runBlocking {\n    //sampleStart\n    val channel = Channel&lt;String&gt;(2)\n\n    println(channel.isEmpty)  // true\n\n    channel.send(\"foo\")\n    channel.send(\"bar\")\n\n    channel.close()\n\n    println(channel.isEmpty) // false\n\n    for (it in channel) println(it) // foo, bar\n\n    println(channel.isEmpty) // false!!!\n\n    for (it in channel) println(\"item: $it\")\n}\n</code></pre>\n\n<p>the strange thing here is <code>channel.isEmpty</code> returns <code>false</code> after all the values have been consumed.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-activity"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1566218288, "post_id": 57556915, "comment_id": 101575553, "body": "If you used the Android Studio auto converter. Then what didn&#39;t work?"}, {"owner": {"reputation": 3447, "user_id": 3422556, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/35e40ffc58d3616ddad24cdd8f80f493?s=128&d=identicon&r=PG", "display_name": "Ragu Swaminathan", "link": "https://stackoverflow.com/users/3422556/ragu-swaminathan"}, "edited": false, "score": 1, "creation_date": 1566218404, "post_id": 57556915, "comment_id": 101575631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45157567/how-to-pass-the-values-from-activity-to-another-activity-in-kotlin\">How to pass the values from activity to another activity in kotlin</a>"}, {"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 1, "creation_date": 1566218436, "post_id": 57556915, "comment_id": 101575654, "body": "Please post your code"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1566218476, "post_id": 57556915, "comment_id": 101575683, "body": "there are basically 2 different tasks: 1) run code after some delay; 2) redirect to another activity. So which one is a problem?"}, {"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1566219410, "post_id": 57556915, "comment_id": 101576246, "body": "@EpicPandaForce I don&#39;t know! maybe conversion is not fully correct bcz I get some erros."}, {"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "reply_to_user": {"reputation": 3447, "user_id": 3422556, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/35e40ffc58d3616ddad24cdd8f80f493?s=128&d=identicon&r=PG", "display_name": "Ragu Swaminathan", "link": "https://stackoverflow.com/users/3422556/ragu-swaminathan"}, "edited": false, "score": 0, "creation_date": 1566219484, "post_id": 57556915, "comment_id": 101576288, "body": "@RaguSwaminathan no it&#39;s not. there is no answer there for my &quot;delay&quot; question."}, {"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1566219517, "post_id": 57556915, "comment_id": 101576306, "body": "@VladyslavMatviienko the second I guess."}], "answers": [{"tags": [], "owner": {"reputation": 479, "user_id": 5424626, "user_type": "registered", "profile_image": "https://graph.facebook.com/476290759207767/picture?type=large", "display_name": "Furqan Khan", "link": "https://stackoverflow.com/users/5424626/furqan-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1566218443, "creation_date": 1566218443, "answer_id": 57556977, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57556977#57556977", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>Try this.</p>\n\n<pre><code>   val r = Runnable {\n         //start your activity here\n    }\n    Handler().postDelayed(r, 3000)\n</code></pre>\n\n<p>3000 is delay time , you can change it to any value that you want. </p>\n"}, {"tags": [], "owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "is_accepted": false, "score": 1, "last_activity_date": 1566218465, "creation_date": 1566218465, "answer_id": 57556985, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57556985#57556985", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>There are so many ways one of them is </p>\n\n<pre><code> private lateinit var handler: Handler\n</code></pre>\n\n<p>Here is the function</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        handler = Handler()\n\n        handler.postDelayed(object : Runnable {\n            override fun run() {\n\n\n                startActivity(\n                    Intent(\n                        this@SplashActivity,\n                          LoginActivity::class.java\n                    )\n                )\n\n                finish()\n\n\n            }\n        }, timeDelay)\n\n\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        handler.removeCallbacksAndMessages(null)\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 0, "creation_date": 1566220990, "post_id": 57556988, "comment_id": 101577141, "body": "MainActivity is the second page?"}, {"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "reply_to_user": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 1, "creation_date": 1566221287, "post_id": 57556988, "comment_id": 101577340, "body": "Yes, it is the second activity."}, {"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 0, "creation_date": 1566221952, "post_id": 57556988, "comment_id": 101577732, "body": "sorry, where should I use the function?"}, {"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "reply_to_user": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 1, "creation_date": 1566227961, "post_id": 57556988, "comment_id": 101581014, "body": "You should write this function in the activity."}], "tags": [], "owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "is_accepted": true, "score": 3, "last_activity_date": 1566218484, "creation_date": 1566218484, "answer_id": 57556988, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57556988#57556988", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>This how you can do it in android using Kotlin</p>\n\n<pre><code>private lateinit var mHandler: Handler\nprivate lateinit var mRunnable: Runnable\n</code></pre>\n\n<p>Function :</p>\n\n<pre><code>private fun startMainActivity() {\n\n\n    mRunnable = Runnable {\n        startActivity(Intent(this, MainActivity::class.java))\n        finish()\n    }\n\n    mHandler = Handler()\n\n    mHandler.postDelayed(mRunnable, 4000)\n}\n</code></pre>\n\n<p>Remove Callbacks:</p>\n\n<pre><code>override fun onStop() {\n    super.onStop()\n    mHandler.removeCallbacks(mRunnable)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 9444808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/101018510f7941eeaafe96fcaa32633e?s=128&d=identicon&r=PG&f=1", "display_name": "Kanwarpreet Singh", "link": "https://stackoverflow.com/users/9444808/kanwarpreet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1566218520, "creation_date": 1566218520, "answer_id": 57556997, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57556997#57556997", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/java.util.-timer/schedule.html\" rel=\"nofollow noreferrer\">Schedule</a></p>\n\n<pre><code>inline fun Timer.schedule(\n    delay: Long, \n    crossinline action: TimerTask.() -&gt; Unit\n): TimerTask (source)\n</code></pre>\n\n<p>found it here: <a href=\"http://jamie.mccrindle.org/2013/02/exploring-kotlin-standard-library-part-3.html\" rel=\"nofollow noreferrer\">http://jamie.mccrindle.org/2013/02/exploring-kotlin-standard-library-part-3.html</a>)\n    import java.util.Timer\n    import kotlin.concurrent.schedule</p>\n\n<pre><code>Timer(\"SettingUp\", false).schedule(500) { \n   doSomething()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 7331042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e00db96e0c89df5a5c55729dce57ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Pavlukhin", "link": "https://stackoverflow.com/users/7331042/dmitriy-pavlukhin"}, "is_accepted": false, "score": 1, "last_activity_date": 1566218545, "creation_date": 1566218545, "answer_id": 57557003, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57557003#57557003", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>shortest sample:</p>\n\n<pre><code>        Handler().postDelayed({ startActivity(yourIntent()) }, 4000L)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 0, "creation_date": 1566221321, "post_id": 57557007, "comment_id": 101577360, "body": "I get this error: function declaration must have a name"}], "tags": [], "owner": {"reputation": 1557, "user_id": 6819340, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/aytfN.jpg?s=128&g=1", "display_name": "DarShan", "link": "https://stackoverflow.com/users/6819340/darshan"}, "is_accepted": false, "score": 2, "last_activity_date": 1566218552, "creation_date": 1566218552, "answer_id": 57557007, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57557007#57557007", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>Use a <code>Handler().postDelayed()</code>.\n<br/>For example: </p>\n\n<pre><code>Handler().postDelayed({\n      startActivity(Intent(this, SecondActivity::class.java))\n    }, 4000); //4 Seconds\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "edited": false, "score": 0, "creation_date": 1568032443, "post_id": 57557147, "comment_id": 102134459, "body": "I get the error &quot;Expecting member declaration&quot;. Then what should I do?"}], "tags": [], "owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "is_accepted": false, "score": 1, "last_activity_date": 1566219071, "creation_date": 1566219071, "answer_id": 57557147, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/57557147#57557147", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>Redirect to another activity(FirstActivity) from MainActivity after 4 second:</p>\n\n<pre><code>val handler = Handler()\n        val runnable = Runnable {\n            val i = Intent(this@MainActivity, FirstActivity::class.java)\n            startActivity(i)\n        }\n        handler.postDelayed(runnable, 4000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12833303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD_6yrgil8CMsVia8M-IHg70NOPe9p65HpNqFZt=k-s128", "display_name": "Alireza Ghiasabadi", "link": "https://stackoverflow.com/users/12833303/alireza-ghiasabadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1582399633, "last_edit_date": 1582399633, "creation_date": 1582398216, "answer_id": 60355725, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays/60355725#60355725", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>First we put this code on our class , example we have class <code>LoaderActivity</code>!</p>\n\n<pre><code>private lateinit var mHandler: Handler\nprivate lateinit var mRunnable: Runnable\n</code></pre>\n\n<p>after it we put this code on <code>onCreate</code> of our file. <code>MainActivity</code> is our example target activity. 4000 milliseconds ia our delay time!</p>\n\n<pre><code>fun startMainActivity() {\n    mRunnable = Runnable {\n        startActivity(Intent(this, MainActivity::class.java))\n        finish()\n    }\n\n    mHandler = Handler()\n\n    mHandler.postDelayed(mRunnable, 4000)\n}\nstartMainActivity()\n</code></pre>\n\n<p>After that, we should remove callbacks with this code (put it out of <code>onCreate</code>!!!)</p>\n\n<pre><code>override fun onStop() {\n    super.onStop()\n    mHandler.removeCallbacks(mRunnable)\n}\n</code></pre>\n\n<p>good luck :) !</p>\n"}], "owner": {"reputation": 79, "user_id": 8478742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Iyh9s.jpg?s=128&g=1", "display_name": "shirazy", "link": "https://stackoverflow.com/users/8478742/shirazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2502, "favorite_count": 0, "accepted_answer_id": 57556988, "answer_count": 8, "score": -2, "last_activity_date": 1582399633, "creation_date": 1566218207, "last_edit_date": 1568390317, "question_id": 57556915, "link": "https://stackoverflow.com/questions/57556915/how-can-i-redirect-from-an-activity-to-another-activity-after-some-delays", "title": "How can I redirect from an activity to another activity after some delays?", "body": "<p>I'm a beginner to Kotlin language. I have trouble redirection to another activity after for example 4 seconds. I know how to do it in Java but I have no idea about Kotlin. I use android studio version 2019.</p>\n\n<p>I tried android studio's converter (Java to Kotlin)\nI couldn't find an answer which lead me to an answer that could redirect me from an activity to another by DELAY. I'm not asking about other ways of redirecting I'm asking exactly about delay. I mean how to go to another page in an android program not clicking any button or something.</p>\n\n<p>edit (Sep 13):\nunfortunately I'm still struggling with the problem. I tried to use this code but It doesn't work. Can you please tell me what is the problem:\nMainActivity.kt:</p>\n\n<pre><code>package com.rearaa.weading\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.Handler\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\nval handler = Handler()\nval runnable = Runnable {\n    val i = Intent(this@MainActivity, MenuPage::class.java)\n    startActivity(i)\n}\nhandler.postDelayed(runnable, 4000)\n\n}\n</code></pre>\n\n<p>In above code I want to redirect from MainActivity to MenuPage.</p>\n"}, {"tags": ["android", "kotlin", "pagination", "android-recyclerview"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1566217687, "post_id": 57556648, "comment_id": 101575162, "body": "The question is not clear. You are asking about a gradle sync error and the code is about the RecyclerView, not the build.gradle."}, {"owner": {"reputation": 364, "user_id": 9595956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVX0C.png?s=128&g=1", "display_name": "Sekhon123", "link": "https://stackoverflow.com/users/9595956/sekhon123"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1566218129, "post_id": 57556648, "comment_id": 101575456, "body": "all is what i m trying to say is that... my koltin version is not getting update, which is causing problems with my recyclerview."}], "owner": {"reputation": 364, "user_id": 9595956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVX0C.png?s=128&g=1", "display_name": "Sekhon123", "link": "https://stackoverflow.com/users/9595956/sekhon123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566975239, "creation_date": 1566217293, "last_edit_date": 1566975239, "question_id": 57556648, "link": "https://stackoverflow.com/questions/57556648/new-gradle-sync-is-not-supported-due-to-containing-kotlin-modules-using-an-unsup", "title": "New Gradle Sync is not supported due to containing Kotlin modules using an unsupported plugin version (changes )", "body": "<p>i am trying to add pagination with recyclerview android. In one project with the same code project is working very nice and  i am getting the position very well but in another project it just keeps on printing all the positions at one time. i don't know why. I thought it was error of old kotlin version so i updated my Kotlin version but then this error(New Gradle Sync is not supported due to containing Kotlin modules using an unsupported plugin version) is appearing when i importing the project.\nhere are some images\ni have tried to update the kotlin version , but i thing this is not working. and showing error New Gradle Sync is not supported due to containing Kotlin modules using an unsupported plugin version even after updating the version to latest one.</p>\n\n<pre><code>              class Allplayer_adm_adp(\n      val mylist: ArrayList&lt;Model_class_one&gt;,\n                val fragmentActivity: FragmentActivity,\n                val pages: Int,\n                val api: String\n    ) :\n                RecyclerView.Adapter&lt;Allplayer_adm_adp.Viewholder&gt;() {\n                var currentpage = 2\n                var loading = \"no\"\n                inner class Viewholder(itemView: View) : RecyclerView.ViewHolder(itemView) {  \n\n                 lateinit var player_name: TextView\n\n            fun mydata(list: Model_class_one?, position: Int) {                   \n            player_name = itemView.findViewById(R.id.player_name)\n                        player_name.text = list.PlayerName\n                        if (position == mylist.size - 1) {\n                            if (pages &gt;= currentpage) {\n\n                if (loading == \"no\") {\n                    loadmore.visibility = View.VISIBLE\n                    fragmentActivity.runOnUiThread {\n                        Handler().postDelayed({\n                            callnextapi()\n                        }, 4000)\n                    }\n                }\n            } else {\n                loadmore.visibility = View.GONE\n            }\n        } else {\n            loadmore.visibility = View.GONE\n        }\n\n\n        edit_menu.setOnClickListener {\n\n    }\n}\n                private fun callnextapi() {\n            //my api called and notifying changes\n                    currentpage+=1\n                }\n\n                override fun onCreateViewHolder(parent: ViewGroup, p1:                                 Int): Viewholder {\n                    val layout =\n        LayoutInflater.from(fragmentActivity as                 Context?).inflate(R.layout.allplayer_adp_admin, parent, false)\n    return Viewholder(layout)\n}\n\n                override fun getItemCount(): Int {\n    return mylist.size\n}\n\noverride fun onBindViewHolder(holder: Viewholder, position: Int) {\n    val Values = mylist[position]\n    holder.mydata(Values, position)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>thanks for your kind help. any type of help will be appreciated</p>\n"}, {"tags": ["javascript", "intellij-idea", "kotlin", "jvm"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1566244573, "creation_date": 1566244573, "answer_id": 57563170, "question_id": 57556627, "link": "https://stackoverflow.com/questions/57556627/uunresolved-dependencies-with-2-projects-with-multiple-sourcesets-in-intellij-wi/57563170#57563170", "title": "Uunresolved dependencies with 2 projects with multiple sourcesets in IntelliJ with Gradle", "body": "<p>IntelliJ IDEA relies to a great extent on a fact that a single source file can only be analyzed once, as a part of a single module and in a single context (platform, dependencies, language settings etc.). If that assumption does not hold, it will still analyze the source file once, and won't do it for the other modules that include the file. This leads to the behavior that you are getting. Including a single source file in more than one IDE module is not supported.</p>\n\n<p>Kotlin multiplatform projects solve this by actually analyzing the sources once but with proper context that tells the IDE about platforms and expect-actual matching. This is the recommended way to share code between platforms.</p>\n"}], "owner": {"reputation": 2230, "user_id": 646996, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc4704cd8c3001f4b10fadeac8182c47?s=128&d=identicon&r=PG", "display_name": "avanwieringen", "link": "https://stackoverflow.com/users/646996/avanwieringen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 57563170, "answer_count": 1, "score": 1, "last_activity_date": 1566244573, "creation_date": 1566217227, "question_id": 57556627, "link": "https://stackoverflow.com/questions/57556627/uunresolved-dependencies-with-2-projects-with-multiple-sourcesets-in-intellij-wi", "title": "Uunresolved dependencies with 2 projects with multiple sourcesets in IntelliJ with Gradle", "body": "<p>I am experimenting with using a common Kotlin source-set and 2 specific source-sets for JS and JVM in Gradle. I know there is a <code>kotlin-multiplatform</code> plugin, but I wanted to try if I can make a setup like this. It works by running <code>gradle</code> from the command-line, but IntelliJ complains that either in the JS or in the JVM project (never both the same time) it can nog find the common classes.</p>\n\n<p>My directory structure is as follows:</p>\n\n<pre><code>- common\n    - src/main/kotlin/MyLibrary.kt\n- js\n    - build.gradle.kts\n    - src/main/kotlin/JsDemo.kt\n- jvm\n    - build.gradle.kts\n    - src/main/kotlin/JvmDemo.kt\n</code></pre>\n\n<p>Here, the Jsdemo and JvmDemo are nothing more than:</p>\n\n<pre><code>fun main() {\n    MyLibrary().sayHello()\n}\n</code></pre>\n\n<p>The build-scripts are like this</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>plugins {\n    id(\"kotlin2js\") version \"1.3.41\"\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n   implementation(kotlin(\"stdlib-js\"))\n}\n\nsourceSets[\"main\"].withConvention(KotlinSourceSet::class) {\n    kotlin.srcDir(\"../common/src/main/kotlin\")\n}\n</code></pre>\n\n<p><strong>JVM</strong></p>\n\n<pre><code>plugins {\n    kotlin(\"jvm\") version \"1.3.41\"\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n}\n\nsourceSets {\n    main {\n        withConvention(KotlinSourceSet::class) {\n            kotlin.srcDir(\"../common/src/main/kotlin\")\n        }\n    }\n}\n</code></pre>\n\n<p>When running the tasks from command-line, everything works. However, in IntelliJ, the MyLibrary() can not be resolved for 1 of the projects. Which projects it is depends on which one I open first. If I open JsDemo first it has issues with JvmDemo and vice-versa.</p>\n\n<p>Any idea what causes this issue?</p>\n"}]