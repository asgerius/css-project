[{"tags": ["android", "performance", "dictionary", "collections", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": true, "score": 2, "last_activity_date": 1528924613, "creation_date": 1528924613, "answer_id": 50846406, "question_id": 50846273, "link": "https://stackoverflow.com/questions/50846273/convert-listobject-to-mapstring-listobject-in-kotlin/50846406#50846406", "title": "Convert List&lt;Object&gt; to Map&lt;String, List&lt;Object&gt;&gt; in kotlin", "body": "<p>I believe <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\"><code>groupBy</code></a> does just the sort of thing you're looking for.</p>\n\n<pre><code>collection.groupBy { x -&gt; x.getKey() }\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 2716198, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c97ba21f98d90ba0137c28b72dbaa9f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jpfcan", "link": "https://stackoverflow.com/users/2716198/jpfcan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 50846406, "answer_count": 1, "score": 0, "last_activity_date": 1528924613, "creation_date": 1528923976, "question_id": 50846273, "link": "https://stackoverflow.com/questions/50846273/convert-listobject-to-mapstring-listobject-in-kotlin", "title": "Convert List&lt;Object&gt; to Map&lt;String, List&lt;Object&gt;&gt; in kotlin", "body": "<p>I have a Collection of certain Object in Kotlin, and I'd like to map objects that have a common value in one of their attributes, I've tried using the Collenction utilities from Kotlin, but can't find a way to get a List as the  value for a certain key, is this possible without too much code?</p>\n\n<p>Basically, what I need is to get this: List --> Map>\nWhere the String key is a value from a certain property of the Object.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["spring-boot", "jpa", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 485, "user_id": 5323285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElUj6.jpg?s=128&g=1", "display_name": "Fabri Pautasso", "link": "https://stackoverflow.com/users/5323285/fabri-pautasso"}, "edited": false, "score": 1, "creation_date": 1528930517, "post_id": 50845050, "comment_id": 88698230, "body": "This seems to be related to this question, <a href=\"https://stackoverflow.com/questions/23122846/query-returning-object-instead-of-entity\" title=\"query returning object instead of entity\">stackoverflow.com/questions/23122846/&hellip;</a>"}, {"owner": {"reputation": 984, "user_id": 3923525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d90a45bd3413a35bcc6286225d97c8b5?s=128&d=identicon&r=PG&f=1", "display_name": "jmm", "link": "https://stackoverflow.com/users/3923525/jmm"}, "reply_to_user": {"reputation": 485, "user_id": 5323285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElUj6.jpg?s=128&g=1", "display_name": "Fabri Pautasso", "link": "https://stackoverflow.com/users/5323285/fabri-pautasso"}, "edited": false, "score": 0, "creation_date": 1528932338, "post_id": 50845050, "comment_id": 88698642, "body": "Thanks a lot @FabriPautasso! Changing the query to <code>SELECT b FROM Bet b where b.match = :match and b.played = false</code> was the solution"}], "owner": {"reputation": 984, "user_id": 3923525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d90a45bd3413a35bcc6286225d97c8b5?s=128&d=identicon&r=PG&f=1", "display_name": "jmm", "link": "https://stackoverflow.com/users/3923525/jmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528918952, "creation_date": 1528918952, "question_id": 50845050, "link": "https://stackoverflow.com/questions/50845050/classcastexception-on-jparepository-using-kotlin", "title": "ClassCastException on JpaRepository using Kotlin", "body": "<p>I'm trying to create a service to process all unfulfilled bets in a betting game, once a Match result is known. I'm getting a <code>ClassCastException</code> when I'm trying to use the results of a query in a <code>JpaRepository</code>.</p>\n\n<p>Here are my service's interface and implementation</p>\n\n<pre><code>package com.github.juanmougan.prode.services\n\nimport com.github.juanmougan.prode.models.Match\n\ninterface MatchesService {\n    fun processBetsForMatch(match: Match)\n}\n\n\npackage com.github.juanmougan.prode.services\n\nimport com.github.juanmougan.prode.models.Bet\nimport com.github.juanmougan.prode.models.Match\nimport com.github.juanmougan.prode.repositories.BetsRepository\nimport org.springframework.stereotype.Service\n\n@Service(\"messageService\")\nclass MatchesServiceImpl(\n                        val betsRepository: BetsRepository\n                        ) : MatchesService {\n    override fun processBetsForMatch(match: Match) {\n        val unfulfilledBets: List&lt;Bet&gt; = betsRepository.findAllByMatchWhereBetHasNotBeenPlayed(match)\n        unfulfilledBets.forEach { b -&gt;\n            b.played = true\n            b.counted = true\n            if (match.result?.equals(b.result)!!) {\n                b.pointsWon = 1\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Also, the repository</p>\n\n<pre><code>package com.github.juanmougan.prode.repositories\n\nimport com.github.juanmougan.prode.models.Bet\nimport com.github.juanmougan.prode.models.Match\nimport org.springframework.data.jpa.repository.JpaRepository\nimport org.springframework.data.jpa.repository.Query\nimport org.springframework.data.repository.query.Param\n\ninterface BetsRepository : JpaRepository&lt;Bet, Long&gt; {\n    @Query(\"SELECT b.id, b.match, b.result, b.player, b.played, b.counted, b.pointsWon \" +\n            \"FROM Bet b where b.match = :match and b.played = false\")\n    fun findAllByMatchWhereBetHasNotBeenPlayed(@Param(\"match\") match: Match): List&lt;Bet&gt;\n}\n</code></pre>\n\n<p>I tried also with a Java version, with no luck</p>\n\n<pre><code>package com.github.juanmougan.prode.repositories;\n\nimport com.github.juanmougan.prode.models.Bet;\nimport com.github.juanmougan.prode.models.Match;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport java.util.List;\n\npublic interface BetsRepository extends JpaRepository&lt;Bet, Long&gt; {\n    @Query(\"SELECT b.id, b.match, b.result, b.player, b.played, b.counted, b.pointsWon \" +\n            \"FROM Bet b where b.match = :match and b.played = false\")\n    List&lt;Bet&gt; findAllByMatchWhereBetHasNotBeenPlayed(@Param(\"match\")Match match);\n}\n</code></pre>\n\n<p>And finally, the Bet entity, which is a Java POJO</p>\n\n<pre><code>package com.github.juanmougan.prode.models;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Bet {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @ManyToOne\n    private Match match;\n    private Result result;\n    @ManyToOne\n    private Person player;\n    private Boolean played;\n    private Boolean counted;\n    private Integer pointsWon;\n\n    public Bet() {\n    }\n\n    public Bet(Match match, Result result, Person player, Boolean played, Boolean counted, Integer     pointsWon) {\n        this.match = match;\n        this.result = result;\n        this.player = player;\n        this.played = played;\n        this.counted = counted;\n        this.pointsWon = pointsWon;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Bet bet = (Bet) o;\n\n        if (id != null ? !id.equals(bet.id) : bet.id != null) return false;\n        if (match != null ? !match.equals(bet.match) : bet.match != null) return false;\n        if (result != bet.result) return false;\n        if (player != null ? !player.equals(bet.player) : bet.player != null) return false;\n        if (played != null ? !played.equals(bet.played) : bet.played != null) return false;\n        if (counted != null ? !counted.equals(bet.counted) : bet.counted != null) return false;\n        return pointsWon != null ? pointsWon.equals(bet.pointsWon) : bet.pointsWon == null;\n    }\n\n    @Override\n    public int hashCode() {\n        int result1 = id != null ? id.hashCode() : 0;\n        result1 = 31 * result1 + (match != null ? match.hashCode() : 0);\n        result1 = 31 * result1 + (result != null ? result.hashCode() : 0);\n        result1 = 31 * result1 + (player != null ? player.hashCode() : 0);\n        result1 = 31 * result1 + (played != null ? played.hashCode() : 0);\n        result1 = 31 * result1 + (counted != null ? counted.hashCode() : 0);\n        result1 = 31 * result1 + (pointsWon != null ? pointsWon.hashCode() : 0);\n        return result1;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Match getMatch() {\n        return match;\n    }\n\n    public void setMatch(Match match) {\n        this.match = match;\n    }\n\n    public Result getResult() {\n        return result;\n    }\n\n    public void setResult(Result result) {\n        this.result = result;\n    }\n\n    public Person getPlayer() {\n        return player;\n    }\n\n    public void setPlayer(Person player) {\n        this.player = player;\n    }\n\n    public Boolean getPlayed() {\n        return played;\n    }\n\n    public void setPlayed(Boolean played) {\n        this.played = played;\n    }\n\n    public Boolean getCounted() {\n        return counted;\n    }\n\n    public void setCounted(Boolean counted) {\n        this.counted = counted;\n    }\n\n    public Integer getPointsWon() {\n        return pointsWon;\n    }\n\n    public void setPointsWon(Integer pointsWon) {\n        this.pointsWon = pointsWon;\n    }\n}\n</code></pre>\n\n<p>The exception I'm getting is:</p>\n\n<pre><code>java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.github.juanmougan.prode.models.Bet\nat com.github.juanmougan.prode.services.MatchesServiceImpl.processBetsForMatch(MatchesServiceImpl.kt:31) ~[classes/:na]\nat com.github.juanmougan.prode.controllers.MatchesController$updateById$1.apply(MatchesController.kt:34) ~[classes/:na]\nat com.github.juanmougan.prode.controllers.MatchesController$updateById$1.apply(MatchesController.kt:12) ~[classes/:na]\nat java.util.Optional.map(Optional.java:215) ~[na:1.8.0_66]\nat com.github.juanmougan.prode.controllers.MatchesController.updateById(MatchesController.kt:31) ~[classes/:na]\n</code></pre>\n\n<p>The list that is being returned by the repository contains Objects, despite being typed with Bet.<br>\nAny ideas?</p>\n"}, {"tags": ["java", "android", "opengl-es", "kotlin", "glsurfaceview"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1528966555, "post_id": 50844753, "comment_id": 88709620, "body": "One could argue: Why would you need to switch to a different activity if the state is the same?"}, {"owner": {"reputation": 179, "user_id": 4476202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7ae7b8ae01ad5052cbdfaf16c895f88?s=128&d=identicon&r=PG&f=1", "display_name": "adowdy", "link": "https://stackoverflow.com/users/4476202/adowdy"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1529025204, "post_id": 50844753, "comment_id": 88737923, "body": "I have a GL view that i need to integrate into existing code which has a lot of work done separated into multiple activities. I&#39;m not at liberty to rewrite the whole app to use a single activity, unfortunately..."}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 4476202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7ae7b8ae01ad5052cbdfaf16c895f88?s=128&d=identicon&r=PG&f=1", "display_name": "adowdy", "link": "https://stackoverflow.com/users/4476202/adowdy"}, "is_accepted": true, "score": 0, "last_activity_date": 1541027326, "creation_date": 1541027326, "answer_id": 53093143, "question_id": 50844753, "link": "https://stackoverflow.com/questions/50844753/reuse-a-single-glsurfaceview-nested-inside-multiple-activities/53093143#53093143", "title": "Reuse a single GLSurfaceView nested inside multiple activities", "body": "<p>Update -- As near as I can tell this is intentionally walled off by Android API. Their intention with GLSurfaceView appears to be that it is tied to one activity only, EVER. When that Activity is gone, your GL context is 100 percent always gone.</p>\n\n<p>This is why most applications with GL needs do not ever move between activities, and resort to operating within a single Activity</p>\n"}], "owner": {"reputation": 179, "user_id": 4476202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e7ae7b8ae01ad5052cbdfaf16c895f88?s=128&d=identicon&r=PG&f=1", "display_name": "adowdy", "link": "https://stackoverflow.com/users/4476202/adowdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 53093143, "answer_count": 1, "score": 0, "last_activity_date": 1541027326, "creation_date": 1528917666, "last_edit_date": 1528918245, "question_id": 50844753, "link": "https://stackoverflow.com/questions/50844753/reuse-a-single-glsurfaceview-nested-inside-multiple-activities", "title": "Reuse a single GLSurfaceView nested inside multiple activities", "body": "<p>I have a usecase to make a single GLSurfaceView context, then reuse it on different Activity pages in an Android application as of API 26. In other words, I have a single OpenGL scene with GL state saved inside the context, that must be useable from different 'pages' in the Android app. Creating new GLSurfaceViews is out of the question, because we cannot lose the state we've put into GL when we change pages.</p>\n\n<p>Surely I'm not the only person who has need of this... how is it done? All examples assume you don't need to show the same scene on multiple activities, or that it's perfectly acceptable to waste a bunch of time/memory recreating the same GL state over and over.</p>\n\n<p>I'm aware of the 'activity life cycle', which is why I've tried to entertain the notion of making a 'dedicated' GlSurfaceView activity, and then attempting to figure out how to 'nest' this dedicated activity in other activities, but I'm unsure if that method could achieve the correct end. Thoughts?</p>\n\n<p>EDIT - I forgot to mention -- is this possible with 'fragments'?\n<a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/fragments</a></p>\n"}, {"tags": ["multithreading", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528960884, "post_id": 50844594, "comment_id": 88706139, "body": "You&#39;ve got <code>MONITOREXIT</code> twice. Is that by accident?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528961258, "post_id": 50844594, "comment_id": 88706343, "body": "It was in the bytecode twice - I don&#39;t remember it exactly right now and don&#39;t have the project in front of me, but I believe it was for the two different return branches of the Elvis operator."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1528961558, "post_id": 50844594, "comment_id": 88706538, "body": "Ah, OK. So between them there must have been <code>ARETURN</code>, <code>GOTO</code> or something else."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528961697, "post_id": 50844594, "comment_id": 88706621, "body": "Yes, I&#39;m pretty sure that was the case, I just stripped out many many instructions to focus on these ones."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 16, "last_activity_date": 1528917000, "creation_date": 1528917000, "answer_id": 50844594, "question_id": 50844443, "link": "https://stackoverflow.com/questions/50844443/is-this-a-bug-in-kotlin-or-i-missing-something/50844594#50844594", "title": "Is this a bug in Kotlin or I missing something?", "body": "<p>If you look at the bytecode itself without decompiling it, you'll see that the synchronization happens as it should - this here is a version stripped of lots of load and store operations, line numbers, etc., but what matters is where the <code>MONITORENTER</code> and <code>MONITOREXIT</code> instructions are:</p>\n\n<pre><code>public final getInstance(Landroid/content/Context;)Lcom/example/SomeDatabase;\n    LDC \"context\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n    INVOKESTATIC com/example/Foo.access$getINSTANCE$cp ()Lcom/example/SomeDatabase;\n    MONITORENTER\n    INVOKESTATIC com/example/Foo.access$getINSTANCE$cp ()Lcom/example/SomeDatabase;\n    INVOKESTATIC com/example/FooKt.buildDatabase (Landroid/content/Context;)Lcom/example/SomeDatabase;\n    INVOKESTATIC com/example/Foo.access$setINSTANCE$cp (Lcom/example/SomeDatabase;)V\n    MONITOREXIT\n    MONITOREXIT\n    ARETURN\n</code></pre>\n\n<p>The issue you're seeing is not a bug in the compiler, but rather an issue with the decompiler, which isn't particularly rare. It's quite the challenge to decompile arbitrary generated bytecode back to Java.</p>\n"}], "owner": {"reputation": 919, "user_id": 7929578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mtlIQ.jpg?s=128&g=1", "display_name": "oreh", "link": "https://stackoverflow.com/users/7929578/oreh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 1, "accepted_answer_id": 50844594, "answer_count": 1, "score": 13, "last_activity_date": 1528917000, "creation_date": 1528916439, "question_id": 50844443, "link": "https://stackoverflow.com/questions/50844443/is-this-a-bug-in-kotlin-or-i-missing-something", "title": "Is this a bug in Kotlin or I missing something?", "body": "<p>I don't have to much experience in multi-threading. So not sure if I got right the following Java code decompiled from Kotlin.</p>\n\n<p>Here is the Kotlin code:</p>\n\n<pre><code>companion object {\n    @Volatile private var INSTANCE: SomeDatabase? = null\n\n    fun getInstance(context: Context): SomeDatabase =\n            INSTANCE ?: synchronized(this) {\n                INSTANCE ?: buildDatabase(context).also { INSTANCE = it }\n            }\n}\n</code></pre>\n\n<p>Here is the decompiled code in Java:</p>\n\n<pre><code>     SomeDatabase var10000 = ((SomeDatabase.Companion)this).getINSTANCE();\n     if (var10000 == null) {\n        synchronized(this){}\n\n        SomeDatabase var4;\n        try {\n           var10000 = SomeDatabase.Companion.getINSTANCE();\n           if (var10000 == null) {\n\n               ...\n\n        var10000 = var4;\n     }\n\n     return var10000;\n</code></pre>\n\n<p>Doesn't this mean that code is actually not synchronized because of empty block in <code>synchronized(this){}</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1528916844, "post_id": 50844287, "comment_id": 88692486, "body": "if you use it in java copy and paste Android studio will convert to kotlin"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1528917248, "post_id": 50844287, "comment_id": 88692685, "body": "This sample project showcases a lot of jetpack stuff in kotlin: <a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-sunflower</a>"}, {"owner": {"reputation": 91, "user_id": 7729724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb6ef1c52389d3d9d7155bc606940e?s=128&d=identicon&r=PG", "display_name": "harisont", "link": "https://stackoverflow.com/users/7729724/harisont"}, "reply_to_user": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1528917402, "post_id": 50844287, "comment_id": 88692773, "body": "I dunno how to do it in java @ALTegani"}, {"owner": {"reputation": 91, "user_id": 7729724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb6ef1c52389d3d9d7155bc606940e?s=128&d=identicon&r=PG", "display_name": "harisont", "link": "https://stackoverflow.com/users/7729724/harisont"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1528918006, "post_id": 50844287, "comment_id": 88693086, "body": "@rafid059 I&#39;ll check that out."}, {"owner": {"reputation": 2027, "user_id": 1582588, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3J7yh.png?s=128&g=1", "display_name": "Shrout1", "link": "https://stackoverflow.com/users/1582588/shrout1"}, "edited": false, "score": 0, "creation_date": 1528919409, "post_id": 50844287, "comment_id": 88693834, "body": "@harisont Don&#39;t knock yourself in your own question! You&#39;re asking for a bruising that way. Just keep to the specifics and see what answer comes back. I&#39;m going to tweak your post just a little bit to help. Good luck!"}, {"owner": {"reputation": 2027, "user_id": 1582588, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3J7yh.png?s=128&g=1", "display_name": "Shrout1", "link": "https://stackoverflow.com/users/1582588/shrout1"}, "edited": false, "score": 0, "creation_date": 1528919692, "post_id": 50844287, "comment_id": 88693982, "body": "@harisont let me also direct you to <a href=\"https://android.stackexchange.com/\">https://android.stackexchange.com/</a>. Try to pick the most related stackexchange site and your questions will likely be better received."}], "answers": [{"tags": [], "owner": {"reputation": 1722, "user_id": 5294761, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/GFxzd.jpg?s=128&g=1", "display_name": "Eury P&#233;rez Beltr&#233;", "link": "https://stackoverflow.com/users/5294761/eury-p%c3%a9rez-beltr%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1528945471, "last_edit_date": 1528945471, "creation_date": 1528917546, "answer_id": 50844729, "question_id": 50844287, "link": "https://stackoverflow.com/questions/50844287/correct-way-to-instantiate-a-room-database-in-kotlin/50844729#50844729", "title": "Correct way to instantiate a Room database in Kotlin", "body": "<p>Check the documentation in <a href=\"https://developer.android.com/training/data-storage/room/\" rel=\"nofollow noreferrer\">this link</a>, here you will find detailed step by step tutorial about setting up Room.</p>\n\n<p>The correct way to have an instance of the DB is:</p>\n\n<pre><code>AppDatabase db = Room.databaseBuilder(getApplicationContext(),\n        AppDatabase.class, \"database-name\").build();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1595518895, "post_id": 50924662, "comment_id": 111509673, "body": "Downvoted for using a Singleton pattern inside a companion object. That&#39;s bad practice"}], "tags": [], "owner": {"reputation": 6037, "user_id": 5629056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdOZG.jpg?s=128&g=1", "display_name": "Naveen T P", "link": "https://stackoverflow.com/users/5629056/naveen-t-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1529399690, "creation_date": 1529399690, "answer_id": 50924662, "question_id": 50844287, "link": "https://stackoverflow.com/questions/50844287/correct-way-to-instantiate-a-room-database-in-kotlin/50924662#50924662", "title": "Correct way to instantiate a Room database in Kotlin", "body": "<p>You can create instance using <code>companion object</code>like this,</p>\n\n<pre><code>@Database(entities = arrayOf(UserEntity::class), version = 1)\nabstract class UserDb : RoomDatabase() {\n\n    abstract fun userDao(): UserDao\n\n    companion object {\n        private var INSTANCE: UserDb? = null\n\n        fun getInstance(context: Context): UserDb? {\n            if (INSTANCE == null) {\n                synchronized(UserDb::class) {\n                    INSTANCE = Room.databaseBuilder(context.applicationContext, UserDb::class.java, \"user.db\").build()\n                }\n            }\n            return INSTANCE\n        }\n\n        fun destroyInstance() {\n            INSTANCE = null\n        }\n    }\n}\n</code></pre>\n\n<p>You can get instance of db in your activity like this,</p>\n\n<p><code>UserDb.getInstance(this)</code></p>\n\n<p>Alternatively, you can also use dependency injection libraries like <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger</a> </p>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 3, "last_activity_date": 1529400288, "creation_date": 1529400288, "answer_id": 50924875, "question_id": 50844287, "link": "https://stackoverflow.com/questions/50844287/correct-way-to-instantiate-a-room-database-in-kotlin/50924875#50924875", "title": "Correct way to instantiate a Room database in Kotlin", "body": "<p>Try this way..\nmake app level activity like below for database creation.</p>\n\n<pre><code>class AppActivity:Application() {\ncompanion object {\n    var db: AppDatabase? = null\n    fun getDatabase(): AppDatabase? {\n        return db\n    }\n\n}\noverride fun onCreate() {\n    super.onCreate()\n    db= Room.databaseBuilder(applicationContext, AppDatabase::class.java,\"DB\").allowMainThreadQueries().build()\n}\n\n}\n</code></pre>\n\n<p>after that this activity define in manifest in application tag..</p>\n\n<pre><code>        android:name=\".app.AppActivity\"\n</code></pre>\n\n<p>after that make dao class..</p>\n\n<pre><code>@Dao\ninterface TodoDao {\n@Query(\"SELECT * FROM Todo\")\nfun getTodoData()= mutableListOf&lt;Todo&gt;()\n\n@Insert\nfun insertTodo(todo: Todo)\n\n@Update\nfun updateTodo(todo: Todo)\n\n@Delete\nfun deleteTodo(todo: Todo)\n</code></pre>\n\n<p>}</p>\n\n<p>make database class for access all dao class..</p>\n\n<pre><code>@Database(entities = arrayOf(User::class,Assignment::class,Todo::class,   Student::class,Event::class,Comment::class,Feedback::class ,Achivement::class,Note::class, Syllabus::class, Education::class, Mark::class, UserWork::class, Exam::class), version = 1)\nabstract class AppDatabase : RoomDatabase() {\nabstract fun getUser(): UserDao\nabstract fun getStudent(): StudentDao\nabstract fun getEducationDao(): EducationDao\nabstract fun getWorkDetails(): UserWorkDao\nabstract fun getExamDao(): ExamDao\nabstract fun getMarkDao(): MarkDao\nabstract fun getSyllabusDao(): SyllabusDao\nabstract fun getNoteDao(): NoteDao\nabstract fun getAchivement():AchivementDao\nabstract fun getFeedbackDao():FeedbackDao\nabstract fun getCommentDao():CommentDao\nabstract fun getEventDao():EventDao\nabstract fun getAssignDao():AssignmentDao\nabstract fun getTodoDao():TodoDao\n }\n</code></pre>\n\n<p>make table for todo..</p>\n\n<pre><code>@Entity\nclass Todo {\n@PrimaryKey(autoGenerate = true)\nvar id:Int=0\nvar time:String=\"\"\nvar activityName:String=\"\"\nvar hours:String=\"\"\nvar types:String=\"\"\n\n}\n</code></pre>\n\n<p>after in activity or fragment insert data like below..</p>\n\n<pre><code>  var data=Todo().apply {\n                time=mSpTime?.selectedItem.toString()\n                types=mSpTypes?.selectedItem.toString()\n                activityName=mEtAname?.text.toString().trim()\n                hours=mEtHour?.text.toString().trim()\n          }\n   AppActivity.getDatabase()?.getTodoDao()?.insertTodo(data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1175, "user_id": 3665098, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/EtI5T.png?s=128&g=1", "display_name": "SIGSEGV", "link": "https://stackoverflow.com/users/3665098/sigsegv"}, "edited": false, "score": 0, "creation_date": 1589180601, "post_id": 55365898, "comment_id": 109179461, "body": "This has nothing to do with the question, or am I missing something?"}], "tags": [], "owner": {"reputation": 39, "user_id": 7794952, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YivBvqCdZ4I/AAAAAAAAAAI/AAAAAAAAABA/_eLuJoLxkvQ/photo.jpg?sz=128", "display_name": "Moises Orduno", "link": "https://stackoverflow.com/users/7794952/moises-orduno"}, "is_accepted": false, "score": 0, "last_activity_date": 1553633028, "creation_date": 1553633028, "answer_id": 55365898, "question_id": 50844287, "link": "https://stackoverflow.com/questions/50844287/correct-way-to-instantiate-a-room-database-in-kotlin/55365898#55365898", "title": "Correct way to instantiate a Room database in Kotlin", "body": "<p>Remember you have to use one more dependency for kotlin and room </p>\n\n<pre><code>// Room\nimplementation \"android.arch.persistence.room:runtime:1.1.1\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.1.1\"\nkapt \"android.arch.persistence.room:compiler:1.1.1\"\n\napply plugin: \"kotlin-android\"\n\napply plugin: \"kotlin-kapt\"\napply plugin: \"kotlin-android-extensions\"\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7729724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4feb6ef1c52389d3d9d7155bc606940e?s=128&d=identicon&r=PG", "display_name": "harisont", "link": "https://stackoverflow.com/users/7729724/harisont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4700, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1553633028, "creation_date": 1528915832, "question_id": 50844287, "link": "https://stackoverflow.com/questions/50844287/correct-way-to-instantiate-a-room-database-in-kotlin", "title": "Correct way to instantiate a Room database in Kotlin", "body": "<p>I am writing my first Android application in Kotlin.\nI was wondering how to instantiate a Room Persistence database so that I can access it from many different activities.\nSorry if my question is dumb and not too specific, but I'm not sure what details may be useful.</p>\n"}, {"tags": ["android", "listview", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1528966756, "post_id": 50843931, "comment_id": 88709762, "body": "What could be happening is that the first time, the items are not &quot;rendered&quot; yet, which means your animation is playing, but itemWidth = 0, hence you don&#39;t see it. Try hardcoding itemWidth and see if it plays. If so, you might want to wrap your animate() code inside a onGlobalLayout() or similar (ie, wait for the view to be rendered, then apply the animation)"}, {"owner": {"reputation": 17, "user_id": 9933892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kE4rX.jpg?s=128&g=1", "display_name": "MIkael", "link": "https://stackoverflow.com/users/9933892/mikael"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1528997650, "post_id": 50843931, "comment_id": 88728464, "body": "Thanks! <code>addOnGlobalLayoutListener</code> did the job! Would you write this as an answer for reference?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9933892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kE4rX.jpg?s=128&g=1", "display_name": "MIkael", "link": "https://stackoverflow.com/users/9933892/mikael"}, "edited": false, "score": 0, "creation_date": 1528923021, "post_id": 50845978, "comment_id": 88695655, "body": "Thank you, but the animation doesn&#39;t start until the view is refreshed. Do you know  how to start the animation when it initially appear?"}], "tags": [], "owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "is_accepted": false, "score": 0, "last_activity_date": 1528922612, "creation_date": 1528922612, "answer_id": 50845978, "question_id": 50843931, "link": "https://stackoverflow.com/questions/50843931/recyclerview-doesnt-animate-an-item-when-it-initially-appears-only-when-it-is/50845978#50845978", "title": "RecyclerView doesn&#39;t animate an item when it initially appears, only when it is recycled again", "body": "<p>You're correct. The <code>ViewHolder</code> is only recycled sometime after its initial use. Don't do the animation in <code>onViewRecycled</code>. You might try <code>onBindViewHolder</code> instead, although I'm not sure the exact timing you're looking for.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 9933892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kE4rX.jpg?s=128&g=1", "display_name": "MIkael", "link": "https://stackoverflow.com/users/9933892/mikael"}, "edited": false, "score": 0, "creation_date": 1529001239, "post_id": 50863604, "comment_id": 88730102, "body": "I noticed that and I added a class variable to the <code>ViewHolder</code> to know if it is still animating, not sure if I should also remove the listener"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "reply_to_user": {"reputation": 17, "user_id": 9933892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kE4rX.jpg?s=128&g=1", "display_name": "MIkael", "link": "https://stackoverflow.com/users/9933892/mikael"}, "edited": false, "score": 0, "creation_date": 1529009968, "post_id": 50863604, "comment_id": 88734105, "body": "Usually removing the listener after it&#39;s been fired once is the easiest/most reusable way to go. But hey, if your solution works too, fair enough :)"}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": true, "score": 1, "last_activity_date": 1529000175, "creation_date": 1529000175, "answer_id": 50863604, "question_id": 50843931, "link": "https://stackoverflow.com/questions/50843931/recyclerview-doesnt-animate-an-item-when-it-initially-appears-only-when-it-is/50863604#50863604", "title": "RecyclerView doesn&#39;t animate an item when it initially appears, only when it is recycled again", "body": "<p>As discussed in the comments, your first animation was actually playing properly.\nHowever, the first time it was invoked, the View had not been fully layered on screen. Therefore, <code>itemView.width.toFloat()</code> was returning 0, and you were animating from 0 to 0.</p>\n\n<p>The quick solution is to encapsulate the launch of the animation inside a GlobalLayoutListener (which is the system telling you that the view has been layered).</p>\n\n<p>Something like this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int, payloads: MutableList&lt;Any&gt;) {\n  holder.itemView.viewTreeObserver.addOnGlobalLayoutListener{\n    holder.animateItem()\n  }\n}\n</code></pre>\n\n<p>Bare in mind though, that you should remove the globalLayoutListener once you've started the animation (otherwise it stays there forever and will keep triggering if/when something happens to the view). So a better approach would be to create a helper function like this one:</p>\n\n<pre><code>inline fun &lt;T: View&gt; T.afterMeasured(crossinline f: T.() -&gt; Unit) {\n        viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {    \n        override fun onGlobalLayout() {    \n            if (measuredWidth &gt; 0 &amp;&amp; measuredHeight &gt; 0) {    \n                viewTreeObserver.removeOnGlobalLayoutListener(this)    \n                f()    \n            }    \n        }    \n    })   \n}\n</code></pre>\n\n<p>and call it inside onBindViewHolder like so:</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int, payloads: MutableList&lt;Any&gt;) {\n  holder.itemView.afterMeasured{\n    holder.animateItem()\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9933892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kE4rX.jpg?s=128&g=1", "display_name": "MIkael", "link": "https://stackoverflow.com/users/9933892/mikael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 50863604, "answer_count": 2, "score": 0, "last_activity_date": 1529000175, "creation_date": 1528914511, "last_edit_date": 1528997996, "question_id": 50843931, "link": "https://stackoverflow.com/questions/50843931/recyclerview-doesnt-animate-an-item-when-it-initially-appears-only-when-it-is", "title": "RecyclerView doesn&#39;t animate an item when it initially appears, only when it is recycled again", "body": "<p>I have a <code>TranslateAnimation</code> for a view inside an item of a <code>RecyclerView.Adapter</code>. The animation should be applied to a specific list item when it initially appears, but it only works when you scroll back and the item is recycled again.</p>\n\n<p>My guess is that it has something to do with the RecyclerView's lifecycle, but I couldn't figure out what's causing the animation to not start.</p>\n\n<pre><code>class mAdapter(items: List&lt;String&gt;): RecyclerView.Adapter&lt;mAdapter.ViewHolder&gt;(){\n\n  private var mPosition = 0\n\n  // The animation will be applied to the first item\n  override fun getItemViewType(position: Int): Int {\n    if (position == mPosition){\n      return 1\n    } else {\n      return 0\n    }\n  }\n\n  override fun onViewRecycled(holder: ViewHolder) {\n        super.onViewRecycled(holder)\n\n        // Animate the view inside the item\n        if (holder.itemViewType == 1){\n            holder.animateItem()\n        }\n    }\n\n  override fun onBindViewHolder(holder: ViewHolder, position: Int, payloads: MutableList&lt;Any&gt;) {\n        super.onBindViewHolder(holder, position, payloads)\n\n        // Animate the view inside the item\n        if (holder.itemViewType == 1){\n          holder.animateItem()\n        }\n    }\n\n  inner class ViewHolder(view: View): RecyclerView.ViewHolder(view){\n    val picture: ImageView? = view.findViewById(R.id.picture)       \n\n    fun animateItem(){\n      val itemWidth: Float = itemView.width.toFloat()\n      val animator = TranslateAnimation(-itemWidth, 0f, 0f, 0f)\n\n      animator.repeatCount = 0\n      animator.interpolator = AccelerateInterpolator(1.0f)\n      animator.duration = 700\n      animator.fillAfter = true\n\n      background?.animation = animator\n      background?.startAnimation(animator)\n    }  \n\n  }\n\n}\n</code></pre>\n\n<p>If I log a message inside <code>animateItem</code> it will appear when the RecycleView loads but it will not animate until I scroll down and up.</p>\n\n<h3>Answer</h3>\n\n<p>As <a href=\"https://stackoverflow.com/users/4232337/nsimon\">NSimon</a> pointed out, the solution is to write a <code>addOnGlobalLayoutListener</code></p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int, payloads: MutableList&lt;Any&gt;) {\n  holder.itemView.viewTreeObserver.addOnGlobalLayoutListener{\n    holder.animateItem()\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "edited": false, "score": 0, "creation_date": 1528918645, "post_id": 50844905, "comment_id": 88693426, "body": "Thanks! Actually, I had some little mistake such as didn&#39;t put properties as val, as you said, and I didn&#39;t update my yaml document, there was a &quot;text&quot; field."}], "tags": [], "owner": {"reputation": 301, "user_id": 5328408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Og2-SF6l_hg/AAAAAAAAAAI/AAAAAAAAFEE/tPZUckC3SdY/photo.jpg?sz=128", "display_name": "Udo Borkowski", "link": "https://stackoverflow.com/users/5328408/udo-borkowski"}, "is_accepted": true, "score": 1, "last_activity_date": 1528918241, "creation_date": 1528918241, "answer_id": 50844905, "question_id": 50843882, "link": "https://stackoverflow.com/questions/50843882/data-object-for-serialize-yml-file-with-jackson/50844905#50844905", "title": "Data object for serialize yml file with Jackson", "body": "<p>Make sure to use \"val\" for the properties:</p>\n\n<pre><code>class CheckList(\n    val index: Int,\n    @JsonProperty(\"list\") val content: MutableList&lt;Content&gt; = arrayListOf())\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 50844905, "answer_count": 1, "score": 1, "last_activity_date": 1528918241, "creation_date": 1528914355, "last_edit_date": 1528914847, "question_id": 50843882, "link": "https://stackoverflow.com/questions/50843882/data-object-for-serialize-yml-file-with-jackson", "title": "Data object for serialize yml file with Jackson", "body": "<p>I'm trying to serialize a .yml file but I got the message:</p>\n\n<p><code>Caused by: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"text\" (class com.core.storage.Content), not marked as ignorable (2 known properties: \"check\", \"label\"])</code></p>\n\n<p>As the message show, I don't want the properties \"check\" and \"label\" ignorable. Here are my data objects:</p>\n\n<pre><code>class CheckList(\n        index: Int, \n        @JsonProperty(\"list\") content: MutableList&lt;Content&gt; = arrayListOf())\n\n@JsonPropertyOrder(\"check\", \"label\")\nclass Content(@JsonProperty(\"check\") val check: String = \"\",\n              @JsonProperty(\"label\") val label: String = \"\")\n</code></pre>\n\n<p>The function that serializes:</p>\n\n<pre><code>fun &lt;T : Any&gt; parseYmlFile(file: File, c: KClass&lt;T&gt;): T {\n    val mapper = ObjectMapper(YAMLFactory())\n    mapper.registerModule(KotlinModule())\n    return file.bufferedReader().use { mapper.readValue(it.readText(), c.java) }\n}\n</code></pre>\n\n<p>and than <code>parseYmlFile(file, CheckList::class)</code></p>\n\n<p>What am I missing here? I've tried to remove <code>@JsonPropertyOrder</code> but  haven't worked</p>\n\n<p>YML:</p>\n\n<pre><code>index: 100\nlist:\n- check: Avoid regular phone calls for sensitive conversations\n- check: Use Signal for secure calls\n- check: Use JitsiMeet for video conferencing\n- label: If you must use less secure options\n- check: Download from official website\n- check: Change password regularly\n- check: Adjust settings so you don't keep chat history\n- check: Verify who you're speaking to\n- check: Consider using anonymous username\n- check: Use codes for sensitive topics\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 1872476, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc68c7db6d34031debde9bf2957b535b?s=128&d=identicon&r=PG", "display_name": "Thadeu Antonio Ferreira Melo", "link": "https://stackoverflow.com/users/1872476/thadeu-antonio-ferreira-melo"}, "edited": false, "score": 0, "creation_date": 1542110198, "post_id": 50842959, "comment_id": 93442708, "body": "I believe I have the same problem. How exactly did you changed the pakage name in the Kotlin file?"}], "tags": [], "owner": {"reputation": 237, "user_id": 467507, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6833b8893533fbb7ffa8de3a77fc51fc?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/467507/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1528910536, "creation_date": 1528910536, "answer_id": 50842959, "question_id": 50842729, "link": "https://stackoverflow.com/questions/50842729/spring-service-defined-in-kotlin-file-results-in-unsatisfieddependencyexceptio/50842959#50842959", "title": "Spring @Service defined in Kotlin file results in &#39;UnsatisfiedDependencyException: Error creating bean&#39; when referenced", "body": "<p>The problem was the package name I used for the Kotlin service.  Kotlin is nice in that I don't have put my files in the same package path like java.  But my Spring classpath scanning was relying on a package: A.B.C and below and my Kotlin path only had C.  I changed the package name in my Kotlin file to be A.B.C.TestService and all is fine.  Yay.</p>\n"}], "owner": {"reputation": 237, "user_id": 467507, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/6833b8893533fbb7ffa8de3a77fc51fc?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/467507/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528910536, "creation_date": 1528909653, "last_edit_date": 1528910047, "question_id": 50842729, "link": "https://stackoverflow.com/questions/50842729/spring-service-defined-in-kotlin-file-results-in-unsatisfieddependencyexceptio", "title": "Spring @Service defined in Kotlin file results in &#39;UnsatisfiedDependencyException: Error creating bean&#39; when referenced", "body": "<p>I have an existing Springboot/Java application and I wanted to start migrating the application to Kotlin.  I create a @Service in Kotlin, and my unit test fails at runtime because Spring can't find my service.</p>\n\n<p>My unit test:</p>\n\n<pre><code>@ExtendWith(SpringExtension::class)\n@SpringBootTest(classes = arrayOf(Application::class))\nclass Junit5SpringKotlinTests {\n    @Autowired // Springboot ConfigurationProperties (application.yaml) mapped to Java bean.  This works.\n    lateinit var applicationConfigurationJavaBean: EnvironmentProperties\n\n    fun appProperties(): EnvironmentProperties.Environment? {\n        return applicationConfigurationJavaBean.environments[applicationConfigurationJavaBean.activeEnvironment]\n    }\n\n    @Autowired\n    lateinit var testServiceKotlinBean :TestService  // My Kotlin @Service which can not be found at runtime.\n\n    @Test\n    fun `ApplicationConfiguration`() {\n        println(appProperties()?.baseClientId)\n        testServiceKotlinBean.hello()\n    }\n}\n</code></pre>\n\n<p>My Kotlin service:  TestService.kt</p>\n\n<pre><code>import org.springframework.stereotype.Service\n\n@Service\nclass TestService {\n    fun hello() {\n        println(\"hello from service\")\n    }\n}\n</code></pre>\n\n<p>My error at runtime executing the unit test:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'Junit5SpringKotlinTests': Unsatisfied dependency expressed through field 'testServiceKotlinBean'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'api.model.TestService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n...\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'api.model.TestService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1509)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\n</code></pre>\n\n<p>FWW, I am able to write JUnit5 SpringBootTests in Kotlin test code and exercise all my Java components, so this has something to do with Kotlin components being discovered at runtime by Spring.  Java components work.</p>\n\n<p>I suspected this might be a build problem and have seen similar issues.  I have the following included in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>so that wasn't the problem.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "nestedrecyclerview"], "comments": [{"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 1, "creation_date": 1528909891, "post_id": 50842380, "comment_id": 88689037, "body": "Have you tryed with        list_one.post(new Runnable() {         @Override         public void run() {             adapter.notifyDataSetChanged();         }     });"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528908371, "creation_date": 1528908371, "question_id": 50842380, "link": "https://stackoverflow.com/questions/50842380/nested-recyclerviews-cannot-call-notifydatasetchanged-method-while-recyclerv", "title": "Nested RecyclerViews : Cannot call notifyDataSetChanged() method while RecyclerView is computing a layout or scrolling", "body": "<p>I have to do nested RecyclerView.<br>\nI have  a big list : <strong>list_one</strong>, which contains a title and another list, <strong>list_two</strong>, which contains a String and a CheckBox.</p>\n\n<p>When setting up a <strong>list_two</strong>, if the String is selected (by default), I want to call the adapter of <strong>list_one</strong> to add an item, and call <em>notifyDataSetChanged()</em>.</p>\n\n<p>But, when I do that, I get an exception :</p>\n\n<pre><code>Cannot call this method while RecyclerView is computing a layout or scrolling.\n</code></pre>\n\n<p>I think that it's because the <strong>list_two</strong> did not charged completely yet, so the size of <strong>list_one</strong> is not set correctly.</p>\n\n<p>Is there a way to <strong>wait until the list_two charged completely, to call <em>notifyDataSetChanged</em> in the first list ?</strong></p>\n\n<p>Here is a picture to help you visualize the lists goal :\n<a href=\"https://i.stack.imgur.com/14gLa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/14gLa.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <strong>first_list</strong> contains \"Couleur\", \"Taille\" and \"Test\".</p>\n\n<p>The <strong>second_list</strong> of the <strong>first_list</strong> first item contains \"Bleu\", \"Rouge\" and \"Vert\" (pretty confusing, I know)</p>\n\n<p>For example, if I select \"Rouge\", the <strong>first_list</strong> needs to refresh to add or delete some items that are not compatible with \"Rouge\".<br>\nThat's why I need to do this trick.</p>\n\n<p>Thanks for your attention.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 2671, "user_id": 958025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd938d17202eccdfaa0bd9a389a2627e?s=128&d=identicon&r=PG&f=1", "display_name": "Nimrod Dayan", "link": "https://stackoverflow.com/users/958025/nimrod-dayan"}, "edited": false, "score": 0, "creation_date": 1531079738, "post_id": 50842368, "comment_id": 89449970, "body": "Check out my answer, it&#39;s exactly what you&#39;re after."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "edited": false, "score": 0, "creation_date": 1528909550, "post_id": 50842487, "comment_id": 88688855, "body": "I am exploring if there any way to get instance of ActivityBuilder class if I create instance of Some complicated Object at PerActivity Scope and need to access this object in the activity itself."}], "tags": [], "owner": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "is_accepted": false, "score": 0, "last_activity_date": 1528908773, "creation_date": 1528908773, "answer_id": 50842487, "question_id": 50842368, "link": "https://stackoverflow.com/questions/50842368/is-there-any-way-to-access-contributing-modules-instances-from-application-compo/50842487#50842487", "title": "Is there any way to access contributing modules instances from application component dagger2", "body": "<p>Don't inject the Activity into the Utility class.</p>\n\n<p>Then in your Activity call:</p>\n\n<pre><code>dialogUtils.showDialog( \"hello\", MyACtivity.this)\n</code></pre>\n\n<p>In dialogUtils:</p>\n\n<pre><code>fun showDialog(error: String, context: Context) = {\n        val alertDialogBuilder = AlertDialog.Builder(context)\n        alertDialogBuilder.setTitle(error).create().show()\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2671, "user_id": 958025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd938d17202eccdfaa0bd9a389a2627e?s=128&d=identicon&r=PG&f=1", "display_name": "Nimrod Dayan", "link": "https://stackoverflow.com/users/958025/nimrod-dayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1531041329, "creation_date": 1531041329, "answer_id": 51230502, "question_id": 50842368, "link": "https://stackoverflow.com/questions/50842368/is-there-any-way-to-access-contributing-modules-instances-from-application-compo/51230502#51230502", "title": "Is there any way to access contributing modules instances from application component dagger2", "body": "<blockquote>\n  <p>Is there any way I can use DialogUtils instance in MainActivity Using dagger2 dependency cycle?</p>\n</blockquote>\n\n<p>Yes, there is. To do that, you'll have to do the following changes in your Dagger setup:</p>\n\n<p><strong>1. ActivityBuilder.kt</strong></p>\n\n<p>Delete the following lines:</p>\n\n<pre><code>@PerActivity\nabstract fun dialogUtils() : DialogUtils\n</code></pre>\n\n<p>Why? You don't need it. You already have <strong>DialogUtils</strong> injectable, since you annotated the class itself with <code>@PerActivity</code> and the constructor with <code>@Inject</code>. Dagger will automagically do the required binding wherever <code>DialogUtils</code> is needed. You write provide/bind methods only when you're injecting an abstract type. In this case, <code>DialogUtils</code> is not implementing an abstract type that you inject in the <code>Activity</code>. You inject the actual implementation directly so you don't need to setup any bindings.</p>\n\n<p><strong>2. HomeModuleBinds.kt</strong></p>\n\n<p>Change the Activity binding to more the specific <code>Activity</code> you want to bind to <code>Activity</code>, in this case it's <code>MainActivity</code>. Dagger will then understand that it needs to bind it to <code>Activity</code> when <strong>DialogUtils</strong> asks for it. You will need to do that for each <code>Activity</code> you want to use <strong>DialogUtils</strong> in the <code>Activity</code>'s own module - the one you pass as an argument to the <code>@ContributeAndroidInjector(modules = [...])</code>, in this case it is <strong>HomeModuleBinds.kt</strong>.</p>\n\n<pre><code>@Binds\n@PerActivity\nabstract fun bindMainActivity(mainActivity: MainActivity): Activity\n</code></pre>\n\n<p><strong>3. DialogUtils</strong></p>\n\n<p>The way you have method <code>showDialog(String)</code> defined currently, it returns a lambda! Remove the equals <code>=</code>.</p>\n\n<pre><code>fun showDialog(error: String) {\n    val alertDialogBuilder = AlertDialog.Builder(activity)\n    alertDialogBuilder.setTitle(error).create().show()\n\n}\n</code></pre>\n\n<p><strong>4. MainActivity.kt</strong></p>\n\n<p>Remove the scope annotations from the injected fields.</p>\n\n<pre><code>@Inject\n@Singleton // &lt;-- Remove this\nlateinit var sharedPref : SharedPreferenceUtils\n\n@Inject\n@PerActivity // &lt;-- Remove this\nlateinit var dialogUtils: DialogUtils\n</code></pre>\n\n<p>You can only annotate Components, Provide/Bind methods and classes with scope annotations!</p>\n"}], "owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1531041329, "creation_date": 1528908328, "question_id": 50842368, "link": "https://stackoverflow.com/questions/50842368/is-there-any-way-to-access-contributing-modules-instances-from-application-compo", "title": "Is there any way to access contributing modules instances from application component dagger2", "body": "<p>I have created a small sample to test dagger2 implementation. I have created a utility class in which an Activity's instance is to be injected. Is there any way to get this utility class instance in Activity itself using dagger2</p>\n\n<p><strong>CoreApplication.kt</strong></p>\n\n<pre><code>class CoreApplication : Application(), HasActivityInjector {\n    @Inject\n    internal lateinit var dispatchingActivityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n        return dispatchingActivityInjector    }\n\n    val component: AppComponent by lazy {\n        DaggerAppComponent\n                .builder()\n                .application(this)\n                .sharedPreference(AppConstants.FILE_NAME_SHARED_PREFERENCES)\n                .build()\n    }\n    override fun onCreate() {\n        super.onCreate()\n        component.inject(this)\n        component.sharedPref().saveString(\"hello\", \"world\")\n        Log.i(\"test\", component.sharedPref().getString(\"hello\"))\n\n    }\n}\n</code></pre>\n\n<p><strong>AppComponent.kt</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidInjectionModule::class, ActivityBuilder::class, AppModuleBinds::class, AppModuleProvides::class))\ninterface AppComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        @BindsInstance\n        fun sharedPreference(@Named(Constant.Name.SHARED_PREFERENCES) sharedPreferenceName: String): Builder\n\n        fun build(): AppComponent\n\n    }\n\n    fun inject(application: CoreApplication)\n\n    fun sharedPref() : SharedPreferenceUtils\n\n}\n</code></pre>\n\n<p><strong>ActivityBuilder.kt</strong></p>\n\n<pre><code>@Module\nabstract class ActivityBuilder{\n    @PerActivity\n    @ContributesAndroidInjector(modules = arrayOf(HomeModuleBinds::class))\n    abstract fun bindMainActivity(): MainActivity\n\n    @PerActivity\n    abstract fun dialogUtils() : DialogUtils\n\n}\n</code></pre>\n\n<p><strong>HomeModuleBinds.kt</strong></p>\n\n<pre><code>@Module\n    abstract class HomeModuleBinds {\n        @Binds\n        @PerActivity\n        abstract fun activityContext(activity: Activity): Context\n\n        @Binds\n        @PerActivity\n        abstract fun activity(activity: Activity): Activity\n    }\n</code></pre>\n\n<p><strong>DialogUtils.kt</strong></p>\n\n<pre><code>@PerActivity\nclass DialogUtils @Inject constructor(var activity: Activity) {\n    fun showDialog(error: String) = {\n        val alertDialogBuilder = AlertDialog.Builder(activity)\n        alertDialogBuilder.setTitle(error).create().show()\n\n    }\n}\n</code></pre>\n\n<p>Is there any way I can use DialogUtils instance in MainActivity Using dagger2 dependency cycle?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @Inject\n    @Singleton\n    lateinit var sharedPref : SharedPreferenceUtils\n\n    @Inject\n    @PerActivity\n    lateinit var dialogUtils: DialogUtils\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        sharedPref.saveString(\"test\", \"val\")\n        Log.i(\"test\", sharedPref.getString(\"test\"))\n\n\n\n        //dialogUtils.showDialog(\"hello\")\n    }\n}\n</code></pre>\n\n<p>For example using inject for DaggerUtils on MainActivity is causing cyclic dependency error</p>\n"}, {"tags": ["android", "listview", "button", "kotlin"], "comments": [{"owner": {"reputation": 2057, "user_id": 6439023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-Z7XKDeTLdNw/AAAAAAAAAAI/AAAAAAAAACA/TlXVWsX_ZKc/photo.jpg?sz=128", "display_name": "Luca Nicoletti", "link": "https://stackoverflow.com/users/6439023/luca-nicoletti"}, "edited": false, "score": 0, "creation_date": 1528908230, "post_id": 50842268, "comment_id": 88688163, "body": "where&#39;s the code you&#39;ve done?"}, {"owner": {"reputation": 707, "user_id": 4609047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZT3G.jpg?s=128&g=1", "display_name": "CodeDaily", "link": "https://stackoverflow.com/users/4609047/codedaily"}, "edited": false, "score": 0, "creation_date": 1528908297, "post_id": 50842268, "comment_id": 88688190, "body": "Please show as what you have designed so far, so we can help you finish what you&#39;ve started with."}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1528919677, "post_id": 50842268, "comment_id": 88693972, "body": "code added, tyvm"}], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 774, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528911023, "creation_date": 1528907930, "last_edit_date": 1528911023, "question_id": 50842268, "link": "https://stackoverflow.com/questions/50842268/listview-with-3-buttons-android-studio-kotlin", "title": "listview with 3 buttons android studio kotlin", "body": "<p>Im trying to create a ListView using a Custom Adapter with the following layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/v73SP.png\" rel=\"nofollow noreferrer\">ListView Relativelayout</a></p>\n\n<p>I just cant manage to make it work, all that i want it to do, is that when clicking in map button, it sets visibility of my \"viewlist\" layout to gone. and sets visibility of \"map\" layout to visible and load an url.</p>\n\n<p>same goes for the website button</p>\n\n<p>and when pressing the phone botton i need it to perform the makecall(\"number\")</p>\n\n<p>This is what i have so far:</p>\n\n<p>ListViewLayout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"372dp\"\n        android:layout_height=\"153dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.023\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/txtvlista1\"\n            android:layout_width=\"337dp\"\n            android:layout_height=\"80dp\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"13dp\"\n            android:gravity=\"top|center\"\n            android:text=\"Name: Here goes the contact name\"\n            tools:text=\"Name: Here goes the contact name\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/mapalv\"\n            android:layout_width=\"52dp\"\n            android:layout_height=\"45dp\"\n            android:layout_alignParentEnd=\"true\"\n            android:layout_below=\"@+id/txtvlista1\"\n            android:layout_marginEnd=\"44dp\"\n            android:background=\"@drawable/website\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/mapalv3\"\n            android:layout_width=\"52dp\"\n            android:layout_height=\"45dp\"\n            android:layout_below=\"@+id/txtvlista1\"\n            android:layout_centerHorizontal=\"true\"\n            android:background=\"@drawable/phone\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/mapalv2\"\n            android:layout_width=\"52dp\"\n            android:layout_height=\"45dp\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_below=\"@+id/txtvlista1\"\n            android:layout_marginStart=\"48dp\"\n            android:background=\"@drawable/mapa\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Negocios data class:</p>\n\n<pre><code>data class Negocios(var name: String, var button: Button)\n</code></pre>\n\n<p>Custom Adapter:</p>\n\n<pre><code>    class CustomAdapter(var context: Context, var negocios: ArrayList&lt;Negocios&gt;): BaseAdapter() {\n\nprivate class ViewHolder(row: View?) {\n    var txtNombres: TextView\n    var mapbutton: Button\n    var phonebutton: Button\n    var websitebutton: Button\n\n\n\n    init {\n        this.txtNombres = row?.findViewById(R.id.txtvlista1) as TextView\n        this.mapbutton = row?.findViewById(R.id.buttonmap) as Button\n        this.phonebutton = row?.findViewById(R.id.buttonmap) as Button\n        this.websitebutton = row?.findViewById(R.id.buttonmap) as Button\n\n\n    }\n}\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n    var view: View?\n    var viewHolder: ViewHolder\n    if (convertView == null) {\n        var layout = LayoutInflater.from(context)\n        view = layout.inflate(R.layout.listview, parent, false)\n        viewHolder = ViewHolder(view)\n        view.tag = viewHolder\n    }else {\n        view = convertView\n        viewHolder = view.tag as ViewHolder\n    }\n\n    var negocios: Negocios = getItem(position) as Negocios\n    viewHolder.txtNombres.text =negocios.name\n    viewHolder.mapbutton.setOnClickListener {\n        seleccion.visibility = View.GONE\n        mapa.visibility = View.VISIBLE\n\n    }\n    viewHolder.phonebutton.setOnClickListener {\n        makeCall(\"phone number\")\n    }\n    viewHolder.websitebutton.setOnClickListener {\n        seleccion.visibility = View.GONE\n        website.visibility = View.VISIBLE\n    }\n\n\n    return view as View\n\n\n}\n\noverride fun getItem(position: Int): Any {\n    return negocios.get(position) \n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\noverride fun getCount(): Int {\n    return negocios.count() \n}\n</code></pre>\n\n<p>Menu for search:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:android2=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n\n    &lt;item\n        android2:id=\"@+id/menuSearch\"\n        android2:icon=\"@android:drawable/ic_menu_search\"\n        android2:title=\"Search\"\n        app:showAsAction=\"always\"\n        app:actionViewClass = \"android.widget.SearchView\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>NegociosActivity:</p>\n\n<pre><code>class NegociosActivity: AppCompatActivity (){\n\ninternal lateinit var adapter: ArrayAdapter&lt;String&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var lista = findViewById(R.id.lista) as ListView\n\n\n    var arrNegocios: ArrayList&lt;Negocios&gt; = ArrayList()\n    arrNegocios.add(Negocios(\"AAAAAAAAAA\", R.id.buttonmap))\n    arrNegocios.add(Negocios(\"BBBBBBBBB\", R.id.buttonpho))\n    arrNegocios.add(Negocios(\"CCCCCCCCC\", R.id.buttonweb))\n\n\n    lista.adapter = CustomAdapter(applicationContext, arrNegocios)\n\n\n\n}\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    val inflater = menuInflater\n    inflater.inflate(R.menu.menu_search, menu)\n    val item = menu.findItem(R.id.menuSearch)\n    val searchView = item.actionView as SearchView\n\n    searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n        override fun onQueryTextSubmit(query: String): Boolean {\n            return false\n        }\n\n        override fun onQueryTextChange(newText: String): Boolean {\n            adapter.filter.filter(newText)\n\n            return false\n        }\n    })\n\n\n    return super.onCreateOptionsMenu(menu)\n}\n</code></pre>\n\n<p>thank you in advance 4 ur support</p>\n\n<p>Regards</p>\n"}, {"tags": ["android", "scroll", "android-recyclerview", "kotlin", "android-viewholder"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1528904653, "post_id": 50841194, "comment_id": 88686166, "body": "obviously you are not reseting view state in onBindViewHolder"}, {"owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1528904710, "post_id": 50841194, "comment_id": 88686203, "body": "How should I reset the state?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1528904740, "post_id": 50841194, "comment_id": 88686219, "body": "by calling hideInformation ?"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1528905110, "post_id": 50841194, "comment_id": 88686430, "body": "may be duplicate <a href=\"https://stackoverflow.com/questions/48861878/android-view-setactive-setselected-and-recyclerview-states/48862189#48862189\" title=\"android view setactive setselected and recyclerview states\">stackoverflow.com/questions/48861878/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 4360308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3uMYuoLtoQ/AAAAAAAAAAI/AAAAAAAAABA/RJky1XQzR8Y/photo.jpg?sz=128", "display_name": "giroxiii", "link": "https://stackoverflow.com/users/4360308/giroxiii"}, "is_accepted": true, "score": 1, "last_activity_date": 1529055479, "last_edit_date": 1529055479, "creation_date": 1528905667, "answer_id": 50841617, "question_id": 50841194, "link": "https://stackoverflow.com/questions/50841194/viewholder-click-is-messing-other-views/50841617#50841617", "title": "ViewHolder click is messing other views", "body": "<p>Ok, what you have to understand is that a ViewHolder is a View that can represent any Specie object at a given time. This ViewHolder is reused by the RecyclerView and bound to other Specie objects when there is some scroll, trying to have the minimum amount of Views loaded (that's why it is called \"Recycler\").</p>\n\n<p>If you just change a property of a holder for a Specie item, when the holder is reused to show another Specie object, the property remain the same if you don't \"reset\" it.</p>\n\n<p>In short, you have to set all ViewHolder properties within the bind method to ensure that the holder is now properly representing the Specie object that is going to show.</p>\n\n<p>That said, what you have to do, for example, is to keep a list or map or what you want to know what Specie object is \"expanded\" at a given time, and when the bind method is called, check if that specific Specie object must be expanded or not and show the holder extended information based on it.</p>\n\n<hr>\n\n<p><strong>EDIT WITH SOLUTION FOR QUESTION:</strong></p>\n\n<pre><code>class SpeciesAdapter(val activity: Activity, private val species: ArrayList&lt;Specie&gt;) : RecyclerView.Adapter&lt;SpeciesAdapter.ViewHolder&gt;() {\n\n    // added an ArrayList to store the opened species\n    private val opened = arrayListOf&lt;Specie&gt;()\n\n    // ...\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val specie = species[position]\n\n        // added a condition to check if a specie was opened\n        // and updates according to the result\n        if (opened.contains(specie)) showInformation(holder, specie)\n        else hideInformation(holder, specie)\n\n        holder.specie.text = specie.name\n        holder.header.setOnClickListener {\n            if (holder.information.visibility == View.GONE) showInformation(holder, specie)\n            else hideInformation(holder, specie)\n        }\n    }\n\n    private fun showInformation(holder: ViewHolder, specie: Specie) {\n        holder.information.visibility = View.VISIBLE\n        holder.arrow.rotation = -90f\n\n        // checking if is opened to avoid duplicates\n        if (!opened.contains(specie)) opened.add(specie)\n    }\n\n    private fun hideInformation(holder: ViewHolder, specie: Specie) {\n        holder.information.visibility = View.GONE\n        holder.arrow.rotation = 90f\n\n        // checking if exists to avoid crashes\n        if (opened.contains(specie)) opened.remove(specie)\n    }\n\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 50841617, "answer_count": 1, "score": 0, "last_activity_date": 1529055479, "creation_date": 1528904299, "question_id": 50841194, "link": "https://stackoverflow.com/questions/50841194/viewholder-click-is-messing-other-views", "title": "ViewHolder click is messing other views", "body": "<p>I have the following <strong>RecyclerView.Adapter</strong>:</p>\n\n<pre><code>class SpeciesAdapter(val activity: Activity, private val species: ArrayList&lt;Specie&gt;) : RecyclerView.Adapter&lt;SpeciesAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, position: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        return ViewHolder(inflater.inflate(R.layout.specie_item, parent, false))\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val specie = species[position]\n        holder.specie.text = specie.name\n        holder.header.setOnClickListener {\n            if (holder.information.visibility == View.GONE) showInformation(holder)\n            else hideInformation(holder)\n        }\n    }\n\n    private fun showInformation(holder: ViewHolder) {\n        holder.information.visibility = View.VISIBLE\n        holder.arrow.rotation = -90f\n    }\n\n    private fun hideInformation(holder: ViewHolder) {\n        holder.information.visibility = View.GONE\n        holder.arrow.rotation = 90f\n    }\n\n    override fun getItemCount() = species.size\n\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        val header: RelativeLayout = view.header_layout\n        val arrow: ImageView = view.arrow_image\n        val specie: TextView = view.specie_text\n        val information: LinearLayout = view.information_layout\n    }\n}\n</code></pre>\n\n<p>And is producing this:</p>\n\n<p><a href=\"https://media.giphy.com/media/9JcLhfgXOdt81WUxsE/giphy.mp4\" rel=\"nofollow noreferrer\">https://media.giphy.com/media/9JcLhfgXOdt81WUxsE/giphy.mp4</a></p>\n\n<p>As you can notice, if I click an item, a layout with a loading is opened. My problem is that when I click an item and then scroll, some other items are opened as well, but I did not click them. Is like the <strong>ViewHolder</strong> is recycling the view and doesn't care that the layout with the loading bar should be invisible.</p>\n\n<p>What could be wrong in my adapter?</p>\n"}, {"tags": ["kotlin", "koin"], "answers": [{"comments": [{"owner": {"reputation": 1233, "user_id": 2793394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8bd6eda3a68a61804d771d9b958cef9d?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/2793394/henning"}, "edited": false, "score": 0, "creation_date": 1554474406, "post_id": 50840374, "comment_id": 97778671, "body": "the solution in the first snippet worked but the inline function does not (for me). I had to change it <code>&lt;reified T : Any&gt;</code>"}], "tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": true, "score": 22, "last_activity_date": 1530776828, "last_edit_date": 1530776828, "creation_date": 1528901824, "answer_id": 50840374, "question_id": 50840373, "link": "https://stackoverflow.com/questions/50840373/how-to-inject-dependency-using-koin-in-top-level-function/50840374#50840374", "title": "How to inject dependency using koin in top level function", "body": "<p>Easiest way is to create <code>KoinComponent</code> object as wrapper and then to get variable from it:</p>\n\n<pre><code>val imageManager = object:KoinComponent {val im: ImageManager by inject()}.im\n</code></pre>\n\n<p>Btw its better to wrap it by some function, for example I use</p>\n\n<pre><code>inline fun &lt;reified T&gt; getKoinInstance(): T {\n    return object : KoinComponent {\n        val value: T by inject()\n    }.value\n}\n</code></pre>\n\n<p>So if I need instance I just write</p>\n\n<pre><code>val imageManager:ImageManager = getKoinInstance()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val imageManager = getKoinInstance&lt;ImageManager&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 3075856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvZEZ.gif?s=128&g=1", "display_name": "w201", "link": "https://stackoverflow.com/users/3075856/w201"}, "is_accepted": false, "score": 0, "last_activity_date": 1605173598, "creation_date": 1605173598, "answer_id": 64801291, "question_id": 50840373, "link": "https://stackoverflow.com/questions/50840373/how-to-inject-dependency-using-koin-in-top-level-function/64801291#64801291", "title": "How to inject dependency using koin in top level function", "body": "<p>I did it in this way</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Route.general() {\n\nval repo: OperationRepo by lazy { GlobalContext.get().koin.get() }\n...\n}\n</code></pre>\n\n"}], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 5, "accepted_answer_id": 50840374, "answer_count": 2, "score": 10, "last_activity_date": 1605173598, "creation_date": 1528901824, "question_id": 50840373, "link": "https://stackoverflow.com/questions/50840373/how-to-inject-dependency-using-koin-in-top-level-function", "title": "How to inject dependency using koin in top level function", "body": "<p>I have top-level function like</p>\n\n<pre><code>fun sendNotification(context:Context, data:Data) {\n    ...//a lot of code here\n}\n</code></pre>\n\n<p>That function creates notifications, sometimes notification can contain image, so I have to download it. I`m using Glide which is wrapped over interface ImageManager, so I have to inject it. I use Koin for DI and the problem is that I cannot write</p>\n\n<pre><code>val imageManager: ImageManager by inject()\n</code></pre>\n\n<p>somewhere in my code, because there is no something that implements KoinComponent interface.</p>\n\n<p>The most obvious solution is to pass already injected somewhere else <code>imageManager</code> as parameter of function but I dont want to do it, because in most cases I dont need <code>imageManager</code>: it depends on type of <code>Data</code> parameter.</p>\n"}, {"tags": ["android", "kotlin", "android-actionbar"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1528899494, "post_id": 50838779, "comment_id": 88682778, "body": "Might be related to <code>createQponFragment()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9936317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wTC7ObPn14g/AAAAAAAAAAI/AAAAAAAADKI/bbFR4MGjE-c/photo.jpg?sz=128", "display_name": "Abhishake Thakral", "link": "https://stackoverflow.com/users/9936317/abhishake-thakral"}, "is_accepted": false, "score": 0, "last_activity_date": 1528899108, "creation_date": 1528899108, "answer_id": 50839391, "question_id": 50838779, "link": "https://stackoverflow.com/questions/50838779/kotlin-android-action-bar-title/50839391#50839391", "title": "kotlin android action bar title", "body": "<pre><code> fun actionBarIcon(imageName:Int) {\n\n        setSupportActionBar(findViewById(R.id.my_toolbar))\n        my_toolbar.setLogo(imageName)\n\n/* \nWhat is to be done to solve the issue:-\nBelow code is setting up title to fff if only the condition is met. but there you have not set any title if condition is not met so by default it is picking up app name.\nSo, give a default value when activity is visible. Either provide title to toolbar in layout or use  \n\n// Set toolbar title/app title\n        my_toolbar!!.title = \"fff\"\n */\n\n        if (imageName == R.drawable.ic_title_black) my_toolbar.setTitle(\"fff\")\n        if (imageName == R.drawable.logged) my_toolbar.setTitle(getCurrentNumber())\n        if (imageName == R.drawable.tutorial) my_toolbar.setTitle(\"Tutorial\")\n    }\n</code></pre>\n\n<p>You can check the comment in code or refer below link for example\nVisit <a href=\"https://android--code.blogspot.com/2018/02/android-kotlin-toolbar-example.html\" rel=\"nofollow noreferrer\">https://android--code.blogspot.com/2018/02/android-kotlin-toolbar-example.html</a></p>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3010, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528899108, "creation_date": 1528897363, "question_id": 50838779, "link": "https://stackoverflow.com/questions/50838779/kotlin-android-action-bar-title", "title": "kotlin android action bar title", "body": "<p>The below functions in MainActivity, App name is Qpon. \nThe app runs well, only the Action bar title of the first page has an issue. It suppose to show \"fff\" for the bar title, but it shows App Name \"Qpon\" when the app started.\nBut it shows properly when I go to other fragment and come back to the first fragment.</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_qpon -&gt; {\n                //message.setText(R.string.title_qpon)\n                actionBarIcon(R.drawable.ic_title_black)\n                createQponFragment()\n\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_me-&gt; {\n                //message.setText(R.string.title_me)\n                actionBarIcon(R.drawable.logged)\n                createMeFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_tool -&gt; {\n                //message.setText(R.string.title_tool)\n                actionBarIcon(R.drawable.logged)\n                createToolFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_tutorial -&gt; {\n                //message.setText(R.string.title_tutorial)\n                actionBarIcon(R.drawable.tutorial)\n                createTutorialFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Obtain the FirebaseAnalytics instance.\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this)\n\n        actionBarIcon(R.drawable.ic_title_black)\n\n        createQponFragment()\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    }\n\n\n    fun getCurrentNumber():String {\n        var mAuth: FirebaseAuth? = null\n        mAuth = FirebaseAuth.getInstance()\n        val cUser = mAuth?.currentUser\n        val userPhone = cUser?.phoneNumber\n        if (userPhone != null) {\n            return userPhone.toString()\n        }\n        else { return \"\" }\n    }\n\n    fun actionBarIcon(imageName:Int) {\n\n        setSupportActionBar(findViewById(R.id.my_toolbar))\n        my_toolbar.setLogo(imageName)\n\n        if (imageName == R.drawable.ic_title_black) my_toolbar.setTitle(\"fff\")\n        if (imageName == R.drawable.logged) my_toolbar.setTitle(getCurrentNumber())\n        if (imageName == R.drawable.tutorial) my_toolbar.setTitle(\"Tutorial\")\n    }\n</code></pre>\n\n<p>The app start image\n<a href=\"https://i.stack.imgur.com/U0p43.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U0p43.png\" alt=\"enter image description here\"></a></p>\n\n<p>Came back from other fragment\n<a href=\"https://i.stack.imgur.com/PlTJ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PlTJ4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "json", "listview", "kotlin", "google-books"], "comments": [{"owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "edited": false, "score": 0, "creation_date": 1528898384, "post_id": 50838437, "comment_id": 88682001, "body": "The <code>adapter</code> is <code>null</code>."}, {"owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "reply_to_user": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "edited": false, "score": 0, "creation_date": 1528913055, "post_id": 50838437, "comment_id": 88690649, "body": "And what should I do? Can you give an advice?"}], "answers": [{"tags": [], "owner": {"reputation": 838, "user_id": 8618875, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2b22b449bde41ff43cda11ecb7bf737b?s=128&d=identicon&r=PG&f=1", "display_name": "clauub", "link": "https://stackoverflow.com/users/8618875/clauub"}, "is_accepted": true, "score": 1, "last_activity_date": 1528969613, "creation_date": 1528969613, "answer_id": 50854472, "question_id": 50838437, "link": "https://stackoverflow.com/questions/50838437/populate-listview-from-google-books-json/50854472#50854472", "title": "Populate Listview from Google Books JSON", "body": "<p>Your problem is the place where you declare your adapter, I had this problem because declaration of my adapter was in the wrong place.</p>\n\n<p>You should move adapter declaration from <strong>onCreatView</strong> into <strong>onViewCreated</strong> and everything will work fine. </p>\n\n<p>Hope it helps !</p>\n"}], "owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 50854472, "answer_count": 1, "score": 0, "last_activity_date": 1528969613, "creation_date": 1528896312, "question_id": 50838437, "link": "https://stackoverflow.com/questions/50838437/populate-listview-from-google-books-json", "title": "Populate Listview from Google Books JSON", "body": "<p>I'm using <strong>Google Books API</strong> for searching books. But problem is that when I want my <strong>ListView</strong> to be populated with books, I get an <strong>error</strong>. This error is pointed <strong>onPostExecute</strong>, but I can't figured out what's the problem. </p>\n\n<pre><code> kotlin.KotlinNullPointerException\n    at com.example.claudiu.reader.Fragments.ISBNFragment$FetchBookTask.onPostExecute(ISBNFragment.kt:137)\n    at com.example.claudiu.reader.Fragments.ISBNFragment$FetchBookTask.onPostExecute(ISBNFragment.kt:56)\n</code></pre>\n\n<p>Here is where I set my adapter : </p>\n\n<pre><code> override fun onPostExecute(books: List&lt;Book&gt;?) {\n        if (books != null) {\n            adapter!!.clear()\n            for (book in books) {\n                adapter!!.add(book)\n            }\n        }\n    }\n</code></pre>\n\n<p>And here is all code where I'm parsing the <strong>JSON:</strong></p>\n\n<pre><code>  @Throws(JSONException::class)\n    private fun getBookDataFromJson(booksJsonStr: String?): List&lt;Book&gt; {\n\n        val books = ArrayList&lt;Book&gt;()\n\n        val API_RESULT_ITEMS_ARRAY = \"items\"\n        val API_VOLUME_INFO = \"volumeInfo\"\n        val API_BOOK_TITLE = \"title\"\n        val API_BOOK_IMAGE_LINKS = \"imageLinks\"\n        val API_BOOK_SMALL_THUMBNAIL = \"smallThumbnail\"\n        val API_BOOK_AUTHORS_ARRAY = \"authors\"\n\n        val booksJson = JSONObject(booksJsonStr)\n        val itemsArray = booksJson.getJSONArray(API_RESULT_ITEMS_ARRAY)\n\n        for (i in 0 until itemsArray.length()) {\n\n            val item = itemsArray.getJSONObject(i)\n            val volumeInfo = item.getJSONObject(API_VOLUME_INFO)\n\n            val bookTitle = volumeInfo.getString(API_BOOK_TITLE)\n\n            val imageLinksSB = StringBuilder()\n            if (!volumeInfo.isNull(API_BOOK_IMAGE_LINKS)) {\n                val imageLinks = volumeInfo.getJSONObject(API_BOOK_IMAGE_LINKS)\n                imageLinksSB.append(imageLinks.getString(API_BOOK_SMALL_THUMBNAIL))\n            } else {\n                imageLinksSB.append(\"-1\")\n            }\n            val bookImageLink = imageLinksSB.toString()\n\n            val authorsSB = StringBuilder()\n            if (!volumeInfo.isNull(API_BOOK_AUTHORS_ARRAY)) {\n                val authorsArray = volumeInfo.getJSONArray(API_BOOK_AUTHORS_ARRAY)\n                for (k in 0 until authorsArray.length()) {\n                    authorsSB.append(authorsArray.getString(k))\n                    authorsSB.append(getString(R.string.comma))\n                }\n            } else {\n                authorsSB.append(getString(R.string.unknown_error))\n            }\n            val bookAuthors = authorsSB.toString()\n\n            books.add(Book(bookTitle, bookAuthors, bookImageLink))\n        }\n\n        Log.d(LOG_TAG, \"BOOKS : $books\")\n        return books\n    }\n</code></pre>\n\n<p>I couldn't find any thing to help me and I have no idea what should I do.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "edited": false, "score": 0, "creation_date": 1528895178, "post_id": 50837961, "comment_id": 88679788, "body": "after lambda conversion,  { googleSignInAccount -&gt;          // this is your onSuccess method     }"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1528903799, "post_id": 50837961, "comment_id": 88685680, "body": "All lambdas in Kotlin and Java are implementations of interfaces with a single abstract method which override this method."}], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": true, "score": 2, "last_activity_date": 1528895209, "creation_date": 1528895209, "answer_id": 50838064, "question_id": 50837961, "link": "https://stackoverflow.com/questions/50837961/android-kotlin-covert-object-initialisation-to-lambda-with-override-methods/50838064#50838064", "title": "Android Kotlin covert object initialisation to lambda with override methods", "body": "<p>You have it right! The code you write after -> is what will be executed when onSuccess is called.</p>\n\n<pre><code>task.addOnSuccessListener { googleSignInAccount -&gt;\n    // Your code here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 8793928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4a87116ee745bf8fa001a6c4bf2523?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/8793928/android-geek"}, "is_accepted": false, "score": 1, "last_activity_date": 1528896730, "creation_date": 1528896730, "answer_id": 50838573, "question_id": 50837961, "link": "https://stackoverflow.com/questions/50837961/android-kotlin-covert-object-initialisation-to-lambda-with-override-methods/50838573#50838573", "title": "Android Kotlin covert object initialisation to lambda with override methods", "body": "<p>You can not have lambda converted method and have overriden method because lambda method(java 8) implicitly call overriden method and this is the best part about kotlin that you can reduce your code</p>\n\n<p>happy coding!</p>\n"}], "owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 50838064, "answer_count": 2, "score": 0, "last_activity_date": 1528896730, "creation_date": 1528894865, "last_edit_date": 1528894947, "question_id": 50837961, "link": "https://stackoverflow.com/questions/50837961/android-kotlin-covert-object-initialisation-to-lambda-with-override-methods", "title": "Android Kotlin covert object initialisation to lambda with override methods", "body": "<p>How can I covert this method to lambda and still have override methods because it shows warning that I should convert this part <code>object : OnSuccessListener&lt;GoogleSignInAccount&gt;</code> to lambda</p>\n\n<p>Method:</p>\n\n<pre><code>task.addOnSuccessListener( object : OnSuccessListener&lt;GoogleSignInAccount&gt;{\n        override fun onSuccess(p0: GoogleSignInAccount?) {\n\n        }\n\n    })\n</code></pre>\n\n<p>After converting I don't have override method <code>onSuccess</code></p>\n\n<pre><code>task.addOnSuccessListener{ googleSignInAccount -&gt;\n\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1528889119, "post_id": 50836017, "comment_id": 88675719, "body": "What type is <code>x</code>?"}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1528889335, "post_id": 50836017, "comment_id": 88675862, "body": "@Zoe <code>x</code> could be any type that can be cast to a <code>String</code>, which means my sample code is not very good. Instead of String, imagine it&#39;s some arbitrary type T. The question is not about specific types, it&#39;s about the general difference between <code>as</code> to a nullable type vs <code>as?</code>. Make the types any type you want. (I&#39;ve updated my question to clarify.)"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1528890661, "post_id": 50836017, "comment_id": 88676714, "body": "In one case you&#39;re trying to cast an object to a nullable type (<code>x as String?</code>). This will fail (-&gt; an exception is thrown) in case <code>x</code> is not a <code>String?</code>. In the other case you&#39;re trying to &quot;safely&quot; cast to a non-nullable type (<code>x as? String</code>). This can fail if <code>x</code> is not a <code>String</code>, but in this case instead of an exception you&#39;ll get a <code>null</code>. The <code>as?</code> operator is a &quot;safer&quot; version of <code>as</code>: the first one returns <code>null</code> if the type cannot be casted (that&#39;s why the resulting type is nullable regardless of <code>x</code>&#39;s type), the second throws an exception"}], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 32, "last_activity_date": 1528890245, "creation_date": 1528890245, "answer_id": 50836405, "question_id": 50836017, "link": "https://stackoverflow.com/questions/50836017/safe-cast-vs-cast-to-nullable/50836405#50836405", "title": "Safe cast vs cast to nullable", "body": "<p>The difference lies in when <code>x</code> is a different type:</p>\n\n<pre><code>val x: Int = 1\n\nx as String? // Causes ClassCastException, cannot assign Int to String?\n\nx as? String // Returns null, since x is not a String type.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1528898338, "post_id": 50836554, "comment_id": 88681983, "body": "Thanks! I get it now. Kotlin&#39;s <code>x as T</code> is equivalent to C#&#39;s <code>(T) x</code>, while C#&#39;s <code>x as T</code> is equivalent to Kotlin&#39;s <code>x as? T</code>. I wish it wasn&#39;t called &quot;safe cast&quot; (as nulls are not entirely safe), but maybe &quot;exception-free cast&quot;."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1528899080, "post_id": 50836554, "comment_id": 88682514, "body": "Null safety can be re-gained with the <code>?:</code> operator though. I.e. <code>variable as? Type ?: &#47;&#47;do something here, like returning.</code>"}, {"owner": {"reputation": 811, "user_id": 15055605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lv3Eu.png?s=128&g=1", "display_name": "YaMiN", "link": "https://stackoverflow.com/users/15055605/yamin"}, "edited": false, "score": 0, "creation_date": 1619107659, "post_id": 50836554, "comment_id": 118810815, "body": "<code>The point of the safe cast operator is safe casting.</code> I used the safe casting to destroy the safe casting!"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1619107771, "post_id": 50836554, "comment_id": 118810882, "body": "Good for you? There&#39;s always ways to break stuff if you try, but that doesn&#39;t change what it&#39;s intended for when used normally"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 5, "last_activity_date": 1528890656, "creation_date": 1528890656, "answer_id": 50836554, "question_id": 50836017, "link": "https://stackoverflow.com/questions/50836017/safe-cast-vs-cast-to-nullable/50836554#50836554", "title": "Safe cast vs cast to nullable", "body": "<p><code>as?</code> is the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"noreferrer\">safe type cast</a> operator. This means if casting fails, it returns null instead of throwing an exception. The docs also state the returned type is a nullable type, even if you cast it as a non-null type. Which means:</p>\n\n<pre><code>fun &lt;T&gt; safeCast(t: T){\n    val res = t as? String //Type: String?\n}\n\nfun &lt;T&gt; unsafeCast(t: T){\n    val res = t as String? //Type: String?\n}\n\nfun test(){\n    safeCast(1234);//No exception, `res` is null\n    unsafeCast(null);//No exception, `res` is null\n    unsafeCast(1234);//throws a ClassCastException\n}\n</code></pre>\n\n<p>The point of the safe cast operator is safe casting. In the above example, I used the original String example with integers as the type. <code>unsafeCast</code> on an Int of course throws an exception, because an Int is not a String. <code>safeCast</code> does not, but <code>res</code> ends up as null.</p>\n\n<p>The main difference isn't the type, but how it handles the casting itself. <code>variable as SomeClass?</code> throws an exception on an incompatible type, where as <code>variable as? SomeClass</code> does not, and returns null instead.</p>\n"}], "owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3290, "favorite_count": 1, "accepted_answer_id": 50836405, "answer_count": 2, "score": 15, "last_activity_date": 1528890656, "creation_date": 1528889073, "last_edit_date": 1528889495, "question_id": 50836017, "link": "https://stackoverflow.com/questions/50836017/safe-cast-vs-cast-to-nullable", "title": "Safe cast vs cast to nullable", "body": "<p>What is the difference between</p>\n\n<pre><code>x as? String\n</code></pre>\n\n<p>and</p>\n\n<pre><code>x as String?\n</code></pre>\n\n<p>They both seem to produce a <code>String?</code> type. The <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"noreferrer\">Kotlin page</a> doesn't answer it for me.</p>\n\n<p>UPDATE:</p>\n\n<p>To clarify, my question is:</p>\n\n<p>What is the purpose of having an <code>as?</code> operator at all, since for any object <code>x</code> and for any type <code>T</code>, the expression <code>x as? T</code> can be (I think) rephrased as <code>x as T?</code> ?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "mvp", "rx-android"], "comments": [{"owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "edited": false, "score": 0, "creation_date": 1589720560, "post_id": 50836013, "comment_id": 109399258, "body": "Facing the same issue. did you find any solution ?"}], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 1, "creation_date": 1528889950, "post_id": 50836250, "comment_id": 88676250, "body": "This thing have already did <code>var okHttpClient = OkHttpClient().newBuilder()             .connectTimeout(120, TimeUnit.SECONDS)             .readTimeout(120, TimeUnit.SECONDS)             .writeTimeout(120, TimeUnit.SECONDS)             .build();</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7616371"}, "reply_to_user": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 0, "creation_date": 1528890323, "post_id": 50836250, "comment_id": 88676485, "body": "try change  TimeUnit.SECONDS to TimeUnit.MINUTES"}, {"owner": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 0, "creation_date": 1528890620, "post_id": 50836250, "comment_id": 88676685, "body": "Added but need to wait for Toast message. Not sure when it could be Toast."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7616371"}, "reply_to_user": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 0, "creation_date": 1528890724, "post_id": 50836250, "comment_id": 88676762, "body": "its look like the api not responding or late responding"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7616371"}, "reply_to_user": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 0, "creation_date": 1528890798, "post_id": 50836250, "comment_id": 88676821, "body": "try call api in postman then check if server giving response on time or there also have problem like thats .?"}, {"owner": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "edited": false, "score": 0, "creation_date": 1528891457, "post_id": 50836250, "comment_id": 88677275, "body": "All API works fine in Postman &amp; iOS application. This particular issue happens in Android app."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7616371"}, "is_accepted": false, "score": 0, "last_activity_date": 1528889785, "creation_date": 1528889785, "answer_id": 50836250, "question_id": 50836013, "link": "https://stackoverflow.com/questions/50836013/web-api-call-throwing-error-java-net-sockettimeoutexception/50836250#50836250", "title": "Web API call throwing error java.net.SocketTimeoutException", "body": "<blockquote>\n  <p>before   :</p>\n</blockquote>\n\n<p><code>.setOkHttpClient(okHttpClient)</code></p>\n\n<blockquote>\n  <p>add those lines :</p>\n</blockquote>\n\n<pre><code>OkHttpClient okHttpClient= new OkHttpClient();\nclient.setConnectTimeout(15, TimeUnit.MINUTES); // connect timeout\nclient.setReadTimeout(15, TimeUnit.MINUTES);    // socket timeout\n</code></pre>\n"}], "owner": {"reputation": 1308, "user_id": 4485558, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/piY7i.png?s=128&g=1", "display_name": "Keval Gangani", "link": "https://stackoverflow.com/users/4485558/keval-gangani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528889785, "creation_date": 1528889051, "last_edit_date": 1528889345, "question_id": 50836013, "link": "https://stackoverflow.com/questions/50836013/web-api-call-throwing-error-java-net-sockettimeoutexception", "title": "Web API call throwing error java.net.SocketTimeoutException", "body": "<p>I have one Android project which I developed in <a href=\"https://github.com/MindorksOpenSource/android-kotlin-mvp-architecture\" rel=\"nofollow noreferrer\">Kotlin + MVP architecture</a>. It has total 30 API calls in the project but sometimes it throws socket timeout error randomly from any of one API. I don't know is it a problem in Server or API or Kotlin-MVP or Rx2AndroidNetworking?</p>\n\n<p>Below I'm showing you to call product list web API call in Kotlin + MVP.</p>\n\n<p>This same project I developed in iOS and this error does not throw so it does not fault on Server or API development. I think this problem occurred in <code>Rx2AndroidNetworking</code> library.</p>\n\n<p>Does anyone have any idea or faced this problem in past?</p>\n\n<p><a href=\"https://i.stack.imgur.com/tuIKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tuIKD.png\" alt=\"enter image description here\"></a></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.net.SocketTimeoutException\n\nfailed to connect to / (port 80) after 120000ms: isConnected failed: ETIMEDOUT (Connection timed out)\n   at libcore.io.IoBridge.isConnected(IoBridge.java:232)\n   at libcore.io.IoBridge.connectErrno(IoBridge.java:171)\n   at libcore.io.IoBridge.connect(IoBridge.java:122)\n   at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:183)\n   at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:452)\n   at java.net.Socket.connect(Socket.java:884)\n   at okhttp3.internal.platform.AndroidPlatform.connectSocket(AndroidPlatform.java:70)\n   at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:238)\n   at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:158)\n   at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:256)\n   at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:134)\n   at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:113)\n   at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n   at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n   at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n   at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:125)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n   at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n   at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\n   at okhttp3.RealCall.execute(RealCall.java:77)\n   at com.rx2androidnetworking.Rx2InternalNetworking$SimpleANObservable.subscribeActual(Rx2InternalNetworking.java:187)\n   at io.reactivex.Observable.subscribe(Observable.java:10981)\n   at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)\n   at io.reactivex.Observable.subscribe(Observable.java:10981)\n   at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\n   at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:452)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n   at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n   at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:154)\n   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\n   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n   at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>ProductInteractor.kt</p>\n\n<pre><code>class ProductInteractor @Inject internal constructor(apiHelper: ApiHelper, preferenceHelper: PreferenceHelper) : BaseInteractor(apiHelper = apiHelper, preferenceHelper = preferenceHelper), ProductMVPInteractor {\n\noverride fun getProductList(pagingAndSortingInfo: PagingAndSortingInfo?, searchBy: String, categoryIds: String) =\n        apiHelper.performProductListApiCall(pagingAndSortingInfo, searchBy, categoryIds)\n}\n</code></pre>\n\n<p>ProductPresenter.kt (<code>it.showError(t!!.message!!)</code> line throwing socket timeout Toast message)</p>\n\n<pre><code>class ProductPresenter&lt;V : ProductGridMVPView, I : ProductMVPInteractor&gt; @Inject internal constructor(interator: I, schedulerProvider: SchedulerProvider, compositeDisposable: CompositeDisposable) : BasePresenter&lt;V, I&gt;(interactor = interator, schedulerProvider = schedulerProvider, compositeDisposable = compositeDisposable), ProductMVPPresenter&lt;V, I&gt; {\noverride fun onViewPrepared(pageNumber: Long?, categoryIds: String?) {\n\n    getView()?.showProgress()\n    interactor?.let {\n        val pagingAndSortingInfo = PagingAndSortingInfo(AppConstants.PAGE_SIZE.toLong(),\n                pageNumber,\n                0,\n                true,\n                true,\n                \"DisplayOrder\",\n                AppConstants.SortDirection.Ascending.type)\n        var disposable = it.getProductList(pagingAndSortingInfo, \"\", categoryIds.toString())\n                .compose(schedulerProvider.ioToMainObservableScheduler())\n                .subscribe ({ productResponse -&gt;\n                    getView()?.let {\n                        it.hideProgress();\n                        var totalRecords: Long? = 0;\n                        var currentPage: Long? = 0;\n                        var isPagingRequired: Boolean? = false;\n                        totalRecords = productResponse.pagingAndSortingInfo!!.totalRecord;\n                        currentPage = productResponse.pagingAndSortingInfo!!.pageNumber;\n                        isPagingRequired = productResponse.pagingAndSortingInfo!!.isPagingRequired;\n                        it.displayProductList(productResponse.productItems, totalRecords, currentPage, isPagingRequired);\n                    }\n                },{\n                    t: Throwable? -&gt;  getView()?.let {\n                    it.hideProgress()\n                    it.showError(t!!.message!!)\n                }\n                })\n        addSubscription(disposable)\n    }\n}\n}\n</code></pre>\n\n<p>ProductGridFragment.kt (I'm calling presenter class like below in my product fragment onViewCreated.)</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    presenter.onAttach(this)\n    super.onViewCreated(view, savedInstanceState)\n\n    srl_product.setOnRefreshListener(object : SwipeRefreshLayout.OnRefreshListener {\n\n        override fun onRefresh() {\n            productAdapter.clearData()\n            setPageNumber(1);\n            setCategoryIds(\"\");\n            presenter.onViewPrepared(getPageNumber(), getCategoryIds());\n            srl_product.isRefreshing = false;\n        }\n\n    })\n}\n</code></pre>\n\n<p>performProductListApiCall Function (This function called in Interactor class)</p>\n\n<pre><code>override fun performProductListApiCall(request: PagingAndSortingInfo?, searchBy: String?, categoryIds: String?): Observable&lt;ProductResponse&gt; =\n        Rx2AndroidNetworking.post(ApiEndPoint.ENDPOINT_PRODUCT_GETLIST)\n                .addHeaders(\"Authorization\", \"bearer \" + prefHelper.getAccessToken())\n                .addQueryParameter(\"searchBy\", searchBy)\n                .addQueryParameter(\"categoryIds\", categoryIds)\n                .addBodyParameter(request)\n                .setOkHttpClient(okHttpClient)\n                .build()\n                .getObjectObservable(ProductResponse::class.java)\n                .doOnError {\n                    t: Throwable -&gt; Log.e(\"performProductListApiCall\", t.message);\n                }\n</code></pre>\n"}, {"tags": ["kotlin", "ktor", "hoverfly"], "comments": [{"owner": {"reputation": 378, "user_id": 1192566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a7e0168b945855f23900c0a8da7787?s=128&d=identicon&r=PG", "display_name": "soywiz", "link": "https://stackoverflow.com/users/1192566/soywiz"}, "edited": false, "score": 0, "creation_date": 1528893640, "post_id": 50835601, "comment_id": 88678739, "body": "What&#39;s the behaviour? It throws an exception? Do you have a stacktrace or can provide additional information?"}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": false, "score": 0, "last_activity_date": 1528900848, "creation_date": 1528900848, "answer_id": 50840026, "question_id": 50835601, "link": "https://stackoverflow.com/questions/50835601/hoverfly-ktor-client-apache-kotlin/50840026#50840026", "title": "Hoverfly Ktor client Apache Kotlin", "body": "<p>You should setup default system proxy in <code>Apache</code> config:\n<a href=\"http://hoverfly.readthedocs.io/projects/hoverfly-java/en/latest/pages/misc/misc.html\" rel=\"nofollow noreferrer\">http://hoverfly.readthedocs.io/projects/hoverfly-java/en/latest/pages/misc/misc.html</a></p>\n\n<p>example with <code>ktor(0.9.3-alpha-3)</code>:</p>\n\n<pre><code>class ApplicationMockupTest {\n  companion object {\n    @ClassRule\n    @JvmField\n    val hoverflyRule: HoverflyRule = HoverflyRule.inSimulationMode(\n        dsl(\n            service(\"people.zoho.com:443\")\n                .get(\"/people/api/forms/P_EmployeeView/records\")\n                .queryParam(\"authtoken\", \"TOKEN\")\n                .willReturn(success(\"{j:gr}\", \"application/json\"))\n        )\n    )\n  }\n\n  @Test\n  fun exampleTest() = runBlocking&lt;Unit&gt; {\n    val client = HttpClient(Apache.setupDefaultProxy())\n    val token = \"TOKEN\"\n    val url = \"https://people.zoho.com/people/api/forms/P_EmployeeView/records?authtoken=$token\"\n    val requestString = client.get&lt;String&gt;(url)\n    hoverflyRule.verifyAll()\n    Unit\n  }\n\n  fun HttpClientEngineFactory&lt;ApacheEngineConfig&gt;.setupDefaultProxy() = config {\n    customizeClient {\n        useSystemProperties()\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8186877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59da7bcc637c20cacc6eabd2bf7e34?s=128&d=identicon&r=PG&f=1", "display_name": "Quiesan", "link": "https://stackoverflow.com/users/8186877/quiesan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528900848, "creation_date": 1528887779, "last_edit_date": 1528887909, "question_id": 50835601, "link": "https://stackoverflow.com/questions/50835601/hoverfly-ktor-client-apache-kotlin", "title": "Hoverfly Ktor client Apache Kotlin", "body": "<p>I tried to do unit test with Hoverfly to mock external API.</p>\n\n<pre><code>companion object {\n    @ClassRule @JvmField\n    val hoverflyRule: HoverflyRule = HoverflyRule.inSimulationMode(dsl(\n            service(\"people.zoho.com\")\n                    .get(\"/people/api/forms/P_EmployeeView/records\").queryParam(\"authtoken\",\"TOKEN\")\n                        .willReturn(success(\"{test:test}\", \"application/json\"))\n    ))\n}\n</code></pre>\n\n<p>When I use the Apache client with ktor, that doesn't work. But with another  client like khttp, it works. Any ideas why?</p>\n"}, {"tags": ["generics", "inheritance", "interface", "kotlin", "covariant"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528885287, "post_id": 50834345, "comment_id": 88673386, "body": "Solve it by declaring <code>in E</code> instead of <code>out E</code>. Clearly your interface is contravariant with respect to it."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1528885800, "post_id": 50834345, "comment_id": 88673713, "body": "<code>out</code> types cannot appear as arguments of functions. They can only be returned (hence <code>out</code>)."}, {"owner": {"reputation": 13, "user_id": 2855001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af687d4b8fc3dce279e0156c581d2463?s=128&d=identicon&r=PG&f=1", "display_name": "user2855001", "link": "https://stackoverflow.com/users/2855001/user2855001"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528890683, "post_id": 50834345, "comment_id": 88676736, "body": "@MarkoTopolnik but declaring in E then I can&#39;t use val problemInterfaceBaseInterface: ProblemInterface&lt;BaseInterface&gt; = problemInterfaceExtendsInterface"}, {"owner": {"reputation": 13, "user_id": 2855001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af687d4b8fc3dce279e0156c581d2463?s=128&d=identicon&r=PG&f=1", "display_name": "user2855001", "link": "https://stackoverflow.com/users/2855001/user2855001"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1528891202, "post_id": 50834345, "comment_id": 88677093, "body": "@Strelok I know, I look a solution to use: val problemInterfaceBaseInterface: ProblemInterface&lt;BaseInterface&gt; = problemInterfaceExtendsInterface keeping  fun method(baseInterface: E) in ProblemInterface interface"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528891258, "post_id": 50834345, "comment_id": 88677126, "body": "That&#39;s because the type system is right and you&#39;re wrong: you can&#39;t treat a <code>ProblemInterface&lt;ExtendsInterface&gt;</code> as if it was a <code>ProblemInterface&lt;BaseInterface&gt;</code>. Its <code>method</code> doesn&#39;t accept all instances of <code>BaseInterface</code>."}, {"owner": {"reputation": 13, "user_id": 2855001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af687d4b8fc3dce279e0156c581d2463?s=128&d=identicon&r=PG&f=1", "display_name": "user2855001", "link": "https://stackoverflow.com/users/2855001/user2855001"}, "edited": false, "score": 0, "creation_date": 1528957610, "post_id": 50834345, "comment_id": 88704473, "body": "I added the same code in Java and works fine, what&#39;s wrong with kotlin?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528959287, "post_id": 50834345, "comment_id": 88705323, "body": "Nothing wrong with Kotlin, but wrong again with your Java code. Since Java only supports use-site variance declaration, you were allowed to declare <code>ProblemInterface&lt;? extends BaseInterface&gt;</code>. Now you can&#39;t call <code>method()</code> without a compiler error."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528962342, "post_id": 50834345, "comment_id": 88706984, "body": "You might also note that <code>ProblemInterface&lt;E extends BaseInterface&gt;</code> didn&#39;t declare <code>E</code> as a covariant type parameter (it&#39;s not equivalent to <code>out E</code>). It just enforced an upper bound on <code>E</code>."}], "owner": {"reputation": 13, "user_id": 2855001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af687d4b8fc3dce279e0156c581d2463?s=128&d=identicon&r=PG&f=1", "display_name": "user2855001", "link": "https://stackoverflow.com/users/2855001/user2855001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1528957461, "creation_date": 1528883860, "last_edit_date": 1528957461, "question_id": 50834345, "link": "https://stackoverflow.com/questions/50834345/covariantout-generic-type-kotlin", "title": "Covariant(out) &amp; generic type kotlin", "body": "<p>In Java I can do this:</p>\n\n<pre><code>    interface BaseInterface {}\n\n    interface ExtendsInterface extends BaseInterface {}\n\n    public interface ProblemInterface&lt;E extends BaseInterface&gt; {\n        void method(E baseInterface);\n    }\n\n    class Main {\n        public static void main (String [ ] args) {\n            ProblemInterface&lt;ExtendsInterface&gt; problemInterfaceExtendsInterface = new ProblemInterface&lt;ExtendsInterface&gt;() {\n                @Override\n                public void method(ExtendsInterface baseInterface) {}\n            };\n\n             ProblemInterface&lt;? extends BaseInterface&gt; problemInterfaceBaseInterface = problemInterfaceExtendsInterface;\n        }\n    }\n</code></pre>\n\n<p>In Kotlin:</p>\n\n<pre><code>    interface BaseInterface\n\n    interface ExtendsInterface: BaseInterface\n\n    interface ProblemInterface&lt;out E : BaseInterface&gt; {\n       fun method(baseInterface: E)\n    }       \n\n    val problemInterfaceExtendsInterface: ProblemInterface&lt;ExtendsInterface&gt; = object : ProblemInterface&lt;ExtendsInterface&gt; {\n        override fun method(baseInterface: ExtendsInterface) {}\n    }\n\n    val problemInterfaceBaseInterface: ProblemInterface&lt;BaseInterface&gt; = problemInterfaceExtendsInterface\n</code></pre>\n\n<p>But the problem is: using covariant (out) but Type parameter occurs in 'in' position</p>\n\n<p>Any idea to solve this?\nHow I can do to works the same code in Java/Kotlin?\nThanks</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1528883882, "post_id": 50834126, "comment_id": 88672435, "body": "Does it say &quot;...but does not override <code>performClick</code>&quot;? It must be a warning not an error."}, {"owner": {"reputation": 11, "user_id": 9631059, "user_type": "registered", "profile_image": "https://graph.facebook.com/2039310599430428/picture?type=large", "display_name": "Franzi Notz", "link": "https://stackoverflow.com/users/9631059/franzi-notz"}, "reply_to_user": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1528884986, "post_id": 50834126, "comment_id": 88673211, "body": "@LieForBananas yeah i just don&#39;t know what that means"}, {"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1528886905, "post_id": 50834126, "comment_id": 88674335, "body": "You can actually see the full explanation if you follow the link in the answer below."}], "answers": [{"tags": [], "owner": {"reputation": 1640, "user_id": 1540563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f72b77d6cb4480393d58556a2c126a?s=128&d=identicon&r=PG&f=1", "display_name": "olegr", "link": "https://stackoverflow.com/users/1540563/olegr"}, "is_accepted": false, "score": 0, "last_activity_date": 1528885621, "creation_date": 1528885621, "answer_id": 50834889, "question_id": 50834126, "link": "https://stackoverflow.com/questions/50834126/include-view-after-if-condition/50834889#50834889", "title": "Include view after if-condition", "body": "<p>Speaking about <code>performClick()</code> you could read accepted answer here <a href=\"https://stackoverflow.com/questions/47107105/android-button-has-setontouchlistener-called-on-it-but-does-not-override-perform\">android Button has setOnTouchListener called on it but does not override performClick</a>. </p>\n\n<p>But about these questions:</p>\n\n<blockquote>\n  <p>So how do I put the if-statement to determine which view to show in my\n  Kotlin Class? Or do I put it in my XML? And how will the swiping\n  action work that way?</p>\n</blockquote>\n\n<p>The \"tutorial\" that you point on is not good for your goal I think. Better read about <a href=\"https://developer.android.com/training/animation/screen-slide\" rel=\"nofollow noreferrer\">ViewPager</a>. </p>\n"}], "owner": {"reputation": 11, "user_id": 9631059, "user_type": "registered", "profile_image": "https://graph.facebook.com/2039310599430428/picture?type=large", "display_name": "Franzi Notz", "link": "https://stackoverflow.com/users/9631059/franzi-notz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528885621, "creation_date": 1528883229, "last_edit_date": 1592644375, "question_id": 50834126, "link": "https://stackoverflow.com/questions/50834126/include-view-after-if-condition", "title": "Include view after if-condition", "body": "<p>I have to different subviews I want to include in my view like this in my XML-File:</p>\n<pre><code>&lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/myLayout&quot;/&gt;\n\n    &lt;!--Include this as default and if user swipes right--&gt;\n    &lt;include layout=&quot;@layout/dashboard_user_view&quot; android:id=&quot;duv&quot;/&gt;\n    &lt;!--Include this if the user swipes left--&gt;\n    &lt;include layout=&quot;@layout/dashboard_widgets_view&quot; android:id=&quot;dwv&quot;/&gt;\n</code></pre>\n<p>Including one layout works fine, but now I want to switch between both of them.</p>\n<p>So then I added the <em>OnSwipeTouchListener</em> from <a href=\"https://stackoverflow.com/questions/4139288/android-how-to-handle-right-to-left-swipe-gestures/19506010\">this</a> tutorial, and I call it in my Kotlin class like this:</p>\n<pre><code>val myLayout = findViewById&lt;RelativeLayout&gt;(R.id.myLayout)\n    myLayout.setOnTouchListener(object : OnSwipeTouchListener(this) {\n        override fun onSwipeRight() {\n            //TODO\n        }\n        override fun onSwipeLeft() {\n            //TODO\n        }\n        override fun onTouch(v: View, event: MotionEvent): Boolean {\n            return gestureDetector.onTouchEvent(event)\n        }\n    })\n</code></pre>\n<p>This gives me an error which says:</p>\n<blockquote>\n<p>CustomView &quot;RelativeLayout&quot; has setOnTouchListener called on it but does not override...</p>\n</blockquote>\n<p>So how do I put the if-statement to determine which view to show in my Kotlin Class? Or do I put it in my XML? And how will the swiping action work that way?</p>\n<p>(I hope you understand my problem)</p>\n"}, {"tags": ["kotlin", "jackson"], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 2811306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d07949399573f58b685fa00dbe09fe?s=128&d=identicon&r=PG&f=1", "display_name": "marko", "link": "https://stackoverflow.com/users/2811306/marko"}, "is_accepted": false, "score": 0, "last_activity_date": 1612819154, "creation_date": 1612819154, "answer_id": 66109521, "question_id": 50830692, "link": "https://stackoverflow.com/questions/50830692/invaliddefinitionexception-on-jackson-readvalue-on-custom-class-while-deserialis/66109521#66109521", "title": "InvalidDefinitionException on jackson readvalue on custom class while deserialisatio", "body": "<p>Yes, registering KotlinModule helps. To register Kotlin module:</p>\n<ol>\n<li><p>Add dependency to build.gradle:</p>\n<p><code>implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin:2.9.8&quot;)</code></p>\n</li>\n<li><p>Create ObjectMapper:</p>\n<p><code>import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper</code>\n<code>val mapper = jacksonObjectMapper()</code></p>\n</li>\n</ol>\n<p>More information at <a href=\"https://www.baeldung.com/kotlin/jackson-kotlin\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin/jackson-kotlin</a></p>\n"}], "owner": {"reputation": 75, "user_id": 9014617, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dy6liY8EjG0/AAAAAAAAAAI/AAAAAAAAApM/7ew6Qc7kceo/photo.jpg?sz=128", "display_name": "Hamza ALI", "link": "https://stackoverflow.com/users/9014617/hamza-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 721, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1612819154, "creation_date": 1528872425, "last_edit_date": 1528884912, "question_id": 50830692, "link": "https://stackoverflow.com/questions/50830692/invaliddefinitionexception-on-jackson-readvalue-on-custom-class-while-deserialis", "title": "InvalidDefinitionException on jackson readvalue on custom class while deserialisatio", "body": "<p>I'm getting an <code>InvalidDefinitionException</code> on parsing json into my own custom class.\n    Exception in thread \"main\" com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type <code>id.or.jisedu.repo.Book</code>: Argument #0 of constructor [constructor for id.or.jisedu.repo.Book, annotations: [null]] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n at [Source: (String)\"\u2026\"</p>\n\n<p>Here is the line which is causing issues:</p>\n\n<pre><code>val wrapper: BookWrapper = mapper.reader().forType(BookWrapper::class.java).readValue(\"\"\"\n{\n  \"book\": {\n    \"publisher\": \"Pearson\",\n    \"image\": \"https:\\/\\/images.isbndb.com\\/covers\\/34\\/13\\/9780134093413.jpg\",\n    \"title_long\": \"Campbell Biology (11th Edition)\",\n    \"edition\": \"11\",\n    \"date_published\": \"2016-10-29\",\n    \"authors\": [\n      \"Lisa A. Urry\",\n      \"Michael L. Cain\",\n      \"Steven A. Wasserman\",\n      \"Peter V. Minorsky\",\n      \"Jane B. Reece\"\n    ],\n    \"title\": \"Campbell Biology (11th Edition)\",\n    \"isbn13\": \"9780134093413\",\n    \"binding\": \"Hardcover\",\n    \"publish_date\": \"2016-10-29\",\n    \"isbn\": \"0134093410\"\n  }\n}\"\"\")\n</code></pre>\n\n<p>And here is my bookwrapper class:</p>\n\n<pre><code>data class BookWrapper(@JsonProperty(\"book\") val book: Book)\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class Book(\n  val title: String,\n  @JsonProperty(\"title_long\")\n  val titleLong: String? = null,\n  val isbn: String? = null,\n  val isbn13: String? = null,\n  val dewey_decimal: String? = null,\n  val format: String? = null,\n  val publisher: String? = null,\n  val publish: String? = null,\n  val language: String? = null,\n  @JsonProperty(\"date_published\")\n  val datePublished: String? = null,\n  @JsonProperty(\"publish_date\")\n  val publishDate: String? = null,\n  val edition: String? = null,\n  val pages: String? = null,\n  val binding: String? = null,\n  val dimensions: String? = null,\n  val overview: String? = null,\n  val excerpt: String? = null,\n  val synopsys: String? = null,\n  val image: String? = null,\n  val authors: List&lt;String&gt;,\n  val subjects: List&lt;String&gt;? = null,\n  var id: Long? = null,\n  var amount: Int = 1\n)\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>:</p>\n\n<p><strong>I forgot to register the KotlinModule. Don't forget to do that.</strong></p>\n"}, {"tags": ["android", "kotlin", "localization", "multilingual"], "comments": [{"owner": {"reputation": 197, "user_id": 4149561, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-I19mx58iRP8/AAAAAAAAAAI/AAAAAAAAATU/lvUUJXTQo9M/photo.jpg?sz=128", "display_name": "Juan", "link": "https://stackoverflow.com/users/4149561/juan"}, "edited": false, "score": 0, "creation_date": 1528896155, "post_id": 50829466, "comment_id": 88680459, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2900023/change-app-language-programmatically-in-android\">Change app language programmatically in Android</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9779588"}, "reply_to_user": {"reputation": 197, "user_id": 4149561, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-I19mx58iRP8/AAAAAAAAAAI/AAAAAAAAATU/lvUUJXTQo9M/photo.jpg?sz=128", "display_name": "Juan", "link": "https://stackoverflow.com/users/4149561/juan"}, "edited": false, "score": 0, "creation_date": 1528953726, "post_id": 50829466, "comment_id": 88702941, "body": "no its not duplicate question watch my question first then comment it @Juan de Bruin"}], "owner": {"user_type": "does_not_exist", "display_name": "user9779588"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 561, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558616690, "creation_date": 1528866837, "last_edit_date": 1528953814, "question_id": 50829466, "link": "https://stackoverflow.com/questions/50829466/not-apply-change-in-all-activity-in-multi-language-app-using-localization-in-and", "title": "Not apply change in all activity in multi language app using localization in android kotlin", "body": "<p>I wrote an Android app in Kotlin that should support multiple languages. It works one specific Activity but I want it to work app-wide. For example if I write localization code in Setting Activity to change the language, it only works in the Setting Activity not in others. Please help me make all Activities change language.</p>\n\n<p>1) My Change Language Dialog:</p>\n\n<pre><code>fun showChangeLangDialog() {\n\n    val factory = LayoutInflater.from(this)\n    val langDialog = factory.inflate(R.layout.select_lang_dialog, null)\n    selectedLanguage = SettingsHandler(this).getSettings(\"display_lang\")\n\n    val langList = resources.getStringArray(R.array.languages)\n    langList.forEach {\n        val obj = JSONObject(it)\n        val rdbtnLang = RadioButton(this)\n        rdbtnLang.id = obj.getInt(\"id\")\n        rdbtnLang.text = obj.getString(\"lang\")\n        rdbtnLang.textSize = resources.getDimension(R.dimen.radio_text_size)\n        rdbtnLang.setPadding(20, 30, 30, 30)\n        langDialog.selectLangList.addView(rdbtnLang)\n    }\n\n    AlertDialog.Builder(this)\n            .setTitle(\"Select LanguageGlobal\")\n            .setPositiveButton(\"Ok\") { dialog, i -&gt;\n                if (langDialog.selectLangList.checkedRadioButtonId &gt; 0) {\n                    settingHandler.updateSettingsViaKey(\"display_lang\", langDialog.selectLangList.checkedRadioButtonId.toString())\n                }\n\n                langList.forEach {\n                    val obj = JSONObject(it)\n                    if (langDialog.selectLangList.checkedRadioButtonId == obj.getInt(\"id\")) {\n                        setLocale(obj.getString(\"code\"))\n                        recreate()\n                    }\n                }\n                dialog.dismiss()\n            }\n            .setNegativeButton(\"Cancel\") { dialog, whichButton -&gt;\n                dialog.dismiss()\n            }\n            .setView(langDialog)\n            .create()\n            .show()\n}\n</code></pre>\n\n<p>2) setLocate() function:</p>\n\n<pre><code>fun setLocale(lang: String) {\n    val locale = Locale(lang)\n    selectedLanguage = SettingsHandler(applicationContext).getSettings(\"display_lang\")\n    Locale.setDefault(locale)\n    val config = Configuration()\n    config.locale = locale\n    baseContext.resources.updateConfiguration(config, baseContext.resources.displayMetrics)\n    val editor = getSharedPreferences(\"settings\", Context.MODE_PRIVATE).edit()\n    editor.putString(\"My_Lang\", lang)\n    editor.apply()\n}\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 12254, "user_id": 1823424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ee7bef86aab7cd416cf63260828ab3bf?s=128&d=identicon&r=PG", "display_name": "Talha", "link": "https://stackoverflow.com/users/1823424/talha"}, "edited": false, "score": 1, "creation_date": 1528889006, "post_id": 50833981, "comment_id": 88675632, "body": "Thanks for answer! 1- ArrayList implements List already.  2- I referred that document already, but it is not work for array (it is my question) 3- I am already using subcollection for some cases i need to use array coz as you know firestore doesnt support subcollection query yet."}], "tags": [], "owner": {"reputation": 1477, "user_id": 7947225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxBoA.jpg?s=128&g=1", "display_name": "Vince", "link": "https://stackoverflow.com/users/7947225/vince"}, "is_accepted": false, "score": 1, "last_activity_date": 1528882813, "creation_date": 1528882813, "answer_id": 50833981, "question_id": 50827097, "link": "https://stackoverflow.com/questions/50827097/firestore-update-array-field-in-a-document/50833981#50833981", "title": "Firestore update array field in a Document", "body": "<p>I have probably not the answer but this could help :</p>\n\n<ul>\n<li>You try to update with an ArrayList but you store a List (in your TestObject) </li>\n<li>Refer to the documentation to update fields in nested objects <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/manage-data/add-data#update_fields_in_nested_objects</a></li>\n<li>It could be a good idea to store a collection in your TestObject document instead of a list ? You'll able to update easily your fields</li>\n</ul>\n"}], "owner": {"reputation": 12254, "user_id": 1823424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ee7bef86aab7cd416cf63260828ab3bf?s=128&d=identicon&r=PG", "display_name": "Talha", "link": "https://stackoverflow.com/users/1823424/talha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3274, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1528882813, "creation_date": 1528845281, "last_edit_date": 1528880609, "question_id": 50827097, "link": "https://stackoverflow.com/questions/50827097/firestore-update-array-field-in-a-document", "title": "Firestore update array field in a Document", "body": "<p>I have a <strong>document</strong> like below, in my <strong>document</strong>, have a <strong>Array</strong> . in array have <strong>Objects</strong>. How can i update new object to an Array.</p>\n\n<p>As you see below i can add document in a colletion wit an array, but when i tried to update it gives error</p>\n\n<p><strong><em>java.lang.IllegalArgumentException: Invalid data. Unsupported type: com.test.data.modal.Product</em></strong></p>\n\n<p>What i tried;</p>\n\n<pre><code>        var pid = \"\"\n        btnAdd.setOnClickListener {\n            val list = ArrayList&lt;Product&gt;()\n            list.add(Product(\"u1\", \"1\", 1))\n            list.add(Product(\"u2\", \"2\", 1))\n            list.add(Product(\"u3\", \"3\", 1))\n\n            val testObject = TestObject(\"Talha\", \"Kosen\", list)\n            FirebaseFirestore.getInstance().collection(\"Test\")\n                    .add(testObject)\n                    .addOnCompleteListener { task -&gt;\n                        pid = task.result.id\n                    }\n        }\n\n        btnUpdate.setOnClickListener {\n            val list = ArrayList&lt;Product&gt;()\n            list.add(Product(\"u1\", \"1\", 1))\n            list.add(Product(\"u2\", \"2\", 1))\n            list.add(Product(\"u3\", \"3\", 1))\n            list.add(Product(\"u4\", \"4\", 4))\n\n            FirebaseFirestore.getInstance()\n                    .collection(\"Test\")\n                    .document(pid)\n                    .update(\"product\", list)\n        }\n</code></pre>\n\n<p>document:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5yMtb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yMtb.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>POJO:\n@IgnoreExtraProperties\n@Keep\nclass TestObject {\n\n    var name: String = \"\"\n    var surname: String = \"\"\n    lateinit var productList: List&lt;Product&gt;\n\n    constructor()\n\n    constructor(name: String, surname: String, productList: List&lt;Product&gt;) {\n        this.name = name\n        this.surname = surname\n        this.productList = productList\n    }\n}\n\n\n@IgnoreExtraProperties\n@Keep\nclass Product {\n    var imagePath: String = \"\"\n    var productUrl: String = \"\"\n    var brand: Int = 0\n\n    constructor()\n\n    constructor(imagePath: String, productUrl: String, brand: Int) {\n        this.imagePath = imagePath\n        this.productUrl = productUrl\n        this.brand = brand\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "coroutine"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1528839936, "post_id": 50825802, "comment_id": 88657279, "body": "All Firebase APIs for mobile and web clients are asynchronous.  Coroutines are actually all also asynchronous, but the compiler just makes them appear synchronous by internally restructuring your code."}], "answers": [{"comments": [{"owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "edited": false, "score": 0, "creation_date": 1529672816, "post_id": 50827768, "comment_id": 88971797, "body": "I use LiveData in the presentation layer. I am trying to decouple my presentation and domain layer from Firebase."}], "tags": [], "owner": {"reputation": 1605, "user_id": 415673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5b6587837176e54e1bf1404d6335530?s=128&d=identicon&r=PG", "display_name": "fangzhzh", "link": "https://stackoverflow.com/users/415673/fangzhzh"}, "is_accepted": false, "score": 0, "last_activity_date": 1528851578, "creation_date": 1528851578, "answer_id": 50827768, "question_id": 50825802, "link": "https://stackoverflow.com/questions/50825802/making-synchronous-calls-to-cloud-firestore-when-running-off-the-main-thread/50827768#50827768", "title": "Making synchronous calls to Cloud Firestore when running off the main thread", "body": "<p>That's is not the way how firebase works. Firebase is based on callback.</p>\n\n<p>I recommend architecture component's livedata.</p>\n\n<p>Please check the following example.</p>\n\n<p>here is a link: <a href=\"https://android.jlelse.eu/android-architecture-components-with-firebase-907b7699f6a0\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/android-architecture-components-with-firebase-907b7699f6a0</a></p>\n"}, {"comments": [{"owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "edited": false, "score": 0, "creation_date": 1529672873, "post_id": 50831341, "comment_id": 88971837, "body": "It is a little over-engineered I agree, but my goal was to make my domain and presentation independent of Firebase."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1528874669, "creation_date": 1528874669, "answer_id": 50831341, "question_id": 50825802, "link": "https://stackoverflow.com/questions/50825802/making-synchronous-calls-to-cloud-firestore-when-running-off-the-main-thread/50831341#50831341", "title": "Making synchronous calls to Cloud Firestore when running off the main thread", "body": "<p>This is overengineered, there are several layers trying to do the same thing. I suggest you go back a few steps, undo the abstractions and get into the mood of using coroutines directly. Implement a <code>suspend fun</code> according to <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#wrapping-callbacks\" rel=\"nofollow noreferrer\">this template</a>. You don't need the crutches of <code>Either</code>, handle exceptions in the most natural way: a <code>try-catch</code> around a <code>suspend fun</code> call.</p>\n\n<p>You should end up with a signature as follows:</p>\n\n<pre><code>suspend fun movieList(): List&lt;MovieEntity&gt;\n</code></pre>\n\n<p>Call site:</p>\n\n<pre><code>launch(UI) {\n    try {\n        val list = movieList()\n        ...\n    } catch (e: FireException) {\n        // handle\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1441, "user_id": 6086782, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-05vGY-ZWcRE/AAAAAAAAAAI/AAAAAAAAahU/WD_Ud5Nfa_U/photo.jpg?sz=128", "display_name": "varun", "link": "https://stackoverflow.com/users/6086782/varun"}, "edited": false, "score": 1, "creation_date": 1555264914, "post_id": 50988957, "comment_id": 98041645, "body": "Beautiful, thanks for the link. Nice to find an answer which actually provides a way to use Tasks API in a blocking fashion! Whenever someone asks such a question, people overwhelmingly respond with <b>&quot;that&#39;s not how you use async stuff!!!!!!!&quot;</b> instead of &quot;This is the way to block it, but please don&#39;t do it on main thread&quot;..."}], "tags": [], "owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "is_accepted": true, "score": 11, "last_activity_date": 1529673774, "creation_date": 1529673774, "answer_id": 50988957, "question_id": 50825802, "link": "https://stackoverflow.com/questions/50825802/making-synchronous-calls-to-cloud-firestore-when-running-off-the-main-thread/50988957#50988957", "title": "Making synchronous calls to Cloud Firestore when running off the main thread", "body": "<p>So I found what I was looking for in the Google Tasks API: \"If your program is already executing in a background thread you can block a task to get the result synchronously and avoid callbacks\" <a href=\"https://developers.google.com/android/guides/tasks#blocking\" rel=\"noreferrer\">https://developers.google.com/android/guides/tasks#blocking</a></p>\n\n<p>So my previous problematic code becomes: </p>\n\n<pre><code>private fun movieListResponse(): Call.Response&lt;List&lt;MovieEntity&gt;&gt; {\n        return try {\n            val taskResult = Tasks.await(FirebaseFirestore.getInstance().\n                    collection(DataConfig.databasePath + MOVIES_PATH).get(), 2, TimeUnit.SECONDS)\n            Call.Response(true, taskResult.mapTo(ArrayList()) { MovieEntity.fromSnapshot(it) }, null)\n        } catch (e: ExecutionException) {\n            Call.Response(false, null, Failure.ServerError())\n        } catch (e: InterruptedException) {\n            Call.Response(false, null, Failure.InterruptedError())\n        } catch (e: TimeoutException) {\n            Call.Response(false, null, Failure.TimeoutError())\n        }\n    }\n</code></pre>\n\n<p>Note I no longer need my Thread.sleep while loop.\n<strong>This code should only be run in a background thread/kotlin coroutine.</strong></p>\n"}], "owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2732, "favorite_count": 2, "accepted_answer_id": 50988957, "answer_count": 3, "score": 7, "last_activity_date": 1551274274, "creation_date": 1528837407, "last_edit_date": 1529673980, "question_id": 50825802, "link": "https://stackoverflow.com/questions/50825802/making-synchronous-calls-to-cloud-firestore-when-running-off-the-main-thread", "title": "Making synchronous calls to Cloud Firestore when running off the main thread", "body": "<p>I am building an app based off of the Android Clean Architecture Kotlin version (<a href=\"https://github.com/android10/Android-CleanArchitecture-Kotlin\" rel=\"noreferrer\">https://github.com/android10/Android-CleanArchitecture-Kotlin</a>).</p>\n\n<p>Using this architecture, each time you want to invoke a use case, a Kotlin coroutine is launched and the result is posted in the main thread. This is achieved by this code:</p>\n\n<pre><code>abstract class UseCase&lt;out Type, in Params&gt; where Type : Any {\n\nabstract suspend fun run(params: Params): Either&lt;Failure, Type&gt;\n\nfun execute(onResult: (Either&lt;Failure, Type&gt;) -&gt; Unit, params: Params) {\n    val job = async(CommonPool) { run(params) }\n    launch(UI) { onResult.invoke(job.await()) }\n}\n</code></pre>\n\n<p>In his example architecture, Mr. Android10 uses Retrofit to make a synchronous api call inside the kotlin couroutine. For example:</p>\n\n<pre><code>override fun movies(): Either&lt;Failure, List&lt;Movie&gt;&gt; {\n            return when (networkHandler.isConnected) {\n                true -&gt; request(service.movies(), { it.map { it.toMovie() } }, emptyList())\n                false, null -&gt; Left(NetworkConnection())\n            }\n        }\n\nprivate fun &lt;T, R&gt; request(call: Call&lt;T&gt;, transform: (T) -&gt; R, default: T): Either&lt;Failure, R&gt; {\n            return try {\n                val response = call.execute()\n                when (response.isSuccessful) {\n                    true -&gt; Right(transform((response.body() ?: default)))\n                    false -&gt; Left(ServerError())\n                }\n            } catch (exception: Throwable) {\n                Left(ServerError())\n            }\n        }\n</code></pre>\n\n<p>'Either' represents a disjoint type, meaning the result will either be a Failure or the object of type T you want.</p>\n\n<p>His service.movies() method is implemented like so (using retrofit)</p>\n\n<pre><code>@GET(MOVIES) fun movies(): Call&lt;List&lt;MovieEntity&gt;&gt;\n</code></pre>\n\n<p><b>Now here is my question</b>. I am replacing retrofit with Google Cloud Firestore. I know that currently, Firebase/Firestore is an all async library. I want to know if anyone knows of a method more elegant way of making a synchronous API call to Firebase.</p>\n\n<p>I implemented my own version of Call:</p>\n\n<pre><code>interface Call&lt;T: Any&gt; {\n    fun execute(): Response&lt;T&gt;\n\n    data class Response&lt;T&gt;(var isSuccessful: Boolean, var body: T?, var failure: Failure?)\n}\n</code></pre>\n\n<p><b> and my API call is implemented here </b></p>\n\n<pre><code>override fun movieList(): Call&lt;List&lt;MovieEntity&gt;&gt; = object : Call&lt;List&lt;MovieEntity&gt;&gt; {\n        override fun execute(): Call.Response&lt;List&lt;MovieEntity&gt;&gt; {\n            return movieListResponse()\n        }\n    }\n\n    private fun movieListResponse(): Call.Response&lt;List&lt;MovieEntity&gt;&gt; {\n        var response: Call.Response&lt;List&lt;MovieEntity&gt;&gt;? = null\n        FirebaseFirestore.getInstance().collection(DataConfig.databasePath + MOVIES_PATH).get().addOnCompleteListener { task -&gt;\n            response = when {\n                !task.isSuccessful -&gt; Call.Response(false, null, Failure.ServerError())\n                task.result.isEmpty -&gt; Call.Response(false, null, MovieFailure.ListNotAvailable())\n                else -&gt; Call.Response(true, task.result.mapTo(ArrayList()) { MovieEntity.fromSnapshot(it) }, null)\n            }\n        }\n        while (response == null)\n            Thread.sleep(50)\n\n        return response as Call.Response&lt;List&lt;MovieEntity&gt;&gt;\n    }\n</code></pre>\n\n<p><b>Of course, the while loop at the end bothers me.</b> Is there any other, more elegant ways, to wait for the response to be assigned before returning from the <code>movieListResponse</code> method?</p>\n\n<p>I tried calling await() on the Task that is returned from the Firebase <code>get()</code> method, but the <code>movieListResponse</code> method would return immediately anyway. Thanks for the help!</p>\n"}, {"tags": ["android", "image", "kotlin", "take"], "comments": [{"owner": {"reputation": 552, "user_id": 7447124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2f45ad25cdb7a436e05ebc226bab38?s=128&d=identicon&r=PG&f=1", "display_name": "aman5319", "link": "https://stackoverflow.com/users/7447124/aman5319"}, "edited": false, "score": 0, "creation_date": 1528853721, "post_id": 50824471, "comment_id": 88660454, "body": "did you gave write permission  in manifest"}], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": true, "score": 0, "last_activity_date": 1528870766, "creation_date": 1528870766, "answer_id": 50830280, "question_id": 50824471, "link": "https://stackoverflow.com/questions/50824471/how-to-refactor-this-android-takepicture-code-in-kotlin/50830280#50830280", "title": "How to refactor this Android TakePicture code in Kotlin?", "body": "<p>IOException could be because of Permission denied scenario.Please add the permission in your manifest file.</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>And as it requires runtime user approval, you have to initiate the permission request.</p>\n\n<pre><code>ActivityCompat.requestPermissions(mContext,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},REQ_CODE);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7586495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c35c04f2e2cc95421066eabe0620fee7?s=128&d=identicon&r=PG&f=1", "display_name": "Javallion", "link": "https://stackoverflow.com/users/7586495/javallion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 50830280, "answer_count": 1, "score": 0, "last_activity_date": 1528870766, "creation_date": 1528831652, "last_edit_date": 1528847072, "question_id": 50824471, "link": "https://stackoverflow.com/questions/50824471/how-to-refactor-this-android-takepicture-code-in-kotlin", "title": "How to refactor this Android TakePicture code in Kotlin?", "body": "<p>I was following the example of 'Take Picture' from Android website (converting the code into Kotlin as I go along). It works all fine when everything is in one class. I then decided to delegate the responsibility of providing a file object and string path to another class. But my app started crashing (error report below). What do I have to learn here?</p>\n\n<pre><code>package com.dj.camera1\n\n\nimport android.os.Environment\nimport java.io.File\nimport java.io.IOException\nimport java.text.SimpleDateFormat\nimport java.util.*\n\n\nclass UniqueName {\n\n    companion object {\n        var mCurrentPhotoPath: String = \"\"\n    }\n    @Throws(IOException::class)\n    internal fun createImageFile(): File {\n        // Create an image file name\n        var timeStamp = SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Date())\n        var imageFileName = \"JPEG_\" + timeStamp + \"_\"\n        var storageDir:File = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)\n        var image = File.createTempFile(\n                imageFileName, /* prefix */\n                \".jpg\", /* suffix */\n                storageDir      /* directory */\n        )\n        // Save a file: path for use with ACTION_VIEW intents\n        mCurrentPhotoPath = image.getAbsolutePath()\n        return image\n    }\n}\n</code></pre>\n\n<p>I am getting the IOException!</p>\n\n<p>(Edited the code above to reflect the change of code and change of directory to public one)</p>\n\n<p>My code in mainactivity is as follows:</p>\n\n<pre><code>lateinit var photoContainer:File\n                    try {\n                        photoContainer = UniqueName().createImageFile()\n                    } catch (c:IOException){\n                        Log.d(\"MainActivity\",\"PhotoContainer couldn't be initialised\")\n                    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-edittext", "viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7963165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31e2d7deb42e087ea1b15c99c5bcfb48?s=128&d=identicon&r=PG&f=1", "display_name": "iperion300", "link": "https://stackoverflow.com/users/7963165/iperion300"}, "edited": false, "score": 1, "creation_date": 1528914263, "post_id": 50825222, "comment_id": 88691252, "body": "Nice tip about string, @karthik. I remembered to read something about references in viewModel. That&#39;s what it&#39;s all about. Thx again."}], "tags": [], "owner": {"reputation": 687, "user_id": 4267697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-R9fnFSEkiH4/AAAAAAAAAAI/AAAAAAAAD0A/o2Bs6OqDn-s/photo.jpg?sz=128", "display_name": "karthik prasad", "link": "https://stackoverflow.com/users/4267697/karthik-prasad"}, "is_accepted": true, "score": 8, "last_activity_date": 1536220847, "last_edit_date": 1536220847, "creation_date": 1528834595, "answer_id": 50825222, "question_id": 50824330, "link": "https://stackoverflow.com/questions/50824330/how-to-pass-edittext-value-to-viewmodel-and-livedata-kotlin/50825222#50825222", "title": "How to pass editText value to viewModel and Livedata (Kotlin)", "body": "<p>ViewModel should not have any reference to Android.* libraries. So you having a reference to FragmentOne is a bad practice.</p>\n\n<p>A cleaner approach is to change the <code>update()</code> function to accept a String - </p>\n\n<pre><code> fun update(result: String){\n        _result.value = result\n    }\n</code></pre>\n\n<p>And change your FragmentOne code to say - </p>\n\n<pre><code>btn?.setOnClickListener({\n    val field1 = n1.text.toString().toInt()\n    val field2 = n2.text.toString().toInt()\n    resultSum = field1 + field2\n    model.update(resultSum)\n})\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 7963165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31e2d7deb42e087ea1b15c99c5bcfb48?s=128&d=identicon&r=PG&f=1", "display_name": "iperion300", "link": "https://stackoverflow.com/users/7963165/iperion300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8318, "favorite_count": 0, "accepted_answer_id": 50825222, "answer_count": 1, "score": 6, "last_activity_date": 1573503916, "creation_date": 1528831046, "last_edit_date": 1573503916, "question_id": 50824330, "link": "https://stackoverflow.com/questions/50824330/how-to-pass-edittext-value-to-viewmodel-and-livedata-kotlin", "title": "How to pass editText value to viewModel and Livedata (Kotlin)", "body": "<p>I'm studying Android + Kotlin and make a simple example to understand LiveData + ViewModel. It's very simple: I have one root activity and two fragments. FragmentOne has two EditTexts. That values are summed and I need to pass the result to a ViewModel. Then I use observe in both root activity and FragmentTwo to see the changed data.</p>\n\n<p><strong>FragmentOne</strong></p>\n\n<pre><code>class FragmentOne: Fragment() {\n   private val model by lazy { ViewModelProviders.of(activity).get(MyViewModel::class.java) }\n   var resultSum:Int = 0\n\n   override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n     val view = inflater?.inflate(R.layout.fragment_one,container,false)\n     val btn = view?.findViewById&lt;Button&gt;(R.id.sendToModel)\n     btn?.setOnClickListener({\n         val field1 = n1.text.toString().toInt()\n         val field2 = n2.text.toString().toInt()\n         resultSum = field1 + field2\n         model.update()\n     })\n     return view\n  }\n}\n</code></pre>\n\n<p><strong>viewModel</strong></p>\n\n<pre><code>class MyViewModel: ViewModel() {\n   private val fragment by lazy {FragmentOne()}\n   private var _result = MutableLiveData&lt;Int&gt;().apply { value = 0 }\n   val result: LiveData&lt;Int&gt;\n      get() = _result\n\n   fun update(){\n       _result.value = fragment.resultSum\n   }\n}\n</code></pre>\n\n<p><strong>Observer root activity</strong></p>\n\n<pre><code>private val resultModel by lazy {ViewModelProviders.of(this).get(MyViewModel::class.java)}\nresultModel.result.observe(this, Observer { result -&gt; resultTxt.text = result.toString()})\n</code></pre>\n\n<p><strong>Observer FragmentTwo</strong></p>\n\n<pre><code>private val resultModel by lazy {ViewModelProviders.of(activity).get(MyViewModel::class.java)}\nresultModel.result.observe(this, Observer { result -&gt; resultTxt.text = result.toString()})\n</code></pre>\n\n<p>I checked <code>var resultSum</code> (Log) and It hold Int value from sum. The observer is working too (if I instantiate <code>result.value</code> inside ViewModel, the value is observable to activity and fragment)</p>\n\n<p>I appreciate any help.</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1528828255, "post_id": 50823486, "comment_id": 88652288, "body": "are you aware of google&#39;s <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">paging</a> support library?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528830325, "post_id": 50823486, "comment_id": 88653300, "body": "1400 is a lot for UI thread. Use paging lib."}, {"owner": {"reputation": 1, "user_id": 6841912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874378bbc2458019073a8d4df22d5fbc?s=128&d=identicon&r=PG&f=1", "display_name": "adrian.lemus", "link": "https://stackoverflow.com/users/6841912/adrian-lemus"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528833066, "post_id": 50823486, "comment_id": 88654518, "body": "@EpicPandaForce I am testing it right now on a Samsung SM-J106B running Android 6.0.1, API 23 and using dummy data. I am not experiencing any noticeable impact on performance."}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 2, "creation_date": 1528836619, "post_id": 50823486, "comment_id": 88656124, "body": "Use Rx or LiveData to observer the results of your queries. It&#39;s very easy."}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1528879329, "post_id": 50823486, "comment_id": 88669460, "body": "I don&#39;t really see why would you want to perform anything apart from drawing (assigning values to TextViews and etc.) and handling events (clicks, adapter&#39;s events, etc.) on UI thread. What&#39;s the point? These days there is plenty of solutions to effortlessly implement asynchronous calls, I strongly recommend you reading this: <a href=\"http://shop.oreilly.com/product/0636920042228.do\" rel=\"nofollow noreferrer\">shop.oreilly.com/product/0636920042228.do</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6841912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874378bbc2458019073a8d4df22d5fbc?s=128&d=identicon&r=PG&f=1", "display_name": "adrian.lemus", "link": "https://stackoverflow.com/users/6841912/adrian-lemus"}, "edited": false, "score": 0, "creation_date": 1528833204, "post_id": 50824027, "comment_id": 88654580, "body": "Will this happen with larger data sets or are there other conditions which may trigger this?"}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1528879424, "post_id": 50824027, "comment_id": 88669522, "body": "An old device with app running on low quality SD card can do lots of things. It&#39;s not wise to relate on modern powerful devices being able to swallow up some load on UI thread, whilst old ones will break with ANR"}], "tags": [], "owner": {"reputation": 952, "user_id": 1647098, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c848a8a12dd0250ce4f7044b813eee53?s=128&d=identicon&r=PG", "display_name": "eimmer", "link": "https://stackoverflow.com/users/1647098/eimmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1528829768, "creation_date": 1528829768, "answer_id": 50824027, "question_id": 50823486, "link": "https://stackoverflow.com/questions/50823486/android-kotlin-risks-of-running-room-query-on-main-thread-1400-data-value/50824027#50824027", "title": "Android (Kotlin): Risks of running Room query on main thread ( &lt; 1400 data values )", "body": "<p>DB queries could take long enough that they would cause the UI to skip frames causing a bad visual experience or worse trigger an app not responding exception.</p>\n"}], "owner": {"reputation": 1, "user_id": 6841912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/874378bbc2458019073a8d4df22d5fbc?s=128&d=identicon&r=PG&f=1", "display_name": "adrian.lemus", "link": "https://stackoverflow.com/users/6841912/adrian-lemus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528833162, "creation_date": 1528827705, "last_edit_date": 1528833162, "question_id": 50823486, "link": "https://stackoverflow.com/questions/50823486/android-kotlin-risks-of-running-room-query-on-main-thread-1400-data-value", "title": "Android (Kotlin): Risks of running Room query on main thread ( &lt; 1400 data values )", "body": "<p>I'm wondering what the possible drawbacks are to running my queries on the main thread. At the moment I am loading data from a database using Room and am using this data to generate graphs for the user. </p>\n\n<p>I have already tried putting my queries into separate threads using a runnable, but I am having issues with the application attempting to use data which has not yet been loaded due to the separate thread not finishing it's operation in time. I understand that I could implement some sort of listener or notification, but even then, the user will have to wait an undetermined amount of time before they may view the content because the data for the graphs that they are wanting to view never loads before the button that loads them is clicked. </p>\n\n<p>I have done quite a bit of research and found that it is unadvisable to put the queries on the main thread because it could possibly hang up the thread for a long time and give a poor user experience. So, assuming that I will never exceed 1400 data members, should I worry about this? Are there any caveats that I have not been informed of? </p>\n\n<p><strong>Edit:</strong> I am testing the device on a Samsung SM-J106B which is running Android 6.0.1 and I have not noticed any impact on performance even when loading the max of 1400 data members. </p>\n"}, {"tags": ["android", "kotlin", "textview", "margin", "padding"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1528827536, "post_id": 50823328, "comment_id": 88651906, "body": "<code>I&#39;ve tried this:</code> and what was the result?"}], "answers": [{"comments": [{"owner": {"reputation": 771, "user_id": 4464547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SU8yD.jpg?s=128&g=1", "display_name": "Tazwar Utshas", "link": "https://stackoverflow.com/users/4464547/tazwar-utshas"}, "edited": false, "score": 0, "creation_date": 1528856939, "post_id": 50826311, "comment_id": 88661073, "body": "Thanx for your help :)"}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 771, "user_id": 4464547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SU8yD.jpg?s=128&g=1", "display_name": "Tazwar Utshas", "link": "https://stackoverflow.com/users/4464547/tazwar-utshas"}, "edited": false, "score": 0, "creation_date": 1528861407, "post_id": 50826311, "comment_id": 88661899, "body": "@TazwarUtshas No Problem!"}], "tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": true, "score": 17, "last_activity_date": 1528840587, "last_edit_date": 1528840587, "creation_date": 1528840181, "answer_id": 50826311, "question_id": 50823328, "link": "https://stackoverflow.com/questions/50823328/how-to-change-margin-and-padding-of-textview-kotlin/50826311#50826311", "title": "How to change margin and padding of textview - kotlin", "body": "<p>You have to call <code>setPadding(int left, int top, int right, int bottom)</code></p>\n\n<p>like so:</p>\n\n<p><code>maskot_names.setPadding(0,16,0,0)</code></p>\n\n<p>What you are trying to use is only the getter.</p>\n\n<p>Android studio shows what <code>padding...()</code> actually means in java:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TDLA2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TDLA2.png\" alt=\"padding example\"></a> </p>\n\n<p>The image shows it only calls <code>getPadding...()</code></p>\n\n<p>If you want to add a margin to your <code>TextView</code> you will have to <code>LayoutParams</code>:</p>\n\n<pre><code>val params = LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,LinearLayout.LayoutParams.WRAP_CONTENT)\nparams.setMargins(int left, int top, int right, int bottom)\nmaskot_names.layoutParams = params\n</code></pre>\n"}], "owner": {"reputation": 771, "user_id": 4464547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SU8yD.jpg?s=128&g=1", "display_name": "Tazwar Utshas", "link": "https://stackoverflow.com/users/4464547/tazwar-utshas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8720, "favorite_count": 0, "accepted_answer_id": 50826311, "answer_count": 1, "score": 0, "last_activity_date": 1528840587, "creation_date": 1528827117, "question_id": 50823328, "link": "https://stackoverflow.com/questions/50823328/how-to-change-margin-and-padding-of-textview-kotlin", "title": "How to change margin and padding of textview - kotlin", "body": "<p>How to change margin and padding of textview in kotlin? I've tried this:</p>\n\n<pre><code>  val maskot_names = maskot_row.findViewById&lt;TextView&gt;(R.id.maskot_name)\n            maskot_names.text=maskot_names_list.get(position)\n\n            // showing \"???\" if maskot_names is empty\n            if(maskot_names.text==\"\")\n            {\n                maskot_names.text=\"\uff1f\uff1f\uff1f\"\n                maskot_names.paddingTop(16f) \n            }\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "kotlin-multiplatform"], "answers": [{"tags": [], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "is_accepted": false, "score": 0, "last_activity_date": 1528824664, "creation_date": 1528824664, "answer_id": 50822720, "question_id": 50822719, "link": "https://stackoverflow.com/questions/50822719/android-studio-kotlin-multiplatform-project-has-messed-up-auto-complete/50822720#50822720", "title": "Android Studio Kotlin Multiplatform project has messed up auto-complete", "body": "<p>This seems to be a bug in Android Studio at the moment.  You can force the IDE to rebuild the relevant information by:</p>\n\n<ul>\n<li>removing a module from your <code>settings.gradle</code> file</li>\n<li>syncing</li>\n<li>adding the module back in</li>\n<li>syncing again</li>\n</ul>\n\n<p>I don't know why this works, but it did for me.</p>\n"}], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1528824664, "creation_date": 1528824664, "question_id": 50822719, "link": "https://stackoverflow.com/questions/50822719/android-studio-kotlin-multiplatform-project-has-messed-up-auto-complete", "title": "Android Studio Kotlin Multiplatform project has messed up auto-complete", "body": "<p>I am building a Kotlin Multiplatform project in Android Studio, and the auto-complete for the common libraries that I am using is not working, but it builds in Gradle just fine.</p>\n\n<p>I've tried:</p>\n\n<ul>\n<li>invalidating the IDE's caches and restarting</li>\n<li>cleaning my build</li>\n<li>closing and reopening the project</li>\n</ul>\n\n<p>all with no success.</p>\n"}, {"tags": ["generics", "interface", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1529054647, "post_id": 50821549, "comment_id": 88746821, "body": "How does your declaration of <code>InsectInteractorMapperImp</code> look like after the update?"}], "answers": [{"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1528909238, "post_id": 50826650, "comment_id": 88688676, "body": "that answer did work, thanks. However, I am getting a unchecked warning with the assignment. I have updated my question"}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1528910095, "post_id": 50826650, "comment_id": 88689146, "body": "@ant2009 what type if list is <code>insectDataModelList </code> ? is it a list of <code>InsectDataModel</code>?"}, {"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1528946272, "post_id": 50826650, "comment_id": 88701165, "body": "derek, yes it is a InsectDataModel. This is the declaration <code>private List&lt;InsectDataModel&gt; insectDataModelList = Collections.emptyList();</code> It is in a java class."}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1529014681, "post_id": 50826650, "comment_id": 88735619, "body": "@ant2009 What if you put <code>List&lt;InsectDataModel&gt; insectDataModelList = insectInteractorMapper.map(cursor);</code> do you get the same warning? The warning pretty much says the list you have doesn&#39;t match the list it will return"}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1529016606, "post_id": 50826650, "comment_id": 88736158, "body": "@ant2009 you can also ignore it by adding <code>@SuppressWarnings(&quot;unchecked&quot;)</code> above the function if you know the type"}], "tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": true, "score": 7, "last_activity_date": 1528842265, "creation_date": 1528842265, "answer_id": 50826650, "question_id": 50821549, "link": "https://stackoverflow.com/questions/50821549/designing-classes-and-interfaces-with-generic-types/50826650#50826650", "title": "Designing classes and interfaces with generic types", "body": "<p>Since you want a <code>in</code> type and an <code>out</code> type you need to declare those like so:</p>\n\n<pre><code>interface InsectInteractorMapper&lt;in T1, out T2&gt; {\n    fun map(insectTypesEntity: T1): T2\n    fun map(cursor: Cursor): List&lt;T2&gt;\n}\n</code></pre>\n\n<p>Then your code will work</p>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 50826650, "answer_count": 1, "score": 7, "last_activity_date": 1528994258, "creation_date": 1528819654, "last_edit_date": 1528909192, "question_id": 50821549, "link": "https://stackoverflow.com/questions/50821549/designing-classes-and-interfaces-with-generic-types", "title": "Designing classes and interfaces with generic types", "body": "<p>I have the following interface that maps and accepts as a parameter a <code>InsectTypesEntity</code> and return a object of a <code>InsectDataModel</code> and another that returns a <code>List&lt;InsectDataModel&gt;</code></p>\n\n<p>I am trying to do this with generics, as I would like to practice this.</p>\n\n<pre><code>interface InsectInteractorMapper&lt;T&gt; {\n    fun map(insectTypesEntity: T): T\n    fun map(cursor: Cursor): List&lt;T&gt;\n}\n</code></pre>\n\n<p>Without the generics it would be something like this:</p>\n\n<pre><code>interface InsectInteractorMapper&lt;InsectTypesEntity&gt; {\n    fun map(insectTypesEntity: InsectTypesEntity): InsectDataModel\n    fun map(cursor: Cursor): List&lt;InsectDataModel&gt;\n}\n</code></pre>\n\n<p>I am trying to get my class that implements this using the generic version of the interface, however, I get many errors related:</p>\n\n<pre><code>1) Return type is 'insectDataModel' which is not a subtype of overridden\npublic abstract fun map(insectTypesEntity: InsectTypesEntity): InsectTypeEntity defined in InsectInteractorMapper\n\n2) Return type is 'List&lt;InsectDataModel&gt;' which is not a subtype of overridden\npublic abstract fun map(cursor: Cursor): List&lt;InsectTypesEntity&gt; defined in InsectInteractorMapper\n</code></pre>\n\n<p>The class that implements the interface</p>\n\n<pre><code>class InsectInteractorMapperImp: InsectInteractorMapper&lt;InsectTypesEntity&gt; {\n    override fun map(insectTypesEntity: InsectTypesEntity): InsectDataModel {\n\n        return InsectDataModel(\n                insectTypesEntity.friendlyName,\n                insectTypesEntity.scientificName,\n                insectTypesEntity.classification,\n                insectTypesEntity.imageAsset,\n                insectTypesEntity.dangerLevel)\n    }\n\n    override fun map(cursor: Cursor): List&lt;InsectDataModel&gt; {\n        val insectDataModelList: MutableList&lt;InsectDataModel&gt; = mutableListOf()\n\n        cursor.moveToFirst()\n        while(cursor.moveToNext()) {\n            InsectDataModel().let {\n                it.friendlyName = cursor.getString(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_FRIENDLY_NAME))\n                it.scientificName = cursor.getString(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_SCIENTIFIC_NAME))\n                it.dangerLevel = cursor.getInt(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_DANGER_LEVEL))\n\n                insectDataModelList.add(it)\n            }\n        }\n\n        cursor.close()\n        return insectDataModelList.toList()\n    }\n}\n</code></pre>\n\n<p>What would be the best way to get this working correctly with generics?</p>\n\n<p>many thanks for any suggestions,</p>\n\n<p>==== UPDATE\nModified interface for in/out variance:</p>\n\n<pre><code>interface InsectInteractorMapper&lt;in E, out M&gt; {\n    fun map(insectTypesEntity: E): M\n    fun map(cursor: Cursor): List&lt;M&gt;\n}\n</code></pre>\n\n<p>However, I am getting a warning when I try and use the interface:</p>\n\n<pre><code>unchecked assignment java.util.List to java.util.List&lt;InsectDataModel&gt; Reason insectDataModelMapper has raw type so result of map will be erased \n</code></pre>\n\n<p>When I use it like this:</p>\n\n<pre><code>insectInteractorMapper = new InsectInteractorMapperImp();\ninsectDataModelList = insectInteractorMapper.map(cursor);\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 583, "user_id": 1086410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f459bdb2d5e6e80a901eaf0a903849b7?s=128&d=identicon&r=PG", "display_name": "randomuser", "link": "https://stackoverflow.com/users/1086410/randomuser"}, "edited": false, "score": 1, "creation_date": 1528818659, "post_id": 50821119, "comment_id": 88647663, "body": "AudioFlinger is a system component and com.google.android.googlequicksearchbox (quick search bar) is triggering AudioRecord, so not related to your code, you&#39;re running most likely out of memory or revoked some permission. Just disable &quot;ok google&quot; detection."}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528824214, "creation_date": 1528818338, "last_edit_date": 1528824214, "question_id": 50821119, "link": "https://stackoverflow.com/questions/50821119/kotlin-android-error-messages-but-app-runs-well", "title": "Kotlin Android error messages, but app runs well", "body": "<p>My Android app written in Kotlin is ok to run, but Android Studio keeps showing a lot of errors. Can anyone help me solve it?</p>\n\n<pre><code>06-12 20:30:40.244 1500-11361/? E/AudioFlinger: not enough memory for AudioTrack size=131296\n06-12 20:30:40.244 1500-11361/? E/AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\n06-12 20:30:40.244 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord: AudioFlinger could not create record track, status: -12\n06-12 20:30:40.246 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\n06-12 20:30:40.246 2960-13595/com.google.android.googlequicksearchbox:search E/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\n06-12 20:30:45.283 1500-1808/? E/AudioFlinger: not enough memory for AudioTrack size=131296\n06-12 20:30:45.284 1500-1808/? E/AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\n06-12 20:30:45.284 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord: AudioFlinger could not create record track, status: -12\n06-12 20:30:45.285 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\n06-12 20:30:45.285 2960-13595/com.google.android.googlequicksearchbox:search E/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\n06-12 20:30:50.312 1500-1808/? E/AudioFlinger: not enough memory for AudioTrack size=131296\n06-12 20:30:50.312 1500-1808/? E/AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\n06-12 20:30:50.312 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord: AudioFlinger could not create record track, status: -12\n06-12 20:30:50.314 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\n06-12 20:30:50.314 2960-13595/com.google.android.googlequicksearchbox:search E/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\n06-12 20:30:55.347 1500-1808/? E/AudioFlinger: not enough memory for AudioTrack size=131296\n06-12 20:30:55.347 1500-1808/? E/AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\n06-12 20:30:55.348 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord: AudioFlinger could not create record track, status: -12\n06-12 20:30:55.349 2960-13595/com.google.android.googlequicksearchbox:search E/AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\n06-12 20:30:55.349 2960-13595/com.google.android.googlequicksearchbox:search E/android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\n06-12 20:31:00.009 1664-1684/system_process E/memtrack: Couldn't load memtrack module\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 7271796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGXB.png?s=128&g=1", "display_name": "MrPowerGamerBR", "link": "https://stackoverflow.com/users/7271796/mrpowergamerbr"}, "is_accepted": false, "score": 2, "last_activity_date": 1528817566, "creation_date": 1528817566, "answer_id": 50820870, "question_id": 50820869, "link": "https://stackoverflow.com/questions/50820869/kotlin-script-engine-throws-unresolved-reference-even-if-the-package-and-clas/50820870#50820870", "title": "Kotlin Script Engine throws &quot;unresolved reference&quot;, even if the package and class is valid", "body": "<p>While this <a href=\"https://youtrack.jetbrains.com/issue/KT-21443\" rel=\"nofollow noreferrer\">YouTrack issue</a> is related to fat JARs, this also can happen if you aren't using fat JARs (loading all the libraries via the startup classpath option or the Class-Path manifest option)</p>\n\n<p>To fix this, or you can all your dependencies on your startup script like this:</p>\n\n<pre><code>-Dkotlin.script.classpath=jar1:jar2:jar3:jar4\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>java -Dkotlin.script.classpath=libs/dependency1.jar:libs/dependency2.jar:yourjar.jar -jar yourjar.jar\n</code></pre>\n\n<p>Or, if you prefer, set the property via code, using your Class-Path manifest option.</p>\n\n<pre><code>val path = this::class.java.protectionDomain.codeSource.location.path\nval jar = JarFile(path)\nval mf = jar.manifest\nval mattr = mf.mainAttributes\n// Yes, you SHOULD USE Attributes.Name.CLASS_PATH! Don't try using \"Class-Path\", it won't work!\nval manifestClassPath = mattr[Attributes.Name.CLASS_PATH] as String\n\n// The format within the Class-Path attribute is different than the one expected by the property, so let's fix it!\n// By the way, don't forget to append your original JAR at the end of the string!\nval propClassPath = manifestClassPath.replace(\" \", \":\") + \":Loritta-0.0.1-SNAPSHOT.jar\"\n\n// Now we set it to our own classpath\nSystem.setProperty(\"kotlin.script.classpath\", propClassPath)\n</code></pre>\n\n<p>While I didn't test this yet, in another unrelated answer it seems you can also supply your own classpath if you initialize the KotlinJsr223JvmLocalScriptEngine object yourself (as seen <a href=\"https://stackoverflow.com/a/44796842/7271796\">here</a>)</p>\n"}], "owner": {"reputation": 319, "user_id": 7271796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGXB.png?s=128&g=1", "display_name": "MrPowerGamerBR", "link": "https://stackoverflow.com/users/7271796/mrpowergamerbr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528817566, "creation_date": 1528817566, "question_id": 50820869, "link": "https://stackoverflow.com/questions/50820869/kotlin-script-engine-throws-unresolved-reference-even-if-the-package-and-clas", "title": "Kotlin Script Engine throws &quot;unresolved reference&quot;, even if the package and class is valid", "body": "<p>When using Kotlin's Script Engine, trying to import packages or use any class throws an \"unresolved reference\"</p>\n\n<pre><code>javax.script.ScriptException: error: unresolved reference: mrpowergamerbr\nfun loritta(context: com.mrpowergamerbr.loritta.commands.CommandContext) {\n                         ^\n</code></pre>\n\n<p>This doesn't happen when running the class within IntelliJ IDEA, however it does happen when running the class on production.</p>\n"}, {"tags": ["sorting", "collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 0, "creation_date": 1528835647, "post_id": 50824094, "comment_id": 88655699, "body": "Equals and compareTo need not be always consistent, ie. for two different (!=) objects compareTo could yield 0. And &quot;.groupBy { it }&quot; relies on equality, no? Thanks for the answer but I think this doesn&#39;t work. Of course I could also groupBy some value but my comparison could also be an algorithm that can compare two instances but does not necessarily compare them by any concrete calculated value on the object (I think). Even if I use a value, I could change the comparator later and this would be broken, so it seems brittle."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528844870, "post_id": 50824094, "comment_id": 88658674, "body": "I would strongly recommend <i>making</i> a concrete calculated value if you don&#39;t have one.  This solution is appropriate; you should have objects with equals and hashCode defined that define the grouping.  If you want a custom map type, e.g. a sorted one, you could use <code>groupByTo</code> instead."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1528870732, "post_id": 50824094, "comment_id": 88664690, "body": "It doesn&#39;t make sense to sort before grouping, there&#39;s no ordering defined for the output of <code>groupBy</code>. It works by accident in Kotlin because it uses <code>LinkedHashMap</code> which keeps the insertion order. In general I&#39;d consider this a broken approach."}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1528879255, "post_id": 50824094, "comment_id": 88669427, "body": "@MarkoTopolnik That&#39;s a good point, but the documentation states that &quot;The returned map preserves the entry iteration order of the keys produced from the original collection.&quot;. So as long as they made it part of the documentation, a developer could rely on it."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 4, "creation_date": 1528883117, "post_id": 50824094, "comment_id": 88671927, "body": "@DPM I didn&#39;t realize it was documented :) <code>groupByTo(sortedMapOf()) { it }</code> still sounds like a more direct approach."}], "tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1528830046, "creation_date": 1528830046, "answer_id": 50824094, "question_id": 50820013, "link": "https://stackoverflow.com/questions/50820013/whats-a-concise-way-of-sorting-and-grouping-a-set-in-kotlin/50824094#50824094", "title": "What&#39;s a concise way of sorting and grouping a set in Kotlin?", "body": "<p>I would try something like this: </p>\n\n<pre><code>fun &lt;A : Comparable&lt;A&gt;&gt; alternativeSortAndGroup(set: Set&lt;A&gt;): List&lt;Set&lt;A&gt;&gt; =\n        set.sorted().groupBy { it }.values.map { it.toSet() }\n</code></pre>\n"}], "owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2426, "favorite_count": 0, "accepted_answer_id": 50824094, "answer_count": 1, "score": 1, "last_activity_date": 1528830046, "creation_date": 1528814843, "question_id": 50820013, "link": "https://stackoverflow.com/questions/50820013/whats-a-concise-way-of-sorting-and-grouping-a-set-in-kotlin", "title": "What&#39;s a concise way of sorting and grouping a set in Kotlin?", "body": "<p>From a set of <code>Comparable</code> objects I would like to get a sorted list of sets of objects, sorted by their natural order.</p>\n\n<p>This is my solution:</p>\n\n<pre><code>  val set: Set&lt;Comparable&lt;A&gt;&gt; = makeThings()\n  val sorted = set.sorted()\n  val sortedAndGrouped = mutableListOf(mutableSetOf(sorted.first()))\n  for(element in sorted.drop(1)) {\n     val randomElementOfLastGroup = sortedAndGrouped.last().first()\n     val doesNotBelongToLastGroup = randomElementOfLastGroup.compareTo(element) != 0\n     if(doesNotBelongToLastGroup)\n        sortedAndGrouped.add(mutableSetOf())\n     sortedAndGrouped.last().add(element)\n  }\n</code></pre>\n\n<p>I would like to know if there is a more concise alternative in Kotlin.</p>\n\n<p>If not, is there one using Java 8 features or a library like Guava?</p>\n"}, {"tags": ["java", "apache-spark", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2943, "user_id": 1362926, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/fjORX.jpg?s=128&g=1", "display_name": "Kaushal", "link": "https://stackoverflow.com/users/1362926/kaushal"}, "is_accepted": false, "score": 0, "last_activity_date": 1528838481, "creation_date": 1528838481, "answer_id": 50826001, "question_id": 50819659, "link": "https://stackoverflow.com/questions/50819659/how-to-convert-inputstream-to-rdd-with-java-or-kotlin-without-writing-the-strea/50826001#50826001", "title": "How to convert InputStream to RDD with Java or Kotlin, without writing the stream to disk or reading it all into local memory?", "body": "<p>Use Spark Streaming to read input stream. Here is the custom receiver for input stream</p>\n\n<p><a href=\"https://community.hortonworks.com/questions/9624/reading-input-stream-using-spark-custom-receiver.html\" rel=\"nofollow noreferrer\">https://community.hortonworks.com/questions/9624/reading-input-stream-using-spark-custom-receiver.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9930764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b4f0f18400a308f4fce4008a413a778?s=128&d=identicon&r=PG&f=1", "display_name": "glc", "link": "https://stackoverflow.com/users/9930764/glc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528838481, "creation_date": 1528813740, "question_id": 50819659, "link": "https://stackoverflow.com/questions/50819659/how-to-convert-inputstream-to-rdd-with-java-or-kotlin-without-writing-the-strea", "title": "How to convert InputStream to RDD with Java or Kotlin, without writing the stream to disk or reading it all into local memory?", "body": "<p>I have a ZipInputStream whose contents are in \".csv\" format. I need to create an RDD. My constraints are:\n- I cannot write the contents of the stream to disk.\n- I cannot read the entire contents of the stream into local memory.\n- This must be done in Kotlin or Java. (Not Scala.)</p>\n\n<p>Can this be done? How?</p>\n"}, {"tags": ["android", "function", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1528808169, "post_id": 50817655, "comment_id": 88640604, "body": "Just to be sure - are you creating your Activity directly by constructor?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1528808455, "post_id": 50817655, "comment_id": 88640782, "body": "He <i>is</i> creating his Activity directly with a constructor for whatever unknown reason"}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 4, "creation_date": 1528808726, "post_id": 50817914, "comment_id": 88640973, "body": "<code>MainActivity()</code> no. Bad"}, {"owner": {"reputation": 1332, "user_id": 8956215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b8te-6Zphcs/AAAAAAAAAAI/AAAAAAAAM8k/FtmkHYxTMGc/photo.jpg?sz=128", "display_name": "Harsh Jain", "link": "https://stackoverflow.com/users/8956215/harsh-jain"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528811601, "post_id": 50817914, "comment_id": 88643002, "body": "@TimCastelijns I know that why I have mentioned that either you should have the context of Main Activity. But I also think a static method would do the work? Also, can you share your thoughts on this too? It would be helpful."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528811640, "post_id": 50817914, "comment_id": 88643038, "body": "this is not a static method. Kotlin does not even have static methods. You are initializing an activity with <code>()</code> which is bad"}, {"owner": {"reputation": 1332, "user_id": 8956215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b8te-6Zphcs/AAAAAAAAAAI/AAAAAAAAM8k/FtmkHYxTMGc/photo.jpg?sz=128", "display_name": "Harsh Jain", "link": "https://stackoverflow.com/users/8956215/harsh-jain"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528811702, "post_id": 50817914, "comment_id": 88643070, "body": "@TimCastelijns I mean through companion object. And yes this is not through this. but I have also written the code for it too."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528811792, "post_id": 50817914, "comment_id": 88643151, "body": "you&#39;re not reading what I&#39;m saying. <b>You are initializing an activity with ()</b>"}, {"owner": {"reputation": 1332, "user_id": 8956215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b8te-6Zphcs/AAAAAAAAAAI/AAAAAAAAM8k/FtmkHYxTMGc/photo.jpg?sz=128", "display_name": "Harsh Jain", "link": "https://stackoverflow.com/users/8956215/harsh-jain"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528811947, "post_id": 50817914, "comment_id": 88643252, "body": "@TimCastelijns That I know, I have to call the method of another activity by taking an instance of that Activity. So I used () but I have also made the code through companion object which would not require MainActivity().checkInternet(). It would simply be called through MainActivity.checkInternet()."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1528812622, "post_id": 50817914, "comment_id": 88643706, "body": "<i>So I used ()</i> - yes that is the problem. Remove it and don&#39;t suggest people do that. You should never manually instantiate an activity by calling the constructor"}, {"owner": {"reputation": 1332, "user_id": 8956215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b8te-6Zphcs/AAAAAAAAAAI/AAAAAAAAM8k/FtmkHYxTMGc/photo.jpg?sz=128", "display_name": "Harsh Jain", "link": "https://stackoverflow.com/users/8956215/harsh-jain"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528812685, "post_id": 50817914, "comment_id": 88643739, "body": "@TimCastelijns Sure I&#39;ll do that"}], "tags": [], "owner": {"reputation": 1332, "user_id": 8956215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b8te-6Zphcs/AAAAAAAAAAI/AAAAAAAAM8k/FtmkHYxTMGc/photo.jpg?sz=128", "display_name": "Harsh Jain", "link": "https://stackoverflow.com/users/8956215/harsh-jain"}, "is_accepted": false, "score": 2, "last_activity_date": 1528814859, "last_edit_date": 1528814859, "creation_date": 1528808494, "answer_id": 50817914, "question_id": 50817655, "link": "https://stackoverflow.com/questions/50817655/android-kotlin-call-a-function-in-other-activity/50817914#50817914", "title": "Android Kotlin call a function in other activity", "body": "<p>Either you should have the context of the MainActivity rather than creating a new one or you could also pass a context in your checkInternet() method so that it could get context in other Activity. I have modified the code below.</p>\n\n<pre><code>companion object {\n    fun checkInternet(context: Context):Boolean {\n        val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val networkInfo = cm.activeNetworkInfo\n        if (networkInfo != null &amp;&amp; networkInfo.isConnected) {\n\n            // alertPopUp(\"internet ok\", \"\")\n            return true\n        }\n        else {\n            val title = \"no Internet\"\n            val message = \"Need Internet Service\"\n            // alertPopUp(title, message)\n\n            return false\n        }\n\n    }\n}\n</code></pre>\n\n<p>In the above code, I have replaced the baseContext with the context that I have passed in the constructor of the method. Also from the other activity from which the checkInternet is called, I have send context of that activity. Code for it is below.</p>\n\n<pre><code>MainActivity.checkInternet(this)\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1528809286, "creation_date": 1528809286, "answer_id": 50818178, "question_id": 50817655, "link": "https://stackoverflow.com/questions/50817655/android-kotlin-call-a-function-in-other-activity/50818178#50818178", "title": "Android Kotlin call a function in other activity", "body": "<p>First, <strong>dont create activities directly by constructor</strong>. Activity has own lifecycle, and it's OS that manage it. The only proper way to initialize Activity is by using Intent (but I guess it's not what you want to do here).</p>\n\n<p>Also, dont try to keep your Activity in any field (it leads to memory leaks).\nIf I was to propose a solution, I would suggest use extension function (because you can check connection in any Context class, not only that one):</p>\n\n<pre><code>fun Context.checkInternet() {\n   /* your code here, to use context use this */\n   val cm = this.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n   /* some code here */\n}\n</code></pre>\n\n<p>When you declare this function, you can use it in any context class (like Activity, Fragment etc. - they are subtypes of context). Now, how to use it?</p>\n\n<pre><code>class MyActivity(): Activity() {\n    fun foo() {\n        this.checkInternet()\n    }\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1528821179, "post_id": 50818389, "comment_id": 88648899, "body": "thank you! I think our method is the best. I am would like to use ConnectivityUtils.isConnected(this) inside a fragment of Mainactivity. What should I write for ConnectivityUtils.isConnected(______)?"}, {"owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1528822225, "post_id": 50818389, "comment_id": 88649112, "body": "Fragments have a method to get the Activity they are associated with. However, before calling that method ensure activity is not null, or just call <code>ConnectivityUtils.isConnected(activity!!)</code> --&gt; in Java it&#39;s a getter method called getActivity()"}, {"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1528823552, "post_id": 50818389, "comment_id": 88649812, "body": "thank you so much! I test the code ConnectivityUtils.isConnected(activity!!) and ConnectivityUtils.isConnected(this.context!!) are also works well. Could you please let me know the difference between activity!! and this.context!!?"}, {"owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "reply_to_user": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "edited": false, "score": 0, "creation_date": 1528826053, "post_id": 50818389, "comment_id": 88651112, "body": "An Activity extends from a Context, however you could use either of them without any problem. Perhaps I&#39;d go for the context. Fragments can be hosted in any Object, and Android call those objects &quot;hosts&quot;. They must extend from <code>FragmentHostCallback</code> abstract class, which has the &#39;getActivity()` and <code>getContext()</code> methods among other ones. So these methods just return the <code>Activity</code> and <code>Context</code> of the host object if they have one assigned. Source: <a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/master/fragment/src/main/java/android/support/v4/app/Fragment.java#579\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/refs/&zwnj;&#8203;&hellip;</a>"}], "tags": [], "owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "is_accepted": true, "score": 5, "last_activity_date": 1528809903, "creation_date": 1528809903, "answer_id": 50818389, "question_id": 50817655, "link": "https://stackoverflow.com/questions/50817655/android-kotlin-call-a-function-in-other-activity/50818389#50818389", "title": "Android Kotlin call a function in other activity", "body": "<p>I would rather extract all logic to a different helper or utility class. It's a big mistake to have it within an activity if you're gonna reuse it. A pretty neat solution could be to have a <code>ConnectivityUtils</code> utility class like the famous <a href=\"https://github.com/google/iosched/blob/master/lib/src/main/java/com/google/samples/apps/iosched/util/ConnectivityUtils.java\" rel=\"noreferrer\">iosched project has</a>, just passing the application context to it:</p>\n\n<pre><code>/**\n * Utility methods for dealing with connectivity\n */\nobject ConnectivityUtils {\n  fun isConnected(context: Context): Boolean {\n    val connectivityManager = context.applicationContext.getSystemService(\n        Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val activeNetworkInfo = connectivityManager.activeNetworkInfo\n    return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnectedOrConnecting\n  }\n}\n</code></pre>\n\n<p>Then, you just need to invoke it within any activity like this:</p>\n\n<pre><code>ConnectivityUtils.isConnected(this)\n</code></pre>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7750, "favorite_count": 0, "accepted_answer_id": 50818389, "answer_count": 3, "score": 2, "last_activity_date": 1529239867, "creation_date": 1528807724, "last_edit_date": 1529239867, "question_id": 50817655, "link": "https://stackoverflow.com/questions/50817655/android-kotlin-call-a-function-in-other-activity", "title": "Android Kotlin call a function in other activity", "body": "<p>I call a function of MainActivity in other Activity, the app shut down and show the error as below, please help to solve this issue. </p>\n\n<p>MainActivity function:</p>\n\n<pre><code>fun checkInternet():Boolean {\n    val cm = baseContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val networkInfo = cm.activeNetworkInfo\n    if (networkInfo != null &amp;&amp; networkInfo.isConnected) {\n\n        alertPopUp(\"internet ok\", \"\")\n        return true\n    }\n    else {\n        val title = getString(R.string.No_Internet)\n        val message = getString(R.string.need_internet_for_service)\n        alertPopUp(title, message)\n\n        return false\n    }\n\n}\n</code></pre>\n\n<p>Call this function in other activity:</p>\n\n<pre><code>var internetStatus:Boolean = MainActivity().checkInternet()\n</code></pre>\n\n<p>Error Message:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n      at com.gph.qpon.MainActivity.checkInternet(MainActivity.kt:148)\n      at com.gph.qpon.qponClickedActivity.onCreate(qponClickedActivity.kt:32)</p>\n</blockquote>\n"}, {"tags": ["android", "firebase", "android-fragments", "kotlin", "firebase-storage"], "comments": [{"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528801695, "post_id": 50815594, "comment_id": 88636064, "body": "what error are you getting?"}, {"owner": {"reputation": 11, "user_id": 9776033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I50Sb.jpg?s=128&g=1", "display_name": "Muhammad Talha Zaroon", "link": "https://stackoverflow.com/users/9776033/muhammad-talha-zaroon"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528801827, "post_id": 50815594, "comment_id": 88636144, "body": "it doesn&#39;t fullfill the following condition:       if (requestCode == GALLERY_ID                 &amp;&amp; resultCode == Activity.RESULT_OK)                                                         and bypass towards the else"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528801939, "post_id": 50815594, "comment_id": 88636231, "body": "What&#39;s the resultCode you&#39;re getting?"}, {"owner": {"reputation": 11, "user_id": 9776033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I50Sb.jpg?s=128&g=1", "display_name": "Muhammad Talha Zaroon", "link": "https://stackoverflow.com/users/9776033/muhammad-talha-zaroon"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802062, "post_id": 50815594, "comment_id": 88636308, "body": "result code -1 and request code 203"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802193, "post_id": 50815594, "comment_id": 88636398, "body": "your request code response from picking the image from the galary is your variable &quot;GALLERY_ID&quot; which is &quot;1&quot; because you use it for the galary intent. If the request code isn&#39;t &quot;1&quot; then it&#39;s not the response from the galary intent you started."}, {"owner": {"reputation": 11, "user_id": 9776033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I50Sb.jpg?s=128&g=1", "display_name": "Muhammad Talha Zaroon", "link": "https://stackoverflow.com/users/9776033/muhammad-talha-zaroon"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802282, "post_id": 50815594, "comment_id": 88636455, "body": "ok ... could u tell me a solution about it?"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802609, "post_id": 50815594, "comment_id": 88636680, "body": "if you&#39;re not seeing the requestCode being 1 (val GALLERY_ID:Int = 1) in onActivityResult then I can&#39;t tell what&#39;s wrong because you&#39;re not getting a response from the galary app"}, {"owner": {"reputation": 11, "user_id": 9776033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I50Sb.jpg?s=128&g=1", "display_name": "Muhammad Talha Zaroon", "link": "https://stackoverflow.com/users/9776033/muhammad-talha-zaroon"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802700, "post_id": 50815594, "comment_id": 88636736, "body": "John Sardinha Thanks for your precious time ... I will see what I can do."}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1528802996, "post_id": 50815594, "comment_id": 88636937, "body": "Can you add Log.i(&quot;tag&quot;, requestCode) before every if() inside onActivityResult"}], "owner": {"reputation": 11, "user_id": 9776033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I50Sb.jpg?s=128&g=1", "display_name": "Muhammad Talha Zaroon", "link": "https://stackoverflow.com/users/9776033/muhammad-talha-zaroon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528809575, "creation_date": 1528801403, "last_edit_date": 1528809575, "question_id": 50815594, "link": "https://stackoverflow.com/questions/50815594/how-to-upload-image-from-fragment-to-firebase-using-activity-result-kotlin", "title": "how to Upload Image from fragment to firebase using activity Result? (Kotlin)", "body": "<p>Trying to upload an image to firebase from fragment. I also start the activity by using this command: activity!!.startActivityForResult......\nBut still the same error.</p>\n\n<p>Libraries I used to crop image and compress the image:</p>\n\n<pre><code>implementation 'com.theartofdev.edmodo:android-image-cropper:2.7.+'\nimplementation 'id.zelory:compressor:2.1.0'\n</code></pre>\n\n<p>changeProfile is a button</p>\n\n<pre><code>val GALLERY_ID:Int = 1    \nval changeProfile = view.findViewById&lt;Button&gt;(R.id.changeProfileImage)\n    changeProfile.setOnClickListener{\n        var galleryIntent = Intent().apply {\n            type = \"image/*\"\n            action = Intent.ACTION_GET_CONTENT\n        }\n       startActivityForResult(Intent.createChooser(galleryIntent,\n                \"SELECT_IMAGE\"), GALLERY_ID)\n    }\n</code></pre>\n\n<p>Heres my activity result where I first check the error in the activity result. The I upload the croped image to firebase storage as a profile image.</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == GALLERY_ID\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\n\n        var image: Uri = data!!.data\n        var userId = mCurrentUser!!.uid\n\n        CropImage.activity(image)\n                .setAspectRatio(1, 1)\n                .start(context as Activity,this)\n\n        if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n            val result = CropImage.getActivityResult(data)\n\n            if (resultCode == Activity.RESULT_OK) {\n                val resultUri = result.uri\n                var thumbFile = File(resultUri.path)\n                var thumbBitmap = Compressor(activity)\n                        .setMaxWidth(200)\n                        .setMaxHeight(200)\n                        .setQuality(65)\n                        .compressToBitmap(thumbFile)\n\n\n                //We upload images to firebase\n                var byteArray = ByteArrayOutputStream()\n                thumbBitmap.compress(Bitmap.CompressFormat.JPEG,  100,\n                        byteArray)\n                var thumbByteArray: ByteArray\n                thumbByteArray = byteArray.toByteArray()\n\n                var filePath = mStorageRef!!.child(\"chat_profile_images\")\n                        .child(userId + \".jpg\")\n\n                //Create another directory for thumbimages ( smaller, compressed images)\n                var thumbFilePath = mStorageRef!!.child(\"chat_profile_images\")\n                        .child(\"thumbs\")\n                        .child(userId + \".jpg\")\n\n                filePath.putFile(resultUri)\n                        .addOnCompleteListener{\n                            task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                            if (task.isSuccessful) {\n\n                                //Let's get the pic url\n                                var donwloadUrl = task.result.downloadUrl.toString()\n\n                                //Upload Task\n                                var uploadTask: UploadTask = thumbFilePath\n                                        .putBytes(thumbByteArray)\n\n                                uploadTask.addOnCompleteListener{\n                                    task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                                    var thumbUrl = task.result.downloadUrl.toString()\n\n                                    if (task.isSuccessful) {\n\n                                        var updateObj = HashMap&lt;String, Any&gt;()\n                                        updateObj.put(\"image\", donwloadUrl)\n                                        updateObj.put(\"thumb_image\", thumbUrl)\n\n                                        //We save the profile image\n                                        mDatabase!!.updateChildren(updateObj)\n                                                .addOnCompleteListener {\n                                                    task: Task&lt;Void&gt; -&gt;\n                                                    if (task.isSuccessful) {\n                                                        Toast.makeText(activity, \"Profile Image Saved!\",\n                                                                Toast.LENGTH_LONG)\n                                                                .show()\n\n                                                    }else {\n                                                    }\n                                                }\n\n                                    }else {\n                                    }\n                                }\n                            }\n                        }\n            }\n            else if (resultCode == CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n                val error = result.error\n                Log.e(\"Error\", error.toString())\n            }\n        }\n\n    }\n    else {\n        Toast.makeText(activity,\"Activity Result Error\", Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n"}, {"tags": ["arraylist", "kotlin", "indexoutofboundsexception"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1528800068, "post_id": 50815189, "comment_id": 88635103, "body": "Don&#39;t use <code>set</code> but <code>add.</code>. Also use the factory instead of constructor: <code>val list = mutableListOf&lt;Int&gt;()</code>. Also note I specified <code>val</code> instead of <code>var</code> (it has nothing to do with the list&#39;s mutability)."}, {"owner": {"reputation": 1010, "user_id": 5336567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCTLx.jpg?s=128&g=1", "display_name": "SadeQ digitALLife", "link": "https://stackoverflow.com/users/5336567/sadeq-digitallife"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528801699, "post_id": 50815189, "comment_id": 88636068, "body": "thanks a lot! your first comment solved it man :)"}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 10, "creation_date": 1528801569, "post_id": 50815263, "comment_id": 88635976, "body": "<code>val myList = arrayListOf&lt;Int&gt;()</code> reads much better."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1585375549, "post_id": 50815263, "comment_id": 107742173, "body": "What if it&#39;s an array, not an arrayList?"}], "tags": [], "owner": {"reputation": 1576, "user_id": 4907864, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067168283310551/picture?type=large", "display_name": "Szymon Chaber", "link": "https://stackoverflow.com/users/4907864/szymon-chaber"}, "is_accepted": false, "score": 25, "last_activity_date": 1528800269, "creation_date": 1528800269, "answer_id": 50815263, "question_id": 50815189, "link": "https://stackoverflow.com/questions/50815189/how-to-initialize-an-empty-array-list-in-kotlin/50815263#50815263", "title": "How to initialize an empty array list in Kotlin?", "body": "<p>I suggest you write </p>\n\n<pre><code>var myList: ArrayList&lt;Int&gt; = arrayListOf()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1585375521, "post_id": 50815266, "comment_id": 107742172, "body": "Isn&#39;t an arrayList different from an array in kotlin?"}], "tags": [], "owner": {"reputation": 4255, "user_id": 2838289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b29129a40a7e4aac388c4a1bbc85afc?s=128&d=identicon&r=PG&f=1", "display_name": "LuCio", "link": "https://stackoverflow.com/users/2838289/lucio"}, "is_accepted": true, "score": 74, "last_activity_date": 1528801364, "last_edit_date": 1528801364, "creation_date": 1528800276, "answer_id": 50815266, "question_id": 50815189, "link": "https://stackoverflow.com/questions/50815189/how-to-initialize-an-empty-array-list-in-kotlin/50815266#50815266", "title": "How to initialize an empty array list in Kotlin?", "body": "<p>According to the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"noreferrer\">api-doc</a>:</p>\n\n<pre><code>val list = arrayListOf&lt;Int&gt;()\n</code></pre>\n\n<p>This is also mentioned here: <a href=\"https://stackoverflow.com/questions/36896801/how-to-initialize-listt-in-kotlin#36897638\">How to initialize List in Kotlin?\n</a>.</p>\n"}], "owner": {"reputation": 1010, "user_id": 5336567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCTLx.jpg?s=128&g=1", "display_name": "SadeQ digitALLife", "link": "https://stackoverflow.com/users/5336567/sadeq-digitallife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44172, "favorite_count": 3, "closed_date": 1528802391, "accepted_answer_id": 50815266, "answer_count": 2, "score": 37, "last_activity_date": 1528801364, "creation_date": 1528800021, "last_edit_date": 1528800156, "question_id": 50815189, "link": "https://stackoverflow.com/questions/50815189/how-to-initialize-an-empty-array-list-in-kotlin", "closed_reason": "Duplicate", "title": "How to initialize an empty array list in Kotlin?", "body": "<p>I have an empty array list:</p>\n\n<pre><code>var mylist: ArrayList&lt;Int&gt; = ArrayList()\n</code></pre>\n\n<p>When I want to set value in it I got this error:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0\n</code></pre>\n\n<p>The question is: How can I initialize my list?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 2, "creation_date": 1528845846, "post_id": 50815181, "comment_id": 88658934, "body": "Yep, have this problem too. I experienced it in the 3.1 release version too, as well as in IntelliJ IDEA Ultimate, albeit not nearly as frequently. 3.2 canary seems to do this <i>constantly</i>. I suspect it&#39;s a bug with either IDEA or the Kotlin Android Extensions."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528910914, "post_id": 50815181, "comment_id": 88689600, "body": "What tends to help me is pressing Gradle Sync button"}], "answers": [{"tags": [], "owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "is_accepted": false, "score": 2, "last_activity_date": 1528908504, "creation_date": 1528908504, "answer_id": 50842411, "question_id": 50815181, "link": "https://stackoverflow.com/questions/50815181/kotlin-android-extensions-bug-in-android-studio-canary/50842411#50842411", "title": "Kotlin Android Extensions bug in Android Studio Canary", "body": "<p>Looks like this is an issue with Android Synthetics in Kotlin. There is an open issue with JetBrains for it. You can track it here:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-23908\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-23908</a></p>\n\n<p>The reporter states that he can simply re-sync Gradle and things go back to normal. This works for me some of the time, but often times I will have to close &amp; re-open the entire project.  Rare occasions require actually quitting the IDE. Even more rare, I have to clear IDE caches. After all that, if I still have problems, I'll delete <code>.gradle/caches</code> and let everything re-sync &amp; re-download.</p>\n\n<p>Definitely a huge headache.</p>\n"}], "owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528908504, "creation_date": 1528800010, "question_id": 50815181, "link": "https://stackoverflow.com/questions/50815181/kotlin-android-extensions-bug-in-android-studio-canary", "title": "Kotlin Android Extensions bug in Android Studio Canary", "body": "<p>Does anyone have this weird glitch that came with AS Canary 16 that when you build the app all the references via Kotlin Android Extensions light up red and show compilation error.</p>\n\n<p>Even though the app builds I loose all autocomplete on Views and auto import always deletes imports for methods that are called on views because it thinks that they are not used.</p>\n\n<p>Clean build helps sometimes but not always. Can anyone suggest how to fix this irritating issue?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-room"], "comments": [{"owner": {"reputation": 3731, "user_id": 2830986, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7205852a91e57eb794dba7f50272ac95?s=128&d=identicon&r=PG", "display_name": "NDevox", "link": "https://stackoverflow.com/users/2830986/ndevox"}, "edited": false, "score": 0, "creation_date": 1528800433, "post_id": 50815137, "comment_id": 88635306, "body": "Reasoning for downvoting would be appreciated :-)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528807434, "post_id": 50815137, "comment_id": 88640075, "body": "What&#39;s the point of <code>@Singleton</code> if you create a new component for each class you&#39;re creating...?"}, {"owner": {"reputation": 3731, "user_id": 2830986, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7205852a91e57eb794dba7f50272ac95?s=128&d=identicon&r=PG", "display_name": "NDevox", "link": "https://stackoverflow.com/users/2830986/ndevox"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528818291, "post_id": 50815137, "comment_id": 88647441, "body": "Yep I was confused about that as well. I&#39;ve been reading a lot of highly conflicting guides to this so the code may seem a bit odd."}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1528820958, "creation_date": 1528820958, "answer_id": 50821893, "question_id": 50815137, "link": "https://stackoverflow.com/questions/50815137/unresolved-inject-method-on-dagger2-method/50821893#50821893", "title": "Unresolved inject method on Dagger2 method", "body": "<pre><code>inline fun &lt;reified T: ViewModel&gt; AppCompatActivity.createViewModel(crossinline factory: () -&gt; T): T = T::class.java.let { clazz -&gt;\n    ViewModelProviders.of(this, object: ViewModelProvider.Factory {\n        override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n            if(modelClass == clazz) {\n                @Suppress(\"UNCHECKED_CAST\")\n                return factory() as T\n            }\n            throw IllegalArgumentException(\"Unexpected argument: $modelClass\")\n        }\n    }).get(clazz)\n}\n\ninline fun &lt;reified T: ViewModel&gt; Fragment.createViewModel(crossinline factory: () -&gt; T): T = T::class.java.let { clazz -&gt;\n    ViewModelProviders.of(this, object: ViewModelProvider.Factory {\n        override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n            if(modelClass == clazz) {\n                @Suppress(\"UNCHECKED_CAST\")\n                return factory() as T\n            }\n            throw IllegalArgumentException(\"Unexpected argument: $modelClass\")\n        }\n    }).get(clazz)\n}\n</code></pre>\n\n<p>and Fragment:</p>\n\n<pre><code>class MyFragment : Fragment(), Injectable {\n    private lateinit var viewModel: MyViewModel\n\n    @Inject lateinit var appComponent: AppComponent \n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        viewModel = createViewModel { appComponent.myViewModel() }\n        viewModel.getUser().observe(this) {...}\n    }\n    ...\n}\n</code></pre>\n\n<p>View Model:</p>\n\n<pre><code>class MyViewModel @Inject constructor(private val myRepo: MyRepository): ViewModel() {\n\n    private var instance: LiveData&lt;MyClass&gt;? = myRepo.getInstance()\n}\n</code></pre>\n\n<p>My Repository:</p>\n\n<pre><code>@Singleton\nclass MyRepository @Inject constructor(\n    private val myDao: MyDao, \n    private val executor: Executor\n) {\n}\n</code></pre>\n\n<p>Finally for my dagger classes I have two modules:</p>\n\n<pre><code>@Module(includes = [AndroidInjectionModule::class])\nabstract class AppModule {\n    fun application(myApplication: MyApplication): Application = myApplication\n}\n@Module\nabstract class DataModule {\n    @Provides\n    fun myDatabase(application: Application) = \n        Room.databaseBuilder(application, MyDatabase::class.java, \"my-database\").build()\n\n    @Provides\n    fun myDao(): MyDao = myDatabase.myDao()\n\n    @Provides\n    fun providesExecutor(): Executor =\n        Executors.newSingleThreadExecutor()\n}\n</code></pre>\n\n<p>And my AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AppModule::class, DataModule::class])\ninterface AppComponent : AndroidInjector&lt;MyApplication&gt; {\n    @Component.Builder\n    abstract class Builder: AndroidInjector.Builder&lt;MyApplication&gt;()\n\n    fun myViewModel(): MyViewModel\n}\n</code></pre>\n\n<p>And AppInjector:</p>\n\n<pre><code>import android.app.Activity\nimport android.app.Application\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentActivity\nimport android.support.v4.app.FragmentManager\nimport dagger.android.AndroidInjection\nimport dagger.android.support.AndroidSupportInjection\nimport dagger.android.support.HasSupportFragmentInjector\n\n/**\n * Helper class to automatically inject fragments if they implement [Injectable].\n */\nobject AppInjector {\n    fun init(myApp: MyApplication) {\n        DaggerAppComponent.builder().application(myApp)\n            .build().inject(myApp)\n        myApp\n            .registerActivityLifecycleCallbacks(object : Application.ActivityLifecycleCallbacks {\n                override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n                    handleActivity(activity)\n                }\n\n                override fun onActivityStarted(activity: Activity) {\n\n                }\n\n                override fun onActivityResumed(activity: Activity) {\n\n                }\n\n                override fun onActivityPaused(activity: Activity) {\n\n                }\n\n                override fun onActivityStopped(activity: Activity) {\n\n                }\n\n                override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?) {\n\n                }\n\n                override fun onActivityDestroyed(activity: Activity) {\n\n                }\n            })\n    }\n\n    private fun handleActivity(activity: Activity) {\n        if (activity is HasSupportFragmentInjector) {\n            AndroidInjection.inject(activity)\n        }\n        if (activity is FragmentActivity) {\n            activity.supportFragmentManager\n                .registerFragmentLifecycleCallbacks(\n                    object : FragmentManager.FragmentLifecycleCallbacks() {\n                        override fun onFragmentCreated(\n                            fm: FragmentManager,\n                            f: Fragment,\n                            savedInstanceState: Bundle?\n                        ) {\n                            if (f is Injectable) {\n                                AndroidSupportInjection.inject(f)\n                            }\n                        }\n                    }, true\n                )\n        }\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>class MyApplication : Application(), HasActivityInjector {\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n        AppInjector.init(this)\n    }\n\n    override fun activityInjector() = dispatchingAndroidInjector\n}\n</code></pre>\n"}], "owner": {"reputation": 3731, "user_id": 2830986, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7205852a91e57eb794dba7f50272ac95?s=128&d=identicon&r=PG", "display_name": "NDevox", "link": "https://stackoverflow.com/users/2830986/ndevox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1528820958, "creation_date": 1528799867, "question_id": 50815137, "link": "https://stackoverflow.com/questions/50815137/unresolved-inject-method-on-dagger2-method", "title": "Unresolved inject method on Dagger2 method", "body": "<p>I'm trying to inject a set of Room components into a Repository which is itself injected into a ViewModel (which is in a fragment) using Dagger2.</p>\n\n<p>The code is as follows.</p>\n\n<p>Fragment:</p>\n\n<pre><code>class MyFragment : Fragment() {\n    private var viewModel: MyViewModel? = null\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n        viewModel!!.init()\n        viewModel!!.getUser().observe(this, Observer&lt;MyClass?&gt; {...})\n    }\n    ...\n}\n</code></pre>\n\n<p>View Model:</p>\n\n<pre><code>class MyViewModel : ViewModel() {\n\n    @Inject lateinit var myRepo: MyRepository\n\n    private var instance: LiveData&lt;MyClass&gt;? = null\n\n    fun init() {\n        DaggerAppComponent.builder()\n                .build().daggerInject(this)\n        if (this.instance != null) {\n            return\n        }\n        instance = myRepo.getInstance()\n    }\n}\n</code></pre>\n\n<p>My Repository:</p>\n\n<pre><code>@Singleton\nclass MyRepository {\n    @Inject lateinit var myDao: MyDao\n    @Inject lateinit var executor: Executor\n\n    init {\n        DaggerAppComponent.builder().build().daggerInject(this)\n    }\n}\n</code></pre>\n\n<p>Finally for my dagger classes I have two modules:</p>\n\n<pre><code>@Module(includes = [AndroidInjectionModule::class])\nabstract class AppModule {\n\n    @Binds\n    abstract fun application(app: MyApplication): MyApplication\n}\n\n\n@Module\nclass DataModule {\n\n    @Inject\n    lateinit var application: MyApplication\n\n    val myDatabase = Room.databaseBuilder(application, MyDatabase::class.java, \"my-database\").build()\n\n    @Provides\n    @Singleton\n    fun provideRepository(): MyRepository {\n        return MyRepository()\n    }\n\n    @Provides\n    fun provideMyDao(): MyDao {\n        return MyDao_Impl(myDatabase)\n    }\n\n    @Provides\n    fun providesExecutor(): Executor {\n        return Executors.newSingleThreadExecutor()\n    }\n\n}\n</code></pre>\n\n<p>And my AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AppModule::class, DataModule::class])\ninterface AppComponent : AndroidInjector&lt;MyApplication&gt; {\n    fun daggerInject(viewModel: MyViewModel)\n    fun daggerInject(myRepo: MyRepository)\n\n    @Component.Builder\n    abstract class Builder: AndroidInjector.Builder&lt;MyApplication&gt;()\n}\n</code></pre>\n\n<p>Dagger compiles fine, I can access the <code>DaggerAppComponent</code> and build it. However <code>dataModule</code> is inaccessible (inspecting the class shows it as private) as are the <code>daggerInject</code> methods I need to actually inject the dependencies. As a result I get the error:</p>\n\n<p><code>Unresolved reference: daggerInject</code></p>\n\n<p>How do I solve this?</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1528799287, "post_id": 50814268, "comment_id": 88634651, "body": "This is the idea I wanted to apply. Thank so much!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1528797227, "creation_date": 1528797227, "answer_id": 50814268, "question_id": 50813963, "link": "https://stackoverflow.com/questions/50813963/wrap-getters-and-setters-on-sharedpreferences-class/50814268#50814268", "title": "Wrap getters and setters on SharedPreferences class", "body": "<p>You can solve this nicely with <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a>.</p>\n\n<p>Here's a very simple example implementation for storing just <code>String</code> preferences:</p>\n\n<pre><code>class PreferencesDelegate(val context: Context, val key: String, val defaultValue: String = \"\") {\n    private val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return sharedPreferences.getString(key, defaultValue)\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        sharedPreferences.edit()\n                .putString(key, value)\n                .apply()\n    }\n}\n</code></pre>\n\n<p>You can use this in an <code>Activity</code> the following way:</p>\n\n<pre><code>class MyActivity : AppCompatActivity() {\n    var pref by PreferencesDelegate(this, \"key\")\n\n    fun foo() {\n        pref = \"test\"\n        println(pref)\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Or with an additional extension function for nicer syntax:</p>\n\n<pre><code>fun Activity.preference(key: String, defaultValue: String = \"\"): PreferencesDelegate {\n    return PreferencesDelegate(this, key, defaultValue)\n}\n\nclass MyActivity : AppCompatActivity() {\n    var pref by preference(\"key\")\n}\n</code></pre>\n\n<hr>\n\n<p>There are people who already have nicer implementations of the same thing with delegates. Check out <a href=\"https://trivedihardik.wordpress.com/2017/08/01/kotlin-sharedpreferences-using-delegated-property/\" rel=\"nofollow noreferrer\">this</a> blog post, and <a href=\"https://github.com/mohamad-amin/KPreferences\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/takuji31/Koreference\" rel=\"nofollow noreferrer\">this</a> library for example. There are probably many, many others as well.</p>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "is_accepted": false, "score": 1, "last_activity_date": 1528810374, "creation_date": 1528810374, "answer_id": 50818536, "question_id": 50813963, "link": "https://stackoverflow.com/questions/50813963/wrap-getters-and-setters-on-sharedpreferences-class/50818536#50818536", "title": "Wrap getters and setters on SharedPreferences class", "body": "<p>I have found an elegant solution thanks to the zsmb13's answer.</p>\n\n<pre><code>import android.content.SharedPreferences\nimport kotlin.reflect.KProperty\n\nclass DelegatedPreferences&lt;T&gt;(val prefs: SharedPreferences, private val defaultValue: T) {\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        return getPreference(property.name, defaultValue)\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        setPreference(property.name, value)\n    }\n\n    private fun getPreference(key: String, defaultValue: T): T {\n        with(prefs) {\n            val result: Any = when (defaultValue) {\n                is Boolean -&gt; getBoolean(key, defaultValue)\n                is Int -&gt; getInt(key, defaultValue)\n                is Long -&gt; getLong(key, defaultValue)\n                is Float -&gt; getFloat(key, defaultValue)\n                is String -&gt; getString(key, defaultValue)\n                else -&gt; throw IllegalArgumentException()\n            }\n            @Suppress(\"UNCHECKED_CAST\")\n            return result as T\n        }\n    }\n\n    private fun setPreference(key: String, value: T) {\n        with(prefs.edit()) {\n            when (value) {\n                is Boolean -&gt; putBoolean(key, value)\n                is Int -&gt; putInt(key, value)\n                is Long -&gt; putLong(key, value)\n                is Float -&gt; putFloat(key, value)\n                is String -&gt; putString(key, value)\n                else -&gt; throw IllegalArgumentException()\n            }.apply()\n        }\n    }\n}\n</code></pre>\n\n<p>The specific preference class is now very simple and clean:</p>\n\n<pre><code>import android.content.Context\nimport android.content.SharedPreferences\n\nclass MyPrefs private constructor() {\n\n    companion object {\n        val instance = MyPrefs()\n    }\n\n    val prefs: SharedPreferences by lazy {\n        val context = App.instance\n        context.getSharedPreferences(context.packageName + \".\" + MyPrefs::class.java.simpleName, Context.MODE_PRIVATE)\n    }\n\n    fun clear() {\n        prefs.edit().clear().apply()\n    }\n\n    var anyProperty: String by DelegatedPreferences(prefs, \"\")\n}\n</code></pre>\n\n<p>And the call, very simple:</p>\n\n<pre><code>MyPrefs.instance.anyProperty = \"Hello!\"\nLog.d(\"***\", MyPrefs.instance.anyProperty) // Hello!\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "accepted_answer_id": 50814268, "answer_count": 2, "score": 0, "last_activity_date": 1528810374, "creation_date": 1528796395, "last_edit_date": 1528798605, "question_id": 50813963, "link": "https://stackoverflow.com/questions/50813963/wrap-getters-and-setters-on-sharedpreferences-class", "title": "Wrap getters and setters on SharedPreferences class", "body": "<p>I want to re-use code and wrap getters and setters due to they have the same functionality.</p>\n\n<p>I guess there is to make a common function for each type.</p>\n\n<p>I consider it is better to maintain the specific properties instead of making all generic due to the code is clearer to access to those properties. For example: <code>MyPrefs.instance.prefOne</code></p>\n\n<p>SharedPreferences class with 2 functions \"identicals\":</p>\n\n<pre><code>import android.content.Context\nimport android.content.SharedPreferences\n\nclass MyPrefs private constructor() {\n\n    companion object {\n        private const val PREF_ONE = \"prefOne\"\n        private const val PREF_TWO = \"prefTwo\"\n\n        val instance = MyPrefs()\n    }\n\n    private lateinit var prefs: SharedPreferences\n\n    fun init(context: Context) {\n        this.prefs = context.getSharedPreferences(context.applicationContext.packageName\n                + \".\" + MyPrefs::class.java.simpleName, Context.MODE_PRIVATE)\n    }\n\n    fun clear() {\n        prefs.edit().clear().apply()\n    }\n\n    var prefOne: String\n        get() = prefs.getString(PREF_ONE, \"\")\n        set(prefOne) = prefs.edit().putString(PREF_ONE, prefOne).apply()\n\n    var prefTwo: String\n        get() = prefs.getString(PREF_TWO, \"\")\n        set(prefTwo) = prefs.edit().putString(PREF_TWO, prefTwo).apply()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2", "gson"], "comments": [{"owner": {"reputation": 877, "user_id": 4887525, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Te4N4beDmAs/AAAAAAAAAAI/AAAAAAAAABA/_QzLicWSkpQ/photo.jpg?sz=128", "display_name": "Adeel Turk", "link": "https://stackoverflow.com/users/4887525/adeel-turk"}, "edited": false, "score": 1, "creation_date": 1528796918, "post_id": 50813894, "comment_id": 88633212, "body": "if we use Gson then json object or json array both aree considered as JsonElement , so you can recieve data as JsonElement and then use it as json object or json array  coz in oop Parent can hold refrence of child"}, {"owner": {"reputation": 656, "user_id": 4049612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sh0u3.jpg?s=128&g=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/4049612/krishna"}, "edited": false, "score": 1, "creation_date": 1528798698, "post_id": 50813894, "comment_id": 88634308, "body": "You can refer this <a href=\"https://stackoverflow.com/questions/24279245/how-to-handle-dynamic-json-in-retrofit\">https://stackoverflow.com/questions/24279245/how-to-handle-d&zwnj;&#8203;ynamic-json-in-retro&zwnj;&#8203;fit</a>"}], "answers": [{"tags": [], "owner": {"reputation": 773, "user_id": 5295811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CxLGv.jpg?s=128&g=1", "display_name": "Surabhi Singh", "link": "https://stackoverflow.com/users/5295811/surabhi-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1528797898, "creation_date": 1528797898, "answer_id": 50814488, "question_id": 50813894, "link": "https://stackoverflow.com/questions/50813894/retrofit-how-can-i-ignore-a-field-if-its-data-type-is-different/50814488#50814488", "title": "Retrofit - How can I ignore a field if its data type is different?", "body": "<p>For this case, you will have to manual parse the response, As Adeel suggested, take 'data' as <a href=\"https://google.github.io/gson/apidocs/com/google/gson/JsonElement.html\" rel=\"nofollow noreferrer\">JsonElement</a>. </p>\n\n<p>When you get {<code>status: \"error\"}</code> i.e. exception case, you can show the error message, Otherwise in case of {<code>status: \"ok\"}</code>, you can get JsonArray from 'data' and use that array.</p>\n"}], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528816670, "creation_date": 1528796216, "last_edit_date": 1549310398, "question_id": 50813894, "link": "https://stackoverflow.com/questions/50813894/retrofit-how-can-i-ignore-a-field-if-its-data-type-is-different", "title": "Retrofit - How can I ignore a field if its data type is different?", "body": "<p>I am using Retrofit 2.4.0, with GsonConverterFactory and RxJavaFactory.</p>\n\n<p>Suppose I am now calling an API named <code>getSomething</code>.</p>\n\n<p>In normal situations, server returns</p>\n\n<pre><code>{\n    status: \"ok\",\n    errorMsg: \"\",\n    data: {...}\n}\n</code></pre>\n\n<p>But if an error occurs:</p>\n\n<pre><code>{\n    status: \"error\",\n    errorMsg: \"Some error message\",\n    data: []\n}\n</code></pre>\n\n<p>Note that data becomes an array if an error occurs.</p>\n\n<p>This is how I define the API:</p>\n\n<pre><code>@GET(\"URL\")\nfun getSomething(): Observable&lt;SomeResponse&lt;SomeObject&gt;&gt;\n</code></pre>\n\n<p>SomeResponse:</p>\n\n<pre><code>open class SomeResponse&lt;T&gt; {\n\n    var data: T? = null\n\n    @SerializedName(\"errorMsg\")\n    var errorMessage: String? = \"\"\n\n    var status: String? = \"\"\n}\n</code></pre>\n\n<p>And in an <code>APIManager</code> (Singleton):</p>\n\n<pre><code>fun getSomething(): Observable&lt;SomeObject&gt; {\n    return someAPI.getSomething()\n            .map{ response -&gt;\n                if (response.status != \"ok\") throw new APIException(response.errorMessage)\n                response.data\n            }\n            .subscribeOn(Schedulers.io())\n            .unsubscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n}\n</code></pre>\n\n<p>As you can see, if status is not <code>\"ok\"</code>, an <code>APIException</code> which I defined by myself will be thrown with the error message returned from server, so that I can have my own handling (e.g. display a dialog with that error message).</p>\n\n<p>But now it cannot even reach that throw.<br>\nSince <code>data</code> is now an array, an <code>JsonSyntaxException</code> is thrown instead, and therefore I cannot show the correct error message to user.</p>\n\n<h3>What I want to do</h3>\n\n<p>I know that I can delay the parsing of <code>data</code> after I check the status, by making all declarations of Retrofit interface to return <code>Observable&lt;SomeResponse&lt;Any&gt;&gt;</code>, and do:</p>\n\n<pre><code>            .map{ response -&gt;\n                if (response.status != \"ok\") throw new APIException(response.errorMessage)\n                response.data\n            }\n            .map{ data -&gt;\n                //Parse the object here\n            }\n</code></pre>\n\n<p>Assume I don't want to do that, still relying on GsonConverterFactory to do the parsing, is there a way to throw <code>APIException</code> with correct error message?</p>\n"}, {"tags": ["android", "kotlin", "android-ffmpeg"], "comments": [{"owner": {"reputation": 61761, "user_id": 5726027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15e6b3536ef969cf3a9828a0542aac2?s=128&d=identicon&r=PG", "display_name": "Gyan", "link": "https://stackoverflow.com/users/5726027/gyan"}, "edited": false, "score": 0, "creation_date": 1528798882, "post_id": 50813809, "comment_id": 88634411, "body": "Share full log."}, {"owner": {"reputation": 642, "user_id": 8968956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38cb5bfbfc38e6a3476baee2e3ec1222?s=128&d=identicon&r=PG&f=1", "display_name": "trinadh thatakula", "link": "https://stackoverflow.com/users/8968956/trinadh-thatakula"}, "reply_to_user": {"reputation": 61761, "user_id": 5726027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15e6b3536ef969cf3a9828a0542aac2?s=128&d=identicon&r=PG", "display_name": "Gyan", "link": "https://stackoverflow.com/users/5726027/gyan"}, "edited": false, "score": 0, "creation_date": 1528808308, "post_id": 50813809, "comment_id": 88640700, "body": "added full logs"}], "owner": {"reputation": 642, "user_id": 8968956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38cb5bfbfc38e6a3476baee2e3ec1222?s=128&d=identicon&r=PG&f=1", "display_name": "trinadh thatakula", "link": "https://stackoverflow.com/users/8968956/trinadh-thatakula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "closed_date": 1528826568, "answer_count": 0, "score": 0, "last_activity_date": 1529068897, "creation_date": 1528795931, "last_edit_date": 1529068897, "question_id": 50813809, "link": "https://stackoverflow.com/questions/50813809/error-while-opening-encoder-ffmpeg-androidffmpeg-command-error", "closed_reason": "Duplicate", "title": "error while opening encoder - ffmpeg android(ffmpeg command error)", "body": "<p>I have been working on android-ffmpeg to convert images into videos and I have found the code I was looking(links below) and I have tried to execute this command</p>\n\n<pre><code>val cmd5 = arrayOf(\"-analyzeduration\", \"1M\", \"-probesize\", \"1M\", \"-y\", \"-framerate\", \"1/3.79\", \"-i\", Utils.outputPath + \"image%d.jpg\", \"-i\", audio!!.path, \"-c:v\", \"libx264\", \"-tune\", \"stillimage\", \"-c:a\", \"aac\", \"-strict\", \"experimental\", \"-b:a\", \"192k\", \"-pix_fmt\", \"yuv420p\", \"-shortest\", outputLocation.path)\n</code></pre>\n\n<p>and I got error saying</p>\n\n<pre><code>Error while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n</code></pre>\n\n<p>can any1 please help me</p>\n\n<p>I have taken code from <a href=\"https://github.com/umair13adil/KotlinFFMpeg\" rel=\"nofollow noreferrer\">here -> KotlinFFmpeg</a> and the code snippet is from <a href=\"https://github.com/umair13adil/KotlinFFMpeg/blob/master/app/src/main/java/com/blackbox/ffmpeg/examples/tools/video/MovieMaker.kt\" rel=\"nofollow noreferrer\">here -> MovieMaker.kt</a>, please give me a solution, thanks in advance</p>\n\n<p>here are the logs</p>\n\n<pre><code>    2018-06-12 18:22:24.000 25364-25664/photo.video.maker D/FFmpeg: Running publishing updates method\n2018-06-12 18:22:24.096 25364-25364/photo.video.maker W/System.err: java.io.IOException: ffmpeg version n3.0.1 Copyright (c) 2000-2016 the FFmpeg developers\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   built with gcc 4.8 (GCC)\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   configuration: --target-os=linux --cross-prefix=/home/vagrant/SourceCode/ffmpeg-android/toolchain-android/bin/arm-linux-androideabi- --arch=arm --cpu=cortex-a8 --enable-runtime-cpudetect --sysroot=/home/vagrant/SourceCode/ffmpeg-android/toolchain-android/sysroot --enable-pic --enable-libx264 --enable-libass --enable-libfreetype --enable-libfribidi --enable-libmp3lame --enable-fontconfig --enable-pthreads --disable-debug --disable-ffserver --enable-version3 --enable-hardcoded-tables --disable-ffplay --disable-ffprobe --enable-gpl --enable-yasm --disable-doc --disable-shared --enable-static --pkg-config=/home/vagrant/SourceCode/ffmpeg-android/ffmpeg-pkg-config --prefix=/home/vagrant/SourceCode/ffmpeg-android/build/armeabi-v7a --extra-cflags='-I/home/vagrant/SourceCode/ffmpeg-android/toolchain-android/include -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=2 -fno-strict-overflow -fstack-protector-all' --extra-ldflags='-L/home/vagrant/SourceCode/ffmpeg-android/toolchain-android/lib -Wl,-z,relro -Wl,-z,now -pie' --extra-libs='-lpng -lexpat -lm' --extra-cxxflags=\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libavutil      55. 17.103 / 55. 17.103\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libavcodec     57. 24.102 / 57. 24.102\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libavformat    57. 25.100 / 57. 25.100\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libavdevice    57.  0.101 / 57.  0.101\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libavfilter     6. 31.100 /  6. 31.100\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libswscale      4.  0.100 /  4.  0.100\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libswresample   2.  0.101 /  2.  0.101\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   libpostproc    54.  0.100 / 54.  0.100\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: [mjpeg @ 0xf193d000] Changing bps to 8\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: Input #0, image2, from '/storage/emulated/0/Photo Video Maker/image%d.jpg':\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   Duration: 00:02:35.39, start: 0.000000, bitrate: N/A\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Stream #0:0: Video: mjpeg, yuvj420p(pc, bt470bg/unknown/unknown), 1440x1919 [SAR 1:1 DAR 1440:1919], 0.26 tbr, 0.26 tbn, 0.26 tbc\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: [mp3 @ 0xf192d600] Skipping 0 bytes of junk at 61264.\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: [mjpeg @ 0xf193dc00] Changing bps to 8\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: Input #1, mp3, from '/data/user/0/photo.video.maker/files/audio2.mp3':\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   Metadata:\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     album_artist    : Various Artists\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     AccurateRipDiscID: 018-002fb7fe-0279b2d7-47111512-2\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     AccurateRipResult: AccurateRip: Accurate (confidence 10)   [0A38F342]\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     title           : Morning\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     encoded_by      : dBpoweramp Release 14.4\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     publisher       : EMI Classics\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     composer        : Edvard Grieg\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     TMED            : CD (Lossless)\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     genre           : Classical\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     compilation     : 1\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     album           : The Most Relaxing Classical Album in the World...Ever!\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     track           : 2/18\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     disc            : 1/2\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     artist          : Edvard Grieg\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Encoder         : Lame 3.99.5\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     UPC             : 024356665027\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     date            : 1999\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:   Duration: 00:04:18.04, start: 0.025056, bitrate: 321 kb/s\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Stream #1:0: Audio: mp3, 44100 Hz, stereo, s16p, 320 kb/s\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Metadata:\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:       encoder         : LAME3.99r\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Stream #1:1: Video: mjpeg, yuvj420p(pc, bt470bg/unknown/unknown), 747x750 [SAR 1:1 DAR 249:250], 90k tbr, 90k tbn, 90k tbc\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Metadata:\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:       comment         : Cover (front)\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: [swscaler @ 0xf1125000] deprecated pixel format used, make sure you did set range correctly\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: [libx264 @ 0xf193ec00] height not divisible by 2 (1440x1919)\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err: Output #0, mp4, to '/storage/emulated/0/Photo Video Maker/video/movie_1528807939616.mp4':\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Stream #0:0: Video: h264, none, q=2-31, 128 kb/s, SAR 1:1 DAR 0:0, 0.26 fps\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Metadata:\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:       encoder         : Lavc57.24.102 libx264\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Stream #0:1: Audio: aac, 0 channels, 128 kb/s\n2018-06-12 18:22:24.097 25364-25364/photo.video.maker W/System.err:     Metadata:\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:       encoder         : Lavc57.24.102 aac\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err: Stream mapping:\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:   Stream #0:0 -&gt; #0:0 (mjpeg (native) -&gt; h264 (libx264))\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:   Stream #1:0 -&gt; #0:1 (mp3 (native) -&gt; aac (native))\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err: Error while opening encoder for output stream #0:0 - maybe incorrect parameters such as bit_rate, rate, width or height\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at photo.video.maker.tools.video.MovieMaker$convert$1.onFailure(MovieMaker.kt:78)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at com.github.hiteshsondhi88.libffmpeg.FFmpegExecuteAsyncTask.onPostExecute(FFmpegExecuteAsyncTask.java:70)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at com.github.hiteshsondhi88.libffmpeg.FFmpegExecuteAsyncTask.onPostExecute(FFmpegExecuteAsyncTask.java:10)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.os.AsyncTask.finish(AsyncTask.java:695)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.os.AsyncTask.-wrap1(Unknown Source:0)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:712)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:106)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.os.Looper.loop(Looper.java:164)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:6494)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n2018-06-12 18:22:24.098 25364-25364/photo.video.maker W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson"], "comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1528789519, "post_id": 50811767, "comment_id": 88628896, "body": "Any logcat error?"}, {"owner": {"reputation": 2251, "user_id": 4961662, "user_type": "registered", "profile_image": "https://graph.facebook.com/910958288968528/picture?type=large", "display_name": "Milan Pansuriya", "link": "https://stackoverflow.com/users/4961662/milan-pansuriya"}, "edited": false, "score": 0, "creation_date": 1528789972, "post_id": 50811767, "comment_id": 88629177, "body": "try with first 40 data it will works"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 2251, "user_id": 4961662, "user_type": "registered", "profile_image": "https://graph.facebook.com/910958288968528/picture?type=large", "display_name": "Milan Pansuriya", "link": "https://stackoverflow.com/users/4961662/milan-pansuriya"}, "edited": false, "score": 0, "creation_date": 1528790049, "post_id": 50811767, "comment_id": 88629214, "body": "@MilanPansuriya API is returning more than 40 records so how I can discard 10 records. How do you know it will work first 40"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1528790100, "post_id": 50811767, "comment_id": 88629251, "body": "@Skizo-oz\u1d09\u029eS No error on logcat"}, {"owner": {"reputation": 2251, "user_id": 4961662, "user_type": "registered", "profile_image": "https://graph.facebook.com/910958288968528/picture?type=large", "display_name": "Milan Pansuriya", "link": "https://stackoverflow.com/users/4961662/milan-pansuriya"}, "edited": false, "score": 0, "creation_date": 1528790111, "post_id": 50811767, "comment_id": 88629255, "body": "try to set limit kotlin has issue in looping"}, {"owner": {"reputation": 2251, "user_id": 4961662, "user_type": "registered", "profile_image": "https://graph.facebook.com/910958288968528/picture?type=large", "display_name": "Milan Pansuriya", "link": "https://stackoverflow.com/users/4961662/milan-pansuriya"}, "edited": false, "score": 0, "creation_date": 1528790141, "post_id": 50811767, "comment_id": 88629271, "body": "if your loop size more than 40 than it will create issue"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1528790193, "post_id": 50811767, "comment_id": 88629300, "body": "Any known issue for that ?"}, {"owner": {"reputation": 2251, "user_id": 4961662, "user_type": "registered", "profile_image": "https://graph.facebook.com/910958288968528/picture?type=large", "display_name": "Milan Pansuriya", "link": "https://stackoverflow.com/users/4961662/milan-pansuriya"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1528790261, "post_id": 50811767, "comment_id": 88629329, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172938/discussion-between-milan-pansuriya-and-n-sharma\">continue this discussion in chat</a>."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1528790796, "post_id": 50811767, "comment_id": 88629594, "body": "I tried with 4 records but it is not working. something else issue is there"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1528791079, "post_id": 50811767, "comment_id": 88629736, "body": "I think you need to provide default values or an empty constructor"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1528797273, "post_id": 50811767, "comment_id": 88633447, "body": "@GilGoldzweig I did this <code>@field:SerializedName(&quot;company_logo&quot;)         val companyLogo: String = &quot;&quot;,          @field:SerializedName(&quot;how_to_apply&quot;)         val howToApply: String = &quot;&quot;,</code> but not working still"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1528797865, "post_id": 50811767, "comment_id": 88633822, "body": "Did you give all fields a default value? And also try to change the fields from val to var"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1528798711, "post_id": 50811767, "comment_id": 88634314, "body": "Yes I have tried but not working"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1528799129, "post_id": 50811767, "comment_id": 88634553, "body": "could you please try removing the <code>field:</code> from the annotation? Does it work?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1528800484, "post_id": 50811767, "comment_id": 88635338, "body": "@user2340612 I did that too, didn&#39;t work :("}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1528876621, "post_id": 50818534, "comment_id": 88667949, "body": "@NSharma according to the <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/Expose.html\" rel=\"nofollow noreferrer\">documentation</a>, the <code>Expose</code> annotation &quot;has no effect unless you build a <code>Gson</code> with <code>GsonBuilder</code> and invoke <code>gsonBuilder.excludeFieldsWithoutExposeAnnotation()</code>&quot;. Is that your case?"}], "tags": [], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "is_accepted": true, "score": 1, "last_activity_date": 1591627972, "last_edit_date": 1591627972, "creation_date": 1528810370, "answer_id": 50818534, "question_id": 50811767, "link": "https://stackoverflow.com/questions/50811767/gson-is-not-mapping-values-with-data-class-in-kotlin/50818534#50818534", "title": "GSON is not mapping values with data class in kotlin", "body": "<p>That's because you rely on auto-converted java code</p>\n\n<p>remove <code>@field:SerializedName</code> changed it to <code>@SerializedName</code></p>\n\n<p>don't put them in to <code>primary constructor</code></p>\n\n<p>define them like this:</p>\n\n<pre><code>data class JobsResponse(){\n@SerializedName(\"company_logo\")\nval companyLogo: String? = null\n\n\n....\n\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 50818534, "answer_count": 1, "score": 0, "last_activity_date": 1591627972, "creation_date": 1528789290, "last_edit_date": 1528790127, "question_id": 50811767, "link": "https://stackoverflow.com/questions/50811767/gson-is-not-mapping-values-with-data-class-in-kotlin", "title": "GSON is not mapping values with data class in kotlin", "body": "<p>Hi I am using <code>gson</code> library to map values of response to model. I am doing it like this but it is not mapping values of response to model. I am getting list of 50 models but values in it is zero.</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideRestApiHelper(\n        okHttpClient: OkHttpClient,\n        gson: Gson,\n        rxJava2CallAdapterFactory: RxJava2CallAdapterFactory): RestApi {\n    val builder = Retrofit.Builder()\n            .baseUrl(BuildConfig.BASE_URL)\n            .addCallAdapterFactory(rxJava2CallAdapterFactory)\n            .addConverterFactory(GsonConverterFactory.create(gson))\n    val retrofit = builder.client(okHttpClient).build()\n    return retrofit.create(RestApi::class.java)\n}\n</code></pre>\n\n<p>RestApi.kt</p>\n\n<pre><code>interface RestApi {\n\n    @GET(ApiEndPoint.ENDPOINT_GITHUB_JOBS)\n    fun getJobsApiCall(): Observable&lt;List&lt;JobsResponse&gt;&gt;\n}\n</code></pre>\n\n<p>ApiHelperImpl.kt</p>\n\n<pre><code>class ApiHelperImpl @Inject constructor(private val restApi: RestApi) : ApiHelper {\n\n    override fun getJobsApiCall(): Observable&lt;List&lt;JobsResponse&gt;&gt; {\n        return restApi.getJobsApiCall()\n    }\n}\n</code></pre>\n\n<p>JobsResponse.kt</p>\n\n<pre><code>data class JobsResponse(\n\n        @field:SerializedName(\"company_logo\")\n        val companyLogo: String?,\n\n        @field:SerializedName(\"how_to_apply\")\n        val howToApply: String?,\n\n        @field:SerializedName(\"created_at\")\n        val createdAt: String?,\n\n        @field:SerializedName(\"description\")\n        val description: String?,\n\n        @field:SerializedName(\"location\")\n        val location: String?,\n\n        @field:SerializedName(\"company\")\n        val company: String?,\n\n        @field:SerializedName(\"company_url\")\n        val companyUrl: String?,\n\n        @field:SerializedName(\"id\")\n        val id: String?,\n\n        @field:SerializedName(\"title\")\n        val title: String?,\n\n        @field:SerializedName(\"type\")\n        val type: String?,\n\n        @field:SerializedName(\"url\")\n        val url: String?\n) : BaseResponse()\n</code></pre>\n\n<p>I am calling this API <a href=\"https://jobs.github.com/positions.json\" rel=\"nofollow noreferrer\">https://jobs.github.com/positions.json</a>. Does anyone know what could be the issue ?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528787292, "post_id": 50810964, "comment_id": 88627633, "body": "Have you tried building your proj with <code>.&#47;gradlew build</code>"}, {"owner": {"reputation": 77, "user_id": 8353132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3179b29b6f53543d5ae10e768c0194e?s=128&d=identicon&r=PG&f=1", "display_name": "Elzhan Zeinulla", "link": "https://stackoverflow.com/users/8353132/elzhan-zeinulla"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528787910, "post_id": 50810964, "comment_id": 88627995, "body": "@ice1000 , yes, shows the same result"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528788228, "post_id": 50810964, "comment_id": 88628174, "body": "Retry after <code>pkill java</code>? (this may kill your Android Studio as well but will kill all other possible problem-causing gradle daemons"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1528788250, "post_id": 50810964, "comment_id": 88628185, "body": "Is your device using architecture &quot;ARM64&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528789070, "post_id": 50811504, "comment_id": 88628662, "body": "Geno taiqiangle"}], "tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": true, "score": 2, "last_activity_date": 1528795087, "last_edit_date": 1528795087, "creation_date": 1528788409, "answer_id": 50811504, "question_id": 50810964, "link": "https://stackoverflow.com/questions/50810964/errorabnormal-build-process-termination-while-compiling-kotlin-file-in-intelij/50811504#50811504", "title": "Error:Abnormal build process termination, while compiling kotlin file in IntelIj", "body": "<blockquote>\n  <p>/home/stayal0ne/Desktop/kotlin-env/jdk-8u171-linux-<strong>arm64</strong>-vfp-hflt/jdk1.8.0_171/bin/java</p>\n</blockquote>\n\n<p>You are using an <code>arm64</code> JDK, which may not be your current hardware platform. You should reinstall JDK with platform <code>x86_64</code> or other which fits your hardware.</p>\n\n<p>Also, it seems you are using Linux, then you may use <em>package manager</em> to install the correct version of JDK and JRE automatically, like <code>sudo apt install openjdk-8-jdk</code>. (It doesn't matter to use OracleJDK or OpenJDK)</p>\n"}], "owner": {"reputation": 77, "user_id": 8353132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3179b29b6f53543d5ae10e768c0194e?s=128&d=identicon&r=PG&f=1", "display_name": "Elzhan Zeinulla", "link": "https://stackoverflow.com/users/8353132/elzhan-zeinulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 50811504, "answer_count": 1, "score": -1, "last_activity_date": 1528795087, "creation_date": 1528786490, "last_edit_date": 1528793344, "question_id": 50810964, "link": "https://stackoverflow.com/questions/50810964/errorabnormal-build-process-termination-while-compiling-kotlin-file-in-intelij", "title": "Error:Abnormal build process termination, while compiling kotlin file in IntelIj", "body": "<p>Trying to compile kotlin file in Intelij and getting the following error with long trace:</p>\n\n<pre><code>Error:Abnormal build process termination: \n/home/stayal0ne/Desktop/kotlin-env/jdk-8u171-linux-arm64-vfp-hflt/jdk1.8.0_171/bin/java -Xmx700m -Djava.awt.headless=true -Djava.endorsed.dirs=\\\"\\\" -Djdt.compiler.useSingleThread=true -Dpreload.project.path=/home/stayal0ne/trash/KotlinTelegramBot -Dpreload.config.path=/home/stayal0ne/.IntelliJIdea2018.1/config/options -Dcompile.parallel=false -Drebuild.on.dependency.change=true -Djava.net.preferIPv4Stack=true -Dio.netty.initialSeedUniquifier=-2445885864882950180 -Dfile.encoding=UTF-8 -Duser.language=en -Duser.country=US -Didea.paths.selector=IntelliJIdea2018.1 -Didea.home.path=/home/stayal0ne/Downloads/idea/idea -Didea.config.path=/home/stayal0ne/.IntelliJIdea2018.1/config -Didea.plugins.path=/home/stayal0ne/.IntelliJIdea2018.1/config/plugins -Djps.log.dir=/home/stayal0ne/.IntelliJIdea2018.1/system/log/build-log -Djps.fallback.jdk.home=/home/stayal0ne/Downloads/idea/idea/jre64 -Djps.fallback.jdk.version=1.8.0_152-release -Dio.netty.noUnsafe=true -Djava.io.tmpdir=/home/stayal0ne/.IntelliJIdea2018.1/system/compile-server/kotlintelegrambot_48229f77/_temp_ -Djps.backward.ref.index.builder=true -Dkotlin.incremental.compilation=true -Dkotlin.daemon.enabled -Dkotlin.daemon.client.alive.path=\\\"/tmp/kotlin-idea-6368009607740488460-is-running\\\" -classpath /home/stayal0ne/Downloads/idea/idea/lib/jps-launcher.jar:/home/stayal0ne/Desktop/kotlin-env/jdk-8u171-linux-arm64-vfp-hflt/jdk1.8.0_171/lib/tools.jar:/home/stayal0ne/Downloads/idea/idea/lib/optimizedFileManager.jar org.jetbrains.jps.cmdline.Launcher /home/stayal0ne/Downloads/idea/idea/lib/platform-api.jar:/home/stayal0ne/Downloads/idea/idea/lib/annotations.jar:/home/stayal0ne/Downloads/idea/idea/lib/guava-21.0.jar:/home/stayal0ne/Downloads/idea/idea/lib/commons-logging-1.2.jar:/home/stayal0ne/Downloads/idea/idea/lib/aether-dependency-resolver.jar:/home/stayal0ne/Downloads/idea/idea/lib/idea_rt.jar:/home/stayal0ne/Downloads/idea/idea/lib/nanoxml-2.2.3.jar:/home/stayal0ne/Downloads/idea/idea/lib/snappy-in-java-0.5.1.jar:/home/stayal0ne/Downloads/idea/idea/lib/netty-all-4.1.13.Final.jar:/home/stayal0ne/Downloads/idea/idea/lib/httpclient-4.5.2.jar:/home/stayal0ne/Downloads/idea/idea/lib/jna.jar:/home/stayal0ne/Downloads/idea/idea/lib/log4j.jar:/home/stayal0ne/Downloads/idea/idea/lib/jps-builders.jar:/home/stayal0ne/Downloads/idea/idea/lib/asm-all.jar:/home/stayal0ne/Downloads/idea/idea/lib/jgoodies-forms.jar:/home/stayal0ne/Downloads/idea/idea/lib/aether-1.1.0-all.jar:/home/stayal0ne/Downloads/idea/idea/lib/util.jar:/home/stayal0ne/Downloads/idea/idea/lib/javac2.jar:/home/stayal0ne/Downloads/idea/idea/lib/resources_en.jar:/home/stayal0ne/Downloads/idea/idea/lib/trove4j.jar:/home/stayal0ne/Downloads/idea/idea/lib/jps-model.jar:/home/stayal0ne/Downloads/idea/idea/lib/oro-2.0.8.jar:/home/stayal0ne/Downloads/idea/idea/lib/jps-builders-6.jar:/home/stayal0ne/Downloads/idea/idea/lib/httpcore-4.4.5.jar:/home/stayal0ne/Downloads/idea/idea/lib/jna-platform.jar:/home/stayal0ne/Downloads/idea/idea/lib/protobuf-java-3.0.0.jar:/home/stayal0ne/Downloads/idea/idea/lib/maven-aether-provider-3.3.9-all.jar:/home/stayal0ne/Downloads/idea/idea/lib/lz4-java-1.3.jar:/home/stayal0ne/Downloads/idea/idea/lib/forms_rt.jar:/home/stayal0ne/Downloads/idea/idea/lib/slf4j-api-1.7.10.jar:/home/stayal0ne/Downloads/idea/idea/lib/commons-codec-1.9.jar:/home/stayal0ne/Downloads/idea/idea/lib/jdom.jar::/home/stayal0ne/Downloads/idea/idea/plugins/gradle/lib/gradle-api-4.4.jar:/home/stayal0ne/Downloads/idea/idea/plugins/gradle/lib/gradle-api-impldep-4.4.jar:/home/stayal0ne/Downloads/idea/idea/lib/ant/lib/ant.jar:/home/stayal0ne/Downloads/idea/idea/lib/groovy-all-2.4.12.jar:/home/stayal0ne/Downloads/idea/idea/lib/gson-2.8.2.jar:/home/stayal0ne/Downloads/idea/idea/lib/slf4j-api-1.7.10.jar:/home/stayal0ne/Downloads/idea/idea/lib/slf4j-log4j12-1.7.10.jar:/home/stayal0ne/Downloads/idea/idea/lib/gson-2.8.2.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/jarutils.jar:/home/stayal0ne/Downloads/idea/idea/lib/guava-21.0.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/android-base-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/gradle/lib/gradle-api-4.4.jar:/home/stayal0ne/Downloads/idea/idea/lib/gson-2.8.2.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/jarutils.jar:/home/stayal0ne/Downloads/idea/idea/lib/guava-21.0.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/android-base-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/gradle/lib/gradle-api-4.4.jar:/home/stayal0ne/Downloads/idea/idea/plugins/ant/lib/ant-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/uiDesigner/lib/jps/ui-designer-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/IntelliLang/lib/intellilang-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/Groovy/lib/groovy-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/Groovy/lib/groovy-rt-constants.jar:/home/stayal0ne/Downloads/idea/idea/plugins/eclipse/lib/eclipse-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/eclipse/lib/common-eclipse-util.jar:/home/stayal0ne/Downloads/idea/idea/plugins/maven/lib/maven-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/maven/lib/plexus-utils-2.0.6.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/osmorc-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/bndlib-3.3.0.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/bnd-repository-3.3.0.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/bnd-resolve-3.3.0.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/plexus-utils-3.0.10.jar:/home/stayal0ne/Downloads/idea/idea/plugins/osmorc/lib/bundlor-all.jar:/home/stayal0ne/Downloads/idea/idea/plugins/aspectj/lib/aspectj-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/flex/lib/flex-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/flex/lib/flex-shared.jar:/home/stayal0ne/Downloads/idea/idea/plugins/gradle/lib/gradle-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/devkit/lib/devkit-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/JavaEE/lib/javaee-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/JavaEE/lib/jps/jpa-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/webSphereIntegration/lib/jps/webSphere-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/weblogicIntegration/lib/jps/weblogic-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/dmServer/lib/dmServer-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/GwtStudio/lib/gwt-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/GoogleAppEngine/lib/google-app-engine-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/GoogleAppEngine/lib/appEngine-runtime.jar:/home/stayal0ne/Downloads/idea/idea/plugins/Grails/lib/grails-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/Grails/lib/grails-compiler-patch.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/jps/android-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/android-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/build-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/android-rt.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/sdk-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/repository.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/sdklib.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/android-base-common.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/jarutils.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/layoutlib-api.jar:/home/stayal0ne/Downloads/idea/idea/plugins/android/lib/manifest-merger.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/jps/kotlin-jps-plugin.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/kotlin-stdlib.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/kotlin-reflect.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/kotlin-plugin.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/android-extensions-ide.jar:/home/stayal0ne/.IntelliJIdea2018.1/config/plugins/Kotlin/lib/android-extensions-compiler.jar:/home/stayal0ne/Downloads/idea/idea/plugins/javaFX/lib/javaFX-jps-plugin.jar:/home/stayal0ne/Downloads/idea/idea/plugins/javaFX/lib/common-javaFX-plugin.jar org.jetbrains.jps.cmdline.BuildMain 127.0.0.1 41993 1e0f5647-4e35-4812-b8b7-bd7025d7eae3 /home/stayal0ne/.IntelliJIdea2018.1/system/compile-server\n/home/stayal0ne/Desktop/kotlin-env/jdk-8u171-linux-arm64-vfp-hflt/jdk1.8.0_171/bin/java: 6: /home/stayal0ne/Desktop/kotlin-env/jdk-8u171-linux-arm64-vfp-hflt/jdk1.8.0_171/bin/java: Syntax error: \")\" unexpected\n</code></pre>\n\n<p>Tried to use various jdk versions and all of them show the same error. </p>\n\n<p>Main.kt:</p>\n\n<pre><code>import org.telegram.*\nimport org.telegram.telegrambots.TelegramBotsApi\nimport org.telegram.telegrambots.api.objects.Update\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot\nimport java.util.*\n\n\nfun main(args : Array&lt;String&gt;) {\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>and build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        maven { url \"http://repo.maven.apache.org/maven2/\" }\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: \"java-library\"\napply plugin: \"kotlin\"\napply plugin: \"java\"\n\napply plugin: 'application'\n\nmainClassName = 'main.Main'\n\nrepositories {\n//    mavenCentral()\n    maven { url \"http://jcenter.bintray.com\" }\n}\n\ndependencies {\n    implementation 'org.hibernate:hibernate-core:3.6.7.Final'\n    api 'com.google.guava:guava:23.0'\n    testImplementation 'junit:junit:4.+'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n}\n\ndependencies {\n    compile \"org.telegram:telegrambots:3.6\"\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>I'm building the project using gradle 4.8 and java version \"1.8.0_171\".\nAny help will be appreciated </p>\n"}, {"tags": ["java", "gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1528784600, "post_id": 50810360, "comment_id": 88626299, "body": "What\u2019s the error? <code>import java.util</code> doesn\u2019t look right either."}, {"owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 0, "creation_date": 1528833904, "post_id": 50810360, "comment_id": 88654907, "body": "Is it possible to share sample project example?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9928516, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qAhuheX22Wg/AAAAAAAAAAI/AAAAAAAAAAA/HgN5fJvMyp4/photo.jpg?sz=128", "display_name": "Karina Bekbayeva", "link": "https://stackoverflow.com/users/9928516/karina-bekbayeva"}, "edited": false, "score": 0, "creation_date": 1528786601, "post_id": 50810640, "comment_id": 88627281, "body": "I know about it, but anyway it shows the same error"}], "tags": [], "owner": {"reputation": 10170, "user_id": 1421925, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cLzpB.jpg?s=128&g=1", "display_name": "Magnilex", "link": "https://stackoverflow.com/users/1421925/magnilex"}, "is_accepted": false, "score": 0, "last_activity_date": 1528786424, "last_edit_date": 1528786424, "creation_date": 1528785304, "answer_id": 50810640, "question_id": 50810360, "link": "https://stackoverflow.com/questions/50810360/unresolved-reference-java-in-kotlin-while-using-gradle-and-intelij/50810640#50810640", "title": "Unresolved reference &quot;java&quot; in Kotlin while using Gradle and IntelIJ", "body": "<p>The <code>import</code> statement is incomplete. You could import the whole <code>java.util</code> package, like you do with <code>org.telegram.*</code>:</p>\n\n<pre><code>import java.util.*\n</code></pre>\n\n<p>Or better still, import only the classes you need, for example:</p>\n\n<pre><code>import java.util.List\n</code></pre>\n\n<p>For full reference, see the <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"nofollow noreferrer\">Kotlin documentation about packages and imports</a>.</p>\n\n<p>As a side note, let IntelliJ help you by <a href=\"https://stackoverflow.com/a/8609200/1421925\">organizing the imports</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 8969842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r-Xb0TkLqec/AAAAAAAAAAI/AAAAAAAAHcs/l5S9gwdmE9k/photo.jpg?sz=128", "display_name": "Ivan Samborskii", "link": "https://stackoverflow.com/users/8969842/ivan-samborskii"}, "is_accepted": true, "score": 0, "last_activity_date": 1528793363, "last_edit_date": 1528793363, "creation_date": 1528792962, "answer_id": 50812852, "question_id": 50810360, "link": "https://stackoverflow.com/questions/50810360/unresolved-reference-java-in-kotlin-while-using-gradle-and-intelij/50812852#50812852", "title": "Unresolved reference &quot;java&quot; in Kotlin while using Gradle and IntelIJ", "body": "<p>I can assume that the reason may be as follows: you did not specify the package in <em>Main.kt</em></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>package main // &lt;--- based on your build.gradle file\n\nimport org.telegram.*\nimport org.telegram.telegrambots.TelegramBotsApi\nimport org.telegram.telegrambots.api.objects.Update\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot\nimport java.util.*\n\nfun main(args : Array&lt;String&gt;) {\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>Just in case, in <em>build.gradle</em> file to specify <em>Main.kt</em> as main class you need to add <em>Kt</em> suffix to a class name:</p>\n\n<pre><code>mainClassName = \"main.MainKt\"\n</code></pre>\n\n<p><em>UPDATE</em>: another reason may be an incorrect project structure. In your case, project structure has to be as follows:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 build.gradle\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 main\n        \u2514\u2500\u2500 kotlin\n            \u2514\u2500\u2500 main\n                \u2514\u2500\u2500 Main.kt\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9928516, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qAhuheX22Wg/AAAAAAAAAAI/AAAAAAAAAAA/HgN5fJvMyp4/photo.jpg?sz=128", "display_name": "Karina Bekbayeva", "link": "https://stackoverflow.com/users/9928516/karina-bekbayeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4260, "favorite_count": 0, "accepted_answer_id": 50812852, "answer_count": 2, "score": 0, "last_activity_date": 1528793363, "creation_date": 1528784204, "last_edit_date": 1528786624, "question_id": 50810360, "link": "https://stackoverflow.com/questions/50810360/unresolved-reference-java-in-kotlin-while-using-gradle-and-intelij", "title": "Unresolved reference &quot;java&quot; in Kotlin while using Gradle and IntelIJ", "body": "<p>I wanted to create simple telegram bot using kotlin and gradle. I have successfully imported ort.telegram library, but it cannot resolve standard java libraies. Below gradle.build configuration:</p>\n\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This is a general purpose Gradle build.\n * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/\n */\n\nbuildscript {\n    ext.kotlin_version = '1.2.41'\n    ext.telegramVersion = '3.5'\n\n    repositories {\n        maven { url \"http://repo.maven.apache.org/maven2/\" }\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n       )\n    }\n}\n\napply plugin: \"java-library\"\napply plugin: \"kotlin\"\napply plugin: \"java\"\n\n\napply plugin: 'application'\n\nmainClassName = 'main.Main'\n\nrepositories {\n    maven { url \"http://jcenter.bintray.com\" }\n}\n\ndependencies {\n    implementation 'org.hibernate:hibernate-core:3.6.7.Final'\n    api 'com.google.guava:guava:23.0'\n    testImplementation 'junit:junit:4.+'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile \"org.telegram:telegrambots:3.6\"\n\n}\n\n\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>Main.kt:</p>\n\n<pre><code>import org.telegram.*\nimport org.telegram.telegrambots.TelegramBotsApi\nimport org.telegram.telegrambots.api.objects.Update\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot\nimport java.util.*\n\nfun main(args : Array&lt;String&gt;) {\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>The gradle install and build commands are successfully completed.\nAny help will be appreciated </p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1528784275, "creation_date": 1528784275, "answer_id": 50810387, "question_id": 50810285, "link": "https://stackoverflow.com/questions/50810285/kotlin-type-parameters-with-upper-bounds/50810387#50810387", "title": "Kotlin Type Parameters with Upper Bounds", "body": "<p>The type inference tries to find a suitable pair. In this case it would be the explicit</p>\n\n<pre><code>foo&lt;Any, Int&gt;(\"bar\", 123)\n</code></pre>\n\n<p>The compiler knows the relation of <code>T</code> and <code>U</code> and thus just needs to find the common super type for <code>String</code> and <code>Int</code> for <code>T</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1529327407, "last_edit_date": 1529327407, "creation_date": 1528784322, "answer_id": 50810395, "question_id": 50810285, "link": "https://stackoverflow.com/questions/50810285/kotlin-type-parameters-with-upper-bounds/50810395#50810395", "title": "Kotlin Type Parameters with Upper Bounds", "body": "<p>The compiler tries quite hard to fit the parameters you've provided to a function signature. In this case, it infers the type parameters to be <code>Any</code> and <code>Int</code>, so it basically calls the function like this, which of course satisfies the upper bound requirement, because <code>Any</code> is a supertype of <code>Int</code>:</p>\n\n<pre><code>foo&lt;Any, Int&gt;(\"bar\", 123)\n</code></pre>\n\n<p>You can check that this is indeed what's happening in at least two different ways.</p>\n\n<ol>\n<li><p>You can open intention actions (<kbd>Alt + Enter</kbd> on Windows, <kbd>\u2325\u21a9</kbd> on macOS) when your cursor is on the <code>foo</code> function call and choose <code>Add explicit type arguments</code>. This will produce the line above.</p></li>\n<li><p>You can make the function <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\"><code>reified</code></a> and print the type parameters' classes - these will be the parameters that it knows about at compile time.</p>\n\n<pre><code>inline fun &lt;reified T, reified U: T&gt; foo(a: T, b: U) {\n    println(\"$a $b\")\n    println(T::class) // class kotlin.Any\n    println(U::class) // class kotlin.Int\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2283, "user_id": 4526030, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-s05ILbxi6YA/AAAAAAAAAAI/AAAAAAAAACc/yAd6W8jNSBI/photo.jpg?sz=128", "display_name": "John Perry", "link": "https://stackoverflow.com/users/4526030/john-perry"}, "is_accepted": false, "score": 1, "last_activity_date": 1528784558, "creation_date": 1528784558, "answer_id": 50810460, "question_id": 50810285, "link": "https://stackoverflow.com/questions/50810285/kotlin-type-parameters-with-upper-bounds/50810460#50810460", "title": "Kotlin Type Parameters with Upper Bounds", "body": "<p>In the first case, the compiler has no idea what type you mean by <code>T</code>, so it has to guess, and it doesn't necessarily guess the <em>strictest</em> type. One assumption of languages that use type inference is that the programmer meant something correct. <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\"><code>String</code> and <code>Int</code> are both descendants of type <code>Any</code></a>, so the compiler can resolve the first call by substituting <code>Any</code> in place of <code>T</code>. Hence, there is no error.</p>\n\n<p>Once you specifically specify types, the compiler has a better idea of what you want, and in that case it is an error. But the first case is correct.</p>\n"}], "owner": {"reputation": 5314, "user_id": 5190886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YLo4CPWOOeA/AAAAAAAAAAI/AAAAAAAAAAA/NEX8mDWN_F0/photo.jpg?sz=128", "display_name": "Hiranya Jayathilaka", "link": "https://stackoverflow.com/users/5190886/hiranya-jayathilaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 50810395, "answer_count": 3, "score": 0, "last_activity_date": 1529327407, "creation_date": 1528783897, "question_id": 50810285, "link": "https://stackoverflow.com/questions/50810285/kotlin-type-parameters-with-upper-bounds", "title": "Kotlin Type Parameters with Upper Bounds", "body": "<p>I expect the following to produce a compilation error, but it doesn't. Any ideas why?</p>\n\n<pre><code>fun &lt;T, U: T&gt; foo(a: T, b: U) {\n    println(\"$a $b\")\n}\n\nfoo(\"bar\", 123)\n</code></pre>\n\n<p>If I call <code>foo()</code> with explicit type arguments, it fails to compile as expected:</p>\n\n<pre><code>foo&lt;String, Int&gt;(\"bar\", 123)\nError: Kotlin: Type argument is not within its bounds: should be subtype of 'String'\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "singleton", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 5935559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/aGsWk.jpg?s=128&g=1", "display_name": "Shudipto Trafder", "link": "https://stackoverflow.com/users/5935559/shudipto-trafder"}, "is_accepted": false, "score": -1, "last_activity_date": 1528784019, "creation_date": 1528784019, "answer_id": 50810302, "question_id": 50809571, "link": "https://stackoverflow.com/questions/50809571/how-to-translate-retrofit-client-from-kotlin-to-java-preserving-singleton/50810302#50810302", "title": "How to translate Retrofit client from Kotlin to Java preserving singleton?", "body": "<p>Don't try to return WikiApiService every time.</p>\n\n<p>you can create a class</p>\n\n<pre><code>class RetData {\n\n    private lateinit var retrofit: Retrofit\n\n    var wikiApiService: WikiApiService\n\n    init {\n        if (!::retrofit.isInitialized) {\n            retrofit = Retrofit.Builder()\n                    .baseUrl(\"https://api.stackexchange.com/2.2/\")\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n        }\n        wikiApiService = retrofit.create(WikiApiService::class.java)\n    }\n}\n</code></pre>\n\n<p>and access</p>\n\n<pre><code>fun test() {\n    val retrofit = RetData()\n\n    val apiService = retrofit.wikiApiService\n    println(apiService)\n\n    val apiService2 = retrofit.wikiApiService\n    println(apiService2)\n\n    val apiService3 = retrofit.wikiApiService\n    println(apiService3)\n\n    val apiService4 = retrofit.wikiApiService\n    println(apiService4)\n}\n</code></pre>\n\n<p>It's a better idea use dependency injection library like <a href=\"https://github.com/google/dagger\" rel=\"nofollow noreferrer\">dagger 2</a></p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528912063, "post_id": 50811283, "comment_id": 88690182, "body": "I&#39;ve heard Kodein is a service locator, and not a dependency injection framework."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1528960885, "post_id": 50811283, "comment_id": 88706141, "body": "True :P There is a kind of, let&#39;s call it mistake, because <code>Kodein - KOtlin DEpendency INjection</code>, but you are right, in fact is not an DI framework, but <code>dependency retrieval container</code> (what you can find in Kodein&#39;s description)"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": -1, "last_activity_date": 1528787613, "creation_date": 1528787613, "answer_id": 50811283, "question_id": 50809571, "link": "https://stackoverflow.com/questions/50809571/how-to-translate-retrofit-client-from-kotlin-to-java-preserving-singleton/50811283#50811283", "title": "How to translate Retrofit client from Kotlin to Java preserving singleton?", "body": "<p>If you want make singleton in Kotlin, just... use object, not class.</p>\n\n<pre><code>object Retrofit {\n    val instance = ...\n}\n</code></pre>\n\n<p>see #<a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html</a> for more example of object pattern in Kotlin.</p>\n\n<p>But it's still bad practice. Is's much better to use DI framework, like Kodein or Dagger2.</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 953, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528787613, "creation_date": 1528779934, "question_id": 50809571, "link": "https://stackoverflow.com/questions/50809571/how-to-translate-retrofit-client-from-kotlin-to-java-preserving-singleton", "title": "How to translate Retrofit client from Kotlin to Java preserving singleton?", "body": "<p>I am trying to translate Java Retrofit Api client code to Kotlin. So here is what we have in Java:</p>\n\n<p>Retrofit client which returns retrofit singleton object:</p>\n\n<pre><code>public class RetrofitClient {\n\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseUrl) {\n        if (retrofit==null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n\n<p>And Api client which uses the above retrofit object:</p>\n\n<pre><code>public class ApiUtils {\n\n    public static final String BASE_URL = \"https://api.stackexchange.com/2.2/\";\n\n    public static SOService getSOService() {\n        return RetrofitClient.getClient(BASE_URL).create(SOService.class);\n    }\n}\n</code></pre>\n\n<p>The problem is that in every example I have seen so far on the internet, uses companion  object(every member inside it is static), why then our singleton pattern passes away? Why not to use object instead of companion object and how to do that?\nSee the example with companion object in Kotlin:</p>\n\n<pre><code>interface WikiApiService {\n\n    @GET(\"api.php\")\n    fun hitCountCheck(@Query(\"action\") action: String): Observable&lt;Model.Result&gt;\n\n    companion object {\n        fun create(): WikiApiService {\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(\"https://en.wikipedia.org/w/\")\n                    .build()\n\n            return retrofit.create(WikiApiService::class.java)\n        }\n    }\n</code></pre>\n\n<p>Let alone that this is done in the same class, using companion object will result in returning new object of both retrofit and WikiApiService. I cannot be agree with it. Please make any clarifications about these examples. Maybe I don't get anything that's why this seems to me wrong and please forgive that I have put different examples for Java and Kotlin.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-multiplatform"], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "edited": false, "score": 1, "creation_date": 1528820373, "post_id": 50809232, "comment_id": 88648550, "body": "This is not for Kotlin Multiplatform, which uses the <code>kotlin-platform-android</code> plugin, and thus does not answer the question."}], "tags": [], "owner": {"reputation": 1, "user_id": 9920735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4PI8J.jpg?s=128&g=1", "display_name": "Ronak Diyora", "link": "https://stackoverflow.com/users/9920735/ronak-diyora"}, "is_accepted": false, "score": -1, "last_activity_date": 1528777886, "last_edit_date": 1528777886, "creation_date": 1528777543, "answer_id": 50809232, "question_id": 50809045, "link": "https://stackoverflow.com/questions/50809045/kotlin-multiplatform-android-module-only-has-access-to-android-api-1/50809232#50809232", "title": "Kotlin Multiplatform Android module only has access to Android API 1", "body": "<p>apply plugin: 'com.android.application'</p>\n\n<p><strong>apply plugin: 'kotlin-android'</strong></p>\n\n<p><strong>apply plugin: 'kotlin-android-extensions'</strong></p>\n\n<p>android {</p>\n\n<pre><code>compileSdkVersion 26\n\ndefaultConfig {\n    applicationId \"com.example.admin.myapplication\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>dependencies {</p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\nimplementation 'com.android.support:recyclerview-v7:26.1.0'\n</code></pre>\n\n<p>}</p>\n\n<p>my android studio version is 3.1.1\nwroking properly</p>\n\n<p>remove all kotlin library from your gradle\nand put</p>\n\n<p>implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"</p>\n\n<p>apply plugin: 'kotlin-android'</p>\n\n<p>apply plugin: 'kotlin-android-extensions</p>\n\n<p>and in top level gradle bulid.gradle(your_app_name) put</p>\n\n<p>buildscript {</p>\n\n<pre><code>ext.kotlin_version = '1.2.30'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "is_accepted": false, "score": 0, "last_activity_date": 1528836914, "creation_date": 1528836914, "answer_id": 50825703, "question_id": 50809045, "link": "https://stackoverflow.com/questions/50809045/kotlin-multiplatform-android-module-only-has-access-to-android-api-1/50825703#50825703", "title": "Kotlin Multiplatform Android module only has access to Android API 1", "body": "<p>Turns out, whatever the issue was internally, it was actually triggered by this library in my <code>build.gradle</code> file:</p>\n\n<pre><code>implementation \"com.github.bigfishcat.android:svg-android:2.0.8\"\n</code></pre>\n\n<p>How a library cause this, I do not know.  Everything builds fine now though.</p>\n"}], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 573, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528836914, "creation_date": 1528775898, "question_id": 50809045, "link": "https://stackoverflow.com/questions/50809045/kotlin-multiplatform-android-module-only-has-access-to-android-api-1", "title": "Kotlin Multiplatform Android module only has access to Android API 1", "body": "<p>I'm working on a multiplatform project in Kotlin that has an Android module.</p>\n\n<p>In one of my files, I have the code:</p>\n\n<pre><code>import android.view.ViewGroup.LayoutParams.MATCH_PARENT\n</code></pre>\n\n<p>Which gets the following compiler error:</p>\n\n<pre><code>Unresolved reference: MATCH_PARENT\n</code></pre>\n\n<p>All of the references to anything beyond Android API level 1 get a similar compiler error, but not any references that are available in Android API level 1.</p>\n\n<p>Android Studio recognizes all of the references made, and code completion is working on them just fine.  Only when I compile do these errors show up.</p>\n\n<p>My gradle file looks like this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"digital.wup:android-maven-publish:3.1.1\"\n        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.8.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:${rootProject.kotlinVersion}\"\n        classpath \"org.jetbrains.dokka:dokka-android-gradle-plugin:${rootProject.dokkaVersion}\"\n    }\n}\n\napply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-platform-android'\napply plugin: 'org.jetbrains.dokka-android'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        warning('InvalidPackage', 'NewApi')\n    }\n}\n\nrepositories {\n    google()\n    mavenLocal()\n    mavenCentral()\n    jcenter()\n    maven {\n        url \"https://maven.google.com\"\n    }\n}\n\ndependencies {\n    def compatVersion = '27.1.1'\n\n    androidTestImplementation \"com.android.support:support-annotations:${compatVersion}\"\n//    androidTestCompile 'com.android.support.test:runner:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    testImplementation \"org.jetbrains.kotlin:kotlin-test-junit:${rootProject.kotlinVersion}\"\n\n\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    implementation \"com.lightningkite.kotlinx:jvm:${rootProject.libraryVersion}\"\n    implementation \"com.github.bigfishcat.android:svg-android:2.0.8\"\n    expectedBy project(':common')\n\n    implementation \"com.android.support:appcompat-v7:${compatVersion}\"\n    implementation \"com.android.support:cardview-v7:${compatVersion}\"\n    implementation \"com.android.support:gridlayout-v7:${compatVersion}\"\n    implementation \"com.android.support:recyclerview-v7:${compatVersion}\"\n    implementation \"com.android.support:design:${compatVersion}\"\n}\n</code></pre>\n"}, {"tags": ["android", "debugging", "kotlin", "operators"], "answers": [{"tags": [], "owner": {"reputation": 1640, "user_id": 1540563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91f72b77d6cb4480393d58556a2c126a?s=128&d=identicon&r=PG&f=1", "display_name": "olegr", "link": "https://stackoverflow.com/users/1540563/olegr"}, "is_accepted": true, "score": 4, "last_activity_date": 1528750820, "last_edit_date": 1528750820, "creation_date": 1528750428, "answer_id": 50805867, "question_id": 50805673, "link": "https://stackoverflow.com/questions/50805673/kotlin-operator-assignment/50805867#50805867", "title": "Kotlin Operator-Assignment", "body": "<pre><code>var selectedIndex = 0\nselectedIndex += selectedIndex\n</code></pre>\n\n<p>This could be rewritten as:</p>\n\n<pre><code>var selectedIndex = 0\nselectedIndex += 0 //as far as selectedIndex is 0\n</code></pre>\n\n<p>Perhaps you're thinking about increment:</p>\n\n<pre><code>var selectedIndex = 0\nselectedIndex++\n</code></pre>\n\n<p>After increment <code>selectedIndex = 1</code> as you expect</p>\n\n<p>And if you might ask what is operator assignment complain. You could point a cursor to this line and press <code>Alt+Enter</code> code will automatically be replaced to following:</p>\n\n<pre><code>selectedIndex += 1\n</code></pre>\n\n<p>This is useful when you have something like </p>\n\n<pre><code>selectedIndex = selectedIndex + &lt;some calculations/constant&gt;\n</code></pre>\n\n<p>Equivalent is:</p>\n\n<pre><code>selectedIndex += &lt;some calculations/constant&gt;\n</code></pre>\n\n<p>Just shorter form of the same assignment</p>\n"}], "owner": {"reputation": 548, "user_id": 9273211, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9b012cbc9683a1b10f9a4c73c5086fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle ", "link": "https://stackoverflow.com/users/9273211/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 50805867, "answer_count": 1, "score": 0, "last_activity_date": 1528750820, "creation_date": 1528749560, "last_edit_date": 1528750705, "question_id": 50805673, "link": "https://stackoverflow.com/questions/50805673/kotlin-operator-assignment", "title": "Kotlin Operator-Assignment", "body": "<p>I've noticed some funny behavior with the Kotlin Operator-Assignment</p>\n\n<pre><code>var selectedIndex = 0\nselectedIndex += selectedIndex\n</code></pre>\n\n<p>upon debugging, selected index still equals 0</p>\n\n<p>When changed to</p>\n\n<pre><code>selectedIndex = selectedIndex + 1\n</code></pre>\n\n<p>Android Studio complains about using an operator assignment but it functions as expected. What the hell is going on here??</p>\n\n<p>Kotlin Version: 1.2.31</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "android-layout", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 7225191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1JuJ.jpg?s=128&g=1", "display_name": "Igor Staszewski", "link": "https://stackoverflow.com/users/7225191/igor-staszewski"}, "is_accepted": true, "score": 0, "last_activity_date": 1528746356, "creation_date": 1528746356, "answer_id": 50804999, "question_id": 50804705, "link": "https://stackoverflow.com/questions/50804705/how-can-i-add-a-plain-text-view-to-the-current-layout-based-on-a-spinners-selec/50804999#50804999", "title": "How can I add a Plain Text view to the current layout based on a Spinner&#39;s selection?", "body": "<p>You can add TextView to your layout and set visibility to invisible.</p>\n\n<pre><code>&lt;TextView\n    android:id = \"@+id/textView\"\n    android:layout_width = \"wrap_content\"\n    android:layout_height = \"wrap_content\"\n    android:visibility = \"invisible\"/&gt;\n</code></pre>\n\n<p>In OnItemSelected method if user chose \"Other\" you can set TextView visibility to visible like this</p>\n\n<pre><code>textView.visibility = View.VISIBLE\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7852962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72688798bcbdb488441a577cae5b5261?s=128&d=identicon&r=PG&f=1", "display_name": "WLoumakis", "link": "https://stackoverflow.com/users/7852962/wloumakis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 50804999, "answer_count": 1, "score": 1, "last_activity_date": 1528746356, "creation_date": 1528744970, "question_id": 50804705, "link": "https://stackoverflow.com/questions/50804705/how-can-i-add-a-plain-text-view-to-the-current-layout-based-on-a-spinners-selec", "title": "How can I add a Plain Text view to the current layout based on a Spinner&#39;s selection?", "body": "<p>I am new to Kotlin, Java, and Android Studio, but need to develop a survey-like Android application for a summer internship. I have gotten past some seemingly tough obstacles through the help of the SO community (I'm the only \"developer\" here), but this one has puzzled me and I haven't found anything on SO about it.</p>\n\n<p>I have a custom spinner that contains values for different types of roofs (NoDefaultSpinner class found <a href=\"https://stackoverflow.com/questions/867518/how-to-make-an-android-spinner-with-initial-text-select-one\">here</a>), and on the selection of \"Other,\" I would like for a Plain Text view to become visible on the same layout, if possible. Is there any way to make this happen or will I have to handle the case of \"Other\" by adding another activity screen?</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>class PollSectionInfoActivity : AppCompatActivity() {\n    private var otherSelected = false\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_poll_section_info)\n\n        val spinner = findViewById&lt;Spinner&gt;(R.id.roofType)\n        var roofTypes : Array&lt;String&gt; = emptyArray()\n        roofTypes += \"BUR\"\n        roofTypes += \"Liquid Applied\"\n        roofTypes += \"Modified Bitumen\"\n        roofTypes += \"Protective Membrane Assembly\"\n        roofTypes += \"Single Ply\"\n        roofTypes += \"Shingles\"\n        roofTypes += \"Tile\"\n        roofTypes += \"Other\"\n        roofTypes += \"Unknown\"\n\n        val nextButton = findViewById&lt;Button&gt;(R.id.next_button)\n        nextButton.isEnabled = false\n\n        val adapter : ArrayAdapter&lt;String&gt; = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, roofTypes)\n        spinner.adapter = adapter\n        spinner.onItemSelectedListener\n\n        spinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                val selectedItem = parent!!.getItemAtPosition(position).toString()\n                this@PollSectionInfoActivity.otherSelected = selectedItem == \"Other\"\n                nextButton.isEnabled = true\n            }\n        }\n    }\n\n    //TODO: update code to pass selection to next layout.\n    fun nextButton() {\n        val spinner = findViewById&lt;Spinner&gt;(R.id.roofType)\n        val selection = spinner.selectedItem.toString()\n    }\n}\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".PollSectionInfoActivity\"&gt;\n\n&lt;Button\n    android:id=\"@+id/next_button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"16dp\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginRight=\"16dp\"\n    android:text=\"@string/button_next\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n&lt;com.testapp.NoDefaultSpinner\n    android:id=\"@+id/roofType\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginRight=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:prompt=\"@string/select_roof_type\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;CheckBox\n    android:id=\"@+id/checkBox\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:checked=\"false\"\n    android:text=\"@string/surfacing\"\n    android:visibility=\"visible\"\n    app:layout_constraintStart_toStartOf=\"@+id/roofType\"\n    app:layout_constraintTop_toBottomOf=\"@+id/roofType\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Also, any additional help or advice you want to throw in is more than welcome! I've only taken one (pretty dull) software course in college, so I don't know too much about all of this. Plus, I'm more of a theory person anyway. Thanks in advance!</p>\n\n<p>P.S. I apologize if this has been asked elsewhere; I honestly could not find a solution to this, or at least what appeared to be a solution to this.</p>\n"}, {"tags": ["java", "lambda", "kotlin", "comparison", "comparator"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1528743674, "post_id": 50804222, "comment_id": 88614794, "body": "What&#39;s the use case? You might get away with passing method itself as an argument, unless you explicitly need a Comparator instance."}], "answers": [{"comments": [{"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "edited": false, "score": 0, "creation_date": 1528744159, "post_id": 50804443, "comment_id": 88615027, "body": "That&#39;s briefer, thank you, but does it compile to a cast, or does it still add a wrapper around an existing function that should already be compatible with Comparator?"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1528744396, "post_id": 50804443, "comment_id": 88615148, "body": "There&#39;s no such thing as a &quot;function that is compatible with Comparator.&quot;  A function is a function, a <code>Comparator</code> is an object.  There&#39;s no alternative to a wrapper."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528744757, "post_id": 50804443, "comment_id": 88615303, "body": "@LouisWasserman So, if you have a Kotlin method that takes &quot;a comparator&quot; would you recommend declaring it as <code>(A, A) -&gt; Int</code> instead of <code>Comparator&lt;in A&gt;</code>?  The latter seems more specific and that appeals to me on some level.  I don&#39;t want any old 2-argument-of-same-type function that returns an int.  I want an actual comparator, no?  In practice, it may not be a big difference, I don&#39;t know."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528744835, "post_id": 50804443, "comment_id": 88615333, "body": "No.  They&#39;ll boil down to exactly the same thing, and have an object in both cases."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528744958, "post_id": 50804443, "comment_id": 88615386, "body": "@LouisWasserman Kotlin allows passing an apparently unwrapped <code>Integer::compare</code> to a function with a parameter declared <code>(A, A) -&gt; Int</code> and <i>rejects</i> <code>Comparator(Integer::compare)</code>.  With the signature Comparator&lt;in A&gt; it allows/rejects the opposite.  Weird."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1528745216, "post_id": 50804443, "comment_id": 88615484, "body": "<code>Integer::compare</code> is not &quot;unwrapped.&quot;  It silently creates a wrapper."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528745372, "post_id": 50804443, "comment_id": 88615550, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172912/discussion-between-glenpeterson-and-louis-wasserman\">continue this discussion in chat</a>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1528758084, "post_id": 50804443, "comment_id": 88620056, "body": "There&#39;s nothing weird about that: <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">&quot;Function references belong to one of the <code>KFunction&lt;out R&gt;</code> subtypes, depending on the parameter count&quot;</a>. <code>Comparator</code> and <code>KFunction2</code> are different types. That&#39;s it."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1560180863, "post_id": 50804443, "comment_id": 99642084, "body": "How to use <code>compareBy</code> here?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1528743737, "creation_date": 1528743737, "answer_id": 50804443, "question_id": 50804222, "link": "https://stackoverflow.com/questions/50804222/how-to-use-existing-comparators-in-kotlin/50804443#50804443", "title": "How to use existing comparators in Kotlin", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function reference</a>, and instead of </p>\n\n<pre><code>val comp = Comparator { a: Int, b: Int -&gt; Integer.compare(a, b) }\n</code></pre>\n\n<p>... just write this:</p>\n\n<pre><code>val comp = Comparator(Integer::compare)\n</code></pre>\n"}], "owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 50804443, "answer_count": 1, "score": 1, "last_activity_date": 1528743737, "creation_date": 1528742787, "question_id": 50804222, "link": "https://stackoverflow.com/questions/50804222/how-to-use-existing-comparators-in-kotlin", "title": "How to use existing comparators in Kotlin", "body": "<pre><code>@Suppress(\"UNCHECKED_CAST\")\nval comp = Integer::compare as Comparator&lt;Int&gt;\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>java.lang.ClassCastException:\norg.organicdesign.fp.xform.TransformableTest$testToImSortedSet$comp$1\ncannot be cast to java.util.Comparator\n</code></pre>\n\n<p>I can do this:</p>\n\n<pre><code>val comp = Comparator{ a:Int, b:Int -&gt; Integer.compare(a, b) }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val comp = Comparator{ a:Int, b:Int -&gt; a.compareTo(b) }\n</code></pre>\n\n<p>But is there a better way?  I feel like I shouldn't have to create a new wrapper function for this.</p>\n"}, {"tags": ["class", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528745132, "post_id": 50804117, "comment_id": 88615451, "body": "<code>override fun&lt;T&gt; getRemoteServiceClassType() : Class&lt;T&gt; {</code> What this function definition says that function does is that you can ask for <code>Class&lt;T&gt;</code> for <i>any</i> <code>T</code>, not some <code>T</code> that <code>IBService</code> picks."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 14, "last_activity_date": 1528759325, "creation_date": 1528759325, "answer_id": 50807321, "question_id": 50804117, "link": "https://stackoverflow.com/questions/50804117/kotlin-how-to-return-class-type-from-a-function/50807321#50807321", "title": "kotlin, how to return class type from a function", "body": "<p>The \"correct\" signature for <code>getRemoteServiceClassType</code> is </p>\n\n<pre><code>abstract fun getRemoteServiceClassType() : Class&lt;*&gt;\n</code></pre>\n\n<p>if any class at all can be returned, or </p>\n\n<pre><code>abstract fun getRemoteServiceClassType() : Class&lt;out SuperType&gt;\n</code></pre>\n\n<p>if all services should have a common supertype. See <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a> for explanation.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5722, "favorite_count": 1, "accepted_answer_id": 50807321, "answer_count": 1, "score": 7, "last_activity_date": 1528801948, "creation_date": 1528742386, "last_edit_date": 1528801948, "question_id": 50804117, "link": "https://stackoverflow.com/questions/50804117/kotlin-how-to-return-class-type-from-a-function", "title": "kotlin, how to return class type from a function", "body": "<p>having a base class A,  and the class B and C both extend from A</p>\n\n<p>in A it has function to create a retrofit service, which takes a class type as pram: </p>\n\n<pre><code>protected fun &lt;T&gt; createRemoteService(clazz: Class&lt;T&gt;, baseUrl: String): T {\n    return Retrofit.Builder()\n        .baseUrl(baseUrl)\n        .client(okHttpClient)\n        .addConverterFactory(GsonConverterFactory.create(createGson()))\n        .build()\n        .create(clazz)\n}\n</code></pre>\n\n<p>and in class B and C,  the service could be created as (with IBService::class.java or ICService::class.java passed in respectively):</p>\n\n<p>in B:</p>\n\n<pre><code>var remoteServ: IBService\ninit {\n    remoteApi = createRemoteService(IBService::class.java, getBaseUrl())\n}\n</code></pre>\n\n<p>and in C:</p>\n\n<pre><code>var remoteServ: ICService\ninit {\n    remoteApi = createRemoteService(ICService::class.java, getBaseUrl())\n}\n</code></pre>\n\n<p>it is ok to pass <code>IBService::class.java</code> as the <code>Class&lt;T&gt;</code></p>\n\n<p>would like to have a abstract function in base A to return the class type</p>\n\n<pre><code>abstract fun&lt;T&gt; getRemoteServiceClassType() : Class&lt;T&gt;\n</code></pre>\n\n<p>so it could be done in base  A  to create the service by getting the class type</p>\n\n<pre><code>remoteServ: Any = createRemoteApi(getRemoteServiceClassType(), getBaseUrl())\n</code></pre>\n\n<p>and implementation in class B  (got error):</p>\n\n<pre><code>override fun&lt;T&gt; getRemoteServiceClassType() : Class&lt;T&gt; {\n    return IBService::class.java  //&lt;=== got compiler error \u201cType inference \n                                  // failed. Expected type mismatch: required Class&lt;T&gt;\n                                  // found Class&lt;IBService&gt;\n}\n\ninterface IBService {\n    @GET\n    fun getRemoteData(@Url url: String,\n                  @HeaderMap headers: Map&lt;String, String&gt;,\n                  @QueryMap params: Map&lt;String, String&gt;?): \n        Call&lt;BResponseData&gt;\n\n}\n</code></pre>\n\n<p>why cant return <code>IBService::java.class</code> for the <code>Class&lt;T&gt;</code>,   but passing <code>IBService::class.java</code> to a function where requires a <code>Class&lt;T&gt;</code> is ok?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-studio-3.0"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9424068"}, "edited": false, "score": 0, "creation_date": 1528777111, "post_id": 50805933, "comment_id": 88623880, "body": "From MainActivity already calling this method after 400ms    mUIRunnable = object : Runnable{                      override fun run() {                         if(mHandler!=null){                             mHandler!!.postDelayed(this,400)                             SurahAnimator.AnimateToSurahAlFeel(recyclerViewSurahContent,&zwnj;&#8203;linearLayoutManager!&zwnj;&#8203;!,mediaPlayer!!.curr&zwnj;&#8203;entPosition)                         }                     }                 }                 mHandler!!.post(mUIRunnable)"}], "tags": [], "owner": {"reputation": 4717, "user_id": 4133301, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yKdIm.jpg?s=128&g=1", "display_name": "GensaGames", "link": "https://stackoverflow.com/users/4133301/gensagames"}, "is_accepted": false, "score": 0, "last_activity_date": 1528750763, "creation_date": 1528750763, "answer_id": 50805933, "question_id": 50803733, "link": "https://stackoverflow.com/questions/50803733/how-to-highlight-single-row-or-item-of-recycler-view-and-scroll-the-highlighted/50805933#50805933", "title": "How to Highlight Single Row or Item of Recycler View and Scroll the Highlighted Row to Top of screen", "body": "<p>You need time for <code>View</code> to Bind. Just for ex. you can post action. </p>\n\n<pre><code>....\n 17 -&gt; {\n                recyclerView.smoothScrollToPosition(3)\n                new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\n\n                      recyclerView.getChildAt(2).isSelected = false\n                      recyclerView.getChildAt(3).isSelected = true\n                }, 500);\n            }\n....\n</code></pre>\n\n<p>But I strongly recommend you use some state <code>Collection</code>, which will save and handle states of your running and showing <code>Views</code>. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9424068"}, "edited": false, "score": 0, "creation_date": 1528776628, "post_id": 50806052, "comment_id": 88623770, "body": "At the time of item inflation in adapter i don&#39;t want to select any item,in the screenshot i have two button play and stop, when i click play button then i want to select item according to recitation of Quran"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9424068"}, "edited": false, "score": 0, "creation_date": 1528776947, "post_id": 50806052, "comment_id": 88623844, "body": "When i click on play button below code is called                  mUIRunnable = object : Runnable{                     override fun run() {                         if(mHandler!=null){                             mHandler!!.postDelayed(this,400)                             SurahAnimator.AnimateToSurahAlFeel(recyclerViewSurahContent,&zwnj;&#8203;linearLayoutManager!&zwnj;&#8203;!,mediaPlayer!!.curr&zwnj;&#8203;entPosition)                         }                     }                 }                 mHandler!!.post(mUIRunnable)      .....            and that will call the Above method AnimateToSurahAlFeel()"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1528783601, "post_id": 50806052, "comment_id": 88625908, "body": "I don&#39;t understand why any of what you said prevents you from doing what I said. At time of inflation just don&#39;t select anything. When the <code>onBindViewHolder</code> gets called, then select them as needed. This method gets called as the views are shown, that&#39;s why selecting them from your animation (like you already have) and scrolling to them would trigger calls to the <code>onBindViewHolder</code>. The difference is that now the adapter knows they have to be selected or not. This is how you&#39;re suppose to use recycler views."}], "tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": false, "score": 0, "last_activity_date": 1528751300, "creation_date": 1528751300, "answer_id": 50806052, "question_id": 50803733, "link": "https://stackoverflow.com/questions/50803733/how-to-highlight-single-row-or-item-of-recycler-view-and-scroll-the-highlighted/50806052#50806052", "title": "How to Highlight Single Row or Item of Recycler View and Scroll the Highlighted Row to Top of screen", "body": "<p>This is because recycler views don't have all the views inflated, but only the visible ones. This is by design and should not be tinkered with. Personally, I think you should use the recycling functionality.</p>\n\n<p>You need to make the selected state part of your model in the adapter - the items in the adapter. Let's say this is called <code>RowItem</code>, so in your adapter you'd have a list of <code>RowItem</code>s for example. Aside from the text in both languages, you need to add the selected state too. Then it's just a matter of getting the list's adapter, setting the correct position to selected and deselecting the ones you want.</p>\n\n<p>For example, in your adapter:</p>\n\n<pre><code>fun select(position: Int) {\n  data[position].selected = true\n  notifyItemChanged(position)\n  // deselect all other positions that you don't want selected\n}\n</code></pre>\n\n<p>When you bind the view holder you could do then:</p>\n\n<pre><code>public void onBindViewHolder(ViewHolder viewHolder, int position) {\n   val item = data[position]\n   viewHolder.itemView.selected = item.selected\n   // take care of the rest of the views\n}\n</code></pre>\n\n<p><em>data would be a list where you store your <code>RowItem</code>s</em></p>\n\n<p>Now you can scroll with no problem and set the item to selected. Once the view is visible in the recycler view, the adapter will set the correct state.</p>\n\n<p>It's fair to say I'm guessing a bit since there's no adapter code in your question, but the idea I think it's easy to understand. You need to change the state in the adapter and let the implementation of the recycler view handle it for you. After all the purpose is to get the recycler view to recycle your views based on the models adapted by the adapter.</p>\n\n<p>Remember you can always get your adapter from the recycler view itself. In the end you can do something like this:</p>\n\n<pre><code>...\n0 -&gt; {\n     recyclerView.smoothScrollToPosition(0)\n     (recyclerView.adapter as MyAdapter).select(0)\n}\n</code></pre>\n\n<p><em>Here <code>MyAdapter</code> would be the class name of your adapter</em></p>\n\n<p>For the scrolling part you can take a look at <a href=\"https://stackoverflow.com/questions/26875061/scroll-recyclerview-to-show-selected-item-on-top\">this</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9424068"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 751, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1528751300, "creation_date": 1528740577, "last_edit_date": 1528746441, "question_id": 50803733, "link": "https://stackoverflow.com/questions/50803733/how-to-highlight-single-row-or-item-of-recycler-view-and-scroll-the-highlighted", "title": "How to Highlight Single Row or Item of Recycler View and Scroll the Highlighted Row to Top of screen", "body": "<p>I want to Highlight a single row of recyclerview with sound one after another and scroll the highlight row to top of screen This is what i have done:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4Jt0W.png\" alt=\"screenshot\"></p>\n\n<p>Here its code:</p>\n\n<pre><code> fun AnimateToSurahAlFeel(recyclerView: RecyclerView, layoutManager: LinearLayoutManager, currentPosition: Int) {\n\n        var position: Int = currentPosition / 1000\n\n\n        when (position) {\n\n\n            0 -&gt; {\n                recyclerView.smoothScrollToPosition(0)\n                recyclerView.getChildAt(0).isSelected = true\n\n            }\n            4 -&gt; {\n                recyclerView.smoothScrollToPosition(1)\n                recyclerView.getChildAt(0).isSelected = false\n                recyclerView.getChildAt(1).isSelected = true\n            }\n            11 -&gt; {\n                recyclerView.smoothScrollToPosition(2)\n                recyclerView.getChildAt(1).isSelected = false\n                recyclerView.getChildAt(2).isSelected = true\n            }\n            17 -&gt; {\n                recyclerView.smoothScrollToPosition(3)\n                recyclerView.getChildAt(2).isSelected = false\n                recyclerView.getChildAt(3).isSelected = true\n            }\n            21 -&gt; {\n                recyclerView.smoothScrollToPosition(4)\n                recyclerView.getChildAt(3).isSelected = false\n                recyclerView.getChildAt(4).isSelected = true\n            }\n            28 -&gt; {\n                recyclerView.smoothScrollToPosition(5)\n                recyclerView.getChildAt(4).isSelected = false\n\n                if (recyclerView.getChildAt(5) != null)\n                    recyclerView.getChildAt(5).isSelected = true\n            }\n\n        }\n    }\n</code></pre>\n\n<p>In the Function currentPosition is Media player current position</p>\n\n<p>Problem in this code is:</p>\n\n<p>In the Screen shot Row 4 and 5 are currently not visible,when highlighting Row 4 and 5 the App crash and giving Null Pointer Exception, according to my knowledge these two row are not yet created that's why </p>\n\n<p><code>recyclerview.getChildAt(4)</code> or <code>recyclerview.getChildAt(5)</code> return null and that cause the App crash.</p>\n\n<p>Now</p>\n\n<ol>\n<li><p>How to fix the App crash that recyclerview.getchildAt(4) or recyclerview.getchildAt(5) return null and also getChildAt(position) return n-1 row, so the App crash at recyclerview.getchildAt(5) will occur anyhow but i want n Row because i want to highlight all rows</p></li>\n<li><p>How to scroll the highlighted row to position 0 (at top) \ni.e. Row 0 go up from screen and Row 1 take it position and so on...</p></li>\n</ol>\n\n<p>I want to achieve like this the highlighted one is at top and that will go off from screen when another row is highlighted</p>\n\n<p><img src=\"https://i.stack.imgur.com/UOxKj.png\" alt=\"picture\"></p>\n"}, {"tags": ["java", "types", "kotlin", "type-conversion", "type-inference"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 4, "creation_date": 1528740384, "post_id": 50803508, "comment_id": 88613267, "body": "This looks like an initialization order issue.  Is <code>EMPTY</code> in a companion object?"}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528740803, "post_id": 50803508, "comment_id": 88613465, "body": "Yes, but it&#39;s a companion object to an abstract class.  I just moved it and the wrapper function to top-level in file, but same issue."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528741231, "post_id": 50803508, "comment_id": 88613664, "body": "Oh, you might be right about init order.  I&#39;ve got circular definition: <code>internal open class SourceProviderIterableDesc&lt;T&gt;(private val list: Iterable&lt;T&gt;) : Xform&lt;T&gt;(empty())</code>  I probably need to make a separate class/object of SourceProviderIterableDesc for the empty."}, {"owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1528741976, "post_id": 50803508, "comment_id": 88614016, "body": "The circular definition was the problem.  Thank you @LouisWasserman!  If you write up even a 1-sentence &quot;answer&quot; I&#39;ll up-vote and accept it."}], "owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528740061, "creation_date": 1528739689, "last_edit_date": 1528740061, "question_id": 50803508, "link": "https://stackoverflow.com/questions/50803508/how-to-make-a-singleton-empty-immutable-type-safe-collection-in-kotlin", "title": "How to make a singleton empty immutable &quot;type-safe&quot; collection in Kotlin?", "body": "<p>I curate some immutable collections in Java and now Kotlin.  I often create a singleton instance of an empty immutable collection, since Java has type erasure and that instance is the same and can be safely shared for all collections.</p>\n\n<p>In Java, you can create a non-generic singleton object and wrap it in a function to let the type inference work with any type when called from generic type-safe code.  I took this technique from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#emptyList--\" rel=\"nofollow noreferrer\">java.util.Collections class</a>:</p>\n\n<pre><code>//                      v-No generic types specified-v\npublic static final List EMPTY_LIST = new Collections.EmptyList();\n\n//                   v-------v-- generic type \"passes through\"\npublic static final &lt;T&gt; List&lt;T&gt; emptyList() {\n    return EMPTY_LIST;\n}\n</code></pre>\n\n<p>So here's my own Java code which should look very similar (and works):</p>\n\n<pre><code>public static final Xform EMPTY = new SourceProviderIterableDesc&lt;&gt;(Collections.emptyList());\n\n@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; Xform&lt;T&gt; empty() {\n    return (Xform&lt;T&gt;) EMPTY;\n}\n</code></pre>\n\n<p>Here it is converted to Kotlin:</p>\n\n<pre><code>private val EMPTY: Xform&lt;Nothing&gt; = SourceProviderIterableDesc(emptyList())\n@Suppress(\"UNCHECKED_CAST\")\ninternal fun &lt;T&gt; empty(): Xform&lt;T&gt; =\n        EMPTY as Xform&lt;T&gt;\n</code></pre>\n\n<p>And I get this error:</p>\n\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.organicdesign.fp.xform.XformTest.construction(XformTest.kt:529)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: kotlin.TypeCastException: null cannot be cast to non-null type org.organicdesign.fp.xform.Xform&lt;T&gt;\n</code></pre>\n\n<p>How do I make the add-a-type-to-something-with-no-type trick work in Kotlin?  Also, is there a name for this?</p>\n\n<p>Notes: If I use <code>listOf()</code> instead of <code>emptyList()</code> in Kotlin, I get the same error.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1528732047, "post_id": 50801514, "comment_id": 88609074, "body": "&quot;Why does it think the <code>if</code> is an expression&quot; - Because it IS an expression: <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html</a>. So is <code>when</code>."}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1528732197, "post_id": 50801514, "comment_id": 88609171, "body": "@SergioTulentsev Good point. I imagined it is treated as a &quot;statement&quot; in certain contexts, but you&#39;re right. So, what I should have asked is: why is the <code>if</code> expression not a <code>Unit</code> type? And conversely, why does a <code>when</code> expression compile without errors when the <code>if</code> expression doesn&#39;t?"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1528732238, "post_id": 50801514, "comment_id": 88609208, "body": "Good question, I don&#39;t know the answer at the moment :)"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1528732254, "post_id": 50801514, "comment_id": 88609218, "body": "Show the working <code>when</code> code, maybe?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1528732314, "post_id": 50801514, "comment_id": 88609243, "body": "It&#39;s clear that this is a compiler bug. For example, add <code>as Any</code> to one of the then-branches. 1. The error is now gone. 2. <code>as Any</code> is greyed out and marked as a &quot;useless cast&quot;."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1528732458, "post_id": 50801514, "comment_id": 88609334, "body": "As for &quot;why <code>Comparable&lt;Boolean&gt;</code> of all types&quot;: <code>MutableCollection::add</code> is of type <code>Boolean</code>; <code>Boolean</code> is a subtype of <code>Comparable&lt;Boolean&gt;</code>; <code>it2.next()</code> is of type <code>T</code> which is a <code>Comparable&lt;T&gt;</code>, so <code>T</code> is inferred to <code>Boolean</code>. It just shows what steps the constraint solver took before giving up."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528732499, "post_id": 50801514, "comment_id": 88609360, "body": "@MarkoTopolnik: oh my, one-in-a-million chance that the bug actually is in the <i>compiler</i>? Never thought I&#39;d see one :)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1528732546, "post_id": 50801514, "comment_id": 88609393, "body": "@SergioTulentsev Ever since languages got type inference by constraint solving, it became a plague :) I must have submitted a dozen to IntelliJ and Eclipse for Java already."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1528796764, "creation_date": 1528796764, "answer_id": 50814093, "question_id": 50801514, "link": "https://stackoverflow.com/questions/50801514/why-does-the-compiler-think-this-if-statement-is-an-expression/50814093#50814093", "title": "Why does the compiler think this if statement is an expression?", "body": "<p>This seems to be a compiler bug. I reported it here:</p>\n\n<p><a href=\"https://youtrack.jetbrains.net/issue/KT-24886\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.net/issue/KT-24886</a></p>\n\n<p>This is a minimal reproducer:</p>\n\n<pre><code>fun &lt;T : Comparable&lt;T&gt;&gt; test(a: Iterable&lt;T&gt;) {\n    val x = if (booleanExpr1())\n        booleanExpr2()\n    else if (booleanExpr3())\n        booleanExpr4()\n    else {\n        a.iterator().next()\n    }\n}\n\nfun booleanExpr1() = true\nfun booleanExpr2() = true\nfun booleanExpr3() = true\nfun booleanExpr4() = true\n</code></pre>\n\n<p>Note that the issue isn't at all with the \"if expression not being treated as a statement\", but with type inference itself. The compiler should have worked out a valid upper bound of all the then-branches, but failed.</p>\n"}], "owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 50814093, "answer_count": 1, "score": 6, "last_activity_date": 1528796764, "creation_date": 1528731756, "last_edit_date": 1528732537, "question_id": 50801514, "link": "https://stackoverflow.com/questions/50801514/why-does-the-compiler-think-this-if-statement-is-an-expression", "title": "Why does the compiler think this if statement is an expression?", "body": "<p>I have this method that compares sorted lists and tells you which items from list 1 are missing from list 2, and vice versa, in O(N) time:</p>\n\n<pre><code>fun &lt;T : Comparable&lt;T&gt;&gt; compareSortedLists(\n        list1: Iterable&lt;T&gt;,\n        list2: Iterable&lt;T&gt;,\n        onlyInList1: MutableCollection&lt;T&gt;,\n        onlyInList2: MutableCollection&lt;T&gt;) {\n    val it1 = PeekingIterator(list1.iterator())\n    val it2 = PeekingIterator(list2.iterator())\n    while (it1.hasNext() &amp;&amp; it2.hasNext()) {\n        val comp = it1.peek().compareTo(it2.peek())\n        if (comp &lt; 0)       // &lt;-- ERROR: type inference failure\n            onlyInList1.add(it1.next())\n        else if (comp &gt; 0)\n            onlyInList2.add(it2.next())\n        else {\n            it1.next()\n            it2.next()      // &lt;---- Error: type mismatch\n        }\n    }\n    it1.forEachRemaining { onlyInList1.add(it) }\n    it2.forEachRemaining { onlyInList2.add(it) }\n}\n</code></pre>\n\n<p>The Kotlin compiler (1.2.41) in IntelliJ IDEA 2018.1.4 gives me a compile-time error (as marked above). The error message says:</p>\n\n<pre><code>Type mismatch.\nRequired: Comparable&lt;Boolean&gt;!\nFound: T!\n</code></pre>\n\n<p>But I didn't intend the <code>if</code> to be an expression. I meant it as a statement (EDIT: I mean an expression whose value is ignored, since all <code>if</code>s are actually expressions). If I convert the <code>if</code> to a <code>when</code> then it compiles ok:</p>\n\n<pre><code>        when {                // &lt;-- Look, no error! ;-)\n            comp &lt; 0 -&gt;\n                onlyInList1.add(it1.next())\n            comp &gt; 0 -&gt;\n                onlyInList2.add(it2.next())\n            else -&gt; {\n                it1.next()\n                it2.next()\n            }\n        }\n</code></pre>\n\n<p>Why does it think the <code>if</code> is an expression? And, of all things, why does it think a <code>Comparable&lt;Boolean&gt;!</code> is required? Where's the context that requires such a type?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "edited": false, "score": 0, "creation_date": 1528729691, "post_id": 50800809, "comment_id": 88607616, "body": "please add a comment if you are downvoting. will be happy to explain/edit"}], "answers": [{"comments": [{"owner": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "edited": false, "score": 0, "creation_date": 1528804576, "post_id": 50807038, "comment_id": 88638054, "body": "if i use out in place of in. i can not call onbindviewholder on this adapter"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "edited": false, "score": 0, "creation_date": 1528820336, "post_id": 50807038, "comment_id": 88648529, "body": "You could just make <code>AdAdapter</code> generic as well."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1528757114, "creation_date": 1528757114, "answer_id": 50807038, "question_id": 50800809, "link": "https://stackoverflow.com/questions/50800809/not-able-to-instantiate-adapter-wrapper-because-of-generics-in-kotlin/50807038#50807038", "title": "Not able to instantiate adapter wrapper because of generics in kotlin", "body": "<p>As explained in <a href=\"https://kotlinlang.org/docs/reference/generics.html#use-site-variance-type-projections\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html#use-site-variance-type-projections</a>,</p>\n\n<blockquote>\n  <p><code>Array&lt;in String&gt;</code> corresponds to Java's <code>Array&lt;? super String&gt;</code>, i.e. you can pass an array of <code>CharSequence</code> or an array of <code>Object</code> to the <code>fill()</code> function.</p>\n</blockquote>\n\n<p>So in your case you need <code>MyAdapter</code> to be a <code>RecyclerView.Adapter&lt;? super RecyclerView.ViewHolder&gt;</code> and it isn't, because <code>MyAdapter.VH</code> doesn't satisfy the constraint.</p>\n"}], "owner": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528757114, "creation_date": 1528729537, "question_id": 50800809, "link": "https://stackoverflow.com/questions/50800809/not-able-to-instantiate-adapter-wrapper-because-of-generics-in-kotlin", "title": "Not able to instantiate adapter wrapper because of generics in kotlin", "body": "<p>I am not able to pass my adapter to adapter wrapper class because of generics. Here is how i am instantiating it</p>\n\n<pre><code>val a = MyAdapter()\nval b = AdAdapter(a)\n</code></pre>\n\n<p>This code results in an error </p>\n\n<pre><code>Type mismatch: inferred type is MyAdapter but RecyclerView.Adapter\n&lt;in RecyclerView.ViewHolder&gt; was expected\n</code></pre>\n\n<p>Here is my adapter</p>\n\n<pre><code>class MyAdapter: RecyclerView.Adapter&lt;MyAdapter.VH&gt;() {\n\n    //Some Code Here\n\n    class VH(itemView: View): RecyclerView.ViewHolder(itemView) {}\n\n}\n</code></pre>\n\n<p>Here is the Adadapter </p>\n\n<pre><code>class AdAdapter(private val originalAdapter: \n                      RecyclerView.Adapter&lt;in RecyclerView.ViewHolder&gt;)\n                      : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    //Some Code\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2", "rx-android"], "comments": [{"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "edited": false, "score": 0, "creation_date": 1528728273, "post_id": 50800369, "comment_id": 88606675, "body": "what is the compiler error?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1528728316, "post_id": 50800369, "comment_id": 88606699, "body": "The signature requires <code>Function&lt;Array&lt;Any&gt;, R&gt;</code> as <code>Array&lt;Int&gt;</code> wouldn&#39;t work with the underlying Java type system."}, {"owner": {"reputation": 884, "user_id": 3635309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NV8Sv.jpg?s=128&g=1", "display_name": "ARiF", "link": "https://stackoverflow.com/users/3635309/arif"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1528728684, "post_id": 50800369, "comment_id": 88606960, "body": "@akarnokd <code>Array&lt;Any&gt;</code> seems okay. but then how do i convert it to <code>Array&lt;Int&gt;</code>. For example what if it is <code>Array&lt;SomeClass&gt;</code>?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1528734416, "post_id": 50800369, "comment_id": 88610371, "body": "There should be a sequence operator in Kotlin that you can map them to ints, like <code>map({ it as Int})</code> or something."}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528798933, "post_id": 50800369, "comment_id": 88634433, "body": "Maybe you updated your question but this code compiles just fine without <code>Function&lt;Array&lt;Int&gt;, List&lt;Int&gt;&gt;</code>"}], "owner": {"reputation": 884, "user_id": 3635309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NV8Sv.jpg?s=128&g=1", "display_name": "ARiF", "link": "https://stackoverflow.com/users/3635309/arif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 540, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528728201, "creation_date": 1528728201, "question_id": 50800369, "link": "https://stackoverflow.com/questions/50800369/how-to-zip-a-listflowable-using-rxjava2-in-kotlin", "title": "How to zip a List&lt;Flowable&gt; using RxJava2 in Kotlin?", "body": "<p>I'm trying to zip <code>List&lt;Flowable&gt;</code> using RxJava2 but it fails compiling. Code snippet is as follows</p>\n\n<pre><code>private fun flowInts() {\n    val flows = ArrayList&lt;Flowable&lt;Int&gt;&gt;()\n    for (i in 0..10) {\n        flows.add(getFlow(i))\n    }\n\n    Flowable.zip(flows, Function&lt;Array&lt;Int&gt;, List&lt;Int&gt;&gt; {array -&gt; // I get compile error at Flowable.zip\n        array .toList()\n    })\n}\n\nprivate fun getFlow(i: Int): Flowable&lt;Int&gt; {\n    return Flowable.fromCallable { return@fromCallable i }\n}\n</code></pre>\n\n<p>What is wrong with this?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528727737, "post_id": 50800204, "comment_id": 88606345, "body": "Please post the stacktrace here as text, not as an external image."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528731321, "post_id": 50800204, "comment_id": 88608608, "body": "What exactly are you trying to accomplish? The Kotlin Bytecode toolwindow is a debugging tool which runs the compiler in a special, restricted environment. Even if it doesn&#39;t work for your code, it doesn&#39;t prevent you from building and running your application."}, {"owner": {"reputation": 19, "user_id": 9861445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4fdf2bb8958b81b4d5e5082bc95948?s=128&d=identicon&r=PG&f=1", "display_name": "Beetlebum233", "link": "https://stackoverflow.com/users/9861445/beetlebum233"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528770285, "post_id": 50800204, "comment_id": 88622531, "body": "@yole I&#39;m trying to convert Kotlin to Java. There is no problem with building or running."}, {"owner": {"reputation": 19, "user_id": 9861445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4fdf2bb8958b81b4d5e5082bc95948?s=128&d=identicon&r=PG&f=1", "display_name": "Beetlebum233", "link": "https://stackoverflow.com/users/9861445/beetlebum233"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528770473, "post_id": 50800204, "comment_id": 88622561, "body": "@m0skit0 thanks for your suggestion, I will post the stacktrace as text when I have time."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528790472, "post_id": 50800204, "comment_id": 88629424, "body": "This code is trivial to convert manually, you don&#39;t need any tool for that."}], "owner": {"reputation": 19, "user_id": 9861445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4fdf2bb8958b81b4d5e5082bc95948?s=128&d=identicon&r=PG&f=1", "display_name": "Beetlebum233", "link": "https://stackoverflow.com/users/9861445/beetlebum233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528728059, "creation_date": 1528727611, "question_id": 50800204, "link": "https://stackoverflow.com/questions/50800204/kotlin-bytecode-doesnt-work-with-android-databinding", "title": "Kotlin Bytecode doesn&#39;t work with Android DataBinding", "body": "<p>here is my code</p>\n\n<pre><code>class MainFragment: Fragment() {\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        val binding: FragmentMainBinding = DataBindingUtil.inflate(inflater!!, R.layout.fragment_main, container, false)\n        binding.user = User(\"Hello World!\", 18)\n        return binding.root\n    }\n}\n</code></pre>\n\n<p>and when i open Kotlin Bytecode, it throws an error\n<a href=\"https://i.stack.imgur.com/KZVnM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>it seems like that there was something wrong with DataBindingUtil.</p>\n\n<p>how to fix this problem?</p>\n"}, {"tags": ["android", "animation", "kotlin"], "comments": [{"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1528728068, "post_id": 50800158, "comment_id": 88606550, "body": "Isn&#39;t the reveal is an animation from small radius to bigger one, while conceal is the animation from bigger to small one. Why don&#39;t you just change that <code>radiusFrom</code> with <code>radiusTo</code> values to do conceal?"}, {"owner": {"reputation": 10413, "user_id": 1724097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d7280f1bbcfcca4a0989d6b86350e0?s=128&d=identicon&r=PG", "display_name": "Rawa", "link": "https://stackoverflow.com/users/1724097/rawa"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1528728336, "post_id": 50800158, "comment_id": 88606716, "body": "@iDemigod That is not the case. For the circularReveal it will show the view from the center out, no matter how you specify <code>radiusFrom</code> or <code>radiusTo</code>. (If you reverse them you basically reverse the animation). I wish to do the opposite. Make it show from the outside in."}, {"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1548803826, "post_id": 50800158, "comment_id": 95671896, "body": "Did you find and answer to this?"}, {"owner": {"reputation": 10413, "user_id": 1724097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d7280f1bbcfcca4a0989d6b86350e0?s=128&d=identicon&r=PG", "display_name": "Rawa", "link": "https://stackoverflow.com/users/1724097/rawa"}, "reply_to_user": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 0, "creation_date": 1548833840, "post_id": 50800158, "comment_id": 95680261, "body": "@ScottCooper Actually not so far."}], "owner": {"reputation": 10413, "user_id": 1724097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d7280f1bbcfcca4a0989d6b86350e0?s=128&d=identicon&r=PG", "display_name": "Rawa", "link": "https://stackoverflow.com/users/1724097/rawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548833939, "creation_date": 1528727483, "last_edit_date": 1548833939, "question_id": 50800158, "link": "https://stackoverflow.com/questions/50800158/inverse-circularreveal-circular-conceal", "title": "Inverse CircularReveal, circular conceal", "body": "<p>I am to create a circular conceal, basically the inverse of the <a href=\"https://developer.android.com/reference/android/view/ViewAnimationUtils.html#createCircularReveal(android.view.View,%20int,%20int,%20float,%20float)\" rel=\"nofollow noreferrer\">createCircularReveal</a>. However, the circular reveal uses a RevealAnimator which is part of the hidden API in Android, which is to be restricted. Unfortunately also the underlying method that is used, <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/view/View.java#14977\" rel=\"nofollow noreferrer\">setRevealClip</a> is also restricted.</p>\n\n<p>So basically with no access to the native functionality how would one go about solving this? Preferable without creating a container view that creates a extra layer of complexity.</p>\n"}, {"tags": ["kotlin", "immutability"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1528724835, "post_id": 50799240, "comment_id": 88604375, "body": "Maybe nullable var?"}, {"owner": {"reputation": 3079, "user_id": 498403, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nw5sB.jpg?s=128&g=1", "display_name": "CSJ", "link": "https://stackoverflow.com/users/498403/csj"}, "reply_to_user": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1528724930, "post_id": 50799240, "comment_id": 88604443, "body": "I was really hoping to avoid nullable var. The rest of the application should consider this property immutable, once set."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 2, "creation_date": 1528727529, "post_id": 50799240, "comment_id": 88606210, "body": "This is a circular dependency problem: to create jack, I need jill, which in turn needs jack and so on."}, {"owner": {"reputation": 3079, "user_id": 498403, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nw5sB.jpg?s=128&g=1", "display_name": "CSJ", "link": "https://stackoverflow.com/users/498403/csj"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528731715, "post_id": 50799240, "comment_id": 88608848, "body": "@m0skit0 Correct. Any ideas?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1528739963, "post_id": 50799240, "comment_id": 88613048, "body": "@CSJ I think I did not explain myself correctly. What you want to do is <b>logically impossible</b> (more technically it requires an infinite amount of time), unless you want to relax your conditions."}, {"owner": {"reputation": 3079, "user_id": 498403, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nw5sB.jpg?s=128&g=1", "display_name": "CSJ", "link": "https://stackoverflow.com/users/498403/csj"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528834828, "post_id": 50799240, "comment_id": 88655308, "body": "@m0skit0 yes, I see. In particular, a data class is supposed to define objects that are defined by their internal values .. and if those internal values are objects that are themselves defined by <i>their</i> internal values ... and so on. It&#39;s values all the way down."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528846922, "post_id": 50799240, "comment_id": 88659123, "body": "@m0skit0 Interesting fact: while it&#39;s logically impossible in Kotlin, it&#39;s possible in some other languages, e.g. in Haskell <a href=\"https://stackoverflow.com/questions/22696442/solve-cyclic-dependencies-in-haskell-data-records\" title=\"solve cyclic dependencies in haskell data records\">stackoverflow.com/questions/22696442/&hellip;</a>"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1528884391, "post_id": 50799240, "comment_id": 88672808, "body": "@Ilya Still logically impossible in Haskell as well, however laziness and not having data classes solves the infinity cycle (Podcast data structure can actually be created without the episodes which are assigned later). Of course functional is more suited to dealing with infinity than OOP."}], "answers": [{"comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528738531, "post_id": 50802264, "comment_id": 88612345, "body": "Maybe a use case for <code>lazy</code> or <code>lateinit</code>?"}, {"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528756841, "post_id": 50802264, "comment_id": 88619793, "body": "I&#39;ve re-written it using <code>lateinit</code> here: <a href=\"https://gist.github.com/jivimberg/3fd70a9bd69632c2275d14e24c0e7baa\" rel=\"nofollow noreferrer\">gist.github.com/jivimberg/3fd70a9bd69632c2275d14e24c0e7baa</a>. And while I could convert the <code>Person?</code> type to <code>Person</code> I don&#39;t find it any more readable.  More importantly I&#39;m not sure what happens with the <code>isInitialized</code> check when there&#39;s concurrent access."}], "tags": [], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1528734540, "creation_date": 1528734540, "answer_id": 50802264, "question_id": 50799240, "link": "https://stackoverflow.com/questions/50799240/kotlin-mutual-assignments/50802264#50802264", "title": "Kotlin: Mutual assignments", "body": "<p>You could get away with something like this:</p>\n\n<pre><code>class Person() {\n    private var _other: Person? = null\n\n    private constructor(_other: Person? = null) : this() {\n        this._other = _other\n    }\n\n    val other: Person\n        get() {\n            if (_other == null) {\n                _other = Person(this)\n            }\n            return _other ?: throw AssertionError(\"Set to null by another thread\")\n        }\n}\n</code></pre>\n\n<p>And then you would be able to do:</p>\n\n<pre><code>val jack = Person()\nval jill = jack.other\n</code></pre>\n\n<p>Using a <code>data class</code> here does not work for <strong>multiple reasons</strong>: </p>\n\n<ol>\n<li><p>First because a <code>data class</code> can't have an empty constructor. </p></li>\n<li><p>Even if that wasn't a problem, the generated methods would end up having a <strong>cyclic dependency</strong> and will fail in runtime with <code>java.lang.StackOverflowError</code>. So you'd have to overwrite <code>toString</code>, <code>equals</code>, etc. which kind of <strong>defeats the purpose</strong> of using <code>data class</code> in the first place.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 8455, "user_id": 1349366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f9a569a1c0af19fbe093e2ed751a7?s=128&d=identicon&r=PG", "display_name": "Aivean", "link": "https://stackoverflow.com/users/1349366/aivean"}, "is_accepted": false, "score": 1, "last_activity_date": 1528738617, "creation_date": 1528738617, "answer_id": 50803279, "question_id": 50799240, "link": "https://stackoverflow.com/questions/50799240/kotlin-mutual-assignments/50803279#50803279", "title": "Kotlin: Mutual assignments", "body": "<p>Here is the trick (note, this is really a trick, you need a good reason to use it in real code).</p>\n\n<p>Unfortunately it won't work with data classes, as they seem to be secured against this kind of hacks.</p>\n\n<p>But if you have java-stile classes, you may use two things to your advantage:</p>\n\n<ol>\n<li>You can initialize <code>val</code>s in the constructor (same as with <code>final</code> in java) </li>\n<li>You have access to <code>this</code> inside the constructor (and you may leak it outside if you really want)</li>\n</ol>\n\n<p>Which means that you can create another <code>Person</code> <strong>inside</strong> the constructor of the first person and finalize the creation of both classes before the constructor finishes.</p>\n\n<p>Once again: exposing <code>this</code> as I did below is a <strong>bad</strong> idea. When <code>otherFactory</code> is called, it's parameter is only half-initialized. This may lead to nasty bugs, especially if you try to publish such reference in multithreaded environment.</p>\n\n<p>A bit safer approach is to create both Persons inside the constructor of the first Person (you'll need to supply the fields of both entities as arguments). It's safer because you're in control of the code that uses half-initialized <code>this</code> reference.</p>\n\n<pre><code>class Person {\n    val name: String\n    val other: Person\n\n    constructor(name: String, other: Person) {\n        this.name = name\n        this.other = other\n    }\n\n    // !! not very safe !!\n    constructor(name: String, otherFactory: (Person) -&gt; Person) {\n        this.other = otherFactory(this)\n        this.name = name\n    }\n\n    // a bit safer\n    constructor(name: String, otherName: String) {\n        this.other = Person(otherName, this)\n        this.name = name\n    }\n}\n\nval person1 = Person(\"first\") {\n    Person(\"second\", it)\n}\n\nval person2 = person1.other\n\nprint(person1.name) // first\nprint(person2.name) // second\n\nval person3 = Person(\"third\", \"fourth\")\nval person4 = person3.other\n\nprint(person3.name)\nprint(person4.name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3079, "user_id": 498403, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nw5sB.jpg?s=128&g=1", "display_name": "CSJ", "link": "https://stackoverflow.com/users/498403/csj"}, "is_accepted": false, "score": 0, "last_activity_date": 1528835671, "creation_date": 1528835671, "answer_id": 50825443, "question_id": 50799240, "link": "https://stackoverflow.com/questions/50799240/kotlin-mutual-assignments/50825443#50825443", "title": "Kotlin: Mutual assignments", "body": "<p>Thanks for your suggestions everybody. I came up with an alternative and would like to hear your insights:</p>\n\n<pre><code>open class Person {\n  open val other: Person by lazy { Person2(this) }\n  class Person2(override val other: Person): Person()\n}\n\nval jack = Person()\nval jill = jack.other\n</code></pre>\n\n<p>Here we have one person lazily instantiating the other on demand, using an internal subclass that implements <code>other</code> differently (i.e. it is just given it directly in its constructor). </p>\n\n<p>Thoughts most welcome.</p>\n"}], "owner": {"reputation": 3079, "user_id": 498403, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/nw5sB.jpg?s=128&g=1", "display_name": "CSJ", "link": "https://stackoverflow.com/users/498403/csj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1528835671, "creation_date": 1528724730, "question_id": 50799240, "link": "https://stackoverflow.com/questions/50799240/kotlin-mutual-assignments", "title": "Kotlin: Mutual assignments", "body": "<p>I want to set up two values that hold immutable references to each other. Example:</p>\n\n<pre><code>data class Person(val other: Person)\nval jack = Person(jill), jill = Person(jack)   // doesn't compile\n</code></pre>\n\n<p>Note: <code>lateinit</code> doesn't seem to work with data class primary constructors.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["generics", "interface", "kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 2449, "user_id": 2440844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54xqn.png?s=128&g=1", "display_name": "Lukas M.", "link": "https://stackoverflow.com/users/2440844/lukas-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1528722039, "creation_date": 1528722039, "answer_id": 50798381, "question_id": 50797920, "link": "https://stackoverflow.com/questions/50797920/nested-data-class-in-generic-interface-using-kotlin/50798381#50798381", "title": "Nested data class in generic interface using Kotlin", "body": "<p>Also data class should be generic:</p>\n\n<pre><code>interface Exemplary&lt;T&gt; {\n\n    data class Result&lt;T&gt;(val value: T)\n\n    fun getResult(): Result&lt;T&gt;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1528756560, "creation_date": 1528756560, "answer_id": 50806970, "question_id": 50797920, "link": "https://stackoverflow.com/questions/50797920/nested-data-class-in-generic-interface-using-kotlin/50806970#50806970", "title": "Nested data class in generic interface using Kotlin", "body": "<p>There's no e.g. <code>Exemplary&lt;Int&gt;.Result</code> but just <code>Exemplary.Result</code>; there's no <code>T</code> to be found without making <code>Result</code> generic as in Lukas' answer.</p>\n\n<p>But there is an alternative: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">inner classes.</a> If you want <code>T</code> to be fixed by the interface instance, e.g. </p>\n\n<pre><code>val x: Exemplary&lt;Int&gt; = ...\nval y = new x.Result(3)\n</code></pre>\n\n<p>you need to make the class <code>inner</code>, but then it <a href=\"https://discuss.kotlinlang.org/t/is-there-a-reason-for-not-allowing-inner-data-classes/2526\" rel=\"nofollow noreferrer\">can't be <code>data</code></a> and you'll need to implement the methods yourself.</p>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539035667, "creation_date": 1528720578, "last_edit_date": 1539035667, "question_id": 50797920, "link": "https://stackoverflow.com/questions/50797920/nested-data-class-in-generic-interface-using-kotlin", "title": "Nested data class in generic interface using Kotlin", "body": "<p>How to create a generic interface with a nested data class that uses this generic type in Kotlin?</p>\n\n<p>Something like this:</p>\n\n<pre><code>interface Exemplary&lt;T&gt; {\n\n    data class Result(val value: T)\n\n    ...\n}\n</code></pre>\n"}, {"tags": ["javascript", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1528714565, "post_id": 50796128, "comment_id": 88598053, "body": "<a href=\"https://github.com/yole/kxhtml-isomorphic\" rel=\"nofollow noreferrer\">github.com/yole/kxhtml-isomorphic</a>"}, {"owner": {"reputation": 2449, "user_id": 2440844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54xqn.png?s=128&g=1", "display_name": "Lukas M.", "link": "https://stackoverflow.com/users/2440844/lukas-m"}, "edited": false, "score": 0, "creation_date": 1528722154, "post_id": 50796128, "comment_id": 88602653, "body": "or also <a href=\"http://kotlinlang.org/docs/reference/multiplatform.html#multiplatform-projects\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "owner": {"reputation": 3854, "user_id": 391635, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c8de97a3dca54af046de82b95041a3d5?s=128&d=identicon&r=PG", "display_name": "mystdeim", "link": "https://stackoverflow.com/users/391635/mystdeim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528801951, "creation_date": 1528714468, "last_edit_date": 1528801951, "question_id": 50796128, "link": "https://stackoverflow.com/questions/50796128/example-of-kotlin-project-with-shared-module-for-js", "title": "Example of kotlin project with shared module for js", "body": "<p>Since 1.1 Kotlin has support for compiling code to JS. I want to find example of gradle project how to share some code (for example data-models) between js and jvm platforms. Ideally project should have this structure:</p>\n\n<ul>\n<li>common module (compiles to .js and .class)</li>\n<li>backend module (jvm)</li>\n<li>frontend module (js, managed by webpack)</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "rsa"], "comments": [{"owner": {"reputation": 3264, "user_id": 1563038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuzZB.jpg?s=128&g=1", "display_name": "Naveen Tamrakar", "link": "https://stackoverflow.com/users/1563038/naveen-tamrakar"}, "edited": false, "score": 0, "creation_date": 1528713706, "post_id": 50795711, "comment_id": 88597531, "body": "<a href=\"https://github.com/skavinvarnan/Cross-Platform-AES\" rel=\"nofollow noreferrer\">github.com/skavinvarnan/Cross-Platform-AES</a>"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1528725903, "post_id": 50795711, "comment_id": 88605101, "body": "No Android method will give you the key in the format you want. You&#39;ll either have to do a lot work yourself or use a library like Bouncycastle/Spongycastle."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4894145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Npq7iBS04C8/AAAAAAAAAAI/AAAAAAAAAcw/vJgEr3jxoao/photo.jpg?sz=128", "display_name": "Tanay Mondal", "link": "https://stackoverflow.com/users/4894145/tanay-mondal"}, "edited": false, "score": 1, "creation_date": 1563271366, "post_id": 50814106, "comment_id": 100635424, "body": "on android use Base64.NO_WRAP to omit all line terminators (the output will be on one long line)"}], "tags": [], "owner": {"reputation": 2374, "user_id": 3442783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgVum.jpg?s=128&g=1", "display_name": "Chris Edgington", "link": "https://stackoverflow.com/users/3442783/chris-edgington"}, "is_accepted": true, "score": 7, "last_activity_date": 1528796806, "creation_date": 1528796806, "answer_id": 50814106, "question_id": 50795711, "link": "https://stackoverflow.com/questions/50795711/generate-and-export-rsa-key-pair-on-android/50814106#50814106", "title": "Generate and Export RSA Key Pair on Android", "body": "<p>For anyone else who comes across this the answer is - </p>\n\n<pre><code>val keyText = Base64.encodeToString(keypair.public.encoded, Base64.DEFAULT)\n</code></pre>\n"}], "owner": {"reputation": 2374, "user_id": 3442783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NgVum.jpg?s=128&g=1", "display_name": "Chris Edgington", "link": "https://stackoverflow.com/users/3442783/chris-edgington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2707, "favorite_count": 1, "accepted_answer_id": 50814106, "answer_count": 1, "score": 3, "last_activity_date": 1528796806, "creation_date": 1528713163, "question_id": 50795711, "link": "https://stackoverflow.com/questions/50795711/generate-and-export-rsa-key-pair-on-android", "title": "Generate and Export RSA Key Pair on Android", "body": "<p>I'm attempting to generate a KeyPair on Android and export the Public Key as a String so it's in the format -</p>\n\n<p><code>-----BEGIN RSA PUBLIC KEY-----MIIB...</code> </p>\n\n<p>I've used the following to successfully generate the KeyPair -</p>\n\n<pre><code>fun generateKeyPair(): KeyPair {\n    val generator = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_RSA)\n\n    generator.initialize(2048, SecureRandom())\n    val keypair = generator.genKeyPair()\n    return keypair\n}\n\nval keypair = generateKeyPair()\n\nLog.d(\"Keypair\", keypair.public.toString())\n</code></pre>\n\n<p>But this gives me -</p>\n\n<pre><code>OpenSSLRSAPublicKey{modulus=e0a6a5a...\n</code></pre>\n\n<p>Does anyone know how I can export the key in the aforementioned format?</p>\n"}, {"tags": ["ios", "kotlin"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1528707865, "post_id": 50793813, "comment_id": 88594010, "body": "use <a href=\"http://developine.com/kotlin-native-ios-development-multiplatform-project/\" rel=\"nofollow noreferrer\"><b>AppCode (IDE) by JetBrains</b></a>"}, {"owner": {"reputation": 79, "user_id": 6021404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xPPFS.jpg?s=128&g=1", "display_name": "M.Arun pandian", "link": "https://stackoverflow.com/users/6021404/m-arun-pandian"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1528707935, "post_id": 50793813, "comment_id": 88594038, "body": "thanks dude@Anbu.karthik"}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 6021404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xPPFS.jpg?s=128&g=1", "display_name": "M.Arun pandian", "link": "https://stackoverflow.com/users/6021404/m-arun-pandian"}, "is_accepted": true, "score": 0, "last_activity_date": 1528889814, "creation_date": 1528889814, "answer_id": 50836262, "question_id": 50793813, "link": "https://stackoverflow.com/questions/50793813/how-to-start-project-for-ios-app-in-kotlinin-which-tool/50836262#50836262", "title": "How to start project for ios app in kotlin?in which tool?", "body": "<p>yes we can develop ios app in kotlin in appcode, but it depends XCode for ui</p>\n"}], "owner": {"reputation": 79, "user_id": 6021404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xPPFS.jpg?s=128&g=1", "display_name": "M.Arun pandian", "link": "https://stackoverflow.com/users/6021404/m-arun-pandian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 50836262, "answer_count": 1, "score": -8, "last_activity_date": 1528889814, "creation_date": 1528707262, "last_edit_date": 1528707717, "question_id": 50793813, "link": "https://stackoverflow.com/questions/50793813/how-to-start-project-for-ios-app-in-kotlinin-which-tool", "title": "How to start project for ios app in kotlin?in which tool?", "body": "<p>I want to start ios app in kotlin. can anyone know how to set up the project and which tool I have to use for that? thanks in advance</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1, "user_id": 7685137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gExR5.jpg?s=128&g=1", "display_name": "Xin Lin", "link": "https://stackoverflow.com/users/7685137/xin-lin"}, "reply_to_user": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 0, "creation_date": 1528706491, "post_id": 50793121, "comment_id": 88593134, "body": "I&#39;m first time for ask questions on stackoverflow.I&#39;m sorry for my Inconsiderate and I make some edit."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7685137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gExR5.jpg?s=128&g=1", "display_name": "Xin Lin", "link": "https://stackoverflow.com/users/7685137/xin-lin"}, "is_accepted": true, "score": 0, "last_activity_date": 1528713010, "creation_date": 1528713010, "answer_id": 50795670, "question_id": 50793121, "link": "https://stackoverflow.com/questions/50793121/kotlin-plugin-doesnt-work/50795670#50795670", "title": "kotlin plugin doesn&#39;t work", "body": "<p>I have resolved this question.It's because that *.kt extension is not associated with the Kotlin Files.But associated with the Java Class Files.Check those configurations : Settings | Editor | File Types.For more information.See this question <a href=\"https://stackoverflow.com/questions/38180559/kotlin-not-working-on-android-studio\">Kotlin not working on Android Studio</a></p>\n"}], "owner": {"reputation": 1, "user_id": 7685137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gExR5.jpg?s=128&g=1", "display_name": "Xin Lin", "link": "https://stackoverflow.com/users/7685137/xin-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 1, "accepted_answer_id": 50795670, "answer_count": 1, "score": -2, "last_activity_date": 1533686522, "creation_date": 1528704765, "last_edit_date": 1528706305, "question_id": 50793121, "link": "https://stackoverflow.com/questions/50793121/kotlin-plugin-doesnt-work", "title": "kotlin plugin doesn&#39;t work", "body": "<p>When I import kotlin and enabled kotlin plugin.I found that they doesn't work as well.Some description is like <a href=\"https://stackoverflow.com/questions/50098853/android-studio-3-1-kotlin-plugin-does-not-work\">Android Studio 3.1 - kotlin plugin does not work\n</a>.</p>\n\n<p>I not only can't new any kotlin file\u3001class .etc but also cant't use kotlin grammar in java file.When I tried to use \u300cConvert Java File To Kotlin File\u300d function.It's successd.But When I close this file and reopen this file.This file is blank.</p>\n\n<p>All my kotlin configuration as follows.</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    ext.kotlin_version = '1.1.3-2'\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle- plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    ...\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n...\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>And some phenomenon like I can't modify kotlin file When I use \u300cConvert Java File To Kotlin File\u300d function.Some pictures as follows.</p>\n\n<p><a href=\"https://i.stack.imgur.com/10ZDw.png\" rel=\"nofollow noreferrer\">My kotlin file example</a></p>\n\n<p>When I tried to new kotlin file,I meet some troubles:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9vZ5w.png\" rel=\"nofollow noreferrer\">Can not create File</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/SSfkk.png\" rel=\"nofollow noreferrer\">My Kotlin Code Templates</a></p>\n\n<p>Because I don't have enough repupation to submit pictures,so I put them as a link. Could someone can help me?Thanks very much!</p>\n"}, {"tags": ["android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9373569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Love kothari", "link": "https://stackoverflow.com/users/9373569/love-kothari"}, "edited": false, "score": 0, "creation_date": 1528712807, "post_id": 50793337, "comment_id": 88596974, "body": "I am not understand that? what was i do here can you please edit in code. what you want to say"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 37, "user_id": 9373569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Love kothari", "link": "https://stackoverflow.com/users/9373569/love-kothari"}, "edited": false, "score": 0, "creation_date": 1528713298, "post_id": 50793337, "comment_id": 88597287, "body": "I&#39;ve added small description. I hope it&#39;ll help. If you still have any questions - ask :)"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 3, "last_activity_date": 1528713264, "last_edit_date": 1528713264, "creation_date": 1528705577, "answer_id": 50793337, "question_id": 50792885, "link": "https://stackoverflow.com/questions/50792885/supertype-initialization-is-impossible-without-primary-constructor/50793337#50793337", "title": "Supertype initialization is impossible without primary constructor", "body": "<p>Fragments are special classes in Android and they need primary constructor (and that constructor is after name of class).\nThis constructor should by empty (if you declare any fields then you'll see warning, that you should not create Fragments with parameters).</p>\n\n<p>So, all you need to compile your code is add brackets after fragment name:</p>\n\n<pre><code>class MyFragment() : Fragment() { /* some code here! remebmer about brackets after your MyFragment! */ }\n</code></pre>\n\n<p>Even more, you should avoid declaring any constructors with params.\nYou should create your fragments by <code>Companion.newInstance(someArgs: List&lt;Arg&gt;) : YourFragment</code>. (where Companion is companion object of your Fragment).</p>\n\n<p>How fragments should be initialized you can find here: <a href=\"https://stackoverflow.com/a/9245510/7508302\">https://stackoverflow.com/a/9245510/7508302</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3398576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8815088feb4eb69af6ca99d56302c3a?s=128&d=identicon&r=PG&f=1", "display_name": "Mourya", "link": "https://stackoverflow.com/users/3398576/mourya"}, "is_accepted": false, "score": 2, "last_activity_date": 1571833892, "last_edit_date": 1571833892, "creation_date": 1571830611, "answer_id": 58521999, "question_id": 50792885, "link": "https://stackoverflow.com/questions/50792885/supertype-initialization-is-impossible-without-primary-constructor/58521999#58521999", "title": "Supertype initialization is impossible without primary constructor", "body": "<p>Try adding constructor like this:</p>\n\n<pre><code>class First constructor() : Fragment() {\n}\n</code></pre>\n\n<p>As you are using constructor below for passing <code>fragmentManager</code> there should be a default constructor when you are extending other class.</p>\n"}], "owner": {"reputation": 37, "user_id": 9373569, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Love kothari", "link": "https://stackoverflow.com/users/9373569/love-kothari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4632, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571833892, "creation_date": 1528703802, "last_edit_date": 1528711945, "question_id": 50792885, "link": "https://stackoverflow.com/questions/50792885/supertype-initialization-is-impossible-without-primary-constructor", "title": "Supertype initialization is impossible without primary constructor", "body": "<pre><code>   **How can I solved it**\n</code></pre>\n\n<p>//   How can resolve This error from kotlin fragment *</p>\n\n<pre><code>open class First : Fragment() {\n}\n</code></pre>\n\n<p>//  'Which is showing in image Fragment()  was not access'\n    <a href=\"https://i.stack.imgur.com/Rcgl5.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Rcgl5.png</a></p>\n"}, {"tags": ["android", "arrays", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 0, "creation_date": 1528702632, "post_id": 50792534, "comment_id": 88591063, "body": "Can you add little more code? Also, this log is messy. Add only one occurrence of relevant part of the log"}], "answers": [{"tags": [], "owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "is_accepted": false, "score": 1, "last_activity_date": 1528702668, "creation_date": 1528702668, "answer_id": 50792597, "question_id": 50792534, "link": "https://stackoverflow.com/questions/50792534/kotlin-android-sortwith-array-issue/50792597#50792597", "title": "kotlin Android sortwith Array issue", "body": "<p>Try this</p>\n\n<pre><code>companyList = companyList.sortedWith(compareBy { it.order })\n</code></pre>\n\n<p>You can check the document here <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-with.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-with.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 9, "last_activity_date": 1528703297, "last_edit_date": 1528703297, "creation_date": 1528702945, "answer_id": 50792649, "question_id": 50792534, "link": "https://stackoverflow.com/questions/50792534/kotlin-android-sortwith-array-issue/50792649#50792649", "title": "kotlin Android sortwith Array issue", "body": "<p>See this example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val xx = ArrayList&lt;Int&gt;()\n    xx.addAll(listOf(8, 3, 1, 4))\n    xx.sortedWith(compareBy { it })\n\n    // prints 8, 3, 1, 4\n    xx.forEach { println(it) }\n\n    println()\n\n    val sortedXx = xx.sortedWith(compareBy { it })\n    // prints sorted collection\n    sortedXx.forEach { println(it) }\n}\n</code></pre>\n\n<p>Why this is works this way? Because in Kotlin most collections are immutable. And <code>collection.sortedWith(...)</code> is an extenstion function which returns sorted copy of your collection, but in fact you ignore this result.</p>\n\n<p>Ofc you can use other methods modifying collections (like <code>.sort()</code>), or <code>Collections.sort(collection, comparator)</code>. This way of sorting doesn't required to assign new collection (because there is no new collection, only current is modified).</p>\n"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2595, "favorite_count": 0, "accepted_answer_id": 50792649, "answer_count": 2, "score": 2, "last_activity_date": 1528703297, "creation_date": 1528702423, "question_id": 50792534, "link": "https://stackoverflow.com/questions/50792534/kotlin-android-sortwith-array-issue", "title": "kotlin Android sortwith Array issue", "body": "<p>I use the below sortwith method to sort my ArrayList, I suppose it will sort the order number from small number to big number. Such as 10,9,8,7,6....0. But the result is not what I expected.Please kindly help to solve this issue.</p>\n\n<pre><code>companyList.add(companyReg)\ncompanyList.sortedWith(compareBy { it.order })\n\nfor (obj in companyList) {\n    println(\"order number: \"+obj.order)\n}\n</code></pre>\n\n<p>Println result\n<a href=\"https://i.stack.imgur.com/Nw4YH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nw4YH.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["gradle", "kotlin", "android-gradle-plugin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 2, "creation_date": 1528710652, "post_id": 50792428, "comment_id": 88595592, "body": "To the downvoter: Care to explain?"}], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1575538345, "post_id": 50801989, "comment_id": 104602838, "body": "Thank you very much for this detailed explained + solutions :) @david.mihola"}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 1, "creation_date": 1582585062, "post_id": 50801989, "comment_id": 106821006, "body": "Note: you can call simpler applicationVariants.all{}  (without creating explicit Action object), and your ApplicationVariant will be passed as receiver parameter. Make sure not to define some lambda parameter: &quot;.all{ variant-&gt;&quot;, otherwise it will match Kotlin&#39;s extension function. Use just plain &quot;.all{&quot;, and you will get shorter nicer code."}], "tags": [], "owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "is_accepted": false, "score": 23, "last_activity_date": 1528734705, "last_edit_date": 1528734705, "creation_date": 1528733517, "answer_id": 50801989, "question_id": 50792428, "link": "https://stackoverflow.com/questions/50792428/how-to-access-variant-outputfilename-in-kotlin/50801989#50801989", "title": "How to access variant.outputFileName in Kotlin", "body": "<p>Browsing through the source code of the Android Gradle plugin, I think I found the answer - here we go:</p>\n\n<p>We are actually dealing with objects of type <code>BaseVariantOutputImpl</code> and this class <em>does</em> have both these methods:</p>\n\n<pre><code>public String getOutputFileName() {\n    return apkData.getOutputFileName();\n}\n\npublic void setOutputFileName(String outputFileName) {\n    if (new File(outputFileName).isAbsolute()) {\n        throw new GradleException(\"Absolute path are not supported when setting \" +\n                    \"an output file name\");\n    }\n    apkData.setOutputFileName(outputFileName);\n}\n</code></pre>\n\n<p>Using this knowledge we can now:</p>\n\n<pre><code>import com.android.build.gradle.internal.api.BaseVariantOutputImpl\n</code></pre>\n\n<p>and then cast our target objects like so:</p>\n\n<pre><code>applicationVariants.all(object : Action&lt;ApplicationVariant&gt; {\n    override fun execute(variant: ApplicationVariant) {\n        println(\"variant: ${variant}\")\n        variant.outputs.all(object : Action&lt;BaseVariantOutput&gt; {\n            override fun execute(output: BaseVariantOutput) {\n\n                val outputImpl = output as BaseVariantOutputImpl\n                val fileName = output.outputFileName\n                        .replace(\"-release\", \"-release-v${defaultConfig.versionName}-vc${defaultConfig.versionCode}-$gitHash\")\n                        .replace(\"-debug\", \"-debug-v${defaultConfig.versionName}-vc${defaultConfig.versionCode}-$gitHash\")\n                println(\"output file name: ${fileName}\")\n                outputImpl.outputFileName = fileName\n            }\n        })\n    }\n})\n</code></pre>\n\n<p>So, I guess: Yes, there is some Groovy magic at work, namely that Groovy's dynamic type system allows you to just access <code>getOutputFileName</code> and <code>setOutputFileName</code> (by way of the abbreviated <code>outputImpl.outputFileName</code> syntax, as in Kotlin) from your code, hoping they will be there at runtime, even if the compile time interfaces that you know about don't have them.</p>\n"}, {"comments": [{"owner": {"reputation": 3930, "user_id": 1474291, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/049bfa78ff2d185b51f711f74de58339?s=128&d=identicon&r=PG", "display_name": "Zingam", "link": "https://stackoverflow.com/users/1474291/zingam"}, "edited": false, "score": 0, "creation_date": 1573327696, "post_id": 58035977, "comment_id": 103849175, "body": "Could you please explain this synthax/sample and why do we still need to use BaseVariantOutputImpl ?"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "reply_to_user": {"reputation": 3930, "user_id": 1474291, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/049bfa78ff2d185b51f711f74de58339?s=128&d=identicon&r=PG", "display_name": "Zingam", "link": "https://stackoverflow.com/users/1474291/zingam"}, "edited": false, "score": 0, "creation_date": 1575537052, "post_id": 58035977, "comment_id": 104602218, "body": "because we need to casting it, so we can access the setOuputFileName @Zingam cmiiw"}, {"owner": {"reputation": 3930, "user_id": 1474291, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/049bfa78ff2d185b51f711f74de58339?s=128&d=identicon&r=PG", "display_name": "Zingam", "link": "https://stackoverflow.com/users/1474291/zingam"}, "edited": false, "score": 0, "creation_date": 1576619494, "post_id": 58035977, "comment_id": 104957171, "body": "@mochdawi  So is this due to some serious deficiency in Kotlin DSL?"}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 4, "creation_date": 1582584698, "post_id": 58035977, "comment_id": 106820907, "body": "From my experience, applicationVariants.forEach doesn&#39;t work (collection is empty), and you have to use applicationVariants.all{}. But not Kotlin&#39;s extension Iterable.all(), but DomainObjectCollection.all()."}], "tags": [], "owner": {"reputation": 441, "user_id": 254007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c84e87cbc9cc305838451315ab838d2?s=128&d=identicon&r=PG", "display_name": "swap_i", "link": "https://stackoverflow.com/users/254007/swap-i"}, "is_accepted": false, "score": 21, "last_activity_date": 1584953705, "last_edit_date": 1584953705, "creation_date": 1569020662, "answer_id": 58035977, "question_id": 50792428, "link": "https://stackoverflow.com/questions/50792428/how-to-access-variant-outputfilename-in-kotlin/58035977#58035977", "title": "How to access variant.outputFileName in Kotlin", "body": "<p>A little simplified version of @david.mihola answer:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>android {\n\n    applicationVariants.all {\n        val variant = this\n        variant.outputs\n                .map { it as BaseVariantOutputImpl }\n                .forEach { output -&gt;\n                    output.outputFileName = output.outputFileName\n                            .replace(\"app-\", \"FooBar-\")\n                            .replace(\".apk\", \"-${variant.versionName}.${variant.versionCode}.apk\")\n                }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "is_accepted": false, "score": 5, "last_activity_date": 1585140124, "creation_date": 1585140124, "answer_id": 60849081, "question_id": 50792428, "link": "https://stackoverflow.com/questions/50792428/how-to-access-variant-outputfilename-in-kotlin/60849081#60849081", "title": "How to access variant.outputFileName in Kotlin", "body": "<p>Shorter version using lambdas:</p>\n\n<pre><code>    applicationVariants.all{\n        outputs.all {\n            if(name.contains(\"release\"))\n                (this as BaseVariantOutputImpl).outputFileName = \"../../apk/$name-$versionName.apk\"\n        }\n    }\n</code></pre>\n\n<p>This will place APK into app/apk folder with name made of variant name and version code.<br>\nYou can change the format of filename as you wish.<br>\nImportant: it must be done only on release builds, because \"..\" in path corrupts debug build process with strange errors.</p>\n"}], "owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3152, "favorite_count": 3, "answer_count": 3, "score": 20, "last_activity_date": 1585140124, "creation_date": 1528702082, "last_edit_date": 1528706376, "question_id": 50792428, "link": "https://stackoverflow.com/questions/50792428/how-to-access-variant-outputfilename-in-kotlin", "title": "How to access variant.outputFileName in Kotlin", "body": "<p>We've been using a snippet like this one to rename the APK file generated by our Gradle build:</p>\n\n<pre><code>android.applicationVariants.all { variant -&gt;\n    variant.outputs.all {\n        outputFileName = \"${variant.name}-${variant.versionName}.apk\"\n    }\n}\n</code></pre>\n\n<p>Source: <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration#variant_output\" rel=\"noreferrer\">https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration#variant_output</a></p>\n\n<p>I am now in the process of converting my <code>build.gradle</code> to <code>build.gradle.kts</code>, i. e. to the Gradle Kotlin DSL. This is one of the last missing pieces: I can't figure out how to access <code>outputFileName</code>.</p>\n\n<p>According to the API docs it does not even seem to exist:</p>\n\n<ul>\n<li><code>BaseVariant.getOutputs()</code> returns a <code>DomainObjectCollection&lt;BaseVariantOutput&gt;</code> which provides the <code>all</code> method used in the snippet.</li>\n<li><code>BaseVariantOutput</code> extends <code>OutputFile</code> which extends <code>VariantOutput</code> but none of these has an <code>outputFileName</code> or any getters or setters of a matching name.</li>\n</ul>\n\n<p>So, I suspect there is some advanced Groovy magic at work to make this work - but how do I get there in Kotlin?</p>\n"}, {"tags": ["java", "android", "kotlin", "material-components-android", "android-textinputlayout"], "answers": [{"comments": [{"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "edited": false, "score": 1, "creation_date": 1528788551, "post_id": 50792614, "comment_id": 88628331, "body": "Hey &#214;m&#252;r,  I added hint in the TextInputLayout but it did not help at all. I don&#39;t understand neither how it is supposed to prevent hint from going up till user starts typing..."}], "tags": [], "owner": {"reputation": 124, "user_id": 8837568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wB7Eh.jpg?s=128&g=1", "display_name": "fevziomurtekin", "link": "https://stackoverflow.com/users/8837568/fevziomurtekin"}, "is_accepted": false, "score": 0, "last_activity_date": 1528702766, "creation_date": 1528702766, "answer_id": 50792614, "question_id": 50792041, "link": "https://stackoverflow.com/questions/50792041/altering-textinputlayout-hint-behavior/50792614#50792614", "title": "Altering TextInputLayout hint behavior", "body": "<p>You can type the name to be entered in the Label part and the hint in the Indian part.</p>\n\n<pre><code>&lt;android.support.design.widget.TextInputLayout\n        android:id=\"@+id/text_input\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Label\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/edit_text\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"text\" /&gt;\n\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1597563567, "creation_date": 1597563567, "answer_id": 63434365, "question_id": 50792041, "link": "https://stackoverflow.com/questions/50792041/altering-textinputlayout-hint-behavior/63434365#63434365", "title": "Altering TextInputLayout hint behavior", "body": "<p>With the Material Components Library you can use the <code>placeholderText</code> attribute:</p>\n<pre><code>    &lt;com.google.android.material.textfield.TextInputLayout\n        android:hint=&quot;Label&quot;\n        app:placeholderText=&quot;placeholder&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5mED3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mED3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> This requires at least the version <strong><code>1.2.0</code></strong>.</p>\n"}], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1597563582, "creation_date": 1528700544, "last_edit_date": 1597563582, "question_id": 50792041, "link": "https://stackoverflow.com/questions/50792041/altering-textinputlayout-hint-behavior", "title": "Altering TextInputLayout hint behavior", "body": "<p>I need to alter TextInputLayout behavior in such a way. By default, when user clicks on EditText inside the Layout, hint leaves the text box and goes above. What I need to achieve is: When user clicks on the EditText, hint does not react. It moves when user starts typing, and comes back then EditText is empty.</p>\n\n<p>I have used a custom library with a thing called FloatingEditText but it does not work correctly with RTL layouts. Does anyone know how to achieve that with TextInputLayout or another way working well with right to left?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 1, "creation_date": 1528699037, "post_id": 50791683, "comment_id": 88589301, "body": "What is the error?"}, {"owner": {"reputation": 2164, "user_id": 5516760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fJ0V.jpg?s=128&g=1", "display_name": "Marzi Heidari", "link": "https://stackoverflow.com/users/5516760/marzi-heidari"}, "edited": false, "score": 0, "creation_date": 1528699203, "post_id": 50791683, "comment_id": 88589375, "body": "Do you have another textView in other files that its id is answerTv too?"}, {"owner": {"reputation": 337, "user_id": 9394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9206be733264728a6d7ed59b25763ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Hkh", "link": "https://stackoverflow.com/users/9394541/hkh"}, "edited": false, "score": 0, "creation_date": 1528699292, "post_id": 50791683, "comment_id": 88589416, "body": "Error : None of the functions can be called with arguments supplied...."}, {"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "edited": false, "score": 0, "creation_date": 1528699453, "post_id": 50791683, "comment_id": 88589484, "body": "val result = (firstNum + &quot; &gt; &quot; + secondNum) as String answerTv?.setText( result); Make sure answerTV is not null , if not used binding mechaninsam.  you can check for null  print(answerTV)"}, {"owner": {"reputation": 337, "user_id": 9394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9206be733264728a6d7ed59b25763ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Hkh", "link": "https://stackoverflow.com/users/9394541/hkh"}, "edited": false, "score": 0, "creation_date": 1528699563, "post_id": 50791683, "comment_id": 88589530, "body": "For not null I am using !! operator.  answerTv!!  Problem occur inside of setText method near + operator."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 9394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9206be733264728a6d7ed59b25763ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Hkh", "link": "https://stackoverflow.com/users/9394541/hkh"}, "edited": false, "score": 0, "creation_date": 1528699677, "post_id": 50791820, "comment_id": 88589592, "body": "I used but still same problem."}, {"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "reply_to_user": {"reputation": 337, "user_id": 9394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9206be733264728a6d7ed59b25763ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Hkh", "link": "https://stackoverflow.com/users/9394541/hkh"}, "edited": false, "score": 0, "creation_date": 1528699749, "post_id": 50791820, "comment_id": 88589627, "body": "Please try now."}], "tags": [], "owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "is_accepted": false, "score": 2, "last_activity_date": 1528699678, "last_edit_date": 1528699678, "creation_date": 1528699613, "answer_id": 50791820, "question_id": 50791683, "link": "https://stackoverflow.com/questions/50791683/kotlin-set-text-method-not-working/50791820#50791820", "title": "Kotlin set text method not working", "body": "<p>Kotlin tries to identify the type of object from first operand if \"+\" is used as concatenation. Try using \"\" (blank stirng) as first argument.</p>\n\n<pre><code>answerTv!!.text = \"\" + firstNum + \" &gt; \" + secondNum\n</code></pre>\n\n<p>or</p>\n\n<pre><code>answerTv!!.setText(\"\" + firstNum + \" &gt; \" + secondNum);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 569, "user_id": 5323758, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-SJgfItgNxoc/AAAAAAAAAAI/AAAAAAAAAc0/GTK_Vz-n0ww/photo.jpg?sz=128", "display_name": "BiRjU", "link": "https://stackoverflow.com/users/5323758/birju"}, "is_accepted": false, "score": 4, "last_activity_date": 1528707204, "creation_date": 1528707204, "answer_id": 50793792, "question_id": 50791683, "link": "https://stackoverflow.com/questions/50791683/kotlin-set-text-method-not-working/50793792#50793792", "title": "Kotlin set text method not working", "body": "<pre><code>answerTv.text = \"$firstNum  &gt;  $secondNum\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6767502, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_RaZjp_vyg8/AAAAAAAAAAI/AAAAAAAAADs/SozhbEB90WU/photo.jpg?sz=128", "display_name": "David Fern&#225;ndez", "link": "https://stackoverflow.com/users/6767502/david-fern%c3%a1ndez"}, "is_accepted": false, "score": 0, "last_activity_date": 1530020304, "creation_date": 1530020304, "answer_id": 51044305, "question_id": 50791683, "link": "https://stackoverflow.com/questions/50791683/kotlin-set-text-method-not-working/51044305#51044305", "title": "Kotlin set text method not working", "body": "<p>The answer from Birju is perfectly correct. Another option (rather less elegant) is to get explicitly the string value of each number:</p>\n\n<pre><code>answerTv.text = firstNum.toString() + \" &gt; \" + secondNum.toString()\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 9394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9206be733264728a6d7ed59b25763ca0?s=128&d=identicon&r=PG&f=1", "display_name": "Hkh", "link": "https://stackoverflow.com/users/9394541/hkh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1530020304, "creation_date": 1528699011, "last_edit_date": 1528700304, "question_id": 50791683, "link": "https://stackoverflow.com/questions/50791683/kotlin-set-text-method-not-working", "title": "Kotlin set text method not working", "body": "<p>What is wrong in below line for kotlin : </p>\n\n<pre><code>answerTv!!.setText( firstNum + \" &gt; \" + secondNum);\n</code></pre>\n\n<p>This line given me error. What's wrong in above line?</p>\n"}, {"tags": ["android", "android-studio", "sdk", "kotlin"], "comments": [{"owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "edited": false, "score": 0, "creation_date": 1528700604, "post_id": 50791591, "comment_id": 88589989, "body": "refer this Link &gt;&gt; <a href=\"https://medium.com/@tomoima525/rewriting-android-library-with-kotlin-339f30ed548b\" rel=\"nofollow noreferrer\">click here</a>"}, {"owner": {"reputation": 421, "user_id": 876086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35d55d88925f115aec06e43c2f6d4f2?s=128&d=identicon&r=PG", "display_name": "T&#228;g", "link": "https://stackoverflow.com/users/876086/t%c3%a4g"}, "reply_to_user": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "edited": false, "score": 0, "creation_date": 1528701667, "post_id": 50791591, "comment_id": 88590558, "body": "Yeah, that kind of article is why I am asking. When I read: <code>Error:Conflict with dependency &#39;org.jetbrains.kotlin:kotlin-stdlib&#39; in project &#39;:app&#39;. Resolved versions for app (1.1.2-4) and test app (1.1.2-3) differ. See http:&#47;&#47;g.co&#47;androidstudio&#47;app-test-app-conflict for details.</code> I keep wondering if I am right not to write my sdks in kotlin. However, kotlin-version is 1.2.41 now : 41 possibilities not to compile properly."}], "answers": [{"tags": [], "owner": {"reputation": 421, "user_id": 876086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35d55d88925f115aec06e43c2f6d4f2?s=128&d=identicon&r=PG", "display_name": "T&#228;g", "link": "https://stackoverflow.com/users/876086/t%c3%a4g"}, "is_accepted": true, "score": 0, "last_activity_date": 1573671709, "creation_date": 1573671709, "answer_id": 58843879, "question_id": 50791591, "link": "https://stackoverflow.com/questions/50791591/use-kotlin-in-library/58843879#58843879", "title": "Use Kotlin in Library", "body": "<p>Since kotlin for Android is more mature and since Gradle provides tools that helps us implementing dependencies in shorter scope, this question is not relevant anymore.</p>\n"}], "owner": {"reputation": 421, "user_id": 876086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35d55d88925f115aec06e43c2f6d4f2?s=128&d=identicon&r=PG", "display_name": "T&#228;g", "link": "https://stackoverflow.com/users/876086/t%c3%a4g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58843879, "answer_count": 1, "score": 1, "last_activity_date": 1573671709, "creation_date": 1528698547, "last_edit_date": 1573671593, "question_id": 50791591, "link": "https://stackoverflow.com/questions/50791591/use-kotlin-in-library", "title": "Use Kotlin in Library", "body": "<p>I have some android sdks already written in java.</p>\n\n<p>I am wondering if it is unsafe to rewrite them in Kotlin. I imagine that if the <code>$kotlin_version</code> is different between my code and my customer one, it mays not compile. Am I right ? (same for kotlin android-studio plugin)</p>\n"}, {"tags": ["android", "checkbox", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 7900721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-INZeIznIQTg/AAAAAAAAAAI/AAAAAAAAAAw/E9VciNY8wo4/photo.jpg?sz=128", "display_name": "Andrew Steinmetz", "link": "https://stackoverflow.com/users/7900721/andrew-steinmetz"}, "edited": false, "score": 0, "creation_date": 1550649636, "post_id": 50794017, "comment_id": 96341452, "body": "The parenthesis is unnecessary when calling this method since in Kotlin when there is only one method in the interface, it will automatically convert it to a lambda. Then since it is a lambda and as the last parameter, parenthesis are not needed."}], "tags": [], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "is_accepted": true, "score": 4, "last_activity_date": 1528707975, "creation_date": 1528707975, "answer_id": 50794017, "question_id": 50791508, "link": "https://stackoverflow.com/questions/50791508/how-to-add-ischecked-and-unchecked-event-for-checkbox-in-recyclerview-in-android/50794017#50794017", "title": "How to add isChecked and unChecked event for CheckBox in RecyclerView in Android Kotlin", "body": "<p>I have added my own code, with help of lambda function it is possible. </p>\n\n<pre><code>    checkBoxSample.setOnCheckedChangeListener({\n        buttonView, isChecked -&gt;\n        if (isChecked){\n            // show toast , check box is checked\n        }else{\n            // show toast , check box is not checked\n        }\n    })\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9779588"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4074, "favorite_count": 0, "accepted_answer_id": 50794017, "answer_count": 1, "score": 1, "last_activity_date": 1528717437, "creation_date": 1528698164, "last_edit_date": 1528717437, "question_id": 50791508, "link": "https://stackoverflow.com/questions/50791508/how-to-add-ischecked-and-unchecked-event-for-checkbox-in-recyclerview-in-android", "title": "How to add isChecked and unChecked event for CheckBox in RecyclerView in Android Kotlin", "body": "<p>I try to implement a OnCheckedChangeListener for checked/unchecked (checkBox) event in Android Kotlin. But it does not work. Here is my code:- </p>\n\n<pre><code>checkBox?.setOnCheckedChangeListener(object : CompoundButton.OnCheckedChangeListener {\n        override fun onCheckedChanged(buttonView: CompoundButton, isChecked: Boolean) {\n            if (checkBox!!.isChecked) {\n                Toast.makeText(applicationContext, \"checked \", Toast.LENGTH_LONG).show()\n            }\n            else{\n                Toast.makeText(applicationContext, \"unCkecked\", Toast.LENGTH_LONG).show()\n            }\n\n        }\n    })\n</code></pre>\n\n<p>Pic is here what i want to :- \n<a href=\"https://i.stack.imgur.com/J9M2d.png\" rel=\"nofollow noreferrer\">Click Here</a></p>\n"}, {"tags": ["java", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 6429, "user_id": 5039498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x2q7.jpg?s=128&g=1", "display_name": "Amit Bera", "link": "https://stackoverflow.com/users/5039498/amit-bera"}, "edited": false, "score": 0, "creation_date": 1528697141, "post_id": 50791081, "comment_id": 88588538, "body": "do you have provision to change <code>while (true)</code> condition?"}, {"owner": {"reputation": 12087, "user_id": 1121249, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LkDcL.png?s=128&g=1", "display_name": "rkosegi", "link": "https://stackoverflow.com/users/1121249/rkosegi"}, "edited": false, "score": 0, "creation_date": 1528697534, "post_id": 50791081, "comment_id": 88588700, "body": "You said you have <code>future</code>. Any issue calling <code>Future#cancel(true)</code> ?"}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "reply_to_user": {"reputation": 6429, "user_id": 5039498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9x2q7.jpg?s=128&g=1", "display_name": "Amit Bera", "link": "https://stackoverflow.com/users/5039498/amit-bera"}, "edited": false, "score": 0, "creation_date": 1528698105, "post_id": 50791081, "comment_id": 88588914, "body": "@AmitBera No, I can&#39;t touch the code inside the function that does it."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "reply_to_user": {"reputation": 12087, "user_id": 1121249, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/LkDcL.png?s=128&g=1", "display_name": "rkosegi", "link": "https://stackoverflow.com/users/1121249/rkosegi"}, "edited": false, "score": 0, "creation_date": 1528698158, "post_id": 50791081, "comment_id": 88588935, "body": "@rkosegi I do call it, I even call ExecutorService#shutdownNow() function but the both of them cannot kill the thread."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1528707336, "post_id": 50791081, "comment_id": 88593653, "body": "<code>Thread#stop()</code> is your only option, but it a) is a crappy, leaky mechanism that can destabilize the whole application, b) may still fail to kill the thread because all it does is throw an exception in the thread."}], "answers": [{"comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 4, "creation_date": 1528700968, "post_id": 50792080, "comment_id": 88590191, "body": "I&#39;m not sure this will help the OP in this case: the method he&#39;s calling seems uninterruptible. OP mentions, in the question comments, of calling <code>future.cancel(true)</code> and <code>executor.shutdownNow()</code> which both attempt to cancel running tasks via interrupting the threads but the task keeps executing."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528701233, "post_id": 50792080, "comment_id": 88590349, "body": "@OldCurmudgeon the whole point is that I can&#39;t touch the code... It does not catch InterruptedException nor does it sleep. It&#39;s just as I wrote above,"}, {"owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "reply_to_user": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528703687, "post_id": 50792080, "comment_id": 88591613, "body": "@AntilKarev - This should catch any blocking code running in the thread. If there is no blocking then you are out of luck. Note that <code>System.out</code> and almost any <code>NIO</code> uses blocking code."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528703828, "post_id": 50792080, "comment_id": 88591702, "body": "@OldCurmudgeon that&#39;s why I ask of a way to completely kill the thread, no interrupt whatsoever, just kill it without notice."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528715017, "post_id": 50792080, "comment_id": 88598308, "body": "This solution will work with <code>Thread#stop()</code> just the same. But <code>Thread#stop()</code> doesn&#39;t kill a thread, it just makes an exception appear in the code the thread is executing. A simple <code>catch (Throwable t)</code> is all it takes to block it."}], "tags": [], "owner": {"reputation": 60632, "user_id": 823393, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a37a096cfb6f7b8e40e4950dc1a9658?s=128&d=identicon&r=PG", "display_name": "OldCurmudgeon", "link": "https://stackoverflow.com/users/823393/oldcurmudgeon"}, "is_accepted": false, "score": 0, "last_activity_date": 1528700708, "creation_date": 1528700708, "answer_id": 50792080, "question_id": 50791081, "link": "https://stackoverflow.com/questions/50791081/killing-a-thread-or-an-asynchronous-task/50792080#50792080", "title": "Killing a thread or an asynchronous task", "body": "<p>If you can capture it's thread you should be able to kill it so long as it is doing some kind of blocking function internally.</p>\n\n<pre><code>class OtherFunction implements Runnable {\n\n    @Override\n    public void run() {\n        while(true) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // We assume the thread will exit when interrupted.\n                System.out.println(\"Bye!!\");\n                return;\n            }\n            System.out.println(\"Hello\");\n        }\n    }\n}\n\n\nclass Killable implements Runnable {\n    final Runnable target;\n    private Thread itsThread;\n\n    Killable(Runnable target) {\n        this.target = target;\n    }\n\n    @Override\n    public void run() {\n        // Catch the thread id of the target.\n        itsThread = Thread.currentThread();\n        // Launch it.\n        target.run();\n    }\n\n    public void kill() {\n        // Give it a good kick.\n        itsThread.interrupt();\n    }\n}\n\npublic void test() throws InterruptedException {\n    OtherFunction theFunction = new OtherFunction();\n    Killable killableVersion = new Killable(theFunction);\n    new Thread(killableVersion).start();\n    // Wait for a few seconds.\n    Thread.sleep(10000);\n    // Kill it.\n    killableVersion.kill();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528796790, "post_id": 50812667, "comment_id": 88633121, "body": "Don&#39;t use <code>Thread#stop()</code>. Practically all programs that use it are invalid. It was deprecated in the release after it was added because it should never have existed. See my answer."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "reply_to_user": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528953429, "post_id": 50812667, "comment_id": 88702863, "body": "@Persixty yeah, Unfortunately the exception is thrown is a constructor, and the multiple constructor exceptions cause erasure of the class..."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528967102, "post_id": 50812667, "comment_id": 88710001, "body": "I&#39;m not sure what you mean by &#39;erasure of the class&#39; unless you mean throwing an exception in the constructor means results in not returning a fully constructed object. That&#39;s the right behaviour. You haven&#39;t provided enough about your use case to advise."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "reply_to_user": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528973371, "post_id": 50812667, "comment_id": 88713946, "body": "It means that the next time I try to instantiate a new instance of the MQQueueManager class, It results in NoClassDefError thrown"}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528974099, "post_id": 50812667, "comment_id": 88714360, "body": "You&#39;re getting that because the classes aren&#39;t <code>Thread#stop()</code>-safe and you calling it is leaving them corrupt. Here&#39;s an example where a <code>ThreadDeath</code> is thrown into a constructor and corrupts the environment in an otherwise safe class. <a href=\"https://ideone.com/qUqn6R\" rel=\"nofollow noreferrer\">ideone.com/qUqn6R</a>. But fear not there is a proper solution I understand correctly. There&#39;s limited space in these comments. I&#39;ll rough out the answer in the next comment. But your problem is really that the timeout is global. First thing is to confirm you can&#39;t locally override the setting. There may be obscure API for doing that. But if not..."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528975075, "post_id": 50812667, "comment_id": 88714896, "body": "You want to shorten or extend the timeout. Write a <code>Runnable</code> class that actually tries (and even keeps trying) to instantiate the class and run it in a parallel thread. How does this help? The Runnable controls a running/succeeded/failed flag and uses <code>this.notify()</code> to indicate a change of status. The main thread uses wait(long timeout) using your preferred timeout to wait on notification. If your timeout expires you set an <code>AtomicBoolean</code> in the <code>Runnable</code> that tells the constructor to &#39;stop&#39; cleanly. 100% safe and you have complete control over how long your main thread hangs around."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528975449, "post_id": 50812667, "comment_id": 88715148, "body": "The downside is the other thread will run on and consume resources for the remainder of its timeout even when you&#39;ve given up waiting. IMPORTANT: To produce a correct program you must eventually <code>join()</code> the other thread to make sure it really does finish cleanly and thereby may absorb a last bit of delay. Because MQ is dealing with system wide resources you can&#39;t risk the JVM itself killing the thread when your <code>main()</code> ends or you may cause different parts of the application the same woe. If your thread isn&#39;t the <code>main()</code> just do that at the end of your <code>run()</code> method."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528977047, "post_id": 50812667, "comment_id": 88716187, "body": "If your in the <code>main()</code> thread, you should add something to the end of <code>main()</code> that accesses a static list of not-yet-dead sub-threads. It needs to tell all of them to &quot;stop cleanly&quot; in one loop and <code>join()</code> the threads in a second loop. You need to be careful to add each thread to the collection during construction but can&#39;t remove themselves at the end of <code>run()</code> because a <code>Thread</code> itself has tear-down code after <code>run()</code>. So if you repeatedly do this you might need another thread to manage the threads or look at <code>ThreadGroup</code>,"}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1528977156, "post_id": 50812667, "comment_id": 88716267, "body": "It might sound like a load of work. But it isn&#39;t really. MQ is a resource outside your JVM (and even server). You can&#39;t risk corrupting it because your code doesn&#39;t tidy up after itself."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "reply_to_user": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1529386077, "post_id": 50812667, "comment_id": 88841751, "body": "@Persixty It does seem like a load of work, and I don&#39;t think it would prevent the stuck threads. The thread itself is stuck, it cannot exit(not even interrupt), and I think it would just keep a few more threads alive.."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "edited": false, "score": 0, "creation_date": 1529399859, "post_id": 50812667, "comment_id": 88848637, "body": "If the timeout isn&#39;t &#39;infinite&#39; it will work. Even if it&#39;s infinite you&#39;d ordinarily expect any good API to <i>eventually</i> succeed or return an error. But if <code>Thread#stop()</code> doesn&#39;t work (not surprised). The API isn&#39;t <code>Thread#interrupt()</code> friendly and it may run forever. The API doesn&#39;t offer some &#39;quit&#39; protocol of it&#39;s own, there&#39;s a problem. Ask another Question here and be clearer about your technology stack and the precise problem. Your problem isn&#39;t with the principles of how to &#39;quit&#39; threads in general. It&#39;s very domain specific to MQ."}], "tags": [], "owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "is_accepted": false, "score": 0, "last_activity_date": 1528792370, "creation_date": 1528792370, "answer_id": 50812667, "question_id": 50791081, "link": "https://stackoverflow.com/questions/50791081/killing-a-thread-or-an-asynchronous-task/50812667#50812667", "title": "Killing a thread or an asynchronous task", "body": "<p>It seems like <code>Thread#stop()</code> solved my problem. I know it's deprecated and can be prevented with <code>catch(Throwable t)</code> but at least it did the trick for me. </p>\n\n<p>By the way, to get the thread from the executor, I've used <code>AtomicReference&lt;Thread&gt;</code> and set it in the callback. </p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528813289, "post_id": 50813804, "comment_id": 88644208, "body": "As I&#39;ve stated before, this could help if the function executing the while loop would be accessible to me. Unfortunately I&#39;ve no way of editing this function. So that&#39;s why I need to just kill the thread"}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "reply_to_user": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528816679, "post_id": 50813804, "comment_id": 88646451, "body": "@AntilKarev So long as you&#39;re aware your code is unsafe and can&#39;t be made safe.  The answer is - find out how the framework lets you stop it cleanly or don&#39;t use that framework. No credible third-party software forces you to do things that way. Raise a question in some user forum or talk to the original author. Just don&#39;t think you&#39;ve fixed anything. It&#39;s just broken in a different and unpredictable way. In multi-threading that is usually a worse place to be. I know you said you can&#39;t touch that. Sounds like you can&#39;t fix it then."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "reply_to_user": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528816838, "post_id": 50813804, "comment_id": 88646536, "body": "@AntilKarev What is the &#39;jar IBM have created&#39;? It&#39;s below their usual standard to dump crap like that on you. I hope you&#39;ve missed the right answer and if not you&#39;re not paying money for it."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528953742, "post_id": 50813804, "comment_id": 88702944, "body": "well, it&#39;s ibm mq client jar. Unfortunately it&#39;s already embedded in the company I work in and we can&#39;t move to JMS, so currently I need to find a solution for this."}, {"owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "reply_to_user": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528966285, "post_id": 50813804, "comment_id": 88709454, "body": "@AntilKarev MQ is flagship professional quality stuff. I&#39;m not familiar with it&#39;s API but I&#39;m sure you or your company are using it wrong if the answer seems to be <code>Thread#stop()</code> or your company has included a way to stop it properly and you just haven&#39;t been told or found it yet. There&#39;s no way the IBM SE&#39;s think <code>thread.stop();</code> is valid code and wouldn&#39;t force you to use it."}, {"owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "edited": false, "score": 0, "creation_date": 1528973323, "post_id": 50813804, "comment_id": 88713921, "body": "well, when instantiating a new MQQueueManager and random network problems, it could get the thread stuck... There is some timeout I can set, but unfortunately this configuration is set globally for every application that is running on the machine, causing the same timeout for two possible running applications on the machine. But I need a run-time configurable timeout. So, the API is not so supportive, and actually even when I use <code>Thread#stop()</code> it eventually causes an erasure of the class from memory by the JVM."}], "tags": [], "owner": {"reputation": 6673, "user_id": 4213662, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/693430827/picture?type=large", "display_name": "Persixty", "link": "https://stackoverflow.com/users/4213662/persixty"}, "is_accepted": false, "score": 0, "last_activity_date": 1528804482, "last_edit_date": 1528804482, "creation_date": 1528795913, "answer_id": 50813804, "question_id": 50791081, "link": "https://stackoverflow.com/questions/50791081/killing-a-thread-or-an-asynchronous-task/50813804#50813804", "title": "Killing a thread or an asynchronous task", "body": "<p><code>Thread#stop()</code> is deprecated as 'inherently unsafe' and should be avoided if at all possible.</p>\n\n<p>It's a source of instability and corruption and may fail anyway!</p>\n\n<p>It actually causes a <code>ThreadDeath</code> exception to be throw in the target thread.\nThe authors of whatever code it pops into are unlikely to have expected that outcome.\nObjects may be in an inconsistent state, external resources may be held and get leaked, files may be incompletely written.</p>\n\n<p>There are ways of handling unexpected errors but in practice most code is written assuming it knows which exceptions might be thrown and not in anticipation for such a 'surprise'.</p>\n\n<p>Given <code>ThreadDeath</code> is a <code>Throwable</code> any <code>catch(Throwable t)</code> will catch it and again, unless great care was taken in every piece of code the thread might execute (unrealistic) <code>ThreadDeath</code> might just get absorbed and not end the thread.</p>\n\n<p>The correct way to handle this is declare an atomic variable (usually as part of the <code>Runnable</code> that represents the task.</p>\n\n<pre><code>AtomicBoolean stopThread=new AtomicBoolean(false);\n</code></pre>\n\n<p>Then write the loop as:</p>\n\n<pre><code> while (!stopThread.get()) {\n     System.out.println(1);\n }\n</code></pre>\n\n<p>And provide a method:</p>\n\n<pre><code>public void stopThread(){\n    stopThread.set(true);\n} \n</code></pre>\n\n<p>Alternatively you can use <code>interrupt()</code> and check <code>interrupted()</code>. These are cleaner methods provided in the <code>Thread</code> class. <code>interrupted()</code> has the behaviour of clearing the flag when called. That's not always helpful and while the flag can be examined by <code>Thread.currentThread().isInterrupted()</code> the 'checking the flag clears it' behaviour can be unhelpful and also suffers some of the issues of <code>stop()</code> because it can cause \"surprising\" exceptions to be throw at points other code has never anticipated. The right approach is to use your own flag and be in full control of where the process decides to quit.</p>\n\n<p>Take your pick.</p>\n\n<p>See also: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\" title=\"Java Thread Primitive Deprecation\">Java Thread Primitive Deprecation</a></p>\n\n<hr>\n\n<p>Ever wondered why when you click 'Cancel' on some concurrent process you are often made to wait ages for it to respond?\nThis is why. The task needs to come to a well defined point and do any necessary clean up to terminate in a well defined way.</p>\n\n<p>Think of <code>Thread#stop()</code> as like stopping a cyclist by kicking them off their bike. The method here waves a red flag at them and they then come to a halt as swiftly as they safely can.</p>\n\n<p><code>Thread#stop()</code> should never have been in Java and you should never use it.\nYou get away with it in development and small systems. It causes havoc in large production environments. \nIt's not just deprecated as 'not recommended' it is 'inherently unsafe' do not use it. \nIt's been deprecated for years and its disappointing that some 'removal date' has never been advertised.</p>\n\n<p>Here's an example that uses either <code>Thread#stop()</code> or <code>interrupt()</code> depending on whether you opt for being dangerous.</p>\n\n<pre><code>import java.lang.System;\nimport java.lang.Thread;\n\nclass Ideone\n{\n\n    private static boolean beDangerous=true;//Indicates if we're going to use the Thread#stop().... \n\n    //This main method uses either stop() or interrupt() depending on the option.\n    public static void main (String[] args) throws java.lang.Exception\n    {\n\n        PrimeFactor factor=new PrimeFactor();\n        try{\n    for(int i=1;i&lt;30;++i){\n        Thread thrd=new Thread(new Primer(factor));\n        thrd.start();\n\n        Thread.sleep(10);//Represents some concurrent processing...\n\n        if(beDangerous){\n            thrd.stop();\n        }else{\n            thrd.interrupt();\n        }\n        thrd.join();\n        if(!factor.check()){\n            System.out.println(\"Oops at \"+i);\n        }\n    }\n        }catch(Throwable t){\n            System.out.println(t);\n        }\n    }\n\n    //This class just hammers the PrimeFactor object until interrupt()ed (or stop()ed).\n    private static class Primer implements Runnable {\n\n        private PrimeFactor factor;\n\n        public Primer(PrimeFactor ifactor){\n            factor=ifactor;\n        }\n\n\n        public void run(){\n            int i=1;\n            while(!Thread.interrupted()){   \n                factor.set(i++);    \n        }\n           }\n    }\n\n    //Don't worry about this bit too much.\n    //It's a class that does a non-trivial calculation and that's all we need to know.\n    //\"You're not expected to understand this\". If you don't get the joke, Google it.\n\n    //This class calculates the largest prime factor of some given number.\n    //Here it represents a class that ensures internal consistency using synchronized.\n    //But if we use Thread#stop() this apprently thread-safe class will be broken.\n    private static class PrimeFactor {\n        private long num;\n        private long prime;\n\n        public static long getFactor(long num){\n            if(num&lt;=1){\n               return num;\n            }\n            long temp=num;\n            long factor=2;\n            for(int i=2;temp!=1;++i){\n                if(temp%i==0){\n                    factor=i;\n                    do{\n                        temp=temp/i;\n                    }while(temp%i==0);\n                }   \n            }\n            return factor;\n        } \n\n        public synchronized void set(long value){\n            num=value;\n            prime=getFactor(value);\n        }\n\n        public synchronized boolean check(){\n            return prime==getFactor(num);\n        }\n    }   \n}\n</code></pre>\n\n<p>Typical partial output:</p>\n\n<pre><code>Oops at 1\nOops at 2\nOops at 3\nOops at 6\nOops at 8\n</code></pre>\n\n<p>Notice that the <code>PrimeFactor</code> class can be described as thread-safe. All it's methods are <code>synchronized</code>. Imagine it's in some library. It's unrealistic to expect \"thread-safe\" to mean <code>Thread#stop()</code>-safe and the only way to do that would be intrusive. Putting calls to it in a  <code>try-catch(ThreadDeath tde)</code> block won't fix anything. The damage will have been down before it's caught.</p>\n\n<p>Don't convince yourself that changing <code>set()</code> to the following solves it:</p>\n\n<pre><code>public synchronized void set(long value){\n    long temp=getFactor(value);\n    num=value;\n    prime=temp;\n}\n</code></pre>\n\n<p>First and foremost the the <code>ThreadDeath</code> exception could throw during the assignments so all that does is potentially shorten the odds on the Race Condition. It hasn't been negated. Never make \"how likely is that to happen\" arguments about race conditions. Programs call methods billions of times so billion to one-shots come up regularly.</p>\n\n<p>To use <code>Thread#stop()</code> you can essentially never use any library objects including <code>java.*</code> and jump through hoops to handle <code>ThreadDeath</code> everywhere in your code and almost certainly eventually fail anyway.</p>\n"}], "owner": {"reputation": 51, "user_id": 9923376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2408625f29ab59cce3f859d875bd0bde?s=128&d=identicon&r=PG&f=1", "display_name": "Antil Karev", "link": "https://stackoverflow.com/users/9923376/antil-karev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1995, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1529386201, "creation_date": 1528695653, "last_edit_date": 1529386201, "question_id": 50791081, "link": "https://stackoverflow.com/questions/50791081/killing-a-thread-or-an-asynchronous-task", "title": "Killing a thread or an asynchronous task", "body": "<p>let's say I use a jar that IBM has created. \nLet's say that this Jar has a function that I need but is ultimately build as such:</p>\n\n<pre><code> while (true) {\n     System.out.println(1)\n }\n</code></pre>\n\n<p>(of course it doesn't really just printing 1, but for the example let's say it is)\nSo, I made the call to the function that does it in another thread using future. How can I completely kill the thread that this code is running in? Or alternatively, how can I kill the asynchronous task in Kotlin that runs the code.</p>\n\n<p>Solutions in Kotlin or Java will be great,\nthanks in advance!</p>\n\n<p>EDIT:</p>\n\n<p>I've found out, that if this is a thread, I can <code>Thread#stop()</code> it to really make it stop. But unfortunately making the constructor throwing exceptions multiple times, causes the JVM to erase the class from memory causing a <code>NoClassDefFoundError</code> when instantiating the class the next time.. </p>\n"}, {"tags": ["python", "kotlin"], "comments": [{"owner": {"reputation": 17, "user_id": 9775078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c307acbdbfebb642542beab0c42467?s=128&d=identicon&r=PG", "display_name": "homebred", "link": "https://stackoverflow.com/users/9775078/homebred"}, "edited": false, "score": 0, "creation_date": 1528695116, "post_id": 50789875, "comment_id": 88587880, "body": "OK. I changed the Int to Long.The result is 142913828922. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 9905419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/974bee73e2951e9f5e59a94b5a04b18a?s=128&d=identicon&r=PG&f=1", "display_name": "Avezan", "link": "https://stackoverflow.com/users/9905419/avezan"}, "is_accepted": false, "score": 2, "last_activity_date": 1528686864, "creation_date": 1528686864, "answer_id": 50790077, "question_id": 50789875, "link": "https://stackoverflow.com/questions/50789875/same-program-in-kotlin-produces-different-result-with-the-one-in-python/50790077#50790077", "title": "Same program in Kotlin produces different result with the one in Python", "body": "<p>This is a case of integer limit jumping (<em>overflow</em>).</p>\n\n<p>The output of python is correct. If you see actual value <code>142913828922</code> this is above 32bit limit of kotlin int i.e 2^37. I dont know kotlin code but you can use java equivalent <code>long</code> for this purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "is_accepted": false, "score": 2, "last_activity_date": 1528686909, "creation_date": 1528686909, "answer_id": 50790087, "question_id": 50789875, "link": "https://stackoverflow.com/questions/50789875/same-program-in-kotlin-produces-different-result-with-the-one-in-python/50790087#50790087", "title": "Same program in Kotlin produces different result with the one in Python", "body": "<p>Looks like an overflow on the part of Kotlin.  Kotlin is still limited to the JVM, and you're likely processing values which are <em>just</em> a bit too big for <code>Int</code>.</p>\n\n<p>If you convert everything in Kotlin to a <code>Long</code>, you get the same number as you do in Python.  Note:  Python implicitly converts large numbers over to a long-like type, so you don't have to do that on your own, but that's a striking difference between the two languages.</p>\n\n<pre><code>fun isPrime(n: Long): Boolean {\n    if (n == 1L) return false\n    else if (n &lt; 4) return true\n    else if (n % 2 == 0L) return false\n    else if (n &lt; 9) return true\n    else if (n % 3 == 0L) return false\n    else {\n        val r = floor(sqrt(n.toDouble())).toInt()\n        val r1 = floor(sqrt(n.toDouble()))\n        var f = 5\n        while (f &lt;= r) {\n            if (n % f == 0L) return false\n            else if (n % (f + 2L) == 0L) return false\n            f += 6\n        }\n        return true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9775078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c307acbdbfebb642542beab0c42467?s=128&d=identicon&r=PG", "display_name": "homebred", "link": "https://stackoverflow.com/users/9775078/homebred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528686909, "creation_date": 1528684962, "last_edit_date": 1528685136, "question_id": 50789875, "link": "https://stackoverflow.com/questions/50789875/same-program-in-kotlin-produces-different-result-with-the-one-in-python", "title": "Same program in Kotlin produces different result with the one in Python", "body": "<p>I wrote two functions in different languages according to the algorithm that tests the primality of a number given by the overview for Project Euler problem 7. I don't find any difference in these two functions, but they give me different results. Why?</p>\n\n<p>First one in Kotlin:</p>\n\n<pre><code>import kotlin.math.floor\nimport kotlin.math.sqrt\n\nfun isPrime(n: Int): Boolean {\n    if (n == 1) return false\n    else if (n &lt; 4) return true\n    else if (n % 2 == 0) return false\n    else if (n &lt; 9) return true\n    else if (n % 3 == 0) return false\n    else {\n        val r = floor(sqrt(n.toDouble())).toInt()\n        var f = 5\n        while (f &lt;= r) {\n            if (n % f == 0) return false\n            else if (n % (f + 2) == 0) return false\n            f += 6\n        }\n        return true\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    var sum = 5\n    var n = 5\n    while (n &lt;= 2000000) {\n        if (isPrime(n)) sum += n\n        n += 2\n        if (n &lt;= 2000000 &amp;&amp; isPrime(n)) sum += n\n        n += 4\n    }\n\n    println(sum)\n}\n</code></pre>\n\n<p>the output is 1179908154</p>\n\n<p>Then the one in Python:</p>\n\n<pre><code>import math\n\ndef isPrime(n):\n    if n==1 :\n        return False\n    elif n&lt;4 :\n        return True\n    elif n%2==0:\n        return False\n    elif n&lt;9:\n        return True\n    elif n%3==0:\n        return False\n    else:\n        r=math.floor(math.sqrt(n))\n        f=5\n        while(f&lt;=r):\n            if n%f==0:\n                return False\n            elif n%(f+2)==0:\n                return False\n            f+=6\n    return True\n\nsum =5\nn =5\nwhile n&lt;=2000000:\n    if isPrime(n):\n        sum+=n\n    n+=2\n    if n&lt;=2000000 and isPrime(n):\n        sum+=n\n    n+=4\nprint(sum)\n</code></pre>\n\n<p>The output is 142913828922</p>\n\n<p>These two program are same, but why they gave me different answer? \nAnd....\nFirst time ask a question in English. Sorry for the language.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528684689, "post_id": 50789777, "comment_id": 88585810, "body": "What do u mean by fancy? This is just one line of code with less than 50 chars, what else do you expect?"}, {"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 0, "creation_date": 1528691649, "post_id": 50789777, "comment_id": 88586995, "body": "I literally couldn&#39;t understand your question."}, {"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528692674, "post_id": 50789777, "comment_id": 88587256, "body": "same here. I don&#39;t understand."}], "owner": {"reputation": 86, "user_id": 8591583, "user_type": "registered", "profile_image": "https://graph.facebook.com/1670698302962777/picture?type=large", "display_name": "Zimin Byun", "link": "https://stackoverflow.com/users/8591583/zimin-byun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528692329, "creation_date": 1528683789, "last_edit_date": 1528692329, "question_id": 50789777, "link": "https://stackoverflow.com/questions/50789777/use-kotlin-android-extensions-in-custom-class", "title": "Use Kotlin android extensions in Custom class", "body": "<p><em>edited</em></p>\n\n<p>I'm using kotlin for my project. </p>\n\n<p>Especially, Kotlin android extensions. </p>\n\n<p>When activity or fragment there's no problem.</p>\n\n<p>I want to use this feature in my custom class. (without experitemtal layoutContainer)<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#layoutcontainer-support\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html#layoutcontainer-support</a></p>\n\n<p>Now I use extension by this way. </p>\n\n<pre><code>// some class \n// pass rootView \nval nameTextView1 by lazy {rootView.tv_name1}\nval nameTextView2 by lazy {rootView.tv_name2}\nval nameTextView3 by lazy {rootView.tv_name3}\nval nameTextView4 by lazy {rootView.tv_name4}\nval nameTextView5 by lazy {rootView.tv_name5}\n</code></pre>\n\n<p><s>do anyone know some fancy way?</s>\nI want to remove duplication of \"rootView\". any idea?</p>\n"}, {"tags": ["android", "math", "matrix", "kotlin", "opengl-es-2.0"], "comments": [{"owner": {"reputation": 28408, "user_id": 4504191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpYp6.png?s=128&g=1", "display_name": "kris larson", "link": "https://stackoverflow.com/users/4504191/kris-larson"}, "edited": false, "score": 0, "creation_date": 1529414319, "post_id": 50789295, "comment_id": 88857753, "body": "Don&#39;t know enough OpenGL or Kotlin to add an answer, plus I work mainly in the 2D Matrix class.  If the scale is focused on the center, then the solution is to translate the touch point to the center (touch minus center?), do the scaling, then translate the center back to the touch point (center minus touch).  I might have the subtractions backwards depending on how your matrices are set up."}], "owner": {"reputation": 1437, "user_id": 4470323, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3a990557f4f784e48a685acc71f927be?s=128&d=identicon&r=PG&f=1", "display_name": "Ololoking", "link": "https://stackoverflow.com/users/4470323/ololoking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1528928696, "creation_date": 1528678074, "last_edit_date": 1528716303, "question_id": 50789295, "link": "https://stackoverflow.com/questions/50789295/opengl-es-2-pinch-to-zoom-by-center-point-android", "title": "OpenGL ES 2 pinch to zoom by center point Android", "body": "<p>I have problems with implementing of pinch to zoom functionality in my app.</p>\n\n<p>Currently zoom works correctly, but I want to move center of the zoom from center of surface to middle point of touch.</p>\n\n<p>Here are parts of my <strong>Renderer</strong> class:</p>\n\n<pre><code>override fun onSurfaceChanged(gl: GL10?, width: Int, height: Int) {\n\n    this.width = width;\n    this.height = height;\n    GLES20.glViewport(0, 0, width, height)\n    aspectRatioGlobal = width.toFloat() / height.toFloat()\n    top = PORTRAIT_NEAR_LIMIT * Math.tan(60 * (Math.PI / 360.0)).toFloat()\n    bottom = -top;\n    left = bottom * aspectRatioGlobal\n    right = top * aspectRatioGlobal\n    Matrix.frustumM(projectionMatrix, 0, left, right, bottom, top, zNear, zFar)\n\n    ....\n\noverride fun onDrawFrame(gl: GL10?) {\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT)\n    Matrix.setIdentityM(intersectionUnprojectionMatrix, 0)\n    Matrix.setLookAtM(intersectionUnprojectionMatrix, 0, 0f, 0f, cameraZ, 0f, 0f, 0f, 0f, 1.0f, 0.0f)\n    if (!onImageLoaded) {\n        resizeImageOnStart(rectangle?.getImageParameters(context)!!)\n        displayImage()\n        onImageLoaded = true\n    } else {\n        Matrix.setIdentityM(modelViewMatrix, 0)\n        Matrix.setLookAtM(modelViewMatrix, 0, 0f, 0f, cameraZ, 0f, 0f, 0f, 0f, 1.0f, 0.0f)\n        // Matrix.translateM(modelViewMatrix, 0, cameraX, cameraY, 0f)\n        Matrix.scaleM(modelViewMatrix, 0, currentImageWidth, currentImageHeight, 1f)\n        Matrix.scaleM(modelViewMatrix, 0, scaleFactor, scaleFactor, 1f)\n        // Matrix.translateM(modelViewMatrix, 0, -cameraX, -cameraY, 0f)\n        Matrix.multiplyMM(resultMatrix, 0, projectionMatrix, 0, modelViewMatrix, 0)\n    }\n    rectangle?.draw(resultMatrix, context)\n\n    ....\n\nfun onScale(detector: ScaleGestureDetector) {\n    var center = getWorldCoordinatesByScreenCoordinates(detector.focusX, detector.focusY)\n    cameraX = center.x\n    cameraY = center.y\n    this.scaleFactor = detector.scaleFactor\n</code></pre>\n\n<p>Current logic:</p>\n\n<ul>\n<li><strong>ScaleGestureDetector</strong> catches event and sends it to the Renderer</li>\n<li>Renderer sets <strong>scaleFactor</strong> and calculates world coordinates of touch center (<strong>getWorldCoordinatesByScreenCoordinates</strong> method works correctly)</li>\n<li>onDrawFrame displayes modified data.</li>\n</ul>\n\n<p>The main problem is that I can't understand how correctly transform object. I was trying to translate the object, scale it and translate back again(translate lines are now commented), but this doesn't work.\nPlease help!</p>\n"}, {"tags": ["android", "kotlin", "payment", "mercadopago", "mercadopagosdk"], "comments": [{"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528692761, "post_id": 50789213, "comment_id": 88587288, "body": "Please provide your problem (is it error, or any unexpected result, what are you expecting), your stack traces, your codes that directly involved."}, {"owner": {"reputation": 367, "user_id": 9878149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160397430545015/picture?type=large", "display_name": "Luis Mendoza", "link": "https://stackoverflow.com/users/9878149/luis-mendoza"}, "reply_to_user": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528692866, "post_id": 50789213, "comment_id": 88587312, "body": "Is no exception, the thing is that I don&#39;t see any method which I could use to get the payment method"}], "owner": {"reputation": 367, "user_id": 9878149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160397430545015/picture?type=large", "display_name": "Luis Mendoza", "link": "https://stackoverflow.com/users/9878149/luis-mendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528676954, "creation_date": 1528676954, "question_id": 50789213, "link": "https://stackoverflow.com/questions/50789213/mercadopago-android-sdk-payment-method-by-cardnumber", "title": "Mercadopago android sdk payment method by cardnumber", "body": "<p>i'm stuck in getting the payment method of a cardnumber with the Mercadopago android sdk. I'm using a custom form and creating a CardToken, but for complete my request i need the payment method (\"visa\", \"master\", ...)</p>\n\n<p>I read the documentation but i couldn't find how to get it</p>\n\n<p>I think there's a method getPaymentMethodByBin, but i can't find it</p>\n\n<p>I'm using the version com.mercadopago:sdk:3.8.1</p>\n\n<p>I'm also using the <a href=\"https://github.com/braintree/android-card-form\" rel=\"nofollow noreferrer\">braintree payment form</a></p>\n\n<p>Thanks in advance for the help</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "edited": false, "score": 0, "creation_date": 1528675691, "post_id": 50789081, "comment_id": 88584474, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9825923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Galina Vitvitskaya", "link": "https://stackoverflow.com/users/9825923/galina-vitvitskaya"}, "edited": false, "score": 0, "creation_date": 1528757423, "post_id": 50790760, "comment_id": 88619915, "body": "This is my first ever project like this so a lot of it I was just learning on the fly as I was writing it. Thank you so much for explaining it!"}, {"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "reply_to_user": {"reputation": 31, "user_id": 9825923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Galina Vitvitskaya", "link": "https://stackoverflow.com/users/9825923/galina-vitvitskaya"}, "edited": false, "score": 0, "creation_date": 1528757480, "post_id": 50790760, "comment_id": 88619931, "body": "If it works for you, please accept the answer and vote up. :)"}], "tags": [], "owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "is_accepted": true, "score": 0, "last_activity_date": 1528721433, "last_edit_date": 1528721433, "creation_date": 1528693233, "answer_id": 50790760, "question_id": 50789081, "link": "https://stackoverflow.com/questions/50789081/change-imageview-src-from-alarmreceiver-kotlin/50790760#50790760", "title": "Change ImageView src from AlarmReceiver / Kotlin", "body": "<p>You mention this:</p>\n\n<blockquote>\n  <p>then the next time he opens the app</p>\n</blockquote>\n\n<p>It means you don't need AlarmReceiver for this.</p>\n\n<p>Beside, your <code>AlarmReceiver</code> code has lots of mistakes.</p>\n\n<p>When Android System called your <code>AlarmReceiver</code>, it runs in the background and when it tries to call your <code>MainActivity</code> (which is not even started, because you just instantiate it as an object), of course it will throw <code>NullPointerException</code>.</p>\n\n<p><strong>Solution:</strong></p>\n\n<ol>\n<li><p>Saved the last time User open your app in <code>SharedPreferences</code> (let's say it's called <code>savedDate</code>). </p></li>\n<li><p>Whenever the User open the app again, before you showed the image or daily cards, check whether it's still the same date with your <code>savedDate</code> in your <code>SharedPreferences</code>.</p></li>\n<li><p>If it's different day, you can use <code>refreshdailycard()</code>. If it's same, do whatever you want.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 6112631, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ucGx65zoI0c/AAAAAAAAAAI/AAAAAAAAAqo/pU-dkanmRNQ/photo.jpg?sz=128", "display_name": "yeshu", "link": "https://stackoverflow.com/users/6112631/yeshu"}, "is_accepted": false, "score": 0, "last_activity_date": 1528694038, "creation_date": 1528694038, "answer_id": 50790856, "question_id": 50789081, "link": "https://stackoverflow.com/questions/50789081/change-imageview-src-from-alarmreceiver-kotlin/50790856#50790856", "title": "Change ImageView src from AlarmReceiver / Kotlin", "body": "<pre><code>MainActivity().refreshdailycard()\n</code></pre>\n\n<p>This is where you got it wrong. Your ImageView is a part of activity view which is drawn on to the screen when the activity is shown to the user not when you create an instance of activity. Doing it in AlaramManager is a wrong way of doing it. Follow the solution provided by the Yosi Pramajaya. </p>\n"}], "owner": {"reputation": 31, "user_id": 9825923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Galina Vitvitskaya", "link": "https://stackoverflow.com/users/9825923/galina-vitvitskaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 50790760, "answer_count": 2, "score": 0, "last_activity_date": 1528731320, "creation_date": 1528675276, "last_edit_date": 1528731320, "question_id": 50789081, "link": "https://stackoverflow.com/questions/50789081/change-imageview-src-from-alarmreceiver-kotlin", "title": "Change ImageView src from AlarmReceiver / Kotlin", "body": "<p>I have an app that has an ImageView in it's MainActivity. And I'm trying to make it so that the image resets back to \"backing\" every midnight. So basically the user clicks the image, lets say, on May 24th and then the next time he opens the app it checks if it's a new day and resets the image to \"backing\". I managed to call up AlarmReceiver. But now whenever I'm trying to use <code>cardback.setImageRes(R.drawable.backing)</code> inside <code>refreshdailycard()</code> it throws a NullPointerException. </p>\n\n<p>Any help would be appreciated. </p>\n\n<p>Main Activity</p>\n\n<pre><code> package com.example.godseye\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\nimport android.app.AlarmManager\nimport android.content.Context\nimport android.app.PendingIntent\nimport android.app.PendingIntent.getActivity\nimport android.support.constraint.ConstraintLayout\nimport android.widget.ImageView\nimport android.widget.TextView\nimport com.example.godseye.R.id.imageView\n\n\n\nclass MainActivity : AppCompatActivity() {\n    var dailycardshown=\" \"\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if(dailycardshown==\" \" )\n        { cardback.setImageResource(R.drawable.backing) }\n        if(cardback.drawable.constantState == resources.getDrawable(R.drawable.backing).constantState)\n        { dailycardshown=\" \" }\n        val singlecardintent = Intent(baseContext, SingleCard::class.java)\n        val readingintent = Intent(baseContext, GetReading::class.java)\n        val databaseintent = Intent(baseContext, TarotDatabase::class.java)\n        val aboutintent = Intent(baseContext, ProjectAbout::class.java)\n        cardback.setOnClickListener { _ -&gt;\n            if (dailycardshown == \" \") {\n                dailycardshown = choosedailycard()\n                refreshdailycard()\n                val res = resources\n                val resID = res.getIdentifier(dailycardshown, \"drawable\", packageName)\n                cardback.setImageResource(resID)\n                setRecurringAlarm(baseContext)\n\n            } else {\n                singlecardintent.putExtra(\"card\",dailycardshown)\n                startActivity(singlecardintent)\n            }\n        }\n        contrcontainer.setOnClickListener { _-&gt; startActivity(readingintent) }\n        database.setOnClickListener{ _-&gt; startActivity(databaseintent)}\n        aboutcontrainer.setOnClickListener { _-&gt; startActivity(aboutintent)}\n    }\n    fun choosedailycard():String {\n        val cardnames=resources.getStringArray(R.array.cardnames)\n        var dailycard=ran(1,3)\n        return cardnames[dailycard]\n\n\n    }\n\n    fun ran(from: Int, to: Int) : Int {\n        val random = Random()\n        return random.nextInt(to - from) + from\n    }\n\n    fun refreshdailycard(){\n        dailycardshown= \" \"\n    }\n\n    private fun setRecurringAlarm(context: Context) {\n\n        val updateTime = Calendar.getInstance()\n        updateTime.timeZone = TimeZone.getTimeZone(\"GMT\")\n        updateTime.set(Calendar.HOUR_OF_DAY, 19)\n        updateTime.set(Calendar.MINUTE, 54)\n        val refresher = Intent(context, AlarmReceiver::class.java)\n        val recurringDownload = PendingIntent.getBroadcast(context, 0, refresher, PendingIntent.FLAG_CANCEL_CURRENT)\n        val alarms = baseContext.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarms.setInexactRepeating(AlarmManager.RTC_WAKEUP, updateTime.timeInMillis, AlarmManager.INTERVAL_DAY, recurringDownload)\n    }\n\n}\n</code></pre>\n\n<p>Alarm Receiver</p>\n\n<pre><code>package com.example.godseye\n\nimport android.content.Intent\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.util.Log\n\n\nclass AlarmReceiver : BroadcastReceiver()  {\n\n    override fun onReceive(context: Context, intent: Intent) {\n        Log.d(DEBUG_TAG, \"Reccuring alarm for refresh backcard\")\n        val main = Intent(context, MainActivity::class.java)\n        MainActivity().refreshdailycard()\n    }\n\n    companion object {\n\n        private val DEBUG_TAG = \"AlarmReceiver\"\n    }\n\n}\n</code></pre>\n"}, {"tags": ["arrays", "string", "kotlin", "contains"], "answers": [{"comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 2, "creation_date": 1528673838, "post_id": 50788929, "comment_id": 88584184, "body": "For case-insensitive check, it should be <code>keywords.filter { content.contains(it, true) }</code>"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1528674252, "post_id": 50788929, "comment_id": 88584238, "body": "@MichaelButscher Thanks for noticing, I&#39;ve edited the answer."}, {"owner": {"reputation": 749, "user_id": 6854489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cb66e283a222e78f3fe5f45e1eb0406?s=128&d=identicon&r=PG&f=1", "display_name": "takanuva15", "link": "https://stackoverflow.com/users/6854489/takanuva15"}, "edited": false, "score": 0, "creation_date": 1528682032, "post_id": 50788929, "comment_id": 88585411, "body": "Looks great, but another question though: how could I change search to a boolean function that only returns whether or not a keyword was found in content? Is there an easy one-liner solution to that?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 9, "creation_date": 1528699241, "post_id": 50788929, "comment_id": 88589392, "body": "Replace <code>filter</code> with <code>any</code>."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 21, "last_activity_date": 1528674112, "last_edit_date": 1528674112, "creation_date": 1528673496, "answer_id": 50788929, "question_id": 50788839, "link": "https://stackoverflow.com/questions/50788839/test-if-string-contains-anything-from-an-array-of-strings-kotlin/50788929#50788929", "title": "Test if string contains anything from an array of strings (kotlin)", "body": "<p>You can use the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"noreferrer\"><code>filter</code></a> function to leave only those keywords contained in <code>content</code>:</p>\n\n<pre><code>val match = keywords.filter { it in content }\n</code></pre>\n\n<p>Here <code>match</code> is a <code>List&lt;String&gt;</code>. If you want to get an array in the result, you can add <code>.toTypedArray()</code> call.</p>\n\n<p><code>in</code> operator in the expression <code>it in content</code> is the same as <code>content.contains(it)</code>.</p>\n\n<p>If you want to have case insensitive match, you need to specify <code>ignoreCase</code> parameter when calling <code>contains</code>:</p>\n\n<pre><code>val match = keywords.filter { content.contains(it, ignoreCase = true) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 749, "user_id": 6854489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cb66e283a222e78f3fe5f45e1eb0406?s=128&d=identicon&r=PG&f=1", "display_name": "takanuva15", "link": "https://stackoverflow.com/users/6854489/takanuva15"}, "edited": false, "score": 0, "creation_date": 1529338796, "post_id": 50789512, "comment_id": 88827490, "body": "How would I modify it to match whole keywords only? (Eg If my keyword is &#39;foo&#39;, I only want to match the word &#39;foo&#39; in the sentence, and not &#39;food&#39;)"}, {"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "reply_to_user": {"reputation": 749, "user_id": 6854489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cb66e283a222e78f3fe5f45e1eb0406?s=128&d=identicon&r=PG&f=1", "display_name": "takanuva15", "link": "https://stackoverflow.com/users/6854489/takanuva15"}, "edited": false, "score": 0, "creation_date": 1529353846, "post_id": 50789512, "comment_id": 88834051, "body": "@takanuva15 <code>keywords.joinToString(prefix = &quot;(?i)\\\\b&quot;, separator = &quot;\\\\b|\\\\b&quot;, postfix = &quot;\\\\b&quot;)</code>"}], "tags": [], "owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "is_accepted": false, "score": 3, "last_activity_date": 1528680880, "creation_date": 1528680880, "answer_id": 50789512, "question_id": 50788839, "link": "https://stackoverflow.com/questions/50788839/test-if-string-contains-anything-from-an-array-of-strings-kotlin/50789512#50789512", "title": "Test if string contains anything from an array of strings (kotlin)", "body": "<p>Another obvious choice is using a regex doing case-insensitive matching:</p>\n\n<pre><code>arrayOf(\"foo\", \"bar\", \"spam\").joinToString(prefix = \"(?i)\", separator = \"|\").toRegex())\n</code></pre>\n\n<p>Glues together a pattern with a prefixed inline <code>(?i)</code> incase-sensitive modifier, and alternations between the keywords: <code>(?i)foo|bar|spam</code></p>\n\n<p><a href=\"https://ideone.com/IPX5KV\" rel=\"nofollow noreferrer\">Sample Code</a>:</p>\n\n<pre><code>private val keywords = arrayOf(\"foo\", \"bar\", \"spam\")\nprivate val pattern = keywords.joinToString(prefix = \"(?i)\", separator = \"|\")\nprivate val rx = pattern.toRegex()\n\nfun findKeyword(content: String): ArrayList&lt;String&gt; { \n    var result = ArrayList&lt;String&gt;()\n    rx.findAll(content).forEach { result.add(it.value) }\n    return result\n}\n\nfun main(args: Array&lt;String&gt;) { \n    println(findKeyword(\"Some spam and a lot of bar\"));\n}\n</code></pre>\n\n<p>The regex approach could be handy if you are after some more complex matching, e.g. non-/overlapping matches adding word boundaries <code>\\b</code>, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 5826, "user_id": 535060, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Fqlon.jpg?s=128&g=1", "display_name": "Somaiah Kumbera", "link": "https://stackoverflow.com/users/535060/somaiah-kumbera"}, "edited": false, "score": 0, "creation_date": 1615455998, "post_id": 62535129, "comment_id": 117697919, "body": "Why would you rewrite the wheel?"}], "tags": [], "owner": {"reputation": 871, "user_id": 4598791, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/20ec3d31645bddf4cd9727d10858357b?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/4598791/ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1592916598, "creation_date": 1592916598, "answer_id": 62535129, "question_id": 50788839, "link": "https://stackoverflow.com/questions/50788839/test-if-string-contains-anything-from-an-array-of-strings-kotlin/62535129#62535129", "title": "Test if string contains anything from an array of strings (kotlin)", "body": "<p>Here is my approach without Streams:</p>\n<pre><code>fun String.containsAnyOfIgnoreCase(keywords: List&lt;String&gt;): Boolean {\n    for (keyword in keywords) {\n        if (this.contains(keyword, true)) return true\n    }\n    return false\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>&quot;test string&quot;.containsAnyOfIgnoreCase(listOf(&quot;abc&quot;,&quot;test&quot;))\n</code></pre>\n"}], "owner": {"reputation": 749, "user_id": 6854489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cb66e283a222e78f3fe5f45e1eb0406?s=128&d=identicon&r=PG&f=1", "display_name": "takanuva15", "link": "https://stackoverflow.com/users/6854489/takanuva15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11668, "favorite_count": 0, "accepted_answer_id": 50788929, "answer_count": 3, "score": 13, "last_activity_date": 1592916598, "creation_date": 1528672446, "last_edit_date": 1528673023, "question_id": 50788839, "link": "https://stackoverflow.com/questions/50788839/test-if-string-contains-anything-from-an-array-of-strings-kotlin", "title": "Test if string contains anything from an array of strings (kotlin)", "body": "<p>I'm new to Kotlin (I have a Java background) and I can't seem to figure out how to check whether a string contains a match from a list of keywords.</p>\n\n<p>What I want to do is check if a string contains a match from an array of keywords <strong>(case-insensitive please)</strong>. If so, print out the keyword(s) that was matched and the string that contained the keyword. (I will be looping over a bunch of strings in a file).</p>\n\n<p>Here's an MVE for starters:</p>\n\n<pre><code>val keywords = arrayOf(\"foo\", \"bar\", \"spam\")\n\nfun search(content: String) {\n    var match = &lt;return an array of the keywords that content contained&gt;\n    if(match.size &gt; 0) {\n          println(\"Found match(es): \" + match + \"\\n\" + content)\n    }\n}   \n\nfun main(args: Array&lt;String&gt;) {\n    var str = \"I found food in the barn\"\n    search(str) //should print out that foo and bar were a match\n}\n</code></pre>\n\n<p>As a start (this ignores the 'match' variable and getting-a-list-of-keywords-matched), I tried using the following if statement according with what I found at <a href=\"https://stackoverflow.com/questions/8992100/test-if-a-string-contains-any-of-the-strings-from-an-array\">this question</a>,</p>\n\n<pre><code>if(Arrays.stream(keywords).parallel().anyMatch(content::contains))\n</code></pre>\n\n<p>but it put a squiggly line under \"content\" and gave me this error</p>\n\n<blockquote>\n  <p>None of the following functions can be called with the arguments\n  supplied:  public operator fun CharSequence.contains(char: Char,\n  ignoreCase: Boolean = ...): Boolean defined in kotlin.text public\n  operator fun CharSequence.contains(other: CharSequence, ignoreCase:\n  Boolean = ...): Boolean defined in kotlin.text @InlineOnly public\n  inline operator fun CharSequence.contains(regex: Regex): Boolean\n  defined in kotlin.text</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "okhttp"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528666490, "post_id": 50788229, "comment_id": 88582806, "body": "Why not convert to string using OkHttp then store in DB? Also show your code."}, {"owner": {"reputation": 75, "user_id": 4418073, "user_type": "registered", "profile_image": "https://graph.facebook.com/1828024903/picture?type=large", "display_name": "Bernardo Ferrari", "link": "https://stackoverflow.com/users/4418073/bernardo-ferrari"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528666821, "post_id": 50788229, "comment_id": 88582874, "body": "Edit: updated question. // There is nothing special, really. Just this println(String(response.body()!!.bytes())) already toggles the problem. I might, if there is no solution, but if I convert using OkHttp mysterious string function, I need to check if it is not a file or anything else, so it doesn&#39;t corrupts an image."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528667241, "post_id": 50788229, "comment_id": 88582973, "body": "You need to check the Content-Type encoding. From the OKHttp JavaDoc: <i>the response as a string decoded with the charset of the Content-Type header. If that header is either absent or lacks a charset, this will attempt to decode the response body in accordance to its BOM or UTF-8.</i>"}, {"owner": {"reputation": 75, "user_id": 4418073, "user_type": "registered", "profile_image": "https://graph.facebook.com/1828024903/picture?type=large", "display_name": "Bernardo Ferrari", "link": "https://stackoverflow.com/users/4418073/bernardo-ferrari"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528667465, "post_id": 50788229, "comment_id": 88583024, "body": "I did try this. I even imported OkHttp code to work with my own, but, since Google is UTF-8 and most Android&#39;s method related to String are UTF-8, including String(), I removed to make the sample more brief."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1528708073, "post_id": 50788229, "comment_id": 88594122, "body": "But if OkHttp&#39;s <code>string()</code> returns the correct string, then you imported the code wrong."}], "owner": {"reputation": 75, "user_id": 4418073, "user_type": "registered", "profile_image": "https://graph.facebook.com/1828024903/picture?type=large", "display_name": "Bernardo Ferrari", "link": "https://stackoverflow.com/users/4418073/bernardo-ferrari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1077, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528667030, "creation_date": 1528666282, "last_edit_date": 1528667030, "question_id": 50788229, "link": "https://stackoverflow.com/questions/50788229/how-to-convert-response-body-from-bytearray-to-string-without-using-okhttp-owns", "title": "How to convert response body from byteArray to string without using OkHttp own&#39;s string method and without loosing information?", "body": "<p>I am having the following situation:</p>\n\n<ul>\n<li>OkHttp Call</li>\n<li>store in db the result from: response.body.bytes()</li>\n<li>retrieve later the result</li>\n<li>convert to string</li>\n</ul>\n\n<p>Problem is: when converting OkHttp result from byteArray to string, special characters (like '\u00e9', '\u00e3', '\u00fa') are replaced by \ufffd. If I just use response.body.string() things work fine, but I have no idea what is going on. Even making a request to google.com.br (or from any other region) toggles this problem, and they are using UTF-8 for sure.</p>\n\n<p>I tried <code>String(byteArray, charset = UTF-8)</code> and a lot of similar methods. Nothing worked so far.</p>\n\n<p>So I would like to know, how do I convert the okHttp byteArray result to String without loosing the special characters?</p>\n\n<p>Edit: just this simple code already triggers the problem for me:</p>\n\n<blockquote>\n  <p>val client = OkHttpClient()</p>\n  \n  <p>val request = Request.Builder()\n    .url(\"<a href=\"https://www.google.com.br\" rel=\"nofollow noreferrer\">https://www.google.com.br</a>\")\n    .build()</p>\n  \n  <p>val response = client.newCall(request).execute()</p>\n  \n  <p>val bytes = response.body()!!.bytes()</p>\n  \n  <p>println(String(bytes))</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1528659833, "post_id": 50787420, "comment_id": 88581185, "body": "Also see <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#lambda-parameters\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1528699037, "last_edit_date": 1528699037, "creation_date": 1528659680, "answer_id": 50787420, "question_id": 50787314, "link": "https://stackoverflow.com/questions/50787314/let-inside-let-in-kotlin-how-to-access-the-first-it/50787420#50787420", "title": "`let` inside `let` in Kotlin: how to access the first `it`", "body": "<p>No it's not possible and you should definitely use explicit names for the parameters in such use cases:</p>\n\n<pre><code>someMethodCall()?.let{ v1-&gt;\n    // ....\n    // some code here\n    // ....\n\n    someMethod2Call()?.let { v2-&gt;\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "is_accepted": true, "score": 24, "last_activity_date": 1528659873, "creation_date": 1528659873, "answer_id": 50787444, "question_id": 50787314, "link": "https://stackoverflow.com/questions/50787314/let-inside-let-in-kotlin-how-to-access-the-first-it/50787444#50787444", "title": "`let` inside `let` in Kotlin: how to access the first `it`", "body": "<p><code>it</code> is a default name for the lambda argument. <code>it</code> is convenient for short lambdas, but you should not use it for longer lambdas. For longer lambdas make the code more readable by specifying an explicit argument name:</p>\n\n<pre><code>someMethodCall()?.let {\n    resultCall -&gt;\n    // ... some code that uses \"resultCall\" instead of \"it\" ...\n}\n</code></pre>\n\n<p>Use different names to avoid shadowing of the variable in the inner block as in your example:</p>\n\n<pre><code>someMethodCall()?.let {\n    resultCall -&gt;\n    // ... some code here ...\n    someMethod2Call()?.let {\n        resultCall2 -&gt;\n        // ...\n        val myVariable = resultCall2 + resultCall\n        // ... \n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 1, "last_activity_date": 1528660660, "creation_date": 1528660660, "answer_id": 50787538, "question_id": 50787314, "link": "https://stackoverflow.com/questions/50787314/let-inside-let-in-kotlin-how-to-access-the-first-it/50787538#50787538", "title": "`let` inside `let` in Kotlin: how to access the first `it`", "body": "<p>It helps if you name your variables.</p>\n\n<pre><code>someMethodCall()?.let { resultCall -&gt;\n    // ....\n    // some code here\n    // ....\n    someMethod2Call()?.let { otherResult -&gt;\n        // ...\n        val myVariable = resultCall + otherResult\n        // ... \n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "is_accepted": false, "score": 0, "last_activity_date": 1539793339, "creation_date": 1539793339, "answer_id": 52859466, "question_id": 50787314, "link": "https://stackoverflow.com/questions/50787314/let-inside-let-in-kotlin-how-to-access-the-first-it/52859466#52859466", "title": "`let` inside `let` in Kotlin: how to access the first `it`", "body": "<p>you can use this way</p>\n\n<pre><code>  someMethodCall()?.let{ nameOne -&gt;\n       // ....\n       // some code here\n       // ....\n       val resultCall = nameOne\n       someMethod2Call()?.let { -&gt; nameTwo\n          // ...\n          val myVariable = nameTwo + resultCall\n          // ... \n      }\n }\n</code></pre>\n"}], "owner": {"reputation": 7265, "user_id": 3457177, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae2e85ed6794ece744ee124d9ac7842?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/3457177/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3394, "favorite_count": 1, "accepted_answer_id": 50787444, "answer_count": 4, "score": 9, "last_activity_date": 1539793339, "creation_date": 1528658989, "question_id": 50787314, "link": "https://stackoverflow.com/questions/50787314/let-inside-let-in-kotlin-how-to-access-the-first-it", "title": "`let` inside `let` in Kotlin: how to access the first `it`", "body": "<p>I have one <code>let</code> inside another one</p>\n\n<pre><code>    someMethodCall()?.let{\n        // ....\n        // some code here\n        // ....\n        val resultCall = it\n        someMethod2Call()?.let {\n            // ...\n            val myVariable = it + resultCall\n            // ... \n        }\n    }\n</code></pre>\n\n<p>Is it possible in Kotlin inside the second <code>let</code> get access to <code>it</code> of first <code>let</code> and avoid using <code>resultCall</code> variable?</p>\n"}, {"tags": ["android", "kotlin", "localization"], "comments": [{"owner": {"reputation": 573, "user_id": 3678849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q20WH.jpg?s=128&g=1", "display_name": "RuNo280", "link": "https://stackoverflow.com/users/3678849/runo280"}, "edited": false, "score": 0, "creation_date": 1528650693, "post_id": 50785840, "comment_id": 88578706, "body": "You can use Android Studio Java to Kotlin convertor =&gt; Menu -&gt; Code -&gt; Convert Java file to Kotlin file."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1528651217, "post_id": 50785840, "comment_id": 88578846, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2900023/change-app-language-programmatically-in-android\">Change app language programmatically in Android</a>"}, {"owner": {"reputation": 4178, "user_id": 4905220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0ec6aa9e18f75ce066df1efaf5bb15e7?s=128&d=identicon&r=PG", "display_name": "Arash Hatami", "link": "https://stackoverflow.com/users/4905220/arash-hatami"}, "reply_to_user": {"reputation": 573, "user_id": 3678849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q20WH.jpg?s=128&g=1", "display_name": "RuNo280", "link": "https://stackoverflow.com/users/3678849/runo280"}, "edited": false, "score": 0, "creation_date": 1528651909, "post_id": 50785840, "comment_id": 88579015, "body": "Converted codes did not work @Ruhollah\u30c4"}, {"owner": {"reputation": 4178, "user_id": 4905220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0ec6aa9e18f75ce066df1efaf5bb15e7?s=128&d=identicon&r=PG", "display_name": "Arash Hatami", "link": "https://stackoverflow.com/users/4905220/arash-hatami"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1528651944, "post_id": 50785840, "comment_id": 88579032, "body": "I saw them but non of them worked for me in Kotlin @Zoe"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1528651983, "post_id": 50785840, "comment_id": 88579040, "body": "@ArashHatami Kotlin is Android. It&#39;s the same SDK, just different syntax. You&#39;re using it wrong with the new one, you have to use the context returned from createConfigurationContext, all which is mentioned in the target duplicate."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 3, "creation_date": 1528652246, "post_id": 50785840, "comment_id": 88579094, "body": "As for the edit: the fact that they&#39;re written in Java is completely irrelevant. You have to use the appropriate APIs and not create a hackish solution combining old, deprecated API&#39;s with new ones."}], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 3837015, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002667876553/picture?type=large", "display_name": "Anbuselvan Rocky", "link": "https://stackoverflow.com/users/3837015/anbuselvan-rocky"}, "edited": false, "score": 0, "creation_date": 1571683812, "post_id": 56630533, "comment_id": 103314887, "body": "After spinner selection, the language should load accordingly? How to do that?"}, {"owner": {"reputation": 1331, "user_id": 7639019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gzc1.jpg?s=128&g=1", "display_name": "Seddiq Sorush", "link": "https://stackoverflow.com/users/7639019/seddiq-sorush"}, "reply_to_user": {"reputation": 440, "user_id": 3837015, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002667876553/picture?type=large", "display_name": "Anbuselvan Rocky", "link": "https://stackoverflow.com/users/3837015/anbuselvan-rocky"}, "edited": false, "score": 0, "creation_date": 1571997639, "post_id": 56630533, "comment_id": 103431925, "body": "@AnbuselvanRocky, I edited the post, hope this help you"}, {"owner": {"reputation": 740, "user_id": 4807429, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/RFvFI.jpg?s=128&g=1", "display_name": "CNugteren", "link": "https://stackoverflow.com/users/4807429/cnugteren"}, "edited": false, "score": 0, "creation_date": 1603204489, "post_id": 56630533, "comment_id": 113958983, "body": "Note that in case of using an AppCompatActivity activity this answer is not sufficient, you should also follow the guidelines given in <a href=\"https://stackoverflow.com/a/58004553/4807429\">this other question</a>. In case it might be of help to anyone, <a href=\"https://github.com/CNugteren/NLWeer/pull/20/files\" rel=\"nofollow noreferrer\">here</a> is a full diff of a working locale change implementation based on these two answers."}], "tags": [], "owner": {"reputation": 1331, "user_id": 7639019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gzc1.jpg?s=128&g=1", "display_name": "Seddiq Sorush", "link": "https://stackoverflow.com/users/7639019/seddiq-sorush"}, "is_accepted": false, "score": 9, "last_activity_date": 1581252302, "last_edit_date": 1581252302, "creation_date": 1560771462, "answer_id": 56630533, "question_id": 50785840, "link": "https://stackoverflow.com/questions/50785840/change-locale-programmatically-in-kotlin/56630533#56630533", "title": "Change locale programmatically in Kotlin", "body": "<p>Create a Context helper class let's say </p>\n\n<pre><code>class ApplicationLanguageHelper(base: Context) : ContextThemeWrapper(base, R.style.AppTheme) {\ncompanion object {\n\n    fun wrap(context: Context, language: String): ContextThemeWrapper {\n        var context = context\n        val config = context.resources.configuration\n        if (language != \"\") {\n            val locale = Locale(language)\n            Locale.setDefault(locale)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                setSystemLocale(config, locale)\n            } else {\n                setSystemLocaleLegacy(config, locale)\n            }\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n                config.setLayoutDirection(locale)\n                context = context.createConfigurationContext(config)\n            } else {\n                context.resources.updateConfiguration(config, context.resources.displayMetrics)\n            }\n        }\n        return ApplicationLanguageHelper(context)\n    }\n\n    @SuppressWarnings(\"deprecation\")\n    fun setSystemLocaleLegacy(config: Configuration, locale: Locale) {\n        config.locale = locale\n    }\n\n    @TargetApi(Build.VERSION_CODES.N)\n    fun setSystemLocale(config: Configuration, locale: Locale) {\n        config.setLocale(locale)\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And in your Activity you can override attachBaseContext</p>\n\n<pre><code>    override fun attachBaseContext(newBase: Context?) {\n    super.attachBaseContext(ApplicationLanguageHelper.wrap(newBase!!, \"fa\"))\n}\n</code></pre>\n\n<p>To Change the language you can use a Spinner or any other preferred way, to call the following method OnClick</p>\n\n<pre><code>   private fun changeApplicationLanguage(language:String){\n    val sharedPreferencesEditor = sharedPreferences.edit()\n    when (language) {\n        ENGLISH -&gt; sharedPreferencesEditor?.putString(SELECTED_LANGUAGE, ENGLISH)\n        PERSIAN -&gt; sharedPreferencesEditor?.putString(SELECTED_LANGUAGE, PERSIAN)\n        PASHTO -&gt; sharedPreferencesEditor?.putString(SELECTED_LANGUAGE, PASHTO)\n    }\n    sharedPreferencesEditor.putBoolean(LANGUAGE_IS_SELECTED, true)\n    sharedPreferencesEditor?.apply()\n    recreate()\n}\n</code></pre>\n\n<p>make sure you define <code>sharedPreferences</code> and also <code>SELECTED_LANGUAGE</code> , <code>ENGLISH</code> etc, consts</p>\n\n<pre><code>const val SELECTED_LANGUAGE = \"language\"\nconst val ENGLISH = \"en\"\nconst val PERSIAN = \"fa\"\nconst val PASHTO = \"ps\"\n\n private lateinit var sharedPreferences: SharedPreferences\n</code></pre>\n\n<p>and also initialize <code>sharedPreferences</code> in <code>onCreate</code> method after <code>setContent</code></p>\n\n<pre><code>sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this@Your_Activity_Name)\n</code></pre>\n\n<p>also Override the base context by adding the following code</p>\n\n<pre><code> // Overwrite the context\noverride fun attachBaseContext(newBase: Context?) {\n    sharedPreferences = PreferenceManager.getDefaultSharedPreferences(newBase)\n    val lang = sharedPreferences.getString(SELECTED_LANGUAGE, \"en\")\n    super.attachBaseContext(ApplicationLanguageHelper.wrap(newBase!!, lang!!))\n}\n</code></pre>\n\n<p>I am sure this method is not an optimal solution, but, this might help</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13936249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gh8r2lCgeAw9VY3sSHXGrK9n_Voh2zfaYbHDPmriA=k-s128", "display_name": "Kavya Goyal", "link": "https://stackoverflow.com/users/13936249/kavya-goyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1610916859, "creation_date": 1610916859, "answer_id": 65765833, "question_id": 50785840, "link": "https://stackoverflow.com/questions/50785840/change-locale-programmatically-in-kotlin/65765833#65765833", "title": "Change locale programmatically in Kotlin", "body": "<p>Try this</p>\n<pre><code>fun setAppLocale(languageFromPreference: String?, context: Context) \n{\n    \n    if (languageFromPreference != null) {\n\n        val resources: Resources = context.resources\n        val dm: DisplayMetrics = resources.displayMetrics\n        val config: Configuration = resources.configuration\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n            config.setLocale(Locale(languageFromPreference.toLowerCase(Locale.ROOT)))\n        } else {\n            config.setLocale(Locale(languageFromPreference.toLowerCase(Locale.ROOT)))\n        }\n        resources.updateConfiguration(config, dm)\n    }\n}\n</code></pre>\n<p>You can set the App Locale within activities by accessing this function from the activities</p>\n<pre><code>    ..\n    super.onCreate(savedInstanceState)\n    setAppLocale(pref.getLanguageFromPreference().toString(), this)\n    setContentView(R.layout.activity_main)\n    ...\n</code></pre>\n<p><strong>pref.getLanguageFromPreference()</strong> returns the langugae string (For example : &quot;en&quot;)</p>\n"}], "owner": {"reputation": 4178, "user_id": 4905220, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0ec6aa9e18f75ce066df1efaf5bb15e7?s=128&d=identicon&r=PG", "display_name": "Arash Hatami", "link": "https://stackoverflow.com/users/4905220/arash-hatami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7238, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1610916859, "creation_date": 1528648534, "last_edit_date": 1528662554, "question_id": 50785840, "link": "https://stackoverflow.com/questions/50785840/change-locale-programmatically-in-kotlin", "title": "Change locale programmatically in Kotlin", "body": "<p>I had some codes for change locale programmatically in Java. But when my application migrated to Kotlin, I can't change locale any more.</p>\n\n<p>For example this code in Java worked very good :</p>\n\n<pre><code>public static final void setAppLocale(String language, Activity activity) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n        Resources resources = activity.getResources();\n        Configuration configuration = resources.getConfiguration();\n        configuration.setLocale(new Locale(language));\n        activity.getApplicationContext().createConfigurationContext(configuration);\n    } else {\n        Locale locale = new Locale(language);\n        Locale.setDefault(locale);\n        Configuration config = activity.getResources().getConfiguration();\n        config.locale = locale;\n        activity.getResources().updateConfiguration(config,\n                activity.getResources().getDisplayMetrics());\n    }\n}\n</code></pre>\n\n<p>I tried many codes in Kotlin but non of them worked for me. This is my last try:</p>\n\n<pre><code>fun changeLanguage(context: Context, language : String) {\n    val locale = Locale(language)\n    Locale.setDefault(locale)\n\n    val config = context.resources.configuration\n    config.setLocale(locale)\n    context.createConfigurationContext(config)\n    context.resources.updateConfiguration(config, context.resources.displayMetrics)\n}\n</code></pre>\n\n<p>How can I change application's local in Kotlin? Old codes that were written in Java did not work in Kotlin application.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528644006, "post_id": 50785129, "comment_id": 88576753, "body": "You can use a fancy mapping stage that turns 0..13 into 0..6..0. You can also use an old-school <code>while</code> loop."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1528644202, "post_id": 50785129, "comment_id": 88576806, "body": "Or you can just leave it like that, because it&#39;s probably more readable than what you would end up with."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1528644480, "post_id": 50785129, "comment_id": 88576887, "body": "Or you can use the following, but is it really more readable? <code>listOf((0..6), (6 downTo 0)).flatMap { it }.forEach { colorized(colors, it) }</code>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 2, "last_activity_date": 1528646884, "creation_date": 1528646884, "answer_id": 50785598, "question_id": 50785129, "link": "https://stackoverflow.com/questions/50785129/loop-up-and-down/50785598#50785598", "title": "Loop up and down", "body": "<p>This will do:</p>\n\n<pre><code>(0..13).forEach { colorized(colors, if (it &gt; 6)  13 - it else it) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1528649375, "creation_date": 1528649375, "answer_id": 50785953, "question_id": 50785129, "link": "https://stackoverflow.com/questions/50785129/loop-up-and-down/50785953#50785953", "title": "Loop up and down", "body": "<p>This is an easy but ugly for performance way of doing it in only one loop:</p>\n\n<pre><code>inline fun&lt;T&gt; Iterable&lt;T&gt;.forEachUpDown(action: (T) -&gt; Unit): Unit {\n    for (index in 0 until this.count()) {\n        action(this.elementAt(index))\n        action(this.elementAt(this.count()-index-1))\n    }\n}\n</code></pre>\n\n<p>and call:</p>\n\n<pre><code>(0..6).forEachUpDown {\n        colorized(colors,it)\n    }\n</code></pre>\n\n<p>as (0..6) is Iterable, it can only be traversed, and elements cannot be accessed by index. </p>\n\n<p>A better for performance way of doing it in only one loop is this:</p>\n\n<pre><code> val max=6\n    for (index in 0 until max) {\n        colorized(colors, index)\n        colorized(colors, max-index-1)\n    }\n</code></pre>\n\n<p>but, personally, I thin your way is clearer.</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1528674664, "post_id": 50787464, "comment_id": 88584292, "body": "<code>endInclusive downTo start</code> can be replaced with <code>reversed()</code> call."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1528777979, "post_id": 50787464, "comment_id": 88624126, "body": "I like this approach best, as I need to write <code>(0..6)</code> once, and also, I like the use of <code>reverse()</code>. Thanks!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1528699002, "last_edit_date": 1528699002, "creation_date": 1528660033, "answer_id": 50787464, "question_id": 50785129, "link": "https://stackoverflow.com/questions/50785129/loop-up-and-down/50787464#50787464", "title": "Loop up and down", "body": "<p>A simple extension on <code>IntRange</code> can solve it:</p>\n\n<pre><code>fun IntRange.forEachUpAndDown(action: (Int) -&gt; Unit) {\n    forEach(action)\n    reversed().forEach(action)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    (0..6).forEachUpAndDown {\n        println(it)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528662111, "post_id": 50787683, "comment_id": 88581721, "body": "You missed a pair of parentheses in your 1st solution: ((0..6) + (6 downTo 0)).forEach { colorized(colors, it) }"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1528662693, "post_id": 50787683, "comment_id": 88581873, "body": "@mTak Updated my answer. Thank you for your correction."}], "tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1528662601, "last_edit_date": 1528662601, "creation_date": 1528661840, "answer_id": 50787683, "question_id": 50785129, "link": "https://stackoverflow.com/questions/50785129/loop-up-and-down/50787683#50787683", "title": "Loop up and down", "body": "<p>You can try to add the two ranges as one:</p>\n\n<p><code>((0..6) <a href=\"https://github.com/JetBrains/kotlin/blob/79487a6a21bdd4147a542e4cb2c7715e5efc96de/libraries/stdlib/common/src/generated/_Collections.kt#L1955\" rel=\"nofollow noreferrer\">+</a> (6 downTo 0)).forEach { colorized(colors, it) }</code></p>\n\n<p>or try to reduce the count of parameters:</p>\n\n<p><code>with (6) { (0..this) <a href=\"https://github.com/JetBrains/kotlin/blob/79487a6a21bdd4147a542e4cb2c7715e5efc96de/libraries/stdlib/common/src/generated/_Collections.kt#L1955\" rel=\"nofollow noreferrer\">+</a> (this downTo 0) }.forEach { colorized(colors, it) }</code></p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 50787464, "answer_count": 4, "score": 3, "last_activity_date": 1528699002, "creation_date": 1528643877, "last_edit_date": 1528647448, "question_id": 50785129, "link": "https://stackoverflow.com/questions/50785129/loop-up-and-down", "title": "Loop up and down", "body": "<p>I have the below code</p>\n\n<pre><code>(0..6).forEach { colorized(colors, it) }\n(6 downTo 0).forEach { colorized(colors, it) }\n</code></pre>\n\n<p>Where I loop up and down. Is there a way to achieve it in one loop instead of two?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 143, "user_id": 8910420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214459428584712/picture?type=large", "display_name": "Carlos Eduardo Ki Lee", "link": "https://stackoverflow.com/users/8910420/carlos-eduardo-ki-lee"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1528634018, "post_id": 50783692, "comment_id": 88573902, "body": "I want to emulate: <i>public static final</i>"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 1, "creation_date": 1528634070, "post_id": 50783692, "comment_id": 88573914, "body": "use <i>object</i> to declare your constants class. and define all as <i>const val</i>"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528634870, "post_id": 50783731, "comment_id": 88574131, "body": "those <code>val</code>s should be <code>const</code> unless you want this to look like<code>Constants.Companion.getKIND_NAME()</code> on the Java side."}, {"owner": {"reputation": 1948, "user_id": 8098236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7003b88799ae3c4d2faf4dbf20250521?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Rehwinkel", "link": "https://stackoverflow.com/users/8098236/ian-rehwinkel"}, "edited": false, "score": 0, "creation_date": 1528634988, "post_id": 50783731, "comment_id": 88574160, "body": "Yes. I read up on objects, and if you are using java, then it would look like that."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1528710982, "post_id": 50783731, "comment_id": 88595803, "body": "Downvoters should explain their reasoning, this approach is perfectly valid, depending on how <code>Constants</code> is used otherwise."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1528807550, "post_id": 50783731, "comment_id": 88640171, "body": "@ice1000 because <code>Constants</code> should have a <code>private constructor</code> and the vals should be <code>const</code>."}], "tags": [], "owner": {"reputation": 1948, "user_id": 8098236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7003b88799ae3c4d2faf4dbf20250521?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Rehwinkel", "link": "https://stackoverflow.com/users/8098236/ian-rehwinkel"}, "is_accepted": false, "score": 0, "last_activity_date": 1528823154, "last_edit_date": 1528823154, "creation_date": 1528634023, "answer_id": 50783731, "question_id": 50783692, "link": "https://stackoverflow.com/questions/50783692/equivalent-of-javas-public-static-final-string/50783731#50783731", "title": "Equivalent of Java&#39;s &#39;public static final string&#39;", "body": "<p>You would want to use a simple <code>class</code> with a <code>compaion object</code> and some <code>const val</code>s:</p>\n\n<pre><code>class Constants {\n    companion object {\n        const val KIND_NAME = \"user\"\n        const val AVATAR_IMAGE_ID = \"avatarImageId\"\n        const val AVATAR_IMAGE_URL = \"avatarImageUrl\"\n        const val NAME_COLUMN = \"name\"\n        const val TOTAL_SCORE_COLUMN = \"totalScore\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 10, "last_activity_date": 1528640717, "creation_date": 1528640717, "answer_id": 50784689, "question_id": 50783692, "link": "https://stackoverflow.com/questions/50783692/equivalent-of-javas-public-static-final-string/50784689#50784689", "title": "Equivalent of Java&#39;s &#39;public static final string&#39;", "body": "<p>@Todd's answer will produce an <code>INSTANCE</code> instance of class <code>Constants</code>, which is sometimes unexpected. A better alternative is:</p>\n\n<pre><code>// file-level\n@file:JvmName(\"Constants\")\nconst val KIND_NAME = \"user\"\nconst val AVATAR_IMAGE_ID = \"avatarImageId\"\nconst val AVATAR_IMAGE_URL = \"avatarImageUrl\"\nconst val NAME_COLUMN = \"name\"\nconst val TOTAL_SCORE_COLUMN = \"totalScore\"\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 8910420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214459428584712/picture?type=large", "display_name": "Carlos Eduardo Ki Lee", "link": "https://stackoverflow.com/users/8910420/carlos-eduardo-ki-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2243, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1528823154, "creation_date": 1528633738, "last_edit_date": 1528647500, "question_id": 50783692, "link": "https://stackoverflow.com/questions/50783692/equivalent-of-javas-public-static-final-string", "title": "Equivalent of Java&#39;s &#39;public static final string&#39;", "body": "<p>In my Java project I have a class where I declare many project constants using <em>public static final String</em> attributes:</p>\n\n<pre><code>public class Constants {\n    public static final String KIND_NAME = \"user\";\n    public static final String AVATAR_IMAGE_ID = \"avatarImageId\";\n    public static final String AVATAR_IMAGE_URL = \"avatarImageUrl\";\n    public static final String NAME_COLUMN = \"name\";\n    public static final String TOTAL_SCORE_COLUMN = \"totalScore\";\n    ...\n}\n</code></pre>\n\n<p>So I can use this in many different places in my project:</p>\n\n<pre><code>...\nString userName = user.getProperty(Constants.KIND_NAME);\n...\n</code></pre>\n\n<p>So far I have found some different ways to implement this in Kotlin, like: <em>companion objects</em> or <em>data class</em>. What is the best equivalent code in Kotlin?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1528618766, "post_id": 50781163, "comment_id": 88570317, "body": "I use dagger 2 in old fashioned way, but where did you provide MainTripsFragmentAdapter in your module?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1528620118, "post_id": 50781163, "comment_id": 88570590, "body": "If you look at the error, you can see towards the bottom that the issue is that you try to inject <code>tripsFragment</code> in your <code>MainActivity</code>. This is the wrong scope and your mainActivity component has no access to your FragmentSubComponents graph (which the <i>binding with matching key exists in component</i> tries to tell you)"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "reply_to_user": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1528623511, "post_id": 50781163, "comment_id": 88571373, "body": "@Debanjan I have not provided it anywhere but I injected the constructor so I consider that dagger will fulfill it&#39;s dependencies"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1528623798, "post_id": 50781163, "comment_id": 88571430, "body": "@DavidMedenjak As I&#39;m beginner with dagger2 and DI I can&#39;t really understand how scopes are related to each other. Can you tell if it is a way to fix it or I&#39;m doing all wrong"}], "answers": [{"comments": [{"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1528624013, "post_id": 50781937, "comment_id": 88571463, "body": "Although it wasn&#39;t the direct answer for the question but I&#39;ve learned many things by your answer so you generally mean that android things shouldn&#39;t provide by dagger and we should simply make new instance of them anywhere we needed?"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1528625045, "post_id": 50781937, "comment_id": 88571670, "body": "@Mosius I realise it&#39;s not a complete answer but part of the reason you have got into so much difficulty is from trying to make everything a dependency to be injected using Dagger 2. FragmentManager doesn&#39;t need to be a dependency, just call <code>getFragmentManager</code>. Same thing with the <code>PagerAdapter</code>, you can just new it up in <code>onCreate</code>"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1528625097, "post_id": 50781937, "comment_id": 88571683, "body": "If you look at the sample project you will get a good idea of what you should and shouldn&#39;t inject as dependencies using Dagger 2"}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": true, "score": 2, "last_activity_date": 1528619765, "creation_date": 1528619765, "answer_id": 50781937, "question_id": 50781163, "link": "https://stackoverflow.com/questions/50781163/android-inject-dependency-dagger-2-inside-fragment-using-contributesandroidin/50781937#50781937", "title": "Android Inject Dependency (Dagger 2) Inside Fragment Using @ContributesAndroidInjector", "body": "<p>There are a number of problems here:</p>\n\n<pre><code>class MainTripsFragmentAdapter @Inject constructor(\n    fragmentManager: FragmentManager,\n    private val mainCurrentTripsFragment: MainCurrentTripsFragment,\n    private val mainHistoryTripsFragment: MainHistoryTripsFragment\n) : FragmentPagerAdapter(fragmentManager) {\n\n    override fun getItem(position: Int) = when (position) { \n        0 -&gt; mainCurrentTripsFragment  //no!!\n        1 -&gt; mainHistoryTripsFragment\n        else -&gt; mainCurrentTripsFragment\n    }\n\n    override fun getCount() = 2\n}\n</code></pre>\n\n<p><code>getItem</code> in the <code>PagerAdapter</code> means \"create item\". When you use a <code>PagerAdapter</code> you delegate <em>creation</em> of Fragments to the adapter. You shouldn't write code to cache and store the Fragments, this is the job of the <code>FragmentManager</code>.</p>\n\n<p>Instead your <code>FragmentAdapter</code> should look something like this:</p>\n\n<pre><code>    override fun getItem(position: Int) = when (position) { \n        0 -&gt; MainCurrentTripsFragment.instantiate()\n        1 -&gt; MainHistoryTripsFragment.instantiate()\n        else -&gt; MainCurrentTripsFragment.instantiate()\n    }\n</code></pre>\n\n<p>Where the <code>instantiate</code> method is declared inside a companion object inside your Fragments:</p>\n\n<pre><code>class MainCurrentTripsFragment: Fragment() {\n    companion object {\n        @JvmStatic\n        fun instantiate(args: Bundle?) {\n            val frag = MainCurrentTripsFragment()\n            frag.arguments = args\n        }\n    }\n}\n</code></pre>\n\n<p>That is the standard idiom for using a <code>PagerAdapter</code> with Fragments in Android. You shouldn't provide PagerAdapters or Fragments as dependencies in your object graph. In fact, many Android classes controlled by the OS like <code>FragmentManager</code>, <code>Activity</code>, <code>Fragment</code>, <code>BroadcastReceiver</code>, <code>Service</code> are not good candidates for becoming dependencies in your object graph using Dagger 2.</p>\n\n<p>A common error when starting to use Dagger 2 is try and inject <em>everything</em>, as if newing up anything manually is wrong. This is just not possible in Android. </p>\n\n<p>Please take the Fragments, the FragmentManager, the PagerAdapter etc out of your modules. Don't try to provide these or bind these using Dagger 2. Then use Dagger 2 to inject domain layer or data layer objects like repositories, Retrofit services etc. If you get stuck, you can always post another question. </p>\n\n<p>And have a look at the offical <a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp-dagger/\" rel=\"nofollow noreferrer\">Google Android Architecture blueprints</a>. Your solution should, ideally, look something like them.</p>\n"}], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2738, "favorite_count": 2, "accepted_answer_id": 50781937, "answer_count": 1, "score": 3, "last_activity_date": 1528619765, "creation_date": 1528612656, "question_id": 50781163, "link": "https://stackoverflow.com/questions/50781163/android-inject-dependency-dagger-2-inside-fragment-using-contributesandroidin", "title": "Android Inject Dependency (Dagger 2) Inside Fragment Using @ContributesAndroidInjector", "body": "<p>I'm using <a href=\"https://github.com/google/dagger\" rel=\"nofollow noreferrer\">Dagger 2</a> for dependency injection in my project  </p>\n\n<p>The problem is when I'm trying to inject a <code>ViewPageAdapter</code> inside the fragment class which depend on <code>FragmentManager</code> like bellow:</p>\n\n<pre><code>@Inject\nlateinit var mainTripsFragmentAdapter: MainTripsFragmentAdapter\n</code></pre>\n\n<p>I get the following build error:</p>\n\n<blockquote>\n  <p>error: [dagger.android.AndroidInjector.inject(T)] android.support.v4.app.FragmentManager cannot be provided without an @Provides-annotated method.<br>\n  public abstract interface AppComponent extends dagger.android.AndroidInjector {\n                  ^\n        android.support.v4.app.FragmentManager is injected at\n            com.example.presenters.main.trips.MainTripsFragmentAdapter.(fragmentManager, \u2026)\n        com.example.presenters.main.trips.MainTripsFragmentAdapter is injected at\n            com.example.presenters.main.trips.MainTripsFragment.mainTripsFragmentAdapter\n        com.example.presenters.main.trips.MainTripsFragment is injected at\n            com.example.presenters.main.MainActivity.tripsFragment\n        com.example.presenters.main.MainActivity is injected at\n            dagger.android.AndroidInjector.inject(arg0)\n    A binding with matching key exists in component: com.example.di.FragmentBuilder_BindMainTripsFragment$app_debug.MainTripsFragmentSubcomponent</p>\n</blockquote>\n\n<p>I've researched for 3 days and I've read many articles but I couldn't figure out where the problem is!<br>\nI'll post the related code, sorry if it's too long</p>\n\n<p>The <code>Fragment</code> which needs <code>PagerAdapter</code>:</p>\n\n<pre><code>class MainTripsFragment @Inject constructor() : BaseFragment() {\n\n    @Inject\n    lateinit var mainTripsFragmentAdapter: MainTripsFragmentAdapter\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        pager.adapter = mainTripsFragmentAdapter\n    }\n}\n</code></pre>\n\n<p>BaseFragment:</p>\n\n<pre><code>abstract class BaseFragment : DaggerFragment() {\n\n    override fun onAttach(context: Context?) {\n        AndroidSupportInjection.inject(this)\n        super.onAttach(context)\n    }\n\n    override fun onCreateView(\n            inflater: LayoutInflater,\n            container: ViewGroup?,\n            savedInstanceState: Bundle?\n    ): View? = inflater.inflate(getLayout(), container, false)\n\n    abstract fun getLayout(): Int\n}\n</code></pre>\n\n<p>Here is the <code>FragmentPagerAdapter</code>:</p>\n\n<pre><code>class MainTripsFragmentAdapter @Inject constructor(\n    fragmentManager: FragmentManager,\n    private val mainCurrentTripsFragment: MainCurrentTripsFragment,\n    private val mainHistoryTripsFragment: MainHistoryTripsFragment\n) : FragmentPagerAdapter(fragmentManager) {\n\n    override fun getItem(position: Int) = when (position) {\n        0 -&gt; mainCurrentTripsFragment\n        1 -&gt; mainHistoryTripsFragment\n        else -&gt; mainCurrentTripsFragment\n    }\n\n    override fun getCount() = 2\n}\n</code></pre>\n\n<p>And here is DI related classes:</p>\n\n<p>AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    AndroidInjectionModule::class,\n    ActivityBuilder::class,\n    FragmentBuilder::class\n])\n\ninterface AppComponent : AndroidInjector&lt;DaggerApplication&gt; {\n\n    fun inject(app: App)\n\n    override fun inject(instance: DaggerApplication)\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(app: Application): Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>FragmentBuilder:</p>\n\n<pre><code>@Module\nabstract class FragmentBuilder {\n\n    @ContributesAndroidInjector\n    internal abstract fun bindMainHomeFragment(): MainHomeFragment\n\n    @Module\n    internal interface MainTripsFragmentModule {\n\n        @Binds\n        fun bindMainTripsFragment(fragment: MainTripsFragment): Fragment\n    }\n\n    @ContributesAndroidInjector(modules = [FragmentModule::class, MainTripsFragmentModule::class])\n    internal abstract fun bindMainTripsFragment(): MainTripsFragment\n\n    @ContributesAndroidInjector\n    internal abstract fun bindMainCurrentTripsFragment(): MainCurrentTripsFragment\n    @ContributesAndroidInjector\n    internal abstract fun bindMainHistoryTripsFragment(): MainHistoryTripsFragment\n}\n</code></pre>\n\n<p>FragmentModule:</p>\n\n<pre><code>@Module\nclass FragmentModule {\n\n    @Provides\n    fun provideFragmentManager(fragment: Fragment) = fragment.childFragmentManager\n}\n</code></pre>\n\n<p>ActivityBuilder:</p>\n\n<pre><code>@Module\nabstract class ActivityBuilder {\n\n    @ContributesAndroidInjector\n    internal abstract fun contributeMainActivity(): MainActivity\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n     @Inject\n     lateinit var tripsFragment: MainTripsFragment\n\n     override fun onCreate(savedInstanceState: Bundle?) {\n         super.onCreate(savedInstanceState)\n         setContentView(R.layout.activity_main)\n\n         showFragment(tripsFragment)\n     }\n\n     private fun showFragment(fragment: Fragment) {\n         supportFragmentManager\n                 .beginTransaction()\n                 .replace(R.id.layout_container, fragment)\n                 .commit()\n     }\n }\n</code></pre>\n\n<p>BaseActivity:</p>\n\n<pre><code>@SuppressLint(\"Registered\")\nabstract class BaseActivity : AppCompatActivity(), HasSupportFragmentInjector {\n\n@Inject\nlateinit var fragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n    }\n    override fun supportFragmentInjector() = fragmentInjector\n}\n</code></pre>\n\n<p>Application Class:</p>\n\n<pre><code>class App : Application(), HasActivityInjector {\n    @Inject\n    lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = activityInjector\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerAppComponent.builder()\n                .application(this)\n                .build()\n                .apply {\n                    inject(this@App)\n                }\n\n    }\n}\n</code></pre>\n\n<p>One point is that if I <code>@Inject</code> PagerAdapter Inside My Activity(I also should add a module for it) it works fine.<br>\nWhich part is Implemented wrong?</p>\n"}, {"tags": ["android", "animation", "kotlin"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1528608803, "post_id": 50780393, "comment_id": 88568369, "body": "something similar to this <a href=\"https://stackoverflow.com/questions/49462293/how-to-use-constraintset-for-animation-in-android-with-java/49463685#49463685\" title=\"how to use constraintset for animation in android with java\">stackoverflow.com/questions/49462293/&hellip;</a>. But you also need a delay cause if you are animating your views too soon in onCreate"}, {"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1528619305, "post_id": 50780393, "comment_id": 88570425, "body": "You can try root.post({addAnimationOperations() }) in your onCreate"}], "owner": {"reputation": 17901, "user_id": 1024973, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e9a46874cd35d5753507f10188ec83a8?s=128&d=identicon&r=PG", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/1024973/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528602592, "creation_date": 1528602592, "question_id": 50780393, "link": "https://stackoverflow.com/questions/50780393/constraintset-animate-slide-in-of-imageviews", "title": "ConstraintSet Animate slide in of ImageViews", "body": "<p>New to ConstraintSet. Trying to animate two ImageViews on a splash screen. I want the prefix_text to slide in rightward from the left margin and the suffix_text to slide in leftward from the right margin. But nothing happens. I don't see what I am missing.</p>\n\n<pre><code>class SplashActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_splash_start)\n        addAnimationOperations()\n    }\n\n    private fun addAnimationOperations() {\n\n        val constraint1 = ConstraintSet()\n        constraint1.clone(root)\n        val constraint2 = ConstraintSet()\n        constraint2.clone(this, R.layout.activity_splash_done)\n\n        TransitionManager.beginDelayedTransition(root)\n        constraint2.applyTo(root)\n    }\n}\n</code></pre>\n\n<p>activity_splash_start.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#333\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/frameLayout\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/runners\"\n            android:layout_width=\"200dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"8dp\"\n            android:contentDescription=\"@string/whatever\"\n            app:layout_constraintDimensionRatio=\"1024:940\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/logo_runners\" /&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:id=\"@+id/text_container\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/runners\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/prefix_text\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintDimensionRatio=\"672:215\"\n                app:layout_constraintEnd_toStartOf=\"parent\"\n                app:srcCompat=\"@drawable/logo_name\" /&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/suffix_text\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintDimensionRatio=\"352:215\"\n                app:layout_constraintStart_toEndOf=\"parent\"\n                app:srcCompat=\"@drawable/logo_dot_club\" /&gt;\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>activity_splash_done.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#333\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/frameLayout\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/runners\"\n            android:layout_width=\"200dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"8dp\"\n            android:contentDescription=\"@string/whatever\"\n            app:layout_constraintDimensionRatio=\"1024:940\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/logo_runners\" /&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:id=\"@+id/text_container\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/runners\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/prefix_text\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintDimensionRatio=\"672:215\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:srcCompat=\"@drawable/logo_name\" /&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/suffix_text\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                app:layout_constraintDimensionRatio=\"352:215\"\n                app:layout_constraintStart_toEndOf=\"@+id/werun_text\"\n                app:srcCompat=\"@drawable/logo_dot_club\" /&gt;\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "gridlayoutmanager"], "comments": [{"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 0, "creation_date": 1528597678, "post_id": 50780023, "comment_id": 88566887, "body": "What does it show? and when do you call that method setting the GridLayoutManager?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 0, "creation_date": 1528597873, "post_id": 50780023, "comment_id": 88566919, "body": "1 .It doesn&#39;t show anything... and maybe &quot;when do you call that method setting the &#180;GridLayoutManager&#180; is where is not working, because maybe I&#39;m not doing that? I&#39;m just calling showListSale()"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1528597926, "post_id": 50780023, "comment_id": 88566925, "body": "can we see your xml files?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1528598150, "post_id": 50780023, "comment_id": 88566947, "body": "@LeviAlbuquerque edited my question, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528598632, "post_id": 50780123, "comment_id": 88567006, "body": "Yes! Thanks... can you tell me please how to agline itemList with the column headers? Thanks so much!"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528598762, "post_id": 50780123, "comment_id": 88567026, "body": "I think you can have more control of your layour if you use either a RelativeLayour or even better a ConstraintLayout, they let you move your views in a much more easy way than LinearLayour :)"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528599036, "post_id": 50780123, "comment_id": 88567060, "body": "Thanks I will look into that... also... I changed to <code>RV_sales.layoutManager = LinearLayoutManager(context)</code> and it does the trick but it only shows the first element, it doesn&#39;t add a line if I add another item"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528599433, "post_id": 50780123, "comment_id": 88567105, "body": "Isn&#39;t it being cut by your screen?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528599653, "post_id": 50780123, "comment_id": 88567130, "body": "I don&#39;t think so because when I update a quantity, it deletes the element and adds +1 to the quantity, and then adds it to the list. EDIT: Oh you may be right... how to tell it it needs to be another line?"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528599765, "post_id": 50780123, "comment_id": 88567144, "body": "I see the problem now... it is cut by the screen but down, height is doing something weird"}, {"owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528600772, "post_id": 50780123, "comment_id": 88567264, "body": "Done. Thank you so much!"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "edited": false, "score": 0, "creation_date": 1528602031, "post_id": 50780123, "comment_id": 88567445, "body": "Glad I could help you :) don&#39;t forget to mark as an answer so it can help others too ;)"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 0, "last_activity_date": 1528598320, "creation_date": 1528598320, "answer_id": 50780123, "question_id": 50780023, "link": "https://stackoverflow.com/questions/50780023/girdlayoutmanager-not-working-kotlin-android/50780123#50780123", "title": "GirdLayoutManager not working, kotlin, android", "body": "<p>Your linear layout seemed to be covering your recycler view. Try this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\".MainActivity\"\n    tools:showIn=\"@layout/activity_main\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;AutoCompleteTextView\n                android:id=\"@+id/ET_search\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"3\"\n                android:hint=\"@string/search_hint\"\n                android:maxLines=\"1\"\n                android:layout_marginLeft=\"@dimen/half_margin\"\n                android:imeOptions=\"actionNext\"/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"4\"\n                android:paddingLeft=\"2dp\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/total\"\n                    android:textSize=\"15sp\"\n                    android:gravity=\"end\"\n                    android:layout_weight=\"0\"/&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/TV_price\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"0\"\n                    android:paddingLeft=\"2dp\"\n                    android:text=\"@string/total_hint\"\n                    android:textSize=\"40sp\"\n                    android:gravity=\"right\"/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n        &lt;LinearLayout\n            android:baselineAligned=\"false\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            android:paddingTop=\"@dimen/half_margin\"&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.5\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/description\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"2\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Descripci\u00f3n\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"fill_parent\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingRight=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/price\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"30dp\"\n                    android:layout_weight=\"0.75\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Precio\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/quantity\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"1.5\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Cantidad\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/subtotal\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"1.5\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Subtotal\" /&gt;\n            &lt;/TableRow&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/RV_sales\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scrollbars=\"vertical\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 50780123, "answer_count": 1, "score": 2, "last_activity_date": 1528598320, "creation_date": 1528596643, "last_edit_date": 1528598124, "question_id": 50780023, "link": "https://stackoverflow.com/questions/50780023/girdlayoutmanager-not-working-kotlin-android", "title": "GirdLayoutManager not working, kotlin, android", "body": "<p>I will try to be brief. </p>\n\n<p>I have a <code>MutableListOf&lt;ItemsSale&gt;</code> and I want to show it in a <code>GirdLayoutManager</code> I call this function once I add or erase an <code>ItemsSale</code>:</p>\n\n<pre><code>private fun showListSale(){\n        RV_sales.layoutManager = GridLayoutManager(context, 4)\n        //RV_sales.hasFixedSize() I've tried with and without this\n        RV_sales.adapter = SalesAdapter(context, listSale)\n\n        //for (item in listSale) I use this code so I know the MutableListOf&lt;ItemsSale&gt; is working and storing the items properly\n          //  Toast.makeText(context,\"${item.description}, QTY: ${item.quantity}, $${item.price}, $${item.subtotal}\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>My adapter looks like this:</p>\n\n<pre><code>    import android.content.Context\n    import android.support.v7.widget.RecyclerView\n    import android.view.LayoutInflater\n    import android.view.View\n    import android.view.ViewGroup\n    import kotlinx.android.synthetic.main.listview_item.view.*\n\n\n    class SalesAdapter (var context: Context, var list: MutableList&lt;ItemsSale&gt;):\n            RecyclerView.Adapter&lt;SalesAdapter.ViewHolder&gt;() {\n\n        override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder?{\n            //var v = LayoutInflater.from(context).inflate(R.layout.listview_item, parent, false)\n            //return Item(v)\n            return ViewHolder(LayoutInflater.from(context).inflate(R.layout.listview_item, parent, false))\n        }\n\n        override fun getItemCount(): Int {\n            return list.size\n        }\n\n        override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n            //(holder as Item).bindData(list[position])\n            holder?.tvDescription?.text = list[position].description\n            holder?.tvPrice?.text = list[position].price.toString()\n            holder?.tvQuantity?.text = list[position].quantity.toString()\n            holder?.tvSubtotal?.text = list[position].subtotal.toString()\n        }\n\n        class ViewHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n\n            val tvDescription = itemView.description\n            val tvPrice = itemView.price\n            val tvQuantity = itemView.quantity\n            val tvSubtotal = itemView.subtotal\n\n//I've also tried with this code but still doesn't wokr\n            /*fun bindData (item: ItemsSale){\n                itemView.description.text = item.description\n                itemView.price.text = item.price.toString()\n                itemView.quantity.text = item.quantity.toString()\n                itemView.subtotal.text = item.subtotal.toString()\n            }*/\n        }\n    }\n</code></pre>\n\n<p>But it doesn't show the Grid. I've also tried <a href=\"https://android.jlelse.eu/using-recyclerview-in-android-kotlin-722991e86bf3\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://www.raywenderlich.com/170075/android-recyclerview-tutorial-kotlin\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://stackoverflow.com/questions/45927061/gridlayout-in-kotlin\">this</a>, also <a href=\"https://antonioleiva.com/recyclerview-adapter-kotlin/\" rel=\"nofollow noreferrer\">this</a>, and <a href=\"https://androidteachers.com/kotlin-for-android/recyclerview-with-kotlin/\" rel=\"nofollow noreferrer\">this</a> and several more but nothing seems to work. I know I'm doing something wrong but I just can't see it.</p>\n\n<p>I want to refresh the list every time <code>showLIstSale()</code> is called. Is a sales list so I need it to update if an Item is added or erased.</p>\n\n<p>Thanks in advance</p>\n\n<p>EDIT: Adding Layouts per request</p>\n\n<p>fragment_sale1.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\".MainActivity\"\n    tools:showIn=\"@layout/activity_main\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;AutoCompleteTextView\n                android:id=\"@+id/ET_search\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"3\"\n                android:hint=\"@string/search_hint\"\n                android:maxLines=\"1\"\n                android:layout_marginLeft=\"@dimen/half_margin\"\n                android:imeOptions=\"actionNext\"/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"4\"\n                android:paddingLeft=\"2dp\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/total\"\n                    android:textSize=\"15sp\"\n                    android:gravity=\"end\"\n                    android:layout_weight=\"0\"/&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/TV_price\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_weight=\"0\"\n                    android:paddingLeft=\"2dp\"\n                    android:text=\"@string/total_hint\"\n                    android:textSize=\"40sp\"\n                    android:gravity=\"right\"/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n        &lt;LinearLayout\n            android:baselineAligned=\"false\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            android:paddingTop=\"@dimen/half_margin\"&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.5\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/description\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"2\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Descripci\u00f3n\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"fill_parent\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingRight=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/price\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"30dp\"\n                    android:layout_weight=\"0.75\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Precio\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/quantity\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"1.5\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Cantidad\"/&gt;\n            &lt;/TableRow&gt;\n\n            &lt;TableRow\n                android:layout_width=\"0dp\"\n                android:layout_height=\"30dp\"\n                android:layout_weight=\"0.2\"\n                android:paddingBottom=\"1dip\"\n                android:paddingLeft=\"1dip\"\n                android:paddingTop=\"1dip\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/subtotal\"\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"fill_parent\"\n                    android:layout_weight=\"1.5\"\n                    android:gravity=\"center\"\n                    android:paddingRight=\"3dp\"\n                    android:text=\"Subtotal\" /&gt;\n            &lt;/TableRow&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/RV_sales\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scrollbars=\"vertical\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>listview_item.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TableRow\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"0.5\"\n        android:paddingBottom=\"1dip\"\n        android:paddingLeft=\"1dip\"\n        android:paddingTop=\"1dip\" &gt;\n\n        &lt;TextView\n            android:id=\"@+id/description\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"2\"\n            android:gravity=\"center_vertical\"\n            android:paddingLeft=\"5dp\"\n            android:textColor=\"#000000\" /&gt;\n    &lt;/TableRow&gt;\n\n    &lt;TableRow\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"0.2\"\n        android:paddingBottom=\"1dip\"\n        android:paddingLeft=\"1dip\"\n        android:paddingRight=\"1dip\"\n        android:paddingTop=\"1dip\" &gt;\n\n        &lt;TextView\n            android:id=\"@+id/price\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"0.75\"\n            android:gravity=\"right|center_vertical\"\n            android:paddingRight=\"5dp\"\n            android:textColor=\"#000000\" /&gt;\n    &lt;/TableRow&gt;\n\n    &lt;TableRow\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"0.2\"\n        android:paddingBottom=\"1dip\"\n        android:paddingLeft=\"1dip\"\n        android:paddingTop=\"1dip\" &gt;\n\n        &lt;TextView\n            android:id=\"@+id/quantity\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1.5\"\n            android:gravity=\"center\"\n            android:textColor=\"#000000\" /&gt;\n    &lt;/TableRow&gt;\n\n    &lt;TableRow\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"0.2\"\n        android:paddingBottom=\"1dip\"\n        android:paddingLeft=\"1dip\"\n        android:paddingRight=\"1dip\"\n        android:paddingTop=\"1dip\" &gt;\n\n        &lt;TextView\n            android:id=\"@+id/subtotal\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"0.75\"\n            android:gravity=\"right|center_vertical\"\n            android:paddingRight=\"5dp\"\n            android:textColor=\"#000000\" /&gt;\n    &lt;/TableRow&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-jetpack", "android-livedata"], "comments": [{"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1528596248, "post_id": 50779740, "comment_id": 88566707, "body": "It would help to see at least the &quot;binding&quot; part of your adapter. Also you don&#39;t need to call apply{ }, you can call shuffle() directly. Normally new list is passed to adapter in the observer callback."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1528596865, "post_id": 50779740, "comment_id": 88566784, "body": "Because the list doesn&#39;t mutate in place. You <code>getValue</code> the first value and that&#39;s it. You should set the new list in your <code>observe</code> method to your adapter."}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1528629902, "last_edit_date": 1528629902, "creation_date": 1528597201, "answer_id": 50780048, "question_id": 50779740, "link": "https://stackoverflow.com/questions/50779740/android-jetpack-recyclerview-is-not-updating-when-livedata-is-set/50780048#50780048", "title": "Android Jetpack: RecyclerView is not updating when LiveData is set", "body": "<pre><code>fun loadUsers() {\n    _users.value = demoData.toMutableList().apply { shuffle() }\n}\n</code></pre>\n\n<p><code>toMutableList()</code> creates a new list with the data, see the source code: </p>\n\n<pre><code>public fun &lt;T&gt; Collection&lt;T&gt;.toMutableList(): MutableList&lt;T&gt; {\n    return ArrayList(this)\n}\n</code></pre>\n\n<p>So instead of getting the initial value and never updating your adapter, you should update the list in the adapter and show that.</p>\n\n<pre><code>viewModel.users.observe(this, Observer { users -&gt;\n    mAdapter.updateData(users)\n})\n</code></pre>\n\n<p>Where if you are not <a href=\"https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter\" rel=\"nofollow noreferrer\">using <code>ListAdapter</code></a>, then you can define this method like this:</p>\n\n<pre><code>class MyAdapter: RecyclerView.Adapter&lt;ViewHolder&gt;(\n   private var list: List&lt;User&gt; = Collections.emptyList()\n) {\n    ...\n\n    fun updateData(users: List&lt;User&gt;) {\n        this.users = users\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>You can also use <a href=\"https://developer.android.com/reference/android/support/v7/recyclerview/extensions/ListAdapter\" rel=\"nofollow noreferrer\"><code>ListAdapter</code> and <code>submitList</code></a> and you'll also get animations.</p>\n"}], "owner": {"reputation": 837, "user_id": 8434188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xldO9MTGaUo/AAAAAAAAAAI/AAAAAAAAABM/dnsjtoTpXGI/photo.jpg?sz=128", "display_name": "Fawwaz Yusran", "link": "https://stackoverflow.com/users/8434188/fawwaz-yusran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3733, "favorite_count": 0, "accepted_answer_id": 50780048, "answer_count": 1, "score": 5, "last_activity_date": 1528629902, "creation_date": 1528591979, "last_edit_date": 1528592541, "question_id": 50779740, "link": "https://stackoverflow.com/questions/50779740/android-jetpack-recyclerview-is-not-updating-when-livedata-is-set", "title": "Android Jetpack: RecyclerView is not updating when LiveData is set", "body": "<p>So I have a simple implementation to display a list of users in a <code>RecyclerView</code>, and the list is queried in a <code>ViewModel</code> as <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData\" rel=\"noreferrer\"><code>LiveData</code></a>. </p>\n\n<p>The problem is that the UI is not updated to show the latest list - called <code>users</code> - even when the list is observed. I just set up a list of demo users for now.</p>\n\n<p>Here's my ViewModel:</p>\n\n<pre><code>class MainViewModel : ViewModel() {\n\n    private val demoData = listOf(\n            User(userName = \"Bob\", favoriteColor = \"Green\"),\n            User(userName = \"Jim\", favoriteColor = \"Red\"),\n            User(userName = \"Park\", favoriteColor = \"Blue\"),\n            User(userName = \"Tom\", favoriteColor = \"Yellow\"),\n            User(userName = \"Lee\", favoriteColor = \"Black\"),\n            User(userName = \"Xiu\", favoriteColor = \"Gray\")\n    )\n\n    private val _users = MutableLiveData&lt;List&lt;User&gt;&gt;()\n    val users: LiveData&lt;List&lt;User&gt;&gt;\n        get() = _users\n\n    init {\n        _users.value = listOf()\n    }\n\n    fun loadUsers() {\n        _users.value = demoData.toMutableList().apply { shuffle() }\n    }\n}\n</code></pre>\n\n<p>And my ViewModel's attached Fragment:</p>\n\n<pre><code>// ...\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    viewModel = ViewModelProviders.of(this).get(MainViewModel::class.java)\n\n    viewModel.users.observe(this, Observer {\n        mAdapter.notifyDataSetChanged()\n    })\n\n    mAdapter = UsersAdapter(viewModel.users.value!!)\n\n    mainRV = view?.findViewById&lt;RecyclerView&gt;(R.id.rv_main)?.apply {\n        adapter = mAdapter\n        layoutManager = LinearLayoutManager(view?.context)\n    }\n\n    viewModel.loadUsers()\n}\n</code></pre>\n\n<p>P.S. the <code>UsersAdapter</code> is a usual <code>RecyclerView.Adapter</code>.</p>\n\n<p>I have made sure to call <code>setValue</code> on my users list to call the Observer, thus I am not sure what is missing here. Is my adapter wrongly setup? </p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528591329, "post_id": 50779679, "comment_id": 88566166, "body": "What are you trying to accomplish in your <code>Net_Activity</code>? Why does it have that function <code>main(args: Array&lt;String&gt;)</code>?"}, {"owner": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "reply_to_user": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528591613, "post_id": 50779679, "comment_id": 88566201, "body": "I am trying to call the start_netClient() method from the dists class, which is a java class."}, {"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528591805, "post_id": 50779679, "comment_id": 88566234, "body": "And umm, you sure that&#39;s all the content inside the <code>Net_Activity</code>?"}, {"owner": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "reply_to_user": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528591999, "post_id": 50779679, "comment_id": 88566259, "body": "I have the imports above the Activity declaration, I have inserted it inside the AndroidManifest, yet it is all clear. Is there something that I should have included inside that matches with the Intent construction error?"}], "answers": [{"tags": [], "owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "is_accepted": false, "score": -1, "last_activity_date": 1528592541, "creation_date": 1528592541, "answer_id": 50779771, "question_id": 50779679, "link": "https://stackoverflow.com/questions/50779679/call-a-java-class-from-a-kotlin-activity/50779771#50779771", "title": "Call a java class from a kotlin activity", "body": "<p>Try to read again the basic of creating Activity from Android Developer Documentation. <a href=\"https://developer.android.com/guide/components/fundamentals\" rel=\"nofollow noreferrer\">Read here</a></p>\n\n<p>Kotlin is designed to be 100% interoperable with Java. It means you can just call any Java Class or methods from Kotlin, and vice versa. So you can even make Kotlin-based Activity along with Java-based activity and it will be good for you. Although I recommend you to just use 100% Kotlin, since it's much easier to develop and read.</p>\n\n<p>Try this:</p>\n\n<ol>\n<li><p>Change your <code>Net_Activity</code> to <code>NetActivity</code>. That's much better for eyes. Don't forget to change your <code>AndroidManifest.xml</code></p></li>\n<li><p>Change your <code>setOnClickListener</code> to</p>\n\n<pre><code>bButton.setOnClickListener {\n    // Handler code here.\n   val intent = Intent(this, NetActivity::class.java)\n   startActivity(intent)\n}\n</code></pre></li>\n<li><p>Do you have that <code>main</code> function in your <code>NetActivity</code> like a <code>public static void main(String[] args)</code>? It's not how you do it. You can override other <code>Activity</code> method such as <code>onCreate()</code>, <code>onResume()</code>, etc. Try to read the App Fundamentals again.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "edited": false, "score": 0, "creation_date": 1528629175, "post_id": 50780891, "comment_id": 88572688, "body": "I added the line as: val intent = Intent(this@MainActivity, Net_Activity::class.java). The way you prompted to I got an unresolved reference for Net_Activity.  (The declaration of the intent val is inside the MainActivity, not the Net_Activity.) Is this way of thinking even correct, as the Net_Activity is a kotlin activity and not a java class?"}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "edited": false, "score": 0, "creation_date": 1528650897, "post_id": 50780891, "comment_id": 88578757, "body": "Ah, I thought your code was within <code>Net_Activity</code> - that should be correct."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": false, "score": 5, "last_activity_date": 1528609287, "creation_date": 1528609287, "answer_id": 50780891, "question_id": 50779679, "link": "https://stackoverflow.com/questions/50779679/call-a-java-class-from-a-kotlin-activity/50780891#50780891", "title": "Call a java class from a kotlin activity", "body": "<p>It seems that when you use <code>this</code>, you're referencing the listener object (<code>View.OnClickListener</code>) rather than your activity. You should be able to fix this by using <code>this@Net_Activity</code>, which references your activity instead of the listener. The full line should look like so:</p>\n\n<pre><code>val intent = Intent(this@Net_Activity, Net_Activity::class.java)\n</code></pre>\n\n<p>When you declare an object in Kotlin (via the <code>object</code> keyword) you're defining an anonymous class, and then creating a single instance of this class. This allows you to override methods for things like listeners, but as you've discovered, it means you have to double check your uses of <code>this</code>.</p>\n"}], "owner": {"reputation": 187, "user_id": 5798856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YVHvCyyRk4w/AAAAAAAAAAI/AAAAAAAAABU/G4rsT56_f8M/photo.jpg?sz=128", "display_name": "Efthimis_28", "link": "https://stackoverflow.com/users/5798856/efthimis-28"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3617, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1528609287, "creation_date": 1528591187, "question_id": 50779679, "link": "https://stackoverflow.com/questions/50779679/call-a-java-class-from-a-kotlin-activity", "title": "Call a java class from a kotlin activity", "body": "<p>I am working on a project on Android Studio. I have the main activity inside a kotlin file (MainActivity.kt) and from it I am trying to call a static method(start_netClient()) from inside a java file (dists.java) via an Intent object by putting this listener for my <em>bbutton</em> inside the onCreate() of the MainActivity :</p>\n\n<pre><code>        bbutton.setOnClickListener(object: View.OnClickListener {\n        override fun onClick(view: View): Unit {\n            // Handler code here.\n            val intent = Intent(this, Net_Activity::class.java)\n            startActivity(intent)\n        }\n    })\n</code></pre>\n\n<p>The Net_Activity and its content:</p>\n\n<pre><code>class Net_Activity: AppCompatActivity() {\n\nfun main(args: Array&lt;String&gt;) {\n    dists.start_netClient()\n}\n}\n</code></pre>\n\n<p>What I get for this code during the build is this error on Intent on the MainActivity.kt:</p>\n\n<pre><code>Error:(65, 30) None of the following functions can be called with the arguments supplied:\npublic constructor Intent(p0: Context!, p1: Class&lt;*&gt;!) defined in android.content.Intent\npublic constructor Intent(p0: String!, p1: Uri!) defined in android.content.Intent\n</code></pre>\n\n<p>I am relatively new to the whole Android thing, but what is it that I am missing, and how is it possible to connect a java method and a kotlin class via the Intent? Is it best effort to use two Activities or is there a different approach?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "aapt2"], "comments": [{"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528595812, "post_id": 50779353, "comment_id": 88566653, "body": "Have you tried to use Android 28? And download latest Build Tools and Android Platform from SDK Manager. And try to rebuild project."}, {"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1528616148, "post_id": 50779353, "comment_id": 88569720, "body": "do you solved this problem?"}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "reply_to_user": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1528639860, "post_id": 50779353, "comment_id": 88575599, "body": "@GeorgiyChebotarev No, I couldn&#39;t resolve it."}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "reply_to_user": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528641384, "post_id": 50779353, "comment_id": 88576019, "body": "@YosiPramajaya I did but to no avail."}, {"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528693611, "post_id": 50779353, "comment_id": 88587487, "body": "What about other drawable resources. Can your project find it? Or just those 2?"}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "edited": false, "score": 0, "creation_date": 1528707202, "post_id": 50779353, "comment_id": 88593581, "body": "it can&#39;t find any vector drawables, it works fine with pngs."}, {"owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "edited": false, "score": 0, "creation_date": 1528736069, "post_id": 50779353, "comment_id": 88611256, "body": "What is the folder in which the vector drawables are located in? If you open the file <code>&#47;Users&#47;$USER&#47;$PROJECT_DIR&#47;app&#47;build&#47;intermediates&#47;incrementa&zwnj;&#8203;l&#47;processDebugResour&zwnj;&#8203;ces&#47;resources-list-f&zwnj;&#8203;or-resources-debug.a&zwnj;&#8203;p_.txt</code> does it contain a file path containing <code>ic_search_24dp</code>?"}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "edited": false, "score": 0, "creation_date": 1528740994, "post_id": 50779353, "comment_id": 88613552, "body": "the vector derawables are located in /Users/$USER/$PROJECT_DIR/app/src/main/res/drawable"}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "edited": false, "score": 0, "creation_date": 1529131908, "post_id": 50779353, "comment_id": 88773044, "body": "I just renamed the drawable files (added an arbitrary prefix, ex: <code>ic_search.xml</code> has become <code>twitter_ic_search.xml</code> )and did clean then Build, and the errors went away and now everything is working."}, {"owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "edited": false, "score": 0, "creation_date": 1529132331, "post_id": 50779353, "comment_id": 88773121, "body": "I tried to create a new project to reproduce the issue but the issue was not curring, So I don&#39;t know exactly what is the root cause, However, I guess It was due to the incremental build since it was occurring on that project only."}], "owner": {"reputation": 595, "user_id": 1854282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/44bcababdb3dfb439f86df1e6327e7e7?s=128&d=identicon&r=PG", "display_name": "Hossam Hassan", "link": "https://stackoverflow.com/users/1854282/hossam-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1045, "favorite_count": 3, "answer_count": 0, "score": 5, "last_activity_date": 1533622954, "creation_date": 1528586668, "last_edit_date": 1528588047, "question_id": 50779353, "link": "https://stackoverflow.com/questions/50779353/android-studio-3-2-alpha-17-build-failed-with-error-android-resource-linking-fa", "title": "Android Studio 3.2 alpha 17 Build failed with error: Android resource linking failed", "body": "<pre><code>    Android resource linking failed\n    Output:  /Users/$USER/$PROJECT_DIR/app/src/main/res/layout/main_fragment.xml:21: \n        error: resource drawable/ic_search_24dp \n        (aka $PACKAGE_NAME:drawable/ic_search_24dp) not found.\n\n        /Users/$USER/$PROJECT_DIR/app/src/main/res/layout/list_item.xml:20:\n        error: resource drawable/ic_send \n        (aka $PACKAGE_NAME:drawable/ic_send) not found.\n\n\n    error: failed linking file resources.\n\n    Command: /Users/$USER/.gradle/caches/transforms-1/files-1.1/aapt2-\n    3.2.0-alpha17-4804415-osx.jar/58236ee12e68217ae9214b5ecae3ebc4/aapt2\n    3.2.0-alpha17-4804415-osx/aapt2 link -I\\\n\n    /Users/$USER/Library/Android/sdk/platforms/android-27/android.jar\\\n    --manifest\\\n\n    /Users/$USER/$PROJECT_DIR/app/build/intermediates\n    /merged_manifests/debug/processDebugManifest/merged/AndroidManifest.xml\\-o\\\n\n    /Users/$USER/$PROJECT_DIR/app/build/intermediates\n    /processed_res/debug/processDebugResources/out/resources-debug.ap_\\-R\\\n\n    @/Users/$USER/$PROJECT_DIR/app/build/intermediates\n\n    /incremental/processDebugResources/resources-list-for-resources-debug.ap_.txt\\--auto-add-overlay\\--java\\\n/Users/$USER/$PROJECT_DIR/app/build\n/generated/not_namespaced_r_class_sources/debug/processDebugResources/r\\\n                    --custom-package\\\n                    $PACKAGE_NAME\\\n                    -0\\\n                    apk\\\n                    --output-text-symbols\\\n                    /Users/$USER/$PROJECT_DIR/app/build/intermediates/symbols/debug/R.txt\\\n                    --no-version-vectors\n     Daemon:  AAPT2 aapt2-3.2.0-alpha17-4804415-osx Daemon #0\n</code></pre>\n\n<p>Studio Build:</p>\n\n<ul>\n<li>Version of Gradle Plugin: 4.6</li>\n<li>Version of Android plugin: 3.2.0-alpha17</li>\n<li>Compile SDK version: API 27: Android 8.1 (Oreo)</li>\n</ul>\n\n<p>dependencies maybe related </p>\n\n<ul>\n<li>ext.kotlin_version = '1.2.41'</li>\n<li>ext.support_library_version = '27.1.1'</li>\n<li>ext.glide_version = '4.0.0-RC0'</li>\n</ul>\n\n<p>Steps to Reproduce:</p>\n\n<p>1- Build a project that has some vector-drawables under the drawable folder </p>\n\n<p>it points out that  ic_send and ic_search_24dp are not found although they exist.</p>\n"}, {"tags": ["android", "kotlin", "textview", "android-custom-view"], "answers": [{"comments": [{"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1528642150, "post_id": 50779395, "comment_id": 88576209, "body": "I am not using any layout, this is just a subclass of <code>TextView</code>"}], "tags": [], "owner": {"reputation": 147, "user_id": 9578753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4d8384cf03c7f3da0ae5bb24b24344e?s=128&d=identicon&r=PG&f=1", "display_name": "G. Adnane", "link": "https://stackoverflow.com/users/9578753/g-adnane"}, "is_accepted": false, "score": 0, "last_activity_date": 1528587062, "creation_date": 1528587062, "answer_id": 50779395, "question_id": 50779014, "link": "https://stackoverflow.com/questions/50779014/custom-textview-cant-set-gravity/50779395#50779395", "title": "Custom TextView can&#39;t set gravity", "body": "<p>it's probably due to the layout you are using, gravity work well with FrameLayout.\nIf you wanna add the ad the dot to the beggining of the text, I suggest you to use a LinearLayout as the parent of your text, and ad the dot as the first childof the view parent.</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528587062, "creation_date": 1528582912, "question_id": 50779014, "link": "https://stackoverflow.com/questions/50779014/custom-textview-cant-set-gravity", "title": "Custom TextView can&#39;t set gravity", "body": "<p>I have a custom <code>TextView</code> that simply adds a dot to the left of the text, the color of the dot is determined by an internal state. However, the gravity cannot be set (whether in the view or xml) and the text overlaps with the dot, as you can see below (I set the background color to gray). The dimensions are correctly set though. Any idea on where the problem might be? </p>\n\n<p><a href=\"https://i.stack.imgur.com/tV2UF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tV2UF.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private var radius = 10.0f\nprivate var newHeight = 0\n\noverride fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec)\n        val radiusInPixel = Math.round(TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, radius, resources.displayMetrics))\n        val diameter = 2 * radiusInPixel\n        newHeight = Math.max(measuredHeight, diameter)\n        setMeasuredDimension(measuredWidth + diameter + 30, newHeight)\n    }\n\noverride fun onDraw(canvas: Canvas) {\n    super.onDraw(canvas)\n\n    paint.color = when (status) {\n        Status.ACTIVE -&gt; Color.GREEN\n        else -&gt; Color.TRANSPARENT\n    }\n\n    canvas.drawCircle(radius, newHeight / 2f + 3, radius, paint)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 3, "creation_date": 1528581742, "post_id": 50778735, "comment_id": 88564678, "body": "and where is the stacktrace of the crash?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528597351, "post_id": 50778735, "comment_id": 88566841, "body": "Now if only you had logged the actual exception stack trace so that you actually know what goes wrong...! :D"}], "owner": {"reputation": 21, "user_id": 9342762, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0b940c8e651ef3e5b2ea669f93e79e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Paulina L", "link": "https://stackoverflow.com/users/9342762/paulina-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528580028, "creation_date": 1528580028, "question_id": 50778735, "link": "https://stackoverflow.com/questions/50778735/kotlin-android-studio-app-keeps-crashing-on-asynctask-class", "title": "Kotlin Android Studio App keeps crashing on AsyncTask class", "body": "<p>I'm trying to download an XML file but the app keeps crashing on the Downloader (strangely enough, it goes back to MainActiivty just before crashing). Here's the code: \nIn onCreate:</p>\n\n<pre><code>importButton.setOnClickListener {\n\n        downloadData()\n}\n</code></pre>\n\n<p>Later, in the activities' class</p>\n\n<pre><code>fun downloadData() {\n    val cd = XMLDownloader()\n    cd.execute(sInf!!.getURLprefix(),sInf!!.getSetID().toString())\n}\n\nprivate inner class XMLDownloader : AsyncTask&lt;String, Int, String&gt;() {\n    override fun doInBackground(vararg params: String?): String {\n\n        try {\n            val url = URL(params[0]+params[1]+\".xml\")\n            val connection = url.openConnection()\n            connection.connect()\n            val lenghtOfFile = connection.contentLength\n            val isStream = url.openStream()\n            val testDirectory = File(\"$filesDir/XML\")\n            if (!testDirectory.exists()) testDirectory.mkdir()\n            val fos = FileOutputStream(\"$testDirectory/\"+params[1]+\".xml\")\n            val data = ByteArray( 1024)\n            var count = 0\n            var total: Long = 0\n            var progress = 0\n            count = isStream.read(data)\n            while (count != -1) {\n                total += count.toLong()\n                val progress_temp = total.toInt() * 100 / lenghtOfFile\n                if (progress_temp % 10 == 0 &amp;&amp; progress != progress_temp) {\n                    progress = progress_temp\n                }\n                fos.write(data, 0, count)\n                count = isStream.read(data)\n            }\n            isStream.close()\n            fos.close()\n        } catch (e: MalformedURLException) {\n            return \"Malformed URL\"\n        } catch (e: FileNotFoundException) {\n            return \"File not found\"\n        } catch (e: IOException) {\n            return \"IOException\"\n        }\n        return \"success\"\n    }\n}\n</code></pre>\n\n<p>What could be going wrong?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "is_accepted": false, "score": 0, "last_activity_date": 1528579390, "creation_date": 1528579390, "answer_id": 50778672, "question_id": 50778554, "link": "https://stackoverflow.com/questions/50778554/add-background-image-to-recyclerview-that-moves-with-scrolling/50778672#50778672", "title": "Add background image to RecyclerView that moves with scrolling", "body": "<p>Okay, I solved the sudden appearance/disappearance problem by giving the <code>RecyclerView</code> a -150dp <code>layout_marginBottom</code>. Now the recycler view extends below the screen and the first item persists until it goes offscreen. I then set 150dp <code>paddingBottom</code> to compensate for content loss at the bottom.</p>\n\n<p>Now everything works perfectly. But I consider this approach a little hacky, and would love to see more ideas</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528579390, "creation_date": 1528578505, "question_id": 50778554, "link": "https://stackoverflow.com/questions/50778554/add-background-image-to-recyclerview-that-moves-with-scrolling", "title": "Add background image to RecyclerView that moves with scrolling", "body": "<p>I am trying to add background images, partially covered, to a scrollable view that move along with it. What's the best way to do that?</p>\n\n<p>Below is my attempt. I created an image item, and set the item just below the image to have a negative offset at the top by using <code>ItemDecoration</code>. However, as you can see, the item suddenly appears and disappears. </p>\n\n<p>My second idea is just to lump the image and first item into one single item, but that seems less clean. Anybody has some good suggestions?</p>\n\n<p><a href=\"https://i.stack.imgur.com/KovcD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KovcD.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1528568534, "post_id": 50777063, "comment_id": 88561501, "body": "Where are you defining <code>myEmail</code>?"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1528568808, "post_id": 50777063, "comment_id": 88561569, "body": "@cricket_007 with <code>Kotlin</code> the <code>findViewById</code> is no more required"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 1, "creation_date": 1528568989, "post_id": 50777063, "comment_id": 88561620, "body": "@HasanAYousef it&#39;s depends upon whether OP is using kotlin extension or not"}], "answers": [{"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1528569343, "last_edit_date": 1528569343, "creation_date": 1528568391, "answer_id": 50777269, "question_id": 50777063, "link": "https://stackoverflow.com/questions/50777063/email-appear-as-null/50777269#50777269", "title": "Email appear as null", "body": "<p>Fetch the input, when the button is clicked otherwise <code>onactivitycreated</code> executes and there is no input in edittext and gives you <code>null</code>.</p>\n\n<p>Take the input from edittext when user press the button and input is available in edittext, as shown below</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        val auth = FirebaseAuth.getInstance()\n\n\n        reset.setOnClickListener {\n            Toast.makeText(context, \"Email entered is: $email\", Toast.LENGTH_SHORT).show()\n\n            val email = myEmail.text.toString().trim()\n            //^^^^^^^^^^^^^^^^^^^^^^^^^\n            auth.sendPasswordResetEmail(email)\n                    .addOnCompleteListener({ task -&gt;\n                        if (task.isSuccessful) {\n                            Toast.makeText(context, \"We have sent you instructions to reset your password!\", Toast.LENGTH_SHORT).show()\n                        } else {\n                            Toast.makeText(context, \"Failed to send reset email!: ${task.exception}\", Toast.LENGTH_SHORT).show()\n                        }\n                    })\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1528569756, "creation_date": 1528569756, "answer_id": 50777452, "question_id": 50777063, "link": "https://stackoverflow.com/questions/50777063/email-appear-as-null/50777452#50777452", "title": "Email appear as null", "body": "<p>Kotlin doesn't have 'lazy evaluation' :-) so you should get the email value inside <code>reset.setOnClickListener</code>, or the value will be gotten when <code>onActivityCreated</code> is executing, and not modified at the rest of execution including clicking the button.</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 50777269, "answer_count": 2, "score": 1, "last_activity_date": 1528569756, "creation_date": 1528566954, "last_edit_date": 1528567757, "question_id": 50777063, "link": "https://stackoverflow.com/questions/50777063/email-appear-as-null", "title": "Email appear as null", "body": "<p>I've the below <code>XML</code> form for password reset, where the user enter the email and click submit:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.main.LoginFragment\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:background=\"@color/colorPrimaryDark\"\n        android:gravity=\"center\"\n        android:orientation=\"vertical\"\n        android:padding=\"@dimen/activity_horizontal_margin\"&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/hello_blank_fragment\" /&gt;\n\n        &lt;EditText                               // This is read as null!\n            android:id=\"@+id/myEmail\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:ems=\"10\"\n            android:inputType=\"textEmailAddress\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/reset\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Reset\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>And in the fragment file, I've:</p>\n\n<pre><code>class ResetPasswordFragment : Fragment() {\n    companion object {\n        fun newInstance() = ResetPasswordFragment()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View {\n        return inflater.inflate(R.layout.fragment_reset_password, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        val auth = FirebaseAuth.getInstance()\n\n        val email = myEmail.text.toString().trim()   // This is null!\n\n        reset.setOnClickListener {\n            Toast.makeText(context, \"Email entered is: $email\", Toast.LENGTH_SHORT).show()\n\n            auth.sendPasswordResetEmail(email)\n                    .addOnCompleteListener({ task -&gt;\n                        if (task.isSuccessful) {\n                            Toast.makeText(context, \"We have sent you instructions to reset your password!\", Toast.LENGTH_SHORT).show()\n                        } else {\n                            Toast.makeText(context, \"Failed to send reset email!: ${task.exception}\", Toast.LENGTH_SHORT).show()\n                        }\n                    })\n        }\n    }\n}\n</code></pre>\n\n<p>In the <code>val email = myEmail.text.toString().trim()</code> it gives <code>null</code>, while <code>val email = myEmail.text</code> is showing the correct input as <code>Editable</code>, but this not accepted by the <code>auth.sendPasswordResetEmail(email)</code> as the input is required to be <code>String</code></p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "android-lifecycle"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1528573010, "post_id": 50776321, "comment_id": 88562660, "body": "thank you very much, the 1st line in the docs ran out of my eyes"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1528573196, "post_id": 50776321, "comment_id": 88562710, "body": "glad I could help you :)"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 3, "last_activity_date": 1528562036, "last_edit_date": 1528562036, "creation_date": 1528561672, "answer_id": 50776321, "question_id": 50776292, "link": "https://stackoverflow.com/questions/50776292/how-to-get-the-version-for-lifecycle-libraries-in-gradle/50776321#50776321", "title": "How to get the version for lifecycle libraries in Gradle?", "body": "<p>You specify a variable directly into your app level build.gradle file:</p>\n\n<pre><code> def lifecycle_version = \"1.1.1\"\n</code></pre>\n\n<p>Some projects configure this in the project level build.gradle file like so:</p>\n\n<pre><code>ext {\n    dagger = '2.16'\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>implementation \"com.google.dagger:dagger:${dagger}\"\nimplementation \"com.google.dagger:dagger-android-support:${dagger}\"\n</code></pre>\n\n<p>Finally, if you don't want to use variables you can simply use the version name instead:</p>\n\n<pre><code>implementation \"android.arch.lifecycle:viewmodel:1.1.1\"\n</code></pre>\n\n<p>You can check what is the current version in the Arch Components <a href=\"https://developer.android.com/topic/libraries/architecture/adding-components\" rel=\"nofollow noreferrer\">docs</a> and <a href=\"https://developer.android.com/jetpack/docs/release-notes\" rel=\"nofollow noreferrer\">notes</a>.</p>\n\n<p>For lifecycle the current version is <strong>1.1.1</strong> if you're not using AndroidX</p>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1528561900, "post_id": 50776337, "comment_id": 88559619, "body": "thanks so much, I wanted to know where did you get the version from ?"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1528564062, "post_id": 50776337, "comment_id": 88560259, "body": "For reference, the ext block does not need to be in the android block. I will often put all my versions in an ext block in my root build file."}], "tags": [], "owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "is_accepted": false, "score": 1, "last_activity_date": 1528561928, "last_edit_date": 1528561928, "creation_date": 1528561794, "answer_id": 50776337, "question_id": 50776292, "link": "https://stackoverflow.com/questions/50776292/how-to-get-the-version-for-lifecycle-libraries-in-gradle/50776337#50776337", "title": "How to get the version for lifecycle libraries in Gradle?", "body": "<p>You need to define version.</p>\n\n<pre><code>android {\n    ....\n    ext {\n        lifecycle_version = \"1.1.1\"\n    }\n}\n\n\n\ndependencies {\nimplementation \"android.arch.lifecycle:viewmodel:$lifecycle_version\"\n  }\n</code></pre>\n\n<p>Or just use </p>\n\n<pre><code>implementation \"android.arch.lifecycle:viewmodel:1.1.1\"\n</code></pre>\n\n<p>Check <a href=\"https://developer.android.com/jetpack/docs/release-notes\" rel=\"nofollow noreferrer\">Architecture Components Release Notes</a> for latest version and new features. </p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 50776321, "answer_count": 2, "score": 2, "last_activity_date": 1528562036, "creation_date": 1528561493, "last_edit_date": 1528561552, "question_id": 50776292, "link": "https://stackoverflow.com/questions/50776292/how-to-get-the-version-for-lifecycle-libraries-in-gradle", "title": "How to get the version for lifecycle libraries in Gradle?", "body": "<p>In Android documentation it's written that we might add dependencies for ViewModel into Gradle like this:</p>\n\n<pre><code>implementation \"android.arch.lifecycle:viewmodel:$lifecycle_version\" // use -ktx for Kotlin\n</code></pre>\n\n<p>However, I really cannot find the way to specify the lifecycle_version. I've already tried with File -> Project Structure -> app -> Dependencies -> Add button doesn't work.</p>\n\n<p>It may be too straightforward, but I really can't find a way.</p>\n"}, {"tags": ["java", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 1, "creation_date": 1528562828, "post_id": 50776147, "comment_id": 88559896, "body": "Try making the kotlin class and methods open, and check if that help with final methods in bytecode"}, {"owner": {"reputation": 8735, "user_id": 511837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZOTKx.png?s=128&g=1", "display_name": "igr", "link": "https://stackoverflow.com/users/511837/igr"}, "reply_to_user": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 0, "creation_date": 1528566797, "post_id": 50776147, "comment_id": 88560990, "body": "True. Using <code>open</code> helped."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "edited": false, "score": 0, "creation_date": 1528609741, "post_id": 50776147, "comment_id": 88568552, "body": "It&#39;s not totally clear what you&#39;re asking here. The bytecode of Kotlin classes should be comparable with that of Java classes, so it should work the same way. What&#39;s the specific issue you&#39;re having?"}], "answers": [{"tags": [], "owner": {"reputation": 8735, "user_id": 511837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZOTKx.png?s=128&g=1", "display_name": "igr", "link": "https://stackoverflow.com/users/511837/igr"}, "is_accepted": true, "score": 0, "last_activity_date": 1528611443, "creation_date": 1528611443, "answer_id": 50781066, "question_id": 50776147, "link": "https://stackoverflow.com/questions/50776147/make-proxy-on-kotlin-class-from-a-java-library-using-asm/50781066#50781066", "title": "Make proxy on Kotlin class from a Java library using ASM", "body": "<p>The issue I had was that generated classes and methods are <code>final</code>. The ASM code I am using was not processing final methods as they can not be overwritten.</p>\n\n<p>The solution is to mark classes and functions in Kotlin as <code>open</code>. You can do this manually or using <code>all-open</code> plugin.</p>\n\n<p>Here is a page that explains the issue: <a href=\"https://blog.frankel.ch/open-your-classes-and-methods-in-kotlin/\" rel=\"nofollow noreferrer\">https://blog.frankel.ch/open-your-classes-and-methods-in-kotlin/</a></p>\n"}], "owner": {"reputation": 8735, "user_id": 511837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZOTKx.png?s=128&g=1", "display_name": "igr", "link": "https://stackoverflow.com/users/511837/igr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 50781066, "answer_count": 1, "score": 2, "last_activity_date": 1528611443, "creation_date": 1528560563, "last_edit_date": 1528562180, "question_id": 50776147, "link": "https://stackoverflow.com/questions/50776147/make-proxy-on-kotlin-class-from-a-java-library-using-asm", "title": "Make proxy on Kotlin class from a Java library using ASM", "body": "<p>I have a Java library that creates a proxy using ASM.</p>\n\n<p>At one point, user sends a Kotlin class to it. I can detect it is a Kotlin class from Java, but I don't know how can I make a proxy from it? Everything what I read from such class is meaningless.</p>\n\n<p>The scenario is the following</p>\n\n<ul>\n<li>user sends a Kotlin class</li>\n<li>I make a proxy</li>\n<li>finally, I make an instance of such class</li>\n</ul>\n\n<p>what would be the best way to do so?</p>\n\n<h3>EDIT</h3>\n\n<p>I just realized that one of the reasons why I can't override Kotlin functions is because they are generated as <code>final</code> methods in the bytecode. Is there a way to tell Kotlin not to do so?</p>\n"}, {"tags": ["java", "android", "view", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 663, "user_id": 2930101, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UYXdd.png?s=128&g=1", "display_name": "OneEyeQuestion", "link": "https://stackoverflow.com/users/2930101/oneeyequestion"}, "edited": false, "score": 0, "creation_date": 1528561071, "post_id": 50776206, "comment_id": 88559368, "body": "Yes, I am aware of that, the problem is that since it is an expandable layout (CardView) that doesn&#39;t work since to expand to full height I need to recalculate the real size of the parent with its new children, if not the parent will hide the children as it will never expand to the new heigh"}, {"owner": {"reputation": 666, "user_id": 1504495, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8226649f8318644633d44a646f5cd10d?s=128&d=identicon&r=PG", "display_name": "user1504495", "link": "https://stackoverflow.com/users/1504495/user1504495"}, "reply_to_user": {"reputation": 663, "user_id": 2930101, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UYXdd.png?s=128&g=1", "display_name": "OneEyeQuestion", "link": "https://stackoverflow.com/users/2930101/oneeyequestion"}, "edited": false, "score": 0, "creation_date": 1528561481, "post_id": 50776206, "comment_id": 88559488, "body": "Sorry about that, I remember it working with any ViewGroup."}], "tags": [], "owner": {"reputation": 666, "user_id": 1504495, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8226649f8318644633d44a646f5cd10d?s=128&d=identicon&r=PG", "display_name": "user1504495", "link": "https://stackoverflow.com/users/1504495/user1504495"}, "is_accepted": false, "score": 0, "last_activity_date": 1528560875, "creation_date": 1528560875, "answer_id": 50776206, "question_id": 50776145, "link": "https://stackoverflow.com/questions/50776145/add-views-dynamically-and-resize-parent-viewgroup/50776206#50776206", "title": "Add views dynamically and resize parent ViewGroup", "body": "<p>Try taking a look at <a href=\"https://developer.android.com/training/animation/layout\" rel=\"nofollow noreferrer\">animateLayoutChanges</a>.</p>\n\n<p>It looks right for what you're trying to achieve and should remove the hassle of calculating the height and animating by yourself.</p>\n"}], "owner": {"reputation": 663, "user_id": 2930101, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UYXdd.png?s=128&g=1", "display_name": "OneEyeQuestion", "link": "https://stackoverflow.com/users/2930101/oneeyequestion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528609994, "creation_date": 1528560557, "last_edit_date": 1528609994, "question_id": 50776145, "link": "https://stackoverflow.com/questions/50776145/add-views-dynamically-and-resize-parent-viewgroup", "title": "Add views dynamically and resize parent ViewGroup", "body": "<p>\nI am trying to create an expandable/collapsable <code>CardView</code> (root layout) into which I will add views dynamically to a vertical LinearLayout (parent layout), specifically TextInputLayouts. After adding a view I want to resize the layout animating the process to accommodate the new added view. What I am doing is:</p>\n\n<ol>\n<li>Call <code>removeAllViews()</code> of the parent</li>\n<li>Iterate over some objects, initialize child views and added them with <code>addView()</code></li>\n<li><p>Calculate the new height as:</p>\n\n<pre><code>val previousMeasuredHeight = parentLayout.measuredHeight\nparentLayout.measure(View.MeasureSpec.UNSPECIFIED, View.MeasureSpec.UNSPECIFIED)\n</code></pre></li>\n<li><p>Animate the parent layout to the new height as:</p>\n\n<pre><code>val animator = ValueAnimator.ofInt(previousMeasuredHeight, measuredHeight)\nanimator.addUpdateListener { valueAnimator -&gt;\n    layoutParams.height = valueAnimator.animatedValue as Int\n    setLayoutParams(layoutParams)\n}\nanimator.start()\n</code></pre></li>\n</ol>\n\n<p>I am facing two problems with this:</p>\n\n<ol>\n<li>When the error label of the TextInputLayout must be shown it isn't visible because the parent isn't big enough to account for the height taken up by the error label. I guess this has something to do with using <code>getMeasuredHeight()</code> instead the correct method to calculate total required height</li>\n<li>When I add more views and expand the parent layout, only the last added view is visible as it sits on the top of the parent layout</li>\n</ol>\n\n<p>I tried also using a <code>RecyclerView</code> but there are also problems such as when an item is added it is not shown, or the parent layout doesn't resize correctly</p>\n\n<p>How do I solve those problems?</p>\n"}, {"tags": ["kotlin", "bytecode"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1528561674, "post_id": 50775730, "comment_id": 88559549, "body": "@cricket_007 No you can&#39;t"}, {"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1528584111, "post_id": 50775730, "comment_id": 88565140, "body": "@cricket_007 as mentioned you can&#39;t because <code>b</code> can be null so unless we use <code>==</code> or handle the nullable somehow (like using the <i>elvis operator</i>) it won&#39;t  compile"}], "answers": [{"tags": [], "owner": {"reputation": 33471, "user_id": 1420279, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c799e8b3d14c4f149ce71455109f17eb?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1420279/antimony"}, "is_accepted": true, "score": 4, "last_activity_date": 1528559035, "creation_date": 1528559035, "answer_id": 50775936, "question_id": 50775730, "link": "https://stackoverflow.com/questions/50775730/kotlin-how-does-boolean-in-if-expression-works-on-bytecode/50775936#50775936", "title": "Kotlin - How does Boolean? in if expression works on bytecode", "body": "<p><code>Boolean.valueOf</code> is being called on the constant <code>true</code> in order to create a boxed Boolean object. This is then compared to the one passed to the function.</p>\n"}], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 50775936, "answer_count": 1, "score": 1, "last_activity_date": 1528559035, "creation_date": 1528557375, "question_id": 50775730, "link": "https://stackoverflow.com/questions/50775730/kotlin-how-does-boolean-in-if-expression-works-on-bytecode", "title": "Kotlin - How does Boolean? in if expression works on bytecode", "body": "<p>I know the idiom for consuming nullable Booleans in Kotlin is:</p>\n\n<pre><code>fun nullableBoolean(b: Boolean?) {\n    if (b == true) {\n        println(\"is true\")\n    }\n}\n</code></pre>\n\n<p>I'm curious about what happens under the hood. This is the interesting part of the generated bytecode for this function:</p>\n\n<pre><code>public final static nullableBoolean(Ljava/lang/Boolean;)V\n    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0\n   L0\n    LINENUMBER 4 L0\n    ALOAD 0\n    ICONST_1\n    INVOKESTATIC java/lang/Boolean.valueOf (Z)Ljava/lang/Boolean;\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.areEqual (Ljava/lang/Object;Ljava/lang/Object;)Z\n    IFEQ L1\n    ...\n</code></pre>\n\n<p>I can see that <code>Intrinsics.areEqual</code> does a null check. But I don't understand what happens with the call to <code>java/lang/Boolean.valueOf</code> when the reference is <code>null</code></p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 0, "last_activity_date": 1528554088, "last_edit_date": 1592644375, "creation_date": 1528554088, "answer_id": 50775225, "question_id": 50775034, "link": "https://stackoverflow.com/questions/50775034/firebase-database-eventlistener-outside-of-an-activity/50775225#50775225", "title": "Firebase Database EventListener outside of an activity", "body": "<p>Most likely the data simply hasn't been loaded yet when you call <code>getUserSnap</code>. To verify this, add a few more log statements:</p>\n<pre><code>Log.i(TAG, &quot;Starting to read from database.&quot;)\n\nuserRef.addValueEventListener(object : ValueEventListener {\n    override fun onCancelled(e: DatabaseError) {\n        Log.e(TAG, &quot;Data could not be retrieved from Database.&quot; + e.message)\n    }\n\n    override fun onDataChange(snap: DataSnapshot) { // is never executed\n        Log.i(TAG, &quot;User read from database.&quot;)\n        userSnap = snap \n    }\n\n})\n\npublic fun getUserSnap(): DataSnapshot {\n    Log.i(TAG, &quot;Getting user.&quot;)\n    return userSnap // returns null\n}\n</code></pre>\n<p>When you run your app with this the output will likely be:</p>\n<blockquote>\n<p>Starting to read from database.</p>\n<p>Getting user.</p>\n<p>User read from database.</p>\n</blockquote>\n<p>That is probably not the order you expected. Firebase loads data from the database asynchronously, since it may take some time for the results to be available. Instead of making your app wait (which would trigger an Application Not Responding dialog), your code is allowed to continue. Bu the time you call <code>getUserSnap</code>, that user hasn't been loaded yet.</p>\n<p>The simplest solution is to move all the code that needs access to the user <em>into</em> the <code>onDataChange()</code> method. Also see my answer to this question for a more flexible solution, that requires more code: <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7136652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXjfMqcgK_w/AAAAAAAAAAI/AAAAAAAAAbY/ZZvmVBkVtr4/photo.jpg?sz=128", "display_name": "Konai Thurgau", "link": "https://stackoverflow.com/users/7136652/konai-thurgau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528554460, "creation_date": 1528552668, "last_edit_date": 1528554460, "question_id": 50775034, "link": "https://stackoverflow.com/questions/50775034/firebase-database-eventlistener-outside-of-an-activity", "title": "Firebase Database EventListener outside of an activity", "body": "<p>I am new to Android and Kotlin and I want to implement a FirebaseRetriever class in my project that returns a specific database snapshot.</p>\n\n<p>Now I am having issues that the EventListener is never triggered and so, of course, I get a null object back.</p>\n\n<p>Here is my data class:</p>\n\n<pre><code>public class FirebaseRetriever() {\n\n    private val TAG = \"FirebaseRetriever\"\n    private lateinit var fbData: FirebaseDatabase\n    private lateinit var fbAuth: FirebaseAuth\n    private lateinit var userRef: DatabaseReference\n    //Snapshots\n    private lateinit var userSnap: DataSnapshot\n\n    init {\n        fbData = FirebaseDatabase.getInstance()\n        userRef = fbData.reference.child(\"users\")\n        fbAuth = FirebaseAuth.getInstance()\n\n        userRef.addValueEventListener(object : ValueEventListener {\n            override fun onCancelled(e: DatabaseError) {\n                Log.e(TAG, \"Data could not be retrieved from Database.\" + e.message)\n            }\n\n            override fun onDataChange(snap: DataSnapshot) { // is never executed\n                userSnap = snap \n            }\n\n        })\n    }\n\n    public fun getUserSnap(): DataSnapshot {\n        return userSnap // returns null\n    }\n}\n</code></pre>\n\n<p>This is how I call the getUser():</p>\n\n<pre><code>firebaseRetriever = FirebaseRetriever()\n...\nval uniSnap = firebaseRetriever.getUniSnap()\n</code></pre>\n\n<p>Is it possible that a Firebase EventListener can only work in a regular AndroidActivity or am I doing something else wrong?</p>\n\n<p>Thanks in advance.</p>\n"}]